this.ej=this.ej||{},this.ej.angularbase=function(e,t,n){"use strict";function i(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(n){(!Object.prototype.hasOwnProperty.call(e.prototype,n)||t.isFormBase&&"constructor"!==n)&&(e.prototype["".concat(n)]=t.prototype["".concat(n)])})})}function r(e){return function(t){i(t,e)}}function s(e,t,i){var r={};if(e&&e.length){for(var s=0,a=e;s<a.length;s++){var o=a[s];!0===i?(t.propCollection["".concat(o)]=new n.EventEmitter(!1),t["".concat(o)]=t.propCollection["".concat(o)]):r["".concat(o)]=new n.EventEmitter(!1)}!0!==i&&t.setProperties(r,!0)}}function a(e,n,i){var r,s=Object.keys(e.registeredTemplate);if(s.length)for(var a=n&&n.filter(function(e){return!/\./g.test(e)}),o=/tab|accordion|toolbar/.test(null===(r=e.getModuleName)||void 0===r?void 0:r.call(e)),l=0,p=a&&a||s;l<p.length;l++){var c=p[l];if(i&&i.length)for(var h=0;h<i.length;h++)if(o)for(m=0;m<e.registeredTemplate["".concat(c)].length;m++)(g=e.registeredTemplate["".concat(c)][parseInt(m.toString(),10)])&&g===i["".concat(h)]&&(g.destroy(),e.registeredTemplate["".concat(c)].splice(m,1));else for(m=0;m<e.registeredTemplate.template.length;m++){var g=e.registeredTemplate.template[parseInt(m.toString(),10)].rootNodes[0];g===i["".concat(h)]&&(d=e.registeredTemplate["".concat(c)])[parseInt(m.toString(),10)].destroy()}else if(e.registeredTemplate["".concat(c)])for(var u=0,f=e.registeredTemplate["".concat(c)];u<f.length;u++){var d=f[u];if(!d.destroyed){if(d._view){var v=d._view.renderer.parentNode(d.rootNodes[0]);if(!t.isNullOrUndefined(v))for(var m=0;m<d.rootNodes.length;m++)v.appendChild(d.rootNodes[parseInt(m.toString(),10)])}d.destroy()}}o&&i||delete e.registeredTemplate["".concat(c)]}for(var C=0,y=e.tagObjects;C<y.length;C++)!function(e){e.instance&&e.instance.clearTemplate(n&&n.filter(function(t){return!!new RegExp(e.name).test(t)}))}(y[C])}function o(e,t,n){for(var i=e.replace(/\[/g,".").replace(/\]/g,"").split("."),r=n||{},s=0;s<i.length;s++){var a=i[parseInt(s.toString(),10)];s+1===i.length?r["".concat(a)]=void 0===t?{}:t:void 0===r["".concat(a)]&&(r["".concat(a)]={}),r=r["".concat(a)]}return r}function l(e,n){if("string"==typeof e||"function"==typeof e&&e.prototype&&e.prototype.CSPTemplate)return m(e,n);var i=e.elementRef.nativeElement._viewContainerRef,r=e.elementRef.nativeElement.propName;return function(n,s,a){var o={$implicit:n},l=i||s.viewContainerRef,p=l.createEmbeddedView(e,o);/EJS-MENTION|EJS-DROPDOWNLIST/.test(t.getValue("currentInstance.element.nodeName",l))||/E-TABITEM/.test(t.getValue("element.nativeElement.nodeName",l))&&t.getValue("currentInstance.headerTemplateRef",l)?p.detectChanges():p.markForCheck();var c=s&&s.registeredTemplate?s.registeredTemplate:t.getValue("currentInstance.registeredTemplate",l);return a=a&&s.registeredTemplate?a:r,void 0===c["".concat(a)]&&(c["".concat(a)]=[]),c["".concat(a)].push(p),p.rootNodes}}function p(e){return function(t,n){var i={set:c(n),get:h(n,e),enumerable:!0,configurable:!0};Object.defineProperty(t,n,i)}}function c(e){return function(n){void 0!==n&&(t.setValue(e+"Ref",n,this),"string"!=typeof n?(n.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,n.elementRef.nativeElement.propName=e):this.saveChanges&&(this.saveChanges(e,n,void 0),this.dataBind()))}}function h(e,n){return function(){return t.getValue(e+"Ref",this)||n}}var g=/Ref$/,u=function(){function e(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}return e.prototype.ngOnInit=function(){this.registeredTemplate={};for(var e=0,n=this.tags;e<n.length;e++){var i=n[e],r=t.getValue("child"+i.substring(0,1).toUpperCase()+i.substring(1),this);r&&this.tagObjects.push({instance:r,name:i})}for(var s=Object.keys(this),a=0;a<s.length;a++){var o=t.getValue(s[parseInt(a.toString(),10)],this);"object"==typeof o&&o&&o.elementRef&&(t.getValue(-1!==s[parseInt(a.toString(),10)].indexOf("Ref")?s[parseInt(a.toString(),10)]:s[parseInt(a.toString(),10)]+"Ref",this)||t.setValue(-1!==s[parseInt(a.toString(),10)].indexOf("Ref")?s[parseInt(a.toString(),10)]:s[parseInt(a.toString(),10)]+"Ref",o,this),!t.getValue("viewContainerRef",this)||t.getValue("_viewContainerRef",o.elementRef.nativeElement)||t.getValue("propName",o.elementRef.nativeElement)||(t.setValue("_viewContainerRef",t.getValue("viewContainerRef",this),o.elementRef.nativeElement),t.setValue("propName",s[parseInt(a.toString(),10)].replace("Ref",""),o.elementRef.nativeElement)))}for(var l=0,p=s=(s=Object.keys(this)).filter(function(e){return/Ref$/i.test(e)});l<p.length;l++){var c=p[l].replace("Ref","");t.setValue(c.replace("_","."),t.getValue(c,this),this.propCollection)}var h=Object.keys(this);if(this.directivePropList){for(var g=0;g<this.directivePropList.length;g++){var u=this.directivePropList[parseInt(g.toString(),10)];-1===h.indexOf(u)||!1!==t.getValue(u,this)&&!t.getValue(u,this)||t.setValue(u,t.getValue(u,this),this.propCollection)}this.hasChanges=!0}this.isInitChanges=!0},e.prototype.registerEvents=function(e){s(e,this,!0)},e.prototype.ngOnChanges=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t],r=e["".concat(i)];this.propCollection["".concat(i)]=r.currentValue}this.isUpdated=!1,this.hasChanges=!0},e.prototype.clearTemplate=function(e){a(this,e)},e.prototype.getProperties=function(){for(var e=0,t=this.tagObjects;e<t.length;e++){var n=t[e];this.propCollection[n.name]=n.instance.getProperties()}return this.propCollection},e.prototype.isChanged=function(){var e=this.hasChanges;if(!t.isNullOrUndefined(this.propCollection[this.property]))for(var n=this.propCollection[this.property],i=Object.keys(n[0]),r=0;r<i.length;r++)if(!t.isNullOrUndefined(this.propCollection[i[parseInt(r.toString(),10)]])){var s=t.getValue(i[parseInt(r.toString(),10)],this),a=this.propCollection[this.property][0][i[parseInt(r.toString(),10)]];t.isNullOrUndefined(s)||this.propCollection[i[parseInt(r.toString(),10)]]===s||a===s||(t.setValue(i[parseInt(r.toString(),10)],s,this.propCollection[this.property][0]),t.setValue(i[parseInt(r.toString(),10)],s,this.propCollection),this.hasChanges=!0,this.isUpdated=!1)}for(var o=0,l=this.tagObjects;o<l.length;o++){var p=l[o];e=e||p.instance.hasChanges}return e||this.hasChanges},e.prototype.ngAfterContentChecked=function(){if(this.hasChanges=this.isChanged(),this.isInitChanges||this.hasChanges)for(var e=Object.keys(this),n=0,i=e=e.filter(function(e){return g.test(e)});n<i.length;n++){var r=i[n].replace("Ref","");t.setValue(r.replace("_","."),t.getValue(r,this),this.propCollection)}},e.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},e.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},e.prototype.ngOnDestroy=function(){this.directivePropList=[]},e}(),f=function(){function e(e){this.list=[],this.hasChanges=!1,this.propertyName=e}return e.prototype.ngOnInit=function(){this.isInitChanges=!0},e.prototype.ngAfterContentInit=function(){var e=this,t=0;this.list=this.children.map(function(n){return n.dirIndex=t++,n.property=e.propertyName,n}),this.hasChanges=!0},e.prototype.getProperties=function(){for(var e=[],t=0,n=this.list;t<n.length;t++){var i=n[t];e.push(i.getProperties())}return e},e.prototype.isChanged=function(){var e=this,t=!1,n=0,i=!1,r=this.children.map(function(e){return e});if(this.list.length===this.children.length)for(var s=0;s<this.list.length;s++)this.list[parseInt(s.toString(),10)].propCollection.dataSource&&(this.list[parseInt(s.toString(),10)].dataSource&&this.list[parseInt(s.toString(),10)].propCollection.dataSource!==this.list[parseInt(s.toString(),10)].dataSource&&(this.list[parseInt(s.toString(),10)].propCollection.dataSource=this.list[parseInt(s.toString(),10)].dataSource,this.list[parseInt(s.toString(),10)].hasChanges=!0),"series"!==this.list[parseInt(s.toString(),10)].property&&(i=JSON.stringify(this.list[parseInt(s.toString(),10)].propCollection.dataSource)!==JSON.stringify(r[parseInt(s.toString(),10)].propCollection.dataSource))),i=this.list[parseInt(s.toString(),10)].hasChanges!==r[parseInt(s.toString(),10)].hasChanges;this.hasNewChildren=!(this.list.length===this.children.length&&!i)||null,this.hasNewChildren&&(this.list=this.children.map(function(t){return t.dirIndex=n++,t.property=e.propertyName,t}));for(var a=0,o=this.list;a<o.length;a++){var l=o[a];t=t||l.hasChanges}return!!this.list.length&&t},e.prototype.clearTemplate=function(e){for(var t=this,n=0,i=this.list;n<i.length;n++)i[n].clearTemplate(e&&e.map(function(e){return new RegExp(t.propertyName).test(e)?e.replace(t.propertyName+".",""):e}))},e.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var e=0;e<this.list.length;e++)t.getValue("childColumns",this.list[parseInt(e.toString(),10)])&&"columns"===t.getValue("property",this.list[parseInt(e.toString(),10)])&&t.setValue("columns",t.getValue("childColumns",this.list[parseInt(e.toString(),10)]).getProperties(),this.list[parseInt(e.toString(),10)].propCollection),this.list[parseInt(e.toString(),10)].isUpdated=!0},e.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},e.prototype.ngOnDestroy=function(){this.list=[]},e}(),d=function(){function e(){this.isProtectedOnChange=!0,this.isFormInit=!0}return e.prototype.saveChanges=function(e,t,n){if(!this.isProtectedOnChange){this.oldProperties["".concat(e)]=n,this.changedProperties["".concat(e)]=t,this.finalUpdate();var i=setTimeout(this.dataBind.bind(this)),r=function(){clearTimeout(i)};this.finalUpdate=r}},e.prototype.ngOnInit=function(e){var n=e||this;n.registeredTemplate={},n.ngBoundedEvents={},n.isAngular=!0,n.isFormInit=!0,e&&(this.tags=e.tags),n.tags=this.tags||[],n.complexTemplate=this.complexTemplate||[],n.tagObjects=[],n.ngAttr=this.getAngularAttr(n.element),n.createElement=function(e,i){var r=n.srenderer?n.srenderer.createElement(e):t.createElement(e);return void 0===i?r:(r.innerHTML=i.innerHTML?i.innerHTML:"",void 0!==i.className&&(r.className=i.className),void 0!==i.id&&(r.id=i.id),void 0!==i.styles&&r.setAttribute("style",i.styles),void 0!==n.ngAttr&&r.setAttribute(n.ngAttr,""),void 0!==i.attrs&&t.attributes(r,i.attrs),r)};for(var i=0,r=n.tags;i<r.length;i++){var s=r[i],a={instance:t.getValue("child"+s.substring(0,1).toUpperCase()+s.substring(1),n),name:s};n.tagObjects.push(a)}for(var o=Object.keys(n),l=0;l<o.length;l++){var p=t.getValue(o[parseInt(l.toString(),10)],n);"object"==typeof p&&p&&p.elementRef&&("object"==typeof p&&p&&p.elementRef&&-1!==o[parseInt(l.toString(),10)].indexOf("_")&&-1===o[parseInt(l.toString(),10)].indexOf("Ref")&&t.setValue(o[parseInt(l.toString(),10)]+"Ref",p,n),!n.viewContainerRef||t.getValue("_viewContainerRef",p.elementRef.nativeElement)||t.getValue("propName",p.elementRef.nativeElement)||(t.setValue("_viewContainerRef",n.viewContainerRef,p.elementRef.nativeElement),t.setValue("propName",o[parseInt(l.toString(),10)].replace("Ref",""),p.elementRef.nativeElement)))}for(var c=0,h=o=(o=Object.keys(n)).filter(function(e){return/Ref$/i.test(e)&&/_/i.test(e)});c<h.length;c++){var g=h[c].replace("Ref",""),u={};t.setValue(g.replace("_","."),t.getValue(g,n),u),n.setProperties(u,!0)}},e.prototype.getAngularAttr=function(e){for(var t,n=e.attributes,i=n.length,r=0;r<i;r++)/_ngcontent/g.test(n[parseInt(r.toString(),10)].name)&&(t=n[parseInt(r.toString(),10)].name);return t},e.prototype.ngAfterViewInit=function(e){var n=e||this;/ejs-tab|ejs-accordion/g.test(n.ngEle.nativeElement.outerHTML)&&(n.ngEle.nativeElement.style.visibility="hidden");var i=Object.keys(n);i=i.filter(function(e){return/Ref$/i.test(e)});for(var r="DocumentEditor"===n.getModuleName(),s=0,a=i;s<a.length;s++){var o=a[s].replace("Ref","");t.setValue(o.replace("_","."),t.getValue(o+"Ref",n),n)}var l=function(e){"undefined"!=typeof window&&e.element&&(e.appendTo(e.element),e.ngEle.nativeElement.style.visibility="")};r||n.getModuleName().includes("btn")?l(n):setTimeout(function(){l(n)})},e.prototype.ngOnDestroy=function(e){var t=e||this;setTimeout(function(){if("undefined"!=typeof window&&t.element.classList.contains("e-control")){if(void 0!==t.ngOnFocus&&void 0!==t.ngOnBlur){var e=t.inputElement||t.element;e.removeEventListener("focus",t.ngOnFocusBound),e.removeEventListener("blur",t.ngOnBlurBound),t.ngOnFocusBound=null,t.ngOnBlurBound=null}t.destroy(),t.clearTemplate(null),setTimeout(function(){for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e],r=t["".concat(i)];if(r&&/object/.test(typeof r)&&0!==Object.keys(r).length)if(/properties|changedProperties|childChangedProperties|oldProperties|moduleLoader/.test(i))for(var s=0,a=Object.keys(t["".concat(i)]);s<a.length;s++){var o=a[s],l=r["".concat(o)];l&&/object/.test(typeof l)&&0!==Object.keys(l).length&&(l.parent||l.parentObj)&&(t["".concat(i)]["".concat(o)]=null)}else(r.parent||r.parentObj)&&(t["".concat(i)]=null)}})}})},e.prototype.clearTemplate=function(e,t){a(this,e,t)},e.prototype.ngAfterContentChecked=function(e){for(var n=e||this,i=0,r=n.tagObjects;i<r.length;i++){var s=r[i];if(!t.isUndefined(s.instance)&&(s.instance.isInitChanges||s.instance.hasChanges||s.instance.hasNewChildren)){var a={};if(s.instance.isInitChanges){var o=void 0;(C=t.getValue("instance.list",s))&&C.length&&(o=C[0].directivePropList);var l=!0;if(n.getModuleName&&"gantt"===n.getModuleName()&&(l=!1),o&&l&&-1===o.indexOf(s.instance.propertyName))for(var p=Object.keys(s.instance.list[0].propCollection),c=0;c<s.instance.list.length;c++){s.instance.list["".concat(c)].propCollection[s.instance.propertyName]=[];for(var h={},g=0;g<p.length;g++){var u=p[parseInt(g.toString(),10)];h["".concat(u)]=s.instance.list["".concat(c)].propCollection["".concat(u)]}for(var f=0;f<s.instance.list["".concat(c)].tags.length;f++)!function(e){var n=s.instance.list["".concat(c)].tags[parseInt(e.toString(),10)],i=t.getValue("child"+n.substring(0,1).toUpperCase()+n.substring(1),s.instance.list["".concat(c)]);if(i){var r=s.instance.list["".concat(c)]["child"+n.substring(0,1).toUpperCase()+n.substring(1)],a=function(e){var n=[];if(e)for(var i=0;i<e.list.length;i++){var r=e.list[0].tags[0];if(r){var s=t.getValue("child"+r.substring(0,1).toUpperCase()+r.substring(1),e.list[parseInt(i.toString(),10)]);s&&(e.list[parseInt(i.toString(),10)].tagObjects.push({instance:s,name:r}),n.push(s))}}if(0!==n.length)for(var o=0;o<n.length;o++)a(n[parseInt(o.toString(),10)])};a(r),s.instance.list["".concat(c)].tagObjects.push({instance:i,name:n})}}(f);s.instance.list["".concat(c)].propCollection[s.instance.propertyName].push(h)}a[s.name]=s.instance.getProperties(),n.setProperties(a,s.instance.isInitChanges)}else{var d=!1;(n[s.name].length!==s.instance.list.length||/diagram|DashboardLayout/.test(n.getModuleName()))&&(n[s.name]=s.instance.list,d=!0);for(var v=0,m=s.instance.list;v<m.length;v++){var C=m[v];if(C.tags)for(var y=0,b=C.tags;y<b.length;y++){var O=b[y],V=t.getValue("child"+O.substring(0,1).toUpperCase()+O.substring(1),C);V&&C.tagObjects.push({instance:V,name:O})}var I=s.instance.list.indexOf(C),S=t.getValue(s.name,n)["".concat(I)],E=Object.keys(S);if(E=E.filter(function(e){return/Ref$/i.test(e)}),S.properties&&0!==Object.keys(S.properties).length)for(var T=0,N=E;T<N.length;T++)u=(u=N[T]).replace(/Ref/,""),S.properties["".concat(u)]=S.properties["".concat(u)]?S.properties["".concat(u)]:S.propCollection["".concat(u)];t.isUndefined(S)||t.isUndefined(S.setProperties)||(/diagram|DashboardLayout/.test(n.getModuleName())?S.setProperties(C.getProperties(),!0):S.setProperties(C.getProperties())),C.isUpdated=!0}(/grid/.test(n.getModuleName())&&d||/chart/.test(n.getModuleName()))&&(a[s.name]=s.instance.getProperties(),n.setProperties(a,s.instance.isInitChanges))}}}},e.prototype.registerEvents=function(e){s(e,this)},e.prototype.twoWaySetter=function(e,n){var i=t.getValue(n,this.properties);i!==e&&(this.saveChanges(n,e,i),t.setValue(n,t.isNullOrUndefined(e)?null:e,this.properties),t.getValue(n+"Change",this).emit(e))},e.prototype.addTwoWay=function(e){for(var i=this,r=this,s=0,a=e;s<a.length;s++)!function(e){t.getValue(e,r),Object.defineProperty(r,e,{get:function(){return t.getValue(e,i.properties)},set:function(t){return i.twoWaySetter(t,e)}}),t.setValue(e+"Change",new n.EventEmitter,r)}(a[s])},e.prototype.addEventListener=function(e,n){var i=t.getValue(e,this);t.isUndefined(i)||(this.ngBoundedEvents["".concat(e)]||(this.ngBoundedEvents["".concat(e)]=new Map),this.ngBoundedEvents["".concat(e)].set(n,i.subscribe(n)))},e.prototype.removeEventListener=function(e,n){var i=t.getValue(e,this);t.isUndefined(i)||this.ngBoundedEvents["".concat(e)].get(n).unsubscribe()},e.prototype.trigger=function(e,n,i){var r=t.getValue(e,this),s=this.isProtectedOnChange;this.isProtectedOnChange=!1,n&&(n.name=e),t.isUndefined(r)||r.next(n);var a=t.getValue("local"+e.charAt(0).toUpperCase()+e.slice(1),this);t.isUndefined(a)||a.call(this,n),this.isProtectedOnChange=s,i&&(this.preventChange=this.isPreventChange,i.call(this,n)),this.isPreventChange=!1},e}(),v=function(){function e(){}return e.prototype.propagateChange=function(e){},e.prototype.propagateTouch=function(){},e.prototype.localChange=function(e){var n=void 0===e.checked?e.value:e.checked;if(this.objCheck=t.isObject(n),!0===this.isUpdated&&(this.angularValue=this.oldValue),!0===this.objCheck)this.duplicateValue=JSON.stringify(n),this.duplicateAngularValue=JSON.stringify(this.angularValue),this.duplicateValue!==this.duplicateAngularValue&&void 0!==this.propagateChange&&void 0!==n&&(this.propagateChange(n),this.angularValue=n);else if(n!==this.angularValue&&void 0!==this.propagateChange&&void 0!==n)if(""!==n&&null!==n)this.propagateChange(n),this.angularValue=n;else{var i=n;this.propagateChange(i),this.angularValue=n}this.cdr.markForCheck()},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){this.propagateTouch=e},e.prototype.twoWaySetter=function(e,n){var i=this.oldValue||t.getValue(n,this.properties),r=this.inputElement||this.element;(!r||i!==e||this.value!==e||void 0!==r.value&&""!==r.value)&&(this.saveChanges(n,e,i),t.setValue(n,t.isNullOrUndefined(e)?null:e,this.properties),t.getValue(n+"Change",this).emit(e))},e.prototype.ngAfterViewInit=function(e){var t=e||this;if(t.ngOnBlurBound=this.ngOnBlur.bind(this),t.ngOnFocusBound=this.ngOnFocus.bind(this),"undefined"!=typeof window){t.getModuleName().includes("dropdowntree")?setTimeout(function(){t.appendTo(t.element)}):t.appendTo(t.element);var n=t.inputElement||t.element;n.addEventListener("focus",t.ngOnFocusBound),n.addEventListener("blur",t.ngOnBlurBound)}this.isFormInit=!1},e.prototype.setDisabledState=function(e){this.enabled=!e,this.disabled=e},e.prototype.writeValue=function(e){var t=/ejs-radiobutton/g;void 0===this.checked?this.value=e:this.ngEle&&("boolean"==typeof e?t.test(this.ngEle.nativeElement.outerHTML)?this.checked=e===this.value:this.checked=e:this.checked=e===this.value),this.angularValue=e,this.isUpdated=!0,this.preventChange=!this.isFormInit,this.cdr.markForCheck()},e.prototype.ngOnFocus=function(e){!0!==this.skipFromEvent&&this.focus.emit(e),this.cdr.markForCheck()},e.prototype.ngOnBlur=function(e){this.propagateTouch(),!0!==this.skipFromEvent&&this.blur.emit(e),this.cdr.markForCheck()},e.isFormBase=!0,e}(),m=t.getTemplateEngine();return t.setTemplateEngine({compile:l}),e.ArrayBase=f,e.ComplexBase=u,e.ComponentBase=d,e.ComponentMixins=r,e.FormBase=v,e.Template=p,e.applyMixins=i,e.clearTemplate=a,e.compile=l,e.registerEvents=s,e.setValue=o,e}({},ej.base,core),this.ejs=ej;
//# sourceMappingURL=ej2-angular-base.min.js.map
