{"version":3,"file":"ej2-gantt.min.js","sources":["../../src/gantt/base/utils.js","../../src/gantt/base/date-processor.js","../../src/gantt/base/task-processor.js","../../src/gantt/base/css-constants.js","../../src/gantt/actions/chart-scroll.js","../../src/gantt/renderer/virtual-content-render.js","../../src/gantt/base/gantt-chart.js","../../src/gantt/renderer/timeline.js","../../src/gantt/models/column.js","../../src/gantt/base/tree-grid.js","../../src/gantt/models/day-working-time.js","../../src/gantt/models/add-dialog-field-settings.js","../../src/gantt/models/edit-dialog-field-settings.js","../../src/gantt/models/edit-settings.js","../../src/gantt/models/event-marker.js","../../src/gantt/models/filter-settings.js","../../src/gantt/models/search-settings.js","../../src/gantt/models/holiday.js","../../src/gantt/models/label-settings.js","../../src/gantt/models/selection-settings.js","../../src/gantt/models/splitter-settings.js","../../src/gantt/models/task-fields.js","../../src/gantt/models/timeline-settings.js","../../src/gantt/models/tooltip-settings.js","../../src/gantt/models/sort-settings.js","../../src/gantt/models/resource-fields.js","../../src/gantt/models/loading-indicator.js","../../src/gantt/models/week-working-time.js","../../src/gantt/renderer/chart-rows.js","../../src/gantt/actions/dependency.js","../../src/gantt/renderer/connector-line.js","../../src/gantt/base/splitter.js","../../src/gantt/renderer/tooltip.js","../../src/gantt/actions/keyboard.js","../../src/gantt/base/gantt.js","../../src/gantt/base/interface.js","../../src/gantt/actions/cell-edit.js","../../src/gantt/renderer/edit-tooltip.js","../../src/gantt/actions/taskbar-edit.js","../../src/gantt/actions/dialog-edit.js","../../src/gantt/actions/connector-line-edit.js","../../src/gantt/actions/edit.js","../../src/gantt/actions/column-reorder.js","../../src/gantt/actions/column-resize.js","../../src/gantt/actions/filter.js","../../src/gantt/actions/sort.js","../../src/gantt/actions/selection.js","../../src/gantt/actions/toolbar.js","../../src/gantt/base/constant.js","../../src/gantt/renderer/nonworking-day.js","../../src/gantt/renderer/event-marker.js","../../src/gantt/actions/day-markers.js","../../src/gantt/actions/critical-path.js","../../src/gantt/actions/undo-redo.js","../../src/gantt/actions/context-menu.js","../../src/gantt/actions/excel-export.js","../../src/gantt/actions/column-menu.js","../../src/gantt/actions/rowdragdrop.js","../../src/gantt/export/pdf-base/pdf-style/gantt-theme.js","../../src/gantt/export/pdf-base/dictionary.js","../../src/gantt/export/pdf-base/pdf-borders.js","../../src/gantt/export/pdf-base/pdf-style/style.js","../../src/gantt/export/pdf-base/treegrid-layouter.js","../../src/gantt/export/pdf-treegrid.js","../../src/gantt/export/pdf-base/pdf-grid-table.js","../../src/gantt/export/export-helper.js","../../src/gantt/export/pdf-taskbar.js","../../src/gantt/export/pdf-timeline.js","../../src/gantt/export/pdf-connector-line.js","../../src/gantt/export/pdf-event-marker.js","../../src/gantt/export/pdf-gantt.js","../../src/gantt/actions/pdf-export.js","../../src/gantt/actions/virtual-scroll.js","../../src/global.js"],"sourcesContent":["/**\n * Common methods used in Gantt\n */\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { DataManager, UrlAdaptor, WebApiAdaptor, ODataAdaptor } from '@syncfusion/ej2-data';\nimport { WebMethodAdaptor, CacheAdaptor, RemoteSaveAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\n/**\n * @param {Element} elem .\n * @param {string} selector .\n * @param {boolean} isID .\n * @returns {Element} .\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {ITaskData} ganttProp .\n * @returns {boolean} .\n * @hidden\n */\nexport function isScheduledTask(ganttProp) {\n    if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n        isNullOrUndefined(ganttProp.duration)) {\n        return null;\n    }\n    else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n        isNullOrUndefined(ganttProp.duration)) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n/**\n * @param {Gantt} parent .\n * @returns {boolean} .\n * @hidden\n */\nexport function isCountRequired(parent) {\n    if (parent.dataSource && !(parent.dataSource instanceof DataManager) &&\n        'result' in parent.dataSource) {\n        return true;\n    }\n    return false;\n}\n/**\n * @param {object} obj .\n * @returns {object} .\n * @hidden\n */\nexport function getSwapKey(obj) {\n    var temp = {};\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        temp[obj[key]] = key;\n    }\n    return temp;\n}\n/**\n * @param {object} obj .\n * @returns {boolean} .\n * @hidden\n */\nexport function isEmptyObject(obj) {\n    if (isNullOrUndefined(obj) || typeof obj !== 'object') {\n        return false;\n    }\n    return Object.keys(obj).length === 0;\n}\n/**\n * @param {object} dataSource .\n * @returns {boolean} .\n * @hidden\n */\nexport function isRemoteData(dataSource) {\n    if (dataSource instanceof DataManager) {\n        var adaptor = dataSource.adaptor;\n        return (adaptor instanceof ODataAdaptor || (adaptor instanceof ODataV4Adaptor) ||\n            (adaptor instanceof WebApiAdaptor) || (adaptor instanceof WebMethodAdaptor) ||\n            (adaptor instanceof CacheAdaptor) || (adaptor instanceof RemoteSaveAdaptor) ||\n            adaptor instanceof UrlAdaptor);\n    }\n    return false;\n}\n/**\n * @param {IGanttData[]} records .\n * @param {boolean} isNotExtend .\n * @param {ITaskAddedEventArgs} eventArgs .\n * @param {Gantt} parent .\n * @returns {object[]} .\n * @hidden\n */\nexport function getTaskData(records, isNotExtend, eventArgs, parent) {\n    if (eventArgs) {\n        var result = void 0;\n        for (var i = 0; i < records.length; i++) {\n            var data = isNotExtend ?\n                (records[parseInt(i.toString(), 10)].taskData) : extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result = (data);\n        }\n        return result;\n    }\n    else {\n        var result = [];\n        for (var i = 0; i < records.length; i++) {\n            if (!isNullOrUndefined(parent) && parent.timezone) {\n                updateDates(records[i], parent);\n            }\n            var data = isNotExtend ? (records[parseInt(i.toString(), 10)].taskData) :\n                extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result.push(data);\n        }\n        return result;\n    }\n}\n/**\n * @param {IGanttData} record .\n * @param {Gantt} parent .\n * @returns {null} .\n * @hidden\n */\nexport function updateDates(record, parent) {\n    // let startDate: Date = (record as IGanttData).taskData[parent.taskFields.startDate];\n    if (record && !isNullOrUndefined(record.ganttProperties)) {\n        record.taskData[parent.taskFields.startDate] = parent.dateValidationModule.remove(record.ganttProperties.startDate, parent.timezone);\n        if (parent.taskFields.endDate !== null) {\n            record.taskData[parent.taskFields.endDate] = parent.dateValidationModule.remove(record.ganttProperties.endDate, parent.timezone);\n        }\n        if (parent.taskFields.baselineEndDate || parent.taskFields.baselineStartDate) {\n            record.taskData[parent.taskFields.baselineStartDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineStartDate, parent.timezone);\n            record.taskData[parent.taskFields.baselineEndDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineEndDate, parent.timezone);\n        }\n    }\n    return null;\n}\n/**\n * @param {string} str .\n * @param {string[]} args .\n * @returns {string} .\n * @hidden\n */\nexport function formatString(str, args) {\n    var regx;\n    for (var i = 0; i < args.length; i++) {\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n        str = str.replace(regx, args[i].toString());\n    }\n    return str;\n}\n/**\n * @param {any} value .\n * @param {string} key1 .\n * @param {any} collection .\n * @param {string} key2\n * @returns {number} .\n * @hidden\n */\n/* eslint-disable-next-line */\nexport function getIndex(value, key1, collection, key2) {\n    var index = -1;\n    for (var i = 0; i < collection.length; i++) {\n        if (getValue(key1, collection[i]) === getValue(key1, value) && isNullOrUndefined(key2)\n            || (!isNullOrUndefined(key2) && getValue(key1, collection[i]) === getValue(key1, value)\n                && getValue(key2, collection[i]) === getValue(key2, value))) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pixelToPoint(value) {\n    return (value * 76) / 92;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pointToPixel(value) {\n    return (value * 92) / 76;\n}\nvar uid = 0;\n/**\n * @returns {number} .\n * @hidden\n */\nexport function getUid() {\n    return uid++;\n}\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\n/**\n *  Date processor is used to handle date of task data.\n */\nvar DateProcessor = /** @class */ (function () {\n    function DateProcessor(parent) {\n        this.fromSegments = false;\n        this.mondayTimeRangeLength = 0;\n        this.tuesdayTimeRangeLength = 0;\n        this.wednesdayTimeRangeLength = 0;\n        this.thursdayTimeRangeLength = 0;\n        this.fridayTimeRangeLength = 0;\n        this.saturdayTimeRangeLength = 0;\n        this.sundayTimeRangeLength = 0;\n        this.parent = parent;\n    }\n    /**\n     * @param {ITaskData} ganttProp .\n     * @returns {boolean} .\n     */\n    DateProcessor.prototype.isValidateNonWorkDays = function (ganttProp) {\n        return (!isNullOrUndefined(ganttProp) && ganttProp.isAutoSchedule &&\n            (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0)) ||\n            (isNullOrUndefined(ganttProp) && (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0));\n    };\n    /**\n     * Method to convert given date value as valid start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkStartDate = function (date, ganttProp, validateAsMilestone, isLoad) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var currentDay = new Date(date.getTime());\n        var dayStartTime = this.parent['getCurrentDayStartTime'](currentDay);\n        var dayEndTime = this.parent['getCurrentDayEndTime'](currentDay);\n        var cloneStartDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneStartDate);\n        validateAsMilestone = isNullOrUndefined(validateAsMilestone) ? !isNullOrUndefined(ganttProp) ?\n            ganttProp.isMilestone : false : validateAsMilestone;\n        if (hour < dayStartTime && (!validateAsMilestone || isLoad)) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour < dayStartTime && validateAsMilestone) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if ((hour === dayEndTime && (!ganttProp || !validateAsMilestone)) || hour > dayEndTime) {\n            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n            dayStartTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            var workingRange = this.parent.workingTimeRanges;\n            if (this.parent.weekWorkingTime.length > 0) {\n                workingRange = this.parent['getWorkingRange'](cloneStartDate);\n            }\n            for (var index = 0; index < workingRange.length; index++) {\n                var value = workingRange[index];\n                if (hour >= value.to && (workingRange[index + 1] &&\n                    hour < workingRange[index + 1].from)) {\n                    // milestone can fall at end any interval time\n                    if ((hour === value.to && (!ganttProp || !validateAsMilestone)) || hour !== value.to) {\n                        this.setTime(workingRange[index + 1].from, cloneStartDate);\n                    }\n                    break;\n                }\n            }\n        }\n        var tStartDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tStartDate = new Date(cloneStartDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                // check holidays and weekends\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    dayStartTime = this.parent['getCurrentDayStartTime'](tStartDate);\n                    if (ganttProp) {\n                        dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : tStartDate);\n                    }\n                    var startTime = (!validateAsMilestone || isLoad) ? dayStartTime : dayEndTime;\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneStartDate.getTime());\n                        cloneStartDate = this.getNextWorkingDay(cloneStartDate);\n                        startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                        if (tempDate.getTime() !== cloneStartDate.getTime() && !validateAsMilestone) {\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneStartDate.getTime() >= holidayFrom.getTime() && cloneStartDate.getTime() < holidayTo.getTime()) {\n                            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n                            startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                }\n            } while (tStartDate.getTime() !== cloneStartDate.getTime());\n            return new Date(cloneStartDate.getTime());\n        }\n        else {\n            return new Date(cloneStartDate.getTime());\n        }\n    };\n    /**\n     * To update given date value to valid end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkEndDate = function (date, ganttProp, validateAsMilestone) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var dayStartTime;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            var currentDay = date;\n            if (!this.parent.includeWeekend && ganttProp && ganttProp.isAutoSchedule || (this.parent.editModule\n                && this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditRecord\n                && !this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.isAutoSchedule)) {\n                currentDay = this.getNextWorkingDay(date);\n            }\n            dayStartTime = this.parent['getStartTime'](currentDay);\n            dayEndTime = this.parent['getEndTime'](currentDay);\n        }\n        else {\n            dayStartTime = this.parent.defaultStartTime;\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        var cloneEndDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneEndDate);\n        if (hour > dayEndTime) {\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour <= dayStartTime && !validateAsMilestone) {\n            var taskfields = this.parent.taskFields;\n            if (this.parent.editModule && this.parent.editModule['editedRecord'] && (!this.parent.editModule['editedRecord'][taskfields.startDate] && this.parent.editModule['editedRecord'][taskfields.endDate])) {\n                cloneEndDate.setDate(cloneEndDate.getDate());\n            }\n            else {\n                cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n            }\n            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour > value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour <= this.parent.workingTimeRanges[index + 1].from)) {\n                    this.setTime(this.parent.workingTimeRanges[index].to, cloneEndDate);\n                    break;\n                }\n            }\n        }\n        var tempCheckDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tempCheckDate = new Date(cloneEndDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneEndDate.getTime());\n                        cloneEndDate = this.getPreviousWorkingDay(cloneEndDate);\n                        dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                        if (tempDate.getTime() !== cloneEndDate.getTime()) {\n                            this.setTime(dayEndTime, cloneEndDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        var tempHoliday = new Date(cloneEndDate.getTime());\n                        tempHoliday.setMinutes(cloneEndDate.getMilliseconds() - 2);\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneEndDate.getTime() >= holidayFrom.getTime() && cloneEndDate.getTime() < holidayTo.getTime() ||\n                            tempHoliday.getTime() >= holidayFrom.getTime() && tempHoliday.getTime() < holidayTo.getTime()) {\n                            cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n                            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                            if (!(cloneEndDate.getTime() === holidayFrom.getTime() && dayEndTime === 86400 &&\n                                this.getSecondsInDecimal(cloneEndDate) === 0)) {\n                                this.setTime(dayEndTime, cloneEndDate);\n                            }\n                        }\n                    }\n                }\n            } while (tempCheckDate.getTime() !== cloneEndDate.getTime());\n            return new Date(cloneEndDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(cloneEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](date);\n                this.setTime(dayEndTime, cloneEndDate);\n            }\n            return new Date(cloneEndDate.getTime());\n        }\n    };\n    /**\n     * To validate the baseline start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineStartDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](date);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp ? ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour < dayStartTime) {\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayEndTime) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](cloneDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                }\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] &&\n                        hour < this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i + 1].from, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To validate baseline end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineEndDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n            var dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp ? ganttProp.startDate ? ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour > dayEndTime) {\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour < dayStartTime && !isNullOrUndefined(ganttProp) && !ganttProp.isMilestone) {\n                cloneDate.setDate(cloneDate.getDate() - 1);\n                dayEndTime = this.parent['getCurrentDayEndTime'](cloneDate);\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] && hour <= this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i].to, cloneDate);\n                        break;\n                    }\n                }\n            }\n            if (ganttProp && ganttProp.baselineStartDate && cloneDate &&\n                ganttProp.baselineStartDate.getTime() > cloneDate.getTime()) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To calculate start date value from duration and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempStartDate = null;\n        if (!isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(ganttProp.duration)) {\n            tempStartDate = this.getStartDate(ganttProp.endDate, ganttProp.duration, ganttProp.durationUnit, ganttProp);\n        }\n        this.parent.setRecordValue('startDate', tempStartDate, ganttProp, true);\n        if (this.parent.taskFields.startDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempEndDate = null;\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttProp.startDate)) {\n            if (!isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                if (this.compareDates(ganttProp.startDate, ganttProp.endDate) === 1) {\n                    this.parent.setRecordValue('startDate', new Date(ganttProp.endDate.getTime()), ganttProp, true);\n                    dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp.isAutoSchedule ? ganttProp.autoStartDate : ganttProp.startDate);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.isAutoSchedule ? ganttProp.autoEndDate : ganttProp.endDate);\n                    this.setTime(dayStartTime, ganttProp.startDate);\n                }\n                this.calculateDuration(ganttData);\n            }\n            if (!isNullOrUndefined(ganttProp.duration)) {\n                var duration = !isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 1 ?\n                    this.totalDuration(ganttProp.segments) : ganttProp.duration;\n                tempEndDate = this.getEndDate(ganttProp.startDate, duration, ganttProp.durationUnit, ganttProp, false);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        else {\n            tempEndDate = ganttData[this.parent.taskFields.endDate];\n            if (!isNullOrUndefined(tempEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](tempEndDate);\n                this.setTime(dayEndTime, tempEndDate);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        if (this.parent.taskFields.endDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        }\n    };\n    DateProcessor.prototype.totalDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            duration += segments[i].duration + segments[i].offsetDuration;\n        }\n        return duration;\n    };\n    /**\n     * To calculate duration from start date and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     */\n    DateProcessor.prototype.calculateDuration = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var tDuration;\n        if (!isNullOrUndefined(ganttProperties.segments) && ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            tDuration = this.parent.editModule.taskbarEditModule.sumOfDuration(ganttProperties.segments);\n        }\n        else {\n            if ((!isNullOrUndefined(this.parent.taskFields.milestone)) && (!isNullOrUndefined(ganttProperties.startDate))\n                && !isNullOrUndefined(ganttProperties.endDate) &&\n                (ganttProperties.startDate).getTime() === (ganttProperties.endDate).getTime()\n                && (ganttData.taskData[this.parent.taskFields.milestone] === false)) {\n                tDuration = 1;\n            }\n            else {\n                tDuration = this.getDuration(ganttProperties.startDate, ganttProperties.endDate, ganttProperties.durationUnit, ganttProperties.isAutoSchedule, ganttProperties.isMilestone);\n            }\n        }\n        this.parent.setRecordValue('duration', tDuration, ganttProperties, true);\n        var col = this.parent.columnByField[this.parent.columnMapping.duration];\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isCellEdit && !isNullOrUndefined(col)) {\n            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                var dialog = this.parent.editModule.dialogModule.dialog;\n                if (!isNullOrUndefined(dialog)) {\n                    var textBox = dialog.querySelector('#' + this.parent.element.id + 'Duration')\n                        .ej2_instances[0];\n                    if (!isNullOrUndefined(textBox) && textBox.value !== tDuration.toString()) {\n                        textBox.value = tDuration.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n            if (this.parent.taskFields.duration) {\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                if (this.parent.taskFields.durationUnit) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'durationUnit');\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} sDate Method to get total nonworking time between two date values\n     * @param {Date} eDate .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonworkingTime = function (sDate, eDate, isAutoSchedule, isCheckTimeZone) {\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var weekendCount = (!this.parent.includeWeekend && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) && isAutoSchedule ?\n            this.getWeekendCount(sDate, eDate) : 0;\n        var totalHours = this.getNumberOfSeconds(sDate, eDate, isCheckTimeZone);\n        var holidaysCount = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.getHolidaysCount(sDate, eDate) : 0;\n        var totWorkDays = (totalHours - (weekendCount * 86400) - (holidaysCount * 86400)) / 86400; // working days between two dates\n        var nonWorkHours = this.getNonWorkingSecondsOnDate(sDate, eDate, isAutoSchedule);\n        var totalNonWorkTime = (this.parent.weekWorkingTime.length > 0 ?\n            this.nonWorkingSeconds(sDate, eDate, isAutoSchedule, totWorkDays) : (totWorkDays * (86400 - this.parent.secondsPerDay))) +\n            (weekendCount * 86400) + (holidaysCount * 86400) + nonWorkHours;\n        return totalNonWorkTime;\n    };\n    DateProcessor.prototype.nonWorkingSeconds = function (sDate, eDate, isAutoSchedule, workDays, fromDuration) {\n        var newStartDate = sDate.getTime() > eDate.getTime() ? new Date(eDate.getTime()) : new Date(sDate.getTime());\n        var newEndDate = sDate.getTime() > eDate.getTime() ? new Date(sDate.getTime()) : new Date(eDate.getTime());\n        var timeDiff = 0;\n        var count = 0;\n        if (fromDuration) {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](newStartDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](newStartDate);\n            if (!(newStartDate.getHours() < dayEndTime / 3600 && newStartDate.getHours() >= dayStartTime / 3600)) {\n                newStartDate.setDate(newStartDate.getDate() + 1);\n            }\n        }\n        else {\n            newStartDate.setDate(newStartDate.getDate() + 1);\n            newStartDate.setHours(0, 0, 0, 0);\n            newEndDate.setHours(0, 0, 0, 0);\n        }\n        if (workDays > 0 || isNullOrUndefined(workDays)) {\n            while ((fromDuration && newStartDate.getTime() <= newEndDate.getTime())\n                || (!fromDuration && newStartDate.getTime() < newEndDate.getTime())) {\n                if (isAutoSchedule) {\n                    if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                        do {\n                            newStartDate.setDate(newStartDate.getDate() + 1);\n                        } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                    }\n                    if (!this.parent.includeWeekend) {\n                        this.getNextWorkingDay(newStartDate);\n                    }\n                }\n                if (newStartDate.getTime() <= newEndDate.getTime()) {\n                    count++;\n                    var currentDaySeconds = this.parent['getSecondsPerDay'](newStartDate);\n                    if (fromDuration) {\n                        timeDiff += currentDaySeconds;\n                    }\n                    else {\n                        timeDiff += 86400 - currentDaySeconds;\n                    }\n                    newStartDate.setDate(newStartDate.getDate() + 1);\n                    if (isAutoSchedule) {\n                        if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                            do {\n                                newStartDate.setDate(newStartDate.getDate() + 1);\n                            } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                        }\n                        if (!this.parent.includeWeekend) {\n                            this.getNextWorkingDay(newStartDate);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            return 0;\n        }\n        if (fromDuration) {\n            if (timeDiff > 0) {\n                timeDiff = timeDiff / count;\n            }\n            else {\n                timeDiff = this.parent.secondsPerDay;\n            }\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} durationUnit .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getDuration = function (startDate, endDate, durationUnit, isAutoSchedule, isMilestone, isCheckTimeZone) {\n        if (isNullOrUndefined(startDate) || isNullOrUndefined(endDate)) {\n            return null;\n        }\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var durationValue = 0;\n        var timeDiff = this.getTimeDifference(startDate, endDate, isCheckTimeZone) / 1000;\n        var nonWorkHours = this.getNonworkingTime(startDate, endDate, isAutoSchedule, isCheckTimeZone);\n        var durationHours = timeDiff - nonWorkHours;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.nonWorkingSeconds(startDate, endDate, isAutoSchedule, undefined, true);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (isMilestone && this.parent.getFormatedDate(startDate) === this.parent.getFormatedDate(endDate)) {\n            durationValue = 0;\n        }\n        else {\n            if (!durationUnit || durationUnit === 'day') {\n                durationValue = durationHours / totSeconds;\n            }\n            else if (durationUnit === 'minute') {\n                durationValue = durationHours / 60;\n            }\n            else {\n                durationValue = durationHours / 3600;\n            }\n        }\n        return parseFloat(durationValue.toString());\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {Date} date .\n     *  @returns {number} .\n     */\n    DateProcessor.prototype.getDurationAsSeconds = function (duration, durationUnit, date) {\n        var value = 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](date);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (!durationUnit || durationUnit.toLocaleLowerCase() === 'day') {\n            value = totSeconds * duration;\n        }\n        else if (durationUnit.toLocaleLowerCase() === 'hour') {\n            value = duration * 3600;\n        }\n        else {\n            value = duration * 60;\n        }\n        return value;\n    };\n    /**\n     * To get date from start date and duration\n     *\n     * @param {Date} startDate .\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getEndDate = function (startDate, duration, durationUnit, ganttProp, validateAsMilestone) {\n        var tempStart = new Date(startDate.getTime());\n        var endDate = new Date(startDate.getTime());\n        var sDate = new Date(startDate.getTime());\n        var secondDuration;\n        if (this.parent.weekWorkingTime.length > 0 && (!durationUnit || durationUnit.toLocaleLowerCase() === 'day')) {\n            secondDuration = this.calculateSecondDuration(duration, sDate, secondDuration, startDate, true);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, startDate);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            endDate.setSeconds(endDate.getSeconds() + secondDuration);\n            nonWork = this.getNonworkingTime(tempStart, endDate, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                endDate = this.checkStartDate(endDate, ganttProp, validateAsMilestone);\n            }\n            tempStart = new Date(endDate.getTime());\n        }\n        return endDate;\n    };\n    /**\n     * Calculate start date based on end date and duration.\n     *\n     * @param {Date} endDate - To calculate start date value from end date and duration.\n     * @param {number} duration - The duration value.\n     * @param {string} durationUnit - The unit of duration.\n     * @param {ITaskData} ganttProp - The Gantt task properties.\n     * @param {boolean} fromValidation - A flag indicating if the calculation is from validation.\n     * @returns {Date} The calculated start date.\n     * @private\n     */\n    DateProcessor.prototype.getStartDate = function (endDate, duration, durationUnit, ganttProp, fromValidation) {\n        var tempEnd = new Date(endDate.getTime());\n        var startDate = new Date(endDate.getTime());\n        var secondDuration;\n        var eDate = new Date(tempEnd.getTime());\n        if (this.parent.weekWorkingTime.length > 0) {\n            secondDuration = this.calculateSecondDuration(duration, eDate, secondDuration, tempEnd, false);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, tempEnd);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            startDate.setSeconds(startDate.getSeconds() - secondDuration);\n            nonWork = this.getNonworkingTime(startDate, tempEnd, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                tempEnd = this.checkEndDate(startDate, ganttProp);\n            }\n            tempEnd = new Date(startDate.getTime());\n        }\n        /* To render the milestone in proper date while loading */\n        if (fromValidation && ganttProp.isMilestone) {\n            startDate.setDate(startDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : startDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, startDate);\n            startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp, true);\n        }\n        return startDate;\n    };\n    DateProcessor.prototype.calculateSecondDuration = function (duration, sDate, secondDuration, startDate, fromEndDate) {\n        if (duration < 1) {\n            secondDuration = this.parent['getSecondsPerDay'](sDate) * duration;\n        }\n        else {\n            secondDuration = 0;\n            var durationValue = duration;\n            var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](sDate);\n            if (!(sDate.getHours() < dayEndTime / 3600 && sDate.getHours() > dayStartTime / 3600) && this.fromSegments) {\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n            }\n            while (durationValue > 0) {\n                if (this.isOnHolidayOrWeekEnd(sDate, true)) {\n                    do {\n                        if (fromEndDate) {\n                            sDate.setDate(sDate.getDate() + 1);\n                        }\n                        else {\n                            sDate.setDate(sDate.getDate() - 1);\n                        }\n                    } while (this.isOnHolidayOrWeekEnd(sDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    sDate = fromEndDate ? this.getNextWorkingDay(sDate) : this.getPreviousWorkingDay(sDate);\n                }\n                var totSeconds = this.parent['getSecondsPerDay'](sDate);\n                var num = 0;\n                if (this.getSecondsInDecimal(startDate) !== this.parent['getStartTime'](startDate) && !Number.isInteger(durationValue)) {\n                    var deciNumber = duration.toString().split('.');\n                    num = parseFloat('.' + deciNumber[1]);\n                    totSeconds = totSeconds * num;\n                    durationValue = durationValue - num;\n                }\n                if (durationValue < 1) {\n                    totSeconds = totSeconds * durationValue;\n                }\n                secondDuration = secondDuration + totSeconds;\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n                if (!num) {\n                    durationValue--;\n                }\n            }\n        }\n        return secondDuration;\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getProjectStartDate = function (ganttProp, isLoad) {\n        if (!isNullOrUndefined(this.parent.cloneProjectStartDate)) {\n            if (typeof this.parent.cloneProjectStartDate === 'string') {\n                this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            }\n            var cloneStartDate = this.checkStartDate(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectStartDate = cloneStartDate;\n            return new Date(cloneStartDate.getTime());\n        }\n        else if (!isNullOrUndefined(this.parent.projectStartDate)) {\n            var cloneStartDate = this.getDateFromFormat(this.parent.projectStartDate);\n            this.parent.cloneProjectStartDate = this.checkStartDate(cloneStartDate);\n        }\n        else if (!isNullOrUndefined(isLoad)) {\n            var flatData = this.parent.flatData;\n            var minStartDate = void 0;\n            if (flatData.length > 0) {\n                minStartDate = flatData[0].ganttProperties.startDate;\n            }\n            else {\n                minStartDate = new Date();\n                minStartDate.setHours(0, 0, 0, 0);\n            }\n            for (var index = 1; index < flatData.length; index++) {\n                var startDate = flatData[index].ganttProperties.startDate;\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = startDate;\n                }\n            }\n            this.parent.cloneProjectStartDate = this.checkStartDate(minStartDate, ganttProp);\n        }\n        else {\n            return null;\n        }\n        return new Date(this.parent.cloneProjectStartDate.getTime());\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidStartDate = function (ganttProp, isAuto) {\n        var sDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = !ganttProp.isAutoSchedule && ganttProp.autoDuration ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(startDate)) {\n            if (!isNullOrUndefined(endDate)) {\n                sDate = new Date(endDate.getTime());\n                var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n                this.setTime(dayStartTime, sDate);\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var ganttTask = this.parent.getTaskByUniqueID(ganttProp.uniqueID);\n                if (this.parent.allowUnscheduledTasks && ganttTask &&\n                    ganttTask.parentItem && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)) {\n                    var parentTask = this.parent.getParentTask(ganttTask.parentItem);\n                    while (parentTask && !parentTask.ganttProperties.startDate) {\n                        parentTask = this.parent.getParentTask(parentTask.parentItem);\n                    }\n                    sDate = (!parentTask || !parentTask.ganttProperties.startDate) ? this.parent.cloneProjectStartDate\n                        : parentTask.ganttProperties.startDate;\n                }\n                else {\n                    sDate = this.getProjectStartDate(ganttProp);\n                }\n            }\n        }\n        else {\n            sDate = new Date(startDate.getTime());\n        }\n        return sDate;\n    };\n    /**\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidEndDate = function (ganttProp, isAuto) {\n        var eDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(endDate)) {\n            if (!isNullOrUndefined(startDate)) {\n                if (ganttProp.isMilestone) {\n                    eDate = this.checkStartDate(startDate);\n                }\n                else {\n                    eDate = new Date(startDate.getTime());\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](endDate ? endDate : eDate);\n                    this.setTime(dayEndTime, eDate);\n                }\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var sDate = this.getValidStartDate(ganttProp);\n                if (sDate) {\n                    eDate = this.getEndDate(sDate, duration, ganttProp.durationUnit, ganttProp, false);\n                }\n            }\n        }\n        else {\n            eDate = new Date(endDate.getTime());\n        }\n        return eDate;\n    };\n    DateProcessor.prototype.getWorkingTime = function (day, currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        if (!isNullOrUndefined(currentRange.from) && !isNullOrUndefined(currentRange.to)) {\n            startDate.setHours(0, 0, 0, 0);\n            var tempDate = new Date(startDate.getTime());\n            startDate.setTime(startDate.getTime() + (currentRange.from * 3600000));\n            var startHour = new Date(startDate.getTime());\n            if (currentRange.to === 24) {\n                var currentRangeTo = 24 * 60 * 60 * 1000;\n                tempDate.setTime(tempDate.getTime() + (currentRangeTo));\n            }\n            else {\n                tempDate.setTime(tempDate.getTime() + (currentRange.to * 3600000));\n            }\n            var endHour = new Date(tempDate.getTime());\n            var timeDiff = endHour.getTime() - startHour.getTime();\n            var sdSeconds = this.getSecondsInDecimal(startHour);\n            var edSeconds = this.getSecondsInDecimal(endHour);\n            if (edSeconds === 0) {\n                edSeconds = 86400;\n            }\n            totalSeconds += timeDiff / 1000;\n            if (count === 0) {\n                this.parent.defaultStartTime = sdSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignStartTime(day, sdSeconds);\n                }\n            }\n            if (count === this[day.toLowerCase() + 'TimeRangeLength'] - 1 || day === '') {\n                this.parent.defaultEndTime = edSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignEndTime(day, edSeconds);\n                }\n            }\n            if (count > 0) {\n                if (day === '') {\n                    nonWorkingHours.push(nonWorkingHours[nonWorkingHours.length - 1] +\n                        sdSeconds - workingTimeRanges[count - 1].to);\n                    if (workingTimeRanges[count - 1].to < sdSeconds) {\n                        nonWorkingTimeRanges.push({\n                            from: workingTimeRanges[count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - workingTimeRanges[count - 1].to)\n                        });\n                    }\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(this.parent[day.toLowerCase() + 'NonWorkingHours'][this.parent[day.toLowerCase() + 'NonWorkingHours'].length - 1] +\n                        sdSeconds - this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'][count - 1].to);\n                    if (this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to < sdSeconds) {\n                        this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                            from: this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to)\n                        });\n                    }\n                }\n            }\n            else {\n                if (day === '') {\n                    nonWorkingHours.push(0);\n                    nonWorkingTimeRanges.push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(0);\n                    this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n            }\n            if (day === '') {\n                workingTimeRanges.push({ from: sdSeconds, to: edSeconds });\n                nonWorkingTimeRanges.push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n            else {\n                this.parent[day.toLowerCase() + 'WorkingTimeRanges'].push({ from: sdSeconds, to: edSeconds });\n                this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n        }\n        return totalSeconds;\n    };\n    DateProcessor.prototype.assignStartTime = function (day, sdSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultStartTime = sdSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultStartTime = sdSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultStartTime = sdSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.assignEndTime = function (day, edSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultEndTime = edSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultEndTime = edSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultEndTime = edSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultEndTime = edSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultEndTime = edSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.calculateWeekWorkTime = function (day, currentDay, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        var seconds = 0;\n        for (var j = 0; j < currentDay.length; j++) {\n            var currentRange = currentDay[j];\n            seconds = seconds + this.getWorkingTime(day, currentRange, startDate, totalSeconds, j, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent[day.toLowerCase() + 'DefaultStartTime'] / 3600 !== 24) {\n            this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                from: this.parent[day.toLowerCase() + 'DefaultEndTime'], to: 86400,\n                isWorking: false, interval: 86400 - this.parent[day.toLowerCase() + 'DefaultEndTime']\n            });\n        }\n        return seconds;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getSecondsPerDay = function () {\n        var totalSeconds = 0;\n        var startDate = new Date('10/11/2018');\n        this.parent.nonWorkingHours = [];\n        var nonWorkingHours = this.parent.nonWorkingHours;\n        this.parent.workingTimeRanges = [];\n        this.parent.workingTimeRanges = [];\n        var workingTimeRanges = this.parent.workingTimeRanges;\n        this.parent.nonWorkingTimeRanges = [];\n        var nonWorkingTimeRanges = this.parent.nonWorkingTimeRanges;\n        for (var _i = 0, _a = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _i < _a.length; _i++) {\n            var day = _a[_i];\n            this[day.toLowerCase() + \"TimeRangeLength\"] = this.parent.dayWorkingTime.length;\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            for (var i = 0; i < this.parent.weekWorkingTime.length; i++) {\n                this[this.parent.weekWorkingTime[i].dayOfWeek.toLowerCase() + 'TimeRangeLength']\n                    = this.parent.weekWorkingTime[i].timeRange.length;\n            }\n            var weekWorkingTime = this.parent.weekWorkingTime;\n            var dayWorkingTime_1 = this.parent.dayWorkingTime;\n            for (var _b = 0, weekWorkingTime_1 = weekWorkingTime; _b < weekWorkingTime_1.length; _b++) {\n                var weekDay = weekWorkingTime_1[_b];\n                if (weekDay.timeRange && weekDay.timeRange.length > 0) {\n                    var seconds_1 = this.calculateWeekWorkTime(weekDay.dayOfWeek, weekDay.timeRange, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[weekDay.dayOfWeek.toLowerCase() + \"Seconds\"] = seconds_1;\n                }\n            }\n            for (var _c = 0, _d = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _c < _d.length; _c++) {\n                var day = _d[_c];\n                var dayDefaultStartTime = this.parent[day.toLowerCase() + \"DefaultStartTime\"];\n                if (isNullOrUndefined(dayDefaultStartTime)) {\n                    var seconds_2 = this.calculateWeekWorkTime(day, dayWorkingTime_1, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[day.toLowerCase() + \"Seconds\"] = seconds_2;\n                }\n            }\n        }\n        var dayWorkingTime = this.parent.dayWorkingTime;\n        var length = dayWorkingTime.length;\n        var seconds = 0;\n        for (var count = 0; count < length; count++) {\n            var currentRange = dayWorkingTime[count];\n            seconds = seconds + this.getWorkingTime('', currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent.defaultEndTime / 3600 !== 24) {\n            nonWorkingTimeRanges.push({\n                from: this.parent.defaultEndTime, to: 86400,\n                isWorking: false, interval: 86400 - this.parent.defaultEndTime\n            });\n        }\n        totalSeconds = seconds;\n        return totalSeconds;\n    };\n    /**\n     *\n     * @param {string} value .\n     * @param {boolean} isFromDialog .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.getDurationValue = function (value, isFromDialog) {\n        var durationUnit = null;\n        var duration = null;\n        if (typeof value === 'string') {\n            var values = value.match(/(\\d*\\.*\\d+|.+$)/g);\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0].toString().trim());\n                var unit = values[1] ? values[1].toString().trim().toLowerCase() : null;\n                if (getValue('minute', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'day';\n                }\n            }\n        }\n        else {\n            duration = value;\n            durationUnit = null;\n        }\n        var output = {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n        return output;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getNextWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1) {\n            date.setDate(date.getDate() + 1);\n            date = this.getNextWorkingDay(date);\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * get weekend days between two dates without including args dates\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getWeekendCount = function (startDate, endDate) {\n        var weekendCount = 0;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setHours(0, 0, 0, 0);\n        sDate.setDate(sDate.getDate() + 1);\n        eDate.setHours(0, 0, 0, 0);\n        while (sDate.getTime() < eDate.getTime()) {\n            if (this.parent.nonWorkingDayIndex.indexOf(sDate.getDay()) !== -1) {\n                weekendCount += 1;\n            }\n            sDate.setDate(sDate.getDate() + 1);\n        }\n        return weekendCount;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNumberOfSeconds = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var timeDiff = 0;\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            timeDiff = (this.getTimeDifference(sDate, eDate, isCheckTimeZone)) / 1000;\n        }\n        if (timeDiff % 86400 !== 0) {\n            timeDiff = timeDiff - (timeDiff % 86400) + 86400;\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getHolidaysCount = function (startDate, endDate) {\n        var holidaysCount = 0;\n        var holidays = this.parent.totalHolidayDates;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            for (var i = 0; i < holidays.length; i++) {\n                var currentHoliday = this.getDateFromFormat(new Date(holidays[i]));\n                if (sDate.getTime() <= currentHoliday.getTime() && eDate.getTime() > currentHoliday.getTime()) {\n                    if ((!this.parent.includeWeekend && this.parent.nonWorkingDayIndex.indexOf(currentHoliday.getDay()) === -1) ||\n                        this.parent.includeWeekend) {\n                        holidaysCount += 1;\n                    }\n                }\n            }\n        }\n        return holidaysCount;\n    };\n    /**\n     * @returns {number[]} .\n     * @private\n     */\n    DateProcessor.prototype.getHolidayDates = function () {\n        var holidays = this.parent.holidays;\n        var holidayDates = [];\n        for (var i = 0; i < holidays.length; i++) {\n            var from = this.getDateFromFormat(holidays[i].from);\n            var to = this.getDateFromFormat(holidays[i].to);\n            if (isNullOrUndefined(from) && isNullOrUndefined(to)) {\n                continue;\n            }\n            else if (isNullOrUndefined(from) || isNullOrUndefined(to)) {\n                var tempDate = from ? from : to;\n                tempDate.setHours(0, 0, 0, 0);\n                if (holidayDates.indexOf(tempDate.getTime()) === -1) {\n                    holidayDates.push(tempDate.getTime());\n                }\n            }\n            else {\n                while (from <= to) {\n                    from.setHours(0, 0, 0, 0);\n                    if (holidayDates.indexOf(from.getTime()) === -1) {\n                        holidayDates.push(from.getTime());\n                    }\n                    from.setDate(from.getDate() + 1);\n                }\n            }\n        }\n        return holidayDates;\n    };\n    /**\n     * @param {Date} date .\n     * @param {boolean} checkWeekEnd .\n     * @returns {boolean} .\n     * @private\n     */\n    /*Check given date is on holidays*/\n    DateProcessor.prototype.isOnHolidayOrWeekEnd = function (date, checkWeekEnd) {\n        checkWeekEnd = !isNullOrUndefined(checkWeekEnd) ? checkWeekEnd : this.parent.includeWeekend;\n        if (!this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            checkWeekEnd = true;\n        }\n        if (!checkWeekEnd && this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n            return true;\n        }\n        var holidays = this.parent.totalHolidayDates;\n        for (var count = 0; count < holidays.length; count++) {\n            var holidayFrom = this.getDateFromFormat(new Date(holidays[count]));\n            var holidayTo = new Date(holidayFrom.getTime());\n            holidayFrom.setHours(0, 0, 0, 0);\n            holidayTo.setHours(23, 59, 59, 59);\n            if (date.getTime() >= holidayFrom.getTime() && date.getTime() < holidayTo.getTime()) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To calculate non working times in given date\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isAutoSchedule .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonWorkingSecondsOnDate = function (startDate, endDate, isAutoSchedule) {\n        var sHour = this.getSecondsInDecimal(startDate);\n        var eHour = this.getSecondsInDecimal(endDate);\n        var startRangeIndex = -1;\n        var endRangeIndex = -1;\n        var totNonWrkSecs = 0;\n        var startOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(startDate, null) : false;\n        var endOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(endDate, null) : false;\n        var startnonWorkingTimeRange;\n        var endnonWorkingTimeRange;\n        if (this.parent.weekWorkingTime.length > 0) {\n            startnonWorkingTimeRange = this.parent['getNonWorkingRange'](startDate);\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n            }\n            endnonWorkingTimeRange = this.parent['getNonWorkingRange'](endDate);\n            for (var i = 0; i < endnonWorkingTimeRange.length; i++) {\n                var val = endnonWorkingTimeRange[i];\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        else {\n            startnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            endnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        if (startDate.getDate() !== endDate.getDate() || startDate.getMonth() !== endDate.getMonth() ||\n            startDate.getFullYear() !== endDate.getFullYear()) {\n            if (!startOnHoliday) {\n                for (var i = startRangeIndex; i < startnonWorkingTimeRange.length; i++) {\n                    if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                        if (i === startRangeIndex) {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                        }\n                        else {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].interval);\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += (86400 - sHour);\n            }\n            if (!endOnHoliday) {\n                for (var i = 0; i <= endRangeIndex; i++) {\n                    if (!endnonWorkingTimeRange[i].isWorking) {\n                        if (i === endRangeIndex) {\n                            totNonWrkSecs += (eHour - endnonWorkingTimeRange[i].from);\n                        }\n                        else {\n                            totNonWrkSecs += endnonWorkingTimeRange[i].interval;\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += eHour;\n            }\n        }\n        else {\n            if (startRangeIndex !== endRangeIndex) {\n                if (!endOnHoliday) {\n                    for (var i = startRangeIndex; i <= endRangeIndex; i++) {\n                        if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                            if (i === startRangeIndex) {\n                                totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                            }\n                            else if (i === endRangeIndex) {\n                                totNonWrkSecs += (eHour - startnonWorkingTimeRange[i].from);\n                            }\n                            else {\n                                totNonWrkSecs += startnonWorkingTimeRange[i].interval;\n                            }\n                        }\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n            else {\n                if (!endOnHoliday) {\n                    var range = startnonWorkingTimeRange[startRangeIndex];\n                    if (!range.isWorking) {\n                        totNonWrkSecs = eHour - sHour;\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n        }\n        return totNonWrkSecs;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getPreviousWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        var previousIndex = (dayIndex === 0) ? 6 : dayIndex - 1;\n        var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1 || (this.parent.nonWorkingDayIndex.indexOf(previousIndex) !== -1\n            && dayEndTime === 86400 && this.getSecondsInDecimal(date) === 0)) {\n            date.setDate(date.getDate() - 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n                date = this.getPreviousWorkingDay(date);\n            }\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * To get non-working day indexes.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.getNonWorkingDayIndex = function () {\n        var weekDay = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n        var weekDayLength = weekDay.length;\n        if (this.parent.workWeek.length === 0) {\n            this.parent.workWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n        }\n        var workWeek = this.parent.workWeek.slice();\n        var length = workWeek.length;\n        for (var i = 0; i < length; i++) {\n            workWeek[i] = workWeek[i].toLowerCase();\n        }\n        this.parent.nonWorkingDayIndex = [];\n        for (var i = 0; i < weekDayLength; i++) {\n            if (workWeek.indexOf(weekDay[i]) === -1) {\n                this.parent.nonWorkingDayIndex.push(i);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} seconds .\n     * @param {Date} date .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.setTime = function (seconds, date) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var hour = seconds / 3600;\n        hour = parseInt(hour, 10);\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var min = (seconds - (hour * 3600)) / 60;\n        min = parseInt(min, 10);\n        var sec = seconds - (hour * 3600) - (min * 60);\n        date.setHours(hour, min, sec);\n    };\n    /**\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getTimeDifference = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        if (isCheckTimeZone) {\n            this.updateDateWithTimeZone(sDate, eDate);\n        }\n        return eDate.getTime() - sDate.getTime();\n    };\n    /**\n     * @param {Date} sDate .\n     * @param {Date} eDate .\n     * @returns {void} .\n     */\n    DateProcessor.prototype.updateDateWithTimeZone = function (sDate, eDate) {\n        var sTZ = sDate.getTimezoneOffset();\n        var eTZ = eDate.getTimezoneOffset();\n        var uTZ;\n        var uDate;\n        if (sTZ !== eTZ) {\n            var standardTZ = new Date(new Date().getFullYear(), 0, 1).getTimezoneOffset();\n            if (standardTZ !== sTZ) {\n                uDate = sDate;\n                uTZ = sTZ;\n            }\n            else if (standardTZ !== eTZ) {\n                uDate = eDate;\n                uTZ = eTZ;\n            }\n            if (standardTZ < 0) {\n                var tzDiff = standardTZ - uTZ;\n                uDate.setTime(uDate.getTime() + (tzDiff * 60 * 1000));\n            }\n            else if (standardTZ >= 0) {\n                var tzDiff = uTZ - standardTZ;\n                uDate.setTime(uDate.getTime() - (tzDiff * 60 * 1000));\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getSecondsInDecimal = function (date) {\n        return (date.getHours() * 60 * 60) + (date.getMinutes() * 60) + date.getSeconds() + (date.getMilliseconds() / 1000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {number} localOffset .\n     * @param {string} timezone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.offset = function (date, timezone) {\n        var localOffset = date.getTimezoneOffset();\n        try {\n            var convertedDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n            if (!isNaN(convertedDate.getTime())) {\n                return ((date.getTime() - convertedDate.getTime()) / 60000) + localOffset;\n            }\n            return 0;\n        }\n        catch (error) {\n            return 0;\n        }\n    };\n    DateProcessor.prototype.remove = function (date, timezone) {\n        if (!isNullOrUndefined(date)) {\n            date = this.reverse(date, timezone, date.getTimezoneOffset());\n        }\n        return date;\n    };\n    DateProcessor.prototype.reverse = function (date, fromOffset, toOffset) {\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {string} timezone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.convert = function (date, timezone) {\n        var fromOffset = date.getTimezoneOffset();\n        var toOffset = this.offset(date, timezone);\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {string | Date} date .\n     * @param {boolean} toConvert .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getDateFromFormat = function (date, toConvert) {\n        var updatedDate;\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else if (date instanceof Date) {\n            updatedDate = new Date(date.getTime());\n        }\n        else {\n            var dateObject = this.parent.globalize.parseDate(date, { format: this.parent.getDateFormat(), type: 'dateTime' });\n            updatedDate = isNullOrUndefined(dateObject) && !isNaN(new Date(date).getTime()) ? new Date(date) : dateObject;\n        }\n        if (!isNullOrUndefined(this.parent.timezone) && toConvert) {\n            var convertedDate = this.convert(updatedDate, this.parent.timezone);\n            return convertedDate;\n        }\n        else {\n            return updatedDate;\n        }\n    };\n    /**\n     * @param {Date} date1 .\n     * @param {Date} date2 .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.compareDates = function (date1, date2) {\n        if (!isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return (date1.getTime() > date2.getTime()) ? 1 : (date1.getTime() < date2.getTime()) ? -1 : 0;\n        }\n        else if (!isNullOrUndefined(date1) && isNullOrUndefined(date2)) {\n            return 1;\n        }\n        else if (isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return -1;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getDurationString = function (duration, durationUnit) {\n        var value = '';\n        if (!isNullOrUndefined(duration)) {\n            value += parseFloat(duration.toFixed(2)) + ' ';\n            if (!isNullOrUndefined(durationUnit)) {\n                var plural = duration !== 1;\n                if (durationUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (durationUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (durationUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * Method to get work with value and unit.\n     *\n     * @param {number} work .\n     * @param {string} workUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getWorkString = function (work, workUnit) {\n        var value = '';\n        if (!isNullOrUndefined(work)) {\n            value += parseFloat(work).toFixed(2) + ' ';\n            if (!isNullOrUndefined(workUnit)) {\n                var plural = work !== 1;\n                if (workUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (workUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (workUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.calculateProjectDatesForValidatedTasks = function (editArgs) {\n        var _this = this;\n        var projectStartDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var projectEndDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = (getValue('dataOperation.dataArray', this.parent));\n        if ((!projectStartDate || !projectEndDate) && (flatData && flatData.length === 0)) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        else if (flatData.length > 0) {\n            var sortedStartDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(a[_this.parent.taskFields.startDate])).getTime() -\n                    (new Date(b[_this.parent.taskFields.startDate])).getTime());\n            });\n            var sortedEndDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(b[_this.parent.taskFields.endDate])).getTime() - (new Date(a[_this.parent.taskFields.endDate])).getTime());\n            });\n            minStartDate = sortedStartDate[0][this.parent.taskFields.startDate];\n            maxEndDate = sortedEndDate[sortedEndDate.length - 1][this.parent.taskFields.endDate];\n        }\n        this.parent.cloneProjectStartDate = projectStartDate ? new Date(projectStartDate.getTime()) :\n            typeof minStartDate === 'string' ? new Date(minStartDate) : minStartDate;\n        this.parent.cloneProjectEndDate = projectEndDate ? new Date(projectEndDate.getTime()) :\n            typeof maxEndDate === 'string' ? new Date(maxEndDate) : maxEndDate;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateProjectDates = function (editArgs) {\n        var _this = this;\n        if (this.parent.isLoad && this.parent.enablePersistence &&\n            this.parent.cloneProjectStartDate && this.parent.cloneProjectEndDate) {\n            this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectEndDate = this.getDateFromFormat(this.parent.cloneProjectEndDate);\n            return;\n        }\n        var sDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var eDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var projectStartDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectStartDate\n            ? this.getDateFromFormat(this.parent.cloneProjectStartDate) : this.getDateFromFormat(sDate);\n        var projectEndDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectEndDate\n            ? this.getDateFromFormat(this.parent.cloneProjectEndDate) : this.getDateFromFormat(eDate);\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var taskRange = [];\n        var addDateToList = function (date) {\n            if (!isNullOrUndefined(date)) {\n                taskRange.push(date);\n            }\n        };\n        var sortDates = function (dates) {\n            if (dates.length > 0) {\n                dates.sort(function (a, b) {\n                    return a.getTime() - b.getTime();\n                });\n                minStartDate = new Date(dates[0].getTime());\n                maxEndDate = dates.length > 1 ? new Date(dates[dates.length - 1].getTime()) : null;\n            }\n        };\n        if (((!projectStartDate || !projectEndDate) && flatData.length > 0) || editArgs || this.parent.timelineModule.isZoomToFit) {\n            var viewData = void 0;\n            if (currentViewData.length > 0 && this.parent.timelineModule.isZoomToFit &&\n                this.parent.treeGrid.filterModule &&\n                this.parent.treeGrid.filterModule.filteredResult.length > 0) {\n                viewData = currentViewData;\n            }\n            else {\n                viewData = flatData;\n            }\n            viewData.forEach(function (data) {\n                taskRange = [];\n                var task = data.ganttProperties;\n                var tempStartDate;\n                var tempEndDate;\n                if (isNullOrUndefined(task.startDate) && isNullOrUndefined(task.endDate)) {\n                    tempStartDate = null;\n                    tempEndDate = null;\n                }\n                else {\n                    tempStartDate = _this.getValidStartDate(task);\n                    tempEndDate = _this.getValidEndDate(task);\n                }\n                addDateToList(minStartDate);\n                addDateToList(maxEndDate);\n                addDateToList(tempStartDate);\n                addDateToList(tempEndDate);\n                if (_this.parent.renderBaseline && !_this.parent.timelineModule.isZoomToFit) {\n                    addDateToList(task.baselineStartDate);\n                    addDateToList(task.baselineEndDate);\n                }\n                if (task.indicators && task.indicators.length > 0 && !_this.parent.timelineModule.isZoomToFit) {\n                    task.indicators.forEach(function (item) {\n                        addDateToList(_this.getDateFromFormat(item.date));\n                    });\n                }\n                sortDates(taskRange);\n            });\n            taskRange = [];\n            addDateToList(minStartDate);\n            addDateToList(maxEndDate);\n            //update schedule dates as per holiday and strip line collection\n            if (this.parent.eventMarkers.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var eventMarkers = this.parent.eventMarkers;\n                // eslint-disable-next-line\n                eventMarkers.forEach(function (marker, index) {\n                    addDateToList(_this.getDateFromFormat(marker.day));\n                });\n            }\n            if (this.parent.totalHolidayDates.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var holidays = this.parent.totalHolidayDates;\n                // eslint-disable-next-line\n                holidays.forEach(function (holiday, index) {\n                    addDateToList(new Date(holiday));\n                });\n            }\n            sortDates(taskRange);\n            if (!minStartDate || !maxEndDate) {\n                if (!minStartDate) {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                    minStartDate.setHours(0, 0, 0, 0);\n                }\n                else {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                }\n                maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n                maxEndDate.setDate(maxEndDate.getDate() + 20);\n            }\n        }\n        else if ((!projectStartDate || !projectEndDate) && flatData.length === 0) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        if (!editArgs) {\n            this.prevProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.cloneProjectStartDate = minStartDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectStartDate)) ? new Date(projectStartDate.getTime()) :\n                    minStartDate : minStartDate : new Date(projectStartDate.getTime());\n            this.parent.cloneProjectEndDate = maxEndDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectEndDate)) ? new Date(projectEndDate.getTime()) :\n                    maxEndDate : maxEndDate : new Date(projectEndDate.getTime());\n        }\n        else {\n            setValue('minStartDate', minStartDate, editArgs);\n            setValue('maxEndDate', maxEndDate, editArgs);\n        }\n        this.parent['isProjectDateUpdated'] = true;\n    };\n    /**\n     *\n     * @param {ITaskSegment} segments .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.splitTasksDuration = function (segments) {\n        var duration = 0;\n        var sDate = segments[0].startDate;\n        var eDate = segments[segments.length - 1].endDate;\n        if (this.parent.timelineModule.bottomTier === 'Hour') {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60));\n        }\n        else if (this.parent.timelineModule.bottomTier === 'Minutes') {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60));\n        }\n        else {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24));\n        }\n        return duration;\n    };\n    return DateProcessor;\n}());\nexport { DateProcessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, extend, setValue } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isCountRequired, isScheduledTask } from './utils';\nimport { DateProcessor } from './date-processor';\n/**\n * To calculate and update task related values\n */\nvar TaskProcessor = /** @class */ (function (_super) {\n    __extends(TaskProcessor, _super);\n    function TaskProcessor(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.customSegmentProperties = [];\n        _this.isBaseline = false;\n        _this.uid = 0;\n        _this.recordIndex = 0;\n        _this.taskIds = [];\n        _this.hierarchyData = [];\n        _this.addEventListener();\n        return _this;\n    }\n    TaskProcessor.prototype.addEventListener = function () {\n        this.parent.on('beforeDataManipulate', this.checkDataBinding.bind(this));\n    };\n    /**\n     * @param {boolean} isChange .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.checkDataBinding = function (isChange) {\n        var _this = this;\n        if (isChange) {\n            this.parent.flatData = [];\n            this.parent.currentViewData = [];\n            this.parent.updatedRecords = [];\n            this.dataArray = [];\n            this.taskIds = [];\n            this.parent.ids = [];\n            this.recordIndex = 0;\n            this.hierarchyData = [];\n            this.parent.predecessorsCollection = [];\n            this.parent.treeGrid.parentData = [];\n            this.parent.taskIds = [];\n        }\n        if (isNullOrUndefined(this.parent.dataSource)) {\n            this.parent.dataSource = [];\n            this.parent.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else if (this.parent.dataSource instanceof DataManager) {\n            this.initDataSource(isChange);\n        }\n        else {\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n                var ganttdata = getValue('result', this.parent.dataSource);\n                this.dataArray = ganttdata;\n            }\n            else {\n                this.dataArray = this.parent.dataSource;\n            }\n            this.processTimeline();\n            this.cloneDataSource();\n            this.parent.renderGantt(isChange);\n            this.parent.flatData.map(function (data) {\n                _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n            });\n        }\n        this.parent.flatData.map(function (data) {\n            _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n        });\n    };\n    TaskProcessor.prototype.processTimeline = function () {\n        this.parent.processTimeline();\n        if (!this.parent.enableValidation) {\n            this.parent.dataOperation.calculateProjectDatesForValidatedTasks();\n            this.parent.timelineModule.validateTimelineProp();\n        }\n    };\n    TaskProcessor.prototype.initDataSource = function (isChange) {\n        var _this = this;\n        var queryManager = this.parent.query instanceof Query ? this.parent.query : new Query();\n        queryManager.requiresCount();\n        var dataManager = this.parent.dataSource;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            this.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else {\n            dataManager.executeQuery(queryManager).then(function (e) {\n                _this.dataArray = e.result;\n                _this.processTimeline();\n                if (!_this.parent.loadChildOnDemand || (_this.parent.loadChildOnDemand && !(_this.parent.taskFields.hasChildMapping))) {\n                    _this.cloneDataSource();\n                }\n                _this.parent.renderGantt(isChange);\n            }).catch(function (e) {\n                // Trigger action failure event\n                _this.parent.processTimeline();\n                _this.parent.renderGantt(isChange);\n                _this.parent.trigger('actionFailure', { error: e });\n            });\n        }\n    };\n    TaskProcessor.prototype.constructDataSource = function (dataSource) {\n        var mappingData = new DataManager(dataSource).executeLocal(new Query()\n            .group(this.parent.taskFields.parentID));\n        var rootData = [];\n        var index;\n        for (var i = 0; i < mappingData.length; i++) {\n            var groupData = mappingData[i];\n            if (!isNullOrUndefined(groupData.key)) {\n                index = this.taskIds.indexOf(groupData.key.toString());\n                if (index > -1) {\n                    if (!isNullOrUndefined(groupData.key)) {\n                        dataSource[index][this.parent.taskFields.child] = groupData.items;\n                        continue;\n                    }\n                }\n            }\n            if (index !== -1) {\n                rootData.push.apply(rootData, groupData.items); // eslint-disable-line\n            }\n        }\n        this.hierarchyData = this.dataReorder(dataSource, rootData);\n    };\n    TaskProcessor.prototype.cloneDataSource = function () {\n        var taskIdMapping = this.parent.taskFields.id;\n        var parentIdMapping = this.parent.taskFields.parentID;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(taskIdMapping) && !isNullOrUndefined(parentIdMapping)) {\n            var data = [];\n            for (var i = 0; i < this.dataArray.length; i++) {\n                var tempData = this.dataArray[i];\n                if (tempData['parentItem']) {\n                    delete tempData['parentItem'];\n                }\n                data.push(extend({}, {}, tempData, true));\n                if (!isNullOrUndefined(tempData[taskIdMapping])) {\n                    this.taskIds.push(tempData[taskIdMapping].toString());\n                }\n            }\n            if (!this.parent.taskFields.child) {\n                this.parent.setProperties({ taskFields: { child: 'Children' } }, true);\n            }\n            this.constructDataSource(data);\n            hierarchicalData = this.hierarchyData;\n        }\n        else {\n            hierarchicalData = this.dataArray;\n        }\n        if (this.parent.taskFields.segmentId) {\n            this.segmentCollection = new DataManager(this.parent.segmentData).executeLocal(new Query()\n                .group(this.parent.taskFields.segmentId));\n            if (!this.parent.taskFields.segments) {\n                this.parent.taskFields.segments = 'Segments';\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var resources = extend([], [], this.parent.resources, true);\n            var unassignedTasks = [];\n            this.constructResourceViewDataSource(resources, hierarchicalData, unassignedTasks);\n            if (unassignedTasks.length > 0) {\n                var record = {};\n                var resourceName = this.parent.resourceFields.name || 'resourceName';\n                record[this.parent.resourceFields.id] = 0;\n                record[resourceName] = this.parent.localeObj.getConstant('unassignedTask');\n                record[this.parent.taskFields.child] = unassignedTasks;\n                resources.push(record);\n            }\n            hierarchicalData = resources;\n        }\n        this.prepareDataSource(hierarchicalData);\n    };\n    /**\n     * @param {object[]} resources .\n     * @param {object[]} data .\n     * @param {object[]} unassignedTasks .\n     * @returns {void} .\n     *\n     */\n    TaskProcessor.prototype.constructResourceViewDataSource = function (resources, data, unassignedTasks) {\n        var _loop_1 = function (i) {\n            var tempData = data[i];\n            var child = this_1.parent.taskFields.child !== null ? this_1.parent.taskFields.child : this_1.parent.taskFields.child = 'Children';\n            var resourceData = tempData && tempData[this_1.parent.taskFields.resourceInfo];\n            var resourceIdMapping = this_1.parent.resourceFields.id;\n            if ((!tempData[child] || tempData[child].length === 0) && resourceData && resourceData.length) {\n                if (typeof (resourceData) === 'string') {\n                    this_1.isResourceString = true;\n                    var id = resourceData;\n                    for (var j = 0; j < resources.length; j++) {\n                        if (resources[j][this_1.parent.resourceFields.name].toString() === id.toString()) {\n                            if (resources[j][child]) {\n                                resources[j][child].push(tempData);\n                            }\n                            else {\n                                resources[j][child] = [tempData];\n                            }\n                            break;\n                        }\n                    }\n                }\n                else {\n                    resourceData.forEach(function (resource) {\n                        var id = (typeof resource === 'object') ? resource[resourceIdMapping] :\n                            resource;\n                        for (var j = 0; j < resources.length; j++) {\n                            if (resources[j][resourceIdMapping].toString() === id.toString()) {\n                                if (resources[j][child]) {\n                                    resources[j][child].push(tempData);\n                                }\n                                else {\n                                    resources[j][child] = [tempData];\n                                }\n                                break;\n                            }\n                        }\n                    });\n                }\n            }\n            else if (!tempData[child] || (tempData[child] && tempData[child].length === 0)) {\n                unassignedTasks.push(tempData);\n            }\n            if (tempData[this_1.parent.taskFields.child] && tempData[this_1.parent.taskFields.child].length) {\n                this_1.constructResourceViewDataSource(resources, tempData[this_1.parent.taskFields.child], unassignedTasks);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < data.length; i++) {\n            _loop_1(i);\n        }\n    };\n    /**\n     * Function to manipulate data-source\n     *\n     * @param {object[]} data .\n     * @returns {void} .\n     * @hidden\n     */\n    TaskProcessor.prototype.prepareDataSource = function (data) {\n        this.prepareRecordCollection(data, 0);\n        this.parent.initialLoadData = extend({}, {}, this.parent.flatData, true);\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.parent.dataMap = this.parent.flatData.reduce(function (map, val) {\n                map.set(val.uniqueID, val);\n                return map;\n            }, new Map());\n        }\n        // Method to maintain the shared task uniqueIds\n        if (this.parent.viewType === 'ResourceView') {\n            this.calculateSharedTaskUniqueIds();\n        }\n        if (this.parent.taskFields.dependency && this.parent.predecessorModule) {\n            this.parent.predecessorModule.ensurePredecessorCollection();\n        }\n    };\n    TaskProcessor.prototype.calculateSharedTaskUniqueIds = function () {\n        var _loop_2 = function (i) {\n            var value = [];\n            value[0] = this_2.parent.getTaskIds()[i][0];\n            value[1] = this_2.parent.getTaskIds()[i].slice(1);\n            if (value[0] !== 'R') {\n                var sharedRecords_1 = [];\n                var ids_1 = [];\n                this_2.parent.flatData.filter(function (data) {\n                    if (data.ganttProperties.taskId.toString() === value[1] && data.level !== 0) {\n                        ids_1.push(data.ganttProperties.rowUniqueID);\n                        sharedRecords_1.push(data);\n                    }\n                });\n                for (var j = 0; j < sharedRecords_1.length; j++) {\n                    sharedRecords_1[j].ganttProperties.sharedTaskUniqueIds = ids_1;\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            _loop_2(i);\n        }\n    };\n    TaskProcessor.prototype.prepareRecordCollection = function (data, level, parentItem) {\n        var _this = this;\n        var length = data.length;\n        var _loop_3 = function (i) {\n            var tempData = data[i];\n            if (!isNullOrUndefined(this_3.parent.taskFields.segmentId)) {\n                var segmentData = this_3.segmentCollection.\n                    filter(function (x) { return x.key === tempData[_this.parent.taskFields.id]; });\n                if (segmentData.length > 0) {\n                    tempData[this_3.parent.taskFields.segments] = segmentData[0].items;\n                }\n            }\n            if (this_3.parent.taskFields.hasChildMapping && tempData['parentUniqueID']) {\n                parentItem = this_3.parent.getTaskByUniqueID(tempData['parentUniqueID']);\n            }\n            var ganttData = this_3.createRecord(tempData, level, parentItem, true);\n            if (!this_3.parent.enableValidation || (!this_3.parent.autoCalculateDateScheduling || (this_3.parent.isLoad &&\n                this_3.parent.treeGrid.loadChildOnDemand && this_3.parent.taskFields.hasChildMapping))) {\n                this_3.updateTaskLeftWidth(ganttData);\n            }\n            ganttData.index = this_3.recordIndex++;\n            this_3.parent.ids[ganttData.index] = ganttData.ganttProperties.rowUniqueID;\n            this_3.parent.flatData.push(ganttData);\n            this_3.parent.setTaskIds(ganttData);\n            var childData = tempData[this_3.parent.taskFields.child] || (tempData['taskData'] && tempData['taskData'][this_3.parent.taskFields.child]);\n            if (this_3.parent.viewType === 'ResourceView' && isNullOrUndefined(childData)\n                && isNullOrUndefined(ganttData.parentItem) && ganttData.level === 0) {\n                var ganttProp = ganttData.ganttProperties;\n                var parentData = ganttData;\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', null, parentData.ganttProperties, true);\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', null, parentData.ganttProperties, true);\n                var parentProgress = 0;\n                var parentProp = parentData.ganttProperties;\n                this_3.parent.setRecordValue('isMilestone', false, parentProp, true);\n                if (parentProp.isAutoSchedule) {\n                    this_3.calculateDuration(parentData);\n                }\n                this_3.updateWorkWithDuration(parentData);\n                var parentWork = parentProp.work;\n                this_3.parent.setRecordValue('work', parentWork, parentProp, true);\n                this_3.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                if (!isNullOrUndefined(this_3.parent.taskFields.type)) {\n                    this_3.updateMappingData(parentData, 'type');\n                }\n                this_3.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                this_3.parent.setRecordValue('totalProgress', 0, parentProp, true);\n                this_3.parent.setRecordValue('totalDuration', 0, parentProp, true);\n                if (!parentProp.isAutoSchedule) {\n                    this_3.parent.setRecordValue('autoDuration', this_3.calculateAutoDuration(parentProp), parentProp, true);\n                    this_3.updateAutoWidthLeft(parentData);\n                }\n                if (!this_3.parent.allowParentDependency) {\n                    this_3.resetDependency(parentData);\n                }\n                this_3.updateWidthLeft(parentData);\n                this_3.updateTaskData(parentData);\n            }\n            if (this_3.parent.taskFields.hasChildMapping) {\n                parentItem = null;\n            }\n            if (!isNullOrUndefined(childData) && childData.length > 0) {\n                this_3.prepareRecordCollection(childData, ganttData.level + 1, ganttData);\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_3(i);\n        }\n    };\n    /**\n     * Method to update custom field values in gantt record\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.addCustomFieldValue = function (data, ganttRecord) {\n        var columns = this.parent.ganttColumns;\n        var length = columns.length;\n        if (length) {\n            for (var i = 0; i < length; i++) {\n                var fieldName = ganttRecord[columns[i].field];\n                if (fieldName === undefined) {\n                    this.parent.setRecordValue(columns[i].field, data[columns[i].field], ganttRecord);\n                }\n            }\n        }\n    };\n    TaskProcessor.prototype.getGanttUid = function (prefix) {\n        return prefix + this.uid++;\n    };\n    /**\n     * To populate Gantt record\n     *\n     * @param {object} data .\n     * @param {number} level .\n     * @param {IGanttData} parentItem .\n     * @param {boolean} isLoad .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.createRecord = function (data, level, parentItem, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var resourceFields = this.parent.resourceFields;\n        var progress = data[taskSettings.progress];\n        var id = null;\n        var name = null;\n        var notes = data[taskSettings.notes];\n        progress = progress ? parseFloat(progress.toString()) ? parseFloat(progress.toString()) : 0 : 0;\n        progress = (100 < progress) ? 100 : progress;\n        var predecessors = data[taskSettings.dependency];\n        var baselineStartDate = this.getDateFromFormat(data[taskSettings.baselineStartDate], true);\n        var baselineEndDate = this.getDateFromFormat(data[taskSettings.baselineEndDate], true);\n        var ganttData = {};\n        var ganttProperties = {};\n        var autoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                data[taskSettings.manual] === true ? false : true;\n        this.parent.setRecordValue('ganttProperties', ganttProperties, ganttData);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessor && data['ganttProperties'].predecessor.length > 0 && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessor', data['ganttProperties'].predecessor, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(data[taskSettings.id])) {\n            id = data[taskSettings.id];\n            name = data[taskSettings.name];\n            var shouldLoadChild = (this.parent.loadChildOnDemand &&\n                taskSettings.hasChildMapping && data['taskData']) ? true : false;\n            if (shouldLoadChild) {\n                ganttData['taskData'] = data['taskData'];\n            }\n            else {\n                if (data['taskData'] && data['ganttProperties']) {\n                    this.addTaskData(ganttData, data['taskData'], isLoad);\n                }\n                else {\n                    this.addTaskData(ganttData, data, isLoad);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(data[resourceFields.id])) {\n            id = data[resourceFields.id];\n            if (isNullOrUndefined(data[resourceFields.name]) && data['resourceName'] === 'Unassigned Task') {\n                name = data['resourceName'];\n            }\n            else {\n                name = data[resourceFields.name];\n            }\n            this.addTaskData(ganttData, data, false);\n        }\n        this.parent.setRecordValue('taskId', id, ganttProperties, true);\n        this.parent.setRecordValue('taskName', name, ganttProperties, true);\n        // eslint-disable-next-line\n        this.parent && taskSettings.parentID && this.parent.setRecordValue('parentId', data[taskSettings.parentID], ganttProperties, true);\n        this.addCustomFieldValue(data, ganttData);\n        this.parent.setRecordValue('isAutoSchedule', autoSchedule, ganttProperties, true);\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n            this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n        }\n        else if (data['ganttProperties']) {\n            this.parent.setRecordValue('resourceInfo', data['ganttProperties'].resourceInfo, ganttProperties, true);\n        }\n        this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n        this.parent.setRecordValue('indicators', data[taskSettings.indicators], ganttProperties, true);\n        this.updateResourceName(ganttData);\n        if ((!isNullOrUndefined(data[taskSettings.child]) && data[taskSettings.child].length > 0) ||\n            (data['taskData'] && data['taskData'][taskSettings.child] && data['taskData'][taskSettings.child].length > 0)) {\n            this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n            if (!this.parent.allowParentDependency) {\n                this.resetDependency(ganttData);\n            }\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && ganttData.taskData[taskSettings.hasChildMapping]) {\n                this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            }\n            else {\n                this.parent.setRecordValue('hasChildRecords', false, ganttData);\n            }\n        }\n        this.calculateScheduledValues(ganttData, data, isLoad);\n        this.parent.setRecordValue('baselineStartDate', this.checkBaselineStartDate(baselineStartDate, ganttProperties), ganttProperties, true);\n        // set default end time, if hour is 0\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0 && baselineEndDate) {\n            dayEndTime = this.parent['getEndTime'](baselineEndDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (baselineEndDate && baselineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, baselineEndDate);\n        }\n        if ((ganttProperties.baselineStartDate && baselineEndDate &&\n            (ganttProperties.baselineStartDate.getTime() > baselineEndDate.getTime())) ||\n            ((!isNullOrUndefined(ganttProperties.baselineStartDate) && !isNullOrUndefined(ganttProperties.startDate)\n                && (ganttProperties.baselineStartDate.getTime() === ganttProperties.startDate.getTime()))\n                && (!isNullOrUndefined(baselineEndDate) && !isNullOrUndefined(ganttProperties.endDate)\n                    && (baselineEndDate.toLocaleDateString() === ganttProperties.endDate.toLocaleDateString())) &&\n                ganttProperties.isMilestone)) {\n            baselineEndDate = ganttProperties.baselineStartDate;\n        }\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate, ganttProperties), ganttProperties, true);\n        this.parent.setRecordValue('progress', progress, ganttProperties, true);\n        this.parent.setRecordValue('totalProgress', progress, ganttProperties, true);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessorsName && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessorsName', data['ganttProperties'].predecessorsName, ganttProperties, true);\n        }\n        else {\n            this.parent.setRecordValue('predecessorsName', predecessors, ganttProperties, true);\n        }\n        this.parent.setRecordValue('notes', notes, ganttProperties, true);\n        this.parent.setRecordValue('cssClass', data[taskSettings.cssClass], ganttProperties, true);\n        this.parent.setRecordValue('parentItem', this.getCloneParent(parentItem), ganttData);\n        if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && this.parent.currentViewData.length > 0) {\n            this.parent.setRecordValue('parentItem', ganttData.parentItem, this.parent.currentViewData[this.taskIds.indexOf(data[taskSettings.id].toString())]);\n        }\n        var parentUniqId = ganttData.parentItem ? ganttData.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, ganttData);\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(taskSettings.parentID)\n            && !isNullOrUndefined(ganttData.parentItem)) {\n            this.parent.setRecordValue('parentId', ganttData.parentItem.taskId, ganttProperties, true);\n        }\n        this.parent.setRecordValue('level', level, ganttData);\n        if (data['ganttProperties'] && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && data['uniqueID']) {\n                this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n            }\n            else {\n                this.parent.setRecordValue('uniqueID', this.getGanttUid(this.parent.element.id + '_data_'), ganttData);\n            }\n        }\n        this.parent.setRecordValue('uniqueID', ganttData.uniqueID, ganttProperties, true);\n        this.parent.setRecordValue('childRecords', [], ganttData);\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n            !isNullOrUndefined(taskSettings.child)) {\n            this.parent.setRecordValue(taskSettings.child, [], ganttData);\n        }\n        if (ganttData.hasChildRecords) {\n            this.parent.setRecordValue('autoStartDate', ganttData.ganttProperties.startDate, ganttProperties);\n            this.parent.setRecordValue('autoEndDate', ganttData.ganttProperties.endDate, ganttProperties);\n            this.parent.setRecordValue('autoDuration', ganttData.ganttProperties.duration, ganttProperties);\n        }\n        this.parent.setRecordValue('expanded', (ganttData.hasChildRecords && this.parent.collapseAllParentTasks) ? false : true, ganttData);\n        this.updateExpandStateMappingValue(ganttData, data);\n        if (!isLoad) {\n            this.parent.setRecordValue('width', this.calculateWidth(ganttData), ganttProperties, true);\n            this.parent.setRecordValue('left', this.calculateLeft(ganttProperties, ganttData), ganttProperties, true);\n            this.parent.setRecordValue('progressWidth', this.getProgressWidth(ganttProperties.width, progress), ganttProperties, true);\n            if (ganttProperties.baselineEndDate && ganttProperties.baselineStartDate) {\n                this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(ganttProperties), ganttProperties, true);\n                this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(ganttProperties), ganttProperties, true);\n            }\n        }\n        if (isNullOrUndefined(taskSettings.work)) {\n            this.updateWorkWithDuration(ganttData);\n        }\n        if (!isNullOrUndefined(taskSettings.manual)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'manual');\n        }\n        this.updateTaskData(ganttData);\n        if (predecessors) {\n            this.parent.predecessorsCollection.push(ganttData);\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            parentItem.childRecords.push(ganttData);\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n                !isNullOrUndefined(this.parent.taskFields.child)) {\n                parentItem[this.parent.taskFields.child].push(ganttData.taskData);\n            }\n        }\n        if (this.parent.viewType === 'ProjectView') {\n            this.parent.setRecordValue('rowUniqueID', ganttProperties.taskId.toString(), ganttProperties, true);\n        }\n        else {\n            var uniqueId = ganttData.uniqueID.replace(this.parent.element.id + '_data_', '');\n            // if (this.parent.viewType === 'ResourceView' && typeof(ganttData.ganttProperties.taskId) === 'string') {\n            //     uniqueId = ganttProperties.taskId.toString();\n            // }\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttData);\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttProperties, true);\n            this.parent.setRecordValue('sharedTaskUniqueIds', [], ganttProperties, true);\n        }\n        if (this.parent.allowUnscheduledTasks && ganttData.ganttProperties.startDate\n            && (ganttData.ganttProperties.endDate || ganttData.ganttProperties.duration)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n            if (!isLoad) {\n                this.updateWidthLeft(ganttData);\n            }\n        }\n        this.parent.chartRowsModule.updateSegment(ganttData.ganttProperties.segments, ganttData.ganttProperties.taskId);\n        return ganttData;\n    };\n    TaskProcessor.prototype.sortSegmentsData = function (segments, onLoad, ganttProp) {\n        var _this = this;\n        if (onLoad) {\n            segments.sort(function (a, b) {\n                var startDate = _this.parent.taskFields.startDate;\n                return _this.getDateFromFormat(a[startDate]).getTime() - _this.getDateFromFormat(b[startDate]).getTime();\n            });\n        }\n        else {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n        }\n        return segments;\n    };\n    TaskProcessor.prototype.setSegmentsInfo = function (data, onLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var ganttSegments = [];\n        var segments;\n        var sumOfDuration = 0;\n        var remainingDuration = 0;\n        var predefinedProperties = [this.parent.taskFields.duration, this.parent.taskFields.endDate,\n            this.parent.taskFields.startDate, this.parent.taskFields.id];\n        var taskData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.segments)) {\n            segments = onLoad ? data.taskData[this.parent.taskFields.segments] : data.ganttProperties.segments;\n            if (!onLoad) {\n                if (data.taskData[this.parent.taskFields.segments] && data.taskData[this.parent.taskFields.segments].length > 0) {\n                    data.taskData[this.parent.taskFields.segments].forEach(function (segment) {\n                        var cleanedObject = {};\n                        var extraProperties = {};\n                        for (var key in segment) {\n                            if (predefinedProperties.indexOf(key) !== -1) {\n                                cleanedObject[key] = segment[key];\n                            }\n                            else {\n                                extraProperties[key] = segment[key];\n                            }\n                        }\n                        _this.customSegmentProperties.push(extraProperties);\n                    });\n                }\n            }\n            if (!isNullOrUndefined(segments) && segments.length > 1) {\n                this.sortSegmentsData(segments, onLoad, data.ganttProperties);\n                for (var i = 0; i < segments.length; i++) {\n                    var segment = segments[i];\n                    var startDate = onLoad ? segment[taskSettings.startDate] : segment.startDate;\n                    var endDate = onLoad ? segment[taskSettings.endDate] : segment.endDate;\n                    var duration = onLoad ? segment[taskSettings.duration] : segment.duration;\n                    startDate = this.getDateFromFormat(startDate);\n                    startDate = this.checkStartDate(startDate, data.ganttProperties, false);\n                    if (!isNullOrUndefined(duration)) {\n                        endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    else {\n                        endDate = this.getDateFromFormat(endDate);\n                        if (endDate && (isNullOrUndefined(duration) || String(duration) === '')) {\n                            var dayEndTime = void 0;\n                            if (this.parent.weekWorkingTime.length > 0) {\n                                dayEndTime = this.parent['getEndTime'](endDate);\n                            }\n                            else {\n                                dayEndTime = this.parent.defaultEndTime;\n                            }\n                            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                                this.setTime(dayEndTime, endDate);\n                            }\n                        }\n                        endDate = this.checkEndDate(endDate, data.ganttProperties, false);\n                        duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration - 1;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    segment = {};\n                    if (!(startDate && endDate) || !(startDate && duration)) {\n                        break;\n                    }\n                    sumOfDuration += Number(duration);\n                    segment.startDate = startDate;\n                    segment.endDate = endDate;\n                    segment.duration = Number(duration);\n                    segment.width = 0;\n                    segment.left = 0;\n                    segment.segmentIndex = i;\n                    ganttSegments.push(segment);\n                    if (!isNullOrUndefined(ganttSegments[i - 1])) {\n                        var unit = void 0;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            if (this.parent.timelineSettings.bottomTier.unit === 'Minutes') {\n                                unit = 'minute';\n                            }\n                            else if (this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n                                unit = 'hour';\n                            }\n                            else {\n                                unit = data.ganttProperties.durationUnit;\n                            }\n                        }\n                        else {\n                            unit = data.ganttProperties.durationUnit;\n                        }\n                        var offsetDuration = this.getDuration(ganttSegments[i - 1].endDate, ganttSegments[i].startDate, unit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        segment.offsetDuration = offsetDuration;\n                        if (offsetDuration < 1) {\n                            if (this.parent.weekWorkingTime.length === 0) {\n                                segment.startDate = this.getEndDate(ganttSegments[i - 1].endDate, 1, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            }\n                            else {\n                                var prevSegmentDate = new Date(ganttSegments[i - 1].endDate.getTime());\n                                segment.startDate = new Date(prevSegmentDate.setHours(prevSegmentDate.getHours() + 24));\n                                if (this.isOnHolidayOrWeekEnd(segment.startDate, true)) {\n                                    do {\n                                        segment.startDate.setDate(segment.startDate.getDate() + 1);\n                                    } while (this.isOnHolidayOrWeekEnd(segment.startDate, true));\n                                }\n                                if (!this.parent.includeWeekend) {\n                                    segment.startDate = this.getNextWorkingDay(segment.startDate);\n                                }\n                                var dayEndTime = this.parent['getEndTime'](ganttSegments[i - 1].endDate);\n                                if (this.getSecondsInDecimal(ganttSegments[i - 1].endDate) === dayEndTime) {\n                                    this.setTime(this.parent['getEndTime'](segment.startDate), segment.startDate);\n                                }\n                            }\n                            segment.startDate = this.checkStartDate(segment.startDate, data.ganttProperties, false);\n                            segment.endDate = this.getEndDate(segment.startDate, segment.duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            segment.endDate = !taskSettings.duration && taskSettings.endDate\n                                && segment.endDate > data.ganttProperties.endDate ? data.ganttProperties.endDate : segment.endDate;\n                            segment.offsetDuration = 1;\n                        }\n                    }\n                    else {\n                        segment.offsetDuration = 0;\n                    }\n                    taskData.push(this.setSegmentTaskData(segment, segments[i]));\n                }\n                this.parent.setRecordValue('duration', sumOfDuration, data.ganttProperties, true);\n                if (!isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue('endDate', ganttSegments[ganttSegments.length - 1].endDate, data.ganttProperties, true);\n                }\n                if (!isNullOrUndefined(taskSettings.endDate) && !isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue(this.parent.taskFields.endDate, ganttSegments[ganttSegments.length - 1].endDate, data, true);\n                }\n                if (!onLoad && taskData && taskData.length > 0) {\n                    taskData.forEach(function (task, index) {\n                        var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                        taskData[index] = mergedObject;\n                    });\n                }\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, taskData, data);\n            }\n        }\n        if (ganttSegments.length > 1) {\n            this.parent.setRecordValue('segments', ganttSegments, data.ganttProperties, true);\n            this.parent.setRecordValue(this.parent.taskFields.segments, data.taskData[this.parent.taskFields.segments], data, true);\n        }\n        else {\n            ganttSegments = null;\n        }\n        return ganttSegments;\n    };\n    TaskProcessor.prototype.setSegmentTaskData = function (segments, segmenttaskData) {\n        var taskSettings = this.parent.taskFields;\n        var taskData = extend({}, {}, segmenttaskData, true);\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            taskData[this.parent.taskFields.startDate] = segments.startDate;\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            taskData[this.parent.taskFields.endDate] = segments.endDate;\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            taskData[this.parent.taskFields.duration] = Number(segments.duration);\n        }\n        return taskData;\n    };\n    TaskProcessor.prototype.fetchResources = function (ganttData) {\n        if ((this.parent.editModule && this.parent.editModule.dialogModule &&\n            (this.parent.editModule.dialogModule['isFromAddDialog'] || this.parent.editModule.dialogModule['isFromEditDialog']))) {\n            return this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            return ganttData.ganttProperties.resourceInfo;\n        }\n    };\n    /**\n     * Method to calculate work based on resource unit and duration.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateWorkWithDuration = function (ganttData) {\n        if (this.parent['triggeredColumnName'] === this.parent.taskFields.work && ganttData.ganttProperties.duration !== 0 &&\n            (isNullOrUndefined(ganttData.ganttProperties.resourceInfo) || ganttData.ganttProperties.resourceInfo.length !== 0)) {\n            return;\n        }\n        var resources = this.fetchResources(ganttData);\n        var work = 0;\n        var resourceOneDayWork;\n        if ((!isNullOrUndefined(resources) && resources.length > 0) && !ganttData.hasChildRecords) {\n            var resourcesLength = resources.length;\n            var index = void 0;\n            var resourceUnit = void 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n            for (index = 0; index < resourcesLength; index++) {\n                // const resource: any = ganttData.ganttProperties.resourceInfo ? ganttData.ganttProperties.resourceInfo : resources;\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                resourceOneDayWork = (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : 0);\n                work += (resourceOneDayWork * durationInDay);\n            }\n            //Update work as per defined unit.\n            if (ganttData.ganttProperties.workUnit === 'minute') {\n                work = work * 60;\n            }\n            if (ganttData.ganttProperties.workUnit === 'day') {\n                work = work / actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (work % 1 !== 0) {\n                work = parseFloat(work.toFixed(2));\n            }\n        }\n        else if (!ganttData.hasChildRecords && !isNullOrUndefined(ganttData.ganttProperties.work) &&\n            (!isNullOrUndefined(ganttData.ganttProperties.duration) && ganttData.ganttProperties.duration > 0)) {\n            work = ganttData.ganttProperties.work;\n        }\n        if (ganttData.childRecords) {\n            if (ganttData.childRecords.length > 0 && this.parent.isOnEdit) {\n                var childCompletedWorks = 0;\n                for (var i = 0; i < ganttData.childRecords.length; i++) {\n                    childCompletedWorks += ganttData.childRecords[i].ganttProperties.work;\n                }\n                work += childCompletedWorks;\n            }\n        }\n        if (ganttData.ganttProperties.taskType === 'FixedUnit' && resourceOneDayWork === 0) {\n            work = 0;\n            this.parent.setRecordValue('duration', 0, ganttData.ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                this.parent.setRecordValue(this.parent.taskFields.duration, 0, ganttData, true);\n            }\n        }\n        this.parent.setRecordValue('work', work, ganttData.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.work) && !this.parent.isLoad) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} parent .\n     * @returns {IParent} .\n     * @private\n     */\n    TaskProcessor.prototype.getCloneParent = function (parent) {\n        if (!isNullOrUndefined(parent)) {\n            var cloneParent = {};\n            cloneParent.uniqueID = parent.uniqueID;\n            cloneParent.expanded = parent.expanded;\n            cloneParent.level = parent.level;\n            cloneParent.index = parent.index;\n            cloneParent.taskId = parent.ganttProperties.rowUniqueID;\n            return cloneParent;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateResources = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttProperties = void 0;\n            var ganttData = void 0;\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttProperties = this.parent.flatData[index].ganttProperties;\n                ganttData = this.parent.flatData[index];\n                this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n                this.updateResourceName(ganttData);\n            }\n        }\n    };\n    TaskProcessor.prototype.addTaskData = function (ganttData, data, isLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var dataManager = this.parent.dataSource;\n        if (isLoad) {\n            if (taskSettings.parentID || (dataManager instanceof DataManager &&\n                dataManager.dataSource.json && dataManager.dataSource.offline)) {\n                if (taskSettings.parentID) {\n                    var id = data[taskSettings.id];\n                    var index = this.taskIds.indexOf(id.toString());\n                    var tempData_1 = (index > -1) ? this.dataArray[index] : {};\n                    if (!isNullOrUndefined(this.parent.taskFields.segmentId)) {\n                        var segmentDataCollection = this.segmentCollection.\n                            filter(function (x) { return x.key === tempData_1[_this.parent.taskFields.id]; });\n                        if (segmentDataCollection.length > 0) {\n                            tempData_1[this.parent.taskFields.segments] = segmentDataCollection[0].items;\n                        }\n                    }\n                    this.parent.setRecordValue('taskData', tempData_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData', data, ganttData);\n                }\n            }\n            else {\n                this.parent.setRecordValue('taskData', data, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData', data, ganttData);\n        }\n    };\n    TaskProcessor.prototype.updateExpandStateMappingValue = function (ganttData, data) {\n        var expandStateMapping = this.parent.taskFields.expandState;\n        var mappingValue = data[expandStateMapping];\n        var updatableValue;\n        if (expandStateMapping && ganttData.hasChildRecords) {\n            if (!isNullOrUndefined(mappingValue)) {\n                updatableValue = mappingValue.toString() === 'true' ? true : false;\n            }\n            else if (isNullOrUndefined(mappingValue) && !this.parent.collapseAllParentTasks) {\n                updatableValue = true;\n            }\n            else if (isNullOrUndefined(mappingValue) && this.parent.collapseAllParentTasks) {\n                updatableValue = false;\n            }\n            this.parent.setRecordValue('taskData.' + expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue(expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue('expanded', updatableValue, ganttData);\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.setValidatedDates = function (ganttData, data) {\n        var ganttProperties = ganttData.ganttProperties;\n        var taskSettings = this.parent.taskFields;\n        var duration = data[taskSettings.duration];\n        var startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n        var endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        this.parent.setRecordValue('startDate', new Date(startDate.getTime()), ganttProperties, true);\n        if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n        }\n        else {\n            this.calculateDuration(ganttData);\n        }\n        this.parent.setRecordValue('endDate', new Date((endDate.getTime())), ganttProperties, true);\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @param {boolean} isLoad .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateScheduledValues = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        var duration = data[taskSettings.duration];\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        var startDate;\n        var endDate;\n        if (ganttProperties.startDate && ganttProperties.endDate) {\n            startDate = this.getDateFromFormat(ganttProperties.startDate, true);\n            endDate = this.getDateFromFormat(ganttProperties.endDate, true);\n        }\n        else {\n            startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n            endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        }\n        var segments = taskSettings.segments ? (data[taskSettings.segments] ||\n            ganttData.taskData[taskSettings.segments]) : null;\n        var isMileStone = taskSettings.milestone ? data[taskSettings.milestone] ? true : false : false;\n        var durationMapping = data[taskSettings.durationUnit] ? data[taskSettings.durationUnit] : '';\n        this.parent.setRecordValue('durationUnit', this.validateDurationUnitMapping(durationMapping), ganttProperties, true);\n        var work = !isNullOrUndefined(data[taskSettings.work]) ? parseFloat(data[taskSettings.work]) : 0;\n        this.parent.setRecordValue('workUnit', this.validateWorkUnitMapping(this.parent.workUnit), ganttProperties, true);\n        var taskTypeMapping = data[taskSettings.type] ? data[taskSettings.type] : '';\n        var tType = this.validateTaskTypeMapping(taskTypeMapping);\n        this.parent.setRecordValue('taskType', tType, ganttProperties, true);\n        var isUnassignedTask = data[this.parent.resourceFields.name] === this.parent.localeObj.getConstant('unassignedTask');\n        if (isUnassignedTask) {\n            this.parent.setRecordValue('taskType', 'FixedDuration', ganttProperties, true);\n        }\n        if (isLoad && !this.parent.enableValidation && startDate && endDate) {\n            this.setValidatedDates(ganttData, data);\n        }\n        else {\n            if (!endDate && !startDate && (isNullOrUndefined(duration) || duration === '')) {\n                if (this.parent.allowUnscheduledTasks) {\n                    return;\n                }\n                else {\n                    this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            else if (startDate) {\n                this.calculateDateFromStartDate(startDate, endDate, duration, ganttData, isLoad);\n            }\n            else if (endDate) {\n                this.calculateDateFromEndDate(endDate, duration, ganttData);\n            }\n            else if (!isNullOrUndefined(duration) && duration !== '') {\n                this.updateDurationValue(duration, ganttProperties);\n                var startDate_1 = this.parent.allowUnscheduledTasks ? null : this.getProjectStartDate(ganttProperties, isLoad);\n                this.parent.setRecordValue('startDate', startDate_1, ganttProperties, true);\n                if (this.parent.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                }\n                else {\n                    this.calculateEndDate(ganttData);\n                }\n            }\n        }\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(ganttData.ganttProperties.startDate) &&\n                !isNullOrUndefined(this.parent.taskFields.startDate)) {\n                ganttData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n                ganttData.taskData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n            }\n            if (!isNullOrUndefined(ganttData.ganttProperties.endDate) &&\n                !isNullOrUndefined(this.parent.taskFields.endDate)) {\n                ganttData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n                ganttData.taskData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.work)) {\n            var durationUnit = this.parent.taskFields.durationUnit && data[taskSettings.durationUnit] ?\n                data[taskSettings.durationUnit] : this.parent.durationUnit;\n            this.parent.setRecordValue('durationUnit', durationUnit, ganttProperties, true);\n            if (isNaN(work) || isNullOrUndefined(work)) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                }\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('work', work, ganttProperties, true);\n                switch (tType) {\n                    case 'FixedDuration':\n                        // To validate the work column as well,when initial dataset have 0 duration\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) ||\n                            ganttProperties.duration === 0) {\n                            this.updateWorkWithDuration(ganttData);\n                        }\n                        break;\n                    case 'FixedWork':\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) ||\n                            ganttProperties.work === 0) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        break;\n                    case 'FixedUnit':\n                        if (!ganttData.hasChildRecords) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        break;\n                }\n                if (!isNullOrUndefined(taskSettings.type)) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'type');\n                }\n                if (ganttProperties.duration === 0) {\n                    this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                    }\n                    this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                }\n                else if (!isNullOrUndefined(ganttProperties.startDate) && !isNullOrUndefined(ganttProperties.duration)) {\n                    this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, false, ganttData, true);\n                    }\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n        else if (taskSettings.type && ganttProperties.taskType) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'type');\n        }\n        if (!isNullOrUndefined(segments)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n        }\n        if (ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(isMileStone) && isMileStone) {\n            this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n    };\n    /**\n     * Method to update duration with work value.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateDurationWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = this.fetchResources(ganttData);\n        if (!isNullOrUndefined(resources) && resources.length > 0) {\n            var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n            var totalResourceOneDayWork = 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var updatedDuration = 0;\n            var resourceUnit = void 0;\n            var index = void 0;\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                totalResourceOneDayWork += (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? ((ganttProperties.taskType !== 'FixedWork' && ganttProperties.duration !== 0) ? actualOneDayWork : 0) : 0)); //in hours\n            }\n            var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n            if (resourcesLength > 0 && totalResourceOneDayWork > 0) {\n                updatedDuration += (totalHours / totalResourceOneDayWork);\n            }\n            if (ganttProperties.taskType === 'FixedUnit' && totalResourceOneDayWork === 0) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.work, 0, ganttData, true);\n            }\n            //Update duration as per defined unit.\n            if (ganttProperties.durationUnit === 'minute') {\n                updatedDuration = updatedDuration * actualOneDayWork * 60;\n            }\n            if (ganttProperties.durationUnit === 'hour') {\n                updatedDuration = updatedDuration * actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (updatedDuration % 1 !== 0) {\n                updatedDuration = parseFloat(updatedDuration.toFixed(2));\n            }\n            if (!isNullOrUndefined(ganttProperties.duration)) {\n                this.parent.setRecordValue('duration', updatedDuration, ganttProperties, true);\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        }\n    };\n    /**\n     * Update units of resources with respect to duration and work of a task.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateUnitWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = this.fetchResources(ganttData);\n        var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        var actualOneDayWork = (totSeconds) / 3600;\n        if (resourcesLength === 0) {\n            return;\n        }\n        var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n        var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n        var totalUnitInPercentage = durationInDay > 0 ? (totalHours / (durationInDay * actualOneDayWork)) * 100 : 0;\n        var individualUnit = totalUnitInPercentage === 0 ? 0 : totalUnitInPercentage > 0 ?\n            totalUnitInPercentage / resourcesLength : 100;\n        //To check the decimal places.\n        if (individualUnit % 1 !== 0) {\n            individualUnit = parseFloat(individualUnit.toFixed(2));\n        }\n        for (var index = 0; index < resourcesLength; index++) {\n            resources[index][this.parent.resourceFields.unit] = individualUnit;\n            if (!this.parent.isLoad && !isNullOrUndefined(this.parent.editModule) &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule) &&\n                !this.parent.editModule.dialogModule['isEdit'] &&\n                (!isNullOrUndefined(this.parent.editModule.cellEditModule) && !this.parent.editModule.cellEditModule.isCellEdit)) {\n                if (ganttProperties.resourceInfo) {\n                    ganttProperties.resourceInfo[index][this.parent.resourceFields.unit] = individualUnit;\n                }\n            }\n            if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule.ganttResources[index])) {\n                this.parent.editModule.dialogModule.ganttResources[index][this.parent.resourceFields.unit] = individualUnit;\n            }\n        }\n        //To update the unit value in data source\n        this.updateResourceName(ganttData);\n    };\n    TaskProcessor.prototype.calculateDateFromEndDate = function (endDate, duration, ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            dayEndTime = this.parent['getEndTime'](endDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, endDate);\n        }\n        var validateAsMilestone = (parseInt(duration, 10) === 0) ? true : null;\n        this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties, validateAsMilestone), ganttProperties, true);\n        if (isNullOrUndefined(duration) || duration === '') {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n            this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n        }\n    };\n    TaskProcessor.prototype.calculateDateFromStartDate = function (startDate, endDate, duration, ganttData, isLoad) {\n        var ganttProperties = ganttData.ganttProperties;\n        var validateAsMilestone = (parseInt(duration, 10) === 0 || ((startDate && endDate) &&\n            (new Date(startDate.getTime()) === new Date(endDate.getTime())))) ? true : null;\n        this.parent.setRecordValue('startDate', this.checkStartDate(startDate, ganttProperties, validateAsMilestone, isLoad), ganttProperties, true);\n        if (this.parent.isTreeGridRendered && ganttData) {\n            this.updateTaskData(ganttData);\n        }\n        if (!endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && !endDate) {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n        else if (endDate && (isNullOrUndefined(duration) || duration === '')) {\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                this.setTime(dayEndTime, endDate);\n            }\n            this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties), ganttProperties, true);\n            if (this.compareDates(ganttProperties.startDate, ganttProperties.endDate) === 1) {\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            }\n            else {\n                this.calculateDuration(ganttData);\n            }\n        }\n        else {\n            this.updateDurationValue(duration, ganttProperties);\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.calculateEndDate(ganttData);\n            }\n            else {\n                this.parent.setRecordValue('endDate', endDate, ganttProperties, true);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} parentWidth .\n     * @param {number} percent .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getProgressWidth = function (parentWidth, percent) {\n        return (parentWidth * percent) / 100;\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateWidth = function (ganttData, isAuto) {\n        var ganttProp = ganttData.ganttProperties;\n        var sDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var eDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var unscheduledTaskWidth = 3;\n        if (isNullOrUndefined(sDate) && isNullOrUndefined(eDate)) {\n            sDate = this.getValidStartDate(ganttProp, isAuto);\n            eDate = this.getValidEndDate(ganttProp, isAuto);\n        }\n        if (isNullOrUndefined(sDate) || isNullOrUndefined(eDate)) {\n            return unscheduledTaskWidth;\n        }\n        else if (ganttProp.isMilestone && (!ganttData.hasChildRecords || ganttProp.isAutoSchedule)) {\n            //let taskBarHeight: number = this.getTaskbarHeight();\n            return 0;\n        }\n        else {\n            return this.getTaskWidth(sDate, eDate, ganttProp);\n        }\n    };\n    TaskProcessor.prototype.getTaskbarHeight = function () {\n        var rowHeight = this.parent.rowHeight;\n        var taskBarHeight = this.parent.taskbarHeight;\n        if (taskBarHeight < rowHeight) {\n            return taskBarHeight;\n        }\n        else {\n            return rowHeight;\n        }\n    };\n    /**\n     * Method to calculate left\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {IGanttData} ganttRecord .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateLeft = function (ganttProp, ganttRecord, isAuto) {\n        var sDate = null;\n        var left = -300;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration; // eslint-disable-line\n        var milestone = ganttProp.isMilestone;\n        if (ganttRecord && this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)\n            && !isNullOrUndefined(duration) && !ganttRecord.hasChildRecords && ganttRecord.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && ganttRecord[this.parent.taskFields.manual]))) {\n            var parentRec = this.parent.getParentTask(ganttRecord.parentItem);\n            if (parentRec.ganttProperties.startDate) {\n                startDate = parentRec.ganttProperties.startDate;\n            }\n        }\n        if (startDate) {\n            sDate = new Date(startDate.getTime());\n        }\n        else if (endDate) {\n            sDate = new Date(endDate.getTime());\n            milestone = isNullOrUndefined(startDate) && this.parent.allowUnscheduledTasks ? false : true;\n        }\n        else {\n            sDate = this.getValidStartDate(ganttProp);\n        }\n        if (!isNullOrUndefined(sDate)) {\n            left = this.getTaskLeft(sDate, milestone);\n        }\n        return left;\n    };\n    /**\n     * calculate the left position of the auto scheduled taskbar\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoLeft = function (ganttProperties) {\n        return this.getTaskLeft(ganttProperties.autoStartDate, ganttProperties.isMilestone);\n    };\n    /**\n     * To calculate duration of Gantt record with auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     */\n    TaskProcessor.prototype.calculateAutoDuration = function (ganttProperties) {\n        return this.getDuration(ganttProperties.autoStartDate, ganttProperties.autoEndDate, ganttProperties.durationUnit, false, ganttProperties.isMilestone);\n    };\n    /**\n     * calculate the with between auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoWidth = function (ganttProperties) {\n        return this.getTaskWidth(ganttProperties.autoStartDate, ganttProperties.autoEndDate);\n    };\n    /**\n     * calculate the left margin of the baseline element\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineLeft = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskLeft(baselineStartDate, ganttProperties.isMilestone));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * calculate the width between baseline start date and baseline end date.\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineWidth = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate && (baselineStartDate.getTime() !== baselineEndDate.getTime())) {\n            this.isBaseline = true;\n            return (this.getTaskWidth(baselineStartDate, baselineEndDate));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * To get tasks width value\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {ITaskData} [ganttData] .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskWidth = function (startDate, endDate, ganttData) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var tierMode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit !== 'None' ? this.parent.timelineModule.customTimelineSettings.bottomTier.unit :\n            this.parent.timelineModule.customTimelineSettings.topTier.unit;\n        var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n        var countValue = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'].count :\n            zoomOrTimeline['topTier'].count;\n        var isValid = false;\n        var modifiedsDate = new Date(startDate.getTime());\n        var hour = 0;\n        if (!isNullOrUndefined(ganttData) && ganttData.durationUnit === 'hour') {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 60 * 1000);\n        }\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute') || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 1000);\n        }\n        if (this.isBaseline && tierMode === 'Day') {\n            var duration = this.getDuration(sDate, eDate, 'day', true, false);\n            this.isBaseline = false;\n            if (duration > 0 && duration < 1) {\n                return (duration * this.parent.perDayWidth);\n            }\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            var date = new Date(startDate.getTime());\n            for (var count = startDate.getDate(); count <= endDate.getDate(); count++) {\n                var day = date.getDay();\n                var currentDay = void 0;\n                var weekWorkingTime = this.parent.weekWorkingTime;\n                switch (day) {\n                    case 0:\n                        currentDay = 'Sunday';\n                        break;\n                    case 1:\n                        currentDay = 'Monday';\n                        break;\n                    case 2:\n                        currentDay = 'Tuesday';\n                        break;\n                    case 3:\n                        currentDay = 'Wednesday';\n                        break;\n                    case 4:\n                        currentDay = 'Thursday';\n                        break;\n                    case 5:\n                        currentDay = 'Friday';\n                        break;\n                    case 6:\n                        currentDay = 'Saturday';\n                        break;\n                    default:\n                        currentDay = '';\n                }\n                var isValid_1 = true;\n                for (var i = 0; i < weekWorkingTime.length; i++) {\n                    if (weekWorkingTime[i][currentDay]\n                        && weekWorkingTime[i][currentDay].length > 0) {\n                        isValid_1 = false;\n                        for (var j = 0; j < weekWorkingTime[i][currentDay].length; j++) {\n                            hour = hour + weekWorkingTime[i][currentDay][j].to\n                                - weekWorkingTime[i][currentDay][j].from;\n                        }\n                    }\n                }\n                if (isValid_1) {\n                    for (var k = 0; k < this.parent.dayWorkingTime.length; k++) {\n                        hour = hour + this.parent.dayWorkingTime[k].to - this.parent.dayWorkingTime[k].from;\n                    }\n                }\n                date = new Date(date.setDate(date.getDate() + 1));\n                if (!this.parent.includeWeekend) {\n                    date = this.parent.dataOperation.getNextWorkingDay(date);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < this.parent.dayWorkingTime.length; i++) {\n                hour = hour + this.parent.dayWorkingTime[i].to - this.parent.dayWorkingTime[i].from;\n            }\n        }\n        var dateDiff = modifiedsDate.getTime() - sDate.getTime();\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute' && ganttData.duration < (hour * 60)) || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' &&\n            !isNullOrUndefined(ganttData.duration) && /^\\d+\\.\\d+$/.test(ganttData.duration.toString())) {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if ((Math.floor((dateDiff / (1000 * 60 * 60)) % 24) >= hour || dateDiff === 0)) {\n                    isValid = true;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime && isValid) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime && isValid) {\n                    eDate.setHours(24);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            else {\n                isValid = true;\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (isValid) {\n                    if (this.parent.taskFields.duration && ganttData.durationUnit === 'day' && /^\\d+\\.\\d+$/.test(ganttData.duration.toString()) && this.parent.timelineModule.bottomTier === 'Day'\n                        && isNullOrUndefined(ganttData.segments)) {\n                        var holidaysCount = this.parent.holidays && this.parent.holidays.length > 0\n                            ? this.getHolidaysCount(sDate, eDate)\n                            : 0;\n                        var weekendCount = !this.parent.includeWeekend ? this.getWeekendCount(sDate, eDate) : 0;\n                        return ((holidaysCount + weekendCount + ganttData.duration) * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                    }\n                }\n                else {\n                    if (ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n                        return (ganttData.duration * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * hour)) * this.parent.perDayWidth);\n                    }\n                }\n            }\n        }\n        else {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime) {\n                    eDate.setHours(24);\n                    eDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (this.parent.isInDst(sDate) || this.parent.isInDst(eDate)) {\n                    var timeDifference = this.getTimeDifference(sDate, eDate, true);\n                    var totalWidth = (timeDifference / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    var sOffset = sDate.getTimezoneOffset();\n                    var eOffset = eDate.getTimezoneOffset();\n                    var topTier = this.parent.timelineModule.customTimelineSettings.topTier;\n                    if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n                        tierMode = topTier['unit'];\n                        countValue = topTier['count'];\n                    }\n                    var unitHour = ((tierMode === 'Hour' && countValue === 1) || (tierMode === 'Minutes' && countValue === 60));\n                    if (unitHour && sOffset !== eOffset && sOffset > eOffset) {\n                        totalWidth = totalWidth - (this.parent.perDayWidth / 24);\n                    }\n                    return totalWidth;\n                }\n                else {\n                    return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                }\n            }\n        }\n    };\n    TaskProcessor.prototype.getDSTTransitions = function (year, timeZone) {\n        function findLastSunday(year, month) {\n            var lastDayOfMonth = new Date(Date.UTC(year, month + 1, 0)); // Last day of the month\n            var lastSunday = new Date(Date.UTC(year, month, lastDayOfMonth.getUTCDate() - lastDayOfMonth.getUTCDay()));\n            return lastSunday;\n        }\n        function convertToTimezone(date, timeZone) {\n            var formatter = new Intl.DateTimeFormat('en-US', {\n                timeZone: timeZone,\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n                hour12: false\n            });\n            var formattedDate = formatter.format(date);\n            var _a = formattedDate.match(/\\d+/g).map(Number), month = _a[0], day = _a[1], year = _a[2], hour = _a[3], minute = _a[4], second = _a[5];\n            return new Date(year, month - 1, day, hour, minute, second);\n        }\n        var dstStartDate = findLastSunday(year, 2);\n        var dstEndDate = findLastSunday(year, 9);\n        return {\n            dstStart: convertToTimezone(dstStartDate, timeZone),\n            dstEnd: convertToTimezone(dstEndDate, timeZone)\n        };\n    };\n    TaskProcessor.prototype.hasDSTTransition = function (year) {\n        var january = new Date(year, 0, 1);\n        var july = new Date(year, 6, 1);\n        var janOffset = january.getTimezoneOffset();\n        var julOffset = july.getTimezoneOffset();\n        // If the offsets are different, it means there is a DST transition\n        return janOffset !== julOffset;\n    };\n    /**\n     * Get task left value\n     *\n     * @param {Date} startDate .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isFromTimelineVirtulization .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskLeft = function (startDate, isMilestone, isFromTimelineVirtulization) {\n        var isTimeSet = false;\n        var date = new Date(startDate.getTime());\n        var tierMode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit !== 'None' ? this.parent.timelineModule.customTimelineSettings.bottomTier.unit :\n            this.parent.timelineModule.customTimelineSettings.topTier.unit;\n        var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n        var countValue = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'].count :\n            zoomOrTimeline['topTier'].count;\n        if (tierMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](date);\n                dayEndTime = this.parent['getEndTime'](date);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(date) === dayStartTime) {\n                date.setHours(0, 0, 0, 0);\n            }\n            else if (isMilestone && this.getSecondsInDecimal(date) === dayEndTime) {\n                date.setHours(24);\n                isTimeSet = true;\n            }\n            else if (this.getSecondsInDecimal(date) === dayEndTime && this.parent.allowUnscheduledTasks) {\n                date.setHours(22);\n                isTimeSet = true;\n            }\n        }\n        var leftValueForStartDate;\n        var isValid = true;\n        if ((this.parent.editModule && ((this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditAction) || (this.parent.editModule.dialogModule && this.parent.editModule.dialogModule['isEdit']) ||\n            (this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit) ||\n            this.parent.ganttChartModule.scrollObject['isSetScrollLeft'])) && !isFromTimelineVirtulization) {\n            isValid = false;\n        }\n        if (this.parent.enableTimelineVirtualization && isValid && !this.parent.timelineModule['performedTimeSpanAction']) {\n            leftValueForStartDate = (this.parent.enableTimelineVirtualization\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n                ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        }\n        var timelineStartDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).toString()) : new Date(this.parent.timelineModule.timelineStartDate);\n        if (timelineStartDate) {\n            var leftValue = void 0;\n            var hasDST = this.hasDSTTransition(startDate.getFullYear());\n            var transitions = void 0;\n            if (hasDST) {\n                transitions = this.getDSTTransitions(startDate.getFullYear(), this.systemTimeZone);\n            }\n            if (this.parent.isInDst(startDate) && !this.parent.isInDst(timelineStartDate)) {\n                var newTimelineStartDate = void 0;\n                if (this.parent.isInDst(date)) {\n                    newTimelineStartDate = new Date(timelineStartDate.getTime() - (60 * 60 * 1000));\n                }\n                else {\n                    newTimelineStartDate = new Date(timelineStartDate.getTime());\n                }\n                leftValue = (date.getTime() - newTimelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            }\n            else {\n                var width = void 0;\n                if (this.parent.timelineModule.bottomTier === 'Day' && this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.getSecondsInDecimal(date) !== 0 &&\n                    !isTimeSet && !this.parent['isFromEventMarker']) {\n                    var newDate = new Date(startDate.getTime());\n                    var setStartDate = new Date(newDate.setHours(0, 0, 0, 0));\n                    var duration = this.getDuration(setStartDate, startDate, 'day', true, false);\n                    width = duration * this.parent.perDayWidth;\n                    date.setHours(0, 0, 0, 0);\n                    leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                    if (this.getSecondsInDecimal(startDate) !== this.parent.defaultStartTime && this.parent.timelineModule.bottomTier === 'Day') {\n                        leftValue += width;\n                    }\n                }\n                else {\n                    leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                }\n            }\n            var timelineStartTime = timelineStartDate.getTime();\n            var dstStartTime = void 0;\n            if (transitions && transitions['dstStart']) {\n                dstStartTime = transitions['dstStart'].getTime();\n            }\n            var isBeforeOrAtDSTStart = timelineStartTime <= dstStartTime;\n            if (hasDST && this.parent.dayWorkingTime[0]['properties'].from > transitions['dstStart'].getHours() && isBeforeOrAtDSTStart && tierMode === 'Day' && this.getSecondsInDecimal(date) === this.parent.defaultStartTime) {\n                if ((leftValue % this.parent.perDayWidth) !== 0) {\n                    var leftDifference = this.parent.perDayWidth - (leftValue % this.parent.perDayWidth);\n                    leftValue = leftValue + leftDifference;\n                }\n            }\n            var topTier = this.parent.timelineModule.customTimelineSettings.topTier;\n            if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n                tierMode = topTier['unit'];\n                countValue = topTier['count'];\n            }\n            var pervYear = startDate.getFullYear() - 1;\n            var isprevYearTransitions = false;\n            if (timelineStartDate.getFullYear() <= pervYear) {\n                if (timelineStartDate.getFullYear() < pervYear) {\n                    isprevYearTransitions = true;\n                }\n                else {\n                    var pervDSTTransitions = this.getDSTTransitions(timelineStartDate.getFullYear(), this.systemTimeZone);\n                    if (startDate >= pervDSTTransitions['dstStart']) {\n                        isprevYearTransitions = true;\n                    }\n                }\n            }\n            var isHourly = this.parent.timelineModule.topTier === 'Hour' || this.parent.timelineModule.bottomTier === 'Hour';\n            var isDaily = this.parent.timelineModule.topTier === 'Day' || this.parent.timelineModule.bottomTier === 'Day';\n            var isStartDateInDst = this.parent.isInDst(startDate);\n            var isTimelineStartDateInDst = this.parent.isInDst(timelineStartDate);\n            var perHourWidth = this.parent.perDayWidth / 24;\n            if (!isStartDateInDst && isTimelineStartDateInDst) {\n                if ((countValue !== 1 && isHourly) || (countValue === 1 && isDaily)) {\n                    leftValue -= perHourWidth;\n                }\n            }\n            var unitHour = ((tierMode === 'Hour' && countValue === 1) || (tierMode === 'Minutes' && countValue === 60));\n            if (hasDST && unitHour && ((startDate >= transitions['dstStart']) || isprevYearTransitions) && !this.parent.enableTimelineVirtualization) {\n                if (countValue === 1) {\n                    var projectStartDate = new Date(this.parent.projectStartDate);\n                    var projectEndDate = new Date(this.parent.projectEndDate);\n                    var yearsCount_1 = [];\n                    for (var year = projectStartDate.getFullYear(); year <= projectEndDate.getFullYear(); year++) {\n                        yearsCount_1.push(year);\n                    }\n                    var findYearIndex = function (year) {\n                        return yearsCount_1.indexOf(year);\n                    };\n                    var index = findYearIndex(startDate.getFullYear());\n                    if (index !== -1) {\n                        if ((startDate > transitions['dstEnd']) || index === 0) {\n                            index += 1;\n                        }\n                        leftValue -= index * (this.parent.perDayWidth / 24);\n                    }\n                }\n            }\n            return leftValue;\n        }\n        else {\n            return 0;\n        }\n    };\n    TaskProcessor.prototype.getSplitTaskWidth = function (sDate, duration, data) {\n        var startDate = new Date(sDate.getTime());\n        var endDate = new Date((this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false).getTime()));\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](startDate);\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(startDate) === dayStartTime) {\n                startDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayEndTime) {\n                endDate.setHours(24);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayStartTime) {\n                endDate.setHours(0, 0, 0, 0);\n            }\n        }\n        return ((this.getTimeDifference(startDate, endDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n    };\n    TaskProcessor.prototype.getSplitTaskLeft = function (sDate, segmentTaskStartDate) {\n        var stDate = new Date(sDate.getTime());\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var segmentStartTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](stDate);\n                segmentStartTime = this.parent['getStartTime'](segmentTaskStartDate);\n            }\n            else {\n                segmentStartTime = dayStartTime = this.parent.defaultStartTime;\n            }\n            if (this.getSecondsInDecimal(stDate) === dayStartTime) {\n                stDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(segmentTaskStartDate) === segmentStartTime) {\n                segmentTaskStartDate.setHours(0, 0, 0, 0);\n            }\n        }\n        if (segmentTaskStartDate) {\n            return (stDate.getTime() - segmentTaskStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {string} fieldName .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateMappingData = function (ganttData, fieldName) {\n        var columnMapping = this.parent.columnMapping;\n        var ganttProp = ganttData.ganttProperties;\n        if (isNullOrUndefined(columnMapping[fieldName]) && fieldName !== 'taskType' && fieldName !== 'segments') {\n            return;\n        }\n        if (fieldName === 'predecessorName') {\n            //\n        }\n        else if (fieldName === 'resourceInfo') {\n            var resourceData = ganttProp.resourceInfo;\n            var resourceSettings = this.parent.resourceFields;\n            // eslint-disable-next-line\n            var resourcesId = [];\n            var resourcesName = [];\n            if (!isNullOrUndefined(resourceData)) {\n                for (var i = 0; i < resourceData.length; i++) {\n                    resourcesId.push(resourceData[i][resourceSettings.id]);\n                    var resName = resourceData[i][resourceSettings.name];\n                    var resourceUnit = resourceData[i][resourceSettings.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (resName) {\n                        resourcesName.push(resName);\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceNames', resourcesName.join(','), ganttProp, true);\n            if (this.isResourceString) {\n                if (ganttData.taskData[this.parent.taskFields.resourceInfo] &&\n                    ganttData.taskData[this.parent.taskFields.resourceInfo][0]) {\n                    ganttData.taskData[this.parent.taskFields.resourceInfo] =\n                        ganttData.taskData[this.parent.taskFields.resourceInfo][0][resourceSettings.name];\n                }\n                this.updateTaskDataResource(ganttData);\n            }\n            else {\n                this.updateTaskDataResource(ganttData);\n            }\n            this.parent.setRecordValue(columnMapping[fieldName], resourcesName.join(','), ganttData);\n        }\n        else if (fieldName === 'startDate' || fieldName === 'endDate') {\n            this.setRecordDate(ganttData, ganttProp[fieldName], columnMapping[fieldName]);\n        }\n        else if (fieldName === 'duration') {\n            this.setRecordDuration(ganttData, columnMapping[fieldName]);\n        }\n        else if (fieldName === 'work') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.work, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'type') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.taskType, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp.taskType, ganttData);\n        }\n        else if (fieldName === 'manual') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n        }\n        else if (fieldName === 'segments') {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, this.segmentTaskData(ganttData), ganttData);\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n    };\n    TaskProcessor.prototype.segmentTaskData = function (data) {\n        var _this = this;\n        var segments = data.ganttProperties.segments;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(segments)) {\n            return null;\n        }\n        var taskData = extend([], [], data.taskData[taskSettings.segments], true);\n        for (var i = 0; i < segments.length; i++) {\n            if (this.parent.isEdit || (this.parent.editModule && this.parent.editModule.dialogModule &&\n                getValue('isEdit', this.parent.editModule.dialogModule)) || (this.parent.contextMenuModule && getValue('isEdit', this.parent.contextMenuModule))) {\n                taskData[i] = {};\n            }\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                taskData[i][this.parent.taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                taskData[i][this.parent.taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                taskData[i][this.parent.taskFields.duration] = Number(segments[i].duration);\n            }\n        }\n        if (this.customSegmentProperties.length > 0 && taskData && taskData.length > 0) {\n            taskData.forEach(function (task, index) {\n                var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                taskData[index] = mergedObject;\n            });\n        }\n        return taskData;\n    };\n    /**\n     * Method to update the task data resource values\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateTaskDataResource = function (ganttData) {\n        var resourceData = ganttData.ganttProperties.resourceInfo;\n        var preTaskResources = ganttData.taskData[this.parent.taskFields.resourceInfo];\n        var resourceSettings = this.parent.resourceFields;\n        if (isNullOrUndefined(preTaskResources)) {\n            ganttData.taskData[this.parent.taskFields.resourceInfo] = resourceData;\n        }\n        else if (resourceData && resourceData.length) {\n            for (var i = 0; i < resourceData.length; i++) {\n                var isAdded = false;\n                if (typeof (preTaskResources) === 'string') {\n                    if (typeof preTaskResources === 'string') {\n                        if ((preTaskResources) === (resourceData[i][resourceSettings.name])) {\n                            preTaskResources = resourceData[i][resourceSettings.name];\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var j = 0; j < preTaskResources.length; j++) {\n                        if (typeof preTaskResources[j] === 'number' || typeof preTaskResources[j] === 'string') {\n                            if (parseInt(preTaskResources[j], 10) ===\n                                parseInt(resourceData[i][resourceSettings.id], 10)) {\n                                preTaskResources[j] = resourceData[i];\n                                isAdded = true;\n                                break;\n                            }\n                        }\n                        else if (preTaskResources[j][resourceSettings.id] === resourceData[i][resourceSettings.id] && typeof preTaskResources[j] !== 'number') {\n                            preTaskResources[j] = extend({}, preTaskResources[j], resourceData[i], true);\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                if (!isAdded) {\n                    if (typeof (preTaskResources) === 'string') {\n                        preTaskResources = resourceData[i][resourceSettings.name];\n                    }\n                    else {\n                        preTaskResources.push(resourceData[i]);\n                    }\n                }\n            }\n            var data_1 = [];\n            if (!isNullOrUndefined(preTaskResources)) {\n                if (typeof (preTaskResources) !== 'string') {\n                    var _loop_4 = function (k) {\n                        resourceData.filter(function (resourceInfo) {\n                            if (resourceInfo[resourceSettings.id] === preTaskResources[k][resourceSettings.id]\n                                && data_1.indexOf(preTaskResources[k]) === -1) {\n                                data_1.push(preTaskResources[k]);\n                            }\n                        });\n                    };\n                    for (var k = 0; k < preTaskResources.length; k++) {\n                        _loop_4(k);\n                    }\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, data_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, preTaskResources, ganttData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], ganttData);\n        }\n    };\n    TaskProcessor.prototype.setRecordDate = function (task, value, mapping) {\n        var tempDate = typeof value === 'string' ? new Date(value) : value;\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        this.parent.setRecordValue(mapping, value, task);\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        if (!this.parent.isLoad && !this.parent.isDynamicData) {\n            this.parent.setRecordValue('taskData.' + mapping, value, task);\n        }\n        this.parent.isDynamicData = false;\n    };\n    TaskProcessor.prototype.getDurationInDay = function (duration, durationUnit) {\n        if (durationUnit === 'day') {\n            return duration;\n        }\n        else if (durationUnit === 'hour') {\n            return duration / (this.parent.secondsPerDay / 3600);\n        }\n        else {\n            return duration / (this.parent.secondsPerDay / 60);\n        }\n    };\n    TaskProcessor.prototype.setRecordDuration = function (task, mapping) {\n        var duration = task.ganttProperties.duration;\n        var durationUnit = task.ganttProperties.durationUnit;\n        if (!isNullOrUndefined(duration)) {\n            this.parent.setRecordValue(mapping, task.ganttProperties.duration, task);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var durationValue = (getValue(mapping, task.taskData));\n            if (isNaN(durationValue) && isNullOrUndefined(this.parent.taskFields.durationUnit) && !isNullOrUndefined(durationValue)) {\n                this.parent.setRecordValue('taskData.' + mapping, this.getDurationString(duration, durationUnit), task);\n            }\n            else {\n                if (typeof durationValue === 'string') {\n                    this.parent.setRecordValue('taskData.' + mapping, duration.toString(), task);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + mapping, duration, task);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue(mapping, duration, task);\n            this.parent.setRecordValue('taskData.' + mapping, duration, task);\n        }\n        if (this.parent.taskFields.durationUnit) {\n            task.taskData[this.parent.taskFields.durationUnit] = task.ganttProperties.durationUnit;\n        }\n    };\n    TaskProcessor.prototype.setDataSource = function (data) {\n        var dataArray;\n        var createData = [];\n        if (Array.isArray(data)) {\n            dataArray = data;\n        }\n        var length = dataArray.length;\n        for (var i = 0; i < length; i++) {\n            var record = data[i];\n            createData.push(record);\n            if (!(isNullOrUndefined(data[i][this.parent.taskFields.child]))) {\n                this.setDataSource(data[i][this.parent.taskFields.child]);\n            }\n        }\n        return createData;\n    };\n    TaskProcessor.prototype.setStartDate = function (task) {\n        var _this = this;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.parentID) && !isNullOrUndefined(this.parent.taskFields.id)) {\n            hierarchicalData = this.setDataSource(this.parent.dataSource);\n        }\n        else {\n            hierarchicalData = this.parent.dataSource;\n        }\n        hierarchicalData.map(function (record) {\n            if (task.ganttProperties.taskId === record[_this.parent.taskFields.id]) {\n                if (!isNullOrUndefined(_this.parent.taskFields.startDate)) {\n                    task[_this.parent.taskFields.startDate] = record[_this.parent.taskFields.startDate];\n                }\n                if (!isNullOrUndefined(_this.parent.taskFields.endDate)) {\n                    task[_this.parent.taskFields.endDate] = record[_this.parent.taskFields.endDate];\n                }\n            }\n        });\n    };\n    TaskProcessor.prototype.getWorkInHour = function (work, workUnit) {\n        if (workUnit === 'day') {\n            return work * (this.parent.secondsPerDay / 3600);\n        }\n        else if (workUnit === 'minute') {\n            return work / 60;\n        }\n        else {\n            return work;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateTaskData = function (ganttData) {\n        var dataMapping = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        if (!isNullOrUndefined(ganttData.taskData)) {\n            var data = ganttData.taskData;\n            if (dataMapping.id) {\n                this.parent.setRecordValue('taskData.' + dataMapping.id, ganttProperties.taskId, ganttData);\n                this.parent.setRecordValue(dataMapping.id, ganttProperties.taskId, ganttData);\n            }\n            if (dataMapping.name) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.name, ganttProperties.taskName, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.name, ganttProperties.taskName, ganttData);\n            }\n            if (dataMapping.startDate) {\n                this.setRecordDate(ganttData, ganttProperties.startDate, dataMapping.startDate);\n            }\n            if (dataMapping.endDate) {\n                this.setRecordDate(ganttData, ganttProperties.endDate, dataMapping.endDate);\n            }\n            if (dataMapping.duration) {\n                if (isNullOrUndefined(dataMapping.milestone) || (!isNullOrUndefined(dataMapping.milestone) &&\n                    !ganttData.taskData[dataMapping.milestone])) {\n                    this.setRecordDuration(ganttData, dataMapping.duration);\n                }\n            }\n            if (dataMapping.durationUnit) {\n                data[dataMapping.durationUnit] = ganttProperties.durationUnit;\n            }\n            if (dataMapping.progress) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.progress, ganttProperties.progress, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.progress, ganttProperties.progress, ganttData);\n            }\n            if (dataMapping.baselineStartDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineStartDate, dataMapping.baselineStartDate);\n            }\n            if (dataMapping.baselineEndDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineEndDate, dataMapping.baselineEndDate);\n            }\n            if (dataMapping.notes) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.notes, ganttProperties.notes, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.notes, ganttProperties.notes, ganttData);\n            }\n            if (dataMapping.cssClass) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n            }\n            if (dataMapping.indicators) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.indicators, ganttProperties.indicators, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.indicators, ganttProperties.indicators, ganttData);\n            }\n            if (dataMapping.parentID) {\n                var parentID = this.parent.viewType === 'ProjectView' ? ganttProperties.parentId : data[dataMapping.parentID];\n                this.parent.setRecordValue('taskData.' + dataMapping.parentID, parentID, ganttData);\n                this.parent.setRecordValue(dataMapping.parentID, ganttProperties.parentId, ganttData);\n            }\n            if (dataMapping.work) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.work, ganttProperties.work, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.work, ganttProperties.work, ganttData);\n            }\n            if (dataMapping.type) {\n                this.parent.setRecordValue('taskData.' + dataMapping.type, ganttProperties.taskType, ganttData);\n                this.parent.setRecordValue(dataMapping.type, ganttProperties.taskType, ganttData);\n            }\n        }\n    };\n    /**\n     * To set resource value in Gantt record\n     *\n     * @param {object} data .\n     * @returns {object[]} .\n     * @private\n     */\n    TaskProcessor.prototype.setResourceInfo = function (data) {\n        var _this = this;\n        // eslint-disable-next-line\n        var resourceIdCollection;\n        if (isNullOrUndefined(data[this.parent.taskFields.resourceInfo])) {\n            return resourceIdCollection;\n        }\n        if (this.parent.isLoad) {\n            resourceIdCollection = data[this.parent.taskFields.resourceInfo];\n        }\n        else {\n            resourceIdCollection = data['taskData'] && this.parent.taskFields.resourceInfo in data['taskData']\n                ? data['taskData'][this.parent.taskFields.resourceInfo]\n                : data[this.parent.taskFields.resourceInfo];\n        }\n        var resourceData;\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule)\n            && this.parent.editModule.dialogModule.isAddNewResource) {\n            resourceData = this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            resourceData = this.parent.resources;\n        }\n        var resourceIDMapping = this.parent.resourceFields.id;\n        var resourceUnitMapping = this.parent.resourceFields.unit;\n        var resourceGroup = this.parent.resourceFields.group;\n        var resources = [];\n        if (typeof (resourceIdCollection) === 'string' && resourceIdCollection !== '') {\n            var resource_1 = [];\n            var resourceIds_1 = data[this.parent.taskFields.resourceInfo].split(',');\n            if (resourceIds_1) {\n                resourceData.forEach(function (resourceInfo) {\n                    if (resourceIds_1.includes(resourceInfo[_this.parent.resourceFields.name])) {\n                        resource_1.push(resourceInfo);\n                    }\n                });\n                var ganttDataResource = extend({}, resource_1[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping) && !isNullOrUndefined(resourceIdCollection[resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup) && !isNullOrUndefined(resourceIdCollection[resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[resourceGroup];\n                }\n            }\n        }\n        else {\n            var _loop_5 = function (count) {\n                var resource = resourceData.filter(function (resourceInfo) {\n                    if (typeof (resourceIdCollection[count]) === 'object' &&\n                        resourceIdCollection[count][resourceIDMapping] === resourceInfo[resourceIDMapping]) {\n                        return true;\n                    }\n                    else {\n                        return (resourceIdCollection[count] === resourceInfo[resourceIDMapping]);\n                    }\n                });\n                var ganttDataResource = extend({}, resource[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[count][resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[count][resourceGroup];\n                }\n            };\n            for (var count = 0; count < resourceIdCollection.length; count++) {\n                _loop_5(count);\n            }\n        }\n        this.updateResourceUnit(resources);\n        return resources;\n    };\n    /**\n     * To set resource unit in Gantt record\n     *\n     * @param {object[]} resourceData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceUnit = function (resourceData) {\n        var resourceUnit = this.parent.resourceFields.unit;\n        if (!isNullOrUndefined(resourceUnit)) {\n            var length_1 = resourceData.length;\n            var index = void 0;\n            for (index = 0; index < length_1; index++) {\n                if (isNullOrUndefined(resourceData[index][resourceUnit])) {\n                    resourceData[index][resourceUnit] = 100;\n                }\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceName = function (data) {\n        var resourceInfo = data.ganttProperties.resourceInfo;\n        var resourceName = [];\n        var taskMapping = this.parent.taskFields;\n        if (resourceInfo && resourceInfo.length > 0) {\n            var resourceLength = resourceInfo.length;\n            if (typeof data.taskData[this.parent.taskFields.resourceInfo] === 'string') {\n                var taskResources = data.taskData[this.parent.taskFields.resourceInfo];\n                var stringResourceName = taskResources;\n                this.parent.setRecordValue('resourceNames', stringResourceName, data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, stringResourceName, data, true);\n                this.updateTaskDataResource(data);\n            }\n            else {\n                var taskResources = extend([], [], data.taskData[this.parent.taskFields.resourceInfo], true);\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], data);\n                for (var i = 0; i < resourceLength; i++) {\n                    var resource = resourceInfo[i];\n                    var resName = resource[this.parent.resourceFields.name];\n                    var resourceUnit = resource[this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (!isNullOrUndefined(resName)) {\n                        resourceName.push(resName);\n                    }\n                    if (data.taskData) {\n                        var mapping = taskMapping.resourceInfo;\n                        if (taskResources[i] && typeof (taskResources[parseInt(i.toString(), 10)] === 'object')) {\n                            data.taskData[mapping].push(taskResources[i]);\n                        }\n                        else {\n                            data.taskData[mapping].push(resource[this.parent.resourceFields.id]);\n                        }\n                    }\n                }\n                this.parent.setRecordValue('resourceNames', resourceName.join(','), data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, resourceName.join(','), data, true);\n                this.updateTaskDataResource(data);\n            }\n        }\n    };\n    TaskProcessor.prototype.dataReorder = function (flatCollection, rootCollection) {\n        var result = [];\n        while (flatCollection.length > 0 && rootCollection.length > 0) {\n            var index = rootCollection.indexOf(flatCollection[0]);\n            if (index === -1) {\n                flatCollection.shift();\n            }\n            else {\n                result.push(flatCollection.shift());\n                rootCollection.splice(index, 1);\n            }\n        }\n        return result;\n    };\n    TaskProcessor.prototype.validateDurationUnitMapping = function (durationUnit) {\n        var unit = durationUnit;\n        if ((unit === 'minute') || (unit === 'minutes') || (unit === 'm') || (unit === 'min')) {\n            unit = 'minute';\n        }\n        else if ((unit === 'hour') || (unit === 'hours') || (unit === 'h') || (unit === 'hr')) {\n            unit = 'hour';\n        }\n        else if ((unit === 'day') || (unit === 'days') || (unit === 'd')) {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    TaskProcessor.prototype.validateTaskTypeMapping = function (taskType) {\n        var type = taskType;\n        if (type === 'FixedDuration') {\n            type = 'FixedDuration';\n        }\n        else if (type === 'FixedUnit') {\n            type = 'FixedUnit';\n        }\n        else if (type === 'FixedWork') {\n            type = 'FixedWork';\n        }\n        else {\n            type = this.parent.taskType;\n        }\n        return type;\n    };\n    TaskProcessor.prototype.validateWorkUnitMapping = function (workUnit) {\n        var unit = workUnit;\n        if (unit === 'minute') {\n            unit = 'minute';\n        }\n        else if (unit === 'hour') {\n            unit = 'hour';\n        }\n        else if (unit === 'day') {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.workUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    /**\n     * To update duration value in Task\n     *\n     * @param {string} duration .\n     * @param {ITaskData} ganttProperties .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateDurationValue = function (duration, ganttProperties) {\n        var tempDuration = this.getDurationValue(duration);\n        if (!isNaN(getValue('duration', tempDuration))) {\n            this.parent.setRecordValue('duration', getValue('duration', tempDuration), ganttProperties, true);\n        }\n        if (!isNullOrUndefined(getValue('durationUnit', tempDuration))) {\n            this.parent.setRecordValue('durationUnit', getValue('durationUnit', tempDuration), ganttProperties, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttData = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttData = void 0;\n            this.parent.secondsPerDay = this.getSecondsPerDay();\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttData = this.parent.flatData[index];\n                if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                    this.setRecordDuration(ganttData, this.parent.taskFields.duration);\n                }\n                if (this.parent.isLoad) {\n                    this.setStartDate(ganttData);\n                }\n                this.calculateScheduledValues(ganttData, data, false);\n            }\n            this.updateGanttData();\n        }\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInStartDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() >= from.getTime() && day.getTime() < to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInEndDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() > from.getTime() && day.getTime() <= to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    /**\n     * Method to find overlapping value of the parent task\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingValues = function (resourceTask) {\n        var _this = this;\n        var tasks = resourceTask.childRecords;\n        var currentTask;\n        var ranges = [];\n        if (tasks.length <= 1) {\n            resourceTask.ganttProperties.workTimelineRanges = [];\n            return;\n        }\n        tasks = this.setSortedChildTasks(resourceTask);\n        this.updateOverlappingIndex(tasks);\n        var _loop_6 = function (count) {\n            currentTask = tasks[count];\n            var currSegments = (currentTask.ganttProperties.segments || [\n                { startDate: currentTask.ganttProperties.startDate, endDate: currentTask.ganttProperties.endDate }\n            ]).map(function (_a) {\n                var startDate = _a.startDate, endDate = _a.endDate;\n                return ({\n                    startDate: new Date(startDate),\n                    endDate: new Date(endDate)\n                });\n            });\n            var range = [];\n            currSegments.forEach(function (currSegment) {\n                var cStartDate = new Date(currSegment.startDate.getTime());\n                var cEndDate = new Date(currSegment.endDate.getTime());\n                for (var index = 0; index < count; index++) {\n                    var task = tasks[index];\n                    var taskSegments = (task.ganttProperties.segments || [\n                        { startDate: task.ganttProperties.startDate, endDate: task.ganttProperties.endDate }\n                    ]).map(function (_a) {\n                        var startDate = _a.startDate, endDate = _a.endDate;\n                        return ({\n                            startDate: new Date(startDate),\n                            endDate: new Date(endDate)\n                        });\n                    });\n                    taskSegments.forEach(function (segment) {\n                        var tStartDate = segment.startDate;\n                        var tEndDate = segment.endDate;\n                        var rangeObj = {};\n                        if (cStartDate && cEndDate && tEndDate\n                            && (_this._isInStartDateRange(cStartDate, tStartDate, tEndDate)\n                                || _this._isInEndDateRange(cEndDate, tStartDate, tEndDate) ||\n                                (tStartDate.getTime() >= cStartDate.getTime() && tEndDate.getTime() <= cEndDate.getTime()))) {\n                            if ((tStartDate.getTime() > cStartDate.getTime() && tStartDate.getTime() < cEndDate.getTime()\n                                && tEndDate.getTime() > cStartDate.getTime() && tEndDate.getTime() >= cEndDate.getTime())\n                                || (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() <= tEndDate.getTime())) {\n                                rangeObj.from = tStartDate;\n                                rangeObj.to = cEndDate;\n                            }\n                            else if (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() > tEndDate.getTime()) {\n                                rangeObj.from = tStartDate;\n                                rangeObj.to = tEndDate;\n                            }\n                            else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime()) {\n                                rangeObj.from = cStartDate;\n                                rangeObj.to = tEndDate;\n                            }\n                            else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime()) {\n                                rangeObj.from = cStartDate;\n                                rangeObj.to = cEndDate;\n                            }\n                            else if (tStartDate.getTime() >= cStartDate.getTime() && tEndDate.getTime() <= cEndDate.getTime()) {\n                                rangeObj.from = tStartDate;\n                                rangeObj.to = tEndDate;\n                            }\n                            if (rangeObj.from && rangeObj.to) {\n                                range.push(rangeObj);\n                            }\n                        }\n                    });\n                }\n            });\n            ranges.push.apply(ranges, this_4.mergeRangeCollections(range));\n        };\n        var this_4 = this;\n        for (var count = 1; count < tasks.length; count++) {\n            _loop_6(count);\n        }\n        this.parent.setRecordValue('workTimelineRanges', this.mergeRangeCollections(ranges, true), resourceTask.ganttProperties, true);\n        this.calculateRangeLeftWidth(resourceTask.ganttProperties.workTimelineRanges);\n    };\n    /**\n     * @param {IGanttData[]} tasks .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingIndex = function (tasks) {\n        for (var i = 0; i < tasks.length; i++) {\n            tasks[i].ganttProperties.eOverlapIndex = i;\n        }\n    };\n    /**\n     * Method to calculate the left and width value of oarlapping ranges\n     *\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateRangeLeftWidth = function (ranges) {\n        for (var count = 0; count < ranges.length; count++) {\n            ranges[count].left = this.getTaskLeft(ranges[count].from, false);\n            ranges[count].width = this.getTaskWidth(ranges[count].from, ranges[count].to);\n        }\n    };\n    /**\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @param {boolean} isSplit .\n     * @returns {IWorkTimelineRanges[]} .\n     * @private\n     */\n    TaskProcessor.prototype.mergeRangeCollections = function (ranges, isSplit) {\n        var finalRange = [];\n        var currentTopRange = {};\n        var cCompareRange = {};\n        var cStartDate;\n        var cEndDate;\n        var tStartDate;\n        var tEndDate;\n        var sortedRanges = new DataManager(ranges).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        for (var i = 0; i < sortedRanges.length; i++) {\n            if (finalRange.length === 0 && i === 0) {\n                finalRange.push(sortedRanges[i]);\n                continue;\n            }\n            currentTopRange = finalRange[finalRange.length - 1];\n            cStartDate = currentTopRange.from;\n            cEndDate = currentTopRange.to;\n            cCompareRange = sortedRanges[i];\n            tStartDate = cCompareRange.from;\n            tEndDate = cCompareRange.to;\n            if ((cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())\n                || (cStartDate.getTime() < tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())) {\n                continue;\n            }\n            /* eslint-disable-next-line */\n            else if ((cStartDate.getTime() <= tStartDate.getTime() && cEndDate.getTime() >= tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime())\n                || (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() === tStartDate.getTime())) {\n                currentTopRange.to = tEndDate;\n            }\n            else if (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() !== tStartDate.getTime()) {\n                finalRange.push(sortedRanges[i]);\n            }\n        }\n        if (isSplit) {\n            finalRange = this.splitRangeCollection(finalRange);\n        }\n        return finalRange;\n    };\n    /**\n     * Sort resource child records based on start date\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.setSortedChildTasks = function (resourceTask) {\n        var sortedRecords = [];\n        sortedRecords = new DataManager(resourceTask.childRecords).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        return sortedRecords;\n    };\n    TaskProcessor.prototype.splitRangeCollection = function (rangeCollection, fromField, toField) {\n        var splitArray = [];\n        var unit;\n        if (this.parent.timelineModule.isSingleTier) {\n            unit = this.parent.timelineModule.bottomTier !== 'None' ?\n                this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        }\n        else {\n            unit = this.parent.timelineModule.bottomTier;\n        }\n        if (unit === 'Week' || unit === 'Month' || unit === 'Year') {\n            splitArray = rangeCollection;\n        }\n        else if (unit === 'Day') {\n            splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n        }\n        else {\n            if (this.parent.workingTimeRanges[0].from === 0 && this.parent.workingTimeRanges[0].to === 86400) {\n                splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n            }\n            else {\n                splitArray = this.getRangeWithDay(rangeCollection, fromField, toField);\n            }\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.getRangeWithDay = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            splitArray.push.apply(splitArray, this.splitRangeForDayMode(ranges[parseInt(i.toString(), 10)], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForDayMode = function (range, fromField, toField) {\n        var fromString = fromField ? fromField : 'from';\n        var toString = toField ? toField : 'to';\n        var tempStart = new Date(range[fromString]);\n        var end = new Date(range[toString]);\n        var ranges = [];\n        var rangeObject = {};\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                var nStart = new Date(tempStart.getTime());\n                var nEndDate = new Date(tempStart.getTime());\n                var nextAvailDuration = 0;\n                var sHour = this.parent.dataOperation.getSecondsInDecimal(tempStart);\n                var startRangeIndex = -1;\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var val = this.parent.workingTimeRanges[i];\n                    if (sHour >= val.from && sHour <= val.to) {\n                        startRangeIndex = i;\n                        break;\n                    }\n                }\n                if (startRangeIndex !== -1) {\n                    nextAvailDuration = Math.round(this.parent.workingTimeRanges[startRangeIndex].to - sHour);\n                    nEndDate.setSeconds(nEndDate.getSeconds() + nextAvailDuration);\n                }\n                var taskName = 'task';\n                if (nEndDate.getTime() < end.getTime()) {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = nEndDate;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                else {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = end;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                tempStart = this.checkStartDate(nEndDate);\n            } while (tempStart.getTime() < end.getTime());\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    TaskProcessor.prototype.getRangeWithWeek = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            // eslint-disable-next-line\n            splitArray.push.apply(splitArray, this.splitRangeForWeekMode(ranges[i], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForWeekMode = function (range, fromField, toField) {\n        var from = fromField ? fromField : 'from';\n        var to = toField ? toField : 'to';\n        var start = new Date(range[from]);\n        var tempStart = new Date(range[from]);\n        var end = new Date(range[to]);\n        var isInSplit = false;\n        var ranges = [];\n        var rangeObj = {};\n        tempStart.setDate(tempStart.getDate() + 1);\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                if (this.parent.dataOperation.isOnHolidayOrWeekEnd(tempStart, null)) {\n                    var tempEndDate = new Date(tempStart.getTime());\n                    tempEndDate.setDate(tempStart.getDate() - 1);\n                    var dayEndTime = void 0;\n                    if (this.parent.weekWorkingTime.length > 0) {\n                        dayEndTime = this.parent['getEndTime'](tempEndDate);\n                    }\n                    else {\n                        dayEndTime = this.parent.defaultEndTime;\n                    }\n                    this.setTime(dayEndTime, tempEndDate);\n                    rangeObj = {};\n                    rangeObj[from] = start;\n                    rangeObj.isSplit = true;\n                    rangeObj[to] = new Date(tempEndDate);\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    var isStartNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(start, null);\n                    var isTempEndDateNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(tempEndDate, null);\n                    var isDifferentDates = start.getTime() !== tempEndDate.getTime();\n                    if (isStartNotHolidayOrWeekend && isTempEndDateNotHolidayOrWeekend && isDifferentDates) {\n                        ranges.push(rangeObj);\n                    }\n                    tempEndDate.setDate(tempEndDate.getDate() + 1);\n                    start = this.checkStartDate(tempEndDate);\n                    tempStart = new Date(start.getTime());\n                    isInSplit = true;\n                }\n                else {\n                    tempStart.setDate(tempStart.getDate() + 1);\n                }\n            } while (tempStart.getTime() < end.getTime());\n            if (isInSplit) {\n                if (start.getTime() !== end.getTime()) {\n                    rangeObj = {};\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    rangeObj[from] = start;\n                    rangeObj[to] = end;\n                    rangeObj.isSplit = true;\n                    ranges.push(rangeObj);\n                }\n            }\n            else {\n                ranges.push(range);\n            }\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateGanttData = function () {\n        this.systemTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        var flatData = this.parent.flatData;\n        if (!flatData.length) {\n            return;\n        }\n        var parentTaskMap = new Map();\n        for (var _i = 0, flatData_1 = flatData; _i < flatData_1.length; _i++) {\n            var task = flatData_1[_i];\n            parentTaskMap.set(task.uniqueID, task);\n        }\n        for (var i = 0, lenth = flatData.length; i < lenth; i++) {\n            this.updateTaskLeftWidth(flatData[i], parentTaskMap);\n        }\n    };\n    TaskProcessor.prototype.shouldProcessUpdateWidth = function () {\n        return (!this.parent.autoCalculateDateScheduling ||\n            (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                Boolean(this.parent.taskFields.hasChildMapping)));\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @param {IGanttData} data .\n     * @param {Map<string, IGanttData>} parentRecords .\n     * @returns {void} .\n     * @public\n     */\n    TaskProcessor.prototype.updateTaskLeftWidth = function (data, parentRecords) {\n        if (parentRecords === void 0) { parentRecords = null; }\n        var task = data.ganttProperties;\n        if (!data.hasChildRecords || this.shouldProcessUpdateWidth()) {\n            this.updateWidthLeft(data);\n        }\n        this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n        this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n        var parentItem = data.parentItem ? (parentRecords != null ? parentRecords.get(data.parentItem.uniqueID) :\n            this.parent.getParentTask(data.parentItem)) : null;\n        var isLastChild = parentItem && parentItem.childRecords.slice(-1)[0] === data;\n        if (parentItem) {\n            if (isLastChild && !data.hasChildRecords && this.parent.enableValidation) {\n                if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                    this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                    this.updateParentItems(parentItem);\n                }\n                if (this.shouldProcessUpdateWidth()) {\n                    this.updateWidthLeft(parentItem);\n                }\n            }\n            else if (parentItem && !this.parent.enableValidation) {\n                this.updateWidthLeft(parentItem);\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttDataPosition = function () {\n        var flatData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n            && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            flatData = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            flatData = this.parent.flatData;\n        }\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            var task = data.ganttProperties;\n            this.updateWidthLeft(data);\n            if (this.parent.taskMode !== 'Auto' && data.hasChildRecords) {\n                this.updateAutoWidthLeft(data);\n            }\n            this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n            this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n            this.parent.dataOperation.updateTaskData(data);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        var totalSegmentsProgressWidth = 0;\n        // task endDate may be changed in segment calculation so this must be calculated first.\n        // task width calculating was based on endDate\n        var progressResizer = 0;\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            var segments = ganttRecord.segments;\n            for (var i = 0; i < segments.length; i++) {\n                var segment = segments[i];\n                if (i === 0 && !isNullOrUndefined(ganttRecord.startDate)\n                    && !isNullOrUndefined(segment.startDate) && !isNullOrUndefined(segment.startDate.getTime()) &&\n                    segment.startDate.getTime() !== ganttRecord.startDate.getTime()) {\n                    segment.startDate = ganttRecord.startDate;\n                    var endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttRecord.durationUnit, ganttRecord, false);\n                    segment.endDate = this.parent.dataOperation.checkEndDate(endDate, ganttRecord, false);\n                    this.parent.chartRowsModule.incrementSegments(segments, 0, data);\n                }\n                segment.width = this.getSplitTaskWidth(segment.startDate, segment.duration, data);\n                totalSegmentsProgressWidth = totalSegmentsProgressWidth + segment.width;\n                segment.showProgress = false;\n                segment.progressWidth = -1;\n                if (i !== 0) {\n                    var pStartDate = new Date(ganttRecord.startDate.getTime());\n                    segment.left = this.getSplitTaskLeft(segment.startDate, pStartDate);\n                }\n            }\n            var setProgress = this.parent.dataOperation.getProgressWidth(totalSegmentsProgressWidth, ganttRecord.progress);\n            var isValid = true;\n            for (var i = 0; i < segments.length; i++) {\n                if (isValid) {\n                    if (setProgress <= segments[i].width) {\n                        segments[i].progressWidth = setProgress;\n                        segments[i].showProgress = true;\n                        isValid = false;\n                    }\n                    else {\n                        segments[i].progressWidth = segments[i].width;\n                        setProgress = setProgress - segments[i].progressWidth;\n                    }\n                    if (segments[i].showProgress) {\n                        progressResizer = progressResizer + segments[i].left + segments[i].progressWidth;\n                    }\n                }\n            }\n            this.parent.setRecordValue('segments', ganttRecord.segments, ganttRecord, true);\n            this.parent.dataOperation.updateMappingData(data, 'segments');\n        }\n        this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data), ganttRecord, true);\n        this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttRecord, data), ganttRecord, true);\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            this.parent.setRecordValue('progressWidth', progressResizer, ganttRecord, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule || !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateAutoWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        this.parent.setRecordValue('autoWidth', this.calculateWidth(data, true), ganttRecord, true);\n        this.parent.setRecordValue('autoLeft', this.calculateLeft(ganttRecord, data, true), ganttRecord, true);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule ||\n            !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n    };\n    /**\n     * To calculate parent progress value\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @returns {object} .\n     * @private\n     */\n    TaskProcessor.prototype.getParentProgress = function (childGanttRecord) {\n        var durationInDay = 0;\n        var progressValues = {};\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](childGanttRecord.ganttProperties.startDate ? childGanttRecord.ganttProperties.startDate : childGanttRecord.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        switch (childGanttRecord.ganttProperties.durationUnit) {\n            case 'hour':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 3600));\n                break;\n            case 'minute':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 60));\n                break;\n            default:\n                durationInDay = childGanttRecord.ganttProperties.duration;\n        }\n        if (childGanttRecord.hasChildRecords) {\n            setValue('totalProgress', childGanttRecord.ganttProperties.totalProgress, progressValues);\n            setValue('totalDuration', childGanttRecord.ganttProperties.totalDuration ? childGanttRecord.ganttProperties.totalDuration : 0, progressValues);\n        }\n        else {\n            setValue('totalProgress', childGanttRecord.ganttProperties.progress * durationInDay, progressValues);\n            setValue('totalDuration', durationInDay, progressValues);\n        }\n        return progressValues;\n    };\n    TaskProcessor.prototype.resetDependency = function (record) {\n        var dependency = this.parent.taskFields.dependency;\n        if (!isNullOrUndefined(dependency)) {\n            var recordProp = record.ganttProperties;\n            this.parent.setRecordValue('predecessor', [], recordProp, true);\n            this.parent.setRecordValue('predecessorsName', null, recordProp, true);\n            this.parent.setRecordValue('taskData.' + dependency, null, record);\n            this.parent.setRecordValue(dependency, null, record);\n        }\n    };\n    TaskProcessor.prototype.isUnscheduledTask = function (ganttProperties, parantData) {\n        var properties = ['startDate', 'endDate', 'duration'];\n        var count = 0;\n        var filledProperty = null;\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            if (ganttProperties && ganttProperties[prop]) {\n                count++;\n                filledProperty = prop;\n            }\n        }\n        if (count === 1 || (count === 0 && !isNullOrUndefined(parantData) && parantData.hasChildRecords)) {\n            return [true, filledProperty];\n        }\n        else {\n            return [false, null];\n        }\n    };\n    TaskProcessor.prototype.isFromManual = function (childData) {\n        if (this.parent.allowUnscheduledTasks && this.parent.editModule && this.parent['oldRecords'] && this.parent['oldRecords'].length > 0 &&\n            isNullOrUndefined(childData.ganttProperties.startDate) && isNullOrUndefined(childData.ganttProperties.endDate)\n            && !isNullOrUndefined(childData.ganttProperties.duration) && !childData.hasChildRecords && childData.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && childData[this.parent.taskFields.manual]))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @param {IParent | IGanttData} cloneParent .\n     * @param {boolean} isParent .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateParentItems = function (cloneParent, isParent) {\n        var _this = this;\n        var parentData = isParent ? cloneParent : this.parent.getParentTask(cloneParent);\n        parentData = parentData ? parentData : cloneParent;\n        var deleteUpdate = false;\n        var ganttProp = !isNullOrUndefined(parentData) ? parentData.ganttProperties : null;\n        /* eslint-disable-next-line */\n        var _a = this.isUnscheduledTask(ganttProp, parentData), isParentUnschecule = _a[0], propertyWithValue = _a[1];\n        if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n            if (parentData && parentData.childRecords && parentData.childRecords.length > 0) {\n                var previousStartDate = ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate;\n                var previousEndDate = ganttProp.isAutoSchedule ? ganttProp.endDate :\n                    ganttProp.autoEndDate;\n                var childRecords_1 = parentData.childRecords;\n                var childLength = childRecords_1.length;\n                var totalDuration = 0;\n                var minStartDate = null;\n                var maxEndDate = null;\n                var milestoneCount = 0;\n                var totalProgress = 0;\n                var childCompletedWorks = 0;\n                var childData_1;\n                var countOfScheduled_1 = 0;\n                var countOfUnScheduled_1 = 0;\n                childRecords_1.some(function (childRecord) {\n                    var _a = _this.isUnscheduledTask(childRecord['ganttProperties']), isUnscheduled = _a[0], propertyWithValue = _a[1];\n                    if (isUnscheduled && propertyWithValue === 'duration') {\n                        ++countOfUnScheduled_1;\n                    }\n                    else if (!isUnscheduled) {\n                        ++countOfScheduled_1;\n                    }\n                    return countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0;\n                });\n                var isChildBoth = (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) ? true : undefined;\n                var _loop_7 = function (count) {\n                    childData_1 = (this_5.parent.loadChildOnDemand && this_5.parent.taskFields.hasChildMapping) ?\n                        this_5.parent.currentViewData.filter(function (item) {\n                            return item.ganttProperties.taskId === childRecords_1[count][_this.parent.taskFields.id];\n                        })[0] :\n                        childRecords_1[count];\n                    if (this_5.parent.isOnDelete && childData_1.isDelete) {\n                        if (childLength === 1 && this_5.parent.viewType === 'ProjectView') {\n                            deleteUpdate = true;\n                        }\n                        return \"continue\";\n                    }\n                    var startDate = void 0;\n                    var endDate = void 0;\n                    var _a = this_5.isUnscheduledTask(childData_1.ganttProperties), isUnscheduled = _a[0], propertyWithValue_1 = _a[1];\n                    var parentRec = void 0;\n                    if (this_5.isFromManual(childData_1)) {\n                        var ganttRec = this_5.parent['oldRecords'].filter(function (record) { return record.ganttProperties.uniqueID === childData_1.ganttProperties.uniqueID; })[0];\n                        if (ganttRec) {\n                            parentRec = this_5.parent.getParentTask(ganttRec.parentItem);\n                        }\n                    }\n                    var rec = parentRec ? parentRec : childData_1;\n                    var prop = parentRec ? parentRec.ganttProperties : ganttProp;\n                    startDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.startDate : this_5.getValidStartDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoStartDate)) {\n                        startDate = rec.ganttProperties.autoStartDate;\n                    }\n                    endDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        this_5.getEndDate(ganttProp.startDate, rec.ganttProperties.duration, rec.ganttProperties.durationUnit, rec.ganttProperties, false) : this_5.getValidEndDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoEndDate)) {\n                        endDate = rec.ganttProperties.autoEndDate;\n                    }\n                    if (isUnscheduled && !(propertyWithValue_1 === 'startDate' || propertyWithValue_1 === 'endDate')) {\n                        var formattedEndDate = this_5.getDateFromFormat(endDate);\n                        var formattedStartDate = this_5.getDateFromFormat(startDate);\n                        if (formattedEndDate > maxEndDate) {\n                            maxEndDate = formattedEndDate;\n                        }\n                        if (formattedStartDate < minStartDate) {\n                            minStartDate = formattedStartDate;\n                        }\n                    }\n                    var isChildBothAndScheduled = (isChildBoth && !isUnscheduled) || isNullOrUndefined(isChildBoth);\n                    if (isNullOrUndefined(minStartDate) && isChildBothAndScheduled) {\n                        minStartDate = this_5.getDateFromFormat(startDate);\n                    }\n                    if (isNullOrUndefined(maxEndDate) && isChildBothAndScheduled) {\n                        maxEndDate = this_5.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(endDate) && maxEndDate && this_5.compareDates(endDate, maxEndDate) === 1) {\n                        maxEndDate = this_5.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(startDate) && minStartDate && this_5.compareDates(startDate, minStartDate) === -1) {\n                        minStartDate = this_5.getDateFromFormat(startDate);\n                    }\n                    if (!childData_1.ganttProperties.isMilestone && isScheduledTask(childData_1.ganttProperties)) {\n                        var progressValues = this_5.getParentProgress(childData_1);\n                        totalProgress += getValue('totalProgress', progressValues);\n                        totalDuration += getValue('totalDuration', progressValues);\n                        if (childData_1[this_5.parent.taskFields.duration] < 1) {\n                            totalDuration = Number(totalDuration.toFixed(4));\n                        }\n                    }\n                    else {\n                        milestoneCount++;\n                    }\n                    var work = childData_1.ganttProperties.work;\n                    if (typeof work === 'string') {\n                        // If it's a string, convert it to a number\n                        var numericValue = parseFloat(work);\n                        if (!isNaN(numericValue)) {\n                            childCompletedWorks += numericValue;\n                        }\n                    }\n                    else if (typeof work === 'number') {\n                        // If it's already a number, simply add it to childCompletedWorks\n                        childCompletedWorks += work;\n                    }\n                };\n                var this_5 = this;\n                for (var count = 0; count < childLength; count++) {\n                    _loop_7(count);\n                }\n                if (!deleteUpdate) {\n                    var taskCount = (this.parent.isOnDelete && childData_1.isDelete) ?\n                        childLength - milestoneCount - 1 : childLength - milestoneCount;\n                    var parentProgress = (taskCount > 0 && totalDuration > 0) ?\n                        Number((totalProgress / totalDuration).toFixed(2)) : 0;\n                    var parentProp = parentData.ganttProperties;\n                    var milestone = (taskCount === 0) && minStartDate && maxEndDate &&\n                        minStartDate.getTime() === maxEndDate.getTime() ? true : false;\n                    if (this.compareDates(previousStartDate, minStartDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', minStartDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData['isManual'] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('startDate', minStartDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    if (this.compareDates(previousEndDate, maxEndDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', maxEndDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData['isManual'] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('endDate', maxEndDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    this.parent.setRecordValue('isMilestone', milestone, parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.updateMappingData(parentData, 'milestone');\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, milestone, parentData, true);\n                        this.parent.setRecordValue('taskData.' + this.parent.taskFields.milestone, milestone, parentData, true);\n                    }\n                    if (parentProp.isAutoSchedule) {\n                        if (this.isFromManual(childData_1)) {\n                            if (parentData.childRecords.length === 1) {\n                                parentData.ganttProperties.duration = childData_1.ganttProperties.duration;\n                            }\n                            this.calculateEndDate(parentData);\n                        }\n                        else {\n                            this.calculateDuration(parentData);\n                        }\n                    }\n                    this.updateWorkWithDuration(parentData);\n                    var parentWork = parentProp.work;\n                    parentWork = this.parent.isOnEdit ? parentWork : (parentWork + childCompletedWorks);\n                    this.parent.setRecordValue('work', parentWork, parentProp, true);\n                    this.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.type)) {\n                        this.updateMappingData(parentData, 'type');\n                    }\n                    this.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                    this.parent.setRecordValue('totalProgress', totalProgress, parentProp, true);\n                    this.parent.setRecordValue('totalDuration', totalDuration, parentProp, true);\n                    this.parent.setRecordValue('autoDuration', parentProp.duration, parentProp, true);\n                    if (!parentProp.isAutoSchedule) {\n                        this.parent.setRecordValue('autoDuration', this.calculateAutoDuration(parentProp), parentProp, true);\n                        this.updateAutoWidthLeft(parentData);\n                    }\n                    if (!this.parent.allowParentDependency) {\n                        this.resetDependency(parentData);\n                    }\n                    this.updateWidthLeft(parentData);\n                    this.updateTaskData(parentData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('endDate', parentData.taskData[this.parent.taskFields.endDate], parentData.ganttProperties, true);\n        }\n        if (deleteUpdate && parentData.childRecords.length === 1 && parentData.ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, parentData.ganttProperties, true);\n            this.updateWidthLeft(parentData);\n            this.updateTaskData(parentData);\n        }\n        var parentItem = !isNullOrUndefined(parentData) ?\n            this.parent.getParentTask(parentData.parentItem) : null;\n        if (parentItem) {\n            if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n        }\n        deleteUpdate = false;\n    };\n    return TaskProcessor;\n}(DateProcessor));\nexport { TaskProcessor };\n","/**\n * CSS Constants\n */\n/** @hidden */\nexport var root = 'e-gantt';\nexport var ganttChartPane = 'e-gantt-chart-pane';\nexport var treeGridPane = 'e-gantt-tree-grid-pane';\nexport var splitter = 'e-gantt-splitter';\nexport var ganttChart = 'e-gantt-chart';\nexport var ganttSingleTimeline = 'e-gantt-single-timeline';\nexport var chartBodyContainer = 'e-chart-root-container';\nexport var toolbar = 'e-gantt-toolbar';\nexport var chartScrollElement = 'e-chart-scroll-container';\nexport var chartBodyContent = 'e-chart-rows-container';\nexport var scrollContent = 'e-content';\nexport var adaptive = 'e-device';\nexport var focusCell = 'e-grid';\n// Timeline-Class\nexport var taskTable = 'e-task-table';\nexport var zeroSpacing = 'e-zero-spacing';\nexport var timelineHeaderContainer = 'e-timeline-header-container';\nexport var timelineHeaderTableContainer = 'e-timeline-header-table-container';\nexport var timelineHeaderTableBody = 'e-timeline-header-table-body';\nexport var timelineTopHeaderCell = 'e-timeline-top-header-cell';\nexport var timelineHeaderCellLabel = 'e-header-cell-label';\nexport var weekendHeaderCell = 'e-weekend-header-cell';\nexport var timelineSingleHeaderCell = 'e-timeline-single-header-cell';\nexport var timelineSingleHeaderOuterDiv = 'e-timeline-single-header-outer-div';\nexport var virtualTable = 'e-virtualtable';\nexport var virtualTrack = 'e-virtualtrack';\n// Chart Rows-Class\nexport var leftLabelContainer = 'e-left-label-container';\nexport var leftLabelTempContainer = 'e-left-label-container e-left-label-temp-container';\nexport var leftLabelInnerDiv = 'e-left-label-inner-div';\nexport var rightLabelContainer = 'e-right-label-container';\nexport var rightLabelTempContainer = 'e-right-label-container e-right-label-temp-container';\nexport var rightLabelInnerDiv = 'e-right-label-inner-div';\nexport var taskBarMainContainer = 'e-taskbar-main-container';\nexport var parentTaskBarInnerDiv = 'e-gantt-parent-taskbar-inner-div';\nexport var parentProgressBarInnerDiv = 'e-gantt-parent-progressbar-inner-div';\nexport var taskLabel = 'e-task-label';\nexport var childTaskBarInnerDiv = 'e-gantt-child-taskbar-inner-div';\nexport var childProgressBarInnerDiv = 'e-gantt-child-progressbar-inner-div';\nexport var criticalChildTaskBarInnerDiv = 'e-gantt-child-critical-taskbar-inner-div';\nexport var criticalChildProgressBarInnerDiv = 'e-gantt-child-critical-progressbar-inner-div';\nexport var criticalMilestone = 'e-critical-milestone';\nexport var baselineBar = 'e-baseline-bar';\nexport var baselineMilestoneContainer = 'e-baseline-gantt-milestone-container';\nexport var baselineMilestoneDiv = 'e-baseline-gantt-milestone';\nexport var chartRowCell = 'e-chart-row-cell';\nexport var chartRow = 'e-chart-row';\nexport var rowExpand = 'e-row-expand';\nexport var rowCollapse = 'e-row-collapse';\nexport var collapseParent = 'e-collapse-parent';\nexport var collapseMultiTaskBar = 'e-gantt-multi-taskbar';\nexport var taskBarLeftResizer = 'e-taskbar-left-resizer';\nexport var taskBarRightResizer = 'e-taskbar-right-resizer';\nexport var childProgressResizer = 'e-child-progress-resizer';\nexport var progressBarHandler = 'e-progressbar-handler';\nexport var progressHandlerElement = 'e-progressbar-handler-element';\nexport var progressBarHandlerAfter = 'e-progressbar-handler-after';\nexport var icon = 'e-icon';\nexport var traceMilestone = 'e-gantt-milestone';\nexport var parentMilestone = 'e-gantt-parent-milestone';\nexport var traceChildTaskBar = 'e-gantt-child-taskbar';\nexport var traceChildProgressBar = 'e-gantt-child-progressbar';\nexport var manualParentMainContainer = 'e-manualparent-main-container';\nexport var manualParentTaskBar = 'e-gantt-manualparenttaskbar';\nexport var manualParentMilestone = 'e-gantt-manualparent-milestone';\nexport var manualChildTaskBar = 'e-gantt-child-manualtaskbar';\nexport var manualChildProgressBar = 'e-gantt-child-manualprogressbar';\nexport var manualParentRightResizer = 'e-gantt-manualparenttaskbar-right';\nexport var manualParentLeftResizer = 'e-gantt-manualparenttaskbar-left';\nexport var traceManualUnscheduledTask = 'e-gantt-unscheduled-manualtask';\nexport var traceParentTaskBar = 'e-gantt-parent-taskbar';\nexport var traceParentProgressBar = 'e-gantt-parent-progressbar';\nexport var traceUnscheduledTask = 'e-gantt-unscheduled-task';\nexport var criticalUnscheduledTask = 'e-gantt-critical-unscheduled-taskbar';\nexport var taskIndicatorDiv = 'e-indicator-span';\nexport var leftResizeGripper = 'e-left-resize-gripper';\nexport var rightResizeGripper = 'e-right-resize-gripper';\nexport var progressResizeGripper = 'e-progress-resize-gripper';\nexport var label = 'e-label';\nexport var templatePadding = 'e-template-padding';\n//event Markers classes\nexport var eventMarkersContainer = 'e-event-markers-container';\nexport var eventMarkersChild = 'e-event-markers';\nexport var eventMarkersSpan = 'e-span-label';\n//holiday classes\nexport var nonworkingContainer = 'e-nonworking-day-container';\nexport var holidayContainer = 'e-holiday-container';\nexport var holidayElement = 'e-holiday';\nexport var holidayLabel = 'e-span';\n//weekend classes\nexport var weekendContainer = 'e-weekend-container';\nexport var weekend = 'e-weekend';\n//Unscheduled Taskbar\nexport var unscheduledTaskbarLeft = 'e-gantt-unscheduled-taskbar-left';\nexport var unscheduledTaskbarRight = 'e-gantt-unscheduled-taskbar-right';\nexport var unscheduledTaskbar = 'e-gantt-unscheduled-taskbar';\nexport var unscheduledMilestoneTop = 'e-unscheduled-milestone-top';\nexport var unscheduledMilestoneBottom = 'e-unscheduled-milestone-bottom';\n//Connector Line\nexport var dependencyViewContainer = 'e-gantt-dependency-view-container';\nexport var connectorLineContainer = 'e-connector-line-container';\nexport var connectorLine = 'e-line';\nexport var connectorLineSVG = 'e-connector-line';\nexport var criticalConnectorLineSVG = 'e-critical-line';\nexport var criticalConnectorArrowSVG = 'e-critical-line-arrow';\nexport var connectorLineArrow = 'e-connector-line-arrow';\nexport var criticalConnectorLine = 'e-criticalconnector-line';\nexport var criticalConnectorLineRightArrow = 'e-criticalconnector-line-right-arrow';\nexport var criticalConnectorLineLeftArrow = 'e-criticalconnector-line-left-arrow';\nexport var connectorLineRightArrow = 'e-connector-line-right-arrow';\nexport var connectorLineLeftArrow = 'e-connector-line-left-arrow';\nexport var connectorLineZIndex = 'e-connector-line-z-index';\nexport var connectorLineHover = 'e-connector-line-hover';\nexport var criticalConnectorLineHover = 'e-critical-connector-line-hover';\nexport var connectorLineHoverZIndex = 'e-connector-line-hover-z-index';\nexport var connectorLineRightArrowHover = 'e-connector-line-right-arrow-hover';\nexport var connectorLineLeftArrowHover = 'e-connector-line-left-arrow-hover';\nexport var criticalConnectorLineRightArrowHover = 'e-critical-connector-line-right-arrow-hover';\nexport var criticalConnectorLineLeftArrowHover = 'e-critical-connector-line-left-arrow-hover';\nexport var connectorTouchPoint = 'e-connectortouchpoint';\nexport var connectorPointLeft = 'e-connectorpoint-left';\nexport var connectorPointRight = 'e-connectorpoint-right';\nexport var connectorPointLeftHover = 'e-connectorpoint-left-hover';\nexport var connectorPointRightHover = 'e-connectorpoint-right-hover';\nexport var falseLine = 'e-gantt-false-line';\nexport var connectorTooltipTaskName = 'e-tooltiptaskname';\nexport var connectorTooltipFalse = 'e-predecessor-false';\nexport var connectorTooltipTrue = 'e-predecessor-true';\nexport var rightConnectorPointOuterDiv = 'e-right-connectorpoint-outer-div';\nexport var leftConnectorPointOuterDiv = 'e-left-connectorpoint-outer-div';\nexport var connectorPointAllowBlock = 'e-connectorpoint-allow-block';\nexport var ganttTooltip = 'e-gantt-tooltip';\n// Context Menu\nexport var columnHeader = '.e-gridheader';\nexport var content = '.e-content';\nexport var editForm = '.e-gridform';\nexport var deleteIcon = 'e-delete';\nexport var saveIcon = 'e-save';\nexport var cancelIcon = 'e-cancel';\nexport var ascendingIcon = 'e-icon-ascending';\nexport var descendingIcon = 'e-icon-descending';\nexport var editIcon = 'e-edit';\nexport var indentIcon = 'e-indent';\nexport var outdentIcon = 'e-outdent';\nexport var addIcon = 'e-add';\nexport var criticalPathIcon = 'e-critical-path';\nexport var addAboveIcon = 'e-add-above';\nexport var addBelowIcon = 'e-add-below';\n//Predecessor touch mode\nexport var activeParentTask = 'e-active-parent-task';\nexport var activeChildTask = 'e-active-child-task';\nexport var activeConnectedTask = 'e-active-connected-task';\nexport var touchMode = 'e-predecessor-touch-mode';\n//Over allocation range container\nexport var rangeContainer = 'e-rangecontainer';\nexport var rangeChildContainer = 'e-rg-rangdiv';\nexport var rangeChildMiddleContainer = 'e-rg-middlerangdiv';\n","import { formatUnit, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * To handle scroll event on chart and from TreeGrid\n *\n * @hidden\n */\nvar ChartScroll = /** @class */ (function () {\n    /**\n     * Constructor for the scrolling.\n     *\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function ChartScroll(parent) {\n        this.previousCount = -1;\n        this.isSetScrollLeft = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.parent = parent;\n        this.element = this.parent.ganttChartModule.scrollElement;\n        this.addEventListeners();\n    }\n    /**\n     * Bind event\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.addEventListeners = function () {\n        this.parent.on('grid-scroll', this.gridScrollHandler, this);\n        EventHandler.add(this.element, 'scroll', this.onScroll, this);\n        this.parent.treeGrid.grid.on('showGanttShimmer', this.updateShimmer, this);\n        this.parent.treeGrid.grid.on('removeGanttShimmer', this.removeShimmer, this);\n        this.parent.treeGrid.grid.on('virtualTransform', this.transformChange, this);\n    };\n    /**\n     * Unbind events\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.removeEventListeners = function () {\n        EventHandler.remove(this.element, 'scroll', this.onScroll);\n        this.parent.off('grid-scroll', this.gridScrollHandler);\n        this.parent.treeGrid.grid.off('showGanttShimmer', this.updateShimmer);\n        this.parent.treeGrid.grid.off('removeGanttShimmer', this.removeShimmer);\n        this.parent.treeGrid.grid.off('virtualTransform', this.transformChange);\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     */\n    ChartScroll.prototype.gridScrollHandler = function (args) {\n        this.element.scrollTop = getValue('top', args);\n        this.isFromTreeGrid = true;\n    };\n    /**\n     * Method to update vertical grid line, holiday, event markers and weekend container's top position on scroll action\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.updateContent = function () {\n        var ganttElement = this.parent.element;\n        var currentCount = Math.round(this.element.scrollLeft / ganttElement.offsetWidth);\n        if (this.previousCount !== currentCount || this.parent.timelineModule['performedTimeSpanAction']) {\n            this.deleteTableElements();\n            this.parent.timelineModule.createTimelineSeries();\n            if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n                this.parent['renderChartVerticalLines']();\n            }\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule['eventMarkerRender'].renderEventMarkers();\n            }\n            this.parent.timelineModule['performedTimeSpanAction'] = false;\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule.nonworkingDayRender.renderWeekends();\n                this.parent.dayMarkersModule.nonworkingDayRender.renderHolidays();\n            }\n            this.updateChartElementStyles();\n            this.previousCount = currentCount;\n            if (this.isSetScrollLeft) {\n                this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            }\n        }\n    };\n    ChartScroll.prototype.getTimelineLeft = function () {\n        var tLeft;\n        var ganttElement = this.parent.element;\n        var resultantWidth = this.parent.timelineModule.wholeTimelineWidth > (ganttElement.offsetWidth * 3) ?\n            this.parent.timelineModule.wholeTimelineWidth - ganttElement.offsetWidth * 3 : 0;\n        if (this.element.scrollLeft === (this.parent.enableRtl ? -resultantWidth : resultantWidth)) {\n            tLeft = this.element.scrollLeft;\n        }\n        else {\n            var left = this.parent.enableRtl ? -this.element.scrollLeft : this.element.scrollLeft;\n            tLeft = (left > ganttElement.offsetWidth) ? left - ganttElement.offsetWidth : 0;\n        }\n        if (tLeft >= resultantWidth) {\n            tLeft = resultantWidth;\n        }\n        if ((tLeft <= ganttElement.offsetWidth) && this.isBackwardScrolled) {\n            tLeft = 0;\n        }\n        if (this.parent.timelineModule.isZoomToFit || this.parent.timelineModule.isZooming) {\n            tLeft = 0;\n        }\n        return tLeft;\n    };\n    ChartScroll.prototype.deleteTableElements = function () {\n        var tableContainer = this.parent.element.getElementsByClassName('e-timeline-header-table-container');\n        do {\n            tableContainer[0].remove();\n        } while (tableContainer.length > 0);\n        if (this.parent.element.querySelector('#ganttContainerline-container')) {\n            this.parent.element.querySelector('#ganttContainerline-container').innerHTML = '';\n        }\n        if (this.parent.element.querySelector('.e-nonworking-day-container')) {\n            this.parent.element.querySelector('.e-nonworking-day-container').outerHTML = null;\n        }\n    };\n    ChartScroll.prototype.updateChartElementStyles = function () {\n        var translateXValue = this.getTimelineLeft();\n        if (this.parent.enableTimelineVirtualization) {\n            // updating connector line & task table styles\n            var dependencyViewer = this.parent.connectorLineModule.dependencyViewContainer;\n            var taskTable = this.parent.chartRowsModule.taskTable;\n            if (!this.parent.enableRtl) {\n                dependencyViewer.style.left = -translateXValue + 'px';\n                taskTable.style.left = -translateXValue + 'px';\n            }\n            else {\n                dependencyViewer.style.left = translateXValue + 'px';\n                taskTable.style.right = -translateXValue + 'px';\n            }\n            taskTable.style.width = this.parent.timelineModule.wholeTimelineWidth + 'px';\n        }\n    };\n    ChartScroll.prototype.updateTopPosition = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        var contentScrollTop = content.scrollTop;\n        var scrollTop;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var top_1 = this.parent.virtualScrollModule.getTopPosition();\n            scrollTop = contentScrollTop - top_1;\n        }\n        else {\n            scrollTop = contentScrollTop;\n        }\n        if (!isNullOrUndefined(this.parent.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.parent.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.parent.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.parent.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.top = formatUnit(scrollTop);\n            }\n            if (weekendContainer) {\n                weekendContainer.style.top = formatUnit(scrollTop);\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.top = formatUnit(scrollTop);\n            }\n        }\n        if (this.parent.chartVerticalLineContainer) {\n            this.parent.chartVerticalLineContainer.style.top = formatUnit(scrollTop);\n        }\n    };\n    ChartScroll.prototype.removeShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.hideMaskRow();\n            if (!parent.allowTaskbarOverlap && parent.showOverAllocation) {\n                for (var i = 0; i < parent.currentViewData.length; i++) {\n                    var tr = parent.chartRowsModule.ganttChartTableBody.childNodes[i];\n                    if (tr['style'].display !== 'none' && parent.currentViewData[i].hasChildRecords && !parent.currentViewData[i].expanded) {\n                        if (parent.ganttChartModule.isExpandAll || parent.ganttChartModule.isCollapseAll) {\n                            parent.treeGrid.getRowByIndex(i)['style'].height = tr['style'].height;\n                        }\n                        else {\n                            parent.treeGrid.getRows()[i]['style'].height = tr['style'].height;\n                        }\n                    }\n                }\n                parent.contentHeight = parent.enableRtl ? parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                parent.element.getElementsByClassName('e-chart-rows-container')[0]['style'].height = parent.contentHeight + 'px';\n            }\n        }, 0);\n    };\n    ChartScroll.prototype.transformChange = function () {\n        this.parent.ganttChartModule.virtualRender.adjustTable();\n        this.parent.ganttChartModule.scrollObject.updateTopPosition();\n    };\n    ChartScroll.prototype.updateShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.showMaskRow();\n        }, 0);\n    };\n    ChartScroll.prototype.updateSpinner = function () {\n        var parent = this.parent;\n        this.parent.showSpinner();\n        window.clearTimeout(this.isScrolling);\n        this.isScrolling = setTimeout(function () {\n            parent.hideSpinner();\n        }, 200);\n    };\n    /**\n     * Scroll event handler\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.onScroll = function () {\n        var _this = this;\n        var scrollArgs = {};\n        if (this.element.scrollTop !== this.previousScroll.top) {\n            // eslint-disable-next-line\n            !this.isFromTreeGrid ? this.parent.notify('chartScroll', { top: this.element.scrollTop }) : (this.isFromTreeGrid = false);\n            scrollArgs.previousScrollTop = this.previousScroll.top;\n            this.previousScroll.top = this.element.scrollTop;\n            scrollArgs.scrollTop = this.element.scrollTop;\n            scrollArgs.scrollDirection = 'Vertical';\n            scrollArgs.action = 'VerticalScroll';\n            this.updateTopPosition();\n        }\n        if (this.element.scrollLeft !== this.previousScroll.left) {\n            this.isBackwardScrolled = (this.element.scrollLeft < this.previousScroll.left && !this.parent.enableRtl);\n            this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            scrollArgs.previousScrollLeft = this.previousScroll.left;\n            this.previousScroll.left = this.element.scrollLeft;\n            scrollArgs.scrollLeft = this.element.scrollLeft;\n            scrollArgs.scrollDirection = 'Horizontal';\n            scrollArgs.action = 'HorizontalScroll';\n            if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth >\n                this.parent.element.offsetWidth * 3) {\n                this.isSetScrollLeft = true;\n                if (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    this.updateContent();\n                }\n                this.parent.ganttChartModule.updateWidthAndHeight();\n                if (this.parent.element.getElementsByClassName('e-weekend-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-weekend-container')[0]['style'].height = '100%';\n                }\n                if (this.parent.element.getElementsByClassName('e-holiday-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-holiday-container')[0]['style'].height = '100%';\n                }\n            }\n            else if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth <\n                this.parent.element.offsetWidth * 3) {\n                this.parent.connectorLineModule.svgObject.setAttribute('width', '100%');\n            }\n        }\n        this.parent.timelineModule['performedTimeSpanAction'] = false;\n        if ((!isNullOrUndefined(scrollArgs.scrollDirection)) && (this.parent.enableVirtualization === true ||\n            this.parent.enableTimelineVirtualization === true) && (this.parent.isToolBarClick ||\n            isNullOrUndefined(this.parent.isToolBarClick))) {\n            this.parent.isVirtualScroll = true;\n            if (this.parent.showIndicator || isNullOrUndefined(this.parent.showIndicator)) {\n                if (!this.parent.enableVirtualMaskRow && this.parent.enableVirtualization && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                    this.updateSpinner();\n                }\n                else if (this.parent.enableTimelineVirtualization && !this.parent['isRowSelected'] && Math.abs(this.element.scrollLeft - scrollArgs.previousScrollLeft) > 1000) {\n                    if (!this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                        this.updateSpinner();\n                    }\n                    else {\n                        this.parent.showMaskRow();\n                        setTimeout(function () {\n                            _this.removeShimmer();\n                        }, 0);\n                    }\n                }\n                this.parent['isRowSelected'] = false;\n            }\n        }\n        this.isSetScrollLeft = false;\n        this.parent.isToolBarClick = true;\n        scrollArgs.requestType = 'scroll';\n        this.parent.trigger('actionComplete', scrollArgs);\n    };\n    /**\n     * To set height for chart scroll container\n     *\n     * @param {string | number} height - To set height for scroll container in chart side\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setHeight = function (height) {\n        this.element.style.height = formatUnit(height);\n    };\n    /**\n     * To set width for chart scroll container\n     *\n     * @param {string | number} width - To set width to scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setWidth = function (width) {\n        this.element.style.width = formatUnit(width);\n    };\n    /**\n     * To set scroll top for chart scroll container\n     *\n     * @param {number} scrollTop - To set scroll top for scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setScrollTop = function (scrollTop) {\n        this.element.scrollTop = scrollTop;\n        this.parent.treeGrid.element.querySelector('.e-content').scrollTop = scrollTop;\n    };\n    /**\n     * To set scroll left for chart scroll container\n     *\n     * @param {number} scrollLeft  - To set scroll left for scroll container\n     * @param {number} leftSign - specifies left sign\n     * @returns {void} .\n     */\n    ChartScroll.prototype.setScrollLeft = function (scrollLeft, leftSign) {\n        scrollLeft = leftSign === -1 && this.parent.enableRtl ? -scrollLeft : scrollLeft;\n        this.isSetScrollLeft = true;\n        this.element.scrollLeft = scrollLeft;\n        this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n        if (!this.parent.enableTimelineVirtualization) {\n            this.previousScroll.left = this.element.scrollLeft;\n        }\n    };\n    /**\n     * Destroy scroll related elements and unbind the events\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.destroy = function () {\n        this.removeEventListeners();\n    };\n    return ChartScroll;\n}());\nexport { ChartScroll };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * virtual Content renderer for Gantt\n */\nvar VirtualContentRenderer = /** @class */ (function () {\n    function VirtualContentRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * To render a wrapper for chart body content when virtualization is enabled.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.renderWrapper = function () {\n        this.wrapper = createElement('div', { className: 'e-virtualtable', styles: 'position: absolute; transform: translate(0px, 0px);' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.wrapper);\n        this.virtualTrack = createElement('div', { className: 'e-virtualtrack', styles: 'position: relative; pointer-events: none; width: 100%;' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.virtualTrack);\n        this.wrapper.appendChild(this.parent.ganttChartModule.chartBodyContent);\n    };\n    /**\n     * To append child elements for wrappered element when virtualization is enabled.\n     *\n     * @param {HTMLElement} element .\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.appendChildElements = function (element) {\n        this.wrapper.appendChild(element);\n    };\n    /**\n     * To adjust gantt content table's style when virtualization is enabled\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.adjustTable = function () {\n        var content = this.parent.treeGrid.getContent().querySelector('.e-content').querySelector('.e-virtualtable');\n        if (this.parent.enableTimelineVirtualization) {\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var translateXValue = void 0;\n            if (virtualTable !== '') {\n                translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            else {\n                var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n        }\n        else {\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = content.style.transform;\n        }\n    };\n    return VirtualContentRenderer;\n}());\nexport { VirtualContentRenderer };\n","import { createElement, formatUnit, EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, closest, addClass, removeClass, getValue, setValue } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { ChartScroll } from '../actions/chart-scroll';\nimport { click } from '@syncfusion/ej2-grids';\nimport { VirtualContentRenderer } from '../renderer/virtual-content-render';\n/**\n * module to render gantt chart - project view\n */\nvar GanttChart = /** @class */ (function () {\n    function GanttChart(parent) {\n        this.isExpandCollapseFromChart = false;\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n        this.debounceTimeoutNext = 0;\n        this.debounceTimeout = 0;\n        this.isGanttElement = false;\n        this.previousPinchDistance = 0;\n        this.currentToolbarIndex = -1;\n        this.isPinching = false;\n        this.preventScrollIntoView = false;\n        this.parent = parent;\n        this.chartTimelineContainer = null;\n        this.rangeViewContainer =\n            createElement('div', { className: cls.rangeContainer });\n        this.rangeViewContainer.setAttribute('role', 'button');\n        this.rangeViewContainer.setAttribute('aria-label', 'RangeContainer');\n        this.virtualRender = new VirtualContentRenderer(this.parent);\n        this.addEventListener();\n    }\n    GanttChart.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.renderChartContainer, this);\n        this.parent.on('recordsUpdated', this.renderChartElements, this);\n        this.parent.on('dataReady', this.renderInitialContents, this);\n        this.parent.on('tree-grid-created', this.renderChartContents, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    GanttChart.prototype.renderChartContents = function () {\n        this.parent.notify('refreshDayMarkers', {});\n        this.wireEvents();\n    };\n    /**\n     * Method to render top level containers in Gantt chart\n     *\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderChartContainer = function () {\n        this.chartElement = createElement('div', { id: this.parent.element.id + 'GanttChart', className: cls.ganttChart });\n        this.parent.chartPane.appendChild(this.chartElement);\n        this.renderTimelineContainer();\n        this.renderBodyContainers();\n        // render top level div header and content\n        // Get timeline header from timeline class file and append to header div\n        // render content div\n        // Render scroll able div\n        // Render container for all element like, table, weekend and holidays\n        // Get rows element from rows renderer class\n        // Get label related info label renderer class\n        // Get baseline from baseline renderer class\n        // Get weekend elements from weekend-holidays renderer class\n    };\n    /**\n     * method to render timeline, holidays, weekends at load time\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderInitialContents = function () {\n        this.parent.timelineModule.createTimelineSeries();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderOverAllocationContainer = function () {\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            var data = this.parent.flatData[i];\n            if (data.childRecords.length > 0) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n            }\n        }\n        var rangeContainer = this.parent.element.querySelector('.' + cls.rangeContainer);\n        if (rangeContainer) {\n            rangeContainer.innerHTML = '';\n        }\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            this.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    GanttChart.prototype.renderChartElements = function () {\n        if (this.parent.isFromOnPropertyChange) {\n            this.rangeViewContainer.innerHTML = '';\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n            this.parent.isFromOnPropertyChange = false;\n        }\n        else {\n            this.parent.chartRowsModule.renderChartRows();\n            if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n                this.parent.connectorLineIds = [];\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.predecessorModule.createConnectorLinesCollection();\n            }\n            this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n            for (var i = 0; i < this.parent.chartRowsModule.ganttChartTableBody.children.length; i++) {\n                if (this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4]) {\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[2].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4].setAttribute('tabindex', '-1');\n                }\n                else {\n                    if (this.parent.viewType === 'ProjectView') {\n                        var node = this.parent.chartRowsModule.ganttChartTableBody.\n                            children[parseInt(i.toString(), 10)].children[0].children[1].children[1];\n                        if (!isNullOrUndefined(node)) {\n                            this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                        }\n                    }\n                    else if (this.parent.chartRowsModule.ganttChartTableBody.children[parseInt(i.toString(), 10)].children[0].\n                        children[1].children[0]) {\n                        this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[0].setAttribute('tabindex', '-1');\n                    }\n                }\n            }\n            var criticalModule = this.parent.criticalPathModule;\n            if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, this.parent.enableCriticalPath, criticalModule.predecessorCollectionTaskIds);\n            }\n            if (this.parent.showOverAllocation) {\n                this.renderOverAllocationContainer();\n            }\n        }\n        this.updateWidthAndHeight();\n        if (this.parent.isLoad) {\n            this.parent.notify('selectRowByIndex', {});\n        }\n        if (this.parent.timelineModule.isZoomToFit) {\n            this.parent.timelineModule.processZoomToFit();\n        }\n    };\n    /**\n     * @param {IGanttData[]} records .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderRangeContainer = function (records) {\n        var recordLength = records.length;\n        var count;\n        var ganttRecord;\n        var rangeCollection;\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            for (count = 0; count < recordLength; count++) {\n                ganttRecord = records[count];\n                rangeCollection = ganttRecord.ganttProperties.workTimelineRanges;\n                if (rangeCollection) {\n                    this.renderRange(rangeCollection, ganttRecord);\n                }\n            }\n        }\n    };\n    GanttChart.prototype.getTopValue = function (currentRecord) {\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var recordIndex = updatedRecords.indexOf(currentRecord);\n        if (currentRecord.parentItem && recordIndex === -1) {\n            var nestedParent = this.parent.getRecordByID(currentRecord.parentItem.taskId);\n            recordIndex = updatedRecords.indexOf(nestedParent);\n        }\n        if (!currentRecord.expanded) {\n            return (recordIndex * this.parent.rowHeight);\n        }\n        return ((recordIndex + 1) * this.parent.rowHeight);\n    };\n    // Recursively collects all child records in a hierarchy.\n    GanttChart.prototype.getHierarchyChildRecords = function (records) {\n        var hierarchyChildRecords = [];\n        for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\n            var record = records_1[_i];\n            if (record.childRecords && record.childRecords.length > 0) {\n                hierarchyChildRecords.push(record); // Include the current record\n                this.collectHierarchyChildren(record.childRecords, hierarchyChildRecords);\n            }\n        }\n        return hierarchyChildRecords;\n    };\n    // Helper function to append children records to the list.\n    GanttChart.prototype.collectHierarchyChildren = function (records, accumulator) {\n        for (var _i = 0, records_2 = records; _i < records_2.length; _i++) {\n            var record = records_2[_i];\n            if (record.childRecords && record.childRecords.length > 0) {\n                accumulator.push(record);\n                this.collectHierarchyChildren(record.childRecords, accumulator);\n            }\n        }\n    };\n    // Get height for range bar, considering hierarchy child records.\n    GanttChart.prototype.getRangeHeight = function (data) {\n        var heightDifference = Math.floor(this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight);\n        if (!data.expanded && data.hasChildRecords) {\n            return this.calculateCollapsedRowHeight(heightDifference);\n        }\n        var hierarchyChildLength = this.calculateHierarchyChildLength(data);\n        return this.calculateExpandedRowHeight(data.childRecords.length, hierarchyChildLength, heightDifference);\n    };\n    // Calculates height when the row is collapsed.\n    GanttChart.prototype.calculateCollapsedRowHeight = function (heightDifference) {\n        return this.parent.rowHeight - heightDifference;\n    };\n    // Calculates the total length from hierarchy children.\n    GanttChart.prototype.calculateHierarchyChildLength = function (data) {\n        if (!data.childRecords || data.childRecords.length === 0) {\n            return 0;\n        }\n        var hierarchyChildRecords = this.getHierarchyChildRecords(data.childRecords);\n        var hierarchyChildDataLength = 0;\n        for (var _i = 0, hierarchyChildRecords_1 = hierarchyChildRecords; _i < hierarchyChildRecords_1.length; _i++) {\n            var item = hierarchyChildRecords_1[_i];\n            if (item.childRecords.length !== 0 && item.expanded) {\n                hierarchyChildDataLength += item.childRecords.length;\n            }\n        }\n        return hierarchyChildDataLength;\n    };\n    // Calculates height when the row is expanded and incorporates child records.\n    GanttChart.prototype.calculateExpandedRowHeight = function (childLength, hierarchyChildLength, heightDifference) {\n        return ((childLength + hierarchyChildLength) * this.parent.rowHeight) - heightDifference;\n    };\n    GanttChart.prototype.renderRange = function (rangeCollection, currentRecord) {\n        var topValue = 0;\n        var rowIndex = this.parent.currentViewData.indexOf(currentRecord);\n        if (!this.parent.allowTaskbarOverlap && this.parent.enableMultiTaskbar) {\n            // Handling overallocation lines for multiple hierarchy-level record collapse actions - Task:887301\n            var parentRecord = currentRecord.parentItem ? this.parent.getParentTask(currentRecord.parentItem) : null;\n            if (currentRecord.parentItem &&\n                parentRecord &&\n                !parentRecord.expanded &&\n                currentRecord.hasChildRecords &&\n                !currentRecord.expanded) {\n                topValue = this.parent.getRowByIndex(this.parent.getRootParent(currentRecord, 0).index).offsetTop;\n            }\n            else {\n                var rowOffset = this.parent.getRowByIndex(rowIndex).offsetTop;\n                topValue = !currentRecord.expanded ? rowOffset : rowOffset + this.parent.rowHeight;\n            }\n        }\n        else {\n            topValue = this.getTopValue(currentRecord);\n        }\n        var sameIDElement = this.rangeViewContainer.querySelector('.' + 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID);\n        if (sameIDElement) {\n            sameIDElement.remove();\n        }\n        var parentDiv = createElement('div', {\n            className: 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID, styles: \"top:\" + topValue + \"px; position: absolute;\"\n        });\n        if (currentRecord.level === 0 && !currentRecord.expanded && isNullOrUndefined(currentRecord.parentItem)\n            && !this.parent.enableMultiTaskbar) {\n            return;\n        }\n        if (currentRecord.level > 0 && currentRecord.expanded && !this.parent.getRecordByID(currentRecord.parentItem.taskId).expanded) {\n            return;\n        }\n        for (var i = 0; i < rangeCollection.length; i++) {\n            var height = void 0;\n            var node = this.parent.chartRowsModule.ganttChartTableBody.childNodes;\n            if (!this.parent.allowTaskbarOverlap && !currentRecord.expanded && this.parent.enableMultiTaskbar) {\n                // Render proper overallocation line height during collapseall actions - Task:872518\n                var parentRecord = this.parent.getRootParent(currentRecord, 0);\n                rowIndex = parentRecord.expanded ? rowIndex : this.parent.currentViewData.indexOf(parentRecord);\n                height = parseInt(node[rowIndex].style.height, 10) -\n                    (this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight);\n            }\n            else {\n                height = this.getRangeHeight(currentRecord);\n            }\n            var leftDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-leftarc', styles: (this.parent.enableRtl ? 'right:' : 'left:') +\n                    ((this.parent.enableRtl ? rangeCollection[i].left + rangeCollection[i].width - 5 : rangeCollection[i].left) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px;\\n                height: \" + (height + 1) + \"px; border-right: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            var rightDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-rightarc',\n                styles: (this.parent.enableRtl ? 'right:' : 'left:') + ((this.parent.enableRtl ? rangeCollection[i].left :\n                    rangeCollection[i].left + rangeCollection[i].width - 5) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px; height: \" + (height + 1) + \"px;\\n                border-left: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            parentDiv.appendChild(leftDiv);\n            parentDiv.appendChild(rightDiv);\n            this.rangeViewContainer.appendChild(parentDiv);\n        }\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.rangeViewContainer);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderTimelineContainer = function () {\n        this.chartTimelineContainer =\n            createElement('div', { className: cls.timelineHeaderContainer });\n        if (this.parent.enableRtl) {\n            this.chartTimelineContainer.style.borderLeftWidth = '1px';\n            this.chartTimelineContainer.style.borderRightWidth = '0px';\n        }\n        this.chartTimelineContainer.setAttribute('role', 'presentation');\n        this.chartElement.appendChild(this.chartTimelineContainer);\n    };\n    /**\n     * initiate chart container\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderBodyContainers = function () {\n        this.chartBodyContainer = createElement('div', { className: cls.chartBodyContainer });\n        this.chartElement.appendChild(this.chartBodyContainer);\n        this.scrollElement = createElement('div', {\n            className: cls.chartScrollElement + ' ' + cls.scrollContent, styles: 'position:relative;'\n        });\n        this.chartBodyContainer.appendChild(this.scrollElement);\n        this.chartBodyContent = createElement('div', { className: cls.chartBodyContent, styles: 'position:relative; overflow:hidden ' });\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization || this.parent.enableTimelineVirtualization) {\n            this.parent.ganttChartModule.virtualRender.renderWrapper();\n        }\n        else {\n            this.scrollElement.appendChild(this.chartBodyContent);\n        }\n        // this.parent.chartRowsModule.createChartTable();\n        this.scrollObject = new ChartScroll(this.parent);\n        //this.scrollObject.setWidth(this.chartProperties.width);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.scrollObject.\n            setHeight(this.parent.ganttHeight - this.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateWidthAndHeight = function () {\n        //empty row height\n        var emptydivHeight = 36;\n        var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n            this.parent.contentHeight;\n        var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (emptyHeight >= contentElement['offsetHeight'] || this.parent.height === 'auto' || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n            this.chartBodyContent.style.height = formatUnit(emptyHeight);\n        }\n        else {\n            var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            if (contentElement['offsetHeight'] >= scrollHeight) {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n            }\n            else {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n            }\n        } //let element: HTMLElement = this.chartTimelineContainer.querySelector('.' + cls.timelineHeaderTableContainer);\n        // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n        if (this.parent.timelineModule.isZoomToFit && this.parent.enableTimelineVirtualization) {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth - this.parent.timelineModule['clientWidthDifference']);\n        }\n        else {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        }\n        // To handle the width of chartbody element after zoomtofit action followed by vertical scroll actions\n        if (this.parent.timelineModule.isZoomedToFit && this.parent.enableVirtualization) {\n            var clientWidth = Math.abs(this.parent.timelineModule.totalTimelineWidth -\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth);\n            this.parent.ganttChartModule.chartBodyContent.style.width =\n                formatUnit(this.parent.timelineModule.totalTimelineWidth - clientWidth);\n        }\n        this.setVirtualHeight();\n        this.parent.notify('updateHeight', {});\n        this.parent.updateGridLineContainerHeight();\n        this.updateLastRowBottomWidth();\n    };\n    GanttChart.prototype.setVirtualHeight = function () {\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var wrapper = getValue('virtualTrack', this.parent.ganttChartModule.virtualRender);\n            wrapper.style.height = this.parent.treeGrid.element.getElementsByClassName('e-virtualtrack')[0].style.height;\n            var wrapper1 = getValue('wrapper', this.parent.ganttChartModule.virtualRender);\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            if (this.parent.enableTimelineVirtualization) {\n                var translateXValue = void 0;\n                // Firefox whitespace issue, Firefox omit y axis value if both axis values are 0 and returns translate(0px)-Task(888356)\n                if (treegridVirtualHeight === 'translate(0px)' && navigator.userAgent.includes('Firefox')) {\n                    treegridVirtualHeight = 'translate(0px, 0px)';\n                }\n                if (virtualTable !== '') {\n                    translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                else {\n                    var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                    translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n                wrapper1.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n            }\n            else {\n                wrapper1.style.transform = treegridVirtualHeight;\n            }\n        }\n    };\n    /**\n     * Method to update bottom border for chart rows\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.updateLastRowBottomWidth = function () {\n        if (this.parent.currentViewData.length > 0 && this.parent.height !== 'auto') {\n            var expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.expandedRecords;\n            var lastExpandedRow = expandedRecords[expandedRecords.length - 1];\n            var lastExpandedRowIndex = this.parent.currentViewData.indexOf(lastExpandedRow);\n            var lastRow = this.parent.getRowByIndex(lastExpandedRowIndex);\n            var table = this.parent.chartRowsModule.ganttChartTableBody;\n            if (table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow')) {\n                removeClass(table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow'), 'e-lastrow');\n            }\n            if (this.chartBodyContent.clientHeight < this.chartBodyContainer.clientHeight) {\n                if (lastRow) {\n                    addClass(lastRow.querySelectorAll('td'), 'e-lastrow');\n                    var emptydivHeight = 36;\n                    var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n                        this.parent.contentHeight;\n                    var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n                    if (emptyHeight >= contentElement['offsetHeight'] || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n                        this.chartBodyContent.style.height = formatUnit(emptyHeight);\n                    }\n                    else {\n                        var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n                        if (contentElement['offsetHeight'] >= scrollHeight) {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n                        }\n                        else {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n                        }\n                    }\n                }\n            }\n        }\n    };\n    GanttChart.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.renderChartContainer);\n        this.parent.off('recordsUpdated', this.renderChartElements);\n        this.parent.off('dataReady', this.renderInitialContents);\n        this.parent.off('tree-grid-created', this.renderChartContents);\n        this.parent.off('destroy', this.destroy);\n    };\n    /**\n     * Click event handler in chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.ganttChartMouseDown = function (e) {\n        var cancel = false;\n        if (e.type === 'touchstart' && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate initial distance between two Pinch touch points\n            this.initPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            this.isPinching = true;\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule &&\n            this.parent.editSettings.allowTaskbarEditing && !this.isPinching) {\n            var editAction = this.parent.editModule.taskbarEditModule['getTaskBarAction'](e);\n            if (editAction === 'ChildDrag' || editAction === 'ParentDrag' || editAction === 'MilestoneDrag' || editAction === 'ManualParentDrag') {\n                var args = {\n                    cancel: cancel,\n                    data: this.getRecordByTaskBar(e.target),\n                    target: e.target,\n                    chartRow: closest(e.target, 'tr')\n                };\n                this.parent.trigger('rowDragStartHelper', args);\n                cancel = args['cancel'];\n            }\n        }\n        if (!cancel && !this.isPinching) {\n            if (e.which !== 3 && this.parent.editSettings.allowTaskbarEditing) {\n                this.parent.notify('chartMouseDown', e);\n                this.parent.element.tabIndex = 0;\n            }\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing && (this.parent.element.querySelector('.e-left-resize-gripper') || this.parent.element.querySelector('.e-left-connectorpoint-outer-div'))) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited || e.button === 2) {\n                if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                    this.parent.treeGrid.endEdit();\n                }\n            }\n        }\n    };\n    GanttChart.prototype.calculatePinchDistance = function (touch1, touch2) {\n        var dx = touch2.clientX - touch1.clientX;\n        var dy = touch2.clientY - touch1.clientY;\n        return Math.sqrt(dx * dx + dy * dy);\n    };\n    GanttChart.prototype.ganttChartMouseClick = function (e) {\n        if (this.parent.autoFocusTasks) {\n            this.scrollToTarget(e); /** Scroll to task */\n        }\n        this.parent.notify('chartMouseClick', e);\n    };\n    GanttChart.prototype.ganttChartMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n            if (!isNullOrUndefined(resizeCheck)) {\n                resizeCheck.remove();\n            }\n            var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar') || this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n            var falseline = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-gantt-false-line');\n            if (!isNullOrUndefined(falseline)) {\n                this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        if (!this.parent.editSettings.allowEditing) {\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing &&\n                getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n                getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited) {\n                /** Expand/collapse action */\n                var target = e.target;\n                var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                    || closest(e.target, '.' + cls.taskBarMainContainer);\n                if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing && !this.parent.isAdaptive) {\n                    this.chartExpandCollapseRequest(e);\n                }\n                else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                    this.scrollToTarget(e); /** Scroll to task */\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.scrollToTarget = function (e) {\n        var row = closest(e.target, 'tr');\n        if (row && this.parent.element.contains(row) &&\n            (this.parent.element.querySelectorAll('.e-chart-rows-container')[0].contains(e.target) ||\n                this.parent.element.querySelectorAll('.e-gridcontent')[0].contains(e.target)) &&\n            this.parent.currentViewData.length > 0) {\n            var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n            var dateObject = this.parent.currentViewData[rowIndex].ganttProperties.startDate;\n            var dateObjLeft = this.parent.currentViewData[rowIndex].ganttProperties.left;\n            if (!isNullOrUndefined(dateObject)) {\n                var left = !this.parent.enableTimelineVirtualization ?\n                    this.parent.dataOperation.getTaskLeft(dateObject, false) : {};\n                if (this.parent.autoFocusTasks) {\n                    if (this.parent.enableTimelineVirtualization) {\n                        this.updateScrollLeft(dateObjLeft);\n                    }\n                    else {\n                        this.updateScrollLeft(left);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To focus selected task in chart side\n     *\n     * @param {number} scrollLeft .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateScrollLeft = function (scrollLeft) {\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        scrollLeft = this.scrollElement.scrollWidth <= scrollLeft ? this.scrollElement.scrollWidth : scrollLeft;\n        if ((this.scrollElement.offsetWidth + this.parent.ganttChartModule.scrollElement.scrollLeft) < scrollLeft\n            || (this.scrollElement.scrollLeft > scrollLeft)) {\n            this.scrollObject.setScrollLeft(scrollLeft - 50, this.parent.enableRtl ? -1 : 0);\n        }\n        //  this.parent.ganttChartModule.scrollObject.updateLeftPosition();\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void}\n     * @private\n     */\n    GanttChart.prototype.mouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n        }\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(false);\n        }\n        var resizeCheck = this.parent.element.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule['previousLeftValue'] = 0;\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (!this.isGanttElement) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        this.isGanttElement = false;\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.documentMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            this.previousPinchDistance = 0;\n        }\n        this.isGanttElement = true;\n        if (e.target.classList.contains('e-treegridexpand') ||\n            e.target.classList.contains('e-treegridcollapse')) {\n            if (getValue('isEditCollapse', this.parent.treeGrid) === true) {\n                setValue('isEditCollapse', false, this.parent.treeGrid);\n            }\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (this.parent.isDestroyed || e.which === 3) {\n            return;\n        }\n        var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        var Check = this.parent.element.getElementsByClassName('e-clone-taskbar')[0];\n        if (!isNullOrUndefined(Check)) {\n            var clonetbody = Check.parentElement;\n            var cloneTable = clonetbody.parentElement;\n            cloneTable.remove();\n        }\n        var isTaskbarEdited = false;\n        if (this.parent.editSettings.allowTaskbarEditing &&\n            getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n            getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            isTaskbarEdited = true;\n        }\n        this.parent.notify('chartMouseUp', e);\n        if (this.parent.showActiveElement) {\n            this.parent.showIndicator = true;\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n            if (this.focusedElement && !e.target.classList.contains('e-split-bar')) {\n                this.focusedElement.tabIndex = this.focusedElement.tabIndex === 0 ? -1 : this.focusedElement.tabIndex;\n                removeClass([this.focusedElement], 'e-active-container');\n            }\n        }\n        if (!isTaskbarEdited) {\n            /** Expand/collapse action */\n            var target = e.target;\n            var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                || closest(e.target, '.' + cls.taskBarMainContainer);\n            if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                this.chartExpandCollapseRequest(e);\n            }\n            else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                this.scrollToTarget(e); /** Scroll to task */\n            }\n        }\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n        }\n        if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isTaskbarEdited) {\n            var target = e.target;\n            var taskbarElement = closest(target, '.e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone');\n            if (taskbarElement) {\n                this.onTaskbarClick(e, target, taskbarElement);\n            }\n        }\n    };\n    /**\n     * This event triggered when click on taskbar element\n     *\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @param {EventTarget} target .\n     * @param {Element} taskbarElement .\n     * @returns {void}\n     */\n    GanttChart.prototype.onTaskbarClick = function (e, target, taskbarElement) {\n        var rowIndex;\n        var chartRow = closest(target, 'tr');\n        if (!isNullOrUndefined(chartRow)) {\n            rowIndex = getValue('rowIndex', chartRow);\n        }\n        var data = this.getRecordByTarget(e);\n        var args = {\n            data: data,\n            taskbarElement: taskbarElement,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.parent.trigger('onTaskbarClick', args);\n    };\n    /**\n     *  Method trigger while perform mouse leave action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartLeave = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseLeave', e);\n        }\n    };\n    /**\n     *  Method trigger while perform mouse move action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartMove = function (e) {\n        if (e.type === 'touchmove' && this.isPinching === true && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate current distance between two touch points\n            var currentPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            if (Math.abs(this.previousPinchDistance - currentPinchDistance) > 15) {\n                if (currentPinchDistance > this.previousPinchDistance) {\n                    // Pinch out detected - Perform Zoom in\n                    this.parent.timelineModule.processZooming(true);\n                }\n                else if (currentPinchDistance < this.previousPinchDistance) {\n                    // Pinch in detected - Perform Zoom out\n                    this.parent.timelineModule.processZooming(false);\n                }\n                this.previousPinchDistance = currentPinchDistance;\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && this.isPinching === false) {\n            if (this.parent.element.getElementsByClassName('e-clone-taskbar').length > 0 && !this.parent.enableRtl) {\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (xValue <= this.parent.getOffsetRect(this.parent.ganttChartModule.chartElement).left) {\n                    return;\n                }\n            }\n            this.parent.notify('chartMouseMove', e);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency) && this.parent.connectorLineEditModule) {\n                this.parent.connectorLineEditModule.updateConnectorLineEditElement(e);\n            }\n        }\n    };\n    /**\n     *  Method trigger while perform right click action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.contextClick = function (e) {\n        if (this.parent.allowFiltering && this.parent.filterModule) {\n            this.parent.filterModule.closeFilterOnContextClick(e.srcElement);\n        }\n        if (this.parent.allowTaskbarDragAndDrop) {\n            var Check = this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n        }\n    };\n    /**\n     * Method to trigger while perform mouse move on Gantt.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.mouseMoveHandler = function (e) {\n        if (!isNullOrUndefined(this.parent.onMouseMove) &&\n            (this.parent.flatData.length ||\n                e.target.classList.contains('e-header-cell-label') ||\n                e.target.classList.contains('e-headercell'))) {\n            var target = e.target;\n            var args = { originalEvent: e };\n            var element = closest(target, '.e-chart-row-cell,.e-connector-line-container,' +\n                '.e-event-markers,.e-header-cell-label,.e-rowcell,.e-headercell,.e-indicator-span');\n            if (element) {\n                var rowData = void 0;\n                var rowElement = closest(target, '.e-rowcell,.e-chart-row-cell');\n                var columnElement = closest(target, '.e-rowcell,.e-headercell');\n                if (rowElement) {\n                    rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n                    args.data = rowData;\n                }\n                if (columnElement) {\n                    var cellIndex = getValue('cellIndex', columnElement);\n                    args.column = this.parent.treeGrid.columns[cellIndex];\n                }\n                if (closest(target, '.e-indicator-span')) {\n                    var index = 0;\n                    var indicators = rowData.ganttProperties.indicators;\n                    if (indicators.length > 1) {\n                        for (index = 0; index < indicators.length; index++) {\n                            if (indicators[index].name === (element.innerText).trim()) {\n                                break;\n                            }\n                        }\n                    }\n                    args.indicator = indicators[index];\n                }\n                if (closest(target, '.e-connector-line-container')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.predecessor = this.parent.tooltipModule.getPredecessorTooltipData(obj);\n                }\n                if (closest(target, '.e-event-markers')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.eventMarkers = this.parent.tooltipModule.getMarkerTooltipData(obj);\n                }\n                if (target.classList.contains('e-header-cell-label')) {\n                    args.date = new Date(target.dataset.content);\n                }\n            }\n            this.parent.trigger('onMouseMove', args);\n        }\n    };\n    /**\n     * Double click handler for chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.doubleClickHandler = function (e) {\n        var target = e.target;\n        var row = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', row);\n        var rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        this.parent.notify('chartDblClick', e);\n        var args = {\n            row: row,\n            rowData: rowData,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.recordDoubleClick(args);\n    };\n    /**\n     * To trigger record double click event.\n     *\n     * @param {RecordDoubleClickEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.recordDoubleClick = function (args) {\n        this.parent.trigger('recordDoubleClick', args);\n    };\n    /**\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTarget = function (e) {\n        var ganttData;\n        var row = closest(e.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            var id = row.getAttribute('rowUniqueId');\n            ganttData = this.parent.getRecordByID(id);\n        }\n        else {\n            row = closest(e.target, 'tr');\n            if (row) {\n                var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n        }\n        return ganttData;\n    };\n    /**\n     * To get gantt chart row elements\n     *\n     * @returns {NodeListOf<Element>} .\n     * @private\n     */\n    GanttChart.prototype.getChartRows = function () {\n        if (document.getElementById(this.parent.element.id + 'GanttTaskTableBody') !== null) {\n            return document.getElementById(this.parent.element.id + 'GanttTaskTableBody').querySelectorAll('.e-chart-row');\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Expand Collapse operations from gantt chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.chartExpandCollapseRequest = function (e) {\n        if (this.parent.enableMultiTaskbar) {\n            return;\n        }\n        var target = e.target;\n        var parentElement = closest(target, '.e-gantt-parent-taskbar');\n        var record = this.getRecordByTarget(e);\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var gridRow = this.parent.treeGrid.getRows()[rowIndex];\n        var args = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        this.isExpandCollapseFromChart = true;\n        if (parentElement.classList.contains('e-row-expand')) {\n            this.collapseGanttRow(args);\n        }\n        else if (parentElement.classList.contains('e-row-collapse')) {\n            this.expandGanttRow(args);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.reRenderConnectorLines = function () {\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML = '';\n        this.parent.connectorLineIds = [];\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.predecessorModule.createConnectorLinesCollection();\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To collapse gantt rows\n     *\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.collapseGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('collapsing', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.collapsedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.collapsedGanttRow = function (args) {\n        var _this = this;\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties[_this.parent.taskFields.id] === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            if (record) {\n                record.expanded = false;\n            }\n            return;\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n            var idField_1 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_1] === args['data'][idField_1]; })[0];\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n        }\n        // To render the child record on parent row after collapsing\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'false');\n    };\n    /**\n     * To expand gantt rows\n     *\n     * @returns {void} .\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @private\n     */\n    GanttChart.prototype.expandGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('expanding', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.expandedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.expandedGanttRow = function (args) {\n        var _this = this;\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties.taskId === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            if (record) {\n                record.expanded = true;\n            }\n            return;\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            var idField_2 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_2] === args['data'][idField_2]; })[0];\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            if (!this.parent.isExpandCollapseLevelMethod) {\n                this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            }\n            this.parent.isExpandCollapseLevelMethod = false;\n        }\n        // To render the child record on parent row after expanding.\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'true');\n    };\n    GanttChart.prototype.renderMultiTaskbar = function (record) {\n        if (this.parent.enableMultiTaskbar) {\n            this.parent.chartRowsModule.refreshRecords([record], true);\n        }\n        else if (this.parent.showOverAllocation) {\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    /**\n     * On expand collapse operation row properties will be updated here.\n     *\n     * @param {string} action .\n     * @param {Node} rowElement .\n     * @param {IGanttData} record .\n     * @param {boolean} isChild .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseChartRows = function (action, rowElement, record, isChild) {\n        var displayType;\n        if (action === 'expand') {\n            displayType = 'table-row';\n            if (!isChild) {\n                record.expanded = true;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-collapse');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-expand');\n                removeClass([targetElement[t]], 'e-row-collapse');\n            }\n        }\n        else if (action === 'collapse') {\n            displayType = 'none';\n            if (!isChild) {\n                record.expanded = false;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-expand');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-collapse');\n                removeClass([targetElement[t]], 'e-row-expand');\n            }\n        }\n        if (!this.parent.enableVirtualization) {\n            var childRecords = record.childRecords;\n            var chartRows = this.getChartRows();\n            var rows = [];\n            for (var i = 0; i < chartRows.length; i++) {\n                if (chartRows[i].classList.contains('gridrowtaskId' +\n                    record.ganttProperties.rowUniqueID +\n                    'level' +\n                    (record.level + 1))) {\n                    rows.push(chartRows[i]);\n                }\n            }\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].style.display = displayType;\n                if (childRecords[i].childRecords &&\n                    childRecords[i].childRecords.length &&\n                    (action === 'collapse' ||\n                        childRecords[i].expanded ||\n                        this.isExpandAll)) {\n                    this.expandCollapseChartRows(action, rows[i], childRecords[i], true);\n                }\n            }\n        }\n    };\n    /**\n     * Public method to expand or collapse all the rows of Gantt\n     *\n     * @returns {void}\n     * @param {string} action .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseAll = function (action) {\n        if (action === 'expand') {\n            this.isExpandAll = true;\n            this.parent.treeGrid.expandAll();\n        }\n        else {\n            this.isCollapseAll = true;\n            this.parent.treeGrid.collapseAll();\n            if (this.isCollapseAll && !this.parent.allowTaskbarOverlap) {\n                var treeGridContentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.contentHeight = treeGridContentHeight;\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.expandAtLevel = function (level) {\n        this.parent.treeGrid.expandAtLevel(level);\n    };\n    /**\n     * Public method to collapse particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.collapseAtLevel = function (level) {\n        if (this.parent.enableVirtualization) {\n            this.parent.isExpandCollapseLevelMethod = true;\n        }\n        this.parent.treeGrid.collapseAtLevel(level);\n    };\n    /**\n     * Event Binding for gantt chart click\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.wireEvents = function () {\n        var _this = this;\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.parent.chartPane, mouseDown, this.ganttChartMouseDown, this);\n        EventHandler.add(this.parent.chartPane, cancel, this.ganttChartLeave, this);\n        EventHandler.add(this.parent.chartPane, mouseMove, this.ganttChartMove, this);\n        EventHandler.add(this.parent.chartPane, 'wheel', this.onWheelZoom, this);\n        if (this.parent.isAdaptive) {\n            // pointerdown event which is used to detect double click for both mobile mode\n            var tapTimeout_1;\n            EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'pointerdown', function (event) {\n                if (tapTimeout_1) {\n                    clearTimeout(tapTimeout_1);\n                    tapTimeout_1 = null;\n                    _this.doubleClickHandler(event); // Trigger double-click action\n                }\n                else {\n                    tapTimeout_1 = setTimeout(function () {\n                        tapTimeout_1 = null; // Reset after timeout\n                    }, 200); // Wait 300ms to detect second tap\n                }\n            }, this);\n            EventHandler.add(this.parent.chartPane, click, this.ganttChartMouseClick, this);\n            EventHandler.add(this.parent.chartPane, mouseUp, this.ganttChartMouseUp, this);\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler, this);\n            EventHandler.add(this.parent.element, mouseUp, this.documentMouseUp, this);\n            EventHandler.add(document, mouseUp, this.mouseUp, this);\n        }\n        EventHandler.add(this.parent.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(document.body, 'contextmenu', this.contextClick, this);\n        EventHandler.add(document, 'mouseup', this.contextClick, this);\n    };\n    GanttChart.prototype.unWireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, mouseDown, this.ganttChartMouseDown);\n        }\n        if (!isNullOrUndefined(this.parent.chartPane)) {\n            EventHandler.remove(this.parent.chartPane, cancel, this.ganttChartLeave);\n            EventHandler.remove(this.parent.chartPane, mouseMove, this.ganttChartMove);\n            EventHandler.remove(this.parent.chartPane, 'wheel', this.onWheelZoom);\n            EventHandler.remove(this.parent.chartPane, mouseDown, this.ganttChartMouseDown);\n        }\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.chartPane)) {\n                EventHandler.remove(this.parent.chartPane, click, this.ganttChartMouseClick);\n                EventHandler.remove(this.parent.chartPane, mouseUp, this.ganttChartMouseUp);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.element)) {\n                EventHandler.remove(this.parent.element, mouseUp, this.documentMouseUp);\n            }\n            if (!isNullOrUndefined(document)) {\n                EventHandler.remove(document, mouseUp, this.mouseUp);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.element)) {\n            EventHandler.remove(this.parent.element, 'mousemove', this.mouseMoveHandler);\n        }\n        if (!isNullOrUndefined(document)) {\n            EventHandler.remove(document, 'mouseup', this.contextClick);\n            if (!isNullOrUndefined(document.body)) {\n                EventHandler.remove(document.body, 'contextmenu', this.contextClick);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler);\n        }\n    };\n    // Triggers while perform ctrl+mouse wheel Pinch IN/OUT actions\n    GanttChart.prototype.onWheelZoom = function (e) {\n        if (e.ctrlKey) {\n            e.preventDefault();\n            var zoomIn1_1 = e.deltaY < 0;\n            // Differentiating between touchpad and mouse wheel\n            var isTouchpad_1 = false;\n            if (Math.abs(e.deltaY) < 75) { // Smaller deltaY typically indicates touchpad\n                isTouchpad_1 = true;\n            }\n            if (this.debounceTimeout) {\n                if (((this.debounceTimeoutNext + 20) > this.debounceTimeout)) {\n                    clearTimeout(this.debounceTimeout);\n                }\n                if ((this.debounceTimeoutNext + 20) <= this.debounceTimeout || !this.debounceTimeoutNext) {\n                    this.debounceTimeoutNext = this.debounceTimeout;\n                }\n            }\n            this.debounceTimeout = setTimeout(function () {\n                var verticalScrollDelta = Math.abs(e.deltaY);\n                // Adjust threshold based on the input method\n                var isValidScrollDelta = isTouchpad_1\n                    ? (verticalScrollDelta > 0.5 && verticalScrollDelta < 15)\n                    : (verticalScrollDelta > 5 && verticalScrollDelta <= 200);\n                if (isValidScrollDelta) {\n                    this.parent.timelineModule.processZooming(zoomIn1_1);\n                }\n            }.bind(this), 100);\n        }\n    };\n    /**\n     * To get record by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTaskBar = function (target) {\n        var item;\n        if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n            item = this.parent.flatData[this.getIndexByTaskBar(target)];\n        }\n        else {\n            item = this.parent.currentViewData[this.getIndexByTaskBar(target)];\n        }\n        return item;\n    };\n    GanttChart.prototype.updateElement = function (next, currentColumn, isTab, isInEditedState, row) {\n        if (this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field === this.parent.taskFields.progress) {\n            var rowIndex = row.index;\n            do {\n                if (row.hasChildRecords) {\n                    next = this.getNextElement(next, isTab, isInEditedState);\n                }\n                currentColumn = this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1];\n                rowIndex = this.parent.treeGrid.getRows().indexOf(next.parentElement);\n            } while (!currentColumn.allowEditing);\n            this.parent.treeGrid.saveCell();\n            this.parent.treeGrid.editCell(rowIndex, this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field);\n        }\n        return next;\n    };\n    /**\n     * Trigger Tab & Shift + Tab keypress to highlight active element.\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.onTabAction = function (e) {\n        this.parent.treeGrid.grid.enableHeaderFocus = this.parent.enableHeaderFocus;\n        var toolbarItems = document.getElementsByClassName('e-toolbar-item');\n        var isInEditedState = this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit;\n        if (!this.parent.showActiveElement && !isInEditedState) {\n            return;\n        }\n        var $target = isInEditedState ? e.target.closest('.e-rowcell') : e.target;\n        if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n            $target = this.parent.element.querySelectorAll('.e-focused')[0];\n        }\n        if ($target && !($target.classList.contains('e-toolbar-item') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn'))) {\n            this.currentToolbarIndex = -1;\n        }\n        if ($target.closest('.e-rowcell') || $target.closest('.e-chart-row')) {\n            this.parent.focusModule.setActiveElement($target);\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.focusedRowIndex = $target.closest('.e-rowcell') ? $target.parentElement.rowIndex :\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            $target.closest('.e-chart-row') ? $target.closest('.e-chart-row').rowIndex : -1;\n        var isTab = (e.action === 'tab') ? true : false;\n        var nextElement = this.getNextElement($target, isTab, isInEditedState);\n        if (nextElement && (nextElement === 'noNextRow' || nextElement.classList.contains('e-rowdragheader'))) {\n            // eslint-disable-next-line\n            (nextElement === 'noNextRow' && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) ? this.parent.treeGrid.saveCell() : '';\n            nextElement = null;\n        }\n        if (nextElement && $target.classList.contains('e-headercell')) {\n            var colIndex = parseInt(nextElement.getAttribute('aria-colindex'), 10) - 1;\n            if (e.action === 'shiftTab') {\n                while (colIndex !== -1 && !this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex - 1;\n                }\n                if (colIndex !== -1) {\n                    colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n                }\n                else {\n                    var toolbarItems_1 = document.getElementsByClassName('e-toolbar-item');\n                    for (var i = toolbarItems_1.length - 1; i > 0; i--) {\n                        if (!document.getElementsByClassName('e-toolbar-item')[i].classList.contains('e-hidden')) {\n                            nextElement = document.getElementsByClassName('e-toolbar-item')[i];\n                            this.currentToolbarIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                while (!this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex + 1;\n                }\n                colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n            }\n        }\n        if (!nextElement && $target.classList.contains('e-headercell') && e.action === 'tab') {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (!nextElement && ($target.classList.contains('e-headercell') || $target.classList.contains('e-toolbar-item') || $target.classList.contains('e-treegrid') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn')) && this.parent.toolbarModule && this.parent.toolbar.length > 0) {\n            var itemIndex = this.currentToolbarIndex !== -1 ? (e.action === 'tab' ? this.currentToolbarIndex + 1 :\n                this.currentToolbarIndex - 1) : (e.action === 'shiftTab' ? toolbarItems.length - 1 : 1);\n            var isUpdated = false;\n            if (itemIndex !== -1 && (e.action === 'shiftTab' || (e.action === 'tab' && itemIndex < toolbarItems.length))) {\n                do {\n                    if (!toolbarItems[itemIndex].classList.contains('e-hidden')) {\n                        nextElement = toolbarItems[itemIndex];\n                        nextElement.setAttribute('tabindex', '-1');\n                        if (nextElement.querySelector('.e-btn') === $target) {\n                            // eslint-disable-next-line\n                            e.action === 'tab' ? itemIndex++ : itemIndex--;\n                            nextElement = toolbarItems[itemIndex];\n                        }\n                        if (nextElement.querySelector('.e-btn')) {\n                            (nextElement.querySelector('.e-btn')).setAttribute('tabindex', '0');\n                        }\n                        isUpdated = true;\n                        this.currentToolbarIndex = itemIndex;\n                    }\n                    else {\n                        // eslint-disable-next-line\n                        e.action === 'tab' ? itemIndex++ : itemIndex--;\n                    }\n                } while (!isUpdated);\n            }\n        }\n        if (e.action === 'tab' && !nextElement && (this.currentToolbarIndex === toolbarItems.length - 1 &&\n            ($target.classList.contains('e-toolbar-item') || $target.classList.contains('e-input') ||\n                $target.classList.contains('e-btn')))) {\n            for (var i = 0; i < this.parent.treeGrid.columns.length; i++) {\n                if (this.parent.treeGrid.columns[i]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i];\n                    break;\n                }\n            }\n        }\n        if (e.action === 'shiftTab' && !nextElement && !$target.classList.contains('e-headercell')) {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (e.action === 'shiftTab' && $target.classList.contains('e-timeline-header-container')) {\n            for (var i = this.parent.treeGrid.columns.length; i > 0; i--) {\n                if (this.parent.treeGrid.columns[i - 1]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i - 1];\n                    break;\n                }\n            }\n        }\n        this.tempNextElement = nextElement;\n        if (!isNullOrUndefined(nextElement) && !isNullOrUndefined(nextElement['cellIndex'])) {\n            if (this.parent.allowRowDragAndDrop) {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'] - 1;\n            }\n            else {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'];\n            }\n            if (this.nextElementIndex !== -1 && !this.parent.ganttColumns[this.nextElementIndex]['allowEditing'] &&\n                this.parent.ganttColumns[this.nextElementIndex]['field'] !== this.parent.taskFields.id) {\n                this.isEditableElement = true;\n            }\n            else {\n                this.isEditableElement = false;\n            }\n        }\n        if (nextElement === 'noNextRow') {\n            this.manageFocus($target, 'remove', true);\n            return;\n        }\n        if (typeof nextElement !== 'string') {\n            if ($target.closest('.e-chart-row-cell') && nextElement.closest('.e-rowcell')) {\n                this.preventScrollIntoView = true;\n            }\n            if ($target.classList.contains('e-rowcell') || $target.closest('.e-chart-row-cell') ||\n                $target.classList.contains('e-headercell') || $target.closest('.e-segmented-taskbar') ||\n                $target.classList.contains('e-timeline-header-container')) {\n                e.preventDefault();\n            }\n            if (isTab && $target.classList.contains('e-rowdragdrop')) {\n                this.parent.treeGrid.grid.notify('key-pressed', e);\n                return;\n            }\n            if ($target.classList.contains('e-rowcell') && (nextElement && nextElement.classList.contains('e-rowcell')) ||\n                $target.classList.contains('e-headercell')) { // eslint-disable-line                                                                                                                                                                                                                                    \n                if (isTab) {\n                    if (this.parent.editSettings.allowNextRowEdit) {\n                        var rowData = this.parent.currentViewData[this.focusedRowIndex];\n                        var columnName = this.parent.ganttColumns[parseInt(nextElement.getAttribute('aria-colindex'), 10) - 1].field;\n                        if (rowData.hasChildRecords) {\n                            if (columnName === this.parent.taskFields.endDate || columnName ===\n                                this.parent.taskFields.duration || columnName === this.parent.taskFields.dependency ||\n                                columnName === this.parent.taskFields.progress || columnName === this.parent.taskFields.work ||\n                                columnName === this.parent.taskFields.type || columnName === 'taskType') {\n                                this.parent.treeGrid.grid.endEdit();\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else if (columnName === this.parent.taskFields.name || columnName === this.parent.taskFields.startDate) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                                if (isInEditedState) {\n                                    this.parent.treeGrid.editCell(this.focusedRowIndex, columnName);\n                                }\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                    else {\n                        if (!nextElement || (nextElement && !nextElement.classList.contains('e-headercell') && !nextElement.classList.contains('e-timeline-header-container'))) {\n                            if ($target.classList.contains('e-headercell')) {\n                                this.manageFocus($target, 'remove', false);\n                            }\n                            /* eslint-disable-next-line */\n                            var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                            var next = nextElement;\n                            if (row.hasChildRecords &&\n                                (this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field === this.parent.taskFields.progress ||\n                                    !this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) &&\n                                this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field !== this.parent.taskFields.id\n                                && $target.classList.contains('e-editedbatchcell')) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                                while (!this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            }\n                            else if (!nextElement || $target.classList.contains('e-editedbatchcell')) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (nextElement && !nextElement.classList.contains('e-headercell') && nextElement.classList.contains('e-rowcell')\n                        && !nextElement.classList.contains('e-toolbar-item')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                        var next = nextElement;\n                        if (row.hasChildRecords &&\n                            (this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field === this.parent.taskFields.progress ||\n                                !this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) &&\n                            this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field !== this.parent.taskFields.id\n                            && $target.classList.contains('e-editedbatchcell')) {\n                            var currentColumn = void 0;\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            while (!this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) {\n                                next = this.getNextElement(next, isTab, isInEditedState);\n                            }\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                        }\n                        else if (parseInt(next.parentElement.getAttribute('aria-rowindex'), 10) - 1 !== 0 &&\n                            parseInt(next.getAttribute('aria-colindex'), 10) - 1 === 0 &&\n                            this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field === this.parent.taskFields.id &&\n                            $target.classList.contains('e-editedbatchcell')) {\n                            /* eslint-disable-next-line */\n                            var rowIndex = $target.parentElement.rowIndex;\n                            var rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                            next = this.getChildElement(rowElement, isTab);\n                            var rowData = this.parent.flatData[parseInt(rowElement.getAttribute('aria-rowindex'), 10) - 1];\n                            if (rowData.hasChildRecords && (!this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing ||\n                                this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field ===\n                                    this.parent.taskFields.progress)) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                                while (!this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                }\n            }\n            if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n                this.manageFocus(this.parent.element.querySelectorAll('.e-focused')[0], 'remove', false);\n            }\n            if (!(this.parent.editModule && this.parent.editModule.cellEditModule\n                && !isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn))) {\n                if (nextElement) {\n                    if ($target.classList.contains('e-rowcell')) {\n                        this.manageFocus($target, 'remove', false);\n                    }\n                    else {\n                        this.manageFocus($target, 'remove', true);\n                    }\n                    if ((nextElement.classList.contains('e-rowcell') && $target.nextElementSibling && !$target.classList.contains('e-timeline-header-container'))\n                        || $target.classList.contains('e-right-label-container')) {\n                        if (!$target.classList.contains('e-rowcell')) {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                            var fmodule = getValue('focusModule', this.parent.treeGrid.grid);\n                            fmodule.currentInfo.element = nextElement;\n                            fmodule.currentInfo.elementToFocus = nextElement;\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            fmodule.content.matrix.current = [nextElement.parentElement.rowIndex, nextElement.cellIndex];\n                        }\n                        this.manageFocus(nextElement, 'add', false);\n                    }\n                    else {\n                        if (nextElement && (nextElement.classList.contains('e-toolbar-item') || nextElement.classList.contains('e-headercell')\n                            || nextElement.classList.contains('e-rowcell'))) {\n                            this.manageFocus($target, 'remove', false);\n                            if (!nextElement.classList.contains('e-toolbar-item')) {\n                                this.manageFocus(nextElement, 'add', false);\n                            }\n                            if ($target.classList.contains('e-treegrid')) {\n                                e.preventDefault();\n                            }\n                        }\n                        else {\n                            this.manageFocus(nextElement, 'add', true);\n                        }\n                    }\n                    this.parent.focusModule.setActiveElement(nextElement);\n                }\n            }\n        }\n    };\n    /**\n     * Get next/previous sibling element.\n     *\n     * @param {Element} $target .\n     * @param {boolean} isTab .\n     * @param {boolean} isInEditedState .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getNextElement = function ($target, isTab, isInEditedState) {\n        if ($target.classList.contains('e-timeline-header-container') && isTab) {\n            var rowElement = this.getNextRowElement(-1, isTab, true);\n            return this.getChildElement(rowElement, isTab);\n        }\n        var nextElement = isTab ? $target.nextElementSibling : $target.previousElementSibling;\n        if ($target.parentElement.classList.contains('e-taskbar-main-container')) {\n            if (this.parent.labelSettings.rightLabel && isTab) {\n                return $target.parentElement.nextElementSibling;\n            }\n            else if (!isTab && this.parent.labelSettings.leftLabel) {\n                return $target.parentElement.previousElementSibling;\n            }\n        }\n        while (nextElement && nextElement.parentElement.classList.contains('e-row')) {\n            if (!nextElement.matches('.e-hide') && !nextElement.matches('.e-rowdragdrop')) {\n                return nextElement;\n            }\n            nextElement = isTab ? nextElement.nextElementSibling : nextElement.previousElementSibling;\n        }\n        if (!isNullOrUndefined(nextElement) && (nextElement.classList.contains('e-taskbar-main-container')\n            || nextElement.classList.contains('e-right-connectorpoint-outer-div'))) {\n            var record = this.parent.currentViewData[this.focusedRowIndex];\n            if (!isNullOrUndefined(record.ganttProperties.segments) && record.ganttProperties.segments.length > 0) {\n                nextElement = nextElement.classList.contains('e-right-connectorpoint-outer-div')\n                    ? nextElement.parentElement.nextElementSibling\n                    : nextElement.getElementsByClassName('e-gantt-child-taskbar-inner-div')[0];\n            }\n        }\n        if (this.validateNextElement(nextElement)) {\n            return nextElement;\n        }\n        else {\n            var rowIndex = -1;\n            var rowElement = null;\n            var childElement = void 0;\n            if ($target.classList.contains('e-rowcell') && isInEditedState && this.parent.editSettings.allowNextRowEdit) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                childElement = this.getChildElement(rowElement, isTab);\n                return childElement;\n            }\n            else if ($target.classList.contains('e-rowcell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                if (isTab) {\n                    rowElement = this.parent.getRowByIndex(rowIndex);\n                    if (this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                        rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                        var childElement_1 = this.getChildElement(rowElement, isTab);\n                        return childElement_1;\n                    }\n                    else {\n                        if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                            return rowElement.getElementsByClassName('e-left-label-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                            return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                            return rowElement.getElementsByClassName('e-right-label-container')[0];\n                        }\n                    }\n                }\n                else {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, false);\n                    if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                }\n            }\n            else if ($target.parentElement.classList.contains('e-chart-row-cell') ||\n                $target.parentElement.parentElement.classList.contains('e-chart-row-cell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = closest($target, '.e-chart-row').rowIndex;\n                if (isTab) {\n                    if (!isTab && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        /* eslint-disable-next-line */\n                        var rowRecord = this.parent.currentViewData[rowIndex];\n                        rowIndex = this.parent.flatData.indexOf(rowRecord);\n                    }\n                    rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                }\n                else {\n                    rowElement = this.parent.treeGrid.getRows()[rowIndex];\n                }\n                var childElement_2 = this.getChildElement(rowElement, isTab);\n                return childElement_2;\n            }\n            nextElement = $target;\n        }\n        return null;\n    };\n    /**\n     * Get next/previous row element.\n     *\n     * @param {number} rowIndex .\n     * @param {boolean} isTab .\n     * @param {boolean} isChartRow .\n     * @returns {Element} .\n     */\n    GanttChart.prototype.getNextRowElement = function (rowIndex, isTab, isChartRow) {\n        var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var currentItem = this.parent.currentViewData[rowIndex];\n        var expandedRecordIndex = expandedRecords.indexOf(currentItem);\n        var nextRecord = isTab ? expandedRecords[expandedRecordIndex + 1] : expandedRecords[expandedRecordIndex - 1];\n        var nextRowIndex = this.parent.currentViewData.indexOf(nextRecord);\n        if (nextRecord) {\n            return isChartRow ? this.parent.treeGrid.getRows()[nextRowIndex] : this.parent.getRowByIndex(nextRowIndex);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Validate next/previous sibling element haschilds.\n     *\n     * @param {Element} $target .\n     * @param {string} className .\n     * @returns {boolean} .\n     */\n    GanttChart.prototype.validateNextElement = function ($target, className) {\n        if ($target && $target.classList.contains('e-rowcell')) {\n            return true;\n        }\n        if ($target && className) {\n            var elementByClass = $target.getElementsByClassName(className)[0];\n            return (elementByClass && elementByClass.hasChildNodes()) ? true : false;\n        }\n        else if ($target) {\n            return (!isNullOrUndefined($target) && $target.hasChildNodes()) ? true : false;\n        }\n        return false;\n    };\n    /**\n     * Getting child element based on row element.\n     *\n     * @param {Element} rowElement .\n     * @param {boolean} isTab .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getChildElement = function (rowElement, isTab) {\n        var childElement;\n        if (rowElement) {\n            childElement = isTab ? rowElement.children[0] : rowElement.children[rowElement.children.length - 1];\n            while (childElement) {\n                if (!childElement.matches('.e-hide') && !childElement.matches('.e-rowdragdrop')) {\n                    return childElement;\n                }\n                childElement = isTab ? childElement.nextElementSibling : childElement.previousElementSibling;\n            }\n        }\n        else {\n            return 'noNextRow';\n        }\n        return childElement;\n    };\n    /**\n     * Add/Remove active element.\n     *\n     * @private\n     * @param {HTMLElement} element .\n     * @param {string} focus .\n     * @param {boolean} isChartElement .\n     * @param {string} keyAction .\n     * @returns {void} .\n     */\n    GanttChart.prototype.manageFocus = function (element, focus, isChartElement, keyAction) {\n        if (isChartElement) {\n            var childElement = null;\n            if (element.classList.contains('e-left-label-container') ||\n                element.classList.contains('e-right-label-container')) {\n                childElement = element.getElementsByTagName('span')[0];\n            }\n            else if (element.classList.contains('e-taskbar-main-container')\n                || element.classList.contains('e-gantt-child-taskbar-inner-div')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var rowIndex = closest(element, '.e-chart-row').rowIndex;\n                var data = this.parent.currentViewData[rowIndex];\n                var className = data.hasChildRecords ? data.ganttProperties.isAutoSchedule ? 'e-gantt-parent-taskbar' :\n                    'e-manualparent-main-container' :\n                    data.ganttProperties.isMilestone ? 'e-gantt-milestone' : !isNullOrUndefined(data.ganttProperties.segments)\n                        && data.ganttProperties.segments.length > 0 ? 'e-segmented-taskbar' : 'e-gantt-child-taskbar';\n                childElement = element.getElementsByClassName(className)[0];\n                if (isNullOrUndefined(childElement)) {\n                    childElement = element;\n                }\n            }\n            if (element.classList.contains('e-right-label-temp-container') || element.classList.contains('e-left-label-temp-container') || element.classList.contains('e-indicator-span') || element.classList.contains('e-timeline-header-container')) {\n                if (focus === 'add') {\n                    element.setAttribute('tabIndex', '0');\n                    addClass([element], 'e-active-container');\n                    element.focus();\n                }\n                else {\n                    if (keyAction !== 'downArrow' && keyAction !== 'upArrow') {\n                        removeClass([element], 'e-active-container');\n                        element.setAttribute('tabIndex', '-1');\n                        element.blur();\n                    }\n                }\n            }\n            if (focus === 'add' && !isNullOrUndefined(childElement)) {\n                element.setAttribute('tabIndex', '0');\n                addClass([childElement], 'e-active-container');\n                element.focus();\n                this.focusedElement = childElement;\n            }\n            else if (!isNullOrUndefined(childElement) && (keyAction !== 'downArrow' && keyAction !== 'upArrow')) {\n                removeClass([childElement], 'e-active-container');\n                element.setAttribute('tabIndex', '-1');\n                element.blur();\n            }\n        }\n        else {\n            if (focus === 'add') {\n                element.setAttribute('tabIndex', '0');\n                addClass([element], ['e-focused', 'e-focus']);\n                if (!this.preventScrollIntoView) {\n                    element.scrollIntoView({\n                        block: 'nearest',\n                        inline: 'nearest' // Keeps horizontal position stable\n                    });\n                }\n                this.preventScrollIntoView = false;\n                element.focus();\n            }\n            else {\n                element.setAttribute('tabIndex', '-1');\n                removeClass([element], ['e-focused', 'e-focus']);\n                element.blur();\n            }\n        }\n    };\n    /**\n     * To get index by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {number} .\n     * @private\n     */\n    GanttChart.prototype.getIndexByTaskBar = function (target) {\n        var row;\n        var recordIndex;\n        if (!target.classList.contains(cls.taskBarMainContainer)) {\n            row = closest(target, 'div.' + cls.taskBarMainContainer);\n        }\n        else {\n            row = target;\n        }\n        if (isNullOrUndefined(row)) {\n            row = closest(target, 'tr.' + cls.chartRow);\n            recordIndex = [].slice.call(this.parent.chartRowsModule.ganttChartTableBody.childNodes).indexOf(row);\n        }\n        else {\n            var id = row.getAttribute('rowUniqueId');\n            var record = this.parent.getRecordByID(id);\n            if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n                recordIndex = this.parent.flatData.indexOf(record);\n            }\n            else {\n                if (this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth\n                    && this.parent.pdfExportModule.isPdfExport) {\n                    recordIndex = this.parent.ids.indexOf(record.ganttProperties.taskId.toString());\n                }\n                else {\n                    recordIndex = this.parent.currentViewData.indexOf(record);\n                }\n            }\n        }\n        return recordIndex;\n    };\n    GanttChart.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        this.chartElement = null;\n        this.rangeViewContainer = null;\n        this.chartBodyContent = null;\n        this.scrollElement = null;\n        this.chartTimelineContainer = null;\n        this.chartBodyContainer = null;\n        if (!isNullOrUndefined(this.scrollObject)) {\n            this.scrollObject.destroy();\n            this.scrollObject = null;\n        }\n    };\n    return GanttChart;\n}());\nexport { GanttChart };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createElement, isNullOrUndefined, getValue, extend, append } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Configures the `Timeline` of the gantt.\n */\nvar Timeline = /** @class */ (function () {\n    function Timeline(ganttObj) {\n        this.isZoomIn = false;\n        this.isZooming = false;\n        this.isZoomToFit = false;\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        this.pdfExportTopTierCollection = [];\n        this.pdfExportBottomTierCollection = [];\n        this.restrictRender = true;\n        this.performedTimeSpanAction = false;\n        this.isZoomedToFit = false;\n        this.parent = ganttObj;\n        this.initProperties();\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.initProperties = function () {\n        this.timelineStartDate = null;\n        this.timelineEndDate = null;\n        this.totalTimelineWidth = 0;\n        this.customTimelineSettings = null;\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        if (this.parent.enablePersistence && this.parent.isLoad) {\n            this.parent.timelineSettings = this.parent.currentZoomingLevel;\n        }\n    };\n    /**\n     * To render timeline header series.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.validateTimelineProp = function () {\n        this.roundOffDays();\n        this.processTimelineProperty();\n        this.timelineWidthCalculation();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimeline = function () {\n        this.initProperties();\n        this.processTimelineUnit();\n        this.parent.dataOperation.calculateProjectDates();\n        if (!this.parent.isFromOnPropertyChange) {\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        }\n        var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        this.parent.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimelineByTimeSpan = function () {\n        this.validateTimelineProp();\n        if (!this.parent.pdfExportModule || (this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport) ||\n            (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport &&\n                this.parent.pdfExportModule.helper.exportProps &&\n                !this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.parent.ganttChartModule.chartTimelineContainer.innerHTML = '';\n        }\n        this.createTimelineSeries();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateChartByNewTimeline = function () {\n        this.parent.chartRowsModule.refreshChartByTimeline();\n        var currentScrollLeft = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n        this.parent.element.getElementsByClassName('e-timeline-header-container')[0].scrollLeft = currentScrollLeft;\n        this.parent.notify('refreshDayMarkers', {});\n    };\n    /**\n     * Function used to perform Zoomin and Zoomout actions in Gantt control.\n     *\n     * @param {boolean} isZoomIn .\n     * @private\n     * @returns {void}\n     */\n    Timeline.prototype.processZooming = function (isZoomIn) {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.isZoomToFit = this.isZoomedToFit = false;\n        this.updateUndoRedo(isZoomIn);\n        if (!this.parent['isProjectDateUpdated']) {\n            this.parent.dateValidationModule.calculateProjectDates();\n        }\n        if (this.parent.zoomingProjectStartDate) {\n            this.parent.cloneProjectStartDate = this.parent.zoomingProjectStartDate;\n            this.parent.cloneProjectEndDate = this.parent.zoomingProjectEndDate;\n        }\n        this.parent.zoomingProjectStartDate = this.parent.zoomingProjectEndDate = null;\n        var currentZoomingLevel = this.checkCurrentZoomingLevel();\n        this.isZoomIn = isZoomIn;\n        this.isZooming = true;\n        var currentLevel = this.getZoomLevel(currentZoomingLevel, isZoomIn);\n        this.updateToolbar(currentLevel, isZoomIn);\n        currentLevel = this.parent.zoomingLevels.findIndex(function (tempLevel) {\n            return tempLevel.level === currentLevel;\n        });\n        var newTimeline = this.parent.zoomingLevels[currentLevel];\n        var args = {\n            requestType: isZoomIn ? 'beforeZoomIn' : 'beforeZoomOut',\n            timeline: newTimeline,\n            cancel: false\n        };\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (!args.cancel) {\n            newTimeline = args.timeline;\n            this.changeTimelineSettings(newTimeline);\n        }\n        this.isZooming = false;\n    };\n    Timeline.prototype.updateUndoRedo = function (isZoomIn) {\n        var action = isZoomIn ? 'ZoomIn' : 'ZoomOut';\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent'](action)) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var previousTimeline = {\n                action: action,\n                previousZoomingLevel: extend({}, {}, this.parent.currentZoomingLevel, true)\n            };\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n    };\n    Timeline.prototype.getZoomLevel = function (currentZoomingLevel, isZoomIn) {\n        var levelChange = isZoomIn ? 1 : -1;\n        var level = currentZoomingLevel + levelChange;\n        var foundLevel = this.parent.zoomingLevels.find(function (tempLevel) { return tempLevel.level === level; });\n        return foundLevel ? level : currentZoomingLevel;\n    };\n    Timeline.prototype.updateToolbar = function (currentLevel, isZoomIn) {\n        if (this.parent.toolbarModule) {\n            if (isZoomIn) {\n                if (currentLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true); // disable toolbar items.\n                }\n            }\n            else {\n                if (currentLevel === this.parent.zoomingLevels[0].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true); // enable toolbar items.\n                }\n            }\n        }\n    };\n    /**\n     * To change the timeline settings property values based upon the Zooming levels.\n     *\n     * @param {ZoomTimelineSettings} newTimeline .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.changeTimelineSettings = function (newTimeline) {\n        var _this = this;\n        if (this.isZoomToFit) {\n            this.isSingleTier = this.customTimelineSettings.topTier.unit === 'None' || this.customTimelineSettings.bottomTier.unit === 'None' ? true : false;\n        }\n        else if (!this.isZoomIn) {\n            this.isSingleTier = newTimeline.topTier.unit === 'None' || newTimeline.bottomTier.unit === 'None' ? true : false;\n        }\n        var skipProperty = this.isSingleTier ?\n            this.customTimelineSettings.topTier.unit === 'None' ?\n                'topTier' : 'bottomTier' : null;\n        Object.keys(this.customTimelineSettings).forEach(function (property) {\n            if (property !== skipProperty) {\n                _this.customTimelineSettings[property] = (typeof newTimeline[property] === 'object'\n                    && !isNullOrUndefined(newTimeline[property])) ? __assign({}, newTimeline[property]) : newTimeline[property];\n            }\n            else {\n                var value = property === 'topTier' ? 'bottomTier' : 'topTier';\n                var assignValue = 'bottomTier';\n                if (newTimeline[\"\" + assignValue].unit !== 'None') {\n                    _this.customTimelineSettings[value] = __assign({}, newTimeline[assignValue]);\n                }\n            }\n        });\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.processTimelineUnit();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (this.isZooming || this.isZoomToFit) {\n            var args = {\n                requestType: this.isZoomIn ? 'AfterZoomIn' : this.isZoomToFit ? 'AfterZoomToProject' : 'AfterZoomOut',\n                timeline: this.parent.currentZoomingLevel\n            };\n            this.parent.trigger('actionComplete', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        if (this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule || this.parent.pdfExportModule\n            && !this.parent.pdfExportModule.isPdfExport)) {\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n            if (this.wholeTimelineWidth <= this.totalTimelineWidth) {\n                this.wholeTimelineWidth = this.totalTimelineWidth;\n            }\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n            if (this.isZoomToFit) {\n                this.clientWidthDifference = Math.abs(this.wholeTimelineWidth - this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                }\n            }\n            else {\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                }\n            }\n            this.parent.ganttChartModule.updateWidthAndHeight();\n        }\n    };\n    /**\n     * To perform the zoom to fit operation in Gantt.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processZoomToFit = function () {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.isZoomToFit = true;\n        this.isZooming = false;\n        this.isZoomedToFit = true;\n        var previousTimeline = {};\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('ZoomToFit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            previousTimeline['action'] = 'ZoomToFit';\n            previousTimeline['previousTimelineStartDate'] = extend([], [], [this.parent.cloneProjectStartDate], true)[0];\n            previousTimeline['previousTimelineEndDate'] = extend([], [], [this.parent.cloneProjectEndDate], true)[0];\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartWidth = this.parent.ganttChartModule.chartElement.offsetWidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.roundOffDateToZoom(this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.roundOffDateToZoom(this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.calculateNumberOfTimelineCells(newTimeline);\n        var scrollHeight = this.parent.ganttChartModule.scrollElement.offsetHeight - 17; //17 is horizontal scrollbar width\n        var contentHeight = this.parent.ganttChartModule.chartBodyContent.offsetHeight;\n        var emptySpace = contentHeight <= scrollHeight ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        var args = {\n            requestType: 'beforeZoomToProject',\n            timeline: newTimeline\n        };\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin', this.parent.controlId + '_zoomout'], true);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        this.changeTimelineSettings(newTimeline);\n        this.parent.isTimelineRoundOff = isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.isZoomToFit = false;\n    };\n    Timeline.prototype.bottomTierCellWidthCalc = function (mode, zoomLevel, date) {\n        var convertedMilliSeconds;\n        switch (mode) {\n            case 'Minutes':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 1000);\n                break;\n            case 'Hour':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 1000);\n                break;\n            case 'Week':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (7 * 24 * 60 * 60 * 1000);\n                break;\n            case 'Day':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (24 * 60 * 60 * 1000);\n                break;\n            case 'Month':\n                {\n                    var daysInMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInMonth * 1000);\n                    break;\n                }\n            case 'Year':\n                {\n                    var daysInYear = (date.getFullYear() % 400 === 0 ||\n                        (date.getFullYear() % 100 !== 0 && date.getFullYear() % 4 === 0)) ? 366 : 365;\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInYear * 1000);\n                    break;\n                }\n        }\n        return convertedMilliSeconds;\n    };\n    Timeline.prototype.roundOffDateToZoom = function (date, isStartDate, perDayWidth, tierMode, zoomingLevel) {\n        var roundOffTime = this.bottomTierCellWidthCalc(tierMode, zoomingLevel, date);\n        if (isStartDate) {\n            date.setTime(date.getTime() - roundOffTime);\n        }\n        else {\n            date.setTime(date.getTime() + roundOffTime);\n        }\n    };\n    Timeline.prototype.calculateNumberOfTimelineCells = function (newTimeline) {\n        var sDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var eDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var numberOfDays = Math.abs((eDate.getTime() - sDate.getTime()) / (24 * 60 * 60 * 1000));\n        var count = newTimeline.bottomTier.count;\n        var unit = newTimeline.bottomTier.unit;\n        if (unit === 'Day') {\n            return numberOfDays / count;\n        }\n        else if (unit === 'Week') {\n            return (numberOfDays / count) / 7;\n        }\n        else if (unit === 'Month') {\n            return (numberOfDays / count) / 28;\n        }\n        else if (unit === 'Year') {\n            return (numberOfDays / count) / (12 * 28);\n        }\n        else if (unit === 'Hour') {\n            return numberOfDays * (24 / count);\n        }\n        else {\n            return numberOfDays * ((60 * 24) / count);\n        }\n    };\n    /**\n     * To validate time line unit.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineUnit = function () {\n        var directProperty = ['timelineViewMode', 'timelineUnitSize', 'weekStartDay', 'weekendBackground'];\n        var innerProperty = {\n            'topTier': ['unit', 'format', 'count', 'formatter'],\n            'bottomTier': ['unit', 'format', 'count', 'formatter']\n        };\n        var tierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        this.customTimelineSettings = this.customTimelineSettings ? this.customTimelineSettings :\n            this.extendFunction(this.parent.timelineSettings, directProperty, innerProperty);\n        if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1) &&\n            (tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1)) {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.timelineViewMode) !== -1 ?\n                this.customTimelineSettings.timelineViewMode : 'Week';\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== 5 ?\n                tierUnits[tierUnits.indexOf(this.customTimelineSettings.topTier.unit) + 1] : 'None';\n        }\n        else if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== -1 &&\n            tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) !== -1)\n            && (tierUnits.indexOf(this.customTimelineSettings.topTier.unit) >\n                tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit))) {\n            this.customTimelineSettings.bottomTier.unit = this.customTimelineSettings.topTier.unit;\n        }\n        else {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.topTier.unit;\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.bottomTier.unit;\n        }\n        this.topTier = this.customTimelineSettings.topTier.unit;\n        this.bottomTier = this.customTimelineSettings.bottomTier.unit;\n        this.previousIsSingleTier = this.isSingleTier;\n        this.isSingleTier = this.topTier === 'None' || this.bottomTier === 'None' ? true : false;\n    };\n    /**\n     * To validate timeline properties.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineProperty = function () {\n        this.customTimelineSettings.topTier.count = (this.topTier === 'None') ?\n            1 : this.validateCount(this.customTimelineSettings.topTier.unit, this.customTimelineSettings.topTier.count, 'topTier');\n        this.customTimelineSettings.bottomTier.count = this.customTimelineSettings.bottomTier.unit === 'None' ?\n            1 : this.validateCount(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.count, 'bottomTier');\n        this.customTimelineSettings.bottomTier.format = this.validateFormat(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.format);\n        this.customTimelineSettings.topTier.format = this.validateFormat(this.topTier, this.customTimelineSettings.topTier.format);\n        this.customTimelineSettings.weekStartDay = this.customTimelineSettings.weekStartDay >= 0 &&\n            this.customTimelineSettings.weekStartDay <= 6 ? this.customTimelineSettings.weekStartDay : 0;\n        if (!(this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.checkCurrentZoomingLevel();\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.calculateZoomingLevelsPerDayWidth = function () {\n        var collections = this.parent.zoomingLevels;\n        for (var i = 0; i < collections.length; i++) {\n            var perDayWidth = this.getPerDayWidth(collections[i].timelineUnitSize, collections[i].bottomTier.count, collections[i].bottomTier.unit);\n            collections[i].perDayWidth = perDayWidth;\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.checkCurrentZoomingLevel = function () {\n        var count = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.count : this.customTimelineSettings.topTier.count;\n        var unit = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.unit : this.customTimelineSettings.topTier.unit;\n        var tier = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            'bottomTier' : 'topTier';\n        var zoomLevel = this.getCurrentZoomingLevel(unit, count, tier);\n        if (this.parent.toolbarModule) {\n            if (zoomLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else if (zoomLevel === this.parent.zoomingLevels[0].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        this.parent.currentZoomingLevel = this.parent.zoomingLevels[zoomLevel];\n        return zoomLevel;\n    };\n    /**\n     * @param {string} unit .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getCurrentZoomingLevel = function (unit, count, tier) {\n        var level;\n        var currentZoomCollection;\n        var checkSameCountLevels;\n        var secondValue;\n        var firstValue;\n        if (!this.parent.zoomingLevels.length) {\n            this.parent.zoomingLevels = this.parent.getZoomingLevels();\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            if (tier === 'bottomTier') {\n                return tempLevel.bottomTier.unit === unit;\n            }\n            else {\n                return tempLevel.topTier.unit === unit;\n            }\n        });\n        if (sameUnitLevels.length === 0) {\n            var closestUnit_1 = this.getClosestUnit(unit, '', false);\n            sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n                if (tier === 'bottomTier') {\n                    return tempLevel.bottomTier.unit === closestUnit_1;\n                }\n                else {\n                    return tempLevel.topTier.unit === closestUnit_1;\n                }\n            });\n        }\n        var sortedUnitLevels = sameUnitLevels.sort(function (a, b) {\n            if (tier === 'bottomTier') {\n                return (!a.bottomTier.count || !b.bottomTier.count) ? 0 : ((a.bottomTier.count < b.bottomTier.count) ? 1 : -1);\n            }\n            else {\n                return (!a.topTier.count || !b.topTier.count) ? 0 : ((a.topTier.count < b.topTier.count) ? 1 : -1);\n            }\n        });\n        for (var i = 0; i < sortedUnitLevels.length; i++) {\n            firstValue = sortedUnitLevels[i];\n            if (i === sortedUnitLevels.length - 1) {\n                level = sortedUnitLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedUnitLevels[i + 1];\n            }\n            if (count >= firstValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n            else if (count < firstValue[\"\" + tier].count && count > secondValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i + 1];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * Getting closest zooimg level.\n     *\n     * @param {string} unit .\n     * @param {string} closetUnit .\n     * @param {boolean} isCont .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.getClosestUnit = function (unit, closetUnit, isCont) {\n        var bottomTierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        var index = bottomTierUnits.indexOf(unit);\n        if (index === 0) {\n            isCont = true;\n        }\n        if (this.isZoomIn || isCont) {\n            unit = bottomTierUnits[index + 1];\n        }\n        else {\n            unit = bottomTierUnits[index - 1];\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            if (unit === 'Year') {\n                isCont = true;\n            }\n            closetUnit = unit;\n            return this.getClosestUnit(unit, closetUnit, isCont);\n        }\n        else {\n            return unit;\n        }\n    };\n    Timeline.prototype.checkCollectionsWidth = function (checkSameLevels) {\n        var zoomLevels = checkSameLevels;\n        var width = this.customTimelineSettings.timelineUnitSize;\n        var level;\n        var secondValue;\n        var firstValue;\n        var sortedZoomLevels = zoomLevels.sort(function (a, b) {\n            return (a.timelineUnitSize < b.timelineUnitSize) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedZoomLevels.length; i++) {\n            firstValue = sortedZoomLevels[i];\n            if (i === sortedZoomLevels.length - 1) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedZoomLevels[i + 1];\n            }\n            if (width >= firstValue.timelineUnitSize) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else if (width < firstValue.timelineUnitSize && width > secondValue.timelineUnitSize) {\n                level = sortedZoomLevels[i + 1].level;\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateTimelineHeaderHeight = function () {\n        if (this.parent.timelineModule.isSingleTier) {\n            this.parent.element.classList.add(cls.ganttSingleTimeline);\n        }\n        else {\n            this.parent.element.classList.remove(cls.ganttSingleTimeline);\n        }\n        if (this.previousIsSingleTier !== this.isSingleTier) {\n            var toolbarHeight = 0;\n            if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n                toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n            }\n            this.parent.ganttChartModule.scrollObject.\n                setHeight(this.parent.ganttHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n            this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight -\n                this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        }\n    };\n    Timeline.prototype.dateByLeftValue = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            pStartDate.setDate(pStartDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            }\n        }\n        return pStartDate;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.createTimelineSeries = function () {\n        var tr;\n        var td;\n        var div;\n        var table;\n        var thead;\n        var virtualTableDiv;\n        var virtualTrackDiv;\n        var loopCount = this.isSingleTier ? 1 : 2;\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        if (this.restrictRender === true) {\n            this.updateTimelineHeaderHeight();\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n        }\n        if (this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3)) {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                virtualTableDiv = createElement('div', { className: cls.virtualTable });\n                virtualTrackDiv = createElement('div', { className: cls.virtualTrack });\n                td.appendChild(div);\n                tr.appendChild(td);\n                virtualTableDiv.appendChild(tr);\n                thead.appendChild(virtualTableDiv);\n                thead.appendChild(virtualTrackDiv);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n                this.restrictRender = false;\n            }\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n            this.timelineVirtualizationStyles();\n        }\n        else {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                td.appendChild(div);\n                tr.appendChild(td);\n                thead.appendChild(tr);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n            }\n            this.wholeTimelineWidth = this.totalTimelineWidth;\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n        }\n    };\n    Timeline.prototype.timelineVirtualizationStyles = function () {\n        var translateXValue = 0;\n        var translateYValue = 0;\n        var trackWidth = this.wholeTimelineWidth;\n        if (this.parent.enableTimelineVirtualization) {\n            //e-content styles updating\n            translateXValue = (this.parent.enableTimelineVirtualization &&\n                !isNullOrUndefined(this.parent.ganttChartModule.scrollObject.element.scrollLeft)\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0) ?\n                this.parent.ganttChartModule.scrollObject.getTimelineLeft() : 0;\n            if (this.parent.enableRtl) {\n                translateXValue = -(translateXValue);\n            }\n            var contentVirtualTable = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtable');\n            contentVirtualTable.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n            var contentVirtualTrack = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack');\n            contentVirtualTrack.style.position = 'relative';\n            contentVirtualTrack.style.width = trackWidth + 'px';\n            //timeline styles updating\n            if (this.parent.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                var virtualTableStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtable');\n                var virtualTableStylesB = void 0;\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1])) {\n                    virtualTableStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtable');\n                }\n                virtualTableStylesT.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                if (!isNullOrUndefined(virtualTableStylesB)) {\n                    virtualTableStylesB.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                }\n            }\n            var virtualTrackStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtrack');\n            var virtualTrackStylesB = void 0;\n            if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1])) {\n                virtualTrackStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtrack');\n            }\n            if (!isNullOrUndefined(virtualTrackStylesB)) {\n                virtualTrackStylesB.style.position = 'relative';\n                virtualTrackStylesB.style.width = trackWidth + 'px';\n            }\n            virtualTrackStylesT.style.position = 'relative';\n            virtualTrackStylesT.style.width = trackWidth + 'px';\n            //dependency viewer styles updating\n            var dependencyViewer = this.parent.connectorLineModule.svgObject;\n            dependencyViewer['style'].width = trackWidth + 'px';\n            // timeline header container width updating\n            var timelineHeader = this.parent.element.querySelector('.' + cls.timelineHeaderContainer);\n            timelineHeader['style'].width = 'calc(100% - ' + 17 + 'px)';\n            if (this.parent.timelineModule.isZooming || this.parent.timelineModule.isZoomToFit) {\n                this.parent.ganttChartModule.scrollElement.scrollLeft = 0;\n                this.parent.ganttChartModule.scrollObject.updateChartElementStyles();\n            }\n        }\n    };\n    /**\n     * To validate timeline tier count.\n     *\n     * @param {string} mode .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateCount = function (mode, count, tier) {\n        var tierCount = !isNullOrUndefined(count) && parseInt(count.toString(), 10) > 0 ? parseInt(count.toString(), 10) : 1;\n        var timeDifference = Math.abs(this.timelineRoundOffEndDate.getTime() - this.timelineStartDate.getTime());\n        var difference;\n        switch (mode) {\n            case 'Year':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / (12 * 28));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Month':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 28);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? (difference + 1) : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Week':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 7);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Day':\n                difference = Math.round(timeDifference / (1000 * 3600 * 24));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Hour':\n                difference = Math.round(timeDifference / (1000 * 3600));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Minutes':\n                difference = Math.round(timeDifference / (1000 * 60));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n        }\n        if (count !== tierCount && this.isZooming && this.parent.toolbarModule && (tier === 'bottomTier' || this.isSingleTier)) {\n            if (this.isZoomIn) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        return tierCount;\n    };\n    /**\n     * To validate bottom tier count.\n     *\n     * @param {string} mode .\n     * @param {number} tierCount .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateBottomTierCount = function (mode, tierCount) {\n        var count;\n        switch (mode) {\n            case 'Year':\n                count = tierCount <= this.customTimelineSettings.topTier.count ?\n                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Month':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * 12) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * 12) :\n                    tierCount <= this.customTimelineSettings.topTier.count ?\n                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Week':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 4)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 4)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 4) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 4) :\n                        tierCount <= this.customTimelineSettings.topTier.count ?\n                            tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Day':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 28) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 28) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7) :\n                            tierCount <= this.customTimelineSettings.topTier.count ? tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Hour':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24) :\n                                tierCount <= this.customTimelineSettings.topTier.count ?\n                                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Minutes':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24 * 60) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24 * 60) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24 * 60) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24 * 60) :\n                                this.topTier === 'Hour' ? tierCount <= (this.customTimelineSettings.topTier.count * 60) ?\n                                    tierCount : (this.customTimelineSettings.topTier.count * 60) :\n                                    tierCount <= this.customTimelineSettings.topTier.count ?\n                                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n        }\n        return count;\n    };\n    /**\n     * To validate timeline tier format.\n     *\n     * @param {string} mode .\n     * @param {string} format .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.validateFormat = function (mode, format) {\n        var tierFormat;\n        switch (mode) {\n            case 'Week':\n                tierFormat = !format ? 'MMM dd, yyyy' : format;\n                break;\n            case 'Day':\n            case 'None':\n                tierFormat = !format ? '' : format;\n                break;\n            case 'Hour':\n                tierFormat = !format ? 'H' : format;\n                break;\n            case 'Month':\n                tierFormat = !format ? 'MMM yyyy' : format;\n                break;\n            case 'Year':\n                tierFormat = !format ? 'yyyy' : format;\n                break;\n            case 'Minutes':\n                tierFormat = !format ? 'm' : format;\n                break;\n        }\n        return tierFormat;\n    };\n    /**\n     * To perform extend operation.\n     *\n     * @param {object} cloneObj .\n     * @param {string[]} propertyCollection .\n     * @param {object} innerProperty .\n     * @returns {object} .\n     * @private\n     */\n    Timeline.prototype.extendFunction = function (cloneObj, propertyCollection, innerProperty) {\n        var _this = this;\n        var tempObj = {};\n        for (var index = 0; index < propertyCollection.length; index++) {\n            tempObj[propertyCollection[index]] = cloneObj[propertyCollection[index]];\n        }\n        if (innerProperty) {\n            Object.keys(innerProperty).forEach(function (key) {\n                tempObj[key] = _this.extendFunction(cloneObj[key], innerProperty[key], null);\n            });\n        }\n        return tempObj;\n    };\n    /**\n     * To format date.\n     *\n     * @param {string} dayFormat .\n     * @param {Date} data .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.formatDateHeader = function (dayFormat, data) {\n        var date = new Date(data.getTime());\n        var dateString;\n        if (dayFormat === '') {\n            dateString = this.parent.globalize.formatDate(date, { format: 'E' });\n            if (this.parent.locale === 'zh') {\n                dateString = dateString.slice(1);\n            }\n            else {\n                if (this.parent.locale === 'ar') {\n                    var dateStringValue = dateString;\n                    dateString = dateStringValue;\n                }\n                else {\n                    dateString = dateString.slice(0, 1);\n                }\n            }\n        }\n        else {\n            dateString = this.parent.globalize.formatDate(date, { format: dayFormat });\n        }\n        return dateString;\n    };\n    /**\n     * Custom Formatting.\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @param {string} tier .\n     * @param {string} mode .\n     * @param {string | ITimelineFormatter} formatter .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.customFormat = function (date, format, tier, mode, formatter) {\n        formatter = (typeof formatter === 'string' ? getValue(formatter, window) : formatter);\n        return formatter(date, format, tier, mode);\n    };\n    /**\n     * To create timeline template .\n     *\n     * @param {string} tier .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.createTimelineTemplate = function (tier) {\n        var isFirstCell = false;\n        var parent = this.parent;\n        var parentTh = createElement('th');\n        var parentTr;\n        var mode = tier === 'topTier' ?\n            parent.timelineModule.customTimelineSettings.topTier.unit :\n            parent.timelineModule.customTimelineSettings.bottomTier.unit;\n        var count = tier === 'topTier' ? parent.timelineModule.customTimelineSettings.topTier.count :\n            parent.timelineModule.customTimelineSettings.bottomTier.count;\n        var increment;\n        var newTime;\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.dateByLeftValue(leftValueForStartDate)).toString()) :\n            new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var endDate = new Date(this.timelineRoundOffEndDate.toString());\n        var scheduleDateCollection = [];\n        var width = 0;\n        var WidthForVirtualTable = this.parent.element.offsetWidth * 3;\n        do {\n            // PDf export collection\n            var timelineCell = {};\n            timelineCell.startDate = new Date(startDate.getTime());\n            if ((mode === 'Month' || mode === 'Hour') && tier === 'bottomTier' && (count !== 1) && scheduleDateCollection.length === 0) {\n                isFirstCell = true;\n            }\n            parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell, isFirstCell);\n            scheduleDateCollection.push(new Date(startDate.toString()));\n            if (isFirstCell && mode === 'Month') {\n                newTime = this.calculateQuarterEndDate(startDate, count).getTime();\n            }\n            else {\n                increment = Math.abs(this.getIncrement(startDate, count, mode));\n                newTime = startDate.getTime() + increment;\n            }\n            var dubStartDate = new Date(startDate.getTime());\n            isFirstCell = false;\n            startDate.setTime(newTime);\n            var dubStartHour = dubStartDate.getHours();\n            var startHour = startDate.getHours();\n            var difference = startHour - dubStartHour;\n            if (difference !== count && difference > 1) {\n                if ((!this.parent.isInDst(startDate) && this.parent.isInDst(dubStartDate)) ||\n                    (this.parent.isInDst(startDate) && !this.parent.isInDst(dubStartDate))) {\n                    if (startDate.getTimezoneOffset() > dubStartDate.getTimezoneOffset()) {\n                        startDate.setTime(startDate.getTime() - ((1000 * 60 * 60) * (difference - count)));\n                    }\n                }\n            }\n            if (startDate.getHours() === 5 && count === 2 && tier === 'bottomTier' &&\n                parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n            }\n            if (startDate.getHours() === 8 && count === 12 && tier === 'bottomTier' &&\n                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 8));\n            }\n            if (startDate >= endDate) {\n                /* eslint-disable-next-line */\n                parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n            }\n            parentTh.appendChild(parentTr);\n            var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n            timelineCell.endDate = new Date(startDate.getTime());\n            if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.enableTimelineVirtualization) {\n                if (tier === 'topTier') {\n                    this.pdfExportTopTierCollection.push(timelineCell);\n                }\n                else {\n                    this.pdfExportBottomTierCollection.push(timelineCell);\n                }\n            }\n            else {\n                tierCollection.push(timelineCell);\n            }\n            width += timelineCell.width;\n            this.weekendEndDate = timelineCell.endDate >= endDate ? endDate : timelineCell.endDate;\n        } while ((this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule ||\n            this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport)) ? (width < WidthForVirtualTable) &&\n            (startDate < endDate) : (startDate < endDate));\n        return parentTh;\n    };\n    Timeline.prototype.updateTimelineAfterZooming = function (endDate, resized) {\n        var timeDiff;\n        var perDayWidth;\n        var totWidth;\n        var contentElement = document.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (!isNullOrUndefined(contentElement)) {\n            var contentWidth = contentElement['offsetWidth'];\n            var contentHeight = contentElement['offsetHeight'];\n            var scrollHeight = document.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            timeDiff = Math.abs(this.timelineStartDate.getTime() - endDate.getTime());\n            timeDiff = timeDiff / (1000 * 3600 * 24);\n            if (this.bottomTier === 'None') {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.topTier.count, this.topTier);\n            }\n            else {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.bottomTier.count, this.bottomTier);\n            }\n            if (contentHeight < scrollHeight) {\n                totWidth = (perDayWidth * timeDiff) + 17;\n            }\n            else {\n                totWidth = (perDayWidth * timeDiff);\n            }\n            if (contentWidth >= totWidth) {\n                var widthDiff = contentWidth - totWidth;\n                widthDiff = Math.round(widthDiff / perDayWidth);\n                endDate.setDate(endDate.getDate() + widthDiff);\n                this.parent.timelineModule.timelineEndDate = endDate;\n                if (resized) {\n                    this.parent.updateProjectDates(this.timelineStartDate, this.timelineEndDate, this.parent.isTimelineRoundOff);\n                }\n            }\n        }\n    };\n    Timeline.prototype.getTimelineRoundOffEndDate = function (date) {\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        var endDate = new Date(date.toString());\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Hour') {\n                endDate.setMinutes(60);\n            }\n            else if (tierMode === 'Minutes') {\n                endDate.setSeconds(60);\n            }\n            else {\n                endDate.setHours(24, 0, 0, 0);\n            }\n        }\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.updateTimelineAfterZooming(endDate, false);\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {number} count .\n     * @param {string} mode .\n     * @param {boolean} isFirstCell .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getIncrement = function (startDate, count, mode, isFirstCell) {\n        var firstDay = new Date(startDate.getTime());\n        var lastDay = new Date(startDate.getTime());\n        var increment;\n        switch (mode) {\n            case 'Year':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear() + (count - 1), 11, 31);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24);\n                break;\n            case 'Month':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear(), startDate.getMonth() + count, 1);\n                increment = lastDay.getTime() - firstDay.getTime();\n                break;\n            case 'Week':\n                {\n                    var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                    var dayIntervel = startDate.getDay() < dayIndex ? (dayIndex - startDate.getDay()) :\n                        (6 - startDate.getDay()) + dayIndex;\n                    count = dayIntervel > 0 ? count - 1 : 0;\n                    lastDay.setHours(24, 0, 0, 0);\n                    dayIntervel = startDate.getDay() < dayIndex ? dayIntervel > 0 ?\n                        dayIntervel - 1 : dayIntervel : dayIntervel;\n                    lastDay.setDate(lastDay.getDate() + (dayIntervel + (7 * count)));\n                    increment = lastDay.getTime() - firstDay.getTime();\n                    break;\n                }\n            case 'Day':\n                lastDay.setHours(24, 0, 0, 0);\n                if (this.parent.timelineModule.customTimelineSettings.bottomTier.count === 6) {\n                    if (((lastDay.getHours() - firstDay.getHours()) === -2)) {\n                        // Reducing 2-hrs to match one day for firstDay:\n                        firstDay.setTime(firstDay.getTime() - (2 * 3600000));\n                    }\n                    if (this.parent.isInDst(firstDay)) {\n                        // Reducing 2-hrs to match one day for firstDay and 1-hr for DST handle:\n                        firstDay.setTime(firstDay.getTime() - (3 * 3600000));\n                    }\n                }\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n            case 'Hour':\n                {\n                    lastDay.setMinutes(60);\n                    lastDay.setSeconds(0);\n                    increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * (count - 1));\n                    var date = new Date(lastDay);\n                    date.setTime(date.getTime() + increment);\n                    if (isFirstCell && count === 12) {\n                        if (firstDay.getHours() !== 0) {\n                            date.setHours(0, 0, 0, 0);\n                            increment = date.getTime() - firstDay.getTime();\n                        }\n                    }\n                    // if (isFirstCell && count === 6) {\n                    //     if (firstDay.getHours() !== 0) {\n                    //         date.setHours(6, 0, 0, 0);\n                    //         increment = date.getTime() - firstDay.getTime();\n                    //     }\n                    // }\n                    increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                    break;\n                }\n            case 'Minutes':\n                lastDay.setSeconds(60);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n        }\n        return increment;\n    };\n    Timeline.prototype.checkDate = function (firstDay, lastDay, increment, count, mode) {\n        var date = new Date(firstDay.getTime());\n        date.setTime(date.getTime() + increment);\n        if (mode === 'Day' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Hour' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Minutes' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2 && count !== 15 && count !== 60) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        return increment;\n    };\n    /**\n     * Method to find header cell was weekend or not\n     *\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {Date} day .\n     * @returns {boolean} .\n     */\n    Timeline.prototype.isWeekendHeaderCell = function (mode, tier, day) {\n        return (mode === 'Day' || mode === 'Hour' || mode === 'Minutes') && (this.customTimelineSettings[tier].count === 1 ||\n            mode === 'Hour' || mode === 'Minutes') &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    Timeline.prototype.calculateQuarterEndDate = function (date, count) {\n        var month = date.getMonth();\n        if (count === 3) {\n            if (month >= 0 && month <= 2) {\n                return new Date(date.getFullYear(), 3, 1);\n            }\n            else if (month >= 3 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else if (month >= 6 && month <= 8) {\n                return new Date(date.getFullYear(), 9, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n        else {\n            if (month >= 0 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n    };\n    Timeline.prototype.calculateTotalHours = function (mode, count) {\n        var totalHour = 0;\n        switch (mode) {\n            case 'Hour':\n                totalHour = 1 * count;\n                break;\n            case 'Day':\n                totalHour = 24 * count;\n                break;\n            case 'Week':\n                totalHour = 7 * 24 * count;\n                break;\n            case 'Minutes':\n                totalHour = count / 60;\n                break;\n        }\n        return totalHour;\n    };\n    /**\n     * To construct template string.\n     *\n     * @param {Date} scheduleWeeks .\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {boolean} isLast .\n     * @param {number} count .\n     * @param {TimelineFormat} timelineCell .\n     * @returns {string} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Timeline.prototype.getHeaterTemplateString = function (scheduleWeeks, mode, tier, isLast, count, timelineCell, isFirstCell) {\n        var parentTr = '';\n        var template;\n        var timelineTemplate = null;\n        if (!isNullOrUndefined(this.parent.timelineTemplate)) {\n            timelineTemplate = this.parent.chartRowsModule.templateCompiler(this.parent.timelineTemplate);\n        }\n        var format = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.format :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.format;\n        var formatter = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.formatter :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.formatter;\n        var thWidth;\n        var date = isNullOrUndefined(formatter) ?\n            this.parent.globalize.formatDate(scheduleWeeks, { format: this.parent.getDateFormat() }) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter);\n        thWidth = Math.abs((this.getIncrement(scheduleWeeks, count, mode, isFirstCell) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n        var incrementValue = this.getIncrement(scheduleWeeks, count, mode);\n        var newDate = new Date(scheduleWeeks.getTime() + incrementValue);\n        var dubNewDate = new Date(scheduleWeeks.getTime() + ((60 * 60 * 1000) * count));\n        var newDateOffset = newDate.getTime();\n        var dubNewDateOffset = dubNewDate.getTime();\n        var timelineStartDate = this.parent.timelineModule.timelineStartDate;\n        var timelineStartTime = timelineStartDate.getTime();\n        var hasDST = this.parent.dataOperation.hasDSTTransition(scheduleWeeks.getFullYear());\n        var timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        var transitions;\n        var dstStartTime;\n        if (hasDST) {\n            transitions = this.parent.dataOperation.getDSTTransitions(scheduleWeeks.getFullYear(), timeZone);\n            dstStartTime = transitions['dstStart'].getTime();\n        }\n        if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks)) ||\n            (this.parent.isInDst(newDate) && !this.parent.isInDst(scheduleWeeks)) ||\n            (newDateOffset !== dubNewDateOffset && hasDST && dubNewDateOffset > newDateOffset &&\n                timelineStartTime <= dstStartTime)) {\n            var temp = void 0;\n            var totalHour = 0;\n            var incrementHour = incrementValue / (1000 * 60 * 60);\n            if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks))) {\n                totalHour = this.calculateTotalHours(mode, count);\n                if (incrementHour !== totalHour && totalHour !== 0 && incrementHour > totalHour) {\n                    temp = this.getIncrement(scheduleWeeks, count, mode) - ((1000 * 60 * 60) * (incrementHour - totalHour));\n                    thWidth = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    if (thWidth === 0 && mode === 'Minutes') {\n                        var perMinuteWidth = this.parent.perDayWidth / 1440;\n                        thWidth = perMinuteWidth * count;\n                    }\n                }\n            }\n            else {\n                var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n                var bottomTierSettings = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'] :\n                    zoomOrTimeline['topTier'];\n                var bottomTierCountIsOneAndUnitIsHour = ((bottomTierSettings['count'] === 1 && bottomTierSettings['unit'] === 'Hour') ||\n                    (bottomTierSettings['count'] === 60 && bottomTierSettings['unit'] === 'Minutes'));\n                totalHour = this.calculateTotalHours(mode, count);\n                if (incrementHour !== totalHour && incrementHour < totalHour && !(tier === 'topTier' && bottomTierCountIsOneAndUnitIsHour)) {\n                    temp = this.getIncrement(scheduleWeeks, count, mode) + (1000 * 60 * 60);\n                    var value_1 = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    var tierWidth = tier === 'topTier' ? this.topTierCellWidth : this.bottomTierCellWidth;\n                    if (tierWidth >= value_1) {\n                        thWidth = value_1;\n                        if (thWidth === 0 && mode === 'Minutes') {\n                            var perMinuteWidth = this.parent.perDayWidth / 1440;\n                            thWidth = perMinuteWidth * count;\n                        }\n                    }\n                }\n            }\n        }\n        var cellWidth = thWidth;\n        thWidth = isLast\n            ? (this.parent.isInDst(this.timelineRoundOffEndDate)\n                ? thWidth\n                : this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.timelineRoundOffEndDate))\n            : (isFirstCell && mode !== 'Hour')\n                ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.calculateQuarterEndDate(scheduleWeeks, count))\n                : thWidth;\n        var isWeekendCell = this.isWeekendHeaderCell(mode, tier, scheduleWeeks);\n        var textClassName = tier === 'topTier' ? ' e-gantt-top-cell-text' : '';\n        if (isFirstCell && scheduleWeeks.getHours() === 20 && count === 12 && tier === 'bottomTier' &&\n            this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n            scheduleWeeks.setTime(scheduleWeeks.getTime() - (1000 * 60 * 60 * 20));\n        }\n        var value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, scheduleWeeks) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter));\n        if (!isNullOrUndefined(timelineTemplate)) {\n            var args = {\n                date: date,\n                tier: tier,\n                value: value\n            };\n            template = timelineTemplate(extend({}, args), this.parent, 'TimelineTemplate', this.parent.chartRowsModule.getTemplateID('TimelineTemplate'), false, undefined, null, this.parent['root']);\n            var firstElement = template[0];\n            if (firstElement instanceof HTMLElement) {\n                firstElement.setAttribute('data-tier', tier);\n                firstElement.setAttribute('date', date);\n                firstElement.setAttribute('value', value);\n            }\n        }\n        var className = this.parent.timelineModule.isSingleTier ? cls.timelineSingleHeaderCell : cls.timelineTopHeaderCell;\n        var weekendClass = isWeekendCell ? ' ' + cls.weekendHeaderCell : '';\n        var th = createElement('th', {\n            className: \"\" + className + weekendClass,\n            styles: \"width:\" + thWidth + \"px;\" + (isWeekendCell && this.customTimelineSettings.weekendBackground ? 'background-color:' + this.customTimelineSettings.weekendBackground + ';' : '')\n        });\n        th.tabIndex = -1;\n        th.setAttribute('aria-label', this.parent.localeObj.getConstant('timelineCell') + \" \" + date);\n        var div = createElement('div', {\n            className: \"\" + cls.timelineHeaderCellLabel + textClassName,\n            styles: \"width:\" + (thWidth - 1) + \"px;\"\n        });\n        div.title = this.parent.timelineSettings.showTooltip ? date : '';\n        div.textContent = value;\n        div.setAttribute('data-tier', tier);\n        if (this.parent.isReact && !isNullOrUndefined(template) && template.length > 0) {\n            template[0]['style'].width = '100%';\n            template[0]['style'].height = '100%';\n        }\n        if (!isNullOrUndefined(timelineTemplate) && !isNullOrUndefined(template) && template.length > 0) {\n            append(template, th);\n        }\n        else {\n            th.append(div);\n        }\n        /* eslint-disable-next-line */\n        parentTr += th.outerHTML;\n        if ((this.isSingleTier || tier === 'topTier') && !isLast) {\n            this.totalTimelineWidth = this.totalTimelineWidth + thWidth;\n        }\n        else if ((this.isSingleTier || tier === 'topTier') && isLast) {\n            this.totalTimelineWidth = (this.totalTimelineWidth - cellWidth) + thWidth;\n        }\n        // PDf export collection\n        timelineCell.value = value;\n        timelineCell.isWeekend = isWeekendCell;\n        timelineCell.width = thWidth;\n        return th;\n    };\n    /**\n     * To calculate last 'th' width.\n     *\n     * @param {string} mode .\n     * @param {Date} scheduleWeeks .\n     * @param {Date} endDate .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.calculateWidthBetweenTwoDate = function (mode, scheduleWeeks, endDate) {\n        var sDate = new Date(scheduleWeeks.getTime());\n        var eDate = new Date(endDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var timeDifference = (eDate.getTime() - sDate.getTime());\n        var balanceDay = (timeDifference / (1000 * 60 * 60 * 24));\n        return balanceDay * this.parent.perDayWidth;\n    };\n    /**\n     * To calculate timeline width.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.timelineWidthCalculation = function () {\n        var timelineUnitSize = this.customTimelineSettings.timelineUnitSize;\n        var bottomTierCount = this.customTimelineSettings.bottomTier.count;\n        var topTierCount = this.customTimelineSettings.topTier.count;\n        this.bottomTierCellWidth = timelineUnitSize;\n        if (this.bottomTier === 'None') {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, topTierCount, this.topTier);\n        }\n        else {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, bottomTierCount, this.bottomTier);\n        }\n        this.topTierCellWidth = this.bottomTier !== 'None' ? this.topTier === 'Week' ?\n            this.parent.perDayWidth * 7 : this.topTier === 'Hour' ?\n            this.parent.perDayWidth / 24 : this.topTier === 'Minutes' ?\n            this.parent.perDayWidth / (24 * 60) : this.parent.perDayWidth : timelineUnitSize;\n        this.topTierCellWidth = this.isSingleTier ? this.topTierCellWidth : this.topTierCellWidth * topTierCount;\n    };\n    /**\n     * To validate per day width.\n     *\n     * @param {number} timelineUnitSize .\n     * @param {number} bottomTierCount .\n     * @param {string} mode .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getPerDayWidth = function (timelineUnitSize, bottomTierCount, mode) {\n        var perDayWidth;\n        switch (mode) {\n            case 'Year':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / (12 * 28);\n                break;\n            case 'Month':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 28;\n                break;\n            case 'Week':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 7;\n                break;\n            case 'Day':\n                perDayWidth = timelineUnitSize / bottomTierCount;\n                break;\n            case 'Hour':\n                perDayWidth = (24 / bottomTierCount) * timelineUnitSize;\n                break;\n            case 'Minutes':\n                perDayWidth = ((60 * 24) / bottomTierCount) * timelineUnitSize;\n                break;\n        }\n        return perDayWidth;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.roundOffDays = function () {\n        var startDate = this.parent.cloneProjectStartDate;\n        var endDate = this.parent.cloneProjectEndDate;\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Year') {\n                startDate = new Date(startDate.getFullYear(), 0, 1);\n                endDate = new Date(endDate.getFullYear(), 11, 31);\n            }\n            else if (tierMode === 'Month') {\n                startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\n            }\n            else if (tierMode === 'Week') {\n                var dayIndex = !isNullOrUndefined(this.customTimelineSettings.weekStartDay) ?\n                    this.parent.timelineModule.customTimelineSettings.weekStartDay : 0;\n                var roundOffStartDate = startDate.getDay() < dayIndex ?\n                    (startDate.getDate()) - (7 - dayIndex + startDate.getDay()) :\n                    (startDate.getDate()) - startDate.getDay() + dayIndex;\n                startDate.setDate(roundOffStartDate);\n                var first = endDate.getDate() - endDate.getDay();\n                var last = first + 6 + dayIndex;\n                endDate.setDate(last);\n            }\n            if (tierMode === 'Hour') {\n                startDate.setMinutes(0);\n            }\n            else if (tierMode === 'Minutes') {\n                startDate.setSeconds(0);\n            }\n            else {\n                startDate.setHours(0, 0, 0, 0);\n            }\n        }\n        this.timelineStartDate = startDate;\n        this.timelineEndDate = endDate;\n        this.timelineRoundOffEndDate = this.getTimelineRoundOffEndDate(this.timelineEndDate);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} mode .\n     * @param {string} span .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateScheduleDatesByToolBar = function (mode, span, startDate, endDate) {\n        if (mode === 'Year') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMonth() === 0) {\n                    startDate = new Date(startDate.getFullYear() - 1, 0, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), 0, 1);\n                }\n            }\n            else {\n                if (endDate.getMonth() === 11) {\n                    endDate = new Date(endDate.getFullYear() + 1, 0, 1);\n                }\n                else {\n                    endDate = new Date(endDate.getFullYear(), 12, 1);\n                }\n            }\n        }\n        if (mode === 'Month') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getDate() === 1) {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth() - 1, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                }\n            }\n            else {\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 1);\n            }\n        }\n        if (mode === 'Week') {\n            var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n            var dayIntervel = void 0;\n            if (span === 'prevTimeSpan') {\n                dayIntervel = startDate.getDay() < dayIndex ? 7 - (dayIndex - startDate.getDay()) :\n                    startDate.getDay() - dayIndex;\n                startDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    startDate.setDate(startDate.getDate() - 7);\n                }\n                else {\n                    startDate.setDate(startDate.getDate() - dayIntervel);\n                }\n            }\n            else {\n                dayIntervel = endDate.getDay() < dayIndex ? (dayIndex - endDate.getDay()) :\n                    (7 - endDate.getDay()) + dayIndex;\n                endDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    endDate.setDate(endDate.getDate() + 6);\n                }\n                else {\n                    endDate.setDate(endDate.getDate() + dayIntervel);\n                }\n            }\n        }\n        if (mode === 'Day') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getHours() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 24));\n                }\n                else {\n                    startDate.setHours(0);\n                }\n            }\n            else {\n                if (endDate.getHours() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60 * 24));\n                }\n                else {\n                    endDate.setHours(24);\n                }\n            }\n        }\n        if (mode === 'Hour') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMinutes() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n                }\n                else {\n                    startDate.setMinutes(0);\n                }\n            }\n            else {\n                if (endDate.getMinutes() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60));\n                }\n                else {\n                    endDate.setMinutes(60);\n                }\n            }\n        }\n        if (mode === 'Minutes') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getSeconds() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60));\n                }\n                else {\n                    startDate.setSeconds(0);\n                }\n            }\n            else {\n                if (endDate.getSeconds() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60));\n                }\n                else {\n                    endDate.setSeconds(60);\n                }\n            }\n        }\n        this.parent.cloneProjectStartDate = startDate;\n        this.parent.cloneProjectEndDate = endDate;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {IGanttData[]} tempArray .\n     * @param {string} action .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateTimeLineOnEditing = function (tempArray, action) {\n        if (tempArray[0].length >= 1) {\n            for (var i = 0; i < tempArray.length; i++) {\n                var temp = tempArray[parseInt(i.toString(), 10)];\n                var filteredStartDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.startDate); });\n                var filteredEndDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.endDate); });\n                var minStartDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')) : null;\n                var minEndDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var maxEndDate = filteredEndDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.max(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var validStartDate = new Date(this.parent.dataOperation.checkStartDate(this.timelineStartDate).getTime());\n                var validEndDate = new Date(this.parent.dataOperation.checkEndDate(this.timelineEndDate).getTime());\n                var maxStartLeft = isNullOrUndefined(minStartDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(minStartDate, false);\n                var maxEndLeft = isNullOrUndefined(maxEndDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(maxEndDate, false);\n                var validStartLeft = this.parent.dataOperation.getTaskLeft(validStartDate, false);\n                var validEndLeft = this.parent.dataOperation.getTaskLeft(validEndDate, false);\n                var isChanged = void 0;\n                var taskbarModule = this.parent.editModule.taskbarEditModule;\n                var startDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')).setHours(0, 0, 0, 0) : null;\n                var timelineStartDate = new Date(this.timelineStartDate.getTime()).setHours(0, 0, 0, 0);\n                if (!isNullOrUndefined(maxStartLeft) && (((((!isNullOrUndefined(taskbarModule)) && ((taskbarModule.taskBarEditAction && taskbarModule.taskBarEditAction !== 'RightResizing') || isNullOrUndefined(taskbarModule.taskBarEditAction)))) &&\n                    (startDate <= timelineStartDate))) && (maxStartLeft < this.bottomTierCellWidth || maxStartLeft <= validStartLeft)) {\n                    isChanged = 'prevTimeSpan';\n                    minStartDate = minStartDate > this.timelineStartDate ? this.timelineStartDate : minStartDate;\n                }\n                else {\n                    minStartDate = this.timelineStartDate;\n                }\n                if (!isNullOrUndefined(maxEndLeft) && (maxEndLeft >= ((this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth) - this.bottomTierCellWidth) &&\n                    maxEndLeft > validEndLeft)) {\n                    isChanged = isChanged === 'prevTimeSpan' ? 'both' : 'nextTimeSpan';\n                    maxEndDate = maxEndDate < this.timelineEndDate ? this.timelineEndDate : maxEndDate;\n                }\n                else {\n                    maxEndDate = this.timelineEndDate;\n                }\n                if (isChanged) {\n                    this.performTimeSpanAction(isChanged, action, minStartDate, maxEndDate);\n                }\n                else if (!isNullOrUndefined(temp[0].ganttProperties.segments)) {\n                    this.parent.dataOperation.updateWidthLeft(temp[0]);\n                }\n                if (!isNullOrUndefined(minStartDate) && !isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks) {\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), minEndDate.getTime()));\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), this.timelineStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                else if (isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks && tempArray[0].length === 1 &&\n                    !isNullOrUndefined(tempArray[0][0].ganttProperties.endDate) && (isNullOrUndefined(temp[0].ganttProperties.startDate) &&\n                    temp[0].ganttProperties.endDate <= this.timelineStartDate)) {\n                    minStartDate = new Date(Math.min(tempArray[0][0].ganttProperties.endDate.getTime(), minStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                break;\n            }\n        }\n    };\n    /**\n     * To validate project start date and end date on editing action\n     *\n     * @param {string} type .\n     * @param {string} isFrom .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} mode .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.performTimeSpanAction = function (type, isFrom, startDate, endDate, mode) {\n        mode = !isNullOrUndefined(mode) ? mode : this.parent.timelineModule.topTier === 'None' ?\n            this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        var projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var projectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        if (isFrom !== 'publicMethod' && type === 'both') {\n            this.updateScheduleDatesByToolBar(mode, 'prevTimeSpan', startDate, endDate);\n            this.updateScheduleDatesByToolBar(mode, 'nextTimeSpan', new Date(this.parent.cloneProjectStartDate.getTime()), endDate);\n        }\n        else {\n            this.updateScheduleDatesByToolBar(mode, type, startDate, endDate);\n        }\n        var args = this.timeSpanActionEvent('actionBegin', type, isFrom);\n        if (!args.cancel) {\n            this.restrictRender = true;\n            this.performedTimeSpanAction = true;\n            var previousScrollLeft = this.parent.ganttChartModule.scrollElement.scrollLeft;\n            this.parent.updateProjectDates(args.projectStartDate, args.ProjectEndDate, args.isTimelineRoundOff, isFrom);\n            if (type === 'prevTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(0);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'TaskbarEditing') {\n                var currentScrollLeft = document.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n                this.parent.element.querySelector('.e-timeline-header-container').scrollLeft = currentScrollLeft;\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            if (isFrom === 'TaskbarEditing' && this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3 || (isNullOrUndefined(this.parent.projectStartDate) && isNullOrUndefined(this.parent.projectEndDate)))) {\n                this.parent.ganttChartModule.scrollObject.setScrollLeft(previousScrollLeft);\n                this.parent.ganttChartModule.scrollObject.updateContent();\n            }\n            this.parent.timelineModule.timeSpanActionEvent('actionComplete', type, isFrom);\n        }\n        else {\n            this.parent.cloneProjectStartDate = projectStartDate;\n            this.parent.cloneProjectEndDate = projectEndDate;\n        }\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} eventType .\n     * @param {string} requestType .\n     * @param {string} isFrom .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.timeSpanActionEvent = function (eventType, requestType, isFrom) {\n        var args = {};\n        args.projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        args.ProjectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        args.requestType = isFrom === 'publicMethod' ? requestType : isFrom === 'beforeAdd' ?\n            'TimelineRefreshOnAdd' : isFrom === 'TaskbarEditing' ? 'TimelineRefreshOnEdit' : requestType;\n        if (eventType === 'actionBegin') {\n            args.isTimelineRoundOff = this.parent.isTimelineRoundOff;\n            args.cancel = false;\n        }\n        args.action = 'TimescaleUpdate';\n        this.parent.trigger(eventType, args);\n        return args;\n    };\n    return Timeline;\n}());\nexport { Timeline };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Configures column collection in Gantt.\n */\nvar Column = /** @class */ (function () {\n    function Column(options) {\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default, all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default, all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default, all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default, all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default, all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        merge(this, options);\n    }\n    return Column;\n}());\nexport { Column };\n","import { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { createElement, isNullOrUndefined, getValue, extend, EventHandler, deleteObject, remove, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { setValue } from '@syncfusion/ej2-base';\nimport { Query } from '@syncfusion/ej2-data';\nimport { Column as GanttColumn } from '../models/column';\nimport { isCountRequired, isEmptyObject } from './utils';\nimport { AutoComplete } from '@syncfusion/ej2-dropdowns';\n/** @hidden */\nvar GanttTreeGrid = /** @class */ (function () {\n    function GanttTreeGrid(parent) {\n        var _this = this;\n        this.isPersist = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.queryCellInfo = function (args) {\n            _this.parent.trigger('queryCellInfo', args);\n        };\n        this.headerCellInfo = function (args) {\n            _this.parent.trigger('headerCellInfo', args);\n        };\n        this.rowDataBound = function (args) {\n            _this.parent.trigger('rowDataBound', args);\n        };\n        this.columnMenuOpen = function (args) {\n            _this.parent.notify('columnMenuOpen', args);\n            _this.parent.trigger('columnMenuOpen', args);\n            document.querySelector('.e-colmenu').addEventListener('mousemove', function () {\n                var filPopOptions = document.querySelector('.e-filter-popup');\n                var filOptions = document.querySelector('.e-filter-item');\n                if (!isNullOrUndefined(filPopOptions)) {\n                    if (!filOptions.classList.contains('e-focused')) {\n                        remove(_this.parent.filterModule.filterMenuElement);\n                    }\n                }\n            });\n        };\n        this.columnMenuClick = function (args) {\n            _this.parent.trigger('columnMenuClick', args);\n        };\n        this.objectEqualityChecker = function (old, current) {\n            if (old) {\n                var keys = Object.keys(old);\n                var isEqual = true;\n                var excludeKeys = ['Children', 'childRecords', 'taskData', 'uniqueID', 'parentItem', 'parentUniqueID', 'ganttProperties'];\n                for (var i = 0; i < keys.length; i++) {\n                    var oldKey = old[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(old[keys[parseInt(i.toString(), 10)]]).getTime() : old[keys[parseInt(i.toString(), 10)]];\n                    var currentKey = current[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(current[keys[parseInt(i.toString(), 10)]]).getTime() : current[keys[parseInt(i.toString(), 10)]];\n                    if (oldKey !== currentKey && excludeKeys.indexOf(keys[i]) === -1) {\n                        _this.parent.modifiedRecords.push(current);\n                        isEqual = false;\n                        break;\n                    }\n                }\n                return isEqual;\n            }\n            else {\n                return false;\n            }\n        };\n        this.parent = parent;\n        this.parent.treeGrid = new TreeGrid();\n        this.parent.treeGrid.allowSelection = false;\n        this.parent.treeGrid.allowKeyboard = this.parent.allowKeyboard;\n        this.parent.treeGrid['${enableHtmlSanitizer}'] = this.parent.enableHtmlSanitizer;\n        this.parent.treeGrid.enableImmutableMode = this.parent.enableImmutableMode;\n        this.treeGridColumns = [];\n        if (!this.parent.isLocaleChanged && this.parent.isLoad) {\n            this.parent.previousGanttColumns = extend([], [], this.parent.columns, true);\n        }\n        this.validateGanttColumns();\n        if (this.parent.isLocaleChanged) {\n            this.parent.isLocaleChanged = false;\n        }\n        this.addEventListener();\n    }\n    GanttTreeGrid.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createContainer, this);\n        this.parent.on('chartScroll', this.updateScrollTop, this);\n        this.parent.on('destroy', this.destroy, this);\n        this.parent.treeGrid.on('renderReactTemplate', this.renderReactTemplate, this);\n    };\n    GanttTreeGrid.prototype.renderReactTemplate = function (args) {\n        var portals = 'portals';\n        for (var _i = 0, args_1 = args; _i < args_1.length; _i++) {\n            var portal = args_1[_i];\n            if (this.parent[portals].indexOf(portal) === -1) {\n                this.parent[portals].push(portal);\n            }\n        }\n        this.parent.renderTemplates();\n    };\n    GanttTreeGrid.prototype.createContainer = function () {\n        //let height: number = this.parent.ganttHeight - this.parent.toolbarModule.element.offsetHeight - 46;\n        this.treeGridElement = createElement('div', {\n            id: 'treeGrid' + this.parent.element.id, className: 'e-gantt-tree-grid'\n            //  styles: 'height:' + height + 'px;'\n        });\n        var tempHeader = createElement('div', { className: 'e-gantt-temp-header' });\n        this.parent.treeGridPane.appendChild(this.treeGridElement);\n        this.treeGridElement.appendChild(tempHeader);\n        this.parent.treeGridPane.classList.add('e-temp-content');\n    };\n    /**\n     * Method to initiate TreeGrid\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.renderTreeGrid = function () {\n        this.composeProperties();\n        this.bindEvents();\n        var root = 'root';\n        this.parent.treeGrid[root] = this.parent[root] ? this.parent[root] : this.parent;\n        setValue('registeredTemplate', this.registeredTemplate, this.parent.treeGrid);\n        var ref = 'viewContainerRef';\n        setValue('viewContainerRef', this.parent[\"\" + ref], this.parent.treeGrid);\n        if (!this.treeGridElement.contains(this.parent.treeGrid.element)) {\n            this.parent.treeGrid.appendTo(this.treeGridElement);\n        }\n        if (this.parent.treeGrid.grid && this.parent.toolbarModule && this.parent.isReact) {\n            this.parent.treeGrid.grid.portals = this.parent.portals;\n        }\n        this.wireEvents();\n    };\n    GanttTreeGrid.prototype.composeProperties = function () {\n        this.parent.treeGrid.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        this.parent.treeGrid.hasChildMapping = this.parent.taskFields.hasChildMapping;\n        this.parent.treeGrid.query = this.parent.query;\n        this.parent.treeGrid.loadChildOnDemand = this.parent.loadChildOnDemand;\n        this.parent.treeGrid['isFromGantt'] = true;\n        this.parent.treeGrid.parentIdMapping = this.parent.taskFields.parentID;\n        if (this.parent.taskFields.parentID) {\n            this.parent.treeGrid.idMapping = this.parent.taskFields.id;\n        }\n        this.parent.treeGrid.showColumnMenu = this.parent.showColumnMenu;\n        this.parent.treeGrid.enableCollapseAll = this.parent.collapseAllParentTasks;\n        this.parent.treeGrid.columnMenuItems = this.parent.columnMenuItems;\n        this.parent.treeGrid.enableRtl = this.parent.enableRtl;\n        this.parent.treeGrid.childMapping = isNullOrUndefined(this.parent.taskFields.child) ? '' : this.parent.taskFields.child;\n        this.parent.treeGrid.treeColumnIndex = this.parent.treeColumnIndex;\n        this.parent.treeGrid.columns = this.treeGridColumns;\n        this.parent.treeGrid.loadingIndicator = this.parent.loadingIndicator;\n        this.parent.treeGrid.enableVirtualMaskRow = this.parent.enableVirtualMaskRow;\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n            // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n            this.parent.treeGrid.hasChildMapping = 'isParent';\n            var count = getValue('count', this.parent.dataSource);\n            this.parent.treeGrid.dataSource = { result: this.parent.flatData, count: count };\n        }\n        else {\n            if (this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                this.parent.treeGrid.dataSource = this.parent.dataSource;\n            }\n            else {\n                this.parent.treeGrid.hasChildMapping = null;\n                this.parent.treeGrid.dataSource = this.parent.flatData;\n            }\n        }\n        this.parent.treeGrid.expandStateMapping = this.parent.taskFields.expandState;\n        var isGantt = 'isGantt';\n        this.parent.treeGrid[isGantt] = true;\n        this.parent.treeGrid.rowHeight = this.parent.rowHeight;\n        this.parent.treeGrid.gridLines = this.parent.gridLines;\n        if (this.parent.searchSettings.fields.length !== 0 || this.parent.searchSettings.key !== '') {\n            this.parent.treeGrid.searchSettings = this.parent.searchSettings;\n        }\n        var isJsComponent = 'isJsComponent';\n        this.parent.treeGrid[isJsComponent] = true;\n        this.parent.treeGrid.height =\n            this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['offsetHeight'] - (this.parent.flatData.length === 0 ? 0 : 19);\n    };\n    GanttTreeGrid.prototype.getContentDiv = function () {\n        return this.treeGridElement.querySelector('.e-content');\n    };\n    GanttTreeGrid.prototype.getHeaderDiv = function () {\n        return this.treeGridElement.querySelector('.e-headercontent');\n    };\n    GanttTreeGrid.prototype.getScrollbarWidth = function () {\n        var outer = document.createElement('div');\n        outer.style.visibility = 'hidden';\n        outer.style.overflow = 'scroll';\n        outer.style.msOverflowStyle = 'scrollbar';\n        var inner = document.createElement('div');\n        outer.appendChild(inner);\n        this.parent.element.appendChild(outer);\n        var scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n        outer.parentNode.removeChild(outer);\n        return scrollbarWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.ensureScrollBar = function () {\n        var content = this.getContentDiv();\n        var headerDiv = this.getHeaderDiv();\n        var scrollWidth = this.getScrollbarWidth();\n        var isMobile = /Android|Mac|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        // For Firefox scrollWidth value return 0, causes the grid side column misalign- Task(888356)\n        if (scrollWidth !== 0 || navigator.userAgent.includes('Firefox')) {\n            content.style.cssText += 'width: calc(100% + ' + (scrollWidth + 1) + 'px);'; //actual scrollbar width 17 px but here scrollbar width set to 16px hence adding increment of 1\n        }\n        else {\n            content.classList.add('e-gantt-scroll-padding');\n        }\n        if (scrollWidth === 0 && isMobile) {\n            headerDiv.style.cssText += 'width: calc(100% + 17px);';\n        }\n    };\n    GanttTreeGrid.prototype.bindEvents = function () {\n        this.parent.treeGrid.dataBound = this.dataBound.bind(this);\n        this.parent.treeGrid.collapsing = this.collapsing.bind(this);\n        this.parent.treeGrid.collapsed = this.collapsed.bind(this);\n        this.parent.treeGrid.expanding = this.expanding.bind(this);\n        this.parent.treeGrid.expanded = this.expanded.bind(this);\n        this.parent.treeGrid.actionBegin = this.actionBegin.bind(this);\n        this.parent.treeGrid.actionComplete = this.treeActionComplete.bind(this);\n        this.parent.treeGrid.created = this.created.bind(this);\n        this.parent.treeGrid.actionFailure = this.actionFailure.bind(this);\n        this.parent.treeGrid.headerCellInfo = this.headerCellInfo.bind(this);\n        this.parent.treeGrid.rowDataBound = this.rowDataBound.bind(this);\n        this.parent.treeGrid.columnMenuOpen = this.columnMenuOpen.bind(this);\n        this.parent.treeGrid.columnMenuClick = this.columnMenuClick.bind(this);\n        this.parent.treeGrid.beforeDataBound = this.beforeDataBound.bind(this);\n        this.parent.treeGrid.dataStateChange = this.dataStateChange.bind(this);\n        if (this.parent.queryCellInfo != null) {\n            this.parent.treeGrid.queryCellInfo = this.queryCellInfo.bind(this);\n        }\n    };\n    GanttTreeGrid.prototype.beforeDataBound = function (args) {\n        if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n            this.parent.selectionSettings.persistSelection && this.parent.selectionModule.getSelectedRowIndexes().length > 0 &&\n            args['actionArgs']['requestType'] === 'sorting') {\n            this.isPersist = true;\n        }\n        this.parent.updatedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : getValue('result', args);\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            this.parent.updateContentHeight(args);\n        }\n        setValue('contentModule.objectEqualityChecker', this.objectEqualityChecker, this.parent.treeGrid.grid);\n    };\n    GanttTreeGrid.prototype.dataBound = function (args) {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.ensureScrollBar();\n        this.parent.treeDataBound(args);\n        if (this.parent.isVirtualScroll) {\n            if ((this.parent.enableVirtualMaskRow && this.parent.enableVirtualization) ||\n                (this.parent.enableVirtualization && !this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Shimmer') ||\n                (this.parent.loadingIndicator.indicatorType === 'Shimmer')) {\n                this.parent.hideMaskRow();\n            }\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n            }\n            this.parent.isVirtualScroll = false;\n            if (!isNullOrUndefined(this.parent.selectionModule) && !isNullOrUndefined(this.parent.toolbarModule)) {\n                this.parent.toolbarModule.refreshToolbarItems();\n            }\n        }\n        this.prevCurrentView = extend([], [], this.parent.currentViewData, true);\n    };\n    GanttTreeGrid.prototype.dataStateChange = function (args) {\n        if (args.action && args.action.requestType === 'refresh') {\n            this.parent.treeGrid.dataSource = {\n                result: getValue('result', this.parent.treeGrid.dataSource),\n                count: getValue('count', this.parent.treeGrid.dataSource)\n            };\n        }\n        this.parent.trigger('dataStateChange', args);\n    };\n    GanttTreeGrid.prototype.collapsing = function (args) {\n        // Collapsing event\n        var collapsingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                }\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n            else {\n                collapsingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.expanding = function (args) {\n        // Expanding event\n        var expandingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                }\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n            else {\n                expandingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.collapsed = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var collapsedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n                }\n            }\n            else {\n                collapsedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n            }\n            if (!this.parent.ganttChartModule.isCollapseAll && collapsedArgs['gridRow'] && !this.parent.allowTaskbarOverlap) {\n                collapsedArgs['gridRow'].style.height = collapsedArgs['chartRow'].style.height;\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.trigger('collapsed', args);\n    };\n    GanttTreeGrid.prototype.expanded = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var expandedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n                }\n            }\n            else {\n                expandedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n            }\n            if (!this.parent.ganttChartModule.isExpandAll && args['row'] && !this.parent.allowTaskbarOverlap) {\n                args['row'].style.height = this.parent.rowHeight + 'px';\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.isCollapseAll = false;\n        this.parent.trigger('expanded', args);\n    };\n    GanttTreeGrid.prototype.actionBegin = function (args) {\n        if (this.parent.undoRedoModule && (args.requestType === 'filtering' || args.requestType === 'searching' || args.requestType === 'sorting' || args.requestType === 'filterAfterOpen')) {\n            this.parent.undoRedoModule['canUpdateIndex'] = false;\n        }\n        this.parent.notify('actionBegin', args);\n        var flag = getValue('doubleClickTarget', this.parent.treeGrid.editModule);\n        if (flag !== null) {\n            setValue('doubleClickTarget', null, this.parent.treeGrid.editModule);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (args.requestType !== 'virtualscroll' && args.type !== 'edit' && args.requestType !== 'beginEdit' && !args.cancel) {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.created = function (args) {\n        this.updateKeyConfigSettings();\n    };\n    GanttTreeGrid.prototype.actionFailure = function (args) {\n        this.parent.trigger('actionFailure', args);\n    };\n    GanttTreeGrid.prototype.createExpandCollapseArgs = function (args, currentRecord) {\n        var chartRow;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!isNullOrUndefined(recordLength)) {\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(currentRecord)];\n            var eventArgs = { data: currentRecord, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n        else {\n            var recordOne = getValue('data', args);\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(recordOne)];\n            var eventArgs = { data: recordOne, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n    };\n    GanttTreeGrid.prototype.treeActionComplete = function (args) {\n        var _this = this;\n        var _a;\n        var updatedArgs = extend({}, args);\n        if (getValue('requestType', args) === 'reorder') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnReorder')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = {};\n                record['action'] = 'ColumnReorder';\n                record['fromIndex'] = extend([], [], [args['fromIndex']], true)[0];\n                record['toIndex'] = extend([], [], [args['toIndex']], true)[0];\n                record['toColumn'] = extend([], [], [this.parent.treeGrid.columns[args['toIndex']]['field']], true)[0];\n                record['fromColumn'] = extend([], [], [this.parent.treeGrid.columns[args['fromIndex']]['field']], true)[0];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'columnstate') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnState')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'ColumnState' };\n                record['showhideColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'sorting') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Sorting')) {\n                if (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['sortColumns'] && this.parent.undoRedoModule['currentAction']['sortColumns'].length > 1) {\n                    this.parent.undoRedoModule['sortedColumnsLength']++;\n                }\n                if ((!this.parent.undoRedoModule['currentAction'] || (this.parent.undoRedoModule['currentAction']['sortColumns'] && this.parent.undoRedoModule['sortedColumnsLength'] !== this.parent.undoRedoModule['currentAction']['sortColumns'].length)) && !this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { action: 'Sorting' };\n                    record['sortColumns'] = [];\n                    record['sortColumns'] = this.parent.undoRedoModule['previousSortedColumns'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['previousSortedColumns'] = this.parent.treeGrid.sortSettings.columns;\n            }\n            this.parent.notify('updateModel', {});\n            deleteObject(updatedArgs, 'isFrozen');\n        }\n        else if (getValue('requestType', args) === 'filtering') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('Filtering')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'Filtering' };\n                record['filteredColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            this.parent.notify('updateModel', {});\n        }\n        else if (getValue('type', args) === 'save') {\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                var data = getValue('data', args);\n                if (!isNullOrUndefined(data) && !isNullOrUndefined(this.parent.getTaskByUniqueID(data.uniqueID))) {\n                    /* eslint-disable-next-line */\n                    this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.duration] = data.taskData[this.parent.taskFields.duration];\n                    if (!isNullOrUndefined(data.taskData[this.parent.taskFields.resourceInfo])) {\n                        /* eslint-disable-next-line */\n                        this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.resourceInfo] = data.taskData[this.parent.taskFields.resourceInfo];\n                    }\n                }\n                if (isEmptyObject(this.currentEditRow) && args['column'] && args['column'].edit && args['column'].field === this.parent.taskFields.resourceInfo) {\n                    var field = this.parent.taskFields.resourceInfo;\n                    this.currentEditRow = (_a = {}, _a[field] = data['resources'], _a);\n                }\n                this.parent.editModule.cellEditModule.initiateCellEdit(args, this.currentEditRow);\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.currentEditRow = {};\n            }\n        }\n        if (getValue('requestType', args) === 'filterAfterOpen') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (getValue('requestType', args) === 'searching') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Search')) {\n                if (!this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { 'action': 'Search' };\n                    record['searchString'] = this.parent.undoRedoModule['searchString'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['searchString'] = this.parent.treeGrid.searchSettings.key;\n            }\n            this.parent.notify('actionComplete', args);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(getValue('batchChanges', args))) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.isCancelled) {\n            setValue('requestType', 'cancel', updatedArgs);\n            setValue('action', 'CellEditing', updatedArgs);\n            this.parent.isCancelled = false;\n        }\n        if (getValue('requestType', args) === 'refresh' && isNullOrUndefined(getValue('type', args)) && this.parent.addDeleteRecord) {\n            if (this.parent.selectedRowIndex !== -1) {\n                if (!isNullOrUndefined(this.parent.selectionModule) &&\n                    this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection &&\n                    this.parent.editModule.isAdded) {\n                    var selectedIndexes = this.parent.selectionModule.selectedRowIndexes;\n                    if (selectedIndexes.length > 1 && this.parent.selectionSettings.persistSelection) {\n                        for (var i = 0; i < selectedIndexes.length; i++) {\n                            var records = this.parent.flatData[selectedIndexes[i].toString()];\n                            this.parent.selectRows(records);\n                        }\n                    }\n                }\n                else {\n                    this.parent.selectRow(this.parent.selectedRowIndex);\n                    if (this.parent.selectedRowIndex > this.parent.currentViewData.length - 1) {\n                        this.parent.selectedRowIndex = -1;\n                    }\n                }\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection\n                    && this.parent.editModule && !this.parent.editModule.isAdded) {\n                    var selectedRecords = this.parent.selectionModule.getSelectedRecords();\n                    var _loop_1 = function (i) {\n                        var selectedTaskId = selectedRecords[i][this_1.parent.taskFields.id];\n                        var existIndeletedRecords = this_1.parent.editModule.deletedRecord.some(function (item) {\n                            return item.ganttProperties.taskId === selectedTaskId;\n                        });\n                        if (existIndeletedRecords) {\n                            selectedRecords.splice(i, 1);\n                        }\n                    };\n                    var this_1 = this;\n                    for (var i = selectedRecords.length - 1; i >= 0; i--) {\n                        _loop_1(i);\n                    }\n                }\n                var indexvalue_1 = 0;\n                var dataCollection = this.parent.enableVirtualization ? this.parent.flatData : this.parent.currentViewData;\n                // To maintain 1st record selection, while deleting the last parent record at Virtual mode\n                dataCollection.map(function (data, index) {\n                    if (!isNullOrUndefined(_this.parent.currentSelection)\n                        && (data['ganttProperties'].taskId === _this.parent.currentSelection[_this.parent.taskFields.id]) &&\n                        ((_this.parent.viewType === 'ResourceView' &&\n                            data['ganttProperties'].rowUniqueID === _this.parent.currentSelection.rowUniqueID) ||\n                            _this.parent.viewType !== 'ResourceView')) {\n                        indexvalue_1 = index;\n                    }\n                });\n                this.addedRecord = true;\n                this.parent.selectRow((isNullOrUndefined(indexvalue_1) ? 0 : indexvalue_1));\n            }\n            if (!this.parent['isExpandPerformed']) {\n                this.parent.addDeleteRecord = false;\n            }\n            this.parent['isExpandPerformed'] = false;\n        }\n        if (this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['isFromUndoRedo'] = false;\n        }\n        if (getValue('requestType', args) === 'refresh') {\n            this.parent.initiateEditAction(false);\n        }\n        this.parent.trigger('actionComplete', updatedArgs);\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.currentViewData[i].hasChildRecords && !this.parent.currentViewData[i].expanded) {\n                    this.parent.chartRowsModule.updateDragDropRecords(this.parent.currentViewData[i]);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    GanttTreeGrid.prototype.updateKeyConfigSettings = function () {\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.delete;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.insert;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlHome;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlEnd;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.shiftTab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.shiftTab;\n    };\n    /**\n     * Method to bind internal events on TreeGrid element\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.wireEvents = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.add(content, 'scroll', this.scrollHandler, this);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.treeGridPane, 'click', this.treeGridClickHandler, this);\n        }\n    };\n    GanttTreeGrid.prototype.unWireEvents = function () {\n        var content = this.parent.treeGrid.element &&\n            this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.scrollHandler);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.remove(this.parent.treeGridPane, 'click', this.treeGridClickHandler);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.scrollHandler = function (e) {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content.scrollTop !== this.previousScroll.top) {\n            this.parent.notify('grid-scroll', { top: content.scrollTop });\n        }\n        this.previousScroll.top = content.scrollTop;\n        if (this.parent.contextMenuModule && this.parent.contextMenuModule.isOpen) {\n            this.parent.contextMenuModule.contextMenu.close();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.validateGanttColumns = function () {\n        var ganttObj = this.parent;\n        var length = ganttObj.columns.length;\n        var tasks = this.parent.taskFields;\n        this.parent.columnMapping = {};\n        this.parent.columnByField = {};\n        this.parent.customColumns = [];\n        var tasksMapping = ['id', 'name', 'startDate', 'endDate', 'duration', 'dependency',\n            'progress', 'baselineStartDate', 'baselineEndDate', 'resourceInfo', 'notes', 'work', 'manual', 'type', 'milestone', 'segments'];\n        var _loop_2 = function (i) {\n            var column = {};\n            if (typeof ganttObj.columns[i] === 'string') {\n                column.field = ganttObj.columns[i];\n            }\n            else {\n                column = ganttObj.columns[i];\n            }\n            var columnName = [];\n            if (tasksMapping.length > 0) {\n                columnName = tasksMapping.filter(function (name) {\n                    return column.field === tasks[name];\n                });\n            }\n            if (columnName.length === 0) {\n                if (column.field === this_2.parent.resourceFields.group) {\n                    return \"continue\";\n                }\n                this_2.parent.customColumns.push(column.field);\n                column.headerText = column.headerText ? column.headerText : column.field;\n                column.width = column.width ? column.width : 150;\n                column.editType = column.editType ? column.editType : 'stringedit';\n                column.type = column.type ? column.type : 'string';\n                this_2.bindTreeGridColumnProperties(column, true);\n                return \"continue\";\n            }\n            else {\n                var index = tasksMapping.indexOf(columnName[0]);\n                tasksMapping.splice(index, 1);\n                this_2.createTreeGridColumn(column, true);\n                this_2.parent.columnMapping[columnName[0]] = column.field;\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_2(i);\n        }\n        /** Create default columns with task settings property */\n        for (var j = 0; j < tasksMapping.length; j++) {\n            var column = {};\n            if (!isNullOrUndefined(tasks[tasksMapping[j]])) {\n                column.field = tasks[tasksMapping[j]];\n                this.createTreeGridColumn(column, length === 0);\n                this.parent.columnMapping[tasksMapping[j]] = column.field;\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var column = {};\n            this.composeUniqueIDColumn(column);\n            this.createTreeGridColumn(column, true);\n        }\n    };\n    /**\n     *\n     * @param {GanttColumnModel} column .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.createTreeGridColumn = function (column, isDefined) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        column.disableHtmlEncode = !isNullOrUndefined(column.disableHtmlEncode) ? column.disableHtmlEncode : this.parent.disableHtmlEncode;\n        if (taskSettings.id !== column.field) {\n            column.clipMode = column.clipMode ? column.clipMode : 'EllipsisWithTooltip';\n        }\n        if (taskSettings.id === column.field) {\n            /** Id column */\n            this.composeIDColumn(column);\n        }\n        else if (taskSettings.name === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('name');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('name');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.startDate === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.endDate === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.duration === column.field) {\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            column.valueAccessor = column.valueAccessor ?\n                column.valueAccessor : !isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.read) ? null :\n                this.durationValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.progress === column.field) {\n            this.composeProgressColumn(column);\n        }\n        else if (taskSettings.dependency === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n            column.allowFiltering = column.allowFiltering === false ? false : true;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.dependencyValueAccessor.bind(this);\n            if (isNullOrUndefined(column.filter) && this.parent.locale !== 'en-US') {\n                column.filter = {\n                    'ui': {\n                        create: function (args) {\n                            var flValInput = createElement('input', { className: 'flm-input' });\n                            args.target.appendChild(flValInput);\n                            _this.dropInstance = new AutoComplete({\n                                dataSource: _this.changeLocale(_this.parent.treeGrid.grid.dataSource),\n                                fields: { text: _this.parent.taskFields.dependency, value: _this.parent.taskFields.dependency },\n                                placeholder: _this.parent.localeObj.getConstant('enterValue'),\n                                popupHeight: '200px'\n                            });\n                            _this.dropInstance.appendTo(flValInput);\n                        },\n                        write: function (args) {\n                            _this.dropInstance.value = args.filteredValue;\n                        },\n                        read: function (args) {\n                            args.fltrObj.filterByColumn(args.column.field, args.operator, _this.changeDelocale((_this.dropInstance.value)));\n                        }\n                    }\n                };\n            }\n        }\n        else if (taskSettings.resourceInfo === column.field) {\n            this.composeResourceColumn(column);\n        }\n        else if (taskSettings.notes === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            if (!this.parent.showInlineNotes) {\n                if (!column.template) {\n                    var contentTemp = function () {\n                        return \"<div class=\\\"e-ganttnotes-info\\\">\\n                            <span class=\\\"e-icons e-notes-info\\\"></span>\\n                        </div>\";\n                    };\n                    column.template = initializeCSPTemplate(contentTemp);\n                }\n            }\n        }\n        else if (taskSettings.baselineStartDate === column.field ||\n            taskSettings.baselineEndDate === column.field) {\n            var colName = (taskSettings.baselineEndDate === column.field) ? 'baselineEndDate' :\n                'baselineStartDate';\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n        }\n        else if (taskSettings.work === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('work');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('work');\n            }\n            column.width = column.width ? column.width : 150;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.workValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        else if (taskSettings.type === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            column.width = column.width ? column.width : 150;\n            //column.type = 'string';\n            column.editType = 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.taskTypeValueAccessor.bind(this);\n        }\n        else if (taskSettings.manual === column.field && this.parent.taskMode === 'Custom') {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            column.width = column.width ? column.width : 120;\n            column.editType = column.editType ? column.editType : 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.modeValueAccessor.bind(this);\n            column.edit = {\n                params: {\n                    query: new Query(),\n                    dataSource: [\n                        { id: 1, text: this.parent.localeObj.getConstant('manual'), value: true },\n                        { id: 2, text: this.parent.localeObj.getConstant('auto'), value: false }\n                    ],\n                    fields: { text: 'text', value: 'value' }\n                }\n            };\n        }\n        this.bindTreeGridColumnProperties(column, isDefined);\n    };\n    GanttTreeGrid.prototype.changeLocale = function (data) {\n        var _this = this;\n        var filter = [];\n        var flatdatas = data.map(function (task) { return task.ganttProperties.predecessorsName; });\n        flatdatas.map(function (predecessorsName) {\n            if (!isNullOrUndefined(predecessorsName)) {\n                var value_1 = '';\n                var splitString_1 = predecessorsName.split(',');\n                splitString_1.map(function (splitvalue, index) {\n                    if (splitvalue.includes('FS')) {\n                        value_1 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('FF')) {\n                        value_1 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SS')) {\n                        value_1 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SF')) {\n                        value_1 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                });\n                filter.push(value_1);\n            }\n        });\n        return filter;\n    };\n    GanttTreeGrid.prototype.changeDelocale = function (dependency) {\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        if (!isNullOrUndefined(dependency)) {\n            var splitString_2 = dependency.split(',');\n            var value_2 = '';\n            splitString_2.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value_2 += splitvalue.replace(FF, 'FF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value_2 += splitvalue.replace(FS, 'FS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value_2 += splitvalue.replace(SS, 'SS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value_2 += splitvalue.replace(SF, 'SF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value_2 += splitvalue;\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_2;\n        }\n        return null;\n    };\n    /**\n     * Compose Resource columns\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeResourceColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (previousColumn && this.parent.isLocaleChanged) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        column.width = column.width ? column.width : 150;\n        column.type = 'string';\n        column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.resourceValueAccessor.bind(this);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {object} .\n     * @private\n     */\n    GanttTreeGrid.prototype.getResourceIds = function (data) {\n        var value = getValue(this.parent.taskFields.resourceInfo, data.taskData);\n        var id = [];\n        if (!isNullOrUndefined(value)) {\n            for (var i = 0; i < value.length; i++) {\n                id.push(typeof value[i] === 'object' ? value[i][this.parent.resourceFields.id] : value[i]);\n            }\n            return id;\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Create Id column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeIDColumn = function (column) {\n        var isProjectView = this.parent.viewType === 'ProjectView';\n        var lengthDataSource = this.parent.dataSource ? this.parent.dataSource['length'] : 0;\n        var taskIDName;\n        column.isPrimaryKey = isProjectView ? true : false;\n        if (this.parent.isLocaleChanged) {\n            var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n                return column.field === prevcolumn.field;\n            })[0];\n            if (previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('id');\n            }\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('id');\n        }\n        column.width = column.width ? column.width : 100;\n        for (var i = 0; i < lengthDataSource; i++) {\n            if (!isNullOrUndefined(this.parent.dataSource[i][this.parent.taskFields.id])) {\n                taskIDName = this.parent.dataSource[i][this.parent.taskFields.id];\n                break;\n            }\n        }\n        if (typeof (taskIDName) === 'string' || isNullOrUndefined(taskIDName)) {\n            if (this.parent.viewType === 'ResourceView') {\n                column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            }\n            else {\n                column.allowEditing = column.allowEditing ? column.allowEditing : true;\n            }\n            column.editType = column.editType ? column.editType : 'stringedit';\n        }\n        else {\n            column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        column.valueAccessor = isProjectView ? null : this.idValueAccessor.bind(this);\n    };\n    GanttTreeGrid.prototype.composeUniqueIDColumn = function (column) {\n        column.field = 'rowUniqueID';\n        column.isPrimaryKey = true;\n        column.headerText = 'UniqueID';\n        column.allowEditing = false;\n        column.visible = false;\n    };\n    /**\n     * Create progress column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeProgressColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (this.parent.isLocaleChanged && previousColumn) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        column.width = column.width ? column.width : 150;\n        column.editType = column.editType ? column.editType : 'numericedit';\n    };\n    /**\n     * @param {GanttColumnModel} newGanttColumn .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.bindTreeGridColumnProperties = function (newGanttColumn, isDefined) {\n        var treeGridColumn = {};\n        var ganttColumn = {};\n        for (var _i = 0, _a = Object.keys(newGanttColumn); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            treeGridColumn[prop] = ganttColumn[prop] = newGanttColumn[prop];\n        }\n        this.parent.columnByField[ganttColumn.field] = ganttColumn;\n        this.parent.ganttColumns.push(new GanttColumn(ganttColumn));\n        if (isDefined) {\n            this.treeGridColumns.push(treeGridColumn);\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.durationValueAccessor = function (field, data, column) {\n        if (!isNullOrUndefined(data) && !isNullOrUndefined(data.ganttProperties)) {\n            var ganttProp = data.ganttProperties;\n            return this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n        }\n        else if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            return this.parent.dataOperation.getDurationString(parseInt(data[this.parent.taskFields.duration], 10), this.parent.durationUnit);\n        }\n        return '';\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.dependencyValueAccessor = function (field, data, column) {\n        var _this = this;\n        if (data && data.ganttProperties && !isNullOrUndefined(data.ganttProperties.predecessorsName)) {\n            var value_3 = '';\n            var predecessorsName = data.ganttProperties.predecessorsName;\n            var splitString_3 = predecessorsName.split(',');\n            splitString_3.map(function (splitvalue, index) {\n                if (splitvalue.includes('FS')) {\n                    value_3 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('FF')) {\n                    value_3 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SS')) {\n                    value_3 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SF')) {\n                    value_3 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_3;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.resourceValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.resourceNames;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.workValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getWorkString(ganttProp.work, ganttProp.workUnit);\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.taskTypeValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.taskType;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.modeValueAccessor = function (field, data, column) {\n        if (data[field]) {\n            return 'Manual';\n        }\n        else {\n            return 'Auto';\n        }\n    };\n    GanttTreeGrid.prototype.idValueAccessor = function (field, data, column) {\n        return data.level === 0 ? 'R-' + data.ganttProperties.taskId : 'T-' + data.ganttProperties.taskId;\n    };\n    GanttTreeGrid.prototype.updateScrollTop = function (args) {\n        var newScrollTop = getValue('top', args);\n        this.treeGridElement.querySelector('.e-content').scrollTop = newScrollTop;\n        this.previousScroll.top = this.treeGridElement.querySelector('.e-content').scrollTop;\n    };\n    GanttTreeGrid.prototype.treeGridClickHandler = function (e) {\n        this.parent.notify('treeGridClick', e);\n    };\n    GanttTreeGrid.prototype.removeEventListener = function () {\n        this.parent.off('renderPanels', this.createContainer);\n        this.parent.off('chartScroll', this.updateScrollTop);\n        this.parent.off('destroy', this.destroy);\n        this.parent.treeGrid.off('reactTemplateRender', this.renderReactTemplate);\n    };\n    GanttTreeGrid.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.parent.treeGrid.element) {\n            this.parent.treeGrid.destroy();\n        }\n    };\n    return GanttTreeGrid;\n}());\nexport { GanttTreeGrid };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines the working time of the day in the project.\n */\nvar DayWorkingTime = /** @class */ (function (_super) {\n    __extends(DayWorkingTime, _super);\n    function DayWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"to\", void 0);\n    return DayWorkingTime;\n}(ChildProperty));\nexport { DayWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of add dialog.\n */\nvar AddDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(AddDialogFieldSettings, _super);\n    function AddDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], AddDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], AddDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return AddDialogFieldSettings;\n}(ChildProperty));\nexport { AddDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of edit dialog.\n */\nvar EditDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(EditDialogFieldSettings, _super);\n    function EditDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], EditDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], EditDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return EditDialogFieldSettings;\n}(ChildProperty));\nexport { EditDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures edit settings of Gantt.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Auto')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowTaskbarEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines event marker collection in Gantt.\n */\nvar EventMarker = /** @class */ (function (_super) {\n    __extends(EventMarker, _super);\n    function EventMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"day\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"cssClass\", void 0);\n    return EventMarker;\n}(ChildProperty));\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Predicate } from '@syncfusion/ej2-grids';\n/**\n * Configures the filtering behavior of the Gantt.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('Menu')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property('Parent')\n    ], FilterSettings.prototype, \"hierarchyMode\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the searching behavior of the Gantt.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('Parent')\n    ], SearchSettings.prototype, \"hierarchyMode\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines holidays of project.\n */\nvar Holiday = /** @class */ (function (_super) {\n    __extends(Holiday, _super);\n    function Holiday() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"to\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"cssClass\", void 0);\n    return Holiday;\n}(ChildProperty));\nexport { Holiday };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines labels for task, this will be placed right, left and inner side of taskbar.\n */\nvar LabelSettings = /** @class */ (function (_super) {\n    __extends(LabelSettings, _super);\n    function LabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"rightLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"leftLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"taskLabel\", void 0);\n    return LabelSettings;\n}(ChildProperty));\nexport { LabelSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the selection behavior of the Gantt.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures splitter position and splitter bar.\n */\nvar SplitterSettings = /** @class */ (function (_super) {\n    __extends(SplitterSettings, _super);\n    function SplitterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(-1)\n    ], SplitterSettings.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(4)\n    ], SplitterSettings.prototype, \"separatorSize\", void 0);\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('Default')\n    ], SplitterSettings.prototype, \"view\", void 0);\n    return SplitterSettings;\n}(ChildProperty));\nexport { SplitterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get task details from data source.\n */\nvar TaskFields = /** @class */ (function (_super) {\n    __extends(TaskFields, _super);\n    function TaskFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"hasChildMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"endDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"dependency\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"progress\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"child\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"milestone\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"duration\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"resourceInfo\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"expandState\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"notes\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"work\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"manual\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segments\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segmentId\", void 0);\n    return TaskFields;\n}(ChildProperty));\nexport { TaskFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Configures timeline settings of Gantt.\n */\nvar TimelineTierSettings = /** @class */ (function (_super) {\n    __extends(TimelineTierSettings, _super);\n    function TimelineTierSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TimelineTierSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('None')\n    ], TimelineTierSettings.prototype, \"unit\", void 0);\n    __decorate([\n        Property(1)\n    ], TimelineTierSettings.prototype, \"count\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineTierSettings.prototype, \"formatter\", void 0);\n    return TimelineTierSettings;\n}(ChildProperty));\nexport { TimelineTierSettings };\n/**\n * Configures the timeline settings property in the Gantt.\n */\nvar TimelineSettings = /** @class */ (function (_super) {\n    __extends(TimelineSettings, _super);\n    function TimelineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Week')\n    ], TimelineSettings.prototype, \"timelineViewMode\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"topTier\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"bottomTier\", void 0);\n    __decorate([\n        Property(33)\n    ], TimelineSettings.prototype, \"timelineUnitSize\", void 0);\n    __decorate([\n        Property(0)\n    ], TimelineSettings.prototype, \"weekStartDay\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineSettings.prototype, \"weekendBackground\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"updateTimescaleView\", void 0);\n    return TimelineSettings;\n}(ChildProperty));\nexport { TimelineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures tooltip settings for Gantt.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"taskbar\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"baseline\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"connectorLine\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"editing\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"timeline\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Collection } from '@syncfusion/ej2-base';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Gantt.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines the mapping properties to extract resource details from the resource collection.\n */\nvar ResourceFields = /** @class */ (function (_super) {\n    __extends(ResourceFields, _super);\n    function ResourceFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"unit\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"group\", void 0);\n    return ResourceFields;\n}(ChildProperty));\nexport { ResourceFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Configures the Loading Indicator of the Gantt.\n */\nvar LoadingIndicator = /** @class */ (function (_super) {\n    __extends(LoadingIndicator, _super);\n    function LoadingIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Spinner')\n    ], LoadingIndicator.prototype, \"indicatorType\", void 0);\n    return LoadingIndicator;\n}(ChildProperty));\nexport { LoadingIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { DayWorkingTime } from '../models/day-working-time';\n/**\n * Defines the working time of the day in the project.\n */\nvar WeekWorkingTime = /** @class */ (function (_super) {\n    __extends(WeekWorkingTime, _super);\n    function WeekWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], WeekWorkingTime.prototype, \"dayOfWeek\", void 0);\n    __decorate([\n        Collection([], DayWorkingTime)\n    ], WeekWorkingTime.prototype, \"timeRange\", void 0);\n    return WeekWorkingTime;\n}(ChildProperty));\nexport { WeekWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, isNullOrUndefined, extend, compile, getValue, setValue, SanitizeHtmlHelper, append } from '@syncfusion/ej2-base';\nimport { formatUnit, addClass } from '@syncfusion/ej2-base';\nimport { isScheduledTask, getTaskData } from '../base/utils';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as cls from '../base/css-constants';\nimport { DateProcessor } from '../base/date-processor';\n/**\n * To render the chart rows in Gantt\n */\nvar ChartRows = /** @class */ (function (_super) {\n    __extends(ChartRows, _super);\n    function ChartRows(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.taskBarHeight = 0;\n        _this.milestoneHeight = 0;\n        _this.milesStoneRadius = 0;\n        _this.baselineTop = 0;\n        _this.baselineHeight = 8;\n        _this.touchLeftConnectorpoint = '';\n        _this.touchRightConnectorpoint = '';\n        _this.dropSplit = false;\n        _this.refreshedTr = [];\n        _this.refreshedData = [];\n        _this.isUpdated = true;\n        _this.tagRegex = /<\\/?(\\w+)([^>]*?)(\\/?)>/g;\n        _this.attributeRegex = /([\\w-]+)\\s*=\\s*\"([^\"]*)\"/g;\n        _this.taskBaselineTemplateNode = null;\n        /**\n         * To trigger the touchmove.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchMove = function (event) {\n            _this.parent.ganttChartModule['ganttChartMove'](event);\n        };\n        /**\n         * To trigger the touchend.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchEnd = function (event) {\n            _this.parent.ganttChartModule['documentMouseUp'](event);\n        };\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initPublicProp = function () {\n        this.ganttChartTableBody = null;\n    };\n    ChartRows.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createChartTable, this);\n        this.parent.on('dataReady', this.initiateTemplates, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    ChartRows.prototype.refreshChartByTimeline = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        var prevDate = getValue('prevProjectStartDate', this.parent.dataOperation);\n        var isUpdated = false;\n        if (prevDate) {\n            isUpdated = prevDate.getTime() === this.parent.cloneProjectStartDate.getTime();\n        }\n        this.isUpdated = this.parent.isFromOnPropertyChange && isUpdated &&\n            getValue('mutableData', this.parent.treeGrid.grid.contentModule) ? true : false;\n        this.refreshGanttRows();\n        this.isUpdated = true;\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createChartTable = function () {\n        this.taskTable = createElement('table', {\n            className: cls.taskTable + ' ' + cls.zeroSpacing, id: 'GanttTaskTable' + this.parent.element.id,\n            styles: 'position: absolute;width:' + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + 'px;',\n            attrs: { cellspacing: '0.25px' }\n        });\n        var colgroup = createElement('colgroup');\n        var column = createElement('col', { styles: 'width:' + this.parent.timelineModule.totalTimelineWidth + 'px;' });\n        colgroup.appendChild(column);\n        this.taskTable.appendChild(colgroup);\n        this.ganttChartTableBody = createElement('tbody', {\n            id: this.parent.element.id + 'GanttTaskTableBody'\n        });\n        this.taskTable.appendChild(this.ganttChartTableBody);\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.taskTable);\n    };\n    ChartRows.prototype.initiateTemplates = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        this.initChartHelperPrivateVariable();\n        this.initializeChartTemplate();\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.renderChartRows = function () {\n        this.createTaskbarTemplate();\n        this.parent.isGanttChartRendered = true;\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {IIndicator} indicator .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorNode = function (indicator) {\n        var templateString = '<label class=\"' + cls.label + ' ' + cls.taskIndicatorDiv + '\" style=\"display: inline-flex; align-items: center; margin-top: 0; line-height:'\n            + (this.parent.rowHeight) + 'px;' +\n            (this.parent.enableRtl ? 'right:' : 'left:') + this.getIndicatorleft(indicator.date) + 'px;\"><i class=\"' + indicator.iconClass + '\" style=\"margin-right: 3px;\"></i> </label>';\n        return this.createDivElement(templateString);\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {Date | string} date .\n     * @returns {number} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorleft = function (date) {\n        date = this.parent.dateValidationModule.getDateFromFormat(date);\n        var left = this.parent.dataOperation.getTaskLeft(date, false);\n        return left;\n    };\n    /**\n     * To get child taskbar Node.\n     *\n     *  @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getChildTaskbarNode = function (i, rootElement) {\n        var childTaskbarNode = null;\n        var data = this.templateData;\n        var direction;\n        if (this.parent.enableRtl) {\n            direction = 'right:';\n        }\n        else {\n            direction = 'left:';\n        }\n        if (this.childTaskbarTemplateFunction) {\n            childTaskbarNode = this.childTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'TaskbarTemplate', this.getTemplateID('TaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var taskLabel = '';\n            var taskbarInnerDiv = void 0;\n            var progressDiv = void 0;\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) {\n                taskbarInnerDiv = this.createDivElement('<div class=\"' + cls.childTaskBarInnerDiv + ' ' + cls.traceChildTaskBar +\n                    ' ' + (data.ganttProperties.isAutoSchedule ? '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"width:' + data.ganttProperties.width + 'px;height:' +\n                    (this.taskBarHeight) + 'px; margin-top :-1px\"></div>');\n                progressDiv = this.createDivElement('<div class=\"' + cls.childProgressBarInnerDiv + ' ' +\n                    cls.traceChildProgressBar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildProgressBar) + '\"' +\n                    ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                    'width:' + data.ganttProperties.progressWidth + 'px;height:100%;' +\n                    'border-top-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;' +\n                    'border-bottom-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;\">' +\n                    '</div>');\n            }\n            var tempDiv = createElement('div');\n            if (this.taskLabelTemplateFunction && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                var taskLabelTemplateNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressDiv[0]);\n                if (taskLabelTemplateNode && taskLabelTemplateNode.length > 0) {\n                    append(taskLabelTemplateNode, tempDiv);\n                    labelString = tempDiv.innerHTML;\n                }\n            }\n            else {\n                var field = this.parent.labelSettings.taskLabel;\n                labelString = this.getTaskLabel(field);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? ('text-align:' +\n                        (this.parent.enableRtl ? 'right;' : 'left;')) : '') +\n                        +(this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        +(this.parent.viewType === 'ResourceView' ? (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n            }\n            var template = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0 ?\n                this.splitTaskbar(data, labelString) : (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) ? (taskLabel) :\n                (data.ganttProperties.startDate && !data.ganttProperties.endDate && !data.ganttProperties.duration) ? ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                    cls.unscheduledTaskbarLeft + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                    (data.ganttProperties.endDate && !data.ganttProperties.startDate && !data.ganttProperties.duration) ?\n                        ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                            cls.unscheduledTaskbarRight + ' ' + (data.ganttProperties.isAutoSchedule ?\n                            '' : cls.manualChildTaskBar) + '\"' +\n                            'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                        (data.ganttProperties.duration && !data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                            ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                                cls.unscheduledTaskbar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                                '' : cls.manualChildTaskBar) + '\"' +\n                                'style=\"' + direction + data.ganttProperties.left + 'px; width:' + data.ganttProperties.width + 'px;' +\n                                ' height:' + this.taskBarHeight + 'px;\"></div>') : '';\n            if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0) {\n                var progress = this.getSplitProgressResizerNode();\n                template = template + progress;\n            }\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate && data.ganttProperties.duration &&\n                (isNullOrUndefined(data.ganttProperties.segments) || (!isNullOrUndefined(data.ganttProperties.segments) &&\n                    data.ganttProperties.segments.length === 0))) {\n                if (template !== '' && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                    /* eslint-disable-next-line */\n                    var templateElement = this.createDivElement(template)[0];\n                    if (this.parent.disableHtmlEncode) {\n                        templateElement.innerText = labelString;\n                    }\n                    else {\n                        templateElement.innerHTML = labelString;\n                    }\n                    var childLabel = this.parent.labelSettings.taskLabel;\n                    if (childLabel && childLabel['elementRef']) {\n                        templateElement.appendChild(tempDiv);\n                    }\n                    progressDiv[0].appendChild(templateElement);\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                        !this.isTemplate(childLabel) &&\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                    }\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                        childLabel && !childLabel['elementRef'] && tempDiv.innerHTML !== '') {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].textContent = childLabel;\n                    }\n                }\n                if (!isNullOrUndefined(taskbarInnerDiv) && taskbarInnerDiv.length > 0) {\n                    taskbarInnerDiv[0].appendChild([].slice.call(progressDiv)[0]);\n                }\n                childTaskbarNode = taskbarInnerDiv;\n            }\n            else {\n                childTaskbarNode = this.createDivElement(template);\n            }\n        }\n        if (this.parent.enableRtl && !isNullOrUndefined(childTaskbarNode) && childTaskbarNode[0] && childTaskbarNode[0].querySelector('.e-task-label')) {\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (childTaskbarNode[0].querySelector('.e-gantt-child-progressbar')) {\n                childTaskbarNode[0].querySelector('.e-gantt-child-progressbar').style.textAlign = 'left';\n            }\n        }\n        return childTaskbarNode;\n    };\n    ChartRows.prototype.splitTaskbar = function (data, labelString) {\n        var splitTasks = '';\n        for (var i = 0; i < data.ganttProperties.segments.length; i++) {\n            var segment = data.ganttProperties.segments[i];\n            var progressBarVisible = void 0;\n            if (!segment.showProgress) {\n                progressBarVisible = 'hidden';\n            }\n            else {\n                progressBarVisible = 'initial';\n            }\n            var segmentPosition = (i === 0) ? 'e-segment-first' : (i === data.ganttProperties.segments.length - 1)\n                ? 'e-segment-last' : 'e-segment-inprogress';\n            splitTasks += (\n            //split taskbar\n            '<div class=\"' + cls.childTaskBarInnerDiv + ' ' + segmentPosition + ' ' + cls.traceChildTaskBar + ' ' +\n                ' e-segmented-taskbar' +\n                '\"style=\"width:' + segment.width + 'px;position: absolute;' + (this.parent.enableRtl ? 'right:' : 'left:') + segment.left + 'px;height:' +\n                (this.taskBarHeight) + 'px; overflow:' + progressBarVisible + ';\" data-segment-index = \"' + i + '\" aria-label = \"' +\n                this.generateSpiltTaskAriaLabel(segment, data.ganttProperties) + '\"> ' +\n                this.getSplitTaskbarLeftResizerNode() +\n                //split progress bar\n                '<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildProgressBar + ' ' +\n                '\" style=\"border-style:' + (segment.progressWidth ? 'solid;' : 'none;') +\n                'display:' + (segment.progressWidth >= 0 ? 'block;' : 'none;') +\n                'width:' + segment.progressWidth + 'px;height:100%;' + 'text-align:' + (this.parent.enableRtl ? 'left;' : 'right;') +\n                'border-top-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;' +\n                'border-bottom-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;\">' +\n                // progress label\n                '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                (this.taskBarHeight - 1) + 'px;display:' + (segment.showProgress ? 'inline;' : 'none;') +\n                'height:' + this.taskBarHeight + 'px;\">' + labelString + '</span>' +\n                '</div>' +\n                this.getSplitTaskbarRightResizerNode(segment) +\n                '</div></div>');\n        }\n        return splitTasks;\n    };\n    ChartRows.prototype.getSplitTaskbarLeftResizerNode = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitTaskbarRightResizerNode = function (segment) {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -10;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (segment.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitProgressResizerNode = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return template;\n    };\n    ChartRows.prototype.getSegmentIndex = function (splitStartDate, record) {\n        var segmentIndex = -1;\n        var ganttProp = record.ganttProperties;\n        var segments = ganttProp.segments;\n        if (!isNullOrUndefined(segments)) {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n            var length_1 = segments.length;\n            for (var i = 0; i < length_1; i++) {\n                var segment = segments[i];\n                // To find if user tend to split the start date of a main taskbar\n                // purpose of this to restrict the split action\n                if (splitStartDate.getTime() === ganttProp.startDate.getTime()) {\n                    this.dropSplit = true;\n                    segmentIndex = 0;\n                    // To find the if user tend to split the first date of already segmented task.\n                    // purpose of this to move on day of a segment\n                }\n                else if (splitStartDate.getTime() === segment.startDate.getTime()) {\n                    this.dropSplit = true;\n                    var sDate = segment.startDate;\n                    sDate.setDate(sDate.getDate() + 1);\n                    sDate = segment.startDate = this.parent.dataOperation.checkStartDate(sDate, ganttProp, false);\n                    segment.startDate = sDate;\n                    var eDate = segment.endDate;\n                    eDate = this.parent.dataOperation.getEndDate(sDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    segment.endDate = eDate;\n                    if (i === segments.length - 1) {\n                        this.parent.setRecordValue('endDate', eDate, ganttProp, true);\n                    }\n                    this.incrementSegments(segments, i, record);\n                    segmentIndex = segment.segmentIndex;\n                    // To find if the user tend to split the segment and find the segment index\n                }\n                else {\n                    segment.endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    if (splitStartDate.getTime() >= segment.startDate.getTime() && splitStartDate.getTime() <= segment.endDate.getTime()) {\n                        segmentIndex = segment.segmentIndex;\n                    }\n                }\n                this.parent.setRecordValue('segments', ganttProp.segments, ganttProp, true);\n            }\n        }\n        if (segmentIndex === -1) {\n            this.dropSplit = true;\n        }\n        return segmentIndex;\n    };\n    ChartRows.prototype.mergeTask = function (taskId, segmentIndexes) {\n        var mergeArrayLength = segmentIndexes.length;\n        var taskFields = this.parent.taskFields;\n        var mergeData = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                if (this.parent.editModule && this.parent.editModule.taskbarEditModule['isDragged'] && this.parent.getUndoActions().length > 0) {\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var rec = this.parent.previousFlatData[mergeData.index];\n                details['modifiedRecords'] = extend([], [rec], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var segments = mergeData.ganttProperties.segments;\n        segmentIndexes = segmentIndexes.sort(function (a, b) {\n            return b.firstSegmentIndex - a.firstSegmentIndex;\n        });\n        for (var arrayLength = 0; arrayLength < mergeArrayLength; arrayLength++) {\n            var firstSegment = segments[segmentIndexes[arrayLength].firstSegmentIndex];\n            var secondSegment = segments[segmentIndexes[arrayLength].secondSegmentIndex];\n            var duration = firstSegment.duration + secondSegment.duration;\n            var endDate = this.parent.dataOperation.getEndDate(firstSegment.startDate, duration, mergeData.ganttProperties.durationUnit, mergeData.ganttProperties, false);\n            var segment = {\n                startDate: firstSegment.startDate,\n                endDate: endDate,\n                duration: duration\n            };\n            var insertIndex = segmentIndexes[arrayLength].firstSegmentIndex;\n            segments.splice(insertIndex, 2, segment);\n            this.parent.setRecordValue('segments', segments, mergeData.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            if (segments.length === 1) {\n                this.parent.setRecordValue('endDate', endDate, mergeData.ganttProperties, true);\n                this.parent.setRecordValue('EndDate', endDate, mergeData, true);\n                this.parent.setRecordValue('segments', null, mergeData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            }\n            else if (mergeData.ganttProperties.endDate !== segments[segments.length - 1].endDate) {\n                this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, mergeData.ganttProperties, true);\n            }\n        }\n        var segmentFields;\n        if (!isNullOrUndefined(mergeData[taskFields.segments]) && !isNullOrUndefined(mergeData[taskFields.segments][0])) {\n            segmentFields = Object.keys(mergeData[taskFields.segments][0]);\n        }\n        var modifiedSegments = [];\n        for (var i = 0; i < segments.length; i++) {\n            if (!isNullOrUndefined(segmentFields) && !modifiedSegments[i]) {\n                modifiedSegments[i] = {};\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('StartDate') !== -1) {\n                modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('EndDate') !== -1) {\n                modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('Duration') !== -1) {\n                modifiedSegments[i][taskFields.duration] = segments[i].duration;\n            }\n        }\n        mergeData[taskFields.segments] = modifiedSegments;\n        this.updateSegment(mergeData.ganttProperties.segments, taskId);\n        this.refreshChartAfterSegment(mergeData, 'mergeSegment');\n    };\n    ChartRows.prototype.updateSegment = function (segmentData, taskId) {\n        var _this = this;\n        if (!isNullOrUndefined(this.parent.taskFields.segmentId) && this.parent.segmentData.length > 0) {\n            if (!isNullOrUndefined(segmentData)) {\n                var segmentsArray = [];\n                for (var i = 0; i < segmentData.length; i++) {\n                    var segmentObj = {};\n                    var segment = segmentData[i];\n                    segmentObj[this.parent.taskFields.segmentId] = taskId;\n                    if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n                        segmentObj[this.parent.taskFields.startDate] = segment.startDate;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        segmentObj[this.parent.taskFields.duration] = segment.duration;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n                        segmentObj[this.parent.taskFields.endDate] = segment.endDate;\n                    }\n                    segmentsArray.push(segmentObj);\n                }\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                for (var i = 0; i < segmentsArray.length; i++) {\n                    filterData.push(segmentsArray[i]);\n                }\n                this.parent.segmentData = filterData;\n            }\n            else {\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                this.parent.segmentData = filterData;\n            }\n        }\n    };\n    ChartRows.prototype.refreshChartAfterSegment = function (data, requestType) {\n        this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(data, false), data.ganttProperties, true);\n        this.parent.dataOperation.updateMappingData(data, 'segments');\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateParentItems(data);\n        if (data.ganttProperties.sharedTaskUniqueIds && data.ganttProperties.sharedTaskUniqueIds.length > 1) {\n            this.parent.editModule['updateSharedTask'](data);\n        }\n        if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n            this.parent.predecessorModule.updatedRecordsDateByPredecessor();\n            this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.flatData);\n            this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.flatData);\n            if (data.parentItem && this.parent.getParentTask(data.parentItem).ganttProperties.isAutoSchedule\n                && this.parent.isInPredecessorValidation) {\n                this.parent.dataOperation.updateParentItems(data.parentItem);\n            }\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        else {\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        var tr = this.ganttChartTableBody.querySelectorAll('tr')[this.parent.currentViewData.indexOf(data)];\n        var args = {\n            requestType: requestType,\n            rowData: data,\n            modifiedRecords: this.parent.editedRecords,\n            modifiedTaskData: getTaskData(this.parent.editedRecords, true)\n        };\n        this.triggerQueryTaskbarInfoByIndex(tr, data);\n        if (this.parent.selectionModule) {\n            this.parent.selectionModule.clearSelection();\n        }\n        var segments = args.rowData.taskData[this.parent.taskFields.segments];\n        if (this.parent.timezone && segments != null) {\n            for (var i = 0; i < segments.length; i++) {\n                segments[i][this.parent.taskFields.startDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].startDate, this.parent.timezone);\n                if (this.parent.taskFields.endDate) {\n                    segments[i][this.parent.taskFields.endDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].endDate, this.parent.timezone);\n                }\n            }\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        setValue('isEdit', false, this.parent.contextMenuModule);\n        setValue('isEdit', false, this.parent);\n    };\n    /**\n     * public method to split task bar.\n     *\n     * @public\n     */\n    ChartRows.prototype.splitTask = function (taskId, splitDates) {\n        var taskFields = this.parent.taskFields;\n        var splitDate = splitDates;\n        var splitRecord = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                details['modifiedRecords'] = extend([], [splitRecord], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var ganttProp = splitRecord.ganttProperties;\n        this.dropSplit = false;\n        var segmentIndex = -1;\n        var segments = ganttProp.segments;\n        if (isNullOrUndefined(splitDates.length) || splitDates.length < 0) {\n            var splitStartDate = this.parent.dataOperation.checkStartDate(splitDate, ganttProp, false);\n            if (splitStartDate.getTime() !== ganttProp.startDate.getTime()) {\n                if (ganttProp.isAutoSchedule) {\n                    if (!isNullOrUndefined(segments) && segments.length > 0) {\n                        segmentIndex = this.getSegmentIndex(splitStartDate, splitRecord);\n                    }\n                    //check atleast one day difference is there to split\n                    if (this.dropSplit === false && splitDate.getTime() > ganttProp.startDate.getTime() &&\n                        splitDate.getTime() < ganttProp.endDate.getTime()) {\n                        segments = segmentIndex !== -1 ? segments : [];\n                        var startDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].startDate : new Date(ganttProp.startDate.getTime());\n                        var endDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].endDate : new Date(ganttProp.endDate.getTime());\n                        var segmentDuration = this.parent.dataOperation.getDuration(startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                        this.parent.setRecordValue('segments', this.splitSegmentedTaskbar(startDate, endDate, splitDate, segmentIndex, segments, splitRecord, segmentDuration), ganttProp, true);\n                        var modifiedSegments = [];\n                        for (var i = 0; i < segments.length; i++) {\n                            if (!modifiedSegments[i]) {\n                                modifiedSegments[i] = {};\n                            }\n                            modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n                            modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n                            modifiedSegments[i][taskFields.duration] = segments[i].duration;\n                        }\n                        splitRecord[taskFields.segments] = modifiedSegments;\n                        if (segmentIndex !== -1) {\n                            this.incrementSegments(segments, segmentIndex + 1, splitRecord);\n                        }\n                        this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, ganttProp, true);\n                        if (this.parent.taskFields.endDate) {\n                            this.parent.dataOperation.updateMappingData(splitRecord, 'endDate');\n                        }\n                    }\n                    this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n                    this.refreshChartAfterSegment(splitRecord, 'splitTaskbar');\n                }\n            }\n        }\n        else {\n            splitDates.sort(function (a, b) {\n                return a.getTime() - b.getTime();\n            });\n            this.parent.setRecordValue('segments', this.constructSegments(splitDates, splitRecord.ganttProperties), splitRecord.ganttProperties, true);\n            this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n            this.refreshChartAfterSegment(splitRecord, 'splitTask');\n        }\n    };\n    ChartRows.prototype.constructSegments = function (dates, taskData) {\n        var segmentsArray = [];\n        var segment;\n        var startDate = new Date();\n        var endDate;\n        var duration;\n        for (var i = 0; i < dates.length + 1; i++) {\n            startDate = i === 0 ? taskData.startDate : startDate;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, taskData, false);\n            endDate = i !== dates.length ? new Date(dates[i].getTime()) > taskData.endDate ? taskData.endDate\n                : new Date(dates[i].getTime()) : taskData.endDate;\n            endDate = this.parent.dataOperation.checkEndDate(endDate, taskData, false);\n            duration = this.parent.dataOperation.getDuration(startDate, endDate, taskData.durationUnit, taskData.isAutoSchedule, taskData.isMilestone);\n            if (endDate.getTime() >= startDate.getTime()) {\n                segment = {\n                    startDate: startDate,\n                    endDate: endDate,\n                    duration: duration\n                };\n                segmentsArray.push(segment);\n            }\n            if (i === dates.length) {\n                break;\n            }\n            startDate = new Date(dates[i].getTime());\n            startDate.setDate(dates[i].getDate() + 1);\n        }\n        return segmentsArray;\n    };\n    ChartRows.prototype.splitSegmentedTaskbar = function (startDate, endDate, splitDate, segmentIndex, segments, ganttData, segmentDuration) {\n        var ganttProp = ganttData.ganttProperties;\n        var checkClickState;\n        var endDateState;\n        if (this.parent.includeWeekend) {\n            checkClickState = -1;\n        }\n        else {\n            checkClickState = this.parent.nonWorkingDayIndex.indexOf(splitDate.getDay());\n        }\n        var increment = checkClickState === -1 ? 0 : checkClickState === 0 ? 1 : checkClickState === 1 ? 1 : 2;\n        startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n        var segmentEndDate = new Date(splitDate.getTime());\n        segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n        for (var i = 0; i < 2; i++) {\n            if (this.parent.weekWorkingTime.length > 0) {\n                var dayEndTime = this.parent['getCurrentDayEndTime'](segmentEndDate);\n                this.setTime(dayEndTime, segmentEndDate);\n            }\n            var segment = {\n                startDate: startDate,\n                endDate: segmentEndDate,\n                duration: this.parent.dataOperation.getDuration(startDate, segmentEndDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone),\n                offsetDuration: 1\n            };\n            if (this.parent.includeWeekend) {\n                endDateState = -1;\n            }\n            else {\n                endDateState = this.parent.nonWorkingDayIndex.indexOf(segmentEndDate.getDay());\n            }\n            if (segmentIndex !== -1) {\n                segments.splice(segmentIndex, 1);\n                segmentIndex = -1;\n            }\n            segments.push(segment);\n            var mode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n            if (mode === 'Hour' || mode === 'Minutes') {\n                startDate = new Date(splitDate.getTime());\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                var count = this.parent.timelineModule.customTimelineSettings.bottomTier.count;\n                var mode_1 = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n                var timeIncrement = this.parent.timelineModule.getIncrement(startDate, count, mode_1);\n                var newTime = startDate.getTime() + timeIncrement;\n                startDate.setTime(newTime + increment);\n                segmentEndDate = new Date(endDate.getTime());\n                timeIncrement = this.parent.timelineModule.getIncrement(segmentEndDate, count, mode_1);\n                newTime = segmentEndDate.getTime() + timeIncrement;\n                segmentEndDate.setTime(newTime + increment);\n            }\n            else {\n                startDate = new Date(splitDate.getTime());\n                startDate.setDate(startDate.getDate() + 1 + increment);\n                var dayStartTime = this.parent['getCurrentDayStartTime'](startDate);\n                this.setTime(dayStartTime, startDate);\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                if (!this.parent.taskFields.duration && increment <= 0) {\n                    startDate.setDate(startDate.getDate() + 1);\n                }\n                segmentEndDate = new Date(endDate.getTime());\n                if (segmentEndDate < startDate) {\n                    segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n                }\n                if (this.isOnHolidayOrWeekEnd(segmentEndDate, true)) {\n                    do {\n                        segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n                    } while (this.isOnHolidayOrWeekEnd(segmentEndDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    segmentEndDate = this.getNextWorkingDay(segmentEndDate);\n                }\n            }\n            if (endDateState !== -1) {\n                var diff = segmentDuration - segment.duration;\n                segmentEndDate =\n                    this.parent.dataOperation.getEndDate(startDate, diff, ganttProp.durationUnit, ganttProp, false);\n            }\n            else {\n                segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        return segments;\n    };\n    ChartRows.prototype.incrementSegments = function (segments, segmentIndex, ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        for (var i = segmentIndex + 1; i < segments.length; i++) {\n            var segment = segments[i];\n            var startDate = i !== 0 ? new Date(segments[i - 1].endDate.getTime()) : new Date(segment.startDate.getTime());\n            this.parent.dataOperation['fromSegments'] = true;\n            startDate = this.parent.dataOperation.getEndDate(startDate, segment.offsetDuration, ganttProp.durationUnit, ganttProp, false);\n            this.parent.dataOperation['fromSegments'] = false;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n            segment.startDate = startDate;\n            var endDate = segment.endDate = this.parent.dataOperation.getEndDate(startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n            segment.endDate = endDate;\n            if (i === segments.length - 1) {\n                this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                if (this.parent.taskFields.endDate) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n                }\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        this.parent.setRecordValue('segments', segments, ganttProp, true);\n        this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n    };\n    ChartRows.prototype.calculateLeftValue = function (rowHeight) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if ((!isNullOrUndefined(this.parent.taskbarHeight) && this.parent.taskbarHeight <= defaultTaskbarHeight) ||\n            (isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36)) {\n            return 1;\n        }\n        else {\n            if (rowHeight <= 36) {\n                return 1;\n            }\n            return (-1 / 12) * (rowHeight - 36) + 1;\n        }\n    };\n    /**\n     * To get milestone node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneNode = function (i, rootElement) {\n        var milestoneNode = null;\n        var data = this.templateData;\n        var rowHeight = this.parent.rowHeight;\n        var leftValue = this.calculateLeftValue(rowHeight);\n        if (this.milestoneTemplateFunction) {\n            milestoneNode = this.milestoneTemplateFunction(extend({ index: i }, data), this.parent, 'MilestoneTemplate', this.getTemplateID('MilestoneTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var template = '<div class=\"' + cls.traceMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;position:absolute;transform: rotate(45deg);left:' + leftValue + 'px;\"> </div>';\n            milestoneNode = this.createDivElement(template);\n        }\n        return milestoneNode;\n    };\n    /**\n     * To get task baseline Node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTaskBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + data.ganttProperties.baselineLeft + 'px;' +\n            'width:' + data.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.updateTaskBaselineNode = function (childData) {\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + childData.ganttProperties.baselineLeft + 'px;' +\n            'width:' + childData.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get milestone baseline node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneBaselineNode = function () {\n        var data = this.templateData;\n        var baselineMilestoneHeight = this.parent.renderBaseline ? 5 : 2;\n        var template = '<div class=\"' + cls.baselineMilestoneContainer + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;position:absolute;transform:rotate(45deg);' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.parent.enableRtl ? (data.ganttProperties.left -\n            (this.milestoneHeight / 2) + 3) : (data.ganttProperties.baselineLeft - (this.milestoneHeight / 2) + 1)) + 'px;' + (this.baselineColor ?\n            'background-color: ' + this.baselineColor + ';' : '') + 'margin-top:' + ((-Math.floor(this.parent.rowHeight - this.milestoneMarginTop) + baselineMilestoneHeight) + 2) + 'px\"> </div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get left label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getLeftLabelNode = function (i) {\n        var leftLabelNode = this.leftLabelContainer();\n        if (this.generateTaskLabelAriaLabel('left') !== '') {\n            leftLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('left'));\n        }\n        var leftLabelTemplateNode = null;\n        if (this.leftTaskLabelTemplateFunction) {\n            leftLabelTemplateNode = this.leftTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'LeftLabelTemplate', this.getTemplateID('LeftLabelTemplate'), false, undefined, leftLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.leftLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                }\n            }\n        }\n        if (leftLabelTemplateNode && leftLabelTemplateNode.length > 0) {\n            if (leftLabelTemplateNode[0]['data'] === 'null') {\n                leftLabelTemplateNode[0]['data'] = '';\n            }\n            append(leftLabelTemplateNode, leftLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            leftLabelNode[0].style.paddingLeft = '25px';\n            leftLabelNode[0].style.paddingRight = '0px';\n        }\n        return leftLabelNode;\n    };\n    ChartRows.prototype.getLableText = function (labelString, labelDiv) {\n        var leftLabelHeight = this.parent.renderBaseline ?\n            ((this.parent.rowHeight - this.taskBarHeight) / 2) : this.taskBarMarginTop;\n        var templateString = createElement('div', {\n            className: labelDiv, styles: 'height:' + (this.taskBarHeight) + 'px;' +\n                'margin-top:' + leftLabelHeight + 'px;'\n        });\n        var spanElem = createElement('span', { className: cls.label });\n        var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n        spanElem[property] = labelString;\n        templateString.appendChild(spanElem);\n        var div = createElement('div');\n        div.appendChild(templateString);\n        return div.childNodes;\n    };\n    /**\n     * To get right label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getRightLabelNode = function (i) {\n        var rightLabelNode = this.rightLabelContainer();\n        if (this.generateTaskLabelAriaLabel('right') !== '') {\n            rightLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('right'));\n        }\n        var rightLabelTemplateNode = null;\n        if (this.rightTaskLabelTemplateFunction) {\n            rightLabelTemplateNode = this.rightTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'RightLabelTemplate', this.getTemplateID('RightLabelTemplate'), false, undefined, rightLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.rightLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                }\n            }\n        }\n        if (rightLabelTemplateNode && rightLabelTemplateNode.length > 0) {\n            if (rightLabelTemplateNode[0]['data'] === 'null') {\n                rightLabelTemplateNode[0]['data'] = '';\n            }\n            append(rightLabelTemplateNode, rightLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            rightLabelNode[0].style.marginLeft = '0px';\n            rightLabelNode[0].style.paddingRight = '25px';\n        }\n        return rightLabelNode;\n    };\n    ChartRows.prototype.getManualTaskbar = function () {\n        var data = this.templateData;\n        var taskbarHeight = (this.taskBarHeight / 2 - 1);\n        var innerDiv = (data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) ?\n            ('<div class=\"' + cls.manualParentTaskBar + '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight / 5 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') :\n            (!data.ganttProperties.startDate && !data.ganttProperties.endDate && data.ganttProperties.duration) ?\n                ('<div class=\"' + cls.manualParentTaskBar + ' ' + cls.traceManualUnscheduledTask +\n                    '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                    (taskbarHeight / 5 + 1) + 'px;border-left-width:' + taskbarHeight / 5 +\n                    'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') : ('<div class=\"' +\n                cls.manualParentTaskBar + ' ' + (data.ganttProperties.startDate ? cls.unscheduledTaskbarLeft : cls.unscheduledTaskbarRight) +\n                '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight * 2 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>');\n        var childEle = innerDiv + ((data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) || data.ganttProperties.duration ? '<div class=\"e-gantt-manualparenttaskbar-left\" style=' +\n            (this.parent.enableRtl ? 'margin-right:0px;' : '') + '\"height:' + ((taskbarHeight / 5) + 8) + 'px;border-left-width:' + taskbarHeight / 5 +\n            'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>' +\n            '<div class=\"e-gantt-manualparenttaskbar-right\" style=\"' + (this.parent.enableRtl ? 'margin-right:-8px;' : '') +\n            (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.width - Math.floor(((taskbarHeight / 5) + 8) / 5)) + 'px;height:' +\n            ((taskbarHeight / 5) + 8) + 'px;border-right-width:' + taskbarHeight / 5 + 'px;border-bottom:' +\n            taskbarHeight / 5 + 'px solid transparent;\">' + '</div></div>' : '');\n        var template = '<div class=\"' + cls.manualParentMainContainer + '\"' +\n            'style=' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left - data.ganttProperties.autoLeft) + 'px;' +\n            'width:' + data.ganttProperties.width + 'px;' +\n            'height:' + taskbarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;') + '</div>';\n        var milestoneTemplate = '<div class=\"' + cls.manualParentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) +\n            'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:'\n            + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n        return this.createDivElement((data.ganttProperties.duration === 0 && data.hasChildRecords &&\n            !data.ganttProperties.isAutoSchedule) ? milestoneTemplate + childEle : template + childEle);\n    };\n    /**\n     * To get parent taskbar node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getParentTaskbarNode = function (i, rootElement) {\n        var parentTaskbarNode = null;\n        var data = this.templateData;\n        if (this.parentTaskbarTemplateFunction) {\n            parentTaskbarNode = this.parentTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'ParentTaskbarTemplate', this.getTemplateID('ParentTaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var labelDiv = void 0;\n            var tHeight = this.taskBarHeight / 5;\n            var template = this.createDivElement('<div class=\"' + cls.parentTaskBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentTaskBar + '\"' +\n                ' style=\"width:' + (data.ganttProperties.isAutoSchedule ? data.ganttProperties.width :\n                data.ganttProperties.autoWidth) + 'px;height:' + (data.ganttProperties.isAutoSchedule ? this.taskBarHeight :\n                (tHeight * 3)) + 'px;margin-top:' + (data.ganttProperties.isAutoSchedule ? -1 :\n                (tHeight * 2)) + 'px; \">' +\n                '</div>');\n            var progressBarInnerDiv = this.createDivElement('<div class=\"' + cls.parentProgressBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentProgressBar + '\"' +\n                ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                'width:' + data.ganttProperties.progressWidth + 'px;' +\n                'border-top-right-radius:' + this.getBorderRadius(data) + 'px;' +\n                'border-bottom-right-radius:' + this.getBorderRadius(data) + 'px;height:100%;\"></div>');\n            var div = createElement('div');\n            if (this.taskLabelTemplateFunction) {\n                var parentTaskLabelNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressBarInnerDiv[0]);\n                if (parentTaskLabelNode && parentTaskLabelNode.length > 0) {\n                    append(parentTaskLabelNode, div);\n                    labelString = div.innerHTML;\n                }\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    labelDiv = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (data[this.parent.taskFields.manual] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) :\n                            (this.taskBarHeight - 1)) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' + 'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    labelDiv = '<span class=\"' +\n                        cls.taskLabel + '\" style=\"line-height:' +\n                        (data[this.parent.taskFields.manual] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) : (this.taskBarHeight - 1)) + 'px;' +\n                        (this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? 'display: inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                var labelElement = this.createDivElement(labelDiv)[0];\n                if (this.parent.disableHtmlEncode) {\n                    labelElement.innerText = labelString;\n                }\n                else {\n                    labelElement.innerHTML = labelString;\n                }\n                var parentLabel = this.parent.labelSettings.taskLabel;\n                if (parentLabel && parentLabel['elementRef']) {\n                    labelElement.appendChild(div);\n                }\n                progressBarInnerDiv[0].appendChild(labelElement);\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                    !this.isTemplate(parentLabel) &&\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                }\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                    parentLabel && !parentLabel['elementRef'] && div.innerHTML !== '') {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent = parentLabel;\n                }\n            }\n            var milestoneTemplate = '<div class=\"' + cls.parentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:' + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n            template[0].appendChild([].slice.call(progressBarInnerDiv)[0]);\n            parentTaskbarNode = data.ganttProperties.isMilestone ?\n                this.createDivElement(data.ganttProperties.isAutoSchedule ? milestoneTemplate : '') : template;\n        }\n        if (this.parent.enableRtl && parentTaskbarNode[0] && parentTaskbarNode[0].querySelector('.e-task-label')) {\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar')) {\n                parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar').style.textAlign = 'left';\n            }\n        }\n        return parentTaskbarNode;\n    };\n    /**\n     * To get taskbar row('TR') node\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTableTrNode = function (i) {\n        var _this = this;\n        var table = createElement('table');\n        var className = (this.parent.gridLines === 'Horizontal' || this.parent.gridLines === 'Both') ?\n            'e-chart-row-border' : '';\n        /* eslint-disable-next-line */\n        var activecls;\n        var rows;\n        if (this.parent.treeGridModule.isPersist) {\n            setTimeout(function () {\n                if (!isNullOrUndefined(_this.parent.treeGrid.grid) && !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule) &&\n                    !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule.getRows())) {\n                    rows = _this.parent.treeGrid.grid.contentModule.getRows()[i];\n                    if (rows && rows.isSelected) {\n                        activecls = 'e-active';\n                    }\n                    else {\n                        activecls = '';\n                    }\n                }\n            }, 0);\n        }\n        else {\n            rows = this.parent.treeGrid.grid.contentModule.getRows()[i];\n            if (rows && rows.isSelected) {\n                activecls = 'e-active';\n            }\n            else {\n                activecls = '';\n            }\n        }\n        var tbody = table.querySelector('tbody');\n        if (!tbody) {\n            tbody = document.createElement('tbody');\n            table.appendChild(tbody);\n        }\n        var tableRow = document.createElement('tr');\n        tableRow.classList.add(this.getRowClassName(this.templateData), cls.chartRow);\n        if (activecls) {\n            tableRow.classList.add(activecls);\n        }\n        tableRow.style.display = this.getExpandDisplayProp(this.templateData);\n        tableRow.style.height = this.parent.rowHeight + \"px\";\n        var tableCell = document.createElement('td');\n        if (className) {\n            tableCell.classList.add(cls.chartRowCell, className);\n        }\n        else {\n            tableCell.classList.add(cls.chartRowCell);\n        }\n        tableCell.style.width = this.parent.timelineModule.totalTimelineWidth + \"px\";\n        tableRow.appendChild(tableCell);\n        tbody.appendChild(tableRow);\n        return table.childNodes;\n    };\n    /**\n     * To initialize chart templates.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initializeChartTemplate = function () {\n        if (!isNullOrUndefined(this.parent.parentTaskbarTemplate)) {\n            this.parentTaskbarTemplateFunction = this.templateCompiler(this.parent.parentTaskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.leftLabel) &&\n            this.isTemplate(this.parent.labelSettings.leftLabel)) {\n            this.leftTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.leftLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.rightLabel) &&\n            this.isTemplate(this.parent.labelSettings.rightLabel)) {\n            this.rightTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.rightLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) &&\n            this.isTemplate(this.parent.labelSettings.taskLabel)) {\n            this.taskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.taskLabel);\n        }\n        if (!isNullOrUndefined(this.parent.taskbarTemplate)) {\n            this.childTaskbarTemplateFunction = this.templateCompiler(this.parent.taskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.milestoneTemplate)) {\n            this.milestoneTemplateFunction = this.templateCompiler(this.parent.milestoneTemplate);\n        }\n    };\n    ChartRows.prototype.createDivElement = function (template) {\n        var div = document.createElement('div');\n        var elements = this.parseTemplate(template);\n        elements.forEach(function (element) { return div.appendChild(element); });\n        return div.childNodes;\n    };\n    // Parses the HTML string into an array of HTMLElement objects.\n    ChartRows.prototype.parseTemplate = function (htmlString) {\n        var _this = this;\n        var elementTree = this.parseHtmlStringToElementTree(htmlString);\n        return elementTree.map(function (element) { return _this.constructElementFromNode(element); });\n    };\n    // Parses the HTML string into a tree of elements using a regular expression.\n    ChartRows.prototype.parseHtmlStringToElementTree = function (html) {\n        var result = [];\n        var stack = [];\n        var match;\n        var lastIndex = 0;\n        /* eslint-disable-next-line */\n        while ((match = this.tagRegex.exec(html)) !== null) {\n            var fullMatch = match[0], tagName = match[1], _a = match[2], attributeString = _a === void 0 ? '' : _a;\n            var innerText = html.substring(lastIndex, match.index).trim();\n            lastIndex = this.tagRegex.lastIndex;\n            var element = { tagName: tagName, attributes: attributeString, children: [] };\n            if (fullMatch.startsWith('</')) {\n                if (stack.length > 0 && innerText) {\n                    stack[stack.length - 1].value = innerText;\n                }\n                stack.pop();\n            }\n            else {\n                if (!fullMatch.endsWith('/>')) {\n                    if (stack.length > 0) {\n                        stack[stack.length - 1].children.push(element);\n                    }\n                    else {\n                        result.push(element);\n                    }\n                    stack.push(element);\n                }\n            }\n        }\n        return result;\n    };\n    // Constructs an HTMLElement from the given node object by setting its attributes and recursively adding children.\n    ChartRows.prototype.constructElementFromNode = function (node) {\n        var _this = this;\n        var element = document.createElement(node.tagName);\n        if (node.value) {\n            element.textContent = node.value;\n        }\n        this.setAttributes(element, node.attributes);\n        node.children.forEach(function (childNode) {\n            var childElement = _this.constructElementFromNode(childNode);\n            element.appendChild(childElement);\n        });\n        return element;\n    };\n    // Sets the attributes of an element based on the parsed attribute string.\n    ChartRows.prototype.setAttributes = function (element, attributesString) {\n        var match;\n        function fixStyleQuotes(htmlString) {\n            return htmlString.replace(/style=([^\"'\\s][^ >]*)/g, 'style=\"$1\"');\n        }\n        attributesString = fixStyleQuotes(attributesString);\n        /* eslint-disable-next-line */\n        while ((match = this.attributeRegex.exec(attributesString)) !== null) {\n            var key = match[1], value = match[2];\n            if (key === 'class') {\n                element.className = value;\n            }\n            else if (key === 'style') {\n                element.style.cssText = this.cleanStyleString(value);\n            }\n            else {\n                element.setAttribute(key, value);\n            }\n        }\n    };\n    // Cleans and formats the style string to ensure proper CSS syntax.\n    ChartRows.prototype.cleanStyleString = function (style) {\n        return style.split(';').map(function (s) { return s.trim(); }).filter(Boolean).join('; ');\n    };\n    ChartRows.prototype.isTemplate = function (template) {\n        var result = false;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            if (template === this.parent.ganttColumns[i].field) {\n                result = true;\n                break;\n            }\n        }\n        if (typeof template !== 'string' || template.indexOf('#') === 0 || template.indexOf('<') > -1\n            || template.indexOf('$') > -1 || !result) {\n            result = true;\n        }\n        else {\n            result = false;\n        }\n        return result;\n    };\n    /**\n     * @param {string} templateName .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTemplateID = function (templateName) {\n        var ganttID = this.parent.element.id;\n        return ganttID + templateName;\n    };\n    ChartRows.prototype.leftLabelContainer = function () {\n        var template = '<div class=\"' + ((this.leftTaskLabelTemplateFunction) ? cls.leftLabelTempContainer :\n            cls.leftLabelContainer) + ' ' + '\" tabindex=\"-1\" role=\"term\" style=\"height:' +\n            (this.parent.rowHeight - 2) + 'px;width:' + this.taskNameWidth(this.templateData) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.taskbarContainer = function () {\n        var data = this.templateData;\n        var manualParent = this.parent.editModule && this.parent.editSettings.allowTaskbarEditing &&\n            this.parent.editModule.taskbarEditModule.taskBarEditAction === 'ParentResizing' ?\n            true : false;\n        var template = '<div class=\"' + cls.taskBarMainContainer + ' ' +\n            this.parent.getUnscheduledTaskClass(data.ganttProperties) + ' ' +\n            ((data.ganttProperties.cssClass) ? data.ganttProperties.cssClass : '') + '\" ' +\n            ' tabindex=\"-1\" role=\"term\" style=\"' + ((data.ganttProperties.isMilestone && !manualParent && !(data.hasChildRecords && !data.ganttProperties.isAutoSchedule)) ?\n            ('width:' + this.milestoneHeight + 'px;height:' +\n                this.milestoneHeight + 'px;margin-top:' + this.milestoneMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left -\n                (this.milestoneHeight / 2)) + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;')) : ('width:' + data.ganttProperties.width +\n            'px;margin-top:' + this.taskBarMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (!data.hasChildRecords || data.ganttProperties.isAutoSchedule ?\n            data.ganttProperties.left : data.ganttProperties.autoLeft) + 'px;height:' +\n            this.taskBarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;'))) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.rightLabelContainer = function () {\n        var template = '<div class=\"' + ((this.rightTaskLabelTemplateFunction) ? cls.rightLabelTempContainer :\n            cls.rightLabelContainer) + '\" ' + ' tabindex=\"-1\" role=\"term\" style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + this.getRightLabelLeft(this.templateData) + 'px; height:'\n            + (this.parent.rowHeight - 2) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarLeftResizer = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarRightResizer = function () {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -11;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.templateData.ganttProperties.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarProgressResizer = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getLeftPointNode = function () {\n        var data = this.templateData;\n        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n        var mileStoneLeftValue = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 6 : 3;\n        var pointerLeft = -(2 + this.connectorPointWidth + left);\n        var mileStoneLeft = -(this.connectorPointWidth + mileStoneLeftValue);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.leftConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('margin-top:' + pointerTop + 'px;left:' + mileStoneLeft +\n                'px;') : (marginTop + ';left:' + pointerLeft + 'px;')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointLeft : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width: ' + this.connectorPointWidth + 'px;' + (this.parent.enableRtl ? 'margin-right:2px;' : '') +\n            'height: ' + this.connectorPointWidth + 'px;\">' + this.touchLeftConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getRightPointNode = function () {\n        var data = this.templateData;\n        var right = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -12 : 0;\n        var pointerRight = -(3 + right);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.rightConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('left:' + ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.milestoneHeight + 5) : this.milestoneHeight - 2) + 'px;margin-top:' +\n                pointerTop + 'px;') : ('left:' + (data.ganttProperties.width + pointerRight) + 'px;' + marginTop + ';')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointRight : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width:' + this.connectorPointWidth + 'px;height:' + this.connectorPointWidth + 'px;\">' +\n            this.touchRightConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get task label.\n     *\n     * @param {string} field .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTaskLabel = function (field) {\n        var length = this.parent.ganttColumns.length;\n        var resultString = null;\n        if (!isNullOrUndefined(field) && field !== '') {\n            if (field === this.parent.taskFields.resourceInfo) {\n                resultString = this.getResourceName(this.templateData);\n            }\n            else {\n                for (var i = 0; i < length; i++) {\n                    if (field === this.parent.ganttColumns[i].field) {\n                        resultString = this.getFieldValue(this.templateData[field]).toString();\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(resultString)) {\n                    return 'isCustomTemplate';\n                }\n            }\n        }\n        else {\n            resultString = '';\n        }\n        return resultString;\n    };\n    ChartRows.prototype.getExpandDisplayProp = function (data) {\n        data = this.templateData;\n        if (this.parent.getExpandStatus(data)) {\n            return 'table-row';\n        }\n        return 'none';\n    };\n    ChartRows.prototype.getRowClassName = function (data) {\n        data = this.templateData;\n        var rowClass = 'gridrowtaskId';\n        var parentItem = data.parentItem;\n        if (parentItem) {\n            rowClass += parentItem.taskId.toString();\n        }\n        rowClass += 'level';\n        rowClass += data.level.toString();\n        return rowClass;\n    };\n    ChartRows.prototype.getBorderRadius = function (data) {\n        data = this.templateData;\n        var diff = data.ganttProperties.width - data.ganttProperties.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.getSplitTaskBorderRadius = function (data) {\n        var diff = data.width - data.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.taskNameWidth = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            width = (ganttData.ganttProperties.left - (this.parent.getTaskbarHeight() / 2));\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                width = (ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime()) ?\n                    ganttProp.autoLeft : ganttProp.left;\n            }\n            else {\n                width = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n            }\n        }\n        else {\n            width = ganttData.ganttProperties.left;\n        }\n        if (width < 0) {\n            width = 0;\n        }\n        return width + 'px';\n    };\n    ChartRows.prototype.getRightLabelLeft = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var left;\n        var endLeft;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            return ganttData.ganttProperties.left + (this.parent.getTaskbarHeight() / 2);\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                left = ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime() ? ganttProp.autoLeft : ganttProp.left;\n                endLeft = ganttProp.autoEndDate.getTime() < ganttProp.endDate.getTime() ?\n                    this.parent.dataOperation.getTaskLeft(ganttProp.endDate, ganttProp.isMilestone) :\n                    this.parent.dataOperation.getTaskLeft(ganttProp.autoEndDate, ganttProp.isMilestone);\n                width = endLeft - left;\n            }\n            else {\n                left = ganttProp.left < ganttProp.autoLeft ? ganttProp.autoLeft : ganttProp.left;\n                width = ganttProp.autoWidth;\n            }\n            return left + width;\n        }\n        else {\n            return ganttData.ganttProperties.left + ganttData.ganttProperties.width;\n        }\n    };\n    ChartRows.prototype.getExpandClass = function (data) {\n        data = this.templateData;\n        if (data.expanded) {\n            return cls.rowExpand;\n        }\n        else if (!data.expanded && data.hasChildRecords) {\n            return cls.rowCollapse;\n        }\n        return '';\n    };\n    ChartRows.prototype.getFieldValue = function (field) {\n        return isNullOrUndefined(field) ? '' : field;\n    };\n    ChartRows.prototype.getResourceName = function (ganttData) {\n        ganttData = this.templateData;\n        var resource = null;\n        if (!isNullOrUndefined(ganttData.ganttProperties.resourceInfo)) {\n            var length_2 = ganttData.ganttProperties.resourceInfo.length;\n            if (length_2 > 0) {\n                for (var i = 0; i < length_2; i++) {\n                    var resourceName = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.name];\n                    var resourceUnit = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resourceName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (isNullOrUndefined(resource)) {\n                        resource = resourceName;\n                    }\n                    else {\n                        resource += ' , ' + resourceName;\n                    }\n                }\n                return resource;\n            }\n            else {\n                return '';\n            }\n        }\n        return '';\n    };\n    /**\n     * To initialize private variable help to render task bars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initChartHelperPrivateVariable = function () {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var taskBarMarginTopValue = this.parent.renderBaseline ? 4 : 2;\n        var milestoneHeightValue = this.parent.renderBaseline ? 1.13 : 0.82;\n        this.parent.rowHeight = isNullOrUndefined(this.parent.rowHeight) ? 36 : this.parent.rowHeight;\n        this.baselineColor = !isNullOrUndefined(this.parent.baselineColor) &&\n            this.parent.baselineColor !== '' ? this.parent.baselineColor : null;\n        this.taskBarHeight = isNullOrUndefined(this.parent.taskbarHeight) || this.parent.taskbarHeight >= this.parent.rowHeight ?\n            Math.floor(this.parent.rowHeight * taskbarHeightValue) : this.parent.taskbarHeight; // 0.62 -- Standard Ratio.\n        if (this.parent.renderBaseline) {\n            var height = void 0;\n            if ((this.taskBarHeight + this.baselineHeight) <= this.parent.rowHeight) {\n                height = this.taskBarHeight;\n            }\n            else {\n                height = this.taskBarHeight - (this.baselineHeight + 1);\n            }\n            this.taskBarHeight = height;\n        }\n        this.milestoneHeight = Math.floor(this.taskBarHeight * milestoneHeightValue); // 0.82 -- Standard Ratio.\n        this.taskBarMarginTop = Math.floor((this.parent.rowHeight - this.taskBarHeight) / taskBarMarginTopValue);\n        this.milestoneMarginTop = Math.floor((this.parent.rowHeight - this.milestoneHeight) / 2);\n        this.milesStoneRadius = Math.floor((this.milestoneHeight) / 2);\n        this.baselineTop = -(Math.floor((this.parent.rowHeight - (this.taskBarHeight + this.taskBarMarginTop))) - 4);\n        this.connectorPointWidth = this.parent.isAdaptive ? Math.round(this.taskBarHeight / 2) : 9;\n        this.connectorPointMargin = Math.floor((this.taskBarHeight / 2) - (this.connectorPointWidth / 1.5));\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.refreshGanttRows = function () {\n        this.parent.currentViewData = this.parent.treeGrid.getCurrentViewRecords().slice();\n        this.createTaskbarTemplate();\n        if (this.parent.showOverAllocation) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var data = this.parent.currentViewData[i];\n                if (data.childRecords.length > 0) {\n                    this.parent.setRecordValue('workTimelineRanges', this.parent.dataOperation.mergeRangeCollections(data.ganttProperties.workTimelineRanges, true), data.ganttProperties, true);\n                    this.parent.dataOperation.calculateRangeLeftWidth(data.ganttProperties.workTimelineRanges);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        this.parent.ganttChartModule.updateLastRowBottomWidth();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createTaskbarTemplate = function () {\n        var _this = this;\n        var _a;\n        var trs = [].slice.call(this.ganttChartTableBody.querySelectorAll('tr'));\n        this.ganttChartTableBody.innerHTML = '';\n        var collapsedResourceRecord = [];\n        var prevCurrentView = this.parent.treeGridModule.prevCurrentView;\n        this.refreshedTr = [];\n        this.refreshedData = [];\n        if (this.parent.enableImmutableMode && prevCurrentView && prevCurrentView.length > 0 && this.isUpdated) {\n            var oldKeys = {};\n            var oldRowElements = [];\n            var key = this.parent.treeGrid.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < prevCurrentView.length; i++) {\n                oldRowElements[i] = trs[i];\n                oldKeys[prevCurrentView[i][key]] = i;\n            }\n            for (var index = 0; index < this.parent.currentViewData.length; index++) {\n                var oldIndex = oldKeys[this.parent.currentViewData[index][key]];\n                var modifiedRecIndex = this.parent.modifiedRecords.indexOf(this.parent.currentViewData[index]);\n                if (isNullOrUndefined(oldIndex) || modifiedRecIndex !== -1 || this.parent.isFromRenderBaseline) {\n                    var tRow = this.getGanttChartRow(index, this.parent.currentViewData[index]);\n                    this.ganttChartTableBody.appendChild(tRow);\n                    this.refreshedTr.push(this.ganttChartTableBody.querySelectorAll('tr')[index]);\n                    this.refreshedData.push(this.parent.currentViewData[index]);\n                }\n                else {\n                    this.ganttChartTableBody.appendChild(oldRowElements[oldIndex]);\n                }\n                this.ganttChartTableBody.querySelectorAll('tr')[index].setAttribute('aria-rowindex', (index + 1).toString());\n            }\n        }\n        else {\n            var dupChartBody = createElement('tbody', {\n                id: this.parent.element.id + 'GanttTaskTableBody'\n            });\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var tempTemplateData = this.parent.currentViewData[i];\n                if (!tempTemplateData.expanded && this.parent.enableMultiTaskbar) {\n                    collapsedResourceRecord.push(tempTemplateData);\n                }\n                var tRow = this.getGanttChartRow(i, tempTemplateData);\n                if (tempTemplateData.hasChildRecords && (!tempTemplateData.expanded) && this.parent.enableMultiTaskbar\n                    && !this.parent.allowTaskbarOverlap) {\n                    this.updateDragDropRecords(tempTemplateData, tRow);\n                }\n                dupChartBody.appendChild(tRow);\n                if (this.parent.enableImmutableMode) {\n                    this.refreshedTr.push(dupChartBody.querySelectorAll('tr')[i]);\n                    this.refreshedData.push(this.parent.currentViewData[i]);\n                }\n                // To maintain selection when virtualization is enabled\n                if (this.parent.selectionModule && this.parent.allowSelection) {\n                    this.parent.selectionModule.maintainSelectedRecords(parseInt(tRow.getAttribute('aria-rowindex'), 10) - 1);\n                }\n            }\n            /* eslint-disable-next-line */\n            (_a = this.ganttChartTableBody).replaceChildren.apply(_a, dupChartBody.childNodes);\n            // To trigger the touchend event while perform touch Pinch In/Out action\n            (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n                if (tr instanceof Element) {\n                    tr.addEventListener('touchmove', _this.handleTouchMove);\n                    tr.addEventListener('touchend', _this.handleTouchEnd);\n                }\n            });\n            this.parent.initialChartRowElements = this.parent.ganttChartModule.getChartRows();\n        }\n        if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            var criticalModule = this.parent.criticalPathModule;\n            if (criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n        }\n        this.parent.renderTemplates();\n        this.triggerQueryTaskbarInfo();\n        this.parent.modifiedRecords = [];\n        if (this.parent.showOverAllocation) {\n            this.updateOverlapped();\n        }\n        if (collapsedResourceRecord.length) {\n            for (var j = 0; j < collapsedResourceRecord.length; j++) {\n                if (collapsedResourceRecord[j].hasChildRecords) {\n                    this.parent.isGanttChartRendered = true;\n                    this.parent.chartRowsModule.refreshRecords([collapsedResourceRecord[j]]);\n                }\n            }\n        }\n        this.parent.isGanttChartRendered = true;\n        this.parent.renderTemplates();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @param {number} i .\n     * @param {IGanttData} tempTemplateData .\n     * @returns {Node} .\n     * @private\n     */\n    ChartRows.prototype.getGanttChartRow = function (i, tempTemplateData) {\n        this.templateData = tempTemplateData;\n        var parentTrNode = this.getTableTrNode(i);\n        var leftLabelNode = this.getLeftLabelNode(i);\n        var taskbarContainerNode = this.taskbarContainer();\n        taskbarContainerNode[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n        taskbarContainerNode[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n        var connectorLineLeftNode;\n        var connectorLineRightNode;\n        connectorLineLeftNode = this.getLeftPointNode();\n        if ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords) {\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n        }\n        if (this.templateData.hasChildRecords) {\n            var parentTaskbarTemplateNode = void 0;\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                parentTaskbarTemplateNode = this.getParentTaskbarNode(i, taskbarContainerNode);\n            }\n            else {\n                taskbarContainerNode = [];\n                for (var j = 0; j < this.templateData.childRecords.length; j++) {\n                    this.templateData = this.templateData.childRecords[j];\n                    var taskbarContainerNode1 = this.taskbarContainer();\n                    taskbarContainerNode1[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n                    taskbarContainerNode1[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n                    if (!this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                    }\n                    else {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        if ((this.templateData.ganttProperties.isAutoSchedule) || !this.templateData.hasChildRecords) {\n                            taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        }\n                    }\n                    this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode1, connectorLineRightNode, taskbarContainerNode);\n                }\n            }\n            if (!this.templateData.ganttProperties.isAutoSchedule) {\n                var manualTaskbar = this.getManualTaskbar();\n                if (!isNullOrUndefined(manualTaskbar[0])) {\n                    if (this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        var connectorLineRightNode_1 = this.getRightPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineRightNode_1)[0]);\n                    }\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(manualTaskbar)[0]);\n                }\n            }\n            if ((this.templateData.ganttProperties.autoDuration !== 0) && !this.templateData.ganttProperties.isMilestone &&\n                parentTaskbarTemplateNode && parentTaskbarTemplateNode.length > 0) {\n                append(parentTaskbarTemplateNode, taskbarContainerNode[0]);\n            }\n            else if ((this.templateData.ganttProperties.duration === 0 && this.templateData.ganttProperties.isMilestone &&\n                this.templateData.ganttProperties.isAutoSchedule)) {\n                var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n                if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                    append(milestoneTemplateNode, taskbarContainerNode[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n                else if (!this.parent.allowParentDependency) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n            }\n        }\n        else {\n            this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode, connectorLineRightNode);\n        }\n        var rightLabelNode = this.getRightLabelNode(i);\n        if (this.parent.enableMultiTaskbar && this.templateData.hasChildRecords && !this.templateData.expanded) {\n            var collapseParent = createElement('div', {\n                className: 'e-collapse-parent'\n            });\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild(collapseParent);\n            for (var j = 0; j < taskbarContainerNode.length; j++) {\n                addClass([taskbarContainerNode[j]], 'collpse-parent-border');\n                parentTrNode[0].childNodes[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[j]);\n            }\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n        }\n        else {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n            if (rightLabelNode && rightLabelNode.length > 0) {\n                parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(rightLabelNode)[0]);\n            }\n        }\n        if (!isNullOrUndefined(this.taskBaselineTemplateNode)) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(this.taskBaselineTemplateNode)[0]);\n        }\n        this.taskBaselineTemplateNode = null;\n        var tRow = parentTrNode[0].childNodes[0];\n        this.setAriaRowIndex(tempTemplateData, tRow);\n        return tRow;\n    };\n    /**\n     * To set data-rowindex for chart rows\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.setAriaRowIndex = function (tempTemplateData, tRow) {\n        var _this = this;\n        var dataSource = this.parent.treeGrid.getCurrentViewRecords();\n        var visualData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : dataSource;\n        var index;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            /* eslint-disable-next-line */\n            var gridData = this.parent.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.parent.taskFields.id] === tempTemplateData.ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            tRow.setAttribute('data-rowindex', data['index'].toString());\n            tRow.setAttribute('aria-rowindex', (data['index'] + 1).toString());\n        }\n        else {\n            index = visualData.indexOf(tempTemplateData);\n            tRow.setAttribute('aria-rowindex', (index + 1).toString());\n        }\n    };\n    /**\n     * To trigger query taskbar info event.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfo = function () {\n        if (!this.parent.queryTaskbarInfo) {\n            return;\n        }\n        var length = this.parent.enableImmutableMode ?\n            this.refreshedTr.length : this.ganttChartTableBody.querySelectorAll('tr').length;\n        var trElement;\n        var data;\n        for (var index = 0; index < length; index++) {\n            trElement = this.parent.enableImmutableMode ? this.refreshedTr[index] : this.ganttChartTableBody.querySelectorAll('tr')[index];\n            data = this.refreshedData.length > 0 ? this.refreshedData[index] : this.parent.currentViewData[index];\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = trElement.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else if (trElement) {\n                this.triggerQueryTaskbarInfoByIndex(trElement, data);\n            }\n        }\n    };\n    ChartRows.prototype.appendIndicators = function (i, parentTrNode) {\n        var taskIndicatorNode;\n        var taskIndicatorTextFunction;\n        var taskIndicatorTextNode;\n        var indicators = this.templateData.ganttProperties.indicators;\n        for (var indicatorIndex = 0; indicatorIndex < indicators.length; indicatorIndex++) {\n            taskIndicatorNode = this.getIndicatorNode(indicators[indicatorIndex]);\n            taskIndicatorNode[0].setAttribute('aria-label', indicators[indicatorIndex].name);\n            if (indicators[indicatorIndex].name.indexOf('$') > -1 || indicators[indicatorIndex].name.indexOf('#') > -1) {\n                taskIndicatorTextFunction = this.templateCompiler(indicators[indicatorIndex].name);\n                taskIndicatorTextNode = taskIndicatorTextFunction(extend({ index: i }, this.templateData), this.parent, 'indicatorLabelText');\n            }\n            else {\n                var text = createElement('Text');\n                text.innerHTML = indicators[indicatorIndex].name;\n                if (this.parent.enableHtmlSanitizer && typeof (indicators[indicatorIndex].name) === 'string') {\n                    indicators[indicatorIndex].name = SanitizeHtmlHelper.sanitize(indicators[indicatorIndex].name);\n                }\n                taskIndicatorTextNode = text.childNodes;\n            }\n            taskIndicatorNode[0].appendChild([].slice.call(taskIndicatorTextNode)[0]);\n            taskIndicatorNode[0].title =\n                !isNullOrUndefined(indicators[indicatorIndex].tooltip) ? indicators[indicatorIndex].tooltip : '';\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskIndicatorNode)[0]);\n        }\n    };\n    ChartRows.prototype.appendChildTaskbars = function (tempTemplateData, i, taskbarContainerNode, connectorLineRightNode, taskbarCollection) {\n        if (this.templateData.ganttProperties.isMilestone) {\n            var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n            if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                append(milestoneTemplateNode, taskbarContainerNode[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (taskbarCollection) {\n                /* eslint-disable-next-line */\n                taskbarCollection.push(taskbarContainerNode[0]);\n                this.templateData = tempTemplateData;\n            }\n        }\n        else {\n            var scheduledTask = isScheduledTask(this.templateData.ganttProperties); // eslint-disable-line\n            var childTaskbarProgressResizeNode = null;\n            var childTaskbarRightResizeNode = null;\n            var childTaskbarLeftResizeNode = null;\n            if (!isNullOrUndefined(scheduledTask)) {\n                if (scheduledTask || this.templateData.ganttProperties.duration) {\n                    if (scheduledTask && (isNullOrUndefined(this.templateData.ganttProperties.segments)\n                        || this.templateData.ganttProperties.segments.length <= 0)) {\n                        childTaskbarProgressResizeNode = this.childTaskbarProgressResizer();\n                        childTaskbarLeftResizeNode = this.childTaskbarLeftResizer();\n                        childTaskbarRightResizeNode = this.childTaskbarRightResizer();\n                    }\n                }\n                var childTaskbarTemplateNode = this.getChildTaskbarNode(i, taskbarContainerNode);\n                if (childTaskbarLeftResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarLeftResizeNode)[0]);\n                }\n                if (childTaskbarTemplateNode && childTaskbarTemplateNode.length > 0) {\n                    if (this.templateData.ganttProperties.segments && this.templateData.ganttProperties.segments.length > 0) {\n                        var length_3 = this.templateData.ganttProperties.segments.length;\n                        var connector = ('<div class=\"e-gantt-split-container-line\"></div>');\n                        var segmentConnector = null;\n                        segmentConnector = this.createDivElement(connector);\n                        taskbarContainerNode[0].appendChild([].slice.call(segmentConnector)[0]);\n                        for (var i_1 = 0; i_1 < length_3; i_1++) {\n                            append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                        }\n                    }\n                    else {\n                        append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                    }\n                }\n                if (childTaskbarProgressResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarProgressResizeNode)[0]);\n                }\n                if (childTaskbarRightResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarRightResizeNode)[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n        }\n        if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        else if (!this.parent.allowParentDependency) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        if (taskbarCollection) {\n            /* eslint-disable-next-line */\n            taskbarCollection.push(taskbarContainerNode[0]);\n            this.templateData = tempTemplateData;\n        }\n    };\n    ChartRows.prototype.customizeTaskbars = function (data, trElement, taskbarElement) {\n        var _this = this;\n        var rowElement;\n        var segmentRowElement;\n        if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0 && trElement && trElement.parentElement\n            && trElement.parentElement.parentElement && trElement.parentElement.parentElement.parentElement) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        var triggerTaskbarElement;\n        var args = {\n            data: data,\n            rowElement: trElement,\n            taskbarElement: taskbarElement,\n            taskbarType: data.hasChildRecords ? 'ParentTask' : data.ganttProperties.isMilestone ? 'Milestone' : 'ChildTask'\n        };\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            args.milestoneColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor : null;\n            args.baselineColor = trElement.querySelector(classCollections[1]) ?\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor :\n                (trElement.querySelector('.' + cls.baselineBar) ? getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null);\n        }\n        else if (taskbarElement) {\n            var childTask = taskbarElement.querySelector(classCollections[0]);\n            var progressTask = taskbarElement.querySelector(classCollections[1]);\n            args.taskbarBgColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor;\n            args.taskbarBorderColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor;\n            args.progressBarBgColor = isNullOrUndefined(progressTask) ? null :\n                taskbarElement.classList.contains(cls.traceChildProgressBar) ?\n                    getComputedStyle(taskbarElement).backgroundColor :\n                    getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor;\n            // args.progressBarBorderColor = taskbarElement.querySelector(progressBarClass) ?\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor : null;\n            if (segmentRowElement) {\n                args.baselineColor = segmentRowElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            else {\n                args.baselineColor = trElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            args.taskLabelColor = taskbarElement.querySelector('.' + cls.taskLabel) ?\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color : null;\n        }\n        if (segmentRowElement) {\n            args.rightLabelColor = segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        else {\n            args.rightLabelColor = trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        this.parent.trigger('queryTaskbarInfo', args, function (taskbarArgs) {\n            _this.updateQueryTaskbarInfoArgs(taskbarArgs, rowElement, triggerTaskbarElement);\n        });\n    };\n    /**\n     *\n     * @param {Element} trElement .\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfoByIndex = function (trElement, data) {\n        // eslint-disable-next-line\n        if (isNullOrUndefined(trElement)) {\n            return;\n        }\n        var taskbarElement;\n        var currentData = data;\n        if (!(!isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0)) {\n            if (this.parent.enableMultiTaskbar) {\n                var taskbarElements = trElement.querySelectorAll('.' + cls.taskBarMainContainer);\n                for (var i = 0; i < taskbarElements.length; i++) {\n                    taskbarElement = taskbarElements[i];\n                    currentData = (!data.expanded && data.hasChildRecords) ? data.childRecords[i] : currentData;\n                    var id = this.parent.viewType === 'ResourceView' ?\n                        taskbarElement.getAttribute('rowUniqueId') : currentData.ganttProperties.taskId.toString();\n                    if (currentData.ganttProperties.segments && currentData.ganttProperties.segments.length > 0 &&\n                        currentData.parentItem && !data.expanded) {\n                        id = this.parent.viewType === 'ResourceView' ?\n                            data.ganttProperties.rowUniqueID : data.ganttProperties.taskId.toString();\n                    }\n                    trElement = this.parent.getRowByID(id);\n                    trElement = trElement ? trElement : (taskbarElement.querySelector('.e-gantt-child-taskbar'));\n                    if (isNullOrUndefined(trElement) && currentData.ganttProperties.isMilestone) {\n                        trElement = taskbarElement;\n                    }\n                    if (trElement) {\n                        var segmentElements = trElement.querySelectorAll('.e-segmented-taskbar');\n                        if (segmentElements && segmentElements.length > 0) {\n                            /* eslint-disable-next-line */\n                            var taskContainer = trElement.querySelector(\".e-taskbar-main-container[rowuniqueid=\\\"\" + currentData.ganttProperties.rowUniqueID + \"\\\"]\") ||\n                                trElement;\n                            var segmentedTasks = taskContainer.querySelectorAll('.e-segmented-taskbar');\n                            for (var i_2 = 0; i_2 < segmentedTasks.length; i_2++) {\n                                taskbarElement = segmentedTasks[i_2];\n                                this.customizeTaskbars(currentData, segmentedTasks[i_2], taskbarElement);\n                            }\n                        }\n                        else {\n                            this.customizeTaskbars(currentData, trElement, taskbarElement);\n                        }\n                    }\n                }\n            }\n            else {\n                var taskbarElement_1 = trElement.querySelector('.' + cls.taskBarMainContainer);\n                if (trElement) {\n                    this.customizeTaskbars(currentData, trElement, taskbarElement_1);\n                }\n            }\n        }\n        else {\n            taskbarElement = trElement;\n            if (trElement) {\n                this.customizeTaskbars(data, trElement, taskbarElement);\n            }\n        }\n    };\n    /**\n     * To update query taskbar info args.\n     *\n     * @param {IQueryTaskbarInfoEventArgs} args .\n     * @param {Element} rowElement .\n     * @param {Element} taskBarElement .\n     * @returns {void}\n     * @private\n     */\n    /* eslint-disable-next-line */\n    ChartRows.prototype.updateQueryTaskbarInfoArgs = function (args, rowElement, taskBarElement) {\n        var trElement = args.rowElement;\n        var taskbarElement = this.parent.enableVirtualization ? args.rowElement : args.taskbarElement;\n        var classCollections = this.getClassName(args);\n        var segmentRowElement;\n        if (args.data.ganttProperties.segments && args.data.ganttProperties.segments.length > 0) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        if (args.taskbarType === 'Milestone') {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.milestoneColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.milestoneColor;\n            }\n            if (trElement.querySelector(classCollections[1]) &&\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor !== args.baselineColor) {\n                trElement.querySelector(classCollections[1]).style.backgroundColor = args.baselineColor;\n            }\n            if (trElement.querySelector('.' + cls.baselineBar) &&\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).borderTopColor !== args.baselineColor) {\n                trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n            }\n        }\n        else if (taskbarElement) {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.querySelector(classCollections[0]).style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.querySelector(classCollections[1]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.querySelector(classCollections[1]).style.backgroundColor = args.progressBarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildProgressBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.style.backgroundColor = args.progressBarBgColor;\n            }\n            // if (taskbarElement.querySelector(progressBarClass) &&\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor !== args.progressBarBorderColor) {\n            //     (taskbarElement.querySelector(progressBarClass) as HTMLElement).style.borderColor = args.progressBarBorderColor;\n            // }\n            if (taskbarElement.querySelector('.' + cls.taskLabel) &&\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color !== args.taskLabelColor) {\n                taskbarElement.querySelector('.' + cls.taskLabel).style.color = args.taskLabelColor;\n            }\n            if (segmentRowElement) {\n                if (segmentRowElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    segmentRowElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n            else {\n                if (trElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n        }\n        if (segmentRowElement) {\n            if (segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n        else {\n            if (trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n    };\n    ChartRows.prototype.getClassName = function (args) {\n        var classCollection = [];\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentTaskBar : args.taskbarType === 'ChildTask' ? cls.traceChildTaskBar : cls.traceMilestone));\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentProgressBar : args.taskbarType === 'ChildTask' ? cls.traceChildProgressBar : cls.baselineMilestoneContainer));\n        return classCollection;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string} template .\n     * @returns {Function} .\n     * @private\n     */\n    ChartRows.prototype.templateCompiler = function (template) {\n        if (!isNullOrUndefined(template) && template !== '') {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim(), this.parent);\n                }\n                else {\n                    return compile(template, this.parent);\n                }\n            }\n            catch (e) {\n                return compile(template, this.parent);\n            }\n        }\n        return null;\n    };\n    // to update the eOverlapped property\n    ChartRows.prototype.updateOverlapped = function () {\n        for (var k = 0; k < this.parent.treeGrid.parentData.length; k++) {\n            var childRecords = this.parent.treeGrid.parentData[k].childRecords;\n            for (var i = 0; i < childRecords.length; i++) {\n                if (childRecords[i + 1]) {\n                    childRecords[i].ganttProperties.eOverlapped = undefined;\n                }\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    childRecords[j].ganttProperties.eOverlapped = undefined;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <\n                        childRecords[j].ganttProperties.endDate.getTime() &&\n                        childRecords[i].ganttProperties.endDate.getTime() >\n                            childRecords[j].ganttProperties.startDate.getTime()) {\n                        childRecords[j].ganttProperties.eOverlapped = true;\n                        childRecords[i].ganttProperties.eOverlapped = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(childRecords[j].ganttProperties.eOverlapped)) {\n                            childRecords[j].ganttProperties.eOverlapped = false;\n                        }\n                        if (isNullOrUndefined(childRecords[i].ganttProperties.eOverlapped)) {\n                            childRecords[i].ganttProperties.eOverlapped = false;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    // To update the row height when allow overallocation set to false\n    ChartRows.prototype.updateDragDropRecords = function (data, tr) {\n        var childRecords = data.childRecords;\n        var rowIndex = this.parent.currentViewData.indexOf(data);\n        var treeGridContentHeight = this.parent.enableRtl ?\n            this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n            this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n        if (!tr) {\n            tr = this.ganttChartTableBody.childNodes[rowIndex];\n        }\n        if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n            tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = this.parent.rowHeight + 'px';\n        }\n        else {\n            tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = this.parent.rowHeight + 'px';\n        }\n        this.parent.contentHeight = treeGridContentHeight;\n        var rowIDs = [];\n        var rowCounts = 0;\n        if (data) {\n            for (var i = 0; i < childRecords.length; i++) {\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    var taskbarContainer = tr.getElementsByClassName('e-taskbar-main-container');\n                    for (var k = 0; k < taskbarContainer.length; k++) {\n                        var rowuniqueid = this.parent.viewType === 'ResourceView' ? childRecords[j]['rowUniqueID'] : childRecords[j].ganttProperties.rowUniqueID;\n                        if (childRecords[i].ganttProperties.startDate.getTime() <\n                            childRecords[j].ganttProperties.endDate.getTime() &&\n                            childRecords[i].ganttProperties.endDate.getTime() >\n                                childRecords[j].ganttProperties.startDate.getTime()) {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1) {\n                                rowIDs.push(rowuniqueid);\n                                rowCounts++;\n                                tr.children[0]['style'].verticalAlign = 'baseline';\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    (rowCounts * this.parent.rowHeight) + this.taskBarMarginTop + 'px';\n                                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                                    tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                                else {\n                                    tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                            }\n                        }\n                        else {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1 && this.parent.rowDragAndDropModule &&\n                                this.parent.rowDragAndDropModule['draggedRecord'] && taskbarContainer[k].getAttribute('rowuniqueid') ===\n                                this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] && this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] ===\n                                childRecords[j]['rowUniqueID']) {\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    this.parent.editModule.taskbarEditModule.draggedRecordMarginTop;\n                            }\n                        }\n                    }\n                }\n            }\n            this.parent.contentHeight = treeGridContentHeight;\n            document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n        }\n    };\n    /**\n     * To refresh edited TR\n     *\n     * @param {number} index .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRow = function (index, isValidateRange, isUndoRedo) {\n        var _this = this;\n        var tr = this.ganttChartTableBody.childNodes[index];\n        var selectedItem;\n        if (isUndoRedo) {\n            selectedItem = this.parent.previousFlatData[index];\n        }\n        else {\n            selectedItem = this.parent.currentViewData[index];\n        }\n        if (index !== -1 && selectedItem) {\n            var data_1 = selectedItem;\n            if (!this.parent.allowTaskbarOverlap && data_1.expanded) {\n                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                    tr['style'].height = this.parent.treeGrid.getRowByIndex(index)['style'].height = this.parent.rowHeight + 'px';\n                }\n                else {\n                    tr['style'].height = this.parent.treeGrid.getRows()[index]['style'].height = this.parent.rowHeight + 'px';\n                }\n            }\n            if (data_1.hasChildRecords && !data_1.expanded && this.parent.enableMultiTaskbar) {\n                tr.replaceChild(this.getGanttChartRow(index, data_1).childNodes[0], tr.childNodes[0]);\n                if (this.parent.renderBaseline) {\n                    data_1.childRecords.forEach(function (childRecord) {\n                        if (!isNullOrUndefined(childRecord.ganttProperties.baselineStartDate &&\n                            childRecord.ganttProperties.baselineEndDate)) {\n                            tr.childNodes[0].appendChild((_this.updateTaskBaselineNode(childRecord))[0]);\n                        }\n                    });\n                }\n            }\n            else {\n                if (this.parent.allowTaskbarDragAndDrop && !data_1.expanded) {\n                    tr.replaceWith(this.getGanttChartRow(index, data_1));\n                }\n                else {\n                    tr.replaceChild(this.getGanttChartRow(index, data_1).childNodes[0], tr.childNodes[0]);\n                    if (this.parent.enableMultiTaskbar && data_1.parentItem) {\n                        var parentID = data_1.parentItem.taskId;\n                        var parentData = this.parent.getRecordByID(parentID);\n                        if (!parentData.expanded) {\n                            var parentTr = this.parent.getRowByID(parentID);\n                            parentTr.replaceChild(this.getGanttChartRow(Number(parentID), parentData).childNodes[0], parentTr.childNodes[0]);\n                        }\n                    }\n                }\n            }\n            this.parent.renderTemplates();\n            if (this.parent.showOverAllocation &&\n                this.parent.allowTaskbarOverlap &&\n                (data_1.hasChildRecords || (data_1.parentItem && this.parent.editedRecords.every(function (record) {\n                    return record.ganttProperties.taskId.toString() !== data_1.parentItem.taskId.toString();\n                })))) {\n                if (isValidateRange) {\n                    this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                }\n                else {\n                    var targetData = data_1.hasChildRecords ? data_1 : this.parent.getRecordByID(data_1.parentItem.taskId);\n                    this.parent.dataOperation.updateOverlappingValues(targetData);\n                    this.parent.ganttChartModule.renderRangeContainer([targetData]);\n                }\n            }\n            var segmentLength = !isNullOrUndefined(data_1.ganttProperties.segments) && data_1.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = tr.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data_1);\n                }\n            }\n            else {\n                this.triggerQueryTaskbarInfoByIndex(tr, data_1);\n                if (this.parent.enableMultiTaskbar && data_1.parentItem && this.parent.queryTaskbarInfo &&\n                    !(this.parent.getParentTask(data_1.parentItem).expanded)) {\n                    // Retrieve the parent item index:\n                    var parentIndex = data_1.parentItem.index;\n                    var parentTask = void 0;\n                    if (isUndoRedo) {\n                        parentTask = this.parent.previousFlatData[parentIndex];\n                    }\n                    else {\n                        parentTask = this.parent.currentViewData[parentIndex];\n                    }\n                    // Trigger taskbar info query for the parent element:\n                    this.triggerQueryTaskbarInfoByIndex(this.ganttChartTableBody.querySelectorAll('tr')[parentIndex], parentTask);\n                }\n            }\n            var dataId = this.parent.viewType === 'ProjectView' ? data_1.ganttProperties.taskId : data_1.ganttProperties.rowUniqueID;\n            if (!this.parent.ganttChartModule.isExpandAll && !this.parent.ganttChartModule.isCollapseAll) {\n                this.parent.treeGrid.grid.setRowData(dataId, data_1);\n            }\n            if (data_1.hasChildRecords && !data_1.expanded && this.parent.enableMultiTaskbar && !this.parent.allowTaskbarOverlap) {\n                this.updateDragDropRecords(selectedItem, tr);\n            }\n            if (data_1.hasChildRecords && this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n                this.parent.dataOperation.updateOverlappingValues(data_1);\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n            }\n            var nextEditableElement = this.parent.ganttChartModule.tempNextElement;\n            if (this.parent.ganttChartModule.isEditableElement && nextEditableElement) {\n                this.parent.treeGrid.grid.focusModule.focus();\n                addClass([this.parent.treeGrid.getRows()[parseInt(tr.getAttribute('aria-rowindex'), 10) - 1].children[this.parent.ganttChartModule.childrenIndex]], 'e-focused');\n                this.parent.ganttChartModule.tempNextElement = null;\n            }\n            var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[index].getAttribute('data-uid'));\n            if (!isNullOrUndefined(row)) {\n                row.data = data_1;\n            }\n        }\n    };\n    ChartRows.prototype.updateResourceTaskbarElement = function (tRow, parentTr) {\n        var cloneElement = tRow.querySelector('.e-taskbar-main-container');\n        if (this.parent.viewType === 'ProjectView' && tRow.querySelector('.e-collapse-parent')) {\n            cloneElement = tRow.querySelector('.e-collapse-parent');\n        }\n        if (tRow.querySelector('.e-collapse-parent') === null) {\n            addClass([cloneElement], 'collpse-parent-border');\n        }\n        var id = tRow.querySelector('.' + cls.taskBarMainContainer).getAttribute('rowUniqueId');\n        var ganttData = this.parent.getRecordByID(id);\n        if (!(isNullOrUndefined(ganttData)) && ganttData.ganttProperties.segments && ganttData.ganttProperties.segments.length > 0) {\n            var segmentedTasks = cloneElement.getElementsByClassName('e-segmented-taskbar');\n            for (var i = 0; i < segmentedTasks.length; i++) {\n                this.triggerQueryTaskbarInfoByIndex(segmentedTasks[i], ganttData);\n            }\n        }\n        else if (this.parent.queryTaskbarInfo) {\n            var mainTaskbar = (cloneElement.querySelector('.e-gantt-child-taskbar'));\n            if (!isNullOrUndefined(mainTaskbar)) {\n                this.triggerQueryTaskbarInfoByIndex(mainTaskbar, ganttData);\n            }\n        }\n        var zIndex = '';\n        if (ganttData && !isNullOrUndefined(ganttData.ganttProperties.eOverlapIndex)) {\n            zIndex = (ganttData.ganttProperties.eOverlapIndex).toString();\n        }\n        var cloneChildElement = cloneElement.cloneNode(true);\n        cloneChildElement.style.zIndex = zIndex;\n        parentTr[0].childNodes[0].childNodes[0].childNodes[0].appendChild(cloneChildElement);\n    };\n    /**\n     * To refresh all edited records\n     *\n     * @param {IGanttData} items .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRecords = function (items, isValidateRange, isUndoRedo) {\n        if (this.parent.isGanttChartRendered) {\n            this.parent.renderTemplates();\n            if (this.parent.enableMultiTaskbar) {\n                var sortedRecords = [];\n                sortedRecords = new DataManager(items).executeLocal(new Query()\n                    .sortBy('expanded', 'Descending'));\n                items = sortedRecords;\n            }\n            for (var i = 0; i < items.length; i++) {\n                var index = void 0;\n                if (isUndoRedo) {\n                    index = this.parent.ids.indexOf(items[i].ganttProperties.taskId.toString());\n                }\n                else {\n                    index = this.parent.currentViewData.indexOf(items[i]);\n                }\n                if (!this.parent.enableMultiTaskbar ||\n                    (this.parent.enableMultiTaskbar && (items[i].expanded || !this.parent.isLoad))) {\n                    this.refreshRow(index, isValidateRange, isUndoRedo);\n                }\n            }\n            this.parent.ganttChartModule.updateLastRowBottomWidth();\n        }\n    };\n    ChartRows.prototype.removeEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n            if (tr instanceof Element) {\n                tr.removeEventListener('touchmove', _this.handleTouchMove);\n                tr.removeEventListener('touchend', _this.handleTouchEnd);\n            }\n        });\n        this.parent.off('renderPanels', this.createChartTable);\n        this.parent.off('dataReady', this.initiateTemplates);\n        this.parent.off('destroy', this.destroy);\n    };\n    ChartRows.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    ChartRows.prototype.generateAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.startDate;\n        var endDateVal = data.ganttProperties.endDate;\n        var durationVal = data.ganttProperties.duration;\n        if (data.ganttProperties.isMilestone) {\n            defaultValue = nameConstant + ' ' + taskNameVal + ' ' + startDateConstant + ' '\n                + this.parent.getFormatedDate(startDateVal);\n        }\n        else {\n            if (taskNameVal) {\n                defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n            }\n            if (startDateVal) {\n                defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n            }\n            if (endDateVal) {\n                defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n            }\n            if (durationVal) {\n                defaultValue += durationConstant + ' '\n                    + this.parent.getDurationString(durationVal, data.ganttProperties.durationUnit);\n            }\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateBaselineAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.baselineStartDate;\n        var endDateVal = data.ganttProperties.baselineEndDate;\n        defaultValue += 'Baseline' + ' ';\n        defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n        defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        return defaultValue;\n    };\n    ChartRows.prototype.generateSpiltTaskAriaLabel = function (data, ganttProp) {\n        var defaultValue = '';\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var startDateVal = data.startDate;\n        var endDateVal = data.endDate;\n        var durationVal = data.duration;\n        if (startDateVal) {\n            defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        }\n        if (endDateVal) {\n            defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        }\n        if (durationVal) {\n            defaultValue += durationConstant + ' '\n                + this.parent.getDurationString(durationVal, ganttProp.durationUnit);\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateTaskLabelAriaLabel = function (type) {\n        var label = '';\n        if (type === 'left' && this.parent.labelSettings.leftLabel && !this.leftTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('leftTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.leftLabel);\n        }\n        else if (type === 'right' && this.parent.labelSettings.rightLabel && !this.rightTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('rightTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.rightLabel);\n        }\n        return label;\n    };\n    return ChartRows;\n}(DateProcessor));\nexport { ChartRows };\n","import { isScheduledTask } from '../base/utils';\nimport { getValue, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar Dependency = /** @class */ (function () {\n    function Dependency(gantt) {\n        this.parentRecord = [];\n        this.parentIds = [];\n        this.parentPredecessors = [];\n        this.validatedParentIds = [];\n        this.storeId = null;\n        this.isChildRecordValidated = [];\n        this.parent = gantt;\n        this.dateValidateModule = this.parent.dateValidationModule;\n    }\n    /**\n     * Method to populate predecessor collections in records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollection = function () {\n        var predecessorTasks = this.parent.predecessorsCollection;\n        for (var _i = 0, predecessorTasks_1 = predecessorTasks; _i < predecessorTasks_1.length; _i++) {\n            var ganttData = predecessorTasks_1[_i];\n            if ((!ganttData.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.ensurePredecessorCollectionHelper(ganttData, ganttData.ganttProperties);\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {ITaskData} ganttProp .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollectionHelper = function (ganttData, ganttProp) {\n        var predecessorVal = ganttProp.predecessorsName;\n        if (predecessorVal && (typeof predecessorVal === 'string' || typeof predecessorVal === 'number')) {\n            this.parent.setRecordValue('predecessor', this.calculatePredecessor(predecessorVal, ganttData), ganttProp, true);\n        }\n        else if (predecessorVal && typeof predecessorVal === 'object' && predecessorVal.length) {\n            var preValues = [];\n            for (var c = 0; c < predecessorVal.length; c++) {\n                var predecessorItem = predecessorVal[c];\n                var preValue = {};\n                preValue.from = getValue('from', predecessorItem) ? getValue('from', predecessorItem) : predecessorVal[c];\n                preValue.to = getValue('to', predecessorItem) ? getValue('to', predecessorItem) : ganttProp.rowUniqueID;\n                preValue.type = getValue('type', predecessorItem) ? getValue('type', predecessorItem) : 'FS';\n                var offsetUnits = getValue('offset', predecessorItem);\n                if (isNullOrUndefined(offsetUnits)) {\n                    preValue.offset = 0;\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                else if (typeof offsetUnits === 'string') {\n                    var tempOffsetUnits = this.getOffsetDurationUnit(getValue('offset', predecessorItem));\n                    preValue.offset = tempOffsetUnits.duration;\n                    preValue.offsetUnit = tempOffsetUnits.durationUnit;\n                }\n                else {\n                    preValue.offset = parseFloat(offsetUnits.toString());\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                var isOwnParent = this.checkIsParent(preValue.from.toString());\n                if (!isOwnParent) {\n                    preValues.push(preValue);\n                }\n            }\n            this.parent.setRecordValue('predecessor', preValues, ganttProp, true);\n        }\n        this.parent.setRecordValue('predecessorsName', this.getPredecessorStringValue(ganttData), ganttProp, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n    };\n    /**\n     * To render unscheduled empty task with 1 day duration during predecessor map\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateUnscheduledDependency = function (data) {\n        var task = this.parent.taskFields;\n        var prdList = !isNullOrUndefined(data[task.dependency]) ?\n            data[task.dependency].toString().split(',') : [];\n        for (var i = 0; i < prdList.length; i++) {\n            var predId = parseInt(prdList[i], 10);\n            if (!isNaN(predId)) {\n                var predData = this.parent.getRecordByID(predId.toString());\n                var record = !isNullOrUndefined(predData) ?\n                    extend({}, {}, predData.taskData, true) : null;\n                if (!isNullOrUndefined(record) && isNullOrUndefined(record[task.startDate])\n                    && isNullOrUndefined(record[task.duration]) && isNullOrUndefined(record[task.endDate])) {\n                    record[task.duration] = 1;\n                    var startDate = void 0;\n                    var parentItem = predData.parentItem;\n                    if (parentItem) {\n                        var parentTask = this.parent.getParentTask(predData.parentItem);\n                        while (parentTask && !parentTask.ganttProperties.startDate) {\n                            parentTask = this.parent.getParentTask(parentTask.parentItem);\n                        }\n                        startDate = parentTask ? parentTask.ganttProperties.startDate : this.parent.cloneProjectStartDate;\n                    }\n                    else {\n                        startDate = this.parent.cloneProjectStartDate;\n                    }\n                    record[task.startDate] = startDate;\n                    this.parent.updateRecordByID(record);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} fromId .\n     * @returns {boolean} .\n     */\n    Dependency.prototype.checkIsParent = function (fromId) {\n        var boolValue = false;\n        var task = this.parent.connectorLineModule.getRecordByID(fromId);\n        if (task.hasChildRecords) {\n            boolValue = true;\n        }\n        return boolValue;\n    };\n    // Get the root parent of the record\n    Dependency.prototype.getRootParent = function (rec) {\n        var parentRec = rec;\n        if (rec.parentItem) {\n            parentRec = this.parent.flatData.filter(function (item) {\n                return item.uniqueID === rec.parentUniqueID;\n            })[0];\n            if (parentRec.parentItem) {\n                parentRec = this.getRootParent(parentRec);\n            }\n            return parentRec;\n        }\n        return parentRec;\n    };\n    // To check whether the predecessor drawn is valid for parent task\n    Dependency.prototype.validateParentPredecessor = function (fromRecord, toRecord) {\n        if (fromRecord && toRecord) {\n            if (toRecord.hasChildRecords && !fromRecord.hasChildRecords) {\n                if (fromRecord.parentUniqueID === toRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (fromRecord.parentItem) {\n                            fromRecord = this.parent.flatData[this.parent.ids.indexOf(fromRecord.parentItem.taskId)];\n                            if (fromRecord.uniqueID === toRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (fromRecord.parentItem);\n                }\n            }\n            else if (!toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentUniqueID === fromRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (toRecord.parentItem) {\n                            toRecord = this.parent.flatData[this.parent.ids.indexOf(toRecord.parentItem.taskId)];\n                            if (toRecord.uniqueID === fromRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (toRecord.parentItem);\n                }\n            }\n            else if (toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentItem && fromRecord.parentItem) {\n                    if (fromRecord.parentUniqueID === toRecord.uniqueID || fromRecord.uniqueID === toRecord.parentUniqueID) {\n                        return false;\n                    }\n                }\n                else {\n                    if (!toRecord.parentItem && fromRecord.parentItem) {\n                        var fromRootParent = this.getRootParent(fromRecord);\n                        if (fromRootParent.uniqueID === toRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                    else if (toRecord.parentItem && !fromRecord.parentItem) {\n                        var toRootParent = this.getRootParent(toRecord);\n                        if (toRootParent.uniqueID === fromRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * Get predecessor collection object from predecessor string value\n     *\n     * @param {string | number} predecessorValue .\n     * @param {IGanttData} ganttRecord .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.calculatePredecessor = function (predecessorValue, ganttRecord) {\n        var _this = this;\n        var predecessor = predecessorValue.toString();\n        var collection = [];\n        var match;\n        var values = [];\n        var offsetValue;\n        var predecessorText;\n        var parentRecords = [];\n        predecessor.split(',').forEach(function (el) {\n            var isGUId = false;\n            var firstPart;\n            var predecessorName;\n            var isAlpha = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = el.split('-');\n            var id;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = el.substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (el.includes('-')) {\n                var lastIndex = el.lastIndexOf('-');\n                var lastPart = el.substring(lastIndex + 1);\n                var baseString = el.replace(lastPart, '').trim();\n                var match_1 = baseString.match(/(FS|SS|SF|FF)-$/);\n                var processedResult = (match_1 ? match_1[0] : '') + lastPart;\n                if (!/^(FS|SS|SF|FF)/.test(processedResult)) {\n                    var prefixMatch = processedResult.match(/(FS|SS|SF|FF)/);\n                    processedResult = prefixMatch\n                        ? prefixMatch[0] + processedResult.slice(processedResult.indexOf(prefixMatch[0]) + prefixMatch[0].length)\n                        : el;\n                }\n                predecessorName = processedResult;\n                if (el.includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = el.indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = el.substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = el;\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = el.slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                offsetValue = '+';\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = el;\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = el.slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                    offsetValue = '-';\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = el.split('+');\n                    offsetValue = '+';\n                    if (el.indexOf('-') >= 0) {\n                        values = el.split('-');\n                        offsetValue = '-';\n                    }\n                }\n            }\n            match = [];\n            var ids = _this.parent.viewType === 'ResourceView' ? _this.parent.getTaskIds() : _this.parent.ids;\n            var isExist1 = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + values[0]) : ids.indexOf(values[0]);\n            if (isExist1 !== -1) {\n                match[0] = values[0];\n            }\n            else {\n                if (ids.indexOf(values[0]) === -1) {\n                    match = values[0].split(' ');\n                    if (match.length === 1) {\n                        if (match[0].indexOf(' ') !== -1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        else {\n                            match[0] = values[0].slice(0, -2);\n                            match[1] = values[0].slice(-2);\n                        }\n                    }\n                }\n                else {\n                    match[0] = values[0];\n                }\n            }\n            var isExist = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + match[0]) : ids.indexOf(match[0]);\n            /*Validate for appropriate predecessor*/\n            if (match[0] && isExist !== -1) {\n                if (match.length > 1) {\n                    var type = match[1].toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        var e = \"The provided dependency type, \" + type + \", is invalid. Please ensure that the Dependency Type is FS or FF or SS or SF\";\n                        _this.parent.trigger('actionFailure', { error: e });\n                        predecessorText = 'FS';\n                    }\n                }\n                else if (el.includes('-') && /[A-Za-z]/.test(predecessorName) && firstPart.includes('-')) {\n                    var type = el.slice(-2).toString();\n                    type.toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        predecessorText = 'FS';\n                    }\n                }\n                else {\n                    predecessorText = 'FS';\n                }\n            }\n            else {\n                return; // exit current loop for invalid id (match[0])\n            }\n            var tempOffset = values.length > 1 ? offsetValue + '' + values[1] : '0';\n            var offsetUnits = _this.getOffsetDurationUnit(tempOffset);\n            var obj = {\n                from: match[0],\n                type: predecessorText,\n                isDrawn: false,\n                to: _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                    : ganttRecord.ganttProperties.rowUniqueID.toString(),\n                offsetUnit: offsetUnits.durationUnit,\n                offset: offsetUnits.duration\n            };\n            var isOwnParent = _this.checkIsParent(match[0]);\n            if (!_this.parent.allowParentDependency) {\n                if (!isOwnParent) {\n                    collection.push(obj);\n                }\n            }\n            else {\n                var fromData = _this.parent.connectorLineModule.getRecordByID(obj.to);\n                var toData = _this.parent.connectorLineModule.getRecordByID(obj.from);\n                var isValid = void 0;\n                if (toData && fromData) {\n                    isValid = _this.validateParentPredecessor(toData, fromData);\n                    if (isValid) {\n                        collection.push(obj);\n                        if (parentRecords.indexOf(toData) === -1 && toData.hasChildRecords && _this.parent.editModule\n                            && _this.parent.editModule.cellEditModule && _this.parent.editModule.cellEditModule.isCellEdit) {\n                            parentRecords.push(extend([], [], [toData], true)[0]);\n                        }\n                    }\n                }\n                else {\n                    collection.push(obj);\n                }\n                match.splice(0);\n            }\n        });\n        if (parentRecords.length > 0 && this.parent.undoRedoModule && this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit) {\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecords;\n        }\n        var creatCollection = [];\n        collection.map(function (data) {\n            var from = data.from;\n            var to = data.to;\n            var checkColloction = [];\n            checkColloction = collection.filter(function (fdata) { return fdata.from === from && fdata.to === to; });\n            if (creatCollection.indexOf(checkColloction[checkColloction.length - 1]) === -1) {\n                creatCollection.push(checkColloction[checkColloction.length - 1]);\n            }\n        });\n        return creatCollection;\n    };\n    /**\n     * Get predecessor value as string with offset values\n     *\n     * @param {IGanttData} data .\n     * @returns {string} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorStringValue = function (data) {\n        var predecessors = data.ganttProperties.predecessor;\n        var resultString = '';\n        var temp1;\n        var match = [];\n        if (predecessors) {\n            var length_1 = predecessors.length;\n            for (var i = 0; i < length_1; i++) {\n                var currentValue = predecessors[i];\n                var temp = '';\n                var id = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId\n                    : data.ganttProperties.rowUniqueID;\n                if (currentValue.from !== id.toString()) {\n                    temp = currentValue.from + currentValue.type;\n                    if (typeof (data.ganttProperties.taskId) === 'string') {\n                        match[0] = temp.slice(0, -2);\n                        match[1] = temp.slice(-2);\n                        temp1 = match[0] + ' ' + match[1];\n                    }\n                    else {\n                        temp1 = temp;\n                    }\n                    temp = temp1;\n                    if (currentValue.offset !== 0) {\n                        temp += currentValue.offset > 0 ? ('+' + currentValue.offset + ' ') : (currentValue.offset + ' ');\n                        var multiple = currentValue.offset !== 1;\n                        if (currentValue.offsetUnit === 'day') {\n                            temp += multiple ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                        }\n                        else if (currentValue.offsetUnit === 'hour') {\n                            temp += multiple ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                        }\n                        else {\n                            temp += multiple ? this.parent.localeObj.getConstant('minutes') : this.parent.localeObj.getConstant('minute');\n                        }\n                    }\n                    if (resultString.length > 0) {\n                        resultString = resultString + ',' + temp;\n                    }\n                    else {\n                        resultString = temp;\n                    }\n                }\n            }\n        }\n        return resultString;\n    };\n    /*Get duration and duration unit value from tasks*/\n    Dependency.prototype.getOffsetDurationUnit = function (val) {\n        var duration = 0;\n        var durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        var durationUnitLabels = this.parent.durationUnitEditText;\n        if (typeof val === 'string') {\n            var values = val.match(/[^0-9]+|[0-9]+/g);\n            for (var x = 0; x < values.length; x++) {\n                values[x] = (values[x]).trim();\n            }\n            if (values[0] === '-' && values[1]) {\n                values[1] = values[0] + values[1];\n                values.shift();\n            }\n            else if (values[0] === '+') {\n                values.shift();\n            }\n            if (values[1] === '.' && !isNaN(parseInt(values[2], 10))) {\n                values[0] += values[1] + values[2];\n                values.splice(1, 2);\n            }\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0]);\n                durationUnit = values[1] ? (values[1].toLowerCase()).trim() : '';\n                if (getValue('minute', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'day';\n                }\n                else {\n                    durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n            }\n        }\n        else {\n            duration = val;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        if (isNaN(duration)) {\n            var err = 'The provided value for the offset field is invalid.Please ensure the offset field contains only valid numeric values';\n            this.parent.trigger('actionFailure', { error: err });\n            duration = 0;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n    };\n    /**\n     * Update predecessor object in both from and to tasks collection\n     *\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessors = function (flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        var predecessorsCollection = this.parent.predecessorsCollection;\n        var ganttRecord;\n        var length = predecessorsCollection.length;\n        for (var count = 0; count < length; count++) {\n            ganttRecord = predecessorsCollection[count];\n            if ((!ganttRecord.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.updatePredecessorHelper(ganttRecord, predecessorsCollection, flatDataCollection);\n                if (!ganttRecord.ganttProperties.isAutoSchedule && this.parent.editSettings.allowEditing) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To update predecessor collection to successor tasks\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IGanttData[]} predecessorsCollection .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessorHelper = function (ganttRecord, predecessorsCollection, flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        var connectorsCollection = ganttRecord.ganttProperties.predecessor;\n        var successorGanttRecord;\n        var connectorCount = connectorsCollection.length;\n        predecessorsCollection = isNullOrUndefined(predecessorsCollection) ? [] : predecessorsCollection;\n        for (var i = 0; i < connectorCount; i++) {\n            var connector = connectorsCollection[i];\n            if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(flatDataCollection)) {\n                successorGanttRecord = flatDataCollection.get(connector.from);\n            }\n            else {\n                successorGanttRecord = this.parent.connectorLineModule.getRecordByID(connector.from);\n            }\n            var id = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (connector.from !== id.toString()) {\n                if (successorGanttRecord) {\n                    var predecessorCollection = void 0;\n                    if (successorGanttRecord.ganttProperties.predecessor) {\n                        predecessorCollection = (extend([], successorGanttRecord.ganttProperties.predecessor, [], true));\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        //  successorGanttRecord.ganttProperties.predecessor.push(connector);\n                    }\n                    else {\n                        predecessorCollection = [];\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        // this.parent.setRecordValue('predecessor', [], successorGanttRecord.ganttProperties, true);\n                        // successorGanttRecord.ganttProperties.predecessor.push(connector);\n                        predecessorsCollection.push(successorGanttRecord);\n                    }\n                }\n            }\n        }\n    };\n    Dependency.prototype.traverseParents = function (record) {\n        this.parent.dataOperation.updateParentItems(record);\n    };\n    /**\n     * Method to validate date of tasks with predecessor values for all records\n     *\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatedRecordsDateByPredecessor = function (flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (!this.parent.autoCalculateDateScheduling ||\n            (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        var flatData = this.parent.flatData;\n        var totLength = flatData.length;\n        if (isNullOrUndefined(flatDataCollection)) {\n            flatDataCollection = new Map();\n            for (var _i = 0, flatData_1 = flatData; _i < flatData_1.length; _i++) {\n                var record = flatData_1[_i];\n                flatDataCollection.set(record.ganttProperties.rowUniqueID.toString(), record);\n            }\n        }\n        for (var count = 0; count < totLength; count++) {\n            var currentTask = flatData[count];\n            var properties = currentTask.ganttProperties;\n            if (properties.predecessorsName) {\n                this.validatePredecessorDates(currentTask, flatDataCollection);\n                var predecessorCollection = properties.predecessor;\n                if (predecessorCollection && predecessorCollection.length > 1) {\n                    for (var _a = 0, predecessorCollection_1 = predecessorCollection; _a < predecessorCollection_1.length; _a++) {\n                        var predecessor = predecessorCollection_1[_a];\n                        var validateRecord = void 0;\n                        if (this.parent.viewType === 'ProjectView') {\n                            validateRecord = flatDataCollection.get(predecessor.to);\n                        }\n                        else {\n                            validateRecord = this.parent.getRecordByID(predecessor.to);\n                        }\n                        if (validateRecord) {\n                            this.validatePredecessorDates(validateRecord, flatDataCollection);\n                        }\n                    }\n                }\n                if (currentTask.hasChildRecords && properties.startDate && this.parent.allowParentDependency) {\n                    this.updateChildItems(currentTask);\n                }\n                if (currentTask.parentItem) {\n                    var recordId = currentTask.parentItem.taskId;\n                    var parentRecord = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        parentRecord = flatDataCollection.get(recordId);\n                    }\n                    else {\n                        parentRecord = this.parent.getRecordByID(recordId);\n                    }\n                    if (parentRecord) {\n                        this.traverseParents(parentRecord);\n                    }\n                }\n            }\n        }\n    };\n    Dependency.prototype.updateParentPredecessor = function (flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (this.parent.enablePredecessorValidation) {\n            var parentPredecessorLength = this.parentPredecessors.length;\n            for (var i = parentPredecessorLength - 1; i >= 0; i--) {\n                var item = this.parentPredecessors[i];\n                this.validatePredecessorDates(item, flatDataCollection);\n                if (item.ganttProperties.startDate) {\n                    this.updateChildItems(item);\n                }\n            }\n        }\n    };\n    /**\n     * To validate task date values with dependency\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessorDates = function (ganttRecord, flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (ganttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            var count = void 0;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var currentTaskId_1 = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                : ganttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_1) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (count = 0; count < predecessors.length; count++) {\n                var predecessor = predecessors[count];\n                if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(flatDataCollection)) {\n                    parentGanttRecord = flatDataCollection.get(predecessor.from);\n                    record = flatDataCollection.get(predecessor.to);\n                }\n                else {\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                }\n                if (this.parent.allowParentDependency && parentGanttRecord.hasChildRecords) {\n                    this.parent.dataOperation.updateParentItems(parentGanttRecord);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop) {\n                    var index = void 0;\n                    if (isNullOrUndefined(record)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n                        record = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                    else if (isNullOrUndefined(parentGanttRecord)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n                        parentGanttRecord = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                }\n                if (this.parent.allowParentDependency && this.parent.isLoad && this.parentPredecessors.indexOf(ganttRecord) === -1\n                    && (ganttRecord.hasChildRecords || record.hasChildRecords)) {\n                    this.parentPredecessors.push(ganttRecord);\n                }\n                if (record.ganttProperties.isAutoSchedule || this.parent.validateManualTasksOnLinking) {\n                    this.validateChildGanttRecord(parentGanttRecord, record, flatDataCollection);\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate task with predecessor\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     */\n    Dependency.prototype.validateChildGanttRecord = function (parentGanttRecord, childGanttRecord, flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (this.parent.editedTaskBarItem === childGanttRecord || (parentGanttRecord &&\n            isNullOrUndefined(isScheduledTask(parentGanttRecord.ganttProperties)))\n            || (childGanttRecord && isNullOrUndefined(isScheduledTask(childGanttRecord.ganttProperties)))) {\n            return;\n        }\n        if (this.parent.isInPredecessorValidation && (childGanttRecord.ganttProperties.isAutoSchedule ||\n            this.parent.validateManualTasksOnLinking)) {\n            var childRecordProperty = childGanttRecord.ganttProperties;\n            var currentTaskId_2 = this.parent.viewType === 'ResourceView' ? childRecordProperty.taskId.toString()\n                : childRecordProperty.rowUniqueID.toString();\n            var predecessorsCollection = childRecordProperty.predecessor;\n            var childPredecessor = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_2) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var startDate = this.getPredecessorDate(childGanttRecord, childPredecessor, flatDataCollection);\n            this.parent.setRecordValue('startDate', startDate, childRecordProperty, true);\n            this.parent.dataOperation.updateMappingData(childGanttRecord, 'startDate');\n            var segments = childGanttRecord.ganttProperties.segments;\n            if (isNullOrUndefined(segments) || !isNullOrUndefined(segments) && segments.length === 0) {\n                this.dateValidateModule.calculateEndDate(childGanttRecord);\n            }\n            this.parent.dataOperation.updateWidthLeft(childGanttRecord);\n            if (!this.parent.isLoad && !this.parent.isFromOnPropertyChange && childGanttRecord.parentItem &&\n                this.parent.isInPredecessorValidation &&\n                this.parent.getParentTask(childGanttRecord.parentItem).ganttProperties.isAutoSchedule) {\n                if (this.parentIds.indexOf(childGanttRecord.parentItem.uniqueID) === -1) {\n                    this.parentIds.push(childGanttRecord.parentItem.uniqueID);\n                    this.parentRecord.push(childGanttRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessorsCollection .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {Date} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorDate = function (ganttRecord, predecessorsCollection, flatDataCollection) {\n        var _this = this;\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        var maxStartDate;\n        var tempStartDate;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var validatedPredecessor = predecessorsCollection.filter(function (data) {\n            var id = _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (data.to === id.toString()) {\n                return data;\n            }\n            else {\n                return null;\n            }\n        });\n        if (validatedPredecessor) {\n            var length_2 = validatedPredecessor.length;\n            for (var i = 0; i < length_2; i++) {\n                var predecessor = validatedPredecessor[i];\n                if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(flatDataCollection)) {\n                    parentGanttRecord = flatDataCollection.get(predecessor.from);\n                    childGanttRecord = flatDataCollection.get(predecessor.to);\n                }\n                else {\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(childGanttRecord) &&\n                    isNullOrUndefined(parentGanttRecord))) {\n                    childGanttRecord = isNullOrUndefined(childGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : childGanttRecord;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : parentGanttRecord;\n                }\n                if (childGanttRecord && parentGanttRecord) {\n                    tempStartDate =\n                        this.getValidatedStartDate(childGanttRecord.ganttProperties, parentGanttRecord.ganttProperties, predecessor);\n                }\n                if (maxStartDate === null || this.dateValidateModule.compareDates(tempStartDate, maxStartDate) === 1) {\n                    maxStartDate = tempStartDate;\n                }\n            }\n        }\n        return maxStartDate;\n    };\n    /**\n     * Get validated start date as per predecessor type\n     *\n     * @param {ITaskData} ganttProperty .\n     * @param {ITaskData} parentRecordProperty .\n     * @param {IPredecessor} predecessor .\n     * @returns {Date} .\n     */\n    Dependency.prototype.getValidatedStartDate = function (ganttProperty, parentRecordProperty, predecessor) {\n        var type = predecessor.type;\n        var offset = predecessor.offset;\n        var tempDate;\n        var returnStartDate;\n        switch (type) {\n            case 'FS':\n                tempDate = this.dateValidateModule.getValidEndDate(parentRecordProperty);\n                if (!ganttProperty.isMilestone || offset !== 0) {\n                    tempDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n            case 'FF':\n            case 'SF':\n                tempDate = type === 'FF' ? this.dateValidateModule.getValidEndDate(parentRecordProperty) :\n                    this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    var date = new Date(tempDate);\n                    date.setDate(date.getDate() - 1);\n                    tempDate = this.dateValidateModule.checkEndDate(tempDate, ganttProperty);\n                }\n                if (ganttProperty.segments && ganttProperty.segments.length !== 0) {\n                    var duration = this.dateValidateModule.getDuration(ganttProperty.startDate, ganttProperty.endDate, ganttProperty.durationUnit, ganttProperty.isAutoSchedule, ganttProperty.isMilestone);\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                else {\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, ganttProperty.duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                break;\n            case 'SS':\n                tempDate = this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n        }\n        return returnStartDate;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {IPredecessor} predecessor .\n     * @param {ITaskData} record .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateDateByOffset = function (date, predecessor, record) {\n        var resultDate;\n        var offsetValue = predecessor.offset;\n        var durationUnit = predecessor.offsetUnit;\n        if (offsetValue < 0 && !isNullOrUndefined(date)) {\n            resultDate = this.dateValidateModule.getStartDate(this.dateValidateModule.checkEndDate(date, record), (offsetValue * -1), durationUnit, record, true);\n        }\n        else {\n            if (!isNullOrUndefined(date)) {\n                resultDate = this.dateValidateModule.getEndDate(date, offsetValue, durationUnit, record, false);\n            }\n            if (!record.isMilestone) {\n                resultDate = this.dateValidateModule.checkStartDate(resultDate, record);\n            }\n        }\n        return resultDate;\n    };\n    /**\n     *\n     * @param {IGanttData} records .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.createConnectorLinesCollection = function (records) {\n        var ganttRecords = records ? records : this.parent.currentViewData;\n        var pdfExportModule = this.parent.pdfExportModule;\n        var isPdfExport = pdfExportModule && pdfExportModule.isPdfExport;\n        if (isPdfExport) {\n            var exportProps = pdfExportModule.helper && pdfExportModule.helper.exportProps;\n            var fitToWidthSettings = exportProps && exportProps.fitToWidthSettings;\n            if (exportProps && fitToWidthSettings && fitToWidthSettings.isFitToWidth) {\n                var exportType = exportProps.exportType;\n                var beforeSinglePageExport = pdfExportModule.helper.beforeSinglePageExport;\n                ganttRecords = (exportType === 'CurrentViewData') ?\n                    beforeSinglePageExport['cloneCurrentViewData'] :\n                    beforeSinglePageExport['cloneFlatData'];\n            }\n        }\n        var recordLength = ganttRecords.length;\n        var count;\n        var ganttRecord;\n        var predecessorsCollection;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        }\n        var flatData = this.parent.flatData;\n        var flatDataCollection = isPdfExport ? null : new Map();\n        if (!isPdfExport && !isNullOrUndefined(flatData)) {\n            for (var _i = 0, flatData_2 = flatData; _i < flatData_2.length; _i++) {\n                var record = flatData_2[_i];\n                flatDataCollection.set(record.ganttProperties.rowUniqueID.toString(), record);\n            }\n        }\n        var chartRows = this.parent.ganttChartModule.getChartRows();\n        var rowHeight = !isNullOrUndefined(chartRows) && chartRows[0] && chartRows[0].offsetHeight;\n        for (count = 0; count < recordLength; count++) {\n            if (this.parent.editModule && this.parent.editModule.deletedTaskDetails.length > 0) {\n                var parentRecord = ganttRecords[count].parentItem;\n                if (parentRecord) {\n                    var parentItem = !isNullOrUndefined(flatDataCollection) ?\n                        flatDataCollection.get(parentRecord.taskId.toString()) : this.parent.getRecordByID(parentRecord.taskId.toString());\n                    this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), ganttRecords[count]);\n                }\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['canUpdateIndex']) {\n                ganttRecords[count].index = count;\n                if (ganttRecords[count].parentItem && this.parent.getParentTask(ganttRecords[count].parentItem)) {\n                    ganttRecords[count].parentItem.index = this.parent.getParentTask(ganttRecords[count].parentItem).index;\n                }\n            }\n            ganttRecord = ganttRecords[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                this.addPredecessorsCollection(predecessorsCollection, flatDataCollection, rowHeight);\n            }\n        }\n    };\n    /**\n     *\n     * @param {object[]} predecessorsCollection .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @param {number} rowHeight .\n     * @returns {void} .\n     */\n    Dependency.prototype.addPredecessorsCollection = function (predecessorsCollection, flatDataCollection, rowHeight) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (rowHeight === void 0) { rowHeight = 0; }\n        var predecessorsLength;\n        var predecessorCount;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        if (predecessorsCollection) {\n            predecessorsLength = predecessorsCollection.length;\n            for (predecessorCount = 0; predecessorCount < predecessorsLength; predecessorCount++) {\n                predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(flatDataCollection)) {\n                    parentGanttRecord = flatDataCollection.get(predecessor[from]);\n                    childGanttRecord = flatDataCollection.get(predecessor[to]);\n                }\n                else {\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                }\n                var isValid = true;\n                if (((parentGanttRecord && parentGanttRecord.hasChildRecords && !parentGanttRecord.expanded) ||\n                    (childGanttRecord && childGanttRecord.hasChildRecords && !childGanttRecord.expanded)) &&\n                    !this.parent.allowTaskbarOverlap && this.parent.viewType === 'ProjectView') {\n                    isValid = false;\n                }\n                if (isValid && this.parent.connectorLineModule.expandedRecords &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(parentGanttRecord) !== -1 &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(childGanttRecord) !== -1) {\n                    this.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor, rowHeight);\n                }\n            }\n        }\n    };\n    /**\n     * To refresh connector line object collections\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor} predecessor .\n     * @param {number} rowHeight .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateConnectorLineObject = function (parentGanttRecord, childGanttRecord, predecessor, rowHeight) {\n        if (rowHeight === void 0) { rowHeight = 0; }\n        var connectorObj = this.parent.connectorLineModule.createConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor, rowHeight);\n        if (connectorObj) {\n            if (childGanttRecord.isCritical && parentGanttRecord.isCritical) {\n                connectorObj.isCritical = true;\n            }\n            if ((this.parent.connectorLineIds.length > 0 && this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) === -1) ||\n                this.parent.connectorLineIds.length === 0) {\n                this.parent.updatedConnectorLineCollection.push(connectorObj);\n                this.parent.connectorLineIds.push(connectorObj.connectorLineId);\n            }\n            else if (this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) !== -1) {\n                var index = this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId);\n                this.parent.updatedConnectorLineCollection[index] = connectorObj;\n            }\n            predecessor.isDrawn = true;\n        }\n        return connectorObj;\n    };\n    /**\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor[]} previousValue .\n     * @param {string} validationOn .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessor = function (childGanttRecord, previousValue, validationOn) {\n        if (!this.parent.isInPredecessorValidation) {\n            return;\n        }\n        if (childGanttRecord.ganttProperties.predecessor) {\n            var taskBarModule = this.parent.editModule.taskbarEditModule;\n            var ganttProp = void 0;\n            if (taskBarModule) {\n                ganttProp = taskBarModule.taskBarEditRecord;\n            }\n            var predecessorsCollection = childGanttRecord.ganttProperties.predecessor;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var predecessor = void 0;\n            var successor = void 0;\n            var currentTaskId_3 = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId.toString()\n                : childGanttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var successors = predecessorsCollection.filter(function (data) {\n                if (data.from === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var parentRec = void 0;\n            for (var count = 0; count < predecessors.length; count++) {\n                predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, predecessor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, predecessor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                var id = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId\n                    : childGanttRecord.ganttProperties.rowUniqueID;\n                if ((id.toString() === predecessor.to\n                    || id.toString() === predecessor.from)\n                    && (!validationOn || validationOn === 'predecessor')) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                        this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                    }\n                }\n            }\n            for (var count = 0; count < successors.length; count++) {\n                successor = successors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(successor.from);\n                record = this.parent.connectorLineModule.getRecordByID(successor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, successor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, successor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                if (validationOn !== 'predecessor' && this.parent.isValidationEnabled) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && record) {\n                        var rootParent = parentGanttRecord.parentItem ?\n                            this.getRootParent(parentGanttRecord) : null;\n                        if (record.hasChildRecords && (!this.parent.editModule['editedRecord'].hasChildRecords || (!record.parentItem &&\n                            (!rootParent || (rootParent && rootParent.ganttProperties.taskId === this.parent.editModule['editedRecord'].ganttProperties.taskId)))) &&\n                            this.isValidatedParentTaskID !== record.ganttProperties.taskId) {\n                            this.updateChildItems(record);\n                            for (var i = 0; i < record.childRecords.length; i++) {\n                                var ganttProp_1 = record.childRecords[i].ganttProperties;\n                                if (this.isChildRecordValidated.indexOf(ganttProp_1.taskId) !== -1) {\n                                    return;\n                                }\n                                this.isChildRecordValidated.push(ganttProp_1.taskId);\n                                if (ganttProp_1.predecessor && ganttProp_1.predecessor.length > 0) {\n                                    for (var j = 0; j < ganttProp_1.predecessor.length; j++) {\n                                        var childRec = void 0;\n                                        if (ganttProp_1.predecessor[j].to !== record.ganttProperties.taskId.toString()) {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].to)];\n                                        }\n                                        else {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].from)];\n                                        }\n                                        if (childRec) {\n                                            this.validatePredecessor(childRec, [], '');\n                                            if (childRec.hasChildRecords && this.parent.editModule['editedRecord'].hasChildRecords) {\n                                                this.updateChildItems(childRec);\n                                            }\n                                            this.isValidatedParentTaskID = childRec.ganttProperties.taskId;\n                                        }\n                                    }\n                                }\n                            }\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                        if (this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                }\n                else if (!record.ganttProperties.isAutoSchedule && this.parent.updateOffsetOnTaskbarEdit) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](record);\n                }\n                if (parentGanttRecord.expanded === false || record.expanded === false) {\n                    if (record) {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                    continue;\n                }\n                if (record) {\n                    if (this.parent.editModule.isFirstCall) {\n                        var taskIdsForView = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                        this.storeId = JSON.parse(JSON.stringify(taskIdsForView));\n                        this.parent.editModule.isFirstCall = false;\n                    }\n                    if (this.storeId) {\n                        var index = void 0;\n                        var idAsString = record[this.parent.taskFields.id].toString();\n                        if (this.parent.viewType === 'ResourceView') {\n                            var taskId = \"T\" + idAsString;\n                            index = this.storeId.includes(taskId) ? this.storeId.indexOf(taskId) : -1;\n                        }\n                        else {\n                            index = this.storeId.indexOf(idAsString);\n                        }\n                        if (index !== -1) {\n                            this.storeId = this.storeId.slice(0, index).concat(this.storeId.slice(index + 1));\n                            this.validatePredecessor(record, undefined, 'successor');\n                        }\n                    }\n                    else {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                }\n            }\n            if (record && !record.hasChildRecords && record.parentItem &&\n                this.validatedParentIds.indexOf(record.parentItem.taskId) === -1) {\n                this.validatedParentIds.push(record.parentItem.taskId);\n            }\n            var validUpdate = true;\n            if (record && record.hasChildRecords && this.validatedParentIds.indexOf(record.ganttProperties.taskId.toString()) !== -1) {\n                validUpdate = false;\n            }\n            if (validUpdate) {\n                if (record && record.ganttProperties.taskId !== this.isValidatedParentTaskID && ganttProp) {\n                    if ((taskBarModule.taskBarEditAction !== 'ParentDrag' && taskBarModule.taskBarEditAction !== 'ChildDrag')) {\n                        if (!ganttProp.hasChildRecords && record.hasChildRecords) {\n                            this.updateChildItems(record);\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                    if (record.parentItem) {\n                        this.parent.dataOperation.updateParentItems(record, true);\n                        var parentData = this.parent.getParentTask(record.parentItem);\n                        var index = (this.storeId && this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) !== -1) ?\n                            this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) : -1;\n                        if (parentData.ganttProperties.predecessor && parentData.ganttProperties.predecessor.length > 0 && index !== -1) {\n                            for (var i = 0; i < parentData.ganttProperties.predecessor.length; i++) {\n                                if (parentData.ganttProperties.predecessor[i].to !==\n                                    parentData.ganttProperties.taskId.toString()) {\n                                    var childRec = this.parent.flatData[this.parent.ids.indexOf(parentData.ganttProperties.predecessor[i].to)];\n                                    if (childRec && childRec.parentItem) {\n                                        this.validateChildGanttRecord(record, childRec);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (record && record.hasChildRecords && this.isValidatedParentTaskID !== record.ganttProperties.taskId && !ganttProp) {\n                    this.updateChildItems(record);\n                    this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateChildItems = function (ganttRecord) {\n        var _this = this;\n        if (ganttRecord.childRecords.length > 0 && this.validatedChildItems && this.validatedChildItems.length > 0) {\n            var isPresent = true;\n            isPresent = !ganttRecord.childRecords.some(function (record) {\n                return _this.validatedChildItems['includes'](record);\n            });\n            if (!isPresent) {\n                return;\n            }\n        }\n        var previousData = this.parent.previousRecords[ganttRecord.uniqueID];\n        var previousStartDate;\n        if (isNullOrUndefined(previousData) ||\n            (isNullOrUndefined(previousData) && !isNullOrUndefined(previousData.ganttProperties))) {\n            previousStartDate = new Date(ganttRecord.ganttProperties.startDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(previousData.ganttProperties.startDate)) {\n                previousStartDate = new Date(previousData.ganttProperties.startDate.getTime());\n            }\n        }\n        var currentStartDate = ganttRecord.ganttProperties.startDate;\n        var childRecords = [];\n        var validStartDate;\n        var validEndDate;\n        var calcEndDate;\n        var isRightMove;\n        var durationDiff;\n        this.getUpdatableChildRecords(ganttRecord, childRecords);\n        if (childRecords.length === 0) {\n            return;\n        }\n        if (!isNullOrUndefined(previousStartDate) && !isNullOrUndefined(currentStartDate) &&\n            previousStartDate.getTime() > currentStartDate.getTime()) {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(currentStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(previousStartDate, ganttRecord.ganttProperties);\n            isRightMove = false;\n        }\n        else {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(previousStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(currentStartDate, ganttRecord.ganttProperties);\n            isRightMove = true;\n        }\n        //Get Duration\n        if (!isNullOrUndefined(validStartDate) && !isNullOrUndefined(validEndDate) && validStartDate.getTime() >= validEndDate.getTime()) {\n            durationDiff = 0;\n        }\n        else {\n            durationDiff = this.parent.dateValidationModule.getDuration(validStartDate, validEndDate, 'minute', true, false);\n        }\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                if (durationDiff > 0) {\n                    var startDate = isScheduledTask(childRecords[i].ganttProperties) ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.startDate ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.endDate ?\n                        childRecords[i].ganttProperties.endDate : new Date(previousStartDate.toString());\n                    if (isRightMove) {\n                        calcEndDate = this.parent.dateValidationModule.getEndDate(this.parent.dateValidationModule.checkStartDate(startDate, childRecords[i].ganttProperties, childRecords[i].ganttProperties.isMilestone), durationDiff, 'minute', childRecords[i].ganttProperties, false);\n                    }\n                    else {\n                        calcEndDate = this.parent.dateValidationModule.getStartDate(this.parent.dateValidationModule.checkEndDate(startDate, childRecords[i].ganttProperties), durationDiff, 'minute', childRecords[i].ganttProperties);\n                    }\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n                else if (isNullOrUndefined(previousData)) {\n                    calcEndDate = previousStartDate;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <= calcEndDate.getTime()) {\n                        this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    }\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n            }\n        }\n        if (childRecords.length) {\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n    };\n    /**\n     * To get updated child records.\n     *\n     * @param {IGanttData} parentRecord .\n     * @param {IGanttData} childLists .\n     * @returns {void} .\n     */\n    Dependency.prototype.getUpdatableChildRecords = function (parentRecord, childLists) {\n        var childRecords = parentRecord.childRecords;\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                childLists.push(childRecords[i]);\n                if (childRecords[i].hasChildRecords) {\n                    this.getUpdatableChildRecords(childRecords[i], childLists);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} data .\n     * @param {Date} newStartDate .\n     * @returns {void} .\n     */\n    Dependency.prototype.calculateDateByRoundOffDuration = function (data, newStartDate) {\n        var ganttRecord = data;\n        var taskData = ganttRecord.ganttProperties;\n        var projectStartDate = new Date(newStartDate.getTime());\n        if (!isNullOrUndefined(taskData.endDate) && isNullOrUndefined(taskData.startDate)) {\n            var endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, null);\n            this.parent.setRecordValue('endDate', this.parent.dateValidationModule.checkEndDate(endDate, ganttRecord.ganttProperties), taskData, true);\n        }\n        else {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, false), taskData, true);\n            if (!isNullOrUndefined(taskData.duration)) {\n                this.parent.dateValidationModule.calculateEndDate(ganttRecord);\n            }\n        }\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n    };\n    Dependency.prototype.getRecord = function (parentGanttRecord, record, predecessor) {\n        var index;\n        var data;\n        if (isNullOrUndefined(record)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        else if (isNullOrUndefined(parentGanttRecord)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        return data;\n    };\n    /**\n     * Method to get validate able predecessor alone from record\n     *\n     * @param {IGanttData} record .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.getValidPredecessor = function (record) {\n        var _this = this;\n        var validPredecessor = [];\n        if (!isNullOrUndefined(record)) {\n            var recPredecessor = record.ganttProperties.predecessor;\n            if (recPredecessor && recPredecessor.length > 0) {\n                validPredecessor = recPredecessor.filter(function (value) {\n                    var id = _this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId\n                        : record.ganttProperties.rowUniqueID;\n                    return value.from !== id.toString();\n                });\n            }\n        }\n        return validPredecessor;\n    };\n    return Dependency;\n}());\nexport { Dependency };\n","import { createElement, isNullOrUndefined, isObject, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isScheduledTask } from '../base/utils';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\n/**\n * To render the connector line in Gantt\n */\nvar ConnectorLine = /** @class */ (function () {\n    function ConnectorLine(ganttObj) {\n        this.transform = '';\n        this.connectorLinePath = '';\n        this.arrowPath = '';\n        this.taskLineValue = 0;\n        this.expandedRecords = [];\n        this.parent = ganttObj;\n        this.dependencyViewContainer =\n            createElement('div', {\n                className: cls.dependencyViewContainer\n            });\n        Object.assign(this.dependencyViewContainer.style, {\n            width: '100%',\n            height: '100%',\n            zIndex: 2,\n            position: 'absolute',\n            pointerEvents: 'none'\n        });\n        this.renderer = new SvgRenderer(this.parent.element.id);\n        this.initPublicProp();\n        this.svgObject = this.renderer.createSvg({\n            id: this.parent.element.id + '_svg'\n        });\n        this.svgObject.setAttribute('height', '100%');\n        this.svgObject.setAttribute('width', '100%');\n    }\n    /**\n     * To get connector line gap.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getconnectorLineGap = function (data) {\n        var width = 0;\n        width = (data.milestoneChild ?\n            ((this.parent.chartRowsModule.milestoneMarginTop / 2) + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            ((this.parent.chartRowsModule.taskBarMarginTop / 2) + (this.parent.chartRowsModule.taskBarHeight / 2)));\n        return width;\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.initPublicProp = function () {\n        this.lineColor = this.parent.connectorLineBackground;\n        this.lineStroke = (this.parent.connectorLineWidth) > 4 ? 4 : this.parent.connectorLineWidth;\n        this.createConnectorLineTooltipTable();\n    };\n    ConnectorLine.prototype.getTaskbarMidpoint = function (isMilestone) {\n        return Math.floor(isMilestone ?\n            (this.parent.chartRowsModule.milestoneMarginTop + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + 1;\n    };\n    /**\n     * To connector line object collection.\n     *\n     * @param {IGanttData} parentGanttData .\n     * @param {IGanttData} childGanttData .\n     * @param {IPredecessor}  predecessor .\n     * @param {number} [rowHeight=0].\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineObject = function (parentGanttData, childGanttData, predecessor, rowHeight) {\n        if (rowHeight === void 0) { rowHeight = 0; }\n        var connectorObj = {};\n        var updatedRecords;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            updatedRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            updatedRecords = this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport ?\n                this.parent.flatData : this.expandedRecords;\n        }\n        var parentIndex;\n        var childIndex;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var parentData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === parentGanttData.ganttProperties.taskId.toString();\n            })[0];\n            var childData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === childGanttData.ganttProperties.taskId.toString();\n            })[0];\n            parentIndex = parentData.index;\n            childIndex = childData.index;\n        }\n        else {\n            parentIndex = updatedRecords.indexOf(parentGanttData);\n            childIndex = updatedRecords.indexOf(childGanttData);\n        }\n        var parentGanttRecord = parentGanttData.ganttProperties;\n        var childGanttRecord = childGanttData.ganttProperties;\n        var currentData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.expandedRecords;\n        }\n        connectorObj.parentIndexInCurrentView = currentData.indexOf(parentGanttData);\n        connectorObj.childIndexInCurrentView = currentData.indexOf(childGanttData);\n        var isVirtualScroll = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        if ((!isVirtualScroll && (connectorObj.parentIndexInCurrentView === -1 || connectorObj.childIndexInCurrentView === -1)) ||\n            connectorObj.parentIndexInCurrentView === -1 && connectorObj.childIndexInCurrentView === -1) {\n            return null;\n        }\n        else {\n            connectorObj.parentLeft = parentGanttRecord.isMilestone ?\n                parentGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : parentGanttRecord.left;\n            connectorObj.childLeft = childGanttRecord.isMilestone ?\n                childGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : childGanttRecord.left;\n            connectorObj.parentWidth = parentGanttRecord.width === 0 || parentGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : parentGanttRecord.width;\n            connectorObj.childWidth = childGanttRecord.width === 0 || childGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : childGanttRecord.width;\n            connectorObj.parentIndex = parentIndex;\n            connectorObj.childIndex = childIndex;\n            if (rowHeight === 0) {\n                var chartRows = this.parent.ganttChartModule.getChartRows();\n                connectorObj.rowHeight = !isNullOrUndefined(chartRows) && chartRows[0] && chartRows[0].offsetHeight;\n            }\n            else {\n                connectorObj.rowHeight = rowHeight;\n            }\n            connectorObj.type = predecessor.type;\n            var parentId = this.parent.viewType === 'ResourceView' ? parentGanttRecord.taskId : parentGanttRecord.rowUniqueID;\n            var childId = this.parent.viewType === 'ResourceView' ? childGanttRecord.taskId : childGanttRecord.rowUniqueID;\n            connectorObj.connectorLineId = 'parent' + parentId + 'child' + childId;\n            connectorObj.milestoneParent = parentGanttRecord.isMilestone ? true : false;\n            connectorObj.milestoneChild = childGanttRecord.isMilestone ? true : false;\n            connectorObj.parentEndPoint = connectorObj.parentLeft + connectorObj.parentWidth;\n            connectorObj.childEndPoint = connectorObj.childLeft + connectorObj.childWidth;\n            if (isNullOrUndefined(isScheduledTask(parentGanttRecord)) || isNullOrUndefined(isScheduledTask(childGanttRecord))) {\n                return null;\n            }\n            else {\n                return connectorObj;\n            }\n        }\n    };\n    /**\n     * To render connector line.\n     *\n     * @param {IConnectorLineObject} connectorLinesCollection .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.renderConnectorLines = function (connectorLinesCollection) {\n        var connectorLine;\n        var ariaConnector = [];\n        this.svgObject.innerHTML = '';\n        for (var index = 0; index < connectorLinesCollection.length; index++) {\n            connectorLine = this.getConnectorLineTemplate(connectorLinesCollection[index]);\n            this.svgObject.appendChild(connectorLine);\n            ariaConnector.push(connectorLinesCollection[index]);\n        }\n        var childNodes = this.parent.connectorLineModule.svgObject.childNodes;\n        for (var i = 0; i < childNodes.length; i++) {\n            var innerChild = childNodes[i].childNodes;\n            for (var j = 0; j < innerChild.length; j++) {\n                var ariaString = 'Connector Line ' + this.parent.connectorLineModule.generateAriaLabel(ariaConnector[i]);\n                innerChild[j].setAttribute('aria-label', ariaString);\n                innerChild[j].setAttribute('role', 'img');\n            }\n        }\n        this.parent.ganttChartModule.chartBodyContent.insertBefore(this.dependencyViewContainer, this.parent.ganttChartModule.chartBodyContent.lastChild);\n        this.dependencyViewContainer.appendChild(this.svgObject);\n        for (var i = 0; i < this.svgObject.children.length; i++) {\n            this.svgObject.children[i].children[0].setAttribute('tabindex', '-1');\n        }\n    };\n    /**\n     * To get parent position.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getParentPosition = function (data) {\n        if (data.parentIndex < data.childIndex) {\n            if (data.type === 'FF') {\n                if ((data.childLeft + data.childWidth) >= (data.parentLeft + data.parentWidth)) {\n                    return 'FFType2';\n                }\n                else {\n                    return 'FFType1';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth + 25))) {\n                if (data.type === 'FS') {\n                    return 'FSType1';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if (data.parentLeft > (data.childLeft + data.childWidth + 25)) {\n                    if (data.type === 'SF') {\n                        return 'SFType2';\n                    }\n                }\n                if (data.parentLeft > data.childLeft) {\n                    if (data.type === 'SS') {\n                        return 'SSType1';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType1';\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n            else if ((data.parentLeft) < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n        }\n        else if (data.parentIndex > data.childIndex) {\n            if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth))) {\n                if (data.type === 'FS') {\n                    if (30 >= (data.childLeft - (data.milestoneParent ?\n                        (data.parentLeft + data.parentWidth + 4) : (data.parentLeft + data.parentWidth)))) {\n                        return 'FSType3';\n                    }\n                    else {\n                        return 'FSType4';\n                    }\n                }\n                if (((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth))) {\n                    if (data.type === 'SS') {\n                        return 'SSType4';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if ((data.childLeft + data.childWidth) <= (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType3';\n                    }\n                    if (data.type === 'SF') {\n                        if ((data.childLeft + data.childWidth + 25) < (data.parentLeft)) {\n                            return 'SFType3';\n                        }\n                        else {\n                            return 'SFType4';\n                        }\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n            }\n            else if (data.parentLeft < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n                if (data.type === 'SS') {\n                    return 'SSType4';\n                }\n                if (data.type === 'FF') {\n                    return 'FFType4';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType4';\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * To get line height.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getHeightValue = function () {\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            return (this.parentRowIndexHeight) > (this.childRowIndexHeight) ?\n                ((this.parentRowIndexHeight) - (this.childRowIndexHeight)) :\n                ((this.childRowIndexHeight) - (this.parentRowIndexHeight));\n        }\n        else {\n            return (this.parentRowIndexHeight) > (this.childRowIndexHeight) ?\n                ((this.parentRowIndexHeight) - (this.childRowIndexHeight)) :\n                ((this.childRowIndexHeight) - (this.parentRowIndexHeight));\n        }\n    };\n    /**\n     * To get sstype2 inner element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementWidthSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    /**\n     * To get sstype2 inner element left.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementLeftSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return (data.parentLeft - 20);\n        }\n        return (data.parentLeft - 10);\n    };\n    /**\n     * To get sstype2 inner child element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerChildWidthSSType2 = function (data) {\n        if ((data.parentLeft + data.parentWidth) < data.childLeft) {\n            return 10;\n        }\n        if (data.parentLeft === data.childLeft) {\n            return 20;\n        }\n        if ((data.parentLeft + data.parentWidth) >= data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    // private getBorderStyles(cssType: string, unit: number): string {\n    //     const borderWidth: string = 'border-' + cssType + '-width:' + unit + 'px;';\n    //     const borderStyle: string = 'border-' + cssType + '-style:solid;';\n    //     const borderColor: string = !isNullOrUndefined(this.lineColor) ? 'border-' + cssType + '-color:' + this.lineColor + ';' : '';\n    //     return (borderWidth + borderStyle + borderColor);\n    // }\n    ConnectorLine.prototype.calculateAdjustments = function (rowHeight, isMilestone, type) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if (((isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36) || (!isNullOrUndefined(this.parent.taskbarHeight) &&\n            this.parent.taskbarHeight <= defaultTaskbarHeight)) || !isMilestone) {\n            return {\n                adjustY1: 0,\n                adjustX: 0,\n                adjustY2: 0,\n                adjustZ: 0\n            };\n        }\n        else {\n            // Calculate adjustments dynamically for rowHeight greater than 36\n            var divisorY1 = ((type === 'FSType2' || type === 'FSType3' || type === 'FSType4' || type === 'SSType1' || type === 'SSType2' || type === 'SSType4' || type === 'SFType2')) ? 12 : 24;\n            var adjustY1 = (rowHeight - 36) / divisorY1;\n            var adjustX = -(rowHeight - 36) / 4;\n            var adjustZ = -2 * (rowHeight - 36) / 24;\n            if (rowHeight <= 36) {\n                return {\n                    adjustY1: 0,\n                    adjustX: 0,\n                    adjustY2: 0,\n                    adjustZ: 0\n                };\n            }\n            return {\n                adjustY1: adjustY1,\n                adjustX: adjustX,\n                adjustZ: adjustZ\n            };\n        }\n    };\n    ConnectorLine.prototype.shouldAdjustForBaseline = function (data, type) {\n        if (!this.parent.renderBaseline || !(data.milestoneParent || data.milestoneChild) ||\n            (data.milestoneParent && data.milestoneChild)) {\n            return 0;\n        }\n        switch (type) {\n            case 'FSType1':\n            case 'FSType2':\n                if (data.milestoneParent) {\n                    return -this.parent.chartRowsModule.milestoneMarginTop / 2;\n                }\n                else {\n                    return this.parent.chartRowsModule.taskBarMarginTop;\n                }\n            case 'FSType3':\n            case 'FFType2':\n            case 'SFType2':\n            case 'SSType2':\n                if (data.milestoneParent) {\n                    return this.parent.chartRowsModule.milestoneMarginTop / 2;\n                }\n                else {\n                    return -this.parent.chartRowsModule.taskBarMarginTop;\n                }\n            case 'FSType4':\n            case 'FFType3':\n            case 'SFType4':\n            case 'FFType4':\n            case 'SFType3':\n            case 'SFType1':\n                if (data.milestoneParent) {\n                    return -this.parent.chartRowsModule.milestoneMarginTop / 2;\n                }\n                else {\n                    return this.parent.chartRowsModule.taskBarMarginTop;\n                }\n            case 'SSType3':\n                if (data.milestoneParent) {\n                    return -this.parent.chartRowsModule.taskBarMarginTop;\n                }\n                else {\n                    return this.parent.chartRowsModule.taskBarMarginTop;\n                }\n            case 'SSType1':\n            case 'FFType1':\n                if (data.milestoneParent) {\n                    return this.parent.chartRowsModule.taskBarMarginTop;\n                }\n                else {\n                    return -this.parent.chartRowsModule.milestoneMarginTop / 2;\n                }\n            default:\n                return 0;\n        }\n    };\n    // Method to fetch the row element height from top row to the parent row index, child row index , last row index\n    ConnectorLine.prototype.updateParentChildRowsHeight = function (data) {\n        var lastRowIndex = this.parent.currentViewData.length - 1;\n        var rowElements = this.parent.ganttChartModule.getChartRows();\n        this.parentRowIndexHeight = data.parentIndexInCurrentView * data.rowHeight;\n        this.childRowIndexHeight = data.childIndexInCurrentView * data.rowHeight;\n        this.lastRowIndexHeight = lastRowIndex * data.rowHeight;\n        var totalDisplayedRows = 0;\n        if (!this.parent.allowTaskbarOverlap && this.parent.enableMultiTaskbar) {\n            this.parentRowIndexHeight = this.childRowIndexHeight = this.lastRowIndexHeight = 0;\n            for (var i = 0; i < lastRowIndex; i++) {\n                var rowElement = rowElements[i];\n                if (rowElement && rowElement.style.display !== 'none') {\n                    if (totalDisplayedRows < data.parentIndexInCurrentView) {\n                        this.parentRowIndexHeight += rowElements[i]['offsetHeight'];\n                    }\n                    if (totalDisplayedRows < data.childIndexInCurrentView) {\n                        this.childRowIndexHeight += rowElements[i]['offsetHeight'];\n                    }\n                    this.lastRowIndexHeight += rowElements[i]['offsetHeight'];\n                    totalDisplayedRows++;\n                }\n            }\n        }\n    };\n    /**\n     * To get connector line template.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTemplate = function (data) {\n        var setInnerChildWidthSSType2 = this.getInnerChildWidthSSType2(data);\n        var setInnerElementWidthSSType2 = this.getInnerElementWidthSSType2(data);\n        var setInnerElementLeftSSType2 = this.getInnerElementLeftSSType2(data);\n        this.updateParentChildRowsHeight(data);\n        var height = this.getHeightValue();\n        var isMilestone = data.milestoneChild ? true : false;\n        var connectorLine = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPosition = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPositionHeight = rowPosition.top;\n        var isMilestoneValue = 0;\n        if (this.parent.renderBaseline) {\n            var modifiedValue = (this.parent.rowHeight / 36) * 5;\n            isMilestoneValue = (data.milestoneParent && data.milestoneChild) ? 0 : data.milestoneParent ? -modifiedValue :\n                data.milestoneChild ? modifiedValue : 0;\n        }\n        var heightValue = connectorLine.height;\n        var borderTopWidth = 0;\n        var addTop = 0;\n        var parentOverlapTopValue = 0;\n        var childOverlapTopValue = 0;\n        var count = 0;\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.getRowByIndex(i).style.display !== 'none') {\n                    if (count < data.parentIndex) {\n                        count++;\n                        parentOverlapTopValue = parentOverlapTopValue + this.parent.getRowByIndex(i).offsetHeight;\n                    }\n                }\n            }\n            count = 0;\n            for (var j = 0; j < this.parent.currentViewData.length; j++) {\n                if (this.parent.getRowByIndex(j).style.display !== 'none') {\n                    if (count < data.childIndex) {\n                        count++;\n                        childOverlapTopValue = childOverlapTopValue + this.parent.getRowByIndex(j).offsetHeight;\n                    }\n                }\n            }\n        }\n        if (this.parent.currentViewData[data.parentIndex] && this.parent.currentViewData[data.childIndex] &&\n            this.parent.allowParentDependency) {\n            var fromRecordIsParent = this.parent.currentViewData[data.parentIndex].hasChildRecords;\n            var toRecordIsParent = this.parent.currentViewData[data.childIndex].hasChildRecords;\n            var fromRecordIsManual = this.parent.currentViewData[data.parentIndex].ganttProperties.isAutoSchedule;\n            var toRecordIsManual = this.parent.currentViewData[data.childIndex].ganttProperties.isAutoSchedule;\n            var isValid = true;\n            if (((fromRecordIsParent && fromRecordIsManual) && !toRecordIsParent) || ((toRecordIsParent && toRecordIsManual) &&\n                !fromRecordIsParent) || (fromRecordIsParent && fromRecordIsManual && toRecordIsManual && toRecordIsParent)\n                || (!fromRecordIsParent && !toRecordIsParent)) {\n                isValid = false;\n            }\n            if (isValid) {\n                if (((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    addTop = -11;\n                }\n                else if (!((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    if (data.childIndex > data.parentIndex) {\n                        if (!fromRecordIsParent && toRecordIsParent) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                    else {\n                        if ((fromRecordIsParent && !toRecordIsParent)) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                }\n                if (this.parent.currentViewData[data.parentIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = -11;\n                        borderTopWidth = 12;\n                    }\n                    else if (data.type === 'SS' || data.type === 'FF') {\n                        addTop = -5;\n                    }\n                }\n                else if (this.parent.currentViewData[data.childIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = 5;\n                        borderTopWidth = -10;\n                    }\n                    else if (data.parentIndex < data.childIndex) {\n                        if (data.type === 'SS' || data.type === 'FF') {\n                            addTop = -10;\n                        }\n                    }\n                }\n                else {\n                    if (data.parentIndex < data.childIndex && fromRecordIsManual && !toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                    else if (data.childIndex < data.parentIndex && !fromRecordIsManual && toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                }\n                rowPositionHeight += addTop;\n            }\n        }\n        var predType = this.getParentPosition(data);\n        if (predType) {\n            // Create the group element\n            var type = this.getParentPosition(data);\n            var rowHeight1 = this.parent.rowHeight;\n            var adjustments = this.calculateAdjustments(rowHeight1, isMilestone, type);\n            this.transform = this.parent.enableRtl ? \"translate(\" + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + \", 0) scale(-1, 1)\" : '';\n            this.connectorId = 'ConnectorLine' + data.connectorLineId;\n            this.groupObject = this.renderer.createGroup({\n                id: this.connectorId,\n                transform: this.transform,\n                style: 'pointer-events: stroke',\n                class: cls.connectorLineContainer\n            });\n            //  Create the path element for the connector line\n            this.connectorPath = this.renderer.drawPath({\n                class: cls.connectorLineSVG,\n                d: this.connectorLinePath,\n                fill: 'transparent',\n                'stroke-width': this.lineStroke\n            });\n            // Create the path element for the arrow\n            this.arrowlinePath = this.renderer.drawPath({\n                d: this.arrowPath,\n                class: cls.connectorLineArrow\n            });\n            var outlineColor = (this.lineColor) && !(this.parent.enableCriticalPath) ? this.lineColor : '';\n            this.connectorPath.style.stroke = outlineColor;\n            this.arrowlinePath.style.fill = outlineColor;\n            // Append the path element to the group element\n            this.groupObject.appendChild(this.connectorPath);\n            this.groupObject.appendChild(this.arrowlinePath);\n            var adjustedValue = this.shouldAdjustForBaseline(data, predType);\n            if (predType === 'FSType1') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneParent ? -1 : (data.milestoneChild ? -1 : 0));\n                this.x2 = data.milestoneParent ?\n                    ((((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10) + 1) :\n                    (((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1 - adjustedValue) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + (this.y1 - adjustedValue) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + 4) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'FSType2') {\n                this.x1 = data.parentLeft;\n                this.x2 = data.parentWidth + (data.milestoneParent ? -1 : 0);\n                this.x3 = this.x2 + (data.milestoneParent ? 11 : 10);\n                this.x4 = data.parentWidth - ((data.parentEndPoint - data.childLeft) + 20);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = (!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                    (this.y1 + this.y2 - ((this.y1 + this.y2) % data.rowHeight)));\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1 - adjustedValue) + ' ' + ' L ' + (this.x1 + this.x3) + ' ' + (this.y1 - adjustedValue) + ' L ' + (this.x1 + this.x3) + ' ' + this.y4 +\n                    ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + this.y4 + ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) + ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x4 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'FSType3') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.point1 = rowPositionHeight;\n                this.x1 = (data.childLeft + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0)) - 20;\n                this.x2 = (data.parentEndPoint - data.childLeft) + 30;\n                this.y1 = this.point1;\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke +\n                    this.taskLineValue;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + (this.x1 + 12) + ' ' + ((this.y1 - adjustedValue) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + ((this.y1 - adjustedValue) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y4 + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 + this.y3) + ' L ' + (this.x1 + this.x2 - 12) + ' ' + (this.y2 + this.y3);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 - adjustedValue) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke) - adjustedValue) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke - adjustedValue) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'FSType4') {\n                this.point1 = rowPositionHeight;\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0);\n                this.x2 = data.childLeft - data.parentEndPoint - 20;\n                this.y1 = this.point1 + (data.milestoneChild ? -1 : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.lineStroke + 1 + this.taskLineValue;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 12) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 - adjustedValue) +\n                    ' L ' + this.x1 + ' ' + (this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'SSType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth;\n                this.point2 = rowPositionHeight;\n                this.x1 = data.parentLeft - 10;\n                this.x2 = data.childLeft - data.parentLeft;\n                this.y1 = this.point2 + (data.milestoneChild ? 1 : 0);\n                this.y2 = (!data.milestoneChild ? (this.parent.chartRowsModule.milestoneMarginTop +\n                    (this.parent.chartRowsModule.milestoneHeight / 2)) :\n                    (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + this.point1;\n                this.connectorLinePath = 'M ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + (this.y2) + ' L ' + (this.x1 + 10) + ' ' + (this.y2);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'SSType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - (this.lineStroke - 1);\n                this.x1 = data.childLeft - 20;\n                this.y1 = rowPositionHeight;\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + (this.y2 - adjustedValue) + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'SSType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = setInnerElementLeftSSType2;\n                this.x2 = setInnerChildWidthSSType2 + 1;\n                this.y1 = rowPositionHeight;\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1 + setInnerElementWidthSSType2 + 8) + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            if (predType === 'SSType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = data.childLeft - 20;\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y1 = rowPositionHeight;\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            if (predType === 'FFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.childEndPoint;\n                this.x2 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.x3 = data.milestoneParent ? 22 : 21;\n                this.x4 = data.milestoneChild ? 4 : 8;\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + 1;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + (this.x1 + this.x4) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1) + adjustedX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            if (predType === 'FFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneParent ? 22 : 21);\n                this.x3 = data.childEndPoint + (data.milestoneChild ? 9 : 8);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + 1;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + this.x3 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x3 - 8) + arrowX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            if (predType === 'FFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 4 : 8);\n                this.x3 = data.parentEndPoint - data.childEndPoint + (data.milestoneChild ? 16 : 10);\n                this.x4 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + 1;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1 + this.y2 - adjustedValue) +\n                    ' L ' + this.x4 + ' ' + (this.y1 + this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'FFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneChild ? 7 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 12 : 11);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + 1;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1 + this.y2 - adjustedValue) +\n                    ' L ' + this.x1 + ' ' + (this.y1 + this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'SFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? -1 : 0);\n                this.point1 = (this.taskLineValue + heightValue + borderTopWidth - this.getconnectorLineGap(data) - (this.lineStroke - 1));\n                this.point2 = rowPositionHeight;\n                this.x1 = data.parentLeft - 10;\n                this.x2 = this.x1 + ((data.childEndPoint - data.parentLeft) + 18);\n                this.x3 = this.x2 + (data.milestoneChild ? 16 : 11);\n                this.y1 = this.point2;\n                this.y2 = this.y1 + this.point1;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + this.y4 + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + this.x1 + ' ' + ((this.y2 + this.y3) - adjustedValue) + ' L ' + (this.x1 + 11) + ' ' + ((this.y2 + this.y3) - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + ((this.y1) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 - (4 + this.lineStroke)) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 + 4 + this.lineStroke) - adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'SFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = (data.parentLeft - (data.childEndPoint + (data.milestoneParent ? 23 : 20))) + 1;\n                this.point2 = rowPositionHeight;\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 9 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 17 : 11);\n                this.y1 = this.point2;\n                this.y2 = this.y1 + heightValue + borderTopWidth - (this.lineStroke - 1) + this.taskLineValue;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) +\n                    ' L ' + this.x3 + ' ' + (this.y2 - adjustedValue) + ' L ' + (this.x3 + this.point1) + ' ' + (this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'SFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + borderTopWidth - this.getconnectorLineGap(data) + this.taskLineValue - this.lineStroke;\n                this.point2 = this.getconnectorLineGap(data);\n                this.x1 = data.parentLeft - 10;\n                this.y1 = rowPositionHeight;\n                this.x2 = (data.childEndPoint - data.parentLeft) + 31;\n                this.y2 = this.y1 + this.point1;\n                this.x3 = (data.childEndPoint - data.parentLeft) + 18;\n                this.y3 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + (this.x1 + 11) + ' ' + (this.y1 - adjustedValue) + ' L ' + this.x1 + ' ' + (this.y1 - adjustedValue) + ' L ' + this.x1 + ' ' + this.y3 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y3 + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x3) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x3 - 8) + arrowX) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'SFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.y1 = rowPositionHeight;\n                this.x2 = (data.parentLeft - data.childEndPoint);\n                this.y2 = this.y1 + heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 1) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue) + ' L ' + (this.x1 + 8) + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            this.connectorPath.setAttribute('d', this.connectorLinePath);\n            this.arrowlinePath.setAttribute('d', this.arrowPath);\n        }\n        return this.groupObject;\n    };\n    /**\n     * @param {IConnectorLineObject} data .\n     * @param {string} type .\n     * @param {number} heightValue .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getPosition = function (data, type, heightValue) {\n        var topPosition = 0;\n        var lineHeight = 0;\n        var isMilestoneParent = data.milestoneParent ? true : false;\n        var isMilestone = data.milestoneChild ? true : false;\n        var midPointParent = this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1);\n        var midPoint = this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1);\n        var isParentIndex = data.parentIndexInCurrentView !== -1;\n        var isChildIndex = data.childIndexInCurrentView !== -1;\n        if (type === 'SSType1' || type === 'SSType2' || type === 'FFType1' || type === 'FFType2' || type === 'SFType2') {\n            topPosition = isParentIndex ? (this.parentRowIndexHeight) + midPointParent : 0;\n            lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                (this.childRowIndexHeight) + midPointParent : (this.lastRowIndexHeight) + midPointParent;\n        }\n        else if (type === 'SSType3' || type === 'SSType4' || type === 'FSType4' || type === 'FFType3' ||\n            type === 'FFType4' || type === 'SFType4' || type === 'SFType3') {\n            topPosition = isChildIndex ? (this.childRowIndexHeight) + midPoint : 0;\n            lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                (this.parentRowIndexHeight) + midPoint :\n                (this.lastRowIndexHeight) + midPoint;\n        }\n        else if (type === 'FSType3') {\n            topPosition = isChildIndex ? (this.childRowIndexHeight) + midPointParent : 0;\n            lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                (this.parentRowIndexHeight) + midPoint :\n                (this.lastRowIndexHeight) + midPointParent;\n        }\n        else if (type === 'SFType1' || type === 'FSType1' || type === 'FSType2') {\n            topPosition = isParentIndex ? (this.parentRowIndexHeight) + midPoint : 0;\n            lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                (this.childRowIndexHeight) + midPoint :\n                (this.lastRowIndexHeight) + midPoint;\n        }\n        return { top: topPosition, height: lineHeight };\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineTooltipTable = function () {\n        this.tooltipTable = createElement('table', { className: '.e-tooltiptable', styles: 'margin-top:0px', attrs: { 'cellspacing': '2px', 'cellpadding': '2px' } });\n        var tooltipBody = createElement('tbody');\n        tooltipBody.innerHTML = '';\n        this.tooltipTable.appendChild(tooltipBody);\n    };\n    /**\n     * @param {string} fromTaskName .\n     * @param {string} fromPredecessorText .\n     * @param {string} toTaskName .\n     * @param {string} toPredecessorText .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTooltipInnerTd = function (fromTaskName, fromPredecessorText, toTaskName, toPredecessorText) {\n        var _this = this;\n        var tbody = document.createElement('tbody');\n        var createRow = function (id, label, taskName, predecessorText) {\n            var tr = document.createElement('tr');\n            tr.id = id;\n            var td1 = document.createElement('td');\n            td1.style.padding = '2px';\n            td1.textContent = _this.parent.localeObj.getConstant(label);\n            var td2 = document.createElement('td');\n            td2.textContent = taskName;\n            var td3 = document.createElement('td');\n            td3.style.padding = '2px';\n            td3.textContent = _this.parent.localeObj.getConstant(predecessorText);\n            tr.append(td1, td2, td3);\n            return tr;\n        };\n        tbody.appendChild(createRow('fromPredecessor', 'from', fromTaskName, fromPredecessorText));\n        tbody.appendChild(createRow('toPredecessor', 'to', toTaskName || '', toPredecessorText || ''));\n        return tbody;\n    };\n    /**\n     * Generate aria-label for connectorline\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.generateAriaLabel = function (data) {\n        var type = data.type;\n        var updatedRecords = this.expandedRecords;\n        var fromName = updatedRecords[data.parentIndex].ganttProperties.taskName;\n        var toName = updatedRecords[data.childIndex].ganttProperties.taskName;\n        var start = this.parent.localeObj.getConstant('start');\n        var finish = this.parent.localeObj.getConstant('finish');\n        var value = '';\n        if (type === 'FS') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + start;\n        }\n        else if (type === 'FF') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + finish;\n        }\n        else if (type === 'SS') {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + start;\n        }\n        else {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + finish;\n        }\n        return value;\n    };\n    /**\n     * To get the record based on the predecessor value\n     *\n     * @param {string} id .\n     * @returns {IGanttData} .\n     * @private\n     */\n    ConnectorLine.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var a = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'].filter(function (data) {\n                return data.ganttProperties.taskId.toString() === id.toString();\n            })[0];\n            return a;\n        }\n        else if (this.parent.viewType === 'ResourceView') {\n            return this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id.toString())];\n        }\n        else {\n            return this.parent.getRecordByID(id);\n        }\n    };\n    /**\n     * Method to remove connector line from DOM\n     *\n     * @param {IGanttData[] | object} records .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removePreviousConnectorLines = function (records) {\n        var isObjectType;\n        if (isObject(records) === true) {\n            isObjectType = true;\n        }\n        else {\n            isObjectType = false;\n        }\n        var length = isObjectType ? Object.keys(records).length : records.length;\n        var keys = Object.keys(records);\n        for (var i = 0; i < length; i++) {\n            var data = void 0;\n            if (isObjectType) {\n                var uniqueId = keys[i];\n                data = records[uniqueId];\n            }\n            else {\n                data = records[i];\n            }\n            var predecessors = data.ganttProperties && data.ganttProperties.predecessor;\n            if (predecessors && predecessors.length > 0) {\n                for (var pre = 0; pre < predecessors.length; pre++) {\n                    var lineId = 'parent' + predecessors[pre].from + 'child' + predecessors[pre].to;\n                    this.removeConnectorLineById(lineId);\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} id .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removeConnectorLineById = function (id) {\n        var element = this.parent.connectorLineModule.dependencyViewContainer.querySelector('#ConnectorLine' + id.replace(/([.])/g, '\\\\$1'));\n        if (!isNullOrUndefined(element)) {\n            remove(element);\n        }\n    };\n    return ConnectorLine;\n}());\nexport { ConnectorLine };\n","import { createElement, isNullOrUndefined, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { Splitter as SplitterLayout } from '@syncfusion/ej2-layouts';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * Splitter module is used to define the splitter position in Gantt layout.\n */\nvar Splitter = /** @class */ (function () {\n    function Splitter(ganttObj) {\n        this.isSplitterResized = false;\n        this.parent = ganttObj;\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.renderSplitter = function () {\n        var _this = this;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.parent.splitterElement = createElement('div', { className: cls.splitter });\n        this.parent.treeGridPane = createElement('div', { className: cls.treeGridPane });\n        this.parent.chartPane = createElement('div', { className: cls.ganttChartPane });\n        addClass([this.parent.chartPane], 'e-droppable');\n        if (this.parent.enableRtl) {\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n        }\n        else {\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n        }\n        this.splitterObject = new SplitterLayout({\n            height: null,\n            width: this.parent.ganttWidth.toString(),\n            enableRtl: this.parent.enableRtl,\n            separatorSize: this.parent.splitterSettings.separatorSize,\n            paneSettings: [\n                {\n                    resizable: true,\n                    size: splitterPosition,\n                    min: this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum)\n                },\n                {\n                    resizable: true\n                }\n            ],\n            orientation: 'Horizontal',\n            resizeStart: function (args) {\n                if (_this.parent.contextMenuModule && _this.parent.contextMenuModule.isOpen) {\n                    _this.parent.contextMenuModule.contextMenu.close();\n                }\n                var leftPane = args.pane[0];\n                var rightPane = args.pane[1];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterPreviousPositionChart = rightPane.scrollWidth + 1 + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResizeStart', args, function (resizeStartArgs) {\n                    callBackPromise.resolve(resizeStartArgs);\n                });\n                return callBackPromise;\n            },\n            resizing: function (args) {\n                _this.parent.trigger('splitterResizing', args);\n                if (_this.parent.timelineModule.isZoomToFit) {\n                    _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                }\n            },\n            resizeStop: function (args) {\n                _this.parent['calculateDimensions']();\n                _this.isSplitterResized = true;\n                var leftPane = args.pane[0];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                _this.splitterObject.paneSettings[1].size = (_this.parent.ganttWidth - parseInt(_this.splitterPreviousPositionGrid, 10) - _this.parent.splitterSettings.separatorSize) + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResized', args, function (splitterResizedArgs) {\n                    if (splitterResizedArgs.cancel === true) {\n                        _this.splitterObject.paneSettings[0].size = null;\n                        _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                        _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                        _this.splitterObject.paneSettings[1].size = null;\n                        _this.splitterObject.paneSettings[1].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionChart);\n                    }\n                    if (isNullOrUndefined(_this.parent.projectEndDate)) {\n                        _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                    }\n                    callBackPromise.resolve(splitterResizedArgs);\n                });\n                return callBackPromise;\n            }\n        });\n        this.parent.element.appendChild(this.parent.splitterElement);\n        this.splitterObject.appendTo(this.parent.splitterElement);\n        var splitterLeftPane = this.splitterObject.element.querySelector('.e-split-bar');\n        if (splitterLeftPane) {\n            var numericValue = parseFloat(splitterPosition.replace('%', ''));\n            var ariaValueNow = Math.min(100, Math.max(0, numericValue));\n            splitterLeftPane.setAttribute('aria-valuenow', ariaValueNow.toString());\n        }\n    };\n    /**\n     * @param {SplitterSettingsModel} splitter .\n     * @returns {string} .\n     * @private\n     */\n    Splitter.prototype.calculateSplitterPosition = function (splitter) {\n        if (!isNullOrUndefined(this.splitterObject) && this.parent.enablePersistence) {\n            return this.splitterObject.paneSettings[0].size;\n        }\n        if (splitter.view === 'Grid') {\n            return this.parent.enableRtl ? '0%' : '100%';\n        }\n        else if (splitter.view === 'Chart') {\n            return this.parent.enableRtl ? '100%' : '0%';\n        }\n        else {\n            if (!isNullOrUndefined(splitter.position) && splitter.position !== '') {\n                return this.getSpliterPositionInPercentage(splitter.position);\n            }\n            else if (!isNullOrUndefined(splitter.columnIndex) && splitter.columnIndex >= 0) {\n                if ((splitter.columnIndex * 150) < this.parent.ganttWidth || !this.parent.element.classList.contains('e-device')) {\n                    return this.getSpliterPositionInPercentage(this.getTotalColumnWidthByIndex(splitter.columnIndex).toString() + 'px');\n                }\n                else {\n                    return this.getSpliterPositionInPercentage((splitter.columnIndex * 130) + 'px');\n                }\n            }\n            else {\n                var ganttWidth = this.parent.ganttWidth;\n                var width = ganttWidth - 250;\n                var widthAsString = width + 'px';\n                return (this.parent.enableRtl) ? this.getSpliterPositionInPercentage(widthAsString) : this.getSpliterPositionInPercentage('250px');\n            }\n        }\n    };\n    /**\n     * @param {string} position .\n     * @returns {string} .\n     */\n    Splitter.prototype.getSpliterPositionInPercentage = function (position) {\n        var value = !isNullOrUndefined(position) && position !== '' ? position : null;\n        if (!isNullOrUndefined(value)) {\n            if (position.indexOf('px') !== -1) {\n                var intValue = parseInt(position, 10);\n                value = (((intValue / this.parent.ganttWidth) * 100) <= 100 ? ((intValue / this.parent.ganttWidth) * 100) + '%' :\n                    '25%');\n            }\n            else {\n                if (this.parent.enableRtl) {\n                    var newPosition = 100 - parseFloat(position);\n                    value = newPosition + '%';\n                }\n                else {\n                    value = position.indexOf('%') === -1 ?\n                        position + '%' : position;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * @param {number} index .\n     * @returns {number} .\n     */\n    Splitter.prototype.getTotalColumnWidthByIndex = function (index) {\n        var width = 0;\n        var ganttWidth = this.parent.ganttWidth;\n        var originalArray = this.parent.ganttColumns;\n        var newArray = originalArray.filter(function (obj) { return obj.visible === undefined || obj.visible === true; });\n        var deepCopiedArray = newArray.map(function (obj) { return Object.assign({}, obj); });\n        var tr = deepCopiedArray;\n        index = tr.length > index ? index : tr.length;\n        if (this.parent.enableRtl) {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n            width = ganttWidth - width;\n        }\n        else {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n        }\n        return width;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.updateSplitterPosition = function () {\n        this.splitterObject.separatorSize = this.parent.splitterSettings.separatorSize;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.splitterObject.paneSettings[0].min = this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum);\n        this.splitterObject.dataBind();\n        if (!this.isSplitterResized) {\n            this.splitterObject.paneSettings[0].size = splitterPosition;\n        }\n        this.isSplitterResized = false;\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.parent.timelineModule.updateTimelineAfterZooming(this.parent.timelineModule.timelineEndDate, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.triggerCustomResizedEvent = function () {\n        var pane1 = this.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterObject.element.querySelectorAll('.e-pane')[1];\n        var eventArgs = {\n            event: null,\n            element: this.splitterObject.element,\n            pane: [pane1, pane2],\n            index: [0, 1],\n            separator: this.splitterObject.element.querySelector('.e-split-bar'),\n            paneSize: [pane1.offsetWidth, pane2.offsetWidth]\n        };\n        this.parent.trigger('splitterResized', eventArgs);\n        if (eventArgs.cancel === true) {\n            this.splitterObject.paneSettings[0].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionGrid);\n            this.splitterObject.paneSettings[1].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionChart);\n        }\n    };\n    Splitter.prototype.destroy = function () {\n        this.splitterObject.destroy();\n        this.parent.off('destroy', this.destroy);\n    };\n    return Splitter;\n}());\nexport { Splitter };\n","import { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, closest, SanitizeHtmlHelper, initializeCSPTemplate, append } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(gantt) {\n        this.parent = gantt;\n        this.createTooltip();\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * To create tooltip.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function () {\n        this.toolTipObj = new TooltipComponent();\n        this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' +\n            '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' +\n            '.e-event-markers, .e-baseline-bar, .e-event-markers,' +\n            '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' +\n            '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone-container, .e-gantt-manualparenttaskbar';\n        this.toolTipObj.position = 'BottomCenter';\n        this.toolTipObj.openDelay = 700;\n        this.toolTipObj.enableRtl = this.parent.enableRtl;\n        this.toolTipObj.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        this.toolTipObj.cssClass = cls.ganttTooltip;\n        this.toolTipObj.animation = { open: { effect: 'None', delay: 0 }, close: { effect: 'None', delay: 0 } };\n        this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n        this.toolTipObj.showTipPointer = false;\n        this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n        this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.element);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (args) {\n        var parent = this.parent;\n        if (parent.isOnEdit) {\n            args.cancel = true;\n            return;\n        }\n        var element;\n        var row = closest(args.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            element = args.target;\n        }\n        else {\n            element = parentsUntil(args.target, cls.chartRowCell);\n        }\n        var data;\n        var argsData = {\n            data: {},\n            args: args,\n            cancel: false,\n            content: ''\n        };\n        if (args.target.classList.contains('e-header-cell-label')) {\n            if (parent.timelineSettings.showTooltip) {\n                var tierValue = args.target.getAttribute('data-tier');\n                var title = args.target.title;\n                var innerContent = !isNullOrUndefined(parent.timelineTemplate) ? args.target.getAttribute('value') :\n                    args.target.textContent;\n                var templateContext = {\n                    date: title,\n                    value: innerContent,\n                    tier: tierValue\n                };\n                var timelineTemplateNode = parent.tooltipSettings.timeline ? parent.tooltipModule.templateCompiler(parent.tooltipSettings.timeline, parent, extend({}, templateContext), 'TooltipTaskbarTemplate') : null;\n                var tooltipTemplate = document.createElement('div');\n                if (timelineTemplateNode) {\n                    append(timelineTemplateNode, tooltipTemplate);\n                    argsData.content = this.toolTipObj.content = tooltipTemplate;\n                }\n                else {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            if (parent.tooltipSettings.showTooltip) {\n                if (element) {\n                    argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n                    data = argsData.data;\n                }\n                if (args.target.classList.contains('e-gantt-child-taskbar') ||\n                    args.target.classList.contains('e-gantt-parent-taskbar') ||\n                    args.target.classList.contains('e-gantt-milestone') ||\n                    args.target.classList.contains('e-gantt-unscheduled-taskbar') ||\n                    args.target.classList.contains('e-taskbar-left-resizer') ||\n                    args.target.classList.contains('e-taskbar-right-resizer') ||\n                    (args.target.classList.contains('e-gantt-manualparenttaskbar') && parent.tooltipSettings.taskbar)) {\n                    var taskbarTemplateNode = void 0;\n                    if (parent.tooltipSettings.taskbar) {\n                        taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n                    }\n                    var tooltipTemplate = document.createElement('div');\n                    if (taskbarTemplateNode) {\n                        append(taskbarTemplateNode, tooltipTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = taskbarTemplateNode ? tooltipTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'taskbar'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-baseline-bar') ||\n                    args.target.classList.contains('e-baseline-gantt-milestone-container')) {\n                    var baseLineTemplateNode = void 0;\n                    if ((parent.tooltipSettings.baseline)) {\n                        baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n                    }\n                    var baselineTemplate = document.createElement('div');\n                    if (baseLineTemplateNode) {\n                        append(baseLineTemplateNode, baselineTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baselineTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'baseline'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-event-markers')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-connector-line-container')) {\n                    var dependencyLineTemplateNode = void 0;\n                    parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n                    argsData.data = this.predecessorTooltipData;\n                    if ((parent.tooltipSettings.connectorLine)) {\n                        dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ?\n                        dependencyLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-indicator-span')) {\n                    argsData.content = this.toolTipObj.content =\n                        parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-notes-info')) {\n                    var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n                    argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (args.cancel === false) {\n            var callBackPromise_1 = new Deferred();\n            parent.trigger('beforeTooltipRender', argsData, function (argData) {\n                callBackPromise_1.resolve(argData);\n                if (argData.cancel) {\n                    args.cancel = true;\n                }\n            });\n            this.toolTipObj.content = argsData.content;\n            if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n                this.currentTarget = args.target;\n                EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n            }\n            this.parent.renderTemplates();\n            return callBackPromise_1;\n        }\n    };\n    // eslint-disable-next-line\n    Tooltip.prototype.tooltipCloseHandler = function (args) {\n        this.tooltipMouseEvent = null;\n        if (!this.parent.isAdaptive && !isNullOrUndefined(this.currentTarget)) {\n            EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n        }\n        this.currentTarget = null;\n    };\n    Tooltip.prototype.mouseMoveHandler = function (e) {\n        this.tooltipMouseEvent = e;\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    Tooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n                return;\n            }\n            var postion = this.getPointorPosition(this.tooltipMouseEvent);\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = postion.x;\n            var tooltipPositionY = postion.y;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                while (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                    tooltipPositionX = leftEnd - args.element.offsetWidth - 10;\n                    args.element.style.left = tooltipPositionX + 'px';\n                }\n            }\n            else {\n                tooltipPositionX = tooltipPositionX + 10;\n                args.element.style.left = tooltipPositionX + 'px';\n            }\n            if (args.event.clientY > args.element.offsetHeight) {\n                if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n                    tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n                }\n                if ((topEnd < (tooltipPositionY + args.element.offsetHeight + 20))) {\n                    tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n                }\n                else {\n                    tooltipPositionY = tooltipPositionY + 10;\n                }\n            }\n            else {\n                tooltipPositionY = tooltipPositionY + 10;\n            }\n            args.element.style.top = tooltipPositionY + 'px';\n        }\n    };\n    /**\n     * Method to get mouse pointor position\n     *\n     * @param {Event} e .\n     * @returns {number} .\n     */\n    Tooltip.prototype.getPointorPosition = function (e) {\n        var posX;\n        var posY;\n        if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n            posX = getValue('pageX', e);\n            posY = getValue('pageY', e);\n        }\n        else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n            posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n            posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        return { x: posX, y: posY };\n    };\n    /**\n     *  Getting tooltip content for different elements\n     *\n     * @param {string} elementType .\n     * @param {IGanttData} ganttData .\n     * @param {Gantt} parent .\n     * @param {TooltipEventArgs} args .\n     * @returns {string | Function} .\n     */\n    Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n        var content;\n        var data;\n        var taskName;\n        if (ganttData) {\n            data = ganttData.ganttProperties;\n            var taskNameValue = data.taskName;\n            if (this.parent.enableHtmlSanitizer && typeof (taskNameValue) === 'string') {\n                taskNameValue = SanitizeHtmlHelper.sanitize(taskNameValue);\n            }\n            taskName = !isNullOrUndefined(taskNameValue) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' +\n                (this.parent.disableHtmlEncode ? taskNameValue.replace(/</g, '&lt;').replace(/>/g, '&gt;') : taskNameValue) + '</td></tr>' : '';\n        }\n        switch (elementType) {\n            case 'milestone':\n                {\n                    var milestoneStartDate = void 0;\n                    if (args.target.className.includes('e-baseline-gantt-milestone-container') && !isNullOrUndefined(data.baselineStartDate)) {\n                        milestoneStartDate = data.baselineStartDate;\n                    }\n                    else if (!isNullOrUndefined(data.startDate)) {\n                        milestoneStartDate = data.startDate;\n                    }\n                    var sDateValue = this.parent.getFormatedDate(milestoneStartDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer && typeof (sDateValue) === 'string') {\n                        sDateValue = SanitizeHtmlHelper.sanitize(sDateValue);\n                    }\n                    var sDate_1 = !isNullOrUndefined(milestoneStartDate) ? '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        sDateValue + '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + sDate_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'taskbar':\n                {\n                    var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n                    var startDateValue = this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.getDateFormat());\n                    var endDateValue = this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.getDateFormat());\n                    var durationValue = this.parent.getDurationString((scheduledTask ? data.duration : data.autoDuration), data.durationUnit);\n                    var progressValue = data.progress;\n                    if (this.parent.enableHtmlSanitizer) {\n                        startDateValue = typeof (startDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(startDateValue) : startDateValue;\n                        endDateValue = typeof (endDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(endDateValue) : endDateValue;\n                        durationValue = SanitizeHtmlHelper.sanitize(durationValue);\n                    }\n                    var startDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') +\n                        '</td><td class=' + cls.templatePadding + '>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + startDateValue + '</td></tr>' : '';\n                    var endDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') +\n                        '</td><td class=' + cls.templatePadding + '>:</td>' + '<td class = \"e-gantt-tooltip-value\">' + endDateValue + '</td></tr>' : '';\n                    var duration_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td class=' + cls.templatePadding + '>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationValue +\n                        '</td></tr>' : '';\n                    var progress_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('progress') + '</td><td class=' + cls.templatePadding + '>:</td><td>' + progressValue +\n                        '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + startDate_1 + endDate_1 + duration_1 + progress_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'baseline':\n                {\n                    var baselineStartDateValue_1 = this.parent.getFormatedDate(data.baselineStartDate, this.parent.getDateFormat());\n                    var baselineEndDateValue_1 = this.parent.getFormatedDate(data.baselineEndDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        baselineStartDateValue_1 = SanitizeHtmlHelper.sanitize(baselineStartDateValue_1);\n                        baselineEndDateValue_1 = SanitizeHtmlHelper.sanitize(baselineEndDateValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + '<tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            baselineStartDateValue_1 + '</td></tr><tr>' +\n                            '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            baselineEndDateValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'marker':\n                {\n                    var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n                    var markerTooltipElementValue_1 = this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.getDateFormat());\n                    var markerLabel_1 = markerTooltipElement.label ? markerTooltipElement.label : '';\n                    if (this.parent.enableHtmlSanitizer) {\n                        markerLabel_1 = SanitizeHtmlHelper.sanitize(markerLabel_1);\n                        markerTooltipElementValue_1 = SanitizeHtmlHelper.sanitize(markerTooltipElementValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' +\n                            markerTooltipElementValue_1 + '</td></tr><tr><td>' + (this.parent.disableHtmlEncode ? markerLabel_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : markerLabel_1) + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'connectorLine':\n                {\n                    var fromNameValue_1 = parent.tooltipModule.predecessorTooltipData.fromName;\n                    var fromIdValue_1 = parent.tooltipModule.predecessorTooltipData.fromId;\n                    var toNameValue_1 = parent.tooltipModule.predecessorTooltipData.toName;\n                    var toIdValue_1 = parent.tooltipModule.predecessorTooltipData.toId;\n                    var linkTextValue_1 = parent.tooltipModule.predecessorTooltipData.linkText;\n                    var offsetStringValue_1 = parent.tooltipModule.predecessorTooltipData.offsetString;\n                    if (this.parent.enableHtmlSanitizer) {\n                        fromNameValue_1 = SanitizeHtmlHelper.sanitize(fromNameValue_1);\n                        fromIdValue_1 = SanitizeHtmlHelper.sanitize(fromIdValue_1);\n                        toNameValue_1 = SanitizeHtmlHelper.sanitize(toNameValue_1);\n                        toIdValue_1 = SanitizeHtmlHelper.sanitize(toIdValue_1);\n                        linkTextValue_1 = SanitizeHtmlHelper.sanitize(linkTextValue_1);\n                        offsetStringValue_1 = SanitizeHtmlHelper.sanitize(offsetStringValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('from') + '</td><td>:</td>' +\n                            '<td class = \"e-gantt-tooltip-value\">' + (this.parent.disableHtmlEncode ? fromNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromNameValue_1) + ' (' +\n                            (this.parent.disableHtmlEncode ? (typeof (fromIdValue_1) === 'string' ? fromIdValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromIdValue_1) : fromIdValue_1) + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            (this.parent.disableHtmlEncode ? toNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : toNameValue_1) + ' (' + toIdValue_1 + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + linkTextValue_1 +\n                            '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            offsetStringValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'indicator':\n                if (args.target.title.length) {\n                    var titleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (titleValue_1) === 'string') {\n                        titleValue_1 = SanitizeHtmlHelper.sanitize(titleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + titleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                }\n                break;\n            case 'timeline':\n                {\n                    var timlineTitleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (timlineTitleValue_1) === 'string') {\n                        timlineTitleValue_1 = SanitizeHtmlHelper.sanitize(timlineTitleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + timlineTitleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualtaskbar':\n                {\n                    var autoStartDateValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndDateValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var durationUnitValue = this.parent.getDurationString(data.duration, data.durationUnit);\n                    var manualStartDateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    var manualEndDateValue = this.parent.getFormatedDate(data.endDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartDateValue = SanitizeHtmlHelper.sanitize(autoStartDateValue);\n                        autoEndDateValue = SanitizeHtmlHelper.sanitize(autoEndDateValue);\n                        durationUnitValue = SanitizeHtmlHelper.sanitize(durationUnitValue);\n                        manualStartDateValue = SanitizeHtmlHelper.sanitize(manualStartDateValue);\n                        manualEndDateValue = SanitizeHtmlHelper.sanitize(manualEndDateValue);\n                    }\n                    var autoStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartDateValue + '</td></tr>';\n                    var autoEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndDateValue + '</td></tr>';\n                    var durationValue_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationUnitValue +\n                        '</td></tr>';\n                    var manualStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        manualStartDateValue + '</td></tr>';\n                    var manualEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        manualEndDateValue + '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + manualStartDate_1 + autoStartDate_1 + manualEndDate_1 + autoEndDate_1 + durationValue_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualmilestone':\n                {\n                    var autoStartValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var dateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartValue = SanitizeHtmlHelper.sanitize(autoStartValue);\n                        autoEndValue = SanitizeHtmlHelper.sanitize(autoEndValue);\n                        dateValue = SanitizeHtmlHelper.sanitize(dateValue);\n                    }\n                    var autoStart_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartValue + '</td></tr>';\n                    var autoEnd_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndValue + '</td></tr>';\n                    var date_1 = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        dateValue + '</tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + date_1 + autoStart_1 + autoEnd_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n        }\n        return content;\n    };\n    /**\n     * To get the details of an event marker.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {EventMarkerModel} .\n     * @private\n     */\n    Tooltip.prototype.getMarkerTooltipData = function (args) {\n        var markerTooltipId = (args.target.id).match(/\\d+/g);\n        var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n        return markerTooltipElement;\n    };\n    /**\n     * To get the details of a connector line.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {PredecessorTooltip} .\n     * @private\n     */\n    Tooltip.prototype.getPredecessorTooltipData = function (args) {\n        var predeceesorParent = args.target.id;\n        if (this.parent.enableHtmlSanitizer && typeof (predeceesorParent) === 'string') {\n            predeceesorParent = SanitizeHtmlHelper.sanitize(predeceesorParent);\n        }\n        var taskIds = predeceesorParent.match(/ConnectorLineparent(.*)child(.*)/);\n        taskIds.shift();\n        var fromTask;\n        var toTask;\n        if (this.parent.viewType === 'ResourceView') {\n            fromTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[0])];\n            toTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[1])];\n        }\n        else {\n            fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n            toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n        }\n        var predecessor = (fromTask.ganttProperties.predecessor).filter(function (pdc) { return pdc.to === taskIds[1]; });\n        var predecessorTooltipData = {\n            fromId: this.parent.viewType === 'ResourceView' ? fromTask.ganttProperties.taskId : fromTask.ganttProperties.rowUniqueID,\n            toId: this.parent.viewType === 'ResourceView' ? toTask.ganttProperties.taskId : toTask.ganttProperties.rowUniqueID,\n            fromName: fromTask.ganttProperties.taskName,\n            toName: toTask.ganttProperties.taskName,\n            linkType: predecessor[0].type,\n            linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n            offset: predecessor[0].offset,\n            offsetUnit: predecessor[0].offsetUnit,\n            offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n        };\n        return predecessorTooltipData;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string | Function} template .\n     * @param {Gantt} parent .\n     * @param {IGanttData|PredecessorTooltip} data .\n     * @param {string} propName .\n     * @returns {NodeList} .\n     * @private\n     */\n    Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n        var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n        var templateID = parent.chartRowsModule.getTemplateID(propName);\n        var templateNode = tooltipFunction(extend({ index: 0 }, data), parent, propName, templateID, true);\n        return templateNode;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.toolTipObj.destroy();\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { isNullOrUndefined, getValue, removeClass } from '@syncfusion/ej2-base';\n/**\n * Focus module is used to handle certain action on focus elements in keyboard navigations.\n */\nvar FocusModule = /** @class */ (function () {\n    function FocusModule(parent) {\n        this.parent = parent;\n        this.activeElement = null;\n        this.previousActiveElement = null;\n    }\n    FocusModule.prototype.getActiveElement = function (isPreviousActiveElement) {\n        return isPreviousActiveElement ? this.previousActiveElement : this.activeElement;\n    };\n    FocusModule.prototype.setActiveElement = function (element) {\n        this.previousActiveElement = this.activeElement;\n        this.activeElement = element;\n    };\n    /**\n     * To perform key interaction in Gantt\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    FocusModule.prototype.onKeyPress = function (e) {\n        var ganttObj = this.parent;\n        var ele = e.target;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        if (isNullOrUndefined(this.parent.focusModule.getActiveElement()) && (e.action === 'expandAll' || e.action === 'collapseAll')) {\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        if (!this.parent.isEdit && !isNullOrUndefined(ele) && ele.closest('.e-headercell') && (e.key === 'Enter') && this.parent.sortModule\n            && this.parent.allowSorting) {\n            e.action = 'enter';\n            this.parent.treeGrid.grid.notify('key-pressed', e);\n        }\n        var targetElement = this.parent.focusModule.getActiveElement();\n        if (e.action === 'home' || e.action === 'end' || e.action === 'downArrow' || e.action === 'upArrow' || e.action === 'delete' ||\n            e.action === 'rightArrow' || e.action === 'leftArrow' || e.action === 'focusTask' || e.action === 'focusSearch' ||\n            e.action === 'expandAll' || e.action === 'collapseAll' || e.action === 'undo' || e.action === 'redo' || e.action === 'selectAll') {\n            if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                ganttObj.editModule.cellEditModule.isCellEdit === true) {\n                return;\n            }\n        }\n        if (ganttObj.isAdaptive) {\n            if (e.action === 'addRowDialog' || e.action === 'editRowDialog' || e.action === 'delete'\n                || e.action === 'addRow') {\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.type === 'Multiple') {\n                    ganttObj.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (e.action) {\n            case 'home':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    if (ganttObj.selectedRowIndex === 0) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(0, false, true);\n                    }\n                }\n                break;\n            case 'end':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    var currentSelectingRecord = expandedRecords[expandedRecords.length - 1];\n                    if (ganttObj.selectedRowIndex === ganttObj.flatData.indexOf(currentSelectingRecord)) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n                break;\n            case 'downArrow':\n            case 'upArrow':\n                {\n                    var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                    if (searchElement && searchElement.parentElement.classList.contains('e-input-focus')) {\n                        ganttObj.selectionModule.clearSelection();\n                    }\n                    if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                        this.upDownKeyNavigate(e);\n                        if (!isNullOrUndefined(targetElement) && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                            ganttObj.ganttChartModule.manageFocus(this.getActiveElement(), 'remove', true, e.action);\n                        }\n                        if (ganttObj.selectionSettings && ganttObj.selectionSettings.mode === 'Both' && e.target instanceof HTMLElement && e.target.classList.contains('e-cellselectionbackground')) {\n                            e.target.classList.remove('e-cellselectionbackground');\n                        }\n                    }\n                    break;\n                }\n            case 'expandAll':\n                ganttObj.ganttChartModule.expandCollapseAll('expand');\n                break;\n            case 'collapseAll':\n                ganttObj.ganttChartModule.expandCollapseAll('collapse');\n                break;\n            case 'expandRow':\n            case 'collapseRow':\n                this.expandCollapseKey(e);\n                break;\n            case 'saveRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                    ganttObj.editModule.cellEditModule.isCellEdit) {\n                    var col = ganttObj.editModule.cellEditModule.editedColumn;\n                    if (col.field === ganttObj.columnMapping.duration && !isNullOrUndefined(col.edit) &&\n                        !isNullOrUndefined(col.edit.read)) {\n                        var textBox = e.target.ej2_instances[0];\n                        var textValue = e.target.value;\n                        // const ganttProp: ITaskData = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties;\n                        var tempValue = void 0;\n                        if (col.field === ganttObj.columnMapping.duration) {\n                            // tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? (col.edit.read as Function)() :\n                            //     // eslint-disable-next-line\n                            //     !isNullOrUndefined(col.valueAccessor) ? (col.valueAccessor as Function)(ganttObj.columnMapping.duration, ganttObj.editedRecords, col) :\n                            //         ganttObj.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                                tempValue = col.edit.read();\n                            }\n                            if (textValue !== tempValue.toString()) {\n                                textBox.value = textValue;\n                                textBox.dataBind();\n                            }\n                        }\n                    }\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.treeGrid.grid.saveCell();\n                    var focussedElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedElement.focus();\n                }\n                // if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isNullOrUndefined(targetElement)\n                //     && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                //     const target: EventTarget = e.target;\n                //     const taskbarElement: Element = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                //             '.e-gantt-child-taskbar,.e-gantt-milestone');\n                //     if (taskbarElement) {\n                //         this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                //     }\n                // }\n                if (!isNullOrUndefined(targetElement)\n                    && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                    var target = e.target;\n                    var taskbarElement = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                        '.e-gantt-child-taskbar,.e-gantt-milestone');\n                    if (taskbarElement) {\n                        this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                    }\n                }\n                break;\n            case 'escape':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule)) {\n                    ganttObj.editModule.cellEditModule.isCellEdit = false;\n                    if (!isNullOrUndefined(ganttObj.toolbarModule)) {\n                        ganttObj.toolbarModule.refreshToolbarItems();\n                    }\n                }\n                break;\n            case 'addRow':\n                {\n                    if (ganttObj.editModule && ganttObj.editModule.cellEditModule && ganttObj.editModule.cellEditModule.isCellEdit) {\n                        e.stopPropagation();\n                    }\n                    else if (isNullOrUndefined(document.getElementById(this.parent.element.id + '_dialog'))) {\n                        e.preventDefault();\n                        ganttObj.addRecord(undefined, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n                        var focussedElement = ganttObj.element;\n                        focussedElement.focus();\n                    }\n                    break;\n                }\n            case 'addRowDialog':\n                e.preventDefault();\n                if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowAdding) {\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.editModule.dialogModule.openAddDialog();\n                }\n                break;\n            case 'editRowDialog':\n                {\n                    e.preventDefault();\n                    var focussedTreeElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedTreeElement.focus();\n                    if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowEditing) {\n                        if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                            return;\n                        }\n                        ganttObj.editModule.dialogModule.openToolbarEditDialog();\n                    }\n                    break;\n                }\n            case 'delete':\n                if (ganttObj.selectionModule && ganttObj.editModule && ganttObj.editModule.dialogModule &&\n                    (!ganttObj.editModule.dialogModule.dialogObj || (ganttObj.editModule.dialogModule.dialogObj &&\n                        !ganttObj.editModule.dialogModule.dialogObj.visible)) && (!ganttObj.editSettings.allowTaskbarEditing\n                    || (ganttObj.editSettings.allowTaskbarEditing && !ganttObj.editModule.taskbarEditModule.touchEdit))) {\n                    if ((ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectionModule.selectedRowIndexes.length)\n                        || (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length)) {\n                        if (!isNullOrUndefined(e.target)) {\n                            if (e.target['tagName'] !== 'INPUT') {\n                                ganttObj.editModule.startDeleteAction();\n                            }\n                        }\n                        else {\n                            ganttObj.editModule.startDeleteAction();\n                        }\n                    }\n                }\n                break;\n            case 'focusTask':\n                {\n                    e.preventDefault();\n                    var selectedId = void 0;\n                    if (ganttObj.selectionModule) {\n                        var currentViewData = ganttObj.currentViewData;\n                        if (ganttObj.selectionSettings.mode !== 'Cell' &&\n                            !isNullOrUndefined(currentViewData[ganttObj.selectedRowIndex])) {\n                            selectedId = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties.rowUniqueID;\n                        }\n                        else if (ganttObj.selectionSettings.mode === 'Cell' &&\n                            ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                            var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                            selectedId = currentViewData[selectCellIndex[selectCellIndex.length - 1].rowIndex].ganttProperties.rowUniqueID;\n                        }\n                    }\n                    if (selectedId) {\n                        ganttObj.scrollToTask(selectedId.toString());\n                    }\n                    break;\n                }\n            case 'focusSearch':\n                {\n                    if (ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar')) {\n                        var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                        searchElement.setAttribute('tabIndex', '-1');\n                        searchElement.focus();\n                    }\n                    break;\n                }\n            case 'tab':\n            case 'shiftTab':\n                if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                    ganttObj.ganttChartModule.onTabAction(e);\n                }\n                break;\n            case 'contextMenu':\n                {\n                    var contextMenu = document.getElementById(this.parent.element.id +\n                        '_contextmenu').ej2_instances[0];\n                    var containerPosition = this.parent.getOffsetRect(e.target);\n                    var top_1 = containerPosition.top + (containerPosition.height / 2);\n                    var left = containerPosition.left + (containerPosition.width / 2);\n                    this.setActiveElement(e.target);\n                    contextMenu.open(top_1, left);\n                    e.preventDefault();\n                    break;\n                }\n            case 'undo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                        this.parent.undo();\n                    }\n                    break;\n                }\n            case 'redo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getRedoCollection'].length > 0) {\n                        this.parent.redo();\n                    }\n                    break;\n                }\n            case 'selectAll':\n                {\n                    e.preventDefault();\n                    var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n                    if (ganttRow.length > 0) {\n                        var firstRowIndex = parseInt(ganttRow[0].getAttribute('aria-rowindex'), 10) - 1;\n                        var lastRowIndex = parseInt(ganttRow[ganttRow.length - 1].getAttribute('aria-rowindex'), 10) - 1;\n                        if (!isNullOrUndefined(firstRowIndex)) {\n                            firstRowIndex = Number(firstRowIndex);\n                        }\n                        if (!isNullOrUndefined(lastRowIndex)) {\n                            lastRowIndex = Number(lastRowIndex);\n                        }\n                        if (!isNullOrUndefined(firstRowIndex) && !isNullOrUndefined(lastRowIndex)) {\n                            this.parent.selectionModule.selectRowsByRange(firstRowIndex, lastRowIndex);\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    var eventArgs = {\n                        requestType: 'keyPressed',\n                        action: e.action,\n                        keyEvent: e\n                    };\n                    ganttObj.trigger('actionComplete', eventArgs);\n                    break;\n                }\n        }\n    };\n    FocusModule.prototype.upDownKeyNavigate = function (e) {\n        e.preventDefault();\n        var ganttObj = this.parent;\n        var expandedRecords;\n        if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.flatData);\n        }\n        else {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        }\n        if (ganttObj.selectionModule) {\n            if (ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectedRowIndex !== -1) {\n                var selectedItem = void 0;\n                if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                    selectedItem = ganttObj.flatData[ganttObj.selectedRowIndex];\n                }\n                else {\n                    selectedItem = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n                }\n                var focussedElement = ganttObj.element.querySelector('.e-focused');\n                if (focussedElement) {\n                    removeClass([focussedElement], 'e-focused');\n                }\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var activeElement = this.parent['args'];\n                if (document.activeElement !== activeElement) {\n                    if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                    else {\n                        ganttObj.selectionModule.selectRow(ganttObj.currentViewData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                var selectedCellItem = selectCellIndex[selectCellIndex.length - 1];\n                var currentCellIndex = selectedCellItem.cellIndexes[selectedCellItem.cellIndexes.length - 1];\n                var selectedItem = ganttObj.currentViewData[selectedCellItem.rowIndex];\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var cellInfo = {\n                    rowIndex: ganttObj.currentViewData.indexOf(currentSelectingRecord),\n                    cellIndex: currentCellIndex\n                };\n                ganttObj.selectionModule.selectCell(cellInfo);\n            }\n            this.parent.ganttChartModule.focusedRowIndex = this.parent.selectedRowIndex;\n        }\n    };\n    FocusModule.prototype.expandCollapseKey = function (e) {\n        var ganttObj = this.parent;\n        if (ganttObj.selectionModule && ganttObj.selectedRowIndex !== -1) {\n            var selectedRowIndex_1;\n            if (ganttObj.selectionSettings.mode !== 'Cell') {\n                selectedRowIndex_1 = ganttObj.selectedRowIndex;\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                selectedRowIndex_1 = selectCellIndex[selectCellIndex.length - 1].rowIndex;\n            }\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                selectedRowIndex_1 = this.parent.currentViewData.findIndex(function (obj) { return obj.ganttProperties.rowUniqueID ===\n                    selectedRowIndex_1.toString(); }) + 1;\n            }\n            if (e.action === 'expandRow') {\n                ganttObj.expandByIndex(selectedRowIndex_1);\n            }\n            else {\n                ganttObj.collapseByIndex(selectedRowIndex_1);\n            }\n        }\n    };\n    return FocusModule;\n}());\nexport { FocusModule };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, createElement, Complex, addClass, removeClass, Event, formatUnit, Browser, closest } from '@syncfusion/ej2-base';\nimport { Internationalization, extend, getValue, isObjectArray, isObject, setValue, isUndefined } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, L10n, EventHandler } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, KeyboardEvents, Collection, append, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TaskProcessor } from './task-processor';\nimport { GanttChart } from './gantt-chart';\nimport { Timeline } from '../renderer/timeline';\nimport { GanttTreeGrid } from './tree-grid';\nimport { SortSettings } from '../models/models';\nimport { LoadingIndicator } from '../models/models';\nimport { TaskFields, TimelineSettings, Holiday, EventMarker, DayWorkingTime, EditSettings, SelectionSettings } from '../models/models';\nimport { FilterSettings, SplitterSettings, TooltipSettings, LabelSettings } from '../models/models';\nimport { SearchSettings, ResourceFields } from '../models/models';\nimport { DateProcessor } from './date-processor';\nimport { ChartRows } from '../renderer/chart-rows';\nimport { Dependency } from '../actions/dependency';\nimport * as cls from './css-constants';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\nimport { ConnectorLine } from '../renderer/connector-line';\nimport { Splitter } from './splitter';\nimport { Tooltip } from '../renderer/tooltip';\nimport { FocusModule } from '../actions/keyboard';\nimport { isCountRequired } from './utils';\nimport { WeekWorkingTime } from '../models/week-working-time';\n/**\n *\n * Represents the Gantt chart component.\n * ```html\n * <div id='gantt'></div>\n * <script>\n *  var ganttObject = new Gantt({\n *      taskFields: { id: 'taskId', name: 'taskName', startDate: 'startDate', duration: 'duration' }\n *  });\n *  ganttObject.appendTo('#gantt');\n * </script>\n * ```\n */\nvar Gantt = /** @class */ (function (_super) {\n    __extends(Gantt, _super);\n    function Gantt(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRowSelected = false;\n        _this.showIndicator = true;\n        _this.singleTier = 0;\n        _this.expandedRecords = [];\n        _this.isLocaleChanged = false;\n        _this.triggeredColumnName = '';\n        _this.totalUndoAction = 0;\n        _this.previousFlatData = [];\n        _this.isExpandPerformed = false;\n        _this.oldRecords = [];\n        _this.updateDuration = false;\n        _this.isConvertedMilestone = false;\n        /** @hidden */\n        _this.isCancelled = false;\n        /** @hidden */\n        _this.isCollapseAll = false;\n        /** @hidden */\n        _this.previousRecords = {};\n        /** @hidden */\n        _this.editedRecords = [];\n        /** @hidden */\n        _this.modifiedRecords = [];\n        /** @hidden */\n        _this.isOnEdit = false;\n        /** @hidden */\n        _this.isOnDelete = false;\n        /** @hidden */\n        _this.isOnAdded = false;\n        /** @hidden */\n        _this.isExpandCollapseLevelMethod = false;\n        /** @hidden */\n        _this.isFromEventMarker = false;\n        /** @hidden */\n        _this.isDynamicData = false;\n        /** @hidden */\n        _this.isConnectorLineUpdate = false;\n        /** @hidden */\n        _this.staticSelectedRowIndex = -1;\n        _this.needsID = true;\n        /** @hidden */\n        _this.showActiveElement = true;\n        /** @hidden */\n        _this.addDeleteRecord = false;\n        /** @hidden */\n        _this.enableHeaderFocus = true;\n        /** @hidden */\n        _this.enableValidation = true;\n        /**\n         * @private\n         */\n        _this.isTreeGridRendered = false;\n        /**\n         * @private\n         */\n        _this.isFromOnPropertyChange = false;\n        /**\n         * @private\n         */\n        _this.isFromRenderBaseline = false;\n        /**\n         * @private\n         */\n        _this.isGanttChartRendered = false;\n        /**\n         * @private\n         */\n        _this.isEdit = false;\n        /**\n         * To get the module name\n         *\n         * @returns {string} .\n         * @private\n         */\n        _this.eventMarkerColloction = [];\n        setValue('mergePersistData', _this.mergePersistGanttData, _this);\n        return _this;\n    }\n    Gantt.prototype.getModuleName = function () {\n        return 'gantt';\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.preRender = function () {\n        this.initProperties();\n    };\n    Gantt.prototype.getCurrentDayStartTime = function (date) {\n        var dayStartTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayStartTime = this['getStartTime'](date);\n        }\n        else {\n            dayStartTime = this.defaultStartTime;\n        }\n        return dayStartTime;\n    };\n    Gantt.prototype.getCurrentDayEndTime = function (date) {\n        var dayEndTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayEndTime = this['getEndTime'](date);\n        }\n        else {\n            dayEndTime = this.defaultEndTime;\n        }\n        return dayEndTime;\n    };\n    Gantt.prototype.getStartTime = function (date) {\n        var day = date.getDay();\n        var startTime;\n        switch (day) {\n            case 0:\n                startTime = this.sundayDefaultStartTime;\n                break;\n            case 1:\n                startTime = this.mondayDefaultStartTime;\n                break;\n            case 2:\n                startTime = this.tuesdayDefaultStartTime;\n                break;\n            case 3:\n                startTime = this.wednesdayDefaultStartTime;\n                break;\n            case 4:\n                startTime = this.thursdayDefaultStartTime;\n                break;\n            case 5:\n                startTime = this.fridayDefaultStartTime;\n                break;\n            default:\n                startTime = this.saturdayDefaultStartTime;\n                break;\n        }\n        return startTime;\n    };\n    Gantt.prototype.getEndTime = function (date) {\n        var day = date.getDay();\n        var endTime;\n        switch (day) {\n            case 0:\n                endTime = this.sundayDefaultEndTime;\n                break;\n            case 1:\n                endTime = this.mondayDefaultEndTime;\n                break;\n            case 2:\n                endTime = this.tuesdayDefaultEndTime;\n                break;\n            case 3:\n                endTime = this.wednesdayDefaultEndTime;\n                break;\n            case 4:\n                endTime = this.thursdayDefaultEndTime;\n                break;\n            case 5:\n                endTime = this.fridayDefaultEndTime;\n                break;\n            default:\n                endTime = this.saturdayDefaultEndTime;\n                break;\n        }\n        return endTime;\n    };\n    Gantt.prototype.getNonWorkingRange = function (date) {\n        var day = date.getDay();\n        var nonWorkingTimeRange;\n        switch (day) {\n            case 0:\n                nonWorkingTimeRange = this.sundayNonWorkingTimeRanges;\n                break;\n            case 1:\n                nonWorkingTimeRange = this.mondayNonWorkingTimeRanges;\n                break;\n            case 2:\n                nonWorkingTimeRange = this.tuesdayNonWorkingTimeRanges;\n                break;\n            case 3:\n                nonWorkingTimeRange = this.wednesdayNonWorkingTimeRanges;\n                break;\n            case 4:\n                nonWorkingTimeRange = this.thursdayNonWorkingTimeRanges;\n                break;\n            case 5:\n                nonWorkingTimeRange = this.fridayNonWorkingTimeRanges;\n                break;\n            default:\n                nonWorkingTimeRange = this.saturdayNonWorkingTimeRanges;\n                break;\n        }\n        return nonWorkingTimeRange;\n    };\n    Gantt.prototype.getWorkingRange = function (date) {\n        var day = date.getDay();\n        var workingTimeRanges;\n        switch (day) {\n            case 0:\n                workingTimeRanges = this.sundayWorkingTimeRanges;\n                break;\n            case 1:\n                workingTimeRanges = this.mondayWorkingTimeRanges;\n                break;\n            case 2:\n                workingTimeRanges = this.tuesdayWorkingTimeRanges;\n                break;\n            case 3:\n                workingTimeRanges = this.wednesdayWorkingTimeRanges;\n                break;\n            case 4:\n                workingTimeRanges = this.thursdayWorkingTimeRanges;\n                break;\n            case 5:\n                workingTimeRanges = this.fridayWorkingTimeRanges;\n                break;\n            default:\n                workingTimeRanges = this.saturdayWorkingTimeRanges;\n                break;\n        }\n        return workingTimeRanges;\n    };\n    Gantt.prototype.getSecondsPerDay = function (date) {\n        var day = date.getDay();\n        var totalSeconds;\n        switch (day) {\n            case 0:\n                totalSeconds = this.sundaySeconds;\n                break;\n            case 1:\n                totalSeconds = this.mondaySeconds;\n                break;\n            case 2:\n                totalSeconds = this.tuesdaySeconds;\n                break;\n            case 3:\n                totalSeconds = this.wednesdaySeconds;\n                break;\n            case 4:\n                totalSeconds = this.thursdaySeconds;\n                break;\n            case 5:\n                totalSeconds = this.fridaySeconds;\n                break;\n            case 6:\n                totalSeconds = this.saturdaySeconds;\n                break;\n            default:\n                totalSeconds = this.secondsPerDay;\n                break;\n        }\n        return totalSeconds;\n    };\n    Gantt.prototype.initProperties = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.isAdaptive = Browser.isDevice;\n        this.flatData = [];\n        this.currentViewData = [];\n        this.updatedRecords = [];\n        this.ids = [];\n        this.ganttColumns = [];\n        this.updateOffsetOnTaskbarEdit = this.UpdateOffsetOnTaskbarEdit === false ?\n            this.UpdateOffsetOnTaskbarEdit : this.updateOffsetOnTaskbarEdit;\n        this.localeObj = new L10n(this.getModuleName(), this.getDefaultLocale(), this.locale);\n        this.dataOperation = new TaskProcessor(this);\n        this.nonWorkingHours = [];\n        this.mondayNonWorkingHours = [];\n        this.tuesdayNonWorkingHours = [];\n        this.wednesdayNonWorkingHours = [];\n        this.thursdayNonWorkingHours = [];\n        this.fridayNonWorkingHours = [];\n        this.saturdayNonWorkingHours = [];\n        this.sundayNonWorkingHours = [];\n        this.nonWorkingTimeRanges = [];\n        this.mondayNonWorkingTimeRanges = [];\n        this.tuesdayNonWorkingTimeRanges = [];\n        this.wednesdayNonWorkingTimeRanges = [];\n        this.thursdayNonWorkingTimeRanges = [];\n        this.fridayNonWorkingTimeRanges = [];\n        this.saturdayNonWorkingTimeRanges = [];\n        this.sundayNonWorkingTimeRanges = [];\n        this.workingTimeRanges = [];\n        this.mondayWorkingTimeRanges = [];\n        this.tuesdayWorkingTimeRanges = [];\n        this.wednesdayWorkingTimeRanges = [];\n        this.thursdayWorkingTimeRanges = [];\n        this.fridayWorkingTimeRanges = [];\n        this.saturdayWorkingTimeRanges = [];\n        this.sundayWorkingTimeRanges = [];\n        this.defaultEndTime = null;\n        this.defaultStartTime = null;\n        this.mondayDefaultStartTime = null;\n        this.mondayDefaultEndTime = null;\n        this.tuesdayDefaultStartTime = null;\n        this.tuesdayDefaultEndTime = null;\n        this.wednesdayDefaultStartTime = null;\n        this.wednesdayDefaultEndTime = null;\n        this.thursdayDefaultStartTime = null;\n        this.thursdayDefaultEndTime = null;\n        this.fridayDefaultStartTime = null;\n        this.fridayDefaultEndTime = null;\n        this.saturdayDefaultStartTime = null;\n        this.saturdayDefaultEndTime = null;\n        this.sundayDefaultStartTime = null;\n        this.sundayDefaultEndTime = null;\n        this.durationUnitTexts = {\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute'\n        };\n        this.durationUnitEditText = {\n            minute: ['m', 'min', 'minute', 'minutes'],\n            hour: ['h', 'hr', 'hour', 'hours'],\n            day: ['d', 'dy', 'day', 'days']\n        };\n        this.perDayWidth = null;\n        this.isMileStoneEdited = false;\n        this.chartVerticalLineContainer = null;\n        this.updatedConnectorLineCollection = [];\n        this.connectorLineIds = [];\n        this.predecessorsCollection = [];\n        this.isInPredecessorValidation = this.enablePredecessorValidation;\n        this.isValidationEnabled = true;\n        this.isLoad = true;\n        this.editedTaskBarItem = null;\n        this.validationDialogElement = null;\n        this.currentEditedArgs = {};\n        this.dialogValidateMode = {\n            respectLink: false,\n            removeLink: false,\n            preserveLinkWithEditing: true\n        };\n        this.secondsPerDay = this.dataOperation.getSecondsPerDay();\n        this.nonWorkingDayIndex = [];\n        this.dataOperation.getNonWorkingDayIndex();\n        this.columnMapping = {};\n        this.controlId = this.element.id;\n        this.cloneProjectStartDate = this.enablePersistence && this.cloneProjectStartDate ?\n            this.cloneProjectStartDate : null;\n        this.cloneProjectEndDate = this.enablePersistence && this.cloneProjectEndDate ?\n            this.cloneProjectEndDate : null;\n        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n        this.ganttChartModule = new GanttChart(this);\n        this.timelineModule = new Timeline(this);\n        this.chartRowsModule = new ChartRows(this);\n        this.treeGridModule = new GanttTreeGrid(this);\n        this.dateValidationModule = new DateProcessor(this);\n        this.predecessorModule = new Dependency(this);\n        this.connectorLineModule = new ConnectorLine(this);\n        this.splitterModule = new Splitter(this);\n        this.tooltipModule = new Tooltip(this);\n        this.keyConfig = {\n            home: 'home',\n            end: 'end',\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            collapseAll: 'ctrl+uparrow',\n            expandAll: 'ctrl+downarrow',\n            collapseRow: 'ctrl+shift+uparrow',\n            expandRow: 'ctrl+shift+downarrow',\n            saveRequest: '13',\n            escape: '27',\n            addRow: 'insert',\n            addRowDialog: 'ctrl+insert',\n            editRowDialog: 'ctrl+f2',\n            delete: 'delete',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            focusTask: 'shift+f5',\n            indentLevel: 'shift+leftarrow',\n            outdentLevel: 'shift+rightarrow',\n            focusSearch: 'ctrl+shift+70',\n            contextMenu: 'shift+F10',\n            undo: 'ctrl+z',\n            redo: 'ctrl+y',\n            selectAll: 'ctrl+a'\n        };\n        this.focusModule = new FocusModule(this);\n        if (this.zoomingLevels.length === 0) {\n            this.setProperties({ zoomingLevels: this.getZoomingLevels() }, true);\n        }\n        this.resourceFieldsMapping();\n        if (isNullOrUndefined(this.resourceFields.unit)) { //set resourceUnit as unit if not mapping\n            this.setProperties({ resourceFields: { unit: 'unit' } }, true);\n        }\n        this.taskIds = [];\n    };\n    Gantt.prototype.isUndoRedoItemPresent = function (action) {\n        if (this.undoRedoModule && this.undoRedoActions && this.undoRedoActions.indexOf(action) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getDateFormat = function () {\n        if (!isNullOrUndefined(this.dateFormat)) {\n            return this.dateFormat;\n        }\n        else {\n            var ganttDateFormat = this.globalize.getDatePattern({ skeleton: 'yMd' });\n            return ganttDateFormat;\n        }\n    };\n    /**\n     * To get timezone offset.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getDefaultTZOffset = function () {\n        var janMonth = new Date(new Date().getFullYear(), 0, 1);\n        var julMonth = new Date(new Date().getFullYear(), 6, 1); //Because there is no reagions DST inbetwwen this range\n        return Math.max(janMonth.getTimezoneOffset(), julMonth.getTimezoneOffset());\n    };\n    /**\n     * To check whether the date is in DST.\n     *\n     * @param {Date} date - Defines the date to check whether it is DST.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isInDst = function (date) {\n        return date.getTimezoneOffset() < this.getDefaultTZOffset();\n    };\n    /**\n     * Method to map resource fields.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.resourceFieldsMapping = function () {\n        var resourceSettings = this.resourceFields;\n        resourceSettings.id = !isNullOrUndefined(resourceSettings.id) ? resourceSettings.id : this.resourceIDMapping;\n        resourceSettings.name = !isNullOrUndefined(resourceSettings.name) ? resourceSettings.name : this.resourceNameMapping;\n    };\n    /**\n     * To validate height and width\n     *\n     * @param {string | number} value .\n     * @returns {string} .\n     */\n    Gantt.prototype.validateDimentionValue = function (value) {\n        if (!isNullOrUndefined(value)) {\n            if (typeof (value) === 'string' && value !== 'auto' && value.indexOf('%') === -1) {\n                return value.indexOf('px') === -1 ? value + 'px' : value;\n            }\n            else if (typeof (value) === 'number') {\n                return value + 'px';\n            }\n            else {\n                return value.toString();\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To calculate dimensions of Gantt control\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.calculateDimensions = function () {\n        var settingsHeight = this.validateDimentionValue(this.height);\n        var settingsWidth = this.validateDimentionValue(this.width);\n        if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n            settingsWidth = this.width;\n        }\n        var elementStyleHeight = this.element.style.height;\n        var elementStyleWidth = this.element.style.width;\n        if (settingsWidth) {\n            this.element.style.width = settingsWidth;\n        }\n        if (settingsHeight) {\n            this.element.style.height = settingsHeight;\n        }\n        if (!settingsHeight && !elementStyleHeight) {\n            this.element.style.height = 'auto'; // old 450px\n        }\n        if (!settingsWidth && !elementStyleWidth) {\n            this.element.style.width = 'auto';\n        }\n        this.ganttHeight = this.element.offsetHeight;\n        this.ganttWidth = this.element.offsetWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.render = function () {\n        if (this.isReact) {\n            this.treeGrid.isReact = true;\n            this.treeGrid.grid.isReact = true;\n        }\n        if (this.isVue) {\n            this.treeGrid.isVue = true;\n            this.treeGrid.grid.isVue = true;\n            /* eslint-disable-next-line */\n            this.treeGrid.vueInstance = this.vueInstance;\n            /* eslint-disable-next-line */\n            this.treeGrid.grid.vueInstance = this.vueInstance;\n        }\n        this.element.setAttribute('role', 'application');\n        createSpinner({ target: this.element }, this.createElement);\n        this.trigger('load', {});\n        this.element.classList.add(cls.root);\n        if (this.isAdaptive) {\n            this.element.classList.add(cls.adaptive);\n        }\n        else {\n            this.element.classList.remove(cls.adaptive);\n        }\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.renderToolbar();\n        }\n        this.splitterModule.renderSplitter();\n        this.notify('renderPanels', null);\n        this.actionFailures();\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n        if (this.dataMap) {\n            this.dataMap.clear();\n        }\n        this.dataOperation.checkDataBinding();\n    };\n    Gantt.prototype.actionFailures = function () {\n        var failureCases = [];\n        var lettersRegex = /^[a-zA-Z\\s/]+$/;\n        var allPropertiesNull = true;\n        var fields = this.taskFields['properties'];\n        var shouldBreak = false;\n        Object.keys(fields).forEach(function (key) {\n            if (fields[key] !== null) {\n                allPropertiesNull = false;\n                shouldBreak = true;\n            }\n        });\n        var isPrimary = true;\n        for (var i = 0; i < this.columns.length; i++) {\n            if (this.columns[i]['isPrimaryKey']) {\n                isPrimary = false;\n                break;\n            }\n        }\n        if (allPropertiesNull) {\n            failureCases.push('Gantt Task Fields are not configured properly. The task fields are crucial for both the project and resource views to function properly. Please ensure that the gantt task fields are properly configured!');\n        }\n        if (this.viewType === 'ResourceView') {\n            if (!this.resourceFields.id) {\n                failureCases.push('Gantt Resource Fields are not properly configured, which is crucial for the Resource View. Please ensure that the resource fields are configured correctly!');\n            }\n        }\n        if (this.dataSource instanceof DataManager && isNullOrUndefined(this.taskFields.hasChildMapping)) {\n            failureCases.push('hasChildMapping property is not configured for load-on-demand. Please ensure its properly configured in the Gantt Task Fields!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.topTier.format) && this.timelineSettings.topTier.format !== '' && !lettersRegex.test(this.timelineSettings.topTier.format)) {\n            failureCases.push('The provided top tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.bottomTier.format) && this.timelineSettings.bottomTier.format !== '' && !lettersRegex.test(this.timelineSettings.bottomTier.format)) {\n            failureCases.push('The provided bottom  tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (isPrimary && this.viewType !== 'ResourceView') {\n            failureCases.push('Primarykey is not configured properly. The primarykey is crucial for doing CRUD operations or map taskId in column field of gantt!');\n        }\n        if (this.eventMarkers.length > 0) {\n            this.eventMarkers.forEach(function (markers) {\n                if (!markers.day) {\n                    failureCases.push('Day is not configured properly in event markers.Please ensure that the day in event markers is properly configured!');\n                }\n            });\n        }\n        /* eslint-disable-next-line */\n        function checkModule(moduleName, settings, injectedModules, failureCases) {\n            /* eslint-disable-next-line */\n            var modules;\n            if (!isNullOrUndefined(injectedModules)) {\n                modules = injectedModules.filter(function (e) { return e.prototype.getModuleName() === moduleName; });\n            }\n            if (settings && !isNullOrUndefined(modules) && modules.length === 0) {\n                failureCases.push(\"Module \" + moduleName + \" is not available in Gantt component! You either misspelled the module name or forgot to load it!\");\n            }\n        }\n        checkModule('sort', this.allowSorting, this.injectedModules, failureCases);\n        var editSettings;\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing ||\n            this.editSettings.allowNextRowEdit || this.editSettings.allowTaskbarEditing || this.editSettings.mode ||\n            this.editSettings.newRowPosition || this.editSettings.showDeleteConfirmDialog) {\n            editSettings = true;\n        }\n        checkModule('edit', editSettings, this.injectedModules, failureCases);\n        checkModule('reorder', this.allowReordering, this.injectedModules, failureCases);\n        checkModule('excelExport', this.allowExcelExport, this.injectedModules, failureCases);\n        var dragAndDrop;\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            dragAndDrop = true;\n        }\n        checkModule('rowDragAndDrop', dragAndDrop, this.injectedModules, failureCases);\n        checkModule('criticalPath', this.enableCriticalPath, this.injectedModules, failureCases);\n        checkModule('undoRedo', this.enableUndoRedo, this.injectedModules, failureCases);\n        checkModule('resize', this.allowResizing, this.injectedModules, failureCases);\n        var toolbar;\n        if (this.toolbar && this.toolbar.length > 0) {\n            toolbar = true;\n        }\n        checkModule('toolbar', toolbar, this.injectedModules, failureCases);\n        var filter;\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            filter = true;\n        }\n        checkModule('filter', filter, this.injectedModules, failureCases);\n        checkModule('selection', this.allowSelection, this.injectedModules, failureCases);\n        var dayMarkers;\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            dayMarkers = true;\n        }\n        checkModule('dayMarkers', dayMarkers, this.injectedModules, failureCases);\n        checkModule('contextMenu', this.enableContextMenu, this.injectedModules, failureCases);\n        checkModule('columnMenu', this.showColumnMenu, this.injectedModules, failureCases);\n        checkModule('pdfExport', this.allowPdfExport, this.injectedModules, failureCases);\n        checkModule('virtualScroll', this.enableVirtualization, this.injectedModules, failureCases);\n        if (failureCases.length > 0) {\n            /* eslint-disable-next-line */\n            var failureEventArgs_1 = {\n                error: {}\n            };\n            /* eslint-disable-next-line */\n            failureCases.forEach(function (err, index) {\n                failureEventArgs_1.error[parseInt(index, 10)] = err;\n            });\n            this.trigger('actionFailure', failureEventArgs_1);\n        }\n    };\n    Gantt.prototype.hideMaskRow = function () {\n        var isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.contentMaskTable) && (isTablePresent !== 0 || this.contentMaskTable)) {\n            var maskTable = this.contentMaskTable;\n            remove(maskTable);\n            this.contentMaskTable = null;\n        }\n        isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.headerMaskTable) && (isTablePresent !== 0 || this.headerMaskTable)) {\n            var maskTable = this.headerMaskTable;\n            remove(maskTable);\n            this.headerMaskTable = null;\n        }\n        while ((this.element.querySelectorAll('.e-table-background')).length !== 0) {\n            this.element.querySelectorAll('.e-table-background')[0].remove();\n        }\n        while ((this.element.querySelectorAll('.e-temp-timeline')).length !== 0) {\n            this.element.querySelectorAll('.e-temp-timeline')[0].remove();\n        }\n        if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n            for (var i = 0; i < this.singleTier; i++) {\n                if (!isNullOrUndefined(this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)])) {\n                    this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'visible';\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.' + cls.timelineHeaderContainer))) {\n            this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'relative';\n        }\n        if (!isNullOrUndefined(this.element.getElementsByClassName(cls.chartBodyContent)[0])) {\n            this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'visible';\n        }\n    };\n    Gantt.prototype.showMaskRow = function () {\n        var ganttHeader = this.chartPane.childNodes[0].childNodes[0];\n        this.scrollLeftValue = this.chartPane.childNodes[0].childNodes[0]['scrollLeft'];\n        var ganttContent = this.chartPane.childNodes[0].childNodes[1];\n        if (this.treeGrid.element) {\n            this.ganttChartModule['setVirtualHeight']();\n        }\n        if (!this.contentMaskTable) {\n            if (ganttContent) {\n                var content = ganttContent;\n                this.renderBackGround(content);\n                if (this.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                    if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n                        this.singleTier = this.timelineModule.isSingleTier ? 1 : 2;\n                        for (var i = 0; i < this.singleTier; i++) {\n                            this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'hidden';\n                        }\n                    }\n                    if (this.singleTier === 0) {\n                        this.singleTier = 2;\n                    }\n                }\n                this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'hidden';\n                this.contentMaskTable = this.contentMaskTable = this.createMaskTable(content);\n            }\n            if (ganttHeader && this.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'static';\n                var content = ganttHeader;\n                this.renderHeaderBackground(content);\n                this.headerMaskTable = this.headerMaskTable = this.createMaskTable(content);\n            }\n        }\n    };\n    Gantt.prototype.renderHeaderBackground = function (element) {\n        var parentElement = element;\n        // const timelineHeight: any = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        if (header) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= ((160))) + 'px; top:0px;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += ((160))) + 'px; top:0px;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    Gantt.prototype.renderBackGround = function (element) {\n        var parentElement = element;\n        // const timelineHeight: number = element.getBoundingClientRect().height;\n        var content = closest(parentElement, '.' + cls.chartBodyContainer) ? true : false;\n        if (content) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= (160)) + 'px;z-index:1;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += (160)) + 'px;z-index:1;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    /* eslint-disable-next-line */\n    Gantt.prototype.createMaskTable = function (element) {\n        var parentElement = element;\n        var shimmerContainerHeight = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        /* eslint-disable-next-line */\n        var maskTable;\n        if (header) {\n            maskTable = this.createEmptyTimeLineTable(shimmerContainerHeight);\n            maskTable.style.position = 'sticky';\n            maskTable.style.left = 0 + 'px';\n            if (this.enableRtl) {\n                maskTable.style.removeProperty('left');\n            }\n        }\n        else {\n            maskTable = this.createEmptyMaskTable(shimmerContainerHeight);\n            maskTable.style.position = 'absolute';\n            maskTable.style.zIndex = 1;\n        }\n        if (!header) {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            parentElement.insertBefore(maskTable, parentElement.firstChild);\n        }\n        else {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            var div = this.createElement('div', { className: 'e-temp-timeline' });\n            div.style.width = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] + 'px';\n            div.style.position = 'sticky';\n            if (this.enableRtl) {\n                div.style['margin-right'] = Math.abs(this.scrollLeftValue) + 'px';\n            }\n            else {\n                div.style['margin-left'] = this.scrollLeftValue + 'px';\n            }\n            div.appendChild(maskTable);\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n        return maskTable;\n    };\n    Gantt.prototype.createEmptyTimeLineTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', {\n            className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 2 + 'px;'\n            }\n        });\n        for (var i = 0; i < this.singleTier; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        this.topBottomHeader = 0;\n        for (var i = 0; i < row.length; i++) {\n            tbody.appendChild(this.applyTimelineMaskRow(row[parseInt(i.toString(), 10)]));\n            this.topBottomHeader = this.topBottomHeader + 1;\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        return table;\n    };\n    Gantt.prototype.applyTimelineMaskRow = function (row) {\n        var maskRow = row;\n        var num = 4;\n        if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166 > 4) {\n            num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166;\n        }\n        for (var i = 0; i < num; i++) {\n            maskRow.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n        }\n        for (var i = 0; i < maskRow.childNodes.length - 1; i++) {\n            maskRow.childNodes[parseInt(i.toString(), 10)]['style']['width'] = 166 + 'px';\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.topBottomHeader) {\n                case 0:\n                    {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                            maskCell.children[0]['style'].left = -20 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                        }\n                        break;\n                    }\n                case 1:\n                    {\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        var innerMaskCells = [].slice.call(maskCell.childNodes);\n                        for (var i_1 = 0; i_1 < innerMaskCells.length; i_1++) {\n                            var htmlInner = innerMaskCells[parseInt(i_1.toString(), 10)];\n                            if (i_1 === 0) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                    htmlInner.children[0]['style'].left = -14 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                }\n                            }\n                            else if (i_1 === 1) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                    htmlInner.children[0]['style'].left = -30 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                }\n                            }\n                            else {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                    htmlInner.children[0]['style'].left = -60 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                }\n                            }\n                        }\n                        break;\n                    }\n            }\n        }\n        return maskRow;\n    };\n    Gantt.prototype.createEmptyMaskTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', { className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 7 + 'px;'\n            } });\n        this.columnLoop = 0;\n        for (var i = 0; i < 6; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        for (var j = 0; j < row.length; j++) {\n            if (this.columnLoop < 4) {\n                this.columnLoop = this.columnLoop + 1;\n            }\n            else if (this.columnLoop === 4) {\n                this.columnLoop = 1;\n            }\n            tbody.appendChild(this.applyMaskRow(row[parseInt(j.toString(), 10)]));\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        var div = this.createElement('div', { className: 'e-temp-container' });\n        div.style.width = 'calc(100% - ' + 17 + 'px)';\n        div.style.overflow = 'hidden';\n        div.appendChild(table);\n        return div;\n    };\n    Gantt.prototype.applyMaskRow = function (row) {\n        var maskRow = row;\n        if (this.columnLoop < 4) {\n            var num = 2;\n            if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300 > 2) {\n                num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300;\n            }\n            for (var i = 0; i < num; i++) {\n                maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n            }\n        }\n        else {\n            maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.columnLoop) {\n                case 1:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell02\"></span>';\n                    }\n                    break;\n                case 2:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell04\"></span>';\n                    }\n                    break;\n                case 3:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                            maskCell.children[0]['style'].left = -64 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                        }\n                    }\n                    else {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                            maskCell.children[0]['style'].left = -192 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                        }\n                    }\n                    break;\n                case 4:\n                    if (this.enableRtl) {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                        maskCell.children[0]['style'].left = -388 + 'px';\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                    }\n                    break;\n            }\n        }\n        return maskRow;\n    };\n    /**\n     * Method used to show spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * Method used to hide spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.processTimeline = function () {\n        this.timelineModule.processTimelineUnit();\n        this.timelineModule.calculateZoomingLevelsPerDayWidth(); // To calculate the perDaywidth\n    };\n    /**\n     * @param {boolean} isChange -Defines whether task data is changed.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderGantt = function (isChange) {\n        if (isChange) {\n            this.isFromOnPropertyChange = isChange;\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n        }\n        var flatData = this.flatData;\n        var flatDataCollection = new Map();\n        if (flatData != null) {\n            for (var _i = 0, flatData_1 = flatData; _i < flatData_1.length; _i++) {\n                var record = flatData_1[_i];\n                flatDataCollection.set(record.ganttProperties.rowUniqueID.toString(), record);\n            }\n        }\n        if (this.allowParentDependency) {\n            this.predecessorModule.updateParentPredecessor(flatDataCollection);\n        }\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.predecessorModule['parentIds'] = [];\n            this.predecessorModule['parentRecord'] = [];\n            this.predecessorModule.updatePredecessors(flatDataCollection);\n            if (this.isInPredecessorValidation && this.enableValidation && this.autoCalculateDateScheduling &&\n                !(this.isLoad && !this.treeGrid.loadChildOnDemand && this.taskFields.hasChildMapping)) {\n                this.predecessorModule.updatedRecordsDateByPredecessor(flatDataCollection);\n            }\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n            this.dataOperation.updateGanttData();\n        }\n        if (isChange) {\n            if (this.dataSource instanceof Object && isCountRequired(this)) {\n                var count = getValue('count', this.dataSource);\n                this.treeGrid.dataSource = { result: this.flatData, count: count };\n            }\n            else {\n                this.treeGrid.setProperties({ dataSource: this.flatData }, false);\n            }\n            if (!isNullOrUndefined(this.selectionModule)) {\n                this.treeGrid.setProperties({ selectedRowIndex: this.selectedRowIndex }, false);\n            }\n        }\n        else {\n            this.treeGridPane.classList.remove('e-temp-content');\n            if (!isNullOrUndefined(this.treeGridPane.querySelector('.e-gantt-temp-header'))) {\n                remove(this.treeGridPane.querySelector('.e-gantt-temp-header'));\n            }\n            this.notify('dataReady', {});\n            if (this.enableContextMenu) {\n                this.notify('initiate-contextMenu', {});\n            }\n            var height = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.rowHeight === 36) ? 46 : this.rowHeight : this.rowHeight;\n            this.rowHeight = isNullOrUndefined(this.rowHeight) ? 36 : height;\n            this.renderTreeGrid();\n            this.wireEvents();\n            this.notify('initPredessorDialog', {});\n        }\n        if (!this.isFromOnPropertyChange) {\n            this.splitterModule.updateSplitterPosition();\n        }\n        if ((this.gridLines === 'Vertical' || this.gridLines === 'Both') && (!this.dayMarkersModule)) {\n            this.renderChartVerticalLines();\n        }\n    };\n    Gantt.prototype.removeCriticalPathStyles = function () {\n        var ganttChartElement = this.ganttChartModule.chartElement;\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-progressbar-inner-div'), cls.criticalChildProgressBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-critical-milestone'), cls.criticalMilestone);\n        removeClass(this.element.querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n        removeClass(this.element.querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n    };\n    Gantt.prototype.wireEvents = function () {\n        if (this.allowKeyboard) {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfig,\n                eventName: 'keydown'\n            });\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document.body, 'keydown', this.keyDownHandler, this);\n    };\n    Gantt.prototype.unwireEvents = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n            this.keyboardModule = null;\n        }\n        /* eslint-disable-next-line */\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document.body, 'keydown', this.keyDownHandler);\n    };\n    Gantt.prototype.keyDownHandler = function (e) {\n        if (e.altKey) {\n            if (e.keyCode === 74) { //alt j\n                this.ganttChartModule.manageFocus(this.treeGrid.element.childNodes[1], 'remove', false);\n                this.ganttChartModule.manageFocus(this.element, 'add', false);\n            }\n        }\n    };\n    /**\n     * Method trigger while user perform window resize.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.windowResize = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.element)) {\n            this.updateContentHeight();\n            this.ganttChartModule.updateWidthAndHeight(); // Updating chart scroll conatiner height for row mismatch\n            this.treeGridModule.ensureScrollBar();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.updateRowHeightInConnectorLine(this.updatedConnectorLineCollection);\n                this.connectorLineModule.renderConnectorLines(this.updatedConnectorLineCollection);\n            }\n            var criticalModule = this.criticalPathModule;\n            if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n            this.calculateDimensions();\n            var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n            var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n            this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterObject.paneSettings[1].size = (this.ganttWidth - parseInt(this.splitterModule.splitterPreviousPositionGrid, 10) - this.splitterSettings.separatorSize) + 'px';\n            if (this.timelineModule.isZoomedToFit) {\n                setTimeout(function () {\n                    _this.timelineModule.processZoomToFit();\n                }, 0);\n            }\n        }\n        if (this.dayMarkersModule && this.dayMarkersModule['eventMarkerRender']) {\n            this.dayMarkersModule['eventMarkerRender'].updateContainerHeight();\n        }\n        if (this.enableTimelineVirtualization) {\n            this.timelineModule.refreshTimeline();\n        }\n    };\n    Gantt.prototype.keyActionHandler = function (e) {\n        if (this.enableContextMenu && this.contextMenuModule && (e.action === 'downArrow' || e.action === 'upArrow') && document.getElementById(this.element.id + '_contextmenu') && this['args']) {\n            var firstMenuItem = this['args'];\n            if (!isNullOrUndefined(firstMenuItem)) {\n                (firstMenuItem).focus();\n            }\n        }\n        if ((e.target && (e.action === 'downArrow' || e.action === 'upArrow') && e.target === this.element.querySelector('.e-rowcell')) ||\n            (e.target && e.action === 'escape' && this.treeGrid.grid.columnMenuModule &&\n                this.treeGrid.grid.columnMenuModule['columnMenu'].element.style.display === 'block')) {\n            this.treeGrid.grid.notify('key-pressed', e);\n        }\n        else {\n            this.focusModule.onKeyPress(e);\n        }\n    };\n    /**\n     * Method for updating row height value in connector line collections\n     *\n     * @param {IConnectorLineObject[]} collection  -Defines the CollectorLine collection.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateRowHeightInConnectorLine = function (collection) {\n        if (collection && collection.length) {\n            var rowHeight = !isNullOrUndefined(this.ganttChartModule) && this.ganttChartModule.getChartRows()[0]\n                && this.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            if (rowHeight && !isNaN(rowHeight)) {\n                for (var count = 0; count < collection.length; count++) {\n                    collection[count].rowHeight = rowHeight;\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderToolbar = function () {\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.toolbarModule.renderToolbar();\n            this.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderTreeGrid = function () {\n        this.treeGridModule.renderTreeGrid();\n    };\n    Gantt.prototype.updateCurrentViewData = function () {\n        var _this = this;\n        this.currentViewData = this.treeGrid.getCurrentViewRecords().slice();\n        if (this.currentViewData.length > 0 && this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.isLoad = true;\n            this.flatData = [];\n            this.dataOperation.taskIds = [];\n            this.ids = [];\n            this.dataOperation.recordIndex = 0;\n            this.dataOperation.dataArray = this.currentViewData;\n            this.dataOperation.cloneDataSource();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.predecessorModule['parentIds'] = [];\n                this.predecessorModule['parentRecord'] = [];\n                this.predecessorModule.updatePredecessors();\n            }\n            /* eslint-disable-next-line */\n            var gridData = this.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.taskFields.id] === _this.flatData[0].ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            var index = data['index'];\n            for (var i = 0; i < this.flatData.length; i++) {\n                this.flatData[i].index = index;\n                index++;\n            }\n            this.currentViewData = this.flatData;\n            this.treeGrid.grid.currentViewData = this.flatData;\n            if (!isNullOrUndefined(this.treeGrid['virtualScrollModule'])) {\n                this.treeGrid['virtualScrollModule'].visualData = this.flatData;\n                this.updatedRecords = this.flatData;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} records -Defines the delete record collections.\n     * @returns {IGanttData} .\n     * @private\n     */\n    Gantt.prototype.getRecordFromFlatdata = function (records) {\n        var updatedRecord = [];\n        for (var i = 0; i < records.length; i++) {\n            updatedRecord.push(this.getTaskByUniqueID(records[i].uniqueID));\n        }\n        return updatedRecord;\n    };\n    /**\n     * @param {object} args -Update the gantt element content height.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateContentHeight = function (args) {\n        if ((!this.allowTaskbarOverlap && !this.ganttChartModule.isCollapseAll && !this.ganttChartModule.isExpandAll) && !this.isLoad) {\n            return;\n        }\n        else {\n            if (this.virtualScrollModule && this.enableVirtualization && !isNullOrUndefined(args)) {\n                var length_1 = getValue('result.length', args);\n                this.contentHeight = length_1 * this.rowHeight;\n            }\n            else {\n                var expandedRecords = this.virtualScrollModule && this.enableVirtualization ?\n                    this.currentViewData : this.getExpandedRecords(this.currentViewData);\n                this.expandedRecords = expandedRecords;\n                var height = void 0;\n                var chartRow = (!isNullOrUndefined(this.ganttChartModule) &&\n                    !isNullOrUndefined(this.ganttChartModule.getChartRows())) ? this.ganttChartModule.getChartRows()[0] : null;\n                if (!isNullOrUndefined(chartRow) && chartRow.offsetHeight > 0) {\n                    height = chartRow.offsetHeight;\n                }\n                else {\n                    height = this.rowHeight;\n                }\n                this.contentHeight = expandedRecords.length * height;\n            }\n        }\n    };\n    /**\n     * To get expand status.\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.getExpandStatus = function (data) {\n        var parentRecord = this.getParentTask(data.parentItem);\n        if (!isNullOrUndefined(parentRecord)) {\n            if (parentRecord.expanded === false) {\n                return false;\n            }\n            else if (parentRecord.parentItem) {\n                var parentData = this.getParentTask(parentRecord.parentItem);\n                if (parentData.expanded === false) {\n                    return false;\n                }\n                else {\n                    return this.getExpandStatus(this.getParentTask(parentRecord.parentItem));\n                }\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Get expanded records from given record collection.\n     *\n     * @param {IGanttData[]} records - Defines record collection.\n     * @returns {IGanttData[]} .\n     */\n    Gantt.prototype.getExpandedRecords = function (records) {\n        var _this = this;\n        if (isNullOrUndefined(records)) {\n            return [];\n        }\n        var expandedRecords = records.filter(function (record) {\n            return _this.getExpandStatus(record) === true;\n        });\n        this.expandedRecords = expandedRecords;\n        return expandedRecords;\n    };\n    /**\n     * Getting the Zooming collections of the Gantt control\n     *\n     * @returns {ZoomTimelineSettings} .\n     * @private\n     */\n    Gantt.prototype.getZoomingLevels = function () {\n        var _WeekStartDay = this.timelineSettings.weekStartDay;\n        var zoomingLevels = [\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 50 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 10 }, timelineUnitSize: 99, level: 0,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 20 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 5 }, timelineUnitSize: 99, level: 1,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 5 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 1 }, timelineUnitSize: 99, level: 2,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 66, level: 3,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 99, level: 4,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 66, level: 5,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 99, level: 6,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: { unit: 'Month', format: 'MMM yyyy', count: 1 }, timelineUnitSize: 99, level: 7,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd', count: 1 }, timelineUnitSize: 33, level: 8,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 66, level: 9,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 99, level: 10,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 33, level: 11,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 66, level: 12,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 99, level: 13,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 66, level: 14,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 99, level: 15,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 66, level: 16,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 99, level: 17,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 66, level: 18,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 99, level: 19,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 66, level: 20,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 99, level: 21,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 30 }, timelineUnitSize: 66, level: 22,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 15 }, timelineUnitSize: 66, level: 23,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 1 }, timelineUnitSize: 66, level: 24,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            }\n        ];\n        return zoomingLevels;\n    };\n    Gantt.prototype.displayQuarterValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 2) {\n            return 'Q1';\n        }\n        else if (month >= 3 && month <= 5) {\n            return 'Q2';\n        }\n        else if (month >= 6 && month <= 8) {\n            return 'Q3';\n        }\n        else {\n            return 'Q4';\n        }\n    };\n    Gantt.prototype.displayHalfValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 5) {\n            return 'H1';\n        }\n        else {\n            return 'H2';\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @returns {string} .\n     */\n    Gantt.prototype.getFormatedDate = function (date, format) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        if (isNullOrUndefined(format)) {\n            format = this.getDateFormat();\n        }\n        return this.globalize.formatDate(date, { format: format });\n    };\n    /**\n     * Get duration value as string combined with duration and unit values.\n     *\n     * @param {number} duration - Defines the duration.\n     * @param {string} durationUnit - Defines the duration unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getDurationString = function (duration, durationUnit) {\n        var value = this.dateValidationModule.getDurationString(duration, durationUnit);\n        return value;\n    };\n    /**\n     * Get work value as string combined with work and unit values.\n     *\n     * @param {number} work - Defines the work value.\n     * @param {string} workUnit - Defines the work unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getWorkString = function (work, workUnit) {\n        var value = this.dateValidationModule.getWorkString(work, workUnit);\n        return value;\n    };\n    Gantt.prototype.updateTreeColumns = function () {\n        var temp;\n        // let field: string;\n        var gridColumns = this.treeGrid.grid.getColumns();\n        if (this.treeColumnIndex !== -1 && this.columns[this.treeColumnIndex] &&\n            !isNullOrUndefined(this.columns[this.treeColumnIndex]['template'])) {\n            temp = this.columns[this.treeColumnIndex]['template'];\n            // field = this.columns[this.treeColumnIndex]['field'];\n        }\n        var gridColumn;\n        for (var i = 0; i < gridColumns.length; i++) {\n            gridColumn = {};\n            for (var j = 0; j < this.columns.length; j++) {\n                if (this.columns[j]['field'] === gridColumns[i].field) {\n                    for (var _i = 0, _a = Object.keys(this.columns[j]); _i < _a.length; _i++) {\n                        var prop = _a[_i];\n                        if (!isUndefined(this.columns[j][prop])) {\n                            gridColumn[prop] = gridColumns[i][prop];\n                        }\n                        gridColumn.visible = gridColumns[i].visible;\n                        gridColumn.width = gridColumns[i].width;\n                    }\n                    this.columns[j] = (gridColumn);\n                    if (this.columns[j]['type'] !== 'checkbox' && (!isNullOrUndefined(temp) && temp !== '')) {\n                        this.columns[j]['template'] = temp;\n                    }\n                }\n            }\n        }\n        if (this.columns.length > 0) {\n            this.treeGrid.setProperties({ columns: this.columns }, true);\n        }\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.treeDataBound = function (args) {\n        var _this = this;\n        if (this.isLoad && this.undoRedoModule) {\n            if (this.sortSettings.columns.length > 0) {\n                this.undoRedoModule['previousSortedColumns'] = this.sortSettings.columns;\n            }\n            else if (this.searchSettings.key !== '') {\n                this.undoRedoModule['searchString'] = this.searchSettings.key;\n            }\n        }\n        this.element.getElementsByClassName('e-chart-root-container')[0]['style'].height = '100%';\n        // let gridHeight: string = this.element.getElementsByClassName('e-gridcontent')[0]['style'].height;\n        var gridContent = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0];\n        gridContent.setAttribute('tabindex', '0');\n        var treeGridrole = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0].childNodes[0];\n        treeGridrole.setAttribute('role', 'treegrid');\n        var timelineContainer = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        // gridHeight = 'calc(100% - ' + timelineContainer + 'px)';\n        // this.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        var scrollContainer = this.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        scrollContainer['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        scrollContainer.setAttribute('tabindex', '0');\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.splitterElement.style.height = 'calc(100% - ' + this.toolbarModule.element.offsetHeight + 'px)';\n        }\n        else {\n            this.splitterElement.style.height = '100%';\n        }\n        if (this.filterSettings && this.filterSettings['properties'] && this.filterSettings['properties'].columns) {\n            this.filterSettings['properties'].columns.forEach(function (column) {\n                var searchString = column.properties.field;\n                var matchedObject = null;\n                for (var i = 0; i < _this.treeGrid.columns.length; i++) {\n                    var treeColumn = _this.treeGrid.columns[i];\n                    if (treeColumn['field'] === searchString) {\n                        matchedObject = treeColumn;\n                        break;\n                    }\n                }\n                if (matchedObject && column.properties.uid !== matchedObject['uid']) {\n                    column.properties.uid = matchedObject['uid'];\n                }\n            });\n        }\n        if (this.isLoad) {\n            if (this.enablePersistence) {\n                this.updateTreeColumns();\n            }\n            this.updateCurrentViewData();\n            if (!this.enableVirtualization) {\n                this.updateContentHeight();\n            }\n            else if (this.virtualScrollModule && this.enableVirtualization) {\n                this.ganttChartModule.virtualRender.adjustTable();\n                this.ganttChartModule.scrollObject.updateTopPosition();\n            }\n            if (!this.isTreeGridRendered) {\n                this.isTreeGridRendered = true;\n                // let toolbarHeight: number = 0;\n                // if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n                //     toolbarHeight = this.toolbarModule.element.offsetHeight;\n                // }\n                if (this.timelineModule.isSingleTier) {\n                    this.element.classList.add(cls.ganttSingleTimeline);\n                }\n                else {\n                    this.element.classList.remove(cls.ganttSingleTimeline);\n                }\n                var timelineContainer_1 = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                scrollContainer['style'].height = 'calc(100% - ' + timelineContainer_1 + 'px)';\n                this.treeGrid.setProperties({ height: '100%' }, false);\n                this.notify('tree-grid-created', {});\n                this.createGanttPopUpElement();\n                if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.hideMaskRow();\n                }\n                else {\n                    this.hideSpinner();\n                }\n                setValue('isGanttCreated', true, args);\n                this.renderComplete();\n            }\n        }\n        else {\n            this.getCurrentRecords(args);\n        }\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.updateContentHeight();\n        }\n        if (this.enableCriticalPath && this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n        }\n        this.notify('recordsUpdated', {});\n        for (var i = 0; i < document.getElementsByClassName('e-timeline-header-table-container').length; i++) {\n            for (var j = 0; j < document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children.length; j++) {\n                var childElement = document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children[j].children[0];\n                if (childElement) {\n                    childElement.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n        var criticalModule = this.criticalPathModule;\n        if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        this.initialChartRowElements = this.ganttChartModule.getChartRows();\n        this.isLoad = false;\n        this.isExpandPerformed = !this.enableVirtualization ? false : this.isExpandPerformed;\n        if (!this.isExpandPerformed) {\n            this.previousFlatData = extend([], this.flatData, [], true);\n        }\n        this.trigger('dataBound', args);\n    };\n    /**\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.getCurrentRecords = function (args) {\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.connectorLineModule.removePreviousConnectorLines(this.currentViewData);\n        }\n        this.updateCurrentViewData();\n        if (!this.enableVirtualization) {\n            this.updateContentHeight();\n        }\n        // this.chartRowsModule.refreshGanttRows();\n        if (this.virtualScrollModule && this.enableVirtualization) {\n            this.ganttChartModule.virtualRender.adjustTable();\n            this.ganttChartModule.scrollObject.updateTopPosition();\n        }\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {GanttModel} newProp - Defines the New GanttModel.\n     * @param {GanttModel} oldProp - Defines the old GanttModel.\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var isRefresh = false;\n        // eslint-disable-next-line\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowSelection':\n                case 'allowRowDragAndDrop':\n                case 'allowFiltering':\n                case 'showColumnMenu':\n                case 'allowResizing':\n                case 'allowReordering':\n                case 'allowSorting':\n                case 'enableImmutableMode':\n                    this.treeGrid[prop] = this[prop];\n                    this.treeGrid.dataBind();\n                    break;\n                case 'workWeek':\n                    this.dataOperation.getNonWorkingDayIndex();\n                    this.dataOperation.reUpdateGanttData();\n                    this.chartRowsModule.initiateTemplates();\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                    }\n                    this.chartRowsModule.refreshGanttRows();\n                    this.treeGrid.refreshColumns();\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'toolbar':\n                    this.notify('ui-toolbarupdate', { module: 'toolbar', properties: newProp });\n                    break;\n                case 'columnMenuItems':\n                    this.treeGrid.grid.columnMenuItems =\n                        getActualProperties(this.columnMenuItems);\n                    break;\n                case 'eventMarkers':\n                case 'highlightWeekends':\n                    this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    break;\n                case 'sortSettings':\n                    this.treeGrid.sortSettings = getActualProperties(this.sortSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'timelineSettings':\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'rowHeight':\n                case 'taskbarHeight':\n                    this.treeGrid.rowHeight = this.rowHeight;\n                    this.treeGrid.dataBind();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    if (this.taskFields.dependency) {\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'timezone':\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableCriticalPath':\n                    if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.hideMaskRow();\n                    }\n                    else {\n                        this.hideSpinner();\n                    }\n                    if (this.enableCriticalPath && this.criticalPathModule) {\n                        this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n                        var criticalModule = this.criticalPathModule;\n                        if (criticalModule.criticalPathCollection) {\n                            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                        }\n                    }\n                    else {\n                        this.removeCriticalPathStyles();\n                    }\n                    break;\n                case 'filterSettings':\n                    if (isNullOrUndefined(newProp.filterSettings)) {\n                        this.filterSettings.columns = [];\n                    }\n                    this.treeGrid.filterSettings = getActualProperties(this.filterSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'gridLines':\n                    this.treeGrid.gridLines = this.gridLines;\n                    this.treeGrid.dataBind();\n                    this.renderChartGridLines();\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule.toolTipObj) {\n                        this.tooltipModule.toolTipObj.destroy();\n                    }\n                    this.tooltipModule.createTooltip();\n                    break;\n                case 'splitterSettings':\n                    this.splitterModule.updateSplitterPosition();\n                    break;\n                case 'selectionSettings':\n                    this.treeGrid.selectionSettings = getActualProperties(this.selectionSettings);\n                    this.treeGrid.grid.selectionSettings.enableToggle = this.selectionSettings.enableToggle;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'searchSettings':\n                    if (newProp.searchSettings.key !== ('' || undefined)) {\n                        this.treeGrid.grid.searchSettings = getActualProperties(this.searchSettings);\n                        this.treeGrid.grid.dataBind();\n                    }\n                    this.treeGrid.searchSettings = getActualProperties(this.searchSettings);\n                    this.treeGrid.dataBind();\n                    if (this.toolbarModule) {\n                        this.toolbarModule.updateSearchTextBox();\n                    }\n                    break;\n                case 'labelSettings':\n                case 'renderBaseline':\n                case 'baselineColor':\n                    this.isFromRenderBaseline = true;\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isFromRenderBaseline = false;\n                    break;\n                case 'resourceIDMapping':\n                case 'resourceNameMapping':\n                case 'resources':\n                    this.dataOperation.reUpdateResources();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'includeWeekend':\n                case 'allowUnscheduledTasks':\n                case 'holidays':\n                    this.isLoad = true;\n                    if (prop === 'holidays') {\n                        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n                        this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    }\n                    this.dataOperation.reUpdateGanttData();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isLoad = false;\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                        this.treeGrid.refreshColumns();\n                        this.chartRowsModule.refreshGanttRows();\n                    }\n                    break;\n                case 'dayWorkingTime':\n                case 'weekWorkingTime':\n                    isRefresh = true;\n                    break;\n                case 'addDialogFields':\n                case 'editDialogFields':\n                    if (this.editModule && this.editModule.dialogModule) {\n                        this.editModule.dialogModule.processDialogFields();\n                    }\n                    break;\n                case 'columns':\n                    this.treeGridModule.treeGridColumns = [];\n                    this.treeGridModule.validateGanttColumns();\n                    this.treeGrid.columns = this.treeGridModule.treeGridColumns;\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    break;\n                case 'width':\n                case 'height':\n                    this.reUpdateDimention(prop);\n                    break;\n                case 'editSettings':\n                    this.treeGrid.editSettings.allowAdding = this.editSettings.allowAdding;\n                    this.treeGrid.editSettings.allowDeleting = this.editSettings.allowDeleting;\n                    this.treeGrid.editSettings.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n                    this.treeGrid.editSettings.allowEditing = this.editSettings.allowEditing;\n                    this.treeGrid.editSettings.allowNextRowEdit = this.editSettings.allowNextRowEdit;\n                    if (!isNullOrUndefined(this.editModule)) {\n                        this.editModule.reUpdateEditModules();\n                    }\n                    if (!isNullOrUndefined(this.toolbarModule)) {\n                        this.toolbarModule.refreshToolbarItems();\n                    }\n                    break;\n                case 'connectorLineBackground':\n                case 'connectorLineWidth':\n                    if (this.taskFields.dependency) {\n                        this.connectorLineModule.initPublicProp();\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'treeColumnIndex':\n                    this.treeGrid.treeColumnIndex = this.treeColumnIndex;\n                    break;\n                case 'projectStartDate':\n                case 'projectEndDate':\n                    this.timelineModule.isZoomToFit = false;\n                    this.dataOperation.calculateProjectDates();\n                    this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n                    break;\n                case 'selectedRowIndex':\n                    if (!isNullOrUndefined(this.selectionModule)) {\n                        this.selectionModule.selectRowByIndex();\n                    }\n                    break;\n                case 'dataSource':\n                    if (this.isReact) {\n                        this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n                    }\n                    this.closeGanttActions();\n                    if (this.dataSource instanceof Object && isCountRequired(this)) {\n                        // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n                        this.treeGrid.hasChildMapping = 'isParent';\n                        var count = getValue('count', this.dataSource);\n                        this.treeGrid.dataSource = { result: this.flatData, count: count };\n                    }\n                    else {\n                        this.treeGrid.hasChildMapping = null;\n                    }\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableContextMenu':\n                case 'contextMenuItems':\n                    if (this.enableContextMenu || prop === 'contextMenuItems') {\n                        this.notify('reRender-contextMenu', { module: 'contextMenu', enable: true });\n                    }\n                    else {\n                        this.treeGrid.contextMenuItems = [];\n                    }\n                    this.treeGrid.dataBind();\n                    break;\n                case 'currencyCode':\n                case 'locale':\n                case 'enableRtl':\n                case 'readOnly':\n                case 'viewType':\n                case 'taskFields':\n                case 'allowTaskbarDragAndDrop':\n                case 'allowTaskbarOverlap':\n                case 'allowParentDependency':\n                case 'enableMultiTaskbar':\n                    if (prop === 'locale') {\n                        this.isLocaleChanged = true;\n                    }\n                    if (prop === 'taskFields') {\n                        if (!isNullOrUndefined(newProp.taskFields.child)) {\n                            return;\n                        }\n                    }\n                    if (prop !== 'allowTaskbarDragAndDrop') {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'validateManualTasksOnLinking':\n                    this.validateManualTasksOnLinking = newProp.validateManualTasksOnLinking;\n                    break;\n                case 'showOverAllocation':\n                    this.updateOverAllocationCotainer();\n                    break;\n            }\n        }\n        if (isRefresh) {\n            if (this.isLoad && this.contentMaskTable) {\n                this.contentMaskTable = null;\n            }\n            this.refresh();\n        }\n    };\n    Gantt.prototype.updateOverAllocationCotainer = function () {\n        if (this.showOverAllocation) {\n            this.ganttChartModule.renderOverAllocationContainer();\n        }\n        else {\n            var rangeContainer = this.element.querySelector('.' + cls.rangeContainer);\n            if (rangeContainer) {\n                rangeContainer.innerHTML = '';\n            }\n        }\n    };\n    /**\n     * Returns the properties to be maintained in persisted state.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getPersistData = function () {\n        var keyEntity = ['sortSettings',\n            'filterSettings', 'columns', 'searchSettings', 'selectedRowIndex', 'treeColumnIndex', 'currentZoomingLevel', 'cloneProjectStartDate', 'cloneProjectEndDate', 'splitterSettings'];\n        var ignoreOnPersist = {\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent', 'hierarchyMode'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: []\n        };\n        var ignoreOnColumn = ['filter', 'edit', 'filterBarTemplate', 'headerTemplate', 'template',\n            'commandTemplate', 'commands', 'dataSource'];\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var k = 0, val = ignoreOnPersist[keyEntity[i]]; (!isNullOrUndefined(val) && k < val.length); k++) {\n                var objVal = val[k];\n                delete currentObject[objVal];\n            }\n        }\n        this.ignoreInArrays(ignoreOnColumn, this.columns);\n        return this.addOnPersist(keyEntity);\n    };\n    Gantt.prototype.ignoreInArrays = function (ignoreOnColumn, columns) {\n        for (var i = 0; i < columns.length; i++) {\n            this.ignoreInColumn(ignoreOnColumn, columns[i]);\n        }\n    };\n    Gantt.prototype.ignoreInColumn = function (ignoreOnColumn, column) {\n        for (var i = 0; i < ignoreOnColumn.length; i++) {\n            delete column[ignoreOnColumn[i]];\n            column.filter = {};\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.destroy = function () {\n        this.notify('destroy', {});\n        this.unwireEvents();\n        if (!isNullOrUndefined(this.validationDialogElement) && !this.validationDialogElement.isDestroyed) {\n            this.validationDialogElement.destroy();\n        }\n        var modules = ['ganttChartModule', 'timelineModule', 'chartRowsModule',\n            'treeGridModule', 'ganttDataUpdatesModule', 'dateValidationModule', 'tooltipModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        if (this.editModule && this.editModule.dialogModule) {\n            this.editModule.dialogModule.destroy();\n        }\n        if (this.splitterModule) {\n            this.splitterModule['destroy']();\n        }\n        if (this.toolbarModule && this.toolbarModule.toolbar) {\n            this.toolbarModule.toolbar.destroy();\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            if (!isNullOrUndefined(this.dayMarkersModule['eventMarkerRender']) && !isNullOrUndefined(this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer)) {\n                this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer = null;\n            }\n            if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender)) {\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender.nonworkingContainer)) {\n                    this.dayMarkersModule.nonworkingDayRender.nonworkingContainer = null;\n                }\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender['weekendContainer'])) {\n                    this.dayMarkersModule.nonworkingDayRender['weekendContainer'] = null;\n                }\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender['holidayContainer'])) {\n                    this.dayMarkersModule.nonworkingDayRender['holidayContainer'] = null;\n                }\n            }\n        }\n        if (this.connectorLineModule) {\n            this.connectorLineModule.dependencyViewContainer = null;\n            this.connectorLineModule.svgObject = null;\n            this.connectorLineModule.renderer = null;\n            this.connectorLineModule.tooltipTable = null;\n        }\n        this.treeGridPane = null;\n        this.chartPane = null;\n        this.initialChartRowElements = null;\n        _super.prototype.destroy.call(this);\n        this.chartVerticalLineContainer = null;\n        this.element.innerHTML = '';\n        removeClass([this.element], cls.root);\n        this.element.innerHTML = '';\n        this.isTreeGridRendered = false;\n        this.resetTemplates();\n        this.dataOperation['uid'] = null;\n    };\n    /**\n     * Method to get taskbarHeight.\n     *\n     * @returns {number} .\n     * @public\n     */\n    Gantt.prototype.getTaskbarHeight = function () {\n        return this.chartRowsModule.taskBarHeight;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} .\n     * @hidden\n     */\n    Gantt.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this]\n            });\n        }\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            modules.push({\n                member: 'filter',\n                args: [this]\n            });\n        }\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'excelExport',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.enableCriticalPath) {\n            modules.push({\n                member: 'criticalPath',\n                args: [this]\n            });\n        }\n        if (this.enableUndoRedo) {\n            modules.push({\n                member: 'undoRedo',\n                args: [this]\n            });\n        }\n        if (this.allowResizing) {\n            modules.push({\n                member: 'resize',\n                args: [this]\n            });\n        }\n        if (this.toolbar && this.toolbar.length > 0) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowEditing || this.editSettings.allowDeleting\n            || this.editSettings.allowTaskbarEditing || this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'edit',\n                args: [this]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this]\n            });\n        }\n        if (this.tooltipSettings.showTooltip) {\n            modules.push({\n                member: 'tooltip',\n                args: [this]\n            });\n        }\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            modules.push({\n                member: 'dayMarkers',\n                args: [this]\n            });\n        }\n        if (this.enableContextMenu) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'pdfExport',\n                args: [this]\n            });\n        }\n        if (this.enableVirtualization) {\n            modules.push({\n                member: 'virtualScroll',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Gantt.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule && this.allowSorting) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    Gantt.prototype.mergePersistGanttData = function () {\n        if (!this.treeGrid) {\n            this.treeGrid = new TreeGrid();\n        }\n        var persist1 = 'mergePersistGridData';\n        this.treeGrid.grid[persist1].apply(this);\n    };\n    Gantt.prototype.mergeColumns = function (storedColumn, columns) {\n        var persist2 = 'mergeColumns';\n        this.treeGrid.grid[persist2].apply(this, [storedColumn, columns]);\n    };\n    Gantt.prototype.setFrozenCount = function () {\n        var persist3 = 'setFrozenCount';\n        this.treeGrid.grid[\"\" + persist3].apply(this);\n    };\n    Gantt.prototype.splitFrozenCount = function (columns) {\n        var persist4 = 'splitFrozenCount';\n        this.treeGrid.grid[\"\" + persist4].apply(this, [columns]);\n    };\n    Gantt.prototype.isFrozenGrid = function () {\n        return this.treeGrid.grid.isFrozenGrid();\n    };\n    /**\n     * Clears all the sorted columns of the Gantt.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSorting = function () {\n        this.sortModule.clearSorting();\n    };\n    /**\n     * To validate and render chart horizontal and vertical lines in the Gantt\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.renderChartGridLines = function () {\n        var className = 'e-chart-row-border';\n        var verticalLines = this.chartVerticalLineContainer;\n        var chartRowsTD = document.getElementById(this.element.id + 'GanttTaskTableBody').querySelectorAll('td');\n        if (this.gridLines === 'Vertical') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Horizontal') {\n            if (!isNullOrUndefined(verticalLines)) {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Both') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'None') {\n            if (!isNullOrUndefined(verticalLines) && window.getComputedStyle(verticalLines).display !== 'none') {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateGridLineContainerHeight = function () {\n        if (this.chartVerticalLineContainer) {\n            this.chartVerticalLineContainer.style.height = formatUnit(this.getContentHeight());\n        }\n    };\n    /**\n     * To get actual height of grid lines, holidays, weekend and event markers.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getContentHeight = function () {\n        var scrollHeight = this.ganttChartModule.scrollElement.offsetHeight - 16; //16 is horizontal scrollbar height\n        var contentHeight = this.ganttChartModule.chartBodyContent.offsetHeight;\n        var height = contentHeight < scrollHeight ? contentHeight : scrollHeight;\n        return height;\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @param {boolean} currentProp - Update current property change in the Gantt chart.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.reUpdateDimention = function (currentProp) {\n        var toolbarHeight = 0;\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.toolbarModule.toolbar.refresh();\n            this.toolbarModule.refreshToolbarItems();\n            toolbarHeight = this.toolbarModule.element.offsetHeight;\n        }\n        this.treeGrid.height = this.ganttHeight - toolbarHeight -\n            this.treeGrid.grid.getHeaderContent().offsetHeight;\n        this.splitterModule.splitterObject.height = (this.ganttHeight - toolbarHeight).toString();\n        if (!isNullOrUndefined(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer.style.height = this.ganttHeight + 'px';\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (weekendContainer) {\n                weekendContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.height = this.ganttHeight + 'px';\n            }\n        }\n        if (currentProp === 'width') {\n            this.splitterModule.splitterObject.width = this.ganttWidth.toString();\n        }\n        this.ganttChartModule.scrollObject.\n            setHeight(this.ganttHeight - this.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * To render vertical lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.renderChartVerticalLines = function () {\n        if (!this.element.contains(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer = createElement('div', {\n                id: this.element.id + 'line-container',\n                styles: 'position:absolute;height:100%;'\n            });\n            this.ganttChartModule.chartBodyContent.insertBefore(this.chartVerticalLineContainer, this.ganttChartModule.chartBodyContent.lastChild);\n        }\n        this.chartVerticalLineContainer.innerHTML = '';\n        var headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[1];\n        if (isNullOrUndefined(headerTable)) {\n            headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[0];\n        }\n        var thElements = headerTable.getElementsByTagName('th');\n        var thLength = thElements.length;\n        var thWidth;\n        var leftPos = 0;\n        var containerDiv = createElement('div');\n        for (var n = 0; n < thLength; n++) {\n            leftPos = n === 0 ? -1 : (leftPos + parseFloat(thWidth));\n            thWidth = thElements[n].style.width;\n            var divElement = createElement('div', {\n                className: 'e-line-container-cell',\n                styles: (this.enableRtl ? 'right:' + (leftPos + 1) : 'left:' + (leftPos !== -1 ? (leftPos + 0.3) : leftPos)) + 'px'\n            });\n            containerDiv.appendChild(divElement);\n        }\n        while (containerDiv.firstChild) {\n            this.chartVerticalLineContainer.appendChild(containerDiv.firstChild);\n        }\n    };\n    /**\n     * Method to get default localized text of the Gantt.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.getDefaultLocale = function () {\n        var ganttLocale = {\n            emptyRecord: 'No records to display',\n            id: 'ID',\n            name: 'Name',\n            startDate: 'Start Date',\n            endDate: 'End Date',\n            duration: 'Duration',\n            progress: 'Progress',\n            dependency: 'Dependency',\n            notes: 'Notes',\n            criticalPath: 'Critical Path',\n            undo: 'Undo',\n            redo: 'Redo',\n            baselineStartDate: 'Baseline Start Date',\n            baselineEndDate: 'Baseline End Date',\n            taskMode: 'Task Mode',\n            changeScheduleMode: 'Change Schedule Mode',\n            subTasksStartDate: 'SubTasks Start Date',\n            subTasksEndDate: 'SubTasks End Date',\n            scheduleStartDate: 'Schedule Start Date',\n            scheduleEndDate: 'Schedule End Date',\n            auto: 'Auto',\n            manual: 'Manual',\n            type: 'Type',\n            offset: 'Offset',\n            resourceName: 'Resources',\n            resourceID: 'Resource ID',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute',\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            generalTab: 'General',\n            customTab: 'Custom Columns',\n            writeNotes: 'Write Notes',\n            addDialogTitle: 'New Task',\n            editDialogTitle: 'Task Information',\n            add: 'Add',\n            edit: 'Edit',\n            update: 'Update',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            search: 'Search',\n            task: ' task',\n            tasks: ' tasks',\n            zoomIn: 'Zoom in',\n            zoomOut: 'Zoom out',\n            zoomToFit: 'Zoom to fit',\n            excelExport: 'Excel export',\n            csvExport: 'CSV export',\n            pdfExport: 'PDF export',\n            expandAll: 'Expand all',\n            collapseAll: 'Collapse all',\n            nextTimeSpan: 'Next timespan',\n            prevTimeSpan: 'Previous timespan',\n            saveButton: 'Save',\n            taskBeforePredecessorFS: 'You moved \"{0}\" to start before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFS: 'You moved \"{0}\" away from \"{1}\" and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSS: 'You moved \"{0}\" to start before \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSS: 'You moved \"{0}\" to start after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorFF: 'You moved \"{0}\" to finish before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFF: 'You moved \"{0}\" to finish after \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSF: 'You moved \"{0}\" away from \"{1}\" to starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSF: 'You moved \"{0}\" to finish after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            okText: 'Ok',\n            confirmDelete: 'Are you sure you want to Delete Record?',\n            from: 'From',\n            to: 'To',\n            taskLink: 'Task Link',\n            lag: 'Lag',\n            start: 'Start',\n            finish: 'Finish',\n            enterValue: 'Enter the value',\n            taskInformation: 'Task Information',\n            deleteTask: 'Delete Task',\n            deleteDependency: 'Delete Dependency',\n            convert: 'Convert',\n            save: 'Save',\n            above: 'Above',\n            below: 'Below',\n            child: 'Child',\n            milestone: 'Milestone',\n            toTask: 'To Task',\n            toMilestone: 'To Milestone',\n            eventMarkers: 'Event markers',\n            leftTaskLabel: 'Left task label',\n            rightTaskLabel: 'Right task label',\n            timelineCell: 'Timeline cell',\n            confirmPredecessorDelete: 'Are you sure you want to remove dependency link?',\n            unit: 'Unit',\n            work: 'Work',\n            taskType: 'Task Type',\n            unassignedTask: 'Unassigned Task',\n            group: 'Group',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            segments: 'Segments',\n            splitTask: 'Split Task',\n            mergeTask: 'Merge Task',\n            left: 'Left',\n            right: 'Right',\n            FF: 'FF',\n            FS: 'FS',\n            SF: 'SF',\n            SS: 'SS'\n        };\n        return ganttLocale;\n    };\n    /**\n     * To remove sorted records of particular column.\n     *\n     * @param {string} columnName - Defines the sorted column name.\n     * @returns {void} .\n     */\n    Gantt.prototype.removeSortColumn = function (columnName) {\n        this.sortModule.removeSortColumn(columnName);\n    };\n    /**\n     *\n     * @param {object} args -Defines the edited event args.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.actionBeginTask = function (args) {\n        this.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific date.\n     *\n     * @param  {string} date - Defines the date to which the Gantt chart should scroll.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToDate = function (date) {\n        var tempDate = this.dateValidationModule.getDateFromFormat(date);\n        var left = this.dataOperation.getTaskLeft(tempDate, false);\n        this.ganttChartModule.updateScrollLeft(left);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific task id.\n     *\n     * @param  {string} taskId - Defines the task id of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToTask = function (taskId) {\n        if (this.ids.indexOf(taskId) !== -1) {\n            var left = this.flatData[this.ids.indexOf(taskId)].ganttProperties.left;\n            this.ganttChartModule.updateScrollLeft(left);\n        }\n    };\n    /**\n     * To update the horizontal (left) and vertical (top) scroll positions of the Gantt chart.\n     *\n     * @param  {number} left - Defines the scroll left value of chart side.\n     * @param  {number} top - Defines the scroll top value of chart side.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateChartScrollOffset = function (left, top) {\n        if (!isNullOrUndefined(left)) {\n            left = this.ganttChartModule.scrollElement.scrollWidth <= left ?\n                this.ganttChartModule.scrollElement.scrollWidth : left;\n            this.ganttChartModule.scrollObject.setScrollLeft(left, this.enableRtl ? -1 : 0);\n        }\n        if (!isNullOrUndefined(top)) {\n            top = this.ganttChartModule.scrollElement.scrollHeight <= top ? this.ganttChartModule.scrollElement.scrollHeight : top;\n            this.ganttChartModule.scrollObject.setScrollTop(top);\n        }\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IParent} cloneParent - Defines the clone parent item.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getParentTask = function (cloneParent) {\n        if (isNullOrUndefined(cloneParent)) {\n            return null;\n        }\n        if (!this.autoCalculateDateScheduling && this.dataMap && this.dataMap.size > 0 && !this.taskFields.hasChildMapping &&\n            this.isLoad) {\n            var parent_1 = this.dataMap.get(cloneParent.uniqueID);\n            if (parent_1) {\n                return parent_1;\n            }\n        }\n        else {\n            var parent_2 = this.flatData.find(function (val) { return cloneParent.uniqueID === val.uniqueID; });\n            if (parent_2) {\n                return parent_2;\n            }\n        }\n        return null;\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IGanttData} ganttRecord -Defines the Gantt record.\n     * @param {number} level -Defines the selected record level.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getRootParent = function (ganttRecord, level) {\n        if (ganttRecord.level === level) {\n            return ganttRecord;\n        }\n        return this.getRootParent(this.getParentTask(ganttRecord.parentItem), level);\n    };\n    /**\n     * Filters TreeGrid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean | number[] | string[] | Date[] | boolean[]} filterValue - Defines the value\n     *  used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, TreeGrid filters the records with exact match.if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @returns {void} .\n     */\n    Gantt.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent) {\n        this.treeGrid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent);\n    };\n    /**\n     * Export Gantt data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    /* eslint-disable-next-line */\n    workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.csvExport = function (excelExportProperties, \n    /* eslint-disable-next-line */\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to PDF document.\n     *\n     * @param  {PdfExportProperties} pdfExportProperties - Defines the export properties of the Gantt.\n     * @param  {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param  {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param  {boolean} isBlob - If the 'isBlob' parameter is set to true, the method returns PDF data as a blob instead of exporting it as a down-loadable PDF file. The default value is false.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        return this.pdfExportModule ? this.pdfExportModule.export(pdfExportProperties, isMultipleExport, pdfDoc, isBlob)\n            : null;\n    };\n    /**\n     * Clears the filtered columns in Gantt.\n     *\n     * Can also be used to clear filtering of a specific column in Gantt.\n     *\n     * @param {string[]} fields - Defines the specific column to remove filter.\n     * @returns {void} .\n     */\n    Gantt.prototype.clearFiltering = function (fields) {\n        this.treeGrid.grid.clearFiltering(fields);\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.removeFilteredColsByField = function (field) {\n        this.treeGrid.removeFilteredColsByField(field, false);\n    };\n    /**\n     * Method to set holidays and non working days in date time and date picker controls\n     *\n     * @param {RenderDayCellEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderWorkingDayCell = function (args) {\n        var includeWeekend = false;\n        var isCustomManual = false;\n        includeWeekend = (this.taskMode !== 'Auto' && this.taskMode !== 'Custom') ? true : (this.includeWeekend || !this.autoCalculateDateScheduling) ? true : false;\n        if (this.taskMode === 'Custom' && this.taskFields.manual) {\n            var editModule = this.editModule;\n            if (editModule && editModule.cellEditModule && editModule.cellEditModule.isCellEdit) {\n                isCustomManual = editModule.cellEditModule.currentEditedRowData[this.taskFields.manual];\n            }\n            else if (editModule && editModule.dialogModule && editModule.dialogModule['isEdit']) {\n                isCustomManual = editModule.dialogModule['editedRecord'][this.taskFields.manual];\n            }\n            includeWeekend = isCustomManual || this.includeWeekend || !this.autoCalculateDateScheduling;\n        }\n        var nonWorkingDays = !includeWeekend ? this.nonWorkingDayIndex : [];\n        var holidays = this.totalHolidayDates;\n        if (nonWorkingDays.length > 0 && nonWorkingDays.indexOf(args.date.getDay()) !== -1) {\n            args.isDisabled = true;\n        }\n        else if (holidays.length > 0) {\n            var tempDate = new Date(args.date.getTime());\n            tempDate.setHours(0, 0, 0);\n            if (holidays.indexOf(tempDate.getTime()) !== -1) {\n                if (!this.autoCalculateDateScheduling || (this.isLoad && !this.treeGrid.loadChildOnDemand &&\n                    this.taskFields.hasChildMapping)) {\n                    args.isDisabled = false;\n                }\n                else {\n                    args.isDisabled = true;\n                }\n            }\n        }\n    };\n    /**\n     * Updates the Gantt timeline to the previous time span by one unit.\n     *\n     * @param {string} mode - Render previous span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.previousTimeSpan = function (mode) {\n        if (this.isReact) {\n            this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('PreviousTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'PreviousTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('prevTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To update timeline at end point with one unit.\n     *\n     * @param {string} mode - Render next span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.nextTimeSpan = function (mode) {\n        if (this.isReact) {\n            this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('NextTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'NextTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('nextTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param  {Date} startDate - Defines start date of project.\n     * @param  {Date} endDate - Defines end date of project.\n     * @param  {boolean} isTimelineRoundOff - Defines project start date and end date need to be round off or not.\n     * @param {string} isFrom - Defines whether the call originates from a public method action or a taskbar editing action.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateProjectDates = function (startDate, endDate, isTimelineRoundOff, isFrom) {\n        this.timelineModule.totalTimelineWidth = 0;\n        this.cloneProjectStartDate = startDate;\n        this.cloneProjectEndDate = endDate;\n        this.isTimelineRoundOff = isTimelineRoundOff;\n        this.timelineModule.refreshTimelineByTimeSpan();\n        this.dataOperation.reUpdateGanttDataPosition();\n        if (!this.pdfExportModule || (this.pdfExportModule && !this.pdfExportModule.isPdfExport) ||\n            (this.pdfExportModule && this.pdfExportModule.isPdfExport && this.pdfExportModule.helper.exportProps &&\n                this.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n                !this.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.timelineModule.updateChartByNewTimeline();\n            var browserZoomLevel = (window.outerWidth / window.innerWidth);\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser-Task(919516)\n            if (this.timelineModule.isZoomToFit && !this.enableTimelineVirtualization && browserZoomLevel < 1) {\n                var clientWidthDifference = void 0;\n                if (this.enableVirtualization) {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth - this.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                }\n                else {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth -\n                        this.ganttChartModule.chartBodyContent.parentElement.clientWidth);\n                }\n                this.ganttChartModule.chartBodyContent.style.width =\n                    formatUnit(this.timelineModule.totalTimelineWidth - clientWidthDifference);\n            }\n            else {\n                this.ganttChartModule.chartBodyContent.style.width = formatUnit(this.timelineModule.totalTimelineWidth);\n            }\n            this.ganttChartModule.updateLastRowBottomWidth();\n            if (this.taskFields.dependency) {\n                this.ganttChartModule.reRenderConnectorLines();\n            }\n            if (isFrom !== 'beforeAdd') {\n                this.notify('selectRowByIndex', {});\n            }\n        }\n    };\n    /**\n     * Splits the taskbar of a specified task into segments based on the given date.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} splitDate - Defines in which date the taskbar must be split up.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.splitTask = function (taskId, splitDate) {\n        this.isEdit = true;\n        this.chartRowsModule.splitTask(taskId, splitDate);\n    };\n    /**\n     * Merge the split taskbar with the given segment indexes.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} segmentIndexes - Defines the object array of indexes which must be merged.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.mergeTask = function (taskId, segmentIndexes) {\n        this.chartRowsModule.mergeTask(taskId, segmentIndexes);\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines origin field name.\n     * @param  {string} toFName - Defines destination field name.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.reorderColumns = function (fromFName, toFName) {\n        this.treeGrid.reorderColumns(fromFName, toFName);\n    };\n    /**\n     * Method to clear edited collections in gantt set edit flag value\n     *\n     * @param {boolean} isStart -Defines whether to initiate edit action.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.initiateEditAction = function (isStart) {\n        this.isOnEdit = isStart;\n        this.previousRecords = {};\n        this.editedRecords = [];\n    };\n    /**\n     *\n     * @param {string} field Method to update value in Gantt record and make clone record for this\n     * @param {IGanttData | ITaskData} record .\n     * @param {boolean} isTaskData .\n     * @returns {void} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Gantt.prototype.setRecordValue = function (field, value, record, isTaskData) {\n        value = isUndefined(value) ? null : value;\n        var resultIf = (this.isOnEdit || this.isOnDelete) ? true : false;\n        if (resultIf) {\n            this.makeCloneData(field, record, isTaskData);\n            var ganttData = isTaskData ? record : record.ganttProperties;\n            var id = ganttData.rowUniqueID;\n            var task_1 = this.getRecordByID(id);\n            var isValid = false;\n            isValid = (isNullOrUndefined(value) ||\n                (!isNullOrUndefined(value) && !isNullOrUndefined(record[\"\" + field]) &&\n                    (value instanceof Date ? value.getTime() !== record[\"\" + field].getTime() :\n                        record[\"\" + field] !== value))) ? true : isValid;\n            if (task_1 && ((this.editedRecords.indexOf(task_1) === -1 && isValid) || this.editedRecords.length === 0)) {\n                if (this.editModule['draggedRecord'] && this.editModule['draggedRecord'].ganttProperties.taskId === ganttData.taskId) {\n                    this.editedRecords.splice(0, 0, task_1);\n                }\n                else {\n                    this.editedRecords.push(task_1);\n                }\n                if (this.undoRedoModule) {\n                    if (this.undoRedoModule['changedRecords'].indexOf(task_1) === -1) {\n                        this.undoRedoModule['changedRecords'].push(extend({}, {}, task_1, true));\n                    }\n                    var currentAction = this.undoRedoModule['getUndoCollection'].length > 0 ? this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['action'] : null;\n                    if (this.editModule && this.editSettings.allowEditing && !this.undoRedoModule['isUndoRedoPerformed'] && !this.isOnDelete && !this.isOnAdded && currentAction !== 'outdent' && currentAction !== 'indent' &&\n                        currentAction !== 'RowDragAndDrop' && currentAction !== 'TaskbarDragAndDrop') {\n                        var oldRecord = this.previousFlatData.filter(function (data) {\n                            return data.ganttProperties.taskId === task_1.ganttProperties.taskId;\n                        })[0];\n                        if (oldRecord && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords']) {\n                            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords'].push(oldRecord);\n                        }\n                    }\n                }\n                if (this.enableImmutableMode) {\n                    this.modifiedRecords.push(task_1);\n                }\n            }\n        }\n        setValue(field, value, record);\n    };\n    Gantt.prototype.makeCloneData = function (field, record, isTaskData) {\n        var cloneData;\n        /* eslint-disable-next-line */\n        var value = getValue(field, record);\n        /* eslint-disable-next-line */\n        var prevValue;\n        /* eslint-disable-next-line */\n        var clonedValue;\n        if (isTaskData) {\n            field = 'ganttProperties.' + field;\n        }\n        if (isNullOrUndefined(this.previousRecords[record.uniqueID])) {\n            var tempData = {};\n            this.previousRecords[record.uniqueID] = tempData;\n        }\n        /* eslint-disable-next-line */\n        cloneData = this.previousRecords[record.uniqueID];\n        /* eslint-disable-next-line */\n        prevValue = getValue(field, cloneData);\n        if (isUndefined(prevValue)) {\n            if (value instanceof Date) {\n                clonedValue = new Date(value.getTime());\n            }\n            else if (isObjectArray(value)) {\n                clonedValue = extend([], value, [], true);\n            }\n            else if (isObject(value)) {\n                clonedValue = extend({}, {}, value, true);\n            }\n            else {\n                clonedValue = value;\n            }\n            if (!isUndefined(clonedValue)) {\n                setValue(field, clonedValue, cloneData);\n            }\n            else {\n                setValue(field, null, cloneData);\n            }\n        }\n    };\n    Gantt.prototype.closeGanttActions = function () {\n        if (this.editModule) {\n            if (this.editModule.cellEditModule && this.editModule.cellEditModule.isCellEdit) {\n                this.treeGrid.closeEdit();\n                this.editModule.cellEditModule.isCellEdit = false;\n                if (!isNullOrUndefined(this.toolbarModule)) {\n                    this.toolbarModule.refreshToolbarItems();\n                }\n            }\n            else if (this.editModule.dialogModule && this.editModule.dialogModule.dialogObj &&\n                this.editModule.dialogModule.dialogObj.visible) {\n                this.editModule.dialogModule.dialogObj.hide();\n                this.editModule.dialogModule.dialogClose();\n            }\n        }\n    };\n    /**\n     * Method to get task by uniqueId value.\n     *\n     * @param {string} id - Defines the task id.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getTaskByUniqueID = function (id) {\n        var value = this.flatData.filter(function (val) {\n            return val.uniqueID === id;\n        });\n        if (value.length > 0) {\n            return value[0];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get record by id value.\n     *\n     * @param {string} id - Defines the id of record.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        return this.flatData[this.ids.indexOf(id.toString())];\n    };\n    /**\n     * Method to set splitter position.\n     *\n     * @param {string|number} value - Define value to splitter settings property.\n     * @param {string} type - Defines name of internal splitter settings property.\n     * @returns {void} .\n     */\n    Gantt.prototype.setSplitterPosition = function (value, type) {\n        var tempSplitterSettings = {};\n        tempSplitterSettings[type] = value;\n        var splitterPosition = this.splitterModule.calculateSplitterPosition(tempSplitterSettings);\n        switch (type) {\n            case 'view':\n                this.splitterSettings.view = tempSplitterSettings[type];\n                break;\n            case 'columnIndex':\n                this.splitterModule['isSplitterResized'] = true;\n                this.splitterSettings.columnIndex = tempSplitterSettings[type];\n                break;\n            case 'position':\n                this.splitterModule['isSplitterResized'] = true;\n                this.splitterSettings.position = tempSplitterSettings[type];\n                break;\n            default:\n                break;\n        }\n        var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n        this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterObject.paneSettings[0].size = splitterPosition;\n        this.splitterModule.splitterObject.paneSettings[1].size = (parseFloat('99.75%') - parseFloat(splitterPosition)) + '%';\n        this.splitterModule.triggerCustomResizedEvent();\n    };\n    /**\n     * Expand the records by index value.\n     *\n     * @param {number[] | number} index - Defines the index of rows to be expand.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByIndex = function (index) {\n        if (typeof index === 'number') {\n            var args = this.contructExpandCollapseArgs(null, index);\n            this.ganttChartModule.isExpandCollapseFromChart = true;\n            this.ganttChartModule.expandGanttRow(args);\n        }\n        else {\n            for (var i = 0; i < index.length; i++) {\n                if (typeof index[i] === 'number') {\n                    var ind = index[i];\n                    var args = this.contructExpandCollapseArgs(null, ind);\n                    this.ganttChartModule.isExpandCollapseFromChart = true;\n                    this.ganttChartModule.expandGanttRow(args);\n                }\n            }\n        }\n    };\n    /**\n     * Expand the record by task id.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByID = function (id) {\n        if (this.enableVirtualization) {\n            this.isExpandPerformed = true;\n        }\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.expandGanttRow(args);\n    };\n    /**\n     * Collapse the record by index value.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByIndex = function (index) {\n        var args = this.contructExpandCollapseArgs(null, index);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Collapse the record by id value.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Method to add record.\n     *\n     * @param {Object[] | IGanttData | Object} data - Defines record to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        if (this.editModule && this.editSettings.allowAdding) {\n            if (this.viewType === 'ResourceView') {\n                this.editModule.addRowPosition = rowPosition;\n                this.editModule.addRowIndex = rowIndex;\n                var resources = void 0;\n                if (!isNullOrUndefined(data)) {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        resources = data.ganttProperties.resourceInfo;\n                    }\n                    else {\n                        resources = data[this.taskFields.resourceInfo];\n                    }\n                }\n                var id = void 0;\n                var parentTask = void 0;\n                if (!isNullOrUndefined(resources) && resources.length) {\n                    for (var i = 0; i < resources.length; i++) {\n                        id = (typeof resources[i] === 'object') ? resources[i][this.resourceFields.id] :\n                            resources[0];\n                        parentTask = this.flatData[this.getTaskIds().indexOf('R' + id)];\n                        if (parentTask) {\n                            break;\n                        }\n                    }\n                    if (parentTask && (parentTask.level === 0 || parentTask.childRecords.length)) {\n                        var dropChildRecord = parentTask.childRecords[rowIndex];\n                        if (this.viewType === 'ResourceView' && this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                            this.editModule.addRecord(data, rowPosition, rowIndex);\n                        }\n                        else if (dropChildRecord) {\n                            var position = rowPosition === 'Above' || rowPosition === 'Below' ? rowPosition :\n                                'Child';\n                            if (position === 'Child') {\n                                this.editModule.addRecord(data, position, this.getTaskIds().indexOf('R' + id));\n                            }\n                            else {\n                                this.editModule.addRecord(data, position, this.flatData.indexOf(dropChildRecord));\n                            }\n                        }\n                        else {\n                            this.editModule.addRecord(data, 'Child', this.getTaskIds().indexOf('R' + id));\n                        }\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                else {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        this.editModule.addRecord(data, rowPosition, rowIndex);\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                this.editModule.addRowPosition = null;\n                this.editModule.addRowIndex = null;\n            }\n            else {\n                this.editModule.addRecord(data, rowPosition, rowIndex);\n                if (rowPosition === 'Bottom') {\n                    this.selectedRowIndex = rowIndex;\n                }\n            }\n            if (rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') {\n                this.currentSelection = !isNullOrUndefined(data) ? data : this.currentSelection;\n            }\n        }\n    };\n    /**\n     * Method to update record by ID.\n     *\n     * @param  {Object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByID = function (data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.updateDuration = true;\n            this.editModule.updateRecordByID(data);\n            this.updateDuration = false;\n        }\n    };\n    /**\n     * To update existing taskId with new unique Id.\n     *\n     * @param {number | string} currentId - Defines the current Id of the record.\n     * @param {number | string} newId - Defines the new Id of the record.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateTaskId = function (currentId, newId) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateTaskId(currentId, newId);\n        }\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    Gantt.prototype.expandAtLevel = function (level) {\n        if (this.enableVirtualization) {\n            this.isExpandCollapseLevelMethod = true;\n        }\n        this.ganttChartModule.expandAtLevel(level);\n    };\n    /**\n     * To indent the level of selected task to the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.indent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.indent();\n        }\n    };\n    /**\n     * To outdent the level of selected task from the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.outdent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.outdent();\n        }\n    };\n    /**\n     * To retrieve the collection of previously recorded actions. This method returns an object as a collection that holds the following details.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     * @public\n     */\n    Gantt.prototype.getUndoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getUndoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * To retrieve the collection of actions to reapply.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     *\n     * @public\n     */\n    Gantt.prototype.getRedoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getRedoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Clears the stack collection for undo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearUndoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getUndoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     * Clears the stack collection for redo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearRedoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getRedoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_redo'], false);\n            }\n        }\n    };\n    /**\n     * Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.undo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['undoAction']();\n        }\n    };\n    /**\n     * Initiates a redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.redo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['redoAction']();\n        }\n    };\n    /**\n     * To render the critical path tasks in Gantt.\n     *\n     * @returns {void} .\n     * @param {boolean} isCritical - To checks whether to render critical path or not .\n     * @public\n     */\n    Gantt.prototype.showCriticalPath = function (isCritical) {\n        if (this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(isCritical);\n            var criticalModule = this.criticalPathModule;\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To get all the critical tasks in Gantt.\n     *\n     * @returns {IGanttData[]} .\n     * @public\n     */\n    Gantt.prototype.getCriticalTasks = function () {\n        if (!isNullOrUndefined(this.criticalPathModule) && this.enableCriticalPath) {\n            return this.criticalPathModule.getCriticalTasks();\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To perform Zoom in action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomIn = function () {\n        this.timelineModule.processZooming(true);\n    };\n    /**\n     * To perform zoom out action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomOut = function () {\n        this.timelineModule.processZooming(false);\n    };\n    /**\n     * To show all project task in available chart width.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.fitToProject = function () {\n        this.timelineModule.processZoomToFit();\n        this.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     * Reorder the rows based on given indexes and position.\n     *\n     * @param {number[]} fromIndexes - Defines the indexes of the dragged records.\n     * @param {number} toIndex - Defines the index where the dragged rows will be dropped.\n     * @param {string} position - Defines the position of the dropped row.\n     * @returns {void} .\n     */\n    Gantt.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n    };\n    /**\n     * Method to update record by Index.\n     *\n     * @param  {number} index - Defines the index of data to modify.\n     * @param  {object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByIndex = function (index, data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            var tasks = this.taskFields;\n            var record = this.updatedRecords.length > 0 ?\n                !isNullOrUndefined(this.updatedRecords[index]) ? this.updatedRecords[index] : null : null;\n            if (!isNullOrUndefined(record)) {\n                data[tasks.id] = record[tasks.id];\n                this.editModule.updateRecordByID(data);\n            }\n        }\n    };\n    /**\n     * To add dependency for Task.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to add.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addPredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.addPredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * To remove dependency from task.\n     *\n     * @param  {number} id - Defines the ID of the task from which the dependency will be removed.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.removePredecessor = function (id) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.removePredecessor(ganttRecord);\n        }\n    };\n    /**\n     * To modify current dependency values of Task by task id.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to update.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updatePredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.updatePredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * Method to open Add dialog.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openAddDialog = function () {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowAdding) {\n            this.editModule.dialogModule.openAddDialog();\n        }\n    };\n    /**\n     * Method to open Edit dialog.\n     *\n     * @param {number } taskId - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openEditDialog = function (taskId) {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowEditing) {\n            this.editModule.dialogModule.openEditDialog(taskId);\n        }\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param {string | number} id .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.contructExpandCollapseArgs = function (id, index) {\n        var chartRow;\n        var record;\n        var rowIndex;\n        if (isNullOrUndefined(index) && id) {\n            record = this.getRecordByID(id.toString());\n            chartRow = this.getRowByID(id);\n            if (!isNullOrUndefined(chartRow)) {\n                rowIndex = getValue('rowIndex', chartRow);\n            }\n        }\n        else if (!isNullOrUndefined(index)) {\n            chartRow = this.getRowByIndex(index);\n            rowIndex = index;\n            record = this.flatData[rowIndex];\n        }\n        var gridRow = this.treeGrid.getRows()[rowIndex];\n        return { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n    };\n    /**\n     * Method to get chart row value by index.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByIndex = function (index) {\n        try {\n            var gridRows = this.element.querySelectorAll('.e-chart-row');\n            if (!isNullOrUndefined(index)) {\n                return gridRows[index];\n            }\n            else {\n                return null;\n            }\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    /**\n     * Method to get the row element by task id.\n     *\n     * @param {string | number} id - Defines the id of task.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByID = function (id) {\n        var _this = this;\n        var record = this.getRecordByID(id.toString());\n        var index;\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            index = this.updatedRecords.map(function (item) { return item[_this.taskFields.id]; }).indexOf(record.ganttProperties.taskId);\n        }\n        else {\n            index = this.enableVirtualization ? this.currentViewData.indexOf(record) : this.updatedRecords.indexOf(record);\n        }\n        if (index !== -1) {\n            return this.getRowByIndex(index);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp .\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getUnscheduledTaskClass = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp -Defines the Gantt propertie.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isUnscheduledTask = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Gantt.prototype.createGanttPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-ganttpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: 'e-content', attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        document.getElementById(this.element.id + 'GanttChart').appendChild(popup);\n    };\n    /**\n     * Method to get predecessor value as string.\n     *\n     * @param {string} type .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    Gantt.prototype.getPredecessorTextValue = function (type) {\n        var textValue;\n        switch (type) {\n            case 'SS':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('start');\n                break;\n            case 'FF':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'SF':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'FS':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('start');\n                break;\n        }\n        return textValue;\n    };\n    /**\n     * Method to perform search action in Gantt.\n     *\n     * @param {string} keyVal - Defines key value to search.\n     * @returns {void} .\n     */\n    Gantt.prototype.search = function (keyVal) {\n        if (this.filterModule) {\n            this.searchSettings.key = keyVal;\n            this.dataBind();\n        }\n    };\n    /**\n     * Method to get offset rect value\n     *\n     * @param {HTMLElement} element .\n     * @returns {number} .\n     * @hidden\n     */\n    Gantt.prototype.getOffsetRect = function (element) {\n        var box = element.getBoundingClientRect();\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            || document.body.scrollTop;\n        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n            document.body.scrollLeft;\n        var clientTop = document.documentElement.clientTop || document.body.clientTop || 0;\n        var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n        var top = box.top + scrollTop - clientTop;\n        var left = this.enableRtl ? box.right + scrollLeft - clientLeft : box.left + scrollLeft - clientLeft;\n        return { top: Math.round(top), left: Math.round(left), width: box.width, height: box.height };\n    };\n    /**\n     * Method to expand all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandAll = function () {\n        this.ganttChartModule.expandCollapseAll('expand');\n    };\n    /**\n     * Method to update data source.\n     *\n     * @returns {void} .\n     * @param {object[]} dataSource - Defines a collection of data.\n     * @param {object} args - Defines the projectStartDate and projectEndDate values.\n     * @public\n     */\n    Gantt.prototype.updateDataSource = function (dataSource, args) {\n        this.isDynamicData = true;\n        if (!isNullOrUndefined(args)) {\n            for (var _i = 0, _a = Object.keys(args); _i < _a.length; _i++) { // eslint-disable-line\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'projectStartDate':\n                        this.setProperties({ projectStartDate: args[prop] }, true);\n                        break;\n                    case 'projectEndDate':\n                        this.setProperties({ projectEndDate: args[prop] }, true);\n                        break;\n                }\n            }\n        }\n        this.dataSource = dataSource;\n    };\n    /**\n     * Method to collapse all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseAll = function () {\n        this.ganttChartModule.expandCollapseAll('collapse');\n    };\n    /**\n     * Gets the columns from the TreeGrid.\n     *\n     * @returns {Column[]} .\n     * @public\n     */\n    Gantt.prototype.getGridColumns = function () {\n        return this.treeGrid.getColumns();\n    };\n    /**\n     * Method to column from given column collection based on field value\n     *\n     * @param {string} field .\n     * @param {ColumnModel[]} columns .\n     * @returns {ColumnModel} .\n     * @private\n     */\n    Gantt.prototype.getColumnByField = function (field, columns) {\n        var column = columns.filter(function (value) {\n            return value.field === field;\n        });\n        return column.length > 0 ? column[0] : null;\n    };\n    /**\n     * Gets the Gantt columns.\n     *\n     * @returns {ColumnModel[]} .\n     * @public\n     */\n    Gantt.prototype.getGanttColumns = function () {\n        return this.ganttColumns;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.showColumn = function (keys, showBy) {\n        this.treeGrid.showColumns(keys, showBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * Hides one or more columns in the Gantt chart based on the specified column names or header texts.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.hideColumn = function (keys, hideBy) {\n        this.treeGrid.hideColumns(keys, hideBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * To set scroll top for chart scroll container.\n     *\n     * @param {number} scrollTop - Defines scroll top value for scroll container.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.setScrollTop = function (scrollTop) {\n        this.ganttChartModule.scrollObject.setScrollTop(scrollTop);\n    };\n    /**\n     * Cancels the current edit operation and reverts the changes made during editing.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.cancelEdit = function () {\n        this.isCancelled = true;\n        this.closeGanttActions();\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRows = function (records) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(records);\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string } taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.deleteRecord = function (taskDetail) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(taskDetail);\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     */\n    Gantt.prototype.enableItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * @param {ITaskAddedEventArgs | IActionBeginEventArgs} args .\n     * @returns {ITaskAddedEventArgs | IActionBeginEventArgs} .\n     * @hidden\n     */\n    Gantt.prototype.updateDataArgs = function (args) {\n        if (!Array.isArray(args.data)) {\n            var customData = [];\n            customData.push(args.data);\n            setValue('data', customData, args);\n        }\n        return args;\n    };\n    /**\n     * Method to convert task data to milestone data.\n     *\n     * @param {string} id - Defines id of record.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.convertToMilestone = function (id) {\n        var rowData = this.getRecordByID(id);\n        if (!isNullOrUndefined(rowData)) {\n            var data = extend({}, {}, rowData.taskData, true);\n            var taskfields = this.taskFields;\n            if (data[taskfields.startDate]) {\n                this.setRecordValue(taskfields.startDate, rowData.ganttProperties.startDate, data, true);\n            }\n            if (!isNullOrUndefined(taskfields.duration)) {\n                data[taskfields.duration] = 0;\n            }\n            else {\n                data[taskfields.startDate] = new Date(rowData.ganttProperties.startDate);\n                data[taskfields.endDate] = new Date(rowData.ganttProperties.endDate);\n            }\n            if (!isNullOrUndefined(taskfields.milestone)) {\n                if (data[taskfields.milestone] === false) {\n                    data[taskfields.milestone] = true;\n                }\n            }\n            if (!isNullOrUndefined(taskfields.progress)) {\n                data[taskfields.progress] = 0;\n            }\n            if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                data[taskfields.child] = [];\n            }\n            if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                data[taskfields.parentID] = null;\n            }\n            if (!isNullOrUndefined(taskfields.segments)) {\n                data[taskfields.segments] = null;\n            }\n            var taskType = !isNullOrUndefined(rowData.ganttProperties.taskType) ? rowData.ganttProperties.taskType\n                : this.taskType;\n            if (taskType === 'FixedWork') {\n                if (!isNullOrUndefined(data[taskfields.work])) {\n                    data[taskfields.work] = 0;\n                }\n                else {\n                    rowData.ganttProperties.work = 0;\n                }\n            }\n            if (!isNullOrUndefined(this.contextMenuModule) &&\n                this.contextMenuModule.isOpen &&\n                this.contextMenuModule.item === 'Milestone') {\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                var position = this.editSettings.newRowPosition;\n                this.addRecord(data, position, this.selectedRowIndex);\n            }\n            else {\n                if (!rowData.hasChildRecords && !rowData.ganttProperties.isMilestone) {\n                    this.isConvertedMilestone = true;\n                    this.updateRecordByID(data);\n                    this.isConvertedMilestone = false;\n                }\n            }\n        }\n    };\n    /**\n     * To change the mode of a record.\n     *\n     * @param {object} data - Use to change the TaskMode either manual, auto or custom.\n     * @returns {void} .\n     */\n    Gantt.prototype.changeTaskMode = function (data) {\n        if (this.undoRedoModule && !this.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'TaskMode';\n            details['modifiedRecords'] = extend([], [data], [], true);\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var tasks = this.taskFields;\n        var ganttData = this.getRecordByID(data[tasks.id]);\n        var ganttProp = ganttData.ganttProperties;\n        this.isOnEdit = true;\n        this.setRecordValue('isAutoSchedule', !ganttProp.isAutoSchedule, ganttProp, true);\n        if (!isNullOrUndefined(this.taskFields.manual)) {\n            this.setRecordValue('taskData.' + tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n            this.setRecordValue(tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        }\n        this.editModule.updateTaskScheduleModes(ganttData);\n        var args = {\n            data: ganttData\n        };\n        this.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * @returns {string[]} .\n     * @private\n     */\n    Gantt.prototype.getTaskIds = function () {\n        return this.taskIds;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.setTaskIds = function (data) {\n        if (this.viewType !== 'ProjectView') {\n            var id = data.ganttProperties.taskId;\n            id = data.level === 0 ? 'R' + id : 'T' + id;\n            this.taskIds.push(id);\n        }\n    };\n    /**\n     * To render the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.renderTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To reset the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.resetTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowParentDependency\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"disableHtmlEncode\", void 0);\n    __decorate([\n        Complex({}, LoadingIndicator)\n    ], Gantt.prototype, \"loadingIndicator\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableVirtualMaskRow\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"loadChildOnDemand\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"updateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"UpdateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoCalculateDateScheduling\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoFocusTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enablePredecessorValidation\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property(['Sorting', 'Add', 'ColumnReorder', 'ColumnResize', 'ColumnState', 'Delete', 'Edit', 'Filtering', 'Indent', 'Outdent', 'NextTimeSpan', 'PreviousTimeSpan', 'RowDragAndDrop', 'TaskbarDragAndDrop', 'Search', 'ZoomIn', 'ZoomOut', 'ZoomToFit'])\n    ], Gantt.prototype, \"undoRedoActions\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"timezone\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"collapseAllParentTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"highlightWeekends\", void 0);\n    __decorate([\n        Property(0)\n    ], Gantt.prototype, \"treeColumnIndex\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('day')\n    ], Gantt.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"renderBaseline\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowTaskbarDragAndDrop\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowTaskbarOverlap\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Gantt.prototype, \"gridLines\", void 0);\n    __decorate([\n        Complex({}, LabelSettings)\n    ], Gantt.prototype, \"labelSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"parentTaskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"timelineTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"milestoneTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"baselineColor\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableTimelineVirtualization\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'])\n    ], Gantt.prototype, \"workWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"includeWeekend\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowUnscheduledTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showInlineNotes\", void 0);\n    __decorate([\n        Property(36)\n    ], Gantt.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceIDMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceNameMapping\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"resources\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"segmentData\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"connectorLineBackground\", void 0);\n    __decorate([\n        Property(1)\n    ], Gantt.prototype, \"connectorLineWidth\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"columns\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"addDialogFields\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"editDialogFields\", void 0);\n    __decorate([\n        Property(-1)\n    ], Gantt.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Property('hour')\n    ], Gantt.prototype, \"workUnit\", void 0);\n    __decorate([\n        Property('FixedUnit')\n    ], Gantt.prototype, \"taskType\", void 0);\n    __decorate([\n        Property('ProjectView')\n    ], Gantt.prototype, \"viewType\", void 0);\n    __decorate([\n        Collection([{ from: 8, to: 12 }, { from: 13, to: 17 }], DayWorkingTime)\n    ], Gantt.prototype, \"dayWorkingTime\", void 0);\n    __decorate([\n        Collection([], WeekWorkingTime)\n    ], Gantt.prototype, \"weekWorkingTime\", void 0);\n    __decorate([\n        Collection([], Holiday)\n    ], Gantt.prototype, \"holidays\", void 0);\n    __decorate([\n        Collection([], EventMarker)\n    ], Gantt.prototype, \"eventMarkers\", void 0);\n    __decorate([\n        Complex({}, TaskFields)\n    ], Gantt.prototype, \"taskFields\", void 0);\n    __decorate([\n        Complex({}, ResourceFields)\n    ], Gantt.prototype, \"resourceFields\", void 0);\n    __decorate([\n        Complex({}, TimelineSettings)\n    ], Gantt.prototype, \"timelineSettings\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"zoomingLevels\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Gantt.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Gantt.prototype, \"editSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Gantt.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Gantt.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"readOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableContextMenu\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableCriticalPath\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableUndoRedo\", void 0);\n    __decorate([\n        Property(10)\n    ], Gantt.prototype, \"undoRedoStepsCount\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"validateManualTasksOnLinking\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableMultiTaskbar\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showOverAllocation\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Gantt.prototype, \"taskMode\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Gantt.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Gantt.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Complex({}, SplitterSettings)\n    ], Gantt.prototype, \"splitterSettings\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEdited\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"endEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEditing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResized\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeTooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onTaskbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTimelineCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfColumnHeaderQueryCellInfo\", void 0);\n    Gantt = __decorate([\n        NotifyPropertyChanges\n    ], Gantt);\n    return Gantt;\n}(Component));\nexport { Gantt };\n","/**\n * public Enum for `PdfHorizontalOverflowType`.\n *\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","import { isNullOrUndefined as isNOU, getValue, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { TreeGrid, Edit } from '@syncfusion/ej2-treegrid';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * To handle cell edit action on default columns and custom columns\n */\nvar CellEdit = /** @class */ (function () {\n    function CellEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.isCellEdit = false;\n        this.isResourceCellEdited = false;\n        this.parent = ganttObj;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Bind all editing related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    CellEdit.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.editSettings.allowEditing = this.parent.editSettings.allowEditing;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        this.parent.treeGrid.editSettings.mode = 'Cell';\n        this.parent.treeGrid.cellEdit = this.ensureEditCell.bind(this);\n        if (this.parent.editSettings.allowEditing) {\n            TreeGrid.Inject(Edit);\n        }\n    };\n    /**\n     * Ensure current cell was editable or not\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void | Deferred} .\n     */\n    CellEdit.prototype.ensureEditCell = function (args) {\n        var _this = this;\n        var data = args.rowData;\n        var field = args.columnName;\n        this.editedColumn = this.parent.getColumnByField(field, this.parent.ganttColumns);\n        var taskSettings = this.parent.taskFields;\n        if (this.parent.readOnly) {\n            args.cancel = true;\n            return;\n        }\n        if (this.parent.editSettings.mode === 'Dialog') {\n            args.cancel = true;\n            return;\n        }\n        if (data.hasChildRecords && !this.parent.allowParentDependency && ((field === taskSettings.endDate &&\n            ((!isNullOrUndefined(data[taskSettings.manual]) && data[taskSettings.manual] === false) ||\n                this.parent.taskMode === 'Auto')) || field === taskSettings.duration || field === taskSettings.dependency ||\n            field === taskSettings.progress || field === taskSettings.work || field === taskSettings.type || field === 'taskType')) {\n            if ((field === taskSettings.dependency && !this.parent.allowParentDependency) || field !== taskSettings.dependency) {\n                args.cancel = true;\n            }\n        }\n        else {\n            var callBackPromise_1 = new Deferred();\n            var parentReference_1 = this.parent;\n            this.currentEditedRowData = args.rowData;\n            this.parent.trigger('cellEdit', args, function (arg) {\n                if (arg.columnName === parentReference_1.taskFields.progress && arg.rowData.hasChildRecords) {\n                    arg.cancel = true;\n                }\n                if (data.level === 0 && _this.parent.viewType === 'ResourceView') {\n                    arg.cancel = true;\n                }\n                callBackPromise_1.resolve(arg);\n                if (!arg.cancel) {\n                    if (arg.columnName === _this.parent.taskFields.notes) {\n                        _this.openNotesEditor(arg);\n                    }\n                    else {\n                        _this.isCellEdit = true;\n                        if (!isNOU(_this.parent.toolbarModule)) {\n                            _this.parent.toolbarModule.refreshToolbarItems();\n                        }\n                    }\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    /**\n     * To render edit dialog and to focus on notes tab\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.openNotesEditor = function (args) {\n        var taskSettings = this.parent.taskFields;\n        var data = args.rowData;\n        var field = args.columnName;\n        if ((field === taskSettings.notes && !this.parent.showInlineNotes)) {\n            args.cancel = true;\n            var columnTypes = this.parent.editModule.dialogModule.updatedEditFields.map(function (x) { return x.type; });\n            var index = columnTypes.indexOf('Notes');\n            if (index !== -1) {\n                this.parent.editModule.dialogModule.openEditDialog(data.ganttProperties.rowUniqueID);\n                var tabObj = document.getElementById(this.parent.element.id + '_Tab').ej2_instances[0];\n                tabObj.selectedItem = index;\n            }\n        }\n        if (field === taskSettings.notes && this.parent.showInlineNotes === true) {\n            this.isCellEdit = true;\n        }\n    };\n    // private isValueChange(args: Record<string, unknown>, field: string): boolean {\n    //     const data: IGanttData = getValue('data', args);\n    //     const editedValue: Record<string, unknown> = data[`${field}`];\n    //     const previousValue: Record<string, unknown> = getValue('previousData', args);\n    //     if ((isNOU(editedValue) && !isNOU(previousValue)) || (!isNOU(editedValue) && isNOU(previousValue))) {\n    //         return true;\n    //     } else if (!isNOU(editedValue) && !isNOU(previousValue)) {\n    //         if (editedValue instanceof Date) {\n    //             return editedValue.getTime() !== data.taskData[field as string].getTime() ? true : false;\n    //         } else if (field === this.parent.taskFields.resourceInfo) {\n    //             return editedValue !== previousValue ? true : false;\n    //         } else if (editedValue !== data.taskData[field as string]) {\n    //             return true;\n    //         }\n    //     }\n    //     return false;\n    // }\n    /**\n     * Initiate cell save action on Gantt with arguments from TreeGrid\n     *\n     * @param {object} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.initiateCellEdit = function (args, editedObj) {\n        var isValid = true;\n        if (args['name'] === 'actionComplete' && args['previousData'] === args['data'][args['column'].field]) {\n            isValid = false;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (isValid) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'CellEditing';\n                action['editedColumn'] = args['column'].field;\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n            }\n        }\n        var column = getValue('column', args);\n        var data = getValue('data', args);\n        var editedArgs = {};\n        editedArgs.action = 'CellEditing';\n        editedArgs.data = this.parent.getTaskByUniqueID(data.uniqueID);\n        var previousValue = getValue('previousData', args);\n        var editedValue = this.parent.allowUnscheduledTasks ? data[column.field] : ((isNullOrUndefined(data[column.field])\n            || data[column.field] === '') && (this.parent.taskFields.duration === column.field ||\n            this.parent.taskFields.startDate === column.field || this.parent.taskFields.endDate === column.field)) ? previousValue\n            : data[column.field];\n        if (!isNOU(data)) {\n            data[column.field] = previousValue;\n            editedArgs.data[column.field] = previousValue;\n            this.parent.initiateEditAction(true);\n            if (this.parent.weekWorkingTime.length > 0 && editedValue && (column.field === this.parent.taskFields.startDate ||\n                column.field === this.parent.taskFields.baselineStartDate)) {\n                var sDate = column.field === this.parent.taskFields.startDate ? data.ganttProperties.startDate :\n                    data.ganttProperties.baselineStartDate;\n                var prevDay = this.parent['getStartTime'](sDate);\n                if (prevDay / 3600 === sDate.getHours()) {\n                    var dayStartTime = this.parent['getStartTime'](editedValue);\n                    this.parent.dataOperation.setTime(dayStartTime, editedValue);\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n                else {\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n            }\n            else {\n                this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n            }\n            if (column.field === this.parent.taskFields.name) {\n                this.taskNameEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.startDate) {\n                this.startDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.endDate) {\n                this.endDateEdited(editedArgs, args['previousData']);\n            }\n            else if (column.field === this.parent.taskFields.duration) {\n                this.durationEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.resourceInfo) {\n                this.resourceEdited(editedArgs, editedObj, data);\n            }\n            else if (column.field === this.parent.taskFields.progress) {\n                this.progressEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.baselineStartDate\n                || column.field === this.parent.taskFields.baselineEndDate) {\n                this.baselineEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.dependency) {\n                this.dependencyEdited(editedArgs, previousValue);\n            }\n            else if (column.field === this.parent.taskFields.notes) {\n                this.notedEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.work) {\n                this.workEdited(editedArgs);\n            }\n            else if ((column.field === this.parent.taskFields.type || column.field === 'taskType') &&\n                !isNOU(this.parent.taskFields.work)) {\n                this.typeEdited(editedArgs, editedObj);\n            }\n            else if (column.field === this.parent.taskFields.manual) {\n                this.taskmodeEdited(editedArgs);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + column.field, editedArgs.data[column.field], editedArgs.data);\n                this.parent.editModule.initiateSaveAction(editedArgs);\n            }\n        }\n        else {\n            this.parent.editModule.endEditAction(args);\n        }\n        this.isCellEdit = false;\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn)) {\n            this.parent.editModule.cellEditModule.editedColumn = null;\n        }\n        if (!isNOU(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * To update task name cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskNameEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.name, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('taskName', args.data[this.parent.taskFields.name], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task notes cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.notedEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.notes, args.data[this.parent.taskFields.notes], args.data);\n        this.parent.setRecordValue('notes', args.data[this.parent.taskFields.notes], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task schedule mode cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskmodeEdited = function (args) {\n        this.parent.setRecordValue('isAutoSchedule', !args.data[this.parent.taskFields.manual], args.data.ganttProperties, true);\n        this.parent.editModule.updateTaskScheduleModes(args.data);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task start date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.startDateEdited = function (args) {\n        var ganttData = args.data;\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.startDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        currentValue = this.parent.dateValidationModule.checkStartDate(currentValue, ganttData.ganttProperties, ganttData.ganttProperties.isMilestone);\n        if (isNOU(currentValue)) {\n            if (!ganttData.hasChildRecords) {\n                this.parent.setRecordValue('startDate', null, ganttProb, true);\n                if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                    this.parent.setRecordValue('duration', null, ganttProb, true);\n                }\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                // if (this.parent.allowUnscheduledTasks && isNOU(this.parent.taskFields.endDate)) {\n                //     this.parent.setRecordValue('endDate', null, ganttProb, true);\n                // }\n            }\n        }\n        else if (ganttProb.endDate || !isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(ganttData);\n        }\n        else if (isNOU(ganttProb.endDate) && isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n        }\n        this.parent.setRecordValue('isMilestone', ganttProb.duration === 0 ? true : false, ganttProb, true);\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        this.updateEditedRecord(args);\n    };\n    CellEdit.prototype.validateEndDateWithSegments = function (ganttProp) {\n        var ganttSegments = [];\n        var segments = ganttProp.segments;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[parseInt(i.toString(), 10)];\n            var endDate = segment.endDate;\n            endDate = (!isNullOrUndefined(ganttProp.endDate)) && endDate.getTime() <\n                ganttProp.endDate.getTime() && i !== segments.length - 1 ? endDate : ganttProp.endDate;\n            segment.duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n            if (segments.length > 0 && endDate.getTime() < segment.startDate.getTime()\n                && endDate.getTime() <= ganttProp.endDate.getTime()) {\n                segments[i - 1].duration = this.parent.dataOperation.getDuration(segments[i - 1].startDate, ganttProp.endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                continue;\n            }\n            ganttSegments.push(segment);\n        }\n        return ganttSegments;\n    };\n    /**\n     * To update task end date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {Date} previousValue .\n     * @returns {void} .\n     */\n    CellEdit.prototype.endDateEdited = function (args, previousValue) {\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.endDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        if (isNOU(currentValue)) {\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                this.parent.setRecordValue('duration', null, ganttProb, true);\n            }\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](currentValue);\n            if ((currentValue.getHours() === 0 || (previousValue &&\n                currentValue.toTimeString().slice(0, 5) === previousValue.toTimeString().slice(0, 5))) && dayEndTime !== 86400) {\n                this.parent.dateValidationModule.setTime(dayEndTime, currentValue);\n            }\n            currentValue = this.parent.dateValidationModule.checkEndDate(currentValue, ganttProb, ganttProb.isMilestone);\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!isNOU(ganttProb.startDate) && isNOU(ganttProb.duration)) {\n                if (this.parent.dateValidationModule.compareDates(ganttProb.endDate, ganttProb.startDate) === -1) {\n                    this.parent.setRecordValue('endDate', new Date(ganttProb.startDate.getTime()), ganttProb, true);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProb.endDate);\n                    this.parent.dateValidationModule.setTime(dayEndTime, ganttProb.endDate);\n                }\n            }\n            else if (!isNOU(ganttProb.duration) && isNOU(ganttProb.startDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(ganttProb.endDate, ganttProb.duration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments)) {\n                ganttProb.segments = this.validateEndDateWithSegments(ganttProb);\n            }\n            if (this.compareDatesFromRecord(ganttProb) <= 0) {\n                this.parent.dateValidationModule.calculateDuration(args.data);\n            }\n            else {\n                this.parent.editModule.revertCellEdit(args);\n            }\n            this.updateDates(args);\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            if (ganttProb.isMilestone) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0) {\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), args.data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(args.data, 'segments');\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'endDate');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update duration cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.durationEdited = function (args) {\n        var regex = /^[^\\d.-]+$/;\n        if (regex.test(args.data[this.parent.taskFields.duration])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.duration + \" field is invalid. Please ensure the \" + this.parent.taskFields.duration + \" field contains only valid numeric values.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        if (parseInt(args.data[this.parent.taskFields.duration], 10) < 0) {\n            args.data[this.parent.taskFields.duration] = 0;\n        }\n        var ganttProb = args.data.ganttProperties;\n        var durationString = args.data[this.parent.taskFields.duration];\n        this.parent.dataOperation.updateDurationValue(durationString, ganttProb);\n        this.updateDates(args);\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'duration');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update start date, end date based on duration\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateDates = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var endDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.endDate);\n        var startDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.startDate);\n        var currentDuration = ganttProb.duration;\n        if (isNOU(currentDuration)) {\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n            if (args.data[this.parent.taskFields.duration] !== null) {\n                this.parent.setRecordValue('endDate', null, ganttProb, true);\n            }\n        }\n        else {\n            if (isNOU(startDate) && !isNOU(endDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(endDate, currentDuration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (currentDuration !== 0 && ganttProb.isMilestone) {\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, false, args.data, true);\n                }\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments) && ganttProb.segments.length > 0) {\n                this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), ganttProb, true);\n                this.parent.dataOperation.updateMappingData(args.data, 'segments');\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(args.data);\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n    };\n    /**\n     * To update progress cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.progressEdited = function (args) {\n        var ganttRecord = args.data;\n        this.parent.setRecordValue('progress', (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), ganttRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.progress, (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), args.data);\n        if (!ganttRecord.ganttProperties.isAutoSchedule) {\n            this.parent.setRecordValue('autoWidth', this.parent.dataOperation.calculateWidth(ganttRecord, false), ganttRecord.ganttProperties, true);\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.updateSegmentProgress(args.data.ganttProperties);\n        }\n        if (!args.data.hasChildRecords) {\n            var width = ganttRecord.ganttProperties.isAutoSchedule ? ganttRecord.ganttProperties.width :\n                ganttRecord.ganttProperties.autoWidth;\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(width, ganttRecord.ganttProperties.progress), ganttRecord.ganttProperties, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update baselines with new baseline start date and baseline end date\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.baselineEdited = function (args) {\n        var ganttRecord = args.data.ganttProperties;\n        var baseLineStartDate = args.data[this.parent.taskFields.baselineStartDate];\n        var baseLineEndDate = args.data[this.parent.taskFields.baselineEndDate];\n        var dayEndTime = this.parent['getCurrentDayEndTime'](baseLineEndDate);\n        if (baseLineEndDate && baseLineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.parent.dateValidationModule.setTime(dayEndTime, baseLineEndDate);\n        }\n        this.parent.setRecordValue('baselineStartDate', this.parent.dateValidationModule.checkBaselineStartDate(baseLineStartDate, ganttRecord), ganttRecord, true);\n        this.parent.setRecordValue('baselineEndDate', this.parent.dateValidationModule.checkBaselineEndDate(baseLineEndDate), ganttRecord, true);\n        if (ganttRecord.baselineStartDate && ganttRecord.baselineEndDate) {\n            this.parent.setRecordValue('baselineLeft', this.parent.dataOperation.calculateBaselineLeft(ganttRecord), ganttRecord, true);\n            this.parent.setRecordValue('baselineWidth', this.parent.dataOperation.calculateBaselineWidth(ganttRecord), ganttRecord, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task's resource cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @param {IGanttData} previousData .\n     * @returns {void} .\n     */\n    CellEdit.prototype.resourceEdited = function (args, editedObj, previousData) {\n        var resourceSettings = this.parent.resourceFields;\n        var editedResourceId = editedObj[this.parent.taskFields.resourceInfo];\n        if (editedResourceId) {\n            this.isResourceCellEdited = true;\n            var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n            var editedResouceLength = tempResourceInfo.length;\n            var previousResource = previousData.ganttProperties.resourceInfo;\n            var index = void 0;\n            var editedResources = [];\n            var resourceData = this.parent.resources;\n            var newIndex = void 0;\n            var _loop_1 = function (count) {\n                if (previousResource) {\n                    var previousResourceLength = previousResource.length;\n                    for (newIndex = 0; newIndex < previousResourceLength; newIndex++) {\n                        if (previousResource[newIndex][resourceSettings.id] === editedResourceId[count]) {\n                            index = newIndex;\n                            break;\n                        }\n                        else {\n                            index = -1;\n                        }\n                    }\n                }\n                if (!isNOU(index) && index !== -1) {\n                    editedResources.push(previousResource[parseInt(index.toString(), 10)]);\n                }\n                else {\n                    var resource = resourceData.filter(function (resourceInfo) {\n                        return (editedResourceId[count] === resourceInfo[resourceSettings.id]);\n                    });\n                    var ganttDataResource = extend({}, resource[0]);\n                    ganttDataResource[resourceSettings.unit] = 100;\n                    editedResources.push(ganttDataResource);\n                }\n            };\n            for (var count = 0; count < editedResouceLength; count++) {\n                _loop_1(count);\n            }\n            args.data.ganttProperties.resourceInfo = editedResources;\n            this.parent.dataOperation.updateMappingData(args.data, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'resource');\n            if (this.parent.viewType === 'ResourceView') {\n                this.parent.editModule.dialogModule.isResourceUpdate = true;\n                this.parent.editModule.dialogModule.previousResource = previousResource;\n            }\n            this.updateDates(args);\n            this.updateEditedRecord(args);\n        }\n    };\n    /**\n     * To update task's predecessor cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @param {object} cellEditArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.dependencyEdited = function (editedArgs, cellEditArgs) {\n        var specialCharacterPattern = /[!@#$%^&*()_=[\\]{};:<>|./?-]/;\n        if (specialCharacterPattern.test(editedArgs.data[this.parent.taskFields.dependency])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.dependency + \" field is invalid. Please ensure that the \" + this.parent.taskFields.dependency + \" field does not contain any special characters.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        this.parent.predecessorModule.updateUnscheduledDependency(editedArgs.data);\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        var value = '';\n        if (!isNullOrUndefined(editedArgs.data[this.parent.taskFields.dependency])) {\n            var splitString_1 = editedArgs.data[this.parent.taskFields.dependency].split(',');\n            splitString_1.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value += splitvalue.replace(FF, 'FF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value += splitvalue.replace(FS, 'FS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value += splitvalue.replace(SS, 'SS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value += splitvalue.replace(SF, 'SF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value += splitvalue;\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n            });\n        }\n        if (!this.parent.connectorLineEditModule.updatePredecessor(editedArgs.data, value, editedArgs)) {\n            this.parent.editModule.revertCellEdit(cellEditArgs);\n        }\n    };\n    /**\n     * To update task's work cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.workEdited = function (editedArgs) {\n        var ganttProb = editedArgs.data.ganttProperties;\n        if (editedArgs.data[this.parent.taskFields.work] < 0 || isNullOrUndefined(editedArgs.data[this.parent.taskFields.work])) {\n            editedArgs.data[this.parent.taskFields.work] = 0;\n        }\n        this.parent['updateDuration'] = true;\n        var workValue = editedArgs.data[this.parent.taskFields.work];\n        this.parent.setRecordValue('work', workValue, ganttProb, true);\n        this.parent.editModule.updateResourceRelatedFields(editedArgs.data, 'work');\n        this.updateDates(editedArgs);\n        this.updateEditedRecord(editedArgs);\n        this.parent['updateDuration'] = false;\n    };\n    /**\n     * To update task type cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     */\n    CellEdit.prototype.typeEdited = function (args, editedObj) {\n        var key = this.parent.taskFields.type || 'taskType';\n        var ganttProb = args.data.ganttProperties;\n        var taskType = editedObj[\"\" + key];\n        this.parent.setRecordValue('taskType', taskType, ganttProb, true);\n        // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n        if (ganttProb.taskType === 'FixedDuration' && ganttProb.duration === 0) {\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'work');\n        }\n        //this.parent.dataOperation.updateMappingData(args.data, 'taskType');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To compare start date and end date from Gantt record\n     *\n     * @param {ITaskData} ganttRecord .\n     * @returns {number} .\n     */\n    CellEdit.prototype.compareDatesFromRecord = function (ganttRecord) {\n        var sDate = this.parent.dateValidationModule.getValidStartDate(ganttRecord);\n        var eDate = this.parent.dateValidationModule.getValidEndDate(ganttRecord);\n        return this.parent.dateValidationModule.compareDates(sDate, eDate);\n    };\n    /**\n     * To start method save action with edited cell value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateEditedRecord = function (args) {\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To remove all public private properties\n     *\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.destroy = function () {\n        // Destroy Method\n        this.parent.editModule.cellEditModule = undefined;\n    };\n    return CellEdit;\n}());\nexport { CellEdit };\n","import { getValue, isNullOrUndefined, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constants';\n/**\n * File for handling taskbar editing tooltip in Gantt.\n */\nvar EditTooltip = /** @class */ (function () {\n    function EditTooltip(gantt, taskbarEdit) {\n        this.parent = gantt;\n        this.taskbarEdit = taskbarEdit;\n    }\n    /**\n     * To create tooltip.\n     *\n     * @param {string} opensOn .\n     * @param {boolean} mouseTrail .\n     * @param {string} target .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.createTooltip = function (opensOn, mouseTrail, target) {\n        var _this = this;\n        this.toolTipObj = new Tooltip({\n            opensOn: opensOn,\n            position: 'TopRight',\n            enableRtl: this.parent.enableRtl,\n            mouseTrail: mouseTrail,\n            cssClass: cls.ganttTooltip,\n            windowCollision: true,\n            target: target ? target : null,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        this.toolTipObj.target = '.e-connectorpoint-left, .e-connectorpoint-right';\n        this.toolTipObj.beforeRender = function (args) {\n            var argsData = {\n                data: _this.taskbarEdit.taskBarEditRecord,\n                args: args,\n                content: _this.toolTipObj.content\n            };\n            _this.parent.trigger('beforeTooltipRender', argsData);\n        };\n        this.toolTipObj.afterOpen = function (args) {\n            _this.updateTooltipPosition(args);\n        };\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.chartPane);\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    EditTooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = args.element.offsetLeft;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth)) {\n                tooltipPositionX += leftEnd - (tooltipPositionX + args.element.offsetWidth);\n            }\n            args.element.style.left = tooltipPositionX + 'px';\n            args.element.style.visibility = 'visible';\n            if (args.target && this.parent.tooltipSettings.editing) {\n                var top_1 = args.target.getBoundingClientRect().top + window.scrollY;\n                var tooltipPositionY = void 0;\n                if (args.target.classList.contains('e-connectorpoint-left') ||\n                    args.target.classList.contains('e-connectorpoint-right')) {\n                    tooltipPositionY = top_1 - (args.element.offsetHeight) - 14;\n                }\n                else {\n                    tooltipPositionY = top_1 - (args.element.offsetHeight) - 8;\n                }\n                this.toolTipHeight = args.element.style.top = tooltipPositionY + 'px';\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar edit tooltip.\n     *\n     * @param {boolean} bool .\n     * @param {number} segmentIndex .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.showHideTaskbarEditTooltip = function (bool, segmentIndex) {\n        if (bool && this.parent.tooltipSettings.showTooltip) {\n            this.createTooltip('Custom', false);\n            this.parent.tooltipModule.toolTipObj.close();\n            this.updateTooltip(segmentIndex);\n            if (this.parent.tooltipSettings.editing) {\n                this.toolTipObj.openDelay = 500;\n            }\n            if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointLeft));\n            }\n            else if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointRight));\n            }\n            else {\n                this.toolTipObj.open(this.taskbarEdit.taskBarEditElement);\n            }\n        }\n        else if (!isNullOrUndefined(this.toolTipObj)) {\n            this.toolTipObj.destroy();\n            this.toolTipObj = null;\n        }\n    };\n    /**\n     * To update tooltip content and position.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.updateTooltip = function (segmentIndex) {\n        var ganttProp = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        var taskWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.width :\n            ganttProp.segments[segmentIndex].width;\n        var progressWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.progressWidth :\n            ganttProp.segments[segmentIndex].progressWidth;\n        var left = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.left : ganttProp.left +\n            ganttProp.segments[segmentIndex].left;\n        if (!isNullOrUndefined(this.toolTipObj)) {\n            if (this.taskbarEdit.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskbarEdit.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (this.parent.tooltipSettings.editing) {\n                    this.toolTipObj.openDelay = 500;\n                }\n                this.toolTipObj.offsetY = -3;\n            }\n            else {\n                if (this.parent.tooltipSettings.editing) {\n                    this.toolTipObj.openDelay = 500;\n                }\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (ganttProp.segments && ganttProp.segments.length > 0 && this.taskbarEdit['mainElement'] && this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    var segments = this.taskbarEdit['mainElement'].querySelectorAll('.e-segmented-taskbar');\n                    this.toolTipObj.refresh(segments[segmentIndex]);\n                }\n                else {\n                    this.toolTipObj.refresh(this.taskbarEdit.taskBarEditElement);\n                }\n                if (this.taskbarEdit.taskBarEditAction === 'LeftResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'RightResizing' ||\n                    this.taskbarEdit.taskBarEditAction === 'ParentResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -(progressWidth);\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -(taskWidth - progressWidth);\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'MilestoneDrag') {\n                    this.toolTipObj.offsetX = -(this.parent.chartRowsModule.milestoneHeight / 2);\n                }\n                else if (taskWidth > 5) {\n                    this.toolTipObj.offsetX = -(taskWidth + left - this.taskbarEdit.tooltipPositionX);\n                }\n                if (this.parent.tooltipSettings.editing && document.getElementsByClassName('e-gantt-tooltip')[0] && this.toolTipHeight) {\n                    document.getElementsByClassName('e-gantt-tooltip')[0].style.top = this.toolTipHeight;\n                }\n            }\n        }\n    };\n    /**\n     * To get updated tooltip text.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.getTooltipText = function (segmentIndex) {\n        var tooltipString = '';\n        var instance = this.parent.globalize;\n        var editRecord = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        if (!isNullOrUndefined(editRecord.segments) && editRecord.segments.length > 0 && segmentIndex !== -1\n            && this.taskbarEdit.taskBarEditAction !== 'ProgressResizing') {\n            editRecord = editRecord.segments[segmentIndex];\n        }\n        if (this.parent.tooltipSettings.editing) {\n            var templateNode = this.parent.tooltipModule.templateCompiler(this.parent.tooltipSettings.editing, this.parent, this.taskbarEdit.taskBarEditRecord, 'TooltipEditingTemplate');\n            if (getValue('tooltipEle', this.toolTipObj)) {\n                this.parent.renderTemplates();\n            }\n            tooltipString = templateNode[0];\n        }\n        else {\n            var startDate = void 0;\n            var endDate = void 0;\n            var duration = void 0;\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.startDate)) {\n                startDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('startDate') +\n                    '</td><td class=' + cls.templatePadding + '>:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.startDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.endDate)) {\n                endDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('endDate') +\n                    '</td><td class=' + cls.templatePadding + '>:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.endDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.duration)) {\n                duration = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('duration') +\n                    '</td><td class=' + cls.templatePadding + '>:</td><td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getDurationString(editRecord.duration, editRecord.durationUnit) + '</td></tr>';\n            }\n            switch (this.taskbarEdit.taskBarEditAction) {\n                case 'ProgressResizing':\n                    {\n                        var progress = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('progress') +\n                            '</td><td class=' + cls.templatePadding + '>:</td><td class = \"e-gantt-tooltip-value\">' + editRecord.progress + '</td></tr>';\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            progress + '</tbody></table>';\n                        break;\n                    }\n                case 'LeftResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            startDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'RightResizing':\n                case 'ParentResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            endDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'ChildDrag':\n                case 'ParentDrag':\n                case 'MilestoneDrag':\n                case 'ManualParentDrag':\n                    {\n                        var sDate = '';\n                        var eDate = '';\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.startDate)) {\n                            sDate = startDate;\n                        }\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.endDate)) {\n                            eDate = endDate;\n                        }\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' + sDate + eDate + '</tbody></table>';\n                        break;\n                    }\n                case 'ConnectorPointLeftDrag':\n                case 'ConnectorPointRightDrag':\n                    {\n                        tooltipString = this.parent.connectorLineModule.tooltipTable;\n                        if (isNullOrUndefined(this.toolTipObj)) {\n                            this.parent.connectorLineModule.tooltipTable.innerHTML = '';\n                            this.parent.connectorLineModule.tooltipTable.appendChild(this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', ''));\n                        }\n                        break;\n                    }\n            }\n        }\n        if (typeof tooltipString === 'string') {\n            var contentTemp = function () {\n                return tooltipString;\n            };\n            return initializeCSPTemplate(contentTemp);\n        }\n        else {\n            return tooltipString;\n        }\n    };\n    return EditTooltip;\n}());\nexport { EditTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, createElement, extend, addClass, remove, removeClass, closest, merge, classList, getValue } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/utils';\nimport { DateProcessor } from '../base/date-processor';\nimport * as cls from '../base/css-constants';\nimport { EditTooltip } from '../renderer/edit-tooltip';\n/**\n * File for handling taskbar editing operation in Gantt.\n */\nvar TaskbarEdit = /** @class */ (function (_super) {\n    __extends(TaskbarEdit, _super);\n    function TaskbarEdit(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.leftValue = 0;\n        _this.previousLeftValue = 0;\n        _this.isMouseDragged = false;\n        _this.dependencyCancel = false;\n        _this.isDragged = false;\n        _this.editElement = null;\n        _this.elementOffsetLeft = 0;\n        _this.elementOffsetTop = 0;\n        _this.elementOffsetWidth = 0;\n        _this.elementOffsetHeight = 0;\n        _this.segmentIndex = -1;\n        _this.currentItemTop = 0;\n        _this.currentItemPrevTop = 0;\n        _this.topValue = 0;\n        _this.draggedRecordMarginTop = '0px';\n        _this.isClonedElement = false;\n        _this.updatePosition = false;\n        _this.tooltipValue = 0;\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.wireEvents();\n        _this.editTooltip = new EditTooltip(_this.parent, _this);\n        return _this;\n    }\n    TaskbarEdit.prototype.wireEvents = function () {\n        this.parent.on('chartMouseDown', this.mouseDownHandler, this);\n        this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        this.parent.on('chartMouseLeave', this.mouseLeaveHandler, this);\n        this.parent.on('chartMouseMove', this.mouseMoveAction, this);\n        this.parent.on('chartMouseClick', this.mouseClickHandler, this);\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.initPublicProp = function () {\n        this.taskBarEditElement = null;\n        this.taskBarEditRecord = null;\n        this.taskBarEditAction = null;\n        this.connectorSecondElement = null;\n        this.connectorSecondRecord = null;\n        this.connectorSecondAction = null;\n        this.highlightedSecondElement = null;\n        this.fromPredecessorText = null;\n        this.toPredecessorText = null;\n        this.finalPredecessor = null;\n        this.drawPredecessor = false;\n        this.roundOffDuration = true;\n        this.dragMouseLeave = false;\n        this.isMouseDragged = false;\n        this.previousItemProperty = ['left', 'progress', 'duration', 'isMilestone', 'startDate', 'endDate', 'width', 'progressWidth',\n            'autoLeft', 'autoDuration', 'autoStartDate', 'autoEndDate', 'autoWidth', 'segments'];\n        this.tapPointOnFocus = false;\n        this.touchEdit = false;\n    };\n    TaskbarEdit.prototype.mouseDownHandler = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing && !this.parent.readOnly) {\n            this.canDrag = false;\n            if (this.taskBarEditElement) {\n                var targetElement = this.getElementByPosition(e);\n                var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n                if ((element && element.innerHTML === this.taskBarEditElement.innerHTML ||\n                    this.taskBarEditElement.classList.contains('e-segmented-taskbar') || this.taskBarEditElement.classList.contains('collpse-parent-border'))) {\n                    this.updateTaskBarEditElement(e);\n                    this.canDrag = true;\n                    e.preventDefault();\n                }\n            }\n            else if (!this.parent.isAdaptive) {\n                this.updateTaskBarEditElement(e);\n            }\n        }\n    };\n    TaskbarEdit.prototype.mouseClickHandler = function (e) {\n        if (!this.parent.editSettings.allowTaskbarEditing) {\n            return;\n        }\n        var targetElement = this.getElementByPosition(e);\n        var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n        if (this.parent.selectionModule && this.parent.selectionModule.enableSelectMultiTouch) {\n            if (this.tapPointOnFocus) {\n                this.updateTaskBarEditElement(e);\n            }\n            return;\n        }\n        if (this.tapPointOnFocus && !isNullOrUndefined(this.taskBarEditElement) && element &&\n            element.innerHTML !== this.taskBarEditElement.innerHTML) {\n            this.connectorSecondRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondElement = element;\n            this.fromPredecessorText = 'Finish';\n            if (this.validateConnectorPoint()) {\n                this.taskBarEditingAction(e, true);\n            }\n            this.showHideActivePredecessors(false);\n            this.initPublicProp();\n        }\n        else if (targetElement.classList.contains(cls.connectorPointLeftHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else if (targetElement.classList.contains(cls.connectorPointRightHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointRightDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else {\n            if (this.tapPointOnFocus) {\n                this.showHideActivePredecessors(false);\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n            this.updateTaskBarEditElement(e);\n        }\n    };\n    TaskbarEdit.prototype.showHideActivePredecessors = function (show) {\n        var ganttProp = this.taskBarEditRecord.ganttProperties;\n        var predecessors = ganttProp.predecessor;\n        var id = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n        if (predecessors) {\n            for (var i = 0; i < predecessors.length; i++) {\n                var predecessor = predecessors[i];\n                if (id.toString() === predecessor.from || id.toString() === predecessor.to) {\n                    this.applyActiveColor(predecessor.from, predecessor.to, show);\n                }\n            }\n        }\n        var chartContent = this.parent.ganttChartModule.chartBodyContainer;\n        if (show) {\n            addClass([this.taskBarEditElement], [cls.activeChildTask]);\n            addClass([chartContent], [cls.touchMode]);\n        }\n        else {\n            removeClass([this.taskBarEditElement], [cls.activeChildTask]);\n            removeClass([chartContent], [cls.touchMode]);\n        }\n        this.touchEdit = show;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    TaskbarEdit.prototype.applyActiveColor = function (from, to, enable) {\n        var taskId = this.parent.viewType === 'ProjectView' ? this.taskBarEditRecord.ganttProperties.taskId.toString() :\n            this.taskBarEditRecord.ganttProperties.rowUniqueID.toString();\n        var ganttRecord = (taskId === from) ? this.parent.connectorLineModule.getRecordByID(to) :\n            this.parent.connectorLineModule.getRecordByID(from);\n        var $tr = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(ganttRecord)];\n        if (!isNullOrUndefined($tr)) {\n            var $taskbar = $tr.querySelector('.' + cls.taskBarMainContainer);\n            var $connectorElement = this.parent.element.querySelector('#ConnectorLineparent' + from + 'child' + to);\n            if (enable) {\n                addClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    addClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n            else {\n                removeClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    removeClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.validateConnectorPoint = function () {\n        var parentRecord = this.taskBarEditRecord.ganttProperties;\n        var childRecord = this.connectorSecondRecord.ganttProperties;\n        var isValid = true;\n        var parentId = this.parent.viewType === 'ResourceView' ? parentRecord.taskId : parentRecord.rowUniqueID;\n        var childId = this.parent.viewType === 'ResourceView' ? childRecord.taskId : childRecord.rowUniqueID;\n        if (this.connectorSecondRecord.hasChildRecords) {\n            isValid = false;\n        }\n        else if (childRecord.predecessor) {\n            for (var i = 0; i < childRecord.predecessor.length; i++) {\n                var predecessor = childRecord.predecessor[i];\n                if (predecessor.from === parentId.toString() &&\n                    predecessor.to === childId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.connectorSecondRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n                else if (predecessor.from === childId.toString() &&\n                    predecessor.to === parentId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.taskBarEditRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n            }\n        }\n        return isValid;\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.mouseLeaveHandler = function (e) {\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ProgressResizing' || this.taskBarEditAction === 'LeftResizing' ||\n            this.taskBarEditAction === 'RightResizing') {\n            this.dragMouseLeave = false;\n        }\n        else {\n            this.dragMouseLeave = true;\n        }\n    };\n    /**\n     * To update taskbar edited elements on mouse down action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateTaskBarEditElement = function (e) {\n        var target = this.getElementByPosition(e);\n        var cloneTaskBar;\n        var element;\n        if (target.classList.contains(cls.manualParentRightResizer) || target.classList.contains(cls.manualParentMainContainer)\n            || target.classList.contains(cls.manualParentTaskBar)) {\n            element = parentsUntil(target, cls.manualParentMainContainer);\n        }\n        else if (target.classList.contains(cls.manualParentMilestone)) {\n            element = parentsUntil(target, cls.manualParentMilestone);\n        }\n        else {\n            element = parentsUntil(target, cls.taskBarMainContainer);\n            if (!isNullOrUndefined(element) && !target.classList.contains('e-connectorpoint-left') &&\n                !target.classList.contains('e-connectorpoint-right')) {\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (!isNullOrUndefined(currentRecord.ganttProperties.segments) && currentRecord.ganttProperties.segments.length > 0) {\n                    if (target.classList.contains('e-progressbar-handler-after')) {\n                        for (var i = 0; i < currentRecord.ganttProperties.segments.length; i++) {\n                            if (currentRecord.ganttProperties.segments[i].showProgress) {\n                                element = element.querySelectorAll('.e-segmented-taskbar')[i];\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        element = parentsUntil(target, cls.childTaskBarInnerDiv);\n                    }\n                }\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && element) {\n            this.showHideTaskBarEditingElements(element, this.editElement);\n            this.editElement = element;\n            this.realTaskbarElement = this.editElement;\n            var index = this.editElement.getAttribute('data-segment-index');\n            if (!isNullOrUndefined(index)) {\n                this.segmentIndex = Number(index);\n            }\n            else {\n                this.segmentIndex = -1;\n            }\n            this.taskBarEditRecord = this.parent.ganttChartModule.getRecordByTaskBar(this.editElement);\n            if (e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'click') {\n                this.taskBarEditAction = this.getTaskBarAction(e);\n                var index_1 = this.editElement.getAttribute('data-segment-index');\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                var ganttprop = currentRecord.ganttProperties;\n                var parentleft = this.editElement.parentElement.offsetLeft;\n                this.currentData = currentRecord;\n                var resizeElement = createElement('div', { styles: 'height:100%;border-style:dashed;border-bottom:none;border-top:none;border-width:1px;position:absolute;z-index:10000' });\n                addClass([resizeElement], 'e-taskbar-resize-div');\n                resizeElement.style.setProperty('width', ganttprop.width + 'px');\n                var currentindex = this.editElement.getAttribute('data-segment-index');\n                if (!isNullOrUndefined(ganttprop.segments) && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    resizeElement.style.setProperty('left', ((!isNullOrUndefined(ganttprop.segments) ? parentleft + 'px' : (ganttprop.left) + 'px')));\n                }\n                else {\n                    resizeElement.style.setProperty('left', (((!isNullOrUndefined(ganttprop.segments) && ganttprop.segments.length > 1) ? parentleft + ganttprop.segments[Number(currentindex)].left + 'px' : (ganttprop.left) + 'px')));\n                }\n                var resizeTable = this.parent.createElement('table');\n                var resizetableBody = this.parent.createElement('tbody');\n                resizetableBody.appendChild(resizeElement);\n                resizeTable.appendChild(resizetableBody);\n                var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar');\n                var createTable = null;\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                }\n                else {\n                    if (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' &&\n                        this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                    }\n                    else {\n                        cloneTaskBar = this.editElement.cloneNode(true);\n                    }\n                }\n                if (!Check) {\n                    addClass([cloneTaskBar], 'e-clone-taskbar');\n                    cloneTaskBar.style.setProperty('position', 'absolute');\n                    if (currentRecord.hasChildRecords && !currentRecord.ganttProperties.isAutoSchedule) {\n                        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n                        var taskbarPosition = this.parent.getOffsetRect(this.editElement);\n                        if (this.editElement.classList.contains('e-manualparent-main-container')) {\n                            cloneTaskBar.style.setProperty('left', (currentRecord.ganttProperties.left - currentRecord.ganttProperties.autoLeft) + 'px');\n                        }\n                        else {\n                            cloneTaskBar.style.setProperty(this.parent.enableRtl ?\n                                'right' : 'left', Math.abs(taskbarPosition.left - containerPosition.left + Math.abs(this.parent.ganttChartModule.scrollElement.scrollLeft)) + 'px');\n                        }\n                    }\n                    cloneTaskBar.style.setProperty('top', 0 + 'px');\n                    createTable = this.parent.createElement('table');\n                    var tableBody = this.parent.createElement('tbody');\n                    tableBody.appendChild(cloneTaskBar);\n                    createTable.appendChild(tableBody);\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    var segmentedTasks = cloneTaskBar.getElementsByClassName('e-segmented-taskbar');\n                    this.cloneTaskbarElement = segmentedTasks[Number(index_1)];\n                }\n                else {\n                    this.cloneTaskbarElement = cloneTaskBar;\n                }\n                this.taskBarEditElement = this.cloneTaskbarElement;\n                this.taskbarElement = createTable;\n                this.taskbarResizer = resizeTable;\n                this.currentIndex = index_1;\n                this.roundOffDuration = true;\n                if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') &&\n                    isNullOrUndefined(this.parent.taskFields.dependency)) {\n                    this.taskBarEditAction = null;\n                }\n                this.updateMouseDownProperties(e);\n                if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n                    if (this.taskBarEditRecord.level === 0) {\n                        return;\n                    }\n                    else if (this.parent.enableMultiTaskbar) {\n                        var parentRecord = this.parent.getTaskByUniqueID(this.taskBarEditRecord.parentItem.uniqueID);\n                        if (!isNullOrUndefined(parentRecord) && !parentRecord.expanded) {\n                            this.prevZIndex = (this.taskBarEditElement).style.zIndex;\n                            (this.taskBarEditElement).style.zIndex = '1000';\n                            if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')) {\n                                addClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (this.taskBarEditElement) {\n                    this.showHideTaskBarEditingElements(element, this.editElement);\n                }\n                this.initPublicProp();\n            }\n            else {\n                this.showHideTaskBarEditingElements(element, this.editElement);\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar editing elements.\n     *\n     * @param {Element} element .\n     * @param {Element} secondElement .\n     * @param {boolean} fadeConnectorLine .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.showHideTaskBarEditingElements = function (element, secondElement, fadeConnectorLine) {\n        secondElement = secondElement ? secondElement : this.editElement;\n        var isShowProgressResizer = this.parent.taskFields.progress ? true : false;\n        var isShowConnectorPoints = true;\n        if (this.parent.readOnly) {\n            return;\n        }\n        var record = element ? this.parent.ganttChartModule.getRecordByTaskBar(element) :\n            secondElement ? this.parent.ganttChartModule.getRecordByTaskBar(secondElement) : null;\n        if (this.parent.enableMultiTaskbar && element) {\n            var parentRecord = this.parent.getParentTask(record.parentItem);\n            if (!isNullOrUndefined(parentRecord)) {\n                if (!parentRecord.expanded) {\n                    isShowConnectorPoints = false;\n                    addClass([element], [cls.collapseMultiTaskBar]);\n                }\n            }\n        }\n        if (element) {\n            if (element.querySelector('.' + cls.taskBarLeftResizer)) {\n                addClass([element.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                addClass([element.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (isShowProgressResizer) {\n                    var progressElement = (record && record.ganttProperties.segments &&\n                        record.ganttProperties.segments.length > 0) ?\n                        this.parent.getRowByIndex(this.parent.currentViewData.indexOf(record)).\n                            querySelectorAll('.' + cls.childProgressResizer)[0] :\n                        element.querySelector('.' + cls.childProgressResizer);\n                    if (!isNullOrUndefined(progressElement)) {\n                        addClass([progressElement], [cls.progressResizeGripper]);\n                        progressElement.style.top = '3px';\n                    }\n                }\n            }\n            else if (this.parent.isAdaptive && isShowProgressResizer) {\n                var record_1 = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (record_1.hasChildRecords) {\n                    addClass([element], [cls.activeParentTask]);\n                }\n            }\n            addClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (element.querySelector('.' + cls.connectorPointLeft)\n                    || element.parentElement.querySelector('.' + cls.connectorPointLeft))\n                && isShowConnectorPoints) {\n                var connectorElement = !isNullOrUndefined(element.querySelector('.' + cls.connectorPointLeft)) ?\n                    element : element.parentElement;\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointLeft))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                }\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointRight))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n                }\n            }\n        }\n        else if (!fadeConnectorLine) {\n            removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n        }\n        if (secondElement && element !== secondElement) {\n            if (secondElement.querySelector('.' + cls.taskBarLeftResizer)) {\n                removeClass([secondElement.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                removeClass([secondElement.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                var progressElement = (record && record.ganttProperties.segments && record.ganttProperties.segments.length > 0) ?\n                    this.parent.getRowByIndex(this.parent.currentViewData.indexOf(record)) : secondElement;\n                if (progressElement && progressElement.querySelector('.' + cls.childProgressResizer)) {\n                    removeClass([progressElement.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n                }\n            }\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (secondElement.querySelector('.' + cls.connectorPointLeft)\n                    || secondElement.parentElement.querySelector('.' + cls.connectorPointLeft))) {\n                var connectorElement = !isNullOrUndefined(secondElement.querySelector('.' + cls.connectorPointLeft)) ?\n                    secondElement : secondElement.parentElement;\n                var leftConnector = connectorElement.querySelector('.' + cls.connectorPointLeft);\n                var rightConnector = connectorElement.querySelector('.' + cls.connectorPointRight);\n                if (leftConnector) {\n                    removeClass([leftConnector], [cls.connectorPointLeftHover]);\n                }\n                if (rightConnector) {\n                    removeClass([rightConnector], [cls.connectorPointRightHover]);\n                }\n            }\n            else if (this.parent.isAdaptive) {\n                var record_2 = this.parent.ganttChartModule.getRecordByTaskBar(secondElement);\n                if (record_2 && record_2.hasChildRecords) {\n                    removeClass([secondElement], [cls.activeParentTask]);\n                }\n            }\n            this.editElement = null;\n        }\n    };\n    /**\n     * To get taskbar edit actions.\n     *\n     * @param {PointerEvent} e .\n     * @returns {string} .\n     * @private\n     */\n    TaskbarEdit.prototype.getTaskBarAction = function (e) {\n        var mouseDownElement = this.getElementByPosition(e);\n        var data = this.taskBarEditRecord;\n        var action = '';\n        if (mouseDownElement.classList.contains(cls.taskBarLeftResizer)) {\n            action = 'LeftResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.taskBarRightResizer)) {\n            action = 'RightResizing';\n        }\n        else if ((mouseDownElement.classList.contains(cls.childProgressResizer) ||\n            closest(mouseDownElement, '.' + cls.childProgressResizer)) && (this.parent.taskFields.progress)) {\n            action = 'ProgressResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointLeft)) {\n            action = 'ConnectorPointLeftDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointRight)) {\n            action = 'ConnectorPointRightDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentRightResizer)) {\n            action = 'ParentResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentTaskBar) ||\n            mouseDownElement.classList.contains(cls.manualParentMainContainer) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone)) {\n            action = 'ManualParentDrag';\n        }\n        else if (data) {\n            action = data.hasChildRecords ? data[this.parent.taskFields.manual] ? '' : 'ParentDrag'\n                : data.ganttProperties.isMilestone ? 'MilestoneDrag' : 'ChildDrag';\n        }\n        return action;\n    };\n    /**\n     * To update property while perform mouse down.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseDownProperties = function (event) {\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n            if (this.parent.enableRtl) {\n                this.mouseDownX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseDownX = (e.pageX - containerPosition.left) +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseDownX;\n            this.mouseDownY = this.dragMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            this.fromPredecessorText = this.taskBarEditAction === 'ConnectorPointLeftDrag' ? 'start' : 'finish';\n            this.parent.connectorLineModule.tooltipTable.innerHTML = '';\n            this.parent.connectorLineModule.tooltipTable.appendChild(this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.taskBarEditRecord.ganttProperties.taskName, this.fromPredecessorText, '', ''));\n        }\n    };\n    TaskbarEdit.prototype.isMouseDragCheck = function () {\n        if (!this.isMouseDragged && this.taskBarEditAction && ((this.mouseDownX !== this.mouseMoveX) &&\n            ((this.mouseDownX + 3) < this.mouseMoveX || (this.mouseDownX - 3) > this.mouseMoveX)\n            || (this.mouseDownY !== this.mouseMoveY) &&\n                ((this.mouseDownY + 3) < this.mouseMoveY || (this.mouseDownY - 3) > this.mouseMoveY))) {\n            this.isMouseDragged = true;\n            this.parent.initiateEditAction(true);\n            var item = this.taskBarEditRecord.ganttProperties;\n            this.previousItem = this.parent.timelineModule.extendFunction(item, this.previousItemProperty);\n            if (this.taskBarEditAction !== 'ConnectorPointLeftDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                !(this.parent.viewType === 'ResourceView' && this.taskBarEditAction === 'ParentDrag')) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            this.taskBarEditElement.setAttribute('aria-grabbed', 'true');\n        }\n    };\n    /* eslint-disable-next-line */\n    TaskbarEdit.prototype.removeFirstBorder = function (element) {\n        var canremove = this.parent.rowDragAndDropModule['dropPosition'] === 'bottomSegment';\n        if (this.parent.element.getElementsByClassName('e-firstrow-border').length > 0 && element &&\n            (element.getAttribute('aria-rowindex') - 1 !== 0 || canremove)) {\n            this.parent.element.getElementsByClassName('e-firstrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removeLastBorder = function (element) {\n        var isEmptyRow = element && (element.classList.contains('e-emptyrow') || element.classList.contains('e-columnheader')\n            || element.classList.contains('e-detailrow'));\n        var islastRowIndex;\n        if (this.parent.enableVirtualization) {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRows()[this.parent.treeGrid.getCurrentViewRecords().length - 1].getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        else {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRowByIndex(this.parent.treeGrid.getCurrentViewRecords().length - 1).getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        var canremove = islastRowIndex || this.parent.rowDragAndDropModule['dropPosition'] === 'topSegment';\n        if (this.parent.element.getElementsByClassName('e-lastrow-border').length > 0 && element && (islastRowIndex || canremove)) {\n            this.parent.element.getElementsByClassName('e-lastrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removetopOrBottomBorder = function () {\n        var border = [].slice.call(this.parent.element.querySelectorAll('.e-dropbottom, .e-droptop'));\n        if (border.length) {\n            this.addRemoveClasses(border, false, 'e-dropbottom');\n            this.addRemoveClasses(border, false, 'e-droptop');\n        }\n    };\n    TaskbarEdit.prototype.topOrBottomBorder = function (target) {\n        var rowElement;\n        if (this.parent.enableVirtualization) {\n            var gridElement = this.parent.treeGrid.getRows().filter(function (data) {\n                return parseInt(data.getAttribute('aria-rowindex'), 10) - 1 === parseInt(target.getAttribute('aria-rowindex'), 10) - 1;\n            })[0];\n            var index = this.parent.treeGrid.getRows().indexOf(gridElement);\n            rowElement = this.parent.getRowByIndex(index).children;\n        }\n        else {\n            rowElement = this.parent.getRowByIndex(parseInt(target.getAttribute('aria-rowindex'), 10) - 1).children;\n        }\n        if (rowElement) {\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'above') {\n                this.addRemoveClasses(rowElement, true, 'e-droptop');\n                if (this.parent.element.getElementsByClassName('e-lastrow-dragborder').length > 0) {\n                    this.parent.element.getElementsByClassName('e-lastrow-dragborder')[0].remove();\n                }\n            }\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'below') {\n                this.addRemoveClasses(rowElement, true, 'e-dropbottom');\n            }\n        }\n    };\n    TaskbarEdit.prototype.removeChildBorder = function () {\n        var borderElem = [].slice.call(this.parent.element.querySelectorAll('.e-childborder'));\n        if (borderElem.length > 0) {\n            this.addRemoveClasses(borderElem, false, 'e-childborder');\n        }\n    };\n    TaskbarEdit.prototype.addRemoveClasses = function (cells, add, className) {\n        for (var i = 0, len = cells.length; i < len; i++) {\n            if (add) {\n                cells[parseInt(i.toString(), 10)].classList.add(className);\n            }\n            else {\n                cells[parseInt(i.toString(), 10)].classList.remove(className);\n            }\n        }\n    };\n    TaskbarEdit.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-clone-taskbar')[0];\n        var errorelem = document.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                ele.style.paddingTop = this.parent.taskbarHeight + 'px';\n            }\n            dragelem.appendChild(ele);\n        }\n    };\n    TaskbarEdit.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    TaskbarEdit.prototype.ensurePosition = function (draggedRecords, currentRecord) {\n        var _this = this;\n        draggedRecords.filter(function (draggedRecord) {\n            if (draggedRecord.hasChildRecords && !isNullOrUndefined(draggedRecord.childRecords)) {\n                var valid = draggedRecord.childRecords.indexOf(currentRecord);\n                if (valid === -1) {\n                    _this.ensurePosition(draggedRecord.childRecords, currentRecord);\n                }\n                else {\n                    _this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                    _this.addErrorElem();\n                    return;\n                }\n            }\n        });\n    };\n    /**\n     * To handle mouse move action in chart\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseMoveAction = function (event) {\n        var _this = this;\n        if (this.parent.isAdaptive) {\n            if (!this.canDrag) {\n                return;\n            }\n            else {\n                this.multipleSelectionEnabled();\n            }\n        }\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        if (this.parent.enableRtl) {\n            this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n        }\n        else {\n            this.mouseMoveX = e.pageX - containerPosition.left +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        this.mouseMoveY = e.pageY - containerPosition.top +\n            this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.dragMouseLeave = false;\n        var cancel = false;\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag') {\n            var ganttRowElement = void 0;\n            if (this.parent.enableVirtualization) {\n                var index = this.parent.currentViewData.indexOf(this.taskBarEditRecord);\n                ganttRowElement = this.parent.getRowByIndex(index);\n            }\n            else {\n                ganttRowElement = this.parent.getRowByIndex(this.taskBarEditRecord.index);\n            }\n            var eventArgs = {\n                cancel: cancel,\n                cloneElement: this.taskbarElement,\n                data: this.taskBarEditRecord,\n                target: event.target,\n                rows: ganttRowElement\n            };\n            this.parent.trigger('rowDrag', eventArgs);\n            cancel = eventArgs['cancel'];\n        }\n        if (!cancel) {\n            this.isMouseDragCheck();\n        }\n        if (this.isMouseDragged && this.taskBarEditAction) {\n            event.preventDefault();\n            if (!isNullOrUndefined(this.taskbarElement) && !isNullOrUndefined(this.editElement) && (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointLeftDrag') && !(this.parent.viewType === 'ResourceView' && this.currentData.hasChildRecords)) {\n                var currentElement = this.editElement.parentElement;\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') &&\n                    !isNullOrUndefined(this.currentIndex) && !isNullOrUndefined(this.currentIndex) ? Number(this.currentIndex) === 0 : false) {\n                    this.taskbarElement.childNodes[0].childNodes[0].style.setProperty('top', currentElement.parentElement.offsetTop + 'px');\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.parentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                else {\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                if (this.taskBarEditAction !== 'ProgressResizing') {\n                    if (this.parent.enableTimelineVirtualization &&\n                        this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-scroll-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                    else {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-rows-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                }\n            }\n            if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag')) {\n                var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                var xValue = void 0;\n                if (this.parent.enableRtl) {\n                    xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                }\n                else {\n                    xValue = Math.abs(taskbarPosition.left - pointerLeft - 1);\n                }\n                if (!this.isClonedElement && !this.parent.enableRtl) {\n                    xValue = xValue - this.parent.ganttChartModule.scrollElement.scrollLeft;\n                    this.isClonedElement = true;\n                }\n                var rowPositionHeight = 0;\n                this.parent.rowDragAndDropModule['dropPosition'] = undefined;\n                var target = void 0;\n                var yValue = void 0;\n                if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n                    yValue = event['changedTouches'][0].pageY;\n                }\n                else {\n                    yValue = event.y;\n                }\n                if (this.parent.enableRtl) {\n                    target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth, yValue);\n                    if (target.classList.contains('e-taskbar-resize-div')) {\n                        target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth - target['offsetWidth'], yValue);\n                    }\n                }\n                else {\n                    target = document.elementFromPoint(xValue, yValue);\n                }\n                var draggedTreeGridRowElement = void 0;\n                if (this.parent.enableVirtualization) {\n                    if (!this.draggedTreeGridRowElement) {\n                        var currentElement = this.editElement.parentElement;\n                        draggedTreeGridRowElement = currentElement.parentElement;\n                        this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                else {\n                    draggedTreeGridRowElement = this.parent.treeGrid.getRows()[this.parent.flatData.indexOf(this.taskBarEditRecord)];\n                    this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                    if (this.parent.enableMultiTaskbar) {\n                        if (this.taskBarEditRecord.parentItem &&\n                            !isNullOrUndefined(this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId))) {\n                            this.draggedTreeGridRowHeight = this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId).offsetHeight;\n                            if (this.parent.viewType === 'ProjectView' && this.draggedTreeGridRowHeight === 0) {\n                                var nestedParent = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                                while (nestedParent.parentItem) {\n                                    nestedParent = this.parent.getRecordByID(nestedParent.parentItem.taskId);\n                                    this.draggedTreeGridRowHeight = this.parent.getRowByID(nestedParent['TaskID']).offsetHeight;\n                                }\n                            }\n                        }\n                        else {\n                            var currentElement = this.editElement.parentElement;\n                            this.draggedTreeGridRowElement = currentElement.parentElement;\n                            this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                        }\n                    }\n                    else {\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                var chartRowElement_1;\n                if (target) {\n                    chartRowElement_1 = closest(target, 'tr.' + cls.chartRow);\n                }\n                if (chartRowElement_1) {\n                    var droppedTreeGridRowElement = void 0;\n                    if (this.parent.enableVirtualization) {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows().filter(function (data) {\n                            return parseInt(data.getAttribute('aria-rowindex'), 10) - 1 === parseInt(chartRowElement_1.getAttribute('aria-rowindex'), 10) - 1;\n                        })[0];\n                    }\n                    else {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows()[parseInt(chartRowElement_1.getAttribute('aria-rowindex'), 10) - 1];\n                    }\n                    this.removeFirstBorder(droppedTreeGridRowElement);\n                    this.removeLastBorder(droppedTreeGridRowElement);\n                    if (!isNullOrUndefined(droppedTreeGridRowElement) && droppedTreeGridRowElement.getAttribute('data-uid') === this.draggedTreeGridRowElement.getAttribute('data-uid')\n                        || !parentsUntil(target, 'e-chart-rows-container')) {\n                        this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                        this.addErrorElem();\n                    }\n                    var tObj = this.parent;\n                    var rowTop = 0;\n                    var toolHeight = tObj.toolbarModule ?\n                        this.parent.toolbarModule.element.offsetHeight : 0;\n                    var positionOffSet = this.parent.getOffsetRect(tObj.element);\n                    var contentHeight = tObj.treeGrid.getHeaderContent().offsetHeight + positionOffSet.top + toolHeight;\n                    var scrollTop = tObj.treeGrid.getContent().firstElementChild.scrollTop;\n                    if (!isNullOrUndefined(droppedTreeGridRowElement)) {\n                        rowPositionHeight = droppedTreeGridRowElement.offsetTop - scrollTop;\n                    }\n                    if (this.parent.enableVirtualization) {\n                        rowTop = this.parent.getOffsetRect(droppedTreeGridRowElement).top;\n                    }\n                    else {\n                        rowTop = rowPositionHeight + contentHeight;\n                    }\n                    var rowBottom = rowTop + this.draggedTreeGridRowHeight;\n                    var difference = rowBottom - rowTop;\n                    var divide = difference / 3;\n                    var topRowSegment = rowTop + divide;\n                    var middleRowSegment = topRowSegment + divide;\n                    var bottomRowSegment = middleRowSegment + divide;\n                    var posy = (event.type === 'mousemove') ? event.pageY : ((!isNullOrUndefined(event['changedTouches'])) ? event['changedTouches'][0].pageY : null);\n                    var isTopSegment = posy <= topRowSegment;\n                    var isMiddleRowSegment = (posy > topRowSegment && posy <= middleRowSegment);\n                    var isBottomRowSegment = (posy > middleRowSegment && posy <= bottomRowSegment);\n                    if (isTopSegment || isMiddleRowSegment || isBottomRowSegment) {\n                        var rowElement = void 0;\n                        if (this.parent.enableVirtualization) {\n                            var index = this.parent.treeGrid.getRows().indexOf(droppedTreeGridRowElement);\n                            rowElement = this.parent.getRowByIndex(index);\n                        }\n                        else {\n                            rowElement = this.parent.getRowByIndex(parseInt(droppedTreeGridRowElement.getAttribute('aria-rowindex'), 10) - 1);\n                        }\n                        var rowIndex = getValue('rowIndex', rowElement);\n                        var droppedTreeGridRecord = this.parent.flatData[rowIndex];\n                        var isValid = true;\n                        if (this.parent.viewType === 'ResourceView' && !this.taskBarEditRecord.hasChildRecords && !droppedTreeGridRecord.hasChildRecords &&\n                            !isNullOrUndefined(droppedTreeGridRecord.parentItem) &&\n                            this.taskBarEditRecord.parentItem.taskId === droppedTreeGridRecord.parentItem.taskId) {\n                            isValid = false;\n                        }\n                        if (droppedTreeGridRecord) {\n                            this.ensurePosition([this.taskBarEditRecord], droppedTreeGridRecord);\n                        }\n                        if (isValid) {\n                            if (isTopSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'above';\n                                this.removeChildBorder();\n                                this.removeErrorElem();\n                                this.removetopOrBottomBorder();\n                                this.topOrBottomBorder(rowElement);\n                            }\n                            if (isMiddleRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'child';\n                                this.removetopOrBottomBorder();\n                                this.addRemoveClasses(rowElement.children, true, 'e-childborder');\n                            }\n                            if (isBottomRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'below';\n                                this.removetopOrBottomBorder();\n                                this.removeErrorElem();\n                                this.removeChildBorder();\n                                this.removeFirstBorder(droppedTreeGridRowElement);\n                                this.topOrBottomBorder(droppedTreeGridRowElement);\n                            }\n                        }\n                    }\n                }\n            }\n            var args_1 = {\n                cancel: false,\n                requestType: 'taskbarediting',\n                taskBarEditAction: this.taskBarEditAction,\n                data: this.taskBarEditRecord\n            };\n            if (this.segmentIndex !== -1) {\n                args_1.requestType = 'mergeSegment';\n            }\n            this.parent.trigger('actionBegin', args_1, function (arg) {\n                if (args_1.taskBarEditAction === 'ConnectorPointRightDrag' || args_1.taskBarEditAction === 'ConnectorPointLeftDrag'\n                    || args_1.taskBarEditAction === 'LeftResizing' || args_1.taskBarEditAction === 'RightResizing'\n                    || args_1.taskBarEditAction === 'ProgressResizing' || args_1.taskBarEditAction === 'ChildDrag' || args_1.taskBarEditAction === 'ParentDrag' ||\n                    args_1.taskBarEditAction === 'MilestoneDrag' || args_1.taskBarEditAction === 'ManualParentDrag' || args_1.taskBarEditAction === 'ParentResizing') {\n                    _this.parent.showIndicator = false;\n                    if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('Edit')) {\n                        if (_this.parent.undoRedoModule['redoEnabled']) {\n                            _this.parent.undoRedoModule['disableRedo']();\n                        }\n                        var action = {};\n                        if (_this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                        else if (_this.parent.editModule['createArray']) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer' && _this.parent.showIndicator) {\n                    _this.parent.showMaskRow();\n                }\n                else if (_this.parent.showIndicator) {\n                    _this.parent.showSpinner();\n                }\n                if (arg.cancel === false) {\n                    _this.taskBarEditingAction(event, false);\n                }\n            });\n        }\n        else if (!this.parent.isAdaptive && !this.taskBarEditAction) {\n            this.updateTaskBarEditElement(event);\n        }\n    };\n    /**\n     * Method to update taskbar editing action on mous move.\n     *\n     * @param {PointerEvent} e .\n     * @param {boolean} isMouseClick .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditingAction = function (e, isMouseClick) {\n        var _this = this;\n        var args = {};\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        if (this.taskBarEditRecord !== null) {\n            args.editingFields = this.taskBarEditRecord.ganttProperties;\n            args.data = this.taskBarEditRecord;\n            if (this.parent.viewType === 'ResourceView' && args.data.level === 0) {\n                return;\n            }\n            args.recordIndex = recordIndex;\n            args.taskBarEditAction = this.taskBarEditAction;\n            args.roundOffDuration = this.roundOffDuration;\n            args.cancel = false;\n            args.previousData = this.previousItem;\n            args.segmentIndex = this.segmentIndex;\n            this.roundOffDuration = args.roundOffDuration;\n            this.targetElement = args.target = closest(e.target, '.e-gantt-child-taskbar');\n            this.updateMouseMoveProperties(e);\n            if (!this.oldData) {\n                this.oldData = extend([], [], [this.taskBarEditRecord], true)[0];\n            }\n            var segmentIndex = this.segmentIndex !== -1 ? this.segmentIndex : null;\n            if (this.taskBarEditAction === 'ProgressResizing') {\n                this.mainElement = parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer);\n                if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                    segmentIndex = -1;\n                    for (var i = 0; i < this.taskBarEditRecord.ganttProperties.segments.length; i++) {\n                        var resizeGripper = document.getElementsByClassName('e-child-progress-resizer e-progress-resize-gripper')[0]['style'];\n                        var currentWidth = (this.parent.enableRtl ? parseInt(resizeGripper['right'], 10) - 8 : parseInt(resizeGripper['left'], 10) + 8);\n                        if (currentWidth < this.taskBarEditRecord.ganttProperties.segments[i].width && i === 0) {\n                            segmentIndex = i;\n                        }\n                        if (this.taskBarEditRecord.ganttProperties.segments[i + 1] &&\n                            currentWidth < this.taskBarEditRecord.ganttProperties.segments[i + 1].width +\n                                this.taskBarEditRecord.ganttProperties.segments[i + 1].left && currentWidth >\n                            this.taskBarEditRecord.ganttProperties.segments[i + 1].left) {\n                            segmentIndex = i + 1;\n                        }\n                    }\n                }\n                this.performProgressResize(e, segmentIndex);\n            }\n            else if (this.taskBarEditAction === 'LeftResizing') {\n                this.enableLeftResizing(e);\n            }\n            else if (this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ParentResizing') {\n                this.enableRightResizing(e);\n            }\n            else if (this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') {\n                this.enableDragging(e);\n            }\n            else if (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.updateConnectorLineSecondProperties(e);\n                this.triggerDependencyEvent(e);\n                this.drawFalseLine();\n            }\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                var parentClientRect = this.parent.getOffsetRect(this.parent.chartPane);\n                var coordinates = this.getCoordinate(e);\n                var position = { top: coordinates.pageY, left: coordinates.pageX };\n                var pos = { left: Math.abs(position.left - parentClientRect.left), top: position.top - parentClientRect.top };\n                if (this.parent.viewType === 'ResourceView' && this.parent.enableMultiTaskbar) {\n                    var parentRecord = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                    if (!this.parent.allowTaskbarOverlap && this.taskBarEditRecord.parentItem && !parentRecord.expanded) {\n                        var reduceHeight = 0;\n                        if (parseInt(this.editElement['style'].marginTop, 10) > this.parent.rowHeight) {\n                            for (var i = 0; i < parentRecord.childRecords.length; i++) {\n                                if (parentRecord.childRecords[i].ganttProperties.taskId !==\n                                    this.taskBarEditRecord.ganttProperties.taskId) {\n                                    reduceHeight = reduceHeight + this.parent.rowHeight;\n                                }\n                                else {\n                                    break;\n                                }\n                            }\n                            pos.top = pos.top - reduceHeight;\n                        }\n                    }\n                }\n                this.topValue = pos.top;\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (this.parent.enableRtl) {\n                    this.leftValue = pos.left - Math.abs(xValue - (this.parent.getOffsetRect(this.taskBarEditElement).left)) -\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                else {\n                    this.leftValue = pos.left - (xValue - this.parent.getOffsetRect(this.taskBarEditElement).left) +\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                if (this.previousLeftValue === 0) {\n                    if (!this.parent.enableRtl) {\n                        this.leftValue = this.leftValue - this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                    }\n                    else {\n                        this.leftValue = this.leftValue - (this.parent.ganttChartModule.scrollObject.previousScroll.left);\n                        if (this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                            this.leftValue = this.leftValue - 60;\n                        }\n                    }\n                }\n                this.previousLeftValue = xValue;\n            }\n            else {\n                this.leftValue = this.taskBarEditRecord.ganttProperties.left;\n            }\n            this.currentSegmentIndex = segmentIndex;\n            this.setItemPosition();\n            this.updateEditedItem();\n            this.tooltipValue = (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') ? e['changedTouches'][0].pageX : e.pageX;\n            if ((!this.taskBarEditRecord.ganttProperties.segments || segmentIndex !== -1)) {\n                this.editTooltip.updateTooltip(segmentIndex);\n            }\n            if (isMouseClick) {\n                this.taskBarEditedAction(e);\n            }\n            this.parent.trigger('taskbarEditing', args, function (arg) {\n                if (arg.cancel && _this.taskBarEditRecord !== null) {\n                    _this.tapPointOnFocus = false;\n                    merge(_this.taskBarEditRecord.ganttProperties, arg.previousData);\n                }\n            });\n        }\n    };\n    /**\n     * To update property while perform mouse move.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseMoveProperties = function (event) {\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            if (this.parent.enableRtl) {\n                this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseMoveX = e.pageX - containerPosition.left +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseMoveX;\n            this.mouseMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        var isConnectorLineEdit = (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') ?\n            true : false;\n        if (((this.taskBarEditRecord.ganttProperties.width > 3 || this.taskBarEditRecord.ganttProperties.isMilestone) && !(this.taskBarEditAction === 'ProgressResizing' &&\n            (this.taskBarEditRecord.ganttProperties.progress === 0 || this.taskBarEditRecord.ganttProperties.progress === 100))) ||\n            isConnectorLineEdit) {\n            var mouseX = 0;\n            if (this.parent.enableRtl) {\n                mouseX = Math.abs(Math.abs(this.mouseMoveX) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left) +\n                    containerPosition.left);\n            }\n            else {\n                mouseX = this.mouseMoveX - this.parent.ganttChartModule.scrollObject.previousScroll.left +\n                    containerPosition.left;\n            }\n            var mouseY = this.mouseMoveY - this.parent.ganttChartModule.scrollObject.previousScroll.top +\n                containerPosition.top;\n            if ((mouseX + 20) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX + 40) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth && this.parent.enableRtl &&\n                this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                this.parent.ganttChartModule.scrollObject.previousScroll.left = -1;\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX - 20) < containerPosition.left) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('left');\n            }\n            else if (((mouseY + 80) >\n                containerPosition.top + this.parent.ganttChartModule.chartBodyContainer.offsetHeight)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('bottom');\n            }\n            else if (((mouseY - 20) < containerPosition.top)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('top');\n            }\n            else {\n                this.stopScrollTimer();\n            }\n        }\n        else {\n            this.stopScrollTimer();\n        }\n    };\n    /**\n     * To start the scroll timer.\n     *\n     * @param {string} direction .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.startScrollTimer = function (direction) {\n        var _this = this;\n        this.stopScrollTimer();\n        var leftSign = 0;\n        this.scrollTimer = window.setInterval(function () {\n            if (Math.sign(_this.timerCount) === -1) {\n                leftSign = -1;\n                _this.timerCount = Math.abs(_this.timerCount);\n            }\n            if (direction === 'right') {\n                var timelineWidth = _this.parent.enableTimelineVirtualization ?\n                    _this.parent.timelineModule.wholeTimelineWidth : _this.parent.timelineModule.totalTimelineWidth;\n                _this.timerCount = (_this.timerCount + 1) >= timelineWidth ?\n                    timelineWidth : (_this.timerCount + 1);\n            }\n            else if (direction === 'bottom') {\n                _this.timerCount = _this.timerCount + 1;\n            }\n            else {\n                _this.timerCount = (_this.timerCount - 1) < 0 ? 0 : (_this.timerCount - 1);\n            }\n            if (direction === 'bottom' || direction === 'top') {\n                _this.parent.ganttChartModule.scrollObject.setScrollTop(_this.timerCount);\n            }\n            else {\n                _this.parent.ganttChartModule.scrollObject.setScrollLeft(_this.timerCount, leftSign);\n            }\n            if (_this.taskBarEditAction === 'ConnectorPointLeftDrag'\n                || _this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                _this.drawFalseLine();\n            }\n        }, 0);\n    };\n    /**\n     * To stop the scroll timer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.stopScrollTimer = function () {\n        window.clearInterval(this.scrollTimer);\n        this.scrollTimer = null;\n    };\n    /**\n     * To update left and width while perform taskbar drag operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.enableDragging = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var timelineWidth = this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') &&\n            !this.taskBarEditElement.classList.contains('e-segment-first')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left - differenceWidth;\n            }\n            else {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left + differenceWidth;\n            }\n            var previousSegment = segments[this.segmentIndex - 1];\n            var nextSegment = segments[this.segmentIndex + 1];\n            var left = void 0;\n            if (this.taskBarEditElement.classList.contains('e-segment-inprogress')) {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    ((segment.width + segment.left) > (nextSegment.left)) ? nextSegment.left - segment.width : segment.left;\n            }\n            else {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    (item.left + segment.width + segment.left) >= timelineWidth ?\n                        (timelineWidth - segment.width) : segment.left;\n            }\n            segment.left = left;\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = this.mouseDownX - this.mouseMoveX;\n                if (differenceWidth > 0) {\n                    this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                }\n            }\n            else {\n                differenceWidth = this.mouseMoveX - this.mouseDownX;\n                this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n            }\n            var left = item.left < 0 ? 0 : (item.left + item.width) >= timelineWidth ?\n                (timelineWidth - item.width) : item.left;\n            this.parent.setRecordValue('left', left, item, true);\n        }\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.validateProgressWidth = function (item, progressWidth, totalTaskWidth) {\n        var reduceWidth = 0;\n        if (this.currentSegmentIndex !== -1 && item.segments) {\n            var startIndex = this.currentSegmentIndex >= this.segmentIndex ? 0 : this.currentSegmentIndex !== 0 ?\n                this.currentSegmentIndex : -1;\n            var endIndex = this.currentSegmentIndex >= this.segmentIndex ? this.currentSegmentIndex : this.segmentIndex;\n            if (startIndex !== -1) {\n                for (var i = startIndex; i < endIndex; i++) {\n                    reduceWidth = (item.segments[i + 1].left) - (item.segments[i].left + item.segments[i].width);\n                    progressWidth = progressWidth - reduceWidth;\n                }\n            }\n        }\n        var totalWidth = 0;\n        if (item.segments && item.segments.length > 0) {\n            totalTaskWidth = this.splitTasksDuration(item.segments) * this.parent.perDayWidth;\n            totalWidth = item.segments.reduce(function (width, segment) {\n                return width + segment.width;\n            }, 0);\n            totalTaskWidth = totalWidth;\n        }\n        if (progressWidth > totalTaskWidth) {\n            progressWidth = totalTaskWidth;\n        }\n        return { progressWidth: progressWidth, totalTaskWidth: totalTaskWidth };\n    };\n    /**\n     * To update left and width while perform progress resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.performProgressResize = function (e, segmentIndex) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        var prevProgress = item.progressWidth;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width)) && item.left > 0) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX >= (item.left + item.width)) {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width))) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX <= item.left) {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n            }\n        }\n        var widthValue = item.progressWidth > item.width ?\n            item.width : item.progressWidth;\n        widthValue = item.progressWidth < 0 ? 0 : item.progressWidth;\n        if (segmentIndex !== -1 || !segmentIndex) {\n            this.parent.setRecordValue('progressWidth', widthValue, item, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', prevProgress, item, true);\n        }\n        this.progressValue = widthValue;\n        var diff = item.width - item.progressWidth;\n        if (diff <= 4) {\n            this.progressBorderRadius = 4 - diff;\n        }\n        else {\n            this.progressBorderRadius = 0;\n        }\n    };\n    /**\n     * To update left and width while perform taskbar left resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableLeftResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            this.enableSplitTaskLeftResize(item);\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    if (item.left > 0) {\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                    }\n                }\n                else {\n                    if (this.mouseMoveX > (item.left + item.width)) {\n                        differenceWidth = this.mouseDownX - this.mouseMoveX;\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    if ((item.left) < (item.left + item.width) &&\n                        ((this.previousItem.left + differenceWidth) <= (this.previousItem.left + this.previousItem.width))) {\n                        this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                    }\n                }\n                else {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', 3, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n            this.parent.setRecordValue('left', (this.previousItem.left + this.previousItem.width - item.width), item, true);\n        }\n    };\n    TaskbarEdit.prototype.enableSplitTaskLeftResize = function (item) {\n        var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n        var segment = segments[this.segmentIndex];\n        var differenceWidth = 0;\n        //when decrease the left and increase the width\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX < (item.left + segment.width + segment.left)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                // when resize other than 0th segment\n                if (segment.left > 0) {\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = segment.width + differenceWidth;\n                    if (this.segmentIndex !== 0) {\n                        var previousSegment = segments[this.segmentIndex - 1];\n                        if ((item.left + segment.left) < (item.left + previousSegment.left + previousSegment.width)) {\n                            var difference = (item.left + previousSegment.left + previousSegment.width) - (item.left + segment.left);\n                            segment.width -= difference;\n                            segment.left = segment.left + difference;\n                        }\n                    }\n                }\n                else if (segment.left <= 0 && this.segmentIndex === 0) {\n                    this.parent.setRecordValue('left', item.left - differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width + differenceWidth, item, true);\n                    segment.width = segment.width + differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_1 = segments[i];\n                        segment_1.left = segment_1.left + differenceWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > (item.left + segment.width + segment.left)) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = this.parent.perDayWidth;\n                }\n            }\n        }\n        else {\n            // when increase left value and decrease width of segment\n            if (this.mouseMoveX < (item.left + segment.width + segment.left - this.parent.perDayWidth)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                // when decrease the first segment width\n                if (this.segmentIndex === 0 && segment.left <= 0) {\n                    this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                    segment.width = segment.width - differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_2 = segments[i];\n                        segment_2.left = segment_2.left - differenceWidth;\n                    }\n                    // when decrease remaining segments\n                }\n                else if ((segment.left) < (segment.left + segment.width) &&\n                    ((segment.left + differenceWidth) <= (segment.left + segment.width))) {\n                    segment.left = segment.left + differenceWidth;\n                    segment.width = segment.width - differenceWidth;\n                }\n                // when mouse move goes beyond one day width of task bar.\n            }\n            else {\n                if (this.mouseMoveX < (item.left + segment.left + segment.width)) {\n                    if (segment.width > this.parent.perDayWidth) {\n                        differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                            (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                        this.previousMouseMove = this.mouseMoveX;\n                        var singleDayDifference = (segment.width - differenceWidth) < this.parent.perDayWidth ?\n                            this.parent.perDayWidth > segment.width ?\n                                this.parent.perDayWidth - segment.width : segment.width - this.parent.perDayWidth : 0;\n                        differenceWidth -= singleDayDifference;\n                        if (this.segmentIndex === 0) {\n                            this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                            this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                            segment.width = segment.width - differenceWidth;\n                            for (var i = 1; i < item.segments.length; i++) {\n                                var segment_3 = segments[i];\n                                segment_3.left = segment_3.left - differenceWidth;\n                            }\n                        }\n                        else {\n                            segment.left = segment.left + differenceWidth;\n                            segment.width = segment.width - differenceWidth;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent.setRecordValue('segments', segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * Update mouse position and edited item value\n     *\n     * @param {PointerEvent} e .\n     * @param {ITaskData} item .\n     * @returns {void} .\n     */\n    TaskbarEdit.prototype.updateEditPosition = function (e, item) {\n        this.updateIsMilestone(item);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(item.width, item.progress), item, true);\n    };\n    /**\n     *  To update milestone property.\n     *\n     * @param {ITaskData} item .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateIsMilestone = function (item) {\n        if (item.width <= 3) {\n            this.parent.setRecordValue('width', 3, item, true);\n            this.parent.setRecordValue('isMilestone', true, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, this.taskBarEditRecord, true);\n            }\n        }\n        else {\n            this.parent.setRecordValue('width', item.width, item, true);\n            this.parent.setRecordValue('isMilestone', false, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, false, this.taskBarEditRecord, true);\n            }\n        }\n    };\n    /**\n     * To update left and width while perform taskbar right resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableRightResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > (item.left + segment.left) && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width - differenceWidth;\n                }\n                else {\n                    if (this.mouseMoveX < (item.left + segment.left)) {\n                        var segmentWidth = (this.parent.timelineModule.isSingleTier &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Minutes')) ||\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes') ?\n                            this.parent.timelineModule.customTimelineSettings.timelineUnitSize :\n                            this.parent.perDayWidth;\n                        segment.width = segmentWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > segment.left) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width + differenceWidth;\n                }\n            }\n            var width = void 0;\n            var nextSegment = this.segmentIndex !== segments.length - 1 ? segments[this.segmentIndex + 1] : null;\n            if (!isNullOrUndefined(nextSegment)) {\n                if (!this.taskBarEditElement.classList.contains('e-segment-last')) {\n                    width = (segment.left + segment.width) > nextSegment.left ? (nextSegment.left - segment.left) : segment.width;\n                }\n                segment.width = width;\n            }\n            if (this.segmentIndex === item.segments.length - 1) {\n                if (this.segmentIndex === 0) {\n                    this.parent.setRecordValue('width', segment.width, item, true);\n                }\n            }\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > item.left && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                }\n                else {\n                    if (this.mouseMoveX < item.left) {\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > item.left) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n        }\n    };\n    /**\n     * To updated startDate and endDate while perform taskbar edit operation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateEditedItem = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var left;\n        var projectStartDate;\n        var endDate;\n        var startDate;\n        switch (this.taskBarEditAction) {\n            case 'ProgressResizing':\n                {\n                    var progressWidth = item.progressWidth;\n                    var totalTaskWidth = item.width;\n                    var updatedValues = this.validateProgressWidth(item, progressWidth, totalTaskWidth);\n                    this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), item, true);\n                    break;\n                }\n            case 'LeftResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n                    projectStartDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.endDate)) {\n                        endDate = this.parent.dateValidationModule.getValidEndDate(item);\n                        this.parent.setRecordValue('endDate', endDate, item, true);\n                    }\n                    startDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                    this.parent.setRecordValue('startDate', new Date(startDate.getTime()), item, true);\n                    if (this.parent.dateValidationModule.compareDates(item.startDate, item.endDate) === 0\n                        && isNullOrUndefined(item.isMilestone) && item.isMilestone === false && item.duration === 0) {\n                        this.parent.setRecordValue('duration', 1, item, true);\n                    }\n                    if (item.isMilestone) {\n                        this.parent.setRecordValue('endDate', new Date(startDate.getTime()), item, true);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitLeftResize(item);\n                }\n                break;\n            case 'RightResizing':\n            case 'ParentResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n                    var tempEndDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.startDate)) {\n                        startDate = this.parent.dateValidationModule.getValidStartDate(item);\n                        this.parent.setRecordValue('startDate', startDate, item, true);\n                    }\n                    var tempdate = isNullOrUndefined(item.startDate) ? startDate : item.startDate;\n                    endDate = item.isMilestone ? tempdate :\n                        this.parent.dateValidationModule.checkEndDate(tempEndDate, this.taskBarEditRecord.ganttProperties);\n                    this.parent.setRecordValue('endDate', new Date(endDate.getTime()), item, true);\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitRightResizing(item);\n                }\n                break;\n            case 'ParentDrag':\n            case 'ChildDrag':\n            case 'MilestoneDrag':\n            case 'ManualParentDrag':\n                if (this.segmentIndex === -1 || this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop)) {\n                    this.updateChildDrag(item);\n                }\n                else {\n                    this.setSplitTaskDrag(item);\n                }\n                break;\n        }\n        if (!isNullOrUndefined(this.taskBarEditRecord.ganttProperties.segments)) {\n            this.parent.chartRowsModule.updateSegment(this.taskBarEditRecord.ganttProperties.segments, this.taskBarEditRecord.ganttProperties.taskId);\n        }\n    };\n    TaskbarEdit.prototype.updateChildDrag = function (item) {\n        var left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left, item.isMilestone, item);\n        var endDate;\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n            item.segments[0].startDate = projectStartDate;\n            item.segments[0].endDate = this.parent.dataOperation.getEndDate(item.segments[0].startDate, item.segments[0].duration, item.durationUnit, item, false);\n            this.parent.setRecordValue('segments', item.segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n            this.parent.chartRowsModule.incrementSegments(item.segments, 0, this.taskBarEditRecord);\n            this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, item.segments, this.taskBarEditRecord, true);\n        }\n        else {\n            if (!isNullOrUndefined(item.endDate) && isNullOrUndefined(item.startDate)) {\n                endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.taskBarEditRecord.ganttProperties);\n                this.parent.setRecordValue('endDate', endDate, item, true);\n            }\n            else {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n                if (!isNullOrUndefined(item.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(this.taskBarEditRecord);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.updateSplitLeftResize = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.segmentIndex === 0 ? this.getRoundOffStartLeft(item, this.roundOffDuration) :\n            this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        var startDate = this.parent.dataOperation.checkStartDate(projectStartDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.startDate = new Date(startDate.getTime());\n        segment.duration = duration;\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', segment.startDate, item, true);\n        }\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var segmentOffsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    TaskbarEdit.prototype.updateSplitRightResizing = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n        var tempEndDate = this.getDateByLeft(left);\n        var endDate = this.parent.dataOperation.checkEndDate(tempEndDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.endDate = new Date(endDate.getTime());\n        segment.duration = duration;\n        // update next segment offset duration\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var segmentOffset = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffset;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n    };\n    TaskbarEdit.prototype.sumOfDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            duration += segment.duration;\n        }\n        return duration;\n    };\n    TaskbarEdit.prototype.setSplitTaskDrag = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        projectStartDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n        segment.startDate = projectStartDate;\n        var segmentDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, item.durationUnit, item, false);\n        if (item.segments[this.segmentIndex + 1] && segmentDate.getTime() > item.segments[this.segmentIndex + 1].startDate.getTime()) {\n            segment.endDate = item.segments[this.segmentIndex + 1].startDate;\n        }\n        else {\n            segment.endDate = segmentDate;\n        }\n        segment.duration = this.parent.dataOperation.getDuration(segment.startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'endDate');\n        }\n        //set offset if previous record present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (segment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            segment.offsetDuration = offsetDuration;\n        }\n        //set next record  offset if present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (nextSegment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            nextSegment.offsetDuration = offsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * To get roundoff enddate.\n     *\n     * @param {ITaskData} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffEndLeft = function (ganttRecord, isRoundOff) {\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var totalLeft = ganttRecord.width + ganttRecord.left;\n        if (this.segmentIndex !== -1 && ganttRecord.segments.length > 1) {\n            var segment = ganttRecord.segments[this.segmentIndex];\n            totalLeft = totalLeft - ganttRecord.width + segment.width + segment.left;\n        }\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainingLeft = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var positionValue = remainingLeft / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (positionValue > 0.5) {\n                    totalLeft = totalLeft - remainingLeft + this.parent.perDayWidth;\n                }\n                else if (positionValue < 0.5) {\n                    totalLeft = (totalLeft - remainingLeft) + (this.parent.perDayWidth / 2);\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                var inHour = (this.parent.perDayWidth / 24);\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Hour') / (1000 * 60 * 60)));\n                remainingLeft = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inHour;\n                }\n            }\n            else if (tierMode === 'Minutes') {\n                var inMinutes = (this.parent.perDayWidth / (24 * 60));\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Minutes') / (1000 * 60)));\n                remainingLeft = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inMinutes;\n                }\n            }\n            else {\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + this.parent.perDayWidth;\n                }\n            }\n        }\n        return totalLeft;\n    };\n    /**\n     * To get roundoff startdate.\n     *\n     * @param {ITaskData | ITaskSegment} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffStartLeft = function (ganttRecord, isRoundOff) {\n        var left = isNullOrUndefined(ganttRecord) ? ganttRecord.left\n            : ganttRecord.left;\n        if (this.segmentIndex !== -1 && isNullOrUndefined(ganttRecord.segments)) {\n            left = ganttRecord.left + this.taskBarEditRecord.ganttProperties.left;\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left, isNullOrUndefined(ganttRecord) ? ganttRecord.isMilestone : null, ganttRecord), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainDays = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var remainDaysInDecimal = remainDays / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (remainDaysInDecimal <= 0.5) {\n                    left = left - remainDays;\n                }\n                else if (remainDaysInDecimal > 0.5) {\n                    left = (left - remainDays) + this.parent.perDayWidth / 2;\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Hour') / (1000 * 60 * 60)));\n                remainDays = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                left = left - remainDays;\n            }\n            else if (tierMode === 'Minutes') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Minutes') / (1000 * 60)));\n                remainDays = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                left = left - remainDays;\n            }\n            else {\n                left = left - remainDays;\n            }\n        }\n        return left;\n    };\n    /**\n     * To get date by left value.\n     *\n     * @param {number} left .\n     * @param {boolean} isMilestone .\n     * @param {ITaskData} property .\n     * @returns {Date} .\n     * @private\n     */\n    TaskbarEdit.prototype.getDateByLeft = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            //  pStartDate.setDate(pStartDate.getDate() -1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            // else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && this.parent.isInDst(pStartDate)) {\n            //     pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            // }\n        }\n        return pStartDate;\n    };\n    /**\n     * To set item position.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.setItemPosition = function () {\n        if (!isNullOrUndefined(this.editElement)) {\n            var currentElement = this.editElement.parentElement;\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction === 'ChildDrag') {\n                currentElement.style.position = null;\n            }\n            else {\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n            }\n        }\n        var item = this.taskBarEditRecord.ganttProperties;\n        var position = this.parent.enableRtl ? 'right' : 'left';\n        var segment = !isNullOrUndefined(item.segments) ? item.segments[this.segmentIndex] : null;\n        var width = this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone ?\n            this.parent.chartRowsModule.milestoneHeight : item.width;\n        var rightResizer = this.parent.isAdaptive ? (width - 2) : (width - 10);\n        if (!isNullOrUndefined(segment)) {\n            rightResizer = this.parent.isAdaptive ? (segment.width - 2) : (segment.width - 10);\n        }\n        this.taskBarEditElement.style.setProperty('opacity', '.75');\n        var taskBarMainContainer;\n        if (this.parent.allowTaskbarDragAndDrop && !item.isAutoSchedule && this.taskBarEditRecord.hasChildRecords) {\n            taskBarMainContainer = this.taskBarEditElement;\n        }\n        else {\n            taskBarMainContainer = (!this.taskBarEditElement.classList.contains(cls.taskBarMainContainer)) ? ((this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'LeftResizing') && this.segmentIndex === 0) ? this.taskBarEditElement.parentElement : closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n                .querySelector('.' + cls.taskBarMainContainer) : this.taskBarEditElement;\n        }\n        var segmentedTaskBarContainer = (this.taskBarEditElement.classList.contains('e-segmented-taskbar') ||\n            this.taskBarEditElement.querySelector('.e-segmented-taskbar')) ? true : false;\n        var traceChildProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceChildProgressBar);\n        var traceChildTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceChildTaskBar);\n        var childProgressResizer = segmentedTaskBarContainer ? parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer).querySelector('.' + cls.childProgressResizer) : this.taskBarEditElement.querySelector('.' + cls.childProgressResizer);\n        var taskBarRightResizer = this.taskBarEditElement.querySelector('.' + cls.taskBarRightResizer);\n        var traceParentTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceParentTaskBar);\n        var traceParentProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceParentProgressBar);\n        var traceConnectorPointRight = this.taskBarEditElement.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var segmentConnectorPointRight = taskBarMainContainer.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var manualParentTaskbar = this.taskBarEditElement;\n        var manualTaskbar = this.taskBarEditElement.querySelector('.' + cls.manualParentTaskBar);\n        var manualParentRight = this.taskBarEditElement.querySelector('.' + cls.manualParentRightResizer);\n        var manualParentLeft = this.taskBarEditElement.querySelector('.' + cls.manualParentLeftResizer);\n        var resizeLine = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (this.parent.allowTaskbarDragAndDrop && !this.updatePosition) {\n            this.leftValue = this.leftValue + 30;\n            this.updatePosition = true;\n        }\n        if (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n            this.taskBarEditAction !== 'ConnectorPointLeftDrag') {\n            if (this.taskBarEditAction !== 'ParentResizing' && this.taskBarEditAction !== 'ManualParentDrag') {\n                if (segmentedTaskBarContainer && !isNullOrUndefined(item.segments)\n                    && (this.taskBarEditAction === 'RightResizing' || this.segmentIndex !== 0)) {\n                    if (!isNullOrUndefined(resizeLine)) {\n                        if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag' &&\n                            this.taskBarEditAction !== 'ParentDrag')) {\n                            resizeLine.style.width = (segment.width) + 'px';\n                        }\n                    }\n                    this.taskBarEditElement.style.width = (segment.width) + 'px';\n                    if (this.parent.enableRtl) {\n                        this.taskBarEditElement.style.right = (segment.left) + 'px';\n                    }\n                    else {\n                        this.taskBarEditElement.style.left = (segment.left) + 'px';\n                        if (!isNullOrUndefined(resizeLine)) {\n                            if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag'\n                                && this.taskBarEditAction !== 'ParentDrag')) {\n                                resizeLine.style.left = (segment.left + this.editElement.parentElement.offsetLeft) + 'px';\n                            }\n                        }\n                    }\n                }\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left)) + 'px');\n                taskBarMainContainer.style.width = (width) + 'px';\n                if (segmentedTaskBarContainer && segmentConnectorPointRight) {\n                    segmentConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n                if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'LeftResizing' &&\n                    this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    var addTop = this.parent.taskbarHeight / 2;\n                    taskBarMainContainer.style.setProperty('top', (this.topValue + addTop) + 'px');\n                    taskBarMainContainer.style.zIndex = '4';\n                }\n                if (this.taskBarEditAction === 'LeftResizing' && this.segmentIndex === 0) {\n                    this.taskBarEditElement.style.setProperty('opacity', '.75');\n                    var parent_1 = this.taskBarEditElement.parentElement;\n                    var segmentedTasks = parent_1.getElementsByClassName('e-segmented-taskbar');\n                    for (var i = 0; i < item.segments.length; i++) {\n                        var segment_4 = item.segments[i];\n                        var segmentElement = segmentedTasks[i];\n                        segmentElement.style.width = (segment_4.width) + 'px';\n                        if (item.segments.length === 1) {\n                            resizeLine.style.width = (segment_4.width) + 'px';\n                            resizeLine.style.setProperty(position, (item.left) + 'px');\n                        }\n                        else {\n                            if (i === 0) {\n                                resizeLine.style.width = (segment_4.width) + 'px';\n                                resizeLine.style.setProperty(position, (segment_4.left + item.left) + 'px');\n                            }\n                            if (this.parent.enableRtl) {\n                                segmentElement.style.right = (segment_4.left) + 'px';\n                            }\n                            else {\n                                segmentElement.style.left = (segment_4.left) + 'px';\n                            }\n                        }\n                    }\n                }\n                if (this.taskBarEditAction === 'ChildDrag' && (this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop))) {\n                    resizeLine.style.width = (width) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    taskBarMainContainer.style.setProperty('opacity', '.75');\n                }\n            }\n            if (traceConnectorPointRight) {\n                if (this.parent.enableRtl) {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width - 2)) + 'px';\n                }\n                else {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'LeftResizing') {\n                traceConnectorPointRight.style.left = (width - 2) + 'px';\n            }\n            if (childProgressResizer && traceChildProgressBar && (this.taskBarEditAction === 'LeftResizing' || this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag')) {\n                childProgressResizer.style.display = 'none';\n                traceChildProgressBar.style.display = 'none';\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'ProgressResizing') {\n                traceConnectorPointRight.style.display = 'none';\n            }\n            if (this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone) {\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left - (width / 2))) + 'px');\n                resizeLine.style.setProperty(position, (item.left - (width / 2)) + 'px');\n                resizeLine.style.width = (width) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ProgressResizing') {\n                if (this.segmentIndex === -1) {\n                    traceChildTaskBar.style.setProperty(position, (item.left + item.progressWidth - 10) + 'px');\n                    if (!isNullOrUndefined(traceChildProgressBar)) {\n                        traceChildProgressBar.style.width = item.progressWidth + 'px';\n                        traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                        traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                        var width_1 = this.parent.enableRtl ? item.progressWidth + 8 : item.progressWidth - 8;\n                        childProgressResizer.style.setProperty(position, width_1 + 'px');\n                    }\n                }\n                else {\n                    this.updateSegmentProgress(this.taskBarEditRecord.ganttProperties);\n                    var progressElements = taskBarMainContainer.querySelectorAll('.e-gantt-child-progressbar');\n                    for (var count = 0; count < progressElements.length; count++) {\n                        if (item.segments[count] && item.segments[count].progressWidth && this.segmentIndex !== count) {\n                            progressElements[count]['style'].display = 'block';\n                            progressElements[count].style.width = item.segments[count].progressWidth + 'px';\n                        }\n                    }\n                    traceChildProgressBar.style.width = item.segments[this.segmentIndex].progressWidth + 'px';\n                    traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                    traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                    var width_2 = this.parent.enableRtl ? this.progressValue + 8 : this.progressValue - 8;\n                    childProgressResizer.style.setProperty(position, width_2 + 'px');\n                }\n            }\n            else if (this.taskBarEditAction === 'RightResizing' && !isNullOrUndefined(traceChildTaskBar)) {\n                resizeLine.style.width = (width) + 'px';\n                traceChildTaskBar.style.width = (width) + 'px';\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentDrag') {\n                resizeLine.style.setProperty(position, item.left + 'px');\n                resizeLine.style.width = (width) + 'px';\n                resizeLine.style.width = (item.width) + 'px';\n                if (!isNullOrUndefined(traceParentTaskBar)) {\n                    traceParentTaskBar.style.width = (width) + 'px';\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar) && !isNullOrUndefined(traceParentProgressBar)) {\n                    traceParentProgressBar.style.width = (item.progressWidth) + 'px';\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentResizing') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty('width', (item.width) + 'px');\n                manualTaskbar.style.setProperty('width', (item.width) + 'px');\n                this.editElement.parentElement.style.setProperty('width', (item.width) + 'px');\n            }\n            else if (this.taskBarEditAction === 'ManualParentDrag') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty(position, item.left - item.autoLeft + 'px');\n                if (this.parent.allowTaskbarDragAndDrop) {\n                    manualParentTaskbar.style.setProperty(position, this.leftValue + 'px');\n                    manualParentTaskbar.style.setProperty('top', (this.topValue) + 'px');\n                    manualParentTaskbar.style.zIndex = '4';\n                }\n            }\n            else {\n                if (!isNullOrUndefined(traceChildTaskBar) && !segmentedTaskBarContainer) {\n                    traceChildTaskBar.style.width = (item.width) + 'px';\n                    traceChildTaskBar.style.left = (item.left) + 'px';\n                    this.taskBarEditElement.style.width = (item.width) + 'px';\n                    this.taskBarEditElement.style.left = ((this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left))) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n                if (segmentedTaskBarContainer) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (segment.width) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, segment.width - 10 + 'px');\n                    }\n                }\n            }\n        }\n        if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag')) {\n            var resizeValue = this.parent.enableRtl ? parseInt(resizeLine.style.right, 10) : parseInt(resizeLine.style.left, 10);\n            if (this.parent.enableRtl) {\n                resizeLine.style.right = (resizeValue - 30) + 'px';\n            }\n            else {\n                resizeLine.style.left = (resizeValue + 30) + 'px';\n            }\n        }\n    };\n    /**\n     * To handle mouse up event in chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseUpHandler = function (e) {\n        var mouseDragged = this.isMouseDragged;\n        this.previousMouseMove = null;\n        this.leftValue = 0;\n        this.previousLeftValue = 0;\n        this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n        if (this.taskBarEditAction && this.isMouseDragged) {\n            if ((!this.dragMouseLeave && this.taskBarEditedAction) || (this.parent.allowTaskbarDragAndDrop)) {\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    var coordinates = this.getCoordinate(e);\n                    this['droppedTarget'] = document.elementFromPoint(coordinates.pageX, coordinates.pageY);\n                }\n                else {\n                    if (this.taskBarEditRecord.hasChildRecords && !this.taskBarEditRecord.ganttProperties.isAutoSchedule) {\n                        var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                        var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                        var xValue = void 0;\n                        if (this.parent.enableRtl) {\n                            xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                        }\n                        else {\n                            xValue = Math.abs(Math.abs(taskbarPosition.left - pointerLeft - 1) -\n                                this.parent.ganttChartModule.scrollElement.scrollLeft);\n                        }\n                        this['droppedTarget'] = document.elementFromPoint(xValue, e.y);\n                    }\n                    else {\n                        this['droppedTarget'] = document.elementFromPoint(e.x, e.y);\n                    }\n                    if (this['droppedTarget'] && this['droppedTarget'].classList.contains('e-span-label')) {\n                        this['droppedTarget'] = document.elementFromPoint(e.x + this['droppedTarget']['offsetWidth'], e.y);\n                    }\n                }\n                this.previousIds = this.parent.ids.slice();\n                this.previousFlatData = this.parent.flatData.slice();\n                this.taskBarEditedAction(e);\n                this.isMouseDragged = false;\n            }\n            else {\n                this.parent.isOnEdit = false;\n                this.cancelTaskbarEditActionInMouseLeave();\n                var criticalModule = this.parent.criticalPathModule;\n                if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                    criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                }\n            }\n        }\n        if (this.parent.enableMultiTaskbar && !isNullOrUndefined(this.taskBarEditElement)) {\n            if (!isNullOrUndefined(this.taskBarEditElement.querySelector('.e-gantt-child-taskbar'))) {\n                if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar').classList.contains('e-collapsed-taskbar-drag')) {\n                    removeClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                    this.taskBarEditElement.style.zIndex = this.prevZIndex;\n                    this.prevZIndex = '';\n                }\n            }\n        }\n        if (!this.parent.isAdaptive || mouseDragged) {\n            this.initPublicProp();\n        }\n        this.stopScrollTimer();\n    };\n    /**\n     * To perform taskbar edit operation.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditedAction = function (event) {\n        var args = {};\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var item = this.taskBarEditRecord;\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        var x2 = this.mouseMoveX;\n        var e = this.getCoordinate(event);\n        var resMouseY = e.pageY - this.parent.ganttChartModule.chartBodyContainer.offsetTop;\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && !this.drawPredecessor) {\n            this.dependencyCancel = true;\n        }\n        var parentRecord = [];\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && this.drawPredecessor && (!this.connectorSecondRecord.hasChildRecords ||\n            this.connectorSecondRecord.hasChildRecords && this.parent.allowParentDependency)) {\n            parentRecord.push(extend([], [], [this.taskBarEditRecord], true)[0]);\n            if (this.parent.undoRedoModule) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            this.parent.connectorLineEditModule.updatePredecessor(this.connectorSecondRecord, this.finalPredecessor);\n        }\n        else {\n            if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') || (this.oldData && JSON.stringify(item.ganttProperties) === JSON.stringify(this.oldData.ganttProperties))) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent['totalUndoAction']--;\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n                    }\n                }\n            }\n            else {\n                if (this.parent.undoRedoModule && this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            if (x1 !== x2 || (Math.abs(y1 - resMouseY) >= (this.parent.rowHeight - this.parent.taskbarHeight) / 2)) {\n                if (item !== null) {\n                    args.editingFields = item.ganttProperties;\n                    args.data = item;\n                    args.recordIndex = recordIndex;\n                    args.previousData = this.previousItem;\n                    args.taskBarEditAction = this.taskBarEditAction;\n                    args.action = 'TaskbarEditing';\n                    args.roundOffDuration = this.roundOffDuration;\n                    args.target = this.targetElement;\n                    this.taskbarEditedArgs = args;\n                    this.taskbarEdited(args);\n                }\n            }\n        }\n        this.parent['isProjectDateUpdated'] = false;\n    };\n    /**\n     * To cancel the taskbar edt action.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.cancelTaskbarEditActionInMouseLeave = function () {\n        this.parent.editModule.reUpdatePreviousRecords(true);\n    };\n    TaskbarEdit.prototype.updateSegmentProgress = function (taskData) {\n        var segments = taskData.segments;\n        var fixedWidth = true;\n        var totalTaskWidth = this.splitTasksDuration(segments) * this.parent.perDayWidth;\n        var progress = Math.ceil((taskData.progressWidth / totalTaskWidth) * 100);\n        var totalProgressWidth = (totalTaskWidth * progress) / 100;\n        var tempWidth = totalProgressWidth;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            if (i !== 0) {\n                if (segment.left <= tempWidth) {\n                    var newWidth = (tempWidth - segment.left);\n                    totalProgressWidth = newWidth;\n                }\n                else {\n                    totalProgressWidth = 0;\n                }\n            }\n            delete segment.progressWidth;\n            if (totalProgressWidth > 0 && totalProgressWidth > segment.width) {\n                totalProgressWidth = totalProgressWidth - segment.width;\n                segment.progressWidth = segment.width;\n                segment.showProgress = false;\n            }\n            else if (fixedWidth) {\n                segment.progressWidth = totalProgressWidth;\n                segment.showProgress = true;\n                totalProgressWidth = totalProgressWidth - segment.width;\n                fixedWidth = false;\n            }\n        }\n    };\n    /**\n     * To trigger taskbar edited event.\n     *\n     * @param {ITaskbarEditedEventArgs} arg .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskbarEdited = function (arg) {\n        var args = extend({}, arg);\n        var ganttRecord = args.data;\n        var taskData = ganttRecord.ganttProperties;\n        var draggedRecIndex = this.parent.flatData.indexOf(ganttRecord);\n        if ((this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') && this.dragMoveY > 0 &&\n            ((this.parent.viewType === 'ResourceView' && !ganttRecord.hasChildRecords) || this.parent.viewType === 'ProjectView')) {\n            if (this.parent.rowDragAndDropModule) {\n                var flatRecordCol = this.parent.currentViewData;\n                if (this.taskBarEditRecord.parentItem && flatRecordCol[this.taskBarEditRecord.parentItem.index] &&\n                    ((this.parent.editedRecords.indexOf(flatRecordCol[this.taskBarEditRecord.parentItem.index]) === -1))) {\n                    this.parent.editedRecords.push(flatRecordCol[this.taskBarEditRecord.parentItem.index]);\n                }\n                this.removeChildBorder();\n                this.removeErrorElem();\n                this.removetopOrBottomBorder();\n                var droppedRecord = void 0;\n                this.updatePosition = false;\n                this.draggedRecordMarginTop = this.taskBarEditElement.style.marginTop;\n                var row = void 0;\n                if (!isNullOrUndefined(this.droppedTarget)) {\n                    row = closest(this.droppedTarget, 'tr.' + cls.chartRow);\n                }\n                if (row) {\n                    var recordIndex = parseInt(row.getAttribute('aria-rowindex'), 10) - 1;\n                    droppedRecord = this.parent.flatData[recordIndex];\n                    var droppedParentRecordIndex = this.parent.getRootParent(droppedRecord, 0).index;\n                    var draggedParentRecordIndex = this.parent.getRootParent(this.taskBarEditRecord, 0).index;\n                    var e = {\n                        cancel: false,\n                        data: this.taskBarEditRecord,\n                        fromIndex: this.taskBarEditRecord.index,\n                        dropIndex: droppedRecord.index,\n                        dropPosition: this.parent.rowDragAndDropModule['dropPosition'],\n                        dropRecord: droppedRecord\n                    };\n                    this.parent.trigger('rowDrop', e);\n                    if (!e['cancel'] && droppedRecord && recordIndex !== draggedRecIndex && ((droppedParentRecordIndex !== draggedParentRecordIndex ||\n                        (this.taskBarEditRecord.hasChildRecords && droppedRecord.hasChildRecords)) ||\n                        !this.taskBarEditRecord.hasChildRecords)) {\n                        var droppedRecordIndex = this.parent.flatData.indexOf(droppedRecord);\n                        var position = void 0;\n                        if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(this.parent.rowDragAndDropModule['dropPosition'])) {\n                            position = this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        else {\n                            position = (droppedRecord.hasChildRecords || (!droppedRecord.parentItem &&\n                                droppedRecord.childRecords.length === 0)) ? 'child' : this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        if (this.parent.rowDragAndDropModule) {\n                            if (this.parent.viewType === 'ResourceView' && (position === 'child' && !droppedRecord.hasChildRecords) && !isNullOrUndefined(droppedRecord.parentItem)) {\n                                position = 'Invalid';\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                            }\n                            if (position) {\n                                this.parent.rowDragAndDropModule.reorderRows([draggedRecIndex], droppedRecordIndex, position);\n                            }\n                        }\n                        this.dragMoveY = 0;\n                    }\n                }\n                this.isClonedElement = false;\n            }\n            if (this.parent.showOverAllocation) {\n                this.parent.ganttChartModule.renderOverAllocationContainer();\n            }\n        }\n        if (args.taskBarEditAction === 'ProgressResizing') {\n            if (args.previousData.progress !== taskData.progress) {\n                var progressWidth = args.data.ganttProperties.progressWidth;\n                var totalTaskWidth = args.data.ganttProperties.width;\n                /* eslint-disable-next-line */\n                var updatedValues = this.validateProgressWidth(args.data.ganttProperties, progressWidth, totalTaskWidth);\n                this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), taskData, true);\n                if (ganttRecord.parentItem) {\n                    this.parent.editModule.updateParentProgress(ganttRecord.parentItem);\n                }\n                if (!isNullOrUndefined(taskData.segments)) {\n                    this.updateSegmentProgress(taskData);\n                }\n            }\n        }\n        else {\n            var segments = args.data.ganttProperties.segments;\n            if (!isNullOrUndefined(segments) && segments.length > 0\n                && ((this.taskBarEditAction === 'LeftResizing' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'ChildDrag' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'RightResizing'))) {\n                var segment = segments[this.segmentIndex];\n                var ganttProp = this.taskBarEditRecord.ganttProperties;\n                var previousSegment = this.segmentIndex === 0 ? null\n                    : segments[this.segmentIndex - 1];\n                var nextSegment = this.segmentIndex === segments.length - 1 ? null\n                    : segments[this.segmentIndex + 1];\n                var sDate = !isNullOrUndefined(nextSegment) ?\n                    new Date(nextSegment.startDate.getTime()) : this.parent.cloneProjectEndDate;\n                var eDate = !isNullOrUndefined(previousSegment) ?\n                    new Date(previousSegment.endDate.getTime()) : this.parent.cloneProjectStartDate;\n                var cStartDate = new Date(segment.startDate.getTime());\n                var cEndDate = new Date(segment.endDate.getTime());\n                if (this.parent.timelineModule.topTier === 'Day' && this.parent.timelineModule.bottomTier === 'Hour') {\n                    cStartDate.setHours(cStartDate.getHours() - 1);\n                    cEndDate.setHours(cEndDate.getHours() + 1);\n                }\n                else {\n                    cStartDate.setDate(cStartDate.getDate());\n                    cEndDate.setDate(cEndDate.getDate());\n                }\n                if (this.parent.includeWeekend) {\n                    sDate.setHours(0, 0, 0, 0);\n                    eDate.setHours(0, 0, 0, 0);\n                    cStartDate.setDate(cStartDate.getDate() - 1);\n                    cEndDate.setDate(cEndDate.getDate() + 1);\n                    cStartDate.setHours(0, 0, 0, 0);\n                    cEndDate.setHours(0, 0, 0, 0);\n                    if (cStartDate.getTime() <= eDate.getTime() && !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment)) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime() && this.segmentIndex !== segments.length - 1) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime()) {\n                        segment.endDate.setDate(this.parent.cloneProjectEndDate.getDate() - 1);\n                        segment.startDate = this.parent.dataOperation.getStartDate(segment.endDate, segment.duration, ganttProp.durationUnit, ganttProp);\n                        // eslint-disable-next-line\n                        for (var i = segments.length - 2; i >= 0; i--) {\n                            var segment_5 = __assign({}, segments[i]);\n                            if (!isNullOrUndefined(segment_5)) {\n                                var eDate_1 = new Date(segment_5.endDate);\n                                eDate_1.setDate(eDate_1.getDate() - segment_5.offsetDuration);\n                                segment_5.endDate = eDate_1;\n                                segment_5.startDate = this.parent.dataOperation.getStartDate(segment_5.endDate, segment_5.duration, ganttProp.durationUnit, ganttProp);\n                            }\n                        }\n                    }\n                }\n                else {\n                    //Hits while dragging taskbar toward right & taskbar rightside resizing:\n                    if (cEndDate.getTime() <= sDate.getTime() && this.segmentIndex !== segments.length - 1 && !this.parent.includeWeekend &&\n                        this.parent.dataOperation.getDuration((this.parent.dataOperation.checkStartDate(cEndDate, taskData, false)), sDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    //Hits while dragging taskbar toward left & taskbar leftside resizing:\n                    else if (cStartDate.getTime() >= eDate.getTime() &&\n                        !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment) &&\n                        !this.parent.includeWeekend && this.parent.dataOperation.getDuration((this.parent.dataOperation.checkEndDate(cStartDate, taskData, false)), eDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                }\n            }\n            this.parent.dataOperation.updateWidthLeft(args.data);\n        }\n        this.isDragged = false;\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To get progress in percentage.\n     *\n     * @param {number} parentwidth .\n     * @param {number} progresswidth .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getProgressPercent = function (parentwidth, progresswidth) {\n        return Math.ceil(((progresswidth / parentwidth) * 100));\n    };\n    /**\n     * false line implementation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.drawFalseLine = function () {\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var x2 = this.mouseMoveX;\n        var y2 = this.mouseMoveY;\n        var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n        var transform = 'rotate(' + (this.parent.enableRtl ? -angle : angle) + 'deg)';\n        var left;\n        var width = 0;\n        if (!isNullOrUndefined(document.querySelectorAll('.e-chart-row')[0])) {\n            width = document.querySelectorAll('.e-chart-row')[0].offsetWidth;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            if (this.parent.enableRtl) {\n                left = ((width - (this.elementOffsetLeft + (this.parent.chartRowsModule.connectorPointWidth / 2)))) -\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft - (this.parent.chartRowsModule.connectorPointWidth / 2)) -\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n        }\n        if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            if (this.parent.enableRtl) {\n                left = (width - (this.elementOffsetLeft + this.elementOffsetWidth +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2))) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft + this.elementOffsetWidth) +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n        }\n        var top = ((this.elementOffsetTop) + (this.elementOffsetHeight / 2) +\n            this.parent.ganttChartModule.chartBodyContainer.offsetTop) - this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.removeFalseLine(false);\n        this.falseLine = createElement('div', {\n            className: cls.falseLine, id: 'ganttfalseline' + this.parent.element.id,\n            styles: 'position: absolute;transform:' + transform + ';' +\n                'border-top-width: 1px;border-top-style: dashed;z-index: 5;width:' + (length - 3) + 'px;' +\n                'top:' + top + 'px;'\n        });\n        if (this.parent.enableRtl) {\n            this.falseLine.style.left = 'auto';\n            this.falseLine.style.right = left + 'px';\n            this.falseLine.style.transformOrigin = '100% 0%';\n        }\n        else {\n            this.falseLine.style.right = 'auto';\n            this.falseLine.style.left = left + 'px';\n            this.falseLine.style.transformOrigin = '0% 100%';\n        }\n        this.parent.ganttChartModule.chartBodyContainer.appendChild(this.falseLine);\n    };\n    /**\n     *\n     * @param {boolean} isRemoveConnectorPointDisplay .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.removeFalseLine = function (isRemoveConnectorPointDisplay) {\n        if (this.falseLine) {\n            remove(this.falseLine);\n            this.falseLine = null;\n            if (isRemoveConnectorPointDisplay) {\n                this.elementOffsetLeft = 0;\n                this.elementOffsetTop = 0;\n                this.elementOffsetWidth = 0;\n                this.elementOffsetHeight = 0;\n                removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateConnectorLineSecondProperties = function (e) {\n        var target = this.getElementByPosition(e);\n        var element = parentsUntil(target, cls.taskBarMainContainer);\n        var isBigger = document.body.className.includes('e-bigger');\n        this.connectorSecondAction = null;\n        var scrollTop = 0;\n        if (parentsUntil(target, cls.connectorPointLeft)) {\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.toPredecessorText = 'Start';\n        }\n        else if (parentsUntil(target, cls.connectorPointRight)) {\n            this.connectorSecondAction = 'ConnectorPointRightDrag';\n            this.toPredecessorText = 'Finish';\n        }\n        else {\n            this.connectorSecondAction = null;\n            this.toPredecessorText = null;\n        }\n        if (this.taskBarEditElement !== element && this.taskBarEditElement !== this.highlightedSecondElement) {\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                var top_1 = this.parent.virtualScrollModule.getTopPosition();\n                scrollTop = top_1;\n            }\n            if ((this.parent.virtualScrollModule && this.parent.enableVirtualization &&\n                !this.elementOffsetLeft) || !this.parent.enableVirtualization) {\n                if (!this.parent.allowParentDependency) {\n                    this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                    this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                        this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                }\n                else {\n                    if (this.taskBarEditElement.children[0].classList.contains('e-manualparent-main-container')) {\n                        this.elementOffsetLeft = this.realTaskbarElement.children[0]['offsetLeft'] +\n                            this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = ((this.realTaskbarElement.parentElement.offsetTop + this.realTaskbarElement.offsetHeight / 3 - 5) + this.taskBarEditElement.children[0]['offsetTop']) + scrollTop;\n                    }\n                    else {\n                        this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                            this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                    }\n                }\n                this.elementOffsetWidth = this.realTaskbarElement.offsetWidth + ((isBigger) ? 20 : 0);\n                this.elementOffsetHeight = this.realTaskbarElement.offsetHeight;\n            }\n            this.showHideTaskBarEditingElements(element, this.highlightedSecondElement, true);\n        }\n        if (isNullOrUndefined(this.connectorSecondAction) && !isNullOrUndefined(this.connectorSecondElement) &&\n            (!this.connectorSecondRecord.hasChildRecords || this.connectorSecondRecord.hasChildRecords &&\n                this.parent.allowParentDependency)) {\n            this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointAllowBlock]);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointAllowBlock]);\n        }\n        this.connectorSecondElement = this.connectorSecondAction ? element : null;\n        this.highlightedSecondElement = element;\n        this.connectorSecondRecord = isNullOrUndefined(this.connectorSecondElement) ?\n            null : this.parent.ganttChartModule.getRecordByTaskBar(this.connectorSecondElement);\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.triggerDependencyEvent = function (e, mouseUp) {\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        var zoomedPageY;\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            zoomedPageY = e.pageY / zoom1;\n        }\n        var fromItem = this.taskBarEditRecord.ganttProperties;\n        var toItem = this.connectorSecondRecord ? this.connectorSecondRecord.ganttProperties : null;\n        var predecessor;\n        var currentTarget;\n        var target = this.getElementByPosition(e);\n        var element = target;\n        var uniqueId = this.parent.viewType === 'ResourceView' ? fromItem.taskId : fromItem.rowUniqueID;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'F' : 'S');\n        }\n        else if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'S' : 'F');\n        }\n        if (this.connectorSecondAction) {\n            if (this.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                predecessor += this.parent.enableRtl ? 'F' : 'S';\n                currentTarget = this.parent.enableRtl ? 'finish' : 'start';\n            }\n            else if (this.connectorSecondAction === 'ConnectorPointRightDrag') {\n                predecessor += this.parent.enableRtl ? 'S' : 'F';\n                currentTarget = this.parent.enableRtl ? 'start' : 'finish';\n            }\n        }\n        if (isNullOrUndefined(toItem)) {\n            this.drawPredecessor = false;\n            return;\n        }\n        if (toItem.predecessorsName) {\n            this.finalPredecessor = toItem.predecessorsName + ',' + predecessor;\n        }\n        else {\n            this.finalPredecessor = predecessor;\n        }\n        var isValidLink = this.parent.connectorLineEditModule.validatePredecessorRelation(this.connectorSecondRecord, this.finalPredecessor);\n        // eslint-disable-next-line\n        var predecessorArray = this.parent.predecessorModule.calculatePredecessor(predecessor, this.connectorSecondRecord);\n        var args = {};\n        args.fromItem = fromItem;\n        args.toItem = toItem;\n        args.newPredecessorString = this.finalPredecessor;\n        args.predecessor = predecessorArray && predecessorArray[0];\n        args.isValidLink = isValidLink;\n        args.requestType = 'ValidateDependency';\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer' && args.requestType !== 'ValidateDependency') {\n            this.parent.showMaskRow();\n        }\n        else if (args.requestType !== 'ValidateDependency') {\n            this.parent.showSpinner();\n        }\n        args.isValidLink = !isValidLink && args.isValidLink ? false : args.isValidLink;\n        if (args.isValidLink) {\n            if (!this.editTooltip.toolTipObj && !this.parent.isAdaptive) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            if (!isNullOrUndefined(this.editTooltip.toolTipObj)) {\n                this.parent.connectorLineModule.tooltipTable.innerHTML = '';\n                this.parent.connectorLineModule.tooltipTable.appendChild(this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', ''));\n                var table = this.parent.connectorLineModule.tooltipTable.querySelector('#toPredecessor').querySelectorAll('td');\n                table[1].innerText = toItem.taskName;\n                table[2].innerText = this.parent.localeObj.getConstant(currentTarget);\n                if (!isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement) &&\n                    !isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement.parentElement)) {\n                    var tooltipElement = this.parent.connectorLineModule.tooltipTable.parentElement.parentElement;\n                    if (tooltipElement.offsetTop + tooltipElement.offsetHeight > zoomedPageY) {\n                        tooltipElement.style.top = (e.pageY - tooltipElement.offsetHeight - 20) + 'px';\n                    }\n                }\n            }\n            this.drawPredecessor = true;\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (target.classList.contains(cls.connectorPointLeft) ||\n                    target.classList.contains(cls.connectorPointRight)) {\n                    this.showHideActivePredecessors(true);\n                }\n            }\n            else {\n                addClass([element], [cls.connectorPointAllowBlock]);\n            }\n            this.drawPredecessor = false;\n        }\n    };\n    // Get XY coordinates for touch and non-touch device\n    TaskbarEdit.prototype.getCoordinate = function (event) {\n        var coordinates = {};\n        var e = event;\n        coordinates.pageX = e.pageX;\n        coordinates.pageY = e.pageY;\n        if (event && event.type !== 'click') {\n            var e_1 = event;\n            if (e_1.type === 'touchmove' || e_1.type === 'touchstart' || e_1.type === 'touchend') {\n                coordinates.pageX = e_1.changedTouches[0].pageX;\n                coordinates.pageY = e_1.changedTouches[0].pageY;\n            }\n        }\n        return coordinates;\n    };\n    // Get current target element by mouse position\n    // window.pageXOffset && window.pageYOffset is used to find the accurate element position in IPad/IPhone\n    TaskbarEdit.prototype.getElementByPosition = function (event) {\n        if (!this.parent.isAdaptive) {\n            return event.target;\n        }\n        else {\n            var e = this.getCoordinate(event);\n            return document.elementFromPoint((e.pageX - window.pageXOffset), (e.pageY - window.pageYOffset));\n        }\n    };\n    TaskbarEdit.prototype.multipleSelectionEnabled = function () {\n        if (this.parent.selectionModule &&\n            this.parent.selectionSettings.mode !== 'Cell'\n            && this.parent.selectionSettings.type === 'Multiple') {\n            this.parent.selectionModule.hidePopUp();\n        }\n    };\n    TaskbarEdit.prototype.unWireEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartMouseDown', this.mouseDownHandler);\n        this.parent.off('chartMouseUp', this.mouseUpHandler);\n        this.parent.off('chartMouseLeave', this.mouseLeaveHandler);\n        this.parent.off('chartMouseMove', this.mouseMoveAction);\n        this.parent.off('chartMouseClick', this.mouseClickHandler);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.destroy = function () {\n        this.unWireEvents();\n        this.stopScrollTimer();\n        this.parent.editModule.taskbarEditModule = undefined;\n    };\n    return TaskbarEdit;\n}(DateProcessor));\nexport { TaskbarEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { remove, extend, isNullOrUndefined, createElement, getValue, setValue, closest, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Tab } from '@syncfusion/ej2-navigations';\nimport { Grid, Edit, Toolbar as GridToolbar, Page, getObject, Sort, RowDD, Group, Aggregate, ColumnChooser, ContextMenu, ColumnMenu, Resize, Reorder, DetailRow, Search, Print, PdfExport, ExcelExport, Filter } from '@syncfusion/ej2-grids';\nimport { ForeignKey, getActualProperties } from '@syncfusion/ej2-grids';\nimport { RichTextEditor, Toolbar as RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Image, Table, EmojiPicker, FileManager, FormatPainter, MarkdownEditor } from '@syncfusion/ej2-richtexteditor';\nimport { TextBox, NumericTextBox, MaskedTextBox, FormValidator } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { isScheduledTask } from '../base/utils';\nimport { TreeGrid, Selection as TreeGridSelection, Filter as TreeGridFilter, Edit as TreeGridEdit, VirtualScroll, Sort as TreeGridSort, Page as TreeGridPage, Aggregate as TreeGridAggregate, Reorder as TreeGridReorder, Resize as TreeGridResize, Toolbar as TreeGridToolbar, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { getUid } from '../base/utils';\n/**\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {Gantt} parent .\n     * @returns {void} .\n     */\n    function DialogEdit(parent) {\n        this.isFromDialogPredecessor = false;\n        this.isTriggered = false;\n        this.taskFieldColumn = [];\n        this.customFieldColumn = [];\n        this.processedId = [];\n        /**\n         * @private\n         */\n        this.updatedEditFields = null;\n        this.updatedAddFields = null;\n        this.addedRecord = null;\n        this.dialogEditValidationFlag = false;\n        this.ganttResources = [];\n        this.isValidData = true;\n        this.isResourceTabUpdated = false;\n        /**\n         * @private\n         */\n        this.previousResource = [];\n        /**\n         * @private\n         */\n        this.isResourceUpdate = false;\n        this.parent = parent;\n        this.localeObj = this.parent.localeObj;\n        this.beforeOpenArgs = { cancel: false };\n        this.types = this.getPredecessorType();\n        this.rowData = {};\n        this.editedRecord = {};\n        this.inputs = {\n            booleanedit: CheckBox,\n            dropdownedit: DropDownList,\n            datepickeredit: DatePicker,\n            datetimepickeredit: DateTimePicker,\n            maskededit: MaskedTextBox,\n            numericedit: NumericTextBox,\n            stringedit: TextBox,\n            defaultedit: TextBox\n        };\n        this.processDialogFields();\n        this.wireEvents();\n    }\n    DialogEdit.prototype.wireEvents = function () {\n        this.parent.on('chartDblClick', this.dblClickHandler, this);\n    };\n    DialogEdit.prototype.dblClickHandler = function (e) {\n        var ganttData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (!isNullOrUndefined(ganttData) && this.parent.editModule && this.parent.editSettings.allowEditing) {\n            this.openEditDialog(ganttData);\n        }\n    };\n    /**\n     * Method to validate add and edit dialog fields property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.processDialogFields = function () {\n        if (isNullOrUndefined(this.parent.editDialogFields) ||\n            this.parent.editDialogFields && this.parent.editDialogFields.length === 0) {\n            this.updatedEditFields = this.getDefaultDialogFields();\n            this.updatedEditFields = this.validateDialogFields(this.updatedEditFields);\n        }\n        else {\n            this.updatedEditFields = this.validateDialogFields(this.parent.editDialogFields);\n        }\n        if (isNullOrUndefined(this.parent.addDialogFields) ||\n            this.parent.addDialogFields && this.parent.addDialogFields.length === 0) {\n            this.updatedAddFields = this.getDefaultDialogFields();\n            this.updatedAddFields = this.validateDialogFields(this.updatedAddFields);\n        }\n        else {\n            this.updatedAddFields = this.validateDialogFields(this.parent.addDialogFields);\n        }\n    };\n    DialogEdit.prototype.validateDialogFields = function (dialogFields) {\n        var newDialogFields = [];\n        var emptyCustomColumn = 0;\n        for (var i = 0; i < dialogFields.length; i++) {\n            var fieldItem = getActualProperties(dialogFields[i]);\n            if (fieldItem.type === 'General' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                fieldItem.fields = this.getGeneralColumnFields();\n            }\n            if (fieldItem.type === 'Dependency' && isNullOrUndefined(this.parent.taskFields.dependency)\n                || fieldItem.type === 'Resources' && isNullOrUndefined(this.parent.taskFields.resourceInfo)\n                || fieldItem.type === 'Notes' && isNullOrUndefined(this.parent.taskFields.notes)) {\n                continue;\n            }\n            if (fieldItem.type === 'Custom' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                emptyCustomColumn += 1;\n                fieldItem.fields = this.getCustomColumnFields();\n            }\n            if (emptyCustomColumn > 1) {\n                continue;\n            }\n            newDialogFields.push(fieldItem);\n        }\n        return newDialogFields;\n    };\n    /**\n     * Method to get general column fields\n     *\n     * @returns {string[]} .\n     */\n    DialogEdit.prototype.getGeneralColumnFields = function () {\n        var fields = [];\n        for (var _i = 0, _a = Object.keys(this.parent.columnMapping); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'dependency' || key === 'resourceInfo' || key === 'notes') {\n                continue;\n            }\n            fields.push(this.parent.columnMapping[key]);\n        }\n        return fields;\n    };\n    /**\n     * Method to get custom column fields\n     *\n     * @returns {void} .\n     */\n    DialogEdit.prototype.getCustomColumnFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.parent.customColumns.length; i++) {\n            fields.push(this.parent.customColumns[i]);\n        }\n        return fields;\n    };\n    /**\n     * Get default dialog fields when fields are not defined for add and edit dialogs\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getDefaultDialogFields = function () {\n        var dialogFields = [];\n        var fieldItem = {};\n        var taskFields = this.parent.taskFields;\n        var columnMapping = this.parent.columnMapping;\n        if (Object.keys(columnMapping).length !== 0) {\n            fieldItem.type = 'General';\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('dependency', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.dependency.valueOf()].visible !== false) {\n                fieldItem.type = 'Dependency';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('resourceInfo', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.resourceInfo.valueOf()].visible !== false) {\n                fieldItem.type = 'Resources';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('notes', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.notes.valueOf()].visible !== false) {\n                fieldItem.type = 'Notes';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('segments', taskFields))) {\n            fieldItem = {};\n            fieldItem.type = 'Segments';\n            dialogFields.push(fieldItem);\n        }\n        if (this.parent.customColumns.length > 0) {\n            fieldItem = {};\n            fieldItem.type = 'Custom';\n            dialogFields.push(fieldItem);\n        }\n        return dialogFields;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openAddDialog = function () {\n        this.isEdit = false;\n        this.editedRecord = this.composeAddRecord();\n        this.isFromAddDialog = true;\n        this.createDialog();\n    };\n    /**\n     *\n     * @returns {Date} .\n     * @private\n     */\n    DialogEdit.prototype.getMinimumStartDate = function () {\n        var minDate = DataUtil.aggregates.min(this.parent.flatData, 'ganttProperties.startDate');\n        if (!isNullOrUndefined(minDate)) {\n            minDate = new Date(minDate.getTime());\n        }\n        else {\n            minDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        }\n        minDate = this.parent.dateValidationModule.checkStartDate(minDate);\n        return new Date(minDate.getTime());\n    };\n    /**\n     * @returns {IGanttData} .\n     * @private\n     */\n    DialogEdit.prototype.composeAddRecord = function () {\n        var tempData = {};\n        tempData.ganttProperties = {};\n        var columns = this.parent.ganttColumns;\n        var taskSettings = this.parent.taskFields;\n        var id = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < columns.length; i++) {\n            var field = columns[i].field;\n            if (field === taskSettings.id) {\n                tempData[field] = id;\n                tempData.ganttProperties.rowUniqueID = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.startDate) {\n                if (isNullOrUndefined(tempData[taskSettings.endDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.startDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.endDate) {\n                if (isNullOrUndefined(tempData[taskSettings.startDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.endDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.duration) {\n                tempData[field] = 1;\n                tempData.ganttProperties.duration = tempData[field];\n                tempData.ganttProperties.durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n            }\n            else if (columns[i].field === taskSettings.name) {\n                tempData[field] = this.localeObj.getConstant('addDialogTitle') + ' ' + id;\n                tempData.ganttProperties.taskName = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.progress) {\n                tempData[field] = 0;\n                tempData.ganttProperties.progress = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.work) {\n                tempData[field] = 0;\n                tempData.ganttProperties.work = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.type) {\n                tempData[field] = this.parent.taskType;\n                tempData.ganttProperties.taskType = tempData[field];\n            }\n            else {\n                tempData[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        tempData.ganttProperties.isAutoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                tempData[taskSettings.manual] === true ? false : true;\n        return tempData;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openToolbarEditDialog = function () {\n        var gObj = this.parent;\n        if (gObj.editModule && gObj.editSettings.allowEditing) {\n            if (this.parent.ganttChartModule.focusedRowIndex > -1 && gObj.selectionModule) {\n                gObj.selectionModule.selectRow(this.parent.ganttChartModule.focusedRowIndex, false, false);\n            }\n            var selectedRowId = gObj.selectionModule ?\n                (gObj.selectionSettings.mode === 'Row' || gObj.selectionSettings.mode === 'Both') &&\n                    gObj.selectionModule.selectedRowIndexes.length === 1 ?\n                    gObj.updatedRecords[gObj.selectionModule.selectedRowIndexes[0]].ganttProperties.rowUniqueID :\n                    gObj.selectionSettings.mode === 'Cell' &&\n                        gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        gObj.updatedRecords[gObj.selectionModule.getSelectedRowCellIndexes()[0].rowIndex].ganttProperties.rowUniqueID :\n                        null : null;\n            if (!isNullOrUndefined(selectedRowId)) {\n                this.openEditDialog(selectedRowId);\n            }\n        }\n    };\n    /**\n     * @param { number | string | object} taskId .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openEditDialog = function (taskId) {\n        var ganttObj = this.parent;\n        if (!isNullOrUndefined(taskId)) {\n            if (!isNullOrUndefined(taskId['ganttProperties'])) {\n                if (typeof taskId['ganttProperties']['taskId'] === 'string') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n            if (isNullOrUndefined(taskId['ganttProperties']) && !isNullOrUndefined(taskId)) {\n                if (isNaN(Number(taskId)) || this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n        }\n        if (typeof taskId === 'object' && !isNullOrUndefined(taskId)) {\n            this.rowIndex = this.parent.currentViewData.indexOf(taskId);\n            if (this.rowIndex > -1) {\n                this.rowData = taskId;\n            }\n        }\n        else if (!isNullOrUndefined(taskId)) {\n            this.rowIndex = ganttObj.ids.indexOf(taskId.toString());\n            if (this.rowIndex > -1) {\n                this.rowData = ganttObj.flatData[this.rowIndex];\n            }\n        }\n        else if (ganttObj.selectedRowIndex > -1) {\n            this.rowData = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n            this.rowIndex = ganttObj.selectedRowIndex;\n        }\n        this.isEdit = true;\n        if (this.parent.viewType === 'ResourceView' && this.rowData.level === 0) {\n            return;\n        }\n        if (Object.keys(this.rowData).length !== 0) {\n            this.editedRecord = extend({}, {}, this.rowData, true);\n            this.isFromEditDialog = true;\n            this.createDialog();\n        }\n    };\n    DialogEdit.prototype.createDialog = function () {\n        var _this = this;\n        var ganttObj = this.parent;\n        var dialogModel = {};\n        this.beforeOpenArgs.dialogModel = dialogModel;\n        this.beforeOpenArgs.rowData = this.editedRecord;\n        this.beforeOpenArgs.rowIndex = this.rowIndex;\n        var dialogMaxWidth = this.parent.isAdaptive ? '' : '600px';\n        var dialog = this.parent.createElement('div', { id: ganttObj.element.id + '_dialog', styles: 'max-width:' + dialogMaxWidth });\n        dialog.classList.add('e-gantt-dialog');\n        ganttObj.element.appendChild(dialog);\n        dialogModel.animationSettings = { effect: 'None' };\n        dialogModel.header = this.localeObj.getConstant(this.isEdit ? 'editDialogTitle' : 'addDialogTitle');\n        dialogModel.isModal = true;\n        dialogModel.enableRtl = this.parent.enableRtl;\n        dialogModel.allowDragging = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? false : true;\n        dialogModel.showCloseIcon = true;\n        var position = this.parent.isAdaptive ? { X: 'top', Y: 'left' } : { X: 'center', Y: 'center' };\n        dialogModel.position = position;\n        //dialogModel.width = '750px';\n        dialogModel.height = this.parent.isAdaptive ? '100%' : 'auto';\n        dialogModel.target = document.body;\n        dialogModel.close = this.dialogClose.bind(this);\n        dialogModel.closeOnEscape = true;\n        /* eslint-disable-next-line */\n        dialogModel.beforeClose = function (args) {\n            if (args.closedBy === 'escape') {\n                if (args.event.name === 'key-pressed' && args.event.target.nodeName === 'INPUT') {\n                    args.cancel = true;\n                }\n            }\n        };\n        dialogModel.open = function (args) {\n            var dialogElement = getValue('element', args);\n            var generalTabElement = dialogElement.querySelector('#' + _this.parent.element.id + 'GeneralTabContainer');\n            if (generalTabElement && generalTabElement.scrollHeight > generalTabElement.offsetHeight) {\n                generalTabElement.classList.add('e-scroll');\n            }\n            if (_this.tabObj.selectedItem === 0) {\n                _this.tabObj.select(0);\n            }\n            if (_this.parent.isAdaptive) {\n                dialogElement.style.maxHeight = 'none';\n            }\n            if (_this.parent.focusModule) {\n                _this.parent.focusModule.setActiveElement(dialogElement);\n            }\n        };\n        dialogModel.locale = this.parent.locale;\n        dialogModel.buttons = [{\n                buttonModel: {\n                    content: this.localeObj.getConstant('saveButton'), cssClass: 'e-primary'\n                },\n                click: this.buttonClick.bind(this)\n            }, {\n                buttonModel: { cssClass: 'e-flat', content: this.localeObj.getConstant('cancel') },\n                click: this.buttonClick.bind(this)\n            }];\n        this.createTab(dialogModel, dialog);\n    };\n    DialogEdit.prototype.buttonClick = function (e) {\n        var target = e.target;\n        target.style.pointerEvents = 'none';\n        if ((this.localeObj.getConstant('cancel')).toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            if (this.dialog && !this.dialogObj.isDestroyed) {\n                this.CustomformObj = null;\n                this.formObj = null;\n                this.storeValidTab = null;\n                this.customFieldColumn = [];\n                this.taskFieldColumn = [];\n                this.dialogObj.hide();\n                this.dialogClose();\n            }\n        }\n        else {\n            if (this.CustomformObj) {\n                if (!this.CustomformObj.validate()) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.formObj) {\n                /* eslint-disable-next-line */\n                var formValid = this.formObj.validate();\n                if (!formValid) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.storeDependencyTab || this.firstOccuringTab === 'Dependency') {\n                /* eslint-disable-next-line */\n                var dependencyTab = void 0;\n                if (this.firstOccuringTab === 'Dependency') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    dependencyTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    dependencyTab = this.storeDependencyTab.querySelector('.e-gridform');\n                }\n                if (dependencyTab) {\n                    var dependencyTabValid = dependencyTab['ej2_instances'][0].validate();\n                    if (!dependencyTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            if (this.storeResourceTab || this.firstOccuringTab === 'Resources') {\n                /* eslint-disable-next-line */\n                var resourceTab = void 0;\n                if (this.firstOccuringTab === 'Resources') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    resourceTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    resourceTab = this.storeResourceTab.querySelector('.e-gridform');\n                }\n                if (resourceTab) {\n                    var resourceTabValid = resourceTab['ej2_instances'][0].validate();\n                    if (!resourceTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            this.initiateDialogSave();\n            this.parent['updateDuration'] = false;\n            this.CustomformObj = null;\n            this.formObj = null;\n            this.storeValidTab = null;\n            this.customFieldColumn = [];\n            this.taskFieldColumn = [];\n            target.style.pointerEvents = 'auto';\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.dialogClose = function () {\n        if (this.dialog) {\n            this.resetValues();\n        }\n        if (!isNullOrUndefined(this.parent.focusModule) &&\n            !isNullOrUndefined(this.parent.focusModule.getActiveElement(true))) {\n            this.parent.focusModule.getActiveElement(true).focus();\n        }\n    };\n    DialogEdit.prototype.resetValues = function () {\n        this.isEdit = false;\n        this.isAddNewResource = false;\n        this.editedRecord = {};\n        this.parent['triggeredColumnName'] = '';\n        this.rowData = {};\n        this.rowIndex = -1;\n        this.addedRecord = null;\n        this.ganttResources = [];\n        this.dialogEditValidationFlag = false;\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.destroyDialogInnerElements();\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEdit.prototype.destroyDialogInnerElements = function () {\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.destroyCustomField(element);\n                }\n                else if (id === 'Dependency') {\n                    var gridObj = element.ej2_instances[0];\n                    gridObj.destroy();\n                }\n                else if (id === 'Notes') {\n                    var rte = element.ej2_instances[0];\n                    rte.destroy();\n                }\n                else if (id === 'Resources') {\n                    var treeGridObj = element.ej2_instances[0];\n                    treeGridObj.destroy();\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.destroyCustomField(element);\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.destroyCustomField = function (element) {\n        var childNodes = element.childNodes;\n        var ganttObj = this.parent;\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (!isNullOrUndefined(controlObj)) {\n                    var column = ganttObj.columnByField[fieldName];\n                    if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                        var destroy = column.edit.destroy;\n                        if (typeof destroy === 'string') {\n                            destroy = getObject(destroy, window);\n                            destroy();\n                        }\n                        else {\n                            column.edit.destroy();\n                        }\n                    }\n                    else {\n                        controlObj.destroy();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.destroy = function () {\n        this.resetValues();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartDblClick', this.dblClickHandler);\n        this.parent.editModule.dialogModule = undefined;\n    };\n    /**\n     * Method to get current edit dialog fields value\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getEditFields = function () {\n        if (this.isEdit) {\n            return this.updatedEditFields;\n        }\n        else {\n            return this.updatedAddFields;\n        }\n    };\n    DialogEdit.prototype.createTab = function (dialogModel, dialog) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var tabModel = {};\n        var tabItems = [];\n        var dialogSettings = this.getEditFields();\n        var tabElement;\n        var tasks = ganttObj.taskFields;\n        var length = dialogSettings.length;\n        tabModel.items = tabItems;\n        tabModel.locale = this.parent.locale;\n        tabModel.enableRtl = this.parent.enableRtl;\n        this.beforeOpenArgs.tabModel = tabModel;\n        var count = 0;\n        var index = 0;\n        if (length > 0) {\n            for (var i = 0; i < length; i++) {\n                var dialogField = dialogSettings[i];\n                var tabItem = {};\n                if (dialogField.type === 'General') {\n                    if (Object.keys(ganttObj.columnMapping).length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('generalTab');\n                    }\n                    tabItem.content = 'General';\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Segments') {\n                    if (isNullOrUndefined(tasks.segments)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('segments');\n                    }\n                    tabItem.content = 'Segments';\n                    this.beforeOpenArgs[tabItem.content] = this.getSegmentsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Dependency') {\n                    if (isNullOrUndefined(tasks.dependency)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('dependency');\n                    }\n                    tabItem.content = 'Dependency';\n                    this.beforeOpenArgs[tabItem.content] = this.getPredecessorModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Resources') {\n                    if (isNullOrUndefined(tasks.resourceInfo)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('resourceName');\n                    }\n                    tabItem.content = 'Resources';\n                    this.beforeOpenArgs[tabItem.content] = this.getResourcesModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Notes') {\n                    if (isNullOrUndefined(tasks.notes)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('notes');\n                    }\n                    tabItem.content = 'Notes';\n                    this.beforeOpenArgs[tabItem.content] = this.getNotesModel(dialogField.fields);\n                }\n                else {\n                    if (isNullOrUndefined(dialogField.fields) || dialogField.fields.length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('customTab'); // eslint-disable-next-line\n                        count++;\n                    }\n                    tabItem.content = 'Custom' + '' + index++;\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                tabItem.header = { text: dialogField.headerText };\n                tabItems.push(tabItem);\n            }\n        }\n        this.beforeOpenArgs.requestType = this.isEdit ? 'beforeOpenEditDialog' : 'beforeOpenAddDialog';\n        this.parent.trigger('actionBegin', this.beforeOpenArgs, function (arg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (!arg.cancel) {\n                _this.renderTabItems();\n                tabModel.selected = _this.tabSelectedEvent.bind(_this);\n                tabModel.height = _this.parent.isAdaptive ? '100%' : 'auto';\n                tabModel.overflowMode = 'Scrollable';\n                _this.tabObj = new Tab(tabModel);\n                _this.tabObj.isStringTemplate = true;\n                tabElement = _this.parent.createElement('div', { id: ganttObj.element.id + '_Tab' });\n                _this.tabObj.appendTo(tabElement);\n                dialogModel.content = tabElement;\n                _this.dialog = dialog;\n                _this.dialogObj = new Dialog(dialogModel);\n                _this.dialogObj.isStringTemplate = true;\n                _this.dialogObj.appendTo(_this.dialog);\n                var actionCompleteArgs = {\n                    action: 'OpenDialog',\n                    requestType: _this.isEdit ? 'openEditDialog' : 'openAddDialog',\n                    data: _this.beforeOpenArgs.rowData,\n                    element: _this.dialog,\n                    cancel: false\n                };\n                var columns = _this.parent.treeGrid.grid.getColumns();\n                /* eslint-disable-next-line */\n                var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n                if (isValidateColumn) {\n                    _this.CustomformObj = null;\n                    _this.formObj = null;\n                    _this.storeValidTab = null;\n                    _this.customFieldColumn = [];\n                    _this.taskFieldColumn = [];\n                    _this.changeFormObj(actionCompleteArgs.element);\n                }\n                _this.parent.trigger('actionComplete', actionCompleteArgs, function (actionCompleteArg) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    if (actionCompleteArg.cancel) {\n                        _this.resetValues();\n                    }\n                });\n            }\n            else {\n                arg.cancel = false;\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.hideMaskRow();\n                }\n                else {\n                    _this.parent.hideSpinner();\n                }\n            }\n        });\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.changeFormObj = function (actionCompleteArgs) {\n        if (!this.storeColumn) {\n            this.storeColumn = this.parent.treeGrid.grid.getColumns();\n        }\n        if (!this.taskfields) {\n            this.taskfields = this.parent.taskFields['properties'];\n        }\n        if (!this.storeValidTab) {\n            this.storeValidTab = this.getFilteredDialogFields();\n        }\n        if (this.customFieldColumn.length === 0 || this.taskFieldColumn.length === 0) {\n            this.validateColumn(this.storeColumn, this.taskfields, this.storeValidTab);\n        }\n        if (this.isFromAddDialog && this.parent.addDialogFields && this.parent.addDialogFields.length > 0) {\n            var firstFieldType = this.parent.addDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        else if (this.isFromEditDialog && this.parent.editDialogFields && this.parent.editDialogFields.length > 0) {\n            var firstFieldType = this.parent.editDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        if (!this.CustomformObj || !this.formObj) {\n            var customFieldColumns = this.customFieldColumn;\n            var taskFieldColumns = this.taskFieldColumn;\n            if (!this.CustomformObj && customFieldColumns && customFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < customFieldColumns.length; i++) {\n                    var customColumn = customFieldColumns[i]; // Rename the variable\n                    if (customColumn.visible && customColumn.validationRules) {\n                        validationRulesArray[customColumn.field] = customColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.CustomformObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'Custom0TabContainer');\n                    if (this.CustomformObj) {\n                        this.CustomformObj = this.createFormObj(this.CustomformObj, validationRulesArray);\n                    }\n                }\n            }\n            if (!this.formObj && taskFieldColumns && taskFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < taskFieldColumns.length; i++) {\n                    var taskColumn = taskFieldColumns[i]; // Rename the variable\n                    if (taskColumn.visible && taskColumn.validationRules) {\n                        validationRulesArray[taskColumn.field] = taskColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.formObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'GeneralTabContainer');\n                    if (this.formObj) {\n                        this.formObj = this.createFormObj(this.formObj, validationRulesArray);\n                    }\n                }\n            }\n        }\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n    };\n    DialogEdit.prototype.getFilteredDialogFields = function () {\n        var dialogFields = this.isFromAddDialog\n            ? this.parent.addDialogFields\n            : this.parent.editDialogFields;\n        if (dialogFields.length !== 0) {\n            return dialogFields.filter(function (obj) { return obj.type === 'General' || obj.type === 'Custom'; });\n        }\n        return null;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.validateColumn = function (storeColumn, taskfields, storeValidTab) {\n        var _this = this;\n        if (storeValidTab) {\n            storeValidTab.forEach(function (element) {\n                /* eslint-disable-next-line */\n                var targetArray = element.type === 'General' ? _this.taskFieldColumn : _this.customFieldColumn;\n                element.fields.forEach(function (field) {\n                    var columnValue = _this.parent.getColumnByField(field, storeColumn);\n                    if (columnValue !== null) {\n                        targetArray.push(columnValue);\n                    }\n                    else {\n                        targetArray.push(_this.parent.columnByField[field]);\n                    }\n                });\n            });\n        }\n        else {\n            /* eslint-disable-next-line */\n            storeColumn.forEach(function (column) {\n                if (_this.parent.customColumns.indexOf(column.field) !== -1) {\n                    _this.customFieldColumn.push(column);\n                }\n                else {\n                    _this.taskFieldColumn.push(column);\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.createFormObj = function (form, rules) {\n        var _this = this;\n        return new FormValidator(form, {\n            rules: rules,\n            locale: this.parent.locale,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            customPlacement: function (inputElement, error) {\n                var nameAttribute = inputElement.getAttribute('name');\n                if (nameAttribute) {\n                    var columnName = nameAttribute;\n                    _this.valErrorPlacement(inputElement, error, columnName);\n                }\n            }\n        });\n    };\n    DialogEdit.prototype.valErrorPlacement = function (inputElement, error, columnName) {\n        var id = columnName + \"-tooltip\";\n        var elem = this.getElemTable(inputElement);\n        if (!elem) {\n            this.createTooltip(inputElement, error, id);\n        }\n        else {\n            var tooltipContent = elem.querySelector('.e-tip-content');\n            if (tooltipContent) {\n                tooltipContent.innerHTML = error.outerHTML;\n            }\n        }\n    };\n    DialogEdit.prototype.createTooltip = function (inputElement, errorMessage, id, display) {\n        if (display === void 0) { display = 'block'; }\n        var existingTooltip = document.getElementById(id);\n        if (existingTooltip) {\n            existingTooltip.remove();\n        }\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            parentElement.style.position = 'relative';\n        }\n        var tooltipContainer = document.createElement('div');\n        tooltipContainer.className = 'e-tooltip-wrap e-lib e-control e-popup e-griderror';\n        tooltipContainer.style.display = display;\n        tooltipContainer.style.zIndex = '1000';\n        var labelId = id + \"-label\";\n        var tooltipLabel = document.createElement('div');\n        tooltipLabel.id = labelId;\n        tooltipLabel.className = 'sr-only';\n        var tooltipContent = document.createElement('div');\n        tooltipContent.className = 'e-tip-content';\n        var errorMessageElement = document.createElement('div');\n        errorMessageElement.className = 'error-message';\n        errorMessageElement.appendChild(errorMessage.cloneNode(true));\n        var arrow = document.createElement('div');\n        arrow.className = 'e-arrow-tip e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-outer e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-inner e-tip-top';\n        tooltipContainer.setAttribute('aria-labelledby', labelId);\n        tooltipContent.appendChild(errorMessageElement);\n        tooltipContainer.appendChild(tooltipContent);\n        tooltipContainer.appendChild(arrow);\n        tooltipContainer.style.top = '125%';\n        tooltipContainer.style.left = '50%';\n        tooltipContainer.style.transform = 'translateX(-50%)';\n        if (parentElement) {\n            parentElement.appendChild(tooltipLabel);\n            parentElement.appendChild(tooltipContainer);\n        }\n    };\n    DialogEdit.prototype.getElemTable = function (inputElement) {\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            return parentElement.querySelector('.e-tooltip-wrap');\n        }\n        return null;\n    };\n    DialogEdit.prototype.validationComplete = function (args) {\n        var elem = this.getElemTable(args.element);\n        if (elem) {\n            if (args.status === 'failure') {\n                elem.style.display = '';\n            }\n            else {\n                elem.style.display = 'none';\n            }\n        }\n    };\n    DialogEdit.prototype.tabSelectedEvent = function (args) {\n        var ganttObj = this.parent;\n        var id = args.selectedContent.childNodes[0].id;\n        var dialogModule = this.parent.editModule.dialogModule;\n        var dialog = dialogModule.dialog;\n        var hasEditedBatchCell = dialog.getElementsByClassName('e-editedbatchcell').length > 0;\n        var hasEditedOrAddedRow = dialog.getElementsByClassName('e-editedrow').length > 0 ||\n            dialog.getElementsByClassName('e-addedrow').length > 0;\n        if (dialogModule.storeResourceTab && hasEditedBatchCell) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Resources' +\n                'TabContainer_gridcontrol').ej2_instances[0].saveCell();\n        }\n        else if (dialogModule.storeDependencyTab && hasEditedOrAddedRow) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Dependency' +\n                'TabContainer').ej2_instances[0].editModule.batchSave();\n        }\n        if (id === ganttObj.element.id + 'DependencyTabContainer') {\n            this.storeDependencyTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.storeResourceTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'Custom0TabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (id === ganttObj.element.id + 'GeneralTabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n            this.responsiveTabContent(id, ganttObj);\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.resourceSelection(id);\n        }\n        else if (id === ganttObj.element.id + 'NotesTabContainer') {\n            document.getElementById(id).ej2_instances[0].refresh();\n            // const notesTabElement: HTMLElement = document.querySelector('#' + this.parent.element.id + 'NotesTabContainer') as HTMLInputElement;\n        }\n        else if (id === ganttObj.element.id + 'SegmentsTabContainer') {\n            if (isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate)) {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], false);\n            }\n            else {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], true);\n            }\n        }\n    };\n    DialogEdit.prototype.responsiveTabContent = function (id, ganttObj) {\n        var dialogContent = document.getElementById(ganttObj.element.id + '_dialog_dialog-content');\n        var dialogContentHeight = dialogContent.clientHeight;\n        dialogContentHeight -= dialogContent.querySelector('.e-tab-header').offsetHeight;\n        var grid = document.querySelector('#' + id);\n        if (grid.classList.contains('e-grid')) {\n            dialogContentHeight -= grid.ej2_instances[0].getHeaderContent().offsetHeight;\n            var toolbar_1 = grid.querySelector('.e-toolbar');\n            if (toolbar_1) {\n                dialogContentHeight -= toolbar_1.offsetHeight;\n            }\n        }\n        grid.parentElement.style.height = dialogContentHeight + 'px';\n    };\n    DialogEdit.prototype.getFieldsModel = function (fields) {\n        var fieldsModel = {};\n        var columnByField = this.parent.columnByField;\n        for (var i = 0; i < fields.length; i++) {\n            if (fields[i] === this.parent.taskFields.dependency ||\n                fields[i] === this.parent.taskFields.resourceInfo ||\n                fields[i] === this.parent.taskFields.notes) {\n                continue;\n            }\n            if (!isNullOrUndefined(columnByField[fields[i]])) {\n                var fieldName = fields[i];\n                this.createInputModel(columnByField[fieldName], fieldsModel);\n            }\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.createInputModel = function (column, fieldsModel) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var locale = this.parent.locale;\n        var taskSettings = this.parent.taskFields;\n        var common = {\n            placeholder: column.headerText,\n            floatLabelType: 'Auto'\n        };\n        if (!isNullOrUndefined(this.parent.taskFields.id) && !isNullOrUndefined(this.parent.columnMapping.id)\n            && !isNullOrUndefined(this.numericOrString)) {\n            if (taskSettings.id === column.field) {\n                column.editType = this.numericOrString;\n            }\n        }\n        switch (column.editType) {\n            case 'booleanedit':\n                {\n                    var checkboxModel = {\n                        label: column.headerText,\n                        locale: locale,\n                        enableRtl: this.parent.enableRtl\n                    };\n                    fieldsModel[column.field] = checkboxModel;\n                    break;\n                }\n            case 'defaultedit':\n            case 'stringedit':\n                {\n                    var textBox = common;\n                    textBox.enableRtl = this.parent.enableRtl;\n                    if (column.field === ganttObj.columnMapping.duration ||\n                        column.field === ganttObj.columnMapping.id || column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        textBox.change = function (args) {\n                            if (!_this.isTriggered) {\n                                if ((column.field === _this.parent.taskFields.duration ||\n                                    column.field === _this.parent.taskFields.work) && !_this.isTriggered) {\n                                    _this.isTriggered = true;\n                                    _this.parent['triggeredColumnName'] = column.field;\n                                }\n                                _this.validateScheduleFields(args, column, ganttObj);\n                            }\n                            else {\n                                _this.parent['triggeredColumnName'] = '';\n                            }\n                        };\n                    }\n                    fieldsModel[column.field] = common;\n                    break;\n                }\n            case 'numericedit':\n                {\n                    var numeric = common;\n                    numeric.enableRtl = this.parent.enableRtl;\n                    if (taskSettings.progress === column.field) {\n                        numeric.min = 0;\n                        numeric.max = 100;\n                    }\n                    numeric.change = function (args) {\n                        if (!_this.isTriggered) {\n                            if ((column.field === _this.parent.taskFields.duration ||\n                                column.field === _this.parent.taskFields.work) && !_this.isTriggered) {\n                                _this.isTriggered = true;\n                                _this.parent['triggeredColumnName'] = column.field;\n                            }\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        }\n                        else {\n                            _this.parent['triggeredColumnName'] = '';\n                        }\n                    };\n                    fieldsModel[column.field] = numeric;\n                    break;\n                }\n            case 'datepickeredit':\n                {\n                    var datePickerObj = common;\n                    datePickerObj.format = this.parent.getDateFormat();\n                    datePickerObj.enableRtl = this.parent.enableRtl;\n                    datePickerObj.strictMode = true;\n                    datePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        datePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        datePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = datePickerObj;\n                    break;\n                }\n            case 'datetimepickeredit':\n                {\n                    var dateTimePickerObj = common;\n                    dateTimePickerObj.format = this.parent.getDateFormat();\n                    dateTimePickerObj.enableRtl = this.parent.enableRtl;\n                    dateTimePickerObj.strictMode = true;\n                    dateTimePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        dateTimePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        dateTimePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = dateTimePickerObj;\n                    break;\n                }\n            case 'dropdownedit':\n                if (column.field === ganttObj.columnMapping.type || column.field === ganttObj.columnMapping.manual) {\n                    var dataKey = 'dataSource';\n                    var fieldsKey = 'fields';\n                    var types = [\n                        { 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }\n                    ];\n                    common[dataKey] = types;\n                    common[fieldsKey] = { value: 'Value' };\n                    var dropDownListObj = common;\n                    dropDownListObj.enableRtl = this.parent.enableRtl;\n                    dropDownListObj.change = function (args) {\n                        if (column.field === taskSettings.manual) {\n                            _this.editedRecord.ganttProperties.isAutoSchedule = !args.value;\n                        }\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = common;\n                break;\n            case 'maskededit':\n                fieldsModel[column.field] = common;\n                break;\n        }\n        if (!isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.params)) {\n            extend(fieldsModel[column.field], column.edit.params);\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.validateScheduleFields = function (args, column, ganttObj) {\n        var _a;\n        var dialog;\n        if (!isNullOrUndefined(ganttObj.editModule.dialogModule.dialog)) {\n            dialog = ganttObj.editModule.dialogModule.dialog;\n        }\n        var targetId = null;\n        var inputElement;\n        var currentData = ganttObj.editModule.dialogModule.editedRecord;\n        var cellValue = null;\n        var colName = null;\n        var formObject;\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var strViewType = this.parent.viewType;\n        if (!isNullOrUndefined(args.element)) {\n            inputElement = args.element;\n            targetId = inputElement.getAttribute('id');\n        }\n        else if (!isNullOrUndefined(args.container)) {\n            inputElement = args.container;\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        else if (!isNullOrUndefined(args.event) && !isNullOrUndefined(args.event.path) &&\n            !isNullOrUndefined(args.event.path)[1]) {\n            inputElement = args.event.path[1];\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        if (isNullOrUndefined(inputElement)) {\n            cellValue = args.value;\n            colName = column.field;\n        }\n        else {\n            cellValue = inputElement.value;\n            colName = targetId.replace(ganttObj.element.id, '');\n            if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                var customFn = function (args) {\n                    if (strViewType === 'ResourceView') {\n                        return ids.indexOf('T' + args['value']) === -1 && ids.indexOf('R' + args['value']) === -1;\n                    }\n                    else {\n                        return ids.indexOf(args['value']) === -1;\n                    }\n                };\n                var options = {\n                    rules: (_a = {},\n                        _a[this.parent.taskFields.id] = { required: true, minLength: [customFn, 'ID is already present, please enter new value'] },\n                        _a)\n                };\n                /* eslint-disable-next-line */\n                formObject = new FormValidator('#' + this.parent.element.id + 'GeneralTabContainer', options);\n            }\n        }\n        if (colName.search('Segments') === 0) {\n            colName = colName.replace('SegmentsTabContainer', '');\n            this.validateSegmentFields(ganttObj, colName, cellValue, args);\n            this.isTriggered = false;\n            return true;\n        }\n        else {\n            this.validateScheduleValuesByCurrentField(colName, cellValue, this.editedRecord);\n            var ganttProp = currentData.ganttProperties;\n            var tasks = ganttObj.taskFields;\n            if (!isNullOrUndefined(tasks.startDate) && tasks.startDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'startDate');\n            }\n            if (tasks.endDate === colName && !isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(args.value) &&\n                ganttProp.startDate.getTime() > args.value) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.endDate) && tasks.endDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.duration) && tasks.duration !== colName || ganttProp.duration >= 0) {\n                this.updateScheduleFields(dialog, ganttProp, 'duration');\n            }\n            if (!isNullOrUndefined(tasks.work) && (tasks.work !== colName || ganttProp.taskType !== 'FixedWork')) {\n                this.updateScheduleFields(dialog, ganttProp, 'work');\n            }\n            this.dialogEditValidationFlag = false;\n            this.isTriggered = false;\n            return true;\n        }\n    };\n    DialogEdit.prototype.updateScheduleFields = function (dialog, ganttProp, ganttField) {\n        var ganttObj = this.parent;\n        var ganttId = ganttObj.element.id;\n        var columnName = getValue(ganttField, ganttObj.columnMapping);\n        var col = ganttObj.columnByField[columnName];\n        var tempValue;\n        var taskField = this.parent.taskFields;\n        if (col.editType === 'stringedit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var textBox = element.ej2_instances[0];\n                if (textBox) {\n                    tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                        !isNullOrUndefined(col.valueAccessor) ?\n                            col.valueAccessor(columnName, ganttObj.editModule.dialogModule.editedRecord, col) :\n                            this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                    if (textBox.value !== tempValue.toString() && taskField.duration === columnName) {\n                        textBox.value = tempValue;\n                        textBox.dataBind();\n                    }\n                    else if (taskField.startDate === columnName || taskField.endDate === columnName) {\n                        textBox.value = taskField.startDate === columnName ? ganttProp.startDate.toString() : ganttProp.endDate.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'datepickeredit' || col.editType === 'datetimepickeredit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var picker = col.editType === 'datepickeredit' ?\n                    element.ej2_instances[0] :\n                    element.ej2_instances[0];\n                if (picker) {\n                    tempValue = ganttProp[ganttField];\n                    if (((isNullOrUndefined(picker.value)) && !isNullOrUndefined(tempValue)) ||\n                        (isNullOrUndefined(tempValue) && !isNullOrUndefined(picker.value)) ||\n                        (picker.value !== tempValue && !isNullOrUndefined(picker.value) && !isNullOrUndefined(tempValue)\n                            && picker.value.toString() !== tempValue.toString())) {\n                        picker.value = tempValue;\n                        picker.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'numericedit') {\n            var numericTextBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (!isNullOrUndefined(tempValue) && numericTextBox.value !== tempValue) {\n                numericTextBox.value = tempValue;\n                numericTextBox.dataBind();\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.validateDuration = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        if (!this.dialogEditValidationFlag) {\n            if (!isNullOrUndefined(ganttProp.startDate) && !isScheduledTask(ganttProp) && isNullOrUndefined(ganttProp.duration)) {\n                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp) || !isNullOrUndefined(ganttProp.startDate)) {\n                if (ganttData.ganttProperties.isMilestone && ganttData.ganttProperties.duration !== 0) {\n                    var updatedStartDate = this.parent.dateValidationModule.checkStartDate(ganttProp.startDate);\n                    this.parent.setRecordValue('startDate', updatedStartDate, ganttProp, true);\n                    if (this.parent.taskFields.startDate) {\n                        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n                    }\n                }\n                this.parent.dateValidationModule.calculateEndDate(ganttData);\n            }\n            else if (!isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.dateValidationModule.calculateStartDate(ganttData);\n            }\n            var milestone = ganttProp.duration === 0 ? true : false;\n            this.parent.setRecordValue('isMilestone', milestone, ganttProp, true);\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                if (this.parent.allowUnscheduledTasks && isNullOrUndefined(tasks.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(tasks.endDate)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                else {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.endDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else {\n                    if (!isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 0) {\n                        ganttProp.segments = this.parent.editModule.cellEditModule.validateEndDateWithSegments(ganttProp);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    /**\n     *\n     * @param {string} columnName .\n     * @param {string} value .\n     * @param {IGanttData} currentData .\n     * @returns {boolean} .\n     * @private\n     */\n    DialogEdit.prototype.validateScheduleValuesByCurrentField = function (columnName, value, currentData) {\n        var ganttObj = this.parent;\n        var ganttProp = currentData.ganttProperties;\n        var taskSettings = ganttObj.taskFields;\n        if (taskSettings.duration === columnName) {\n            if (!isNullOrUndefined(value) && value !== '' && (parseInt(value, 10) >= 0 || parseFloat(value) >= 0)) {\n                ganttObj.dataOperation.updateDurationValue(value, ganttProp);\n                this.parent.setRecordValue(taskSettings.duration, value, currentData);\n                this.parent.setRecordValue('taskData.' + taskSettings.duration, ganttProp.duration, currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n                this.validateDuration(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    if ((ganttProp.startDate && ganttProp.endDate && ganttProp.startDate.getTime() > ganttProp.endDate.getTime()) || value.indexOf('-') !== -1) {\n                        this.parent.setRecordValue('duration', 0, ganttProp, true);\n                        if (ganttProp.endDate) {\n                            this.parent.setRecordValue('startDate', ganttProp.endDate, ganttProp, true);\n                        }\n                    }\n                    else {\n                        if (value === '') {\n                            this.parent.setRecordValue('duration', null, ganttProp, true);\n                            if (ganttProp.endDate && ganttProp.startDate) {\n                                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                            }\n                        }\n                        else {\n                            var regex = /^[^\\d.-]+$/;\n                            if (regex.test(value)) {\n                                var err = \"The provided value for the \" + taskSettings.duration + \" field is invalid. Please ensure the \" + taskSettings.duration + \" field contains only valid numeric values.\";\n                                this.parent.trigger('actionFailure', { error: err });\n                            }\n                            this.parent.setRecordValue('duration', ganttProp.duration, ganttProp, true);\n                        }\n                    }\n                }\n            }\n            this.parent.editModule.updateResourceRelatedFields(currentData, 'duration');\n        }\n        if (taskSettings.startDate === columnName) {\n            if (value !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp);\n                this.parent.setRecordValue('startDate', startDate, ganttProp, true);\n                this.validateStartDate(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks && !(currentData.hasChildRecords)) {\n                    this.parent.setRecordValue('startDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.endDate === columnName) {\n            if (value !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                if (!isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(endDate) &&\n                    ganttProp.startDate.getTime() > endDate.getTime()) {\n                    endDate = ganttProp.endDate;\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, ganttProp);\n                if (isNullOrUndefined(ganttProp.startDate) || endDate.getTime() >= (ganttProp.startDate).getTime()) {\n                    this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                }\n                this.validateEndDate(currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.work === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                this.parent.setRecordValue('work', value, ganttProp, true);\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n                this.validateDuration(currentData);\n            }\n        }\n        if (columnName === taskSettings.type) {\n            this.parent.setRecordValue('taskType', value, ganttProp, true);\n            // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n            if (value && value === 'FixedDuration' && ganttProp.duration === 0) {\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n            }\n        }\n        if (taskSettings.manual === columnName) {\n            this.parent.editModule.updateTaskScheduleModes(currentData);\n        }\n        return true;\n    };\n    DialogEdit.prototype.getSegmentsModel = function (fields) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [];\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                fields.push(this.parent.taskFields.startDate);\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                fields.push(this.parent.taskFields.endDate);\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                fields.push(this.parent.taskFields.duration);\n            }\n            if (!isNullOrUndefined(taskSettings.id)) {\n                fields.push(this.parent.taskFields.id);\n            }\n        }\n        var segmentInputModel = {};\n        segmentInputModel.editSettings = {\n            allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal', newRowPosition: 'Bottom'\n        };\n        segmentInputModel.locale = this.parent.locale;\n        segmentInputModel.dataSource = [];\n        segmentInputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        segmentInputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var gridColumns = [];\n        var _loop_1 = function (i) {\n            var gridColumn = {};\n            var generalTabString = 'General';\n            switch (fields[i]) {\n                case this_1.parent.taskFields.id:\n                    gridColumn = {\n                        field: fields[i], visible: false, isPrimaryKey: true\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.startDate:\n                case this_1.parent.taskFields.endDate:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant((fields[i] === this_1.parent.taskFields.startDate) ? 'startDate' : 'endDate'), editType: 'stringedit', width: '200px',\n                        edit: {\n                            write: function (args) {\n                                var datePickerModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    datePickerModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    datePickerModel = columnModel[fields[i]];\n                                }\n                                var value = args.rowData[args.column.field];\n                                setValue('value', value, datePickerModel);\n                                var datePicker = new _this.inputs[_this.parent.columnByField[fields[i]].editType](datePickerModel);\n                                datePicker.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value;\n                            }\n                        },\n                        format: this_1.parent.getDateFormat()\n                    };\n                    if (fields[i] === this_1.parent.taskFields.startDate) {\n                        gridColumn.validationRules = { required: true };\n                    }\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.duration:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant(fields[i].toLocaleLowerCase()), editType: 'stringedit',\n                        width: '100px', edit: {\n                            write: function (args) {\n                                var inputTextModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    inputTextModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    inputTextModel = columnModel[fields[i]];\n                                }\n                                inputTextModel.floatLabelType = 'Never';\n                                var value = args.rowData[args.column.field];\n                                if (!isNullOrUndefined(value)) {\n                                    setValue('value', value, inputTextModel);\n                                }\n                                else {\n                                    setValue('value', null, inputTextModel);\n                                }\n                                setValue('value', value, inputTextModel);\n                                var inputModel = new TextBox(inputTextModel);\n                                inputModel.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value.toString();\n                            }\n                        }\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < fields.length; i++) {\n            _loop_1(i);\n        }\n        segmentInputModel.columns = gridColumns;\n        segmentInputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return segmentInputModel;\n    };\n    DialogEdit.prototype.getGridColumnByField = function (fieldName, columns) {\n        var column;\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                column = columns[i];\n            }\n        }\n        return column;\n    };\n    DialogEdit.prototype.updateSegmentField = function (columnName, args, segment) {\n        var dialog = this.parent.editModule.dialogModule.dialog;\n        var gridModel = getValue('Segments', this.beforeOpenArgs);\n        var col = this.getGridColumnByField(columnName, gridModel.columns);\n        var ganttId = this.parent.element.id;\n        var tempValue = segment[columnName];\n        var inputValue;\n        if (col.editType === 'stringedit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        else if (col.editType === 'datepickeredit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        if ((!isNullOrUndefined(inputValue.value)) && (!isNullOrUndefined(tempValue)) &&\n            (inputValue.value.toString() !== tempValue.toString())) {\n            inputValue.value = tempValue;\n            inputValue.dataBind();\n        }\n    };\n    DialogEdit.prototype.validateSegmentFields = function (ganttObj, columnName, cellValue, args) {\n        var taskSettings = this.parent.taskFields;\n        if (!isNullOrUndefined(taskSettings.duration) && taskSettings.duration.toLowerCase() === columnName.toLowerCase()) {\n            if (!isNullOrUndefined(cellValue) && cellValue !== '') {\n                this.selectedSegment[taskSettings.duration] = Number(cellValue);\n                var endDate = ganttObj.dataOperation.getEndDate(this.selectedSegment[taskSettings.startDate], Number(cellValue), this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                endDate = ganttObj.dataOperation.checkEndDate(endDate, this.editedRecord.ganttProperties, false);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate) && taskSettings.startDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate);\n                this.selectedSegment[taskSettings.startDate] = startDate;\n                if (!isNullOrUndefined(taskSettings.endDate)) {\n                    this.selectedSegment.endDate = this.parent.dataOperation.getEndDate(startDate, this.selectedSegment[taskSettings.duration], this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                }\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.endDate) && taskSettings.endDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.editedRecord.ganttProperties);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n                this.selectedSegment[taskSettings.duration] = this.parent.dataOperation.getDuration(this.selectedSegment[taskSettings.startDate], this.selectedSegment[taskSettings.endDate], this.editedRecord.ganttProperties.durationUnit, true, false, true);\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            this.updateSegmentField(taskSettings.startDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            this.updateSegmentField(taskSettings.endDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            this.updateSegmentField(taskSettings.duration, args, this.selectedSegment);\n        }\n    };\n    DialogEdit.prototype.getPredecessorModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['ID', 'Name', 'Type', 'Offset', 'UniqueId'];\n        }\n        var inputModel = {};\n        inputModel.editSettings = { allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal' };\n        inputModel.locale = this.parent.locale;\n        inputModel.dataSource = [];\n        inputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        inputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var columns = [];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i].toLowerCase() === 'id') {\n                column = {\n                    field: 'id', headerText: this.localeObj.getConstant('id'), allowEditing: false, width: '70px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'name') {\n                column = {\n                    field: 'name', headerText: this.localeObj.getConstant('name'), editType: 'stringedit', width: '250px',\n                    validationRules: { required: true }\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'type') {\n                column = {\n                    field: 'type', headerText: this.localeObj.getConstant('type'), editType: 'dropdownedit',\n                    dataSource: this.types, foreignKeyField: 'id', foreignKeyValue: 'text',\n                    defaultValue: 'FS', validationRules: { required: true }, width: '150px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'offset') {\n                column = {\n                    field: 'offset', headerText: this.localeObj.getConstant('offset'), editType: 'stringedit',\n                    defaultValue: this.parent.dataOperation.getDurationString(0, this.beforeOpenArgs.rowData.ganttProperties.durationUnit),\n                    validationRules: { required: true }, width: '100px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'uniqueid') {\n                column = {\n                    field: 'uniqueId', isPrimaryKey: true, visible: false, defaultValue: getUid().toString()\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getResourcesModel = function (fields) {\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [resourceSettings.id, resourceSettings.name, resourceSettings.unit, resourceSettings.group];\n        }\n        var inputModel = {\n            allowFiltering: true,\n            treeColumnIndex: -1,\n            childMapping: '',\n            editSettings: { allowEditing: true, mode: 'Cell' },\n            locale: this.parent.locale,\n            allowSelection: true,\n            rowHeight: this.parent.isAdaptive ? 48 : null,\n            filterSettings: { type: 'Menu' },\n            selectionSettings: { checkboxOnly: true, checkboxMode: 'Default', persistSelection: true, type: 'Multiple' }\n        };\n        var columns = [\n            { type: 'checkbox', allowEditing: false, allowSorting: false, allowFiltering: false, width: 60 }\n        ];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i] === resourceSettings.id) {\n                column = {\n                    field: resourceSettings.id,\n                    headerText: this.localeObj.getConstant('id'), isPrimaryKey: true, width: '100px',\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.name) {\n                column = {\n                    field: resourceSettings.name, headerText: this.localeObj.getConstant('name'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.unit) {\n                column = {\n                    field: resourceSettings.unit,\n                    headerText: this.localeObj.getConstant('unit'),\n                    editType: 'numericedit',\n                    edit: { params: { min: 0 } }\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.group && !isNullOrUndefined(resourceSettings.group)) {\n                column = {\n                    field: resourceSettings.group,\n                    headerText: this.localeObj.getConstant('group'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '196px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getNotesModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['Bold', 'Italic', 'Underline', 'StrikeThrough',\n                'FontName', 'FontSize', 'FontColor', 'BackgroundColor',\n                'LowerCase', 'UpperCase', '|',\n                'Alignments', 'OrderedList', 'UnorderedList',\n                'Outdent', 'Indent', '|', 'CreateTable',\n                'CreateLink', '|', 'ClearFormat', 'Print',\n                '|', 'Undo', 'Redo'];\n        }\n        var inputModel = {\n            placeholder: this.localeObj.getConstant('writeNotes'),\n            toolbarSettings: {\n                items: fields\n            },\n            height: (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : 'auto',\n            locale: this.parent.locale\n        };\n        return inputModel;\n    };\n    DialogEdit.prototype.createDivElement = function (className, id) {\n        return createElement('div', { className: className, id: id });\n    };\n    DialogEdit.prototype.createFormElement = function (className, id) {\n        return createElement('form', { className: className, id: id });\n    };\n    DialogEdit.prototype.createInputElement = function (className, id, fieldName, type) {\n        return createElement(type || 'input', {\n            className: className, attrs: {\n                type: 'text', id: id, name: fieldName,\n                title: fieldName\n            }\n        });\n    };\n    DialogEdit.prototype.renderTabItems = function () {\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var isCustomTab = false;\n        var items = tabModel.items;\n        var index = 0;\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (item.content instanceof HTMLElement) {\n                continue;\n            }\n            else if (item.content === 'General') {\n                item.content = this.renderGeneralTab(item.content);\n            }\n            else if (item.content === 'Dependency') {\n                if (this.editedRecord.hasChildRecords && !this.parent.allowParentDependency) {\n                    item.disabled = true;\n                }\n                item.content = this.renderPredecessorTab(item.content);\n            }\n            else if (item.content === 'Resources') {\n                item.content = this.renderResourceTab(item.content);\n            }\n            else if (item.content === ('Custom' + '' + index)) {\n                isCustomTab = true;\n                item.content = this.renderCustomTab(item.content, isCustomTab);\n                index++;\n            }\n            else if (item.content === 'Notes') {\n                item.content = this.renderNotesTab(item.content);\n            }\n            else if (item.content === 'Segments') {\n                if (this.editedRecord.hasChildRecords) {\n                    item.disabled = true;\n                }\n                item.content = this.renderSegmentsTab(item.content);\n            }\n        }\n    };\n    DialogEdit.prototype.segmentGridActionBegin = function (args) {\n        var _a, _b;\n        var taskFields = this.parent.taskFields;\n        var itemName = 'Segments';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit' || args.requestType === 'save') {\n            var gridData = gridModel.dataSource;\n            var selectedItem = getValue('rowData', args);\n            var startDate = this.beforeOpenArgs.rowData.ganttProperties.startDate;\n            if (!isNullOrUndefined(startDate)) {\n                if (args.requestType === 'add') {\n                    var arg = {};\n                    var sDate = getValue(this.parent.taskFields.startDate, selectedItem);\n                    var eDate = this.parent.taskFields.endDate ? getValue(this.parent.taskFields.endDate, selectedItem) : null;\n                    var duration = void 0;\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        duration = getValue(this.parent.taskFields.duration, selectedItem);\n                    }\n                    var startDate_1 = !isNullOrUndefined(gridData) && gridData.length > 0 ?\n                        (!isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData[0][taskFields.endDate])) ?\n                            new Date(getValue(taskFields.endDate, gridData[0]).getTime()) :\n                            new Date(getValue(taskFields.startDate, gridData[0]).getTime()) :\n                        !isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate) &&\n                            new Date(this.beforeOpenArgs.rowData.ganttProperties.startDate.getTime());\n                    startDate_1.setHours(0, 0, 0, 0);\n                    if (!isNullOrUndefined(gridData) && gridData.length > 0) {\n                        startDate_1.setDate(startDate_1.getDate() + 2);\n                    }\n                    sDate = this.parent.dataOperation.checkStartDate(startDate_1);\n                    eDate = this.parent.dateValidationModule.getDateFromFormat(sDate);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](eDate);\n                    if (eDate.getHours() === 0 && dayEndTime !== 86400) {\n                        this.parent.dateValidationModule.setTime(dayEndTime, eDate);\n                    }\n                    eDate = !isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData) && gridData.length <= 0 ?\n                        this.beforeOpenArgs.rowData.ganttProperties.endDate : eDate;\n                    var rowData = this.beforeOpenArgs.rowData.ganttProperties;\n                    if (sDate.getTime() === eDate.getTime()) {\n                        duration = 1;\n                    }\n                    else {\n                        duration = this.parent.dataOperation.getDuration(sDate, eDate, rowData.durationUnit, true, false, true);\n                    }\n                    if (!isNullOrUndefined(taskFields['duration'])) {\n                        arg = (_a = {},\n                            _a[taskFields['startDate']] = sDate,\n                            _a[taskFields['endDate']] = eDate,\n                            _a[taskFields['duration']] = duration,\n                            _a);\n                    }\n                    else {\n                        arg = (_b = {},\n                            _b[taskFields['startDate']] = sDate,\n                            _b[taskFields['endDate']] = eDate,\n                            _b);\n                    }\n                    args.rowData = arg;\n                }\n            }\n            if (args.requestType === 'save') {\n                var dataSource = gridModel.dataSource;\n                var taskIdField_1 = this.parent.taskFields.id;\n                var newId_1 = dataSource.length;\n                while (dataSource.some(function (item) { return item[taskIdField_1] === newId_1; })) {\n                    newId_1++;\n                }\n                if (isNullOrUndefined(args.data[taskIdField_1])) {\n                    args.data[taskIdField_1] = newId_1;\n                    args.rowData[taskIdField_1] = newId_1;\n                }\n            }\n            this.selectedSegment = args.rowData;\n            // if (args.requestType === 'save') {\n            //     // let duration: string = 'duration';\n            //     // let tempDuration: Object = this.parent.dataOperation.getDurationValue(args.data[duration]);\n            //     // args.data[duration] = getValue('duration', tempDuration);\n            //     this.selectedSegment = !isNullOrUndefined(this.editedRecord.ganttProperties.segments[args.rowIndex]) ?\n            //         this.editedRecord.ganttProperties.segments[args.rowIndex] : !isNullOrUndefined(gridData[args.rowIndex]) ?\n            //             gridData[args.rowIndex] : gridData;\n            // }\n        }\n    };\n    DialogEdit.prototype.getDialogTabIndex = function (tabName) {\n        var indexValue;\n        if (!this.isEdit) {\n            this.parent.addDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        else {\n            this.parent.editDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        return indexValue;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.setInjected = function (dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection) {\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            Grid.Inject(Filter);\n                            break;\n                        case 'allowSorting':\n                            Grid.Inject(Sort);\n                            break;\n                        case 'allowPaging':\n                            Grid.Inject(Page);\n                            break;\n                        case 'allowGrouping':\n                            Grid.Inject(Group);\n                            break;\n                        case 'editSettings':\n                            Grid.Inject(Edit);\n                            break;\n                        case 'aggregates':\n                            Grid.Inject(Aggregate);\n                            break;\n                        case 'showColumnChooser':\n                            Grid.Inject(ColumnChooser);\n                            break;\n                        case 'showColumnMenu':\n                            Grid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            Grid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            Grid.Inject(Resize);\n                            break;\n                        case 'allowReordering':\n                            Grid.Inject(Reorder);\n                            break;\n                        case 'detailTemplate':\n                            Grid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            Grid.Inject(RowDD);\n                            break;\n                        case 'searchSettings':\n                            Grid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            Grid.Inject(Selection);\n                            break;\n                        case 'enableVirtualization':\n                            Grid.Inject(VirtualScroll);\n                            break;\n                        case 'toolbar':\n                            toolbar = allProperty['toolbar'];\n                            toolbar.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        Grid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        Grid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        Grid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        Grid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            toolbarCollection = gridModel.toolbar;\n                            Grid.Inject(GridToolbar);\n                            break;\n                        case 'columns':\n                            columnCollection = gridModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.renderSegmentsTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        if (this.isEdit) {\n            preData = isNullOrUndefined(ganttData.taskData[this.parent.taskFields['segments']]) ? [] : ganttData.taskData[this.parent.taskFields['segments']];\n        }\n        /* eslint-disable-next-line */\n        preData.map(function (item, index) {\n            if (isNullOrUndefined(item[_this.parent.taskFields['id']])) {\n                item[_this.parent.taskFields['id']] = index;\n            }\n        });\n        gridModel.dataSource = preData;\n        gridModel.actionBegin = this.segmentGridActionBegin.bind(this);\n        var tabIndex = this.getDialogTabIndex('Segments');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        var toolbarCollection = [];\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = toolbarCollection.concat(gridModel.toolbar);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderGeneralTab = function (itemName, isCustomTab) {\n        var ganttObj = this.parent;\n        /* eslint-disable-next-line */\n        var addFields = [];\n        var divElement;\n        var itemModel = this.beforeOpenArgs[itemName];\n        if (isCustomTab) {\n            divElement = this.createDivElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        else {\n            divElement = this.createFormElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        var table;\n        var tbody;\n        if (this.parent.enableAdaptiveUI) {\n            divElement.style.height = '100%';\n            table = createElement('table', { className: 'e-table' });\n            table.style.width = '100%';\n            tbody = createElement('tbody');\n        }\n        var getId = divElement.id;\n        for (var _i = 0, _a = Object.keys(itemModel); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.parent.columnByField[key].visible === false) {\n                continue;\n            }\n            var column = this.parent.columnByField[key];\n            var inputModel = itemModel[key];\n            if (this.parent.enableAdaptiveUI) {\n                tbody.appendChild(this.renderInputElements(inputModel, column));\n            }\n            else {\n                divElement.appendChild(this.renderInputElements(inputModel, column));\n            }\n            addFields.push(key);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            table.appendChild(tbody);\n            divElement.appendChild(table);\n        }\n        if (getId !== divElement.id) {\n            divElement.id = getId;\n        }\n        var tabIndex = this.getDialogTabIndex('General');\n        var fields = [];\n        if (!this.isEdit && !isNullOrUndefined(this.parent.addDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.addDialogFields[tabIndex].fields)) {\n            fields = this.parent.addDialogFields[tabIndex].fields;\n        }\n        else if (this.isEdit && !isNullOrUndefined(this.parent.editDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.editDialogFields[tabIndex].fields)) {\n            fields = this.parent.editDialogFields[tabIndex].fields;\n        }\n        if (!isNullOrUndefined(fields)) {\n            var templateFields = fields.filter(function (item) { return !addFields.includes(item); });\n            if (!isNullOrUndefined(templateFields)) {\n                var template = templateFields;\n                for (var i = 0; i <= template.length - 1; i++) {\n                    var scriptElement = document.getElementById(template[i]);\n                    if (!isNullOrUndefined(scriptElement)) {\n                        var templateContent = scriptElement.innerHTML;\n                        var div = createElement('div');\n                        div.innerHTML = templateContent;\n                        divElement.appendChild(div.children[0]);\n                    }\n                }\n            }\n        }\n        return divElement;\n    };\n    DialogEdit.prototype.isCheckIsDisabled = function (column) {\n        var disabled = false;\n        var stringOrNumber;\n        if (column.allowEditing === false || column.isPrimaryKey || this.parent.readOnly) {\n            if (this.parent.customColumns.indexOf(column.field) !== -1) {\n                disabled = true;\n            }\n            else {\n                if (column.field === this.parent.taskFields.baselineStartDate || column.field === this.parent.taskFields.baselineEndDate ||\n                    column.field === this.parent.taskFields.work || column.field === this.parent.taskFields.type ||\n                    column.field === this.parent.taskFields.id || column.field === this.parent.taskFields.name ||\n                    column.field === this.parent.taskFields.duration || column.field === this.parent.taskFields.progress ||\n                    column.field === this.parent.taskFields.startDate || column.field === this.parent.taskFields.endDate) {\n                    for (var i = 0; i < this.parent.currentViewData['length']; i++) {\n                        if (!isNullOrUndefined(this.parent.currentViewData[i].ganttProperties.taskId)) {\n                            stringOrNumber = this.parent.currentViewData[i].ganttProperties.taskId;\n                            break;\n                        }\n                    }\n                    if (typeof (stringOrNumber) === 'string') {\n                        disabled = false;\n                    }\n                    else {\n                        disabled = true;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (column.field === this.parent.taskFields.id) {\n                disabled = true;\n            }\n            if (this.editedRecord.hasChildRecords) {\n                if ((column.field === this.parent.taskFields.endDate &&\n                    ((!isNullOrUndefined(this.editedRecord[this.parent.taskFields.manual]) &&\n                        this.editedRecord[this.parent.taskFields.manual] === false) ||\n                        this.parent.taskMode === 'Auto')) || column.field === this.parent.taskFields.duration ||\n                    column.field === this.parent.taskFields.progress || column.field === this.parent.taskFields.work ||\n                    column.field === this.parent.taskFields.type) {\n                    disabled = true;\n                }\n            }\n        }\n        return disabled;\n    };\n    DialogEdit.prototype.isParentValid = function (data) {\n        if (data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                    break;\n                }\n                if (data[i].hasChildRecords) {\n                    this.isParentValid(data[i].childRecords);\n                }\n                if (!this.isValidData) {\n                    break;\n                }\n            }\n        }\n        return this.isValidData;\n    };\n    DialogEdit.prototype.renderPredecessorTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        var dependencyColumn = this.parent.columnByField[this.parent.taskFields.dependency];\n        if (dependencyColumn.allowEditing === false || dependencyColumn.isPrimaryKey || this.parent.readOnly) {\n            gridModel.editSettings.allowEditing = false;\n            gridModel.editSettings.allowAdding = false;\n            gridModel.editSettings.allowDeleting = false;\n        }\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        this.taskNameCollection();\n        if (this.isEdit) {\n            preData = this.predecessorEditCollection(ganttData);\n            this.updatePredecessorDropDownData(ganttData);\n        }\n        var predecessorLength;\n        if (ganttData[this.parent.taskFields.dependency]) {\n            predecessorLength = ganttData[this.parent.taskFields.dependency].split(',').length;\n        }\n        if (this.preTableCollection.length === 0 || this.preTableCollection.length === predecessorLength) {\n            gridModel.editSettings.allowAdding = false;\n        }\n        gridModel.actionComplete = this.gridActionComplete.bind(this);\n        gridModel.dataSource = preData;\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        gridModel.actionBegin = this.gridActionBegin.bind(this);\n        var columns = gridModel.columns;\n        columns[1].edit = {\n            write: function (args) {\n                if (getValue('requestType', args) === 'add') {\n                    setValue('rowData.uniqueId', getUid(), args);\n                }\n                var field = 'name';\n                var autoObj = new ComboBox({\n                    dataSource: new DataManager(_this.idCollection),\n                    popupHeight: '180px',\n                    allowCustom: false,\n                    enableRtl: _this.parent.enableRtl,\n                    fields: { value: 'text' },\n                    value: args.rowData[field],\n                    change: function (arg) {\n                        var tr = closest(arg.element, 'tr');\n                        var idInput = tr.querySelector('#' + _this.parent.element.id + 'DependencyTabContainerid');\n                        if (idInput) {\n                            if (!isNullOrUndefined(arg.itemData) && !isNullOrUndefined(arg.item)) {\n                                idInput.value = arg.itemData.id;\n                            }\n                            else {\n                                idInput.value = '';\n                            }\n                        }\n                    },\n                    autofill: true\n                });\n                autoObj.appendTo(args.element);\n            },\n            read: function (args) {\n                var ej2Instance = args.ej2_instances[0];\n                return ej2Instance.value;\n            }\n        };\n        var tabIndex = this.getDialogTabIndex('Dependency');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var toolbarCollection = [];\n        var allProperty;\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = gridModel.toolbar.concat(toolbarCollection);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('e-dependent-div', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.updateColumns = function (existingColumns, newColumns) {\n        var columnMap = {};\n        existingColumns.forEach(function (column) {\n            if (typeof column === 'object') {\n                columnMap[column.field] = column;\n            }\n        });\n        newColumns.forEach(function (newColumn) {\n            if (typeof newColumn === 'object') {\n                var field = newColumn.field;\n                if (columnMap[field]) {\n                    Object.assign(columnMap[field], newColumn);\n                }\n                else {\n                    existingColumns.push(newColumn);\n                }\n            }\n        });\n        return existingColumns;\n    };\n    DialogEdit.prototype.gridActionBegin = function (args) {\n        var _this = this;\n        var itemName = 'Dependency';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit') {\n            var isEdit_1 = args.requestType === 'add' ? false : true;\n            this.idCollection = extend([], [], this.preTableCollection, true);\n            var gridData_1 = gridModel.dataSource;\n            var _loop_2 = function (i) {\n                // eslint-disable-next-line\n                this_2.idCollection.forEach(function (data, index) {\n                    if (data.id === getValue('id', gridData_1[i])) {\n                        var selectedItem = getValue('rowData', args);\n                        if (isEdit_1 && getValue('id', selectedItem) === data.id) {\n                            return;\n                        }\n                        _this.idCollection.splice(_this.idCollection.indexOf(data), 1);\n                    }\n                });\n            };\n            var this_2 = this;\n            for (var i = 0; i <= gridData_1.length; i++) {\n                _loop_2(i);\n            }\n        }\n    };\n    DialogEdit.prototype.gridActionComplete = function (args) {\n        if (args.requestType === 'save') {\n            var dialogElement = this.parent.editModule.dialogModule.dialog.querySelector('#' + this.parent.element.id + 'DependencyTabContainer');\n            if (!isNullOrUndefined(dialogElement)) {\n                if (!isNullOrUndefined(args['rows']) && args['rows'].length === this.preTableCollection.length) {\n                    /* eslint-disable-next-line */\n                    var gridObj = dialogElement['ej2_instances'][0];\n                    if (gridObj) {\n                        gridObj.editSettings.allowAdding = false;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.updateResourceCollection = function (args, resourceTreeGridId) {\n        if (!isNullOrUndefined(args.data) && Object.keys(args.data).length) {\n            var treeGridId = document.querySelector('#' + resourceTreeGridId);\n            var resourceTreeGrid = treeGridId.ej2_instances[0];\n            if (!isNullOrUndefined(resourceTreeGrid) && resourceTreeGrid.getSelectedRecords().length > 0) {\n                var tempRecords = resourceTreeGrid.getSelectedRecords();\n                var index = void 0;\n                var selectedItems = [];\n                for (index = 0; index < tempRecords.length; index++) {\n                    var record = tempRecords[index];\n                    if (!isNullOrUndefined(record.taskData) &&\n                        !isNullOrUndefined(record.taskData[this.parent.resourceFields.unit]) &&\n                        !isNullOrUndefined(args.data[this.parent.resourceFields.unit]) &&\n                        (record.taskData[this.parent.resourceFields.id] === args.data[this.parent.resourceFields.id])) {\n                        record.taskData[this.parent.resourceFields.unit] = args.data[this.parent.resourceFields.unit];\n                    }\n                    selectedItems.push(tempRecords[index].taskData);\n                }\n                this.ganttResources = extend([], selectedItems);\n            }\n            else {\n                this.ganttResources = [];\n            }\n        }\n        else {\n            this.ganttResources = [];\n        }\n    };\n    DialogEdit.prototype.renderResourceTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        var ganttData = this.beforeOpenArgs.rowData;\n        if (((this.beforeOpenArgs.requestType === 'beforeOpenEditDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo])) || (this.beforeOpenArgs.requestType === 'beforeOpenAddDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo]))) &&\n            (typeof (this.editedRecord[this.parent.taskFields.resourceInfo]) === 'object')) {\n            this.parent.setRecordValue('resourceInfo', this.parent.dataOperation.setResourceInfo(this.editedRecord), ganttData.ganttProperties, true);\n        }\n        var rowResource = ganttData.ganttProperties.resourceInfo;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var resourceTreeGridId = ganttObj.element.id + '' + itemName + 'TabContainer';\n        var resourceData = [];\n        resourceData = extend([], [], ganttObj.resources, true);\n        this.parent.dataOperation.updateResourceUnit(resourceData);\n        if (!isNullOrUndefined(rowResource)) {\n            var count = void 0;\n            var rowResourceLength = rowResource.length;\n            var index = void 0;\n            var resourceDataLength = resourceData.length;\n            for (count = 0; count < rowResourceLength; count++) {\n                for (index = 0; index < resourceDataLength; index++) {\n                    if (rowResource[count][resourceSettings.id] === resourceData[index][resourceSettings.id]) {\n                        resourceData[index][resourceSettings.unit] = rowResource[count][resourceSettings.unit];\n                    }\n                }\n            }\n        }\n        inputModel.dataSource = resourceData;\n        var resourceInfo = ganttData.ganttProperties.resourceInfo;\n        if (this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        else if (!this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        /* eslint-disable-next-line */\n        inputModel.actionBegin = function (args) {\n            if (args.rowData && args.columnName === _this.parent.resourceFields.unit && _this.editedRecord.ganttProperties.resourceInfo) {\n                for (var i = 0; i < _this.editedRecord.ganttProperties.resourceInfo.length; i++) {\n                    if (_this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.id] ===\n                        args.rowData[_this.parent.resourceFields.id]) {\n                        _this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.unit] = args.value;\n                    }\n                }\n            }\n        };\n        inputModel.rowSelected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        inputModel.rowDeselected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        var divElement = this.createDivElement('e-resource-div', resourceTreeGridId);\n        var tabIndex = this.getDialogTabIndex('Resources');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbars;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            TreeGrid.Inject(TreeGridFilter);\n                            break;\n                        case 'allowSorting':\n                            TreeGrid.Inject(TreeGridSort);\n                            break;\n                        case 'allowPaging':\n                            TreeGrid.Inject(TreeGridPage);\n                            break;\n                        case 'editSettings':\n                            TreeGrid.Inject(TreeGridEdit);\n                            break;\n                        case 'aggregates':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnChooser':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnMenu':\n                            TreeGrid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            TreeGrid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            TreeGrid.Inject(TreeGridResize);\n                            break;\n                        case 'allowReordering':\n                            TreeGrid.Inject(TreeGridReorder);\n                            break;\n                        case 'detailTemplate':\n                            TreeGrid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            TreeGrid.Inject(TreeGridRowDD);\n                            break;\n                        case 'searchSettings':\n                            TreeGrid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            TreeGrid.Inject(TreeGridSelection);\n                            break;\n                        case 'toolbar':\n                            toolbars = allProperty['toolbar'];\n                            toolbars.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        TreeGrid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        TreeGrid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        TreeGrid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        TreeGrid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            if (!isNullOrUndefined(toolbars)) {\n                                inputModel.toolbar = [];\n                                inputModel.toolbar = inputModel.toolbar.concat(toolbars);\n                            }\n                            TreeGrid.Inject(TreeGridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            TreeGrid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = inputModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        TreeGrid.Inject(TreeGridSelection, TreeGridFilter, TreeGridEdit, VirtualScroll, TreeGridToolbar);\n        inputModel = __assign({}, inputModel, allProperty);\n        var columnCollections = this.updateColumns(columnCollection, inputModel.columns);\n        inputModel.columns = columnCollections;\n        var isColumnMenu = false;\n        if (inputModel.showColumnMenu) {\n            isColumnMenu = inputModel.showColumnMenu;\n            inputModel.showColumnMenu = false;\n        }\n        var treeGridObj = new TreeGrid(inputModel);\n        var resourceColumn = this.parent.columnByField[this.parent.taskFields.resourceInfo];\n        if (resourceColumn.allowEditing === false || resourceColumn.isPrimaryKey || this.parent.readOnly) {\n            treeGridObj.allowSelection = false;\n            treeGridObj.allowFiltering = false;\n            treeGridObj.editSettings.allowEditing = false;\n        }\n        treeGridObj.dataBound = function () {\n            if (isColumnMenu) {\n                treeGridObj.showColumnMenu = true;\n            }\n            if (_this.parent.editDialogFields.length >= 1 && _this.parent.editDialogFields[0].type === 'Resources') {\n                var id = _this.parent.element.id + 'ResourcesTabContainer';\n                _this.resourceSelection(id);\n            }\n        };\n        treeGridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.resourceSelection = function (id) {\n        var _this = this;\n        var resourceTreeGrid = document.querySelector('#' + id).ej2_instances[0];\n        this.parent['triggeredColumnName'] = '';\n        var currentViewData = resourceTreeGrid.getCurrentViewRecords();\n        var resources = this.ganttResources;\n        if (resources && resources.length > 0) {\n            currentViewData.forEach(function (data, index) {\n                for (var i = 0; i < resources.length; i++) {\n                    if (data.taskData[_this.parent.resourceFields.id] === resources[i][_this.parent.resourceFields.id] &&\n                        !isNullOrUndefined(resourceTreeGrid.selectionModule) &&\n                        resourceTreeGrid.getSelectedRowIndexes().indexOf(index) === -1) {\n                        resourceTreeGrid.selectRow(index);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.renderCustomTab = function (itemName, isCustomTab) {\n        return this.renderGeneralTab(itemName, isCustomTab);\n    };\n    DialogEdit.prototype.renderNotesTab = function (itemName) {\n        var ganttObj = this.parent;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        var ganttProp = this.editedRecord.ganttProperties;\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        var tabIndex = this.getDialogTabIndex('Notes');\n        var dialogField;\n        var toolbarCollection = [];\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'toolbarSettings':\n                            for (var j = 0; j < allProperty['toolbarSettings'].items.length; j++) {\n                                /* eslint-disable-next-line */\n                                var key = allProperty['toolbarSettings'].items[j];\n                                if (key) {\n                                    switch (key) {\n                                        case 'Image':\n                                            RichTextEditor.Inject(Image);\n                                            break;\n                                        case 'CreateTable':\n                                            RichTextEditor.Inject(Table);\n                                            break;\n                                        case 'EmojiPicker':\n                                            RichTextEditor.Inject(EmojiPicker);\n                                            break;\n                                        case 'FileManager':\n                                            RichTextEditor.Inject(FileManager);\n                                            break;\n                                        case 'FormatPainter':\n                                            RichTextEditor.Inject(FormatPainter);\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                }\n                            }\n                            if (!isNullOrUndefined(allProperty['toolbarSettings'].items)) {\n                                toolbarCollection = inputModel.toolbarSettings.items;\n                            }\n                            RichTextEditor.Inject(RTEToolbar);\n                            break;\n                        case 'editorMode':\n                            RichTextEditor.Inject(MarkdownEditor);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        RichTextEditor.Inject(RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Table);\n        inputModel.value = ganttProp.notes;\n        var notesColumn = this.parent.columnByField[this.parent.taskFields.notes];\n        if (notesColumn.allowEditing === false || notesColumn.isPrimaryKey || this.parent.readOnly) {\n            inputModel.enabled = false;\n        }\n        inputModel = __assign({}, inputModel, allProperty);\n        inputModel.toolbarSettings.items = toolbarCollection.concat(inputModel.toolbarSettings.items);\n        var rteObj = new RichTextEditor(inputModel);\n        rteObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderInputElements = function (inputModel, column) {\n        var _this = this;\n        var ganttId = this.parent.element.id;\n        var ganttData = this.editedRecord;\n        var divElement = this.createDivElement('e-edit-form-column');\n        var inputElement;\n        var tr;\n        var td;\n        if (this.parent.enableAdaptiveUI) {\n            tr = createElement('tr');\n            td = createElement('td');\n            divElement.style.width = '100%';\n        }\n        var editArgs = { column: column, data: ganttData };\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var create = column.edit.create;\n            if (typeof create === 'string') {\n                create = getObject(create, window);\n                inputElement = create(editArgs);\n            }\n            else {\n                inputElement = column.edit.create(editArgs);\n            }\n            inputElement.className = '';\n            inputElement.setAttribute('type', 'text');\n            inputElement.setAttribute('id', ganttId + '' + column.field);\n            inputElement.setAttribute('name', column.field);\n            inputElement.setAttribute('title', column.field);\n            divElement.appendChild(inputElement);\n        }\n        else {\n            inputElement = this.createInputElement('', ganttId + '' + column.field, column.field);\n            divElement.appendChild(inputElement);\n        }\n        inputModel.enabled = !isNullOrUndefined(inputModel.enabled) ? inputModel.enabled : !this.isCheckIsDisabled(column);\n        if (column.field === this.parent.taskFields.duration) {\n            if (!isNullOrUndefined(column.valueAccessor)) {\n                if (typeof column.valueAccessor === 'string') {\n                    var valueAccessor = getObject(column.valueAccessor, window);\n                    inputModel.value = valueAccessor(column.field, ganttData, column);\n                }\n                else {\n                    inputModel.value = column.valueAccessor(column.field, ganttData, column);\n                }\n            }\n            else if (isNullOrUndefined(column.edit)) {\n                var ganttProp = ganttData.ganttProperties;\n                inputModel.value = this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n            }\n        }\n        else {\n            if (column.editType === 'booleanedit') {\n                if (ganttData[column.field] === true) {\n                    inputModel.checked = true;\n                }\n                else {\n                    inputModel.checked = false;\n                }\n            }\n            else {\n                if (!this.parent.taskFields[column.field] && column.editType === 'numericedit' && (ganttData[column.field] === '' || ganttData[column.field] === 0)) {\n                    inputModel.value = 0;\n                }\n                else {\n                    inputModel.value = ganttData[column.field];\n                }\n            }\n        }\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var write = column.edit.write;\n            var inputObj = void 0;\n            if (typeof write === 'string') {\n                write = getObject(write, window);\n                inputObj = write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            else {\n                inputObj = column.edit.write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            if (column.field === this.parent.taskFields.duration) {\n                inputObj.change = function (args) {\n                    _this.validateScheduleFields(args, column, _this.parent);\n                };\n            }\n        }\n        else {\n            var inputObj = new this.inputs[column.editType](inputModel);\n            inputObj.appendTo(inputElement);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            td.appendChild(divElement);\n            tr.appendChild(td);\n            return tr;\n        }\n        else {\n            return divElement;\n        }\n    };\n    DialogEdit.prototype.taskNameCollection = function () {\n        var flatData = this.parent.flatData;\n        this.preTaskIds = [];\n        this.preTableCollection = [];\n        for (var i = 0; i < flatData.length; i++) {\n            var data = flatData[i];\n            if (this.parent.allowParentDependency) {\n                var currentFlatData = data;\n                if (data.parentUniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                }\n                else {\n                    do {\n                        if (currentFlatData.parentItem) {\n                            currentFlatData = this.parent.flatData[this.parent.ids.indexOf(currentFlatData.parentItem.taskId)];\n                            if (currentFlatData.uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                                this.isValidData = false;\n                                break;\n                            }\n                        }\n                    } while (currentFlatData.parentItem);\n                }\n                if (data.hasChildRecords && this.isValidData) {\n                    this.isValidData = this.isParentValid(data.childRecords);\n                }\n                if (!this.isValidData) {\n                    this.isValidData = true;\n                    continue;\n                }\n            }\n            else {\n                if (data.hasChildRecords) {\n                    continue;\n                }\n            }\n            var taskId = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId.toString()\n                : data.ganttProperties.rowUniqueID.toString();\n            var tempObject = {\n                id: taskId,\n                text: (taskId + '-' + data.ganttProperties.taskName),\n                value: taskId\n            };\n            this.preTaskIds.push(tempObject.id);\n            this.preTableCollection.push(tempObject);\n        }\n    };\n    DialogEdit.prototype.predecessorEditCollection = function (ganttData) {\n        var preDataCollection = [];\n        var ganttProp = ganttData.ganttProperties;\n        if (this.isEdit && !isNullOrUndefined(this.parent.taskFields.dependency) && !isNullOrUndefined(ganttData) &&\n            !isNullOrUndefined(ganttProp.predecessor)) {\n            var predecessor = ganttProp.predecessor;\n            var idCollection = this.preTableCollection;\n            for (var i = 0; i < predecessor.length; i++) {\n                var from = predecessor[i].from.toString();\n                var preData = {};\n                var taskID = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n                if (taskID.toString() !== from) {\n                    preData.id = from;\n                    for (var index = 0; index < idCollection.length; index++) {\n                        if (idCollection[index].value === from) {\n                            preData.name = idCollection[index].text;\n                            break;\n                        }\n                    }\n                    preData.type = predecessor[i].type;\n                    var offset = predecessor[i].offset;\n                    var offsetUnit = predecessor[i].offsetUnit;\n                    preData.offset = this.parent.dataOperation.getDurationString(offset, offsetUnit);\n                    preData.uniqueId = getUid();\n                    preDataCollection.push(preData);\n                }\n            }\n        }\n        return preDataCollection;\n    };\n    DialogEdit.prototype.updatePredecessorDropDownData = function (ganttData) {\n        var index = -1;\n        var id = this.parent.viewType === 'ResourceView' ? ganttData.ganttProperties.taskId.toString()\n            : ganttData.ganttProperties.rowUniqueID.toString();\n        index = this.preTaskIds.indexOf(id);\n        this.preTableCollection.splice(index, 1);\n        this.preTaskIds.splice(index, 1);\n        this.validSuccessorTasks(ganttData, this.preTaskIds, this.preTableCollection);\n    };\n    DialogEdit.prototype.validSuccessorTasks = function (data, ids, idCollection) {\n        var _this = this;\n        var ganttProp = data.ganttProperties;\n        if (ganttProp.predecessor && ganttProp.predecessor.length > 0) {\n            var predecessor = ganttProp.predecessor;\n            var fromId_1 = this.parent.viewType === 'ResourceView' ? ganttProp.taskId.toString() : ganttProp.rowUniqueID.toString();\n            predecessor.forEach(function (item) {\n                if (item.from.toString() === fromId_1) {\n                    var toId = item.to;\n                    var idIndex = -1;\n                    idIndex = ids.indexOf(toId);\n                    if (idIndex > -1) {\n                        ids.splice(idIndex, 1);\n                        idCollection.splice(idIndex, 1);\n                    }\n                    var ganttData = _this.parent.connectorLineModule.getRecordByID(toId);\n                    var isIdInclude = true;\n                    for (var _i = 0, _a = _this.processedId; _i < _a.length; _i++) {\n                        var item_1 = _a[_i];\n                        if (item_1.id === ganttData.ganttProperties.taskId) {\n                            if (Array.isArray(item_1.value) && Array.isArray(ganttData.ganttProperties.predecessor)) {\n                                if (item_1.value.length === ganttData.ganttProperties.predecessor.length) {\n                                    var arraysMatch = true;\n                                    for (var i = 0; i < item_1.value.length; i++) {\n                                        if (item_1.value[i] !== ganttData.ganttProperties.predecessor[i]) {\n                                            arraysMatch = false;\n                                            break;\n                                        }\n                                    }\n                                    if (arraysMatch) {\n                                        isIdInclude = false;\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (isIdInclude) {\n                        _this.processedId.push({ id: ganttData.ganttProperties.taskId, value: ganttData.ganttProperties.predecessor });\n                        _this.validSuccessorTasks(ganttData, ids, idCollection);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.getPredecessorType = function () {\n        var typeText = [this.parent.getPredecessorTextValue('SS'), this.parent.getPredecessorTextValue('SF'),\n            this.parent.getPredecessorTextValue('FS'), this.parent.getPredecessorTextValue('FF')];\n        var types = [\n            { id: 'FS', text: typeText[2], value: typeText[2] },\n            { id: 'FF', text: typeText[3], value: typeText[3] },\n            { id: 'SS', text: typeText[0], value: typeText[0] },\n            { id: 'SF', text: typeText[1], value: typeText[1] }\n        ];\n        return types;\n    };\n    DialogEdit.prototype.initiateDialogSave = function () {\n        if (this.isEdit) {\n            this.parent.initiateEditAction(true);\n        }\n        else {\n            this.addedRecord = {};\n        }\n        if (this.currentResources) {\n            this.currentResources = null;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            if (this.isEdit) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'DialogEdit';\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                if (this.parent.viewType === 'ResourceView') {\n                    var isValid = false;\n                    if (!this.rowData.ganttProperties.resourceInfo) {\n                        if (this.ganttResources.length > 0) {\n                            isValid = true;\n                        }\n                    }\n                    else if (this.ganttResources.length !== this.rowData.ganttProperties.resourceInfo.length) {\n                        isValid = true;\n                    }\n                    else {\n                        for (var i = 0; i < this.rowData.ganttProperties.resourceInfo.length; i++) {\n                            if (this.ganttResources[i][this.parent.resourceFields.id] !==\n                                this.rowData.ganttProperties.resourceInfo[i][this.parent.resourceFields.id]) {\n                                isValid = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (isValid) {\n                        var indexes = {};\n                        indexes['deletedIndexes'] = [];\n                        var id_1 = 'T' + this.rowData.ganttProperties.taskId;\n                        var rowItems_1 = [];\n                        this.parent.taskIds.reduce(function (e, i) {\n                            if (i === id_1) {\n                                if (this.ganttResources.length === 0) {\n                                    rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                }\n                                else {\n                                    var parent_1 = this.parent.getTaskByUniqueID(this.parent.flatData[this.parent.taskIds.indexOf(i)].parentUniqueID);\n                                    for (var j = 0; j < this.ganttResources.length; j++) {\n                                        if (parent_1.ganttProperties.taskId !==\n                                            this.ganttResources[j][this.parent.resourceFields.id] &&\n                                            rowItems_1.indexOf(this.parent.flatData[this.parent.taskIds.indexOf(i)]) === -1) {\n                                            rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                        }\n                                    }\n                                }\n                            }\n                        }.bind(this), []);\n                        this.parent.undoRedoModule['findPosition'](extend([], [], rowItems_1, true), indexes, 'deletedIndexes');\n                        if (this['indexes']) {\n                            this['indexes']['deletedIndexes'][this['indexes']['deletedIndexes'].length] = indexes['deletedIndexes'][0];\n                        }\n                        else {\n                            this['indexes'] = indexes;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent['updateDuration'] = true;\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.updateGeneralTab(element, false);\n                }\n                else if (id === 'Dependency') {\n                    this.isFromDialogPredecessor = true;\n                    this.updatePredecessorTab(element);\n                    this.isFromDialogPredecessor = false;\n                }\n                else if (id === 'Notes') {\n                    this.updateNotesTab(element);\n                }\n                else if (id === 'Resources') {\n                    this.updateResourceTab(element);\n                    this.dialogEditValidationFlag = false;\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.updateCustomTab(element);\n                }\n                else if (id === 'Segments') {\n                    this.updateSegmentsData(element);\n                }\n            }\n        }\n        if (!this.disableUndo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n            if (this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n            this.parent['totalUndoAction']--;\n        }\n        if (this.isEdit) {\n            /**\n             * If any update on edited task do it here\n             */\n            this.parent.editModule['editedRecord'] = this.rowData;\n            this.parent.dataOperation.updateWidthLeft(this.rowData);\n            var editArgs = {\n                data: this.rowData,\n                action: 'DialogEditing'\n            };\n            this.parent.editModule.initiateUpdateAction(editArgs);\n        }\n        else {\n            this.parent.editModule['editedRecord'] = this.addedRecord;\n            if (this.parent.viewType === 'ResourceView') {\n                var newRecords = extend({}, this.addedRecord, true);\n                if (newRecords[this.parent.taskFields.resourceInfo].length) {\n                    for (var i = 0; i < newRecords[this.parent.taskFields.resourceInfo].length; i++) {\n                        var id = newRecords[this.parent.taskFields.resourceInfo][i].toString();\n                        var parentRecordIndex = this.parent.getTaskIds().indexOf('R' + id.toString());\n                        if (parentRecordIndex !== -1) {\n                            this.parent.editModule.addRecord(this.addedRecord, 'Child', parentRecordIndex);\n                            break;\n                        }\n                    }\n                }\n                else {\n                    this.parent.editModule.addRecord(this.addedRecord, 'Bottom');\n                }\n            }\n            else {\n                this.parent.editModule.addRecord(this.addedRecord, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n            }\n        }\n        return true;\n    };\n    DialogEdit.prototype.compareObjects = function (prevSegments, currentSegments) {\n        if (!isNullOrUndefined(prevSegments)) {\n            return prevSegments.every(function (obj1, index) {\n                var obj2 = currentSegments[index];\n                var key = Object.keys(obj1);\n                for (var i = 0; i < key.length; i++) {\n                    if (key[i] === 'startDate' || key[i] === 'endDate') {\n                        if (obj1[key[i]].getTime() !== obj2[key[i]].getTime()) {\n                            return true;\n                        }\n                    }\n                    else if (key[i] === 'duration' && obj1[key[i]] !== obj2[key[i]]) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n        }\n        return false;\n    };\n    DialogEdit.prototype.updateSegmentTaskData = function (dataSource) {\n        var taskSettings = this.parent.taskFields;\n        if (!this.isEdit) {\n            this.addedRecord[taskSettings.segments] = dataSource;\n        }\n        else {\n            var prevSegments = this.rowData.ganttProperties.segments;\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, dataSource, this.rowData);\n            var currentSegments = this.parent.dataOperation.setSegmentsInfo(this.rowData, true);\n            if (this.parent.enableUndoRedo && (prevSegments && currentSegments && (prevSegments.length !== currentSegments.length)) ||\n                (!prevSegments && currentSegments) || ((prevSegments && !currentSegments)) ||\n                this.compareObjects(prevSegments, currentSegments)) {\n                this.disableUndo = true;\n            }\n            this.parent.setRecordValue('segments', currentSegments, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, false), this.rowData.ganttProperties, true);\n            if (dataSource.length <= 0) {\n                this.validateDuration(this.rowData);\n            }\n        }\n    };\n    DialogEdit.prototype.updateSegmentsData = function (segmentForm) {\n        var gridObj = segmentForm.ej2_instances[0];\n        var isEdit = gridObj.isEdit;\n        var dataSource;\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        if (isEdit && gridObj.currentViewData.length !== gridObj.dataSource['length']) {\n            dataSource = gridObj.dataSource;\n        }\n        else {\n            dataSource = gridObj.currentViewData;\n        }\n        this.updateSegmentTaskData(dataSource);\n    };\n    DialogEdit.prototype.updateGeneralTab = function (generalForm, isCustom) {\n        var ganttObj = this.parent;\n        var childNodes = generalForm.childNodes;\n        var tasksData = {};\n        if (!this.isEdit) {\n            tasksData = this.addedRecord;\n        }\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]') || div.querySelector('textarea[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit' && fieldName === this.parent.taskFields.id) {\n                    var valueString = controlObj.value.toString();\n                    controlObj.value = valueString;\n                }\n                var column = ganttObj.columnByField[fieldName];\n                if (fieldName === this.parent.taskFields.duration ?\n                    parseInt(this.rowData[fieldName], 10) !== parseInt(controlObj.value, 10) :\n                    this.rowData[fieldName] !== controlObj.value) {\n                    this.disableUndo = true;\n                }\n                if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                    var read = column.edit.read;\n                    if (typeof read === 'string') {\n                        read = getObject(read, window);\n                        tasksData[fieldName] = read(inputElement, controlObj.value);\n                    }\n                    else {\n                        tasksData[fieldName] = column.edit.read(inputElement, controlObj.value);\n                    }\n                }\n                else if (!isNullOrUndefined(column) && column.editType === 'booleanedit') {\n                    if (inputElement instanceof HTMLInputElement && inputElement.checked === true) {\n                        tasksData[fieldName] = true;\n                    }\n                    else {\n                        tasksData[fieldName] = false;\n                    }\n                }\n                else {\n                    if (fieldName === this.parent.taskFields.duration) {\n                        var numericValue = parseFloat(String(controlObj.value));\n                        tasksData[fieldName] = numericValue;\n                    }\n                    else {\n                        if (this.parent.weekWorkingTime.length > 0 && controlObj.value && (fieldName === this.parent.taskFields.startDate ||\n                            fieldName === this.parent.taskFields.baselineStartDate)) {\n                            var sDate = fieldName === this.parent.taskFields.startDate ? this.beforeOpenArgs.rowData['ganttProperties'].startDate : this.beforeOpenArgs.rowData['ganttProperties'].baselineStartDate;\n                            var prevDay = this.parent['getStartTime'](sDate);\n                            if (prevDay / 3600 === sDate.getHours()) {\n                                var dayStartTime = this.parent['getStartTime'](controlObj.value);\n                                this.parent.dataOperation.setTime(dayStartTime, controlObj.value);\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                            else {\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                        }\n                        else {\n                            tasksData[fieldName] = controlObj.value;\n                        }\n                    }\n                    if (this.parent.enableHtmlSanitizer && typeof (controlObj.value) === 'string') {\n                        controlObj.value = SanitizeHtmlHelper.sanitize(controlObj.value);\n                        tasksData[fieldName] = controlObj.value;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (!isCustom) {\n                this.updateScheduleProperties(this.editedRecord, this.rowData);\n            }\n            ganttObj.editModule.validateUpdateValues(tasksData, this.rowData, true);\n        }\n    };\n    DialogEdit.prototype.updateScheduleProperties = function (fromRecord, toRecord) {\n        this.parent.setRecordValue('startDate', fromRecord.ganttProperties.startDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('endDate', fromRecord.ganttProperties.endDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('duration', fromRecord.ganttProperties.duration, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('work', fromRecord.ganttProperties.work, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('type', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskType', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceNames', fromRecord.ganttProperties.resourceNames, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceInfo', fromRecord.ganttProperties.resourceInfo, toRecord.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, 'startDate');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, 'endDate');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n            this.parent.dataOperation.updateMappingData(toRecord, 'duration');\n            this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, this.rowData, true);\n            if (this.rowData.ganttProperties.duration === 0) {\n                this.parent.setRecordValue('isMilestone', true, toRecord.ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('isMilestone', false, this.rowData.ganttProperties, true);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'work');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.manual)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'manual');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.type)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'type');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.resourceInfo)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'resourceInfo');\n        }\n    };\n    DialogEdit.prototype.getMatchingPrefix = function (preData, idArray) {\n        var parts = preData.name.split('-');\n        var current = '';\n        for (var i = 0; i < parts.length; i++) {\n            current = current === '' ? parts[i] : current + '-' + parts[i];\n            if (idArray.indexOf(current) !== -1) {\n                return [current];\n            }\n        }\n        return [];\n    };\n    DialogEdit.prototype.updatePredecessorTab = function (preElement) {\n        var gridObj = preElement.ej2_instances[0];\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        var dataSource = gridObj.dataSource;\n        var predecessorName = [];\n        var newValues = [];\n        var predecessorString = '';\n        var ids = [];\n        var parentRecord = [];\n        for (var i = 0; i < dataSource.length; i++) {\n            var preData = dataSource[i];\n            var splitString = this.getMatchingPrefix(preData, this.parent.ids);\n            if (isNullOrUndefined(preData.id) || (preData.id !== splitString[0] && !isNullOrUndefined(splitString[0]))) {\n                preData.id = splitString[0];\n            }\n            if (ids.indexOf(preData.id) === -1) {\n                if (this.parent.viewType === 'ProjectView') {\n                    var currentRecord = this.parent.flatData[(this.parent.ids.indexOf(preData.id))];\n                    if (currentRecord.hasChildRecords && parentRecord.indexOf(currentRecord) === -1) {\n                        parentRecord.push(currentRecord);\n                    }\n                }\n                var name_1 = preData.id + preData.type;\n                if (preData.offset && preData.offset.indexOf('-') !== -1) {\n                    name_1 += preData.offset;\n                }\n                else {\n                    name_1 += ('+' + preData.offset);\n                }\n                predecessorName.push(name_1);\n                ids.push(preData.id);\n            }\n        }\n        if (this.isEdit) {\n            if (predecessorName.length > 0) {\n                newValues = this.parent.predecessorModule.calculatePredecessor(predecessorName.join(','), this.rowData);\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = this.parent.predecessorModule.getPredecessorStringValue(this.rowData);\n            }\n            else {\n                newValues = [];\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = '';\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (predecessorString !== '' || (!isNullOrUndefined(this.rowData.ganttProperties.predecessorsName) && this.rowData.ganttProperties.predecessorsName !== predecessorString) && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n            }\n            this.parent.setRecordValue('predecessorsName', predecessorString, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.predecessorModule.updateUnscheduledDependency(this.rowData);\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.dependency] = predecessorName.length > 0 ? predecessorName.join(',') : '';\n        }\n    };\n    DialogEdit.prototype.updateResourceTab = function (resourceElement) {\n        var _this = this;\n        var treeGridObj = resourceElement.ej2_instances[0];\n        if (treeGridObj) {\n            treeGridObj.grid.endEdit();\n        }\n        var selectedItems = this.ganttResources;\n        selectedItems.forEach(function (item) {\n            if (item[_this.parent.resourceFields.unit] === null) {\n                item[_this.parent.resourceFields.unit] = 0;\n            }\n        });\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(this.rowData.ganttProperties)) {\n            if (JSON.stringify(this.ganttResources) !== JSON.stringify(this.rowData.ganttProperties.resourceInfo)) {\n                this.isResourceUpdate = true;\n                this.previousResource = !isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) ? this.rowData.ganttProperties.resourceInfo.slice() : [];\n            }\n            else {\n                this.isResourceUpdate = false;\n            }\n        }\n        var idArray = [];\n        if (this.isEdit) {\n            if ((this.rowData.ganttProperties.resourceInfo && selectedItems.length !== this.rowData.ganttProperties.resourceInfo.length) ||\n                (isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) && selectedItems.length > 0)) {\n                this.disableUndo = true;\n            }\n            if (!this.disableUndo) {\n                for (var i = 0; i < selectedItems.length; i++) {\n                    if (JSON.stringify(selectedItems[i]) !==\n                        JSON.stringify(this.rowData.ganttProperties.resourceInfo[i])) {\n                        this.disableUndo = true;\n                        break;\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceInfo', selectedItems, this.editedRecord.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(this.editedRecord, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(this.editedRecord, 'resource');\n            this.validateDuration(this.editedRecord);\n            this.updateScheduleProperties(this.editedRecord, this.rowData);\n        }\n        else {\n            for (var i = 0; i < selectedItems.length; i++) {\n                idArray.push(selectedItems[i][this.parent.resourceFields.id]);\n                this.isAddNewResource = true;\n            }\n            this.addedRecord[this.parent.taskFields.resourceInfo] = idArray;\n        }\n    };\n    DialogEdit.prototype.updateNotesTab = function (notesElement) {\n        var ganttObj = this.parent;\n        var rte = notesElement.ej2_instances[0];\n        if (this.isEdit) {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                if (this.rowData.ganttProperties.notes !== rte.getHtml() && (this.rowData.ganttProperties.notes !== null || rte.getHtml() !== '<p><br></p>') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n            }\n            else {\n                if (this.rowData.ganttProperties.notes !== rte.getText() && (this.rowData.ganttProperties.notes !== null || rte.getText() !== '') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                if (rte.getHtml().includes('href')) {\n                    this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('notes', rte.getText(), this.rowData.ganttProperties, true);\n                }\n            }\n            ganttObj.dataOperation.updateMappingData(this.rowData, 'notes');\n        }\n        else {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                this.addedRecord[this.parent.taskFields.notes] = rte.getHtml();\n            }\n            else {\n                this.addedRecord[this.parent.taskFields.notes] = rte.getText();\n            }\n        }\n    };\n    DialogEdit.prototype.updateCustomTab = function (customElement) {\n        this.updateGeneralTab(customElement, true);\n    };\n    return DialogEdit;\n}());\nexport { DialogEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { getValue, createElement, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { parentsUntil, formatString, isScheduledTask, getIndex } from '../base/utils';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * File for handling connector line edit operation in Gantt.\n *\n */\nvar ConnectorLineEdit = /** @class */ (function () {\n    function ConnectorLineEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.validationPredecessor = null;\n        /** @private */\n        this.confirmPredecessorDialog = null;\n        /** @private */\n        this.predecessorIndex = null;\n        /** @private */\n        this.childRecord = null;\n        this.validatedId = [];\n        this.validatedOffsetIds = [];\n        this.isPublicDependencyDelete = false;\n        this.parent = ganttObj;\n        this.dateValidateModule = this.parent.dateValidationModule;\n        this.parent.on('initPredessorDialog', this.initPredecessorValidationDialog, this);\n    }\n    /**\n     * To update connector line edit element.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updateConnectorLineEditElement = function (e) {\n        var element = this.getConnectorLineHoverElement(e.target);\n        if (!getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            this.highlightConnectorLineElements(element);\n        }\n    };\n    /**\n     * To get hovered connector line element.\n     *\n     * @param {EventTarget} target .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getConnectorLineHoverElement = function (target) {\n        var isOnLine = parentsUntil(target, cls.connectorLineSVG);\n        var isArrow = parentsUntil(target, cls.connectorLineArrow);\n        var isCriticalLine = parentsUntil(target, cls.criticalConnectorLineSVG);\n        var isCriticalArrow = parentsUntil(target, cls.criticalConnectorArrowSVG);\n        if (isOnLine || isArrow || isCriticalLine || isCriticalArrow) {\n            return parentsUntil(target, cls.connectorLineContainer);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To highlight connector line while hover.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.highlightConnectorLineElements = function (element) {\n        if (element) {\n            if (element !== this.connectorLineElement) {\n                this.removeHighlight();\n                this.addHighlight(element);\n            }\n        }\n        else {\n            this.removeHighlight();\n        }\n    };\n    /**\n     * To add connector line highlight class.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addHighlight = function (element) {\n        this.connectorLineElement = element;\n        var pathElement = element.querySelector('.' + cls.connectorLineSVG);\n        if (pathElement) {\n            pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke'] + 1).toString());\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removeHighlight = function () {\n        if (this.connectorLineElement) {\n            var pathElement = this.connectorLineElement.querySelector('.' + cls.connectorLineSVG);\n            if (pathElement) {\n                pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke']).toString());\n            }\n            this.connectorLineElement = null;\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @param {IGanttData[]} records .\n     * @returns {DocumentFragment} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getEditedConnectorLineString = function (records) {\n        var ganttRecord;\n        var predecessorsCollection;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var connectorObj;\n        var idSet = new Set();\n        var lineFragment = document.createDocumentFragment();\n        for (var count = 0; count < records.length; count++) {\n            ganttRecord = records[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (!predecessorsCollection) {\n                continue;\n            }\n            for (var predecessorCount = 0; predecessorCount < predecessorsCollection.length; predecessorCount++) {\n                var predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                var connectorLineId = 'parent' + predecessor[from] + 'child' + predecessor[to];\n                this.parent.connectorLineModule.removeConnectorLineById(connectorLineId);\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                if ((!this.parent.allowParentDependency && ((parentGanttRecord && parentGanttRecord.expanded) ||\n                    (childGanttRecord && childGanttRecord.expanded))) ||\n                    (this.parent.allowParentDependency && (parentGanttRecord || childGanttRecord))) {\n                    connectorObj = this.parent.predecessorModule.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                    if (!isNullOrUndefined(connectorObj) && !idSet.has(connectorObj.connectorLineId)) {\n                        var lineElement = this.parent.connectorLineModule.getConnectorLineTemplate(connectorObj);\n                        idSet.add(connectorObj.connectorLineId);\n                        lineFragment.appendChild(lineElement);\n                    }\n                }\n            }\n        }\n        return lineFragment;\n    };\n    /**\n     * Tp refresh connector lines of edited records\n     *\n     * @param {IGanttData[]} editedRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.refreshEditedRecordConnectorLine = function (editedRecord) {\n        this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.previousRecords);\n        this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        var editedConnectorElement = this.getEditedConnectorLineString(editedRecord);\n        if (editedConnectorElement) {\n            this.parent.connectorLineModule.svgObject.appendChild(editedConnectorElement);\n        }\n    };\n    ConnectorLineEdit.prototype.idFromPredecessor = function (pre) {\n        var preArray = pre.split(',');\n        var preIdArray = [];\n        var values = [];\n        var match = [];\n        for (var j = 0; j < preArray.length; j++) {\n            var strArray = [];\n            var firstPart = void 0;\n            var isAlpha = false;\n            var predecessorName = void 0;\n            var isGUId = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = preArray[j].split('-');\n            var id = void 0;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = preArray[j].substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (preArray[j].includes('-')) {\n                if (preArray[j].includes('-') && (preArray[j].includes('days') || preArray[j].includes('day'))) {\n                    var splitName = preArray[j].split(/-(?=\\d)/);\n                    if (splitName.length > 0) {\n                        predecessorName = splitName[splitName.length - 1];\n                    }\n                }\n                if (preArray[j].includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = preArray[j].indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = preArray[j].substring(0, indexFS - 1);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = preArray[j];\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = preArray[j];\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = preArray[j].split('+');\n                    if (preArray[j].indexOf('-') >= 0) {\n                        values = preArray[j].split('-');\n                    }\n                }\n            }\n            if (!isNullOrUndefined(values[0])) {\n                var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                if (ids.indexOf(values[0]) === -1) {\n                    if (values[0].indexOf(' ') !== -1) {\n                        match = values[0].split(' ');\n                        if (match.length === 1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        strArray.push(match[0]);\n                    }\n                    else {\n                        if (values[0].length === 1 || values[0].length === 2) {\n                            strArray.push(values[0]);\n                        }\n                        else {\n                            strArray.push(values[0].slice(0, -2));\n                        }\n                    }\n                }\n                else {\n                    strArray.push(values[0]);\n                }\n            }\n            preIdArray.push((strArray.join('')));\n        }\n        return preIdArray;\n    };\n    ConnectorLineEdit.prototype.predecessorValidation = function (predecessor, record) {\n        var recordId = record.rowUniqueID;\n        var currentId;\n        var currentRecord;\n        for (var count = 0; count < predecessor.length; count++) {\n            currentId = predecessor[count];\n            var visitedIdArray = [];\n            var predecessorCollection = predecessor.slice(0);\n            predecessorCollection.splice(count, 1);\n            var _loop_1 = function () {\n                var currentIdArray = [];\n                if (visitedIdArray.indexOf(currentId) === -1) {\n                    //Predecessor id not in records collection\n                    if (isNullOrUndefined(this_1.parent.connectorLineModule.getRecordByID(currentId))) {\n                        return { value: false };\n                    }\n                    currentRecord = this_1.parent.connectorLineModule.getRecordByID(currentId).ganttProperties;\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentRecord.predecessor.forEach(function (value) {\n                            if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                currentIdArray.push(value.from.toString());\n                            }\n                        });\n                    }\n                    /* eslint-disable-next-line */\n                    if (recordId.toString() === currentRecord.rowUniqueID.toString() || currentIdArray.indexOf(recordId.toString()) !== -1) {\n                        return { value: false };\n                    }\n                    visitedIdArray.push(currentId);\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentId = currentRecord.predecessor[0].from;\n                    }\n                    else {\n                        return \"break\";\n                    }\n                }\n                else {\n                    return \"break\";\n                }\n            };\n            var this_1 = this;\n            while (currentId !== null) {\n                var state_1 = _loop_1();\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        return true;\n    };\n    /**\n     * To validate predecessor relations\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validatePredecessorRelation = function (ganttRecord, predecessorString) {\n        var flag = true;\n        var recordId = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n            : ganttRecord.ganttProperties.rowUniqueID;\n        var predecessorIdArray;\n        var currentId;\n        if (!isNullOrUndefined(predecessorString) && predecessorString.length > 0) {\n            predecessorIdArray = this.idFromPredecessor(predecessorString);\n            var _loop_2 = function (count) {\n                //Check edited item has parent item in predecessor collection\n                if (!this_2.parent.allowParentDependency) {\n                    var checkParent = this_2.checkParentRelation(ganttRecord, predecessorIdArray);\n                    if (!checkParent) {\n                        return { value: false };\n                    }\n                }\n                else {\n                    if (parseInt(predecessorIdArray[predecessorIdArray.length - 1], 10) !== ganttRecord[this_2.parent.taskFields.id]) {\n                        var num = this_2.parent.ids.indexOf(predecessorIdArray[predecessorIdArray.length - 1]);\n                        var fromRecord = this_2.parent.currentViewData[num];\n                        if (fromRecord && ganttRecord) {\n                            flag = this_2.parent.predecessorModule.validateParentPredecessor(fromRecord, ganttRecord);\n                        }\n                    }\n                }\n                // Check if predecessor exist more then one\n                var tempIdArray = predecessorIdArray.slice(0);\n                var checkArray = [];\n                var countFlag = true;\n                tempIdArray.forEach(function (value) {\n                    if (checkArray.indexOf(value) === -1) {\n                        checkArray.push(value);\n                    }\n                    else {\n                        countFlag = false;\n                    }\n                });\n                if (!countFlag) {\n                    return { value: false };\n                }\n                //Cyclick check\n                currentId = predecessorIdArray[count];\n                var visitedIdArray = [];\n                var predecessorCollection = predecessorIdArray.slice(0);\n                predecessorCollection.splice(count, 1);\n                var _loop_3 = function () {\n                    var currentIdArray = [];\n                    var currentIdIndex;\n                    var currentRecord;\n                    if (visitedIdArray.indexOf(currentId) === -1) {\n                        //Predecessor id not in records collection\n                        if (isNullOrUndefined(this_2.parent.connectorLineModule.getRecordByID(currentId.toString()))) {\n                            return { value: false };\n                        }\n                        currentRecord = this_2.parent.connectorLineModule.getRecordByID(currentId.toString()).ganttProperties;\n                        //  let currentPredecessor='';\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            currentRecord.predecessor.forEach(function (value, index) {\n                                if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                    currentIdArray.push(value.from.toString());\n                                    currentIdIndex = index;\n                                }\n                            });\n                            //    currentPredecessor=currentRecord.predecessor[0].from\n                        }\n                        if (recordId.toString() === currentRecord.rowUniqueID.toString() ||\n                            currentIdArray.indexOf(recordId.toString()) !== -1) {\n                            return { value: false };\n                        }\n                        visitedIdArray.push(currentId);\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            var result = void 0;\n                            if (currentIdArray.length > 1) {\n                                result = this_2.predecessorValidation(currentIdArray, ganttRecord.ganttProperties);\n                            }\n                            else if (currentIdArray.length === 1) {\n                                currentId = currentRecord.predecessor[currentIdIndex].from;\n                            }\n                            if (result === false) {\n                                return { value: false };\n                            }\n                        }\n                        else {\n                            return \"break\";\n                        }\n                    }\n                    else {\n                        return \"break\";\n                    }\n                };\n                while (currentId !== null) {\n                    var state_3 = _loop_3();\n                    if (typeof state_3 === \"object\")\n                        return state_3;\n                    if (state_3 === \"break\")\n                        break;\n                }\n            };\n            var this_2 = this;\n            for (var count = 0; count < predecessorIdArray.length; count++) {\n                var state_2 = _loop_2(count);\n                if (typeof state_2 === \"object\")\n                    return state_2.value;\n            }\n        }\n        return flag;\n    };\n    /**\n     * To add dependency for Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addPredecessor = function (ganttRecord, predecessorString) {\n        var tempPredecessorString = isNullOrUndefined(ganttRecord.ganttProperties.predecessorsName) ||\n            ganttRecord.ganttProperties.predecessorsName === '' ?\n            predecessorString : (ganttRecord.ganttProperties.predecessorsName + ',' + predecessorString);\n        this.updatePredecessorHelper(ganttRecord, tempPredecessorString);\n    };\n    /**\n     * To remove dependency from task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessor = function (ganttRecord) {\n        this.isPublicDependencyDelete = true;\n        this.updatePredecessorHelper(ganttRecord, null);\n    };\n    /**\n     * To modify current dependency values of Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updatePredecessor = function (ganttRecord, predecessorString, editedArgs) {\n        return this.updatePredecessorHelper(ganttRecord, predecessorString, editedArgs);\n    };\n    ConnectorLineEdit.prototype.updatePredecessorHelper = function (ganttRecord, predecessorString, editedArgs) {\n        if (isUndefined(predecessorString) || this.validatePredecessorRelation(ganttRecord, predecessorString)) {\n            this.parent.isOnEdit = true;\n            var predecessorCollection = [];\n            if (!isNullOrUndefined(predecessorString) && predecessorString !== '') {\n                predecessorCollection = this.parent.predecessorModule.calculatePredecessor(predecessorString, ganttRecord);\n            }\n            this.parent.setRecordValue('predecessor', predecessorCollection, ganttRecord.ganttProperties, true);\n            var stringValue = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', stringValue, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, stringValue, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, stringValue, ganttRecord);\n            var args = {};\n            args.action = editedArgs && editedArgs.action && editedArgs.action === 'CellEditing' ? editedArgs.action : ((this.parent.contextMenuModule && this.parent.contextMenuModule['isCntxtMenuDependencyDelete']) ||\n                this.isPublicDependencyDelete) ? 'DeleteConnectorLine' : 'DrawConnectorLine';\n            args.data = ganttRecord;\n            this.parent.editModule.initiateUpdateAction(args);\n            return true;\n        }\n        else {\n            if (ganttRecord.taskData[this.parent.taskFields.dependency]) {\n                ganttRecord.taskData[this.parent.taskFields.dependency] = null;\n            }\n            var err = predecessorString + \" is an invalid relation for task \" + this.parent.taskFields.id + \". Kindly ensure the \" + this.parent.taskFields.dependency + \" field contains only valid predecessor relations.\";\n            this.parent.trigger('actionFailure', { error: err });\n            return false;\n        }\n    };\n    ConnectorLineEdit.prototype.checkParentRelation = function (ganttRecord, predecessorIdArray) {\n        var editingData = ganttRecord;\n        var checkParent = true;\n        if (editingData && editingData.parentItem) {\n            if (predecessorIdArray.indexOf(editingData.parentItem.taskId.toString()) !== -1) {\n                return false;\n            }\n        }\n        var _loop_4 = function (p) {\n            var record = this_3.parent.currentViewData.filter(function (item) {\n                return item && item.ganttProperties.rowUniqueID.toString() === predecessorIdArray[p].toString();\n            });\n            if (record[0] && record[0].hasChildRecords) {\n                return { value: false };\n            }\n        };\n        var this_3 = this;\n        for (var p = 0; p < predecessorIdArray.length; p++) {\n            var state_4 = _loop_4(p);\n            if (typeof state_4 === \"object\")\n                return state_4.value;\n        }\n        return checkParent;\n    };\n    ConnectorLineEdit.prototype.initPredecessorValidationDialog = function () {\n        if (this.parent.taskFields.dependency && this.parent.isInPredecessorValidation) {\n            var dialogElement = createElement('div', {\n                id: this.parent.element.id + '_dialogValidationRule'\n            });\n            this.parent.element.appendChild(dialogElement);\n            this.renderValidationDialog();\n        }\n    };\n    /**\n     * To render validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderValidationDialog = function () {\n        var validationDialog = new Dialog({\n            header: 'Validate Editing',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            visible: false,\n            width: '50%',\n            showCloseIcon: true,\n            close: this.validationDialogClose.bind(this),\n            content: '',\n            buttons: [\n                {\n                    click: this.validationDialogOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.validationDialogCancelButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        document.getElementById(this.parent.element.id + '_dialogValidationRule').innerHTML = '';\n        validationDialog.isStringTemplate = true;\n        validationDialog.appendTo('#' + this.parent.element.id + '_dialogValidationRule');\n        this.parent.validationDialogElement = validationDialog;\n    };\n    ConnectorLineEdit.prototype.validationDialogOkButton = function () {\n        var currentArgs = this.parent.currentEditedArgs;\n        currentArgs.validateMode.preserveLinkWithEditing =\n            document.getElementById(this.parent.element.id + '_ValidationAddlineOffset').checked;\n        currentArgs.validateMode.removeLink =\n            document.getElementById(this.parent.element.id + '_ValidationRemoveline').checked;\n        currentArgs.validateMode.respectLink =\n            document.getElementById(this.parent.element.id + '_ValidationCancel').checked;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogCancelButton = function () {\n        this.parent.currentEditedArgs.validateMode.respectLink = true;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogClose = function (e) {\n        if (getValue('isInteraction', e)) {\n            this.parent.currentEditedArgs.validateMode.respectLink = true;\n            this.applyPredecessorOption();\n        }\n    };\n    /**\n     * Validate and apply the predecessor option from validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.applyPredecessorOption = function () {\n        var args = this.parent.currentEditedArgs;\n        var ganttRecord = args.data;\n        if (args.validateMode.respectLink) {\n            this.parent.editModule.reUpdatePreviousRecords();\n            this.parent.chartRowsModule.refreshRecords([args.data]);\n        }\n        else if (args.validateMode.removeLink) {\n            this.checkChildRecords(ganttRecord);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n        else if (args.validateMode.preserveLinkWithEditing) {\n            var connectedTaskId_1;\n            if (this.parent.updateOffsetOnTaskbarEdit) {\n                var taskId_1 = ganttRecord.ganttProperties.taskId;\n                if (ganttRecord.ganttProperties.predecessor) {\n                    ganttRecord.ganttProperties.predecessor.forEach(function (predecessor) {\n                        if (taskId_1 === predecessor.from) {\n                            connectedTaskId_1 = predecessor.to;\n                            return;\n                        }\n                    });\n                }\n            }\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n            this.processPredecessors(connectedTaskId_1);\n        }\n    };\n    ConnectorLineEdit.prototype.compareArrays = function (arr1, arr2) {\n        if (arr1.length !== arr2.length) {\n            return false;\n        }\n        var str1 = JSON.stringify(arr1);\n        var str2 = JSON.stringify(arr2);\n        return str1 === str2;\n    };\n    ConnectorLineEdit.prototype.processPredecessors = function (parentId) {\n        var _this = this;\n        if (parentId) {\n            var record_1 = this.parent.getRecordByID(parentId);\n            if (record_1 && record_1.ganttProperties && record_1.ganttProperties.predecessor) {\n                this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                this.calculateOffset(record_1);\n                var isIdInclude_1 = true;\n                /* eslint-disable-next-line */\n                var matchedObject = this.validatedId.find(function (item) {\n                    return item.id === record_1.ganttProperties.taskId;\n                });\n                if (matchedObject) {\n                    var predecessorArray = matchedObject.value;\n                    var areArraysEqual = this.compareArrays(predecessorArray, record_1.ganttProperties.predecessor);\n                    if (areArraysEqual) {\n                        isIdInclude_1 = false;\n                    }\n                }\n                var predecessors = record_1.ganttProperties.predecessor;\n                predecessors.forEach(function (predecessor) {\n                    if (record_1.ganttProperties.taskId === predecessor.from && isIdInclude_1) {\n                        _this.processPredecessors(predecessor.to);\n                    }\n                });\n            }\n        }\n    };\n    ConnectorLineEdit.prototype.checkChildRecords = function (ganttRecord) {\n        this.validationPredecessor = ganttRecord.ganttProperties.predecessor;\n        if (!isNullOrUndefined(this.validationPredecessor)) {\n            this.removePredecessors(ganttRecord, this.validationPredecessor);\n        }\n        if (ganttRecord.childRecords.length > 0) {\n            for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                var childRecord = ganttRecord.childRecords[i];\n                this.validationPredecessor = childRecord.ganttProperties.predecessor;\n                if (!isNullOrUndefined(this.validationPredecessor)) {\n                    this.removePredecessors(childRecord, this.validationPredecessor);\n                }\n                if (childRecord.childRecords.length > 0) {\n                    this.checkChildRecords(childRecord);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(ganttRecord.parentItem)) {\n            var parentRecord = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            this.validationPredecessor = parentRecord.ganttProperties.predecessor;\n            this.removePredecessors(parentRecord, this.validationPredecessor);\n        }\n    };\n    ConnectorLineEdit.prototype.compareObjects = function (obj1, obj2) {\n        var keys1 = Object.keys(obj1).filter(function (key) { return key !== 'offset'; });\n        var keys2 = Object.keys(obj2).filter(function (key) { return key !== 'offset'; });\n        if (keys1.length !== keys2.length) {\n            return false;\n        }\n        return keys1.every(function (key) { return obj1[key] === obj2[key]; });\n    };\n    ConnectorLineEdit.prototype.calculateOffset = function (record, isRecursive) {\n        var _this = this;\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        if (record && isScheduledTask(record.ganttProperties) !== null) {\n            var prevPredecessor = extend([], record.ganttProperties.predecessor, [], true);\n            var validPredecessor_1 = this.parent.predecessorModule.getValidPredecessor(record);\n            if (validPredecessor_1.length > 0) {\n                this.cumulativePredecessorChanges = prevPredecessor;\n                var _loop_5 = function (i) {\n                    var predecessor = validPredecessor_1[parseInt(i.toString(), 10)];\n                    var parentTask = this_4.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    if (this_4.parent.undoRedoModule && this_4.parent.undoRedoModule['isUndoRedoPerformed'] && this_4.parent.viewType === 'ProjectView') {\n                        var isPresent = parentTask.ganttProperties.predecessor.filter(function (pred) {\n                            return pred.from === validPredecessor_1[i].from && pred.to === validPredecessor_1[i].to;\n                        });\n                        if (isPresent.length === 0) {\n                            parentTask.ganttProperties.predecessor.push(validPredecessor_1[i]);\n                        }\n                    }\n                    var offset = void 0;\n                    if ((parentTask.ganttProperties.startDate || parentTask.ganttProperties.endDate) &&\n                        (record.ganttProperties.startDate || record.ganttProperties.endDate)) {\n                        var tempStartDate = void 0;\n                        var tempEndDate = void 0;\n                        var tempDuration = void 0;\n                        var isNegativeOffset = void 0;\n                        switch (predecessor.type) {\n                            case 'FS':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SS':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SF':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                            case 'FF':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempStartDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempEndDate, null);\n                            isNegativeOffset = false;\n                        }\n                        else {\n                            var tempDate = new Date(tempStartDate.getTime());\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempEndDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempDate, null);\n                            isNegativeOffset = true;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempDuration = this_4.dateValidateModule.getDuration(tempStartDate, tempEndDate, predecessor.offsetUnit, true, false);\n                            if (this_4.parent.durationUnit === predecessor.offsetUnit &&\n                                ((parentTask.ganttProperties.startDate && isNullOrUndefined(parentTask.ganttProperties.endDate)) ||\n                                    (isNullOrUndefined(parentTask.ganttProperties.startDate) && parentTask.ganttProperties.endDate))) {\n                                tempDuration = tempDuration - 1;\n                            }\n                            offset = isNegativeOffset ? (tempDuration * -1) : tempDuration;\n                        }\n                        else {\n                            offset = 0;\n                        }\n                    }\n                    else {\n                        offset = 0;\n                    }\n                    var preIndex = getIndex(predecessor, 'from', prevPredecessor, 'to');\n                    if (preIndex !== -1) {\n                        prevPredecessor[preIndex].offset = offset;\n                    }\n                    // Update predecessor in predecessor task\n                    var parentPredecessors = extend([], parentTask.ganttProperties.predecessor, [], true);\n                    var parentPreIndex = getIndex(predecessor, 'from', parentPredecessors, 'to');\n                    if (parentPreIndex !== -1) {\n                        parentPredecessors[parentPreIndex].offset = offset;\n                    }\n                    this_4.parent.setRecordValue('predecessor', parentPredecessors, parentTask.ganttProperties, true);\n                };\n                var this_4 = this;\n                for (var i = 0; i < validPredecessor_1.length; i++) {\n                    _loop_5(i);\n                }\n            }\n            else {\n                var validPredecessor_2 = record.ganttProperties.predecessor;\n                if (validPredecessor_2) {\n                    if (validPredecessor_2.length > 0) {\n                        validPredecessor_2.forEach(function (element) {\n                            if (_this.validatedOffsetIds.indexOf(element.to) === -1) {\n                                if (_this.parent.viewType === 'ResourceView') {\n                                    _this.validatedOffsetIds.push(element.to);\n                                    _this.calculateOffset(_this.parent.getRecordByID((_this.parent.taskIds.indexOf('T' + element.to)).toString()), true);\n                                }\n                                else {\n                                    _this.calculateOffset(_this.parent.getRecordByID(element.to), true);\n                                }\n                            }\n                        });\n                    }\n                }\n            }\n            if (!isRecursive) {\n                if (validPredecessor_1.length === 0) {\n                    this.cumulativePredecessorChanges = [];\n                }\n                if (prevPredecessor && prevPredecessor.length > 0 && this.cumulativePredecessorChanges &&\n                    this.cumulativePredecessorChanges.length > 0) {\n                    var matchingObjects = prevPredecessor.map(function (objectToCompare) {\n                        var matchedObject = _this.cumulativePredecessorChanges.find(function (obj) { return _this.compareObjects(obj, objectToCompare); });\n                        return matchedObject ? __assign({}, matchedObject) : null;\n                    }).filter(function (matchedObject) { return matchedObject !== null; });\n                    this.parent.setRecordValue('predecessor', matchingObjects, record.ganttProperties, true);\n                }\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevPredecessor, record.ganttProperties, true);\n            }\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n            if (this.validatedOffsetIds.indexOf(record.ganttProperties.taskId.toString()) === -1) {\n                this.validatedOffsetIds.push(record.ganttProperties.taskId.toString());\n            }\n            if (record.hasChildRecords) {\n                for (var i = 0; i < record.childRecords.length; i++) {\n                    if (this.validatedOffsetIds.indexOf(record.childRecords[i].ganttProperties.taskId.toString()) === -1 &&\n                        record.childRecords[i].ganttProperties.predecessor &&\n                        record.childRecords[i].ganttProperties.predecessor.length > 0) {\n                        this.calculateOffset(record.childRecords[i]);\n                    }\n                }\n            }\n            else if (record.parentItem) {\n                var parentItem = this.parent.getRecordByID(record.parentItem.taskId);\n                if (this.validatedOffsetIds.indexOf(parentItem.ganttProperties.taskId.toString()) === -1 &&\n                    parentItem.ganttProperties.predecessor && parentItem.ganttProperties.predecessor.length > 0) {\n                    this.calculateOffset(parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Update predecessor value with user selection option in predecessor validation dialog\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessor .\n     * @returns {void} .\n     */\n    ConnectorLineEdit.prototype.removePredecessors = function (ganttRecord, predecessor) {\n        var prevPredecessor = extend([], [], ganttRecord.ganttProperties.predecessor, true);\n        if (isNullOrUndefined(predecessor)) {\n            return;\n        }\n        var preLength = predecessor.length;\n        for (var i = 0; i < preLength; i++) {\n            var parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n            var index = getIndex(predecessor[i], 'from', prevPredecessor, 'to');\n            prevPredecessor.splice(index, 1);\n            var parentIndex = getIndex(predecessor[parseInt(i.toString(), 10)], 'from', parentPredecessor, 'to');\n            parentPredecessor.splice(parentIndex, 1);\n            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n        }\n        if (prevPredecessor.length !== ganttRecord.ganttProperties.predecessor.length) {\n            this.parent.setRecordValue('predecessor', prevPredecessor, ganttRecord.ganttProperties, true);\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', predecessorString, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, ganttRecord);\n        }\n    };\n    /**\n     * To open predecessor validation dialog\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.openValidationDialog = function (args) {\n        var contentTemplate = this.validationDialogTemplate(args);\n        this.parent.validationDialogElement.setProperties({ content: contentTemplate });\n        this.parent.validationDialogElement.show();\n    };\n    /**\n     * Predecessor link validation dialog template\n     *\n     * @param {object} args .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validationDialogTemplate = function (args) {\n        var ganttId = this.parent.element.id;\n        var contentdiv = createElement('div', {\n            className: 'e-ValidationContent'\n        });\n        var taskData = getValue('task', args);\n        var parenttaskData = getValue('parentTask', args);\n        var violationType = getValue('violationType', args);\n        var recordName = taskData.ganttProperties.taskName;\n        var recordNewStartDate = this.parent.getFormatedDate(taskData.ganttProperties.startDate, this.parent.dateFormat);\n        var parentName = parenttaskData.ganttProperties.taskName;\n        var recordArgs = [recordName, parentName];\n        var topContentText;\n        if (violationType === 'taskBeforePredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FS');\n        }\n        else if (violationType === 'taskAfterPredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FS');\n        }\n        else if (violationType === 'taskBeforePredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SS');\n        }\n        else if (violationType === 'taskAfterPredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SS');\n        }\n        else if (violationType === 'taskBeforePredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FF');\n        }\n        else if (violationType === 'taskAfterPredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FF');\n        }\n        else if (violationType === 'taskBeforePredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SF');\n        }\n        else if (violationType === 'taskAfterPredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SF');\n        }\n        topContentText = formatString(topContentText, recordArgs);\n        var topContent = '<div id=\"' + ganttId + '_ValidationText\">' + topContentText + '<div>';\n        var innerTable = '<table>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationCancel\" name=\"ValidationRule\" checked/><label for=\"'\n            + ganttId + '_ValidationCancel\" id= \"' + ganttId + '_cancelLink\">Cancel, keep the existing link</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationRemoveline\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationRemoveline\" id=\"' + ganttId + '_removeLink\">Remove the link and move <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b>.</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationAddlineOffset\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationAddlineOffset\" id=\"' + ganttId + '_preserveLink\">Move the <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b> and keep the link.</label></td></tr></table>';\n        contentdiv.innerHTML = topContent + innerTable;\n        return contentdiv;\n    };\n    /**\n     * To validate the types while editing the taskbar\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {any} data .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validateTypes = function (ganttRecord, data) {\n        var predecessor = this.parent.predecessorModule.getValidPredecessor(ganttRecord);\n        var parentGanttRecord;\n        this.validationPredecessor = [];\n        var violatedParent;\n        var ganttTaskData;\n        var violateType;\n        var startDate = this.parent.predecessorModule.getPredecessorDate(ganttRecord, predecessor);\n        if (data) {\n            ganttTaskData = data.ganttProperties;\n        }\n        else {\n            ganttTaskData = ganttRecord.ganttProperties;\n        }\n        var endDate = this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) ?\n            ganttTaskData.endDate :\n            this.dateValidateModule.getEndDate(startDate, ganttTaskData.duration, ganttTaskData.durationUnit, ganttTaskData, false);\n        for (var i = 0; i < predecessor.length; i++) {\n            parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var violationType = null;\n            if (predecessor[i].type === 'FS') {\n                if (this.parent.dateValidationModule.getDuration(startDate, ganttTaskData.startDate, this.parent.durationUnit, ganttTaskData.isAutoSchedule, ganttTaskData.isMilestone, true) !== 0) {\n                    if (ganttTaskData.startDate < startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FS';\n                    }\n                    else if (ganttTaskData.startDate > startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FS';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SS') {\n                var endDateOlny = new Date(ganttTaskData.endDate);\n                var startDateOlny = new Date(startDate);\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) < startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) > startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n            }\n            else if (predecessor[i].type === 'FF') {\n                if (this.parent.dateValidationModule.getDuration(startDate, parentGanttRecord.ganttProperties.endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate <= parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FF';\n                    }\n                    else if (endDate > parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FF';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SF') {\n                if (this.parent.dateValidationModule.getDuration(parentGanttRecord.ganttProperties.startDate, endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate < parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_SF';\n                    }\n                    else if (endDate >= parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_SF';\n                    }\n                }\n            }\n            if (!isNullOrUndefined(violationType) && isNullOrUndefined(violateType)) {\n                violatedParent = parentGanttRecord;\n                violateType = violationType;\n            }\n        }\n        var validateArgs = {\n            parentTask: violatedParent,\n            task: ganttRecord,\n            violationType: violateType\n        };\n        return validateArgs;\n    };\n    /**\n     * Method to remove and update new predecessor collection in successor record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addRemovePredecessor = function (data) {\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        var newPredecessor = data.ganttProperties.predecessor.slice();\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            var prevPredecessor_1 = prevData.ganttProperties.predecessor;\n            if (!isNullOrUndefined(prevPredecessor_1)) {\n                var _loop_6 = function (p) {\n                    var parentGanttRecord = this_5.parent.connectorLineModule.getRecordByID(prevPredecessor_1[parseInt(p.toString(), 10)].from);\n                    if (parentGanttRecord === data) {\n                        var isValid = data.ganttProperties.predecessor.filter(function (pred) {\n                            return prevPredecessor_1[p].from === pred.from && prevPredecessor_1[p].to === pred.to;\n                        });\n                        if (isValid.length === 0) {\n                            if (data.parentItem && this_5.parent.taskFields.dependency && data.ganttProperties.predecessor &&\n                                this_5.parent.allowParentDependency) {\n                                if (prevPredecessor_1[p].from !== data.parentItem.taskId &&\n                                    prevPredecessor_1[p].to !== data.parentItem.taskId) {\n                                    data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                                }\n                            }\n                            else {\n                                data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                            }\n                        }\n                    }\n                    else {\n                        var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                        var parentIndex = getIndex(prevPredecessor_1[parseInt(p.toString(), 10)], 'from', parentPredecessor, 'to');\n                        if (parentIndex !== -1) {\n                            parentPredecessor.splice(parentIndex, 1);\n                            this_5.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                        }\n                    }\n                };\n                var this_5 = this;\n                for (var p = 0; p < prevPredecessor_1.length; p++) {\n                    _loop_6(p);\n                }\n            }\n            if (!isNullOrUndefined(newPredecessor)) {\n                var _loop_7 = function (n) {\n                    var parentGanttRecord = this_6.parent.connectorLineModule.getRecordByID(newPredecessor[parseInt(n.toString(), 10)].from);\n                    var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                    var isValid = parentPredecessor.filter(function (pred) {\n                        return newPredecessor[n].from === pred.from && newPredecessor[n].to === pred.to;\n                    });\n                    if (isValid.length === 0) {\n                        parentPredecessor.push(newPredecessor[parseInt(n.toString(), 10)]);\n                        this_6.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                    }\n                };\n                var this_6 = this;\n                for (var n = 0; n < newPredecessor.length; n++) {\n                    _loop_7(n);\n                }\n            }\n        }\n    };\n    /**\n     * Method to remove a predecessor from a record.\n     *\n     * @param {IGanttData} childRecord .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessorByIndex = function (childRecord, index) {\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'DeleteDependency';\n            details['modifiedRecords'] = extend([], [childRecord], [], true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var childPredecessor = childRecord.ganttProperties.predecessor;\n        var predecessor = childPredecessor.splice(index, 1);\n        var parentRecord = this.parent.connectorLineModule.getRecordByID(predecessor[0].from);\n        var parentPredecessor = parentRecord.ganttProperties.predecessor;\n        var parentIndex = getIndex(predecessor[0], 'from', parentPredecessor, 'to');\n        parentPredecessor.splice(parentIndex, 1);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(childRecord);\n        childPredecessor.push(predecessor[0]);\n        this.parent.connectorLineEditModule.updatePredecessor(childRecord, predecessorString);\n    };\n    /**\n     * To render predecessor delete confirmation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderPredecessorDeleteConfirmDialog = function () {\n        this.confirmPredecessorDialog = new Dialog({\n            width: '320px',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmPredecessorDelete'),\n            buttons: [\n                {\n                    click: this.confirmOkDeleteButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.confirmCloseDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        var confirmDialog = createElement('div', {\n            id: this.parent.element.id + '_deletePredecessorConfirmDialog'\n        });\n        this.parent.element.appendChild(confirmDialog);\n        this.confirmPredecessorDialog.isStringTemplate = true;\n        this.confirmPredecessorDialog.appendTo(confirmDialog);\n    };\n    ConnectorLineEdit.prototype.confirmCloseDialog = function () {\n        this.confirmPredecessorDialog.destroy();\n    };\n    ConnectorLineEdit.prototype.confirmOkDeleteButton = function () {\n        this.removePredecessorByIndex(this.childRecord, this.predecessorIndex);\n        this.confirmPredecessorDialog.destroy();\n    };\n    return ConnectorLineEdit;\n}());\nexport { ConnectorLineEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined, extend, setValue, getValue, deleteObject, createElement } from '@syncfusion/ej2-base';\nimport { DataManager, Query, ODataAdaptor, WebApiAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\nimport { getSwapKey, isScheduledTask, getTaskData, isRemoteData, getIndex, isCountRequired, updateDates } from '../base/utils';\nimport { CellEdit } from './cell-edit';\nimport { TaskbarEdit } from './taskbar-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MultiSelect, CheckBoxSelection, DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { ConnectorLineEdit } from './connector-line-edit';\nimport { TreeGrid, Edit as TreeGridEdit } from '@syncfusion/ej2-treegrid';\n/**\n * The Edit Module is used to handle editing actions.\n *\n */\nvar Edit = /** @class */ (function () {\n    function Edit(parent) {\n        this.isFromDeleteMethod = false;\n        this.targetedRecords = [];\n        this.isNewRecordAdded = false;\n        this.isValidatedEditedRecord = false;\n        this.createArray = true;\n        this.deletedRecord = [];\n        this.canReset = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.confirmDialog = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        this.isBreakLoop = false;\n        /**\n         * @private\n         */\n        this.deletedTaskDetails = [];\n        this.parent = parent;\n        this.parent.predecessorModule.validatedChildItems = [];\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Auto') {\n            this.cellEditModule = new CellEdit(this.parent);\n        }\n        if (this.parent.taskFields.dependency) {\n            this.parent.connectorLineEditModule = new ConnectorLineEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowAdding || (this.parent.editSettings.allowEditing &&\n            (this.parent.editSettings.mode === 'Dialog' || this.parent.editSettings.mode === 'Auto'))) {\n            this.dialogModule = new DialogEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.taskbarEditModule = new TaskbarEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowDeleting) {\n            var confirmDialog = createElement('div', {\n                id: this.parent.element.id + '_deleteConfirmDialog'\n            });\n            this.parent.element.appendChild(confirmDialog);\n            this.renderDeleteConfirmDialog();\n        }\n        this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n        this.parent.treeGrid.editSettings.allowAdding = this.parent.editSettings.allowAdding;\n        this.parent.treeGrid.editSettings.allowDeleting = this.parent.editSettings.allowDeleting;\n        this.parent.treeGrid.editSettings.showDeleteConfirmDialog = this.parent.editSettings.showDeleteConfirmDialog;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        if (this.parent.editSettings.mode === 'Dialog') {\n            TreeGrid.Inject(TreeGridEdit);\n        }\n        this.updateDefaultColumnEditors();\n    }\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * Method to update default edit params and editors for Gantt\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.updateDefaultColumnEditors = function () {\n        var customEditorColumns = [this.parent.taskFields.id, this.parent.taskFields.progress, this.parent.taskFields.resourceInfo,\n            this.parent.taskFields.type, 'taskType'];\n        for (var i = 0; i < customEditorColumns.length; i++) {\n            if (!isNullOrUndefined(customEditorColumns[i]) && customEditorColumns[i].length > 0) {\n                var column = this.parent.getColumnByField(customEditorColumns[parseInt(i.toString(), 10)], this.parent.treeGridModule.treeGridColumns);\n                if (column) {\n                    if (column.field === this.parent.taskFields.id) {\n                        this.updateIDColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.progress && isNullOrUndefined(column.edit)) {\n                        this.updateProgessColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.resourceInfo) {\n                        this.updateResourceColumnEditor(column);\n                    }\n                    else if (column.field === this.parent.taskFields.type || column.field === 'taskType') {\n                        this.updateTaskTypeColumnEditor(column);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to update editors for id column in Gantt\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateIDColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            enableRtl: this.parent.enableRtl,\n            validateDecimalOnType: true,\n            format: 'n0',\n            showSpinButton: false\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Method to update edit params of default progress column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateProgessColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            enableRtl: this.parent.enableRtl,\n            decimals: 0,\n            validateDecimalOnType: true,\n            max: 100,\n            format: 'n0'\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Assign edit params for id and progress columns\n     *\n     * @param {ColumnModel} column .\n     * @param {object} editParam .\n     * @returns {void} .\n     */\n    Edit.prototype.updateEditParams = function (column, editParam) {\n        if (isNullOrUndefined(column.edit)) {\n            column.edit = {};\n            column.edit.params = {};\n        }\n        else if (isNullOrUndefined(column.edit.params)) {\n            column.edit.params = {};\n        }\n        extend(editParam, column.edit.params);\n        column.edit.params = editParam;\n        var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n        ganttColumn.edit = column.edit;\n    };\n    /**\n     * Method to update resource column editor for default resource column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceColumnEditor = function (column) {\n        this.parent.treeGridModule.currentEditRow = {};\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getResourceEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create resource custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getResourceEditor = function () {\n        var _this = this;\n        var resourceSettings = this.parent.resourceFields;\n        var editObject = {};\n        var editor;\n        MultiSelect.Inject(CheckBoxSelection);\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new MultiSelect({\n                dataSource: new DataManager(_this.parent.resources),\n                fields: { text: resourceSettings.name, value: resourceSettings.id },\n                enableRtl: _this.parent.enableRtl,\n                mode: 'CheckBox',\n                showDropDownIcon: true,\n                popupHeight: '350px',\n                delimiterChar: ',',\n                value: _this.parent.treeGridModule.getResourceIds(args.rowData)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var resourcesName = [];\n            if (isNullOrUndefined(value)) {\n                value = [];\n            }\n            for (var i = 0; i < value.length; i++) {\n                for (var j = 0; j < _this.parent.resources.length; j++) {\n                    if (_this.parent.resources[j][resourceSettings.id] === value[i]) {\n                        resourcesName.push(_this.parent.resources[j][resourceSettings.name]);\n                        break;\n                    }\n                }\n            }\n            _this.parent.treeGridModule.currentEditRow[_this.parent.taskFields.resourceInfo] = value;\n            return resourcesName.join(',');\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * Method to update task type column editor for task type\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskTypeColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getTaskTypeEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create task type custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getTaskTypeEditor = function () {\n        var _this = this;\n        var editObject = {};\n        var editor;\n        var types = [{ 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }];\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new DropDownList({\n                dataSource: new DataManager(types),\n                enableRtl: _this.parent.enableRtl,\n                fields: { value: 'Value' },\n                popupHeight: '350px',\n                value: getValue('taskType', args.rowData.ganttProperties)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var key = _this.parent.taskFields.type || 'taskType';\n            _this.parent.treeGridModule.currentEditRow[key] = value;\n            return value;\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdateEditModules = function () {\n        var editSettings = this.parent.editSettings;\n        if (editSettings.allowEditing) {\n            if (this.parent.editModule.cellEditModule && editSettings.mode === 'Dialog') {\n                this.cellEditModule.destroy();\n                this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n            }\n            else if (isNullOrUndefined(this.parent.editModule.cellEditModule) && editSettings.mode === 'Auto') {\n                this.cellEditModule = new CellEdit(this.parent);\n            }\n            if (this.parent.editModule.dialogModule && editSettings.mode === 'Auto') {\n                this.parent.treeGrid.recordDoubleClick = undefined;\n            }\n            else if (isNullOrUndefined(this.parent.editModule.dialogModule)) {\n                this.dialogModule = new DialogEdit(this.parent);\n            }\n        }\n        else {\n            if (this.cellEditModule) {\n                this.cellEditModule.destroy();\n            }\n            if (this.dialogModule) {\n                this.dialogModule.destroy();\n            }\n        }\n        if (editSettings.allowDeleting && editSettings.showDeleteConfirmDialog) {\n            if (isNullOrUndefined(this.confirmDialog)) {\n                var confirmDialog = createElement('div', {\n                    id: this.parent.element.id + '_deleteConfirmDialog'\n                });\n                this.parent.element.appendChild(confirmDialog);\n                this.renderDeleteConfirmDialog();\n            }\n        }\n        else if (!editSettings.allowDeleting || !editSettings.showDeleteConfirmDialog) {\n            if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n                this.confirmDialog.destroy();\n            }\n        }\n        if (editSettings.allowTaskbarEditing) {\n            if (isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n                this.taskbarEditModule = new TaskbarEdit(this.parent);\n            }\n        }\n        else {\n            if (this.taskbarEditModule) {\n                this.taskbarEditModule.destroy();\n            }\n        }\n    };\n    Edit.prototype.recordDoubleClick = function (args) {\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Dialog') {\n            var ganttData = void 0;\n            if (args.row) {\n                var rowIndex = getValue('rowIndex', args.row);\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n            if (!isNullOrUndefined(ganttData)) {\n                this.dialogModule.openEditDialog(ganttData);\n            }\n        }\n        this.parent.ganttChartModule.recordDoubleClick(args);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.destroy = function () {\n        if (this.cellEditModule) {\n            this.cellEditModule.destroy();\n        }\n        if (this.taskbarEditModule) {\n            this.taskbarEditModule.destroy();\n        }\n        if (this.dialogModule) {\n            this.dialogModule.destroy();\n        }\n        if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n            this.confirmDialog.destroy();\n        }\n    };\n    /**\n     * Method to update record with new values.\n     *\n     * @param {Object} data - Defines new data to update.\n     * @returns {void} .\n     */\n    Edit.prototype.updateRecordByID = function (data) {\n        var _this = this;\n        if (this.parent.enableImmutableMode && this.parent.editSettings.allowEditing &&\n            this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!this.parent.readOnly) {\n            var tasks = this.parent.taskFields;\n            if (isNullOrUndefined(data) || isNullOrUndefined(data[tasks.id])) {\n                return;\n            }\n            var ganttData = this.parent.viewType === 'ResourceView' ?\n                this.parent.flatData[this.parent.getTaskIds().indexOf('T' + data[tasks.id])] : this.parent.getRecordByID(data[tasks.id]);\n            if (!isNullOrUndefined(ganttData[tasks.milestone])) {\n                if (ganttData[tasks.milestone] === true) {\n                    ganttData[tasks.milestone] = false;\n                }\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Edit') && ganttData) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['requestType'] = ((this.parent.contextMenuModule && this.parent.contextMenuModule.item) ? this.parent.contextMenuModule.item : 'methodUpdate');\n                details['modifiedRecords'] = extend([], [ganttData], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            if (!isNullOrUndefined(this.parent.editModule) && ganttData) {\n                this.parent.isOnEdit = true;\n                this.validateUpdateValues(data, ganttData, true);\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    if (this.parent.viewType === 'ProjectView' && data['ganttProperties'].predecessor) {\n                        var _loop_1 = function (i) {\n                            var isValid = ganttData.ganttProperties.predecessor.filter(function (pred) {\n                                if ((pred.from === data['ganttProperties'].predecessor[i].from &&\n                                    pred.to === data['ganttProperties'].predecessor[i].to\n                                    && data['ganttProperties'].predecessor[i].offset !== pred.offset)) {\n                                    var record = _this.parent.flatData[_this.parent.ids.indexOf(pred.to)];\n                                    var changeValue = record.ganttProperties.predecessor.filter(function (pred) {\n                                        return (pred.from === data['ganttProperties'].predecessor[i].from && pred.to === data['ganttProperties'].predecessor[i].to);\n                                    });\n                                    changeValue[0].offset = data['ganttProperties'].predecessor[i].offset;\n                                }\n                                return pred.from !== data['ganttProperties'].predecessor[i].from && pred.from !== data['ganttProperties'].predecessor[i].to;\n                            });\n                            if (isValid.length > 0) {\n                                for (var j = 0; j < isValid.length; j++) {\n                                    var record = this_1.parent.flatData[this_1.parent.ids.indexOf(isValid[j].from)];\n                                    for (var k = 0; k < record.ganttProperties.predecessor.length; k++) {\n                                        if (record.ganttProperties.predecessor[k].from === isValid[j].from &&\n                                            record.ganttProperties.predecessor[k].to === isValid[j].to) {\n                                            record.ganttProperties.predecessor.splice(k, 1);\n                                            break;\n                                        }\n                                    }\n                                }\n                                return \"break\";\n                            }\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < data['ganttProperties'].predecessor.length; i++) {\n                            var state_1 = _loop_1(i);\n                            if (state_1 === \"break\")\n                                break;\n                        }\n                    }\n                    else if (!data['ganttProperties'].predecessor && ganttData.ganttProperties.predecessor) {\n                        for (var i = 0; i < ganttData.ganttProperties.predecessor.length; i++) {\n                            var id = void 0;\n                            if (ganttData.ganttProperties.taskId.toString() === ganttData.ganttProperties.predecessor[i].from) {\n                                id = ganttData.ganttProperties.predecessor[i].to;\n                            }\n                            else {\n                                id = ganttData.ganttProperties.predecessor[i].from;\n                            }\n                            var parentRec = this.parent.flatData[this.parent.ids.indexOf(id)];\n                            for (var j = 0; j < parentRec.ganttProperties.predecessor.length; j++) {\n                                if (parentRec.ganttProperties.predecessor[j].from ===\n                                    ganttData.ganttProperties.predecessor[i].from &&\n                                    parentRec.ganttProperties.predecessor[j].to ===\n                                        ganttData.ganttProperties.predecessor[i].to) {\n                                    parentRec.ganttProperties.predecessor.splice(j, 1);\n                                }\n                            }\n                        }\n                    }\n                    ganttData.ganttProperties.resourceInfo = data['ganttProperties'].resourceInfo;\n                }\n                if (data[this.parent.taskFields.resourceInfo]) {\n                    if (ganttData.ganttProperties.duration === 0 &&\n                        (ganttData.ganttProperties.taskType !== 'FixedWork' || this.parent['isConvertedMilestone'])) {\n                        this.parent.dataOperation.updateWorkWithDuration(ganttData);\n                    }\n                    if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        this.updateResourceRelatedFields(ganttData, 'resource');\n                    }\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                var keys = Object.keys(data);\n                if (keys.indexOf(tasks.startDate) !== -1 || keys.indexOf(tasks.endDate) !== -1 ||\n                    keys.indexOf(tasks.duration) !== -1) {\n                    this.parent.dataOperation.calculateScheduledValues(ganttData, ganttData.taskData, false);\n                }\n                this.parent.dataOperation.updateWidthLeft(ganttData);\n                if (!isUndefined(data[this.parent.taskFields.dependency]) &&\n                    data[this.parent.taskFields.dependency] !== ganttData.ganttProperties.predecessorsName) {\n                    this.parent.connectorLineEditModule.updatePredecessor(ganttData, data[this.parent.taskFields.dependency]);\n                }\n                else {\n                    var args = {};\n                    args.data = ganttData;\n                    if (this.parent.viewType === 'ResourceView') {\n                        args.action = 'methodUpdate';\n                    }\n                    this.parent.editModule.initiateUpdateAction(args);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isFromDialog .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateUpdateValues = function (data, ganttData, isFromDialog) {\n        var ganttObj = this.parent;\n        var tasks = ganttObj.taskFields;\n        var ganttPropByMapping = getSwapKey(ganttObj.columnMapping);\n        var scheduleFieldNames = [];\n        var isScheduleValueUpdated = false;\n        for (var _i = 0, _b = Object.keys(data); _i < _b.length; _i++) {\n            var key = _b[_i];\n            if (tasks.startDate === key || tasks.endDate === key || tasks.duration === key) {\n                if (isNullOrUndefined(data[\"\" + key]) && !ganttObj.allowUnscheduledTasks) {\n                    continue;\n                }\n                var ganttProps = ganttData.ganttProperties;\n                var isDurationKey = tasks.duration === key;\n                if (isFromDialog) {\n                    if (isDurationKey) {\n                        ganttObj.dataOperation.updateDurationValue(data[key], ganttProps);\n                        if (ganttProps.duration > 0 && ganttProps.isMilestone) {\n                            this.parent.setRecordValue('isMilestone', false, ganttProps, true);\n                        }\n                    }\n                    else {\n                        var tempDate = typeof data[key] === 'string' ? new Date(data[key]) : data[key];\n                        if (key === tasks.endDate && isNullOrUndefined(ganttProps.startDate) && (isNullOrUndefined(data[tasks.duration]) || data[tasks.duration] === '' || Number.isNaN(data[tasks.duration]))) {\n                            tempDate = this.parent.editModule.dialogModule['isFromEditDialog'] ? ganttData.ganttProperties.endDate : data[tasks.endDate];\n                        }\n                        ganttObj.setRecordValue(ganttPropByMapping[key], tempDate, ganttProps, true);\n                        if (ganttData[tasks.startDate] && !(ganttData[tasks.startDate] instanceof Date)) {\n                            ganttData[tasks.startDate] = new Date(ganttData[tasks.startDate]);\n                        }\n                        if (ganttData[tasks.endDate] && !(ganttData[tasks.endDate] instanceof Date)) {\n                            ganttData[tasks.endDate] = new Date(ganttData[tasks.endDate]);\n                        }\n                    }\n                    ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                }\n                else {\n                    scheduleFieldNames.push(key);\n                    isScheduleValueUpdated = true;\n                }\n            }\n            else if (tasks.resourceInfo === key) {\n                var resourceData = ganttObj.dataOperation.setResourceInfo(data);\n                if (this.parent.viewType === 'ResourceView') {\n                    if (JSON.stringify(resourceData) !== JSON.stringify(ganttData.ganttProperties.resourceInfo)) {\n                        this.parent.editModule.dialogModule.isResourceUpdate = true;\n                        this.parent.editModule.dialogModule.previousResource = !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) ? ganttData.ganttProperties.resourceInfo.slice() : [];\n                    }\n                    else {\n                        this.parent.editModule.dialogModule.isResourceUpdate = false;\n                    }\n                }\n                if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    ganttData.ganttProperties.resourceInfo = resourceData;\n                }\n                ganttObj.dataOperation.updateMappingData(ganttData, 'resourceInfo');\n            }\n            else if (tasks.dependency === key) {\n                //..\n            }\n            else if ([tasks.progress, tasks.notes, tasks.durationUnit, tasks.expandState,\n                tasks.milestone, tasks.name, tasks.baselineStartDate,\n                tasks.baselineEndDate, tasks.id, tasks.segments, tasks.cssClass].indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (!isNullOrUndefined(column) && (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit')) {\n                    value = ganttObj.dataOperation.getDateFromFormat(value);\n                }\n                var ganttPropKey = ganttPropByMapping[key];\n                switch (key) {\n                    case tasks.id:\n                        ganttPropKey = 'taskId';\n                        break;\n                    case tasks.name:\n                        ganttPropKey = 'taskName';\n                        break;\n                    case tasks.cssClass:\n                        ganttPropKey = 'cssClass';\n                        break;\n                    case tasks.milestone:\n                        ganttPropKey = 'isMilestone';\n                        if (!isNullOrUndefined(tasks.duration)) {\n                            var ganttProp = ganttData.ganttProperties;\n                            var durationValue = data[tasks.duration];\n                            if (value) {\n                                durationValue = 0;\n                            }\n                            else {\n                                durationValue = durationValue <= 0 ? 1 : durationValue;\n                            }\n                            ganttObj.setRecordValue(tasks.duration, durationValue, ganttData, true);\n                            ganttObj.setRecordValue('duration', durationValue, ganttProp, true);\n                            ganttObj.setRecordValue('taskData.' + tasks.duration, durationValue, ganttData);\n                        }\n                        break;\n                    case tasks.segments:\n                        if (ganttData.ganttProperties.segments) {\n                            ganttPropKey = 'segments';\n                            /* eslint-disable-next-line */\n                            if (data && !isNullOrUndefined(data[tasks.segments]) && data[tasks.segments].length > 0\n                                && data['ganttProperties'] && data['ganttProperties'].segments) {\n                                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                                    ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                                }\n                                var totDuration = ganttData.ganttProperties.segments.reduce(function (acc, segment) { return acc + segment.duration; }, 0);\n                                var sdate = ganttData.ganttProperties.startDate;\n                                /* eslint-disable-next-line */\n                                var edate = this.parent.dataOperation.getEndDate(sdate, totDuration, ganttData.ganttProperties.durationUnit, ganttData.ganttProperties, false);\n                                ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(edate), ganttData.ganttProperties, true);\n                            }\n                        }\n                        break;\n                }\n                if (!isNullOrUndefined(ganttPropKey)) {\n                    var seg = [];\n                    if (ganttPropKey === 'segments' && value && value.length > 0 && !isNullOrUndefined(ganttData.ganttProperties.segments)) {\n                        for (var i = 0; i < value.length; i++) {\n                            var segment = {};\n                            if (value[i][tasks.startDate]) {\n                                segment['startDate'] = value[i][tasks.startDate];\n                            }\n                            if (value[i][tasks.endDate]) {\n                                segment['endDate'] = value[i][tasks.endDate];\n                            }\n                            if (value[i][tasks.duration]) {\n                                segment['duration'] = parseFloat(value[i][tasks.duration]);\n                            }\n                            if (value[i][tasks.id]) {\n                                segment['id'] = value[i][tasks.id];\n                            }\n                            seg.push(segment);\n                        }\n                        ganttObj.setRecordValue(ganttPropKey, seg, ganttData.ganttProperties, true);\n                    }\n                    else {\n                        if (ganttPropKey !== 'segments' || (ganttPropKey === 'segments' && isNullOrUndefined(value))) {\n                            ganttObj.setRecordValue(ganttPropKey, value, ganttData.ganttProperties, true);\n                        }\n                    }\n                }\n                if ((key === tasks.baselineStartDate || key === tasks.baselineEndDate) &&\n                    (ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate)) {\n                    var ganttProps = ganttData.ganttProperties;\n                    ganttObj.setRecordValue('baselineStartDate', ganttObj.dataOperation.checkBaselineStartDate(ganttProps.baselineStartDate, ganttProps), ganttProps, true);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProps.baselineEndDate);\n                    if (ganttProps.baselineEndDate && ganttProps.baselineEndDate.getHours() === 0 &&\n                        dayEndTime !== 86400) {\n                        ganttObj.dataOperation.setTime(dayEndTime, ganttProps.baselineEndDate);\n                    }\n                    if ((ganttProps.baselineStartDate && ganttProps.baselineEndDate &&\n                        (ganttProps.baselineStartDate.getTime() > ganttProps.baselineEndDate.getTime())) ||\n                        ((!isNullOrUndefined(ganttProps.baselineStartDate) &&\n                            !isNullOrUndefined(ganttProps.startDate) &&\n                            (ganttProps.baselineStartDate.getTime() === ganttProps.startDate.getTime()))\n                            && (!isNullOrUndefined(ganttProps.baselineEndDate) &&\n                                !isNullOrUndefined(ganttProps.endDate) &&\n                                (ganttProps.baselineEndDate.toLocaleDateString() ===\n                                    ganttProps.endDate.toLocaleDateString())) &&\n                            ganttProps.isMilestone)) {\n                        ganttProps.baselineEndDate = ganttProps.baselineStartDate;\n                    }\n                    ganttObj.setRecordValue('baselineEndDate', ganttObj.dataOperation.checkBaselineEndDate(ganttProps.baselineEndDate), ganttProps, true);\n                    ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(ganttProps), ganttProps, true);\n                    ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(ganttProps), ganttProps, true);\n                    if (ganttData[tasks.baselineStartDate] && !(ganttData[tasks.baselineStartDate] instanceof Date)) {\n                        ganttData[tasks.baselineStartDate] = new Date(ganttData[tasks.baselineStartDate]);\n                    }\n                    if (ganttData[tasks.baselineEndDate] && !(ganttData[tasks.baselineEndDate] instanceof Date)) {\n                        ganttData[tasks.baselineEndDate] = new Date(ganttData[tasks.baselineEndDate]);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                /* eslint-disable-next-line */\n                if (key === tasks.segments && data && !isNullOrUndefined(data[tasks.segments]) && data[tasks.segments].length > 0) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && data['ganttProperties']\n                        && data['ganttProperties'].segments) {\n                        ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                    }\n                    ganttObj.dataOperation.setSegmentsInfo(ganttData, true);\n                }\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.indicators === key) {\n                var value = data[key];\n                ganttObj.setRecordValue('indicators', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.work === key) {\n                ganttObj.setRecordValue('work', data[key], ganttData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(ganttData, 'work');\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n            }\n            else if (key === tasks.type) {\n                var value = data[key];\n                ganttObj.setRecordValue('taskType', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue(key, value, ganttData);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n            }\n            else if (ganttObj.customColumns.indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (isNullOrUndefined(column.edit)) {\n                    if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n                        value = ganttObj.dataOperation.getDateFromFormat(value);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.manual === key) {\n                ganttObj.setRecordValue('isAutoSchedule', !data[key], ganttData.ganttProperties, true);\n                this.parent.setRecordValue(key, data[key], ganttData);\n                this.updateTaskScheduleModes(ganttData);\n            }\n        }\n        if (isScheduleValueUpdated) {\n            this.validateScheduleValues(scheduleFieldNames, ganttData, data);\n        }\n    };\n    /**\n     * To update duration, work, resource unit\n     *\n     * @param {IGanttData} currentData .\n     * @param {string} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceRelatedFields = function (currentData, column) {\n        var ganttProp = currentData.ganttProperties;\n        var previousdata = this.parent.previousRecords;\n        var taskType = ganttProp.taskType ? ganttProp.taskType : this.parent.taskType;\n        var isEffectDriven;\n        var isAutoSchedule = ganttProp.isAutoSchedule;\n        var resources = (this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : currentData.ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            switch (taskType) {\n                case 'FixedUnit':\n                    if (!isNullOrUndefined(previousdata[ganttProp.uniqueID]) &&\n                        !isNullOrUndefined(previousdata[ganttProp.uniqueID].ganttProperties) &&\n                        (previousdata[ganttProp.uniqueID].ganttProperties.resourceNames\n                            === null ||\n                            previousdata[ganttProp.uniqueID].ganttProperties.resourceNames === '')) {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule && resources.length) {\n                        if (column === 'resource' || column === 'work') {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                        else if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                    }\n                    else if (!isAutoSchedule && column === 'work') {\n                        this.parent.dataOperation.updateUnitWithWork(currentData);\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n                case 'FixedWork':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule) {\n                        if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                        else {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                    }\n                    else {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    break;\n                case 'FixedDuration':\n                    if (resources.length === 0) {\n                        // To validate the work column, if set duration as 0 via celledit action, where resource colection is 0\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        return;\n                    }\n                    if (resources.length && (column === 'work' || (isAutoSchedule &&\n                        isEffectDriven && (column === 'resource')))) {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n            }\n        }\n        // To validate the work colum if set duration as 0, while resource is null/undefined\n        else if (isNullOrUndefined(resources) && taskType === 'FixedDuration' && ganttProp.duration === 0) {\n            this.parent.dataOperation.updateWorkWithDuration(currentData);\n        }\n    };\n    Edit.prototype.validateScheduleValues = function (fieldNames, ganttData, data) {\n        var ganttObj = this.parent;\n        if (fieldNames.length > 2) {\n            ganttObj.dataOperation.calculateScheduledValues(ganttData, data, false);\n        }\n        else if (fieldNames.length > 1) {\n            this.validateScheduleByTwoValues(data, fieldNames, ganttData);\n        }\n        else {\n            this.dialogModule.validateScheduleValuesByCurrentField(fieldNames[0], data[fieldNames[0]], ganttData);\n        }\n    };\n    Edit.prototype.validateScheduleByTwoValues = function (data, fieldNames, ganttData) {\n        var ganttObj = this.parent;\n        var startDate;\n        var endDate;\n        var duration;\n        var tasks = ganttObj.taskFields;\n        var ganttProp = ganttData.ganttProperties;\n        var isUnscheduledTask = ganttObj.allowUnscheduledTasks;\n        if (fieldNames.indexOf(tasks.startDate) !== -1) {\n            startDate = data[tasks.startDate];\n        }\n        if (fieldNames.indexOf(tasks.endDate) !== -1) {\n            endDate = data[tasks.endDate];\n        }\n        if (fieldNames.indexOf(tasks.duration) !== -1) {\n            duration = data[tasks.duration];\n        }\n        if (startDate && endDate || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1) &&\n            (fieldNames.indexOf(tasks.endDate) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.calculateDuration(ganttData);\n        }\n        else if (endDate && duration || (isUnscheduledTask &&\n            (fieldNames.indexOf(tasks.endDate) !== -1) && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n        else if (startDate && duration || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1)\n            && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n    };\n    Edit.prototype.isTaskbarMoved = function (data) {\n        var isMoved = false;\n        var taskData = data.ganttProperties;\n        var prevData = this.parent.previousRecords &&\n            this.parent.previousRecords[data.uniqueID];\n        if (prevData && prevData.ganttProperties) {\n            var prevStart = getValue('ganttProperties.startDate', prevData);\n            var prevEnd = getValue('ganttProperties.endDate', prevData);\n            var prevDuration = getValue('ganttProperties.duration', prevData);\n            var prevDurationUnit = getValue('ganttProperties.durationUnit', prevData);\n            var keys = Object.keys(prevData.ganttProperties);\n            if (keys.indexOf('startDate') !== -1 || keys.indexOf('endDate') !== -1 ||\n                keys.indexOf('duration') !== -1 || keys.indexOf('durationUnit') !== -1) {\n                if ((isNullOrUndefined(prevStart) && !isNullOrUndefined(taskData.startDate)) ||\n                    (isNullOrUndefined(prevEnd) && !isNullOrUndefined(taskData.endDate)) ||\n                    (isNullOrUndefined(taskData.startDate) && !isNullOrUndefined(prevStart)) ||\n                    (isNullOrUndefined(taskData.endDate) && !isNullOrUndefined(prevEnd)) ||\n                    (prevStart && prevStart.getTime() !== taskData.startDate.getTime())\n                    || (prevEnd && prevEnd.getTime() !== taskData.endDate.getTime())\n                    || (!isNullOrUndefined(prevDuration) && prevDuration !== taskData.duration)\n                    || (!isNullOrUndefined(prevDuration) && prevDuration === taskData.duration &&\n                        prevDurationUnit !== taskData.durationUnit)) {\n                    isMoved = true;\n                }\n            }\n        }\n        return isMoved;\n    };\n    Edit.prototype.isPredecessorUpdated = function (data) {\n        var isPredecessorUpdated = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            if (data.ganttProperties.predecessorsName !== prevData.ganttProperties.predecessorsName &&\n                !(data.ganttProperties.predecessorsName === '' &&\n                    isNullOrUndefined(prevData.ganttProperties.predecessorsName))) {\n                isPredecessorUpdated = true;\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevData.ganttProperties.predecessor, data.ganttProperties, true);\n            }\n        }\n        return isPredecessorUpdated;\n    };\n    /**\n     * Method to check need to open predecessor validate dialog\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     */\n    Edit.prototype.isCheckPredecessor = function (data) {\n        var isValidatePredecessor = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        if (prevData && this.parent.taskFields.dependency && this.parent.isInPredecessorValidation &&\n            this.parent.predecessorModule.getValidPredecessor(data).length > 0) {\n            if (this.isTaskbarMoved(data)) {\n                isValidatePredecessor = true;\n            }\n        }\n        return isValidatePredecessor;\n    };\n    /**\n     * Method to copy the ganttProperties values\n     *\n     * @param {IGanttData} data .\n     * @param {IGanttData} updateData .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateGanttProperties = function (data, updateData) {\n        var skipProperty = ['taskId', 'uniqueID', 'rowUniqueID', 'parentId', 'predecessor'];\n        Object.keys(data.ganttProperties).forEach(function (property) {\n            if (skipProperty.indexOf(property) === -1) {\n                updateData.ganttProperties[property] = data.ganttProperties[property];\n            }\n        });\n    };\n    /**\n     * Method to update all dependent record on edit action\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateUpdateAction = function (args) {\n        var isValidatePredecessor = this.isCheckPredecessor(args.data);\n        var parentData;\n        var childRecordIndex;\n        if (!isNullOrUndefined(args.data.parentItem) && !isValidatePredecessor) {\n            parentData = this.parent.getRecordByID(args.data.parentItem.taskId);\n            if (this.isTaskbarMoved(args.data) && this.parent.predecessorModule.getValidPredecessor(parentData).length > 0\n                && this.parent.isInPredecessorValidation) {\n                isValidatePredecessor = true;\n            }\n            else {\n                isValidatePredecessor = false;\n            }\n        }\n        else if (args.data.childRecords.length > 0 && !isValidatePredecessor) {\n            isValidatePredecessor = this.isCheckPredecessor(args.data);\n            if (!isValidatePredecessor && this.isTaskbarMoved(args.data)) {\n                for (var i = 0; i < args.data.childRecords.length; i++) {\n                    if (this.parent.predecessorModule.getValidPredecessor(args.data.childRecords[i]).length > 0) {\n                        childRecordIndex = i;\n                        isValidatePredecessor = true;\n                    }\n                }\n            }\n        }\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['currentAction'] ||\n            (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['action'] !== 'indent' &&\n                this.parent.undoRedoModule['currentAction']['action'] !== 'outdent'))) {\n            this.taskbarMoved = this.isTaskbarMoved(args.data);\n        }\n        this.predecessorUpdated = this.isPredecessorUpdated(args.data);\n        if (this.predecessorUpdated) {\n            this.parent.isConnectorLineUpdate = true;\n            this.parent.connectorLineEditModule.addRemovePredecessor(args.data);\n        }\n        var validateObject = {};\n        if (isValidatePredecessor && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(parentData)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(parentData, args.data);\n            }\n            else if (!isNullOrUndefined(childRecordIndex)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data.childRecords[childRecordIndex], args.data);\n            }\n            else {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data);\n            }\n            this.parent.isConnectorLineUpdate = true;\n            if (!isNullOrUndefined(getValue('violationType', validateObject))) {\n                var newArgs = this.validateTaskEvent(args);\n                if (newArgs.validateMode.preserveLinkWithEditing === false &&\n                    newArgs.validateMode.removeLink === false &&\n                    newArgs.validateMode.respectLink === false) {\n                    this.parent.connectorLineEditModule.openValidationDialog(validateObject);\n                }\n                else {\n                    if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                        this.parent.editModule.dialogModule['isEdit'] && this.predecessorUpdated) {\n                        this.isValidatedEditedRecord = true;\n                        this.parent.predecessorModule.validatePredecessor(args.data, [], '');\n                    }\n                    this.parent.connectorLineEditModule.applyPredecessorOption();\n                }\n            }\n            else {\n                this.updateEditedTask(args);\n            }\n        }\n        else {\n            if (this.taskbarMoved) {\n                this.parent.isConnectorLineUpdate = true;\n            }\n            this.updateEditedTask(args);\n        }\n    };\n    /**\n     *\n     * @param {ITaskbarEditedEventArgs} editedEventArgs method to trigger validate predecessor link by dialog\n     * @returns {IValidateArgs} .\n     */\n    Edit.prototype.validateTaskEvent = function (editedEventArgs) {\n        var newArgs = {};\n        this.resetValidateArgs();\n        this.parent.currentEditedArgs = newArgs;\n        newArgs.cancel = false;\n        newArgs.data = editedEventArgs.data;\n        newArgs.requestType = 'validateLinkedTask';\n        newArgs.validateMode = this.parent.dialogValidateMode;\n        newArgs.editEventArgs = editedEventArgs;\n        this.parent.actionBeginTask(newArgs);\n        return newArgs;\n    };\n    Edit.prototype.resetValidateArgs = function () {\n        this.parent.dialogValidateMode.preserveLinkWithEditing = true;\n        this.parent.dialogValidateMode.removeLink = false;\n        this.parent.dialogValidateMode.respectLink = false;\n    };\n    Edit.prototype.validateChildPredecessors = function () {\n        for (var i = 0; i < this.parent.predecessorModule.validatedChildItems.length; i++) {\n            var child = this.parent.predecessorModule.validatedChildItems[i];\n            if (child.ganttProperties.predecessor && child.ganttProperties.predecessor.length > 0) {\n                this.parent.editedTaskBarItem = child;\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                }\n                this.parent.predecessorModule.validatePredecessor(child, [], '');\n            }\n        }\n    };\n    /**\n     *\n     * @param {ITaskAddedEventArgs} args - Edited event args like taskbar editing, dialog editing, cell editing\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateEditedTask = function (args) {\n        var ganttRecord = args.data;\n        this.editedRecord = ganttRecord;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.updateParentChildRecord(ganttRecord);\n        }\n        if (this.parent.predecessorModule) {\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n        }\n        if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            /* validating predecessor for updated child items */\n            this.validateChildPredecessors();\n            /** validating predecessor for current edited records */\n            if (ganttRecord.ganttProperties.predecessor) {\n                this.parent.isMileStoneEdited = ganttRecord.ganttProperties.isMilestone;\n                if (this.taskbarMoved) {\n                    this.parent.editedTaskBarItem = ganttRecord;\n                }\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(ganttRecord, [], '');\n                    this.parent.predecessorModule.isChildRecordValidated = [];\n                }\n                this.isValidatedEditedRecord = false;\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.allowParentDependency && this.parent.predecessorModule.isValidatedParentTaskID !==\n                ganttRecord.ganttProperties.taskId && ganttRecord.hasChildRecords &&\n                (this.parent.previousRecords[ganttRecord.uniqueID].ganttProperties.startDate) && (args.action !== 'TaskbarEditing') &&\n                (!ganttRecord.hasChildRecords || (ganttRecord.hasChildRecords && ganttRecord.ganttProperties.isAutoSchedule))) {\n                this.parent.predecessorModule['updateChildItems'](ganttRecord);\n                this.validateChildPredecessors();\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                    if (ganttRecord.childRecords[i].ganttProperties.predecessor) {\n                        this.parent.predecessorModule.validatePredecessor(ganttRecord.childRecords[i], [], '');\n                    }\n                }\n            }\n            this.updateParentItemOnEditing();\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n        /** Update parent up-to zeroth level */\n        if (ganttRecord.parentItem) {\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.parent.dataOperation.updateParentItems(ganttRecord, true);\n            }\n            var parentData = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            if (!isNullOrUndefined(parentData)) {\n                if (!parentData.ganttProperties.predecessorsName) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(parentData, [], '');\n                    this.updateParentItemOnEditing();\n                }\n            }\n        }\n        if (this.parent.updateOffsetOnTaskbarEdit && this.parent.connectorLineEditModule && args.data) {\n            this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n            this.parent.connectorLineEditModule['calculateOffset'](args.data);\n        }\n        this.parent.predecessorModule['validatedParentIds'] = [];\n        if (isNullOrUndefined(this.dialogModule) || (this.dialogModule && !this.dialogModule['isFromDialogPredecessor'])) {\n            this.initiateSaveAction(args);\n        }\n    };\n    Edit.prototype.updateParentItemOnEditing = function () {\n        var _this = this;\n        var childRecord = getValue('parentRecord', this.parent.predecessorModule);\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        if (this.parent.editModule['updateParentRecords'] && this.parent.editModule['updateParentRecords'].length > 0) {\n            this.parent.editModule['updateParentRecords'].forEach(function (record) {\n                if (record.ganttProperties.predecessor && record.ganttProperties.predecessor.length > 0) {\n                    _this.parent.predecessorModule.validatePredecessor(record, [], '');\n                }\n            });\n        }\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        setValue('parentRecord', [], this.parent.predecessorModule);\n        setValue('parentIds', [], this.parent.predecessorModule);\n    };\n    /**\n     * To update parent records while perform drag action.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentChildRecord = function (data) {\n        var ganttRecord = data;\n        if (ganttRecord.hasChildRecords && this.taskbarMoved && (ganttRecord[this.parent.taskFields.manual] === false ||\n            this.parent.taskMode === 'Auto') && (!isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isResourceCellEdited)) {\n            this.parent.predecessorModule['updateChildItems'](ganttRecord);\n        }\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n            this.parent.editModule.cellEditModule.isResourceCellEdited = false;\n        }\n    };\n    /**\n     * To update records while changing schedule mode.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateTaskScheduleModes = function (data) {\n        var currentValue = data[this.parent.taskFields.startDate];\n        var ganttProp = data.ganttProperties;\n        if (this.parent.taskFields.manual) {\n            this.parent.setRecordValue(this.parent.taskFields.manual, !data.ganttProperties.isAutoSchedule, data);\n        }\n        if (data.hasChildRecords && ganttProp.isAutoSchedule) {\n            this.parent.setRecordValue('startDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('endDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('taskData.StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('taskData.EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data, true), ganttProp, true);\n            this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttProp, data, true), ganttProp, true);\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(ganttProp.width, ganttProp.progress), ganttProp, true);\n            this.parent.dataOperation.calculateDuration(data);\n        }\n        else if (data.hasChildRecords && !ganttProp.isAutoSchedule) {\n            this.parent.dataOperation.updateWidthLeft(data);\n            this.parent.dataOperation.calculateDuration(data);\n            this.parent.setRecordValue('autoStartDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('autoEndDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('autoDuration', this.parent.dataOperation.calculateAutoDuration(data), ganttProp, true);\n            this.parent.dataOperation.updateAutoWidthLeft(data);\n        }\n        else {\n            var startDate = this.parent.dateValidationModule.checkStartDate(currentValue, data.ganttProperties);\n            this.parent.setRecordValue('startDate', startDate, data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(data, 'startDate');\n            this.parent.dateValidationModule.calculateEndDate(data);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.manual, data[this.parent.taskFields.manual], data);\n            this.parent.dataOperation.updateWidthLeft(data);\n        }\n    };\n    /**\n     * To update progress value of parent tasks\n     *\n     * @param {IParent} cloneParent .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentProgress = function (cloneParent) {\n        var parentProgress = 0;\n        var parent = this.parent.getParentTask(cloneParent);\n        var childRecords = parent.childRecords;\n        var childCount = childRecords ? childRecords.length : 0;\n        var totalProgress = 0;\n        var milesStoneCount = 0;\n        var taskCount = 0;\n        var totalDuration = 0;\n        var progressValues = {};\n        if (childRecords) {\n            for (var i = 0; i < childCount; i++) {\n                if ((!childRecords[i].ganttProperties.isMilestone || childRecords[i].hasChildRecords) &&\n                    isScheduledTask(childRecords[i].ganttProperties)) {\n                    progressValues = this.parent.dataOperation.getParentProgress(childRecords[i]);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milesStoneCount += 1;\n                }\n            }\n            taskCount = childCount - milesStoneCount;\n            parentProgress = taskCount > 0 ? Math.round(totalProgress / totalDuration) : 0;\n            if (isNaN(parentProgress)) {\n                parentProgress = 0;\n            }\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(parent.ganttProperties.isAutoSchedule ? parent.ganttProperties.width : parent.ganttProperties.autoWidth, parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('progress', Math.floor(parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('totalProgress', totalProgress, parent.ganttProperties, true);\n            this.parent.setRecordValue('totalDuration', totalDuration, parent.ganttProperties, true);\n        }\n        this.parent.dataOperation.updateTaskData(parent);\n        if (parent.parentItem) {\n            this.updateParentProgress(parent.parentItem);\n        }\n    };\n    /**\n     * Method to revert cell edit action\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.revertCellEdit = function (args) {\n        this.parent.editModule.reUpdatePreviousRecords(false, true);\n        this.resetEditProperties();\n    };\n    /**\n     * @param {boolean} isRefreshChart .\n     * @param {boolean} isRefreshGrid .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdatePreviousRecords = function (isRefreshChart, isRefreshGrid) {\n        var collection = this.parent.previousRecords;\n        var keys = Object.keys(collection);\n        for (var i = 0; i < keys.length; i++) {\n            var uniqueId = keys[i];\n            var prevTask = collection[uniqueId];\n            var originalData = this.parent.getTaskByUniqueID(uniqueId);\n            this.copyTaskData(originalData.taskData, prevTask.taskData);\n            delete prevTask.taskData;\n            this.copyTaskData(originalData.ganttProperties, prevTask.ganttProperties);\n            delete prevTask.ganttProperties;\n            this.copyTaskData(originalData, prevTask);\n            var rowIndex = this.parent.currentViewData.indexOf(originalData);\n            if (isRefreshChart) {\n                this.parent.chartRowsModule.refreshRow(rowIndex);\n            }\n            if (isRefreshGrid) {\n                var dataId = this.parent.viewType === 'ProjectView' ? originalData.ganttProperties.taskId : originalData.ganttProperties.rowUniqueID;\n                this.parent.treeGrid.grid.setRowData(dataId, originalData);\n                var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[rowIndex].getAttribute('data-uid'));\n                row.data = originalData;\n            }\n        }\n    };\n    /**\n     * Copy previous task data value to edited task data\n     *\n     * @param {object} existing .\n     * @param {object} newValue .\n     * @returns {void} .\n     */\n    Edit.prototype.copyTaskData = function (existing, newValue) {\n        if (!isNullOrUndefined(newValue)) {\n            extend(existing, newValue);\n        }\n    };\n    /**\n     * To update schedule date on editing.\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateScheduleDatesOnEditing = function (args) {\n        //..\n    };\n    /**\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateSaveAction = function (args) {\n        var _this = this;\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeSave';\n        eventArgs.data = args.data;\n        eventArgs.cancel = false;\n        this.createArray = true;\n        if (this.parent.toolbarModule && this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true); // enable toolbar items.\n        }\n        eventArgs.modifiedRecords = this.parent.editedRecords;\n        if (!isNullOrUndefined(args.target)) {\n            eventArgs.target = args.target;\n        }\n        eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, true);\n        if (args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n            eventArgs.action = args.action;\n            if (args.action === 'DeleteConnectorLine') {\n                this.parent.connectorLineEditModule['isPublicDependencyDelete'] = false;\n                if (this.parent.contextMenuModule) {\n                    this.parent.contextMenuModule['isCntxtMenuDependencyDelete'] = false;\n                }\n            }\n        }\n        var ganttObj = this.parent;\n        var currentBaselineStart = __assign({}, eventArgs.data.ganttProperties.baselineStartDate);\n        var currentBaselineEnd = __assign({}, eventArgs.data.ganttProperties.baselineEndDate);\n        var currentProgress = eventArgs.data.ganttProperties.progress;\n        /* eslint-disable-next-line */\n        var unModifiedData = JSON.parse(JSON.stringify(eventArgs.data.ganttProperties));\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (currentBaselineStart !== eventArg.data['ganttProperties'].baselineStartDate\n                || currentBaselineEnd !== eventArg.data['ganttProperties'].baselineEndDate) {\n                ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n                ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n            }\n            if (_this.parent.autoCalculateDateScheduling && unModifiedData !== eventArg.data['ganttProperties'] &&\n                !isNullOrUndefined(eventArg.data['parentItem'])) {\n                _this.updateParentItemOnEditing();\n                _this.parent.dataOperation.updateParentItems(eventArg.data, true);\n            }\n            var ganttProps = eventArg.data['ganttProperties'];\n            var startDate = ganttProps.startDate, endDate = ganttProps.endDate, segments = ganttProps.segments, durationUnit = ganttProps.durationUnit, isAutoSchedule = ganttProps.isAutoSchedule, isMilestone = ganttProps.isMilestone;\n            if (startDate && endDate && !segments) {\n                var duration = _this.parent.dateValidationModule.getDuration(startDate, endDate, durationUnit, isAutoSchedule, isMilestone, true);\n                if (duration !== 0) {\n                    ganttProps.isMilestone = false;\n                    _this.parent.dateValidationModule.calculateDuration(eventArg.data);\n                }\n            }\n            _this.parent.dataOperation.updateWidthLeft(eventArg.data);\n            if (!isNullOrUndefined(_this.parent.taskFields.progress) && currentProgress !== eventArg.data['ganttProperties'].progress) {\n                var width = eventArg.data['ganttProperties'].isAutoSchedule ? eventArg.data['ganttProperties'].width :\n                    eventArg.data['ganttProperties'].autoWidth;\n                _this.parent.setRecordValue('progressWidth', _this.parent.dataOperation.getProgressWidth(width, eventArg.data['ganttProperties'].progress), eventArg.data['ganttProperties'], true);\n            }\n            _this.parent.chartRowsModule.updateSegment(eventArg.data['ganttProperties'].segments, eventArg.data['ganttProperties'].taskId);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                _this.reUpdatePreviousRecords();\n                _this.parent.chartRowsModule.refreshRecords([args.data]);\n                _this.resetEditProperties(eventArgs);\n                // Trigger action complete event with save canceled request type\n            }\n            else {\n                // To update task data for modified records.\n                if (eventArg.modifiedRecords) {\n                    for (var i = 0; i < eventArg.modifiedRecords.length; i++) {\n                        _this.parent.dataOperation.updateTaskData(eventArg.modifiedRecords[i]);\n                    }\n                }\n                eventArg.modifiedTaskData = getTaskData(eventArg.modifiedRecords, null, null, _this.parent);\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data = _this.parent.dataSource;\n                    var updatedData = {\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    var crud = null;\n                    var dataAdaptor = data.adaptor;\n                    if (!(dataAdaptor instanceof WebApiAdaptor && dataAdaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                        crud = data.saveChanges(updatedData, _this.parent.taskFields.id, null, query);\n                    }\n                    else {\n                        var changedRecords = 'changedRecords';\n                        crud = data.update(_this.parent.taskFields.id, updatedData[changedRecords], null, query);\n                    }\n                    crud.then(function (e) { return _this.dmSuccess(e, args); })\n                        .catch(function (e) { return _this.dmFailure(e, args); });\n                }\n                else {\n                    _this.saveSuccess(args);\n                }\n                if (_this.parent.enableVirtualization && _this.parent.enableTimelineVirtualization) {\n                    _this.parent.ganttChartModule['setVirtualHeight']();\n                }\n                if (_this.parent.undoRedoModule) {\n                    _this.parent.previousFlatData = extend([], _this.parent.flatData, [], true);\n                }\n            }\n        });\n        this.parent.ganttChartModule.reRenderConnectorLines();\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateEditedFields = function (e) {\n        var eLength;\n        var rec;\n        if (e.changedRecords) {\n            eLength = e.changedRecords['length'];\n        }\n        else {\n            eLength = e['length'];\n        }\n        for (var i = 0; i < eLength; i++) {\n            if (e.changedRecords) {\n                rec = e.changedRecords[parseInt(i.toString(), 10)];\n            }\n            else {\n                rec = e[parseInt(i.toString(), 10)];\n            }\n            var _aLength = Object.keys(rec).length;\n            for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n                var key = _a[parseInt(j.toString(), 10)];\n                this.parent.editedRecords[parseInt(i.toString(), 10)][\"\" + key] = rec[\"\" + key];\n                this.parent.editedRecords[parseInt(i.toString(), 10)].taskData[\"\" + key] = rec[\"\" + key];\n            }\n            this.updateEditedRecordFields(rec, this.parent.editedRecords[parseInt(i.toString(), 10)]);\n        }\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.dmSuccess = function (e, args) {\n        this.updateEditedFields(e);\n        this.saveSuccess(args);\n    };\n    Edit.prototype.updateEditedRecordFields = function (rec, editedRecord) {\n        var fields = this.parent.taskFields;\n        var _aLength = Object.keys(rec).length;\n        for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            editedRecord[\"\" + key] = rec[\"\" + key];\n        }\n        if (fields.id !== null) {\n            editedRecord.ganttProperties['taskId'] = rec[fields.id];\n        }\n        if (fields.name !== null) {\n            editedRecord.ganttProperties['taskName'] = rec[fields.name];\n        }\n        if (fields.startDate !== null) {\n            editedRecord.ganttProperties['startDate'] = rec[fields.startDate];\n        }\n        if (fields.endDate !== null) {\n            editedRecord.ganttProperties['endDate'] = rec[fields.endDate];\n        }\n        if (fields.duration !== null) {\n            editedRecord.ganttProperties['duration'] = parseFloat(rec[fields.duration]);\n        }\n        if (fields.durationUnit !== null) {\n            editedRecord.ganttProperties['durationUnit'] = rec[fields.durationUnit];\n        }\n        if (fields.progress !== null) {\n            editedRecord.ganttProperties['progress'] = rec[fields.progress];\n        }\n        if (fields.dependency !== null) {\n            editedRecord.ganttProperties['dependency'] = rec[fields.dependency];\n        }\n        if (fields.parentID !== null) {\n            editedRecord.ganttProperties['parentID'] = rec[fields.parentID];\n        }\n        if (fields.baselineEndDate !== null) {\n            editedRecord.ganttProperties['baselineEndDate'] = rec[fields.baselineEndDate];\n        }\n        if (fields.baselineStartDate !== null) {\n            editedRecord.ganttProperties['baselineStartDate'] = rec[fields.baselineStartDate];\n        }\n        if (fields.resourceInfo !== null) {\n            editedRecord.ganttProperties['resources'] = rec[fields.resourceInfo];\n        }\n    };\n    Edit.prototype.dmFailure = function (e, args) {\n        if (this.deletedTaskDetails.length) {\n            var deleteRecords = this.deletedTaskDetails;\n            for (var d = 0; d < deleteRecords.length; d++) {\n                deleteRecords[d].isDelete = false;\n            }\n            this.deletedTaskDetails = [];\n        }\n        this.reUpdatePreviousRecords(true, true);\n        this.resetEditProperties();\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.updateSharedTask = function (data) {\n        var ids = data.ganttProperties.sharedTaskUniqueIds;\n        for (var i = 0; i < ids.length; i++) {\n            var editRecord = this.parent.flatData[this.parent.ids.indexOf(ids[i].toString())];\n            if (editRecord && editRecord.uniqueID !== data.uniqueID) {\n                this.updateGanttProperties(data, editRecord);\n                this.parent.setRecordValue('taskData', data.taskData, editRecord, true);\n                this.parent.dataOperation.updateTaskData(editRecord);\n                this.parent.dataOperation.updateResourceName(editRecord);\n                if (!isNullOrUndefined(editRecord.parentItem)) {\n                    this.parent.dataOperation.updateParentItems(editRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Method for save action success for local and remote data\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     */\n    Edit.prototype.saveSuccess = function (args) {\n        var eventArgs = {};\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = this.parent.editedRecords;\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.action === 'TaskbarEditing' || args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n                this.updateSharedTask(args.data);\n            }\n            else if (args.action === 'DialogEditing' || args.action === 'CellEditing' || args.action === 'methodUpdate') {\n                if (this.parent.editModule.dialogModule.isResourceUpdate) {\n                    /* eslint-disable-next-line */\n                    this.updateResoures(this.parent.editModule.dialogModule.previousResource, args.data.ganttProperties.resourceInfo, args.data);\n                    this.updateSharedTask(args.data);\n                    this.isTreeGridRefresh = true;\n                }\n                else {\n                    this.updateSharedTask(args.data);\n                }\n            }\n            // method to update the edited parent records\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.editModule.dialogModule.isResourceUpdate = false;\n            this.parent.editModule.dialogModule.previousResource = [];\n        }\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.showCriticalPath(true);\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (!this.isTreeGridRefresh) {\n            if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                if (!this.parent.treeGrid.grid.element.querySelector('form').ej2_instances[0].validate()) {\n                    setValue('isEdit', false, this.parent.treeGrid.grid);\n                    this.parent.editModule.cellEditModule.isCellEdit = false;\n                }\n                this.parent.treeGrid.endEdit();\n            }\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n            if (!this.parent.allowTaskbarOverlap && this.parent.showOverAllocation) {\n                this.parent.contentHeight = this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.ganttChartModule.chartBodyContent.style.height = this.parent.contentHeight + 'px';\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                if (this.parent.taskFields.dependency) {\n                    this.parent.ganttChartModule.reRenderConnectorLines();\n                }\n            }\n            if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['currentAction'] &&\n                this.parent.undoRedoModule['currentAction']['connectedRecords'])) && !isNullOrUndefined(this.parent.connectorLineEditModule)) {\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.connectorLineIds = [];\n                this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.editedRecords);\n                this.updateScheduleDatesOnEditing(args);\n            }\n        }\n        if (!this.parent.editSettings.allowTaskbarEditing || (this.parent.editSettings.allowTaskbarEditing &&\n            !this.taskbarEditModule.dependencyCancel)) {\n            eventArgs.requestType = 'save';\n            eventArgs.data = args.data;\n            eventArgs.modifiedRecords = this.parent.editedRecords;\n            eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, null, null, this.parent);\n            // Prevent currentviewdata index update action while allowTaskbarDragAndDrop is enabled- issue-942005\n            if (!this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule &&\n                this.parent.rowDragAndDropModule['dropPosition'] !== 'middleSegment') {\n                this.updateRowIndex();\n            }\n            if (!isNullOrUndefined(args.action)) {\n                setValue('action', args.action, eventArgs);\n            }\n            if (args.action === 'TaskbarEditing') {\n                eventArgs.taskBarEditAction = args.taskBarEditAction;\n            }\n            this.endEditAction(args);\n            this.parent.trigger('actionComplete', eventArgs);\n            if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['draggedRecord']) {\n                this.parent.rowDragAndDropModule['draggedRecord'] = null;\n            }\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        else {\n            this.taskbarEditModule.dependencyCancel = false;\n            this.resetEditProperties();\n        }\n        if (this.parent.viewType === 'ResourceView' && this.isTreeGridRefresh) {\n            this.parent.treeGrid.parentData = [];\n            this.parent.updatedConnectorLineCollection = [];\n            this.parent.connectorLineIds = [];\n            this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n            this.parent.treeGrid.refresh();\n            this.isTreeGridRefresh = false;\n        }\n        this.parent.editedRecords = [];\n    };\n    Edit.prototype.updateResoures = function (prevResource, currentResource, updateRecord) {\n        var flatRecords = this.parent.flatData;\n        var currentLength = currentResource ? currentResource.length : 0;\n        var previousLength = prevResource ? prevResource.length : 0;\n        if (currentLength === 0 && previousLength === 0) {\n            return;\n        }\n        for (var index = 0; index < currentLength; index++) {\n            var recordIndex = [];\n            var resourceID = parseInt(currentResource[index][this.parent.resourceFields.id], 10).toString();\n            if (resourceID === 'NaN') {\n                resourceID = currentResource[index][this.parent.resourceFields.id];\n            }\n            if (!isNullOrUndefined(prevResource)) {\n                for (var i = 0; i < prevResource.length; i++) {\n                    var prevResourceID = parseInt(prevResource[i][this.parent.resourceFields.id], 10).toString();\n                    if (prevResourceID === 'NaN') {\n                        prevResourceID = prevResource[i][this.parent.resourceFields.id];\n                    }\n                    if (prevResourceID === resourceID) {\n                        recordIndex.push(i);\n                        break;\n                    }\n                }\n            }\n            if (recordIndex.length === 0) {\n                var parentRecord = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n                if (parentRecord) {\n                    this.addNewRecord(updateRecord, parentRecord);\n                }\n            }\n            else {\n                var record1 = parseInt(recordIndex[0].toString(), 10);\n                if (record1.toString() === 'NaN') {\n                    record1 = recordIndex[0].toString();\n                }\n                prevResource.splice(record1, 1);\n            }\n        }\n        var prevLength = prevResource ? prevResource.length : 0;\n        for (var index = 0; index < prevLength; index++) {\n            var taskID = updateRecord.ganttProperties.taskId;\n            var resourceID = prevResource[index][this.parent.resourceFields.id];\n            var record = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n            if (!isNullOrUndefined(record)) {\n                for (var j = 0; j < record.childRecords.length; j++) {\n                    if (record.childRecords[j].ganttProperties.taskId === taskID) {\n                        this.removeChildRecord(record.childRecords[j]);\n                    }\n                }\n            }\n        }\n        if (currentLength > 0) {\n            var parentTask = this.parent.getParentTask(updateRecord.parentItem);\n            if (parentTask) {\n                if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                    this.removeChildRecord(updateRecord);\n                }\n            }\n        }\n        //Assign resource to unassigned task\n        if (currentLength === 0) {\n            this.checkWithUnassignedTask(updateRecord);\n        }\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.flatData[this.parent.flatData.length - 1].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n            this.parent.flatData.splice(this.parent.flatData.length - 1, 1);\n            this.parent.currentViewData.splice(this.parent.currentViewData.length - 1, 1);\n            this.parent.taskIds.splice(this.parent.flatData.length - 1, 1);\n            this.parent.ids.splice(this.parent.flatData.length - 1, 1);\n        }\n    };\n    /**\n     * @param {IGanttData} updateRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.checkWithUnassignedTask = function (updateRecord) {\n        var unassignedTasks = null;\n        // Block for check the unassigned task.\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            if (this.parent.flatData[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                unassignedTasks = this.parent.flatData[i];\n            }\n        }\n        if (!isNullOrUndefined(unassignedTasks)) {\n            this.addNewRecord(updateRecord, unassignedTasks);\n        }\n        else {\n            // Block for create the unassigned task.\n            var unassignTaskObj = {};\n            unassignTaskObj[this.parent.taskFields.id] = 0;\n            unassignTaskObj[this.parent.taskFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n            var beforeEditStatus = this.parent.isOnEdit;\n            this.parent.isOnEdit = false;\n            var cAddedRecord = this.parent.dataOperation.createRecord(unassignTaskObj, 0);\n            this.parent.isOnEdit = beforeEditStatus;\n            this.addRecordAsBottom(cAddedRecord);\n            var parentRecord = this.parent.flatData[this.parent.flatData.length - 1];\n            var index = this.parent.flatData.indexOf(parentRecord);\n            var childIndex = (index + 1) + parentRecord.childRecords.length;\n            updateRecord.index = childIndex;\n            updateRecord.level = parentRecord.level + 1;\n            this.addNewRecord(updateRecord, parentRecord);\n            /* eslint-disable-next-line */\n            var source = this.parent.dataSource;\n            source.push(updateRecord.taskData);\n        }\n        var updatedData = this.parent.currentViewData.filter(function (data) {\n            return (data.ganttProperties.taskId === updateRecord.ganttProperties.taskId &&\n                (data.hasChildRecords === updateRecord.hasChildRecords));\n        })[0];\n        updateRecord.parentItem = updatedData.parentItem;\n        updateRecord.parentUniqueID = updatedData.parentUniqueID;\n    };\n    Edit.prototype.addRecordAsBottom = function (cAddedRecord) {\n        var recordIndex1 = this.parent.flatData.length;\n        this.parent.currentViewData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.flatData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.ids.splice(recordIndex1 + 1, 0, cAddedRecord.ganttProperties.rowUniqueID.toString());\n        var taskId = cAddedRecord.level === 0 ? 'R' + cAddedRecord.ganttProperties.taskId : 'T' + cAddedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n    };\n    Edit.prototype.addNewRecord = function (updateRecord, parentRecord) {\n        var cAddedRecord = null;\n        cAddedRecord = extend({}, {}, updateRecord, true);\n        this.parent.setRecordValue('uniqueID', this.parent.dataOperation['getGanttUid'](this.parent.element.id + '_data_'), cAddedRecord);\n        this.parent.setRecordValue('uniqueID', cAddedRecord.uniqueID, cAddedRecord.ganttProperties, true);\n        var uniqueId = cAddedRecord.uniqueID.replace(this.parent.element.id + '_data_', '');\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord);\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord.ganttProperties, true);\n        this.parent.setRecordValue('level', 1, cAddedRecord);\n        if (this.parent.taskFields.parentID) {\n            this.parent.setRecordValue('parentId', parentRecord.ganttProperties.taskId, cAddedRecord.ganttProperties, true);\n        }\n        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentRecord), cAddedRecord);\n        var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n        updateRecord.ganttProperties.sharedTaskUniqueIds.push(uniqueId);\n        cAddedRecord.ganttProperties.sharedTaskUniqueIds = updateRecord.ganttProperties.sharedTaskUniqueIds;\n        this.addRecordAsChild(parentRecord, cAddedRecord);\n    };\n    Edit.prototype.removeChildRecord = function (record) {\n        var gObj = this.parent;\n        var data = [];\n        if (this.parent.dataSource instanceof DataManager && this.parent.dataSource.dataSource.json.length > 0) {\n            data = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            data = this.parent.currentViewData;\n        }\n        var dataSource = this.parent.dataSource;\n        var deletedRow = record;\n        var flatParentData = this.parent.getParentTask(deletedRow.parentItem);\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var deleteChildRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (deleteChildRecords && deleteChildRecords.length > 0) {\n                    if (deleteChildRecords.length === 1) {\n                        //For updating the parent record which has no child reords.\n                        this.parent.isOnDelete = true;\n                        deleteChildRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        deleteChildRecords[0].isDelete = false;\n                    }\n                    childIndex = deleteChildRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            if (deletedRow.ganttProperties.sharedTaskUniqueIds.length) {\n                var uniqueIDIndex = deletedRow.ganttProperties.sharedTaskUniqueIds.indexOf(deletedRow.ganttProperties.rowUniqueID);\n                deletedRow.ganttProperties.sharedTaskUniqueIds.splice(uniqueIDIndex, 1);\n            }\n            this.updateTreeGridUniqueID(deletedRow, 'delete');\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.rowUniqueID.toString());\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            var flatRecordIndex = this.parent.flatData.indexOf(deletedRow);\n            if (gObj.taskFields.parentID) {\n                var idx = void 0;\n                var ganttData = this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                        idx = i;\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    data.splice(idx, 1);\n                    this.parent.flatData.splice(flatRecordIndex, 1);\n                    this.parent.ids.splice(flatRecordIndex, 1);\n                    this.parent.getTaskIds().splice(flatRecordIndex, 1);\n                }\n            }\n            var recordIndex = data.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                data.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.flatData.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.getTaskIds().splice(flatRecordIndex, deletedRecordCount + 1);\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParentData);\n                this.parent.setRecordValue('hasChildRecords', false, flatParentData);\n            }\n        }\n    };\n    // Method to add new record after resource edit\n    Edit.prototype.addRecordAsChild = function (droppedRecord, draggedRecord) {\n        var gObj = this.parent;\n        var recordIndex1 = this.parent.flatData.indexOf(droppedRecord);\n        var childRecords = this.parent.editModule.getChildCount(droppedRecord, 0);\n        var childRecordsLength;\n        var spliceIndex;\n        var parentTask = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.dialogModule['indexes'] && this.dialogModule['indexes'].deletedIndexes && this.dialogModule['indexes'].deletedIndexes.length > 0) {\n            if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                childRecordsLength = this.parent.taskIds.length + 1;\n            }\n            else {\n                for (var j = 0; j < this.dialogModule['indexes'].deletedIndexes.length; j++) {\n                    if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID === draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var toIndex = this.dialogModule['indexes'].deletedIndexes[j].index;\n                        if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                            (childRecordsLength = toIndex);\n                        }\n                        else {\n                            (childRecordsLength = toIndex + 1);\n                        }\n                        for (var i = 0; i < droppedRecord.childRecords.length; i++) {\n                            if ('T' + droppedRecord.childRecords[i].ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].id) {\n                                if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                                    spliceIndex = i;\n                                }\n                                else {\n                                    spliceIndex = i + 1;\n                                }\n                                break;\n                            }\n                        }\n                        break;\n                    }\n                    else if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID !== draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var draggedParent = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n                        childRecordsLength = draggedParent.index + draggedParent.childRecords.length + 1;\n                        break;\n                    }\n                }\n            }\n        }\n        else if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask') && this.parent.undoRedoModule['currentAction']['deletedRecordsDetails']) {\n            for (var i = 0; i < this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'].length; i++) {\n                if (this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.ganttProperties.taskId === draggedRecord.ganttProperties.taskId) {\n                    if (parentTask.index) {\n                        childRecordsLength = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.index;\n                        spliceIndex = childRecordsLength - parentTask.index - 1;\n                    }\n                    else {\n                        childRecordsLength = (isNullOrUndefined(childRecords) ||\n                            childRecords === 0) ? recordIndex1 + 1 :\n                            childRecords + recordIndex1 + 1;\n                        spliceIndex = 0;\n                    }\n                    break;\n                }\n            }\n        }\n        else if (!isNullOrUndefined(this.addRowIndex) && this.addRowPosition && droppedRecord.childRecords && this.addRowPosition !== 'Child') {\n            var dropChildRecord = droppedRecord.childRecords[this.addRowIndex];\n            var position = this.addRowPosition === 'Above' || this.addRowPosition === 'Below' ? this.addRowPosition :\n                'Child';\n            childRecordsLength = dropChildRecord ? this.addRowIndex + recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n            childRecordsLength = position === 'Above' ? childRecordsLength : childRecordsLength + 1;\n        }\n        else {\n            childRecordsLength = (isNullOrUndefined(childRecords) ||\n                childRecords === 0) ? recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n        }\n        //this.ganttData.splice(childRecordsLength, 0, this.draggedRecord);\n        this.parent.currentViewData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.flatData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.ids.splice(childRecordsLength, 0, draggedRecord.ganttProperties.rowUniqueID.toString());\n        this.updateTreeGridUniqueID(draggedRecord, 'add');\n        var recordId = draggedRecord.level === 0 ? 'R' + draggedRecord.ganttProperties.taskId : 'T' + draggedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n        if (!droppedRecord.hasChildRecords) {\n            this.parent.setRecordValue('hasChildRecords', true, droppedRecord);\n            this.parent.setRecordValue('expanded', true, droppedRecord);\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n                    droppedRecord.taskData[this.parent.taskFields.child] = [];\n                }\n            }\n        }\n        if (spliceIndex >= 0) {\n            droppedRecord.childRecords.splice(spliceIndex, 0, draggedRecord);\n        }\n        else {\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n        }\n        if (!isNullOrUndefined(draggedRecord) && !this.parent.taskFields.parentID\n            && !isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n            droppedRecord.taskData[this.parent.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n        }\n        if (!isNullOrUndefined(draggedRecord.parentItem)) {\n            //collection to update the parent records\n            this.updateParentRecords.push(droppedRecord);\n        }\n    };\n    Edit.prototype.resetEditProperties = function (args) {\n        this.parent.currentEditedArgs = {};\n        this.resetValidateArgs();\n        this.parent.editedTaskBarItem = null;\n        this.parent.isOnEdit = false;\n        this.parent.predecessorModule.validatedChildItems = [];\n        this.parent.isConnectorLineUpdate = false;\n        this.parent.editedTaskBarItem = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        if (!isNullOrUndefined(this.dialogModule) && (isNullOrUndefined(args) ||\n            (!isNullOrUndefined(args) && args['requestType'] === 'beforeSave' && !args['cancel']))) {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n        this.parent.hideSpinner();\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.endEditAction = function (args) {\n        this.resetEditProperties();\n        if (args.action === 'TaskbarEditing') {\n            this.parent.trigger('taskbarEdited', args);\n        }\n        else if (args.action === 'CellEditing') {\n            this.parent.trigger('endEdit', args);\n        }\n        else if (args.action === 'DialogEditing') {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.saveFailed = function (args) {\n        this.reUpdatePreviousRecords();\n        this.parent.hideSpinner();\n        //action failure event trigger\n    };\n    /**\n     * To render delete confirmation dialog\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.renderDeleteConfirmDialog = function () {\n        var dialogObj = new Dialog({\n            width: '320px',\n            isModal: true,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmDelete'),\n            buttons: [\n                {\n                    click: this.confirmDeleteOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.closeConfirmDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        dialogObj.appendTo('#' + this.parent.element.id + '_deleteConfirmDialog');\n        this.confirmDialog = dialogObj;\n    };\n    Edit.prototype.closeConfirmDialog = function () {\n        this.confirmDialog.hide();\n    };\n    Edit.prototype.confirmDeleteOkButton = function () {\n        this.deleteSelectedItems();\n        this.confirmDialog.hide();\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.startDeleteAction = function () {\n        if (this.parent.editSettings.allowDeleting && !this.parent.readOnly) {\n            if (this.parent.editSettings.showDeleteConfirmDialog) {\n                this.confirmDialog.show();\n            }\n            else {\n                this.deleteSelectedItems();\n                var focusingElement = this.parent.element.querySelector('.e-treegrid');\n                focusingElement.focus();\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData[]} selectedRecords - Defines the deleted records\n     * @returns {void} .\n     * Method to delete the records from resource view Gantt.\n     */\n    Edit.prototype.deleteResourceRecords = function (selectedRecords) {\n        var _this = this;\n        var deleteRecords = [];\n        var _loop_2 = function (i) {\n            if (selectedRecords[i].parentItem) {\n                if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length === 1) {\n                    var data = selectedRecords[i];\n                    var ids = data.ganttProperties.sharedTaskUniqueIds;\n                    for (var j = 0; j < ids.length; j++) {\n                        if (this_2.parent.ids.indexOf(ids[j].toString()) !== -1) {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(ids[j].toString())]);\n                        }\n                        else if (this_2.parent.undoRedoModule && this_2.parent.undoRedoModule['isUndoRedoPerformed'] && this_2.parent.undoRedoModule['currentAction'] && this_2.parent.undoRedoModule['currentAction']['action'] === 'Delete') {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.taskIds.indexOf('T' + selectedRecords[i].ganttProperties.taskId)]);\n                        }\n                    }\n                    if (this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID) !== -1 &&\n                        deleteRecords.indexOf(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]) === -1) {\n                        deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]);\n                    }\n                }\n                else if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length > 1) {\n                    selectedRecords.forEach(function (record) {\n                        record.ganttProperties.sharedTaskUniqueIds.forEach(function (uniqueId) {\n                            deleteRecords.push(_this.parent.getTaskByUniqueID(_this.parent.element.id + '_data_' + uniqueId));\n                        });\n                    });\n                }\n            }\n            else {\n                var resourceParent = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId === selectedRecords[i].ganttProperties.taskId &&\n                        data.hasChildRecords);\n                })[0];\n                if (!isNullOrUndefined(resourceParent)) {\n                    deleteRecords.push(resourceParent);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < selectedRecords.length; i++) {\n            _loop_2(i);\n        }\n        this.deleteRow(deleteRecords);\n    };\n    Edit.prototype.add = function (record, totalRecords) {\n        totalRecords.push(record);\n        if (record.hasChildRecords) {\n            var child = record.childRecords;\n            for (var i = 0; i < child.length; i++) {\n                this.add(child[i], totalRecords);\n            }\n        }\n        else {\n            if (totalRecords.indexOf(record) === -1) {\n                totalRecords.push(record);\n            }\n        }\n    };\n    Edit.prototype.deleteSelectedItems = function () {\n        if (!this.isFromDeleteMethod) {\n            var selectedRecords = [];\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                selectedRecords = this.parent.selectionModule.getSelectedRecords();\n            }\n            else if (this.parent.selectionSettings.mode === 'Cell') {\n                selectedRecords = this.parent.selectionModule.getCellSelectedRecords();\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                this.deleteResourceRecords(selectedRecords);\n            }\n            else {\n                this.deleteRow(selectedRecords);\n            }\n        }\n        else {\n            if (this.targetedRecords.length) {\n                if (this.parent.viewType === 'ResourceView') {\n                    this.deleteResourceRecords(this.targetedRecords);\n                }\n                else {\n                    this.deleteRow(this.targetedRecords);\n                }\n            }\n            this.isFromDeleteMethod = false;\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string | number[] | string[] | IGanttData | IGanttData[]} taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Edit.prototype.deleteRecord = function (taskDetail) {\n        this.isFromDeleteMethod = true;\n        var variableType = typeof (taskDetail);\n        this.targetedRecords = [];\n        switch (variableType) {\n            case 'number':\n            case 'string':\n                {\n                    var taskId = taskDetail.toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(taskId) && this.parent.getTaskIds().indexOf('T' + taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskId)]);\n                        }\n                    }\n                    else {\n                        if (!isNullOrUndefined(taskId) && this.parent.ids.indexOf(taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.getRecordByID(taskId));\n                        }\n                    }\n                    break;\n                }\n            case 'object':\n                if (!Array.isArray(taskDetail)) {\n                    this.targetedRecords.push(taskDetail.valueOf());\n                }\n                else {\n                    this.updateTargetedRecords(taskDetail);\n                }\n                break;\n            default:\n        }\n        this.startDeleteAction();\n    };\n    /**\n     * To update 'targetedRecords collection' from given array collection\n     *\n     * @param {object[]} taskDetailArray .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTargetedRecords = function (taskDetailArray) {\n        if (taskDetailArray.length) {\n            var variableType = typeof (taskDetailArray[0]);\n            if (variableType === 'object') {\n                this.targetedRecords = taskDetailArray;\n            }\n            else {\n                // Get record from array of task ids\n                for (var i = 0; i < taskDetailArray.length; i++) {\n                    var id = taskDetailArray[i].toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(id) && this.parent.getTaskIds().indexOf('T' + id) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id)]);\n                        }\n                    }\n                    else if (!isNullOrUndefined(id) && this.parent.ids.indexOf(id) !== -1) {\n                        this.targetedRecords.push(this.parent.getRecordByID(id));\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.deleteRow = function (tasks) {\n        var _this = this;\n        var rowItems = tasks && tasks.length ? tasks :\n            this.parent.selectionModule.getSelectedRecords();\n        this.parent.addDeleteRecord = true;\n        if (rowItems.length) {\n            this.parent.isOnDelete = true;\n            rowItems.forEach(function (item) {\n                if (_this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var rec = void 0;\n                    if (_this.parent.viewType === 'ProjectView') {\n                        rec = _this.parent.getRecordByID(item.ganttProperties.taskId);\n                    }\n                    else {\n                        rec = _this.parent.flatData[_this.parent.taskIds.indexOf((item.hasChildRecords ? 'R' : 'T') + item.ganttProperties.taskId)];\n                    }\n                    rec.isDelete = true;\n                }\n                item.isDelete = true;\n            });\n            if (this.parent.viewType === 'ResourceView' && !tasks.length) {\n                rowItems = [];\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Delete')) {\n                if (this.parent.undoRedoModule['redoEnabled'] && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['createUndoCollection']();\n                }\n                var records = {};\n                records['action'] = 'Delete';\n                records['deletedRecordsDetails'] = [];\n                this.parent.undoRedoModule['findPosition'](extend([], [], rowItems, true), records, 'deletedRecordsDetails');\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n            }\n            var _loop_3 = function (i) {\n                var deleteRecord = rowItems[i];\n                if (this_3.deletedTaskDetails.indexOf(deleteRecord) !== -1) {\n                    return \"continue\";\n                }\n                var deleteItems = [deleteRecord];\n                if (this_3.parent.viewType === 'ResourceView' && this_3.parent.undoRedoModule && this_3.parent.undoRedoModule['isUndoRedoPerformed'] && rowItems[i].ganttProperties.resourceInfo && rowItems[i].ganttProperties.resourceInfo.length > 1) {\n                    deleteItems = [];\n                    if (!rowItems[i].hasChildRecords) {\n                        var id_1 = 'T' + rowItems[i].ganttProperties.taskId;\n                        this_3.parent.taskIds.reduce(function (e, j) {\n                            if (e === id_1) {\n                                deleteItems.push(this.parent.flatData[j]);\n                            }\n                        }.bind(this_3), []);\n                    }\n                }\n                for (var j = 0; j < deleteItems.length; j++) {\n                    var parentTask = this_3.parent.getParentTask(deleteItems[j].parentItem);\n                    if (deleteItems[j].parentItem) {\n                        var childRecord = void 0;\n                        if (!isNullOrUndefined(parentTask)) {\n                            childRecord = parentTask.childRecords;\n                            var filteredRecord = childRecord.length === 1 ?\n                                childRecord : childRecord.filter(function (data) {\n                                return !data.isDelete;\n                            });\n                            if (filteredRecord.length > 0) {\n                                this_3.parent.dataOperation.updateParentItems(deleteItems[j].parentItem);\n                            }\n                        }\n                    }\n                    var predecessor = deleteItems[j].ganttProperties.predecessor;\n                    var canDeletePredecessor = true;\n                    if (this_3.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                        this_3.parent.localeObj.getConstant('unassignedTask')) {\n                        canDeletePredecessor = false;\n                    }\n                    if (predecessor && predecessor.length && canDeletePredecessor) {\n                        this_3.removePredecessorOnDelete(deleteItems[j]);\n                    }\n                    this_3.deletedTaskDetails.push(deleteItems[j]);\n                    if (deleteItems[j].hasChildRecords) {\n                        this_3.deleteChildRecords(deleteItems[j]);\n                    }\n                }\n            };\n            var this_3 = this;\n            for (var i = 0; i < rowItems.length; i++) {\n                _loop_3(i);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection) {\n                // clear selection\n                this.parent.selectionModule.clearSelection();\n            }\n            var delereArgs = {};\n            delereArgs.deletedRecordCollection = this.deletedTaskDetails;\n            delereArgs.updatedRecordCollection = this.parent.editedRecords;\n            delereArgs.cancel = false;\n            delereArgs.action = 'delete';\n            this.initiateDeleteAction(delereArgs);\n            this.parent.isOnDelete = false;\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Edit.prototype.removePredecessorOnDelete = function (record) {\n        var predecessors = record.ganttProperties.predecessor;\n        for (var i = 0; i < predecessors.length; i++) {\n            var predecessor = predecessors[i];\n            var recordId = this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId :\n                record.ganttProperties.rowUniqueID;\n            if (predecessor.from.toString() === recordId.toString()) {\n                var toRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to.toString());\n                if (!isNullOrUndefined(toRecord)) {\n                    var toRecordPredcessor = extend([], [], toRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < toRecordPredcessor.length; t++) {\n                        var toId = this.parent.viewType === 'ResourceView' ? toRecord.ganttProperties.taskId :\n                            toRecord.ganttProperties.rowUniqueID;\n                        if (toRecordPredcessor[t].to.toString() === toId.toString()\n                            && toRecordPredcessor[t].from.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    toRecordPredcessor.splice(index, 1);\n                    this.updatePredecessorValues(toRecord, toRecordPredcessor);\n                }\n            }\n            else if (predecessor.to.toString() === recordId.toString()) {\n                var fromRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from.toString());\n                if (!isNullOrUndefined(fromRecord)) {\n                    var fromRecordPredcessor = extend([], [], fromRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < fromRecordPredcessor.length; t++) {\n                        var fromId = this.parent.viewType === 'ResourceView' ? fromRecord.ganttProperties.taskId :\n                            fromRecord.ganttProperties.rowUniqueID;\n                        if (fromRecordPredcessor[t].from.toString() === fromId.toString()\n                            && fromRecordPredcessor[t].to.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    if (record.uniqueID === fromRecord.parentUniqueID ||\n                        record.parentUniqueID === fromRecord.uniqueID || this.parent.isOnDelete) {\n                        fromRecordPredcessor.splice(index, 1);\n                        this.updatePredecessorValues(fromRecord, fromRecordPredcessor);\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorValues = function (record, predcessorArray) {\n        this.parent.setRecordValue('predecessor', predcessorArray, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n    };\n    /**\n     * Method to update TaskID of a gantt record\n     *\n     * @param {string | number} currentId .\n     * @param {number | string} newId .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskId = function (currentId, newId) {\n        if (!this.parent.readOnly) {\n            var cId = typeof currentId === 'number' ? currentId.toString() : currentId;\n            var nId = typeof newId === 'number' ? newId.toString() : newId;\n            var ids = this.parent.ids;\n            if (!isNullOrUndefined(cId) && !isNullOrUndefined(nId)) {\n                var cIndex = ids.indexOf(cId);\n                var nIndex = ids.indexOf(nId);\n                // return false for invalid taskID\n                if (cIndex === -1 || nIndex > -1) {\n                    return;\n                }\n                var thisRecord = this.parent.flatData[cIndex];\n                if (!isNullOrUndefined(thisRecord)) {\n                    this.parent.setRecordValue('taskId', newId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue('rowUniqueID', nId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord.taskData, true);\n                }\n                ids[cIndex] = nId;\n                if (thisRecord.hasChildRecords && this.parent.taskFields.parentID) {\n                    var childRecords = thisRecord.childRecords;\n                    for (var count = 0; count < childRecords.length; count++) {\n                        var childRecord = childRecords[count];\n                        childRecord[this.parent.taskFields.parentID] = newId;\n                        this.parent.chartRowsModule.refreshRecords([childRecord]);\n                    }\n                }\n                if (this.parent.taskFields.dependency && !isNullOrUndefined(thisRecord.ganttProperties.predecessor)) {\n                    var predecessors = thisRecord.ganttProperties.predecessor;\n                    var currentGanttRecord = void 0;\n                    for (var i = 0; i < predecessors.length; i++) {\n                        var predecessor = predecessors[i];\n                        if (predecessor.to === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.from)];\n                        }\n                        else if (predecessor.from === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.to)];\n                        }\n                        this.updatePredecessorOnUpdateId(currentGanttRecord, cId, nId);\n                    }\n                }\n                this.parent.treeGrid.parentData = [];\n                this.parent.treeGrid.refresh();\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorOnUpdateId = function (currentGanttRecord, cId, nId) {\n        if (this.parent.flatData.indexOf(currentGanttRecord) > -1) {\n            var pred = currentGanttRecord.ganttProperties.predecessor;\n            for (var j = 0; j < pred.length; j++) {\n                var pre = pred[j];\n                if (pre.to === cId) {\n                    pre.to = nId;\n                }\n                else if (pre.from === cId) {\n                    pre.from = nId;\n                }\n            }\n        }\n        this.updatePredecessorValues(currentGanttRecord, currentGanttRecord.ganttProperties.predecessor);\n    };\n    Edit.prototype.deleteChildRecords = function (record) {\n        var _this = this;\n        var childRecords = record.childRecords;\n        for (var c = 0; c < childRecords.length; c++) {\n            var childRecord = childRecords[c];\n            if (this.deletedTaskDetails.indexOf(childRecord) !== -1) {\n                continue;\n            }\n            var predecessor = childRecord.ganttProperties.predecessor;\n            var canDeletePredecessor = true;\n            var parentTask = this.parent.getParentTask(childRecord.parentItem);\n            if (this.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                this.parent.localeObj.getConstant('unassignedTask')) {\n                canDeletePredecessor = false;\n            }\n            if (predecessor && predecessor.length && canDeletePredecessor) {\n                this.removePredecessorOnDelete(childRecord);\n            }\n            if (!isNullOrUndefined(childRecord.ganttProperties.sharedTaskUniqueIds) &&\n                childRecord.ganttProperties.sharedTaskUniqueIds.length > 1) {\n                childRecord.ganttProperties.sharedTaskUniqueIds.forEach(function (uniqueId) {\n                    _this.deletedTaskDetails.push(_this.parent.getTaskByUniqueID(_this.parent.element.id + '_data_' + uniqueId));\n                });\n            }\n            else {\n                this.deletedTaskDetails.push(childRecord);\n            }\n            if (childRecord.hasChildRecords) {\n                this.deleteChildRecords(childRecord);\n            }\n        }\n    };\n    Edit.prototype.removeFromDataSource = function (deleteRecordIDs) {\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        this.removeData(dataSource, deleteRecordIDs);\n        this.isBreakLoop = false;\n    };\n    Edit.prototype.removeData = function (dataCollection, record) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()) !== -1) {\n                if (dataCollection[i][this.parent.taskFields.child]) {\n                    var childRecords = dataCollection[i][this.parent.taskFields.child];\n                    this.removeData(childRecords, record);\n                }\n                record.splice(record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()), 1);\n                dataCollection.splice(i, 1);\n                if (record.length === 0) {\n                    this.isBreakLoop = true;\n                    break;\n                }\n            }\n            else if (dataCollection[i][this.parent.taskFields.child]) {\n                var childRecords = dataCollection[i][this.parent.taskFields.child];\n                this.removeData(childRecords, record);\n            }\n        }\n    };\n    Edit.prototype.initiateDeleteAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeDelete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                var deleteRecords = _this.deletedTaskDetails;\n                for (var d = 0; d < deleteRecords.length; d++) {\n                    deleteRecords[d].isDelete = false;\n                }\n                _this.deletedTaskDetails = [];\n                _this.reUpdatePreviousRecords();\n                _this.parent.initiateEditAction(false);\n                _this.parent.hideSpinner();\n            }\n            else {\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data_1 = _this.parent.dataSource;\n                    if (_this.parent.timezone) {\n                        eventArg.modifiedRecords.forEach(function (modifiedRecord) {\n                            updateDates(modifiedRecord, _this.parent);\n                        });\n                    }\n                    var updatedData_1 = {\n                        deletedRecords: getTaskData(eventArg.data, null, null, _this.parent),\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var adaptor = data_1.adaptor;\n                    var query_1 = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data_1.dataSource.batchUrl) {\n                        var crud = data_1.saveChanges(updatedData_1, _this.parent.taskFields.id, null, query_1);\n                        crud.then(function () { return _this.deleteSuccess(args); })\n                            .catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                    else {\n                        var deletedRecords = 'deletedRecords';\n                        var deleteCrud = null;\n                        for (var i = 0; i < updatedData_1[deletedRecords].length; i++) {\n                            deleteCrud = data_1.remove(_this.parent.taskFields.id, updatedData_1[deletedRecords][i], null, query_1);\n                        }\n                        deleteCrud.then(function () {\n                            var changedRecords = 'changedRecords';\n                            var _loop_4 = function (i) {\n                                if (updatedData_1['deletedRecords'].some(function (record) { return record[_this.parent.taskFields.id] === updatedData_1[changedRecords][i].taskId; })) {\n                                    updatedData_1[changedRecords].splice(i, 1);\n                                }\n                            };\n                            for (var i = updatedData_1[changedRecords].length - 1; i >= 0; i--) {\n                                _loop_4(i);\n                            }\n                            var updateCrud = data_1.update(_this.parent.taskFields.id, updatedData_1[changedRecords], null, query_1);\n                            updateCrud.then(function () { return _this.deleteSuccess(args); })\n                                .catch(function (e) { return _this.dmFailure(e, args); });\n                        }).catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                }\n                else {\n                    _this.deleteSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.deleteSuccess = function (args) {\n        var _this = this;\n        var flatData = this.parent.flatData;\n        var currentData = this.parent.currentViewData;\n        var deletedRecords = [];\n        for (var i = 0; i < args.deletedRecordCollection.length; i++) {\n            if (this.parent.viewType === 'ProjectView') {\n                var record = this.parent.getRecordByID(args.deletedRecordCollection[i].ganttProperties.taskId);\n                if (!isNullOrUndefined(record)) {\n                    deletedRecords.push(record);\n                }\n            }\n            else {\n                var id = void 0;\n                var hasChildRecords = args.deletedRecordCollection[i].hasChildRecords;\n                var isUnassignedTask = args.deletedRecordCollection[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask');\n                var isCollapsed = !args.deletedRecordCollection[i].expanded;\n                if (hasChildRecords && isUnassignedTask && isCollapsed) {\n                    if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.parent.hideMaskRow();\n                    }\n                    else {\n                        this.parent.hideSpinner();\n                    }\n                    this.deletedTaskDetails = [];\n                    this.parent.initiateEditAction(false);\n                    return;\n                }\n                if (args.deletedRecordCollection[i].hasChildRecords) {\n                    id = 'R' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                else {\n                    id = 'T' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                deletedRecords.push(this.parent.getTaskByUniqueID(args.deletedRecordCollection[i].uniqueID));\n            }\n        }\n        var deleteRecordIDs = [];\n        if (deletedRecords.length > 0) {\n            var recordIndex = void 0;\n            var record = void 0;\n            if (this.parent.enableVirtualization) {\n                recordIndex = this.parent.flatData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.flatData[this.parent.selectedRowIndex + 1];\n                // perform toolbar CollapseAll later delete action issue handle\n                if (!this.parent.isCollapseAll) {\n                    // Random parent record delete action, maintaining proper record selection\n                    this.parent.staticSelectedRowIndex = (recordIndex - (deletedRecords.length - 1));\n                }\n            }\n            else {\n                recordIndex = this.parent.currentViewData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.currentViewData[this.parent.selectedRowIndex + 1];\n            }\n            if (!isNullOrUndefined(record)) {\n                this.parent.currentSelection = record;\n            }\n            else {\n                var prevRecordIndex = this.parent.selectedRowIndex - 1;\n                if (prevRecordIndex >= 0) {\n                    this.parent.currentSelection = this.parent.enableVirtualization ?\n                        this.parent.flatData[prevRecordIndex] : this.parent.currentViewData[prevRecordIndex];\n                }\n            }\n        }\n        this.deletedRecord = deletedRecords;\n        for (var i = 0; i < deletedRecords.length; i++) {\n            var deleteRecord = deletedRecords[i];\n            var currentIndex = void 0;\n            var flatIndex = void 0;\n            if (this.parent.viewType === 'ResourceView') {\n                if (deleteRecord.hasChildRecords) {\n                    currentIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                }\n                else {\n                    currentIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                }\n            }\n            else {\n                currentIndex = currentData.indexOf(deleteRecord);\n                flatIndex = flatData.indexOf(deleteRecord);\n            }\n            var treeGridParentIndex = this.parent.treeGrid.parentData.indexOf(deleteRecord);\n            var tempData = getValue('dataOperation.dataArray', this.parent);\n            var dataIndex = tempData.indexOf(deleteRecord.taskData);\n            var childIndex = void 0;\n            if (currentIndex !== -1) {\n                currentData.splice(currentIndex, 1);\n            }\n            if (flatIndex !== -1) {\n                flatData.splice(flatIndex, 1);\n            }\n            if (dataIndex !== -1) {\n                tempData.splice(dataIndex, 1);\n            }\n            if (!isNullOrUndefined(deleteRecord)) {\n                deleteRecordIDs.push(deleteRecord.ganttProperties.taskId.toString());\n                if (flatIndex !== -1) {\n                    this.parent.ids.splice(flatIndex, 1);\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(flatIndex, 1);\n                        if (!deleteRecord.hasChildRecords) {\n                            deleteRecord.ganttProperties.resourceInfo = null;\n                            delete deleteRecord.ganttProperties.resourceNames;\n                            deleteRecord[this.parent.taskFields.resourceInfo] = null;\n                            deleteRecord.ganttProperties.sharedTaskUniqueIds = [];\n                            delete deleteRecord.taskData[this.parent.taskFields.resourceInfo];\n                        }\n                    }\n                }\n                if (deleteRecord.level === 0 && treeGridParentIndex !== -1) {\n                    this.parent.treeGrid.parentData.splice(treeGridParentIndex, 1);\n                }\n                if (deleteRecord.parentItem) {\n                    var parentItem = this.parent.getParentTask(deleteRecord.parentItem);\n                    if (parentItem) {\n                        var childRecords = parentItem.childRecords;\n                        childIndex = childRecords.indexOf(deleteRecord);\n                        if (childIndex !== -1) {\n                            childRecords.splice(childIndex, 1);\n                        }\n                        if (!childRecords.length) {\n                            this.parent.setRecordValue('hasChildRecords', false, parentItem);\n                        }\n                    }\n                }\n                this.updateTreeGridUniqueID(deleteRecord, 'delete');\n            }\n        }\n        if (deleteRecordIDs.length > 0) {\n            this.removeFromDataSource(deleteRecordIDs);\n        }\n        this.updateRowIndex();\n        var eventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.isAdded = false;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode();\n        }\n        // Trigger actioncomplete event for delete action\n        eventArgs.requestType = 'delete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        setValue('action', args.action, eventArgs);\n        this.parent.isOnDelete = false;\n        if (this.parent.viewType === 'ResourceView' && (!this.parent.undoRedoModule || (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Delete'))))) {\n            var updateUnAssignedResources_1 = eventArgs.data.filter(function (data) {\n                return !data.hasChildRecords;\n            });\n            var _loop_5 = function (i) {\n                var unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var isDuplicate = [];\n                if (unassignedTask) {\n                    isDuplicate = unassignedTask.childRecords.filter(function (data) {\n                        return data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId;\n                    });\n                }\n                var parentTask = this_4.parent.getParentTask(updateUnAssignedResources_1[i].parentItem);\n                if (parentTask && parentTask.ganttProperties.taskName !==\n                    this_4.parent.localeObj.getConstant('unassignedTask') && isDuplicate.length === 0) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                else if (!parentTask && (!isDuplicate || isDuplicate.length === 0)) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var parentItem = this_4.parent.currentViewData.filter(function (data) {\n                    if (data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId &&\n                        (!data.hasChildRecords && data.parentItem)\n                        && unassignedTask.uniqueID === data.parentItem.uniqueID) {\n                        return data;\n                    }\n                    else {\n                        return null;\n                    }\n                });\n                if (parentItem[0]) {\n                    this_4.parent.dataOperation.updateParentItems(parentItem[0]);\n                }\n            };\n            var this_4 = this;\n            for (var i = 0; i < updateUnAssignedResources_1.length; i++) {\n                _loop_5(i);\n            }\n        }\n        this.parent.trigger('actionComplete', eventArgs);\n        this.deletedTaskDetails = [];\n        this.parent.initiateEditAction(false);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.treeGrid.closeEdit();\n    };\n    /**\n     *\n     * @returns {number | string} .\n     * @private\n     */\n    Edit.prototype.getNewTaskId = function () {\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var maxId = ids.length;\n        var newTaskId = maxId + 1;\n        if (this.parent.viewType === 'ResourceView') {\n            if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1);\n                }\n            }\n        }\n        else {\n            if (ids.indexOf(newTaskId.toString()) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf(newTaskId.toString()) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf(newTaskId.toString()) !== -1);\n                }\n            }\n        }\n        if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n            return newTaskId = newTaskId.toString();\n        }\n        else {\n            return newTaskId;\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.prepareNewlyAddedData = function (obj, rowPosition) {\n        var taskModel = this.parent.taskFields;\n        var id;\n        var newTaskIDmd;\n        var ids = this.parent.ids;\n        /*Validate Task Id of data*/\n        if (obj[taskModel.id]) {\n            if (ids.indexOf(obj[taskModel.id].toString()) !== -1) {\n                obj[taskModel.id] = null;\n            }\n            else {\n                if (typeof (obj[taskModel.id]) === 'string') {\n                    newTaskIDmd = obj[taskModel.id];\n                }\n                else {\n                    newTaskIDmd = parseInt(obj[taskModel.id], 10);\n                }\n                obj[taskModel.id] = isNullOrUndefined(newTaskIDmd) ? null : newTaskIDmd;\n            }\n        }\n        if (!obj[taskModel.id]) {\n            id = this.getNewTaskId();\n            obj[taskModel.id] = id;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.startDate]) {\n            obj[taskModel.startDate] = this.parent.projectStartDate;\n        }\n        if (!this.parent.allowUnscheduledTasks && taskModel.duration && isNullOrUndefined(obj[taskModel.duration])) {\n            if (!obj[taskModel.endDate]) {\n                obj[taskModel.duration] = '5';\n            }\n        }\n        if (taskModel.progress) {\n            obj[taskModel.progress] = obj[taskModel.progress] ? (obj[taskModel.progress] > 100 ? 100 : obj[taskModel.progress]) : 0;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.endDate] && taskModel.endDate) {\n            if (!obj[taskModel.duration]) {\n                var startDate = this.parent.dataOperation.getDateFromFormat(this.parent.projectStartDate);\n                if (!isNullOrUndefined(startDate)) {\n                    startDate.setDate(startDate.getDate() + 4);\n                    obj[taskModel.endDate] = this.parent.getFormatedDate(startDate, this.parent.getDateFormat());\n                }\n            }\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {number} level .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @param {number} rowIndex .\n     * @returns {IGanttData} .\n     * @private\n     */\n    Edit.prototype.updateNewlyAddedDataBeforeAjax = function (obj, level, rowPosition, parentItem, rowIndex) {\n        var cAddedRecord = this.parent.dataOperation.createRecord(obj, level);\n        switch (rowPosition) {\n            case 'Above':\n                cAddedRecord.index = rowIndex;\n                break;\n            case 'Below':\n            case 'Child':\n                cAddedRecord.index = rowIndex + 1;\n                break;\n            case 'Bottom':\n                cAddedRecord.index = this.parent.enableVirtualization ? this.parent.flatData.length : this.parent.currentViewData.length;\n                break;\n            case 'Top':\n                cAddedRecord.index = 0;\n                break;\n            default:\n                break;\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), cAddedRecord);\n            var pIndex = cAddedRecord.parentItem ? cAddedRecord.parentItem.index : null;\n            this.parent.setRecordValue('parentIndex', pIndex, cAddedRecord);\n            var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n            this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n            if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                !isNullOrUndefined(this.parent.taskFields.parentID) && cAddedRecord.parentItem) {\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord.taskData, true);\n                }\n                this.parent.setRecordValue('parentId', cAddedRecord.parentItem.taskId, cAddedRecord.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord, true);\n            }\n        }\n        this.parent.isOnEdit = true;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (obj['hasChildRecords']) {\n                var totalRecords = [];\n                var currentAction = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'];\n                for (var i = 0; i < obj['childRecords'].length; i++) {\n                    this.add(obj['childRecords'][i], totalRecords);\n                }\n                for (var j = 0; j < currentAction.length; j++) {\n                    if (obj['ganttProperties'].taskId === currentAction[j]['data'].ganttProperties.taskId) {\n                        if (currentAction[j]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        else if (currentAction[j]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (currentAction[j]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n                        for (var i = 0; i < totalRecords.length; i++) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                if (totalRecords[i].parentItem.taskId === cAddedRecord.ganttProperties.taskId) {\n                                    totalRecords[i].parentItem.index = cAddedRecord.index;\n                                    totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.taskId;\n                                    totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                    totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                }\n                            }\n                            else {\n                                totalRecords[i].parentItem.index = cAddedRecord.index;\n                                totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                                totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        break;\n                    }\n                }\n                this.addRowSelectedItem = cAddedRecord;\n                cAddedRecord.taskData[this.parent.taskFields.child] = [];\n                for (var k = 0; k < totalRecords.length; k++) {\n                    this.parent.isOnEdit = false;\n                    var newRecord = this.parent.dataOperation.createRecord(totalRecords[k], totalRecords[k].level);\n                    if (newRecord.childRecords.length === 0 && newRecord.taskData[this.parent.taskFields.child]) {\n                        newRecord.taskData[this.parent.taskFields.child] = [];\n                    }\n                    parentItem = this.parent.getRecordByID(totalRecords[k].parentItem.taskId);\n                    if (!isNullOrUndefined(parentItem)) {\n                        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), newRecord);\n                        var pIndex = newRecord.parentItem ? newRecord.parentItem.index : null;\n                        this.parent.setRecordValue('parentIndex', pIndex, newRecord);\n                        var parentUniqId = newRecord.parentItem ? newRecord.parentItem.uniqueID : null;\n                        this.parent.setRecordValue('parentUniqueID', parentUniqId, newRecord);\n                        if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                            !isNullOrUndefined(this.parent.taskFields.parentID) && newRecord.parentItem) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord.taskData, true);\n                            }\n                            this.parent.setRecordValue('parentId', newRecord.parentItem.taskId, newRecord.ganttProperties, true);\n                            this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord, true);\n                        }\n                    }\n                    this.parent.isOnEdit = true;\n                    if (newRecord.parentItem) {\n                        if (parentItem.childRecords.length === 0) {\n                            rowPosition = 'Child';\n                        }\n                        else {\n                            rowPosition = 'Below';\n                        }\n                    }\n                    if (this.parent.getParentTask(newRecord.parentItem).childRecords.length > 0) {\n                        this.addRowSelectedItem = this.parent.getParentTask(newRecord.parentItem).childRecords[this.parent.getParentTask(newRecord.parentItem).childRecords.length - 1];\n                    }\n                    this.backUpAndPushNewlyAddedRecord(newRecord, rowPosition, parentItem);\n                    for (var i = 0; i < totalRecords.length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            if (totalRecords[i].parentItem.taskId === newRecord.ganttProperties.taskId) {\n                                totalRecords[i].parentItem.index = newRecord.index;\n                                totalRecords[i].parentItem.taskId = newRecord.ganttProperties.taskId;\n                                totalRecords[i].parentItem.uniqueID = newRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = newRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        else {\n                            totalRecords[i].parentItem.index = cAddedRecord.index;\n                            totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                            totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                        }\n                    }\n                }\n            }\n            else {\n                this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n            }\n        }\n        else {\n            this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n        }\n        // need to push in dataSource also.\n        if (this.parent.taskFields.dependency && cAddedRecord.ganttProperties.predecessorsName) {\n            if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                this.parent.predecessorModule.ensurePredecessorCollectionHelper(cAddedRecord, cAddedRecord.ganttProperties);\n            }\n            this.parent.predecessorModule.updatePredecessorHelper(cAddedRecord);\n            this.parent.predecessorModule.validatePredecessorDates(cAddedRecord);\n        }\n        if (cAddedRecord.parentItem && this.parent.getParentTask(cAddedRecord.parentItem).ganttProperties.isAutoSchedule) {\n            this.parent.dataOperation.updateParentItems(cAddedRecord.parentItem);\n        }\n        this.parent.isOnEdit = false;\n        return cAddedRecord;\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {number} count .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getChildCount = function (record, count) {\n        var currentRecord;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            if (currentRecord.hasChildRecords) {\n                count = this.getChildCount(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @param {number} count .\n     * @param {IGanttData[]} collection .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getVisibleChildRecordCount = function (data, count, collection) {\n        var childRecords;\n        var length;\n        if (data.hasChildRecords) {\n            childRecords = data.childRecords;\n            length = childRecords.length;\n            for (var i = 0; i < length; i++) {\n                if (collection.indexOf(childRecords[i]) !== -1) {\n                    count++;\n                }\n                if (childRecords[i].hasChildRecords) {\n                    count = this.getVisibleChildRecordCount(childRecords[i], count, collection);\n                }\n            }\n        }\n        else {\n            if (collection.indexOf(data) !== -1) {\n                count++;\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} parentRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updatePredecessorOnIndentOutdent = function (parentRecord) {\n        var len = parentRecord.ganttProperties.predecessor.length;\n        var parentRecordTaskData = parentRecord.ganttProperties;\n        var predecessorCollection = parentRecordTaskData.predecessor;\n        var childRecord;\n        var predecessorIndex;\n        var updatedPredecessor = [];\n        var validPredecessor;\n        for (var count = 0; count < len; count++) {\n            var fromRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n            var toRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n            validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n            if (!validPredecessor || !this.parent.allowParentDependency) {\n                if (predecessorCollection[count].to === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var predecessorCollections = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    predecessorCollections.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', predecessorCollections, childRecord.ganttProperties, true);\n                }\n                else if (predecessorCollection[count].from === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n                    var prdcList = (childRecord.ganttProperties.predecessorsName.toString()).split(',');\n                    var str = predecessorCollection[count].from + predecessorCollection[count].type;\n                    var ind = prdcList.indexOf(str);\n                    prdcList.splice(ind, 1);\n                    this.parent.setRecordValue('predecessorsName', prdcList.join(','), childRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.dependency, prdcList.join(','), childRecord);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var temppredecessorCollection = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    temppredecessorCollection.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', temppredecessorCollection, childRecord.ganttProperties, true);\n                    this.parent.predecessorModule.validatePredecessorDates(childRecord);\n                }\n            }\n        }\n        if (!validPredecessor || !this.parent.allowParentDependency) {\n            this.parent.setRecordValue('predecessor', updatedPredecessor, parentRecord.ganttProperties, true);\n            this.parent.setRecordValue('predecessorsName', '', parentRecord.ganttProperties, true);\n        }\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.backUpAndPushNewlyAddedRecord = function (record, rowPosition, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var currentItemIndex;\n        var recordIndex;\n        var updatedCollectionIndex;\n        var childIndex;\n        switch (rowPosition) {\n            case 'Top':\n                flatRecords.splice(0, 0, record);\n                currentViewData.splice(0, 0, record);\n                ids.splice(0, 0, record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                break;\n            case 'Bottom':\n                flatRecords.push(record);\n                currentViewData.push(record);\n                ids.push(record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                if (this.parent.viewType === 'ResourceView') {\n                    var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n                    this.parent.getTaskIds().push(taskId);\n                }\n                break;\n            case 'Above':\n                /*Record Updates*/\n                recordIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem);\n                this.recordCollectionUpdate(childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Below':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Child':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    //Expand Add record's parent item for project view\n                    if (!this.addRowSelectedItem.expanded && !this.parent.enableMultiTaskbar) {\n                        this.parent.expandByID(this.addRowSelectedItem.ganttProperties.rowUniqueID);\n                    }\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    this.parent.setRecordValue('hasChildRecords', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('isMilestone', false, this.addRowSelectedItem.ganttProperties, true);\n                    this.parent.setRecordValue('expanded', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('childRecords', [], this.addRowSelectedItem);\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                    if (this.addRowSelectedItem.ganttProperties.predecessor) {\n                        this.updatePredecessorOnIndentOutdent(this.addRowSelectedItem);\n                    }\n                    if (!isNullOrUndefined(this.addRowSelectedItem.ganttProperties.segments)) {\n                        this.addRowSelectedItem.ganttProperties.segments = null;\n                    }\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n        }\n        this.newlyAddedRecordBackup = record;\n    };\n    /**\n     * @param {number} childIndex .\n     * @param {number} recordIndex .\n     * @param {number} updatedCollectionIndex .\n     * @param {IGanttData} record .\n     * @param {IGanttData} parentItem .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.recordCollectionUpdate = function (childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        /* Record collection update */\n        flatRecords.splice(recordIndex, 0, record);\n        currentViewData.splice(updatedCollectionIndex, 0, record);\n        ids.splice(recordIndex, 0, record.ganttProperties.rowUniqueID.toString());\n        if (this.parent.viewType === 'ResourceView') {\n            var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n            this.parent.getTaskIds().splice(recordIndex, 0, taskId);\n        }\n        /* data Source update */\n        if (!isNullOrUndefined(parentItem)) {\n            if (rowPosition === 'Above') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem);\n            }\n            else if (rowPosition === 'Below') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem) + 1;\n            }\n            else {\n                childIndex = parentItem.childRecords.length;\n            }\n            /*Child collection update*/\n            parentItem.childRecords.splice(childIndex, 0, record);\n            if (!this.parent.taskFields.child) {\n                this.parent.taskFields.child = 'Children';\n            }\n            if ((this.parent.dataSource instanceof DataManager &&\n                isNullOrUndefined(parentItem.taskData[this.parent.taskFields.parentID])) ||\n                !isNullOrUndefined(this.parent.dataSource)) {\n                var child = this.parent.taskFields.child;\n                if (parentItem.taskData[child] && parentItem.taskData[child].length > 0) {\n                    if (rowPosition === 'Above' || rowPosition === 'Below') {\n                        parentItem.taskData[child].splice(childIndex, 0, record.taskData);\n                    }\n                    else {\n                        parentItem.taskData[child].push(record.taskData);\n                    }\n                }\n                else {\n                    parentItem.taskData[child] = [];\n                    parentItem.taskData[child].push(record.taskData);\n                }\n                this.isNewRecordAdded = true;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} cAddedRecord .\n     * @param {IGanttData} modifiedRecords .\n     * @param {string} event .\n     * @returns {ITaskAddedEventArgs} .\n     * @private\n     */\n    Edit.prototype.constructTaskAddedEventArgs = function (cAddedRecord, modifiedRecords, event) {\n        var eventArgs = {};\n        eventArgs.action = eventArgs.requestType = event;\n        if (cAddedRecord.length > 1) {\n            eventArgs.data = [];\n            eventArgs.newTaskData = [];\n            eventArgs.recordIndex = [];\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                eventArgs.data[i] = cAddedRecord[i];\n                (eventArgs.newTaskData[i]) = (getTaskData([cAddedRecord[i]], eventArgs.data[i], eventArgs, this.parent));\n                eventArgs.recordIndex[i] = cAddedRecord[i].index;\n            }\n        }\n        else if (cAddedRecord.length === 1) {\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                (eventArgs.data) = (cAddedRecord[i]);\n                (eventArgs.newTaskData) = (getTaskData([cAddedRecord[i]], eventArgs.data, eventArgs, this.parent));\n                eventArgs.recordIndex = cAddedRecord[i].index;\n            }\n        }\n        eventArgs.modifiedRecords = modifiedRecords;\n        eventArgs.modifiedTaskData = getTaskData(modifiedRecords, null, null, this.parent);\n        return eventArgs;\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addSuccess = function (args) {\n        // let addedRecords: IGanttData = args.addedRecord;\n        // let eventArgs: IActionBeginEventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.parent.addDeleteRecord = true;\n        this.parent.treeGrid['isAddedFromGantt'] = true;\n        this.isAdded = true;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.parent.modifiedRecords = args.modifiedRecords;\n            this.parent.modifiedRecords.push(args.data);\n            this.refreshRecordInImmutableMode();\n        }\n        this.parent.treeGrid.closeEdit();\n    };\n    Edit.prototype.refreshRecordInImmutableMode = function (data, dragged) {\n        if (!dragged && !isNullOrUndefined(data)) {\n            for (var i = data[0].index + 1; i < this.parent.currentViewData.length; i++) {\n                if (data[0].level < this.parent.currentViewData[i].level) {\n                    this.parent.modifiedRecords.push(this.parent.currentViewData[i]);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        var _loop_6 = function (i) {\n            var originalData = this_5.parent.modifiedRecords[i];\n            var treeIndex = this_5.parent.rowDragAndDropModule && this_5.parent.allowRowDragAndDrop ? 1 : 0;\n            var uniqueTaskID = this_5.parent.taskFields.id;\n            var originalIndex = this_5.parent.currentViewData.findIndex(function (data) {\n                return (data[uniqueTaskID] === originalData[uniqueTaskID]);\n            });\n            if (this_5.parent.treeGrid.getRows()[originalIndex]) {\n                var row = this_5.parent.treeGrid.grid.getRowObjectFromUID(this_5.parent.treeGrid.grid.getDataRows()[originalIndex].getAttribute('data-uid'));\n                this_5.parent.treeGrid.renderModule.cellRender({\n                    data: row.data,\n                    cell: this_5.parent.treeGrid.getRows()[originalIndex].cells[this_5.parent.treeColumnIndex + treeIndex],\n                    column: this_5.parent.treeGrid.grid.getColumns()[this_5.parent.treeColumnIndex],\n                    requestType: 'rowDragAndDrop'\n                });\n                this_5.parent.treeGrid.renderModule.RowModifier({\n                    data: originalData, row: this_5.parent.treeGrid.getRows()[originalIndex], rowHeight: this_5.parent.rowHeight\n                });\n            }\n        };\n        var this_5 = this;\n        for (var i = 0; i < this.parent.modifiedRecords.length; i++) {\n            _loop_6(i);\n        }\n    };\n    /**\n     * @param {IGanttData} addedRecord .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateRealDataSource = function (addedRecord, rowPosition) {\n        var taskFields = this.parent.taskFields;\n        var dataSource = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n            this.parent.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        for (var i = 0; i < addedRecord.length; i++) {\n            if (isNullOrUndefined(rowPosition) || isNullOrUndefined(this.addRowSelectedItem)) {\n                rowPosition = rowPosition === 'Bottom' ? 'Bottom' : 'Top';\n            }\n            if (rowPosition === 'Top') {\n                dataSource.splice(0, 0, addedRecord[i].taskData);\n            }\n            else if (rowPosition === 'Bottom') {\n                dataSource.push(addedRecord[i].taskData);\n            }\n            else {\n                if (!isNullOrUndefined(taskFields.id) && !isNullOrUndefined(taskFields.parentID) && rowPosition === 'Child') {\n                    dataSource.push(addedRecord[i].taskData);\n                }\n                else {\n                    if (!this.isNewRecordAdded) {\n                        this.addDataInRealDataSource(dataSource, addedRecord[i].taskData, rowPosition);\n                    }\n                    this.isNewRecordAdded = false;\n                }\n            }\n            this.isBreakLoop = false;\n        }\n    };\n    /**\n     * @param {object[]} dataCollection .\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addDataInRealDataSource = function (dataCollection, record, rowPosition) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            var child = this.parent.taskFields.child;\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (getValue(this.parent.taskFields.id, dataCollection[i]).toString() ===\n                this.addRowSelectedItem.ganttProperties.rowUniqueID.toString()) {\n                var index = void 0;\n                if (this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['droppedRecord'] && this.parent.viewType === 'ResourceView') {\n                    for (var i_1 = 0; i_1 < dataCollection.length; i_1++) {\n                        if (dataCollection[i_1][this.parent.taskFields.id] === this.parent.rowDragAndDropModule['droppedRecord'].ganttProperties.taskId) {\n                            index = i_1;\n                            break;\n                        }\n                    }\n                }\n                if (rowPosition === 'Above') {\n                    if (index) {\n                        dataCollection.splice(index, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Below') {\n                    if (index) {\n                        dataCollection.splice(index + 1, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i + 1, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Child') {\n                    if (dataCollection[i][child] && dataCollection[i][child].length > 0) {\n                        dataCollection[i][child].push(record);\n                    }\n                    else {\n                        dataCollection[i][child] = [];\n                        dataCollection[i][child].push(record);\n                    }\n                }\n                this.isBreakLoop = true;\n                break;\n            }\n            else if (dataCollection[i][child]) {\n                var childRecords = dataCollection[i][child];\n                this.addDataInRealDataSource(childRecords, record, rowPosition);\n            }\n        }\n    };\n    /**\n     * Method to update the values to client side from server side.\n     *\n     * @param {Object} e - Defines the new modified data from the server.\n     * @param {Object[]} e.addedRecords .\n     * @param {Object[]} e.changedRecords .\n     * @param {ITaskAddedEventArgs} args - Defines the client side data.\n     * @returns {void} .\n     */\n    Edit.prototype.updateClientDataFromServer = function (e, args) {\n        var serverReturnedValue = e.addedRecords[0];\n        var _aLength = Object.keys(serverReturnedValue).length;\n        for (var j = 0, _a = Object.keys(serverReturnedValue); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            args.data[\"\" + key] = serverReturnedValue[\"\" + key];\n        }\n        if (this.parent.taskFields.id !== null) {\n            args.data.ganttProperties['taskId'] = serverReturnedValue[this.parent.taskFields.id];\n        }\n        if (this.parent.taskFields.name !== null) {\n            args.data.ganttProperties['taskName'] = serverReturnedValue[this.parent.taskFields.name];\n        }\n        if (this.parent.taskFields.startDate !== null) {\n            args.data.ganttProperties['startDate'] = serverReturnedValue[this.parent.taskFields.startDate];\n        }\n        if (this.parent.taskFields.endDate !== null) {\n            args.data.ganttProperties['endDate'] = serverReturnedValue[this.parent.taskFields.endDate];\n        }\n        if (this.parent.taskFields.duration !== null) {\n            args.data.ganttProperties['duration'] = parseFloat(serverReturnedValue[this.parent.taskFields.duration]);\n        }\n        if (this.parent.taskFields.durationUnit !== null) {\n            args.data.ganttProperties['durationUnit'] = serverReturnedValue[this.parent.taskFields.durationUnit];\n        }\n        if (this.parent.taskFields.progress !== null) {\n            args.data.ganttProperties['progress'] = serverReturnedValue[this.parent.taskFields.progress];\n        }\n        if (this.parent.taskFields.dependency !== null) {\n            args.data.ganttProperties['dependency'] = serverReturnedValue[this.parent.taskFields.dependency];\n        }\n        if (this.parent.taskFields.parentID !== null) {\n            args.data.ganttProperties['parentID'] = serverReturnedValue[this.parent.taskFields.parentID];\n        }\n        if (this.parent.taskFields.baselineEndDate !== null) {\n            args.data.ganttProperties['baselineEndDate'] = serverReturnedValue[this.parent.taskFields.baselineEndDate];\n        }\n        if (this.parent.taskFields.baselineStartDate !== null) {\n            args.data.ganttProperties['baselineStartDate'] = serverReturnedValue[this.parent.taskFields.baselineStartDate];\n        }\n        if (this.parent.taskFields.resourceInfo !== null) {\n            args.data.ganttProperties['resources'] = serverReturnedValue[this.parent.taskFields.resourceInfo];\n        }\n    };\n    Edit.prototype.addNewUndoCollection = function (record, args) {\n        if (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Add' && this.parent.viewType === 'ResourceView'))\n            && this.parent['isUndoRedoItemPresent']('Add')) {\n            record['action'] = 'Add';\n            var tempArray_1 = args.data.length > 0 ?\n                extend([], [], args.data, true) : [args.data];\n            var addedRec = [];\n            var _loop_7 = function (i) {\n                addedRec = (this_6.parent.flatData.filter(function (data) {\n                    return (tempArray_1[i].index === data.index && tempArray_1[i]['ganttProperties'].taskId === data.ganttProperties.taskId);\n                }));\n            };\n            var this_6 = this;\n            for (var i = 0; i < tempArray_1.length; i++) {\n                _loop_7(i);\n            }\n            record['addedRecords'] = extend([], [], addedRec, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n        }\n    };\n    /**\n     * Method to add new record.\n     *\n     * @param {Object[] | Object} data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        var _this = this;\n        var tempTaskID = this.parent.taskFields.id;\n        if (this.parent.editModule && this.parent.editSettings.allowAdding) {\n            this.parent.isDynamicData = true;\n            this.parent.treeGrid['isAddedFromGantt'] = true;\n            this.parent.isOnAdded = true;\n            var cAddedRecord_1 = [];\n            if (isNullOrUndefined(data)) {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else if (data instanceof Array) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var addData = data;\n                    var addIndex = rowIndex;\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (data[0]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (data[0]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        else if (data[0]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        addIndex = this.parent.taskIds.indexOf(data[0]['id'].toString());\n                        addData = data[0]['data'];\n                    }\n                    this.validateTaskPosition(addData, rowPosition, addIndex, cAddedRecord_1);\n                }\n                else {\n                    for (var i = 0; i < data.length; i++) {\n                        this.validateTaskPosition(data[i], rowPosition, rowIndex, cAddedRecord_1);\n                    }\n                }\n            }\n            else if (typeof (data) === 'object') {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else {\n                return;\n            }\n            var args = {};\n            args = this.constructTaskAddedEventArgs(cAddedRecord_1, this.parent.editedRecords, 'beforeAdd');\n            if (!isNullOrUndefined(rowPosition)) {\n                args.rowPosition = rowPosition;\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Add')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n            }\n            this.parent.trigger('actionBegin', args, function (args) {\n                _this.parent.previousRecords = {};\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                var tasks = _this.parent.taskFields;\n                var ganttData;\n                if (_this.parent.viewType === 'ResourceView') {\n                    if (args.data['childRecords'].length > 0) {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('R' + args.data[tasks.id])];\n                    }\n                    else {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('T' + args.data[tasks.id])];\n                    }\n                }\n                else {\n                    ganttData = _this.parent.getRecordByID(args.data[tasks.id]);\n                }\n                if (!isNullOrUndefined(ganttData)) {\n                    _this.validateUpdateValues(args.newTaskData, ganttData, true);\n                    _this.parent.dateValidationModule.calculateEndDate(ganttData);\n                    _this.parent.dataOperation.updateWidthLeft(ganttData);\n                    _this.parent.dataOperation.updateParentItems(ganttData);\n                }\n                if (!isNullOrUndefined(args.data[\"\" + tempTaskID])) {\n                    if (args.data[tempTaskID] !== args.data['ganttProperties']['taskId']) {\n                        for (var _i = 0, _b = Object.keys(_this.parent.ids); _i < _b.length; _i++) {\n                            var key = _b[_i];\n                            if (_this.parent.ids[key] === args.data['ganttProperties']['taskId'].toString()) {\n                                _this.parent.ids[key] = args.data[tempTaskID].toString();\n                                break;\n                            }\n                        }\n                        args.data['ganttProperties']['taskId'] = args.data[tempTaskID];\n                        args.newTaskData[tempTaskID] = args.data[tempTaskID];\n                        args.data['ganttProperties']['rowUniqueID'] = args.data[tempTaskID].toString();\n                    }\n                }\n                if (!args.cancel) {\n                    var record = {};\n                    if (isRemoteData(_this.parent.dataSource)) {\n                        var data_2 = _this.parent.dataSource;\n                        var updatedData_2 = {\n                            addedRecords: [args.newTaskData],\n                            changedRecords: args.modifiedTaskData\n                        };\n                        /* tslint:disable-next-line */\n                        var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                        var adaptor = data_2.adaptor;\n                        if (!(adaptor instanceof WebApiAdaptor || adaptor instanceof ODataAdaptor ||\n                            adaptor instanceof ODataV4Adaptor) || data_2.dataSource.batchUrl) {\n                            /* tslint:disable-next-line */\n                            var crud = data_2.saveChanges(updatedData_2, _this.parent.taskFields.id, null, query);\n                            crud.then(function (e) {\n                                if (e.addedRecords[0][_this.parent.taskFields.id].toString() !== args.data['ganttProperties']['taskId']) {\n                                    args.data['ganttProperties']['taskId'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.newTaskData[tempTaskID] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.data['ganttProperties']['rowUniqueID'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    _this.parent.ids.push(e.addedRecords[0][_this.parent.taskFields.id].toString());\n                                }\n                                var prevID = args.data.ganttProperties.taskId.toString();\n                                if (_this.parent.taskFields.id && !isNullOrUndefined(e.addedRecords[0][_this.parent.taskFields.id]) &&\n                                    e.addedRecords[0][_this.parent.taskFields.id].toString() === prevID) {\n                                    _this.parent.setRecordValue('taskId', e.addedRecords[0][_this.parent.taskFields.id], args.data.ganttProperties, true);\n                                    _this.parent.setRecordValue('taskData', e.addedRecords[0], args.data);\n                                    _this.parent.setRecordValue(_this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                                    _this.parent.setRecordValue('rowUniqueID', e.addedRecords[0][_this.parent.taskFields.id].toString(), args.data.ganttProperties, true);\n                                    _this.updateClientDataFromServer(e, args);\n                                    var idsIndex = _this.parent.ids.indexOf(prevID);\n                                    if (idsIndex !== -1) {\n                                        _this.parent.ids[idsIndex] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    }\n                                }\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                        else {\n                            var addedRecords = 'addedRecords';\n                            var insertCrud = data_2.insert(updatedData_2[addedRecords], null, query);\n                            insertCrud.then(function (e) {\n                                var addedRecords;\n                                if (!isNullOrUndefined(e[0])) {\n                                    addedRecords = e[0];\n                                }\n                                else {\n                                    addedRecords = updatedData_2['addedRecords'][0];\n                                }\n                                cAddedRecord_1.forEach(function (record) {\n                                    if (!isNullOrUndefined(record)) {\n                                        _this.updateEditedRecordFields(addedRecords, record);\n                                        _this.parent.dataOperation.updateTaskData(record);\n                                    }\n                                });\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                    }\n                    else {\n                        if (_this.parent.viewType === 'ProjectView') {\n                            if ((rowPosition === 'Top' || rowPosition === 'Bottom') ||\n                                ((rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') || isNullOrUndefined(rowPosition) && !args.data.parentItem)) {\n                                if (args.data instanceof Array) {\n                                    _this.updateRealDataSource(args.data, rowPosition);\n                                }\n                                else {\n                                    var data_3 = [];\n                                    data_3.push(args.data);\n                                    _this.updateRealDataSource(data_3, rowPosition);\n                                    _this.parent.currentSelection = cAddedRecord_1[0];\n                                }\n                            }\n                        }\n                        else {\n                            var dataSource = isCountRequired(_this.parent) ? getValue('result', _this.parent.dataSource) :\n                                _this.parent.dataSource; // eslint-disable-line\n                            dataSource.push(args.data.taskData);\n                        }\n                        if (cAddedRecord_1.level === 0) {\n                            _this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord_1);\n                        }\n                        _this.updateTreeGridUniqueID(cAddedRecord_1, 'add');\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.undoRedoModule && _this.parent.undoRedoModule['currentAction']) {\n                            var canDelete = false;\n                            if (args.data['hasChildRecords']) {\n                                canDelete = true;\n                            }\n                            else {\n                                if (args.data['parentItem']) {\n                                    var parentTask = _this.parent.getTaskByUniqueID(args.data['parentItem'].uniqueID);\n                                    if (parentTask.ganttProperties.taskName !== _this.parent.localeObj.getConstant('unassignedTask')) {\n                                        canDelete = true;\n                                    }\n                                }\n                            }\n                            if (_this.parent.taskIds.indexOf('R0') !== -1 && _this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed'] && _this.parent.undoRedoModule['currentAction']['action'] === 'Delete'\n                                && canDelete) {\n                                var unassignedTask = _this.parent.flatData[_this.parent.taskIds.indexOf('R0')];\n                                var isPresent = unassignedTask.childRecords.filter(function (data) { return data.ganttProperties.taskId === args.data['ganttProperties'].taskId; });\n                                if (args.data['hasChildRecords']) {\n                                    isPresent = args.data['childRecords'];\n                                }\n                                var _loop_8 = function (j) {\n                                    if (unassignedTask.childRecords.length === 1) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                    }\n                                    else {\n                                        var index = _this.parent.taskIds.indexOf('T' + isPresent[j].ganttProperties.taskId);\n                                        var id_2 = 'T' + isPresent[j].ganttProperties.taskId;\n                                        var indexes = _this.parent.taskIds.reduce(function (a, e, i) {\n                                            if (e === id_2) {\n                                                a.push(i);\n                                            }\n                                            return a;\n                                        }, []);\n                                        index = indexes[indexes.length - 1];\n                                        _this.parent.taskIds.splice(index, 1);\n                                        _this.parent.flatData.splice(index, 1);\n                                        _this.parent.ids.splice(index, 1);\n                                    }\n                                };\n                                for (var j = 0; j < isPresent.length; j++) {\n                                    _loop_8(j);\n                                }\n                                if (unassignedTask && _this.parent.viewType === 'ResourceView') {\n                                    var isValid = _this.parent.flatData[_this.parent.taskIds.indexOf('R0') + 1];\n                                    if (!isValid) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                    }\n                                }\n                            }\n                        }\n                        _this.refreshNewlyAddedRecord(args, cAddedRecord_1);\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.taskFields.work && ganttData) {\n                            _this.parent.dataOperation.updateParentItems(ganttData, true);\n                        }\n                        _this.addNewUndoCollection(record, args);\n                        _this._resetProperties();\n                    }\n                    _this.parent.isOnAdded = false;\n                }\n                else {\n                    _this.removeAddedRecord();\n                    _this.reUpdatePreviousRecords();\n                    _this._resetProperties();\n                }\n            });\n        }\n    };\n    Edit.prototype.createNewRecord = function () {\n        var tempRecord = {};\n        var ganttColumns = this.parent.ganttColumns;\n        var taskSettingsFields = this.parent.taskFields;\n        var taskId = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < ganttColumns.length; i++) {\n            var fieldName = ganttColumns[i].field;\n            if (fieldName === taskSettingsFields.id) {\n                tempRecord[fieldName] = taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.startDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.endDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.endDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.startDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.duration) {\n                tempRecord[fieldName] = 1;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.name) {\n                tempRecord[fieldName] = this.parent.editModule.dialogModule['localeObj'].getConstant('addDialogTitle') + ' ' + taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.progress) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.work) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.type || ganttColumns[i].field === 'taskType') {\n                tempRecord[fieldName] = this.parent.taskType;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.milestone) {\n                tempRecord[fieldName] = null;\n            }\n            else {\n                tempRecord[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        return tempRecord;\n    };\n    /**\n     * Method to validateTaskPosition.\n     *\n     * @param {Object | object[] } data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @param {IGanttData} cAddedRecord - Defines the single data to validate.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateTaskPosition = function (data, rowPosition, rowIndex, cAddedRecord) {\n        var selectedRowIndex = isNullOrUndefined(rowIndex) || isNaN(parseInt(rowIndex.toString(), 10)) ?\n            this.parent.selectionModule ?\n                (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both') &&\n                    this.parent.selectionModule.selectedRowIndexes.length === 1 ?\n                    this.parent.selectionModule.selectedRowIndexes[0] :\n                    this.parent.selectionSettings.mode === 'Cell' &&\n                        this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        this.parent.selectionModule.getSelectedRowCellIndexes()[0].rowIndex : null : null : rowIndex;\n        this.addRowSelectedItem = isNullOrUndefined(selectedRowIndex) ? null : this.parent.updatedRecords[selectedRowIndex];\n        rowPosition = isNullOrUndefined(rowPosition) ? this.parent.editSettings.newRowPosition : rowPosition;\n        data = isNullOrUndefined(data) ? this.createNewRecord() : data;\n        if (((isNullOrUndefined(selectedRowIndex) || selectedRowIndex < 0 ||\n            isNullOrUndefined(this.addRowSelectedItem)) && (rowPosition === 'Above'\n            || rowPosition === 'Below'\n            || rowPosition === 'Child')) || !rowPosition || (rowPosition !== 'Above'\n            && rowPosition !== 'Below'\n            && rowPosition !== 'Child' && rowPosition !== 'Top' &&\n            rowPosition !== 'Bottom')) {\n            rowPosition = 'Top';\n        }\n        var level = 0;\n        var parentItem;\n        switch (rowPosition) {\n            case 'Top':\n            case 'Bottom':\n                if (this.parent.viewType === 'ResourceView') {\n                    level = 1;\n                }\n                else {\n                    level = 0;\n                }\n                break;\n            case 'Above':\n            case 'Below':\n                level = this.addRowSelectedItem.level;\n                parentItem = this.parent.getParentTask(this.addRowSelectedItem.parentItem);\n                break;\n            case 'Child':\n                level = this.addRowSelectedItem.level + 1;\n                parentItem = this.addRowSelectedItem;\n                break;\n        }\n        if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.prepareNewlyAddedData(data, rowPosition);\n        }\n        var AddRecord = (this.updateNewlyAddedDataBeforeAjax(data, level, rowPosition, parentItem, rowIndex));\n        cAddedRecord.push(AddRecord);\n    };\n    Edit.prototype.updateRowIndex = function () {\n        var currentViewData = this.parent.currentViewData;\n        var rowCount = currentViewData.length;\n        for (var index = 0; index < rowCount; index++) {\n            var rowIndex = index;\n            currentViewData[index].index = rowIndex;\n            if (currentViewData[index].parentItem && currentViewData[index].parentItem.taskId) {\n                var parentRecord = this.parent.getRecordByID(currentViewData[index].parentItem.taskId);\n                if (!isNullOrUndefined(parentRecord) && !isNullOrUndefined(parentRecord.index) &&\n                    !isNullOrUndefined(parentRecord.level)) {\n                    currentViewData[index].parentItem.index = parentRecord.index;\n                    currentViewData[index].parentItem.level = parentRecord.level;\n                }\n            }\n        }\n    };\n    Edit.prototype.updateNewRecord = function (cAddedRecord, args) {\n        var _this = this;\n        cAddedRecord.forEach(function (record) {\n            if (record.level === 0) {\n                _this.parent.treeGrid.parentData.splice(0, 0, record);\n                var tempData = getValue('dataOperation.dataArray', _this.parent);\n                tempData.splice(0, 0, record.taskData);\n            }\n            _this.updateTreeGridUniqueID(record, 'add');\n        });\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n        this.refreshNewlyAddedRecord(args, cAddedRecord);\n        var objCollection = {};\n        this.addNewUndoCollection(objCollection, args);\n        this._resetProperties();\n    };\n    /**\n     * Method to reset the flag after adding new record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype._resetProperties = function () {\n        this.parent.isOnEdit = false;\n        this.parent.hideSpinner();\n        this.addRowSelectedItem = null;\n        this.newlyAddedRecordBackup = null;\n        this.isBreakLoop = false;\n        this.parent.element.tabIndex = 0;\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * Method to update unique id collection in TreeGrid\n     *\n     * @param {IGanttData} data .\n     * @param {string} action .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTreeGridUniqueID = function (data, action) {\n        if (action === 'add') {\n            setValue('uniqueIDCollection.' + data.uniqueID, data, this.parent.treeGrid);\n        }\n        else if (action === 'delete') {\n            deleteObject(getValue('uniqueIDCollection', this.parent.treeGrid), data.uniqueID);\n        }\n    };\n    Edit.prototype.refreshNewlyAddedRecord = function (args, cAddedRecord) {\n        var _this = this;\n        if (this.parent.selectionModule && this.parent.allowSelection &&\n            (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both')) {\n            this.parent.staticSelectedRowIndex = this.parent.currentViewData.indexOf(args.data);\n        }\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = [];\n            if (args.modifiedRecords.length > 0) {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data]; // eslint-disable-next-line\n                tempArray.push.apply(tempArray, args.modifiedRecords);\n            }\n            else {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data];\n            }\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        this.addSuccess(args);\n        args = this.constructTaskAddedEventArgs(cAddedRecord, args.modifiedRecords, 'add');\n        this.updateRowIndex();\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n            this.dialogModule.dialogObj.hide();\n        }\n        this.dialogModule.dialogClose();\n        if (this.parent.viewType === 'ResourceView') {\n            if (cAddedRecord.length > 1) {\n                for (var i = 0; i < cAddedRecord.length; i++) {\n                    args.data[i].ganttProperties.sharedTaskUniqueIds.push(args.data[i]\n                        .ganttProperties.rowUniqueID);\n                    if (args.data[i].ganttProperties.resourceInfo) {\n                        // if ((args.data[i] as IGanttData).ganttProperties.resourceInfo.length > 1) {\n                        var resources = extend([], [], args.data[i].ganttProperties.resourceInfo, true);\n                        resources.splice(0, 1);\n                        this.updateResoures([], resources, args.data[i]);\n                        // }\n                    }\n                    else {\n                        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data[i]['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                            this.removeChildRecord(args.data[i]);\n                            this.parent.editModule.checkWithUnassignedTask(args.data[i]);\n                        }\n                    }\n                    for (var k = 0; k < this.updateParentRecords.length; k++) {\n                        this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                    }\n                    this.updateParentRecords = [];\n                }\n            }\n            else {\n                args.data.ganttProperties.sharedTaskUniqueIds.push(args.data.ganttProperties.rowUniqueID);\n                // eslint-disable-next-line\n                var ganttData = args.data;\n                var ganttProperties = ganttData.ganttProperties;\n                var childRecords = ganttData.childRecords;\n                var undoRedoModule_1 = this.parent.undoRedoModule;\n                var handleResourceUpdate = function (resourceInfo, targetData) {\n                    if (resourceInfo && resourceInfo.length > 1) {\n                        var resources = extend([], [], resourceInfo, true);\n                        resources.splice(0, 1);\n                        if (undoRedoModule_1 && undoRedoModule_1['isUndoRedoPerformed']) {\n                            _this.parent.editModule.addRowIndex = undefined;\n                        }\n                        _this.updateResoures([], resources, targetData);\n                    }\n                };\n                // eslint-disable-next-line\n                if (ganttProperties.resourceInfo && ganttProperties.resourceInfo.length) {\n                    handleResourceUpdate(ganttProperties.resourceInfo, ganttData);\n                }\n                else if (childRecords.length > 0 && childRecords[0].ganttProperties.resourceInfo &&\n                    childRecords[0].ganttProperties.resourceInfo.length) {\n                    handleResourceUpdate(childRecords[0].ganttProperties.resourceInfo, args.data.childRecords[0]);\n                }\n                else {\n                    if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                        this.removeChildRecord(args.data);\n                        this.parent.editModule.checkWithUnassignedTask(args.data);\n                    }\n                }\n                for (var k = 0; k < this.updateParentRecords.length; k++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                }\n                this.updateParentRecords = [];\n            }\n        }\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.removeAddedRecord = function () {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var flatRecordsIndex = flatRecords.indexOf(this.newlyAddedRecordBackup);\n        var currentViewDataIndex = currentViewData.indexOf(this.newlyAddedRecordBackup);\n        var idsIndex = ids.indexOf(this.newlyAddedRecordBackup.ganttProperties.rowUniqueID.toString());\n        deleteObject(this.parent.previousRecords, flatRecords[flatRecordsIndex].uniqueID);\n        if (this.newlyAddedRecordBackup.parentItem) {\n            var parentItem = this.parent.getParentTask(this.newlyAddedRecordBackup.parentItem);\n            var parentIndex = parentItem.childRecords.indexOf(this.newlyAddedRecordBackup);\n            parentItem.childRecords.splice(parentIndex, 1);\n            if (parentItem.childRecords.length === 0 && parentItem.hasChildRecords) {\n                parentItem.hasChildRecords = false;\n            }\n        }\n        flatRecords.splice(flatRecordsIndex, 1);\n        currentViewData.splice(currentViewDataIndex, 1);\n        ids.splice(idsIndex, 1);\n    };\n    Edit.prototype.getPrevRecordIndex = function () {\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        var parent = this.parent.getRootParent(prevRecord, selectedRecord.level);\n        var prevIndex = this.parent.updatedRecords.indexOf(parent);\n        return prevIndex;\n    };\n    /**\n     * indent a selected record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.indent = function () {\n        var index = this.parent.selectedRowIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        var dropIndex;\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || !isNullOrUndefined(this.parent.updatedRecords[index]) && this.parent.updatedRecords[index].level - prevRecord.level === 1) {\n            return;\n        }\n        else {\n            if (prevRecord.level - selectedRecord.level === 0) {\n                dropIndex = this.parent.selectionModule.getSelectedRowIndexes()[0] - 1;\n            }\n            else {\n                dropIndex = this.getPrevRecordIndex();\n            }\n            this.indentOutdentRow([this.parent.selectionModule.getSelectedRowIndexes()[0]], dropIndex, 'child');\n        }\n    };\n    /**\n     * To perform outdent operation for selected row\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.outdent = function () {\n        var index = this.parent.selectionModule.getSelectedRowIndexes()[0];\n        var dropIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        if (!this.parent.editSettings.allowEditing || index === -1 || index === 0 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level === 0) {\n            return;\n        }\n        else {\n            var thisParent = this.parent.getTaskByUniqueID(this.parent.selectionModule.getSelectedRecords()[0].parentItem.uniqueID);\n            dropIndex = this.parent.updatedRecords.indexOf(thisParent);\n            this.indentOutdentRow([index], dropIndex, 'below');\n        }\n    };\n    Edit.prototype.indentOutdentRow = function (fromIndexes, toIndex, pos) {\n        var _this = this;\n        // eslint-disable-next-line\n        if (fromIndexes[0] !== toIndex && pos === 'above' || 'below' || 'child') {\n            if (pos === 'above') {\n                this.dropPosition = 'topSegment';\n            }\n            if (pos === 'below') {\n                this.dropPosition = 'bottomSegment';\n            }\n            if (pos === 'child') {\n                this.dropPosition = 'middleSegment';\n            }\n            var action = void 0;\n            var record = [];\n            for (var i = 0; i < fromIndexes.length; i++) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']) {\n                    if (this.parent.undoRedoModule['currentAction']['modifiedRecord']) {\n                        record[i] = this.parent.undoRedoModule['currentAction']['modifiedRecord'][i].data;\n                    }\n                    else {\n                        record[i] = this.parent.undoRedoModule['currentAction']['data'][i];\n                    }\n                }\n                else {\n                    record[i] = this.parent.updatedRecords[fromIndexes[i]];\n                }\n            }\n            var isByMethod_1 = true;\n            var args_1 = {\n                data: record,\n                dropIndex: toIndex,\n                dropPosition: this.dropPosition\n            };\n            if (this.dropPosition === 'middleSegment') {\n                action = 'indenting';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                action = 'outdenting';\n            }\n            var actionArgs = {\n                action: action,\n                data: record[0],\n                cancel: false\n            };\n            this.parent.trigger('actionBegin', actionArgs, function (actionArg) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                if (!actionArg.cancel) {\n                    _this.reArrangeRows(args_1, isByMethod_1);\n                }\n                else {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    return;\n                }\n            });\n        }\n        else {\n            return;\n        }\n    };\n    Edit.prototype.reArrangeRows = function (args, isByMethod) {\n        var _this = this;\n        this.dropPosition = args.dropPosition;\n        this.parent['oldRecords'] = [];\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n            var obj = this.parent;\n            var draggedRec = void 0;\n            this.droppedRecord = obj.updatedRecords[args.dropIndex];\n            var action = args.dropPosition === 'middleSegment' ? 'Indent' : 'Outdent';\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent'](action)) {\n                var record = {};\n                record['action'] = action;\n                record['modifiedRecord'] = [];\n                record['selectedRowIndexes'] = extend([], [], this.parent.selectionModule.selectedRowIndexes, true);\n                this.parent.undoRedoModule['findPosition'](extend([], [], [args.data], true)[0], record, 'modifiedRecord');\n                record['droppedRecord'] = extend([], [], this.droppedRecord, true);\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['redoEnabled'] = false;\n                    this.parent.undoRedoModule['getUndoCollection'] = [];\n                    this.parent.undoRedoModule['getRedoCollection'] = [];\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n                    }\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            var dragRecords = [];\n            var droppedRec = this.droppedRecord;\n            if (!args.data[0]) {\n                dragRecords.push(args.data);\n            }\n            else {\n                dragRecords = args.data;\n            }\n            var c = 0;\n            var dLength = dragRecords.length;\n            for (var i = 0; i < dLength; i++) {\n                this.parent.isOnEdit = true;\n                draggedRec = dragRecords[i];\n                this.draggedRecord = draggedRec;\n                if (this.dropPosition !== 'Invalid') {\n                    if (isByMethod) {\n                        this.deleteDragRow();\n                    }\n                    var recordIndex1 = this.treeGridData.indexOf(droppedRec);\n                    this.parent.editModule.updateResourceRelatedFields(droppedRec, '');\n                    if (this.dropPosition === 'bottomSegment') {\n                        if (!droppedRec.hasChildRecords) {\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                        }\n                        else {\n                            c = this.parent.editModule.getChildCount(droppedRec, 0);\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + c + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + c + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                            var idIndex = this.parent.ids.indexOf(this.draggedRecord[this.parent.taskFields.id].toString());\n                            if (idIndex !== recordIndex1 + c + 1) {\n                                this.parent.ids.splice(idIndex, 1);\n                                this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n                            }\n                        }\n                        this.parent.setRecordValue('parentItem', this.treeGridData[recordIndex1].parentItem, draggedRec);\n                        this.parent.setRecordValue('parentUniqueID', this.treeGridData[recordIndex1].parentUniqueID, draggedRec);\n                        this.parent.setRecordValue('level', this.treeGridData[recordIndex1].level, draggedRec);\n                        if (draggedRec.hasChildRecords) {\n                            var level = 1;\n                            this.updateChildRecordLevel(draggedRec, level);\n                            this.updateChildRecord(draggedRec, recordIndex1 + c + 1);\n                        }\n                        if (droppedRec.parentItem) {\n                            var record = this.parent.getParentTask(droppedRec.parentItem).childRecords;\n                            var childRecords = record;\n                            var droppedRecordIndex = childRecords.indexOf(droppedRec) + 1;\n                            childRecords.splice(droppedRecordIndex, 0, draggedRec);\n                        }\n                    }\n                    if (this.dropPosition === 'middleSegment') {\n                        this.dropMiddle(recordIndex1);\n                    }\n                    if (!isNullOrUndefined(draggedRec.parentItem && this.updateParentRecords.indexOf(draggedRec.parentItem) !== -1)) {\n                        this.updateParentRecords.push(this.parent.getTaskByUniqueID(draggedRec.parentItem.uniqueID));\n                    }\n                }\n                if (isNullOrUndefined(draggedRec.parentItem)) {\n                    var parentRecords = this.parent.treeGrid.parentData;\n                    var newParentIndex = parentRecords.indexOf(this.droppedRecord);\n                    if (this.dropPosition === 'bottomSegment') {\n                        parentRecords.splice(newParentIndex + 1, 0, draggedRec);\n                    }\n                }\n                this.refreshDataSource();\n            }\n            if (this.dropPosition === 'middleSegment') {\n                if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                    var len = droppedRec.ganttProperties.predecessor.length;\n                    for (var count = len - 1; count >= 0; count--) {\n                        if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                            var fromRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].from);\n                            var toRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].to);\n                            var validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n                            if (droppedRec.ganttProperties.predecessor && (!validPredecessor || !this.parent.allowParentDependency)) {\n                                this.parent.editModule.removePredecessorOnDelete(droppedRec);\n                                droppedRec.ganttProperties.predecessor.splice(count, 1);\n                                droppedRec.ganttProperties.predecessorsName = null;\n                                droppedRec[this.parent.taskFields.dependency] = null;\n                                droppedRec.taskData[this.parent.taskFields.dependency] = null;\n                            }\n                        }\n                    }\n                }\n                if (droppedRec.ganttProperties.isMilestone) {\n                    this.parent.setRecordValue('isMilestone', false, droppedRec.ganttProperties, true);\n                    if (!isNullOrUndefined(droppedRec.taskData[this.parent.taskFields.milestone])) {\n                        if (droppedRec.taskData[this.parent.taskFields.milestone] === true) {\n                            droppedRec.taskData[this.parent.taskFields.milestone] = false;\n                        }\n                    }\n                }\n            }\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.parent.editedRecords.forEach(function (record) {\n                _this.isFirstCall = true;\n                _this.parent.predecessorModule.validatePredecessor(record, [], '');\n            });\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.isOnEdit = false;\n        }\n        this.canReset = true;\n        this.refreshRecord(args);\n    };\n    /**\n     * @returns {void} .\n     * @param {RowDropEventArgs} args .\n     * @param {boolean} isDrag .\n     * @private\n     */\n    Edit.prototype.refreshRecord = function (args, isDrag) {\n        var _this = this;\n        if (isRemoteData(this.parent.dataSource)) {\n            var data = this.parent.dataSource;\n            var updatedData = {\n                changedRecords: getTaskData(this.parent.editedRecords, null, null, this.parent)\n            };\n            var queryValue = this.parent.query instanceof Query ? this.parent.query : new Query();\n            var crud = null;\n            var adaptor = data.adaptor;\n            if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                crud = data.saveChanges(updatedData, this.parent.taskFields.id, null, queryValue);\n            }\n            else {\n                var changedRecords = 'changedRecords';\n                crud = data.update(this.parent.taskFields.id, updatedData[changedRecords], null, queryValue);\n            }\n            crud.then(function (e) { return _this.indentSuccess(e, args, isDrag); })\n                .catch(function (e) { return _this.indentFailure(e); });\n        }\n        else {\n            this.indentOutdentSuccess(args, isDrag);\n        }\n    };\n    Edit.prototype.indentSuccess = function (e, args, isDrag) {\n        this.updateEditedFields(e);\n        this.indentOutdentSuccess(args, isDrag);\n    };\n    Edit.prototype.indentFailure = function (e) {\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.indentOutdentSuccess = function (args, isDrag) {\n        this.parent.treeGrid.parentData = [];\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode(args.data, isDrag);\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n        }\n        if (isDrag) {\n            args.requestType = 'rowDropped';\n        }\n        else {\n            if (this.dropPosition === 'middleSegment') {\n                args.requestType = 'indented';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                args.requestType = 'outdented';\n            }\n        }\n        args.modifiedRecords = this.parent.editedRecords;\n        if (this.parent.timezone) {\n            for (var i = 0; i < args.modifiedRecords.length; i++) {\n                updateDates(args.modifiedRecords[i], this.parent);\n            }\n        }\n        if (this.canReset) {\n            this.parent.previousRecords = {};\n        }\n        this.canReset = false;\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.parent.rowDragAndDropModule) {\n            this.parent.rowDragAndDropModule['draggedRecord'] = null;\n        }\n    };\n    Edit.prototype.refreshDataSource = function () {\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var proxy = this.parent;\n        var tempData;\n        var indx;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempData = proxy.dataSource;\n        }\n        if (tempData.length > 0 && (!isNullOrUndefined(droppedRec) && !droppedRec.parentItem)) {\n            for (var i = 0; i < Object.keys(tempData).length; i++) {\n                if (tempData[i][this.parent.taskFields.child] === droppedRec.taskData[this.parent.taskFields.child]) {\n                    indx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx, 0, draggedRec.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx + 1, 0, draggedRec.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRec) && droppedRec.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPos = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRec;\n                var dragRecord = [];\n                if (!Array.isArray(draggedRec)) {\n                    dragRecord[0] = draggedRec;\n                }\n                else {\n                    dragRecord = draggedRec;\n                }\n                this.parent.editModule.updateRealDataSource(dragRecord, rowPos);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRec.parentItem) {\n                if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.parentID];\n                }\n                else {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.id];\n                }\n            }\n            else {\n                draggedRec[this.parent.taskFields.parentID] = null;\n                draggedRec.taskData[this.parent.taskFields.parentID] = null;\n                draggedRec.ganttProperties['parentId'] = null;\n            }\n        }\n    };\n    Edit.prototype.deleteDragRow = function () {\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        this.treeGridData = isCountRequired(this.parent) ?\n            getValue('result', this.parent.treeGrid.dataSource) : this.parent.treeGrid.dataSource;\n        var delRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        this.removeRecords(delRow);\n    };\n    Edit.prototype.updateIndentedChildRecords = function (indentedRecord) {\n        var createParentItem = {\n            uniqueID: indentedRecord.uniqueID,\n            expanded: indentedRecord.expanded,\n            level: indentedRecord.level,\n            index: indentedRecord.index,\n            taskId: indentedRecord.ganttProperties.rowUniqueID\n        };\n        for (var i = 0; i < indentedRecord.childRecords.length; i++) {\n            this.parent.setRecordValue('parentItem', createParentItem, indentedRecord.childRecords[i]);\n            this.parent.setRecordValue('parentUniqueID', indentedRecord.uniqueID, indentedRecord.childRecords[i]);\n        }\n        if (indentedRecord.hasChildRecords) {\n            indentedRecord = indentedRecord.childRecords;\n            for (var j = 0; j < indentedRecord['length']; j++) {\n                this.updateIndentedChildRecords(indentedRecord[j]);\n            }\n        }\n    };\n    Edit.prototype.dropMiddle = function (recordIndex1) {\n        var obj = this.parent;\n        var childRec;\n        var childRecordsLength;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['modifiedRecord']\n            && this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position !== 'child') {\n            if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'above') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString());\n            }\n            else if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'below') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString()) + 1;\n            }\n        }\n        else {\n            childRec = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n            childRecordsLength = (isNullOrUndefined(childRec) ||\n                childRec === 0) ? recordIndex1 + 1 :\n                childRec + recordIndex1 + 1;\n        }\n        if (this.dropPosition === 'middleSegment') {\n            if (this.droppedRecord.ganttProperties.isAutoSchedule &&\n                !isNullOrUndefined(this.droppedRecord.ganttProperties.predecessorsName) &&\n                this.droppedRecord.ganttProperties.predecessorsName !== '') {\n                var startDate = this.droppedRecord.ganttProperties.startDate;\n                this.parent.setRecordValue('startDate', startDate, this.draggedRecord.ganttProperties, true);\n                this.parent.dateValidationModule.calculateEndDate(this.draggedRecord);\n                this.parent.dataOperation.updateTaskData(this.draggedRecord);\n                this.parent.dataOperation['updateTaskLeftWidth'](this.draggedRecord);\n            }\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n            this.recordLevel();\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n                if (this.parent.enableImmutableMode) {\n                    var indentedRecord = this.draggedRecord;\n                    this.updateIndentedChildRecords(indentedRecord);\n                }\n            }\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    Edit.prototype.updateChildRecordLevel = function (record, levl) {\n        var length = 0;\n        var currentRec;\n        levl++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var j = 0; j < length; j++) {\n            currentRec = record.childRecords[j];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRec.level = record.parentItem ? parentData.level + levl : record.level + 1;\n            if (currentRec.hasChildRecords) {\n                levl--;\n                levl = this.updateChildRecordLevel(currentRec, levl);\n            }\n        }\n        return levl;\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRec;\n        var obj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRec = record.childRecords[i];\n            count++;\n            obj.flatData.splice(count, 0, currentRec);\n            this.parent.ids.splice(count, 0, currentRec.ganttProperties.rowUniqueID.toString());\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(count, 0, currentRec.taskData);\n            }\n            if (currentRec.hasChildRecords) {\n                count = this.updateChildRecord(currentRec, count);\n            }\n        }\n        return count;\n    };\n    Edit.prototype.removeRecords = function (record) {\n        var obj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var delRow = record;\n        if (delRow) {\n            var flatParent = this.parent.getParentTask(delRow.parentItem);\n            if (delRow.parentItem) {\n                var childRecords = flatParent ? flatParent.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    childIndex = childRecords.indexOf(delRow);\n                    flatParent.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID) {\n                        flatParent.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParent);\n                }\n            }\n            if (obj.taskFields.parentID) {\n                if (delRow.hasChildRecords && delRow.childRecords.length > 0) {\n                    this.removeChildItem(delRow);\n                }\n                var indx = void 0;\n                var ganttData = dataSource.length > 0 ?\n                    dataSource : this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                        indx = i;\n                    }\n                }\n                if (indx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(indx, 1);\n                    }\n                    var gridIndx = void 0;\n                    for (var i = 0; i < this.treeGridData.length; i++) {\n                        if (this.treeGridData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                            gridIndx = i;\n                        }\n                    }\n                    this.treeGridData.splice(gridIndx, 1);\n                    this.parent.ids.splice(gridIndx, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(delRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(delRow), 1);\n                    }\n                }\n            }\n            var recordIdx = this.treeGridData.indexOf(delRow);\n            if (!obj.taskFields.parentID) {\n                var deletedRecordCount = this.getChildCount(delRow, 0);\n                this.treeGridData.splice(recordIdx, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIdx, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(delRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n            }\n            if (delRow.parentItem && flatParent && flatParent.childRecords && !flatParent.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParent);\n                this.parent.setRecordValue('hasChildRecords', false, flatParent);\n            }\n        }\n    };\n    Edit.prototype.removeChildItem = function (record) {\n        var currentRec;\n        var indx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRec = record.childRecords[i];\n            var data = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                data = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                data = this.parent.dataSource;\n            }\n            for (var j = 0; j < data.length; j++) {\n                if (data[j][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                    indx = j;\n                }\n            }\n            if (indx !== -1) {\n                if (data.length > 0) {\n                    data.splice(indx, 1);\n                }\n                var gridIndx = void 0;\n                for (var i_2 = 0; i_2 < this.treeGridData.length; i_2++) {\n                    if (this.treeGridData[i_2][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                        gridIndx = i_2;\n                    }\n                }\n                this.treeGridData.splice(gridIndx, 1);\n                this.parent.ids.splice(gridIndx, 1);\n            }\n            if (currentRec.hasChildRecords) {\n                this.removeChildItem(currentRec);\n            }\n        }\n    };\n    Edit.prototype.recordLevel = function () {\n        var obj = this.parent;\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var childItem = obj.taskFields.child;\n        if (!droppedRec.hasChildRecords) {\n            droppedRec.hasChildRecords = true;\n            if (!droppedRec.childRecords.length) {\n                droppedRec.childRecords = [];\n                if (!obj.taskFields.parentID && isNullOrUndefined(droppedRec.taskData[childItem])) {\n                    droppedRec.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRec);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRec);\n            this.parent.setRecordValue('parentUniqueID', droppedRec.uniqueID, draggedRec);\n            droppedRec.childRecords.splice(droppedRec.childRecords.length, 0, draggedRec);\n            if (!isNullOrUndefined(draggedRec) && !obj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRec.taskData[childItem])) {\n                droppedRec.taskData[obj.taskFields.child].splice(droppedRec.childRecords.length, 0, draggedRec.taskData);\n            }\n            if (!isNullOrUndefined(droppedRec.ganttProperties.segments) && droppedRec.ganttProperties.segments.length > 0) {\n                droppedRec.ganttProperties.segments = null;\n                droppedRec.taskData[obj.taskFields.segments] = null;\n            }\n            if (!draggedRec.hasChildRecords) {\n                draggedRec.level = droppedRec.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRec.level = droppedRec.level + 1;\n                this.updateChildRecordLevel(draggedRec, level);\n            }\n            droppedRec.expanded = true;\n        }\n    };\n    return Edit;\n}());\nexport { Edit };\n","import { TreeGrid, Reorder as TreeGridReorder } from '@syncfusion/ej2-treegrid';\n/**\n * To handle column reorder action from TreeGrid\n */\nvar Reorder = /** @class */ (function () {\n    function Reorder(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridReorder);\n        this.parent.treeGrid.allowReordering = this.parent.allowReordering;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {string} .\n     */\n    Reorder.prototype.getModuleName = function () {\n        return 'reorder';\n    };\n    /**\n     * To bind reorder events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.columnDragStart = function (args) {\n            _this.parent.trigger('columnDragStart', args);\n        };\n        this.parent.treeGrid.columnDrag = function (args) {\n            _this.parent.trigger('columnDrag', args);\n        };\n        this.parent.treeGrid.columnDrop = function (args) {\n            _this.parent.trigger('columnDrop', args);\n        };\n    };\n    /**\n     * To destroy the column-reorder.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Reorder;\n}());\nexport { Reorder };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TreeGrid, Resize as TreeGridResize } from '@syncfusion/ej2-treegrid';\n/**\n * Column resize action related code goes here\n */\nvar Resize = /** @class */ (function () {\n    function Resize(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridResize);\n        this.parent.treeGrid.allowResizing = this.parent.allowResizing;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    /**\n     * To bind resize events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.resizeStart = function (args) {\n            if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('ColumnResize')) {\n                _this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['action'] = 'ColumnResize';\n                details['resizedColumn'] = __assign({}, args.column);\n                _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            _this.parent.trigger('resizeStart', args);\n        };\n        this.parent.treeGrid.resizing = function (args) {\n            _this.parent.trigger('resizing', args);\n        };\n        this.parent.treeGrid.resizeStop = function (args) {\n            _this.parent.trigger('resizeStop', args);\n        };\n    };\n    /**\n     * To destroy the column-resizer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Resize;\n}());\nexport { Resize };\n","import { TreeGrid, Filter as TreeGridFilter } from '@syncfusion/ej2-treegrid';\nimport { filterAfterOpen, getFilterMenuPostion } from '@syncfusion/ej2-grids';\nimport { getActualProperties, getCustomDateFormat } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined, remove, createElement, addClass, closest, EventHandler } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\n/**\n * The Filter module is used to handle filter action.\n */\nvar Filter = /** @class */ (function () {\n    function Filter(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridFilter);\n        this.parent.treeGrid.allowFiltering = this.parent.allowFiltering;\n        this.updateCustomFilters();\n        this.parent.treeGrid.filterSettings = getActualProperties(this.parent.filterSettings);\n        this.addEventListener();\n    }\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    /**\n     * Update custom filter for default Gantt columns\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.updateCustomFilters = function () {\n        var settings = this.parent.taskFields;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            var column = this.parent.ganttColumns[i];\n            if (((column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') &&\n                (column.field === settings.startDate || column.field === settings.endDate\n                    || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) ||\n                (column.field === settings.duration && column.editType === 'stringedit')) {\n                this.initiateFiltering(this.parent.ganttColumns[i]);\n            }\n        }\n    };\n    Filter.prototype.updateModel = function () {\n        this.parent.filterSettings = this.parent.treeGrid.filterSettings;\n    };\n    Filter.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n        this.parent.on('actionBegin', this.actionBegin, this);\n        this.parent.on('actionComplete', this.actionComplete, this);\n        this.parent.on('columnMenuOpen', this.columnMenuOpen, this);\n    };\n    Filter.prototype.wireEvents = function (a) {\n        EventHandler.add(document.getElementById(a), 'click', this.mouseClickHandler, this);\n    };\n    Filter.prototype.initiateFiltering = function (column) {\n        var treeColumn = this.parent.getColumnByField(column.field, this.parent.treeGridModule.treeGridColumns);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n        if (column.allowFiltering && (this.parent.filterSettings.type === 'Menu' || this.parent.filterSettings.type === 'Excel') && !column.filter) {\n            column.filter = { ui: this.getCustomFilterUi(column) };\n        }\n        if (treeColumn) {\n            treeColumn.allowFiltering = column.allowFiltering;\n            treeColumn.filter = column.allowFiltering ? column.filter : {};\n        }\n    };\n    /**\n     * To get filter menu UI\n     *\n     * @param {ColumnModel} column .\n     * @returns {IFilterMUI} .\n     */\n    Filter.prototype.getCustomFilterUi = function (column) {\n        var settings = this.parent.taskFields;\n        var filterUI = {};\n        if (column.editType === 'datepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDatePickerFilter(column.field);\n        }\n        else if (column.editType === 'datetimepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDateTimePickerFilter();\n        }\n        else if (column.field === settings.duration && column.editType === 'stringedit') {\n            filterUI = this.getDurationFilter();\n        }\n        return filterUI;\n    };\n    Filter.prototype.mouseClickHandler = function (e) {\n        if (closest(e.target, '.e-excelfilter')) {\n            this.parent.treeGrid.grid.notify('click', e);\n        }\n    };\n    Filter.prototype.unWireEvents = function () {\n        EventHandler.remove(this.parent.element, 'click', this.mouseClickHandler);\n    };\n    Filter.prototype.getDatePickerFilter = function (columnName) {\n        var _this = this;\n        var parent = this.parent;\n        var timeValue = (columnName === parent.taskFields.startDate) || (columnName === parent.taskFields.baselineStartDate)\n            ? parent.defaultStartTime : parent.defaultEndTime;\n        var dropDateInstance;\n        var filterDateUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropDateInstance = new DatePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropDateInstance.enableRtl = _this.parent.enableRtl;\n                dropDateInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropDateInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                if (dropDateInstance.value) {\n                    dropDateInstance.value.setSeconds(timeValue);\n                }\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropDateInstance.value);\n            }\n        };\n        return filterDateUI;\n    };\n    Filter.prototype.getDateTimePickerFilter = function () {\n        var _this = this;\n        var dropInstance;\n        var filterDateTimeUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropInstance = new DateTimePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropInstance.enableRtl = _this.parent.enableRtl;\n                dropInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropInstance.value);\n            }\n        };\n        return filterDateTimeUI;\n    };\n    Filter.prototype.getDurationFilter = function () {\n        var _this = this;\n        var parent = this.parent;\n        var textBoxInstance;\n        var textValue = '';\n        var filterDurationUI = {\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'e-input' });\n                flValInput.setAttribute('placeholder', _this.parent.localeObj.getConstant('enterValue'));\n                args.target.appendChild(flValInput);\n                textBoxInstance = new TextBox();\n                textBoxInstance.enableRtl = _this.parent.enableRtl;\n                textBoxInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                textBoxInstance.value = args.filteredValue ? textValue : '';\n            },\n            read: function (args) {\n                var durationObj = _this.parent.dataOperation.getDurationValue(textBoxInstance.value);\n                var intVal = getValue('duration', durationObj);\n                var unit = getValue('durationUnit', durationObj);\n                if (intVal >= 0) {\n                    var dayVal = void 0;\n                    if (unit === 'minute') {\n                        dayVal = (intVal * 60) / parent.secondsPerDay;\n                    }\n                    else if (unit === 'hour') {\n                        dayVal = (intVal * 60 * 60) / parent.secondsPerDay;\n                    }\n                    else {\n                        //Consider it as day unit\n                        dayVal = intVal;\n                        unit = 'day';\n                    }\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, dayVal);\n                    textValue = _this.parent.dataOperation.getDurationString(intVal, unit);\n                }\n                else {\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, null);\n                    textValue = null;\n                }\n            }\n        };\n        return filterDurationUI;\n    };\n    /**\n     * Remove filter menu while opening column chooser menu\n     *\n     * @param {ColumnMenuOpenEventArgs} args .\n     * @returns {void} .\n     */\n    Filter.prototype.columnMenuOpen = function (args) {\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            remove(this.filterMenuElement);\n        }\n        this.filterMenuElement = null;\n    };\n    // eslint-disable-next-line\n    Filter.prototype.actionBegin = function (args) {\n        // ...\n    };\n    Filter.prototype.closeFilterOnContextClick = function (element) {\n        var datePickerElement = document.querySelector('body > div.e-datepicker');\n        var dateTimePickerElement = document.querySelector('body > div.e-datetimepicker');\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            var ganttElement = closest(element, '#' + this.parent.element.id)\n                || element.querySelector('#' + this.parent.element.id);\n            if ((!(this.filterMenuElement.contains(element)) && !isNullOrUndefined(ganttElement)) ||\n                ((!(this.filterMenuElement.contains(element)) && !this.parent.enableAdaptiveUI) && (isNullOrUndefined(datePickerElement)) &&\n                    (isNullOrUndefined(dateTimePickerElement)) && ((element.nodeName === 'DIV') || (element.nodeName === 'HTML') ||\n                    (element.nodeName === 'SPAN') || (element.nodeName === 'BUTTON'))) && !element.classList.contains('e-dropdownbase')) {\n                remove(this.filterMenuElement);\n                this.parent.treeGrid.grid.notify('filter-menu-close', { isOpen: false });\n                this.filterMenuElement = null;\n            }\n        }\n    };\n    Filter.prototype.actionComplete = function (args) {\n        if (!isNullOrUndefined(args['filterModel'])) {\n            if (!isNullOrUndefined(args['filterModel']['dialogObj'])) {\n                if (!isNullOrUndefined(args['filterModel']['dialogObj']['element'])) {\n                    if (this.parent.filterSettings.type === 'Excel') {\n                        this.wireEvents(args['filterModel']['dialogObj']['element'].id);\n                    }\n                }\n            }\n        }\n        if (args.requestType === filterAfterOpen) {\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.filterMenuElement = getValue('filterModel.dlgObj.element', args);\n            }\n            else {\n                this.filterMenuElement = getValue('filterModel.dialogObj.element', args);\n            }\n            this.updateFilterMenuPosition(this.filterMenuElement, args);\n            // To set default values as 'contains' in filter dialog\n            var taskID = this.parent.taskFields.id;\n            var predecessor = this.parent.taskFields.dependency;\n            var resource = this.parent.taskFields.resourceInfo;\n            var filterObj = this.parent.treeGrid.grid.filterModule;\n            var filterValues = getValue('values', filterObj);\n            if ((args.columnName === predecessor && isNullOrUndefined(getValue(predecessor, filterValues)))\n                || (args.columnName === resource && isNullOrUndefined(getValue(resource, filterValues)))) {\n                var element = this.filterMenuElement.querySelector('.e-dropdownlist');\n                var instanceObj = void 0;\n                if (!isNullOrUndefined(element)) {\n                    instanceObj = getValue('ej2_instances[0]', element);\n                    instanceObj.index = 2;\n                    instanceObj.dataBind();\n                }\n            }\n            else if (args.columnName === taskID && isNullOrUndefined(getValue(taskID, filterValues)) && this.parent.treeGrid.filterSettings.type === 'Menu') {\n                var element = this.filterMenuElement.querySelector('.e-flmenu-input');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                if (!isNullOrUndefined(instanceObj) && isNullOrUndefined(this.parent.columnByField[args.columnName].format)) {\n                    instanceObj.format = 'n';\n                }\n            }\n        }\n    };\n    Filter.prototype.setPosition = function (li, ul) {\n        /* eslint-disable-next-line */\n        var gridPos = this.parent.element.getBoundingClientRect();\n        var gridPosTop = gridPos.top + window.scrollY;\n        var gridPosLeft = gridPos.left;\n        /* eslint-disable-next-line */\n        var parentNode;\n        var parentNodeTop;\n        var parentNodeLeft;\n        var paddingTop;\n        var paddingLeft;\n        var marginTop;\n        var isValid = true;\n        var marginLeft;\n        var isNonBodyTag = false;\n        if (!isNullOrUndefined(this.parent.element.parentNode) && this.parent.element.parentNode['tagName'] !== 'BODY') {\n            isNonBodyTag = true;\n            parentNode = this.parent.element.parentNode;\n            var topValue = Math.abs(parentNode.getBoundingClientRect().top);\n            parentNodeTop = topValue > window.scrollY ? topValue - window.scrollY : window.scrollY - topValue;\n            marginTop = parentNode.style.marginTop;\n            while (isValid) {\n                if (Math.abs(gridPosTop) > Math.abs(parentNodeTop)) {\n                    paddingTop = gridPosTop - parentNodeTop;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    if (parentNode.parentNode && parentNode.parentNode.style) {\n                        marginTop = parentNode.parentNode.style.marginTop;\n                    }\n                }\n                parentNodeTop = parentNode.getBoundingClientRect().top;\n            }\n            parentNodeLeft = parentNode.getBoundingClientRect().left;\n            marginLeft = parentNode.style.marginLeft;\n            while (isValid) {\n                if (Math.abs(gridPosLeft) > Math.abs(parentNodeLeft)) {\n                    paddingLeft = gridPosLeft - parentNodeLeft;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    marginLeft = parentNode.style.marginLeft;\n                }\n                parentNodeLeft = parentNode.getBoundingClientRect().left;\n            }\n        }\n        /* eslint-disable-next-line */\n        var liPos = li.getBoundingClientRect();\n        var left = liPos.right + window.scrollX;\n        var top = isNonBodyTag ? liPos.top - gridPosTop : liPos.top + window.scrollY;\n        if (gridPos.right < (left + ul.offsetWidth)) {\n            if ((liPos.left - ul.offsetWidth) > gridPos.left) {\n                left = (liPos.left - ul.offsetWidth);\n            }\n            else {\n                left -= (left + ul.offsetWidth) - gridPos.right;\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(paddingTop) || !isNullOrUndefined(paddingLeft)) && isNonBodyTag) {\n                left = Math.abs(liPos.right - gridPos.left);\n                top = Math.abs(liPos.top - gridPos.top);\n            }\n        }\n        if (!isNullOrUndefined(paddingTop) && !isNullOrUndefined(paddingLeft)) {\n            ul.style.top = typeof (parseInt(marginTop, 10)) === 'string' ? (top + paddingTop + parseInt(marginTop, 10)) + 'px' : (top + paddingTop) + 'px';\n            ul.style.left = typeof (parseInt(marginLeft, 10)) === 'string' ? (left + paddingLeft + parseInt(marginLeft, 10) + 8) + 'px' : (left + paddingLeft) + 'px';\n        }\n        else {\n            ul.style.top = top + 'px';\n            ul.style.left = left + 'px';\n        }\n    };\n    Filter.prototype.updateFilterMenuPosition = function (element, args) {\n        addClass([element], 'e-gantt');\n        if (!this.parent.enableAdaptiveUI) {\n            document.querySelector('#' + this.parent.controlId).appendChild(element);\n        }\n        var targetElement;\n        if (this.parent.showColumnMenu) {\n            targetElement = document.querySelector('#treeGrid' + this.parent.controlId + '_gridcontrol_colmenu_Filter');\n            if (targetElement) {\n                element.style.zIndex = targetElement.parentElement.style.zIndex;\n                if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                    this.setPosition(targetElement, getValue('filterModel.dlgObj.element', args));\n                }\n                else {\n                    this.setPosition(targetElement, getValue('filterModel.dialogObj.element', args));\n                }\n            }\n        }\n        else {\n            targetElement = this.parent.treeGrid.grid.getColumnHeaderByField(args.columnName).querySelector('.e-filtermenudiv');\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dlgObj', args));\n            }\n            else {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dialogObj', args));\n            }\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n            element.querySelector('.e-valid-input').focus();\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Excel') {\n            var inputElement = document.querySelector('.e-searchinput');\n            inputElement.focus();\n        }\n    };\n    Filter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n        this.parent.off('actionBegin', this.actionBegin);\n        this.parent.off('actionComplete', this.actionComplete);\n        this.parent.off('columnMenuOpen', this.columnMenuOpen);\n    };\n    /**\n     * This method is used to destroy the filter module. When called, it performs any necessary cleanup operations related to the filter module.\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { TreeGrid, Sort as TreeGrdSort } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\n/**\n * The Sort module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    function Sort(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGrdSort);\n        this.parent.treeGrid.allowSorting = this.parent.allowSorting;\n        this.parent.treeGrid.sortSettings = getActualProperties(this.parent.sortSettings);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n    };\n    /**\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * Sort a column with given options.\n     *\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sort.\n     * @param {boolean} isMultiSort - Defines whether the previously sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        this.parent.treeGrid.sortByColumn(columnName, direction, isMultiSort);\n    };\n    /**\n     * Method to clear all sorted columns.\n     *\n     * @returns {void} .\n     */\n    Sort.prototype.clearSorting = function () {\n        this.parent.treeGrid.clearSorting();\n    };\n    /**\n     * The function used to update sortSettings of TreeGrid.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        this.parent.sortSettings = this.parent.treeGrid.sortSettings;\n    };\n    /**\n     * To clear sorting for specific column.\n     *\n     * @param {string} columnName - Defines the sorted column name to remove.\n     * @returns {void} .\n     */\n    Sort.prototype.removeSortColumn = function (columnName) {\n        this.parent.treeGrid.grid.removeSortColumn(columnName);\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { parentsUntil, getActualProperties } from '@syncfusion/ej2-grids';\nimport { setCssInGridPopUp } from '@syncfusion/ej2-grids';\nimport { isNullOrUndefined, removeClass, getValue, addClass, closest, setValue, extend } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * The Selection module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    function Selection(gantt) {\n        this.isSelectionFromChart = false;\n        this.isFromChart = false;\n        this.multipleIndexes = [];\n        this.selectedRowIndexes = [];\n        this.enableSelectMultiTouch = false;\n        this.openPopup = false;\n        this.parent = gantt;\n        this.bindEvents();\n        this.parent.treeGrid.selectedRowIndex = this.parent.selectedRowIndex;\n        this.parent.treeGrid.allowSelection = this.parent.allowSelection;\n        this.parent.treeGrid.grid.selectionSettings.enableToggle = this.parent.selectionSettings.enableToggle;\n        this.parent.treeGrid.selectionSettings = getActualProperties(this.parent.selectionSettings);\n        this.wireEvents();\n    }\n    /**\n     * Get module\n     *\n     * @returns {string} .\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    Selection.prototype.wireEvents = function () {\n        this.parent.on('selectRowByIndex', this.selectRowByIndex, this);\n        if (this.parent.isAdaptive) {\n            this.parent.on('chartMouseClick', this.mouseUpHandler, this);\n            this.parent.on('treeGridClick', this.popUpClickHandler, this);\n        }\n        else {\n            this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        }\n    };\n    /**\n     * To update selected index.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.selectRowByIndex = function () {\n        if ((this.parent.selectedRowIndex !== -1 || this.parent.staticSelectedRowIndex !== -1)) {\n            this.selectRow(this.parent.staticSelectedRowIndex !== -1 ? this.parent.staticSelectedRowIndex : this.parent.selectedRowIndex);\n            this.parent.staticSelectedRowIndex = -1;\n        }\n    };\n    /**\n     * To bind selection events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowSelecting = this.rowSelecting.bind(this);\n        this.parent.treeGrid.rowSelected = this.rowSelected.bind(this);\n        this.parent.treeGrid.rowDeselecting = this.rowDeselecting.bind(this);\n        this.parent.treeGrid.rowDeselected = this.rowDeselected.bind(this);\n        this.parent.treeGrid.cellSelecting = this.cellSelecting.bind(this);\n        this.parent.treeGrid.cellSelected = this.cellSelected.bind(this);\n        this.parent.treeGrid.cellDeselecting = this.cellDeselecting.bind(this);\n        this.parent.treeGrid.cellDeselected = this.cellDeselected.bind(this);\n    };\n    Selection.prototype.rowSelecting = function (args) {\n        if (!this.parent.isGanttChartRendered) {\n            args.cancel = true;\n            return;\n        }\n        args.isCtrlPressed = this.isMultiCtrlRequest || args.isCtrlPressed;\n        args.isShiftPressed = this.isMultiShiftRequest || args.isShiftPressed;\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        if (this.parent.selectionSettings && this.parent.selectionSettings.persistSelection) {\n            this.parent.treeGrid.grid.selectionModule['checkSelectAllClicked'] = true;\n        }\n        this.parent.trigger('rowSelecting', args);\n        if (this.isMultiShiftRequest || this.isMultiCtrlRequest) {\n            this.isMultiShiftRequest = this.isMultiCtrlRequest = false;\n        }\n    };\n    Selection.prototype.rowSelected = function (args) {\n        var rowIndexes = 'rowIndexes';\n        var index = (this.parent.selectionSettings.type === 'Multiple' && !isNullOrUndefined(args[rowIndexes])) ?\n            args[rowIndexes] : [args.rowIndex];\n        this.addRemoveClass(index, args['name']);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: this.parent.treeGrid.grid.selectedRowIndex }, true);\n        if (this.isMultiShiftRequest) {\n            this.selectedRowIndexes = index;\n        }\n        if (this.parent.autoFocusTasks) {\n            if (this.parent.enableTimelineVirtualization) {\n                this.parent['isRowSelected'] = true;\n            }\n            if (args.data && !isNullOrUndefined(args.data['length'])) {\n                for (var i = 0; i < args.data['length']; i++) {\n                    this.parent.ganttChartModule.updateScrollLeft(args.data[i].ganttProperties.left);\n                }\n            }\n            else {\n                if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping &&\n                    isNullOrUndefined(getValue('data.ganttProperties.left', args))) {\n                    args.data = this.parent.getRecordByID(args.data.taskId);\n                }\n                this.parent.ganttChartModule.updateScrollLeft(getValue('data.ganttProperties.left', args));\n            }\n        }\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.prevRowIndex = args.rowIndex;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems(args);\n        }\n        if (!isNullOrUndefined(this.parent.focusModule['previousActiveElement'])) {\n            var previousSelection = this.parent.focusModule['previousActiveElement'];\n            removeClass([previousSelection], 'e-focused');\n            removeClass([previousSelection], 'e-focus');\n        }\n        this.parent.trigger('rowSelected', args);\n    };\n    Selection.prototype.rowDeselecting = function (args) {\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselecting', args);\n    };\n    Selection.prototype.rowDeselected = function (args) {\n        var index;\n        var isContains;\n        if (this.multipleIndexes.length !== 0) {\n            index = this.multipleIndexes;\n        }\n        else {\n            if (!isNullOrUndefined(args.rowIndexes)) {\n                for (var i = 0; i < args.rowIndexes.length; i++) {\n                    if (args.rowIndexes[i] === args.rowIndex) {\n                        isContains = true;\n                    }\n                }\n                if (isContains) {\n                    index = args.rowIndexes;\n                }\n                else {\n                    index = [args.rowIndex];\n                }\n            }\n            else {\n                index = [args.rowIndex];\n            }\n        }\n        this.addRemoveClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: -1 }, true);\n        if (this.selectedRowIndexes.length === 1) {\n            this.parent.setProperties({ selectedRowIndex: this.selectedRowIndexes[0] }, true);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive\n            && this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselected', args);\n        this.isInteracted = false;\n        this.multipleIndexes = [];\n    };\n    Selection.prototype.cellSelecting = function (args) {\n        var callBackPromise = new Deferred();\n        this.parent.trigger('cellSelecting', args, function (cellselectingArgs) {\n            callBackPromise.resolve(cellselectingArgs);\n        });\n        return callBackPromise;\n    };\n    Selection.prototype.cellSelected = function (args) {\n        this.parent.trigger('cellSelected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Selection.prototype.cellDeselecting = function (args) {\n        this.parent.trigger('cellDeselecting', args);\n    };\n    Selection.prototype.cellDeselected = function (args) {\n        this.parent.trigger('cellDeselected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * Selects a cell by given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        this.parent.treeGrid.selectCell(cellIndex, isToggle);\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        this.parent.treeGrid.grid.selectCells(rowCellIndexes);\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @param {boolean} isPreventFocus .\n     * @returns {void} .\n     */\n    Selection.prototype.selectRow = function (index, isToggle, isPreventFocus) {\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        if (this.parent.enableVirtualization && (this.parent.treeGridModule.addedRecord ||\n            (this.parent.editModule && this.parent.editModule.isAdded))) {\n            index = this.parent.getExpandedRecords(this.parent.flatData).indexOf(this.parent.flatData[index]);\n            this.parent.treeGridModule.addedRecord = false;\n            if (this.parent.editModule) {\n                this.parent.editModule.isAdded = false;\n            }\n        }\n        var selectedRow = ganttRow.filter(function (e) { return parseInt(e.getAttribute('aria-rowindex'), 10) - 1 === index; })[0];\n        var condition;\n        if (index === -1 || (isNullOrUndefined(selectedRow) && !this.parent.enableVirtualization) || this.parent.selectionSettings.mode === 'Cell') {\n            return;\n        }\n        if (this.parent.showActiveElement && !isNullOrUndefined(isPreventFocus) && !isPreventFocus || this.isFromChart) {\n            if (this.isFromChart) {\n                this.isFromChart = false;\n            }\n            this.parent.treeGrid.grid.selectionModule.preventFocus = true;\n        }\n        else {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = false;\n        }\n        if ((!isNullOrUndefined(this.selectedClass) && (this.selectedClass === selectedRow) && (!isToggle))) {\n            condition = true;\n        }\n        if (condition !== true) {\n            this.parent.treeGrid.selectRow(index, isToggle);\n        }\n        this.parent.treeGrid.grid.selectionModule.preventFocus = this.parent.treeGrid.grid.selectionModule.preventFocus === true ?\n            false : this.parent.treeGrid.grid.selectionModule.preventFocus;\n        this.prevRowIndex = index;\n        this.selectedClass = selectedRow;\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRows = function (records) {\n        if (!isNullOrUndefined(records) && records.length > 0) {\n            this.parent.treeGrid.selectRows(records);\n        }\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowIndexes();\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowCellIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowCellIndexes();\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} .\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            var selectedRows = [];\n            var selectedIndexes_1 = this.parent.selectionModule.getSelectedRowIndexes();\n            var _loop_1 = function (i) {\n                var rec = this_1.parent.currentViewData.filter(function (data) {\n                    return data.index === selectedIndexes_1[i];\n                })[0];\n                selectedRows.push(rec);\n            };\n            var this_1 = this;\n            for (var i = 0; i < selectedIndexes_1.length; i++) {\n                _loop_1(i);\n            }\n            return selectedRows;\n        }\n        else {\n            return this.parent.treeGrid.getSelectedRecords();\n        }\n    };\n    /**\n     * Get the selected records for cell selection.\n     *\n     * @returns {IGanttData[]} .\n     */\n    Selection.prototype.getCellSelectedRecords = function () {\n        var cellDetails = this.parent.selectionModule.getSelectedRowCellIndexes();\n        var cellSelectedRecords = [];\n        for (var i = 0; i < cellDetails.length; i++) {\n            cellSelectedRecords.push(this.parent.currentViewData[cellDetails[i].rowIndex]);\n        }\n        return cellSelectedRecords;\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} .\n     */\n    Selection.prototype.getSelectedRows = function () {\n        return this.parent.treeGrid.getSelectedRows();\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Selection.prototype.clearSelection = function () {\n        this.addRemoveClass(this.selectedRowIndexes);\n        this.parent.treeGrid.clearSelection();\n        this.parent.selectedRowIndex = -1;\n        this.selectedRowIndexes = [];\n        this.selectedClass = null;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        this.isInteracted = false;\n    };\n    Selection.prototype.highlightSelectedRows = function (e, fromChart) {\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch;\n        this.isMultiShiftRequest = e.shiftKey;\n        this.actualTarget = e.target;\n        this.isInteracted = true;\n        this.isSelectionFromChart = fromChart;\n        if (fromChart) {\n            var selectedRow = closest(e.target, 'tr.e-chart-row');\n            var rIndex = parseInt(selectedRow.getAttribute('aria-rowindex'), 10) - 1;\n            var isToggle = this.parent.selectionSettings.enableToggle;\n            if (this.parent.selectionSettings.type === 'Single' || (!this.isMultiCtrlRequest && !this.isMultiShiftRequest)) {\n                if (this.parent.selectionSettings.persistSelection) {\n                    this.addRemoveClass(this.selectedRowIndexes, e['name']);\n                }\n                if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && (this.parent.rowDragAndDropModule &&\n                    !this.parent.rowDragAndDropModule['draggedRecord']))) {\n                    this.isFromChart = true;\n                    this.selectRow(rIndex, isToggle);\n                }\n            }\n            else {\n                if (this.isMultiShiftRequest) {\n                    this.selectRowsByRange(isNullOrUndefined(this.prevRowIndex) ? rIndex : this.prevRowIndex, rIndex);\n                }\n                else {\n                    setValue('isMultiCtrlRequest', true, this.parent.treeGrid.grid.selectionModule);\n                    this.parent.treeGrid.grid.selectionModule.addRowsToSelection([rIndex]);\n                    var isUnSelected = this.selectedRowIndexes.indexOf(rIndex) > -1;\n                    if (isUnSelected) {\n                        this.addRemoveClass([rIndex], e['name']);\n                    }\n                }\n            }\n        }\n    };\n    Selection.prototype.getselectedrowsIndex = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line\n        var _a = (startIndex < endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        this.selectedRowIndexes = indexes;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Defines the start row index.\n     * @param  {number} endIndex - Defines the end row index.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.isSelectionFromChart = true;\n        this.getselectedrowsIndex(startIndex, endIndex);\n        this.selectRows(this.selectedRowIndexes);\n    };\n    Selection.prototype.addRemoveClass = function (records, request) {\n        if (typeof (records) == 'number') {\n            records = [records];\n        }\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        var _loop_2 = function (i) {\n            var selectedRow = ganttRow.filter(function (e) {\n                return parseInt(e.getAttribute('aria-rowindex'), 10) - 1 === records[parseInt(i.toString(), 10)];\n            })[0];\n            if (!isNullOrUndefined(selectedRow)) {\n                var persist = false;\n                var index = this_2.getSelectedRowIndexes().indexOf(records[parseInt(i.toString(), 10)]);\n                var selectedRecordLen = this_2.getSelectedRecords().length;\n                if (this_2.parent.selectionSettings.persistSelection && this_2.parent.selectionSettings.enableToggle &&\n                    !isNullOrUndefined(request) && this_2.parent.selectionSettings.type !== 'Multiple' &&\n                    selectedRecordLen > 0) {\n                    persist = true;\n                }\n                if (this_2.parent.selectionSettings.enableToggle && this_2.parent.selectionSettings.persistSelection &&\n                    (index > -1 && this_2.parent.selectionSettings.type === 'Single' && persist) ||\n                    (index > -1 && ((!isNullOrUndefined(request) && this_2.parent.selectionSettings.type === 'Multiple')))) {\n                    this_2.addClass(selectedRow);\n                }\n                else if (isNullOrUndefined(request)) {\n                    this_2.removeClass(selectedRow);\n                }\n                else if (index > -1) {\n                    this_2.addClass(selectedRow);\n                }\n                if (this_2.parent.selectionSettings.enableToggle && index > -1 && (this_2.parent.selectionSettings.type === 'Single' ||\n                    (!this_2.isMultiCtrlRequest && !this_2.isMultiShiftRequest)) && this_2.parent.selectionSettings.persistSelection &&\n                    request === 'chartMouseUp' && this_2.isSelectionFromChart) {\n                    this_2.removeClass(selectedRow);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < records.length; i++) {\n            _loop_2(i);\n        }\n    };\n    Selection.prototype.addClass = function (selectedRow) {\n        addClass([selectedRow], 'e-active');\n        selectedRow.setAttribute('aria-selected', 'true');\n    };\n    Selection.prototype.removeClass = function (selectedRow) {\n        removeClass([selectedRow], 'e-active');\n        selectedRow.removeAttribute('aria-selected');\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (this.isSelectionFromChart) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-ganttpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                ((this.enableSelectMultiTouch &&\n                    (this.getSelectedRecords().length > 1 || this.getSelectedRowCellIndexes().length > 1)) ? ' e-spanclicked' : ''));\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n            this.openPopup = true;\n        }\n        else if (this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.hidePopUp = function () {\n        if (this.openPopup) {\n            document.getElementsByClassName('e-ganttpopup')[0].style.display = 'none';\n            this.openPopup = false;\n        }\n        else {\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        var grid = this.parent.treeGrid.grid;\n        var $popUpElemet = closest(target, '.e-ganttpopup') ?\n            closest(target, '.e-ganttpopup') : closest(target, '.e-gridpopup');\n        if ($popUpElemet) {\n            var spanElement = $popUpElemet.querySelector('.' + 'e-rowselect');\n            if (closest(target, '.e-ganttpopup') &&\n                !spanElement.classList.contains('e-spanclicked')) {\n                this.enableSelectMultiTouch = true;\n                spanElement.classList.add('e-spanclicked');\n            }\n            else if (closest(target, '.e-gridpopup') &&\n                spanElement.classList.contains('e-spanclicked')) {\n                this.openPopup = true;\n                this.enableSelectMultiTouch = true;\n            }\n            else {\n                this.hidePopUp();\n                this.enableSelectMultiTouch = false;\n                if (closest(target, '.e-ganttpopup')) {\n                    spanElement.classList.remove('e-spanclicked');\n                }\n            }\n        }\n        else if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n            var $tr = closest(target, '.e-rowcell');\n            if ($tr && ((this.selectedRowIndexes.length === 0 && this.parent.selectionSettings.mode === 'Row') ||\n                (this.getCellSelectedRecords().length === 0 && this.parent.selectionSettings.mode === 'Cell'))) {\n                this.hidePopUp();\n            }\n        }\n        if (grid) {\n            setValue('enableSelectMultiTouch', this.enableSelectMultiTouch, grid.selectionModule);\n        }\n    };\n    /**\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.mouseUpHandler = function (e) {\n        var isTaskbarEdited = false;\n        var elements = document.querySelectorAll('.e-drag-item');\n        var targetElement = null;\n        if (e.target.closest('.e-rowcell')) {\n            targetElement = e.target;\n        }\n        else if (e.target.closest('.e-chart-row')) {\n            targetElement = e.target.closest('.e-left-label-container') ||\n                e.target.closest('.e-taskbar-main-container') || e.target.closest('.e-right-label-container');\n        }\n        if (this.parent.focusModule) {\n            this.parent.focusModule.setActiveElement(targetElement);\n        }\n        if (this.parent.editModule && this.parent.editSettings.allowTaskbarEditing && this.parent.editModule.taskbarEditModule) {\n            var taskbarEdit = this.parent.editModule.taskbarEditModule;\n            if (taskbarEdit.isMouseDragged || taskbarEdit.tapPointOnFocus) {\n                isTaskbarEdited = true;\n            }\n        }\n        if (!isTaskbarEdited && this.parent.element.contains(e.target) && !(elements.length === 1)) {\n            var parent_1 = parentsUntil(e.target, 'e-chart-row');\n            var isSelected = e.target.classList.contains('e-rowcell') ||\n                e.target.classList.contains('e-row') ||\n                e.target.classList.contains('e-treegridexpand') ||\n                e.target.classList.contains('e-treegridcollapse') || !isNullOrUndefined(parent_1);\n            this.popUpClickHandler(e);\n            if (this.parent.selectionSettings.mode !== 'Cell' && isSelected) {\n                if (closest(e.target, 'tr.e-chart-row')) {\n                    if (this.parent.enableVirtualization) {\n                        this.parent.treeGrid.grid.selectionModule.isInteracted = true;\n                    }\n                    this.parent.treeGrid['isFromChartSide'] = true;\n                    this.highlightSelectedRows(e, true);\n                }\n                else {\n                    this.parent.treeGrid['isFromChartSide'] = false;\n                    this.highlightSelectedRows(e, false);\n                }\n                if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n                    if (this.selectedRowIndexes.length > 0) {\n                        this.showPopup(e);\n                    }\n                    else {\n                        this.hidePopUp();\n                    }\n                }\n            }\n            else {\n                this.isSelectionFromChart = false;\n            }\n        }\n    };\n    /**\n     * To add class for selected records in virtualization mode.\n     *\n     * @param {number} i .\n     * @returns {void} .\n     * @hidden\n     */\n    Selection.prototype.maintainSelectedRecords = function (i) {\n        var index = this.parent.selectionModule.getSelectedRowIndexes().indexOf(i);\n        if (index > -1) {\n            this.addRemoveClass([i]);\n        }\n    };\n    /**\n     * To destroy the selection module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('selectRowByIndex', this.selectRowByIndex);\n        if (this.parent.isAdaptive) {\n            this.parent.off('chartMouseClick', this.mouseUpHandler);\n            this.parent.off('treeGridClick', this.popUpClickHandler);\n        }\n        else {\n            this.parent.off('chartMouseUp', this.mouseUpHandler);\n        }\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search',\n            'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport',\n            'CsvExport', 'PdfExport', 'Indent', 'Outdent', 'CriticalPath'];\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n    }\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.renderToolbar = function () {\n        var toolbarItems = this.parent.toolbar || [];\n        if (toolbarItems.length > 0) {\n            this.element = createElement('div', { id: this.parent.controlId + '_Gantt_Toolbar', className: cls.toolbar });\n            if (this.parent.treeGrid.grid.headerModule) {\n                this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n            }\n            else {\n                this.parent.element.appendChild(this.element);\n            }\n            var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll',\n                'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport',\n                'PdfExport', 'Indent', 'Outdent', 'CriticalPath', 'Undo', 'Redo'];\n            for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n                var item = preItems_1[_i];\n                var itemStr = void 0;\n                var localeName = void 0;\n                if (item === 'CriticalPath') {\n                    itemStr = 'critical-path';\n                    localeName = 'criticalPath';\n                }\n                else {\n                    itemStr = item.toLowerCase();\n                    localeName = item[0].toLowerCase() + item.slice(1);\n                }\n                this.predefinedItems[item] = {\n                    id: this.parent.element.id + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                    text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n                    tooltipText: this.parent.localeObj.getConstant(localeName) + ((localeName === 'add' ||\n                        localeName === 'edit' || localeName === 'delete') ? this.parent.localeObj.getConstant('task') :\n                        (localeName === 'expandAll' || localeName === 'collapseAll') ?\n                            this.parent.localeObj.getConstant('tasks') : ''),\n                    align: this.parent.isAdaptive ? 'Right' : 'Left'\n                };\n                if (this.parent.enableRtl) {\n                    if (item === 'PrevTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-nexttimespan';\n                    }\n                    if (item === 'NextTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-prevtimespan';\n                    }\n                }\n            }\n            var searchLocalText = this.parent.localeObj.getConstant('search');\n            if (this.parent.isAdaptive) {\n                this.predefinedItems.Search = {\n                    id: this.id + '_searchbutton',\n                    prefixIcon: 'e-search-icon',\n                    tooltipText: searchLocalText,\n                    align: 'Right'\n                };\n            }\n            else {\n                this.predefinedItems.Search = {\n                    id: this.id + '_search',\n                    template: '<div class=\"e-input-group e-search\" role=\"search\">' +\n                        '<input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\"' +\n                        // eslint-disable-next-line\n                        'placeholder= \\\"' + searchLocalText + '\\\"/>' +\n                        '<span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\"' +\n                        'tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\" role=\"button\"></span>' +\n                        '</div>',\n                    tooltipText: searchLocalText,\n                    align: 'Right', cssClass: 'e-search-wrapper'\n                };\n            }\n            this.createToolbar();\n        }\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new NavToolbar({\n            items: items,\n            enableRtl: this.parent.enableRtl,\n            clicked: this.toolbarClickHandler.bind(this),\n            height: this.parent.isAdaptive ? 48 : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        this.toolbar.appendTo(this.element);\n        if (this.parent.treeGrid.grid && this.parent.isReact) {\n            (this.parent.treeGrid.grid).portals = this.parent.portals;\n        }\n        var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n        var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n        if (cancelItem) {\n            addClass([cancelItem], cls.focusCell);\n        }\n        if (updateItem) {\n            addClass([updateItem], cls.focusCell);\n        }\n        var template = false;\n        this.parent.toolbar.map(function (e) {\n            if (e === 'Search') {\n                template = true;\n            }\n        });\n        if (this.parent.isAdaptive && template) {\n            this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n            var textObj = new TextBox({\n                placeholder: this.parent.localeObj.getConstant('search'),\n                enableRtl: this.parent.enableRtl,\n                floatLabelType: 'Never',\n                showClearButton: true\n            });\n            textObj.appendTo(this.searchElement);\n        }\n        else {\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n        }\n        if (this.parent.filterModule) {\n            this.wireEvent();\n            if (this.parent.searchSettings) {\n                this.updateSearchTextBox();\n            }\n        }\n        this.enableItems([this.parent.controlId + '_redo', this.parent.controlId + '_undo'], false); // disable toolbar items.\n        if (this.parent.readOnly) {\n            this.enableItems([this.parent.element.id + '_add', this.parent.element.id + '_update', this.parent.element.id + '_delete',\n                this.parent.element.id + '_cancel', this.parent.element.id + '_indent', this.parent.element.id + '_outdent'], false);\n        }\n    };\n    Toolbar.prototype.getSearchBarElement = function () {\n        var _this = this;\n        var div = createElement('div', { className: 'e-adaptive-searchbar', styles: 'display: none' });\n        var textbox = createElement('input', { attrs: { type: 'text' }, id: this.parent.element.id + '_searchbar' });\n        var span = createElement('span', { className: 'e-backarrowspan e-icons' });\n        span.onclick = function () {\n            div.style.display = 'none';\n            _this.element.childNodes[1].style.display = 'block';\n        };\n        div.appendChild(span);\n        div.appendChild(textbox);\n        return div;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n            EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n        }\n    };\n    Toolbar.prototype.propertyChanged = function (property) {\n        var module = getValue('module', property);\n        if (module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.renderToolbar();\n        this.refreshToolbarItems();\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n            EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n            this.searchElement = null;\n        }\n        if (!this.parent.isDestroyed) {\n            this.parent.off('ui-toolbarupdate', this.propertyChanged);\n        }\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n            this.parent.searchSettings.key = this.searchElement.value;\n            this.parent.dataBind();\n        }\n    };\n    Toolbar.prototype.focusHandler = function (e) {\n        e.target.parentElement.classList.add('e-input-focus');\n    };\n    Toolbar.prototype.blurHandler = function (e) {\n        e.target.parentElement.classList.remove('e-input-focus');\n    };\n    /**\n     * Method to set value for search input box\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.updateSearchTextBox = function () {\n        if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar;\n        var searchIndex = -1;\n        toolbarItems.forEach(function (item, index) {\n            if ((typeof (item) === 'string' && item === 'Search') ||\n                ((typeof (item) === 'object') && item.text === 'Search')) {\n                searchIndex = index;\n            }\n        });\n        if (searchIndex > -1) {\n            var searchItem = toolbarItems.splice(searchIndex, 1);\n            toolbarItems.push(searchItem[0]);\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            if (typeof item === 'string') {\n                items.push(this.getItemObject(item));\n            }\n            else {\n                items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        var currentItem = item ? extend(item, item, itemObject) : itemObject;\n        if (!currentItem.align) {\n            currentItem.align = this.parent.isAdaptive ? 'Right' : 'Left';\n        }\n        return currentItem;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.id + '_' + itemName };\n    };\n    Toolbar.prototype.toolbarClickHandler = function (arg) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.id;\n        this.parent.isToolBarClick = false;\n        extend(arg, { cancel: false });\n        if (arg.item['properties'].id === this.parent.element.id + '_pdfexport' || arg.item['properties'].id === this.parent.element.id + '_critical-path') {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n        gObj.trigger(events.toolbarClick, arg, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            else {\n                if (_this.parent.isAdaptive === true) {\n                    if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete'\n                        || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall'\n                        || args.item.id === gID + '_collapseall') {\n                        if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n                            _this.parent.selectionModule.hidePopUp();\n                            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                        }\n                    }\n                }\n                switch (!isNullOrUndefined(args.item) && args.item.id) {\n                    case gID + '_edit':\n                        if (gObj.editModule && gObj.editSettings.allowEditing) {\n                            gObj.editModule.dialogModule.openToolbarEditDialog();\n                        }\n                        break;\n                    case gID + '_indent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.indent();\n                        }\n                        break;\n                    case gID + '_critical-path':\n                        if (gObj.enableCriticalPath) {\n                            gObj.enableCriticalPath = false;\n                        }\n                        else {\n                            gObj.enableCriticalPath = true;\n                        }\n                        break;\n                    case gID + '_outdent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.outdent();\n                        }\n                        break;\n                    case gID + '_update':\n                        gObj.editModule.cellEditModule.isCellEdit = false;\n                        gObj.treeGrid.grid.saveCell();\n                        break;\n                    case gID + '_cancel':\n                        gObj.cancelEdit();\n                        break;\n                    case gID + '_add':\n                        if (gObj.editModule && gObj.editSettings.allowAdding) {\n                            gObj.editModule.dialogModule.openAddDialog();\n                        }\n                        break;\n                    case gID + '_delete':\n                        if (_this.parent.selectionModule && _this.parent.editModule) {\n                            if ((_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length)\n                                || (_this.parent.selectionSettings.mode === 'Cell' &&\n                                    _this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                                _this.parent.editModule.startDeleteAction();\n                            }\n                        }\n                        break;\n                    case gID + '_search':\n                        {\n                            var searchButtonId = getValue('originalEvent.target.id', args);\n                            if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                                var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                                if (_this.parent.searchSettings.key !== keyVal) {\n                                    _this.parent.searchSettings.key = keyVal;\n                                    _this.parent.dataBind();\n                                }\n                            }\n                            break;\n                        }\n                    case gID + '_searchbutton':\n                        {\n                            var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n                            adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n                            adaptiveSearchbar.style.display = 'block';\n                            break;\n                        }\n                    case gID + '_expandall':\n                        _this.parent.ganttChartModule.expandCollapseAll('expand');\n                        _this.parent.isCollapseAll = false;\n                        break;\n                    case gID + '_collapseall':\n                        _this.parent.ganttChartModule.expandCollapseAll('collapse');\n                        _this.parent.isCollapseAll = true;\n                        break;\n                    case gID + '_prevtimespan':\n                        _this.parent.previousTimeSpan();\n                        break;\n                    case gID + '_nexttimespan':\n                        _this.parent.nextTimeSpan();\n                        break;\n                    case gID + '_zoomin':\n                        _this.zoomIn();\n                        break;\n                    case gID + '_zoomout':\n                        _this.zoomOut();\n                        break;\n                    case gID + '_zoomtofit':\n                        _this.zoomToFit();\n                        break;\n                    case gID + '_undo':\n                        _this.parent.undo();\n                        break;\n                    case gID + '_redo':\n                        _this.parent.redo();\n                        break;\n                }\n            }\n        });\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomIn = function () {\n        this.parent.timelineModule.processZooming(true);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomToFit = function () {\n        if (this.parent.timelineModule.isZoomIn) {\n            this.parent.timelineModule.isZoomIn = false;\n        }\n        this.parent.timelineModule.processZoomToFit();\n        this.parent.ganttChartModule.updateScrollLeft(0);\n        this.parent.timelineModule.isZoomToFit = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomOut = function () {\n        this.parent.timelineModule.processZooming(false);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * To refresh toolbar items bases current state of tasks\n     *\n     * @param {RowSelectEventArgs} args .\n     * @returns {void} .\n     */\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var gID = this.id;\n        var ind = gObj.selectedRowIndex;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            for (var i = 0; i < gObj.updatedRecords.length; i++) {\n                if (gObj.updatedRecords[i].index === ind) {\n                    ind = i;\n                    break;\n                }\n            }\n        }\n        var previousGanttRecord;\n        var isSelected = false;\n        if (gObj.selectionModule) {\n            if (gObj.selectionModule.getSelectedRecords().length === 1 || gObj.selectionModule.getSelectedRowCellIndexes().length === 1) {\n                isSelected = true;\n            }\n        }\n        if (gObj.selectionModule && gObj.selectionSettings.type === 'Multiple' && gObj.selectionModule.selectedRowIndexes.length > 1) {\n            isSelected = false;\n        }\n        var isPersist = false;\n        if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n            var selectedRecords = gObj.selectionModule.getSelectedRecords().length;\n            if (gObj.selectionSettings.persistSelection && selectedRecords === 1) {\n                for (var i = 0; i < selectedRecords; i++) {\n                    var index = gObj.currentViewData.indexOf(gObj.selectionModule.getSelectedRecords()[i]);\n                    if (index === -1) {\n                        isPersist = true;\n                    }\n                }\n            }\n            if (isPersist) {\n                isSelected = false;\n            }\n        }\n        var toolbarItems = this.toolbar ? this.toolbar.items : [];\n        var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete',\n            gID + '_update', gID + '_cancel', gID + '_indent', gID + '_outdent'];\n        var isResouceParent = (this.parent.viewType === 'ResourceView' && getValue('data.level', args) !== 0\n            || this.parent.viewType === 'ProjectView');\n        if (!isNullOrUndefined(this.parent.editModule)) {\n            var touchEdit = gObj.editModule.taskbarEditModule ?\n                gObj.editModule.taskbarEditModule.touchEdit : false;\n            var hasData = gObj.flatData && gObj.flatData.length;\n            // eslint-disable-next-line\n            edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n            // eslint-disable-next-line\n            edit.allowEditing && isResouceParent && hasData && isSelected && !touchEdit ?\n                enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n            if (!edit.allowEditing || ind === 0 || ind === -1 || !hasData || !isSelected || this.parent.viewType === 'ResourceView') {\n                disableItems.push(gID + '_indent');\n                disableItems.push(gID + '_outdent');\n            }\n            else {\n                if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                    gObj.updatedRecords[ind].level === 0 && hasData && !touchEdit) {\n                    enableItems.push(gID + '_indent');\n                    disableItems.push(gID + '_outdent');\n                }\n                else {\n                    previousGanttRecord = gObj.updatedRecords[ind - 1];\n                    if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                        (gObj.updatedRecords[ind].level - previousGanttRecord.level === 1) && ind !== -1) {\n                        disableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                    else if (ind !== -1) {\n                        enableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                }\n            }\n            var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.getSelectedRecords().length > 0 ||\n                gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n            if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n                if (isPersist) {\n                    isDeleteSelected = false;\n                }\n                var selectedRecords = gObj.selectionModule.getSelectedRecords();\n                var selectedRecordsCount = selectedRecords.length;\n                if (gObj.selectionSettings.persistSelection && selectedRecordsCount > 1) {\n                    for (var i = 0; i < selectedRecordsCount; i++) {\n                        var index = gObj.currentViewData.indexOf(selectedRecords[i]);\n                        if (index > -1) {\n                            isDeleteSelected = true;\n                            break;\n                        }\n                        else {\n                            isDeleteSelected = false;\n                        }\n                    }\n                }\n            }\n            if (edit.allowDeleting && hasData && isDeleteSelected && !touchEdit) {\n                enableItems.push(gID + '_delete');\n            }\n            else {\n                disableItems.push(gID + '_delete');\n            }\n            if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule)\n                && gObj.editModule.cellEditModule.isCellEdit) {\n                // New initialization for enableItems and disableItems during isCellEdit\n                enableItems = [];\n                enableItems.push(gID + '_update', gID + '_cancel');\n                disableItems = [];\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' &&\n                        toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n                        disableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n            else {\n                disableItems.push(gID + '_update', gID + '_cancel');\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (enableItems.indexOf(toolbarItems[t].id) === -1 &&\n                        disableItems.indexOf(toolbarItems[t].id) === -1) {\n                        enableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n        }\n        else {\n            disableItems.push(gID + '_delete');\n            disableItems.push(gID + '_add');\n            disableItems.push(gID + '_edit');\n            disableItems.push(gID + '_update');\n            disableItems.push(gID + '_cancel');\n            disableItems.push(gID + '_indent');\n            disableItems.push(gID + '_outdent');\n        }\n        for (var e = 0; e < enableItems.length; e++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === enableItems[e]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0 && (!isNullOrUndefined(toolbarItems[index]) && toolbarItems[index]['properties'].visible)) {\n                this.toolbar.hideItem(index, false);\n            }\n        }\n        for (var d = 0; d < disableItems.length; d++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === disableItems[d]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, true);\n            }\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @function destroy\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.filterModule) {\n            this.unWireEvent();\n        }\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.toolbar) {\n            this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n        }\n        this.toolbar.destroy();\n        remove(this.element);\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","/**\n *  This file was to define all public and internal events\n */\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n","import { createElement, formatUnit, remove, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar NonWorkingDay = /** @class */ (function () {\n    function NonWorkingDay(gantt) {\n        this.weekendWidthUpdated = false;\n        this.parent = gantt;\n        this.nonworkingContainer = null;\n        this.holidayContainer = null;\n        this.weekendContainer = null;\n    }\n    /**\n     * Method append nonworking container\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.createNonworkingContainer = function () {\n        if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n            this.nonworkingContainer = createElement('div', {\n                className: cls.nonworkingContainer\n            });\n            if (this.parent.enableTimelineVirtualization) {\n                this.nonworkingContainer.style.height = '100%';\n            }\n            this.parent.ganttChartModule.chartBodyContent.insertBefore(this.nonworkingContainer, this.parent.ganttChartModule.chartBodyContent.firstChild);\n        }\n    };\n    /**\n     * calculation for holidays rendering.\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderHolidays = function () {\n        var _this = this;\n        if (this.parent.holidays && this.parent.holidays.length > 0) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n                this.holidayContainer = createElement('div', {\n                    className: cls.holidayContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.holidayContainer.style.height = '100%';\n                    this.holidayContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.holidayContainer);\n            }\n            var holidayElements = this.getHolidaysElement().childNodes;\n            this.holidayContainer.innerHTML = '';\n            holidayElements.forEach(function (element) {\n                _this.holidayContainer.appendChild(element.cloneNode(true));\n            });\n        }\n        else if (this.holidayContainer && this.holidayContainer.parentNode) {\n            remove(this.holidayContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to return holidays as html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getHolidaysElement = function () {\n        var fromDate;\n        var toDate;\n        var container = createElement('div');\n        var height = this.parent.contentHeight;\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        for (var i = 0; i < this.parent.holidays.length; i++) {\n            if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                toDate.setDate(toDate.getDate() + 1);\n                fromDate.setHours(0, 0, 0, 0);\n                toDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].from) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            var width = (this.parent.holidays[i].from && this.parent.holidays[i].to) ?\n                this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n            var left = this.parent.dataOperation.getTaskLeft(fromDate, false, true);\n            var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n            var holidayDiv = createElement('div', {\n                className: cls.holidayElement, styles: align + \" width:\" + width + \"px; height:100%;\"\n            });\n            var spanTop = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n            var spanElement = createElement('span', {\n                className: cls.holidayLabel, styles: \"top:\" + spanTop + \"px;left:\" + (width / 2) + \"px;\"\n            });\n            var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n            spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n            if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n            }\n            holidayDiv.appendChild(spanElement);\n            if (this.parent.holidays[i].cssClass) {\n                holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n            }\n            container.appendChild(holidayDiv);\n        }\n        return container;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderWeekends = function () {\n        var _this = this;\n        if (this.parent.highlightWeekends) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n                this.weekendContainer = createElement('div', {\n                    className: cls.weekendContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.weekendContainer.style.height = '100%';\n                    this.weekendContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.weekendContainer);\n            }\n            var weekendElements = this.getWeekendElements().childNodes;\n            this.weekendContainer.innerHTML = '';\n            weekendElements.forEach(function (element) {\n                _this.weekendContainer.appendChild(element.cloneNode(true));\n            });\n        }\n        else if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to get weekend html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getWeekendElements = function () {\n        var container = createElement('div');\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).getTime()) :\n            new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var endDate = this.parent.enableTimelineVirtualization ? new Date((this.parent.timelineModule.weekendEndDate).getTime()) :\n            new Date(this.parent.timelineModule.timelineEndDate.getTime());\n        var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n        var isFirstCell = true;\n        var isFirstExecution = true;\n        this.weekendWidthUpdated = false;\n        do {\n            if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n                var left = this.parent.dataOperation.getTaskLeft(startDate, false, true);\n                var width = this.parent.perDayWidth;\n                if (isFirstCell) {\n                    var start = new Date(startDate.getTime());\n                    var tempEnd = new Date(start.getTime());\n                    tempEnd.setDate(tempEnd.getDate() + 1);\n                    tempEnd.setHours(0, 0, 0, 0);\n                    width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n                    isFirstCell = false;\n                }\n                var sDate = new Date(startDate);\n                var dubDate = new Date(startDate);\n                sDate.setDate(sDate.getDate() + 1);\n                var sDateOffset = sDate.getTimezoneOffset();\n                var dubDateOffset = dubDate.getTimezoneOffset();\n                if (!isFirstExecution) {\n                    var isHourTimeline = (this.parent.timelineModule.bottomTier === 'Hour' &&\n                        this.parent.timelineModule.customTimelineSettings.bottomTier.count === 1) ||\n                        (this.parent.timelineModule.bottomTier === 'Minutes' &&\n                            this.parent.timelineModule.customTimelineSettings.bottomTier.count === 60) ||\n                        (this.parent.timelineModule.topTier === 'Hour' &&\n                            this.parent.timelineModule.customTimelineSettings.topTier.count === 1 &&\n                            this.parent.timelineModule.bottomTier === 'Minutes' &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.count === 30 ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.count === 15));\n                    if (!this.weekendWidthUpdated) {\n                        if (isHourTimeline && sDateOffset < dubDateOffset) {\n                            width = width - (this.parent.perDayWidth / 24);\n                            this.weekendWidthUpdated = true;\n                        }\n                    }\n                }\n                else {\n                    isFirstExecution = false;\n                }\n                var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n                var weekendDiv = createElement('div', {\n                    className: cls.weekend, styles: align + \" width:\" + width + \"px;height:100%;\"\n                });\n                container.appendChild(weekendDiv);\n            }\n            startDate.setDate(startDate.getDate() + 1);\n            startDate.setHours(0, 0, 0, 0);\n        } while (startDate < endDate);\n        return container;\n    };\n    NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n        var height = this.parent.getContentHeight();\n        var gantttable = document.getElementById(this.parent.element.id);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = (this.parent.height === 'auto') ? gantttable.offsetHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight :\n            this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        var top = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n        var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].style.top = formatUnit(top);\n        }\n    };\n    /**\n     * Method to update height for all internal containers\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.updateContainerHeight = function () {\n        var height = this.parent.getContentHeight();\n        if (this.holidayContainer) {\n            this.holidayContainer.style.height = formatUnit(height);\n            this.updateHolidayLabelHeight();\n        }\n        if (this.weekendContainer) {\n            this.weekendContainer.style.height = formatUnit(height);\n        }\n    };\n    /**\n     * Method to remove containers of holiday and weekend\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.removeContainers = function () {\n        if (this.holidayContainer) {\n            remove(this.holidayContainer);\n        }\n        if (this.weekendContainer) {\n            remove(this.weekendContainer);\n        }\n        if (this.nonworkingContainer) {\n            remove(this.nonworkingContainer);\n        }\n    };\n    return NonWorkingDay;\n}());\nexport { NonWorkingDay };\n","import { createElement, formatUnit, remove, isNullOrUndefined, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(gantt) {\n        this.parent = gantt;\n        this.eventMarkersContainer = null;\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.renderEventMarkers = function () {\n        if (this.parent.eventMarkers && this.parent.eventMarkers.length > 0) {\n            if (!this.parent.ganttChartModule.chartBodyContent.contains(this.eventMarkersContainer)) {\n                this.eventMarkersContainer = createElement('div', {\n                    className: cls.eventMarkersContainer\n                });\n                this.eventMarkersContainer.setAttribute('role', 'term');\n                this.parent.ganttChartModule.chartBodyContent.appendChild(this.eventMarkersContainer);\n            }\n            this.eventMarkersContainer.innerHTML = '';\n            this.getEventMarkersElements(this.eventMarkersContainer);\n        }\n        else {\n            this.removeContainer();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.removeContainer = function () {\n        if (this.eventMarkersContainer) {\n            remove(this.eventMarkersContainer);\n            this.eventMarkersContainer = null;\n        }\n    };\n    /**\n     * Method to get event markers as html string\n     *\n     * @param {HTMLElement} container .\n     * @returns {void} .\n     */\n    EventMarker.prototype.getEventMarkersElements = function (container) {\n        var left;\n        var eventMarkerElement;\n        var spanElement;\n        var rightArrow;\n        var eventMarkerCollection = [];\n        for (var i = 0; i < this.parent.eventMarkers.length; i++) {\n            if (!isNullOrUndefined(this.parent.eventMarkers[i].day)) {\n                this.parent['isFromEventMarker'] = true;\n                left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true), false, true);\n                this.parent['isFromEventMarker'] = false;\n                eventMarkerCollection.push({ id: i, left: left, label: this.parent.eventMarkers[i].label,\n                    date: this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true) });\n                var align = void 0;\n                if (this.parent.enableRtl) {\n                    align = \"right:\" + left + \"px;\";\n                }\n                else {\n                    align = \"left:\" + left + \"px;\";\n                }\n                eventMarkerElement = createElement('div', {\n                    className: cls.eventMarkersChild, styles: align + \"  height:100%;\",\n                    id: 'stripline' + i\n                });\n                if (this.parent.eventMarkers[i].label) {\n                    spanElement = createElement('div', {\n                        className: cls.eventMarkersSpan\n                    });\n                    var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n                    spanElement[property] = this.parent.eventMarkers[i].label;\n                    if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                        spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n                    }\n                    if (this.parent.enableRtl) {\n                        spanElement.style.right = '5px';\n                    }\n                    else {\n                        spanElement.style.left = '5px';\n                    }\n                    eventMarkerElement.appendChild(spanElement);\n                    rightArrow = createElement('div', {\n                        className: 'e-gantt-right-arrow'\n                    });\n                    eventMarkerElement.appendChild(rightArrow);\n                }\n                if (this.parent.eventMarkers[i].cssClass) {\n                    eventMarkerElement.classList.add(this.parent.eventMarkers[i].cssClass);\n                }\n                eventMarkerElement.setAttribute('tabindex', '-1');\n                eventMarkerElement.setAttribute('aria-label', this.parent.localeObj.getConstant('eventMarkers') + ' '\n                    + (typeof this.parent.eventMarkers[i].day === 'string' ?\n                        this.parent.eventMarkers[i].day :\n                        this.parent.getFormatedDate(this.parent.eventMarkers[i].day))\n                    + ' ' + this.parent.eventMarkers[i].label);\n                container.appendChild(eventMarkerElement);\n            }\n        }\n        this.parent.eventMarkerColloction = eventMarkerCollection;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.updateContainerHeight = function () {\n        if (this.eventMarkersContainer) {\n            this.eventMarkersContainer.style.height = formatUnit(this.parent.getContentHeight());\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","import { NonWorkingDay } from '../renderer/nonworking-day';\nimport { EventMarker } from '../renderer/event-marker';\nimport { getValue } from '@syncfusion/ej2-base';\n/**\n * DayMarkers module is used to render event markers, holidays and to highlight the weekend days.\n */\nvar DayMarkers = /** @class */ (function () {\n    function DayMarkers(parent) {\n        this.parent = parent;\n        this.nonworkingDayRender = new NonWorkingDay(this.parent);\n        this.eventMarkerRender = new EventMarker(this.parent);\n        this.wireEvents();\n    }\n    DayMarkers.prototype.wireEvents = function () {\n        this.parent.on('refreshDayMarkers', this.refreshMarkers, this);\n        this.parent.on('updateHeight', this.updateHeight, this);\n        this.parent.on('ui-update', this.propertyChanged, this);\n    };\n    DayMarkers.prototype.propertyChanged = function (property) {\n        var keys = Object.keys(getValue('properties', property));\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            switch (key) {\n                case 'eventMarkers':\n                    this.eventMarkerRender.renderEventMarkers();\n                    this.updateHeight();\n                    break;\n                case 'highlightWeekends':\n                    this.nonworkingDayRender.renderWeekends();\n                    this.updateHeight();\n                    break;\n                case 'holidays':\n                    this.nonworkingDayRender.renderHolidays();\n                    this.updateHeight();\n                    break;\n            }\n        }\n    };\n    DayMarkers.prototype.refreshMarkers = function () {\n        this.nonworkingDayRender.renderWeekends();\n        this.nonworkingDayRender.renderHolidays();\n        if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n            this.parent['renderChartVerticalLines']();\n        }\n        this.eventMarkerRender.renderEventMarkers();\n    };\n    DayMarkers.prototype.updateHeight = function () {\n        this.nonworkingDayRender.updateContainerHeight();\n        this.eventMarkerRender.updateContainerHeight();\n    };\n    /**\n     * To get module name\n     *\n     * @returns {string} .\n     */\n    DayMarkers.prototype.getModuleName = function () {\n        return 'dayMarkers';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DayMarkers.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nonworkingDayRender.removeContainers();\n        this.eventMarkerRender.removeContainer();\n        this.parent.off('refreshDayMarkers', this.refreshMarkers);\n        this.parent.off('updateHeight', this.updateHeight);\n        this.parent.off('ui-update', this.propertyChanged);\n    };\n    return DayMarkers;\n}());\nexport { DayMarkers };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\n/** @hidden */\nvar CriticalPath = /** @class */ (function () {\n    function CriticalPath(parent) {\n        this.validatedids = [];\n        this.resourceCollectionIds = [];\n        this.criticalTasks = [];\n        this.parent = parent;\n    }\n    CriticalPath.prototype.getCriticalTasks = function () {\n        return this.criticalTasks;\n    };\n    CriticalPath.prototype.showCriticalPath = function (isCritical) {\n        var modelIds = this.parent.ids;\n        var totalRecords = this.parent.flatData;\n        if (isCritical && this.parent.flatData.length > 0) {\n            this.parent.enableCriticalPath = true;\n            var parentRecords = this.parent.treeGrid.parentData;\n            var checkEndDate = parentRecords[0].ganttProperties.endDate;\n            var dateDifference = 0;\n            /* eslint-disable-next-line */\n            var checkBeyondEnddate_1 = [];\n            var totalPredecessorsCollection = [];\n            var totalPredecessorsCollectionId = [];\n            var predecessorIndex = 0;\n            var taskBeyondEnddate = [];\n            var predecessorTaskBeyondEnddate = [];\n            var collection = [];\n            var collectionTaskId = [];\n            var fromDataObject = [];\n            var criticalPathIds = [];\n            this.criticalTasks = [];\n            /* eslint-disable-next-line */\n            if (parentRecords[0].ganttProperties.autoEndDate > parentRecords[0].ganttProperties.endDate && !parentRecords[0].ganttProperties.isAutoSchedule) {\n                checkEndDate = parentRecords[0].ganttProperties.autoEndDate;\n            }\n            // Find the total project endDate\n            for (var i = 1; i < parentRecords.length; i++) {\n                if (parentRecords[i].ganttProperties.endDate >= checkEndDate) {\n                    checkEndDate = parentRecords[i].ganttProperties.endDate;\n                }\n                if (!parentRecords[i].ganttProperties.isAutoSchedule) {\n                    if (parentRecords[i].ganttProperties.autoEndDate >= checkEndDate) {\n                        checkEndDate = parentRecords[i].ganttProperties.autoEndDate;\n                    }\n                }\n            }\n            this.maxEndDate = checkEndDate;\n            // find the tasks that ends on total project end date that stored in checkBeyondEnddate\n            // find the tasks with predecessor that stored in totalPredecessorsCollectionId.\n            for (var j = 0; j < totalRecords.length; j++) {\n                totalRecords[j].isCritical = false;\n                totalRecords[j].ganttProperties.isCritical = false;\n                /* eslint-disable-next-line */\n                dateDifference = this.parent.dataOperation.getDuration(totalRecords[j].ganttProperties.endDate, checkEndDate, totalRecords[j].ganttProperties.durationUnit, totalRecords[j].ganttProperties.isAutoSchedule, totalRecords[j].ganttProperties.isMilestone);\n                totalRecords[j].slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                totalRecords[j].ganttProperties.slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                if (totalRecords[j].ganttProperties.endDate >= checkEndDate) {\n                    checkBeyondEnddate_1.push(totalRecords[j].ganttProperties.taskId);\n                }\n                if (totalRecords[j].ganttProperties.predecessor) {\n                    if (totalRecords[j].ganttProperties.predecessor.length !== 0) {\n                        totalPredecessorsCollection.push(totalRecords[j]);\n                        totalPredecessorsCollectionId.push((totalRecords[j].ganttProperties.taskId));\n                    }\n                }\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                for (var i = 0; i < this.parent.taskIds.length; i++) {\n                    this.resourceCollectionIds[i] = this.parent.taskIds[i].slice(1);\n                }\n            }\n            var _loop_1 = function (k) {\n                if (totalPredecessorsCollectionId.indexOf(checkBeyondEnddate_1[k]) === -1) {\n                    if (this_1.parent.viewType === 'ProjectView') {\n                        predecessorIndex = modelIds.indexOf(checkBeyondEnddate_1[k].toString());\n                    }\n                    else {\n                        var currentRecords = this_1.parent.currentViewData.filter(function (data) {\n                            return parseInt(data.ganttProperties.taskId, 10) === checkBeyondEnddate_1[k];\n                        });\n                        for (var i = 0; i < currentRecords.length; i++) {\n                            if (!currentRecords[i].hasChildRecords &&\n                                currentRecords[i].ganttProperties.endDate >= this_1.maxEndDate) {\n                                predecessorIndex = currentRecords[i].index;\n                            }\n                        }\n                    }\n                    if (totalRecords[predecessorIndex].ganttProperties.progress < 100) {\n                        totalRecords[predecessorIndex].isCritical = true;\n                        totalRecords[predecessorIndex].ganttProperties.isCritical = true;\n                    }\n                    totalRecords[predecessorIndex]['slack'] = 0 + ' ' + totalRecords[predecessorIndex].ganttProperties.durationUnit;\n                    taskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n                else {\n                    predecessorTaskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n            };\n            var this_1 = this;\n            // seperate the predecessor connected taskes from the individual taskes that ends on total project end date\n            for (var k = 0; k < checkBeyondEnddate_1.length; k++) {\n                _loop_1(k);\n            }\n            var predecessorLength = totalPredecessorsCollection.length;\n            var endTask = [];\n            // find the detail collection of predecessor for each taskes that stored in collection.\n            for (var x = 0; x < predecessorLength; x++) {\n                var to = -1;\n                var from = -1;\n                var toPredecessor = -1;\n                var fromPredecessor = -1;\n                var tempTaskId = void 0;\n                var currentIndex = x;\n                var predecessor = totalPredecessorsCollection[x].ganttProperties.predecessor;\n                var individualPredecessorLength = totalPredecessorsCollection[x].ganttProperties.predecessor.length;\n                /* eslint-disable-next-line */\n                var taskid = ((totalPredecessorsCollection[x].ganttProperties.taskId));\n                for (var y = 0; y < individualPredecessorLength; y++) {\n                    if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].from), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (to === -1) {\n                            if (!predecessor[y].offset) {\n                                to = predecessor[y].to;\n                                toPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                to = predecessor[y].to + ':' + predecessor[y].offset + predecessor[y].offsetUnit;\n                                toPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                to = to + ',' + predecessor[y].to;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                to = to + ',' + predecessor[y].to + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                    if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].to), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (from === -1) {\n                            if (!predecessor[y].offset) {\n                                from = predecessor[y].from;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                from = predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                from = from + ',' + predecessor[y].from;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                from = from + ',' + predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                }\n                if (from === -1) {\n                    from = null;\n                    fromPredecessor = null;\n                }\n                if (to === -1) {\n                    to = null;\n                    toPredecessor = null;\n                }\n                /* eslint-disable-next-line */\n                collection.push({ from: from, fromPredecessor: fromPredecessor, taskid: taskid, to: to, toPredecessor: toPredecessor, currentIndex: currentIndex, slack: null, enddate: null });\n                collectionTaskId.push(taskid);\n            }\n            var collectionLength = collection.length;\n            var indexEnddate = 0;\n            var num = void 0;\n            // find the predecessors connected taskes that does not contains any successor.\n            for (var z = 0; z < collectionLength; z++) {\n                if (!collection[z]['to']) {\n                    num = collection[z]['taskid'];\n                    if (this.parent.viewType === 'ProjectView') {\n                        indexEnddate = modelIds.indexOf(num.toString());\n                    }\n                    else {\n                        indexEnddate = this.resourceCollectionIds.indexOf(num.toString());\n                    }\n                    var flatData = totalRecords[indexEnddate].ganttProperties;\n                    dateDifference = this.parent.dataOperation.getDuration(flatData.endDate, checkEndDate, 'minute', flatData.isAutoSchedule, flatData.isMilestone);\n                    collection[z]['slack'] = dateDifference;\n                    collection[z]['fs'] = -1;\n                    collection[z]['enddate'] = flatData.endDate;\n                    endTask.push({\n                        fromdata: collection[z]['from'], todateID: collection[z]['taskid'],\n                        fromDataPredecessor: collection[z]['fromPredecessor']\n                    });\n                }\n            }\n            for (var k = 0; k < endTask.length; k++) {\n                fromDataObject.push(endTask[k]);\n                this.slackCalculation(fromDataObject, collection, collectionTaskId, checkEndDate, totalRecords, modelIds);\n            }\n            criticalPathIds = this.finalCriticalPath(collection, taskBeyondEnddate, totalRecords, modelIds, checkEndDate);\n            this.validatedids = [];\n            this.criticalPathCollection = criticalPathIds;\n            this.detailPredecessorCollection = collection;\n            this.predecessorCollectionTaskIds = collectionTaskId;\n        }\n        if (isCritical === false && this.parent.flatData.length > 0) {\n            var pathIndex = void 0;\n            this.parent.enableCriticalPath = false;\n            for (var z = 0; z < this.criticalPathCollection.length; z++) {\n                pathIndex = modelIds.indexOf(this.criticalPathCollection[z].toString());\n                totalRecords[pathIndex].isCritical = false;\n            }\n            this.criticalPathCollection = [];\n            this.detailPredecessorCollection = [];\n            this.predecessorCollectionTaskIds = [];\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.slackCalculation = function (fromDataObject, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds) {\n        var fromDateArray = fromDataObject[0]['fromdata'].split(',');\n        var fromDataPredecessor = fromDataObject[0]['fromDataPredecessor'].split(',');\n        collectionTaskId = collectionTaskId.toString();\n        collectionTaskId = collectionTaskId.split(',');\n        var fromDateArray1 = [];\n        var fromTaskIdIndex;\n        var indexFromTaskId;\n        var indexToTaskId;\n        var totaskId;\n        var dateDifference;\n        var prevTaskEnddate;\n        var offsetInMillSec;\n        var ffslack;\n        for (var i = 0; i < fromDateArray.length; i++) {\n            fromDateArray1 = fromDateArray[i].split(':');\n            fromTaskIdIndex = collectionTaskId.indexOf((fromDateArray1[0].toString()));\n            totaskId = collectionTaskId.indexOf((fromDataObject[0]['todateID'].toString()));\n            if (this.parent.viewType === 'ProjectView') {\n                indexFromTaskId = modelRecordIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = modelRecordIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            else {\n                indexFromTaskId = this.resourceCollectionIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = this.resourceCollectionIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            var fromIdFlatData = void 0;\n            if (indexFromTaskId !== -1) {\n                fromIdFlatData = flatRecords[indexFromTaskId].ganttProperties;\n            }\n            var toIdFlatData = flatRecords[indexToTaskId].ganttProperties;\n            if (fromDateArray1.length > 1) {\n                if (fromDateArray1[1].indexOf('hour') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * 60;\n                }\n                else if (fromDateArray1[1].indexOf('day') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * (this.parent.secondsPerDay / 3600) * 60;\n                }\n                else {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]);\n                }\n            }\n            if (fromIdFlatData && fromTaskIdIndex !== -1) {\n                // calculate slack value for the task contains predecessor connection in \"finish to start\".\n                if (fromDataPredecessor[i] === 'FS') {\n                    if (fromIdFlatData.endDate > toIdFlatData.startDate) {\n                        dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.startDate, fromIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                    }\n                    else {\n                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.endDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                    }\n                    // execute if the slack value is not set initially.\n                    if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the current calculated slack value is less than the previous slack value.\n                    else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                        collection[fromTaskIdIndex]['slack'] !== 0) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the offset value is given.\n                    if (fromDateArray1.length > 1) {\n                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                        collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                        if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                            collection[fromTaskIdIndex]['slack'] = 0;\n                        }\n                    }\n                    collection[fromTaskIdIndex]['fs'] = 1;\n                    collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                    collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    if (fromIdFlatData.endDate >= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to start\".\n                if (fromDataPredecessor[i] === 'SS') {\n                    // It execute if the task is in auto mode.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        if (fromIdFlatData.startDate > toIdFlatData.startDate) {\n                            dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                        }\n                        else {\n                            dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                        }\n                        // It execute while the slack value is not set to the corresponding task.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        //It execute while already the slack value is set and it is higher than the datedifference.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['fs'] = 1;\n                        collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                        collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    }\n                    // It execute if the task is in not an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"finish to finish\".\n                if (fromDataPredecessor[i] === 'FF') {\n                    // execute if the previous task is from finish to start or finish to finish state.\n                    if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1 ||\n                        collection[totaskId]['fs'] === -1) {\n                        if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1) {\n                            prevTaskEnddate = toIdFlatData.endDate;\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (collection[totaskId]['fs'] === -1) {\n                            prevTaskEnddate = collection[totaskId]['enddate'];\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (prevTaskEnddate > fromIdFlatData.endDate) {\n                            dateDifference = -(this.getSlackDuration(fromIdFlatData.endDate, prevTaskEnddate, 'minute', flatRecords[indexFromTaskId]));\n                        }\n                        else {\n                            dateDifference = this.getSlackDuration(prevTaskEnddate, fromIdFlatData.endDate, 'minute', flatRecords[indexFromTaskId]);\n                        }\n                        // set the slack value if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // overright the slack value if the current calculated slack value is less than the previous slack value.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] - dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['ff'] = 1;\n                        collection[fromTaskIdIndex]['enddate'] = prevTaskEnddate;\n                        collection[fromTaskIdIndex]['fsslack'] = ffslack;\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to finish\".\n                if (fromDataPredecessor[i] === 'SF') {\n                    //It execute if the task is an auto mode task.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        //execute if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                // execute if the previous task does no has sucessor.\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                    collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                }\n                                // execute if the previous task has sucessor.\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                    if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                    else {\n                                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    }\n                                }\n                            }\n                            // execute if the offset value is given.\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate >= fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                        else {\n                            if (fromDateArray1.length <= 1) {\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                        collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                    }\n                                    else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                        if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                            collection[fromTaskIdIndex]['slack'] = 0;\n                                        }\n                                        else {\n                                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                        }\n                                    }\n                                }\n                            }\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate > fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                    if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                    }\n                    //It execute if the task is an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                if (collection[fromTaskIdIndex]['from']) {\n                    var data = [];\n                    data.push({\n                        fromdata: collection[fromTaskIdIndex]['from'], todateID: collection[fromTaskIdIndex]['taskid'],\n                        fromDataPredecessor: collection[fromTaskIdIndex]['fromPredecessor']\n                    });\n                    this.slackCalculation(data, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds);\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getSlackDuration = function (sDate, eDate, durationUnit, record) {\n        var startDate = this.parent.dateValidationModule.checkStartDate(new Date(sDate));\n        var endDate = this.parent.dateValidationModule.checkEndDate(new Date(eDate));\n        if (this.parent.dataOperation['getTimeDifference'](startDate, endDate, true) <= 0) {\n            return 0;\n        }\n        else {\n            return this.parent.dataOperation.getDuration(startDate, endDate, durationUnit, record.ganttProperties.isAutoSchedule, true);\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.updateCriticalTasks = function (record, criticalPathIds) {\n        for (var i = 0; i < record.ganttProperties.predecessor.length; i++) {\n            var fromRecord = void 0;\n            if (this.parent.viewType === 'ProjectView') {\n                fromRecord = this.parent.getRecordByID(record.ganttProperties.predecessor[i].from);\n            }\n            else {\n                var resourceIndex = this.resourceCollectionIds.indexOf(record.ganttProperties.predecessor[i].from.toString());\n                fromRecord = this.parent.flatData[resourceIndex];\n            }\n            var durationDiff = void 0;\n            if (record.ganttProperties.endDate && record.ganttProperties.endDate.getTime() >= this.maxEndDate.getTime()) {\n                record.ganttProperties.slack = record.slack = 0 + ' ' + record.ganttProperties.durationUnit;\n                if (record.ganttProperties.progress < 100) {\n                    record.isCritical = true;\n                    record.ganttProperties.isCritical = true;\n                    if (criticalPathIds.indexOf(record.ganttProperties.taskId) === -1) {\n                        criticalPathIds.push(record.ganttProperties.taskId);\n                    }\n                }\n            }\n            if (fromRecord) {\n                if (record.ganttProperties.predecessor[i].type === 'FS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.startDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'FF') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.endDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SF') {\n                    durationDiff = this.parent.dataOperation.getDuration(record.ganttProperties.endDate, fromRecord.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                if (durationDiff >= 0 && this.validatedids.indexOf(parseInt(fromRecord.ganttProperties.taskId, 10)) === -1 &&\n                    fromRecord.ganttProperties.taskId !== record.ganttProperties.taskId) {\n                    fromRecord.ganttProperties.slack = record.ganttProperties.slack;\n                    fromRecord.slack = record.slack;\n                    fromRecord.isCritical = record.ganttProperties.isCritical;\n                    fromRecord.ganttProperties.isCritical = record.ganttProperties.isCritical;\n                    if (criticalPathIds.indexOf(fromRecord.ganttProperties.taskId) === -1 && fromRecord.ganttProperties.isCritical &&\n                        fromRecord.ganttProperties.progress < 100) {\n                        criticalPathIds.push(fromRecord.ganttProperties.taskId);\n                        this.validatedids.push(parseInt(fromRecord.ganttProperties.taskId, 10));\n                        if (this.criticalTasks.indexOf(fromRecord) === -1) {\n                            this.criticalTasks.push(fromRecord);\n                        }\n                    }\n                    if (fromRecord.ganttProperties.predecessorsName) {\n                        this.updateCriticalTasks(fromRecord, criticalPathIds);\n                    }\n                }\n            }\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.finalCriticalPath = function (collection, taskBeyondEnddate, flatRecords, modelRecordIds, checkEndDate) {\n        /* eslint-disable-next-line */\n        var criticalPathIds = [];\n        var index;\n        var predecessorFrom;\n        for (var x = collection.length - 1; x >= 0; x--) {\n            if (this.parent.viewType === 'ProjectView') {\n                index = modelRecordIds.indexOf(collection[x]['taskid'].toString());\n            }\n            else {\n                index = this.resourceCollectionIds.indexOf(collection[x]['taskid'].toString());\n            }\n            var predecessorLength = flatRecords[index].ganttProperties.predecessor;\n            var noSlackValue = 0 + ' ' + flatRecords[index].ganttProperties.durationUnit;\n            if (predecessorLength && predecessorLength.length > 0) {\n                for (var i = predecessorLength.length - 1; i >= 0; i--) {\n                    var toID = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        toID = this.parent.ids.indexOf(predecessorLength[i].to);\n                    }\n                    else {\n                        toID = this.resourceCollectionIds.indexOf(predecessorLength[i].to);\n                    }\n                    var dateDifference = void 0;\n                    var currentData = flatRecords[index].ganttProperties;\n                    if (toID !== -1) {\n                        if (predecessorLength[i].type === 'FS') {\n                            if (predecessorLength[i].to !== currentData.taskId.toString()) {\n                                if (predecessorLength[i].to !== currentData.taskId.toString() || this.parent.viewType === 'ResourceView') {\n                                    /* eslint-disable-next-line */\n                                    dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                }\n                                else {\n                                    toID = this.parent.ids.indexOf(predecessorLength[i].from);\n                                    if (toID !== -1) {\n                                        dateDifference = this.parent.dataOperation.getDuration(flatRecords[toID].ganttProperties.endDate, currentData.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                        if (dateDifference === 0 && index !== toID && flatRecords[index].slack === noSlackValue) {\n                                            flatRecords[toID].slack = flatRecords[index].slack;\n                                            flatRecords[toID].ganttProperties.slack = flatRecords[index].slack;\n                                        }\n                                    }\n                                }\n                                if (toID !== -1) {\n                                    if (dateDifference === 0 && index !== toID && flatRecords[index].slack !== noSlackValue) {\n                                        flatRecords[index].slack = flatRecords[toID].slack;\n                                        flatRecords[index].ganttProperties.slack = flatRecords[toID].slack;\n                                    }\n                                    else if (dateDifference !== 0 && index !== toID && flatRecords[toID].isCritical) {\n                                        flatRecords[index].slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                        flatRecords[index].ganttProperties.slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                    }\n                                }\n                            }\n                        }\n                        else if (predecessorLength[i].type === 'SF') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else if (predecessorLength[i].type === 'SS') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        if (typeof (flatRecords[index][this.parent.taskFields.id]) === 'number') {\n                            predecessorFrom = parseInt(predecessorLength[i].from, 10);\n                        }\n                        else {\n                            predecessorFrom = predecessorLength[i].from;\n                        }\n                        if (predecessorFrom === flatRecords[index][this.parent.taskFields.id] &&\n                            flatRecords[toID].slack === noSlackValue && dateDifference <= 0) {\n                            flatRecords[index].slack = noSlackValue;\n                            flatRecords[index].ganttProperties.slack = noSlackValue;\n                        }\n                    }\n                }\n            }\n            if (flatRecords[index].slack === noSlackValue) {\n                if (flatRecords[index].ganttProperties.progress < 100) {\n                    flatRecords[index].isCritical = true;\n                    flatRecords[index].ganttProperties.isCritical = true;\n                    if (this.criticalTasks.indexOf(flatRecords[index]) === -1) {\n                        this.criticalTasks.push(flatRecords[index]);\n                    }\n                    if (criticalPathIds.indexOf(collection[x]['taskid']) === -1) {\n                        criticalPathIds.push(collection[x]['taskid']);\n                    }\n                }\n            }\n            if (flatRecords[index].ganttProperties.predecessor &&\n                flatRecords[index].ganttProperties.predecessor.length > 0) {\n                this.updateCriticalTasks(flatRecords[index], criticalPathIds);\n            }\n        }\n        if (taskBeyondEnddate.length > 0) {\n            for (var i = 0; i < taskBeyondEnddate.length; i++) {\n                if (this.parent.viewType === 'ProjectView') {\n                    index = modelRecordIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                else {\n                    index = this.resourceCollectionIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                if (index !== -1 && flatRecords[index].ganttProperties.progress < 100) {\n                    this.criticalTasks.push(flatRecords[index]);\n                    if (criticalPathIds.indexOf(taskBeyondEnddate[i]) === -1) {\n                        criticalPathIds = criticalPathIds.concat(taskBeyondEnddate[i]);\n                    }\n                }\n            }\n        }\n        return criticalPathIds;\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.criticalConnectorLine = function (criticalPathIds, collection, condition, collectionTaskId) {\n        this.parent.removeCriticalPathStyles();\n        var _loop_2 = function (i) {\n            var criticalData;\n            if (this_2.parent.viewType === 'ProjectView') {\n                criticalData = this_2.parent.flatData[this_2.parent.ids.indexOf(criticalPathIds[i].toString())];\n            }\n            else {\n                var currentRecords = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId).toString() === criticalPathIds[i].toString();\n                });\n                for (var i_1 = 0; i_1 < currentRecords.length; i_1++) {\n                    if (currentRecords[i_1].ganttProperties.isCritical ||\n                        currentRecords[i_1].ganttProperties.endDate >= this_2.maxEndDate) {\n                        criticalData = currentRecords[i_1];\n                    }\n                }\n            }\n            var index = this_2.parent.currentViewData.indexOf(criticalData);\n            var element = this_2.parent.getRowByIndex(index);\n            var taskClass = void 0;\n            var columnFields = this_2.parent.taskFields;\n            if (criticalData && criticalData.parentItem) {\n                var parentRecord = this_2.parent.currentViewData.filter(function (data) {\n                    return criticalData.parentItem.uniqueID === data.uniqueID;\n                });\n                var parentIndex = this_2.parent.flatData.indexOf(parentRecord[0]);\n                var parentElement = this_2.parent.getRowByIndex(parentIndex);\n                if (parentElement) {\n                    var parentTaskbarElement = parentElement.querySelectorAll('.e-taskbar-main-container');\n                    for (var i_2 = 0; i_2 < parentTaskbarElement.length; i_2++) {\n                        if (parentTaskbarElement[i_2].getAttribute('rowuniqueid') === criticalData['rowUniqueID']) {\n                            addClass(parentTaskbarElement[i_2].querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                        }\n                    }\n                }\n            }\n            /* eslint-disable-next-line */\n            if (this_2.parent.allowUnscheduledTasks && criticalData && !criticalData[columnFields.startDate] && !criticalData[columnFields.endDate] && criticalData[columnFields.duration]) {\n                taskClass = cls.criticalUnscheduledTask;\n            }\n            else {\n                taskClass = cls.criticalChildProgressBarInnerDiv;\n            }\n            if (element && (this_2.parent.viewType === 'ProjectView' || (this_2.parent.viewType === 'ResourceView' &&\n                !criticalData.hasChildRecords))) {\n                if (element.getElementsByClassName('e-gantt-milestone')[0]) {\n                    addClass(element.querySelectorAll('.e-gantt-milestone'), cls.criticalMilestone);\n                }\n                if (element.getElementsByClassName('e-gantt-child-taskbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                }\n                if (element.getElementsByClassName('e-gantt-child-progressbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-progressbar-inner-div'), taskClass);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < criticalPathIds.length; i++) {\n            _loop_2(i);\n        }\n        if (collection.length !== 0) {\n            var index = 0;\n            var currentdata = void 0;\n            var checking = [];\n            /* eslint-disable-next-line */\n            var checkint = void 0;\n            var values = void 0;\n            for (var i = 0; i < this.criticalPathCollection.length; i++) {\n                index = collectionTaskId.indexOf(this.criticalPathCollection[i]);\n                currentdata = collection[index];\n                if (index !== -1 && currentdata['to']) {\n                    checking = currentdata['to'].split(',');\n                    for (var j = 0; j < checking.length; j++) {\n                        values = checking[j].split('+');\n                        if (checking[j].indexOf('-') >= 0) {\n                            values = checking[j].split('-');\n                        }\n                        checkint = (values[0].replace(':', ''));\n                        if (typeof (criticalPathIds[j]) === 'number') {\n                            checkint = parseInt(values[0], 10);\n                        }\n                        if (criticalPathIds.indexOf(checkint) !== -1) {\n                            var taskIdString = String(currentdata['taskid']);\n                            var checkintString = String(checkint);\n                            var lineElement = this.parent.element.querySelectorAll('#ConnectorLineparent' +\n                                taskIdString.replace(/([.])/g, '\\\\$1') + 'child' + checkintString.replace(/([.])/g, '\\\\$1'));\n                            if (lineElement.length > 0) {\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getModuleName = function () {\n        return 'criticalPath';\n    };\n    /**\n     * Destroys the Critical Path of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    CriticalPath.prototype.destroy = function () {\n        if (!this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            this.parent.criticalPathModule = undefined;\n        }\n    };\n    return CriticalPath;\n}());\nexport { CriticalPath };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar UndoRedo = /** @class */ (function () {\n    function UndoRedo(parent) {\n        this.isUndoRedoPerformed = false;\n        this.changedRecords = [];\n        this.getRedoCollection = [];\n        this.getUndoCollection = [];\n        this.redoEnabled = false;\n        this.previousSortedColumns = [];\n        this.searchString = '';\n        this.isFromUndoRedo = false;\n        this.canUpdateIndex = true;\n        this.sortedColumnsLength = 0;\n        this.parent = parent;\n    }\n    /**\n     *Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.undoAction = function () {\n        var _this = this;\n        if (this.getUndoCollection.length > 0) {\n            var updateAction_1 = this.getUndoCollection[this.getUndoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = this.previousSortedColumns;\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction_1['filteredColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['toColumn'] = updateAction_1['fromColumn'];\n                previousActions['fromColumn'] = updateAction_1['toColumn'];\n                previousActions['fromIndex'] = updateAction_1['toIndex'];\n                previousActions['toIndex'] = updateAction_1['fromIndex'];\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['searchString'] = this.searchString;\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['showhideColumns'] = updateAction_1['showhideColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]);\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction_1['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction_1['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction_1['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction_1['action'];\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deleteRecords'] = [];\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    previousActions['deleteRecords'].push(updateAction_1['deletedRecordsDetails'][i].data);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['deletedRecordsDetails'] = [];\n                var rowItems = updateAction_1['addedRecords'];\n                this.findPosition(rowItems, previousActions, 'deletedRecordsDetails');\n            }\n            else {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction_1['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction_1['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction_1['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getRedoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.changedRecords = [];\n            this.currentAction = updateAction_1;\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                this.parent.timelineSettings.timelineViewMode = updateAction_1['previousZoomingLevel'].timelineViewMode;\n                this.parent.timelineSettings.timelineUnitSize = updateAction_1['previousZoomingLevel'].timelineUnitSize;\n                this.parent.timelineSettings.updateTimescaleView = updateAction_1['previousZoomingLevel'].updateTimescaleView;\n                this.parent.timelineSettings.topTier.unit = updateAction_1['previousZoomingLevel'].topTier.unit;\n                this.parent.timelineSettings.topTier.count = updateAction_1['previousZoomingLevel'].topTier.count;\n                this.parent.timelineSettings.topTier.format = updateAction_1['previousZoomingLevel'].topTier.format;\n                this.parent.timelineSettings.bottomTier.unit = updateAction_1['previousZoomingLevel'].bottomTier.unit;\n                this.parent.timelineSettings.bottomTier.count = updateAction_1['previousZoomingLevel'].bottomTier.count;\n                this.parent.timelineSettings.bottomTier.format = updateAction_1['previousZoomingLevel'].bottomTier.format;\n                this.parent.timelineSettings.weekStartDay = updateAction_1['previousZoomingLevel'].weekStartDay;\n                this.parent.timelineSettings.weekendBackground = updateAction_1['previousZoomingLevel'].weekendBackground;\n                if (updateAction_1['action'] === 'ZoomToFit') {\n                    this.parent.timelineModule.refreshTimeline();\n                }\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction_1['previousTimelineStartDate'], updateAction_1['previousTimelineEndDate'], false);\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction_1['sortColumns'].length > 0) {\n                    for (var i = 0; i < updateAction_1['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction_1['sortColumns'][i]['field'], updateAction_1['sortColumns'][i]['direction'], i > 0 ? true : false);\n                    }\n                }\n                else {\n                    this.parent.clearSorting();\n                }\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                this.isFromUndoRedo = true;\n                for (var i = this.getUndoCollection.length - 1; i >= 0; i--) {\n                    if (this.getUndoCollection[i]['filteredColumns']) {\n                        var columnsArray = [];\n                        for (var j = 0; j < this.getUndoCollection[i]['filteredColumns'].length; j++) {\n                            columnsArray.push(this.getUndoCollection[i]['filteredColumns'][j].field);\n                        }\n                        this.parent.clearFiltering(columnsArray);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction_1['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction_1['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction_1['searchString']);\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction_1['showhideColumns'].length; i++) {\n                    if (updateAction_1['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]['width'] = updateAction_1['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction_1['beforeDrop'][i].position);\n                    this.parent.updateRecordByID(updateAction_1['beforeDrop'][i].data);\n                    if (updateAction_1['afterDrop'].dropPosition === 'child') {\n                        this.parent.updateRecordByID(updateAction_1['afterDrop'].dropRecord);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                this.parent.selectRow(this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString()));\n                if (updateAction_1['action'] === 'Indent') {\n                    this.parent.outdent();\n                }\n                else {\n                    this.parent.indent();\n                }\n                setTimeout(function () {\n                    _this.isUndoRedoPerformed = true;\n                    _this.parent.updateRecordByID(updateAction_1['droppedRecord']);\n                    _this.isUndoRedoPerformed = false;\n                });\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                var rowIndex = void 0;\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowIndex = this.parent.ids.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    else {\n                        rowIndex = this.parent.taskIds.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    var position = void 0;\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'above') {\n                        position = 'Above';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'below') {\n                        position = 'Below';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'child') {\n                        position = 'Child';\n                    }\n                    if (isNullOrUndefined(position)) {\n                        position = updateAction_1['deletedRecordsDetails'][i].position.replace(/^./, function (char) { return char.toUpperCase(); });\n                    }\n                    this.parent.addRecord(updateAction_1['deletedRecordsDetails'][i].data, position, rowIndex);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                var deleteRec = updateAction_1['addedRecords'];\n                if (this.parent.viewType === 'ResourceView' && updateAction_1['addedRecords'].length === 1 && updateAction_1['addedRecords'][0].parentItem) {\n                    var parentRec = this.parent.getTaskByUniqueID(updateAction_1['addedRecords'][0].parentItem.uniqueID);\n                    if (parentRec.childRecords.length === 1 && parentRec.ganttProperties.taskName === 'Unassigned Task') {\n                        deleteRec = parentRec;\n                    }\n                }\n                this.parent.deleteRecord(deleteRec);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else {\n                this.parent.updateRecordByID(this.getUndoCollection[this.getUndoCollection.length - 1]['modifiedRecords'][0]);\n                if (updateAction_1['connectedRecords'] && this.parent.viewType === 'ProjectView') {\n                    for (var i = 0; i < updateAction_1['connectedRecords'].length; i++) {\n                        this.parent.updateRecordByID(updateAction_1['connectedRecords'][i]);\n                    }\n                }\n            }\n            var args = {};\n            args = extend([], [], [this.getUndoCollection[this.getUndoCollection.length - 1]], true)[0];\n            args['requestType'] = 'afterUndoAction';\n            this.parent.trigger('onAfterUndo', args);\n            this.isUndoRedoPerformed = false;\n            if (this.getRedoCollection.length > 0) {\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], true);\n                }\n                this.redoEnabled = true;\n            }\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n        else {\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     *Initiates an redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.redoAction = function () {\n        if (this.getRedoCollection.length > 0) {\n            var updateAction = this.getRedoCollection[this.getRedoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = extend([], this.parent.sortSettings.columns, [], true);\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction['filteredColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['toColumn'] = updateAction['fromColumn'];\n                previousActions['fromColumn'] = updateAction['toColumn'];\n                previousActions['fromIndex'] = updateAction['toIndex'];\n                previousActions['toIndex'] = updateAction['fromIndex'];\n            }\n            else if (updateAction['action'] === 'Search') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['searchString'] = extend([], [this.parent.searchSettings.key], [], true)[0];\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['showhideColumns'] = updateAction['showhideColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction['resizedColumn'].index]);\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = void 0;\n                if (updateAction['afterDrop'].dropRecord) {\n                    dropRecord = extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                }\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        if (updateAction['afterDrop'].data[i] !== undefined) {\n                            previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                        }\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction['action'];\n            }\n            else if (updateAction['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deletedRecordsDetails'] = [];\n                this['findPosition'](extend([], [], updateAction['deleteRecords'], true), previousActions, 'deletedRecordsDetails');\n            }\n            else if (updateAction['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['addedRecords'] = [updateAction['deletedRecordsDetails'][0].data];\n            }\n            else {\n                previousActions['action'] = updateAction['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getUndoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.currentAction = updateAction;\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                if (updateAction['action'] === 'ZoomToFit') {\n                    this.parent.fitToProject();\n                }\n                else {\n                    this.parent.timelineSettings.timelineViewMode = updateAction['previousZoomingLevel'].timelineViewMode;\n                    this.parent.timelineSettings.timelineUnitSize = updateAction['previousZoomingLevel'].timelineUnitSize;\n                    this.parent.timelineSettings.updateTimescaleView = updateAction['previousZoomingLevel'].updateTimescaleView;\n                    this.parent.timelineSettings.topTier.unit = updateAction['previousZoomingLevel'].topTier.unit;\n                    this.parent.timelineSettings.topTier.count = updateAction['previousZoomingLevel'].topTier.count;\n                    this.parent.timelineSettings.topTier.format = updateAction['previousZoomingLevel'].topTier.format;\n                    this.parent.timelineSettings.bottomTier.unit = updateAction['previousZoomingLevel'].bottomTier.unit;\n                    this.parent.timelineSettings.bottomTier.count = updateAction['previousZoomingLevel'].bottomTier.count;\n                    this.parent.timelineSettings.bottomTier.format = updateAction['previousZoomingLevel'].bottomTier.format;\n                    this.parent.timelineSettings.weekStartDay = updateAction['previousZoomingLevel'].weekStartDay;\n                    this.parent.timelineSettings.weekendBackground = updateAction['previousZoomingLevel'].weekendBackground;\n                }\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction['previousTimelineStartDate'], updateAction['previousTimelineEndDate'], false);\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction['sortColumns'].length === 0) {\n                    this.parent.clearSorting();\n                }\n                else {\n                    for (var i = 0; i < updateAction['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction['sortColumns'][i]['field'], updateAction['sortColumns'][i]['direction'], (updateAction['sortColumns'].length > 1 ? true : false));\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction['showhideColumns'].length; i++) {\n                    if (updateAction['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                for (var j = 0; j < updateAction['filteredColumns'].length; j++) {\n                    this.isFromUndoRedo = true;\n                    this.parent.filterByColumn(updateAction['filteredColumns'][j].field, updateAction['filteredColumns'][j].operator, updateAction['filteredColumns'][j].value, updateAction['filteredColumns'][j].predicate, updateAction['filteredColumns'][j].matchCase, updateAction['filteredColumns'][j].ignoreAccent);\n                }\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction['searchString']);\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction['resizedColumn'].index]['width'] = updateAction['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction['beforeDrop'][i].position);\n                }\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                this.parent.selectRow(updateAction['selectedRowIndexes'][0]);\n                if (updateAction['action'] === 'Indent') {\n                    this.parent.indent();\n                }\n                if (updateAction['action'] === 'Outdent') {\n                    this.parent.outdent();\n                }\n            }\n            else if (updateAction['action'] === 'Delete') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                this.parent.deleteRecord(updateAction['deleteRecords']);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else if (updateAction['action'] === 'Add') {\n                if (this.parent.viewType === 'ResourceView' && updateAction['deletedRecordsDetails'].length > 1) {\n                    this.parent.editModule.addRecord(extend([], [], updateAction['deletedRecordsDetails'], true));\n                }\n                else {\n                    var rowIndex = void 0;\n                    for (var i = 0; i < updateAction['deletedRecordsDetails'].length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            rowIndex = this.parent.ids.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        else {\n                            rowIndex = this.parent.taskIds.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        var position = void 0;\n                        if (updateAction['deletedRecordsDetails'][i].position === 'above') {\n                            position = 'Above';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'below') {\n                            position = 'Below';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'child') {\n                            position = 'Child';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'bottom') {\n                            position = 'Bottom';\n                        }\n                        this.parent.editModule.addRecord(updateAction['deletedRecordsDetails'][i].data, position, rowIndex);\n                    }\n                }\n            }\n            else {\n                this.parent.updateRecordByID(updateAction['modifiedRecords'][0]);\n            }\n            this.isUndoRedoPerformed = false;\n            if (this.getUndoCollection.length > 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n            }\n            this.getRedoCollection.splice(this.getRedoCollection.length - 1, 1);\n            if (this.getRedoCollection.length === 0 && this.parent.toolbarModule) {\n                this.redoEnabled = false;\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n            }\n        }\n    };\n    UndoRedo.prototype.createUndoCollection = function () {\n        if (this.parent['totalUndoAction'] + 1 > this.parent.undoRedoStepsCount && this.getUndoCollection.length === this.parent['totalUndoAction']) {\n            this.getUndoCollection.splice(0, 1);\n            this.disableRedo();\n        }\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n        }\n        if (this.getUndoCollection.length === 0) {\n            this.getUndoCollection[0] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n        else if (Object.keys(this['getUndoCollection'][this['getUndoCollection'].length - 1])['length'] > 0) {\n            this.getUndoCollection[this.getUndoCollection.length] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n    };\n    UndoRedo.prototype.disableRedo = function () {\n        this.redoEnabled = false;\n        this.getRedoCollection = [];\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n        }\n    };\n    UndoRedo.prototype.findPosition = function (rowItems, records, detail) {\n        var _loop_1 = function (i) {\n            var record = {};\n            record['data'] = rowItems[i];\n            if (this_1.parent.viewType === 'ProjectView') {\n                if (!rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length > 1) {\n                        var recIndex = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString());\n                        var previousRecord = this_1.parent.flatData[recIndex - 1];\n                        if (previousRecord.parentItem &&\n                            previousRecord.parentItem.taskId.toString() === parentItem.ganttProperties.taskId.toString()) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                        else {\n                            record['position'] = 'above';\n                            var currentData = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1];\n                            var index = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1;\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData ||\n                                    (rowData && currentData.ganttProperties.taskId.toString() !==\n                                        rowData.ganttProperties.taskId.toString())) {\n                                    if (currentData && currentData.parentItem) {\n                                        record['id'] = extend([], [currentData.ganttProperties.taskId], [], true)[0];\n                                    }\n                                    else {\n                                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                                        record['position'] = 'child';\n                                    }\n                                }\n                                else {\n                                    rowIndex++;\n                                    index++;\n                                    currentData = this_1.parent.flatData[index];\n                                }\n                            } while (!record['id']);\n                        }\n                    }\n                    else {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [parentItem.ganttProperties.taskId], [], true)[0];\n                    }\n                }\n                else if (!rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    if (this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) === this_1.parent.ids.length - 1) {\n                        record['position'] = 'below';\n                    }\n                    else {\n                        record['position'] = 'above';\n                    }\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    var rowIndex = i;\n                    do {\n                        var rowData = rowItems[rowIndex + 1];\n                        if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                            if (currentData) {\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                            else {\n                                currentData = this_1.parent.treeGrid.parentData[parentIndex - 1];\n                                if (!currentData) {\n                                    currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                }\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                        }\n                        else {\n                            rowIndex++;\n                            prevInd++;\n                            currentData = this_1.parent.treeGrid.parentData[prevInd];\n                        }\n                    } while (!record['id']);\n                }\n                else if (rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    if (parentIndex !== -1) {\n                        if (parentIndex === 0) {\n                            record['position'] = 'above';\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                                    if (!currentData) {\n                                        currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                    }\n                                    record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                                }\n                                else {\n                                    rowIndex++;\n                                    prevInd++;\n                                    currentData = this_1.parent.treeGrid.parentData[prevInd];\n                                }\n                            } while (!record['id']);\n                        }\n                        else {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.treeGrid.parentData[parentIndex - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                    }\n                }\n                else if (rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length === 1) {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                    }\n                    else {\n                        var childIndex = void 0;\n                        for (var k = 0; k < parentItem.childRecords.length; k++) {\n                            if (parentItem.childRecords[i].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                childIndex = k;\n                                break;\n                            }\n                        }\n                        if (!isNullOrUndefined(childIndex)) {\n                            if (childIndex === 0) {\n                                record['position'] = 'above';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex + 1].ganttProperties.taskId], [], true)[0];\n                            }\n                            else {\n                                record['position'] = 'below';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex - 1].ganttProperties.taskId], [], true)[0];\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (rowItems[i].parentItem) {\n                    var parentRecord = void 0;\n                    if (rowItems[i].parentItem.index) {\n                        parentRecord = this_1.parent.flatData[rowItems[i].parentItem.index];\n                    }\n                    else {\n                        parentRecord = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].parentItem.taskId)];\n                    }\n                    if (parentRecord.childRecords.length === 1) {\n                        record['position'] = 'bottom';\n                        record['id'] = 'R' + parentRecord.ganttProperties.taskId;\n                        if (detail === 'deletedIndexes') {\n                            record['position'] = 'child';\n                            record['index'] = parentRecord.index;\n                        }\n                    }\n                    else {\n                        var currentIndex = void 0;\n                        for (var j = 0; j < parentRecord.childRecords.length; j++) {\n                            if (parentRecord.childRecords[j].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                currentIndex = j;\n                                break;\n                            }\n                        }\n                        var previousRecord = parentRecord.childRecords[currentIndex - 1];\n                        if (previousRecord && previousRecord.parentItem && previousRecord.parentUniqueID === parentRecord.uniqueID) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], ['T' + this_1.parent.flatData[this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                            if (detail === 'deletedIndexes') {\n                                record['index'] = this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1;\n                            }\n                        }\n                        else {\n                            var index = void 0;\n                            if (currentIndex !== parentRecord.childRecords.length - 1) {\n                                record['position'] = 'above';\n                                if (currentIndex === 0 && parentRecord.childRecords[1]) {\n                                    index = parentRecord.childRecords[1].index;\n                                }\n                                else if (parentRecord.childRecords[currentIndex - 1]) {\n                                    index = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                                var currentData = this_1.parent.flatData[index];\n                                var recIndex = index;\n                                var rowIndex = i;\n                                do {\n                                    var rowData = rowItems[rowIndex + 1];\n                                    if (!rowData ||\n                                        (rowData && currentData.ganttProperties.taskId.toString() !==\n                                            rowData.ganttProperties.taskId.toString())) {\n                                        if (currentData.parentItem) {\n                                            record['id'] = extend([], ['T' + currentData.ganttProperties.taskId], [], true)[0];\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = extend([], [currentData.index], [], true)[0];\n                                                if (currentIndex === 0 && parentRecord.childRecords[1].ganttProperties.taskId ===\n                                                    currentData.ganttProperties.taskId) {\n                                                    record['index'] = record['index'] - 1;\n                                                }\n                                            }\n                                        }\n                                        else {\n                                            record['id'] = extend([], ['R' + rowItems[i].parentItem.taskId], [], true)[0];\n                                            record['position'] = 'child';\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = rowItems[i].parentItem.index;\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        rowIndex++;\n                                        recIndex++;\n                                        currentData = this_1.parent.flatData[recIndex];\n                                    }\n                                } while (!record['id']);\n                            }\n                            else {\n                                if (currentIndex === parentRecord.childRecords.length - 1) {\n                                    record['position'] = 'below';\n                                }\n                                else {\n                                    record['position'] = 'above';\n                                }\n                                record['id'] = 'T' + parentRecord.childRecords[currentIndex - 1].ganttProperties.taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    var parentData = this_1.parent.treeGrid.parentData.filter(function (parentData) {\n                        return parentData.ganttProperties.taskId === rowItems[i].ganttProperties.taskId;\n                    })[0];\n                    var parentDataIndex = this_1.parent.treeGrid.parentData.indexOf(parentData);\n                    if (parentDataIndex === 0) {\n                        record['position'] = 'above';\n                        var currentData = void 0;\n                        var prevInd = void 0;\n                        for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                            if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                                currentData = this_1.parent.treeGrid.parentData[k + 1];\n                                prevInd = k + 1;\n                                break;\n                            }\n                        }\n                        var rowIndex = i;\n                        do {\n                            var rowData = rowItems[rowIndex + 1];\n                            if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                                record['id'] = 'R' + currentData['ganttProperties'].taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = currentData['index'];\n                                }\n                            }\n                            else {\n                                rowIndex++;\n                                prevInd++;\n                                currentData = this_1.parent.treeGrid.parentData[prevInd];\n                            }\n                        } while (!record['id']);\n                    }\n                    else {\n                        record['position'] = 'below';\n                        record['id'] = 'R' + this_1.parent.treeGrid.parentData[parentDataIndex - 1]['ganttProperties']['taskId'];\n                        if (detail === 'deletedIndexes') {\n                            record['index'] = this_1.parent.treeGrid.parentData[parentDataIndex - 1]['index'];\n                        }\n                    }\n                }\n            }\n            if (detail === 'deletedIndexes') {\n                var parent_1 = this_1.parent.getTaskByUniqueID(record['data'].parentUniqueID);\n                if (this_1.parent.editModule.dialogModule.ganttResources.length === 0 && records[detail].indexOf(record) === -1) {\n                    records[detail].push(record);\n                }\n                else {\n                    for (var j = 0; j < this_1.parent.editModule.dialogModule.ganttResources.length; j++) {\n                        if (this_1.parent.editModule.dialogModule.ganttResources[j][this_1.parent.resourceFields.id] !==\n                            parent_1.ganttProperties.taskId && records[detail].indexOf(record) === -1) {\n                            records[detail].push(record);\n                        }\n                    }\n                }\n            }\n            else {\n                if (!records[detail].some(function (existingRecord) { return existingRecord.data.ganttProperties.taskId === record['data'].ganttProperties.taskId; })) {\n                    records[detail].push(record);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < rowItems.length; i++) {\n            _loop_1(i);\n        }\n    };\n    UndoRedo.prototype.getModuleName = function () {\n        return 'undoRedo';\n    };\n    /**\n     * Destroys the UndoRedo of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    UndoRedo.prototype.destroy = function () {\n        if (!this.parent.enableUndoRedo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule = undefined;\n        }\n    };\n    return UndoRedo;\n}());\nexport { UndoRedo };\n","import * as cons from './../base/css-constants';\nimport { TreeGrid, ContextMenu as TreeGridContextMenu } from '@syncfusion/ej2-treegrid';\nimport { remove, closest, isNullOrUndefined, getValue, extend, addClass } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\n// eslint-disable-next-line\n/**\n * The ContextMenu module is used to handle the context menu items & sub-menu items.\n *\n * @returns {void} .\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent) {\n        var _this = this;\n        this.segmentIndex = -1;\n        this.isCntxtMenuDependencyDelete = false;\n        this.headerContextMenuClick = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuClick', args);\n            }\n        };\n        this.headerContextMenuOpen = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuOpen', args);\n            }\n            else {\n                args.cancel = true;\n            }\n        };\n        this.parent = parent;\n        this.ganttID = parent.element.id;\n        TreeGrid.Inject(TreeGridContextMenu);\n        this.parent.treeGrid.contextMenuClick = this.headerContextMenuClick.bind(this);\n        this.parent.treeGrid.contextMenuOpen = this.headerContextMenuOpen.bind(this);\n        this.addEventListener();\n        this.resetItems();\n    }\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('initiate-contextMenu', this.render, this);\n        this.parent.on('reRender-contextMenu', this.reRenderContextMenu, this);\n        this.parent.on('contextMenuClick', this.contextMenuItemClick, this);\n        this.parent.on('contextMenuOpen', this.contextMenuBeforeOpen, this);\n    };\n    ContextMenu.prototype.reRenderContextMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n            }\n            this.resetItems();\n            this.render();\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.element = this.parent.createElement('ul', {\n            id: this.ganttID + '_contextmenu', className: cons.focusCell\n        });\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.ganttID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            target: target,\n            animationSettings: { effect: 'None' },\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-gantt'\n        });\n        this.contextMenu.appendTo(this.element);\n        this.parent.treeGrid.contextMenuItems = this.headerMenuItems;\n    };\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        this.item = this.getKeyFromId(args.item.id);\n        var position;\n        var data;\n        var taskfields;\n        var parentItem = getValue('parentObj', args.item);\n        var index = -1;\n        args.type = 'Content';\n        args.rowData = this.rowData;\n        this.parent.trigger('contextMenuClick', args);\n        if (parentItem && !isNullOrUndefined(parentItem.id) && this.getKeyFromId(parentItem.id) === 'DeleteDependency') {\n            index = parentItem.items.indexOf(args.item);\n        }\n        if (this.parent.isAdaptive) {\n            if (this.item === 'TaskInformation' || this.item === 'Above' || this.item === 'Below'\n                || this.item === 'Child' || this.item === 'DeleteTask') {\n                if (this.parent.selectionModule && this.parent.selectionSettings.type === 'Multiple') {\n                    this.parent.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (this.item) {\n            case 'TaskInformation':\n                if (!isNullOrUndefined(this.rowData)) {\n                    if (typeof this.rowData.ganttProperties.taskId === 'string') {\n                        this.parent.openEditDialog(this.rowData.ganttProperties.rowUniqueID);\n                    }\n                    else {\n                        this.parent.openEditDialog(Number(this.rowData.ganttProperties.rowUniqueID));\n                    }\n                }\n                break;\n            case 'Above':\n            case 'Below':\n            case 'Child':\n                if (!isNullOrUndefined(this.rowData)) {\n                    position = this.item;\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    if (data[taskfields.endDate]) {\n                        this.parent.setRecordValue(taskfields.endDate, this.rowData.ganttProperties.endDate, data, true);\n                    }\n                    if (!isNullOrUndefined(taskfields.dependency)) {\n                        data[taskfields.dependency] = null;\n                    }\n                    if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                        delete data[taskfields.child];\n                    }\n                    if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                        data[taskfields.parentID] = null;\n                    }\n                    if (this.rowData) {\n                        if (this.parent.viewType === 'ResourceView' && this.rowData.parentItem\n                            && data[this.parent.taskFields.resourceInfo]) {\n                            var parentItem_1 = this.parent.getParentTask(this.rowData.parentItem);\n                            var resourceFieldId_1 = this.parent.resourceFields.id;\n                            var taskResources = this.rowData.taskData[this.parent.taskFields.resourceInfo];\n                            var matchingResource = taskResources.find(function (resource) {\n                                return resource[resourceFieldId_1] === parentItem_1.ganttProperties.taskId;\n                            });\n                            data[this.parent.taskFields.resourceInfo] = matchingResource ? [matchingResource] : [];\n                        }\n                        var rowIndex = this.parent.updatedRecords.indexOf(this.rowData);\n                        this.parent.addRecord(data, position, rowIndex);\n                    }\n                }\n                else if (this.parent.flatData.length === 0) {\n                    this.parent.addRecord();\n                }\n                break;\n            case 'Milestone':\n            case 'ToMilestone':\n                if (!isNullOrUndefined(this.rowData)) {\n                    this.parent.convertToMilestone(this.rowData.ganttProperties.rowUniqueID);\n                }\n                else if (this.parent.flatData.length === 0 && this.item === 'Milestone') {\n                    var data_1 = this.parent.editModule.createNewRecord();\n                    var taskSettings = this.parent.taskFields;\n                    if (this.parent.taskFields['duration']) {\n                        data_1[taskSettings['duration']] = 0;\n                    }\n                    if (this.parent.taskFields['milestone']) {\n                        data_1[taskSettings['milestone']] = true;\n                    }\n                    this.parent.addRecord(data_1);\n                }\n                break;\n            case 'DeleteTask':\n                if ((this.parent.selectionSettings.mode !== 'Cell' && this.parent.selectionModule.selectedRowIndexes.length > 1)\n                    || (this.parent.selectionSettings.mode === 'Cell' && this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                    this.parent.editModule.startDeleteAction();\n                }\n                else {\n                    this.parent.editModule.deleteRecord(this.rowData);\n                }\n                break;\n            case 'ToTask':\n                if (!isNullOrUndefined(this.rowData)) {\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (!isNullOrUndefined(taskfields.duration)) {\n                        var duration = parseInt(data[taskfields.duration], 10) <= 0 ? 1 : data[taskfields.duration];\n                        data[taskfields.duration] = duration;\n                        this.parent.setRecordValue('duration', duration, this.rowData.ganttProperties, true);\n                    }\n                    else {\n                        data[taskfields.startDate] = new Date(this.rowData.taskData[taskfields.startDate]);\n                        var endDate = new Date(this.rowData.taskData[taskfields.startDate]);\n                        endDate.setDate(endDate.getDate() + 1);\n                        data[taskfields.endDate] = endDate;\n                    }\n                    if (!isNullOrUndefined(data[taskfields.milestone])) {\n                        if (data[taskfields.milestone] === true) {\n                            data[taskfields.milestone] = false;\n                        }\n                    }\n                    var taskType = !isNullOrUndefined(this.rowData.ganttProperties.taskType) ? this.rowData.ganttProperties.taskType\n                        : this.parent.taskType;\n                    if (taskType === 'FixedWork' || taskType === 'FixedUnit') {\n                        this.parent.dataOperation.updateWorkWithDuration(this.rowData);\n                        if (!isNullOrUndefined(data[taskfields.work])) {\n                            data[taskfields.work] = this.rowData.ganttProperties.work;\n                        }\n                    }\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    this.parent.updateRecordByID(data);\n                }\n                break;\n            case 'Cancel':\n                this.parent.cancelEdit();\n                break;\n            case 'Save':\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.parent.treeGrid.grid.saveCell();\n                break;\n            case 'Dependency' + index:\n                this.isCntxtMenuDependencyDelete = true;\n                this.parent.connectorLineEditModule.removePredecessorByIndex(this.rowData, index);\n                break;\n            case 'Auto':\n            case 'Manual':\n                this.parent.changeTaskMode(this.rowData);\n                break;\n            case 'Indent':\n                this.parent.indent();\n                break;\n            case 'Outdent':\n                this.parent.outdent();\n                break;\n            case 'Left':\n            case 'Right':\n                this.mergeCall(this.item);\n                break;\n            case 'SplitTask':\n                this.splitTaskCall(args);\n                break;\n        }\n    };\n    ContextMenu.prototype.splitTaskCall = function (args) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(args.element);\n        if (isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit !== 'Hour') {\n            currentClickedDate.setHours(0, 0, 0, 0);\n        }\n        var eventArgs = {\n            rowData: this.rowData,\n            requestType: 'splitTaskbar',\n            splitDate: currentClickedDate,\n            cancel: false,\n            target: this.targetElement\n        };\n        // eslint-disable-next-line\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            _this.parent.chartRowsModule.splitTask(_this.rowData[taskSettings.id], currentClickedDate);\n            _this.parent.chartRowsModule.updateSegment(_this.rowData.ganttProperties.segments, _this.rowData.ganttProperties.taskId);\n        });\n    };\n    ContextMenu.prototype.mergeCall = function (item) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var segments = this.rowData.ganttProperties.segments;\n        var firstSegment = item === 'Right' ? this.segmentIndex : segments[this.segmentIndex - 1].segmentIndex;\n        var secondSegment = item === 'Left' ? this.segmentIndex : segments[this.segmentIndex + 1].segmentIndex;\n        var segmentIndexes = [\n            { 'firstSegmentIndex': firstSegment, 'secondSegmentIndex': secondSegment }\n        ];\n        var eventArgs = {\n            rowData: this.rowData,\n            mergeSegmentIndexes: segmentIndexes,\n            requestType: 'mergeSegment',\n            cancel: false,\n            target: this.targetElement\n        };\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArgs.cancel === false) {\n                _this.parent.chartRowsModule.mergeTask(_this.rowData[taskSettings.id], segmentIndexes);\n            }\n        });\n    };\n    // eslint-disable-next-line\n    ContextMenu.prototype.getClickedDate = function (element) {\n        // context menu click position\n        var ganttElementPositionLeft;\n        // task left position\n        if (this.parent.enableRtl) {\n            var box = this.parent.element.getBoundingClientRect();\n            var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n                document.body.scrollLeft;\n            var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n            ganttElementPositionLeft = box.left + scrollLeft - clientLeft;\n        }\n        else {\n            ganttElementPositionLeft = this.parent.getOffsetRect(this.parent.element).left;\n        }\n        var pageLeft;\n        var currentTaskDifference;\n        if (this.parent.enableRtl) {\n            pageLeft = Math.abs(ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetWidth -\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft);\n            currentTaskDifference = Math.abs(this.clickedPosition - pageLeft);\n        }\n        else {\n            pageLeft = ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetLeft +\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft;\n            currentTaskDifference = this.clickedPosition - pageLeft;\n        }\n        var splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.perDayWidth);\n        var startDate = this.rowData.ganttProperties.startDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n        }\n        var contextMenuClickDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && (this.parent.timelineSettings.bottomTier.unit === 'Minutes' || this.parent.timelineSettings.bottomTier.unit === 'Hour')) {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n            contextMenuClickDate = this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        else {\n            contextMenuClickDate =\n                this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.rowData.ganttProperties.duration > 1 ?\n                    this.rowData.ganttProperties.durationUnit : (this.parent.timelineSettings.bottomTier.unit !== 'None') ?\n                    this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase() :\n                    this.parent.timelineSettings.topTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        return contextMenuClickDate;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var _this = this;\n        var target = args.event ? args.event.target :\n            !this.parent.focusModule ? this.parent.focusModule.getActiveElement() :\n                this.parent.ganttChartModule.targetElement;\n        // Closed edited cell before opening context menu\n        if ((!isNullOrUndefined(this.parent.editModule) && this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit && target.parentElement.classList.contains('e-row')) || target.parentElement.classList.contains('e-treecolumn-container')) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!isNullOrUndefined(args.element) && args.element.id === this.parent.element.id + '_contextmenu') {\n            this.clickedPosition = getValue('event', args).clientX;\n        }\n        var targetElement = closest(target, '.e-gantt-child-taskbar');\n        if (targetElement) {\n            this.targetElement = args.target = targetElement;\n        }\n        args.gridRow = closest(target, '.e-row');\n        args.chartRow = closest(target, '.e-chart-row');\n        var menuElement = closest(target, '.e-gantt');\n        var editForm = closest(target, cons.editForm);\n        if (!editForm && this.parent.editModule && this.parent.editModule.cellEditModule\n            && this.parent.editModule.cellEditModule.isCellEdit && this.parent.editModule.dialogModule.dialogObj\n            && !this.parent.editModule.dialogModule.dialogObj.open) {\n            this.parent.treeGrid.grid.saveCell();\n            this.parent.editModule.cellEditModule.isCellEdit = false;\n        }\n        if (this.parent.readOnly) {\n            this.contextMenu.enableItems(['Add', 'Save', 'Convert', 'Delete Dependency', 'Delete Task', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'], false);\n        }\n        if ((isNullOrUndefined(args.gridRow) && isNullOrUndefined(args.chartRow)) || this.contentMenuItems.length === 0) {\n            if (!isNullOrUndefined(args.parentItem) && !isNullOrUndefined(menuElement) || !isNullOrUndefined(closest(target, '.e-content'))) {\n                args.cancel = false;\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (!args.cancel) {\n            var rowIndex = -1;\n            if (args.gridRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.gridRow.getAttribute('aria-rowindex'), 0) - 1;\n            }\n            else if (args.chartRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.chartRow.getAttribute('aria-rowindex'), 0) - 1;\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection && !args.parentItem && !isNullOrUndefined(args.chartRow)) {\n                this.parent.selectionModule.selectRow(rowIndex);\n            }\n            if (!args.parentItem) {\n                this.rowData = this.parent.ganttChartModule.getRecordByTarget(args['event']);\n            }\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                // let target: EventTarget = target;\n                if (!item.separator) {\n                    if ((target.classList.contains('e-gantt-unscheduled-taskbar')) && ((item.text === this.getLocale('splitTask')) || (item.text === this.getLocale('mergeTask')))) {\n                        this.hideItems.push(item.text);\n                    }\n                    else {\n                        this.updateItemStatus(item, target, rowIndex);\n                    }\n                }\n            }\n            args.rowData = this.rowData;\n            args.type = 'Content';\n            args.disableItems = this.disableItems;\n            args.hideItems = this.hideItems;\n            args.hideChildItems = [];\n            if (!isNullOrUndefined(args.rowData) && args.rowData.level === 0 && this.parent.viewType === 'ResourceView') {\n                args.cancel = true;\n                return;\n            }\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('contextMenuOpen', args, function (arg) {\n                callBackPromise_1.resolve(arg);\n                _this.hideItems = arg.hideItems;\n                _this.disableItems = arg.disableItems;\n                if (!arg.parentItem && arg.hideItems.length === arg.items.length) {\n                    _this.revertItemStatus();\n                    arg.cancel = true;\n                }\n                if (_this.hideItems.length > 0) {\n                    _this.contextMenu.hideItems(_this.hideItems);\n                }\n                if (_this.disableItems.length > 0) {\n                    _this.contextMenu.enableItems(_this.disableItems, false);\n                }\n                if (args.hideChildItems.length > 0) {\n                    _this.contextMenu.hideItems(args.hideChildItems);\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    ContextMenu.prototype.updateItemStatus = function (item, target, rowIndex) {\n        var key = this.getKeyFromId(item.id);\n        var editForm = closest(target, cons.editForm);\n        var subMenu = [];\n        var taskbarElement = closest(target, '.e-gantt-child-taskbar') ||\n            closest(target, 'e-taskbar-right-resizer') || closest(target, 'e-taskbar-left-resizer');\n        if (editForm) {\n            if (!(key === 'Save' || key === 'Cancel')) {\n                this.hideItems.push(item.text);\n            }\n        }\n        else {\n            switch (key) {\n                case 'TaskInformation':\n                    if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'Add':\n                    if (!this.parent.editSettings.allowAdding || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Save':\n                case 'Cancel':\n                    this.hideItems.push(item.text);\n                    break;\n                case 'Convert':\n                    if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords) {\n                        this.hideItems.push(item.text);\n                    }\n                    else if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.rowData) && !this.rowData.ganttProperties.isMilestone) {\n                            subMenu.push(this.createItemModel(cons.content, 'ToMilestone', this.getLocale('toMilestone')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'ToTask', this.getLocale('toTask')));\n                        }\n                        item.items = subMenu;\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'DeleteDependency':\n                    {\n                        var items = this.getPredecessorsItems();\n                        if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords && !this.parent.allowParentDependency) {\n                            this.hideItems.push(item.text);\n                        }\n                        else if (!this.parent.editSettings.allowDeleting || items.length === 0 || !this.parent.editModule) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        else if (items.length > 0) {\n                            item.items = items;\n                        }\n                        break;\n                    }\n                case 'DeleteTask':\n                    if (!this.parent.editSettings.allowDeleting || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'TaskMode':\n                    if (this.parent.taskMode !== 'Custom') {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (this.rowData.ganttProperties.isAutoSchedule) {\n                            subMenu.push(this.createItemModel(cons.content, 'Manual', this.getLocale('manual')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'Auto', this.getLocale('auto')));\n                        }\n                        item.items = subMenu;\n                    }\n                    break;\n                case 'Indent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var index = this.parent.selectedRowIndex;\n                            var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n                            if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n                                this.parent.viewType === 'ResourceView' ||\n                                this.parent.updatedRecords[parseInt(index.toString(), 10)].level - prevRecord.level === 1) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'Outdent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var ind = this.parent.selectionModule.getSelectedRowIndexes()[0];\n                            var isSelect = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            if (!this.parent.editSettings.allowEditing || ind === -1 || ind === 0 || !isSelect ||\n                                this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[parseInt(ind.toString(), 10)].level === 0) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'SplitTask':\n                    {\n                        var isBottomTierMinute = false;\n                        var isBottomTierHour = false;\n                        var taskSettings = this.parent.taskFields;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            isBottomTierMinute = this.parent.timelineSettings.bottomTier.unit === 'Minutes';\n                            isBottomTierHour = this.parent.timelineSettings.bottomTier.unit === 'Hour';\n                        }\n                        if (this.parent.readOnly || !taskbarElement || isNullOrUndefined(taskSettings.segments) ||\n                            this.parent.flatData[Number(rowIndex)].hasChildRecords ||\n                            (this.parent.flatData[Number(rowIndex)].ganttProperties.duration < 2\n                                && !(isBottomTierMinute || isBottomTierHour))) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        break;\n                    }\n                case 'MergeTask':\n                    if (this.parent.readOnly || !taskbarElement) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        this.mergeItemVisiblity(target, item);\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.mergeItemVisiblity = function (target, item) {\n        var subMenu = [];\n        var taskfields = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(target);\n        this.segmentIndex = this.parent.chartRowsModule.getSegmentIndex(currentClickedDate, this.rowData);\n        var segments = this.rowData.ganttProperties.segments;\n        if (!isNullOrUndefined(segments) && segments.length > 0) {\n            if (isNullOrUndefined(taskfields.segments) && this.segmentIndex === -1) {\n                this.updateItemVisibility(item.text);\n            }\n            else {\n                if (this.segmentIndex === 0) {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                }\n                else if (this.segmentIndex === segments.length - 1) {\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                else {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                item.items = subMenu;\n            }\n        }\n        else {\n            this.hideItems.push(item.text);\n        }\n    };\n    ContextMenu.prototype.updateItemVisibility = function (text) {\n        var isDefaultItem = !isNullOrUndefined(this.parent.contextMenuItems) ? false : true;\n        if (isDefaultItem) {\n            this.hideItems.push(text);\n        }\n        else {\n            this.disableItems.push(text);\n        }\n    };\n    ContextMenu.prototype.contextMenuOpen = function (args) {\n        this.isOpen = true;\n        var firstMenuItem = this.parent['args'] = args.element.querySelectorAll('li:not(.e-menu-hide):not(.e-disabled)')[0];\n        if (!isNullOrUndefined(firstMenuItem)) {\n            addClass([firstMenuItem], 'e-focused');\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = !isNullOrUndefined(this.parent.contextMenuItems) ?\n            this.parent.contextMenuItems : this.getDefaultItems();\n        for (var _i = 0, menuItems_1 = menuItems; _i < menuItems_1.length; _i++) {\n            var item = menuItems_1[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                this.buildDefaultItems(item);\n            }\n            else if (typeof item !== 'string') {\n                if (this.getDefaultItems().indexOf(item.text) !== -1) {\n                    this.buildDefaultItems(item.text, item.iconCss);\n                }\n                else if (item.target === cons.columnHeader) {\n                    this.headerMenuItems.push(item);\n                }\n                else {\n                    this.contentMenuItems.push(item);\n                }\n            }\n        }\n        return this.contentMenuItems;\n    };\n    ContextMenu.prototype.createItemModel = function (target, item, text, iconCss) {\n        var itemModel = {\n            text: text,\n            id: this.generateID(item),\n            target: target,\n            iconCss: iconCss ? 'e-icons ' + iconCss : null\n        };\n        return itemModel;\n    };\n    ContextMenu.prototype.getLocale = function (text) {\n        var localeText = this.parent.localeObj.getConstant(text);\n        return localeText;\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item, iconCSS) {\n        var contentMenuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n            case 'SortAscending':\n            case 'SortDescending':\n                this.headerMenuItems.push(item);\n                break;\n            case 'TaskInformation':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('taskInformation'), this.getIconCSS(cons.editIcon, iconCSS));\n                break;\n            case 'Indent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('indent'), this.getIconCSS(cons.indentIcon, iconCSS));\n                break;\n            case 'Outdent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('outdent'), this.getIconCSS(cons.outdentIcon, iconCSS));\n                break;\n            case 'Save':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('save'), this.getIconCSS(cons.saveIcon, iconCSS));\n                break;\n            case 'Cancel':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('cancel'), this.getIconCSS(cons.cancelIcon, iconCSS));\n                break;\n            case 'Add':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('add'), this.getIconCSS(cons.addIcon, iconCSS));\n                //Sub item menu\n                contentMenuItem.items = [];\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Above', this.getLocale('above'), this.getIconCSS(cons.addAboveIcon, iconCSS)));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Below', this.getLocale('below'), this.getIconCSS(cons.addBelowIcon, iconCSS)));\n                if (this.parent.viewType !== 'ResourceView') {\n                    contentMenuItem.items.push(this.createItemModel(cons.content, 'Child', this.getLocale('child')));\n                }\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Milestone', this.getLocale('milestone')));\n                break;\n            case 'DeleteTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteTask'), this.getIconCSS(cons.deleteIcon, iconCSS));\n                break;\n            case 'DeleteDependency':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteDependency'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'Convert':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('convert'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'TaskMode':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('changeScheduleMode'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'SplitTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('splitTask'));\n                break;\n            case 'MergeTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('mergeTask'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n        }\n        if (contentMenuItem) {\n            this.contentMenuItems.push(contentMenuItem);\n        }\n    };\n    ContextMenu.prototype.getIconCSS = function (menuClass, iconString) {\n        return isNullOrUndefined(iconString) ? menuClass : iconString;\n    };\n    ContextMenu.prototype.getPredecessorsItems = function () {\n        this.predecessors = this.parent.predecessorModule.getValidPredecessor(this.rowData);\n        var items = [];\n        var itemModel;\n        var increment = 0;\n        for (var _i = 0, _a = this.predecessors; _i < _a.length; _i++) {\n            var predecessor = _a[_i];\n            var ganttData = this.parent.getRecordByID(predecessor.from);\n            var ganttProp = ganttData.ganttProperties;\n            var text = ganttProp.rowUniqueID + ' - ' + ganttProp.taskName;\n            var id = 'Dependency' + increment++;\n            itemModel = this.createItemModel(cons.content, id, text);\n            items.push(itemModel);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'TaskInformation', 'DeleteTask', 'Save', 'Cancel',\n            'SortAscending', 'SortDescending', 'Add',\n            'DeleteDependency', 'Convert', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'\n        ];\n    };\n    /**\n     * To get ContextMenu module name.\n     *\n     * @returns {string} .\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('initiate-contextMenu', this.render);\n        this.parent.off('reRender-contextMenu', this.reRenderContextMenu);\n        this.parent.off('contextMenuClick', this.contextMenuItemClick);\n        this.parent.off('contextMenuOpen', this.contextMenuOpen);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][\"\" + parent] instanceof Menu) {\n            this.revertItemStatus();\n        }\n    };\n    ContextMenu.prototype.revertItemStatus = function () {\n        this.contextMenu.showItems(this.hideItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hideItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.resetItems = function () {\n        this.hideItems = [];\n        this.disableItems = [];\n        this.headerMenuItems = [];\n        this.contentMenuItems = [];\n        this.item = null;\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.ganttID + '_contextMenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        var idPrefix = this.ganttID + '_contextMenu_';\n        if (id.indexOf(idPrefix) > -1) {\n            return id.replace(idPrefix, '');\n        }\n        else {\n            return 'Custom';\n        }\n    };\n    /**\n     * To destroy the contextmenu module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ContextMenu.prototype.destroy = function () {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.contextMenu = null;\n        this.element = null;\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { TreeGrid, ExcelExport as TreeGridExcel } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Gantt Excel Export module\n *\n * @hidden\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function ExcelExport(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridExcel);\n        this.parent.treeGrid.allowExcelExport = this.parent.allowExcelExport;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.beforeExcelExport = function (args) {\n            _this.parent.trigger('beforeExcelExport', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n        };\n        this.parent.treeGrid.excelQueryCellInfo = function (args) {\n            _this.parent.trigger('excelQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelHeaderQueryCellInfo = function (args) {\n            _this.parent.trigger('excelHeaderQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelExportComplete = function (args) {\n            _this.parent.trigger('excelExportComplete', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n        };\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { TreeGrid, ColumnMenu as TreeGridColumnMenu } from '@syncfusion/ej2-treegrid';\n/**\n * Configures columnMenu collection in Gantt.\n *\n * @hidden\n */\nvar ColumnMenu = /** @class */ (function () {\n    function ColumnMenu(parent) {\n        TreeGrid.Inject(TreeGridColumnMenu);\n        this.parent = parent;\n    }\n    /**\n     * @returns {HTMLAllCollection} .\n     * To get column menu collection.\n     */\n    ColumnMenu.prototype.getColumnMenu = function () {\n        return this.parent.treeGrid.columnMenuModule.getColumnMenu();\n    };\n    ColumnMenu.prototype.destroy = function () {\n        // column menu destroy module\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ColumnMenu.prototype.getModuleName = function () {\n        return 'columnMenu';\n    };\n    return ColumnMenu;\n}());\nexport { ColumnMenu };\n","import { TreeGrid, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined, extend, addClass, getValue, closest } from '@syncfusion/ej2-base';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { isCountRequired } from '../base/common';\n/**\n * Gantt Excel Export module\n */\nvar RowDD = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function RowDD(gantt) {\n        this.isTest = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.updateCollection = {};\n        /** @hidden */\n        this.isSharedTask = false;\n        /** @hidden */\n        this.canDrop = true;\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridRowDD);\n        this.parent.treeGrid.allowRowDragAndDrop = this.parent.allowRowDragAndDrop;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    RowDD.prototype.getModuleName = function () {\n        return 'rowDragAndDrop';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowDragStart = this.rowDragStart.bind(this);\n        this.parent.treeGrid.rowDragStartHelper = this.rowDragStartHelper.bind(this);\n        this.parent.treeGrid.rowDrag = this.rowDrag.bind(this);\n        this.parent.treeGrid.rowDrop = this.rowDrop.bind(this);\n    };\n    RowDD.prototype.rowDragStart = function (args) {\n        this.parent.trigger('rowDragStart', args);\n        this.parent.element.style.position = 'relative'; // for positioning the drag element properly\n    };\n    RowDD.prototype.addErrorElem = function () {\n        var dragElem = document.querySelector('.e-ganttdrag');\n        if (!dragElem) {\n            return;\n        }\n        var errorElemExists = !!dragElem.querySelector('.e-errorelem');\n        if (errorElemExists) {\n            return;\n        }\n        var errorContainer = document.createElement('div');\n        errorContainer.classList.add('e-errorcontainer', 'e-icons', 'e-errorelem');\n        var rowCell = dragElem.querySelector('.e-rowcell');\n        if (!rowCell) {\n            return;\n        }\n        var content = rowCell.childNodes;\n        var errorVal = rowCell.querySelector('.errorValue');\n        if (errorVal) {\n            content = errorVal.childNodes;\n            errorVal.remove(); // Use `remove()` for cleaner DOM manipulation.\n        }\n        rowCell.innerHTML = ''; // Sanitization: Uses innerHTML carefully, ensuring safe content is inserted.\n        var spanContent = document.createElement('span');\n        spanContent.className = 'errorValue';\n        spanContent.style.paddingLeft = '16px';\n        content.forEach(function (node) {\n            spanContent.appendChild(node.cloneNode(true)); // Clone cautiously to maintain structure integrity\n        });\n        rowCell.appendChild(errorContainer);\n        rowCell.appendChild(spanContent);\n    };\n    RowDD.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    RowDD.prototype.rowDrag = function (args) {\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        cloneElement.style.display = 'none';\n        var ganttDragElement = cloneElement.cloneNode(true);\n        ganttDragElement.classList.add('e-ganttdrag');\n        ganttDragElement.style.display = '';\n        if (this.parent.element.querySelectorAll('.e-cloneproperties').length <= 1) {\n            this.parent.element.appendChild(ganttDragElement);\n        }\n        else {\n            if (document.getElementsByClassName('e-cloneproperties')[0].querySelectorAll('.e-errorelem').length) {\n                this.addErrorElem();\n            }\n            else {\n                this.removeErrorElem();\n            }\n        }\n        if (this.parent.gridLines === 'Both') {\n            addClass(this.parent.element.querySelectorAll('.e-ganttdrag .e-rowcell'), ['e-bothganttlines']);\n        }\n        var dragElement = this.parent.element.querySelector('.e-ganttdrag');\n        var ganttTop = this.parent.element.getClientRects()[0].top;\n        var ganttLeft = this.parent.element.getClientRects()[0].left;\n        var left;\n        var top;\n        if (this.parent.isAdaptive) {\n            /* eslint-disable-next-line */\n            left = args.originalEvent.event.touches[0].clientX - ganttLeft;\n            /* eslint-disable-next-line */\n            top = args.originalEvent.event.touches[0].clientY - ganttTop;\n        }\n        else {\n            left = getValue('event', args.originalEvent).clientX - ganttLeft;\n            top = getValue('event', args.originalEvent).clientY - ganttTop;\n        }\n        dragElement.style.left = left + 20 + 'px';\n        dragElement.style.top = top + 20 + 'px';\n        this.parent.trigger('rowDrag', args);\n    };\n    RowDD.prototype.rowDragStartHelper = function (args) {\n        this.parent.trigger('rowDragStartHelper', args);\n        if (this.parent.readOnly) {\n            args.cancel = true;\n        }\n        if (this.parent.viewType === 'ResourceView' && getValue('level', args.data[0]) === 0) {\n            args.cancel = true;\n        }\n    };\n    RowDD.prototype.rowDrop = function (args) {\n        // const ganttDragelem: Element = document.querySelector('.e-ganttdrag');\n        // if (ganttDragelem) {\n        //     ganttDragelem.remove();\n        // }\n        var gridRow = closest(args.target, '.e-row');\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        var dropIndex = gridRow ? parseInt(gridRow.getAttribute('aria-rowindex'), 10) - 1 : args.dropIndex;\n        args.dropIndex = dropIndex;\n        args.dropRecord = this.parent.updatedRecords[args.dropIndex];\n        this.parent.trigger('rowDrop', args);\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.dropPosition === 'middleSegment') {\n                if (args.dropRecord.level === 1 || args.dropRecord.uniqueID === getValue('parentItem', args.data[0]).uniqueID) {\n                    args.cancel = true; // preventing to drop the record as child to any child records\n                }\n            }\n            if (args.dropPosition !== 'middleSegment') {\n                if (args.dropRecord.level === 0 || getValue('parentItem', args.data[0]).uniqueID === args.dropRecord.parentItem.uniqueID) {\n                    args.cancel = true;\n                }\n            }\n        }\n        if (!args.cancel) {\n            args.requestType = 'beforeDrop';\n            this.parent.trigger('actionBegin', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n            if (!args.cancel) {\n                this.dropRows(args, true); // method to update the data collections based on drop action\n                args.cancel = true;\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.parent.hideMaskRow();\n                }\n                else {\n                    this.parent.hideSpinner();\n                }\n            }\n        }\n    };\n    RowDD.prototype.dropRows = function (args, isByMethod) {\n        if (!this.parent.readOnly) {\n            this.dropPosition = args.dropPosition;\n            if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n                var gObj = this.parent;\n                this.droppedRecord = gObj.updatedRecords[args.dropIndex];\n                if (this.parent.undoRedoModule && (this.parent['isUndoRedoItemPresent']('RowDragAndDrop'))) {\n                    if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        if (this.parent.undoRedoModule['redoEnabled']) {\n                            this.parent.undoRedoModule['disableRedo']();\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        if (!args.target && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n                            this.parent.editModule.taskbarEditModule.taskBarEditAction) {\n                            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = [];\n                        }\n                        else {\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        var datas = [];\n                        var _loop_1 = function (i) {\n                            datas.push(this_1.parent.flatData.filter(function (data) {\n                                return args.data[i]['ganttProperties'].taskId === data.ganttProperties.taskId;\n                            })[0]);\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < args.data.length; i++) {\n                            _loop_1(i);\n                        }\n                        var rowItems = extend([], [], datas, true);\n                        var records = {};\n                        if (args['name']) {\n                            records['action'] = 'RowDragAndDrop';\n                        }\n                        else {\n                            records['action'] = 'TaskbarDragAndDrop';\n                        }\n                        records['beforeDrop'] = [];\n                        var previousDetails = {};\n                        previousDetails['dropRecord'] = extend([], [], [args.dropRecord ? args.dropRecord : this.droppedRecord], true)[0];\n                        previousDetails['data'] = extend([], [], args.data, true);\n                        if (args.dropPosition === 'middleSegment') {\n                            previousDetails['dropPosition'] = 'child';\n                        }\n                        else if (args.dropPosition === 'topSegment') {\n                            previousDetails['dropPosition'] = 'above';\n                        }\n                        else if (args.dropPosition === 'bottomSegment') {\n                            previousDetails['dropPosition'] = 'below';\n                        }\n                        records['afterDrop'] = previousDetails;\n                        this.parent.undoRedoModule['findPosition'](rowItems, records, 'beforeDrop');\n                        this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n                    }\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                    }\n                }\n                var draggedRecord = void 0;\n                var dragRecords = [];\n                var droppedRecord = this.droppedRecord;\n                if (!args.data[0]) {\n                    dragRecords.push(args.data);\n                }\n                else {\n                    dragRecords = args.data;\n                }\n                var count = 0;\n                var dragLength = dragRecords.length;\n                var _loop_2 = function (i) {\n                    this_2.parent.isOnEdit = true;\n                    draggedRecord = dragRecords[i];\n                    this_2.draggedRecord = draggedRecord;\n                    if (this_2.dropPosition !== 'Invalid') {\n                        if (this_2.parent.viewType === 'ResourceView') {\n                            this_2.checkisSharedTask();\n                            if (this_2.draggedRecord.level !== 0) {\n                                this_2.previousParent = this_2.draggedRecord.parentItem.uniqueID;\n                            }\n                        }\n                        if (this_2.isSharedTask) {\n                            return { value: void 0 };\n                        }\n                        if (isByMethod) {\n                            this_2.deleteDragRow();\n                        }\n                        var recordIndex1 = this_2.treeGridData.indexOf(droppedRecord);\n                        if (this_2.dropPosition === 'topSegment') {\n                            this_2.dropAtTop(recordIndex1);\n                        }\n                        if (this_2.dropPosition === 'bottomSegment') {\n                            if (!this_2.isSharedTask) {\n                                if (!droppedRecord.hasChildRecords) {\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + 1, 0, this_2.draggedRecord);\n                                    this_2.parent.ids.splice(recordIndex1 + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var taskId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n                                    }\n                                }\n                                else {\n                                    count = this_2.parent.editModule.getChildCount(droppedRecord, 0);\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord);\n                                    /* eslint-disable-next-line */\n                                    this_2.parent.ids.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var spliceId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + count + 1, 0, spliceId);\n                                    }\n                                }\n                                this_2.parent.setRecordValue('parentItem', this_2.treeGridData[recordIndex1].parentItem, draggedRecord);\n                                this_2.parent.setRecordValue('parentUniqueID', this_2.treeGridData[recordIndex1].parentUniqueID, draggedRecord);\n                                this_2.parent.setRecordValue('level', this_2.treeGridData[recordIndex1].level, draggedRecord);\n                                if (draggedRecord.hasChildRecords) {\n                                    var level = 1;\n                                    this_2.updateChildRecordLevel(draggedRecord, level);\n                                    this_2.updateChildRecord(draggedRecord, recordIndex1 + count + 1);\n                                }\n                                if (droppedRecord.parentItem) {\n                                    var rec = this_2.parent.getParentTask(droppedRecord.parentItem).childRecords;\n                                    var childRecords = rec;\n                                    var droppedRecordIndex = childRecords.indexOf(droppedRecord) + 1;\n                                    childRecords.splice(droppedRecordIndex, 0, draggedRecord);\n                                }\n                            }\n                        }\n                        if (this_2.dropPosition === 'middleSegment') {\n                            this_2.dropMiddle(recordIndex1);\n                            if (droppedRecord.childRecords.length > 0) {\n                                delete droppedRecord.ganttProperties.segments;\n                                delete droppedRecord.taskData[this_2.parent.taskFields.segments];\n                            }\n                        }\n                        if (this_2.treeGridData.length !== 0) {\n                            for (var i_1 = 0; i_1 < this_2.treeGridData.length; i_1++) {\n                                this_2.treeGridData[parseInt(i_1.toString(), 10)].index = i_1;\n                                if (!isNullOrUndefined(this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem)) {\n                                    var updatedParent = getValue('uniqueIDCollection.' + this_2.treeGridData[parseInt(i_1.toString(), 10)].parentUniqueID, this_2.parent.treeGrid);\n                                    this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        }\n                        // eslint-disable-next-line\n                        if (!isNullOrUndefined(draggedRecord.parentItem && this_2.updateParentRecords.indexOf(draggedRecord.parentItem) !== -1)) {\n                            this_2.updateParentRecords.push(draggedRecord.parentItem);\n                        }\n                    }\n                    if (!this_2.parent.enableVirtualization) {\n                        var data_1 = gObj.flatData;\n                        var startIndex = void 0;\n                        var endIndex = void 0;\n                        var ganttData_1 = this_2.parent.dataSource;\n                        var uniqueTaskID_1 = this_2.parent.taskFields.id;\n                        if (draggedRecord.index < droppedRecord.index) {\n                            startIndex = draggedRecord.index;\n                            var _loop_4 = function (i_2) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_2][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > droppedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_2 = 0; i_2 < ganttData_1.length; i_2++) {\n                                var state_2 = _loop_4(i_2);\n                                if (state_2 === \"break\")\n                                    break;\n                            }\n                        }\n                        else {\n                            startIndex = droppedRecord.index;\n                            var _loop_5 = function (i_3) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_3][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > draggedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_3 = 0; i_3 < ganttData_1.length; i_3++) {\n                                var state_3 = _loop_5(i_3);\n                                if (state_3 === \"break\")\n                                    break;\n                            }\n                        }\n                        var _loop_6 = function (i_4) {\n                            if (!isNullOrUndefined(data_1[i_4])) {\n                                data_1[i_4].index = i_4;\n                                if (!isNullOrUndefined(data_1[i_4].parentItem)) {\n                                    var updatedParent = data_1.filter(function (e) {\n                                        return e.uniqueID === data_1[i_4].parentUniqueID;\n                                    })[0];\n                                    data_1[i_4].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        };\n                        for (var i_4 = startIndex; i_4 <= endIndex; i_4++) {\n                            _loop_6(i_4);\n                        }\n                    }\n                    gObj.rowDragAndDropModule.refreshDataSource();\n                };\n                var this_2 = this;\n                for (var i = 0; i < dragLength; i++) {\n                    var state_1 = _loop_2(i);\n                    if (typeof state_1 === \"object\")\n                        return state_1.value;\n                }\n                if (this.dropPosition === 'middleSegment') {\n                    if (droppedRecord.ganttProperties.predecessor) {\n                        var len = droppedRecord.ganttProperties.predecessor.length;\n                        for (var count_1 = 0; count_1 < len; count_1++) {\n                            if (droppedRecord.ganttProperties.predecessor && droppedRecord.ganttProperties.predecessor[count_1]) {\n                                var fromRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].from);\n                                var toRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].to);\n                                var validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n                                if (droppedRecord.ganttProperties.predecessor && (!validPredecessor ||\n                                    !this.parent.allowParentDependency)) {\n                                    this.parent.editModule.removePredecessorOnDelete(droppedRecord);\n                                    droppedRecord.ganttProperties.predecessor.splice(0, 1);\n                                    if (droppedRecord.ganttProperties.predecessorsName) {\n                                        var splittedName = droppedRecord.ganttProperties.predecessorsName.split(',');\n                                        for (var i = 0; i < splittedName.length; i++) {\n                                            if (splittedName[i].indexOf(draggedRecord.ganttProperties.taskId + '') !== -1) {\n                                                splittedName.splice(i, 1);\n                                            }\n                                        }\n                                        var validatedPredecessorNames = splittedName.join();\n                                        droppedRecord.ganttProperties.predecessorsName = validatedPredecessorNames;\n                                        droppedRecord[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                        droppedRecord.taskData[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (droppedRecord.ganttProperties.isMilestone) {\n                        this.parent.setRecordValue('isMilestone', false, droppedRecord.ganttProperties, true);\n                        if (!isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.milestone])) {\n                            if (droppedRecord.taskData[this.parent.taskFields.milestone] === true) {\n                                droppedRecord.taskData[this.parent.taskFields.milestone] = false;\n                            }\n                        }\n                    }\n                }\n                if (this.parent.viewType === 'ResourceView' && !this.isSharedTask) {\n                    var parentUniqueID = void 0;\n                    if (this.dropPosition === 'middleSegment') {\n                        parentUniqueID = this.droppedRecord.uniqueID;\n                    }\n                    else {\n                        parentUniqueID = this.droppedRecord.parentItem ?\n                            this.droppedRecord.parentItem.uniqueID : this.droppedRecord.uniqueID;\n                    }\n                    var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n                    var editedObj = {};\n                    editedObj[this.parent.taskFields.resourceInfo] = [];\n                    editedObj[this.parent.taskFields.resourceInfo].push(droppedParentItem.ganttProperties.taskId);\n                    this.removeExistingResources();\n                    var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n                    var currentTask = this.draggedRecord;\n                    if (isNullOrUndefined(currentTask.ganttProperties.resourceInfo)) {\n                        currentTask.ganttProperties.resourceInfo = [];\n                    }\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        currentTask.ganttProperties.resourceInfo = [];\n                        currentTask.ganttProperties.sharedTaskUniqueIds = [currentTask.ganttProperties.rowUniqueID];\n                    }\n                    else {\n                        currentTask.ganttProperties.resourceInfo.push(tempResourceInfo[0]);\n                    }\n                    this.updateCurrentTask(currentTask);\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        this.deleteSharedResourceTask();\n                    }\n                    else {\n                        this.updateSharedResourceTask();\n                    }\n                }\n                if (this.parent.taskFields.dependency && this.parent.allowParentDependency) {\n                    var isValidPredecessor = true;\n                    var draggedParent = void 0;\n                    var toParent_1;\n                    if (draggedRecord.parentItem) {\n                        draggedParent = this.parent.flatData[this.parent.ids.indexOf(draggedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        draggedParent = draggedRecord;\n                    }\n                    if (droppedRecord.parentItem) {\n                        toParent_1 = this.parent.flatData[this.parent.ids.indexOf(droppedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        toParent_1 = droppedRecord;\n                    }\n                    var validateRecords = void 0;\n                    if (toParent_1.uniqueID === draggedParent.uniqueID || (draggedParent.parentItem &&\n                        toParent_1.uniqueID === this.parent.flatData[this.parent.ids.indexOf(draggedParent.parentItem.taskId)].uniqueID)) {\n                        validateRecords = this.parent.currentViewData.filter(function (data) {\n                            if ((data.ganttProperties.predecessor && data.ganttProperties.predecessor.length > 0)) {\n                                for (var i = 0; i < data.ganttProperties.predecessor.length; i++) {\n                                    return (parseInt(data.ganttProperties.predecessor[i].to, 10) ===\n                                        parseInt(toParent_1.ganttProperties.taskId, 10) ||\n                                        parseInt(data.ganttProperties.predecessor[i].from, 10) ===\n                                            parseInt(toParent_1.ganttProperties.taskId, 10));\n                                }\n                            }\n                            return null;\n                        });\n                        var predName = [];\n                        for (var i = 0; i < validateRecords.length; i++) {\n                            predName = [];\n                            if (validateRecords[i].ganttProperties.predecessor) {\n                                for (var k = 0; k < validateRecords[i].ganttProperties.predecessor.length; k++) {\n                                    if (parseInt(validateRecords[i].ganttProperties.taskId, 10) !==\n                                        parseInt(validateRecords[i].ganttProperties.predecessor[k].from, 10)) {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].from);\n                                    }\n                                    else {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].to);\n                                    }\n                                }\n                            }\n                            var _loop_3 = function (j) {\n                                var name_1 = predName[j].replace(/\\D/g, '');\n                                var toRec = this_3.parent.currentViewData.filter(function (data) {\n                                    return parseInt(data.ganttProperties.taskId, 10) === parseInt(name_1, 10);\n                                });\n                                isValidPredecessor = this_3.parent.predecessorModule.validateParentPredecessor(validateRecords[i], toRec[0]);\n                                if (!isValidPredecessor) {\n                                    this_3.parent.dataOperation['resetDependency'](validateRecords[i]);\n                                    this_3.parent.dataOperation['resetDependency'](toRec[0]);\n                                }\n                            };\n                            var this_3 = this;\n                            for (var j = 0; j < predName.length; j++) {\n                                _loop_3(j);\n                            }\n                        }\n                    }\n                }\n                // method to update the edited parent records\n                for (var j = 0; j < this.updateParentRecords.length; j++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[j]);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.editModule &&\n                    this.parent.editModule.taskbarEditModule && this.parent.undoRedoModule &&\n                    this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n                    this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop' &&\n                    this.parent.undoRedoModule['currentAction']['beforeDrop'][0].position !== 'child') {\n                    var dropRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].dropRecord.ganttProperties.taskId.toString())];\n                    this.parent.editModule.taskbarEditModule.taskBarEditRecord = dropRec;\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n                    this.parent.predecessorModule.validatePredecessor(dropRec, [], '');\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n                }\n                this.updateParentRecords = [];\n                this.parent.isOnEdit = false;\n            }\n            if (!isNullOrUndefined(this.parent.editModule)) {\n                this.parent.editModule.refreshRecord(args, true);\n            }\n            if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                this.parent.previousFlatData = extend([], [], this.parent.flatData, true);\n            }\n        }\n        this.parent['oldRecords'] = [];\n    };\n    RowDD.prototype.updateCurrentTask = function (currentTask) {\n        this.parent.dataOperation.updateMappingData(currentTask, 'resourceInfo');\n        this.parent.editModule.updateResourceRelatedFields(currentTask, 'resource');\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.parent.editModule.dialogModule.dialogEditValidationFlag = false;\n        this.parent.editModule.dialogModule.validateDuration(currentTask);\n        this.parent.dataOperation.updateWidthLeft(currentTask);\n        this.parent.dataOperation.updateTaskData(currentTask);\n    };\n    RowDD.prototype.deleteSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                if (this.parent.getTaskByUniqueID(this.parent.flatData[i].parentItem.uniqueID).ganttProperties.taskName !== 'Unassigned Task') {\n                    this.removeRecords(this.parent.flatData[i]);\n                }\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype.removeExistingResources = function () {\n        var preParentRecord = this.parent.getTaskByUniqueID(this.previousParent);\n        if (this.draggedRecord.ganttProperties.resourceInfo) {\n            for (var count = 0; count < this.draggedRecord.ganttProperties.resourceInfo.length; count++) {\n                if (this.draggedRecord.ganttProperties.resourceInfo[parseInt(count.toString(), 10)][this.parent.resourceFields.id] ===\n                    preParentRecord.ganttProperties.taskId) {\n                    this.draggedRecord.ganttProperties.resourceInfo.splice(count, 1);\n                    break;\n                }\n            }\n        }\n    };\n    /*update the record for the same task which are shared with other tasks*/\n    RowDD.prototype.updateSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                this.parent.editModule.updateGanttProperties(this.draggedRecord, this.parent.flatData[i]);\n                this.parent.dataOperation.updateTaskData(this.parent.flatData[i]);\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype._getExistingTaskWithID = function (record) {\n        var existingTasks = [];\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + record.ganttProperties.taskId) {\n                existingTasks.push(this.parent.flatData[i]);\n            }\n        }\n        return existingTasks;\n    };\n    /*Method to remove resource from resource Info collection and update reosurce related fields*/\n    RowDD.prototype.removeResourceInfo = function (record) {\n        var droppedParentItem = this.parent.getTaskByUniqueID(this.draggedRecord.parentItem.uniqueID);\n        if (record.ganttProperties.resourceInfo && record.ganttProperties.resourceInfo.length > 1) {\n            var sameIdTasks = this._getExistingTaskWithID(record);\n            var currentTask = void 0;\n            if (sameIdTasks === null) {\n                return;\n            }\n            for (var i = 0; i < sameIdTasks.length; i++) {\n                currentTask = sameIdTasks[i];\n                var resources = currentTask.ganttProperties.resourceInfo;\n                for (var count = 0; count < resources.length; count++) {\n                    if (resources[count][this.parent.resourceFields.id] === droppedParentItem.ganttProperties.taskId) {\n                        resources.splice(count, 1);\n                        this.parent.setRecordValue('resourceInfo', resources, currentTask.ganttProperties, true);\n                        this.updateCurrentTask(currentTask);\n                        if (!isNullOrUndefined(currentTask.parentItem && this.updateParentRecords.indexOf(currentTask.parentItem) !== -1)) {\n                            this.updateParentRecords.push(currentTask.parentItem);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    RowDD.prototype.refreshDataSource = function () {\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var proxy = this.parent;\n        var tempDataSource;\n        var idx;\n        var ganttFields = this.parent.taskFields;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempDataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempDataSource = proxy.dataSource;\n        }\n        if (tempDataSource.length > 0 && (!isNullOrUndefined(droppedRecord) && !droppedRecord.parentItem)) {\n            for (var i = 0; i < Object.keys(tempDataSource).length; i++) {\n                if (!isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    tempDataSource[i][ganttFields.child] === droppedRecord.taskData[ganttFields.child]) {\n                    idx = i;\n                }\n                else if (isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    droppedRecord.taskData[ganttFields.id] === tempDataSource[i][ganttFields.id]) {\n                    idx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx, 0, draggedRecord.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx + 1, 0, draggedRecord.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRecord) && droppedRecord.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPosition = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRecord;\n                this.parent.editModule.updateRealDataSource([draggedRecord], rowPosition);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRecord.parentItem) {\n                var droppedId = this.dropPosition === 'middleSegment' ? this.parent.taskFields.id :\n                    this.parent.taskFields.parentID;\n                draggedRecord[this.parent.taskFields.parentID] = droppedRecord[droppedId];\n                draggedRecord.ganttProperties.parentId = droppedRecord[droppedId];\n                if ((this.parent.viewType === 'ResourceView' && !(this.dropPosition === 'middleSegment')) ||\n                    this.parent.viewType === 'ProjectView') {\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord.taskData[droppedId];\n                }\n            }\n            else {\n                draggedRecord[this.parent.taskFields.parentID] = null;\n                draggedRecord.taskData[this.parent.taskFields.parentID] = null;\n                draggedRecord.ganttProperties.parentId = null;\n            }\n        }\n        if (this.parent.viewType === 'ProjectView' && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n            this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n            this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop') {\n            var dragRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].data[0].ganttProperties.taskId.toString())];\n            this.parent.editModule.taskbarEditModule.taskBarEditRecord = dragRec;\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n            this.parent.predecessorModule.validatePredecessor(dragRec, [], '');\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n        }\n    };\n    RowDD.prototype.dropMiddle = function (recordIndex1) {\n        var gObj = this.parent;\n        var childRecords = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n        var childRecordsLength = (isNullOrUndefined(childRecords) ||\n            childRecords === 0) ? recordIndex1 + 1 :\n            childRecords + recordIndex1 + 1;\n        if (this.dropPosition === 'middleSegment' && !this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            if (this.parent.viewType === 'ResourceView') {\n                var recordId = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n            }\n            this.recordLevel();\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.recordLevel = function () {\n        var gObj = this.parent;\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var childItem = gObj.taskFields.child;\n        if (!droppedRecord.hasChildRecords) {\n            droppedRecord.hasChildRecords = true;\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                    droppedRecord.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRecord);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', droppedRecord.uniqueID, draggedRecord);\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n            if (!isNullOrUndefined(draggedRecord) && !gObj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                droppedRecord.taskData[gObj.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n            }\n            if (!draggedRecord.hasChildRecords) {\n                draggedRecord.level = droppedRecord.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRecord.level = droppedRecord.level + 1;\n                this.parent.setRecordValue('level', this.draggedRecord.level, this.draggedRecord);\n                this.updateChildRecordLevel(draggedRecord, level);\n            }\n            droppedRecord.expanded = true;\n        }\n    };\n    RowDD.prototype.deleteDragRow = function () {\n        this.treeGridData = isCountRequired(this.parent) ? getValue('result', this.parent.treeGrid.dataSource) :\n            this.parent.treeGrid.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        var deletedRow;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.viewType === 'ProjectView') {\n                deletedRow = this.parent.flatData[this.parent.ids.indexOf(this.draggedRecord.ganttProperties.taskId.toString())];\n            }\n            else {\n                if (this.draggedRecord.hasChildRecords) {\n                    deletedRow = this.parent.flatData['R' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n                else {\n                    deletedRow = this.parent.flatData['T' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n            }\n        }\n        else {\n            deletedRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        }\n        this.removeRecords(deletedRow);\n    };\n    //method to check the dropped record has already present in the child collection\n    RowDD.prototype.checkisSharedTask = function () {\n        this.isSharedTask = false;\n        var sharedTask = null;\n        // eslint-disable-next-line\n        var parentUniqueID = this.droppedRecord.level === 0 ? this.droppedRecord.uniqueID : this.droppedRecord.parentItem.uniqueID;\n        var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n        var childTasks = droppedParentItem.childRecords;\n        for (var i = 0; i < childTasks.length; i++) {\n            if ('T' + this.draggedRecord.ganttProperties.taskId === 'T' + childTasks[i].ganttProperties.taskId) {\n                this.isSharedTask = true;\n                sharedTask = childTasks[i];\n            }\n        }\n        if (this.isSharedTask) {\n            this.removeResourceInfo(sharedTask);\n        }\n    };\n    RowDD.prototype.dropAtTop = function (recordIndex1) {\n        var gObj = this.parent;\n        if (!this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(recordIndex1, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(recordIndex1, 0, this.draggedRecord);\n            this.parent.ids.splice(recordIndex1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            this.parent.setRecordValue('parentItem', this.droppedRecord.parentItem, this.draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', this.droppedRecord.parentUniqueID, this.draggedRecord);\n            this.parent.setRecordValue('level', this.droppedRecord.level, this.draggedRecord);\n            if (this.parent.viewType === 'ResourceView') {\n                var id = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(recordIndex1, 0, id);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                var level = 1;\n                this.updateChildRecord(this.draggedRecord, recordIndex1);\n                this.updateChildRecordLevel(this.draggedRecord, level);\n            }\n            if (this.droppedRecord.parentItem) {\n                var rec = this.parent.getParentTask(this.droppedRecord.parentItem).childRecords;\n                var childRecords = rec;\n                var droppedRecordIndex = childRecords.indexOf(this.droppedRecord);\n                childRecords.splice(droppedRecordIndex, 0, this.draggedRecord);\n            }\n            /* eslint-disable-next-line */\n            if (!isNullOrUndefined(this.draggedRecord.parentItem && this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.updateChildRecordLevel = function (record, level) {\n        var length = 0;\n        var currentRecord;\n        level++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRecord.level = record.parentItem ? parentData.level + level : record.level + 1;\n            this.parent.setRecordValue('level', currentRecord.level, currentRecord);\n            if (currentRecord.hasChildRecords) {\n                level--;\n                level = this.updateChildRecordLevel(currentRecord, level);\n            }\n        }\n        return level;\n    };\n    // eslint-disable-next-line\n    RowDD.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRecord;\n        var gObj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            gObj.flatData.splice(count, 0, currentRecord);\n            this.parent.ids.splice(count, 0, currentRecord.ganttProperties.rowUniqueID.toString());\n            if (gObj.taskFields.parentID && gObj.dataSource.length > 0) {\n                this.ganttData.splice(count, 0, currentRecord.taskData);\n            }\n            if (currentRecord.hasChildRecords) {\n                count = this.updateChildRecord(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    RowDD.prototype.removeRecords = function (record) {\n        var gObj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var deletedRow = record;\n        var flatParentData = deletedRow && deletedRow.parentItem ? this.parent.getParentTask(deletedRow.parentItem) : null;\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var childRecords = [];\n                if (flatParentData) {\n                    childRecords = flatParentData.childRecords;\n                }\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    if (this.parent.viewType === 'ResourceView' && childRecords.length === 1) {\n                        //For updating the parent record which has zero parent reords.\n                        this.parent.isOnDelete = true;\n                        childRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        childRecords[0].isDelete = false;\n                    }\n                    childIndex = childRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID && flatParentData.taskData[this.parent.taskFields.child]) {\n                        flatParentData.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.taskId.toString());\n                if (this.parent.viewType === 'ProjectView' || (this.parent.viewType === 'ResourceView' && this.dropPosition !== 'middleSegment')) {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            if (gObj.taskFields.parentID) {\n                if (deletedRow.hasChildRecords && deletedRow.childRecords.length > 0) {\n                    this.removeChildItem(deletedRow);\n                }\n                var idx = void 0;\n                var ganttData = dataSource.length > 0 && this.parent.viewType !== 'ResourceView' ?\n                    dataSource : this.parent.updatedRecords;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                            idx = i;\n                        }\n                    }\n                    else {\n                        if (ganttData[i][this.parent.taskFields.id] === deletedRow.taskData[this.parent.taskFields.id]) {\n                            idx = i;\n                        }\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    var tempIndex = this.treeGridData.indexOf(deletedRow);\n                    this.treeGridData.splice(tempIndex, 1);\n                    this.parent.ids.splice(tempIndex, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(deletedRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(deletedRow), 1);\n                    }\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(idx, 1);\n                    }\n                }\n            }\n            var recordIndex = this.treeGridData.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                this.treeGridData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIndex, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(deletedRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(recordIndex, deletedRecordCount + 1);\n                }\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                flatParentData.expanded = false;\n                flatParentData.hasChildRecords = false;\n            }\n        }\n    };\n    RowDD.prototype.removeChildItem = function (record) {\n        var currentRecord;\n        var idx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            var ganttData = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                ganttData = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                ganttData = this.parent.dataSource;\n            }\n            for (var j = 0; j < ganttData.length; j++) {\n                if (ganttData[j][this.parent.taskFields.id] === currentRecord.taskData[this.parent.taskFields.id]) {\n                    idx = j;\n                }\n            }\n            if (idx !== -1) {\n                if (ganttData.length > 0) {\n                    ganttData.splice(idx, 1);\n                }\n                var tempIndex = this.treeGridData.indexOf(currentRecord);\n                this.treeGridData.splice(tempIndex, 1);\n                this.parent.ids.splice(tempIndex, 1);\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(idx, 1);\n                }\n            }\n            if (currentRecord.hasChildRecords) {\n                this.removeChildItem(currentRecord);\n            }\n        }\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes .\n     * @param {number} toIndex .\n     * @param {string} position .\n     * @returns {void} .\n     */\n    RowDD.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        if (!this.parent.readOnly) {\n            if (fromIndexes[0] !== toIndex && (position === 'above' || position === 'below' || position === 'child')) {\n                if (position === 'above') {\n                    this.dropPosition = 'topSegment';\n                }\n                if (position === 'below') {\n                    this.dropPosition = 'bottomSegment';\n                }\n                if (position === 'child') {\n                    this.dropPosition = 'middleSegment';\n                }\n                var prevData = void 0;\n                if (this.parent.undoRedoModule) {\n                    prevData = extend([], [], [this.parent.undoRedoModule['currentAction']], true)[0];\n                }\n                var data = [];\n                for (var i = 0; i < fromIndexes.length; i++) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && (prevData['action'] === 'RowDragAndDrop' || prevData['action'] === 'TaskbarDragAndDrop')) {\n                        data[i] = prevData['beforeDrop'][i].data;\n                    }\n                    else {\n                        data[i] = this.parent.flatData[fromIndexes[i]];\n                    }\n                }\n                var isByMethod = true;\n                var args = {\n                    data: data,\n                    dropIndex: toIndex,\n                    dropPosition: this.dropPosition\n                };\n                this.dropRows(args, isByMethod);\n            }\n            else {\n                return;\n            }\n        }\n    };\n    return RowDD;\n}());\nexport { RowDD };\n","import { PdfColor, PdfDashStyle, PdfFontFamily, PdfPen, PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n * @hidden\n */\nvar PdfGanttTheme = /** @class */ (function () {\n    function PdfGanttTheme(theme) {\n        this.theme = theme;\n        this.ganttStyle = {};\n        this.setTheme(this.ganttStyle, this.theme);\n        this.ganttStyle.eventMarker.lineStyle.dashStyle = PdfDashStyle.Dash;\n    }\n    Object.defineProperty(PdfGanttTheme.prototype, \"style\", {\n        get: function () {\n            return this.ganttStyle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGanttTheme.prototype.setTheme = function (ganttStyle, theme) {\n        this.initStyles(ganttStyle);\n        ganttStyle.columnHeader.fontSize = 9.5;\n        ganttStyle.columnHeader.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.columnHeader.fontColor.gray = 0.2;\n        ganttStyle.columnHeader.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.columnHeader.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.columnHeader.format.lineAlignment = 1; //Centre\n        ganttStyle.columnHeader.format.alignment = 0; //Left\n        ganttStyle.fontFamily = PdfFontFamily.Helvetica;\n        ganttStyle.cell.fontSize = 9.5;\n        ganttStyle.cell.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.cell.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.cell.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.cell.fontColor.gray = 0.2;\n        ganttStyle.cell.format.lineAlignment = 1; // Centre\n        ganttStyle.cell.format.alignment = 0; // Left\n        ganttStyle.footer.fontSize = 9.5;\n        ganttStyle.footer.fontStyle = 0;\n        ganttStyle.footer.format.alignment = 1; //Centre\n        ganttStyle.footer.format.lineAlignment = 1; // Middle\n        ganttStyle.footer.borderColor = new PdfColor(235, 235, 235);\n        ganttStyle.timeline.fontSize = 9.5;\n        ganttStyle.timeline.fontStyle = 0;\n        ganttStyle.timeline.backgroundColor = new PdfColor(252, 252, 252);\n        ganttStyle.timeline.fontColor = new PdfColor(40, 40, 39);\n        ganttStyle.chartGridLineColor = new PdfColor(235, 235, 235);\n        ganttStyle.timeline.borderColor = new PdfColor(235, 235, 235);\n        ganttStyle.eventMarker.label.backgroundColor = new PdfColor(100, 253, 191);\n        ganttStyle.eventMarker.label.fontColor = new PdfColor(33, 33, 33);\n        ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(227, 22, 91));\n        ganttStyle.eventMarker.lineStyle.dashStyle = PdfDashStyle.Dash;\n        ganttStyle.holiday.backgroundColor = new PdfColor(238, 238, 238);\n        switch (theme) {\n            case 'Bootstrap':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.progressColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(240, 173, 78);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(240, 173, 78);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(85, 85, 85);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(33, 82, 125);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(117, 56, 201);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(87, 42, 150);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(87, 42, 150);\n                ganttStyle.eventMarker.label.backgroundColor = new PdfColor(138, 109, 59);\n                ganttStyle.eventMarker.label.fontColor = new PdfColor(252, 248, 227);\n                ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(49, 122, 185));\n                ganttStyle.holiday.backgroundColor = new PdfColor(238, 238, 238);\n                break;\n            case 'Bootstrap 4':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(255, 193, 7);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(255, 193, 7);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(73, 80, 87);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 86, 179);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(33, 37, 41);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(133, 83, 241);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(102, 40, 238);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(102, 40, 238);\n                ganttStyle.eventMarker.label.backgroundColor = new PdfColor(255, 193, 7);\n                ganttStyle.eventMarker.label.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(0, 123, 255));\n                ganttStyle.holiday.backgroundColor = new PdfColor(233, 236, 239);\n                break;\n            case 'Fabric':\n                ganttStyle.columnHeader.fontColor = new PdfColor(102, 102, 102);\n                ganttStyle.cell.fontColor = new PdfColor(51, 51, 51);\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(216, 59, 1);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(216, 59, 1);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(80, 80, 80);\n                ganttStyle.footer.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 69, 122);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(154, 56, 186);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(109, 24, 136);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(109, 24, 136);\n                ganttStyle.eventMarker.label.backgroundColor = new PdfColor(202, 232, 255);\n                ganttStyle.eventMarker.label.fontColor = new PdfColor(0, 90, 158);\n                ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(0, 120, 214));\n                ganttStyle.holiday.backgroundColor = new PdfColor(244, 244, 244);\n                break;\n            default:\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(88, 105, 197);\n                ganttStyle.taskbar.progressColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(193, 87, 0);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(193, 87, 0);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(132, 132, 132);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(97, 97, 97);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(63, 81, 181);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(0, 135, 134);\n                ganttStyle.eventMarker.label.backgroundColor = new PdfColor(253, 191, 100);\n                ganttStyle.eventMarker.label.fontColor = new PdfColor(33, 33, 33);\n                ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(227, 22, 91));\n                ganttStyle.holiday.backgroundColor = new PdfColor(238, 238, 238);\n                break;\n        }\n    };\n    PdfGanttTheme.prototype.initStyles = function (ganttStyle) {\n        ganttStyle.columnHeader = {};\n        ganttStyle.columnHeader.format = new PdfStringFormat();\n        ganttStyle.cell = {};\n        ganttStyle.cell.format = new PdfStringFormat();\n        ganttStyle.timeline = {};\n        ganttStyle.footer = {};\n        ganttStyle.footer.format = new PdfStringFormat();\n        ganttStyle.label = {};\n        ganttStyle.taskbar = {};\n        ganttStyle.eventMarker = {};\n        ganttStyle.eventMarker.label = {};\n        ganttStyle.eventMarker.lineStyle = new PdfPen(null);\n        ganttStyle.holiday = {};\n    };\n    return PdfGanttTheme;\n}());\nexport { PdfGanttTheme };\n","/**\n * Dictionary class\n *\n * @private\n * @hidden\n */\nvar TemporaryDictionary = /** @class */ (function () {\n    function TemporaryDictionary() {\n        /**\n         * @hidden\n         * @private\n         */\n        this.mKeys = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.mValues = [];\n    }\n    /**\n     * @returns {number} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.size = function () {\n        return this.mKeys.length;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.add = function (key, value) {\n        if (key === undefined || key === null || value === undefined || value === null) {\n            throw new ReferenceError('Provided key or value is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n            return 1;\n        }\n        else {\n            throw new RangeError('An item with the same key has already been added.');\n        }\n    };\n    /**\n     * @template K\n     * @returns {K[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.keys = function () {\n        return this.mKeys;\n    };\n    /**\n     * @template V\n     * @returns {V[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.values = function () {\n        return this.mValues;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @returns {V} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.getValue = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            return this.mValues[index];\n        }\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.setValue = function (key, value) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n        }\n        else {\n            this.mValues[index] = value;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.remove = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            this.mKeys.splice(index, 1);\n            this.mValues.splice(index, 1);\n            return true;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.containsKey = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.clear = function () {\n        this.mKeys = [];\n        this.mValues = [];\n    };\n    return TemporaryDictionary;\n}());\nexport { TemporaryDictionary };\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen, PdfDashStyle, PdfColor } from '@syncfusion/ej2-pdf-export';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n *\n * @hidden\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     *\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         *\n         * @param {PdfPen} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         *\n         * @returns {PdfBorders} .\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\n/** @hidden */\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        /**\n         * The 'left' border padding set.\n         *\n         * @private\n         */\n        this.hasLeftPad = false;\n        /**\n         * The 'right' border padding set.\n         *\n         * @private\n         */\n        this.hasRightPad = false;\n        /**\n         * The 'top' border padding set.\n         *\n         * @private\n         */\n        this.hasTopPad = false;\n        /**\n         * The 'bottom' border padding set.\n         *\n         * @private\n         */\n        this.hasBottomPad = false;\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottomPad = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n            this.hasLeftPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n            this.hasRightPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n            this.hasTopPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         *\n         * @param {number} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","/**\n * PdfGridStyleBase.ts class for EJ2-PDF\n */\nimport { PdfBorderOverlapStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfPaddings } from '../index';\nimport { PdfHorizontalOverflowType } from '../../../base/interface';\n/**\n * Base class for the `treegrid style`,\n */\nvar PdfTreeGridStyleBase = /** @class */ (function () {\n    function PdfTreeGridStyleBase() {\n    }\n    return PdfTreeGridStyleBase;\n}());\nexport { PdfTreeGridStyleBase };\n/**\n * `PdfTreeGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n *\n */\nvar PdfTreeGridStyle = /** @class */ (function () {\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     *\n     * @private\n     */\n    function PdfTreeGridStyle() {\n        this.cellSpacing = 0;\n        this.borderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        this.allowHorizontalOverflow = false;\n        this.horizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        this.cellPadding = new PdfPaddings();\n    }\n    return PdfTreeGridStyle;\n}());\nexport { PdfTreeGridStyle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders, TemporaryDictionary } from './index';\nimport { PdfHorizontalOverflowType } from '../../base/interface';\nimport { ElementLayouter, PdfLayoutResult, PdfLayoutFormat, SizeF, PointF, RectangleF, RowLayoutResult, PdfLayoutType, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat } from '@syncfusion/ej2-pdf-export';\nimport { pointToPixel } from '../../base/utils';\n/**\n *\n */\nvar PdfTreeGridLayouter = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayouter, _super);\n    function PdfTreeGridLayouter(baseFormat) {\n        var _this = _super.call(this, baseFormat) || this;\n        _this.columnRanges = [];\n        _this.repeatRowIndex = -1;\n        _this.currentBounds = new RectangleF(0, 0, 0, 0);\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGridLayouter.prototype, \"treegrid\", {\n        get: function () {\n            return this.elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridLayouter.prototype.layoutInternal = function (param) {\n        if (isNullOrUndefined(param)) {\n            throw Error('Argument Null Expection');\n        }\n        this.currentPage = param.page;\n        var format = param.format;\n        if (this.currentPage !== null) {\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        if (format !== null && format.break === PdfLayoutBreakType.FitColumnsToPage) {\n            /* eslint-disable-next-line */\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), new SizeF(this.treegrid.columns.width, this.currentGraphics.clientSize.height));\n        }\n        else {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        }\n        if (this.treegrid.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.treegrid.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        else {\n            throw Error('Please add row or header into grid');\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        if (param.bounds.height > 0) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        if (!this.treegrid.style.allowHorizontalOverflow && !this.treegrid.isFitToWidth) {\n            this.treegrid.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        else {\n            this.treegrid.measureColumnsWidth(this.currentBounds);\n            this.columnRanges.push([0, this.treegrid.columns.count - 1]);\n        }\n        return this.layoutOnPage(param);\n    };\n    /**\n     * `Determines the column draw ranges`.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = (this.treegrid['taskbar'].isAutoFit()) ? pointToPixel(this.currentGraphics.clientSize.width) - this.currentBounds.x : this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.treegrid.columns.count; i++) {\n            cellWidths += this.treegrid.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.treegrid.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                //endColumn = startColumn;\n                cellWidths = (endColumn <= i) ? this.treegrid.columns.getColumn(i).width : 0;\n            }\n        }\n        this.columnRanges.push([startColumn, this.treegrid.columns.count - 1]);\n    };\n    PdfTreeGridLayouter.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    PdfTreeGridLayouter.prototype.layoutOnPage = function (param) {\n        var format = this.getFormat(param.format);\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var rowsCount = this.treegrid.rows.count;\n            var i = 0;\n            var repeatRow = false;\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < rowsCount; j++) {\n                var row = this.treegrid.rows.getRow(j);\n                i++;\n                var originalHeight = this.currentBounds.y;\n                if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                    layoutedPages.add(this.currentPage, range);\n                }\n                var rowResult = this.drawRow(row);\n                //if height remains same, it is understood that row is not draw in the page.\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    this.repeatRowIndex = this.treegrid.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    this.repeatRowIndex = -1;\n                }\n                while (!rowResult.isFinish && startPage !== null) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        //If there is no space in the current page, add new page and then draw the remaining row.\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        this.checkBounds(format);\n                        rowResult = this.drawRow(row);\n                    }\n                    else if (!this.treegrid.allowRowBreakAcrossPages && i < length) {\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        break;\n                    }\n                    else if (i >= length) {\n                        break;\n                    }\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    this.startLocation.x = this.currentBounds.x;\n                    this.currentPage = this.getNextPageFormat(format);\n                    if (this.treegrid.enableHeader) {\n                        this.drawHeader();\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if (format.paginateBounds === new RectangleF(0, 0, 0, 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                }\n            }\n            if (this.columnRanges.indexOf(range) < this.columnRanges.length - 1 &&\n                startPage !== null && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPageFormat(format);\n                this.checkBounds(format);\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.treegrid.style.allowHorizontalOverflow\n            && this.treegrid.style.horizontalOverflowType === PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        return result;\n    };\n    PdfTreeGridLayouter.prototype.checkBounds = function (format) {\n        var location = new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n        if (format.paginateBounds === new RectangleF(0, 0, 0, 0) && this.startLocation === location) {\n            this.currentBounds.x += this.startLocation.x;\n            this.currentBounds.y += this.startLocation.y;\n        }\n    };\n    PdfTreeGridLayouter.prototype.drawHeader = function () {\n        this.drawRow(this.treegrid.rows.getRow(0));\n    };\n    PdfTreeGridLayouter.prototype.reArrangePages = function (layoutPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutPages.keys();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        for (var i = 0; i < layoutPages.size(); i++) {\n            var count = (layoutPages.size() / this.columnRanges.length);\n            for (var j = i; j < layoutPages.size(); j += count) {\n                var page = pages[j];\n                if (document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfTreeGridLayouter.prototype.getNextPageFormat = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        return nextPage;\n    };\n    PdfTreeGridLayouter.prototype.getLayoutResult = function () {\n        var bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n            this.startLocation.y));\n        return new PdfTreeGridLayoutResult(this.currentPage, bounds);\n    };\n    PdfTreeGridLayouter.prototype.checkIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    PdfTreeGridLayouter.prototype.drawRow = function (row, layoutResult, height) {\n        //.. Check if required space available.\n        //.....If the row conains spans which  falls through more than one page, then draw the row to next page.\n        if (isNullOrUndefined(layoutResult)) {\n            var result = new RowLayoutResult();\n            height = row.rowBreakHeight > 0 ? row.rowBreakHeight : row.height;\n            if (height > this.currentPageBounds.height) {\n                if (this.treegrid.allowRowBreakAcrossPages) {\n                    result.isFinish = true;\n                    this.drawRowWithBreak(result, row, height);\n                }\n                else {\n                    // If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.\n                    result.isFinish = false;\n                    this.drawRow(row, result, height);\n                }\n            }\n            else if (this.currentBounds.y + height > this.currentPageBounds.height ||\n                this.currentBounds.y + height > this.currentBounds.height) {\n                if (this.repeatRowIndex > -1 && this.repeatRowIndex === row.rowIndex) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        result.isFinish = true;\n                        this.drawRowWithBreak(result, row, height);\n                    }\n                    else {\n                        result.isFinish = false;\n                        this.drawRow(row, result, height);\n                    }\n                }\n                else {\n                    result.isFinish = false;\n                }\n            }\n            else {\n                result.isFinish = true;\n                this.drawRow(row, result, height);\n            }\n            return result;\n        }\n        else {\n            var location_1 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            layoutResult.bounds = new RectangleF(location_1, new SizeF(0, 0));\n            var leftAdjustment = 0;\n            height = this.reCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cell = row.cells.getCell(i);\n                var column = this.treegrid.columns.getColumn(i);\n                if (!isNullOrUndefined(cell.value)) {\n                    if (column.isTreeColumn) {\n                        leftAdjustment = (row.level) * 10;\n                    }\n                    var cancelSpans = ((cell.columnSpan > 1) && (i > this.cellEndIndex + 1));\n                    if (!cancelSpans) {\n                        for (var j = 1; j < cell.columnSpan; j++) {\n                            row.cells.getCell(i + j).isCellMergeContinue = true;\n                        }\n                    }\n                    var size = new SizeF(column.width, height);\n                    if (cell.columnSpan > 1) {\n                        size = new SizeF(cell.width, height);\n                        i += cell.columnSpan;\n                    }\n                    if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                        cell.style.format = column.format;\n                    }\n                    cell.draw(this.currentGraphics, new RectangleF(location_1, size), cancelSpans, leftAdjustment);\n                    /* eslint-disable-next-line */\n                    if (row.treegrid.style.allowHorizontalOverflow && (cell.columnSpan > this.cellEndIndex || i + cell.columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                        row.rowOverflowIndex = this.cellEndIndex;\n                    }\n                    location_1.x += column.width;\n                    leftAdjustment = 0;\n                }\n            }\n            this.currentBounds.y += height;\n            /* eslint-disable-next-line */\n            layoutResult.bounds = new RectangleF(new PointF(layoutResult.bounds.x, layoutResult.bounds.y), new SizeF(location_1.x, location_1.y));\n            return null;\n        }\n    };\n    /**\n     * @param {RowLayoutResult} result .\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     */\n    PdfTreeGridLayouter.prototype.drawRowWithBreak = function (result, row, height) {\n        var location = new PointF(this.currentBounds.x, this.currentBounds.y);\n        result.bounds = new RectangleF(location, new SizeF(0, 0));\n        var leftAdjustment = 0;\n        this.treegridHeight = this.currentBounds.height;\n        // Calculate the remaining height.\n        row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n        // No need to explicit break if the row height is equal to treegrid height.\n        for (var c = 0; c < row.cells.count; c++) {\n            var cell = row.cells.getCell(c);\n            var cellHeight = cell.measureHeight();\n            if (cellHeight === height && cell.value === null) {\n                row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n            }\n        }\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            var column = this.treegrid.columns.getColumn(i);\n            if (column.isTreeColumn) {\n                leftAdjustment = row.level * 10;\n            }\n            var cell = row.cells.getCell(i);\n            var cancelSpans = ((cell.columnSpan + i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n            if (!cancelSpans) {\n                for (var j = 1; j < cell.columnSpan; j++) {\n                    row.cells.getCell(i + j).isCellMergeContinue = true;\n                }\n            }\n            var tHeight = this.treegridHeight > 0 ? this.treegridHeight : this.currentBounds.height;\n            var size = new SizeF(column.width, tHeight);\n            if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                cell.style.format = column.format;\n            }\n            cell.draw(this.currentGraphics, new RectangleF(location, size), cancelSpans, leftAdjustment);\n            result.isFinish = (!result.isFinish) ? result.isFinish : cell.finishedDrawingCell;\n            location.x += column.width;\n            leftAdjustment = 0;\n            this.currentBounds.y += this.treegridHeight > 0 ? this.treegridHeight : height;\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location.x, location.y));\n        }\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.reCalculateHeight = function (row, height) {\n        var newHeight = 0;\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            if (!isNullOrUndefined(row.cells.getCell(i).remainingString) ||\n                row.cells.getCell(i).remainingString === '') {\n                newHeight = Math.max(newHeight, row.cells.getCell(i).measureHeight());\n            }\n        }\n        return Math.max(height, newHeight);\n    };\n    return PdfTreeGridLayouter;\n}(ElementLayouter));\nexport { PdfTreeGridLayouter };\nvar PdfTreeGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutResult, _super);\n    /**\n     * Constructor\n     *\n     * @param {PdfPage} page .\n     * @param {RectangleF} bounds .\n     * @private\n     */\n    function PdfTreeGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfTreeGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTreeGridLayoutResult };\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfTreeGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     *\n     * @param {PdfLayoutFormat} baseFormat .\n     * @private\n     */\n    function PdfTreeGridLayoutFormat(baseFormat) {\n        var _this = this;\n        if (typeof baseFormat === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, baseFormat) || this;\n        }\n        return _this;\n    }\n    return PdfTreeGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfTreeGridLayoutFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfTreeGridColumnCollection, PdfTreeGridHeaderCollection, PdfTreeGridRowCollection } from './pdf-base/index';\nimport { PdfTreeGridStyle, PdfBorders, PdfTreeGridLayouter } from './pdf-base/index';\nimport { PdfLayoutElement, RectangleF, PdfLayoutFormat, PointF, SizeF } from '@syncfusion/ej2-pdf-export';\n/**\n * PdfTreeGrid Class for EJ2-PDF\n */\nvar PdfTreeGrid = /** @class */ (function (_super) {\n    __extends(PdfTreeGrid, _super);\n    function PdfTreeGrid() {\n        var _this = _super.call(this) || this;\n        _this.treeGridSize = new SizeF(0, 0);\n        _this.treeColumnIndex = 0;\n        _this.allowRowBreakAcrossPages = true;\n        _this.enableHeader = true;\n        _this.isFitToWidth = false;\n        _this.columns = new PdfTreeGridColumnCollection(_this);\n        _this.rows = new PdfTreeGridRowCollection(_this);\n        _this.headers = new PdfTreeGridHeaderCollection(_this);\n        _this.style = new PdfTreeGridStyle();\n        _this.rowHeight = 0;\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGrid.prototype, \"size\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseBeginCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        // }\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseEndCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        // }\n        get: function () {\n            if ((this.treeGridSize.width === 0 && this.treeGridSize.height === 0)) {\n                this.treeGridSize = this.calculateTreeGridSize();\n            }\n            return this.treeGridSize;\n        },\n        set: function (value) {\n            this.treeGridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Draws` the element on the page with the specified page, 'RectangleF' class and layout format\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTreeGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 === null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    PdfTreeGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            var widths = this.columns.getDefaultWidths(bounds.width - bounds.x);\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n        else {\n            var widths = [];\n            var cellWidth = 0;\n            var totalWidth = 0;\n            var rowLevel = 0;\n            // if(this.headers.count > 0){\n            //     let colCount: number = this.headers.getHeader(0).cells.count;\n            //     for(let i: number = 0; i < colCount; i++){\n            //         let rowCount: number = this.headers.count;\n            //         for(let j: number = 0; j < rowCount; j++){\n            //             let tempWidth: number = this.headers.getHeader(j).cells.getCell(i).width;\n            //             let rowWidth: number = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) :\n            //                 tempWidth;\n            //             cellWidth = Math.max(cellWidth, rowWidth);\n            //         }\n            //         widths.push(cellWidth);\n            //     }\n            // }\n            var colCount = this.columns.count;\n            for (var i = 0; i < colCount; i++) {\n                var rowCount = this.rows.count;\n                for (var j = 0; j < rowCount; j++) {\n                    var tempWidth = this.rows.getRow(j).cells.getCell(i).width;\n                    var rowWidth = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) : tempWidth;\n                    cellWidth = Math.max(cellWidth, rowWidth);\n                    cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    if (this.columns.getColumn(i).isTreeColumn) {\n                        rowLevel = Math.max(rowLevel, this.rows.getRow(j).level);\n                    }\n                }\n                if (this.columns.getColumn(i).isTreeColumn) {\n                    widths.push(cellWidth + (rowLevel * 10));\n                }\n                else {\n                    widths.push(cellWidth);\n                }\n                // eslint-disable-next-line\n                totalWidth += cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n    };\n    PdfTreeGrid.prototype.calculateTreeGridSize = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfTreeGrid.prototype.drawGrid = function (page, x, y, format) {\n        this.initialWidth = page.graphics.clientSize.width;\n        var layout = new RectangleF(0, 0, page.getClientSize().height, 0);\n        return this.draw(page, layout, format);\n    };\n    PdfTreeGrid.prototype.layout = function (param) {\n        if (this.rows.count !== 0) {\n            var style = (this.rows.getRow(0).cells.count !== 0) ? this.rows.getRow(0).cells.getCell(0).style : null;\n            if (!isNullOrUndefined(style) && style.borders.left.width !== 1) {\n                var x = style.borders.left.width / 2;\n                var y = style.borders.top.width / 2;\n                if (param.bounds.x === PdfBorders.default.right.width / 2 &&\n                    param.bounds.y === PdfBorders.default.right.width / 2) {\n                    var newBound = new RectangleF(new PointF(x, y), new SizeF(this.size.width, this.size.height));\n                    param.bounds = newBound;\n                }\n            }\n        }\n        //  this.setSpan();\n        this.layouter = new PdfTreeGridLayouter(this);\n        var result = this.layouter.layoutInternal(param);\n        return result;\n    };\n    return PdfTreeGrid;\n}(PdfLayoutElement));\nexport { PdfTreeGrid };\n","import { PdfTreeGrid } from '../pdf-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectangleF, PdfTextAlignment, PdfBorderOverlapStyle, PointF, PdfDashStyle, PdfLineCap, PdfSolidBrush, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { SizeF, PdfFontStyle, PdfBitmap, PdfImage, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfStringLayouter } from '@syncfusion/ej2-pdf-export';\n/**@hidden*/\nvar PdfTreeGridCell = /** @class */ (function () {\n    function PdfTreeGridCell(row) {\n        this.cellWidth = 0;\n        this.cellHeight = 0;\n        /** @private */\n        this.finishedDrawingCell = true;\n        if (isNullOrUndefined(row)) {\n            this.rowSpan = 1;\n            this.columnSpan = 1;\n        }\n        else {\n            this.row = row;\n        }\n        this.style = {};\n    }\n    Object.defineProperty(PdfTreeGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0) {\n                this.cellWidth = this.measureWidth();\n            }\n            return Math.round(this.cellWidth);\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridCell.prototype.measureWidth = function () {\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string') {\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable-next-line */\n            var slr = layouter.layout(this.value, font, this.style.format, new SizeF(Number.MAX_VALUE, Number.MAX_VALUE), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.left !== 'undefined' && this.row.treegrid.style.cellPadding.hasLeftPad) {\n            width += this.row.treegrid.style.cellPadding.left;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.right !== 'undefined' && this.row.treegrid.style.cellPadding.hasRightPad) {\n            width += this.row.treegrid.style.cellPadding.right;\n        }\n        width += this.row.treegrid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    /* eslint-disable */\n    PdfTreeGridCell.prototype.measureHeight = function () {\n        var rowHeight = this.row.treegrid.rowHeight;\n        var height = 0;\n        var width = this.calculateWidth();\n        width -= this.row.treegrid.style.cellPadding.right + this.row.treegrid.style.cellPadding.left;\n        width -= this.style.borders ? this.style.borders.left.width + this.style.borders.right.width : 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var currentValue = this.value;\n            if (!this.finishedDrawingCell) {\n                currentValue = !(isNullOrUndefined(this.remainingString) || this.remainingString === '') ? this.remainingString : this.value;\n            }\n            var font = null;\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable */\n            var slr = layouter.layout(currentValue, font, this.style.format, new SizeF(width - 10, 0), false, new SizeF(0, 0));\n            var value = Math.max(slr.lineHeight, slr.actualSize.height);\n            if (currentValue.length > 80) {\n                height += value + 20;\n            }\n            else {\n                height += value + (slr.size.height / 2);\n            }\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        height += this.row.treegrid.style.cellPadding.top + this.row.treegrid.style.cellPadding.bottom;\n        height += this.row.treegrid.style.cellSpacing;\n        return height > rowHeight ? height : rowHeight;\n    };\n    /* eslint-enable */\n    PdfTreeGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.row.treegrid.columns.getColumn(cellIndex + i) ? this.row.treegrid.columns.getColumn(cellIndex + i).width : 0;\n        }\n        if (this.row.treegrid.columns.getColumn(cellIndex) && this.row.treegrid.columns.getColumn(cellIndex).isTreeColumn) {\n            width -= (this.row.level * 10);\n        }\n        return width;\n    };\n    /**\n     * `Draws` the specified graphics.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @param {boolean} cancelSubsequentSpans .\n     * @param {number} leftAdjustment .\n     * @returns {PdfStringLayoutResult} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans, leftAdjustment) {\n        var result = null;\n        var padding = 10;\n        // if (cancelSubsequentSpans) {\n        //     // Cancel all subsequent cell spans, if no space exists.\n        //     const currentCellIndex: number = this.row.cells.indexOf(this);\n        //     for (let i: number = currentCellIndex + 1; i <= currentCellIndex + this.columnSpan; i++) {\n        //         this.row.cells.getCell(i).isCellMergeContinue = false;\n        //         this.row.cells.getCell(i).isRowMergeContinue = false;\n        //     }\n        //     this.columnSpan = 1;\n        // }\n        // Skip cells which were already covered by span map.\n        // if (this.isCellMergeContinue || this.isRowMergeContinue) {\n        //     if (this.isCellMergeContinue && this.row.treegrid.style.allowHorizontalOverflow) {\n        //         if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) !== this.row.rowOverflowIndex + 1)) ||\n        //             (this.row.rowOverflowIndex === 0 && this.isCellMergeContinue)) {\n        //             return result;\n        //         } else {\n        //             return result;\n        //         }\n        //     }\n        // }\n        //bounds = this.adjustContentLayoutArea(bounds);\n        this.drawCellBackground(graphics, bounds);\n        var textPen = null;\n        var textBrush = new PdfSolidBrush(this.style.fontColor);\n        var font = null;\n        if (this.row.isParentRow) {\n            var fontStyle = PdfFontStyle.Bold;\n            if (this.style.fontStyle) {\n                fontStyle = this.style.fontStyle;\n            }\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, fontStyle);\n        }\n        else {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n        }\n        if (this.row.treegrid.ganttStyle.font) {\n            font = this.row.treegrid.ganttStyle.font;\n        }\n        var innerLayoutArea = bounds;\n        if (!this.isHeaderCell) {\n            /* eslint-disable-next-line */\n            innerLayoutArea.x = innerLayoutArea.x;\n            /* eslint-disable-next-line */\n            innerLayoutArea.width = innerLayoutArea.width;\n        }\n        if (innerLayoutArea.height >= graphics.clientSize.height) {\n            // To break row to next page\n            if (this.row.treegrid.allowRowBreakAcrossPages) {\n                innerLayoutArea.height -= innerLayoutArea.y;\n                bounds.height -= bounds.y;\n            }\n            else {\n                innerLayoutArea.height = graphics.clientSize.height;\n                bounds.height = graphics.clientSize.height;\n            }\n        }\n        innerLayoutArea = this.adjustContentLayoutArea(innerLayoutArea);\n        if (this.image && this.value) {\n            var imageBounds = void 0;\n            if (this.image.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.image.width, this.image.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.image, imageBounds.x, imageBounds.y - 5, imageBounds.width, imageBounds.height);\n            var temp = null;\n            // font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            var customisedFont = void 0;\n            var fontStyles = this.fontStyle;\n            if (!fontStyles) {\n                fontStyles = this.style;\n            }\n            var newFont = new PdfStandardFont(fontStyles.fontFamily, fontStyles.fontSize, fontStyles.fontStyle);\n            if (fontStyles.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = textBrush;\n            if (this.row.treegrid.ganttStyle.cell.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.row.treegrid.ganttStyle.cell.fontBrush);\n            }\n            if (this.row.treegrid.ganttStyle.cell.format.alignment && !this.isHeaderCell) {\n                this.style.format.alignment = this.row.treegrid.ganttStyle.cell.format.alignment;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment + (this.isHeaderCell && imageBounds.width ? imageBounds.width + 8 : 0)), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var temp = null;\n            var customisedFont = void 0;\n            var newFont = new PdfStandardFont(this.style.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.style.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = textBrush;\n            if (this.row.treegrid.ganttStyle.cell.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.row.treegrid.ganttStyle.cell.fontBrush);\n            }\n            if (this.row.treegrid.ganttStyle.cell.format.alignment && !this.isHeaderCell) {\n                this.style.format.alignment = this.row.treegrid.ganttStyle.cell.format.alignment;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y - 3, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (this.value instanceof PdfImage || this.value instanceof PdfBitmap) {\n            var imageBounds = void 0;\n            if (this.value.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.value.width, innerLayoutArea.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.value, imageBounds.x, imageBounds.y - 10, imageBounds.width, imageBounds.height);\n        }\n        else if (this.value instanceof PdfTextWebLink) {\n            this.value.draw(graphics.currentPage, innerLayoutArea);\n        }\n        if (this.style.borders !== null) {\n            this.drawCellBorder(graphics, bounds);\n        }\n        return result;\n    };\n    /**\n     * Draw the `cell background`.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = new PdfSolidBrush(this.style.backgroundColor);\n        if (backgroundBrush !== null) {\n            graphics.save();\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n        }\n        // if (this.style.backgroundImage !== null) {\n        //     let image: PdfImage = this.getBackgroundImage();\n        //     graphics.drawImage(this.style.backgroundImage, bounds.x, bounds.y, bounds.width, bounds.height);\n        // }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     *\n     * @param {RectangleF} bounds .\n     * @returns {RectangleF} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n        var cellPadding = this.style.padding;\n        if (this.value instanceof PdfTreeGrid) {\n            var size = this.value.size;\n            if (this.style.format.alignment === PdfTextAlignment.Center) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width) / 2;\n                returnBounds.y += cellPadding.top + (returnBounds.height - size.height) / 2;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Left) {\n                returnBounds.x += cellPadding.left;\n                returnBounds.y += cellPadding.top;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Right) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width);\n                returnBounds.y += cellPadding.top;\n            }\n        }\n        else {\n            returnBounds.x += cellPadding.left;\n            returnBounds.y += cellPadding.top;\n        }\n        return returnBounds;\n    };\n    /**\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBorder = function (graphics, bounds) {\n        if (this.row.treegrid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        if (this.style.borders.isAll && this.isHeaderCell) {\n            graphics.drawRectangle(this.style.borders.left, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n            return;\n        }\n        else {\n            var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n            var p2 = new PointF(bounds.x, bounds.y);\n            var pen = this.style.borders.left;\n            pen.lineCap = (this.style.borders.left.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            pen = this.style.borders.right;\n            if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n                p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n                p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n            }\n            pen.lineCap = (this.style.borders.right.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y);\n            pen = this.style.borders.top;\n            pen.lineCap = (this.style.borders.top.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            p2 = new PointF(bounds.x, bounds.y + bounds.height);\n            pen = this.style.borders.bottom;\n            if (bounds.y + bounds.height > graphics.clientSize.height - pen.width / 2) {\n                p1 = new PointF(bounds.x + bounds.width, graphics.clientSize.height - pen.width / 2);\n                p2 = new PointF(bounds.x, graphics.clientSize.height - pen.width / 2);\n            }\n            pen.lineCap = (this.style.borders.bottom.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n        }\n    };\n    return PdfTreeGridCell;\n}());\nexport { PdfTreeGridCell };\n/**\n * `PdfTreeGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridCell' objects.\n *\n * @private\n */\nvar PdfTreeGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     *\n     * @param { PdfTreeGridRow} row .\n     * @private\n     */\n    function PdfTreeGridCellCollection(row) {\n        this.treegridRow = row;\n        this.cells = [];\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridCell} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfTreeGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` this instance.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {PdfTreeGridCell | void} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfTreeGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.treegridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfTreeGridCellCollection;\n}());\nexport { PdfTreeGridCellCollection };\n/**\n *\n */\nvar PdfTreeGridRow = /** @class */ (function () {\n    function PdfTreeGridRow(treegrid) {\n        this.treegridRowOverflowIndex = 0;\n        this.rowHeight = 0;\n        this.rowWidth = 0;\n        /* eslint-disable-next-line */\n        this._isParentRow = false;\n        this.intendLevel = 0;\n        this.pdfTreeGrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRow.prototype, \"cells\", {\n        get: function () {\n            if (isNullOrUndefined(this.treegridCells)) {\n                this.treegridCells = new PdfTreeGridCellCollection(this);\n            }\n            return this.treegridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"isParentRow\", {\n        get: function () {\n            return this._isParentRow;\n        },\n        set: function (value) {\n            this._isParentRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"treegrid\", {\n        get: function () {\n            return this.pdfTreeGrid;\n        },\n        set: function (value) {\n            this.pdfTreeGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (typeof this.treegridRowBreakHeight === 'undefined') {\n                this.treegridRowBreakHeight = 0;\n            }\n            return this.treegridRowBreakHeight;\n        },\n        set: function (value) {\n            this.treegridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowOverflowIndex\", {\n        /**\n         * `over flow index` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.treegridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.treegridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"level\", {\n        get: function () {\n            return this.intendLevel;\n        },\n        set: function (value) {\n            this.intendLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowHeight === 0) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowWidth === 0) {\n                this.rowWidth = this.measureWidth();\n            }\n            return this.rowWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowIndex\", {\n        get: function () {\n            return this.treegrid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRow.prototype.measureWidth = function () {\n        var columns = this.treegrid.columns.columns;\n        var totalWidth = 0;\n        for (var i = 0; i < columns.length; i++) {\n            var column = columns[i];\n            totalWidth += column.width;\n        }\n        return totalWidth;\n    };\n    PdfTreeGridRow.prototype.measureHeight = function () {\n        var rowHeight = (this.cells.count !== 0 &&\n            !isNullOrUndefined(this.cells.getCell(0).height)) ? this.cells.getCell(0).height : 33;\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            if (cell.columnSpan === 1 || cell.rowSpan === 1) {\n                rowHeight = Math.max(rowHeight, cell.height);\n            }\n            else {\n                rowHeight = Math.min(rowHeight, cell.height);\n            }\n            cell.height = rowHeight;\n        }\n        return rowHeight;\n    };\n    return PdfTreeGridRow;\n}());\nexport { PdfTreeGridRow };\n/**\n * `PdfTreeGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfTreeGridRow' objects.\n *\n * @private\n */\nvar PdfTreeGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridRowCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridRowCollection(treegrid) {\n        this.rows = [];\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfTreeGrid`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `treegrid`.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRowCollection.prototype.addRow = function (row) {\n        if (typeof row === 'undefined') {\n            var row_1 = new PdfTreeGridRow(this.treegrid);\n            this.addRow(row_1);\n            return row_1;\n        }\n        else {\n            if (row.cells.count === 0) {\n                for (var i = 0; i < this.treegrid.columns.count; i++) {\n                    row.cells.add(new PdfTreeGridCell());\n                }\n            }\n            this.rows.push(row);\n        }\n    };\n    /**\n     * Return the row by index.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfTreeGridRowCollection;\n}());\nexport { PdfTreeGridRowCollection };\n/**\n * `PdfTreeGridHeaderCollection` class provides customization of the settings for the header.\n *\n * @private\n */\nvar PdfTreeGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridHeaderCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridHeaderCollection(treegrid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        this.rows = [];\n        this.treegrid = treegrid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfTreeGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.getHeader = function (index) {\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfTreeGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` the specified row.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.add = function (row) {\n        this.rows.push(row);\n    };\n    PdfTreeGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfTreeGridHeaderCollection;\n}());\nexport { PdfTreeGridHeaderCollection };\nvar PdfTreeGridColumn = /** @class */ (function () {\n    function PdfTreeGridColumn(treegrid) {\n        this.columnWidth = 0;\n        this.treeColumnIndex = false;\n        this._headerText = '';\n        this._field = '';\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"headerText\", {\n        get: function () {\n            return this._headerText;\n        },\n        set: function (value) {\n            this._headerText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"field\", {\n        get: function () {\n            return this._field;\n        },\n        set: function (value) {\n            this._field = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"width\", {\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"isTreeColumn\", {\n        get: function () {\n            return this.treeColumnIndex;\n        },\n        set: function (value) {\n            this.treeColumnIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         *\n         * @returns {PdfStringFormat} .\n         * @private\n         */\n        get: function () {\n            if (isNullOrUndefined(this.stringFormat)) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTreeGridColumn;\n}());\nexport { PdfTreeGridColumn };\n/**\n * `PdfTreeGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridColumn' objects.\n *\n * @private\n */\nvar PdfTreeGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfTreeGridColumnCollection` class with the parent grid.\n     *\n     * @param { PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridColumnCollection(treegrid) {\n        /**\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @private\n         */\n        this.columnWidth = 0;\n        this.treegrid = treegrid;\n        this.internalColumns = [];\n    }\n    //Implementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     *\n     * @param {number} count .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfTreeGridColumn(this.treegrid));\n            for (var index = 0; index < this.treegrid.rows.count; index++) {\n                var row = this.treegrid.rows.getRow(index);\n                var cell = new PdfTreeGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         *\n         * @returns {PdfTreeGridColumn[]} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfTreeGridColumn` from the specified index.[Read-Only]\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridColumn} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     *\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        this.treegrid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     *\n     * @param {number} totalWidth .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            widths[i] = this.internalColumns[i].width;\n            if (this.internalColumns[i].width > 0) {\n                totalWidth -= this.internalColumns[i].width;\n                subFactor--;\n            }\n            else {\n                widths[i] = 0;\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfTreeGridColumnCollection;\n}());\nexport { PdfTreeGridColumnCollection };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfFontFamily, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush, SizeF, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent) {\n        this.totalColumnWidth = 0;\n        this.beforeSinglePageExport = {};\n        this.baselineHeight = 8;\n        this.parent = parent;\n    }\n    ExportHelper.prototype.processToFit = function () {\n        this.beforeSinglePageExport['zoomingProjectStartDate'] = this.parent.zoomingProjectStartDate;\n        this.beforeSinglePageExport['zoomingProjectEndDate'] = this.parent.zoomingProjectEndDate;\n        this.beforeSinglePageExport['cloneProjectStartDate'] = this.parent.cloneProjectStartDate;\n        this.beforeSinglePageExport['cloneProjectEndDate'] = this.parent.cloneProjectEndDate;\n        this.beforeSinglePageExport['customTimelineSettings'] = extend({}, this.parent.timelineModule.customTimelineSettings, null, true);\n        this.beforeSinglePageExport['isTimelineRoundOff'] = this.parent.isTimelineRoundOff;\n        this.beforeSinglePageExport['topTier'] = this.parent.timelineModule.topTier;\n        this.beforeSinglePageExport['topTierCellWidth'] = this.parent.timelineModule.topTierCellWidth;\n        this.beforeSinglePageExport['topTierCollection'] = this.parent.timelineModule.topTierCollection;\n        this.beforeSinglePageExport['bottomTier'] = this.parent.timelineModule.bottomTier;\n        this.beforeSinglePageExport['bottomTierCellWidth'] = this.parent.timelineModule.bottomTierCellWidth;\n        this.beforeSinglePageExport['bottomTierCollection'] = this.parent.timelineModule.bottomTierCollection;\n        this.beforeSinglePageExport['totalTimelineWidth'] = this.parent.timelineModule.totalTimelineWidth;\n        this.beforeSinglePageExport['timelineStartDate'] = this.parent.timelineModule.timelineStartDate;\n        this.beforeSinglePageExport['timelineEndDate'] = this.parent.timelineModule.timelineEndDate;\n        this.beforeSinglePageExport['timelineRoundOffEndDate'] = this.parent.timelineModule.timelineRoundOffEndDate;\n        this.beforeSinglePageExport['perDayWidth'] = this.parent.perDayWidth;\n        this.beforeSinglePageExport['updatedConnectorLineCollection'] = extend([], this.parent.updatedConnectorLineCollection, null, true);\n        this.parent.timelineModule.isZoomToFit = true;\n        this.parent.timelineModule.isZooming = false;\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartsideWidth;\n        var gridWidth;\n        if (this.exportProps.fitToWidthSettings.gridWidth) {\n            gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n        }\n        if (this.exportProps.fitToWidthSettings.chartWidth) {\n            chartsideWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n        }\n        else {\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                chartsideWidth = 100 - gridWidth;\n            }\n            else {\n                chartsideWidth = 70;\n            }\n        }\n        var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * chartsideWidth) / 100;\n        var chartWidth = pdfwidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.parent.timelineModule['calculateNumberOfTimelineCells'](newTimeline);\n        var scrollHeight = this.parent.pdfExportModule['pdfPageDimensions'].height; //17 is horizontal scrollbar width\n        var emptySpace = scrollHeight <= 0 ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        this.parent.timelineModule['changeTimelineSettings'](newTimeline);\n        this.parent.timelineModule.isZoomToFit = false;\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * @param {IGanttData[]} data .\n     * @param {PdfGantt} gantt .\n     * @param {PdfExportProperties} props .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n        this.flatData = data;\n        this.gantt = gantt;\n        this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n        this.exportProps = props;\n        this.rowIndex = 0;\n        this.colIndex = 0;\n        this.columns = this.parent.treeGrid.columns;\n        this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n        this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n        this.gantt.style.cellPadding.left = 0;\n        this.gantt.style.cellPadding.right = 0;\n        this.ganttStyle = this.gantt.ganttStyle;\n        this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n        this.parent.pdfExportModule.isPdfExport = true;\n        if (this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            this.processToFit();\n        }\n        this.processHeaderContent();\n        this.processGanttContent();\n        this.processTimeline();\n        this.processTaskbar();\n        this.processPredecessor();\n        this.parent.pdfExportModule.isPdfExport = false;\n    };\n    ExportHelper.prototype.processHeaderContent = function () {\n        var _this = this;\n        this.rowIndex++;\n        this.row = this.gantt.rows.addRow();\n        var index = 0;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processColumnHeader(column, index);\n                index++;\n            }\n        });\n    };\n    ExportHelper.prototype.processColumnHeader = function (column, index) {\n        this.gantt.columns.add(1);\n        var pdfColumn = this.gantt.columns.getColumn(index);\n        if (this.parent.treeColumnIndex === index) {\n            pdfColumn.isTreeColumn = true;\n        }\n        var width = parseInt(column.width, 10);\n        pdfColumn.width = pixelToPoint(width);\n        this.totalColumnWidth += pdfColumn.width;\n        pdfColumn.headerText = column.headerText;\n        pdfColumn.field = column.field;\n        var cell = this.row.cells.getCell(index);\n        cell.value = column.headerText;\n        cell.isHeaderCell = true;\n        if (this.ganttStyle && this.ganttStyle.columnHeader &&\n            !isNullOrUndefined(this.ganttStyle.columnHeader.fontBrush)) {\n            cell.style.fontBrush = new PdfColor(this.ganttStyle.columnHeader.fontBrush);\n        }\n        var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n        this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n        this.row.height = pixelToPoint(treeGridHeaderHeight);\n        if (column.headerTextAlign) {\n            cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n        }\n        var template = {\n            image: null,\n            value: null,\n            fontStyle: { fontBrush: null }\n        };\n        cell.fontStyle = {\n            fontSize: 9\n        };\n        var args = {\n            cell: cell,\n            style: cell.style,\n            value: cell.value,\n            column: column,\n            image: null,\n            headerTemplate: template\n        };\n        if (this.parent.pdfColumnHeaderQueryCellInfo) {\n            this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n        }\n        if (args.headerTemplate.image && args.headerTemplate.value) {\n            args.image = new PdfBitmap(args.headerTemplate.image[0].base64);\n            args.image.height = args.headerTemplate.image[0].height || args.image.height;\n            args.image.width = args.headerTemplate.image[0].width || args.image.width;\n            cell.image = args.image;\n            cell.value = args.headerTemplate.value;\n            cell.fontStyle.fontSize = args.headerTemplate.fontStyle.fontSize;\n            cell.fontStyle.fontFamily = args.headerTemplate.fontStyle.fontFamily;\n            cell.fontStyle.fontBrush = args.headerTemplate.fontStyle.fontColor;\n        }\n        else {\n            cell.value = args.value;\n        }\n    };\n    ExportHelper.prototype.isColumnVisible = function (column) {\n        var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n        return (visibleColumn);\n    };\n    ExportHelper.prototype.processGanttContent = function () {\n        var _this = this;\n        if (this.flatData.length === 0) {\n            this.renderEmptyGantt();\n        }\n        else {\n            var flatData = this.flatData;\n            flatData.forEach(function (data) {\n                _this.row = _this.gantt.rows.addRow();\n                if (data.hasChildRecords) {\n                    _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n                    _this.processRecordRow(data);\n                }\n                else {\n                    _this.processRecordRow(data);\n                }\n                _this.rowIndex++;\n            });\n        }\n    };\n    /**\n     * Method for processing the timeline details\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTimeline = function () {\n        if (this.parent.enableTimelineVirtualization) {\n            this.parent.timelineModule.pdfExportTopTierCollection = [];\n            this.parent.timelineModule.pdfExportBottomTierCollection = [];\n            this.parent.timelineModule.createTimelineSeries();\n        }\n        var timelineSettings = this.parent.timelineModule;\n        this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight\n            = (this.parent.timelineModule.isSingleTier ? 45 : 60 / 2);\n        this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n        this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n        this.gantt.chartHeader.topTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportTopTierCollection : timelineSettings.topTierCollection, true);\n        this.gantt.chartHeader.bottomTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportBottomTierCollection : timelineSettings.bottomTierCollection, true);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth &&\n            this.parent.enableTimelineVirtualization) {\n            var tier = timelineSettings.topTier === 'None' ? 'bottomTier' : 'topTier';\n            this.gantt.chartHeader.width = timelineSettings['calculateWidthBetweenTwoDate'](tier, timelineSettings.timelineStartDate, timelineSettings.timelineEndDate);\n        }\n        else {\n            this.gantt.chartHeader.width = this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth :\n                timelineSettings.totalTimelineWidth;\n        }\n        this.gantt.chartHeader.height = !isNullOrUndefined(this.gantt.rows.getRow(0).height) ? this.gantt.rows.getRow(0).height : 65;\n        this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n    };\n    /**\n     * Method for create the predecessor collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processPredecessor = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n            this.parent.pdfExportModule.isPdfExport = true;\n            this.parent.predecessorModule.createConnectorLinesCollection(this.flatData);\n            this.parent.updatedConnectorLineCollection.forEach(function (data) {\n                var predecessor = _this.gantt.predecessor.add();\n                predecessor.parentLeft = data.parentLeft;\n                predecessor.childLeft = data.childLeft;\n                predecessor.parentWidth = data.parentWidth;\n                predecessor.childWidth = data.childWidth;\n                predecessor.parentIndex = _this.findIndexUsingParent(_this.flatData, data.parentIndex);\n                predecessor.childIndex = _this.findIndexUsingParent(_this.flatData, data.childIndex);\n                predecessor.rowHeight = data.rowHeight;\n                predecessor.type = data.type;\n                predecessor.milestoneParent = data.milestoneParent;\n                predecessor.milestoneChild = data.milestoneChild;\n                predecessor.parentEndPoint = data.parentEndPoint;\n                predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n                if (data.isCritical) {\n                    predecessor.connectorLineColor = _this.ganttStyle.criticalConnectorLineColor;\n                }\n                else {\n                    predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n                }\n                _this.gantt.predecessorCollection.push(predecessor);\n            });\n            this.parent.pdfExportModule.isPdfExport = false;\n        }\n    };\n    ExportHelper.prototype.findIndexUsingParent = function (expandedRecord, parentIndex) {\n        return expandedRecord.findIndex(function (data) { return data.index === parentIndex; });\n    };\n    ExportHelper.prototype.processRecordRow = function (data) {\n        var _this = this;\n        this.colIndex = 0;\n        this.row.level = data.level;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processRecordCell(data, column, _this.row);\n                _this.colIndex++;\n            }\n        });\n    };\n    ExportHelper.prototype.processRecordCell = function (data, column, row) {\n        var cell = row.cells.getCell(this.colIndex);\n        var taskFields = this.parent.taskFields;\n        var ganttProps = data.ganttProperties;\n        if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n            cell.value = data[column.field];\n        }\n        else if (column.field === taskFields.duration) {\n            cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n        }\n        else if (column.field === taskFields.resourceInfo) {\n            cell.value = ganttProps.resourceNames;\n        }\n        else if (column.field === taskFields.work) {\n            cell.value = this.parent.getWorkString(ganttProps.work, ganttProps.workUnit);\n        }\n        else {\n            cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n        }\n        var cellValueString = !isNullOrUndefined(cell.value) ? cell.value.toString() : '';\n        var cellValue = cellValueString;\n        var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n        cell.isHeaderCell = false;\n        cell.style.padding = new PdfPaddings();\n        this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n        if (column['index'] !== this.parent.treeColumnIndex) {\n            cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n        }\n        else {\n            cell.style.format.paragraphIndent = cell.row.level * 10;\n        }\n        var args = {\n            data: data,\n            value: value,\n            column: column,\n            style: cell.style,\n            cell: cell\n        };\n        args.value = this.exportValueFormatter.formatCellValue(args);\n        if (this.parent.pdfQueryCellInfo) {\n            this.parent.trigger('pdfQueryCellInfo', args);\n            if (args.style.backgroundColor) {\n                cell.style.backgroundColor = args.style.backgroundColor;\n            }\n            if (args.style.borderColor) {\n                cell.style.borderColor = args.style.borderColor;\n            }\n            if (args.style.fontBrush) {\n                cell.style.fontBrush = args.style.fontBrush;\n            }\n            if (args.style.fontColor) {\n                cell.style.fontColor = args.style.fontColor;\n            }\n            if (args.style.fontFamily) {\n                var font = args.style.fontFamily;\n                var fontFamily = this.getFontFamily(font);\n                cell.style.fontFamily = fontFamily;\n            }\n            else {\n                cell.style.fontFamily = this.ganttStyle.fontFamily;\n            }\n            if (args.style.fontSize) {\n                cell.style.fontSize = args.style.fontSize;\n            }\n            if (args.style.fontStyle) {\n                var style = args.style.fontStyle;\n                var fontStyle = this.getFontStyle(style);\n                cell.style.fontStyle = fontStyle;\n            }\n            else {\n                cell.style.fontStyle = this.ganttStyle.footer.fontStyle;\n            }\n            if (args.style.format) {\n                cell.style.format = args.style.format;\n            }\n            if (args.style.padding) {\n                cell.style.padding = args.style.padding;\n            }\n        }\n        if (!isNullOrUndefined(args.image) && !isNullOrUndefined(args.image.base64)) {\n            var dimension = extend({}, args.image, null, true);\n            args.image = new PdfBitmap(args.image.base64);\n            args.image.height = dimension['height'] ? dimension['height'] : args.image.height;\n            args.image.width = dimension['width'] ? dimension['width'] : args.image.width;\n            cell.image = args.image;\n        }\n        cell.value = args.value;\n        if (!isNullOrUndefined(args.hyperLink) && (!isNullOrUndefined(args.hyperLink.displayText) ||\n            !isNullOrUndefined(args.hyperLink.target))) {\n            cell.value = this.setHyperLink(args);\n        }\n    };\n    ExportHelper.prototype.setHyperLink = function (args) {\n        // create the Text Web Link\n        var textLink = new PdfTextWebLink();\n        // set the hyperlink\n        textLink.url = args.hyperLink.target;\n        // set the link text\n        textLink.text = args.hyperLink.displayText || args.hyperLink.target;\n        // set the font\n        textLink.font = new PdfStandardFont(PdfFontFamily.Helvetica, 9.75);\n        // set the brush and pen for the text color\n        textLink.brush = new PdfSolidBrush(new PdfColor(51, 102, 187));\n        return textLink;\n    };\n    /**\n     * Method for create the taskbar collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTaskbar = function () {\n        var _this = this;\n        var flatData = this.flatData;\n        flatData.forEach(function (data) {\n            var taskbar = _this.gantt.taskbar.add();\n            var ganttProp = data.ganttProperties;\n            taskbar.left = ganttProp.left;\n            taskbar.width = ganttProp.width;\n            if (taskbar.left < 0) {\n                taskbar.width = taskbar.width + taskbar.left;\n                taskbar.left = 0;\n            }\n            taskbar.progress = ganttProp.progress;\n            taskbar.isScheduledTask = isScheduledTask(ganttProp);\n            if (isScheduledTask) {\n                if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'startDate';\n                }\n                else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'endDate';\n                }\n                else {\n                    taskbar.unscheduledTaskBy = 'duration';\n                    taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n                    taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n                }\n            }\n            // else {\n            //     taskbar.unscheduleStarteDate = null;\n            //     taskbar.unscheduleEndDate = null;\n            // }\n            taskbar.startDate = ganttProp.startDate;\n            taskbar.endDate = ganttProp.endDate;\n            taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n            // if (this.parent.renderBaseline) {\n            //     let height: number;\n            //     if ((taskbar.height + this.baselineHeight) <= this.parent.rowHeight) {\n            //         height = taskbar.height;\n            //     } else {\n            //         height = taskbar.height - (this.baselineHeight + 1);\n            //     }\n            //     taskbar.height = height;\n            // }\n            taskbar.indicators = ganttProp.indicators;\n            taskbar.autoStartDate = ganttProp.autoStartDate;\n            taskbar.autoEndDate = ganttProp.autoEndDate;\n            taskbar.isAutoSchedule = ganttProp.isAutoSchedule;\n            taskbar.autoWidth = ganttProp.autoWidth;\n            taskbar.autoLeft = ganttProp.autoLeft;\n            taskbar.segment = ganttProp.segments;\n            taskbar.isSpliterTask = (isNullOrUndefined(ganttProp.segments) || ganttProp.segments.length === 0) ? false : true;\n            if (taskbar.isSpliterTask) {\n                taskbar.segmentCollection = taskbar.segment.map(function (obj) { return (__assign({}, obj)); });\n            }\n            taskbar.baselineTop = _this.parent.chartRowsModule.baselineTop;\n            taskbar.isMilestone = ganttProp.isMilestone;\n            taskbar.baselineStartDate = ganttProp.baselineStartDate;\n            taskbar.baselineEndDate = ganttProp.baselineEndDate;\n            taskbar.baselineLeft = ganttProp.baselineLeft;\n            taskbar.baselineWidth = ganttProp.baselineWidth;\n            if (taskbar.baselineLeft < 0) {\n                taskbar.baselineWidth = taskbar.baselineWidth + taskbar.baselineLeft;\n                taskbar.baselineLeft = 0;\n            }\n            taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n            taskbar.isParentTask = data.hasChildRecords;\n            if (ganttProp.isMilestone) {\n                taskbar.height = ganttProp.width;\n            }\n            if (data[_this.parent.labelSettings.leftLabel]) {\n                taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n            }\n            if (data[_this.parent.labelSettings.rightLabel]) {\n                taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n            }\n            if (!isNullOrUndefined(data[_this.parent.labelSettings.taskLabel])) {\n                taskbar.taskLabel = data[_this.parent.labelSettings.taskLabel].toString();\n            }\n            var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n            taskbar.rightTaskLabel.left = ganttProp.left + ganttProp.width + reduceLeft; // right label left value\n            taskbar.fontFamily = _this.ganttStyle.fontFamily;\n            taskbar.progressWidth = ganttProp.progressWidth;\n            taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n            taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n            if (taskbar.isParentTask) {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n            }\n            else {\n                if (data.isCritical) {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.criticalProgressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskBorderColor);\n                    taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                }\n                else {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n                }\n            }\n            taskbar.manualParentBorder = new PdfColor(_this.ganttStyle.taskbar.manualParentBorder);\n            taskbar.manualChildBorder = new PdfColor(_this.ganttStyle.taskbar.manualChildBorder);\n            taskbar.manuallineColor = new PdfColor(_this.ganttStyle.taskbar.manualLineColor);\n            taskbar.unscheduledTaskBarColor = new PdfColor(_this.ganttStyle.taskbar.unscheduledTaskBarColor);\n            taskbar.manualParentBackground = new PdfColor(_this.ganttStyle.taskbar.manualParentBackground);\n            taskbar.manualParentProgress = new PdfColor(_this.ganttStyle.taskbar.manualParentProgress);\n            taskbar.manualChildBackground = new PdfColor(_this.ganttStyle.taskbar.manualChildBackground);\n            taskbar.manualChildProgress = new PdfColor(_this.ganttStyle.taskbar.manualChildProgress);\n            taskbar.splitLineBackground = new PdfColor(_this.ganttStyle.taskbar.splitLineBackground);\n            taskbar.baselineColor = new PdfColor(_this.ganttStyle.taskbar.baselineColor);\n            taskbar.baselineBorderColor = new PdfColor(_this.ganttStyle.taskbar.baselineBorderColor);\n            taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n            var labelTemplateStyle = {};\n            labelTemplateStyle.leftLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.rightLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.taskLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            taskbar.labelSettings = labelTemplateStyle;\n            var taskbarTemplate = {\n                value: null,\n                image: null,\n                fontStyle: { fontBrush: null }\n            };\n            taskbar.taskbarTemplate = taskbarTemplate;\n            _this.gantt.taskbarCollection.push(taskbar);\n            var taskStyle = {};\n            taskStyle.progressFontColor = taskbar.progressFontColor;\n            taskStyle.taskColor = taskbar.taskColor;\n            taskStyle.taskBorderColor = taskbar.taskBorderColor;\n            taskStyle.progressColor = taskbar.progressColor;\n            taskStyle.milestoneColor = taskbar.milestoneColor;\n            taskStyle.baselineColor = taskbar.baselineColor;\n            taskStyle.baselineBorderColor = taskbar.baselineBorderColor;\n            var args = {\n                taskbar: taskStyle,\n                data: data,\n                indicators: data.ganttProperties.indicators,\n                labelSettings: labelTemplateStyle,\n                taskbarTemplate: taskbarTemplate\n            };\n            if (_this.parent.pdfQueryTaskbarInfo) {\n                var segmentCollection = [];\n                args.taskbar.taskSegmentStyles = null;\n                if (args.data.ganttProperties.segments) {\n                    for (var i = 0; i < args.data.ganttProperties.segments.length; i++) {\n                        var segmentTaskbar = {\n                            taskColor: args.taskbar.taskColor,\n                            taskBorderColor: args.taskbar.taskBorderColor,\n                            progressColor: args.taskbar.progressColor\n                        };\n                        segmentCollection.push(segmentTaskbar);\n                    }\n                    args.taskbar.taskSegmentStyles = segmentCollection;\n                }\n                _this.parent.trigger('pdfQueryTaskbarInfo', args);\n                taskbar.taskSegmentStyles = args.taskbar.taskSegmentStyles;\n                taskbar.progressFontColor = args.taskbar.progressFontColor;\n                taskbar.taskColor = args.taskbar.taskColor;\n                taskbar.taskBorderColor = args.taskbar.taskBorderColor;\n                taskbar.progressColor = args.taskbar.progressColor;\n                taskbar.milestoneColor = args.taskbar.milestoneColor;\n                taskbar.baselineColor = args.taskbar.baselineColor;\n                taskbar.baselineBorderColor = args.taskbar.baselineBorderColor;\n                taskbar.indicators = args.indicators;\n                taskbar.labelSettings.leftLabel.value = args.labelSettings.leftLabel.value;\n                var leftImages = args.labelSettings.leftLabel.image;\n                taskbar.labelSettings.rightLabel.value = args.labelSettings.rightLabel.value;\n                var rightImage = args.labelSettings.rightLabel.image;\n                if (!isNullOrUndefined(args.labelSettings.taskLabel.value)) {\n                    taskbar.taskLabel = args.labelSettings.taskLabel.value;\n                }\n                if (!isNullOrUndefined(args.labelSettings.leftLabel.image) && Array.isArray(args.labelSettings.leftLabel.image[0].base64)\n                    && args.labelSettings.leftLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.leftLabel.image[0].base64.length;\n                    taskbar.labelSettings.leftLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.leftLabel.image.push({\n                            base64: leftImages[0].base64[i],\n                            width: leftImages[0].width,\n                            height: leftImages[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.leftLabel.image)) {\n                    taskbar.labelSettings.leftLabel.image = args.labelSettings.leftLabel.image;\n                }\n                if (!isNullOrUndefined(args.labelSettings.rightLabel.image) && Array.isArray(args.labelSettings.rightLabel.image[0].base64)\n                    && args.labelSettings.rightLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.rightLabel.image[0].base64.length;\n                    taskbar.labelSettings.rightLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.rightLabel.image.push({\n                            base64: rightImage[0].base64[i],\n                            width: rightImage[0].width,\n                            height: rightImage[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.rightLabel.image)) {\n                    taskbar.labelSettings.rightLabel.image = args.labelSettings.rightLabel.image;\n                }\n                /* eslint-disable-next-line */\n                var applyTemplate = function (target, source) {\n                    target.progressFontColor = source.taskbar.progressFontColor;\n                    target.taskColor = new PdfColor(source.taskbar.taskColor);\n                    target.taskBorderColor = source.taskbar.taskBorderColor;\n                    target.progressColor = source.taskbar.progressColor;\n                    target.milestoneColor = source.taskbar.milestoneColor;\n                    if (!isNullOrUndefined(source.taskbarTemplate.image) && !isNullOrUndefined(source.taskbarTemplate.image[0].base64)) {\n                        var width = source.taskbarTemplate.image[0].width;\n                        var milestoneHeight = taskbar.isMilestone ? ((source.taskbarTemplate.image[0].height <\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7)) ? source.taskbarTemplate.image[0].height :\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2) : (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2;\n                        var taskbarHeight = !isNullOrUndefined(source.taskbarTemplate.image[0].height) ?\n                            ((source.taskbarTemplate.image[0].height < taskbar.height) ?\n                                source.taskbarTemplate.image[0].height : taskbar.height - 2) : taskbar.height - 2;\n                        var height = taskbar.isMilestone ? milestoneHeight : taskbarHeight;\n                        target.taskbarTemplate.image = source.taskbarTemplate.image;\n                        target.taskbarTemplate.image[0].width = width;\n                        target.taskbarTemplate.image[0].height = height;\n                    }\n                    if (!isNullOrUndefined(source.taskbarTemplate.value)) {\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.fontStyle.fontColor = source.taskbarTemplate.fontStyle.fontColor;\n                        target.taskbarTemplate.fontStyle.fontSize = source.taskbarTemplate.fontStyle.fontSize;\n                        target.taskbarTemplate.fontStyle.fontFamily = source.taskbarTemplate.fontStyle.fontFamily;\n                        target.taskbarTemplate.fontStyle.fontStyle = source.taskbarTemplate.fontStyle.fontStyle;\n                        target.taskbarTemplate.fontStyle.fontBrush = source.taskbarTemplate.fontStyle.fontBrush;\n                    }\n                };\n                if (!args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.ganttProperties.duration === 0) {\n                    applyTemplate(taskbar, args);\n                }\n            }\n        });\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     *\n     * @param {string} textAlign .\n     * @param {PdfStringFormat} format .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     *\n     * @param {string} verticalAlign .\n     * @param {PdfStringFormat} format .\n     * @param {string} textAlign .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    ExportHelper.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getFontStyle = function (fontStyle) {\n        switch (fontStyle) {\n            case 'Strikeout':\n                return 8;\n            case 'Underline':\n                return 4;\n            case 'Italic':\n                return 2;\n            case 'Bold':\n                return 1;\n            default:\n                return 0;\n        }\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportHelper.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var defaultFontFamily = this.exportProps.ganttStyle && this.exportProps.ganttStyle.fontFamily ?\n            this.exportProps.ganttStyle.fontFamily : PdfFontFamily.TimesRoman;\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : defaultFontFamily;\n        var fontStyle = PdfFontStyle.Regular;\n        // if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n        //     fontStyle |= PdfFontStyle.Bold;\n        // }\n        // if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n        //     fontStyle |= PdfFontStyle.Italic;\n        // }\n        // if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n        //     fontStyle |= PdfFontStyle.Underline;\n        // }\n        // if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n        //     fontStyle |= PdfFontStyle.Strikeout;\n        // }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    ExportHelper.prototype.renderEmptyGantt = function () {\n        var row = this.gantt.rows.addRow();\n        if (row.cells.count === 0) {\n            row.cells.add();\n        }\n        row.cells.getCell(0).isHeaderCell = false;\n        row.height = pixelToPoint(this.parent.rowHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n        var count = this.columns.length;\n        row.cells.getCell(0).value = this.parent.localeObj.getConstant('emptyRecord');\n        this.mergeCells(1, 0, count);\n    };\n    ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n        this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n    };\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n        cell.style.fontColor = new PdfColor(style.fontColor);\n        cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n        cell.style.borderColor = new PdfColor(style.borderColor);\n        cell.style.fontSize = style.fontSize;\n        cell.style.fontStyle = style.fontStyle;\n        /* eslint-disable-next-line */\n        cell.style.format = Object.assign(new PdfStringFormat(), style.format);\n        cell.style.borders = new PdfBorders();\n        cell.style.borders.all = new PdfPen(cell.style.borderColor);\n        cell.style.padding = new PdfPaddings();\n        var padding = 0;\n        if (cell.isHeaderCell) {\n            padding = this.parent.timelineModule.isSingleTier ? 45 / 2 : 60 / 2;\n        }\n        else {\n            padding = this.parent.rowHeight / 2;\n        }\n        cell.style.padding.top = (padding - style.fontSize > 0) ? padding - style.fontSize : padding;\n        cell.style.padding.bottom = (padding - style.fontSize > 0) ? padding - style.fontSize : 0;\n        cell.style.padding.left = 10;\n        cell.style.padding.right = 10;\n        if (style.padding) {\n            cell.style.padding = style.padding;\n        }\n        if (style.borders) {\n            cell.style.borders = style.borders;\n        }\n    };\n    /**\n     * @param {PdfDocument} pdfDoc .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.initializePdf = function (pdfDoc) {\n        this.pdfDoc = pdfDoc;\n        var widths = [];\n        var treeColumnIndex = 0;\n        var tWidth = (this.pdfDoc.pageSettings.width - 82);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            var gridWidth = void 0;\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n            }\n            else {\n                if (this.exportProps.fitToWidthSettings.chartWidth) {\n                    var chartWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n                    gridWidth = 100 - chartWidth;\n                }\n                else {\n                    gridWidth = 30;\n                }\n            }\n            var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * gridWidth) / 100;\n            var perColumnWidth = pdfwidth / this.gantt.columns.columns.length;\n            for (var i = 0; i < this.gantt.columns.columns.length; i++) {\n                this.gantt.columns.getColumn(i).width = perColumnWidth;\n            }\n        }\n        /* eslint-disable-next-line */\n        var PdfPage = this.parent.pdfExportModule.pdfPage;\n        if (this.totalColumnWidth > (this.pdfDoc.pageSettings.width - 82) && this.totalColumnWidth < PdfPage.getClientSize().width) {\n            this.gantt.style.allowHorizontalOverflow = true;\n        }\n        else if ((tWidth / this.columns.length) < widths[treeColumnIndex]) {\n            this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n        }\n        if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n            //code for draw the footer content\n            var pageSize_1 = this.parent.pdfExportModule.getPageSize(this.exportProps.pageSize);\n            var bounds = new RectangleF(0, 0, pageSize_1.width, 35);\n            var pen = new PdfPen(this.ganttStyle.footer.borderColor);\n            var footer = new PdfPageTemplateElement(bounds);\n            var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n            footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pageSize_1.width, 35);\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n            if (this.ganttStyle.font) {\n                font = this.ganttStyle.font;\n            }\n            var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n            var pageNumber = new PdfPageNumberField(font);\n            var count = new PdfPageCountField(font, brush);\n            var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n            compositeField.stringFormat = this.ganttStyle.footer.format;\n            compositeField.bounds = bounds;\n            compositeField.draw(footer.graphics, new PointF(0, 0));\n            pdfDoc.template.bottom = footer;\n        }\n        /* eslint-disable-next-line */\n        var pageSize = PdfPage.size;\n        var clientSize = !isNullOrUndefined(pageSize) ? pageSize : this.pdfDoc.pageSettings.size;\n        // code for draw header content\n        if (!isNullOrUndefined(this.exportProps.header)) {\n            var headerProp = this.exportProps.header;\n            var position = new PointF(0, headerProp.fromTop);\n            var size = new SizeF((clientSize.width * 1.1), ((headerProp && headerProp.height) ? headerProp.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            pdfDoc.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), headerProp);\n        }\n        // code for customization of footer\n        if (!this.exportProps.enableFooter && !isNullOrUndefined(this.exportProps.footer)) {\n            var footer = this.exportProps.footer;\n            var position = new PointF(0, ((clientSize.width - 80) - ((footer && footer.fromBottom) ?\n                footer.fromBottom * 0.75 : 0)));\n            var size = new SizeF((clientSize.width * 1.1), ((footer && footer.height) ? footer.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            this.pdfDoc.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);\n        }\n    };\n    ExportHelper.prototype.drawPageTemplate = function (template, element) {\n        for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {\n            var content = _a[_i];\n            switch (content.type) {\n                case 'Text':\n                    if (content.value === '' || content.value === undefined || content.value === null || typeof content.value !== 'string') {\n                        throw new Error('please enter the valid input value in text content...');\n                    }\n                    this.drawText(template, content);\n                    break;\n                case 'PageNumber':\n                    this.drawPageNumber(template, content);\n                    break;\n                case 'Image':\n                    if (content.src === undefined || content.src === null || content.src === '') {\n                        throw new Error('please enter the valid base64 string in image content...');\n                    }\n                    this.drawImage(template, content);\n                    break;\n                case 'Line':\n                    this.drawLine(template, content);\n                    break;\n                default:\n                    throw new Error('Please set valid content type...');\n            }\n        }\n        return template;\n    };\n    // code for draw text\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawText = function (pageTemplate, content) {\n        var font = this.getFont(content);\n        if (this.ganttStyle.font) {\n            font = this.ganttStyle.font;\n        }\n        var brush = this.getBrushFromContent(content);\n        var pen = null;\n        if (!isNullOrUndefined(content.style.textPenColor)) {\n            var penColor = this.hexToRgb(content.style.textPenColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        if (brush === null && pen === null) {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var value = content.value.toString();\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var format = new PdfStringFormat();\n        if (!isNullOrUndefined(content.style.stringFormat)) {\n            format.alignment = content.style.stringFormat.alignment;\n        }\n        var result = this.setContentFormat(content, format);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);\n        }\n        else {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, format);\n        }\n    };\n    // code for draw pagenumber\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawPageNumber = function (documentHeader, content) {\n        var font = this.getFont(content);\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        else {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var pageNumber = new PdfPageNumberField(font, brush);\n        pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n        var compositeField;\n        var format;\n        if (!isNullOrUndefined(content.format)) {\n            var total = '$total';\n            var current = '$current';\n            if (content.format.indexOf(total) !== -1 && content.format.indexOf(current) !== -1) {\n                var pageCount = new PdfPageCountField(font);\n                pageCount.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n                if (content.format.indexOf(total) > content.format.indexOf(current)) {\n                    format = content.format.replace(current, '0');\n                    format = format.replace(total, '1');\n                }\n                else {\n                    format = content.format.replace(current, '1');\n                    format = format.replace(total, '0');\n                }\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);\n            }\n            else if (content.format.indexOf(current) !== -1 && content.format.indexOf(total) === -1) {\n                format = content.format.replace(current, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n            }\n            else {\n                var pageCount = new PdfPageCountField(font);\n                format = content.format.replace(total, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageCount);\n            }\n        }\n        else {\n            format = '{0}';\n            compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n        }\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var result = this.setContentFormat(content, compositeField.stringFormat);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            compositeField.stringFormat = result.format;\n            compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height);\n        }\n        compositeField.draw(documentHeader.graphics, x, y);\n    };\n    // code for draw image\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawImage = function (documentHeader, content) {\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var width = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.width)) ?\n            (content.size.width * 0.50) : undefined;\n        var height = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.height)) ?\n            (content.size.height * 0.75) : undefined;\n        var image = new PdfBitmap(content.src);\n        if (!isNullOrUndefined(width)) {\n            documentHeader.graphics.drawImage(image, x, y, width, height);\n        }\n        else {\n            documentHeader.graphics.drawImage(image, x, y);\n        }\n    };\n    // code for draw line\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawLine = function (documentHeader, content) {\n        var x1 = content.points.x1 * 0.75;\n        var y1 = content.points.y1 * 0.75;\n        var x2 = content.points.x2 * 0.75;\n        var y2 = content.points.y2 * 0.75;\n        var pen = this.getPenFromContent(content);\n        if (!isNullOrUndefined(content.style)) {\n            if (!isNullOrUndefined(content.style.penSize) && typeof content.style.penSize === 'number') {\n                pen.width = content.style.penSize * 0.75;\n            }\n            pen.dashStyle = this.getDashStyle(content.style.dashStyle);\n        }\n        documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);\n    };\n    ExportHelper.prototype.getPenFromContent = function (content) {\n        var pen = new PdfPen(new PdfColor(0, 0, 0));\n        if (!isNullOrUndefined(content.style) && content.style !== null && !isNullOrUndefined(content.style.penColor)) {\n            var penColor = this.hexToRgb(content.style.penColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        return pen;\n    };\n    ExportHelper.prototype.getDashStyle = function (dashStyle) {\n        switch (dashStyle) {\n            case 'Dash':\n                return 1;\n            case 'Dot':\n                return 2;\n            case 'DashDot':\n                return 3;\n            case 'DashDotDot':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getBrushFromContent = function (content) {\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            /* tslint:disable-next-line:max-line-length */\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        return brush;\n    };\n    ExportHelper.prototype.hexToRgb = function (hex) {\n        if (hex === null || hex === '' || hex.length !== 7) {\n            throw new Error('please set valid hex value for color...');\n        }\n        hex = hex.substring(1);\n        var bigint = parseInt(hex, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n        return { r: r, g: g, b: b };\n    };\n    ExportHelper.prototype.setContentFormat = function (content, format) {\n        var width = (content.size) ? content.size.width * 0.75 : this.pdfDoc.pageSettings.size.width;\n        var height = (content.size) ? content.size.height * 0.75 : (!isNullOrUndefined(this.exportProps.footer) ?\n            this.exportProps.footer.height * 0.50 : 0);\n        format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle);\n        if (!isNullOrUndefined(content.style.hAlign)) {\n            switch (content.style.hAlign) {\n                case 'Right':\n                    format.alignment = PdfTextAlignment.Right;\n                    break;\n                case 'Center':\n                    format.alignment = PdfTextAlignment.Center;\n                    break;\n                case 'Justify':\n                    format.alignment = PdfTextAlignment.Justify;\n                    break;\n                default:\n                    format.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if (!isNullOrUndefined(content.style.vAlign)) {\n            format = this.getVerticalAlignment(content.style.vAlign, format);\n        }\n        return { format: format, size: new SizeF(width, height) };\n    };\n    ExportHelper.prototype.getPageNumberStyle = function (pageNumberType) {\n        switch (pageNumberType) {\n            case 'LowerLatin':\n                return 2;\n            case 'LowerRoman':\n                return 3;\n            case 'UpperLatin':\n                return 4;\n            case 'UpperRoman':\n                return 5;\n            default:\n                return 1;\n        }\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * @private\n     */\n    /* eslint-disable-next-line  */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value ? this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean') {\n            return args.value ? 'true' : 'false';\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', format: args.column.format };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', format: args.column.format };\n                }\n                else {\n                    format = { type: 'dateTime', format: args.column.format };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        /* eslint-disable-next-line max-len */\n                        customFormat = { type: args.column.format.type, format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfColor, PdfStringLayouter, PdfPen, PdfSolidBrush, RectangleF, SizeF, PdfStandardFont, PdfFontStyle, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfDashStyle, PdfPath, PdfBitmap, PdfBrushes, PdfLinearGradientBrush } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttTaskbarCollection = /** @class */ (function () {\n    function PdfGanttTaskbarCollection(parent) {\n        /** Defines the task baselineHeight . */\n        this.baselineHeight = 8;\n        this.segment = [];\n        this.segmentCollection = [];\n        /**\n         * @private\n         */\n        this.leftTaskLabel = {};\n        /**\n         * @private\n         */\n        this.rightTaskLabel = {};\n        this.startPage = -1;\n        this.endPage = -1;\n        this.spaceBetweenImageAndValue = 8;\n        this.parent = parent;\n    }\n    PdfGanttTaskbarCollection.prototype.add = function () {\n        return new PdfGanttTaskbarCollection(this.parent);\n    };\n    /**\n     * @param {PdfPage} page .\n     * @returns {PdfPage} .\n     * Get the next PDF page\n     */\n    PdfGanttTaskbarCollection.prototype.GetNextPage = function (page) {\n        var section = page.section;\n        var index = section.indexOf(page);\n        var nextPage = null;\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        return nextPage;\n    };\n    PdfGanttTaskbarCollection.prototype.isAutoFit = function () {\n        return ((this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) ||\n            this.parent.timelineModule.isZoomedToFit) ? true : false;\n    };\n    /**\n     * Draw the taskbar, chart back ground\n     *\n     * @private\n     */\n    /* eslint-disable */\n    PdfGanttTaskbarCollection.prototype.drawTaskbar = function (page, startPoint, detail, cumulativeWidth, rowHeight, taskbar, lineWidth) {\n        var _this = this;\n        var taskGraphics = page.graphics;\n        var isNextPage = false;\n        var pageSize = page.getClientSize();\n        var yPoint = startPoint.y + rowHeight;\n        //code for while current pdf page is exceed\n        if (yPoint > pageSize.height) {\n            page = this.GetNextPage(page);\n            page['contentWidth'] = (this.isAutoFit()) ? pointToPixel(detail.endPoint - detail.startPoint) : detail.endPoint - detail.startPoint;\n            taskGraphics = page.graphics;\n            startPoint.y = 0;\n            if (this.parent.pdfExportModule.gantt.enableHeader) {\n                this.parent.pdfExportModule.gantt.chartHeader.drawPageTimeline(page, startPoint, detail);\n                startPoint.y = pixelToPoint(this.parent.timelineModule.isSingleTier ? 45 : 60);\n            }\n            isNextPage = true;\n        }\n        this.drawLeftLabel(page, startPoint, detail, cumulativeWidth, taskbar);\n        //Draw Taskbar\n        var font = new PdfStandardFont(this.fontFamily, 9, PdfFontStyle.Regular);\n        var fontColor = null;\n        var fontBrush = new PdfSolidBrush(this.progressFontColor);\n        var customizedFont;\n        var customizedFontBrush;\n        var customizedFontColor;\n        customizedFont = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontFamily && taskbar.taskbarTemplate.fontStyle.fontSize\n            ? new PdfStandardFont(taskbar.taskbarTemplate.fontStyle.fontFamily, taskbar.taskbarTemplate.fontStyle.fontSize, taskbar.taskbarTemplate.fontStyle.fontStyle)\n            : font;\n        customizedFontBrush = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontColor\n            ? new PdfSolidBrush(taskbar.taskbarTemplate.fontStyle.fontColor)\n            : fontBrush;\n        customizedFontColor = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontBrush\n            ? new PdfPen(taskbar.taskbarTemplate.fontStyle.fontBrush)\n            : fontColor;\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var taskLabelFont;\n        var taskLabelFontBrush;\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontSize) {\n            var taskFont = new PdfStandardFont(taskbar.labelSettings.taskLabel.fontStyle.fontFamily, taskbar.labelSettings.taskLabel.fontStyle.fontSize, taskbar.labelSettings.taskLabel.fontStyle.fontStyle);\n            taskLabelFont = taskFont;\n        }\n        else if (ganttStyle && ganttStyle.label && ganttStyle.label.fontBrush) {\n            taskLabelFontBrush = new PdfSolidBrush(ganttStyle.label.fontBrush);\n        }\n        else {\n            taskLabelFont = font;\n        }\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontColor) {\n            taskLabelFontBrush = new PdfSolidBrush(taskbar.labelSettings.taskLabel.fontStyle.fontColor);\n        }\n        else {\n            taskLabelFontBrush = fontBrush;\n        }\n        var progressFormat = new PdfStringFormat();\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        progressFormat.alignment = PdfTextAlignment.Right;\n        var isLabelString = false;\n        var updatedWidth;\n        if (!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z0-9]/.test(this.taskLabel))) {\n            if (this.taskLabel === '0' || this.taskLabel === '0%') {\n                updatedWidth = this.width;\n                progressFormat.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if ((!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z]/.test(this.taskLabel))) || (!isNullOrUndefined(taskbar.taskbarTemplate.value))) {\n            isLabelString = true;\n            progressFormat.alignment = PdfTextAlignment.Left;\n        }\n        var pageIndex = -1;\n        var baselinePen = new PdfPen(taskbar.baselineBorderColor);\n        var baselineBrush = new PdfSolidBrush(taskbar.baselineColor);\n        var template = taskbar.taskbarTemplate;\n        var renderedBaseline = false;\n        if (!taskbar.isMilestone) {\n            var taskbarPen_1 = new PdfPen(taskbar.taskBorderColor);\n            var taskBrush_1 = new PdfSolidBrush(taskbar.taskColor);\n            var manualParentBorderPen = new PdfPen(taskbar.manualParentBorder);\n            var manualChildBorderPen = new PdfPen(taskbar.manualChildBorder);\n            var manualTaskbarPen = new PdfPen(taskbar.manuallineColor);\n            var manualParentPen = new PdfPen(taskbar.manualParentProgress);\n            var manualline = new PdfPen(taskbar.manuallineColor);\n            var manuallineBrush = new PdfSolidBrush(taskbar.manuallineColor);\n            var splitline = new PdfPen(taskbar.splitLineBackground);\n            var manualBrush = new PdfSolidBrush(taskbar.manualParentBackground);\n            var manualChildBrush = new PdfSolidBrush(taskbar.manualChildBackground);\n            var manualChildProgressBrush = new PdfSolidBrush(taskbar.manualChildProgress);\n            var manualProgressBrush = new PdfSolidBrush(taskbar.manualParentProgress);\n            var progressPen_1 = new PdfPen(taskbar.progressColor);\n            var progressBrush_1 = new PdfSolidBrush(taskbar.progressColor);\n            var adjustHeightforTaskbar = pixelToPoint((this.parent.rowHeight - this.height) / 2.0);\n            var adjustHeightforBaseline = pixelToPoint((this.parent.rowHeight - this.height) / 4.5);\n            var adjustHeight_1 = this.parent.renderBaseline ? adjustHeightforBaseline : adjustHeightforTaskbar;\n            pageIndex = page.section.indexOf(page);\n            var startDate = isNullOrUndefined(this.unscheduleStarteDate) ? this.startDate : this.unscheduleStarteDate;\n            var endDate = isNullOrUndefined(this.unscheduleEndDate) ? this.endDate : this.unscheduleEndDate;\n            var imageSize_1 = 10;\n            //Task start and end date both are in the range of header split up start and end date\n            if (detail.startDate <= startDate && endDate <= detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, startPoint.y + adjustHeight_1, (taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                            var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                        });\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.save();\n                        var path = new PdfPath();\n                        path.addEllipse(0, 0, 5, 5);\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                        taskGraphics.restore();\n                        var path1 = new PdfPath();\n                        path1.addEllipse(0, 0, 5, 5);\n                        taskGraphics.save();\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1);\n                        taskGraphics.restore();\n                        manualline.dashStyle = PdfDashStyle.Solid;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                        else {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                    }\n                    else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width / 2.0;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + (taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0, (taskbar.taskbarTemplate.image[0].width) / 2.0, (taskbar.taskbarTemplate.image[0].height) / 2.0);\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (taskbar.taskbarTemplate.value) {\n                                    if (isLabelString) {\n                                        updatedWidth = this.width;\n                                    }\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat) : '';\n                            }\n                        }\n                    }\n                    if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) && !isNullOrUndefined(this.taskLabel)) {\n                                if (this.taskLabel !== '0' && this.taskLabel !== '0%') {\n                                    updatedWidth = this.progressWidth;\n                                }\n                                if (isLabelString) {\n                                    updatedWidth = this.width;\n                                }\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                                else {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                    }\n                    else if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                            var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                        });\n                    }\n                }\n                this.isCompleted = true;\n                this.startPage = pageIndex;\n                this.endPage = pageIndex;\n            }\n            //Task start date is in the range of header split up start and end date\n            else if (detail.startDate <= startDate && detail.endDate >= startDate && (endDate >= detail.endDate)) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                var width = this.width;\n                var renderWidth_1 = 0;\n                var progressWidth = 0;\n                var splitRenderwidth_1 = 0;\n                this.width = this.width - (detail.totalWidth - (this.left - cumulativeWidth));\n                renderWidth_1 = (detail.totalWidth - (this.left - cumulativeWidth));\n                progressWidth = (detail.totalWidth - (this.left - cumulativeWidth));\n                if (width < renderWidth_1) {\n                    renderWidth_1 = width;\n                }\n                splitRenderwidth_1 = renderWidth_1;\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, startPoint.y + adjustHeight_1, (renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    taskGraphics.save();\n                    var path = new PdfPath();\n                    path.addEllipse(0, 0, 5, 5);\n                    if (this.isAutoFit()) {\n                        taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    else {\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                    taskGraphics.restore();\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((renderWidth_1) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(renderWidth_1) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        var pervwidth_1 = 0;\n                        var valueChangeBlocker_1 = true;\n                        var lineWidth_1 = 0;\n                        taskbar.segment.map(function (item) {\n                            lineWidth_1 = item.left + item.width;\n                        });\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((lineWidth_1) + (this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(lineWidth_1) + pixelToPoint(this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                            var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (taskbar.taskbarTemplate.image[0].width), (taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left) + imageWidth, startPoint.y + adjustHeight_1, (data.width), (taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            pervwidth_1 = data.left + data.width;\n                            if (renderWidth_1 >= pervwidth_1) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                            }\n                            else {\n                                if (renderWidth_1 >= (pervwidth_1 - data.width)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                                }\n                                else {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = ((splitRenderwidth_1 - data.left));\n                                }\n                                if (renderWidth_1 >= (pervwidth_1)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                }\n                                else {\n                                    if (valueChangeBlocker_1) {\n                                        _this.segmentCollection[parseInt(index.toString(), 10)].width = pervwidth_1 - renderWidth_1;\n                                        valueChangeBlocker_1 = false;\n                                    }\n                                }\n                            }\n                            splitRenderwidth_1 = splitRenderwidth_1 + data.width + data.left;\n                        });\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 0.5), (taskbar.taskbarTemplate.image[0].width / 2.0), (taskbar.taskbarTemplate.image[0].height / 2.0));\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    this.stringLeft = pixelToPoint(this.left);\n                                    var result_1 = this.getWidth(taskbar.taskbarTemplate.value, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_1.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_1.remainder)) {\n                                        this.remainString = result_1.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                            }\n                        }\n                        if (taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                            var progressBoundsWidth = 0;\n                            if (this.progressWidth <= renderWidth_1) {\n                                progressBoundsWidth = this.progressWidth;\n                            }\n                            else {\n                                progressBoundsWidth = renderWidth_1;\n                            }\n                            if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                                else {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                            }\n                            this.progressWidth -= progressBoundsWidth;\n                            if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                                updatedWidth = progressBoundsWidth;\n                                if (isLabelString) {\n                                    updatedWidth = renderWidth_1;\n                                }\n                                this.stringLeft = this.left;\n                                if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var result_2 = this.getWidth(this.taskLabel.toString(), detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_2.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_2.remainder)) {\n                                        this.remainString = result_2.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                                else {\n                                    if (this.isAutoFit()) {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                    else {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                            var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (_this.segmentCollection[parseInt(index.toString(), 10)].width === 0) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = 0;\n                            }\n                            else {\n                                if (data.width - _this.segmentCollection[parseInt(index.toString(), 10)].width < data.progressWidth && data.width !== _this.segmentCollection[index].width) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = data.progressWidth - (data.width - _this.segmentCollection[index].width);\n                                }\n                            }\n                        });\n                    }\n                }\n                this.left = 0;\n                this.isCompleted = false;\n                this.startPage = pageIndex;\n            }\n            //Task end date is in the range of header split up start and end date\n            else if (endDate <= detail.endDate && detail.startDate <= endDate && !this.isCompleted) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                    if (template.value || template.image) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var path1 = new PdfPath();\n                    path1.addEllipse(0, 0, 5, 5); // Circle with radius 5\n                    taskGraphics.save(); // Save the current graphics state  \n                    var lineStartX = startPoint.x + pixelToPoint(this.left + 0.5); // Calculate the endpoint of the line\n                    var lineEndX = pixelToPoint(taskbar.width) + lineStartX - 5;\n                    var lineY = startPoint.y + adjustHeight_1;\n                    taskGraphics.drawLine(manualline, lineStartX, lineY, lineEndX, lineY); // Draw the line first     \n                    taskGraphics.translateTransform(lineEndX, lineY - 2); // Now move the origin to the line's end point to draw the circle        \n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1); // Draw the circle at the end of the line  \n                    taskGraphics.restore(); // Restore the graphics state\n                    manualline.dashStyle = PdfDashStyle.Solid; // Ensure the line has a solid style\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (taskbar.isSpliterTask) {\n                    splitline.dashStyle = PdfDashStyle.Dot;\n                    taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                    taskbar.segmentCollection.map(function (data, index) {\n                        var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                        var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                        if (data.width !== 0) {\n                            taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                            if (template.value || template.image) {\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                            }\n                        }\n                    });\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    if (!isNullOrUndefined(this.remainString)) {\n                        var result = this.getWidth(this.remainString, taskbar.width - taskbar.left, 15);\n                        taskGraphics.drawString(result.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left), (startPoint.y + adjustHeight_1), result.actualSize.width, pixelToPoint(this.height), progressFormat);\n                    }\n                }\n                if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        updatedWidth = this.progressWidth;\n                        if (isLabelString) {\n                            updatedWidth = this.width;\n                        }\n                        if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                if (!isNullOrUndefined(this.remainString)) {\n                                    var result_3 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_3.lines[0].text, font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = this.progressWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                else if (taskbar.isSpliterTask) {\n                    taskbar.segmentCollection.map(function (data, index) {\n                        var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                        var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                        taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                    });\n                }\n                this.isCompleted = true;\n                this.endPage = pageIndex;\n            }\n            //Header splitup start and end date with in the task start and end date.\n            //So the task is takes entire width of page.\n            else if (startDate < detail.startDate && endDate > detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left) + pixelToPoint(detail.totalWidth) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth) / 2, pixelToPoint(taskbar.height));\n                    if (template.value || template.image) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : 0;\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    var progressBoundsWidth = 0;\n                    if (this.progressWidth <= detail.totalWidth) {\n                        progressBoundsWidth = this.progressWidth;\n                    }\n                    else {\n                        progressBoundsWidth = detail.totalWidth;\n                    }\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                    }\n                    this.progressWidth -= progressBoundsWidth;\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    taskGraphics.drawLine(manualline, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), startPoint.y + adjustHeight_1);\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                        if (!isNullOrUndefined(this.remainString)) {\n                            var result_4 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                            taskGraphics.drawString(result_4.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, (startPoint.y + adjustHeight_1), pixelToPoint(detail.totalWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                    if (this.isScheduledTask && !taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = progressBoundsWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.isCompleted = false;\n                this.width -= detail.totalWidth;\n            }\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                if (detail.startDate <= taskbar.baselineStartDate && taskbar.baselineEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.baselineStartDate && detail.endDate >= taskbar.baselineStartDate && (taskbar.baselineEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var width = this.baselineWidth;\n                    var renderWidth = 0;\n                    renderWidth = (detail.totalWidth - (taskbar.baselineLeft - cumulativeWidth));\n                    if (width < renderWidth) {\n                        renderWidth = width;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    taskbar.baselineWidth = taskbar.baselineWidth - renderWidth;\n                    this.baselineLeft = 0;\n                    this.isCompletedBaseline = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.baselineEndDate <= detail.endDate && detail.startDate <= taskbar.baselineEndDate && !this.isCompletedBaseline) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.baselineStartDate < detail.startDate && taskbar.baselineEndDate > detail.endDate) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = false;\n                    this.baselineWidth -= detail.totalWidth;\n                }\n            }\n            if (!this.isAutoSchedule && taskbar.isParentTask) {\n                if (detail.startDate <= taskbar.autoStartDate && taskbar.autoEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.autoStartDate && detail.endDate >= taskbar.autoStartDate && (taskbar.autoEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var renderWidth = 0;\n                    var progressWidth = 0;\n                    renderWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    progressWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressWidth), pixelToPoint(12));\n                        }\n                        taskbar.autoWidth = taskbar.autoWidth - renderWidth;\n                        taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                    }\n                    this.autoLeft = 0;\n                    this.isCompletedAutotask = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.autoEndDate <= detail.endDate && detail.startDate <= taskbar.autoEndDate && !this.isCompletedAutotask) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        taskGraphics.drawRectangle(manualBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.restore();\n                        taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                    }\n                    this.isCompletedAutotask = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.autoStartDate < detail.startDate && taskbar.autoEndDate > detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (progressBoundsWidth), pixelToPoint(12));\n                        }\n                        else {\n                            if (taskbar.progressWidth !== 0) {\n                                taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressBoundsWidth), pixelToPoint(12));\n                            }\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                    }\n                    this.isCompletedAutotask = false;\n                    this.autoWidth -= detail.totalWidth;\n                }\n            }\n            if (!isNullOrUndefined(taskbar.indicators) && taskbar.indicators.length > 0) {\n                taskbar.indicators.map(function (items, index) {\n                    var currendate = _this.parent.dateValidationModule.getDateFromFormat(items.date, true);\n                    if (detail.startDate <= currendate && currendate <= detail.endDate) {\n                        var leftValue = _this.parent.chartRowsModule.getIndicatorleft(items.date);\n                        if (!isNullOrUndefined(items.base64)) {\n                            var image = new PdfBitmap(items.base64);\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawImage(image, (startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 10) - _this.parent.perDayWidth / 2, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                var state = taskGraphics.save();\n                                taskGraphics.setClip(new RectangleF(startPoint.x, startPoint.y, page['contentWidth'], rowHeight));\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, (startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1) - _this.parent.perDayWidth / 2, startPoint.y + adjustHeight_1, null);\n                                taskGraphics.restore(state);\n                            }\n                            else {\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 10, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                var state = taskGraphics.save();\n                                taskGraphics.setClip(new RectangleF(startPoint.x, startPoint.y, page['contentWidth'], rowHeight));\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1, startPoint.y + adjustHeight_1, null);\n                                taskGraphics.restore(state);\n                            }\n                        }\n                    }\n                });\n            }\n        }\n        else {\n            this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, false);\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, true);\n            }\n        }\n        this.drawRightLabel(page, startPoint, detail, cumulativeWidth);\n        return isNextPage;\n    };\n    /* eslint-enable */\n    /**\n     * @param {IGanttStyle} ganttStyle .\n     * @returns {PdfFont}\n     * Customizes the font based on the Gantt style.\n     */\n    PdfGanttTaskbarCollection.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.label && (ganttStyle.label.fontSize || ganttStyle.label.fontStyle ||\n            ganttStyle.label.fontFamily)) {\n            var fontSize = ganttStyle.label.fontSize ? ganttStyle.label.fontSize : 9;\n            var fontFamilyValue = ganttStyle.label.fontFamily;\n            var fontFamily = ganttStyle.label.fontFamily ?\n                fontFamilyValue : this.fontFamily;\n            var fontStyleValue = ganttStyle.label.fontStyle;\n            var fontStyle = ganttStyle.label.fontStyle ?\n                this.parent.pdfExportModule.helper['getFontStyle'](fontStyleValue) : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    /* eslint-enable */\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task right side label\n     */\n    PdfGanttTaskbarCollection.prototype.drawRightLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.rightTaskLabel.value)) {\n            if (this.rightTaskLabel.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    left = (this.rightTaskLabel.left);\n                }\n                else {\n                    left = pixelToPoint(this.rightTaskLabel.left);\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            var leftForLabel = this.isAutoFit() ? pixelToPoint(left) : left;\n            if (detail.startPoint <= leftForLabel && leftForLabel < detail.endPoint &&\n                !isNullOrUndefined(this.rightTaskLabel.value) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidth(this.rightTaskLabel.value, detail.endPoint - leftForLabel, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var size = new SizeF((page['contentWidth'] - actualLeft) - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var labelBounds = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Left;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && !isNullOrUndefined(ganttStyle.label.format) &&\n                    !isNullOrUndefined(ganttStyle.label.format.alignment)) {\n                    labelFormat.alignment = ganttStyle.label.format.alignment;\n                }\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var ganttStyle_1 = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                    var fontBrush = new PdfSolidBrush((ganttStyle_1 && ganttStyle_1.label && ganttStyle_1.label.fontBrush) ?\n                        ganttStyle_1.label.fontBrush : this.labelColor);\n                    /* eslint-disable-next-line */\n                    var labelBrush = null;\n                    if (!isNullOrUndefined(ganttStyle_1) && !isNullOrUndefined(ganttStyle_1.label) &&\n                        !isNullOrUndefined(ganttStyle_1.label.backgroundColor)) {\n                        labelBrush = new PdfSolidBrush(ganttStyle_1.label.backgroundColor);\n                    }\n                    var lablePen = null;\n                    if (!isNullOrUndefined(ganttStyle_1) && !isNullOrUndefined(ganttStyle_1.label) &&\n                        !isNullOrUndefined(ganttStyle_1.label.borderColor)) {\n                        lablePen = new PdfPen(ganttStyle_1.label.borderColor);\n                    }\n                    var strSize = font.measureString(result.lines[0].text);\n                    graphics.drawRectangle(lablePen, labelBrush, labelBounds.x - 3, labelBounds.y, strSize.width + 6, strSize.height);\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, labelBounds.x, labelBounds.y, size.width, size.height, labelFormat);\n                    if (result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        this.rightTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n                this.previousWidthofRightImage = 0;\n                this.previousWidthofRightValue = 0;\n                for (var i = 0; i < this.labelSettings.rightLabel.image.length; i++) {\n                    this.drawRigthlabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.image[i]);\n                    if (this.labelSettings.rightLabel.value) {\n                        var value = this.labelSettings.rightLabel.value.split(',');\n                        if (value) {\n                            this.rightTaskLabel.isCompleted = false;\n                            this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth - this.spaceBetweenImageAndValue, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (this.labelSettings.rightLabel.value) {\n                this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRigthlabelImage = function (page, startPoint, detail, cumulativeWidth, rightImage) {\n        var left;\n        var graphics = page.graphics;\n        var labelBounds;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel) && !isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = this.rightTaskLabel.left + +this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    var value = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                        value = this.labelSettings.rightLabel.value.split(',');\n                    }\n                    if (this.labelSettings.rightLabel.image.length > 1 && value.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            var leftForLabel = this.isAutoFit() ? pixelToPoint(left) : left;\n            if (detail.startPoint <= leftForLabel && leftForLabel < detail.endPoint &&\n                !isNullOrUndefined(this.labelSettings.rightLabel) && !this.rightTaskLabel.isCompleted) {\n                var result = new SizeF(rightImage.width, rightImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.width, result.height);\n                labelBounds = new RectangleF(point, size);\n                var image = new PdfBitmap(rightImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, labelBounds.x, labelBounds.y, result.width, result.height);\n                    if (this.labelSettings.rightLabel.value !== null) {\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRightLabelValue = function (page, startPoint, detail, cumulativeWidth, rightString) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = this.rightTaskLabel.left + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = this.rightTaskLabel.left + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            var leftForLabel = this.isAutoFit() ? pixelToPoint(left) : left;\n            if (detail.startPoint <= leftForLabel && leftForLabel < detail.endPoint &&\n                !isNullOrUndefined(rightString) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidthofrightLabel(rightString, detail.endPoint - leftForLabel, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.actualSize.width, result.actualSize.height);\n                var labelBound = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Right;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.rightLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize, this.labelSettings.rightLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.rightLabel.fontStyle.fontColor ? new PdfSolidBrush(this.labelSettings.rightLabel.fontStyle.fontColor) : fontBrush;\n                    /* eslint-disable-next-line */\n                    graphics.drawString(rightString, newFont, fontColor, newFontBrush, labelBound.x, labelBound.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                    if (!isNullOrUndefined(result.remainder) && result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @returns {void}\n     * Draw task left task label\n     */\n    PdfGanttTaskbarCollection.prototype.drawLeftLabel = function (page, startPoint, detail, cumulativeWidth, taskbar) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(this.leftTaskLabel.value)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidth(this.leftTaskLabel.value, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                if (this.isAutoFit()) {\n                    left = (labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                left = this.leftTaskLabel.left;\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = taskbar.left - taskbar.autoLeft;\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - cumulativeWidth + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - cumulativeWidth + startPoint.x - leftValue;\n                    }\n                }\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = pixelToPoint(taskbar.left) - pixelToPoint(taskbar.autoLeft);\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x - leftValue;\n                    }\n                }\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(this.leftTaskLabel.value)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidth(this.leftTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var rightLabelSize = new SizeF(result.actualSize.width - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    /* eslint-disable-next-line */\n                    var fontBrush = new PdfSolidBrush((ganttStyle && ganttStyle.label && ganttStyle.label.fontBrush) ?\n                        ganttStyle.label.fontBrush : this.labelColor);\n                    /* eslint-disable-next-line */\n                    var labelBrush = null;\n                    if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                        !isNullOrUndefined(ganttStyle.label.backgroundColor)) {\n                        labelBrush = new PdfSolidBrush(ganttStyle.label.backgroundColor);\n                    }\n                    var lablePen = null;\n                    if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                        !isNullOrUndefined(ganttStyle.label.borderColor)) {\n                        lablePen = new PdfPen(ganttStyle.label.borderColor);\n                    }\n                    var strSize = font.measureString(result.lines[0].text);\n                    graphics.drawRectangle(lablePen, labelBrush, rightLabelBounds.x - 3, rightLabelBounds.y, strSize.width + 6, strSize.height);\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    if (result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n                this.previousWidthofLeftImage = 0;\n                this.previousWidthofLeftValue = 0;\n                this.totalLeftWidth = 0;\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    var value = void 0;\n                    var result = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                        value = this.labelSettings.leftLabel.value.split(',');\n                        result = this.getWidth(value[i], Number.MAX_VALUE, 15);\n                    }\n                    var totalstringWidth = !isNullOrUndefined(result) ? result.actualSize.width : 0;\n                    this.totalLeftWidth += this.labelSettings.leftLabel.image[i].width + totalstringWidth;\n                }\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    this.drawLeftLabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.image[i]);\n                    if (this.labelSettings.leftLabel.value) {\n                        var value = this.labelSettings.leftLabel.value.split(',');\n                        if (value) {\n                            this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth - this.spaceBetweenImageAndValue, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelImage = function (page, startPoint, detail, cumulativeWidth, leftLabelImage) {\n        var graphics = page.graphics;\n        var left;\n        var labelLeft = 0;\n        labelLeft = this.left;\n        if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = labelLeft - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                else {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = pixelToPoint(labelLeft) - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = pixelToPoint(labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                if (this.labelSettings.leftLabel.image.length > 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftValue;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelImage)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.width, result.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var image = new PdfBitmap(leftLabelImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, rightLabelBounds.x, rightLabelBounds.y, result.width, result.height);\n                    this.totalLeftWidth = this.totalLeftWidth - result.width;\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelValue = function (page, startPoint, detail, cumulativeWidth, leftLabelValue) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(leftLabelValue)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    var isLeftImageExist = !isNullOrUndefined(this.labelSettings.leftLabel.image) ? true : false;\n                    var imageLength = isLeftImageExist ? this.labelSettings.leftLabel.image.length : 0;\n                    if (value.length === 1 && isLeftImageExist && imageLength === 1) {\n                        left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                        this.labelSettings.left = left;\n                        var result_5 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_5.actualSize.width;\n                    }\n                    else if (value.length > 1 && isLeftImageExist && imageLength > 1) {\n                        var totalWidth = (this.previousWidthofLeftValue !== 0) ? this.previousWidthofLeftValue\n                            + this.previousWidthofLeftImage : this.previousWidthofLeftImage;\n                        left = this.leftTaskLabel.left + totalWidth;\n                        this.labelSettings.left = left;\n                        var result_6 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_6.actualSize.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.actualSize.width;\n                    }\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (value.length === 1) {\n                    left = this.leftTaskLabel.left + (this.previousWidthofLeftImage ? this.previousWidthofLeftImage : 0);\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else if (value.length > 1) {\n                    var totalWidth = (this.previousWidthofLeftValue !== 0) ?\n                        this.previousWidthofLeftValue + this.previousWidthofLeftImage\n                        : this.previousWidthofLeftImage;\n                    left = this.leftTaskLabel.left + totalWidth;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            var leftForLabel = this.isAutoFit() ? pixelToPoint(left) : left;\n            if (detail.startPoint <= leftForLabel && leftForLabel < detail.endPoint && !isNullOrUndefined(leftLabelValue)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, detail.endPoint - leftForLabel, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.leftLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize, this.labelSettings.leftLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.leftLabel.fontStyle.fontColor ?\n                        new PdfSolidBrush(this.labelSettings.leftLabel.fontStyle.fontColor) : fontBrush;\n                    graphics.drawString(leftLabelValue, newFont, fontColor, newFontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    var value = this.labelSettings.leftLabel.value.split(',');\n                    if ((!isNullOrUndefined(result.remainder)) && result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else if (!isNullOrUndefined(this.labelSettings.leftLabel.image) &&\n                        this.labelSettings.leftLabel.image.length === 1 && value.length === 1) {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.getWidth = function (value, width, height) {\n        var font;\n        font = new PdfStandardFont(this.fontFamily, 9);\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (ganttStyle && ganttStyle.label && ganttStyle.label.fontSize) {\n            font = new PdfStandardFont(this.fontFamily, ganttStyle.label.fontSize);\n            height = font.height;\n        }\n        if (!isNullOrUndefined(ganttStyle) && ganttStyle.font) {\n            font = ganttStyle.font;\n            height = font.height;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofLeftLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.leftLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofrightLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.rightLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    /**\n     * @param {PdfGraphics} taskGraphics .\n     * @param {PointF} startPoint .\n     * @param {number} cumulativeWidth .\n     * @param {number} adjustHeight .\n     * @returns {void}\n     * Draw Unscheduled Task\n     */\n    PdfGanttTaskbarCollection.prototype.drawUnscheduledTask = function (taskGraphics, startPoint, cumulativeWidth, adjustHeight) {\n        var taskBrush = new PdfSolidBrush(this.taskColor);\n        if (this.isAutoFit()) {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n        else {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @param {boolean} isBaseline .\n     * @returns {void}\n    Draw milestone task\n     */\n    PdfGanttTaskbarCollection.prototype.drawMilestone = function (page, startPoint, detail, cumulativeWidth, taskbar, isBaseline) {\n        if (detail.startDate <= this.startDate && this.startDate <= detail.endDate) {\n            var taskGraphics = page.graphics;\n            var pageIndex = page.section.indexOf(page);\n            this.taskStartPoint = __assign({}, startPoint);\n            var milestonePen = new PdfPen(this.milestoneColor);\n            var adjustHeightforBaselineMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 3.0));\n            var adjustHeightforMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 2.0));\n            var adjustHeight = this.parent.renderBaseline ? adjustHeightforBaselineMilesone : adjustHeightforMilesone;\n            var milestoneBrush = new PdfSolidBrush(this.milestoneColor);\n            var baselinePen = new PdfPen(this.baselineBorderColor);\n            var baselineBrush = new PdfSolidBrush(this.baselineColor);\n            taskGraphics.save(); //saving graphics state\n            var height = Math.floor(this.parent.chartRowsModule.taskBarHeight * 0.8);\n            if (!isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            if (isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            taskGraphics.rotateTransform(45); //apply rotation\n            if (this.parent.renderBaseline && this.baselineStartDate && this.baselineEndDate && isBaseline) {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, 2, 2, pixelToPoint(height), pixelToPoint(height));\n            }\n            if (!isBaseline) {\n                taskGraphics.drawRectangle(milestonePen, milestoneBrush, 0, 0, pixelToPoint(height), pixelToPoint(height));\n            }\n            taskGraphics.restore(); //restoring graphics state\n            if (this.isAutoFit()) {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + (this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        ((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    var width = taskbar.taskbarTemplate.image[0].width / 2.0;\n                    var height_1 = taskbar.taskbarTemplate.image[0].height / 2.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        (((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), width, height_1);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint(((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height - 2));\n                }\n            }\n            this.endPage = this.startPage = pageIndex;\n        }\n    };\n    return PdfGanttTaskbarCollection;\n}());\nexport { PdfGanttTaskbarCollection };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, RectangleF, PdfFontStyle } from '@syncfusion/ej2-pdf-export';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\n/**\n */\nvar PdfTimeline = /** @class */ (function () {\n    function PdfTimeline(gantt) {\n        this.holidayCompleted = false;\n        this.fitHolidayCompleted = false;\n        this.timelineWidth = 0;\n        this.lastWidth = 0;\n        this.topTierValueLeftPadding = 8;\n        this.width = 0;\n        this.gantt = gantt;\n        this.parent = gantt.parent;\n        this.topTierPoint = new PointF();\n        this.bottomTierPoint = new PointF();\n        this.topTierIndex = 0;\n        this.bottomTierIndex = 0;\n        this.prevTopTierIndex = 0;\n        this.prevBottomTierIndex = 0;\n    }\n    /**\n     * @private\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @returns {void}\n     */\n    PdfTimeline.prototype.drawTimeline = function (page, startPoint, detail) {\n        this.detailsTimeline = detail;\n        var remainWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n            pointToPixel(Math.floor(detail.totalWidth)) : Math.round(detail.totalWidth);\n        var renderWidth = 0;\n        this.topTierPoint.x = startPoint.x;\n        this.topTierPoint.y = startPoint.y;\n        this.prevTopTierIndex = this.topTierIndex;\n        this.prevBottomTierIndex = this.bottomTierIndex;\n        while (remainWidth > 0) {\n            var pHeader = this.topTier[this.topTierIndex];\n            if (this.topTier.length > this.topTierIndex) {\n                var isCompleted = false;\n                if (!this.topTier[this.topTierIndex].isFinished) {\n                    if (remainWidth >= pHeader.width) {\n                        renderWidth = pHeader.width;\n                        pHeader.isFinished = true;\n                        pHeader.completedWidth = renderWidth;\n                        isCompleted = true;\n                    }\n                    else {\n                        renderWidth = remainWidth;\n                        isCompleted = false;\n                        pHeader.isFinished = false;\n                        pHeader.width = pHeader.width - remainWidth;\n                        pHeader.completedWidth = renderWidth;\n                    }\n                }\n                //Primary header Event Arguments\n                var reWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? renderWidth : pixelToPoint(renderWidth);\n                /* eslint-disable-next-line */\n                this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, reWidth, pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                    this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                this.topTierPoint.x += reWidth;\n                remainWidth -= renderWidth;\n                if (isCompleted) {\n                    this.topTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        remainWidth = Math.round(detail.totalWidth);\n        var height = this.parent.timelineModule.isSingleTier ? 0 : this.topTierHeight;\n        this.bottomTierPoint = new PointF(startPoint.x, pixelToPoint(startPoint.y + height));\n        while (remainWidth > 0) {\n            var secondHeader = this.bottomTier[this.bottomTierIndex];\n            if (this.bottomTier.length > this.bottomTierIndex) {\n                var isCompleted = true;\n                var width = secondHeader.width;\n                if (remainWidth < width) {\n                    width = remainWidth;\n                    /* eslint-disable-next-line */\n                    isCompleted = false;\n                    secondHeader.completedWidth = width;\n                }\n                //Secondary header Event Arguments\n                this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? width : pixelToPoint(width), secondHeader.value, false, secondHeader.startDate);\n                this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                    this.bottomTierPoint.x + width : this.bottomTierPoint.x + pixelToPoint(width);\n                remainWidth -= width;\n                secondHeader.completedWidth = width;\n                // if (isCompleted) {\n                this.bottomTierIndex++;\n                // }\n                if (remainWidth > 0 && remainWidth < width) {\n                    remainWidth = secondHeader.width - 1;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        this.timelineWidth = this.lastWidth;\n    };\n    /**\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails}  detail .\n     * @returns {void} .\n     * Draw the specific gantt chart side header when the taskbar exceeds the page\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.drawPageTimeline = function (page, startPoint, detail) {\n        this.topTierPoint = extend({}, {}, startPoint, true);\n        for (var index = this.prevTopTierIndex; index <= this.topTierIndex; index++) {\n            if (this.topTier.length > index) {\n                var pHeader = this.topTier[index];\n                if (pHeader.completedWidth > 0) {\n                    //Primary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pHeader.completedWidth : pixelToPoint(pHeader.completedWidth), pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                        this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                    this.topTierPoint.x += (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        pHeader.completedWidth : pixelToPoint(pHeader.completedWidth);\n                }\n            }\n        }\n        this.bottomTierPoint.x = startPoint.x;\n        this.bottomTierPoint.y = pixelToPoint(startPoint.y + this.topTierHeight);\n        for (var index = this.prevBottomTierIndex; index <= this.bottomTierIndex; index++) {\n            if (this.bottomTier.length > index) {\n                var secondHeader = this.bottomTier[index];\n                if (secondHeader.completedWidth > 0) {\n                    //Secondary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? secondHeader.width : pixelToPoint(secondHeader.width), secondHeader.value, false, secondHeader.startDate);\n                    this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        this.bottomTierPoint.x + secondHeader.width : this.bottomTierPoint.x + pixelToPoint(secondHeader.width);\n                }\n            }\n        }\n    };\n    /**\n     * Method to trigger pdf query timelinecell event\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.triggerQueryTimelinecell = function (page, x, y, height, width, value, isTopTier, currentDate) {\n        var _this = this;\n        var days = new Date(currentDate).getDay();\n        var graphics = page.graphics;\n        var timelineStyle = {};\n        var ganttStyle = this.gantt.ganttStyle;\n        timelineStyle.borderColor = new PdfColor(ganttStyle.timeline.borderColor);\n        timelineStyle.fontColor = new PdfColor(ganttStyle.timeline.fontColor);\n        timelineStyle.fontSize = ganttStyle.timeline.fontSize;\n        timelineStyle.fontStyle = ganttStyle.timeline.fontStyle;\n        timelineStyle.backgroundColor = new PdfColor(ganttStyle.timeline.backgroundColor);\n        if (ganttStyle.timeline.padding) {\n            timelineStyle.padding = ganttStyle.timeline.padding;\n        }\n        var format = this.initializePdfStringFormat(ganttStyle, isTopTier);\n        timelineStyle.format = format;\n        var eventArgs = {\n            timelineCell: timelineStyle,\n            value: value\n        };\n        if (this.parent.pdfQueryTimelineCellInfo) {\n            this.parent.trigger('pdfQueryTimelineCellInfo', eventArgs);\n        }\n        var e = eventArgs.timelineCell;\n        var cellBackgroundColor = new PdfSolidBrush(eventArgs.timelineCell.backgroundColor);\n        var nonWorkingDays = this.parent.nonWorkingDayIndex;\n        var isHoliday = false;\n        var holidayContainerColor = new PdfSolidBrush(ganttStyle.holiday.backgroundColor);\n        if (this.parent.highlightWeekends && nonWorkingDays.indexOf(days) !== -1 && (this.parent.timelineModule.bottomTier === 'Day' || this.parent.timelineModule.bottomTier === 'None' && this.parent.timelineModule.topTier === 'Day')) {\n            cellBackgroundColor = holidayContainerColor;\n            isHoliday = true;\n        }\n        this.parent.holidays.map(function (item) {\n            var fromDate = new Date(item.from);\n            var toDate = new Date(item.to);\n            var timelinedate = new Date(currentDate);\n            if (fromDate <= timelinedate && toDate >= timelinedate && (_this.parent.timelineModule.bottomTier === 'Day' || (_this.parent.timelineModule.bottomTier === 'None' && _this.parent.timelineModule.topTier === 'Day'))) {\n                cellBackgroundColor = holidayContainerColor;\n                if (fromDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayWidth = x;\n                }\n                if (toDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayLabel = item.label;\n                    var changeDate = new Date(item.to);\n                    changeDate.setDate(changeDate.getDate() + 1);\n                    var day = _this.parent.dataOperation.getTaskWidth(fromDate, changeDate);\n                    _this.holidayNumberOfDays = pixelToPoint(day) / width;\n                    _this.holidayCompleted = true;\n                }\n                isHoliday = true;\n            }\n            else if (_this.parent.timelineModule.bottomTier !== 'Day') {\n                if (_this.detailsTimeline.startDate <= fromDate && _this.detailsTimeline.endDate >= fromDate) {\n                    _this.parent.timelineModule.bottomTierCollection.map(function (items) {\n                        if (items.startDate <= fromDate && items.endDate >= fromDate) {\n                            if (items.startDate === currentDate) {\n                                _this.fitHolidayCompleted = true;\n                                _this.fromDataHoliday = item.from;\n                                _this.holidayLabel = item.label;\n                            }\n                        }\n                    });\n                }\n            }\n        });\n        var timelineborder = isHoliday && ganttStyle.holiday && ganttStyle.holiday.borders\n            ? ganttStyle.holiday.borders.left\n            : isHoliday && ganttStyle.holiday && ganttStyle.holiday.borderColor\n                ? new PdfPen(ganttStyle.holiday.borderColor)\n                : new PdfPen(eventArgs.timelineCell.borderColor);\n        if (!this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            this.lastWidth = x + width;\n        }\n        var adjustedWidth = isHoliday && (ganttStyle.holiday.borderColor || ganttStyle.holiday.borders) ? width - 2 : width;\n        // rectangle for timeline header\n        graphics.drawRectangle(timelineborder, cellBackgroundColor, x, y, adjustedWidth, pixelToPoint(height));\n        var rectPen = (!isTopTier && (this.parent.gridLines === 'Both' || this.parent.gridLines === 'Vertical')) ?\n            new PdfPen(ganttStyle.chartGridLineColor) : null;\n        var gridLineColor = isHoliday && (ganttStyle.holiday.borderColor || ganttStyle.holiday.borders) ?\n            timelineborder : rectPen;\n        // rectangle for chart side timeline\n        graphics.drawRectangle(gridLineColor, cellBackgroundColor, x, y + pixelToPoint(height), adjustedWidth, page.getClientSize().height);\n        var font1 = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        if (ganttStyle.font) {\n            font1 = ganttStyle.font;\n        }\n        var customizedFont = this.getPdfFont(ganttStyle);\n        if (!isNullOrUndefined(customizedFont)) {\n            font1 = customizedFont;\n        }\n        var fontColor = (ganttStyle.holiday && ganttStyle.holiday.fontColor) ?\n            new PdfSolidBrush(ganttStyle.holiday.fontColor) : new PdfSolidBrush(new PdfColor(0, 0, 0));\n        var fontBrush = (ganttStyle.holiday && ganttStyle.holiday.fontBrush) ?\n            new PdfPen(new PdfColor(ganttStyle.holiday.fontBrush)) : null;\n        var textFormat = new PdfStringFormat();\n        textFormat = (ganttStyle.holiday && ganttStyle.holiday.format) ? ganttStyle.holiday.format : null;\n        var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.holiday) &&\n            !isNullOrUndefined(ganttStyle.holiday.padding)) {\n            padding = ganttStyle.holiday.padding;\n        }\n        var strSize;\n        if (!isNullOrUndefined(this.holidayLabel)) {\n            strSize = font1.measureString(this.holidayLabel);\n        }\n        if (this.holidayCompleted) {\n            var state_1 = graphics.save();\n            var fontHieght = font1.height;\n            var fontSize = font1.size;\n            graphics.translateTransform(this.holidayWidth + width - ((fontSize / 2) * this.holidayNumberOfDays) -\n                fontHieght + (fontHieght / 2) + (width * this.holidayNumberOfDays) / 2, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -((this.holidayWidth + width + fontSize) / ((this.holidayWidth + width) / width)));\n            graphics.drawString(this.holidayLabel, font1, fontBrush, fontColor, 5 - (padding.left + padding.right), 5 - (padding.top + padding.bottom), strSize.width + 10, strSize.height + 10, textFormat);\n            graphics.restore(state_1);\n            this.holidayCompleted = false;\n        }\n        if (this.fitHolidayCompleted) {\n            var holidayBrush = holidayContainerColor;\n            var fontSize = font1.size;\n            graphics.drawRectangle(gridLineColor, holidayBrush, x + (width / 2) - fontSize, y +\n                pixelToPoint(height), fontSize, page.getClientSize().height);\n            var state_2 = graphics.save();\n            graphics.translateTransform(x + width + (width / 2) - fontSize, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -((this.holidayWidth + width + fontSize) / ((this.holidayWidth + width) / width)));\n            graphics.drawString(this.holidayLabel, font1, fontBrush, fontColor, 5 - (padding.left + padding.right), 5 - (padding.top + padding.bottom), strSize.width + 10, strSize.height + 10, textFormat);\n            graphics.restore(state_2);\n            this.fitHolidayCompleted = false;\n        }\n        var font = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        if (ganttStyle.font) {\n            font = ganttStyle.font;\n        }\n        var textBrush = new PdfSolidBrush(!isNullOrUndefined(ganttStyle.timeline.fontBrush)\n            ? ganttStyle.timeline.fontBrush : eventArgs.timelineCell.fontColor);\n        var pLeft = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.left : 0;\n        var pTop = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.top : 0;\n        /* eslint-disable-next-line */\n        var state = graphics.save();\n        graphics.setClip(new RectangleF(x, y, width, pixelToPoint(height)));\n        if (isTopTier) {\n            x = x + pLeft + this.topTierValueLeftPadding;\n        }\n        else {\n            x = x + pLeft;\n        }\n        graphics.drawString(eventArgs.value, font, null, textBrush, x, y + pTop, pixelToPoint(width), pixelToPoint(height), e.format);\n        graphics.restore(state);\n    };\n    /**\n     * Initializes and returns a PdfStringFormat based on the provided Gantt style and tier level.\n     *\n     * @param {IGanttStyle} ganttStyle - The style settings for the Gantt chart which include the timeline format.\n     * @param {boolean} isTopTier - A flag indicating whether the format is for the top tier of the timeline.\n     * @returns {PdfStringFormat} The initialized PdfStringFormat with appropriate line alignment, text alignment,\n     * and word wrap type, as determined by the ganttStyle and isTopTier flag.\n     */\n    PdfTimeline.prototype.initializePdfStringFormat = function (ganttStyle, isTopTier) {\n        var format = new PdfStringFormat();\n        if (isNullOrUndefined(ganttStyle.timeline.format)) {\n            if (isTopTier) {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Left;\n            }\n            else {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Center;\n                format.wordWrap = PdfWordWrapType.Character;\n            }\n        }\n        else {\n            format = ganttStyle.timeline.format;\n        }\n        return format;\n    };\n    PdfTimeline.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.holiday && (ganttStyle.holiday.fontSize || ganttStyle.holiday.fontStyle ||\n            ganttStyle.holiday.fontFamily)) {\n            var fontSize = ganttStyle.holiday.fontSize ? ganttStyle.holiday.fontSize : 9;\n            var fontFamily = ganttStyle.holiday.fontFamily ?\n                ganttStyle.holiday.fontFamily : this.fontFamily;\n            var fontStyle = ganttStyle.holiday.fontStyle ?\n                ganttStyle.holiday.fontStyle : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    return PdfTimeline;\n}());\nexport { PdfTimeline };\n","import { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttPredecessor = /** @class */ (function () {\n    function PdfGanttPredecessor(parent, pdfGantt) {\n        this.parent = parent;\n        this.pdfGantt = pdfGantt;\n    }\n    /**\n     * @returns {PdfGanttPredecessor} .\n     * @hidden\n     */\n    PdfGanttPredecessor.prototype.add = function () {\n        return new PdfGanttPredecessor(this.parent);\n    };\n    /**\n     * Calculate the predecesor line point and draw the predecessor\n     *\n     * @param {PdfGantt} pdfGantt .\n     * @returns {void}\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n        this.pdfGantt = pdfGantt;\n        var pages = pdfGantt.result.page.section.getPages();\n        var parentTask = pdfGantt.taskbarCollection[this.parentIndex];\n        var childTask = pdfGantt.taskbarCollection[this.childIndex];\n        var startPage = new PdfPage();\n        var endPage = new PdfPage();\n        var predecessorType = '';\n        var parentPageData;\n        var childPageData;\n        var parentY = 0;\n        var childY = 0;\n        if (childTask && parentTask) {\n            switch (this.type) {\n                case 'FS':\n                    if (childTask.startPage > -1 && parentTask.endPage > -1) {\n                        startPage = pages[parentTask.endPage];\n                        endPage = pages[childTask.startPage];\n                        parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                        childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                        if (this.parentIndex < this.childIndex) {\n                            if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                                predecessorType = 'FSType1';\n                            }\n                            else {\n                                predecessorType = 'FSType2';\n                            }\n                        }\n                        else {\n                            if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                                predecessorType = 'FSType3';\n                            }\n                            else {\n                                predecessorType = 'FSType4';\n                            }\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                    break;\n                case 'SF':\n                    if (childTask.endPage > -1 && parentTask.startPage > -1) {\n                        startPage = pages[parentTask.startPage];\n                        endPage = pages[childTask.endPage];\n                        parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                        childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                        if (this.parentIndex < this.childIndex) {\n                            if (this.parentLeft > this.childLeft + this.childWidth) {\n                                predecessorType = 'SFType1';\n                            }\n                            else {\n                                predecessorType = 'SFType2';\n                            }\n                        }\n                        else {\n                            if (this.parentLeft > this.childLeft + this.childWidth) {\n                                predecessorType = 'SFType3';\n                            }\n                            else {\n                                predecessorType = 'SFType4';\n                            }\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                    break;\n                case 'FF':\n                    if (childTask.endPage > -1 && parentTask.endPage > -1) {\n                        startPage = pages[parentTask.endPage];\n                        endPage = pages[childTask.endPage];\n                        parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                        childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n                        if (this.parentIndex < this.childIndex) {\n                            if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                                predecessorType = 'FFType1';\n                            }\n                            else {\n                                predecessorType = 'FFType2';\n                            }\n                        }\n                        else {\n                            if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                                predecessorType = 'FFType3';\n                            }\n                            else {\n                                predecessorType = 'FFType4';\n                            }\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                    break;\n                case 'SS':\n                    if (childTask.startPage > -1 && parentTask.startPage > -1) {\n                        startPage = pages[parentTask.startPage];\n                        endPage = pages[childTask.startPage];\n                        parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n                        childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                        if (this.parentIndex < this.childIndex) {\n                            if (this.parentLeft >= this.childLeft) {\n                                predecessorType = 'SSType1';\n                            }\n                            else {\n                                predecessorType = 'SSType2';\n                            }\n                        }\n                        else {\n                            if (this.parentLeft >= this.childLeft) {\n                                predecessorType = 'SSType3';\n                            }\n                            else {\n                                predecessorType = 'SSType4';\n                            }\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                    break;\n            }\n            var midPointManualparent = Math.round((this.parent.rowHeight - 15) / 2.0);\n            var midPointforTaskbar = Math.round((this.parent.rowHeight - 1) / 2.0);\n            var midPointforBaseline = Math.round((this.parent.rowHeight - 10) / 2.0);\n            var midPoint = this.parent.renderBaseline ? midPointforBaseline :\n                ((!parentTask.isAutoSchedule && parentTask.isParentTask) || (!childTask.isAutoSchedule && childTask.isParentTask)) ?\n                    midPointManualparent : midPointforTaskbar;\n            midPoint = pixelToPoint(midPoint);\n            /* eslint-disable-next-line */\n            var point1 = void 0, point2 = void 0, point3 = void 0, point4 = void 0, point5 = void 0, point6 = void 0;\n            point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n            var parentTaskpoint = {\n                x: parentTask.taskStartPoint.x,\n                y: parentTask.taskStartPoint.y\n            };\n            var childTaskpoint = {\n                x: childTask.taskStartPoint.x,\n                y: childTask.taskStartPoint.y\n            };\n            parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n            childY = childTaskpoint.y + childPageData.startPoint.y;\n            var ffpoint1 = void 0;\n            var sspoint1 = void 0;\n            var ffpoint3 = void 0;\n            var ffpoint4 = void 0;\n            var sspoint4 = void 0;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                ffpoint1 = new PointF((this.parentLeft + this.parentWidth), parentY + midPoint);\n                sspoint1 = new PointF((this.parentLeft) - 1, parentY + midPoint);\n                ffpoint3 = new PointF((this.childLeft - 20), childY + midPoint);\n                ffpoint4 = new PointF((this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n                sspoint4 = new PointF((this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n            }\n            else {\n                ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n                sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n                ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n                ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n                sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n            }\n            switch (predecessorType) {\n                case 'FSType1':\n                case 'FSType3':\n                    point1 = ffpoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                    }\n                    point3 = ffpoint3;\n                    point4 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'FSType2':\n                    point1 = ffpoint1;\n                    point2 = new PointF(point1.x + 10, parentY + midPoint);\n                    point3 = new PointF(point1.x + 10, childY + 2);\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point4 = new PointF((this.childLeft - 20), childY + 2);\n                    }\n                    else {\n                        point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n                    }\n                    point5 = ffpoint3;\n                    point6 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                    break;\n                case 'FSType4':\n                    point1 = ffpoint1;\n                    point2 = new PointF(point1.x + 10, parentY + midPoint);\n                    point3 = new PointF(point1.x + 10, parentY + 2);\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point4 = new PointF((this.childLeft - 20), parentY + 2);\n                    }\n                    else {\n                        point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n                    }\n                    point5 = ffpoint3;\n                    point6 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                    break;\n                case 'FFType1':\n                case 'FFType3':\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                        point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                    }\n                    else {\n                        point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                        point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'FFType2':\n                case 'FFType4':\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                        point2 = new PointF((this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                    }\n                    else {\n                        point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                        point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'SSType1':\n                case 'SSType3':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'SSType2':\n                case 'SSType4':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'SFType1':\n                case 'SFType3':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'SFType2':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                        point4 = new PointF((this.childLeft + this.childWidth + 20), childY + 2);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                        point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n                    }\n                    point3 = new PointF(point2.x, childY + 2);\n                    point5 = new PointF(point4.x, childY + midPoint);\n                    point6 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                    break;\n                case 'SFType4':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                        point4 = new PointF((this.childLeft + this.childWidth + 20), parentY + 2);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                        point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n                    }\n                    point3 = new PointF(point2.x, parentY + 2);\n                    point5 = new PointF(point4.x, childY + midPoint);\n                    point6 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                    break;\n            }\n        }\n    };\n    /**\n     * Method to draw the predecessor lines with calculated connector points\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n        this.drawLine(startPage, point1, point2);\n        this.drawLine(startPage, point2, point3);\n        this.drawLine(startPage, point3, point4);\n        if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n            this.drawLine(startPage, point4, point5);\n            this.drawLine(startPage, point5, point6);\n        }\n        this.drawArrow(endPage, childTask, midPoint);\n    };\n    /**\n     * Method to check the predecessor line  occurs within the page\n     *\n     * @param {RectangleF} rect .\n     * @param {number} x .\n     * @param {number} y .\n     * @returns {boolean} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n        return rect.x <= x &&\n            x < rect.x + rect.width &&\n            rect.y <= y &&\n            y < rect.y + rect.height;\n    };\n    /**\n     * Find the PDF page index of given point\n     *\n     * @param {PointF} point .\n     * @returns {number} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n        var pageIndex = -1;\n        for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n            var pageData = this.pdfGantt.pdfPageDetail[index];\n            var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n            if (this.contains(pageRect, point.x, point.y)) {\n                pageIndex = index;\n                break;\n            }\n        }\n        return pageIndex;\n    };\n    /**\n     * Draw predecessor line\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {PointF} endPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n        var pdfPages = this.pdfGantt.result.page.section.getPages();\n        var graphics = page.graphics;\n        var newEndPoint = { x: endPoint.x, y: endPoint.y };\n        var newStartPoint = { x: endPoint.x, y: endPoint.y };\n        var checkStartPoint = { x: endPoint.x, y: endPoint.y };\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n        var pageIndex = -1;\n        startPoint = new PointF(startPoint.x, startPoint.y);\n        endPoint = new PointF(endPoint.x, endPoint.y);\n        if (!startPointCheck && !endPointCheck || endPointCheck && !startPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (!endPointCheck && startPointCheck) {\n            var pageRectLeft = pageRect.x;\n            var pageRectRight = pageRect.x + pageRect.width;\n            var pageRectBottom = pageRect.y + pageRect.height;\n            var pageRectTop = pageRect.y;\n            if (pageRectLeft > endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n                newStartPoint.x = pageRectLeft - 1;\n            }\n            else if (pageRectRight < endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectRight;\n                newStartPoint.x = pageRectRight;\n                checkStartPoint.x += 1;\n            }\n            else if (pageRectBottom < endPoint.y) {\n                checkStartPoint.y = endPoint.y = pageRectBottom;\n                newStartPoint.y = pageRectBottom;\n                checkStartPoint.y += 1;\n                if (this.pdfGantt.enableHeader) {\n                    newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            else if (pageRectTop > endPoint.y) {\n                newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n                endPoint.y = pageRectTop;\n                if (this.pdfGantt.enableHeader) {\n                    checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                    endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            pageIndex = this.findPageIndex(checkStartPoint);\n            if (pageIndex !== -1) {\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        if (startPointCheck) {\n            startPoint = new PointF(startPoint.x, startPoint.y);\n            endPoint = new PointF(endPoint.x, endPoint.y);\n            startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            startPoint.y = startPoint.y - pageData.startPoint.y;\n            endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            endPoint.y = endPoint.y - pageData.startPoint.y;\n            var brush = new PdfSolidBrush(this.connectorLineColor);\n            var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n            graphics.drawLine(predecessorPen, startPoint, endPoint);\n        }\n    };\n    /**\n     * Draw predecessor arrow\n     *\n     * @param {PdfPage} page .\n     * @param {PdfGanttTaskbarCollection} childTask .\n     * @param {number} midPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        /* eslint-disable-next-line */\n        var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n        var startPoint = new PointF();\n        var pdfPages = page.section.getPages();\n        var width = 6 + this.lineWidth;\n        var point2;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF((this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF((this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        if (!startPointCheck) {\n            var pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n            }\n        }\n        var graphics = page.graphics;\n        startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n        startPoint.y = startPoint.y - pageData.startPoint.y;\n        var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - (width), point1.y - (width));\n            }\n            else {\n                point2 = new PointF(point1.x + (width), point1.y - (width));\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n            else {\n                point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n        }\n        var brush = new PdfSolidBrush(this.connectorLineColor);\n        var point3;\n        var predecessorPen;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            point3 = new PointF(point2.x, point2.y + (2 * width));\n            predecessorPen = new PdfPen(brush, (this.lineWidth));\n        }\n        else {\n            point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n            predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n        }\n        graphics.drawLine(predecessorPen, point1, point2);\n        graphics.drawLine(predecessorPen, point2, point3);\n        graphics.drawLine(predecessorPen, point3, point1);\n    };\n    return PdfGanttPredecessor;\n}());\nexport { PdfGanttPredecessor };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfFontFamily, PdfStringFormat, PdfTextAlignment, PdfFontStyle } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders } from './../export/pdf-base/pdf-borders';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(parent) {\n        this.parent = parent;\n    }\n    EventMarker.prototype.drawEventMarker = function (page, startPoint, cumulativeWidth, detail, eventMarker, cumulativeHeight, ganttStyles) {\n        var taskGraphics = page.graphics;\n        var pageSize = page.getClientSize();\n        var font = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        /* eslint-disable-next-line */\n        var strSize;\n        if (!isNullOrUndefined(eventMarker.label)) {\n            strSize = font.measureString(eventMarker.label);\n        }\n        var triangle = 8;\n        var eventLine = ganttStyles.eventMarker.lineStyle;\n        eventLine.dashStyle = ganttStyles.eventMarker.lineStyle.dashStyle;\n        if (detail.startDate <= eventMarker.date && eventMarker.date <= detail.endDate) {\n            var enventFormat = new PdfStringFormat();\n            enventFormat.alignment = PdfTextAlignment.Center;\n            var textFormat = !isNullOrUndefined(ganttStyles.eventMarker.label.format) ?\n                ganttStyles.eventMarker.label.format : enventFormat;\n            var eventBrush = new PdfSolidBrush(ganttStyles.eventMarker.label.backgroundColor);\n            var fontColor = (ganttStyles.eventMarker.label && ganttStyles.eventMarker.label.fontColor) ?\n                new PdfSolidBrush(ganttStyles.eventMarker.label.fontColor) : null;\n            var customizedFont = this.getPdfFont(ganttStyles);\n            if (isNullOrUndefined(customizedFont)) {\n                customizedFont = font;\n            }\n            var defaultBorder = ganttStyles.eventMarker.label.borders ? ganttStyles.eventMarker.label.borders : null;\n            if (ganttStyles.eventMarker.label.borderColor) {\n                var pdfborders = new PdfBorders();\n                pdfborders.all = new PdfPen(new PdfColor(ganttStyles.eventMarker.label.borderColor));\n                defaultBorder = pdfborders;\n            }\n            var border = (!isNullOrUndefined(defaultBorder) && !isNullOrUndefined(defaultBorder.left)) ? defaultBorder.left : null;\n            var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n            if (!isNullOrUndefined(ganttStyles) && !isNullOrUndefined(ganttStyles.eventMarker) &&\n                !isNullOrUndefined(ganttStyles.eventMarker.label) && !isNullOrUndefined(ganttStyles.eventMarker.label.padding)) {\n                padding = ganttStyles.eventMarker.label.padding;\n            }\n            var customizedFontBrush = !isNullOrUndefined(ganttStyles.eventMarker.label.fontBrush) ?\n                new PdfPen(ganttStyles.eventMarker.label.fontBrush) : null;\n            var left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(eventMarker.date, true), false, true);\n            var diff = 10;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + (left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + (left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(border, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(border, eventBrush, startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, customizedFont, customizedFontBrush, fontColor, (startPoint.x +\n                        (left - cumulativeWidth) + 12 + diff) - (padding.left + padding.right), (cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2)) - (padding.top + padding.bottom), strSize.width, strSize.height, textFormat);\n                }\n            }\n            else {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(border, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(border, eventBrush, startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, customizedFont, customizedFontBrush, fontColor, (startPoint.x + pixelToPoint(left - cumulativeWidth) + 12 + diff) - (padding.left + padding.right), (cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2)) - (padding.top + padding.bottom), strSize.width, strSize.height, textFormat);\n                }\n            }\n        }\n    };\n    EventMarker.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.eventMarker && ganttStyle.eventMarker.label &&\n            (ganttStyle.eventMarker.label.fontSize || ganttStyle.eventMarker.label.fontStyle ||\n                ganttStyle.eventMarker.label.fontFamily)) {\n            var fontSize = ganttStyle.eventMarker.label.fontSize ? ganttStyle.eventMarker.label.fontSize : 9;\n            var fontFamily = ganttStyle.eventMarker.label.fontFamily ?\n                ganttStyle.eventMarker.label.fontFamily : this.fontFamily;\n            var fontStyle = ganttStyle.eventMarker.label.fontStyle ?\n                ganttStyle.eventMarker.label.fontStyle : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfGanttTaskbarCollection } from './pdf-taskbar';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PointF, PdfPen, PdfColor } from '@syncfusion/ej2-pdf-export';\nimport { PdfTreeGrid } from './pdf-treegrid';\nimport { PdfTimeline } from './pdf-timeline';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { PdfGanttPredecessor } from './pdf-connector-line';\nimport { EventMarker } from './pdf-event-marker';\n/**\n *\n */\nvar PdfGantt = /** @class */ (function (_super) {\n    __extends(PdfGantt, _super);\n    function PdfGantt(parent) {\n        var _this = _super.call(this) || this;\n        _this.exportProps = {};\n        _this.changeCloneProjectDates = false;\n        _this.parent = parent;\n        _this.chartHeader = new PdfTimeline(_this);\n        _this.eventMarker = new EventMarker(parent);\n        _this.predecessor = new PdfGanttPredecessor(parent, _this);\n        _this.headerDetails = [];\n        _this.pdfPageDetail = [];\n        _this.taskbarCollection = [];\n        _this.predecessorCollection = [];\n        return _this;\n    }\n    Object.defineProperty(PdfGantt.prototype, \"taskbar\", {\n        get: function () {\n            if (isNullOrUndefined(this.taskbars)) {\n                this.taskbars = new PdfGanttTaskbarCollection(this.parent);\n            }\n            return this.taskbars;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGantt.prototype.drawChart = function (result) {\n        this.result = result;\n        this.totalPages = this.result.page.section.count;\n        this.perColumnPages = this.totalPages / this.layouter.columnRanges.length;\n        this.calculateRange();\n        this.drawGantttChart();\n        this.drawPageBorder();\n    };\n    //Calcualte the header range for each pdf page based on schedule start and end date.\n    PdfGantt.prototype.calculateRange = function () {\n        var lastColumnRange = this.layouter.columnRanges[this.layouter.columnRanges.length - 1];\n        var totalColumnWidth = 0;\n        var isPageFinished = true;\n        var pageWidth = 0;\n        var remainWidth = 0;\n        var point = 0;\n        var headerWidth = pixelToPoint(this.chartHeader.width);\n        var timelineSettings = this.parent.timelineModule;\n        for (var index = lastColumnRange[0]; index <= lastColumnRange[1]; index++) {\n            totalColumnWidth += this.layouter.treegrid.columns.getColumn(index).width;\n        }\n        totalColumnWidth += 0.5;\n        if (totalColumnWidth + 100 < this.result.page.getClientSize().width) {\n            remainWidth = this.result.page.getClientSize().width - totalColumnWidth;\n            this.chartPageIndex = this.startPageIndex = this.totalPages - this.perColumnPages;\n            isPageFinished = false;\n            this.startPoint = new PointF(totalColumnWidth, 0);\n        }\n        else {\n            this.result.page.section.add();\n            this.chartPageIndex = this.startPageIndex = this.totalPages;\n            isPageFinished = true;\n            this.startPoint = new PointF(point, 0);\n        }\n        while (Math.round(point) < Math.round(headerWidth)) {\n            if (isPageFinished) {\n                pageWidth = this.result.page.getClientSize().width;\n            }\n            else {\n                pageWidth = remainWidth;\n                isPageFinished = true;\n            }\n            var detail = {};\n            var range = [];\n            var convertedWidth = pixelToPoint(this.chartHeader.bottomTierCellWidth);\n            var width = 0;\n            if (this.chartHeader.bottomTierCellWidth !== 0) {\n                width = (Math.floor(pageWidth / convertedWidth) * convertedWidth);\n            }\n            range[0] = point;\n            if (headerWidth - point <= width) {\n                range[1] = headerWidth;\n                detail.totalWidth = pointToPixel(headerWidth - point);\n            }\n            else {\n                range[1] = point + width;\n                detail.totalWidth = pointToPixel(width);\n            }\n            detail.startPoint = range[0];\n            detail.endPoint = range[1];\n            if (this.parent.cloneProjectStartDate.getHours() === 0 && this.parent.cloneProjectStartDate.getMinutes() === 0\n                && this.parent.cloneProjectStartDate.getSeconds() === 0) {\n                this.changeCloneProjectDates = true;\n                this.parent.cloneProjectStartDate.setHours(8);\n            }\n            var timelineStartDate = this.parent.dataOperation.getDateFromFormat(this.parent.timelineModule.timelineStartDate);\n            var count = isNullOrUndefined(timelineSettings.customTimelineSettings.bottomTier.count) ?\n                timelineSettings.customTimelineSettings.topTier.count : timelineSettings.customTimelineSettings.bottomTier.count;\n            var scheduleType = timelineSettings.customTimelineSettings.bottomTier.unit === 'None' ?\n                timelineSettings.customTimelineSettings.topTier.unit : timelineSettings.customTimelineSettings.bottomTier.unit;\n            switch (scheduleType) {\n                case 'Minutes':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + sDays * count);\n                        detail.startDate.setSeconds(detail.startDate.getSeconds() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setMinutes(detail.endDate.getMinutes() + eDays * count);\n                        break;\n                    }\n                case 'Hour':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays1 = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setHours(detail.startDate.getHours() + sDays1 * count);\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays1 = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setHours(detail.endDate.getHours() + eDays1 * count);\n                        break;\n                    }\n                case 'Day':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays = (Math.round(detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth)));\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays * count);\n                        var endDays = Math.round(((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth))) - 1;\n                        var startdate = detail.startDate;\n                        startdate.setHours(0, 0, 0, 0);\n                        var secondsToAdd = this.parent.workingTimeRanges[0].to * 1000;\n                        detail.endDate = new Date(startdate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays * count);\n                        detail.endDate.setTime(detail.endDate.getTime() + secondsToAdd);\n                        break;\n                    }\n                case 'Week':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays1 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 7);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays1 * count);\n                        var endDays1 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 7 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays1 * count);\n                        break;\n                    }\n                case 'Month':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays2 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 31);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays2 * count);\n                        var endDays2 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 31 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays2 * count);\n                        break;\n                    }\n                case 'Year':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays3 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 365);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays3 * count);\n                        var endDays3 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 365 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays3 * count);\n                        break;\n                    }\n            }\n            this.headerDetails.push(detail);\n            point += width;\n        }\n    };\n    PdfGantt.prototype.drawPageBorder = function () {\n        var pages = this.result.page.section.getPages();\n        for (var index = 0; index < pages.length; index++) {\n            var page = pages[index];\n            var graphics = page.graphics;\n            var pageSize = page.getClientSize();\n            var pen = new PdfPen(new PdfColor(this.ganttStyle.chartGridLineColor));\n            graphics.drawRectangle(pen, 0, 0, pageSize.width, pageSize.height);\n        }\n    };\n    //Draw the gantt chart side\n    PdfGantt.prototype.drawGantttChart = function () {\n        var _this = this;\n        var taskbarPoint = this.startPoint;\n        var pagePoint = new PointF();\n        var pageStartX = 0;\n        var cumulativeWidth = 0;\n        var cumulativeHeight = 0;\n        var pageData;\n        this.headerDetails.forEach(function (detail, index) {\n            var page = _this.result.page.section.getPages()[_this.startPageIndex];\n            page['contentWidth'] = (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pointToPixel(_this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint) : _this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint;\n            _this.chartHeader.drawTimeline(page, _this.startPoint, detail);\n            taskbarPoint.y = taskbarPoint.y + pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            pageStartX = taskbarPoint.x;\n            cumulativeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].startIndex = _this.startPageIndex;\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].pageStartPoint = taskbarPoint;\n            _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight, _this.ganttStyle);\n            });\n            for (var i = 0; i < _this.taskbarCollection.length; i++) {\n                var task = _this.taskbarCollection[i];\n                var rowHeight = _this.rows.getRow(i + 1).height;\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                var graphics = pdfPage.graphics;\n                var pen = new PdfPen(new PdfColor(_this.ganttStyle.chartGridLineColor));\n                var lineWidth = void 0;\n                if (page['contentWidth'] && (_this.parent.gridLines === 'Both' || _this.parent.gridLines === 'Horizontal')) {\n                    lineWidth = _this.chartHeader.timelineWidth;\n                    graphics.drawRectangle(pen, pageStartX, taskbarPoint.y, page['contentWidth'] + 0.5, rowHeight);\n                }\n                var isNextPage = task.drawTaskbar(pdfPage, taskbarPoint, detail, cumulativeWidth, rowHeight, _this.taskbarCollection[parseInt(i.toString(), 10)], lineWidth);\n                if (isNextPage) {\n                    if (_this.enableHeader) {\n                        taskbarPoint.y = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                    }\n                    _this.startPageIndex++;\n                    pageData = {};\n                    pageData.height = cumulativeHeight;\n                    pageData.pageStartX = pageStartX;\n                    pageData.startPoint = __assign({}, pagePoint);\n                    if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    else {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    _this.pdfPageDetail.push(pageData);\n                    pagePoint.y += pageData.height;\n                    if (_this.enableHeader) {\n                        cumulativeHeight = _this.chartHeader.height;\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                        cumulativeHeight = 0;\n                    }\n                }\n                taskbarPoint.y += rowHeight;\n                cumulativeHeight += rowHeight;\n                _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                    var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                    _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight, _this.ganttStyle);\n                });\n            }\n            _this.headerDetails[index].endIndex = _this.startPageIndex;\n            cumulativeWidth += detail.totalWidth;\n            pageData = {};\n            pageData.height = cumulativeHeight;\n            pageData.pageStartX = pageStartX;\n            pageData.startPoint = __assign({}, pagePoint);\n            if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                pageData.width = (detail.totalWidth);\n            }\n            else {\n                pageData.width = pixelToPoint(detail.totalWidth);\n            }\n            _this.pdfPageDetail.push(pageData);\n            pagePoint.x += pageData.width;\n            pagePoint.y = 0;\n            if (_this.enableHeader) {\n                cumulativeHeight = _this.chartHeader.height;\n            }\n            else {\n                taskbarPoint.y = 0;\n            }\n            if (_this.headerDetails.indexOf(detail) !== _this.headerDetails.length - 1) {\n                _this.result.page.section.add();\n                _this.startPageIndex = _this.result.page.section.count - 1;\n                taskbarPoint = _this.startPoint = new PointF(0, 0);\n            }\n        });\n        // Draw predecessor line.\n        for (var i = 0; i < this.predecessorCollection.length; i++) {\n            var predecessor = this.predecessorCollection[i];\n            predecessor.drawPredecessor(this);\n        }\n    };\n    return PdfGantt;\n}(PdfTreeGrid));\nexport { PdfGantt };\n","import { PdfGanttTheme } from './../export/pdf-base/pdf-style/gantt-theme';\nimport { PdfTreeGridLayoutFormat } from './../export/pdf-base/index';\nimport { isNullOrUndefined, getValue, extend } from '@syncfusion/ej2-base';\nimport { ExportHelper } from '../export/export-helper';\nimport { PdfDocument, PdfPageSettings, PdfPageOrientation, SizeF, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfGantt } from '../export/pdf-gantt';\n/**\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function PdfExport(parent) {\n        this.isPdfExport = false;\n        this.parent = parent;\n        this.helper = new ExportHelper(this.parent);\n        this.pdfDocument = undefined;\n    }\n    /**\n     * @returns {string} .\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'pdfExport';\n    };\n    /**\n     * To destroy Pdf export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    PdfExport.prototype.initGantt = function () {\n        this.pdfDocument = undefined;\n        this.gantt = new PdfGantt(this.parent);\n        // this.gantt.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n    };\n    /**\n     * @param {PdfExportProperties} pdfExportProperties .\n     * @param {boolean} isMultipleExport .\n     * @param {object} pdfDoc .\n     * @param {boolean} isBlob .\n     * @returns {Promise<Object>} .\n     */\n    PdfExport.prototype.export = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        var _this = this;\n        this.isBlob = isBlob;\n        var args = {\n            requestType: 'beforePdfExport',\n            ganttObject: this.parent,\n            cancel: false\n        };\n        this.parent.trigger('beforePdfExport', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (getValue('cancel', args)) {\n            /* eslint-disable-next-line */\n            return new Promise(function (resolve, reject) {\n                return resolve();\n            });\n        }\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.exportWithData(pdfDoc, resolve, pdfExportProperties, isMultipleExport);\n        });\n    };\n    PdfExport.prototype.exportWithData = function (pdfDoc, resolve, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var data = [];\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.updatedRecords);\n        if (isNullOrUndefined(pdfExportProperties)) {\n            pdfExportProperties = {};\n        }\n        if (pdfExportProperties.fitToWidthSettings && pdfExportProperties.fitToWidthSettings.isFitToWidth) {\n            if (pdfExportProperties.exportType === 'CurrentViewData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.currentViewData, null, true);\n            }\n            else if (pdfExportProperties.exportType === 'AllData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.flatData, null, true);\n            }\n            else {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], updatedRecords, null, true);\n            }\n            this.helper.beforeSinglePageExport['cloneCurrentViewData'] = extend([], this.parent.currentViewData, null, true);\n            data = this.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            if (!isNullOrUndefined(pdfExportProperties.exportType)) {\n                if (pdfExportProperties.exportType === 'CurrentViewData') {\n                    data = this.parent.currentViewData;\n                }\n                else {\n                    data = this.parent.flatData;\n                }\n            }\n            else {\n                data = updatedRecords;\n            }\n        }\n        this.initGantt();\n        if (!isNullOrUndefined(pdfDoc)) {\n            this.pdfDocument = pdfDoc;\n        }\n        else {\n            this.pdfDocument = new PdfDocument();\n        }\n        this.processExport(data, pdfExportProperties, isMultipleExport).then(function () {\n            _this.parent.trigger('pdfExportComplete', _this.isBlob ? { promise: _this.blobPromise } : {});\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n            resolve(_this.pdfDocument);\n        });\n    };\n    PdfExport.prototype.processExport = function (data, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var section = this.pdfDocument.sections.add();\n        this.processSectionExportProperties(section, pdfExportProperties);\n        this.pdfPage = section.pages.add();\n        this.pdfPageDimensions = this.pdfPage.getClientSize();\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.helper.processGridExport(data, _this.gantt, pdfExportProperties);\n            _this.helper.initializePdf(_this.pdfDocument);\n            resolve();\n        }).then(function () {\n            var format = new PdfTreeGridLayoutFormat();\n            format.break = PdfLayoutBreakType.FitElement;\n            var layouter = _this.gantt.drawGrid(_this.pdfPage, 0, 0, format);\n            _this.gantt.drawChart(layouter);\n            if (_this.helper.exportProps && _this.helper.exportProps.fitToWidthSettings &&\n                _this.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n                _this.parent.zoomingProjectStartDate = _this.helper.beforeSinglePageExport['zoomingProjectStartDate'];\n                _this.parent.zoomingProjectEndDate = _this.helper.beforeSinglePageExport['zoomingProjectEndDate'];\n                _this.parent.cloneProjectStartDate = _this.helper.beforeSinglePageExport['cloneProjectStartDate'];\n                _this.parent.cloneProjectEndDate = _this.helper.beforeSinglePageExport['cloneProjectEndDate'];\n                _this.parent.timelineModule.customTimelineSettings = _this.helper.beforeSinglePageExport['customTimelineSettings'];\n                _this.parent.isTimelineRoundOff = _this.helper.beforeSinglePageExport['isTimelineRoundOff'];\n                _this.parent.timelineModule.topTier = _this.helper.beforeSinglePageExport['topTier'];\n                _this.parent.timelineModule.topTierCellWidth = _this.helper.beforeSinglePageExport['topTierCellWidth'];\n                _this.parent.timelineModule.topTierCollection = _this.helper.beforeSinglePageExport['topTierCollection'];\n                _this.parent.timelineModule.bottomTier = _this.helper.beforeSinglePageExport['bottomTier'];\n                _this.parent.timelineModule.bottomTierCellWidth = _this.helper.beforeSinglePageExport['bottomTierCellWidth'];\n                _this.parent.timelineModule.bottomTierCollection = _this.helper.beforeSinglePageExport['bottomTierCollection'];\n                _this.parent.timelineModule.totalTimelineWidth = _this.helper.beforeSinglePageExport['totalTimelineWidth'];\n                _this.parent.timelineModule.timelineStartDate = _this.helper.beforeSinglePageExport['timelineStartDate'];\n                _this.parent.timelineModule.timelineEndDate = _this.helper.beforeSinglePageExport['timelineEndDate'];\n                _this.parent.timelineModule.timelineRoundOffEndDate = _this.helper.beforeSinglePageExport['timelineRoundOffEndDate'];\n                _this.parent.perDayWidth = _this.helper.beforeSinglePageExport['perDayWidth'];\n                _this.parent.updatedConnectorLineCollection = _this.helper.beforeSinglePageExport['updatedConnectorLineCollection'];\n            }\n            if (_this.gantt.changeCloneProjectDates) {\n                _this.parent.cloneProjectStartDate.setHours(0);\n                _this.gantt.changeCloneProjectDates = false;\n            }\n            if (!isMultipleExport) {\n                if (!_this.isBlob) {\n                    // save the PDF\n                    if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.fileName) {\n                        _this.pdfDocument.save(pdfExportProperties.fileName);\n                    }\n                    else {\n                        _this.pdfDocument.save('Export.pdf');\n                    }\n                }\n                else {\n                    _this.blobPromise = _this.pdfDocument.save();\n                }\n                _this.pdfDocument.destroy();\n            }\n            return _this.pdfDocument;\n        });\n    };\n    PdfExport.prototype.processSectionExportProperties = function (section, pdfExportProperties) {\n        //To set section page size and page orientation.\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            var pdfPageSettings = new PdfPageSettings();\n            if (!isNullOrUndefined(pdfExportProperties.pageOrientation) && pdfExportProperties.pageOrientation === 'Portrait') {\n                pdfPageSettings.orientation = PdfPageOrientation.Portrait;\n            }\n            else {\n                pdfPageSettings.orientation = PdfPageOrientation.Landscape;\n            }\n            if (!isNullOrUndefined(pdfExportProperties.pageSize)) {\n                pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize);\n            }\n            section.setPageSettings(pdfPageSettings);\n            if (!isNullOrUndefined(pdfExportProperties.ganttStyle)) {\n                var defaultGanttTheme = new PdfGanttTheme(pdfExportProperties.theme).style;\n                this.gantt.ganttStyle = extend({}, defaultGanttTheme, pdfExportProperties.ganttStyle, true);\n            }\n            else {\n                this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n            }\n        }\n        else {\n            this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n        }\n    };\n    PdfExport.prototype.getPageSize = function (pageSize) {\n        switch (pageSize) {\n            case 'Letter':\n                return new SizeF(612, 792);\n            case 'Note':\n                return new SizeF(540, 720);\n            case 'Legal':\n                return new SizeF(612, 1008);\n            case 'A0':\n                return new SizeF(2380, 3368);\n            case 'A1':\n                return new SizeF(1684, 2380);\n            case 'A2':\n                return new SizeF(1190, 1684);\n            case 'A3':\n                return new SizeF(842, 1190);\n            case 'A5':\n                return new SizeF(421, 595);\n            case 'A6':\n                return new SizeF(297, 421);\n            case 'A7':\n                return new SizeF(210, 297);\n            case 'A8':\n                return new SizeF(148, 210);\n            case 'A9':\n                return new SizeF(105, 148);\n            // case 'A10':\n            //     return new SizeF(74, 105);\n            case 'B0':\n                return new SizeF(2836, 4008);\n            case 'B1':\n                return new SizeF(2004, 2836);\n            case 'B2':\n                return new SizeF(1418, 2004);\n            case 'B3':\n                return new SizeF(1002, 1418);\n            case 'B4':\n                return new SizeF(709, 1002);\n            case 'B5':\n                return new SizeF(501, 709);\n            case 'Archa':\n                return new SizeF(648, 864);\n            case 'Archb':\n                return new SizeF(864, 1296);\n            case 'Archc':\n                return new SizeF(1296, 1728);\n            case 'Archd':\n                return new SizeF(1728, 2592);\n            case 'Arche':\n                return new SizeF(2592, 3456);\n            case 'Flsa':\n                return new SizeF(612, 936);\n            case 'HalfLetter':\n                return new SizeF(396, 612);\n            case 'Letter11x17':\n                return new SizeF(792, 1224);\n            case 'Ledger':\n                return new SizeF(1224, 792);\n            default:\n                return new SizeF(595, 842);\n        }\n    };\n    return PdfExport;\n}());\nexport { PdfExport };\n","import { TreeGrid, VirtualScroll as TreeGridVirtualScroll } from '@syncfusion/ej2-treegrid';\n/**\n * Gantt Virtual Scroll module will handle Virtualization\n *\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        this.parent = parent;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualScroll';\n    };\n    /**\n     * Bind virtual-scroll related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.enableVirtualization = this.parent.enableVirtualization;\n        TreeGrid.Inject(TreeGridVirtualScroll);\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    VirtualScroll.prototype.getTopPosition = function () {\n        var virtualTable = this.parent.ganttChartModule.scrollElement.querySelector('.e-virtualtable');\n        var translates = virtualTable.style.transform.split(',');\n        var top;\n        if (translates.length > 1) {\n            top = translates[1].trim().split(')')[0];\n        }\n        else {\n            var transformString = virtualTable.style.transform;\n            top = transformString.substring(transformString.lastIndexOf('(') + 1, transformString.lastIndexOf(')'));\n        }\n        return parseFloat(top);\n    };\n    /**\n     * To destroy the virtual scroll module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    VirtualScroll.prototype.destroy = function () {\n        // destroy module\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","import * as index from './index';\nindex.Gantt.Inject(index.Filter, index.Selection, index.Sort, index.Reorder, index.Resize, index.Edit, index.DayMarkers, index.Toolbar, index.ContextMenu, index.ExcelExport, index.RowDD, index.ColumnMenu, index.PdfExport, index.VirtualScroll, index.CriticalPath, index.UndoRedo);\nexport * from './index';\n"],"names":["parentsUntil","elem","selector","isID","parent","id","classList","contains","parentElement","isScheduledTask","ganttProp","isNullOrUndefined","startDate","endDate","duration","isCountRequired","dataSource","DataManager","getSwapKey","obj","temp","_i","_a","Object","keys","length","key","isEmptyObject","isRemoteData","adaptor","ODataAdaptor","ODataV4Adaptor","WebApiAdaptor","WebMethodAdaptor","CacheAdaptor","RemoteSaveAdaptor","UrlAdaptor","getTaskData","records","isNotExtend","eventArgs","result","i","data","parseInt","toString","extend","taskData","timezone","updateDates","push","record","ganttProperties","taskFields","dateValidationModule","remove","baselineEndDate","baselineStartDate","formatString","str","args","regx","RegExp","replace","getIndex","value","key1","collection","key2","index","getValue","pixelToPoint","pointToPixel","getUid","uid","DateProcessor","this","fromSegments","mondayTimeRangeLength","tuesdayTimeRangeLength","wednesdayTimeRangeLength","thursdayTimeRangeLength","fridayTimeRangeLength","saturdayTimeRangeLength","sundayTimeRangeLength","prototype","isValidateNonWorkDays","isAutoSchedule","includeWeekend","totalHolidayDates","checkStartDate","date","validateAsMilestone","isLoad","currentDay","Date","getTime","dayStartTime","dayEndTime","cloneStartDate","hour","getSecondsInDecimal","isMilestone","setTime","setDate","getDate","workingRange","workingTimeRanges","weekWorkingTime","to","from","tStartDate","autoCalculateDateScheduling","treeGrid","loadChildOnDemand","hasChildMapping","holidayLength","autoEndDate","startTime","tempDate","getNextWorkingDay","count","holidayFrom","getDateFromFormat","holidayTo","setHours","checkEndDate","editModule","taskbarEditModule","taskBarEditRecord","defaultStartTime","defaultEndTime","cloneEndDate","taskfields","tempCheckDate","getPreviousWorkingDay","tempHoliday","setMinutes","getMilliseconds","checkBaselineStartDate","cloneDate","checkBaselineEndDate","autoStartDate","calculateStartDate","ganttData","tempStartDate","getStartDate","durationUnit","setRecordValue","dataOperation","updateMappingData","calculateEndDate","tempEndDate","compareDates","calculateDuration","segments","totalDuration","getEndDate","offsetDuration","tDuration","sumOfDuration","milestone","getDuration","col","columnByField","columnMapping","cellEditModule","isCellEdit","edit","read","dialog","dialogModule","textBox","querySelector","element","ej2_instances","dataBind","getNonworkingTime","sDate","eDate","isCheckTimeZone","weekendCount","getWeekendCount","totalHours","getNumberOfSeconds","holidaysCount","getHolidaysCount","totWorkDays","nonWorkHours","getNonWorkingSecondsOnDate","nonWorkingSeconds","secondsPerDay","workDays","fromDuration","newStartDate","newEndDate","timeDiff","getHours","isOnHolidayOrWeekEnd","currentDaySeconds","totSeconds","durationValue","durationHours","getTimeDifference","undefined","getFormatedDate","parseFloat","getDurationAsSeconds","toLocaleLowerCase","secondDuration","tempStart","calculateSecondDuration","setSeconds","getSeconds","fromValidation","tempEnd","fromEndDate","num","Number","isInteger","deciNumber","split","getProjectStartDate","cloneProjectStartDate","projectStartDate","flatData","minStartDate","getValidStartDate","isAuto","autoDuration","ganttTask","getTaskByUniqueID","uniqueID","allowUnscheduledTasks","parentItem","parentTask","getParentTask","getValidEndDate","getWorkingTime","day","currentRange","totalSeconds","nonWorkingHours","nonWorkingTimeRanges","startHour","endHour","sdSeconds","edSeconds","assignStartTime","toLowerCase","assignEndTime","isWorking","interval","mondayDefaultStartTime","tuesdayDefaultStartTime","wednesdayDefaultStartTime","thursdayDefaultStartTime","fridayDefaultStartTime","saturdayDefaultStartTime","sundayDefaultStartTime","mondayDefaultEndTime","tuesdayDefaultEndTime","wednesdayDefaultEndTime","thursdayDefaultEndTime","fridayDefaultEndTime","saturdayDefaultEndTime","sundayDefaultEndTime","calculateWeekWorkTime","seconds","j","getSecondsPerDay","dayWorkingTime","dayOfWeek","timeRange","dayWorkingTime_1","_b","weekWorkingTime_1","weekDay","seconds_1","_c","_d","dayDefaultStartTime","seconds_2","getDurationValue","isFromDialog","values","match","trim","unit","durationUnitEditText","indexOf","dayIndex","getDay","nonWorkingDayIndex","holidays","currentHoliday","getHolidayDates","holidayDates","checkWeekEnd","startnonWorkingTimeRange","endnonWorkingTimeRange","sHour","eHour","startRangeIndex","endRangeIndex","totNonWrkSecs","startOnHoliday","endOnHoliday","val","getMonth","getFullYear","previousIndex","getNonWorkingDayIndex","weekDayLength","workWeek","slice","min","sec","updateDateWithTimeZone","uTZ","uDate","sTZ","getTimezoneOffset","eTZ","standardTZ","tzDiff","getMinutes","offset","localOffset","convertedDate","toLocaleString","timeZone","isNaN","error","reverse","fromOffset","toOffset","fromLocalOffset","toLocalOffset","convert","toConvert","updatedDate","dateObject","globalize","parseDate","format","getDateFormat","type","date1","date2","getDurationString","toFixed","plural","localeObj","getConstant","getWorkString","work","workUnit","calculateProjectDatesForValidatedTasks","editArgs","_this","projectEndDate","maxEndDate","sortedStartDate","sort","a","b","sortedEndDate","cloneProjectEndDate","calculateProjectDates","enablePersistence","timelineModule","isZooming","currentViewData","taskRange","addDateToList","sortDates","dates","isZoomToFit","filterModule","filteredResult","forEach","task","renderBaseline","indicators","item","eventMarkers","marker","holiday","setValue","prevProjectStartDate","splitTasksDuration","bottomTier","Math","ceil","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","TaskProcessor","_super","call","customSegmentProperties","isBaseline","recordIndex","taskIds","hierarchyData","addEventListener","on","checkDataBinding","bind","isChange","updatedRecords","dataArray","ids","predecessorsCollection","parentData","processTimeline","renderGantt","initDataSource","ganttdata","cloneDataSource","map","chartRowsModule","updateSegment","taskId","enableValidation","validateTimelineProp","queryManager","query","Query","requiresCount","dataManager","executeQuery","then","e","catch","trigger","constructDataSource","mappingData","executeLocal","group","parentID","rootData","groupData","child","items","apply","dataReorder","taskIdMapping","parentIdMapping","hierarchicalData","tempData","setProperties","segmentId","segmentCollection","segmentData","viewType","resources","unassignedTasks","constructResourceViewDataSource","resourceName","resourceFields","name","prepareDataSource","this_1","resourceData","resourceInfo","resourceIdMapping","isResourceString","resource","prepareRecordCollection","initialLoadData","dataMap","reduce","set","Map","calculateSharedTaskUniqueIds","dependency","predecessorModule","ensurePredecessorCollection","this_2","getTaskIds","sharedRecords_1","ids_1","filter","level","rowUniqueID","sharedTaskUniqueIds","this_3","x","createRecord","updateTaskLeftWidth","setTaskIds","childData","parentProp","updateWorkWithDuration","parentWork","floor","calculateAutoDuration","updateAutoWidthLeft","allowParentDependency","resetDependency","updateWidthLeft","updateTaskData","addCustomFieldValue","ganttRecord","columns","ganttColumns","field","getGanttUid","prefix","taskSettings","progress","notes","predecessors","autoSchedule","taskMode","manual","predecessor","undoRedoModule","addTaskData","setResourceInfo","updateResourceName","calculateScheduledValues","toLocaleDateString","predecessorsName","cssClass","getCloneParent","parentUniqId","hasChildRecords","collapseAllParentTasks","updateExpandStateMappingValue","calculateWidth","calculateLeft","getProgressWidth","width","calculateBaselineLeft","calculateBaselineWidth","childRecords","uniqueId","setSegmentsInfo","sortSegmentsData","onLoad","ganttSegments","remainingDuration","predefinedProperties","segment","cleanedObject","extraProperties","String","left","segmentIndex","timelineSettings","prevSegmentDate","setSegmentTaskData","mergedObject","assign","segmenttaskData","fetchResources","ganttResources","resourceOneDayWork","resourcesLength","resourceUnit","actualOneDayWork","durationInDay","getDurationInDay","isOnEdit","childCompletedWorks","taskType","cloneParent","expanded","reUpdateResources","json","offline","tempData_1","segmentDataCollection","updatableValue","expandStateMapping","expandState","mappingValue","setValidatedDates","updateDurationValue","isMileStone","durationMapping","validateDurationUnitMapping","validateWorkUnitMapping","taskTypeMapping","tType","validateTaskTypeMapping","calculateDateFromStartDate","calculateDateFromEndDate","startDate_1","updateDurationWithWork","totalResourceOneDayWork","updatedDuration","getWorkInHour","updateUnitWithWork","totalUnitInPercentage","individualUnit","isTreeGridRendered","parentWidth","percent","getTaskWidth","getTaskbarHeight","rowHeight","taskBarHeight","taskbarHeight","parentRec","getTaskLeft","calculateAutoLeft","calculateAutoWidth","tierMode","customTimelineSettings","topTier","zoomOrTimeline","countValue","isValid","modifiedsDate","perDayWidth","isValid_1","k","dateDiff","test","isInDst","totalWidth","sOffset","eOffset","getDSTTransitions","year","findLastSunday","month","lastDayOfMonth","UTC","getUTCDate","getUTCDay","convertToTimezone","Intl","DateTimeFormat","minute","second","hour12","dstStartDate","dstEndDate","dstStart","dstEnd","hasDSTTransition","january","july","isFromTimelineVirtulization","isTimeSet","leftValueForStartDate","taskBarEditAction","ganttChartModule","scrollObject","enableTimelineVirtualization","scrollLeft","getTimelineLeft","timelineStartDate","leftValue","hasDST","transitions","systemTimeZone","newTimelineStartDate","newDate","setStartDate","timelineStartTime","dstStartTime","isBeforeOrAtDSTStart","pervYear","isprevYearTransitions","isHourly","isDaily","isStartDateInDst","isTimelineStartDateInDst","perHourWidth","unitHour","yearsCount_1","getSplitTaskWidth","getSplitTaskLeft","segmentTaskStartDate","stDate","segmentStartTime","fieldName","resourceSettings","resourcesId","resourcesName","resName","join","updateTaskDataResource","setRecordDate","setRecordDuration","segmentTaskData","isEdit","contextMenuModule","preTaskResources","isAdded","data_1","mapping","isDynamicData","setDataSource","createData","isArray","dataMapping","taskName","parentId","resourceIdCollection","isAddNewResource","resourceIDMapping","resourceUnitMapping","resourceGroup","resource_1","resourceIds_1","includes","ganttDataResource","updateResourceUnit","length_1","taskMapping","resourceLength","stringResourceName","taskResources","flatCollection","rootCollection","shift","splice","tempDuration","reUpdateGanttData","updateGanttData","_isInStartDateRange","isInRange","_isInEndDateRange","updateOverlappingValues","resourceTask","currentTask","tasks","ranges","workTimelineRanges","setSortedChildTasks","updateOverlappingIndex","this_4","range","currSegment","cStartDate","cEndDate","tEndDate","rangeObj","mergeRangeCollections","calculateRangeLeftWidth","eOverlapIndex","isSplit","finalRange","currentTopRange","cCompareRange","sortedRanges","sortBy","splitRangeCollection","rangeCollection","fromField","toField","isSingleTier","getRangeWithWeek","getRangeWithDay","splitArray","splitRangeForDayMode","fromString","end","rangeObject","nStart","nEndDate","nextAvailDuration","round","splitRangeForWeekMode","start","isInSplit","isStartNotHolidayOrWeekend","isTempEndDateNotHolidayOrWeekend","isDifferentDates","resolvedOptions","parentTaskMap","flatData_1","lenth","shouldProcessUpdateWidth","Boolean","parentRecords","get","isLastChild","updateParentItems","reUpdateGanttDataPosition","pdfExportModule","isPdfExport","helper","exportProps","fitToWidthSettings","isFitToWidth","beforeSinglePageExport","totalSegmentsProgressWidth","progressResizer","incrementSegments","showProgress","progressWidth","pStartDate","setProgress","autoWidth","getParentProgress","childGanttRecord","progressValues","totalProgress","recordProp","isUnscheduledTask","parantData","filledProperty","properties_1","prop","isFromManual","isParent","deleteUpdate","isParentUnschecule","childData_1","previousStartDate","previousEndDate","childRecords_1","childLength","milestoneCount","countOfScheduled_1","countOfUnScheduled_1","some","childRecord","isUnscheduled","propertyWithValue","isChildBoth","this_5","isOnDelete","isDelete","propertyWithValue_1","ganttRec","rec","formattedEndDate","formattedStartDate","isChildBothAndScheduled","numericValue","taskCount","parentProgress","taskbarEditedArgs","action","leftLabelContainer","rightLabelContainer","taskBarMainContainer","taskLabel","childProgressBarInnerDiv","baselineBar","chartRow","childProgressResizer","traceChildTaskBar","manualParentTaskBar","label","templatePadding","dependencyViewContainer","connectorPointLeft","content","rangeContainer","ChartScroll","previousCount","isSetScrollLeft","previousScroll","top","scrollElement","addEventListeners","gridScrollHandler","EventHandler","add","onScroll","grid","updateShimmer","removeShimmer","transformChange","removeEventListeners","off","scrollTop","isFromTreeGrid","updateContent","ganttElement","currentCount","offsetWidth","deleteTableElements","createTimelineSeries","gridLines","dayMarkersModule","renderEventMarkers","nonworkingDayRender","renderWeekends","renderHolidays","updateChartElementStyles","chartTimelineContainer","tLeft","resultantWidth","wholeTimelineWidth","enableRtl","isBackwardScrolled","tableContainer","getElementsByClassName","innerHTML","outerHTML","translateXValue","dependencyViewer","connectorLineModule","taskTable","style","right","updateTopPosition","contentScrollTop","virtualScrollModule","enableVirtualization","getTopPosition","holidayContainer","weekendContainer","eventMarkersContainer","formatUnit","chartVerticalLineContainer","setTimeout","hideMaskRow","allowTaskbarOverlap","showOverAllocation","tr","ganttChartTableBody","childNodes","display","isExpandAll","isCollapseAll","getRowByIndex","height","getRows","contentHeight","children","virtualRender","adjustTable","showMaskRow","updateSpinner","showSpinner","window","clearTimeout","isScrolling","hideSpinner","scrollArgs","notify","previousScrollTop","scrollDirection","previousScrollLeft","totalTimelineWidth","updateWidthAndHeight","svgObject","setAttribute","isToolBarClick","isVirtualScroll","showIndicator","enableVirtualMaskRow","loadingIndicator","indicatorType","abs","requestType","setHeight","setWidth","setScrollTop","setScrollLeft","leftSign","destroy","VirtualContentRenderer","renderWrapper","wrapper","createElement","className","styles","appendChild","virtualTrack","chartBodyContent","appendChildElements","getContent","virtualTable","document","transform","treegridVirtualHeight","translateYValue","GanttChart","isExpandCollapseFromChart","debounceTimeoutNext","debounceTimeout","isGanttElement","previousPinchDistance","currentToolbarIndex","isPinching","preventScrollIntoView","rangeViewContainer","cls.rangeContainer","renderChartContainer","renderChartElements","renderInitialContents","renderChartContents","wireEvents","chartElement","chartPane","renderTimelineContainer","renderBodyContainers","renderOverAllocationContainer","filterSettings","renderRangeContainer","isFromOnPropertyChange","updateProjectDates","isTimelineRoundOff","renderChartRows","connectorLineIds","updatedConnectorLineCollection","createConnectorLinesCollection","renderConnectorLines","node","criticalModule","criticalPathModule","enableCriticalPath","criticalPathCollection","criticalConnectorLine","detailPredecessorCollection","predecessorCollectionTaskIds","processZoomToFit","recordLength","renderRange","getTopValue","currentRecord","getExpandedRecords","nestedParent","getRecordByID","getHierarchyChildRecords","hierarchyChildRecords","records_1","collectHierarchyChildren","accumulator","records_2","getRangeHeight","heightDifference","calculateCollapsedRowHeight","hierarchyChildLength","calculateHierarchyChildLength","calculateExpandedRowHeight","hierarchyChildDataLength","hierarchyChildRecords_1","topValue","rowIndex","enableMultiTaskbar","parentRecord","getRootParent","offsetTop","rowOffset","sameIDElement","parentDiv","leftDiv","cls.rangeChildContainer","rightDiv","borderLeftWidth","borderRightWidth","chartBodyContainer","cls.chartScrollElement","toolbarHeight","toolbarModule","offsetHeight","ganttHeight","emptyHeight","contentElement","scrollHeight","isZoomedToFit","clientWidth","setVirtualHeight","updateGridLineContainerHeight","updateLastRowBottomWidth","wrapper1","navigator","userAgent","expandedRecords","lastExpandedRow","lastExpandedRowIndex","lastRow","table","querySelectorAll","removeClass","clientHeight","addClass","removeEventListener","isDestroyed","ganttChartMouseDown","cancel","TouchEvent","touches","initPinchDistance","calculatePinchDistance","allowTaskbarDragAndDrop","editSettings","allowTaskbarEditing","editAction","getRecordByTaskBar","target","closest","which","tabIndex","isTaskbarEdited","button","allowEditing","endEdit","touch1","touch2","dx","clientX","dy","clientY","sqrt","ganttChartMouseClick","autoFocusTasks","scrollToTarget","ganttChartMouseUp","resizeCheck","Check","falseline","removeFalseLine","isOnTaskbarElement","cls.taskBarMainContainer","isAdaptive","chartExpandCollapseRequest","row","dateObjLeft","updateScrollLeft","scrollWidth","mouseUp","allowRowDragAndDrop","ganttDragElemet","documentMouseUp","showActiveElement","focusedElement","onTaskbarClick","taskbarElement","getRecordByTarget","ganttChartLeave","ganttChartMove","currentPinchDistance","processZooming","pageX","getOffsetRect","connectorLineEditModule","updateConnectorLineEditElement","contextClick","allowFiltering","closeFilterOnContextClick","srcElement","mouseMoveHandler","onMouseMove","originalEvent","rowData","rowElement","columnElement","cellIndex","column","indicator","tooltipModule","getPredecessorTooltipData","getMarkerTooltipData","dataset","doubleClickHandler","recordDoubleClick","getAttribute","getChartRows","getElementById","gridRow","collapseGanttRow","expandGanttRow","reRenderConnectorLines","arg","collapsedGanttRow","expandCollapseChartRows","idField_1","gridRec","getCurrentViewRecords","collapseRow","renderMultiTaskbar","updateContentHeight","expandedGanttRow","idField_2","expandRow","isExpandCollapseLevelMethod","refreshRecords","isChild","displayType","targetElement","t","chartRows","rows","expandCollapseAll","expandAll","collapseAll","treeGridContentHeight","expandAtLevel","collapseAtLevel","isIE11Pointer","Browser","isPointer","mouseDown","touchStartEvent","touchEndEvent","mouseMove","touchMoveEvent","onWheelZoom","tapTimeout_1","event","click","body","unWireEvents","ctrlKey","preventDefault","zoomIn1_1","deltaY","isTouchpad_1","verticalScrollDelta","getIndexByTaskBar","updateElement","next","currentColumn","isTab","isInEditedState","getNextElement","saveCell","editCell","onTabAction","enableHeaderFocus","toolbarItems","$target","focusModule","setActiveElement","focusedRowIndex","nextElement","colIndex","toolbar","itemIndex","isUpdated","tempNextElement","childrenIndex","nextElementIndex","isEditableElement","manageFocus","allowNextRowEdit","columnName","getNextRowElement","getChildElement","editedColumn","nextElementSibling","fmodule","currentInfo","elementToFocus","matrix","current","previousElementSibling","labelSettings","rightLabel","leftLabel","matches","validateNextElement","rowRecord","isChartRow","currentItem","expandedRecordIndex","nextRecord","nextRowIndex","elementByClass","hasChildNodes","childElement","focus","isChartElement","keyAction","getElementsByTagName","blur","scrollIntoView","block","inline","cls.chartRow","__assign","s","n","arguments","Timeline","ganttObj","isZoomIn","topTierCollection","bottomTierCollection","pdfExportTopTierCollection","pdfExportBottomTierCollection","restrictRender","performedTimeSpanAction","initProperties","timelineEndDate","currentZoomingLevel","roundOffDays","processTimelineProperty","timelineWidthCalculation","refreshTimeline","processTimelineUnit","timelineContainer","refreshTimelineByTimeSpan","updateChartByNewTimeline","refreshChartByTimeline","currentScrollLeft","isReact","updateUndoRedo","zoomingProjectStartDate","zoomingProjectEndDate","checkCurrentZoomingLevel","currentLevel","getZoomLevel","updateToolbar","zoomingLevels","findIndex","tempLevel","newTimeline","timeline","changeTimelineSettings","previousTimeline","previousZoomingLevel","find","enableItems","controlId","skipProperty","property","tier","calculateWidthBetweenTwoDate","clientWidthDifference","zoomingLevel","firstValue","secondValue","totalDays","chartWidth","sortedCollectons","roundOffDateToZoom","numberOfCells","calculateNumberOfTimelineCells","emptySpace","timelineUnitSize","bottomTierCellWidthCalc","mode","zoomLevel","convertedMilliSeconds","daysInMonth","daysInYear","isStartDate","roundOffTime","numberOfDays","directProperty","innerProperty","tierUnits","extendFunction","timelineViewMode","previousIsSingleTier","validateCount","validateFormat","weekStartDay","calculateZoomingLevelsPerDayWidth","collections","getPerDayWidth","getCurrentZoomingLevel","currentZoomCollection","checkSameCountLevels","getZoomingLevels","sameUnitLevels","closestUnit_1","getClosestUnit","sortedUnitLevels","checkCollectionsWidth","closetUnit","isCont","bottomTierUnits","checkSameLevels","zoomLevels","sortedZoomLevels","updateTimelineHeaderHeight","dateByLeftValue","milliSecondsPerPixel","td","div","thead","virtualTableDiv","virtualTrackDiv","loopCount","trTemplate","createTimelineTemplate","timelineVirtualizationStyles","trackWidth","contentVirtualTrack","position","virtualTableStylesT","virtualTableStylesB","virtualTrackStylesT","virtualTrackStylesB","difference","tierCount","timeDifference","timelineRoundOffEndDate","validateBottomTierCount","tierFormat","cloneObj","propertyCollection","tempObj","formatDateHeader","dayFormat","dateString","formatDate","locale","customFormat","formatter","parentTr","increment","newTime","isFirstCell","parentTh","scheduleDateCollection","WidthForVirtualTable","timelineCell","getHeaterTemplateString","calculateQuarterEndDate","getIncrement","dubStartDate","dubStartHour","tierCollection","weekendEndDate","updateTimelineAfterZooming","resized","totWidth","contentWidth","widthDiff","getTimelineRoundOffEndDate","firstDay","lastDay","dayIntervel","checkDate","diffCount","isWeekendHeaderCell","calculateTotalHours","totalHour","scheduleWeeks","isLast","template","timelineTemplate","templateCompiler","thWidth","incrementValue","dubNewDate","newDateOffset","dubNewDateOffset","incrementHour","perMinuteWidth","bottomTierSettings","bottomTierCountIsOneAndUnitIsHour","value_1","topTierCellWidth","bottomTierCellWidth","cellWidth","isWeekendCell","textClassName","firstElement","getTemplateID","HTMLElement","weekendClass","th","weekendBackground","title","showTooltip","textContent","append","isWeekend","bottomTierCount","topTierCount","roundOffStartDate","last","updateScheduleDatesByToolBar","span","updateTimeLineOnEditing","tempArray","filteredStartDateRecord","pdc","filteredEndDateRecord","DataUtil","aggregates","minEndDate","max","validStartDate","validEndDate","maxStartLeft","maxEndLeft","validStartLeft","validEndLeft","isChanged","taskbarModule","performTimeSpanAction","isFrom","timeSpanActionEvent","ProjectEndDate","eventType","Column","options","allowReordering","allowResizing","allowSorting","merge","GanttTreeGrid","isPersist","queryCellInfo","headerCellInfo","rowDataBound","columnMenuOpen","filPopOptions","filOptions","filterMenuElement","columnMenuClick","objectEqualityChecker","old","isEqual","excludeKeys","modifiedRecords","TreeGrid","allowSelection","allowKeyboard","enableHtmlSanitizer","enableImmutableMode","treeGridColumns","isLocaleChanged","previousGanttColumns","validateGanttColumns","createContainer","updateScrollTop","renderReactTemplate","args_1","portal","renderTemplates","treeGridElement","tempHeader","treeGridPane","renderTreeGrid","composeProperties","bindEvents","registeredTemplate","appendTo","portals","enableAdaptiveUI","idMapping","showColumnMenu","enableCollapseAll","columnMenuItems","childMapping","treeColumnIndex","searchSettings","fields","getContentDiv","getHeaderDiv","getScrollbarWidth","outer","visibility","overflow","msOverflowStyle","inner","scrollbarWidth","parentNode","removeChild","ensureScrollBar","headerDiv","isMobile","cssText","dataBound","collapsing","collapsed","expanding","actionBegin","actionComplete","treeActionComplete","created","actionFailure","beforeDataBound","dataStateChange","selectionModule","selectionSettings","persistSelection","getSelectedRowIndexes","treeDataBound","refreshToolbarItems","prevCurrentView","collapsingArgs","createExpandCollapseArgs","expandingArgs","collapsedArgs","expandedArgs","updateKeyConfigSettings","recordOne","updatedArgs","sortSettings","deleteObject","currentEditRow","initiateCellEdit","isCancelled","addDeleteRecord","selectedRowIndex","selectedIndexes","selectedRowIndexes","selectRows","selectRow","selectedRecords","getSelectedRecords","selectedTaskId","deletedRecord","indexvalue_1","currentSelection","addedRecord","initiateEditAction","updateDragDropRecords","keyboardModule","keyConfigs","delete","insert","upArrow","downArrow","ctrlHome","ctrlEnd","enter","tab","shiftTab","ctrlShiftUpArrow","ctrlShiftDownArrow","ctrlUpArrow","ctrlDownArrow","scrollHandler","treeGridClickHandler","isOpen","contextMenu","close","customColumns","tasksMapping","headerText","editType","bindTreeGridColumnProperties","createTreeGridColumn","composeUniqueIDColumn","isDefined","previousColumn","prevcolumn","disableHtmlEncode","clipMode","composeIDColumn","params","renderWorkingDayCell","renderDayCell","valueAccessor","durationValueAccessor","composeProgressColumn","dependencyValueAccessor","ui","flValInput","dropInstance","AutoComplete","changeLocale","text","placeholder","popupHeight","write","filteredValue","fltrObj","filterByColumn","operator","changeDelocale","composeResourceColumn","showInlineNotes","contentTemp","initializeCSPTemplate","colName","workValueAccessor","taskTypeValueAccessor","modeValueAccessor","splitString_1","splitvalue","FF","FS","SS","SF","splitString_2","value_2","resourceValueAccessor","getResourceIds","taskIDName","isProjectView","lengthDataSource","isPrimaryKey","idValueAccessor","visible","newGanttColumn","treeGridColumn","ganttColumn","GanttColumn","value_3","splitString_3","resourceNames","newScrollTop","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DayWorkingTime","Property","ChildProperty","AddDialogFieldSettings","EditDialogFieldSettings","EditSettings","EventMarker","FilterSettings","Collection","Predicate","SearchSettings","Holiday","LabelSettings","SelectionSettings","SplitterSettings","TaskFields","TimelineTierSettings","TimelineSettings","Complex","TooltipSettings","SortDescriptor","SortSettings","ResourceFields","LoadingIndicator","WeekWorkingTime","ChartRows","milestoneHeight","milesStoneRadius","baselineTop","baselineHeight","touchLeftConnectorpoint","touchRightConnectorpoint","dropSplit","refreshedTr","refreshedData","tagRegex","attributeRegex","taskBaselineTemplateNode","handleTouchMove","handleTouchEnd","initPublicProp","createChartTable","initiateTemplates","prevDate","contentModule","refreshGanttRows","cls.taskTable","attrs","cellspacing","colgroup","initChartHelperPrivateVariable","initializeChartTemplate","createTaskbarTemplate","isGanttChartRendered","getIndicatorNode","templateString","getIndicatorleft","iconClass","createDivElement","getChildTaskbarNode","rootElement","direction","childTaskbarNode","templateData","childTaskbarTemplateFunction","labelString","taskbarInnerDiv","progressDiv","cls.childProgressBarInnerDiv","getBorderRadius","tempDiv","taskLabelTemplateFunction","taskLabelTemplateNode","getTaskLabel","SanitizeHtmlHelper","sanitize","isTemplate","splitTaskbar","cls.traceChildTaskBar","getSplitProgressResizerNode","templateElement","innerText","childLabel","marginLeft","marginRight","textAlign","splitTasks","progressBarVisible","generateSpiltTaskAriaLabel","getSplitTaskbarLeftResizerNode","getSplitTaskBorderRadius","cls.taskLabel","getSplitTaskbarRightResizerNode","lResizerLeft","rResizerLeft","getSegmentIndex","splitStartDate","mergeTask","segmentIndexes","mergeArrayLength","mergeData","details","getUndoActions","previousFlatData","firstSegmentIndex","arrayLength","firstSegment","secondSegment","secondSegmentIndex","insertIndex","segmentFields","modifiedSegments","refreshChartAfterSegment","filterData","segmentsArray","segmentObj","updatedRecordsDateByPredecessor","removePreviousConnectorLines","refreshEditedRecordConnectorLine","isInPredecessorValidation","editedRecords","modifiedTaskData","triggerQueryTaskbarInfoByIndex","clearSelection","splitTask","splitDates","splitDate","splitRecord","segmentDuration","splitSegmentedTaskbar","constructSegments","checkClickState","endDateState","segmentEndDate","mode_1","timeIncrement","diff","calculateLeftValue","taskbarHeightValue","defaultTaskbarHeight","getMilestoneNode","milestoneNode","milestoneTemplateFunction","getTaskBaselineNode","baselineLeft","baselineWidth","baselineColor","updateTaskBaselineNode","getMilestoneBaselineNode","baselineMilestoneHeight","milestoneMarginTop","getLeftLabelNode","leftLabelNode","generateTaskLabelAriaLabel","leftLabelTemplateNode","leftTaskLabelTemplateFunction","getLableText","paddingLeft","paddingRight","labelDiv","leftLabelHeight","taskBarMarginTop","spanElem","cls.label","getRightLabelNode","rightLabelNode","rightLabelTemplateNode","rightTaskLabelTemplateFunction","getManualTaskbar","childEle","cls.manualParentTaskBar","autoLeft","milestoneTemplate","getParentTaskbarNode","parentTaskbarNode","parentTaskbarTemplateFunction","tHeight","getExpandClass","progressBarInnerDiv","parentTaskLabelNode","labelElement","parentLabel","getTableTrNode","activecls","treeGridModule","isSelected","tbody","tableRow","getRowClassName","getExpandDisplayProp","tableCell","parentTaskbarTemplate","taskbarTemplate","parseTemplate","htmlString","parseHtmlStringToElementTree","constructElementFromNode","html","stack","lastIndex","exec","fullMatch","tagName","attributeString","substring","attributes","startsWith","pop","endsWith","setAttributes","childNode","attributesString","cleanStyleString","templateName","cls.leftLabelContainer","taskNameWidth","taskbarContainer","manualParent","getUnscheduledTaskClass","cls.rightLabelContainer","getRightLabelLeft","childTaskbarLeftResizer","childTaskbarRightResizer","childTaskbarProgressResizer","getLeftPointNode","marginTop","mileStoneLeftValue","pointerLeft","connectorPointWidth","mileStoneLeft","pointerTop","connectorPointMargin","canAdd","cls.connectorPointLeft","getRightPointNode","pointerRight","resultString","getResourceName","getFieldValue","getExpandStatus","rowClass","length_2","taskBarMarginTopValue","milestoneHeightValue","trs","collapsedResourceRecord","oldKeys","oldRowElements","getPrimaryKeyFieldNames","oldIndex","modifiedRecIndex","isFromRenderBaseline","tRow","getGanttChartRow","dupChartBody","tempTemplateData","maintainSelectedRecords","replaceChildren","Element","initialChartRowElements","triggerQueryTaskbarInfo","updateOverlapped","parentTrNode","taskbarContainerNode","generateAriaLabel","connectorLineLeftNode","connectorLineRightNode","parentTaskbarTemplateNode","taskbarContainerNode1","appendChildTaskbars","manualTaskbar","connectorLineRightNode_1","milestoneTemplateNode","collapseParent","appendIndicators","setAriaRowIndex","visualData","queryTaskbarInfo","trElement","segmentLength","segmentElement","taskIndicatorNode","taskIndicatorTextNode","indicatorIndex","tooltip","taskbarCollection","scheduledTask","childTaskbarProgressResizeNode","childTaskbarRightResizeNode","childTaskbarLeftResizeNode","childTaskbarTemplateNode","length_3","segmentConnector","i_1","customizeTaskbars","segmentRowElement","taskbarType","classCollections","getClassName","milestoneColor","getComputedStyle","backgroundColor","cls.baselineBar","childTask","progressTask","taskbarBgColor","taskbarBorderColor","outlineColor","progressBarBgColor","taskLabelColor","color","rightLabelColor","leftLabelColor","taskbarArgs","updateQueryTaskbarInfoArgs","triggerTaskbarElement","currentData","taskbarElements","getRowByID","segmentElements","segmentedTasks","i_2","taskbarElement_1","taskBarElement","borderTopColor","classCollection","compile","eOverlapped","rowIDs","rowCounts","rowuniqueid","verticalAlign","rowDragAndDropModule","draggedRecordMarginTop","refreshRow","isValidateRange","isUndoRedo","selectedItem","replaceChild","replaceWith","every","targetData","parentIndex","dataId","setRowData","nextEditableElement","getRowObjectFromUID","getDataRows","updateResourceTaskbarElement","cloneElement","mainTaskbar","zIndex","cloneChildElement","cloneNode","defaultValue","nameConstant","startDateConstant","endDateConstant","durationConstant","taskNameVal","startDateVal","endDateVal","durationVal","generateBaselineAriaLabel","Dependency","gantt","parentIds","parentPredecessors","validatedParentIds","storeId","isChildRecordValidated","dateValidateModule","predecessorTasks_1","ensurePredecessorCollectionHelper","predecessorVal","preValues","predecessorItem","preValue","offsetUnits","offsetUnit","tempOffsetUnits","getOffsetDurationUnit","checkIsParent","calculatePredecessor","getPredecessorStringValue","updateUnscheduledDependency","prdList","predId","predData","updateRecordByID","fromId","boolValue","parentUniqueID","validateParentPredecessor","fromRecord","toRecord","predecessorValue","offsetValue","predecessorText","el","firstPart","predecessorName","isGUId","isAlpha","regex","elSplit","lastIndexOf","lastPart","match_1","processedResult","prefixMatch","indexFS","spliceLength","isExist","toUpperCase","tempOffset","isDrawn","isOwnParent","fromData","toData","creatCollection","checkColloction","fdata","temp1","currentValue","multiple","durationUnitLabels","updatePredecessors","flatDataCollection","updatePredecessorHelper","successorGanttRecord","connectorsCollection","connectorCount","connector","predecessorCollection","traverseParents","totLength","properties","validatePredecessorDates","predecessorCollection_1","validateRecord","updateChildItems","recordId","updateParentPredecessor","enablePredecessorValidation","parentGanttRecord","currentTaskId_1","previousIds","validateManualTasksOnLinking","validateChildGanttRecord","editedTaskBarItem","childRecordProperty","currentTaskId_2","childPredecessor","getPredecessorDate","maxStartDate","validatedPredecessor","getRecord","getValidatedStartDate","ganttProperty","parentRecordProperty","returnStartDate","updateDateByOffset","resultDate","ganttRecords","exportType","flatData_2","deletedTaskDetails","addPredecessorsCollection","predecessorsLength","predecessorCount","updateConnectorLineObject","connectorObj","createConnectorLineObject","isCritical","connectorLineId","validatePredecessor","previousValue","validationOn","taskBarModule","successor","currentTaskId_3","successors","isValidationEnabled","isValidatedParentTaskID","rootParent","ganttProp_1","childRec","updateOffsetOnTaskbarEdit","isFirstCall","taskIdsForView","JSON","parse","stringify","idAsString","concat","validUpdate","validatedChildItems","previousData","previousRecords","calcEndDate","isRightMove","durationDiff","currentStartDate","getUpdatableChildRecords","calculateDateByRoundOffDuration","childLists","getValidPredecessor","validPredecessor","recPredecessor","ConnectorLine","connectorLinePath","arrowPath","taskLineValue","cls.dependencyViewContainer","pointerEvents","renderer","SvgRenderer","createSvg","getconnectorLineGap","milestoneChild","lineColor","connectorLineBackground","lineStroke","connectorLineWidth","createConnectorLineTooltipTable","getTaskbarMidpoint","parentGanttData","childGanttData","childIndex","parentIndexInCurrentView","childIndexInCurrentView","parentLeft","childLeft","childWidth","childId","milestoneParent","parentEndPoint","childEndPoint","connectorLinesCollection","connectorLine","ariaConnector","getConnectorLineTemplate","innerChild","ariaString","insertBefore","lastChild","getParentPosition","getHeightValue","getInnerElementWidthSSType2","getInnerElementLeftSSType2","getInnerChildWidthSSType2","calculateAdjustments","adjustY1","adjustX","adjustY2","adjustZ","shouldAdjustForBaseline","updateParentChildRowsHeight","lastRowIndex","rowElements","parentRowIndexHeight","childRowIndexHeight","lastRowIndexHeight","totalDisplayedRows","setInnerChildWidthSSType2","setInnerElementWidthSSType2","setInnerElementLeftSSType2","getPosition","rowPositionHeight","modifiedValue","heightValue","borderTopWidth","addTop","parentOverlapTopValue","childOverlapTopValue","fromRecordIsParent","toRecordIsParent","fromRecordIsManual","toRecordIsManual","predType","rowHeight1","adjustments","connectorId","groupObject","createGroup","class","connectorPath","drawPath","fill","stroke-width","arrowlinePath","stroke","adjustedValue","x1","x2","y1","y2","x3","x4","y3","y4","point1","adjustedX","point2","arrowX","topPosition","lineHeight","isMilestoneParent","midPointParent","midPoint","isParentIndex","isChildIndex","tooltipTable","cellpadding","tooltipBody","getConnectorLineTooltipInnerTd","fromTaskName","fromPredecessorText","toTaskName","toPredecessorText","createRow","td1","padding","td2","td3","fromName","toName","finish","isObjectType","isObject","pre","lineId","removeConnectorLineById","Splitter","isSplitterResized","renderSplitter","splitterPosition","calculateSplitterPosition","splitterSettings","splitterElement","splitterObject","SplitterLayout","ganttWidth","separatorSize","paneSettings","resizable","size","getSpliterPositionInPercentage","minimum","orientation","resizeStart","leftPane","pane","rightPane","splitterPreviousPositionGrid","splitterPreviousPositionChart","callBackPromise","Deferred","resizeStartArgs","resolve","resizing","resizeStop","splitterResizedArgs","splitterLeftPane","ariaValueNow","splitter","view","columnIndex","getTotalColumnWidthByIndex","widthAsString","intValue","updateSplitterPosition","triggerCustomResizedEvent","pane1","pane2","separator","paneSize","Tooltip","createTooltip","toolTipObj","TooltipComponent","openDelay","animation","open","effect","delay","afterOpen","updateTooltipPosition","showTipPointer","beforeRender","tooltipBeforeRender","afterClose","tooltipCloseHandler","isStringTemplate","argsData","tierValue","templateContext","timelineTemplateNode","tooltipSettings","tooltipTemplate","getTooltipContent","taskbar","taskbarTemplateNode","baseLineTemplateNode","baseline","baselineTemplate","dependencyLineTemplateNode","predecessorTooltipData","callBackPromise_1","argData","currentTarget","tooltipMouseEvent","parentWithZoomStyle","postion","getPointorPosition","containerPosition","topEnd","leftEnd","tooltipPositionX","tooltipPositionY","y","innerHeight","posX","posY","documentElement","elementType","taskNameValue","milestoneStartDate","sDateValue","sDate_1","startDateValue","endDateValue","progressValue","cls.templatePadding","endDate_1","duration_1","progress_1","baselineStartDateValue_1","baselineEndDateValue_1","markerTooltipElement","markerTooltipElementValue_1","markerLabel_1","fromNameValue_1","fromIdValue_1","toNameValue_1","toIdValue_1","toId","linkTextValue_1","linkText","offsetStringValue_1","offsetString","titleValue_1","timlineTitleValue_1","autoStartDateValue","autoEndDateValue","durationUnitValue","manualStartDateValue","manualEndDateValue","autoStartDate_1","autoEndDate_1","durationValue_1","manualStartDate_1","manualEndDate_1","autoStartValue","autoEndValue","dateValue","autoStart_1","autoEnd_1","date_1","markerTooltipId","predeceesorParent","fromTask","toTask","linkType","getPredecessorTextValue","propName","tooltipFunction","templateID","FocusModule","activeElement","previousActiveElement","getActiveElement","isPreviousActiveElement","onKeyPress","ele","focussedElement","sortModule","hidePopUp","getCellSelectedRecords","currentSelectingRecord","searchElement","upDownKeyNavigate","expandCollapseKey","textValue","tempValue","dialogObj","stopPropagation","addRecord","newRowPosition","allowAdding","openAddDialog","openToolbarEditDialog","touchEdit","getSelectedRowCellIndexes","startDeleteAction","selectedId","selectCellIndex","scrollToTask","top_1","undo","redo","ganttRow","firstRowIndex","selectRowsByRange","keyEvent","selectingRowIndex","selectedCellItem","currentCellIndex","cellIndexes","cellInfo","selectCell","selectedRowIndex_1","expandByIndex","collapseByIndex","Gantt","isRowSelected","singleTier","triggeredColumnName","totalUndoAction","isExpandPerformed","oldRecords","updateDuration","isConvertedMilestone","isOnAdded","isFromEventMarker","isConnectorLineUpdate","staticSelectedRowIndex","needsID","eventMarkerColloction","mergePersistGanttData","getModuleName","preRender","getCurrentDayStartTime","getCurrentDayEndTime","getStartTime","getEndTime","endTime","getNonWorkingRange","nonWorkingTimeRange","sundayNonWorkingTimeRanges","mondayNonWorkingTimeRanges","tuesdayNonWorkingTimeRanges","wednesdayNonWorkingTimeRanges","thursdayNonWorkingTimeRanges","fridayNonWorkingTimeRanges","saturdayNonWorkingTimeRanges","getWorkingRange","sundayWorkingTimeRanges","mondayWorkingTimeRanges","tuesdayWorkingTimeRanges","wednesdayWorkingTimeRanges","thursdayWorkingTimeRanges","fridayWorkingTimeRanges","saturdayWorkingTimeRanges","sundaySeconds","mondaySeconds","tuesdaySeconds","wednesdaySeconds","thursdaySeconds","fridaySeconds","saturdaySeconds","Internationalization","isDevice","UpdateOffsetOnTaskbarEdit","L10n","getDefaultLocale","mondayNonWorkingHours","tuesdayNonWorkingHours","wednesdayNonWorkingHours","thursdayNonWorkingHours","fridayNonWorkingHours","saturdayNonWorkingHours","sundayNonWorkingHours","durationUnitTexts","days","hours","minutes","isMileStoneEdited","validationDialogElement","currentEditedArgs","dialogValidateMode","respectLink","removeLink","preserveLinkWithEditing","splitterModule","keyConfig","home","saveRequest","escape","addRow","addRowDialog","editRowDialog","focusTask","indentLevel","outdentLevel","focusSearch","selectAll","resourceFieldsMapping","isUndoRedoItemPresent","undoRedoActions","dateFormat","getDatePattern","skeleton","getDefaultTZOffset","janMonth","julMonth","resourceNameMapping","validateDimentionValue","calculateDimensions","settingsHeight","settingsWidth","elementStyleHeight","elementStyleWidth","render","isVue","vueInstance","createSpinner","renderToolbar","actionFailures","clear","checkModule","moduleName","settings","injectedModules","failureCases","modules","lettersRegex","allPropertiesNull","isPrimary","markers","allowDeleting","showDeleteConfirmDialog","allowExcelExport","dragAndDrop","enableUndoRedo","dayMarkers","highlightWeekends","enableContextMenu","allowPdfExport","failureEventArgs_1","err","isTablePresent","contentMaskTable","maskTable","headerMaskTable","ganttHeader","scrollLeftValue","ganttContent","renderBackGround","createMaskTable","renderHeaderBackground","backgroundLines","containerWidth","getBoundingClientRect","firstChild","shimmerContainerHeight","header","createEmptyTimeLineTable","removeProperty","createEmptyMaskTable","timelineHeight","duplicateRow","topBottomHeader","applyTimelineMaskRow","maskRow","maskCells","maskCell","innerMaskCells","htmlInner","columnLoop","applyMaskRow","renderChartVerticalLines","removeCriticalPathStyles","ganttChartElement","KeyboardEvents","keyActionHandler","eventName","windowResize","keyDownHandler","unwireEvents","altKey","keyCode","updateRowHeightInConnectorLine","updateContainerHeight","firstMenuItem","columnMenuModule","updateCurrentViewData","getRecordFromFlatdata","updatedRecord","_WeekStartDay","updateTimescaleView","displayHalfValue","displayQuarterValue","updateTreeColumns","gridColumns","getColumns","gridColumn","isUndefined","scrollContainer","searchString","matchedObject","treeColumn","timelineContainer_1","createGanttPopUpElement","renderComplete","getCurrentRecords","showCriticalPath","onPropertyChanged","newProp","oldProp","isRefresh","refreshColumns","module","getActualProperties","renderChartGridLines","enableToggle","updateSearchTextBox","processDialogFields","reUpdateDimention","reUpdateEditModules","selectRowByIndex","closeGanttActions","enable","contextMenuItems","updateOverAllocationCotainer","refresh","getPersistData","keyEntity","ignoreOnPersist","ignoreOnColumn","currentObject","ignoreInArrays","addOnPersist","ignoreInColumn","nonworkingContainer","resetTemplates","requiredModules","member","sortColumn","isMultiSort","mergeColumns","storedColumn","setFrozenCount","splitFrozenCount","isFrozenGrid","clearSorting","verticalLines","chartRowsTD","getContentHeight","currentProp","getHeaderContent","headerTable","thElements","thLength","leftPos","containerDiv","divElement","emptyRecord","criticalPath","changeScheduleMode","subTasksStartDate","subTasksEndDate","scheduleStartDate","scheduleEndDate","auto","resourceID","generalTab","customTab","writeNotes","addDialogTitle","editDialogTitle","update","search","zoomIn","zoomOut","zoomToFit","excelExport","csvExport","pdfExport","nextTimeSpan","prevTimeSpan","saveButton","taskBeforePredecessorFS","taskAfterPredecessorFS","taskBeforePredecessorSS","taskAfterPredecessorSS","taskBeforePredecessorFF","taskAfterPredecessorFF","taskBeforePredecessorSF","taskAfterPredecessorSF","okText","confirmDelete","taskLink","lag","enterValue","taskInformation","deleteTask","deleteDependency","save","above","below","toMilestone","leftTaskLabel","rightTaskLabel","confirmPredecessorDelete","unassignedTask","indent","outdent","removeSortColumn","actionBeginTask","scrollToDate","updateChartScrollOffset","parent_1","parent_2","filterOperator","filterValue","predicate","matchCase","ignoreAccent","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","pdfExportProperties","pdfDoc","export","clearFiltering","removeFilteredColsByField","isCustomManual","currentEditedRowData","nonWorkingDays","isDisabled","previousTimeSpan","timeSpan","browserZoomLevel","outerWidth","innerWidth","reorderColumns","fromFName","toFName","isStart","isTaskData","makeCloneData","task_1","currentAction","oldRecord","cloneData","prevValue","clonedValue","isObjectArray","closeEdit","hide","dialogClose","setSplitterPosition","tempSplitterSettings","contructExpandCollapseArgs","ind","expandByID","collapseByID","rowPosition","addRowPosition","addRowIndex","dropChildRecord","updateTaskId","currentId","newId","getRedoActions","clearUndoCollection","clearRedoCollection","getCriticalTasks","fitToProject","reorderRows","fromIndexes","toIndex","updateRecordByIndex","addPredecessor","predecessorString","removePredecessor","updatePredecessor","openEditDialog","gridRows","popup","keyVal","box","pageYOffset","pageXOffset","clientTop","clientLeft","updateDataSource","getGridColumns","getColumnByField","getGanttColumns","showColumn","showBy","showColumns","hideColumn","hideBy","hideColumns","cancelEdit","isToggle","selectCells","rowCellIndexes","deleteRecord","taskDetail","isEnable","updateDataArgs","customData","convertToMilestone","changeTaskMode","updateTaskScheduleModes","initiateUpdateAction","renderReactTemplates","clearTemplate","Event","NotifyPropertyChanges","Component","PdfHorizontalOverflowType","CellEdit","isResourceCellEdited","bindTreeGridProperties","cellEdit","ensureEditCell","Inject","Edit","readOnly","parentReference_1","openNotesEditor","isNOU","updatedEditFields","editedObj","editedArgs","editedValue","endEditAction","taskNameEdited","startDateEdited","endDateEdited","durationEdited","resourceEdited","progressEdited","baselineEdited","dependencyEdited","notedEdited","workEdited","taskmodeEdited","initiateSaveAction","typeEdited","updateEditedRecord","ganttProb","validateEndDateWithSegments","toTimeString","compareDatesFromRecord","revertCellEdit","updateResourceRelatedFields","durationString","currentDuration","updateSegmentProgress","baseLineStartDate","baseLineEndDate","editedResourceId","editedResouceLength","previousResource","editedResources","newIndex","previousResourceLength","isResourceUpdate","cellEditArgs","workValue","EditTooltip","taskbarEdit","opensOn","mouseTrail","windowCollision","offsetLeft","editing","scrollY","toolTipHeight","showHideTaskbarEditTooltip","bool","updateTooltip","connectorSecondAction","connectorSecondElement","taskBarEditElement","taskWidth","getTooltipText","offsetY","offsetX","tooltipString","instance","editRecord","templateNode","TaskbarEdit","previousLeftValue","isMouseDragged","dependencyCancel","isDragged","editElement","elementOffsetLeft","elementOffsetTop","elementOffsetWidth","elementOffsetHeight","currentItemTop","currentItemPrevTop","isClonedElement","updatePosition","tooltipValue","editTooltip","mouseDownHandler","mouseUpHandler","mouseLeaveHandler","mouseMoveAction","mouseClickHandler","connectorSecondRecord","highlightedSecondElement","finalPredecessor","drawPredecessor","roundOffDuration","dragMouseLeave","previousItemProperty","tapPointOnFocus","canDrag","getElementByPosition","updateTaskBarEditElement","enableSelectMultiTouch","validateConnectorPoint","taskBarEditingAction","showHideActivePredecessors","multipleSelectionEnabled","showHideTaskBarEditingElements","show","applyActiveColor","chartContent","$tr","$taskbar","$connectorElement","predecessorIndex","renderPredecessorDeleteConfirmDialog","cloneTaskBar","realTaskbarElement","getTaskBarAction","index_1","ganttprop","parentleft","resizeElement","setProperty","currentindex","resizeTable","resizetableBody","createTable","taskbarPosition","tableBody","cloneTaskbarElement","taskbarResizer","currentIndex","updateMouseDownProperties","prevZIndex","secondElement","fadeConnectorLine","isShowProgressResizer","isShowConnectorPoints","progressElement","cls.childProgressResizer","connectorElement","record_2","leftConnector","rightConnector","mouseDownElement","getCoordinate","zoom1","zoom","pageY","mouseDownX","mouseDownY","dragMoveY","isMouseDragCheck","mouseMoveX","mouseMoveY","previousItem","removeFirstBorder","canremove","removeLastBorder","islastRowIndex","isEmptyRow","removetopOrBottomBorder","border","addRemoveClasses","topOrBottomBorder","gridElement","removeChildBorder","borderElem","cells","len","addErrorElem","dragelem","paddingTop","removeErrorElem","errorelem","ensurePosition","draggedRecords","draggedRecord","ganttRowElement","currentElement","xValue","yValue","elementFromPoint","draggedTreeGridRowElement","draggedTreeGridRowHeight","chartRowElement_1","droppedTreeGridRowElement","tObj","rowTop","toolHeight","positionOffSet","firstElementChild","divide","topRowSegment","middleRowSegment","bottomRowSegment","posy","isTopSegment","isMiddleRowSegment","isBottomRowSegment","droppedTreeGridRecord","isMouseClick","editingFields","updateMouseMoveProperties","oldData","mainElement","resizeGripper","currentWidth","performProgressResize","enableLeftResizing","enableRightResizing","enableDragging","updateConnectorLineSecondProperties","triggerDependencyEvent","drawFalseLine","parentClientRect","coordinates","pos","reduceHeight","currentSegmentIndex","setItemPosition","updateEditedItem","taskBarEditedAction","isConnectorLineEdit","mouseX","mouseY","timerCount","startScrollTimer","stopScrollTimer","scrollTimer","setInterval","sign","timelineWidth","clearInterval","differenceWidth","previousMouseMove","previousSegment","nextSegment","validateProgressWidth","totalTaskWidth","startIndex","endIndex","diffrenceWidth","prevProgress","widthValue","progressBorderRadius","enableSplitTaskLeftResize","updateEditPosition","segment_1","segment_2","segment_3","updateIsMilestone","segmentWidth","updatedValues","getProgressPercent","getRoundOffStartLeft","getDateByLeft","updateSplitLeftResize","getRoundOffEndLeft","tempdate","updateSplitRightResizing","updateChildDrag","setSplitTaskDrag","segmentOffsetDuration","segmentOffset","segmentDate","isRoundOff","totalLeft","remainingContribution","remainingLeft","positionValue","inHour","inMinutes","remainDays","remainDaysInDecimal","rightResizer","segmentedTaskBarContainer","traceChildProgressBar","taskBarRightResizer","traceParentTaskBar","traceParentProgressBar","traceConnectorPointRight","segmentConnectorPointRight","manualParentTaskbar","resizeLine","segment_4","borderBottomRightRadius","borderTopRightRadius","width_1","progressElements","width_2","resizeValue","mouseDragged","cancelTaskbarEditActionInMouseLeave","resMouseY","taskbarEdited","reUpdatePreviousRecords","fixedWidth","totalProgressWidth","tempWidth","draggedRecIndex","flatRecordCol","droppedRecord","droppedTarget","droppedParentRecordIndex","draggedParentRecordIndex","fromIndex","dropIndex","dropPosition","dropRecord","droppedRecordIndex","updateParentProgress","segment_5","eDate_1","parentwidth","progresswidth","angle","atan2","PI","falseLine","transformOrigin","isRemoveConnectorPointDisplay","isBigger","zoomedPageY","fromItem","toItem","isValidLink","validatePredecessorRelation","predecessorArray","newPredecessorString","tooltipElement","e_1","changedTouches","DialogEdit","isFromDialogPredecessor","isTriggered","taskFieldColumn","customFieldColumn","processedId","updatedAddFields","dialogEditValidationFlag","isValidData","isResourceTabUpdated","beforeOpenArgs","types","getPredecessorType","editedRecord","inputs","booleanedit","CheckBox","dropdownedit","DropDownList","datepickeredit","DatePicker","datetimepickeredit","DateTimePicker","maskededit","MaskedTextBox","numericedit","NumericTextBox","stringedit","TextBox","defaultedit","dblClickHandler","editDialogFields","getDefaultDialogFields","validateDialogFields","addDialogFields","dialogFields","newDialogFields","emptyCustomColumn","fieldItem","getGeneralColumnFields","getCustomColumnFields","valueOf","composeAddRecord","isFromAddDialog","createDialog","getMinimumStartDate","minDate","getNewTaskId","gObj","selectedRowId","numericOrString","isFromEditDialog","dialogModel","dialogMaxWidth","animationSettings","isModal","allowDragging","showCloseIcon","X","Y","closeOnEscape","beforeClose","closedBy","nodeName","dialogElement","generalTabElement","tabObj","select","maxHeight","buttons","buttonModel","buttonClick","createTab","CustomformObj","formObj","storeValidTab","validate","storeDependencyTab","firstOccuringTab","dependencyTab","storeResourceTab","resourceTab","initiateDialogSave","resetValues","destroyDialogInnerElements","tabModel","destroyCustomField","inputElement","controlObj","getObject","getEditFields","tabElement","tabItems","dialogSettings","dialogField","tabItem","getFieldsModel","getSegmentsModel","getPredecessorModel","getResourcesModel","getNotesModel","renderTabItems","selected","tabSelectedEvent","overflowMode","Tab","Dialog","actionCompleteArgs","validationRules","changeFormObj","actionCompleteArg","storeColumn","getFilteredDialogFields","validateColumn","firstFieldType","customFieldColumns","taskFieldColumns","validationRulesArray","customColumn","createFormObj","taskColumn","targetArray","columnValue","form","rules","FormValidator","validationComplete","customPlacement","nameAttribute","valErrorPlacement","getElemTable","tooltipContent","errorMessage","existingTooltip","tooltipContainer","labelId","tooltipLabel","errorMessageElement","arrow","status","selectedContent","hasEditedBatchCell","hasEditedOrAddedRow","batchSave","isValidateColumn","responsiveTabContent","resourceSelection","enableToolbarItems","dialogContent","dialogContentHeight","toolbar_1","fieldsModel","createInputModel","common","floatLabelType","checkboxModel","change","validateScheduleFields","numeric","datePickerObj","strictMode","firstDayOfWeek","dateTimePickerObj","ID","Value","dropDownListObj","targetId","cellValue","strViewType","container","path","customFn","required","minLength","validateSegmentFields","validateScheduleValuesByCurrentField","updateScheduleFields","ganttField","ganttId","taskField","picker","numericTextBox","validateDuration","updatedStartDate","validateStartDate","validateEndDate","segmentInputModel","prefixIcon","tooltipText","align","datePickerModel","columnFields","inputTextModel","getGridColumnByField","updateSegmentField","inputValue","gridModel","selectedSegment","inputModel","foreignKeyField","foreignKeyValue","checkboxOnly","checkboxMode","toolbarSettings","createFormElement","createInputElement","isCustomTab","renderGeneralTab","disabled","renderPredecessorTab","renderResourceTab","renderCustomTab","renderNotesTab","renderSegmentsTab","segmentGridActionBegin","gridData","taskIdField_1","newId_1","getDialogTabIndex","tabName","indexValue","setInjected","allProperty","Grid","toolbarCollection","columnCollection","additionalParams","Filter","Sort","Page","Group","Aggregate","ColumnChooser","ColumnMenu","ContextMenu","Resize","Reorder","DetailRow","RowDD","Search","Selection","VirtualScroll","Print","PdfExport","ExcelExport","GridToolbar","itemName","preData","ForeignKey","columnCollections","updateColumns","gridObj","addFields","itemModel","getId","renderInputElements","templateFields","scriptElement","templateContent","isCheckIsDisabled","stringOrNumber","isParentValid","dependencyColumn","taskNameCollection","predecessorEditCollection","updatePredecessorDropDownData","predecessorLength","preTableCollection","gridActionComplete","gridActionBegin","ComboBox","idCollection","allowCustom","idInput","itemData","autofill","existingColumns","newColumns","columnMap","newColumn","isEdit_1","gridData_1","updateResourceCollection","resourceTreeGridId","resourceTreeGrid","tempRecords","selectedItems","rowResource","rowResourceLength","resourceDataLength","rowSelected","currentResources","rowDeselected","toolbars","TreeGridFilter","TreeGridSort","TreeGridPage","TreeGridEdit","TreeGridAggregate","TreeGridResize","TreeGridReorder","TreeGridRowDD","TreeGridSelection","TreeGridToolbar","isColumnMenu","treeGridObj","resourceColumn","RichTextEditor","Image","Table","EmojiPicker","FileManager","FormatPainter","RTEToolbar","MarkdownEditor","Link","HtmlEditor","QuickToolbar","Count","notesColumn","enabled","checked","inputObj","preTaskIds","currentFlatData","tempObject","preDataCollection","validSuccessorTasks","fromId_1","idIndex","isIdInclude","item_1","arraysMatch","typeText","indexes","id_1","rowItems_1","updateGeneralTab","updatePredecessorTab","updateNotesTab","updateResourceTab","updateCustomTab","updateSegmentsData","disableUndo","newRecords","parentRecordIndex","compareObjects","prevSegments","currentSegments","obj1","obj2","updateSegmentTaskData","segmentForm","generalForm","isCustom","tasksData","valueString","HTMLInputElement","updateScheduleProperties","validateUpdateValues","getMatchingPrefix","idArray","parts","preElement","newValues","splitString","name_1","resourceElement","notesElement","rte","getText","getHtml","customElement","ConnectorLineEdit","validationPredecessor","confirmPredecessorDialog","validatedId","validatedOffsetIds","isPublicDependencyDelete","initPredecessorValidationDialog","getConnectorLineHoverElement","highlightConnectorLineElements","isOnLine","isArrow","isCriticalLine","isCriticalArrow","connectorLineElement","removeHighlight","addHighlight","pathElement","getEditedConnectorLineString","idSet","Set","lineFragment","createDocumentFragment","has","lineElement","editedConnectorElement","idFromPredecessor","preArray","preIdArray","strArray","splitName","predecessorValidation","visitedIdArray","state_1","currentIdArray","predecessorIdArray","flag","state_2","checkParentRelation","checkArray","countFlag","state_3","currentIdIndex","tempPredecessorString","stringValue","editingData","state_4","renderValidationDialog","validationDialog","validationDialogClose","validationDialogOkButton","validationDialogCancelButton","currentArgs","validateMode","applyPredecessorOption","checkChildRecords","updateEditedTask","editEventArgs","connectedTaskId_1","taskId_1","processPredecessors","compareArrays","arr1","arr2","record_1","calculateOffset","isIdInclude_1","removePredecessors","keys1","keys2","isRecursive","prevPredecessor","validPredecessor_1","cumulativePredecessorChanges","pred","isNegativeOffset","preIndex","parentPreIndex","validPredecessor_2","matchingObjects","objectToCompare","preLength","parentPredecessor","openValidationDialog","contentTemplate","validationDialogTemplate","topContentText","contentdiv","parenttaskData","violationType","recordName","recordNewStartDate","recordArgs","topContent","innerTable","validateTypes","violatedParent","ganttTaskData","violateType","endDateOlny","startDateOlny","addRemovePredecessor","prevData","newPredecessor","prevPredecessor_1","this_6","removePredecessorByIndex","confirmOkDeleteButton","confirmCloseDialog","confirmDialog","isFromDeleteMethod","targetedRecords","isNewRecordAdded","isValidatedEditedRecord","createArray","canReset","updateParentRecords","isaddtoBottom","taskbarMoved","predecessorUpdated","isBreakLoop","renderDeleteConfirmDialog","updateDefaultColumnEditors","customEditorColumns","updateIDColumnEditParams","updateProgessColumnEditParams","updateResourceColumnEditor","updateTaskTypeColumnEditor","editParam","decimals","validateDecimalOnType","showSpinButton","updateEditParams","getResourceEditor","editor","editObject","MultiSelect","CheckBoxSelection","showDropDownIcon","delimiterChar","getTaskTypeEditor","ganttPropByMapping","scheduleFieldNames","isScheduleValueUpdated","ganttProps","isDurationKey","ganttPropKey","totDuration","acc","sdate","edate","seg","validateScheduleValues","previousdata","fieldNames","validateScheduleByTwoValues","isTaskbarMoved","isMoved","prevStart","prevEnd","prevDuration","prevDurationUnit","isPredecessorUpdated","isCheckPredecessor","isValidatePredecessor","updateGanttProperties","updateData","childRecordIndex","validateObject","newArgs","validateTaskEvent","editedEventArgs","resetValidateArgs","validateChildPredecessors","updateParentChildRecord","updateParentItemOnEditing","childCount","milesStoneCount","resetEditProperties","isRefreshChart","isRefreshGrid","prevTask","originalData","copyTaskData","existing","newValue","updateScheduleDatesOnEditing","currentBaselineStart","currentBaselineEnd","currentProgress","unModifiedData","eventArg","updatedData","changedRecords","crud","dataAdaptor","batchUrl","saveChanges","dmSuccess","dmFailure","saveSuccess","updateEditedFields","eLength","_aLength","updateEditedRecordFields","deleteRecords","updateSharedTask","updateResoures","isTreeGridRefresh","updateRowIndex","prevResource","currentResource","updateRecord","flatRecords","currentLength","previousLength","prevResourceID","addNewRecord","record1","prevLength","taskID","removeChildRecord","checkWithUnassignedTask","unassignTaskObj","beforeEditStatus","cAddedRecord","addRecordAsBottom","recordIndex1","updateTreeGridUniqueID","addRecordAsChild","deletedRow","flatParentData","deleteChildRecords","uniqueIDIndex","deleteRecordIDs","removeFromDataSource","flatRecordIndex","idx","deletedRecordCount","getChildCount","childRecordsLength","spliceIndex","deletedIndexes","draggedParent","saveFailed","confirmDeleteOkButton","closeConfirmDialog","deleteSelectedItems","deleteResourceRecords","resourceParent","deleteRow","totalRecords","variableType","updateTargetedRecords","taskDetailArray","rowItems","deleteItems","canDeletePredecessor","removePredecessorOnDelete","delereArgs","deletedRecordCollection","updatedRecordCollection","initiateDeleteAction","toRecordPredcessor","updatePredecessorValues","fromRecordPredcessor","predcessorArray","cId","nId","cIndex","nIndex","thisRecord","currentGanttRecord","updatePredecessorOnUpdateId","removeData","dataCollection","modifiedRecord","updatedData_1","deletedRecords","query_1","deleteCrud","deleteSuccess","isUnassignedTask","isCollapsed","prevRecordIndex","flatIndex","treeGridParentIndex","dataIndex","refreshRecordInImmutableMode","updateUnAssignedResources_1","isDuplicate","newTaskId","prepareNewlyAddedData","newTaskIDmd","taskModel","updateNewlyAddedDataBeforeAjax","pIndex","backUpAndPushNewlyAddedRecord","addRowSelectedItem","newRecord","getVisibleChildRecordCount","updatePredecessorOnIndentOutdent","parentRecordTaskData","updatedPredecessor","predecessorCollections","prdcList","temppredecessorCollection","currentItemIndex","updatedCollectionIndex","recordCollectionUpdate","dataChildCount","newlyAddedRecordBackup","constructTaskAddedEventArgs","newTaskData","addSuccess","dragged","treeIndex","uniqueTaskID","originalIndex","renderModule","cellRender","cell","RowModifier","updateRealDataSource","addDataInRealDataSource","updateClientDataFromServer","serverReturnedValue","addedRecords","addNewUndoCollection","tempArray_1","addedRec","tempTaskID","cAddedRecord_1","validateTaskPosition","addData","addIndex","removeAddedRecord","_resetProperties","data_2","updatedData_2","prevID","idsIndex","updateNewRecord","data_3","canDelete","isPresent","id_2","refreshNewlyAddedRecord","createNewRecord","tempRecord","taskSettingsFields","AddRecord","rowCount","objCollection","undoRedoModule_1","handleResourceUpdate","flatRecordsIndex","currentViewDataIndex","getPrevRecordIndex","prevRecord","selectedRecord","indentOutdentRow","thisParent","actionArgs","actionArg","reArrangeRows","isByMethod","draggedRec","dragRecords","droppedRec","dLength","deleteDragRow","treeGridData","updateChildRecordLevel","updateChildRecord","dropMiddle","newParentIndex","refreshDataSource","refreshRecord","isDrag","queryValue","indentSuccess","indentFailure","indentOutdentSuccess","indx","proxy","rowPos","dragRecord","delRow","removeRecords","updateIndentedChildRecords","indentedRecord","createParentItem","recordLevel","levl","currentRec","flatParent","removeChildItem","gridIndx","recordIdx","childItem","columnDragStart","columnDrag","columnDrop","updateCustomFilters","initiateFiltering","updateModel","getCustomFilterUi","filterUI","getDurationFilter","getDateTimePickerFilter","getDatePickerFilter","dropDateInstance","timeValue","getCustomDateFormat","textBoxInstance","durationObj","intVal","dayVal","datePickerElement","dateTimePickerElement","filterAfterOpen","updateFilterMenuPosition","filterObj","filterValues","instanceObj","setPosition","li","ul","parentNodeTop","parentNodeLeft","gridPos","gridPosTop","gridPosLeft","isNonBodyTag","HTMLDocument","liPos","scrollX","getColumnHeaderByField","getFilterMenuPostion","TreeGrdSort","sortByColumn","isSelectionFromChart","isFromChart","multipleIndexes","openPopup","popUpClickHandler","rowSelecting","rowDeselecting","cellSelecting","cellSelected","cellDeselecting","cellDeselected","isCtrlPressed","isMultiCtrlRequest","isShiftPressed","isMultiShiftRequest","actualTarget","foreignKeyData","addRemoveClass","prevRowIndex","previousSelection","isInteracted","isContains","rowIndexes","cellselectingArgs","isPreventFocus","condition","selectedRow","preventFocus","selectedClass","selectedRows","selectedIndexes_1","cellDetails","cellSelectedRecords","getSelectedRows","highlightSelectedRows","fromChart","shiftKey","rIndex","addRowsToSelection","getselectedrowsIndex","request","persist","selectedRecordLen","removeAttribute","showPopup","setCssInGridPopUp","$popUpElemet","spanElement","elements","Toolbar","predefinedItems","propertyChanged","headerModule","offsetParent","preItems_1","itemStr","localeName","searchLocalText","createToolbar","addReactToolbarPortals","getItems","NavToolbar","clicked","toolbarClickHandler","cancelItem","updateItem","getSearchBarElement","showClearButton","wireEvent","textbox","onclick","keyUpHandler","focusHandler","blurHandler","unWireEvent","searchIndex","searchItem","toolbarItems_1","getItemObject","getItem","itemObject","gID","adaptiveSearchbar","disableItems","previousGanttRecord","toolbarDefaultItems","isResouceParent","hasData","isDeleteSelected","selectedRecordsCount","hideItem","items_1","NonWorkingDay","weekendWidthUpdated","createNonworkingContainer","holidayElements","getHolidaysElement","fromDate","toDate","viewportHeight","holidayDiv","spanTop","weekendElements","getWeekendElements","nonWorkingIndex","isFirstExecution","dubDate","sDateOffset","dubDateOffset","isHourTimeline","weekendDiv","updateHolidayLabelHeight","gantttable","labels","removeContainers","getEventMarkersElements","removeContainer","eventMarkerElement","rightArrow","eventMarkerCollection","DayMarkers","eventMarkerRender","refreshMarkers","updateHeight","CriticalPath","validatedids","resourceCollectionIds","criticalTasks","modelIds","dateDifference","checkBeyondEnddate_1","totalPredecessorsCollection","totalPredecessorsCollectionId","taskBeyondEnddate","predecessorTaskBeyondEnddate","collectionTaskId","fromDataObject","criticalPathIds","slack","currentRecords","endTask","toPredecessor","fromPredecessor","individualPredecessorLength","taskid","enddate","collectionLength","indexEnddate","z","fromdata","todateID","fromDataPredecessor","slackCalculation","finalCriticalPath","pathIndex","modelRecordIds","fromDateArray","fromTaskIdIndex","indexFromTaskId","indexToTaskId","totaskId","prevTaskEnddate","offsetInMillSec","ffslack","fromDateArray1","fromIdFlatData","toIdFlatData","getSlackDuration","updateCriticalTasks","resourceIndex","noSlackValue","toID","criticalData","taskClass","parentTaskbarElement","currentdata","checking","checkint","taskIdString","checkintString","UndoRedo","isUndoRedoPerformed","getRedoCollection","getUndoCollection","redoEnabled","previousSortedColumns","isFromUndoRedo","canUpdateIndex","sortedColumnsLength","undoAction","updateAction_1","previousActions","previousDetails","findPosition","columnsArray","fromColumn","toColumn","char","isShowDeleteConfirmDialog","deleteRec","redoAction","updateAction","createUndoCollection","undoRedoStepsCount","disableRedo","detail","recIndex","previousRecord","prevInd","parentDataIndex","existingRecord","isCntxtMenuDependencyDelete","headerContextMenuClick","headerContextMenuOpen","ganttID","TreeGridContextMenu","contextMenuClick","contextMenuOpen","resetItems","reRenderContextMenu","contextMenuItemClick","contextMenuBeforeOpen","Menu","getMenuItems","beforeOpen","onOpen","onClose","contextMenuOnClose","headerMenuItems","getKeyFromId","parentItem_1","resourceFieldId_1","matchingResource","mergeCall","splitTaskCall","currentClickedDate","getClickedDate","mergeSegmentIndexes","ganttElementPositionLeft","pageLeft","currentTaskDifference","clickedPosition","splitTaskDuration","contextMenuClickDate","menuElement","contentMenuItems","getLocale","updateItemStatus","hideItems","hideChildItems","revertItemStatus","editForm","subMenu","updateItemVisibility","createItemModel","cons.content","getPredecessorsItems","isSelect","isBottomTierMinute","isBottomTierHour","mergeItemVisiblity","menuItems_1","getDefaultItems","buildDefaultItems","iconCss","generateID","iconCSS","contentMenuItem","getIconCSS","menuClass","iconString","showItems","idPrefix","TreeGridExcel","beforeExcelExport","excelQueryCellInfo","excelHeaderQueryCellInfo","excelExportComplete","TreeGridColumnMenu","getColumnMenu","isTest","updateCollection","isSharedTask","canDrop","rowDragStart","rowDragStartHelper","rowDrag","rowDrop","dragElem","errorContainer","rowCell","errorVal","spanContent","ganttDragElement","dragElement","ganttTop","getClientRects","ganttLeft","dropRows","datas","dragLength","checkisSharedTask","previousParent","dropAtTop","spliceId","updatedParent","ganttData_1","uniqueTaskID_1","i_3","i_4","count_1","splittedName","validatedPredecessorNames","droppedParentItem","removeExistingResources","tempResourceInfo","updateCurrentTask","deleteSharedResourceTask","updateSharedResourceTask","toParent_1","isValidPredecessor","validateRecords","predName","toRec","dropRec","preParentRecord","_getExistingTaskWithID","existingTasks","removeResourceInfo","sameIdTasks","tempDataSource","ganttFields","droppedId","dragRec","sharedTask","childTasks","tempIndex","PdfGanttTheme","theme","ganttStyle","setTheme","eventMarker","lineStyle","dashStyle","PdfDashStyle","Dash","enumerable","configurable","initStyles","columnHeader","fontSize","fontColor","PdfColor","gray","borderColor","lineAlignment","alignment","fontFamily","PdfFontFamily","Helvetica","footer","fontStyle","chartGridLineColor","PdfPen","taskColor","progressColor","criticalTaskColor","criticalProgressColor","baselineBorderColor","criticalConnectorLineColor","criticalTaskBorderColor","parentTaskColor","parentProgressColor","taskBorderColor","parentTaskBorderColor","connectorLineColor","progressFontColor","splitLineBackground","unscheduledTaskBarColor","manualParentBackground","manualParentProgress","manualChildBackground","manualChildProgress","manualLineColor","manualParentBorder","manualChildBorder","PdfStringFormat","TemporaryDictionary","mKeys","mValues","ReferenceError","RangeError","containsKey","PdfBorders","defaultBorderPenLeft","Solid","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","PdfPaddings","bottom","hasLeftPad","hasRightPad","hasTopPad","hasBottomPad","leftPad","rightPad","bottomPad","topPad","PdfTreeGridStyleBase","PdfTreeGridStyle","cellSpacing","borderOverlapStyle","PdfBorderOverlapStyle","Overlap","allowHorizontalOverflow","horizontalOverflowType","LastPage","cellPadding","PdfTreeGridLayouter","baseFormat","columnRanges","repeatRowIndex","currentBounds","RectangleF","layoutInternal","param","Error","currentPage","page","currentPageBounds","getClientSize","currentGraphics","graphics","break","PdfLayoutBreakType","FitColumnsToPage","PointF","bounds","SizeF","treegrid","clientSize","getRow","getCell","borders","startLocation","measureColumnsWidth","determineColumnDrawRanges","layoutOnPage","startColumn","endColumn","cellWidths","availableWidth","isAutoFit","getColumn","subWidths","getFormat","layoutedPages","startPage","cellStartIndex","cellEndIndex","rowsCount","repeatRow","originalHeight","rowResult","drawRow","rowCollection","isFinish","allowRowBreakAcrossPages","getNextPageFormat","enableHeader","drawHeader","checkBounds","layout","PdfLayoutType","OnePage","paginateBounds","default","getLayoutResult","NextPage","reArrangePages","location","layoutPages","pages","section","nextPage","getPages","PdfTreeGridLayoutResult","checkIfDefaultFormat","defaultFormat","characterSpacing","clipPath","firstLineIndent","horizontalScalingFactor","lineLimit","lineSpacing","measureTrailingSpaces","noClip","paragraphIndent","rightToLeft","subSuperScript","wordSpacing","wordWrap","layoutResult","RowLayoutResult","rowBreakHeight","drawRowWithBreak","location_1","leftAdjustment","reCalculateHeight","isTreeColumn","cancelSpans","columnSpan","isCellMergeContinue","draw","rowOverflowIndex","treegridHeight","measureHeight","finishedDrawingCell","newHeight","remainingString","ElementLayouter","PdfLayoutResult","PdfTreeGridLayoutFormat","PdfLayoutFormat","PdfTreeGrid","treeGridSize","PdfTreeGridColumnCollection","PdfTreeGridRowCollection","headers","PdfTreeGridHeaderCollection","calculateTreeGridSize","arg1","arg2","arg3","arg4","drawHelper","layoutRectangle","widths","getDefaultWidths","rowLevel","colCount","rowWidth","initialWidth","getHeader","drawGrid","newBound","layouter","PdfLayoutElement","PdfTreeGridCell","cellHeight","rowSpan","measureWidth","PdfStringLayouter","font","PdfStandardFont","isParentRow","PdfFontStyle","Bold","MAX_VALUE","actualSize","slr","cancelSubsequentSpans","drawCellBackground","textBrush","PdfSolidBrush","innerLayoutArea","isHeaderCell","adjustContentLayoutArea","image","imageBounds","drawImage","customisedFont","fontStyles","newFont","customisedBrush","fontBrush","drawString","stringLayoutResult","PdfImage","PdfBitmap","PdfTextWebLink","drawCellBorder","backgroundBrush","drawRectangle","restore","returnBounds","PdfTextAlignment","Center","Left","Right","Inside","isAll","p1","p2","pen","lineCap","PdfLineCap","Square","drawLine","PdfTreeGridCellCollection","treegridRow","tempcell","PdfTreeGridRow","treegridRowOverflowIndex","_isParentRow","intendLevel","pdfTreeGrid","treegridCells","treegridRowBreakHeight","row_1","PdfTreeGridColumn","columnWidth","_headerText","_field","stringFormat","internalColumns","subFactor","ExportHelper","totalColumnWidth","processToFit","chartsideWidth","gridWidth","processGridExport","props","exportValueFormatter","ExportValueFormatter","processHeaderContent","processGanttContent","processTaskbar","processPredecessor","isColumnVisible","processColumnHeader","pdfColumn","treeGridHeaderHeight","copyStyles","headerTextAlign","headerTemplate","pdfColumnHeaderQueryCellInfo","base64","includeHiddenColumn","renderEmptyGantt","processRecordRow","chartHeader","topTierHeight","bottomTierHeight","showPredecessorLines","findIndexUsingParent","lineWidth","expandedRecord","processRecordCell","formatCellValue","pdfQueryCellInfo","getFontFamily","getFontStyle","dimension","hyperLink","displayText","setHyperLink","textLink","url","brush","unscheduledTaskBy","unscheduleStarteDate","unscheduleEndDate","isSpliterTask","isParentTask","reduceLeft","labelColor","manuallineColor","gridLineColor","labelTemplateStyle","taskStyle","pdfQueryTaskbarInfo","taskSegmentStyles","segmentTaskbar","leftImages","rightImage","baseCount","applyTemplate","source","getHorizontalAlignment","Justify","getVerticalAlignment","PdfVerticalAlignment","Bottom","Middle","Top","getFont","defaultFontFamily","TimesRoman","Regular","mergeCells","lastColIndex","all","initializePdf","tWidth","pageSettings","perColumnWidth","PdfPage","pdfPage","enableFooter","pageSize_1","getPageSize","pageSize","PdfPageTemplateElement","footerBrush","pageNumber","PdfPageNumberField","PdfPageCountField","compositeField","PdfCompositeField","headerProp","fromTop","drawPageTemplate","fromBottom","contents","drawText","drawPageNumber","src","pageTemplate","getBrushFromContent","textPenColor","penColor","hexToRgb","g","setContentFormat","documentHeader","textBrushColor","brushColor","numberStyle","getPageNumberStyle","pageNumberType","total","pageCount","points","getPenFromContent","penSize","getDashStyle","hex","bigint","hAlign","vAlign","culture","valueFormatter","ValueFormatter","internationalization","returnFormattedValue","getFormatFunction","isForeignKey","getForeignData","getNumberFormat","PdfGanttTaskbarCollection","endPage","spaceBetweenImageAndValue","GetNextPage","drawTaskbar","startPoint","cumulativeWidth","taskGraphics","isNextPage","endPoint","drawPageTimeline","drawLeftLabel","customizedFont","customizedFontBrush","customizedFontColor","taskLabelFont","taskLabelFontBrush","progressFormat","updatedWidth","isLabelString","pageIndex","baselinePen","baselineBrush","drawMilestone","taskbarPen_1","taskBrush_1","manualParentBorderPen","manualChildBorderPen","manualTaskbarPen","manualline","manuallineBrush","splitline","manualBrush","manualChildBrush","manualChildProgressBrush","manualProgressBrush","progressPen_1","progressBrush_1","adjustHeightforTaskbar","adjustHeightforBaseline","adjustHeight_1","isStartPoint","taskStartPoint","Dot","segmenttaskbarPen","segmenttaskBrush","imageWidth","PdfPath","addEllipse","translateTransform","path1","setTransparency","segmentprogressPen","segmentprogressBrush","drawUnscheduledTask","brush1","brush2","PdfLinearGradientBrush","isCompleted","renderWidth_1","splitRenderwidth_1","pervwidth_1","valueChangeBlocker_1","lineWidth_1","stringLeft","result_1","getWidth","lines","remainder","remainString","progressBoundsWidth","result_2","lineStartX","lineEndX","lineY","result_3","result_4","isCompletedBaseline","renderWidth","isCompletedAutotask","currendate","state","setClip","PdfBrushes","Black","drawRightLabel","getPdfFont","fontFamilyValue","fontStyleValue","drawRightLabelValue","previousWidthofRightImage","previousWidthofRightValue","drawRigthlabelImage","isLeftCalculated","actualLeft","leftForLabel","adjustHeight","point","labelBounds","labelFormat","ganttStyle_1","labelBrush","lablePen","strSize","measureString","rightString","getWidthofrightLabel","labelBound","newFontBrush","drawLeftLabelValue","previousWidthofLeftImage","previousWidthofLeftValue","totalLeftWidth","totalstringWidth","drawLeftLabelImage","labelLeft","rightLabelpoint","rightLabelSize","rightLabelBounds","rightLabelFormat","leftLabelImage","leftLabelValue","getWidthofLeftLabel","isLeftImageExist","imageLength","result_5","result_6","PdfWordWrapType","Character","taskBrush","milestonePen","adjustHeightforBaselineMilesone","adjustHeightforMilesone","milestoneBrush","rotateTransform","height_1","PdfTimeline","holidayCompleted","fitHolidayCompleted","lastWidth","topTierValueLeftPadding","topTierPoint","bottomTierPoint","topTierIndex","bottomTierIndex","prevTopTierIndex","prevBottomTierIndex","drawTimeline","detailsTimeline","remainWidth","pHeader","isFinished","completedWidth","reWidth","triggerQueryTimelinecell","secondHeader","isTopTier","currentDate","timelineStyle","initializePdfStringFormat","pdfQueryTimelineCellInfo","cellBackgroundColor","isHoliday","holidayContainerColor","timelinedate","holidayWidth","holidayLabel","changeDate","holidayNumberOfDays","fromDataHoliday","timelineborder","adjustedWidth","rectPen","font1","textFormat","fontHieght","holidayBrush","pLeft","pTop","PdfGanttPredecessor","pdfGantt","parentPageData","childPageData","predecessorType","parentY","childY","pdfPageDetail","chartPageIndex","midPointManualparent","midPointforTaskbar","midPointforBaseline","point3","point4","point5","point6","parentTaskpoint","childTaskpoint","ffpoint1","sspoint1","ffpoint3","ffpoint4","sspoint4","connectLines","drawArrow","rect","findPageIndex","pageData","pageRect","pdfPages","newEndPoint","newStartPoint","checkStartPoint","startPointCheck","endPointCheck","pageRectLeft","pageRectRight","pageRectBottom","pageRectTop","pageStartX","predecessorPen","drawEventMarker","cumulativeHeight","ganttStyles","eventLine","enventFormat","eventBrush","defaultBorder","pdfborders","PdfGantt","changeCloneProjectDates","headerDetails","taskbars","drawChart","totalPages","perColumnPages","calculateRange","drawGantttChart","drawPageBorder","lastColumnRange","isPageFinished","pageWidth","headerWidth","startPageIndex","convertedWidth","sDays","eDays","sDays1","eDays1","startDays","endDays","startdate","secondsToAdd","startDays1","endDays1","startDays2","endDays2","startDays3","endDays3","taskbarPoint","pagePoint","pageStartPoint","timelimeHeight","pdfDocument","initGantt","ganttObject","Promise","reject","exportWithData","PdfDocument","processExport","promise","blobPromise","sections","processSectionExportProperties","pdfPageDimensions","FitElement","fileName","pdfPageSettings","PdfPageSettings","pageOrientation","PdfPageOrientation","Landscape","Portrait","setPageSettings","defaultGanttTheme","TreeGridVirtualScroll","translates","transformString","index.Filter","index.Selection","index.Sort","index.Reorder","index.Resize","index.Edit","index.DayMarkers","index.Toolbar","index.ContextMenu","index.ExcelExport","index.RowDD","index.ColumnMenu","index.PdfExport","index.VirtualScroll","index.CriticalPath","index.UndoRedo"],"mappings":"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"}