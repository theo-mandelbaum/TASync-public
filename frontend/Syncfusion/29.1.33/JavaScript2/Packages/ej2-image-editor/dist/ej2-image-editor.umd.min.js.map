{"version":3,"file":"ej2-image-editor.umd.min.js","sources":["../src/image-editor/action/crop.js","../src/image-editor/action/draw.js","../src/image-editor/action/export.js","../src/image-editor/action/filter.js","../src/image-editor/action/freehand-draw.js","../src/image-editor/action/selection.js","../src/image-editor/action/shape.js","../src/image-editor/action/transform.js","../src/image-editor/action/undo-redo.js","../src/image-editor/base/image-editor.js","../src/image-editor/base/enum.js","../src/image-editor/renderer/toolbar.js"],"sourcesContent":["import { Browser, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar Crop = /** @class */ (function () {\n    function Crop(parent) {\n        this.croppedDegree = 0; // Specifies the degree when crop is performed\n        this.cropDestPoints = { startX: 0, startY: 0, width: 0, height: 0 }; // To redraw old image when navigate to crop tab\n        this.tempFlipPanPoint = { x: 0, y: 0 };\n        this.isPreventScaling = false;\n        this.isInitCrop = false;\n        this.isTransformCrop = false;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Crop.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n    };\n    Crop.prototype.addEventListener = function () {\n        this.parent.on('crop', this.cropping, this);\n        this.parent.on('destroyed', this.destroy, this);\n    };\n    Crop.prototype.removeEventListener = function () {\n        this.parent.off('crop', this.cropping);\n        this.parent.off('destroyed', this.destroy);\n    };\n    Crop.prototype.cropping = function (args) {\n        this.updateCropPvtVar();\n        switch (args.prop) {\n            case 'cropCircle':\n                this.cropCircle(args.value['context'], args.value['isSave'], args.value['isFlip']);\n                break;\n            case 'setCurrSelPoints':\n                this.setCurrSelPoints(args.value['isSetDimension']);\n                break;\n            case 'updateRotatePan':\n                this.updateRotatePan();\n                break;\n            case 'crop':\n                this.crop(args.value['obj']);\n                break;\n            case 'calcRatio':\n                this.calcRatio(args.value['obj'], args.value['dimension']);\n                break;\n            case 'getCurrFlipState':\n                this.getCurrFlipState(args.value['panObj']);\n                break;\n            case 'getPreviousCropCurrentObj':\n                args.value['obj']['prevObj'] = this.prevCropCurrObj;\n                break;\n            case 'setPreviousCropCurrentObj':\n                this.prevCropCurrObj = args.value['obj'];\n                break;\n            case 'setCropDestPoints':\n                this.cropDestPoints = args.value['point'];\n                break;\n            case 'getTempFlipPanPoint':\n                args.value['obj']['point'] = this.tempFlipPanPoint;\n                break;\n            case 'setTempFlipPanPoint':\n                if (isNullOrUndefined(args.value['isAdd'])) {\n                    this.tempFlipPanPoint = args.value['point'];\n                }\n                else {\n                    this.tempFlipPanPoint.x += args.value['point'].x;\n                    this.tempFlipPanPoint.y += args.value['point'].y;\n                }\n                break;\n            case 'getPreventScaling':\n                args.value['obj']['bool'] = this.isPreventScaling;\n                break;\n            case 'adjustStraightenForShapes':\n                this.adjustStraightenForShapes(args.value['type'], args.value['isInitialRotated']);\n                break;\n            case 'resizeWrapper':\n                this.resizeWrapper();\n                break;\n            case 'setTransformCrop':\n                this.isTransformCrop = args.value['bool'];\n                break;\n            case 'setInitCrop':\n                this.isInitCrop = args.value['bool'];\n                break;\n            case 'resetZoom':\n                this.resetZoom();\n                break;\n            case 'revertTransform':\n                this.revertTransform(args.value['type'], args.value['coll']);\n                break;\n            case 'reset':\n                this.reset();\n                break;\n        }\n    };\n    Crop.prototype.getModuleName = function () {\n        return 'crop';\n    };\n    Crop.prototype.updateCropPvtVar = function () {\n        var parent = this.parent;\n        if (parent.lowerCanvas) {\n            this.lowerContext = parent.lowerCanvas.getContext('2d');\n        }\n        if (parent.upperCanvas) {\n            this.upperContext = parent.upperCanvas.getContext('2d');\n        }\n    };\n    Crop.prototype.reset = function () {\n        this.prevCropCurrObj = null;\n        this.croppedDegree = 0;\n        this.cropDestPoints = { startX: 0, startY: 0, width: 0, height: 0 };\n        this.tempFlipPanPoint = { x: 0, y: 0 };\n        this.isPreventScaling = false;\n        this.isInitCrop = false;\n        this.isTransformCrop = false;\n    };\n    Crop.prototype.cropImg = function (isRotateCrop) {\n        var parent = this.parent;\n        var isNullCrop = isNullOrUndefined(isRotateCrop);\n        var resizeIcon = parent.element.querySelector('#' + parent.element.id + '_nonaspectratio');\n        var actPoint = parent.activeObj.activePoint;\n        var img = parent.img;\n        var isRotated = false;\n        for (var i = 0, len = parent.rotateFlipColl.length; i < len; i++) {\n            var currentValue = parent.rotateFlipColl[i];\n            if (currentValue === 90 || currentValue === -90) {\n                isRotated = true;\n            }\n        }\n        parent.notify('draw', { prop: 'setImageEdited', onPropertyChange: false });\n        if (isNullCrop || resizeIcon) {\n            this.croppedDegree = parent.transform.degree;\n        }\n        if (isNullCrop && (parent.transform.degree !== 0) || isRotated) {\n            this.updateCropObj();\n            var point = { startX: img.destLeft, startY: img.destTop, width: img.destWidth, height: img.destHeight };\n            parent.notify('transform', { prop: 'setCurrDestinationPoint', onPropertyChange: false, value: { point: point } });\n            this.rotateCrop();\n        }\n        else if (isNullCrop && parent.transform.currFlipState !== '') {\n            this.updateCropObj();\n            var point = { startX: img.destLeft, startY: img.destTop, width: img.destWidth, height: img.destHeight };\n            parent.notify('transform', { prop: 'setCurrDestinationPoint', onPropertyChange: false, value: { point: point } });\n            this.flipCrop();\n        }\n        else {\n            this.adjustStraightenForShapes('initial', false);\n            parent.notify('draw', { prop: 'setTempZoomFactor', onPropertyChange: false, value: { tempZoomFactor: parent.transform.zoomFactor } });\n            var ratio = this.calcRatio();\n            if (isNullCrop || !isRotateCrop) { // isRotateCrop is NULL or False\n                this.updateCropObj();\n                parent.notify('draw', { prop: 'resetPanPoints', onPropertyChange: false });\n                parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n                var point = { startX: img.destLeft, startY: img.destTop, width: img.destWidth, height: img.destHeight };\n                parent.notify('transform', { prop: 'setCurrDestinationPoint', onPropertyChange: false, value: { point: point } });\n                parent.currSelectionPoint = extend({}, parent.activeObj, {}, true);\n                this.cropDestPoints = { startX: img.destLeft, startY: img.destTop, width: img.destWidth, height: img.destHeight };\n            }\n            var obj = { width: 0, height: 0 };\n            parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false, value: { width: actPoint.width * ratio.width,\n                    height: actPoint.height * ratio.height, obj: obj, isImgShape: null } });\n            var maxDimension = obj;\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n            parent.img = { srcLeft: (actPoint.startX * ratio.width) - (img.destLeft * ratio.width),\n                srcTop: (actPoint.startY * ratio.height) - (img.destTop * ratio.height),\n                srcWidth: (actPoint.width * ratio.width), srcHeight: (actPoint.height * ratio.height),\n                destLeft: (parent.lowerCanvas.clientWidth - maxDimension.width) / 2,\n                destTop: (parent.lowerCanvas.clientHeight - maxDimension.height + 1) / 2,\n                destWidth: maxDimension.width, destHeight: maxDimension.height };\n            var temp = this.lowerContext.filter;\n            parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n            this.lowerContext.filter = 'none';\n            var activeObj = extend({}, parent.activeObj, {}, true);\n            this.cropObjColl();\n            parent.transform.straighten = 0;\n            parent.activeObj = activeObj;\n            this.cropFreehandDrawColl();\n            parent.shapeColl = [];\n            parent.notify('shape', { prop: 'updateShapeColl', onPropertyChange: false });\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n            parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n            parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.upperContext } });\n            if (parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') {\n                this.cropCircle(this.lowerContext);\n            }\n            else {\n                parent.isCircleCrop = false;\n            }\n            this.lowerContext.filter = temp;\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            parent.currObjType.isCustomCrop = false;\n            parent.pan(false);\n            parent.transform.defaultZoomFactor = 0;\n        }\n    };\n    Crop.prototype.adjustStraightenForShapes = function (type, isInitialRotated) {\n        var parent = this.parent;\n        var center = {\n            x: parent.img.destLeft + parent.img.destWidth / 2,\n            y: parent.img.destTop + parent.img.destHeight / 2\n        };\n        for (var _i = 0, _a = parent.objColl; _i < _a.length; _i++) {\n            var obj = _a[_i];\n            if (['rectangle', 'ellipse', 'text', 'image', 'redact'].indexOf(obj.shape) !== -1) {\n                if (isInitialRotated || obj.rotatedAngle !== 0) {\n                    var _b = obj.activePoint, startX = _b.startX, startY = _b.startY, width = _b.width, height = _b.height;\n                    var angle = type === 'initial' ? obj.rotatedAngle : -obj.rotatedAngle;\n                    var diffX = startX + width / 2 - center.x;\n                    var diffY = startY + height / 2 - center.y;\n                    var cosAngle = Math.cos(angle);\n                    var sinAngle = Math.sin(angle);\n                    var centerX = cosAngle * diffX - sinAngle * diffY + center.x;\n                    var centerY = sinAngle * diffX + cosAngle * diffY + center.y;\n                    var diffXUpdated = centerX - startX - width / 2;\n                    var diffYUpdated = centerY - startY - height / 2;\n                    obj.activePoint.startX += diffXUpdated;\n                    obj.activePoint.startY += diffYUpdated;\n                    obj.activePoint.endX += diffXUpdated;\n                    obj.activePoint.endY += diffYUpdated;\n                }\n            }\n        }\n    };\n    Crop.prototype.updateCropObj = function () {\n        this.parent.afterCropActions = [];\n        var object = { currObj: {} };\n        this.parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var obj = object['currObj'];\n        obj.straighten = this.parent.transform.straighten;\n        this.parent.cropObj = extend({}, obj, {}, true);\n    };\n    Crop.prototype.rotateCrop = function () {\n        var parent = this.parent;\n        var flipState = this.getCurrFlipState();\n        var shape = parent.activeObj.shape || '';\n        parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n        parent.currSelectionPoint = extend({}, parent.activeObj, {}, true);\n        parent.objColl.push(parent.activeObj);\n        parent.activeObj = extend({}, parent.objColl[parent.objColl.length - 1], {}, true);\n        var activeObj = extend({}, parent.objColl[parent.objColl.length - 1], {}, true);\n        var tempCurrSelObj = extend({}, parent.currSelectionPoint, {}, true);\n        var preventSelObj = { bool: null };\n        parent.notify('transform', { prop: 'getPreventSelect', onPropertyChange: false, value: { obj: preventSelObj } });\n        parent.notify('transform', { prop: 'setPreventSelect', onPropertyChange: false, value: { bool: true } });\n        var coll = extend([], parent.rotateFlipColl, [], true);\n        this.panToSelRangle(true);\n        activeObj = extend({}, parent.objColl[parent.objColl.length - 1], {}, true);\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: activeObj } });\n        parent.objColl.pop();\n        parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n        parent.objColl.push(parent.activeObj);\n        // For reverse straightening\n        var straighten = parent.transform.straighten;\n        if (straighten !== 0) {\n            parent.transform.straighten = 0;\n            parent.straightenBaseImageCanvas();\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n        }\n        this.resetZoom();\n        var afterCropActions = extend([], parent.afterCropActions, [], true);\n        this.revertTransform('initial', coll);\n        // Perform straighten\n        if (straighten !== 0) {\n            parent.transform.straighten = (flipState === 'horizontal' || flipState === 'vertical') ? -straighten : straighten;\n            parent.straightenBaseImageCanvas();\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n            parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n        }\n        activeObj = extend({}, parent.objColl[parent.objColl.length - 1], {}, true);\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: activeObj } });\n        parent.objColl.pop();\n        parent.transform.degree = 0;\n        // Checking for selection inside image\n        var object = { isIntersect: null };\n        parent.notify('draw', { prop: 'updateImgCanvasPoints', onPropertyChange: false });\n        parent.notify('draw', { prop: 'isLinesIntersect', onPropertyChange: false, value: { obj: object } });\n        var count = 0;\n        while (straighten !== 0 && object['isIntersect']) {\n            count++;\n            if (count === 50) {\n                break;\n            }\n            parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                value: { zoomFactor: 0.025, zoomPoint: null }, isResize: null });\n            parent.notify('draw', { prop: 'updateImgCanvasPoints', onPropertyChange: false });\n            parent.notify('draw', { prop: 'isLinesIntersect', onPropertyChange: false, value: { obj: object } });\n        }\n        this.cropImg(true);\n        this.revertTransform('reverse', coll);\n        parent.afterCropActions = afterCropActions;\n        parent.currSelectionPoint = tempCurrSelObj;\n        parent.notify('transform', { prop: 'setPreventSelect', onPropertyChange: false, value: { bool: preventSelObj['bool'] } });\n        parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n        parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.upperContext } });\n        if (shape === 'crop-circle') {\n            this.cropCircle(this.lowerContext);\n        }\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.notify('draw', { prop: 'resetPanPoints', onPropertyChange: false });\n    };\n    Crop.prototype.revertTransform = function (type, coll) {\n        var parent = this.parent;\n        var obj = { isRotate: false };\n        if (type === 'initial') {\n            for (var i = coll.length - 1; i >= 0; i--) {\n                var value = coll[i];\n                switch (value) {\n                    case 90:\n                        parent.notify('transform', { prop: 'rotate', value: { degree: -90, obj: obj } });\n                        break;\n                    case -90:\n                        parent.notify('transform', { prop: 'rotate', value: { degree: 90, obj: obj } });\n                        break;\n                    default:\n                        parent.notify('transform', { prop: 'flipImage', value: { direction: parent.toPascalCase(value.toString()) } });\n                        break;\n                }\n            }\n        }\n        else {\n            this.updateFlipState();\n            for (var i = 0, len = coll.length; i < len; i++) {\n                var value = coll[i];\n                switch (value) {\n                    case 90:\n                        parent.notify('transform', { prop: 'rotate', value: { degree: 90, obj: obj } });\n                        break;\n                    case -90:\n                        parent.notify('transform', { prop: 'rotate', value: { degree: -90, obj: obj } });\n                        break;\n                    default:\n                        parent.notify('transform', { prop: 'flipImage', value: { direction: parent.toPascalCase(value.toString()) } });\n                        break;\n                }\n            }\n        }\n    };\n    Crop.prototype.updateFlipState = function () {\n        var parent = this.parent;\n        var objColl = parent.objColl;\n        for (var i = 0, len = objColl.length; i < len; i++) {\n            objColl[i].shapeFlip = '';\n        }\n        // eslint-disable-next-line\n        var pointColl = parent.pointColl;\n        for (var i = 0; i < parent.freehandCounter; i++) {\n            pointColl[i].shapeFlip = '';\n        }\n    };\n    Crop.prototype.resetZoom = function () {\n        var parent = this.parent;\n        if (parent.transform.zoomFactor > 0) {\n            var zoomFactor = parent.transform.zoomFactor;\n            var isUndoRedo = parent.isUndoRedo;\n            parent.setProperties({ zoomSettings: { zoomFactor: (zoomFactor * 10) } }, true);\n            parent.notify('transform', { prop: 'setPreviousZoomValue', onPropertyChange: false,\n                value: { previousZoomValue: parent.zoomSettings.zoomFactor } });\n            for (var i = 0; i < (zoomFactor * 10); i++) {\n                parent.isUndoRedo = true;\n                parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                    value: { zoomFactor: -0.1, zoomPoint: null }, isResize: null });\n            }\n            parent.isUndoRedo = isUndoRedo;\n            parent.notify('draw', { prop: 'resetPanPoints', onPropertyChange: false });\n        }\n    };\n    Crop.prototype.flipCrop = function () {\n        var parent = this.parent;\n        parent.notify('transform', { prop: 'setReverseFlip', onPropertyChange: false, value: { isReverseFlip: true } });\n        parent.panPoint.totalPannedPoint.x += this.tempFlipPanPoint.x;\n        parent.panPoint.totalPannedPoint.y += this.tempFlipPanPoint.y;\n        var tempCurrFlipState = parent.transform.currFlipState;\n        var obj = { flipColl: null };\n        parent.notify('transform', { prop: 'getFlipColl', onPropertyChange: false, value: { obj: obj } });\n        var tempFlipColl = obj['flipColl'];\n        parent.notify('transform', { prop: 'setFlipColl', onPropertyChange: false, value: { flipColl: [] } });\n        parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n        parent.objColl.push(parent.activeObj);\n        if (parent.transform.degree === 0) {\n            var panX = -parent.cropObj.totalPannedPoint.x;\n            var panY = -parent.cropObj.totalPannedPoint.y;\n            parent.img.destLeft += panX;\n            parent.img.destTop += panY;\n            parent.notify('transform', { prop: 'drawPannImage', value: { point: { x: panX, y: panY } } });\n            parent.activeObj = extend({}, parent.objColl[parent.objColl.length - 1], {}, true);\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj } });\n            parent.objColl.pop();\n            parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n            parent.objColl.push(parent.activeObj);\n        }\n        this.resetZoom();\n        parent.currSelectionPoint = extend({}, parent.objColl[parent.objColl.length - 1], {}, true);\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        var temp = this.lowerContext.filter;\n        parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n        this.updateFlipState();\n        parent.notify('shape', { prop: 'redrawObj', onPropertyChange: false, value: { degree: this.getCurrFlipState() } });\n        parent.notify('freehand-draw', { prop: 'flipFHDColl', onPropertyChange: false,\n            value: { value: this.getCurrFlipState() } });\n        parent.activeObj = extend({}, parent.objColl[parent.objColl.length - 1], {}, true);\n        parent.objColl.pop();\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n        this.cropImg(true);\n        parent.notify('transform', { prop: 'setReverseRotate', onPropertyChange: false, value: { bool: true } });\n        this.lowerContext.setTransform(1, 0, 0, 1, 0, 0);\n        parent.notify('draw', { prop: 'setDestPoints', onPropertyChange: false });\n        parent.notify('draw', { prop: 'currTransState', onPropertyChange: false,\n            value: { type: 'initial', isPreventDestination: null, context: null, isPreventCircleCrop: null } });\n        parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n        this.lowerContext.filter = temp;\n        parent.notify('draw', { prop: 'setRotateZoom', onPropertyChange: false, value: { isRotateZoom: false } });\n        parent.notify('draw', { prop: 'currTransState', onPropertyChange: false,\n            value: { type: 'reverse', isPreventDestination: null, context: null, isPreventCircleCrop: null } });\n        parent.transform.currFlipState = tempCurrFlipState;\n        parent.notify('transform', { prop: 'setFlipColl', onPropertyChange: false, value: { flipColl: tempFlipColl } });\n        this.lowerContext.filter = 'none';\n        this.updateFlipState();\n        parent.notify('shape', { prop: 'redrawObj', onPropertyChange: false, value: { degree: this.getCurrFlipState() } });\n        parent.notify('freehand-draw', { prop: 'flipFHDColl', onPropertyChange: false,\n            value: { value: this.getCurrFlipState() } });\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n        this.lowerContext.filter = temp;\n        if ((parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') || parent.isCircleCrop) {\n            this.cropCircle(this.lowerContext);\n        }\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n        parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.upperContext } });\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.notify('transform', { prop: 'setReverseFlip', onPropertyChange: false, value: { isReverseFlip: false } });\n        parent.notify('draw', { prop: 'resetPanPoints', onPropertyChange: false });\n        this.tempFlipPanPoint = { x: 0, y: 0 };\n    };\n    Crop.prototype.cropObjColl = function () {\n        var parent = this.parent;\n        var point;\n        var shape;\n        var obj;\n        if (parent.objColl.length > 0) {\n            for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                obj = parent.objColl[i];\n                point = obj.activePoint;\n                var _a = parent.activeObj.activePoint, startX = _a.startX, startY = _a.startY, width = _a.width, height = _a.height;\n                shape = obj.shape;\n                obj.imageRatio = { startX: ((point.startX - startX) / width),\n                    startY: ((point.startY - startY) / height),\n                    endX: ((point.endX - startX) / width), endY: ((point.endY - startY) / height),\n                    width: width / point.width, height: height / point.height };\n                var degree = void 0;\n                var size = void 0;\n                switch (shape) {\n                    case 'text':\n                        degree = (obj.shapeDegree === 0) ? parent.transform.degree : parent.transform.degree - obj.shapeDegree;\n                        size = (degree === 0 || Math.abs(degree) === 180) ? point.width : point.height;\n                        obj.textSettings.fontRatio = size / obj.textSettings.fontSize;\n                        break;\n                    case 'line':\n                    case 'arrow':\n                        this.cropPointCollection(i);\n                        if (shape === 'arrow') {\n                            parent.notify('shape', { prop: 'updateArrowRatio', onPropertyChange: false, value: { obj: obj } });\n                        }\n                        break;\n                    case 'path':\n                        this.cropPointCollection(i);\n                        break;\n                }\n            }\n        }\n    };\n    Crop.prototype.cropPointCollection = function (i) {\n        var parent = this.parent;\n        var shape = parent.objColl[i].shape;\n        var x;\n        var y;\n        var width;\n        var height;\n        var point = parent.activeObj.activePoint;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        if (shape === 'path') {\n            x = point.startX;\n            y = point.startY;\n            width = point.width;\n            height = point.height;\n        }\n        else {\n            x = destLeft;\n            y = destTop;\n            width = destWidth;\n            height = destHeight;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var pointColl = parent.objColl[i].pointColl;\n        for (var n = 0, len = pointColl.length; n < len; n++) {\n            pointColl[n].ratioX = (pointColl[n].x - x) / width;\n            pointColl[n].ratioY = (pointColl[n].y - y) / height;\n        }\n    };\n    Crop.prototype.cropFreehandDrawColl = function () {\n        var parent = this.parent;\n        var _a = parent.activeObj.activePoint, startX = _a.startX, startY = _a.startY, width = _a.width, height = _a.height;\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            parent.points = extend([], parent.pointColl[n].points, []);\n            parent.notify('freehand-draw', { prop: 'setPointCounter', onPropertyChange: false, value: { value: 0 } });\n            var len = parent.points.length;\n            for (var l = 0; l < len; l++) {\n                parent.points[l].ratioX = (parent.points[l].x - startX) / width;\n                parent.points[l].ratioY = (parent.points[l].y - startY) / height;\n            }\n        }\n        parent.notify('freehand-draw', { prop: 'updateCropPtsForSel', onPropertyChange: false });\n    };\n    Crop.prototype.resetAnnotations = function () {\n        var parent = this.parent;\n        parent.objColl = [];\n        parent.pointColl = [];\n        parent.freehandCounter = 0;\n        parent.notify('freehand-draw', { prop: 'resetStraightenPoint' });\n    };\n    Crop.prototype.setCurrSelPoints = function (isSetDimension) {\n        var parent = this.parent;\n        parent.allowDownScale = false;\n        var destPoint = this.cropDestPoints;\n        var filter = this.lowerContext.filter;\n        var isCropTab = parent.isCropTab;\n        parent.img = { srcLeft: 0, srcTop: 0, srcWidth: parent.baseImgCanvas.width, srcHeight: parent.baseImgCanvas.height,\n            destLeft: destPoint.startX, destTop: destPoint.startY, destWidth: destPoint.width, destHeight: destPoint.height };\n        var img = parent.img;\n        var currSelPoint = parent.currSelectionPoint;\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        if (isSetDimension) {\n            parent.notify('draw', { prop: 'setDestPoints', onPropertyChange: false });\n        }\n        parent.notify('draw', { prop: 'currTransState', onPropertyChange: false,\n            value: { type: 'initial', isPreventDestination: null, context: null, isPreventCircleCrop: null } });\n        if (this.croppedDegree === 0 && parent.transform.degree === 0 && currSelPoint\n            && currSelPoint.shape !== 'crop-circle' && currSelPoint.shape !== 'crop-square') {\n            img.destLeft = destPoint.startX;\n            img.destTop = destPoint.startY;\n            img.destWidth = destPoint.width;\n            img.destHeight = destPoint.height;\n        }\n        if (parent.transform.degree === 0) {\n            img.destLeft += parent.panPoint.totalPannedInternalPoint.x;\n            img.destTop += parent.panPoint.totalPannedInternalPoint.y;\n        }\n        parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n        this.lowerContext.filter = filter;\n        parent.notify('draw', { prop: 'currTransState', onPropertyChange: false,\n            value: { type: 'reverse', isPreventDestination: null, context: null, isPreventCircleCrop: true } });\n        var cropObjColl = extend([], parent.objColl, null, true);\n        var cropPointColl = extend([], parent.pointColl, null, true);\n        var straightenObj = { straightenPoint: null };\n        parent.notify('freehand-draw', { prop: 'getStraightenPoint', onPropertyChange: false,\n            value: { obj: straightenObj } });\n        this.resetAnnotations();\n        if (isNullOrUndefined(parent.activeObj.shape) && parent.cropObj.activeObj.shape) {\n            parent.activeObj = extend({}, parent.cropObj.activeObj, null, true);\n        }\n        this.panToSelRangle();\n        parent.isCropTab = isCropTab;\n        parent.objColl = cropObjColl;\n        parent.pointColl = cropPointColl;\n        parent.freehandCounter = parent.pointColl.length;\n        if (straightenObj['straightenPoint']['x'] && straightenObj['straightenPoint']['y']) {\n            parent.notify('freehand-draw', { prop: 'setStraightenPoint', onPropertyChange: false,\n                value: { x: straightenObj['straightenPoint']['x'], y: straightenObj['straightenPoint']['y'],\n                    ratioX: straightenObj['straightenPoint']['ratioX'], ratioY: straightenObj['straightenPoint']['ratioY'] } });\n        }\n        if (parent.cropObj.activeObj.shape) {\n            var destPoints = { startX: img.destLeft, startY: img.destTop, width: img.destWidth, height: img.destHeight };\n            if (currSelPoint && currSelPoint.activePoint) {\n                var _a = currSelPoint.activePoint, startX = _a.startX, startY = _a.startY, width = _a.width, height = _a.height;\n                img.destLeft = startX;\n                img.destTop = startY;\n                img.destWidth = width;\n                img.destHeight = height;\n            }\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n            img.destLeft = destPoints.startX;\n            img.destTop = destPoints.startY;\n            img.destWidth = destPoints.width;\n            img.destHeight = destPoints.height;\n            parent.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false });\n            cropObjColl = extend([], parent.objColl, null, true);\n            cropPointColl = extend([], parent.pointColl, null, true);\n            parent.notify('freehand-draw', { prop: 'getStraightenPoint', onPropertyChange: false, value: { obj: straightenObj } });\n            this.resetAnnotations();\n            var object = { selPointColl: null };\n            parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false, value: { obj: object } });\n            var cropSelPointColl = object['selPointColl'];\n            parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false, value: { obj: { selPointColl: [] } } });\n            parent.cropObj.filter = this.lowerContext.filter;\n            var actObj = extend({}, parent.currSelectionPoint, null, true);\n            parent.notify('draw', { prop: 'setCurrentObj', onPropertyChange: false, value: { obj: null } });\n            parent.activeObj = extend({}, actObj, null, true);\n            var activeObj = extend({}, parent.activeObj, null, true);\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            parent.currSelectionPoint = null;\n            parent.isCircleCrop = false;\n            if (parent.transform.degree !== 0) {\n                if (isNullOrUndefined(parent.activeObj.shape) && parent.cropObj.activeObj.shape) {\n                    parent.activeObj = extend({}, parent.cropObj.activeObj, null, true);\n                }\n                parent.notify('transform', { prop: 'drawPannedImage', value: { xDiff: 0, yDiff: 0 } });\n                parent.panPoint.currentPannedPoint = { x: 0, y: 0 };\n            }\n            parent.objColl = cropObjColl;\n            parent.pointColl = cropPointColl;\n            parent.freehandCounter = parent.pointColl.length;\n            if (straightenObj['straightenPoint']['x'] && straightenObj['straightenPoint']['y']) {\n                parent.notify('freehand-draw', { prop: 'setStraightenPoint', onPropertyChange: false,\n                    value: { x: straightenObj['straightenPoint']['x'], y: straightenObj['straightenPoint']['y'],\n                        ratioX: straightenObj['straightenPoint']['ratioX'], ratioY: straightenObj['straightenPoint']['ratioY'] } });\n            }\n            parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n                value: { obj: { selPointColl: cropSelPointColl } } });\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'iterate', pen: 'iterate', isPreventApply: null } });\n            this.adjustStraightenForShapes('reverse', false);\n            parent.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false, value: { isPreventApply: true } });\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n            if (parent.transform.degree === 0) {\n                parent.notify('transform', { prop: 'drawPannImage', onPropertyChange: false,\n                    value: { point: { x: 0, y: 0 } } });\n            }\n            else {\n                if (isNullOrUndefined(parent.activeObj.shape) && parent.cropObj.activeObj.shape) {\n                    parent.activeObj = extend({}, parent.cropObj.activeObj, null, true);\n                }\n                parent.notify('transform', { prop: 'drawPannedImage', value: { xDiff: 0, yDiff: 0 } });\n                parent.panPoint.currentPannedPoint = { x: 0, y: 0 };\n            }\n            parent.activeObj = activeObj;\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n            parent.notify('transform', { prop: 'setTempPanMove', onPropertyChange: false,\n                value: { point: null } });\n            if (!this.isInitCrop && parent.transform.degree === 0 && parent.cropObj.currFlipState !== '' &&\n                parent.cropObj.cropZoom !== 0) {\n                this.isInitCrop = true;\n                var obj = { activeObj: null };\n                parent.notify('draw', { prop: 'getStraightenActObj', onPropertyChange: false, value: { obj: obj } });\n                parent.notify('draw', { prop: 'performCancel', value: { isContextualToolbar: null } });\n                parent.notify('draw', { prop: 'setStraightenActObj', onPropertyChange: false, value: { activeObj: obj['activeObj'] } });\n                parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'croptransform',\n                        isApplyBtn: false, isCropping: null, isZooming: null, cType: null } });\n            }\n            else {\n                this.isInitCrop = false;\n            }\n        }\n        else {\n            this.adjustStraightenForShapes('reverse', true);\n            parent.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false, value: { isPreventApply: true } });\n            var temp = this.lowerContext.filter;\n            this.lowerContext.filter = 'none';\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'iterate', pen: 'iterate', isPreventApply: null } });\n            this.lowerContext.filter = temp;\n            parent.currSelectionPoint = null;\n        }\n        if (document.querySelector('.e-ie-straighten-value-span')) {\n            document.querySelector('.e-ie-straighten-value-span').innerHTML = parent.transform.straighten.toString() + '&#176';\n        }\n    };\n    Crop.prototype.panToSelRangle = function (isReverse) {\n        var parent = this.parent;\n        var pannedPoint = parent.cropObj.totalPannedClientPoint;\n        var panX = parent.transform.degree !== 0 ? isReverse ? -pannedPoint.x : pannedPoint.x : 0;\n        var panY = parent.transform.degree !== 0 ? isReverse ? -pannedPoint.y : pannedPoint.y : 0;\n        if (parent.transform.degree !== 0) {\n            parent.panPoint.currentPannedPoint = { x: panX, y: panY };\n            parent.notify('transform', { prop: 'drawPannedImage', value: { xDiff: panX, yDiff: panY } });\n            parent.panPoint.currentPannedPoint = { x: 0, y: 0 };\n        }\n    };\n    Crop.prototype.cropCircle = function (context, isSave, isFlip) {\n        var parent = this.parent;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        if (isFlip && parent.transform.currFlipState !== '') {\n            parent.notify('draw', { prop: 'setTransform', onPropertyChange: false,\n                value: { context: context, value: parent.transform.currFlipState, isReverse: null } });\n        }\n        var temp = context.filter;\n        context.filter = 'none';\n        context.globalCompositeOperation = 'destination-in';\n        context.beginPath();\n        var centerX = isNullOrUndefined(isSave) ? destLeft + (destWidth / 2) : context.canvas.width / 2;\n        var centerY = isNullOrUndefined(isSave) ? destTop + (destHeight / 2) : context.canvas.height / 2;\n        var radius = isSave ? context.canvas.width / 2 : destWidth / 2;\n        context.arc(centerX, centerY, radius, 0, Math.PI * 2);\n        context.closePath();\n        context.fill();\n        context.restore();\n        context.globalCompositeOperation = 'source-over';\n        parent.currObjType.isActiveObj = parent.isCircleCrop = true;\n        context.filter = temp;\n        if (isFlip && parent.transform.currFlipState !== '') {\n            parent.notify('draw', { prop: 'setTransform', onPropertyChange: false,\n                value: { context: context, value: parent.transform.currFlipState, isReverse: null } });\n        }\n    };\n    Crop.prototype.getCurrCropState = function () {\n        var parent = this.parent;\n        var flipState = '';\n        var obj = { flipColl: null };\n        parent.notify('transform', { prop: 'getFlipColl', onPropertyChange: false, value: { obj: obj } });\n        flipState = this.getCurrFlipState();\n        if (parent.transform.degree === -90 || parent.transform.degree === -270) {\n            if (flipState === 'horizontal') {\n                flipState = 'vertical';\n            }\n            else if (flipState === 'vertical') {\n                flipState = 'horizontal';\n            }\n        }\n        if (flipState === '') {\n            flipState = obj['flipColl'].length > 1 ? this.getCurrFlipState() : parent.transform.currFlipState;\n        }\n        return flipState;\n    };\n    Crop.prototype.updateRotatePan = function () {\n        var parent = this.parent;\n        if (isNullOrUndefined(parent.panPoint.currentPannedPoint)) {\n            return;\n        }\n        var panRegion = '';\n        var degree = parent.transform.degree;\n        var _a = parent.panPoint.currentPannedPoint, x = _a.x, y = _a.y;\n        if (parent.rotateFlipColl.length > 0 && typeof (parent.rotateFlipColl[0]) === 'number'\n            && degree < 0) {\n            panRegion = this.getCurrCropState();\n        }\n        else {\n            panRegion = this.getCurrFlipState();\n        }\n        if (degree % 90 === 0 && degree % 180 !== 0) {\n            if (degree === 90 || (degree === -90 && (panRegion === 'horizontal' || panRegion === 'vertical'))\n                || (degree === -270 && (panRegion === '' || panRegion === 'verticalHorizontal'\n                    || panRegion === 'horizontalVertical'))) {\n                if (panRegion === 'horizontal' || panRegion === '') {\n                    parent.img.destLeft += y;\n                }\n                else {\n                    parent.img.destLeft -= y;\n                }\n                if (panRegion === '' || panRegion === 'vertical') {\n                    parent.img.destTop -= x;\n                }\n                else {\n                    parent.img.destTop += x;\n                }\n            }\n            else if (degree === 270 || (degree === -270 && (panRegion === 'horizontal' || panRegion === 'vertical'))\n                || (degree === -90 && (panRegion === '' || panRegion === 'verticalHorizontal'\n                    || panRegion === 'horizontalVertical'))) {\n                if (panRegion === '' || panRegion === 'horizontal') {\n                    parent.img.destLeft -= y;\n                }\n                else {\n                    parent.img.destLeft += y;\n                }\n                if (panRegion === '' || panRegion === 'vertical') {\n                    parent.img.destTop += x;\n                }\n                else {\n                    parent.img.destTop -= x;\n                }\n            }\n        }\n        else {\n            if (degree === 180 || degree === -180) {\n                if (panRegion === '' || panRegion === 'vertical') {\n                    parent.img.destLeft -= x;\n                }\n                else {\n                    parent.img.destLeft += x;\n                }\n                if (panRegion === '' || panRegion === 'horizontal') {\n                    parent.img.destTop -= y;\n                }\n                else {\n                    parent.img.destTop += y;\n                }\n            }\n        }\n    };\n    Crop.prototype.crop = function (obj) {\n        var parent = this.parent;\n        var _a = parent.activeObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        if (!parent.disabled && parent.isImageLoaded) {\n            var object = { isCropToolbar: parent.isCropToolbar };\n            if (parent.currObjType.isUndoAction && !object['isCropToolbar']) {\n                parent.notify('undo-redo', { prop: 'refreshUrc', value: { bool: null } });\n            }\n            var transitionArgs = { cancel: false, startPoint: { x: startX, y: startY },\n                endPoint: { x: endX, y: endY }, preventScaling: false };\n            if (!object['isCropToolbar']) {\n                parent.trigger('cropping', transitionArgs);\n                parent.editCompleteArgs = transitionArgs;\n            }\n            this.cropEvent(transitionArgs, obj, object);\n        }\n    };\n    Crop.prototype.cropEvent = function (transitionArgs, obj, object) {\n        var parent = this.parent;\n        var splitWords;\n        if (!transitionArgs.cancel) {\n            splitWords = parent.activeObj.shape ? parent.activeObj.shape.split('-') : [];\n            if (!parent.disabled && parent.activeObj.horTopLine && (parent.currObjType.isCustomCrop || (splitWords.length > 0 &&\n                splitWords[0] === 'crop'))) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                obj.isCrop = true;\n                var prevCropObj = extend({}, parent.cropObj, {}, true);\n                var prevObj = extend({}, this.prevCropCurrObj, {}, true);\n                if (transitionArgs.preventScaling) {\n                    this.isPreventScaling = true;\n                }\n                else {\n                    this.isPreventScaling = false;\n                }\n                this.cropImg();\n                if (this.isPreventScaling) {\n                    parent.aspectWidth = parent.img.destWidth;\n                    parent.aspectHeight = parent.img.destHeight;\n                }\n                parent.notify('freehand-draw', { prop: 'resetStraightenPoint' });\n                parent.isCropTab = false;\n                parent.transform.zoomFactor = 0;\n                parent.setProperties({ zoomSettings: { zoomFactor: 1 } }, true);\n                parent.notify('transform', { prop: 'setPreviousZoomValue', onPropertyChange: false,\n                    value: { previousZoomValue: parent.zoomSettings.zoomFactor } });\n                if (!Browser.isDevice) {\n                    this.updateUndoRedoColl(prevObj, prevCropObj, object);\n                }\n                parent.notify('transform', { prop: 'setCropDimension', onPropertyChange: false,\n                    value: { width: parent.cropObj.destPoints.width, height: parent.cropObj.destPoints.height } });\n                var aspectIcon = parent.element.querySelector('#' + parent.element.id + '_aspectratio');\n                var nonAspectIcon = parent.element.querySelector('#' + parent.element.id + '_nonaspectratio');\n                parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n                if (!object['isCropToolbar'] && (isNullOrUndefined(aspectIcon) && isNullOrUndefined(nonAspectIcon))) {\n                    parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                            isApplyBtn: false, isCropping: false, isZooming: null, cType: null } });\n                }\n                this.resizeWrapper();\n                if (Browser.isDevice) {\n                    this.updateUndoRedoColl(prevObj, prevCropObj, object);\n                }\n            }\n        }\n    };\n    Crop.prototype.updateUndoRedoColl = function (prevObj, prevCropObj, object) {\n        var parent = this.parent;\n        var currSelPtObj = { prevCurrSelectionPoint: parent.prevCurrSelectionPoint };\n        prevObj.currSelectionPoint = extend({}, currSelPtObj['prevCurrSelectionPoint'], {}, true);\n        parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n            value: { operation: 'crop', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                previousCropObj: prevCropObj, previousText: null,\n                currentText: null, previousFilter: null, isCircleCrop: parent.isCircleCrop } });\n        if (!object['isCropToolbar']) {\n            parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n        }\n    };\n    Crop.prototype.resizeWrapper = function () {\n        var parent = this.parent;\n        if (Browser.isDevice) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var elem = parent.element;\n            var ctxToolbar = elem.querySelector('#' + elem.id + '_contextualToolbarArea');\n            if (ctxToolbar && ctxToolbar.style.position === '' && !this.isTransformCrop) {\n                ctxToolbar.style.position = 'absolute';\n                parent.isStraightening = false;\n                parent.update();\n                parent.notify('filter', { prop: 'setAdjustmentValue', value: { adjustmentValue: parent.canvasFilter } });\n            }\n        }\n    };\n    Crop.prototype.calcRatio = function (obj, dimension) {\n        var parent = this.parent;\n        var degree = parent.transform.degree;\n        var _a = parent.img, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        var _b = dimension || parent.baseImgCanvas, width = _b.width, height = _b.height;\n        var widthRatio = (degree === 0 || degree % 180 === 0) ? width / destWidth : height / destWidth;\n        var heightRatio = (degree === 0 || degree % 180 === 0) ? height / destHeight : width / destHeight;\n        if (obj) {\n            obj['width'] = widthRatio;\n            obj['height'] = heightRatio;\n        }\n        return { width: widthRatio, height: heightRatio };\n    };\n    Crop.prototype.getCurrFlipState = function (panObj) {\n        var parent = this.parent;\n        var obj = { panRegion: '' };\n        var object = { collection: parent.rotateFlipColl };\n        parent.notify('shape', { prop: 'alignRotateFlipColl', onPropertyChange: false,\n            value: { collection: parent.rotateFlipColl, isRotateFlipCollection: true, obj: object } });\n        parent.rotateFlipColl = object['collection'];\n        for (var i = 0, len = parent.rotateFlipColl.length; i < len; i++) {\n            parent.notify('transform', { prop: 'setCurrPanRegion', onPropertyChange: false,\n                value: { region: obj['panRegion'], type: parent.rotateFlipColl[i], obj: obj } });\n        }\n        if (panObj) {\n            panObj['panRegion'] = obj['panRegion'];\n        }\n        return obj['panRegion'];\n    };\n    return Crop;\n}());\nexport { Crop };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/* eslint-disable no-constant-condition */\n/* eslint-disable radix */\nimport { extend, isNullOrUndefined, Browser, getComponent } from '@syncfusion/ej2-base';\nimport { Dialog, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nvar Draw = /** @class */ (function () {\n    function Draw(parent) {\n        this.isInitialLoading = false; // Specifies whether image is loaded for the first time or not (for applying initial filter)\n        this.fileName = '';\n        this.isErrorImage = false;\n        this.isShapeTextInserted = false;\n        this.isRotateZoom = false; // To restore zoomed image on selection crop selection\n        this.tempStrokeSettings = { strokeColor: '#fff', fillColor: '', strokeWidth: null, outlineColor: '', radius: null, outlineWidth: null }; // restore stroke settings on cancel\n        this.tempTextSettings = { text: 'Enter Text', fontFamily: '', fontSize: null, fontRatio: null, bold: false, italic: false, underline: false }; // restore text settings on cancel\n        this.tempAdjValue = ''; // for temp internal slider value\n        this.tempFilter = ''; // restore filter style on cancel\n        this.tempUndoRedoStep = 0;\n        this.tempFreehandCounter = 0;\n        this.tempCurrFhdIndex = 0;\n        this.tempZoomFactor = null; // Restore zoom factor on cancel\n        this.isCancelAction = false;\n        this.rotatedFlipCropSel = false;\n        this.zoomCrop = { width: 0, height: 0 };\n        this.isImageEdited = false;\n        this.isFileChanged = false;\n        this.isNewPath = false;\n        this.isResizeSelect = false;\n        this.arrowDimension = { bar: { width: 10, height: 32, ratioX: null, ratioY: null },\n            arrow: { width: 24, height: 24, ratioX: null, ratioY: null }, arrowSolid: { width: 32, height: 32, ratioX: null, ratioY: null },\n            circle: { width: 10, height: 10, ratioX: null, ratioY: null }, square: { width: 20, height: 20, ratioX: null, ratioY: null } };\n        this.origDim = { width: 0, height: 0 };\n        this.isImageApply = false;\n        this.imgCanvasPoints = [];\n        this.isCropSelect = false;\n        this.isDownScale = false;\n        this.preventStraightening = false;\n        this.tempObjColl = [];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.tempPointColl = {};\n        this.imageBackgroundColor = '';\n        this.allowRedactStraighten = true;\n        this.isNullExtension = true;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Draw.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n    };\n    Draw.prototype.addEventListener = function () {\n        this.parent.on('draw', this.draw, this);\n        this.parent.on('destroyed', this.destroy, this);\n    };\n    Draw.prototype.removeEventListener = function () {\n        this.parent.off('draw', this.draw);\n        this.parent.off('destroyed', this.destroy);\n    };\n    Draw.prototype.draw = function (args) {\n        this.updatePrivateVariables();\n        switch (args.prop) {\n            case 'drawObject':\n                this.drawObject(args.value['canvas'], args.value['obj'], args.value['isCropRatio'], args.value['points'], args.value['isPreventDrag'], args.value['saveContext'], args.value['isPreventSelection']);\n                break;\n            case 'updateActiveObject':\n                this.updateActiveObject(args.value['actPoint'], args.value['obj'], args.value['isMouseMove'], args.value['x'], args.value['y']);\n                break;\n            case 'clearOuterCanvas':\n                this.clearOuterCanvas(args.value['context']);\n                break;\n            case 'setDestPoints':\n                this.setDestPoints();\n                break;\n            case 'updateCurrTransState':\n                this.updateCurrTransState(args.value['type'], args.value['isPreventDestination'], args.value['isRotatePan']);\n                break;\n            case 'currTransState':\n                this.currTransState(args.value['type'], args.value['isPreventDestination'], args.value['context'], args.value['isPreventCircleCrop']);\n                break;\n            case 'setTransform':\n                this.setTransform(args.value['context'], args.value['value'], args.value['isReverse']);\n                break;\n            case 'render-image':\n                this.renderImage(args.value['isMouseWheel'], args.value['isPreventClearRect'], args.value['isFrame'], args.value['isStraighten']);\n                break;\n            case 'draw-image-to-canvas':\n                this.drawImgToCanvas(args.value['dimension']);\n                break;\n            case 'update-canvas':\n                this.updateCanvas();\n                break;\n            case 'performCancel':\n                this.performCancel(args.value['isContextualToolbar'], args.value['isUndoRedo'], args.value['isFinalCancel']);\n                break;\n            case 'updateFlipPan':\n                this.updateFlipPan(args.value['tempSelectionObj']);\n                break;\n            case 'select':\n                this.select(args.value['type'], args.value['startX'], args.value['startY'], args.value['width'], args.value['height']);\n                break;\n            case 'callUpdateCurrTransState':\n                this.callUpdateCurrTransState();\n                break;\n            case 'resetPanPoints':\n                this.resetPanPoints();\n                break;\n            case 'setClientTransDim':\n                this.setClientTransDim(args.value['isPreventDimension']);\n                break;\n            case 'redrawImgWithObj':\n                this.redrawImgWithObj();\n                break;\n            case 'setCurrentObj':\n                this.setCurrentObj(args.value['obj'], args.value['isUndoRedo'], args.value['isCircleCrop']);\n                break;\n            case 'performPointZoom':\n                this.performPointZoom(args.value['x'], args.value['y'], args.value['type'], args.value['isResize']);\n                break;\n            case 'open':\n                this.open(args.value['data']);\n                break;\n            case 'isInitialLoading':\n                this.isInitialLoading = args.value['isInitialLoading'];\n                break;\n            case 'isInitialLoaded':\n                this.getInitialLoaded(args.value['object']);\n                break;\n            case 'fileSelect':\n                this.fileSelect(args.value['inputElement'], args.value['args']);\n                break;\n            case 'getFileName':\n                args.value['obj']['fileName'] = this.fileName;\n                args.value['obj']['fileType'] = this.fileType;\n                break;\n            case 'getErrorImage':\n                args.value['obj']['isErrorImage'] = this.isErrorImage;\n                break;\n            case 'getInitialZoomValue':\n                args.value['obj']['initialZoomValue'] = this.initZoomValue;\n                break;\n            case 'setShapeTextInsert':\n                this.isShapeTextInserted = args.value['bool'];\n                break;\n            case 'resetCurrentSelectionPoint':\n                this.currSelPoint = null;\n                break;\n            case 'setRotateZoom':\n                this.isRotateZoom = args.value['isRotateZoom'];\n                break;\n            case 'setTempStrokeSettings':\n                this.tempStrokeSettings = args.value['tempStrokeSettings'];\n                break;\n            case 'setTempTextSettings':\n                this.tempTextSettings = args.value['tempTextSettings'];\n                break;\n            case 'setTempAdjustmentValue':\n                this.tempAdjValue = args.value['tempAdjustmentValue'];\n                break;\n            case 'getTempAdjustmentValue':\n                args.value['obj']['value'] = this.tempAdjValue;\n                break;\n            case 'setTempFilter':\n                this.tempFilter = args.value['tempFilter'];\n                break;\n            case 'setTempUndoRedoStep':\n                this.tempUndoRedoStep = args.value['tempUndoRedoStep'];\n                break;\n            case 'setTempFreehandCounter':\n                this.tempFreehandCounter = args.value['tempFreehandCounter'];\n                break;\n            case 'setTempCurrentFreehandDrawIndex':\n                this.tempCurrFhdIndex = args.value['tempCurrentFreehandDrawIndex'];\n                break;\n            case 'setTempZoomFactor':\n                this.tempZoomFactor = args.value['tempZoomFactor'];\n                break;\n            case 'setCancelAction':\n                this.isCancelAction = args.value['bool'];\n                break;\n            case 'getRotatedFlipCropSelection':\n                args.value['bool']['isSelected'] = this.rotatedFlipCropSel;\n                break;\n            case 'getPrevActObj':\n                args.value['obj']['prevActObj'] = this.prevActObj;\n                break;\n            case 'setPrevActObj':\n                this.prevActObj = args.value['prevActObj'];\n                break;\n            case 'setZoomCropWidth':\n                this.zoomCrop.width = args.value['width'];\n                this.zoomCrop.height = args.value['height'];\n                break;\n            case 'setImageEdited':\n                this.isImageEdited = true;\n                break;\n            case 'reset':\n                this.reset();\n                break;\n            case 'setNewPath':\n                this.isNewPath = args.value['bool'];\n                break;\n            case 'getNewPath':\n                args.value['obj']['isNewPath'] = this.isNewPath;\n                break;\n            case 'getArrowDimension':\n                args.value['obj']['arrowDimension'] = extend({}, this.arrowDimension, {}, true);\n                break;\n            case 'setArrowDimension':\n                this.arrowDimension = args.value['arrowDimension'];\n                break;\n            case 'moveToSelectionRange':\n                this.moveToSelectionRange(args.value['type'], args.value['activeObj']);\n                break;\n            case 'setResizeSelect':\n                this.isResizeSelect = args.value['bool'];\n                break;\n            case 'applyFrame':\n                this.applyFrame(args.value['ctx'], args.value['frame'], args.value['preventImg']);\n                break;\n            case 'drawImage':\n                this.drawImage();\n                break;\n            case 'downScaleImgCanvas':\n                this.downScaleImgCanvas(args.value['ctx'], args.value['isImgAnnotation'], args.value['isHFlip'], args.value['isVFlip']);\n                break;\n            case 'downScale':\n                this.downScale(args.value['canvas'], args.value['width'], args.value['height']);\n                break;\n            case 'resetFrameZoom':\n                this.resetFrameZoom(args.value['isOk']);\n                break;\n            case 'triggerFrameChange':\n                args.value['obj']['frameChangeEventArgs'] = this.triggerFrameChange(args.value['prevFrameSettings']);\n                break;\n            case 'setImageApply':\n                this.isImageApply = args.value['bool'];\n                break;\n            case 'zoomToSel':\n                this.zoomToSel(args.value['activeObj'], args.value['isToolbar']);\n                break;\n            case 'getStraightenActObj':\n                args.value['obj']['activeObj'] = this.straightenActObj;\n                break;\n            case 'setStraightenActObj':\n                this.straightenActObj = args.value['activeObj'];\n                break;\n            case 'updateImgCanvasPoints':\n                this.updateImgCanvasPoints();\n                break;\n            case 'isLinesIntersect':\n                args.value['obj']['isIntersect'] = this.isLinesIntersect(args.value['obj']);\n                break;\n            case 'getImageCanvasPoints':\n                args.value['obj']['points'] = this.imgCanvasPoints;\n                break;\n            case 'setDestForStraighten':\n                this.setDestForStraighten();\n                break;\n            case 'setTempDestForStraighten':\n                this.tempStraightenDestPoints = extend({}, this.straightenDestPoints, {}, true);\n                break;\n            case 'getStraightenInitZoom':\n                args.value['obj']['zoomFactor'] = this.straightenInitZoom;\n                break;\n            case 'setStraightenInitZoom':\n                this.straightenInitZoom = args.value['zoomFactor'];\n                break;\n            case 'isPointsInsideImg':\n                args.value['obj']['bool'] = this.checkPointPosition(args.value['x'], args.value['y'], this.imgCanvasPoints[0].x, this.imgCanvasPoints[0].y, this.imgCanvasPoints[1].x, this.imgCanvasPoints[1].y, this.imgCanvasPoints[2].x, this.imgCanvasPoints[2].y, this.imgCanvasPoints[3].x, this.imgCanvasPoints[3].y) !== 'inside';\n                break;\n            case 'setIsCropSelect':\n                this.isCropSelect = args.value['bool'];\n                break;\n            case 'updateCropSelection':\n                this.updateCropSelection();\n                break;\n            case 'updateCropSelObj':\n                this.updateCropSelObj();\n                break;\n            case 'redrawDownScale':\n                this.redrawDownScale();\n                break;\n            case 'updateFinetune':\n                this.updateFinetune();\n                break;\n            case 'isSelOutsideImg':\n                args.value['obj']['bool'] = this.isSelOutsideImg();\n                break;\n            case 'resetStraightenDestPoints':\n                this.straightenDestPoints = null;\n                break;\n            case 'checkPointPosition':\n                args.value['obj']['position'] = this.checkPointPosition(args.value['obj']['x'], args.value['obj']['y'], args.value['obj']['x1'], args.value['obj']['y1'], args.value['obj']['x2'], args.value['obj']['y2'], args.value['obj']['x3'], args.value['obj']['y3'], args.value['obj']['x4'], args.value['obj']['y4']);\n                break;\n            case 'updateTempObjColl':\n                this.tempObjColl = extend([], this.parent.objColl, [], true);\n                break;\n            case 'resetTempObjColl':\n                this.tempObjColl = null;\n                break;\n            case 'updateTempPointColl':\n                this.tempPointColl = extend({}, this.parent.pointColl, {}, true);\n                break;\n            case 'resetTempPointColl':\n                this.tempPointColl = {};\n                break;\n            case 'showDialogPopup':\n                this.showDialogPopup();\n                break;\n            case 'imageBackgroundColor':\n                this.imageBackgroundColor = args.value['color'];\n                break;\n            case 'getImageBackgroundColor':\n                args.value['obj']['color'] = this.imageBackgroundColor;\n                break;\n            case 'setTempStrokeWidth':\n                this.tempStrokeWidth = args.value['strokeWidth'];\n                break;\n            case 'setNullExtension':\n                this.isNullExtension = args.value['extension'];\n                break;\n        }\n    };\n    Draw.prototype.getModuleName = function () {\n        return 'draw';\n    };\n    Draw.prototype.updatePrivateVariables = function () {\n        var parent = this.parent;\n        if (parent.lowerCanvas) {\n            this.lowerContext = parent.lowerCanvas.getContext('2d');\n        }\n        if (parent.upperCanvas) {\n            this.upperContext = parent.upperCanvas.getContext('2d');\n        }\n        if (isNullOrUndefined(this.tempZoomFactor)) {\n            this.tempZoomFactor = parent.transform.zoomFactor;\n        }\n        if (this.tempTextSettings.fontFamily === '') {\n            this.tempTextSettings.fontFamily = parent.fontFamily.default;\n        }\n    };\n    Draw.prototype.reset = function () {\n        this.isInitialLoading = this.isErrorImage = this.isNewPath = this.isResizeSelect = false;\n        this.isShapeTextInserted = false;\n        this.isImageApply = false;\n        this.isNullExtension = true;\n        this.initZoomValue = null;\n        this.tempFilter = '';\n        this.origDim = { width: 0, height: 0 };\n        this.currSelPoint = null;\n        this.isRotateZoom = false;\n        this.tempAdjValue = '';\n        this.tempStrokeSettings = { strokeColor: '#fff', fillColor: '', strokeWidth: null, radius: null, outlineColor: '', outlineWidth: null };\n        this.tempTextSettings =\n            { text: 'Enter Text', fontFamily: this.parent.fontFamily.default, fontSize: null, fontRatio: null, bold: false, italic: false, underline: false };\n        this.tempUndoRedoStep = this.tempFreehandCounter = this.tempCurrFhdIndex = 0;\n        this.tempZoomFactor = null;\n        this.isCancelAction = false;\n        this.rotatedFlipCropSel = false;\n        this.prevActObj = null;\n        this.tempStraightenDestPoints = null;\n        this.arrowDimension = { bar: { width: 10, height: 32, ratioX: null, ratioY: null },\n            arrow: { width: 24, height: 24, ratioX: null, ratioY: null }, arrowSolid: { width: 32, height: 32, ratioX: null, ratioY: null },\n            circle: { width: 10, height: 10, ratioX: null, ratioY: null }, square: { width: 20, height: 20, ratioX: null, ratioY: null } };\n        this.straightenActObj = null;\n        this.imgCanvasPoints = [];\n        this.straightenInitZoom = null;\n        this.allowRedactStraighten = true;\n        this.tempObjColl = [];\n        this.tempPointColl = {};\n        this.imageBackgroundColor = '';\n        this.tempStrokeWidth = null;\n        this.straightenDestPoints = null;\n        this.isCropSelect = this.isDownScale = this.preventStraightening = false;\n    };\n    Draw.prototype.redrawDownScale = function () {\n        var parent = this.parent;\n        if (parent.transform.zoomFactor && parent.transform.zoomFactor < 0) {\n            var activeObj = extend({}, parent.activeObj, {}, true);\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            this.isDownScale = true;\n            this.renderImage();\n            this.isDownScale = false;\n            if (activeObj.shape) {\n                this.drawObject('duplicate', activeObj);\n            }\n        }\n    };\n    Draw.prototype.updateFinetune = function () {\n        var parent = this.parent;\n        if (parent.transform.zoomFactor && parent.transform.zoomFactor < 0) {\n            var filter = this.lowerContext.filter;\n            this.lowerContext.filter = 'none';\n            parent.notify('draw', { prop: 'redrawDownScale' });\n            var inMemoryContext = parent.inMemoryCanvas.getContext('2d');\n            var ctx = this.lowerContext;\n            var imageData = ctx.getImageData(0, 0, ctx.canvas.width, ctx.canvas.height);\n            parent.inMemoryCanvas.width = imageData.width;\n            parent.inMemoryCanvas.height = imageData.height;\n            inMemoryContext.putImageData(imageData, 0, 0);\n            this.lowerContext.filter = filter;\n            parent.notify('draw', { prop: 'redrawDownScale' });\n        }\n    };\n    Draw.prototype.drawImage = function () {\n        this.applyFrame(this.lowerContext, this.parent.frameObj.type);\n    };\n    Draw.prototype.drawObject = function (canvas, obj, isCropRatio, points, isPreventDrag, saveContext, isPreventSelection) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var actPoint = parent.activeObj.activePoint;\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        var canvasDraw;\n        canvas = canvas.toLowerCase();\n        if (canvas === 'original') {\n            canvasDraw = this.lowerContext;\n        }\n        else if (canvas === 'duplicate') {\n            canvasDraw = this.upperContext;\n        }\n        else if (saveContext) {\n            canvasDraw = saveContext;\n        }\n        if (!isPreventDrag && actObj.shape) {\n            this.setDragLimit();\n        }\n        if (parent.currObjType.shape) {\n            var splitWords = parent.currObjType.shape.split('-');\n            if (splitWords[0].toLowerCase() === 'crop' && isCropRatio) {\n                this.drawCropRatio();\n            }\n        }\n        actObj = parent.activeObj;\n        actPoint = parent.activeObj.activePoint;\n        if (isNullOrUndefined(actObj.strokeSettings)) {\n            var obj_1 = { strokeSettings: {} };\n            parent.notify('shape', { prop: 'getStrokeSettings', onPropertyChange: false, value: { obj: obj_1 } });\n            actObj.strokeSettings = obj_1['strokeSettings'];\n        }\n        if (isNullOrUndefined(actObj.strokeSettings.strokeWidth)) {\n            actObj.strokeSettings.strokeWidth = 2;\n        }\n        if (obj) {\n            parent.activeObj = extend({}, obj, {}, true);\n        }\n        if (points && points.startX && points.startY && points.endX && points.endY && points.width && points.height) {\n            actPoint.startX = points.startX;\n            actPoint.startY = points.startY;\n            actPoint.endX = points.endX;\n            actPoint.endY = points.endY;\n            actPoint.width = points.width;\n            actPoint.height = points.height;\n        }\n        this.updateActiveObject();\n        actObj = parent.activeObj;\n        actPoint = parent.activeObj.activePoint;\n        if (isNullOrUndefined(actPoint.startX) && isNullOrUndefined(actPoint.startY)) {\n            return;\n        }\n        if (parent.currObjType.isText) {\n            var obj_2 = { keyHistory: '' };\n            parent.notify('shape', { prop: 'getKeyHistory', onPropertyChange: false, value: { obj: obj_2 } });\n            actObj.keyHistory = obj_2['keyHistory'];\n        }\n        var isCrop = false;\n        if (canvas !== 'original') {\n            var splitWords = void 0;\n            if (actObj.shape) {\n                splitWords = actObj.shape.split('-');\n                if (splitWords[0] === 'crop') {\n                    isCrop = true;\n                }\n            }\n            if (isCrop) {\n                if (points && points.startX && points.startY && points.endX && points.endY && points.width && points.height) {\n                    actPoint.startX = points.startX;\n                    actPoint.startY = points.startY;\n                    actPoint.endX = points.endX;\n                    actPoint.endY = points.endY;\n                    actPoint.width = points.width;\n                    actPoint.height = points.height;\n                }\n                else {\n                    actPoint = actObj.activePoint;\n                }\n                this.upperContext.fillStyle = 'rgb(0, 0, 0, 0.25)';\n                this.upperContext.fillRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n                this.upperContext.clearRect(actPoint.startX, actPoint.startY, actPoint.width, actPoint.height);\n            }\n            if (isNullOrUndefined(isPreventSelection) && (canvasDraw === this.lowerContext || canvasDraw === this.upperContext)) {\n                this.rotateContext('initial', canvasDraw);\n                this.drawOuterSelection(canvasDraw);\n                this.rotateContext('reverse', canvasDraw);\n            }\n        }\n        parent.currObjType.isActiveObj = true;\n        var object = { keyHistory: '' };\n        parent.notify('shape', { prop: 'getKeyHistory', onPropertyChange: false, value: { obj: object } });\n        if (obj) {\n            this.drawShapeObj(canvas, obj.shape, saveContext, isPreventSelection);\n        }\n        else if (object['keyHistory'] !== '' && parent.currObjType.isText) {\n            this.drawShapeObj(canvas, 'text', saveContext, isPreventSelection);\n        }\n        else if (actObj.shape) {\n            this.drawShapeObj(canvas, actObj.shape, saveContext, isPreventSelection);\n        }\n        else {\n            this.drawShapeObj(canvas, undefined, saveContext, isPreventSelection);\n        }\n        if (canvas === 'duplicate' && isCrop && actObj.shape !== 'crop-circle' && parent.frameObj.type !== 'none') {\n            this.applyFrame(this.upperContext, parent.frameObj.type);\n            this.drawCornerCircles(this.upperContext);\n        }\n    };\n    Draw.prototype.rotateContext = function (type, ctx) {\n        var parent = this.parent;\n        var _a = parent.activeObj, shape = _a.shape, rotatedAngle = _a.rotatedAngle;\n        var _b = parent.img, destLeft = _b.destLeft, destTop = _b.destTop, destWidth = _b.destWidth, destHeight = _b.destHeight;\n        var _c = parent.activeObj.activePoint, startX = _c.startX, startY = _c.startY, width = _c.width, height = _c.height;\n        if (shape === 'line' || shape === 'arrow') {\n            return;\n        }\n        var rotationAngle = (type === 'initial') ? rotatedAngle : -rotatedAngle;\n        var translateX;\n        var translateY;\n        if (parent.transform.straighten === 0 && !parent.isCropTab) {\n            translateX = startX + (width / 2);\n            translateY = startY + (height / 2);\n        }\n        else {\n            translateX = destLeft + (destWidth / 2);\n            translateY = destTop + (destHeight / 2);\n        }\n        ctx.translate(translateX, translateY);\n        ctx.rotate(rotationAngle);\n        ctx.translate(-translateX, -translateY);\n    };\n    Draw.prototype.setDragLimit = function () {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var _a = parent.activeObj, shape = _a.shape, rotatedAngle = _a.rotatedAngle;\n        if (actPoint && shape !== 'image' && shape !== 'line' && rotatedAngle === 0 && parent.activeObj.preventShapeDragOut) {\n            var _b = parent.img, destLeft = _b.destLeft, destTop = _b.destTop, destWidth = _b.destWidth, destHeight = _b.destHeight;\n            if (actPoint.startX < destLeft) {\n                actPoint.startX = destLeft;\n                actPoint.endX = Math.min(actPoint.startX + actPoint.width, destLeft + destWidth);\n            }\n            else if (actPoint.endX > destLeft + destWidth) {\n                actPoint.endX = destLeft + destWidth;\n                actPoint.startX = Math.max(actPoint.endX - actPoint.width, destLeft);\n            }\n            if (actPoint.startY < destTop) {\n                actPoint.startY = destTop;\n            }\n            else if (actPoint.endY > destTop + destHeight) {\n                actPoint.endY = destTop + destHeight;\n                actPoint.startY = Math.max(actPoint.endY - actPoint.height, destTop);\n            }\n            parent.activeObj = this.updateWidthHeight(parent.activeObj);\n        }\n    };\n    Draw.prototype.drawCropRatio = function () {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var x;\n        var y;\n        var width;\n        var height;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        if (parent.transform.zoomFactor > 0 && this.currSelPoint) {\n            var activeObj = extend({}, parent.activeObj, {}, true);\n            this.drawCustomSelection('crop-custom', null, null, null, null);\n            if (parent.transform.straighten !== 0) {\n                actPoint = parent.activeObj.activePoint;\n            }\n            if (parent.transform.degree % 90 === 0 && parent.transform.degree % 180 !== 0) {\n                width = actPoint.width < actPoint.height ? actPoint.width : actPoint.height;\n                height = width;\n            }\n            else {\n                width = actPoint.width;\n                height = actPoint.height;\n            }\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            parent.activeObj = activeObj;\n            parent.currObjType.shape = activeObj.shape;\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            parent.currObjType.isCustomCrop = false;\n        }\n        else {\n            width = destWidth;\n            height = destHeight;\n            if (destLeft < 0) {\n                width += destLeft;\n            }\n            if (destTop < 0) {\n                height += destTop;\n            }\n            if (destLeft + destWidth > parent.lowerCanvas.width) {\n                width -= (destLeft + destWidth - parent.lowerCanvas.width);\n            }\n            if (destTop + destHeight > parent.lowerCanvas.height) {\n                height -= (destTop + destHeight - parent.lowerCanvas.height);\n            }\n        }\n        switch (parent.currObjType.shape.toLowerCase()) {\n            case 'crop-square':\n            case 'crop-circle':\n                parent.notify('selection', { prop: 'setDragDirection', onPropertyChange: false, value: { width: width, height: height } });\n                actPoint = parent.activeObj.activePoint;\n                if (parent.lowerCanvas.width < (actPoint.endX - actPoint.startX)) {\n                    actPoint.startX = 7.5;\n                    actPoint.endX = parent.lowerCanvas.width - 7.5;\n                }\n                if (parent.lowerCanvas.height < (actPoint.endY - actPoint.startY)) {\n                    actPoint.startY = 7.5;\n                    actPoint.endY = parent.lowerCanvas.height - 7.5;\n                }\n                if (width === destWidth && height === destHeight) {\n                    actPoint.startX += destLeft;\n                    actPoint.startY += destTop;\n                    actPoint.endX += destLeft;\n                    actPoint.endY += destTop;\n                }\n                if (parent.lowerCanvas.width > parent.lowerCanvas.height) {\n                    actPoint.height = actPoint.endY - actPoint.startY;\n                    actPoint.width = actPoint.height;\n                    actPoint.endX = actPoint.startX + actPoint.width;\n                }\n                else {\n                    actPoint.width = actPoint.endX - actPoint.startX;\n                    actPoint.height = actPoint.width;\n                    actPoint.endY = actPoint.startY + actPoint.height;\n                }\n                break;\n            case 'crop-3:2':\n                x = 3;\n                y = 2;\n                break;\n            case 'crop-4:3':\n                x = 4;\n                y = 3;\n                break;\n            case 'crop-5:4':\n                x = 5;\n                y = 4;\n                break;\n            case 'crop-7:5':\n                x = 7;\n                y = 5;\n                break;\n            case 'crop-16:9':\n                x = 16;\n                y = 9;\n                break;\n            case 'crop-2:3':\n                x = 2;\n                y = 3;\n                break;\n            case 'crop-3:4':\n                x = 3;\n                y = 4;\n                break;\n            case 'crop-4:5':\n                x = 4;\n                y = 5;\n                break;\n            case 'crop-5:7':\n                x = 5;\n                y = 7;\n                break;\n            case 'crop-9:16':\n                x = 9;\n                y = 16;\n                break;\n            default:\n                x = parseInt(parent.currObjType.shape.toLowerCase().split('crop-')[1].split(':')[0]);\n                y = parseInt(parent.currObjType.shape.toLowerCase().split('crop-')[1].split(':')[1]);\n                break;\n        }\n        if (x !== undefined && y !== undefined) {\n            parent.notify('selection', { prop: 'calcShapeRatio', onPropertyChange: false,\n                value: { x: x, y: y, imgWidth: width, imgHeight: height } });\n            if (width === destWidth && height === destHeight) {\n                this.updatePoints();\n            }\n            actPoint = parent.activeObj.activePoint;\n        }\n        if (actPoint.startX < destLeft) {\n            var diff = (destLeft - actPoint.startX) + 7.5;\n            actPoint.startX += diff;\n            actPoint.endX += diff;\n        }\n        if (actPoint.startY < destTop) {\n            var diff = (destTop - actPoint.startY) + 7.5;\n            actPoint.startY += diff;\n            actPoint.endY += diff;\n        }\n        parent.activeObj = this.updateWidthHeight(parent.activeObj);\n        this.adjToCenter();\n        this.enlargeToImg();\n        if (parent.transform.straighten !== 0) {\n            this.adjToStraighten();\n            this.updateActiveObject(parent.activeObj.activePoint, parent.activeObj);\n        }\n        var object = { isIntersect: null, arr: null };\n        var count = 0;\n        actPoint = parent.activeObj.activePoint;\n        if (parent.transform.straighten !== 0) {\n            while (this.isLinesIntersect(object) && count < 100) {\n                count++;\n                var diff = (actPoint.width * 1) / 100;\n                actPoint.startX += diff;\n                actPoint.endX -= diff;\n                diff = (actPoint.height * 1) / 100;\n                actPoint.startY += diff;\n                actPoint.endY -= diff;\n                actPoint.width = actPoint.endX - actPoint.startX;\n                actPoint.height = actPoint.endY - actPoint.startY;\n                this.updateActiveObject(actPoint, parent.activeObj);\n            }\n        }\n        this.straightenInitZoom = parent.transform.zoomFactor;\n        this.straightenActObj = extend({}, parent.activeObj, {}, true);\n        parent.notify('draw', { prop: 'resetStraightenDestPoints' });\n        parent.notify('draw', { prop: 'setDestForStraighten' });\n    };\n    Draw.prototype.adjToCenter = function () {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        var diffX = ((parent.lowerCanvas.width) / 2) - (actPoint.endX - actPoint.width / 2);\n        var diffY = ((parent.lowerCanvas.height) / 2) - (actPoint.endY - actPoint.height / 2);\n        actPoint.startX += diffX;\n        actPoint.endX += diffX;\n        actPoint.startY += diffY;\n        actPoint.endY += diffY;\n        if (actPoint.startX < (destLeft >= 7.5 ? destLeft : 7.5)) {\n            var diff = ((destLeft >= 7.5 ? destLeft : 0) - actPoint.startX);\n            actPoint.startX += diff;\n            actPoint.endX += diff;\n        }\n        else if (actPoint.endX > destLeft + destWidth) {\n            var diff = (actPoint.endX - (destLeft + destWidth));\n            actPoint.startX -= diff;\n            actPoint.endX -= diff;\n        }\n        if (actPoint.startY < (destTop >= 7.5 ? destTop : 7.5)) {\n            var diff = ((destTop >= 7.5 ? destTop : 0) - actPoint.startY);\n            actPoint.startY += diff;\n            actPoint.endY += diff;\n        }\n        else if (actPoint.endY > destTop + destHeight) {\n            var diff = (actPoint.endY - (destTop + destHeight));\n            actPoint.startY -= diff;\n            actPoint.endY -= diff;\n        }\n    };\n    Draw.prototype.enlargeToImg = function () {\n        var parent = this.parent;\n        if (parent.transform.straighten === 0) {\n            return;\n        }\n        if (parent.transform.degree % 90 === 0 && parent.transform.degree % 180 !== 0) {\n            var actPoint = parent.activeObj.activePoint;\n            var tempActPoint = extend({}, actPoint, {}, true);\n            var count = 0;\n            while (true) {\n                // Increase width and height by 5% from center to enlarge the crop selection\n                count++;\n                var diff = (actPoint.width * 5) / 100;\n                actPoint.startX -= diff;\n                actPoint.endX += diff;\n                diff = (actPoint.height * 5) / 100;\n                actPoint.startY -= diff;\n                actPoint.endY += diff;\n                actPoint.width = actPoint.endX - actPoint.startX;\n                actPoint.height = actPoint.endY - actPoint.startY;\n                this.updateActiveObject(actPoint, parent.activeObj);\n                var object = { isIntersect: null, arr: null };\n                this.updateImgCanvasPoints();\n                this.isLinesIntersect(object);\n                if (object['arr'][0] || object['arr'][1] || object['arr'][2] || object['arr'][3] ||\n                    actPoint.startX < 7.5 || actPoint.startY < 7.5 || count === 100) {\n                    actPoint = extend({}, tempActPoint, {}, true);\n                    diff = (actPoint.width * 1) / 100;\n                    actPoint.startX += diff;\n                    actPoint.endX -= diff;\n                    diff = (actPoint.height * 1) / 100;\n                    actPoint.startY += diff;\n                    actPoint.endY -= diff;\n                    actPoint.width = actPoint.endX - actPoint.startX;\n                    actPoint.height = actPoint.endY - actPoint.startY;\n                    this.updateActiveObject(actPoint, parent.activeObj);\n                    break;\n                }\n                tempActPoint = extend({}, actPoint, {}, true);\n            }\n        }\n    };\n    Draw.prototype.updateActiveObject = function (actPoint, obj, isMouseMove, x, y) {\n        var parent = this.parent;\n        actPoint = actPoint ? actPoint : extend({}, parent.activeObj.activePoint, {}, true);\n        obj = obj ? obj : extend({}, parent.activeObj, {}, true);\n        actPoint.width = actPoint.endX - actPoint.startX;\n        actPoint.height = actPoint.endY - actPoint.startY;\n        var startX = actPoint.startX, startY = actPoint.startY, endX = actPoint.endX, endY = actPoint.endY, width = actPoint.width, height = actPoint.height;\n        x = x ? x : 0;\n        y = y ? y : 0;\n        var horCircleWidth = width / 2;\n        var verCircleHeight = height / 2;\n        var radius = 7.5;\n        obj.horTopLine = { startX: startX + x, startY: startY - y,\n            endX: endX + x, endY: endY + y };\n        obj.horBottomLine = { startX: startX - x, startY: endY - y,\n            endX: endX - x, endY: endY + y };\n        obj.verLeftLine = { startX: startX + x, startY: startY - y,\n            endX: startX - y, endY: endY - y };\n        obj.verRightLine = { startX: endX + x, startY: startY + y,\n            endX: endX - x, endY: endY + y };\n        obj.topLeftCircle = { startX: startX, startY: startY,\n            radius: obj.horTopLine.endX ? (radius) : 0 };\n        obj.topCenterCircle = { startX: startX + horCircleWidth, startY: startY,\n            radius: obj.horTopLine.endX ? (radius) : 0 };\n        obj.topRightCircle = { startX: endX, startY: startY,\n            radius: obj.horTopLine.endX ? (radius) : 0 };\n        obj.centerLeftCircle = { startX: startX, startY: startY + verCircleHeight,\n            radius: obj.horTopLine.endX ? (radius) : 0 };\n        obj.centerRightCircle = { startX: endX, startY: startY + verCircleHeight,\n            radius: obj.horTopLine.endX ? (radius) : 0 };\n        obj.bottomLeftCircle = { startX: startX, startY: endY,\n            radius: obj.horTopLine.endX ? (radius) : 0 };\n        obj.bottomCenterCircle = { startX: startX + horCircleWidth, startY: endY,\n            radius: obj.horTopLine.endX ? (radius) : 0 };\n        obj.bottomRightCircle = { startX: endX, startY: endY,\n            radius: obj.horTopLine.endX ? (radius) : 0 };\n        if (obj.rotatedAngle === 0) {\n            obj.rotationCirclePoint = { x: obj.bottomCenterCircle.startX,\n                y: obj.bottomCenterCircle.startY + 25 };\n            obj.rotationCirclePoint.ratioX = (obj.rotationCirclePoint.x - parent.img.destLeft) / parent.img.destWidth;\n            obj.rotationCirclePoint.ratioY = (obj.rotationCirclePoint.y - parent.img.destTop) / parent.img.destHeight;\n        }\n        obj.activePoint = actPoint;\n        if (isNullOrUndefined(isMouseMove)) {\n            parent.activeObj = extend({}, obj, {}, true);\n        }\n    };\n    Draw.prototype.drawOuterSelection = function (canvasDraw, isCropCircle) {\n        var splitWords;\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var actObj = parent.activeObj;\n        canvasDraw.lineWidth = (0.5);\n        var tempObj = extend({}, actObj, {}, true);\n        if (actObj.shape) {\n            splitWords = actObj.shape.split('-');\n        }\n        if (((splitWords && splitWords[0] === 'crop') || actObj.shape === undefined) && !isCropCircle) {\n            this.upperContext.fillStyle = 'rgb(0, 0, 0, 0.25)';\n            this.upperContext.fillRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n            this.upperContext.clearRect(actPoint.startX, actPoint.startY, actPoint.width, actPoint.height);\n        }\n        canvasDraw.strokeStyle = parent.themeColl[parent.theme]['primaryColor'];\n        canvasDraw.fillStyle = parent.themeColl[parent.theme]['secondaryColor'];\n        var degree;\n        if (tempObj.shapeDegree === 0) {\n            degree = parent.transform.degree;\n        }\n        else {\n            degree = parent.transform.degree - tempObj.shapeDegree;\n        }\n        if (degree < 0) {\n            degree = 360 + degree;\n        }\n        if (actObj.shape === 'arrow' || actObj.shape === 'line') {\n            canvasDraw.beginPath();\n            canvasDraw.moveTo(actPoint.startX, actPoint.startY);\n            canvasDraw.lineTo(actPoint.endX, actPoint.endY);\n            canvasDraw.stroke();\n        }\n        else if (actObj.shape === 'path') {\n            canvasDraw.beginPath();\n            var activeObj = extend({}, parent.activeObj, {}, true);\n            if (activeObj.pointColl[0]) {\n                canvasDraw.moveTo(activeObj.pointColl[0].x, activeObj.pointColl[0].y);\n                if (activeObj.pointColl.length > 1) {\n                    for (var i = 1, len = activeObj.pointColl.length; i < len; i++) {\n                        actPoint.endX = activeObj.pointColl[i].x;\n                        actPoint.endY = activeObj.pointColl[i].y;\n                        canvasDraw.lineTo(actPoint.endX, actPoint.endY);\n                    }\n                }\n            }\n            var obj = { shape: null };\n            parent.notify('selection', { prop: 'getCurrentDrawingShape', value: { obj: obj } });\n            if (obj['shape'] === 'path') {\n                parent.activeObj = actObj = activeObj;\n            }\n            canvasDraw.lineTo(actPoint.endX, actPoint.endY);\n            canvasDraw.stroke();\n        }\n        else {\n            this.drawCornerCircles(canvasDraw);\n        }\n        if (parent.selectionSettings.showCircle && (splitWords === undefined || splitWords[0] !== 'crop')) {\n            var strokeColor = canvasDraw.strokeStyle;\n            var fillColor = canvasDraw.fillStyle;\n            canvasDraw.strokeStyle = parent.selectionSettings.strokeColor;\n            canvasDraw.fillStyle = parent.selectionSettings.fillColor;\n            if (actObj.shape === 'text') {\n                canvasDraw.lineWidth *= 2;\n                canvasDraw.beginPath();\n                this.drawRotationArcLine(canvasDraw);\n                canvasDraw.lineTo(actObj.rotationCirclePoint.x, actObj.rotationCirclePoint.y);\n                canvasDraw.stroke();\n                canvasDraw.fill();\n                canvasDraw.closePath();\n                canvasDraw.beginPath();\n                canvasDraw.moveTo(actObj.rotationCirclePoint.x, actObj.rotationCirclePoint.y);\n                canvasDraw.arc(actObj.rotationCirclePoint.x, actObj.rotationCirclePoint.y, actObj.bottomCenterCircle.radius, 0, 2 * Math.PI);\n                canvasDraw.stroke();\n                canvasDraw.fill();\n                canvasDraw.closePath();\n                canvasDraw.lineWidth /= 2;\n            }\n            else {\n                if (parent.activeObj.shape !== 'redact') {\n                    this.drawCenterCircles(canvasDraw);\n                }\n            }\n            canvasDraw.strokeStyle = strokeColor;\n            canvasDraw.fillStyle = fillColor;\n        }\n        tempObj.rotationCircleLine = actObj.rotationCircleLine;\n        parent.activeObj = extend({}, tempObj, {}, true);\n    };\n    Draw.prototype.drawArrowHead = function (canvasDraw, isStartHead) {\n        var headType = isStartHead ? this.parent.activeObj.start : this.parent.activeObj.end;\n        switch (headType) {\n            case 'arrowSolid':\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                isStartHead ? this.arrowSolid(canvasDraw, true) : this.arrowSolid(canvasDraw, false);\n                break;\n            case 'arrow':\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                isStartHead ? this.arrow(canvasDraw, true) : this.arrow(canvasDraw, false);\n                break;\n            case 'circleSolid':\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                isStartHead ? this.arrowCircleSolid(canvasDraw, true) : this.arrowCircleSolid(canvasDraw, false);\n                break;\n            case 'circle':\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                isStartHead ? this.arrowCircle(canvasDraw, true) : this.arrowCircle(canvasDraw, false);\n                break;\n            case 'bar':\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                isStartHead ? this.arrowBar(canvasDraw, true) : this.arrowBar(canvasDraw, false);\n                break;\n            case 'square':\n            case 'squareSolid':\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                isStartHead ? this.arrowSquareStart(canvasDraw) : this.arrowSquareEnd(canvasDraw);\n                break;\n        }\n    };\n    Draw.prototype.drawShapeObj = function (canvas, shape, saveContext, isPreventSelection) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var actObj = parent.activeObj;\n        var _a = actObj.strokeSettings, strokeColor = _a.strokeColor, fillColor = _a.fillColor, strokeWidth = _a.strokeWidth;\n        var currentShape = shape !== undefined ? shape : parent.currObjType.shape;\n        parent.currObjType.shape = currentShape;\n        var canvasDraw;\n        if (canvas.toLowerCase() === 'original') {\n            canvasDraw = this.lowerContext;\n        }\n        else if (canvas.toLowerCase() === 'duplicate') {\n            canvasDraw = this.upperContext;\n        }\n        else if (saveContext) {\n            canvasDraw = saveContext;\n        }\n        var shapeType = parent.currObjType.shape.toLowerCase();\n        var shapeColl = ['rectangle', 'ellipse', 'line', 'arrow', 'path', 'image', 'redact'];\n        if (shapeColl.indexOf(shapeType) !== -1) {\n            actObj.shape = parent.currObjType.shape;\n        }\n        canvasDraw.strokeStyle = strokeColor;\n        if (shape === 'text' || shape === 'freehanddraw') {\n            canvasDraw.fillStyle = strokeColor;\n        }\n        else {\n            canvasDraw.fillStyle = fillColor;\n        }\n        var horLineWidth = actPoint.width / 3;\n        var verLineHeight = actPoint.height / 3;\n        var selectionWidth = actPoint.endX - actPoint.startX;\n        var selectionHeight = actPoint.endY - actPoint.startY;\n        this.rotateContext('initial', canvasDraw);\n        var degree;\n        var tempFillStyle = canvasDraw.fillStyle;\n        var activeObj;\n        switch (parent.currObjType.shape.toLowerCase()) {\n            case 'rectangle':\n                this.drawSquareLines(canvasDraw);\n                if (isNullOrUndefined(isPreventSelection) && canvasDraw === this.upperContext) {\n                    this.drawOuterSelection(canvasDraw);\n                }\n                break;\n            case 'redact':\n                this.drawRedact(canvasDraw, actObj);\n                if (isNullOrUndefined(isPreventSelection) && canvasDraw === this.upperContext) {\n                    this.drawOuterSelection(canvasDraw);\n                }\n                parent.currObjType.isRedact = true;\n                break;\n            case 'ellipse':\n                selectionWidth = Math.abs(selectionWidth);\n                selectionHeight = Math.abs(selectionHeight);\n                canvasDraw.beginPath();\n                canvasDraw.ellipse(actPoint.startX + (selectionWidth / 2), actPoint.startY + (selectionHeight / 2), selectionWidth / 2, selectionHeight / 2, 0, 0, 2 * Math.PI, false);\n                if (fillColor !== '') {\n                    canvasDraw.fillStyle = fillColor;\n                    canvasDraw.fill();\n                }\n                canvasDraw.ellipse(actPoint.startX + (selectionWidth / 2), actPoint.startY + (selectionHeight / 2), Math.abs((selectionWidth / 2) - (strokeWidth)), Math.abs((selectionHeight / 2) - (strokeWidth)), 0, 0, 2 * Math.PI, false);\n                canvasDraw.fillStyle = strokeColor;\n                canvasDraw.fill('evenodd');\n                canvasDraw.closePath();\n                if (isNullOrUndefined(isPreventSelection) && canvasDraw === this.upperContext) {\n                    this.drawOuterSelection(canvasDraw);\n                }\n                break;\n            case 'crop-circle':\n                this.shapeCircle(canvasDraw, selectionWidth, selectionHeight);\n                break;\n            case 'line':\n                this.shapeLine(canvasDraw, actPoint.startX, actPoint.startY, actPoint.endX, actPoint.endY);\n                if (isNullOrUndefined(isPreventSelection) && canvasDraw === this.upperContext) {\n                    this.drawOuterSelection(canvasDraw);\n                }\n                break;\n            case 'arrow':\n                if (actObj.shapeDegree === 0) {\n                    degree = parent.transform.degree;\n                }\n                else {\n                    degree = parent.transform.degree - actObj.shapeDegree;\n                }\n                if (degree < 0) {\n                    degree = 360 + degree;\n                }\n                canvasDraw.fillStyle = canvasDraw.strokeStyle;\n                if (isNullOrUndefined(actObj.triangleDirection)) {\n                    actObj.triangleDirection = 'right';\n                }\n                if (isNullOrUndefined(actObj.start)) {\n                    actObj.start = 'none';\n                }\n                if (isNullOrUndefined(actObj.end)) {\n                    actObj.end = 'arrowSolid';\n                }\n                this.drawArrowHead(canvasDraw, true);\n                this.drawArrowHead(canvasDraw, false);\n                if (actObj.end === 'none' && actObj.start !== 'circle' && actObj.start !== 'square') {\n                    this.shapeLine(canvasDraw, actPoint.startX, actPoint.startY, actPoint.endX, actPoint.endY);\n                }\n                canvasDraw.fillStyle = tempFillStyle;\n                if (isNullOrUndefined(isPreventSelection) && canvasDraw === this.upperContext) {\n                    this.drawOuterSelection(canvasDraw);\n                }\n                break;\n            case 'path':\n                activeObj = extend({}, parent.activeObj, {}, true);\n                if (activeObj.pointColl.length > 1) {\n                    var obj = { shape: null };\n                    parent.notify('selection', { prop: 'getCurrentDrawingShape', value: { obj: obj } });\n                    if (obj['shape'] === 'path' && parent.isShapeDrawing) {\n                        var nextPoint = { x: 0, y: 0 };\n                        for (var i = 0, len = activeObj.pointColl.length; i < len; i++) {\n                            if (isNullOrUndefined(activeObj.pointColl[i + 1])) {\n                                nextPoint.x = activeObj.activePoint.endX;\n                                nextPoint.y = activeObj.activePoint.endY;\n                            }\n                            else {\n                                nextPoint.x = activeObj.pointColl[i + 1].x;\n                                nextPoint.y = activeObj.pointColl[i + 1].y;\n                            }\n                            actPoint.startX = activeObj.pointColl[i].x;\n                            actPoint.startY = activeObj.pointColl[i].y;\n                            actPoint.endX = nextPoint.x;\n                            actPoint.endY = nextPoint.y;\n                            parent.activeObj = this.updateWidthHeight(parent.activeObj);\n                            this.shapeLine(canvasDraw, actPoint.startX, actPoint.startY, actPoint.endX, actPoint.endY);\n                            if (Browser.isDevice) {\n                                activeObj.activePoint.endX = nextPoint.x;\n                                activeObj.activePoint.endY = nextPoint.y;\n                            }\n                        }\n                    }\n                    else {\n                        for (var i = 1, len = activeObj.pointColl.length; i < len; i++) {\n                            actPoint.startX = activeObj.pointColl[i - 1].x;\n                            actPoint.startY = activeObj.pointColl[i - 1].y;\n                            actPoint.endX = activeObj.pointColl[i].x;\n                            actPoint.endY = activeObj.pointColl[i].y;\n                            parent.activeObj = this.updateWidthHeight(parent.activeObj);\n                            this.shapeLine(canvasDraw, actPoint.startX, actPoint.startY, actPoint.endX, actPoint.endY);\n                        }\n                    }\n                    parent.activeObj = actObj = activeObj;\n                }\n                else {\n                    this.shapeLine(canvasDraw, actPoint.startX, actPoint.startY, actPoint.endX, actPoint.endY);\n                }\n                if (canvasDraw === this.upperContext) {\n                    this.drawOuterSelection(canvasDraw);\n                }\n                break;\n            case 'text':\n                this.shapeText(canvasDraw);\n                break;\n            case 'image':\n                this.shapeImage(canvasDraw);\n                if (isNullOrUndefined(isPreventSelection) && canvasDraw === this.upperContext) {\n                    this.drawOuterSelection(canvasDraw);\n                }\n                break;\n            case 'crop-square':\n            case 'crop-3:4':\n            case 'crop-4:3':\n            case 'crop-6:9':\n            case 'crop-9:6':\n            case 'crop-9:16':\n            case 'crop-16:9':\n                if (canvasDraw === this.lowerContext) {\n                    canvasDraw = this.upperContext;\n                }\n                this.drawSelection(horLineWidth, verLineHeight);\n                parent.currObjType.shape = '';\n                break;\n            default:\n                this.drawSelection(horLineWidth, verLineHeight);\n                break;\n        }\n        this.rotateContext('reverse', canvasDraw);\n    };\n    Draw.prototype.updatePoints = function () {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop;\n        actPoint.startX += destLeft;\n        actPoint.startY += destTop;\n        actPoint.endX += destLeft;\n        actPoint.endY += destTop;\n        parent.activeObj = this.updateWidthHeight(parent.activeObj);\n    };\n    Draw.prototype.updateWidthHeight = function (obj) {\n        var _a = obj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        obj.activePoint.width = endX - startX;\n        obj.activePoint.height = endY - startY;\n        return obj;\n    };\n    Draw.prototype.drawCornerCircles = function (canvasDraw) {\n        var parent = this.parent;\n        var tempObj = parent.activeObj;\n        canvasDraw.beginPath();\n        canvasDraw.rect(tempObj.activePoint.startX, tempObj.activePoint.startY, tempObj.activePoint.width, tempObj.activePoint.height);\n        canvasDraw.stroke();\n        canvasDraw.closePath();\n        if (parent.selectionSettings.showCircle) {\n            var strokeColor = canvasDraw.strokeStyle;\n            var fillColor = canvasDraw.fillStyle;\n            canvasDraw.strokeStyle = parent.selectionSettings.strokeColor;\n            canvasDraw.fillStyle = parent.selectionSettings.fillColor;\n            canvasDraw.lineWidth *= 2;\n            canvasDraw.beginPath();\n            canvasDraw.moveTo(tempObj.topLeftCircle.startX, tempObj.topLeftCircle.startY);\n            canvasDraw.arc(tempObj.topLeftCircle.startX, tempObj.topLeftCircle.startY, tempObj.topLeftCircle.radius, 0, 2 * Math.PI);\n            canvasDraw.moveTo(tempObj.topRightCircle.startX, tempObj.topRightCircle.startY);\n            canvasDraw.arc(tempObj.topRightCircle.startX, tempObj.topRightCircle.startY, tempObj.topRightCircle.radius, 0, 2 * Math.PI);\n            canvasDraw.moveTo(tempObj.bottomLeftCircle.startX, tempObj.bottomLeftCircle.startY);\n            canvasDraw.arc(tempObj.bottomLeftCircle.startX, tempObj.bottomLeftCircle.startY, tempObj.bottomLeftCircle.radius, 0, 2 * Math.PI);\n            canvasDraw.moveTo(tempObj.bottomRightCircle.startX, tempObj.bottomRightCircle.startY);\n            canvasDraw.arc(tempObj.bottomRightCircle.startX, tempObj.bottomRightCircle.startY, tempObj.bottomRightCircle.radius, 0, 2 * Math.PI);\n            canvasDraw.stroke();\n            canvasDraw.fill();\n            canvasDraw.closePath();\n            canvasDraw.lineWidth /= 2;\n            canvasDraw.strokeStyle = strokeColor;\n            canvasDraw.fillStyle = fillColor;\n        }\n    };\n    Draw.prototype.drawCenterCircles = function (canvasDraw) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var actObj = parent.activeObj;\n        canvasDraw.lineWidth *= 2;\n        canvasDraw.beginPath();\n        if (actObj.shape === 'arrow' || actObj.shape === 'line') {\n            canvasDraw.moveTo(actPoint.startX, actPoint.startY);\n            canvasDraw.arc(actPoint.startX, actPoint.startY, actObj.topCenterCircle.radius, 0, 2 * Math.PI);\n            canvasDraw.moveTo(actPoint.endX, actPoint.endY);\n            canvasDraw.arc(actPoint.endX, actPoint.endY, actObj.bottomCenterCircle.radius, 0, 2 * Math.PI);\n        }\n        else if (actObj.shape === 'path') {\n            var activeObj = extend({}, parent.activeObj, {}, true);\n            if (activeObj.pointColl.length > 1) {\n                for (var i = 1, len = activeObj.pointColl.length; i < len; i++) {\n                    actPoint.startX = activeObj.pointColl[i - 1].x;\n                    actPoint.startY = activeObj.pointColl[i - 1].y;\n                    actPoint.endX = activeObj.pointColl[i].x;\n                    actPoint.endY = activeObj.pointColl[i].y;\n                    canvasDraw.moveTo(actPoint.startX, actPoint.startY);\n                    canvasDraw.arc(actPoint.startX, actPoint.startY, actObj.topCenterCircle.radius, 0, 2 * Math.PI);\n                    canvasDraw.moveTo(actPoint.endX, actPoint.endY);\n                    canvasDraw.arc(actPoint.endX, actPoint.endY, actObj.bottomCenterCircle.radius, 0, 2 * Math.PI);\n                }\n            }\n            var obj = { shape: null };\n            parent.notify('selection', { prop: 'getCurrentDrawingShape', value: { obj: obj } });\n            if (obj['shape'] === 'path') {\n                parent.activeObj = actObj = activeObj;\n            }\n            canvasDraw.moveTo(actPoint.startX, actPoint.startY);\n            canvasDraw.arc(actPoint.startX, actPoint.startY, actObj.topCenterCircle.radius, 0, 2 * Math.PI);\n            canvasDraw.moveTo(actPoint.endX, actPoint.endY);\n            canvasDraw.arc(actPoint.endX, actPoint.endY, actObj.bottomCenterCircle.radius, 0, 2 * Math.PI);\n        }\n        else {\n            this.drawRotationArcLine(canvasDraw);\n            canvasDraw.lineTo(actObj.rotationCirclePoint.x, actObj.rotationCirclePoint.y);\n        }\n        canvasDraw.stroke();\n        canvasDraw.fill();\n        canvasDraw.closePath();\n        if (actObj.shape !== 'arrow' && actObj.shape !== 'line' && actObj.shape !== 'path') {\n            canvasDraw.beginPath();\n            canvasDraw.moveTo(actObj.rotationCirclePoint.x, actObj.rotationCirclePoint.y);\n            canvasDraw.arc(actObj.rotationCirclePoint.x, actObj.rotationCirclePoint.y, actObj.bottomCenterCircle.radius, 0, 2 * Math.PI);\n            canvasDraw.stroke();\n            canvasDraw.fill();\n            canvasDraw.closePath();\n        }\n        canvasDraw.lineWidth /= 2;\n    };\n    Draw.prototype.drawRotationArcLine = function (canvasDraw) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        if (isNullOrUndefined(actObj.rotationCircleLine)) {\n            actObj.rotationCircleLine = 22.5;\n        }\n        var degree;\n        var isHorizontalflip = false;\n        var isVerticalflip = false;\n        if (actObj.shapeDegree === 0) {\n            degree = parent.transform.degree;\n        }\n        else {\n            degree = parent.transform.degree - actObj.shapeDegree;\n        }\n        if (degree < 0) {\n            degree = 360 + degree;\n        }\n        if (actObj.flipObjColl) {\n            for (var i = 0, len = actObj.flipObjColl.length; i < len; i++) {\n                var flipStr = actObj.flipObjColl[i].toLowerCase();\n                if (flipStr === 'horizontal') {\n                    isHorizontalflip = true;\n                }\n                else if (flipStr === 'vertical') {\n                    isVerticalflip = true;\n                }\n            }\n        }\n        switch (degree) {\n            case 0:\n            case 360:\n                if (isVerticalflip) {\n                    actObj.rotationCirclePoint = { x: actObj.topCenterCircle.startX,\n                        y: actObj.topCenterCircle.startY - actObj.rotationCircleLine };\n                    canvasDraw.moveTo(actObj.rotationCirclePoint.x, actObj.rotationCirclePoint.y + actObj.rotationCircleLine);\n                }\n                else {\n                    actObj.rotationCirclePoint = { x: actObj.bottomCenterCircle.startX,\n                        y: actObj.bottomCenterCircle.startY + actObj.rotationCircleLine };\n                    canvasDraw.moveTo(actObj.rotationCirclePoint.x, actObj.rotationCirclePoint.y - actObj.rotationCircleLine);\n                }\n                break;\n            case 90:\n            case -270:\n                if (isHorizontalflip) {\n                    actObj.rotationCirclePoint = { x: actObj.centerRightCircle.startX +\n                            actObj.rotationCircleLine, y: actObj.centerLeftCircle.startY };\n                    canvasDraw.moveTo(actObj.rotationCirclePoint.x - actObj.rotationCircleLine, actObj.rotationCirclePoint.y);\n                }\n                else {\n                    actObj.rotationCirclePoint = { x: actObj.centerLeftCircle.startX -\n                            actObj.rotationCircleLine, y: actObj.centerLeftCircle.startY };\n                    canvasDraw.moveTo(actObj.rotationCirclePoint.x + actObj.rotationCircleLine, actObj.rotationCirclePoint.y);\n                }\n                break;\n            case 180:\n            case -180:\n                if (isVerticalflip) {\n                    actObj.rotationCirclePoint = { x: actObj.bottomCenterCircle.startX,\n                        y: actObj.bottomCenterCircle.startY + actObj.rotationCircleLine };\n                    canvasDraw.moveTo(actObj.rotationCirclePoint.x, actObj.rotationCirclePoint.y - actObj.rotationCircleLine);\n                }\n                else {\n                    actObj.rotationCirclePoint = { x: actObj.topCenterCircle.startX,\n                        y: actObj.topCenterCircle.startY - actObj.rotationCircleLine };\n                    canvasDraw.moveTo(actObj.rotationCirclePoint.x, actObj.rotationCirclePoint.y + actObj.rotationCircleLine);\n                }\n                break;\n            case 270:\n            case -90:\n                if (isHorizontalflip) {\n                    actObj.rotationCirclePoint = { x: actObj.centerLeftCircle.startX -\n                            actObj.rotationCircleLine, y: actObj.centerLeftCircle.startY };\n                    canvasDraw.moveTo(actObj.rotationCirclePoint.x + actObj.rotationCircleLine, actObj.rotationCirclePoint.y);\n                }\n                else {\n                    actObj.rotationCirclePoint = { x: actObj.centerRightCircle.startX +\n                            actObj.rotationCircleLine, y: actObj.centerLeftCircle.startY };\n                    canvasDraw.moveTo(actObj.rotationCirclePoint.x - actObj.rotationCircleLine, actObj.rotationCirclePoint.y);\n                }\n                break;\n        }\n    };\n    Draw.prototype.drawSquareLines = function (canvasDraw) {\n        var splitWords;\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, width = _a.width, height = _a.height;\n        var _b = actObj.strokeSettings, fillColor = _b.fillColor, strokeColor = _b.strokeColor, strokeWidth = _b.strokeWidth, radius = _b.radius;\n        if (actObj.shape) {\n            splitWords = actObj.shape.split('-');\n        }\n        if (splitWords[0] === 'crop') {\n            canvasDraw.strokeStyle = '#fff';\n        }\n        else {\n            canvasDraw.strokeStyle = strokeColor;\n        }\n        canvasDraw.beginPath();\n        var obj = { width: 0, height: 0 };\n        var ratio = { width: 1, height: 1 };\n        parent.notify('crop', { prop: 'calcRatio', onPropertyChange: false,\n            value: { obj: obj, dimension: { width: canvasDraw.canvas.width, height: canvasDraw.canvas.height } } });\n        ratio = obj;\n        var isTempCanvas = canvasDraw.canvas.id === parent.element.id + '_tempCanvas';\n        var zoomFactor = parent.transform.zoomFactor;\n        var baseRadius = isTempCanvas ? radius * 10 * ((ratio.width + ratio.height) / 2) : radius * 10;\n        var adjustedRadius = baseRadius + (baseRadius * zoomFactor);\n        if (radius !== null) {\n            if (parent.isSafari) {\n                this.drawRoundedRect(canvasDraw, startX, startY, width, height, adjustedRadius);\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                canvasDraw.roundRect(startX, startY, width, height, adjustedRadius);\n            }\n        }\n        else {\n            canvasDraw.rect(startX, startY, width, height);\n        }\n        if (fillColor !== '') {\n            canvasDraw.fillStyle = fillColor;\n            canvasDraw.fill();\n        }\n        if (radius !== null) {\n            if (parent.isSafari) {\n                this.drawRoundedRect(canvasDraw, startX + strokeWidth, startY + strokeWidth, width - (2 * strokeWidth), height - (2 * strokeWidth), adjustedRadius);\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                canvasDraw.roundRect(startX + strokeWidth, startY + strokeWidth, width - (2 * strokeWidth), height - (2 * strokeWidth), adjustedRadius);\n            }\n        }\n        else {\n            canvasDraw.rect(startX + strokeWidth, startY + strokeWidth, width - (2 * strokeWidth), height - (2 * strokeWidth));\n        }\n        canvasDraw.fillStyle = strokeColor;\n        canvasDraw.fill('evenodd');\n        canvasDraw.closePath();\n    };\n    Draw.prototype.drawRoundedRect = function (canvasDraw, startX, startY, width, height, radius) {\n        var rectRadius = Math.max(0, Math.min(radius, width / 2, height / 2));\n        canvasDraw.moveTo(startX + rectRadius, startY);\n        canvasDraw.arcTo(startX + width, startY, startX + width, startY + height, rectRadius);\n        canvasDraw.arcTo(startX + width, startY + height, startY, startY + height, rectRadius);\n        canvasDraw.arcTo(startX, startY + height, startX, startY, rectRadius);\n        canvasDraw.arcTo(startX, startY, startX + width, startY, rectRadius);\n        canvasDraw.closePath();\n    };\n    Draw.prototype.drawSelection = function (horLineWidth, verLineHeight) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        this.upperContext.strokeStyle = parent.themeColl[parent.theme]['primaryColor'];\n        this.upperContext.beginPath();\n        actObj.horTopInnerLine = { startX: startX, startY: startY +\n                verLineHeight, endX: endX, endY: endY + verLineHeight };\n        actObj.horBottomInnerLine = { startX: startX, startY: startY + (2 * verLineHeight), endX: endX, endY: endY + (2 * verLineHeight) };\n        actObj.verLeftInnerLine = { startX: startX + horLineWidth,\n            startY: startY, endX: startX + horLineWidth, endY: endY };\n        actObj.verRightInnerLine = { startX: startX + (2 * horLineWidth),\n            startY: startY, endX: startX + (2 * horLineWidth), endY: endY };\n        this.upperContext.moveTo(actObj.horTopInnerLine.startX, actObj.horTopInnerLine.startY);\n        this.upperContext.lineTo(actObj.horTopInnerLine.endX, actObj.horTopInnerLine.startY);\n        this.upperContext.moveTo(actObj.horBottomInnerLine.startX, actObj.horBottomInnerLine.startY);\n        this.upperContext.lineTo(actObj.horBottomInnerLine.endX, actObj.horBottomInnerLine.startY);\n        this.upperContext.moveTo(actObj.verLeftInnerLine.startX, actObj.verLeftInnerLine.startY);\n        this.upperContext.lineTo(actObj.verLeftInnerLine.endX, actObj.verLeftInnerLine.endY);\n        this.upperContext.moveTo(actObj.verRightInnerLine.startX, actObj.verRightInnerLine.startY);\n        this.upperContext.lineTo(actObj.verRightInnerLine.endX, actObj.verRightInnerLine.endY);\n        this.upperContext.stroke();\n        this.upperContext.closePath();\n    };\n    Draw.prototype.shapeCircle = function (canvasDraw, selectionWidth, selectionHeight) {\n        var parent = this.parent;\n        var _a = parent.activeObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY, width = _a.width;\n        canvasDraw.strokeStyle = parent.themeColl[parent.theme]['primaryColor'];\n        canvasDraw.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        canvasDraw.fillStyle = 'rgb(0, 0, 0, 0.25)';\n        canvasDraw.fillRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        var tempWidth = canvasDraw.lineWidth;\n        canvasDraw.lineWidth = (2);\n        canvasDraw.beginPath();\n        canvasDraw.ellipse(parent.activeObj.horTopLine.startX + (selectionWidth / 2), parent.activeObj.horTopLine.startY\n            + (selectionHeight / 2), selectionWidth / 2, selectionHeight / 2, 0, 0, 2 * Math.PI, false);\n        canvasDraw.stroke();\n        canvasDraw.closePath();\n        canvasDraw.save();\n        canvasDraw.beginPath();\n        canvasDraw.arc(((endX - startX) / 2) + startX, ((endY - startY) / 2) + startY, (width / 2), 0, Math.PI * 2);\n        canvasDraw.closePath();\n        canvasDraw.clip();\n        canvasDraw.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        canvasDraw.restore();\n        canvasDraw.lineWidth = tempWidth;\n        this.drawOuterSelection(canvasDraw, true);\n        parent.currObjType.shape = '';\n    };\n    Draw.prototype.shapeLine = function (canvasDraw, x1, y1, x2, y2) {\n        var tempLineWidth = canvasDraw.lineWidth;\n        canvasDraw.lineWidth = (this.parent.activeObj.strokeSettings.strokeWidth);\n        canvasDraw.beginPath();\n        canvasDraw.moveTo(x1, y1);\n        canvasDraw.lineTo(x2, y2);\n        canvasDraw.stroke();\n        canvasDraw.lineWidth = tempLineWidth;\n    };\n    Draw.prototype.manipulateSaveCtx = function (canvasDraw, x, y) {\n        if (canvasDraw !== this.lowerContext && canvasDraw !== this.upperContext) {\n            var obj = { width: 0, height: 0 };\n            this.parent.notify('crop', { prop: 'calcRatio', onPropertyChange: false,\n                value: { obj: obj, dimension: { width: canvasDraw.canvas.width, height: canvasDraw.canvas.height } } });\n            var ratio = obj;\n            if (x) {\n                x *= (ratio.width);\n            }\n            if (y) {\n                y *= (ratio.height);\n            }\n        }\n        return { x: x, y: y };\n    };\n    Draw.prototype.arrow = function (canvasDraw, start) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        var strWidth = actObj.strokeSettings.strokeWidth;\n        canvasDraw.lineWidth = strWidth;\n        var x = this.arrowDimension['arrow']['width'];\n        var y = this.arrowDimension['arrow']['height'];\n        var point = this.manipulateSaveCtx(canvasDraw, x, y);\n        x = point.x + strWidth;\n        y = point.y + strWidth;\n        this.dx = endX - startX;\n        this.dy = endY - startY;\n        canvasDraw.fillStyle = actObj.strokeSettings.strokeColor;\n        var angle = Math.atan2(this.dy, this.dx);\n        var isStartArrow = actObj.start === 'arrow';\n        var isEndArrow = actObj.end === 'arrow';\n        var isEndCircleOrSquare = actObj.end === 'circle' || actObj.end === 'square';\n        var isStartCircleOrSquare = actObj.start === 'circle' || actObj.start === 'square';\n        if ((start && actObj.triangleDirection === 'left' || actObj.triangleDirection === 'right') &&\n            ((isStartArrow && actObj.end === 'none') || (isStartArrow && !isEndCircleOrSquare && !isStartCircleOrSquare)) ||\n            (!start && (isEndArrow && actObj.start === 'none' || !isStartArrow && !isEndCircleOrSquare && !isStartCircleOrSquare))) {\n            this.shapeLine(canvasDraw, startX, startY, endX, endY);\n        }\n        if ((start && actObj.triangleDirection === 'left') || (!start && actObj.triangleDirection === 'right')) {\n            canvasDraw.translate(endX, endY);\n            canvasDraw.rotate(angle);\n            this.shapeLine(canvasDraw, 0, 0, -x, y / 2);\n            this.shapeLine(canvasDraw, 0, 0, -x, -y / 2);\n            canvasDraw.rotate(-angle);\n            canvasDraw.translate(-endX, -endY);\n        }\n        else if ((start && actObj.triangleDirection === 'right') || (!start && actObj.triangleDirection === 'left')) {\n            canvasDraw.translate(startX, startY);\n            canvasDraw.rotate(angle);\n            this.shapeLine(canvasDraw, 0, 0, x, y / 2);\n            this.shapeLine(canvasDraw, 0, 0, x, -y / 2);\n            canvasDraw.rotate(-angle);\n            canvasDraw.translate(-startX, -startY);\n        }\n    };\n    Draw.prototype.arrowSolid = function (canvasDraw, start) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var strWidth = actObj.strokeSettings.strokeWidth;\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        var x = this.arrowDimension['arrowSolid']['width'];\n        var y = this.arrowDimension['arrowSolid']['height'];\n        var point = this.manipulateSaveCtx(canvasDraw, x, y);\n        x = point.x + strWidth;\n        y = point.y + strWidth;\n        this.dx = endX - startX;\n        this.dy = endY - startY;\n        var angle = Math.atan2(this.dy, this.dx);\n        var isStartArrowSolid = actObj.start === 'arrowSolid';\n        var isEndArrowSolid = actObj.end === 'arrowSolid';\n        var isEndCircleOrSquare = actObj.end === 'circle' || actObj.end === 'square';\n        var isStartCircleOrSquare = actObj.start === 'circle' || actObj.start === 'square';\n        if ((start && (isStartArrowSolid && actObj.end === 'none') || (isStartArrowSolid && !isEndCircleOrSquare && !isStartCircleOrSquare)) ||\n            (!start && (isEndArrowSolid && actObj.start === 'none' || !isStartArrowSolid && !isEndCircleOrSquare && !isStartCircleOrSquare))) {\n            this.shapeLine(canvasDraw, startX, startY, endX, endY);\n        }\n        if ((start && actObj.triangleDirection === 'left') || (!start && actObj.triangleDirection === 'right')) {\n            canvasDraw.translate(endX, endY);\n            canvasDraw.rotate(angle);\n            canvasDraw.beginPath();\n            canvasDraw.moveTo(strWidth, 0);\n            canvasDraw.lineTo(-x + y / 2, y / 2);\n            canvasDraw.lineTo(-x + y / 2, -y / 2);\n            canvasDraw.closePath();\n            canvasDraw.fill();\n            canvasDraw.rotate(-angle);\n            canvasDraw.translate(-endX, -endY);\n            actObj.rotatedAngle = angle;\n        }\n        else if ((start && actObj.triangleDirection === 'right') || (!start && actObj.triangleDirection === 'left')) {\n            canvasDraw.translate(startX, startY);\n            canvasDraw.rotate(angle);\n            canvasDraw.beginPath();\n            canvasDraw.moveTo(0 - strWidth, 0);\n            canvasDraw.lineTo(x - y / 2, y / 2);\n            canvasDraw.lineTo(x - y / 2, -y / 2);\n            canvasDraw.closePath();\n            canvasDraw.fill();\n            canvasDraw.rotate(-angle);\n            canvasDraw.translate(-startX, -startY);\n            actObj.rotatedAngle = angle;\n        }\n    };\n    Draw.prototype.arrowSquareStart = function (canvasDraw) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var strWidth = actObj.strokeSettings.strokeWidth;\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        var isStartSquare = actObj.start === 'square';\n        var isEndCircle = actObj.end === 'circle';\n        var isStartSquareSolid = actObj.start === 'squareSolid';\n        var isEndCircleSolid = actObj.end === 'circleSolid';\n        if ((isStartSquare && actObj.end === 'none') || (isStartSquare && !isEndCircle && actObj.start !== 'square') ||\n            (isStartSquareSolid && isEndCircleSolid)) {\n            this.shapeLine(canvasDraw, startX, startY, endX, endY);\n        }\n        canvasDraw.lineWidth = (strWidth);\n        canvasDraw.beginPath();\n        canvasDraw.fillStyle = actObj.strokeSettings.strokeColor;\n        var x = this.arrowDimension['square']['width'];\n        var y = this.arrowDimension['square']['height'];\n        var point = this.manipulateSaveCtx(canvasDraw, x, y);\n        x = point.x + strWidth;\n        y = point.y + strWidth;\n        this.dx = endX - startX;\n        this.dy = endY - startY;\n        var angle = Math.atan2(this.dy, this.dx);\n        if (actObj.triangleDirection === 'left') {\n            canvasDraw.translate(endX, endY);\n            canvasDraw.rotate(angle);\n            if (actObj.start === 'squareSolid') {\n                canvasDraw.fillRect(-x + y / 2, -y / 2, x, y);\n            }\n            canvasDraw.strokeRect(-x + y / 2, -y / 2, x, y);\n            canvasDraw.rotate(-angle);\n            canvasDraw.translate(-endX, -endY);\n            this.squareStartIntersectX1 = endX - (y / 2) * Math.cos(angle);\n            this.squareStartIntersectY1 = endY - (y / 2) * Math.sin(angle);\n            if (actObj.start === 'square' && actObj.end !== 'square' && actObj.end !== 'circle') {\n                this.shapeLine(canvasDraw, startX, startY, this.squareStartIntersectX1, this.squareStartIntersectY1);\n            }\n            else if (actObj.start === 'square' && actObj.end === 'circle') {\n                this.shapeLine(canvasDraw, this.endCircleIntersectX1, this.endCircleIntersectY1, this.squareStartIntersectX1, this.squareStartIntersectY1);\n            }\n            else if (actObj.start === 'squareSolid' && actObj.end === 'squareSolid') {\n                this.shapeLine(canvasDraw, startX, startY, endX, endY);\n            }\n        }\n        else if (actObj.triangleDirection === 'right') {\n            canvasDraw.lineWidth = (strWidth);\n            canvasDraw.fillStyle = actObj.strokeSettings.strokeColor;\n            if (actObj.start === 'squareSolid' && actObj.end === 'squareSolid') {\n                this.shapeLine(canvasDraw, startX, startY, endX, endY);\n            }\n            canvasDraw.translate(startX, startY);\n            canvasDraw.rotate(angle);\n            if (actObj.start === 'squareSolid') {\n                canvasDraw.fillRect(y / 2 - x, -y / 2, x, y);\n            }\n            canvasDraw.strokeRect(y / 2 - x, -y / 2, x, y);\n            canvasDraw.rotate(-angle);\n            canvasDraw.translate(-startX, -startY);\n            actObj.rotatedAngle = angle;\n            this.squareStartIntersectX1 = startX + (y / 2) * Math.cos(angle);\n            this.squareStartIntersectY1 = startY + (y / 2) * Math.sin(angle);\n            if (actObj.start === 'square' && actObj.end !== 'square' && actObj.end !== 'circle') {\n                this.shapeLine(canvasDraw, endX, endY, this.squareStartIntersectX1, this.squareStartIntersectY1);\n            }\n            if (actObj.start === 'square' && actObj.end === 'circle') {\n                this.shapeLine(canvasDraw, this.endCircleIntersectX1, this.endCircleIntersectY1, this.squareStartIntersectX1, this.squareStartIntersectY1);\n            }\n        }\n    };\n    Draw.prototype.arrowSquareEnd = function (canvasDraw) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        var strWidth = actObj.strokeSettings.strokeWidth;\n        var x = this.arrowDimension['square']['width'];\n        var y = this.arrowDimension['square']['height'];\n        var point = this.manipulateSaveCtx(canvasDraw, x, y);\n        x = point.x + strWidth;\n        y = point.y + strWidth;\n        this.dx = endX - startX;\n        this.dy = endY - startY;\n        var angle = Math.atan2(this.dy, this.dx);\n        canvasDraw.lineWidth = (strWidth);\n        if (actObj.triangleDirection === 'right') {\n            canvasDraw.fillStyle = actObj.strokeSettings.strokeColor;\n            if (actObj.end === 'squareSolid' && actObj.start === 'none') {\n                this.shapeLine(canvasDraw, startX, startY, endX, endY);\n            }\n            canvasDraw.translate(endX, endY);\n            canvasDraw.rotate(angle);\n            if (actObj.end === 'squareSolid') {\n                canvasDraw.fillRect(-x + y / 2, -y / 2, x, y);\n            }\n            canvasDraw.strokeRect(-x + y / 2, -y / 2, x, y);\n            canvasDraw.rotate(-angle);\n            canvasDraw.translate(-endX, -endY);\n            actObj.rotatedAngle = angle;\n            this.squareEndIntersectX1 = endX - (y / 2) * Math.cos(angle);\n            this.squareEndIntersectY1 = endY - (y / 2) * Math.sin(angle);\n            if (actObj.end === 'square' && actObj.start !== 'square' && actObj.start !== 'circle') {\n                this.shapeLine(canvasDraw, startX, startY, this.squareEndIntersectX1, this.squareEndIntersectY1);\n            }\n            else if (actObj.start === 'circle' && actObj.end === 'square') {\n                this.shapeLine(canvasDraw, this.squareEndIntersectX1, this.squareEndIntersectY1, this.startCircleIntersectX1, this.startCircleIntersectY1);\n            }\n            else if (actObj.start === 'square' && actObj.end === 'square') {\n                this.shapeLine(canvasDraw, this.squareEndIntersectX1, this.squareEndIntersectY1, this.squareStartIntersectX1, this.squareStartIntersectY1);\n            }\n        }\n        else if (actObj.triangleDirection === 'left') {\n            canvasDraw.translate(startX, startY);\n            canvasDraw.rotate(angle);\n            if (actObj.end === 'squareSolid') {\n                canvasDraw.fillRect(y / 2 - x, -y / 2, x, y);\n            }\n            canvasDraw.strokeRect(y / 2 - x, -y / 2, x, y);\n            canvasDraw.rotate(-angle);\n            canvasDraw.translate(-startX, -startY);\n            actObj.rotatedAngle = angle;\n            this.squareEndIntersectX1 = startX + (y / 2) * Math.cos(angle);\n            this.squareEndIntersectY1 = startY + (y / 2) * Math.sin(angle);\n            if (actObj.end === 'square' && actObj.start !== 'square' && actObj.start !== 'circle') {\n                this.shapeLine(canvasDraw, endX, endY, this.squareEndIntersectX1, this.squareEndIntersectY1);\n            }\n            else if (actObj.start === 'circle' && actObj.end === 'square') {\n                this.shapeLine(canvasDraw, this.squareEndIntersectX1, this.squareEndIntersectY1, this.startCircleIntersectX1, this.startCircleIntersectY1);\n            }\n            else if (actObj.start === 'square' && actObj.end === 'square') {\n                this.shapeLine(canvasDraw, this.squareEndIntersectX1, this.squareEndIntersectY1, this.squareStartIntersectX1, this.squareStartIntersectY1);\n            }\n            else if (actObj.end === 'squareSolid' && actObj.start === 'none') {\n                this.shapeLine(canvasDraw, startX, startY, endX, endY);\n            }\n        }\n    };\n    Draw.prototype.arrowCircle = function (canvasDraw, start) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        var strWidth = actObj.strokeSettings.strokeWidth;\n        if ((start && actObj.triangleDirection === 'left') ||\n            (!start && actObj.triangleDirection === 'right')) {\n            canvasDraw.lineWidth = strWidth;\n            var circleRadius = this.arrowDimension['circle']['width'];\n            var point = this.manipulateSaveCtx(canvasDraw, circleRadius, null);\n            circleRadius = point.x + strWidth;\n            canvasDraw.beginPath();\n            canvasDraw.arc(endX, endY, circleRadius, 0, 2 * Math.PI);\n            canvasDraw.stroke();\n            canvasDraw.closePath();\n            this.dx = endX - startX;\n            this.dy = endY - startY;\n            var a = this.dx * this.dx + this.dy * this.dy;\n            var b = 2 * (this.dx * (startX - endX) + this.dy * (startY - endY));\n            var c = (startX - endX) * (startX - endX) + (startY - endY) *\n                (startY - endY) - circleRadius * circleRadius;\n            var intersect = b * b - 4 * a * c;\n            if (intersect >= 0) {\n                canvasDraw.fillStyle = actObj.strokeSettings.strokeColor;\n                var t2 = (-b - Math.sqrt(intersect)) / (2 * a);\n                var intersectionX1 = startX + this.dx * t2;\n                var intersectionY1 = startY + this.dy * t2;\n                if (start) {\n                    this.startCircleIntersectX1 = intersectionX1;\n                    this.startCircleIntersectY1 = intersectionY1;\n                    this.endCircleIntersectX1 = endX - this.dx * t2;\n                    this.endCircleIntersectY1 = endY - this.dy * t2;\n                    canvasDraw.beginPath();\n                    canvasDraw.fill();\n                    canvasDraw.beginPath();\n                    if (actObj.start === 'circle' && actObj.end === 'circle') {\n                        this.shapeLine(canvasDraw, this.startCircleIntersectX1, this.startCircleIntersectY1, this.endCircleIntersectX1, this.endCircleIntersectY1);\n                    }\n                    else if (actObj.start === 'circle' && actObj.end !== 'circle' && actObj.end !== 'square') {\n                        this.shapeLine(canvasDraw, startX, startY, this.startCircleIntersectX1, this.startCircleIntersectY1);\n                    }\n                    canvasDraw.stroke();\n                    canvasDraw.closePath();\n                }\n                else {\n                    this.endCircleIntersectX1 = intersectionX1;\n                    this.endCircleIntersectY1 = intersectionY1;\n                    if (actObj.end === 'circle' && (actObj.start !== 'circle' && actObj.start !== 'square')) {\n                        this.shapeLine(canvasDraw, startX, startY, this.endCircleIntersectX1, this.endCircleIntersectY1);\n                    }\n                }\n            }\n            var angle = Math.atan2(this.dy, this.dx);\n            parent.activeObj.rotatedAngle = angle;\n        }\n        else if ((start && actObj.triangleDirection === 'right') ||\n            (!start && actObj.triangleDirection === 'left')) {\n            canvasDraw.lineWidth = strWidth;\n            var circleRadius = this.arrowDimension['circle']['width'];\n            var point = this.manipulateSaveCtx(canvasDraw, circleRadius, null);\n            circleRadius = point.x + strWidth;\n            canvasDraw.beginPath();\n            canvasDraw.arc(startX, startY, circleRadius, 0, 2 * Math.PI);\n            canvasDraw.stroke();\n            canvasDraw.closePath();\n            this.dx = startX - endX;\n            this.dy = startY - endY;\n            var a = this.dx * this.dx + this.dy * this.dy;\n            var b = 2 * (this.dx * (endX - startX) + this.dy * (endY - startY));\n            var c = (endX - startX) * (endX - startX) + (endY - startY) *\n                (endY - startY) - circleRadius * circleRadius;\n            var intersect = b * b - 4 * a * c;\n            if (intersect >= 0) {\n                canvasDraw.fillStyle = actObj.strokeSettings.strokeColor;\n                var t2 = (-b - Math.sqrt(intersect)) / (2 * a);\n                var intersectionX1 = endX + this.dx * t2;\n                var intersectionY1 = endY + this.dy * t2;\n                if (start) {\n                    this.startCircleIntersectX1 = intersectionX1;\n                    this.startCircleIntersectY1 = intersectionY1;\n                    this.endCircleIntersectX1 = startX - this.dx * t2;\n                    this.endCircleIntersectY1 = startY - this.dy * t2;\n                    if (actObj.start === 'circle' && actObj.end === 'circle') {\n                        this.shapeLine(canvasDraw, this.endCircleIntersectX1, this.endCircleIntersectY1, this.startCircleIntersectX1, this.startCircleIntersectY1);\n                    }\n                    else if (actObj.start === 'circle' && actObj.end !== 'circle' && actObj.end !== 'square') {\n                        this.shapeLine(canvasDraw, endX, endY, this.startCircleIntersectX1, this.startCircleIntersectY1);\n                    }\n                }\n                else {\n                    this.endCircleIntersectX1 = intersectionX1;\n                    this.endCircleIntersectY1 = intersectionY1;\n                    canvasDraw.beginPath();\n                    canvasDraw.fill();\n                    canvasDraw.beginPath();\n                    if (actObj.end === 'circle' && (actObj.start !== 'circle' && actObj.start !== 'square')) {\n                        this.shapeLine(canvasDraw, endX, endY, this.endCircleIntersectX1, this.endCircleIntersectY1);\n                    }\n                }\n            }\n            var angle = Math.atan2(this.dy, this.dx);\n            parent.activeObj.rotatedAngle = angle;\n        }\n    };\n    Draw.prototype.arrowCircleSolid = function (canvasDraw, start) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        var isStartCircleSolid = actObj.start === 'circleSolid';\n        var strWidth = actObj.strokeSettings.strokeWidth;\n        if ((start && actObj.triangleDirection === 'left') || (!start && actObj.triangleDirection === 'right')) {\n            canvasDraw.lineWidth = strWidth;\n            canvasDraw.beginPath();\n            canvasDraw.fillStyle = actObj.strokeSettings.strokeColor;\n            if ((start && (isStartCircleSolid && actObj.end === 'none') ||\n                (isStartCircleSolid && actObj.end !== 'circle' && actObj.end !== 'square')) ||\n                (!start && (actObj.end === 'circleSolid' && actObj.start === 'none'))) {\n                this.shapeLine(canvasDraw, startX, startY, endX, endY);\n            }\n            var circleRadius = this.arrowDimension['circle']['width'];\n            var point = this.manipulateSaveCtx(canvasDraw, circleRadius, null);\n            circleRadius = point.x + strWidth;\n            this.dx = endX - startX;\n            this.dy = endY - startY;\n            canvasDraw.save();\n            canvasDraw.beginPath();\n            canvasDraw.arc(endX, endY, circleRadius, 0, 2 * Math.PI);\n            canvasDraw.stroke();\n            canvasDraw.fill();\n            canvasDraw.closePath();\n            actObj.rotatedAngle = Math.atan2(this.dy, this.dx);\n        }\n        else if ((start && actObj.triangleDirection === 'right') || (!start && actObj.triangleDirection === 'left')) {\n            canvasDraw.lineWidth = strWidth;\n            canvasDraw.beginPath();\n            canvasDraw.fillStyle = actObj.strokeSettings.strokeColor;\n            if ((start && (isStartCircleSolid && actObj.end === 'none') ||\n                (isStartCircleSolid && actObj.end !== 'circle' && actObj.end !== 'square')) ||\n                !start && (actObj.end === 'circleSolid' && actObj.start === 'none')) {\n                this.shapeLine(canvasDraw, startX, startY, endX, endY);\n            }\n            var circleRadius = this.arrowDimension['circle']['width'];\n            var point = this.manipulateSaveCtx(canvasDraw, circleRadius, null);\n            circleRadius = point.x + strWidth;\n            this.dx = endX - startX;\n            this.dy = endY - startY;\n            canvasDraw.save();\n            canvasDraw.beginPath();\n            canvasDraw.arc(startX, startY, circleRadius, 0, 2 * Math.PI);\n            canvasDraw.stroke();\n            canvasDraw.fill();\n            canvasDraw.closePath();\n            actObj.rotatedAngle = Math.atan2(this.dy, this.dx);\n        }\n    };\n    Draw.prototype.arrowBar = function (canvasDraw, start) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        var strWidth = actObj.strokeSettings.strokeWidth;\n        if ((start && actObj.triangleDirection === 'left') || (!start && actObj.triangleDirection === 'right')) {\n            canvasDraw.lineWidth = strWidth;\n            canvasDraw.beginPath();\n            canvasDraw.fillStyle = actObj.strokeSettings.strokeColor;\n            if ((start && (actObj.start === 'bar' && actObj.end === 'none') ||\n                (actObj.start === 'bar' && (actObj.end !== 'circle' && actObj.end !== 'square'))) ||\n                (!start && ((actObj.end === 'bar' && actObj.start === 'none') ||\n                    (actObj.end === 'bar' && (actObj.start !== 'circle' && actObj.start !== 'square'))))) {\n                this.shapeLine(canvasDraw, startX, startY, endX, endY);\n            }\n            var x = this.arrowDimension['bar']['width'];\n            var y = this.arrowDimension['bar']['height'];\n            var point = this.manipulateSaveCtx(canvasDraw, x, y);\n            x = point.x + strWidth;\n            y = point.y + strWidth;\n            this.dx = endX - startX;\n            this.dy = endY - startY;\n            var angle = Math.atan2(this.dy, this.dx);\n            canvasDraw.translate(endX, endY);\n            canvasDraw.rotate(angle);\n            canvasDraw.fillRect(-x + y / 4, -y / 2, x, y);\n            canvasDraw.rotate(-angle);\n            canvasDraw.translate(-endX, -endY);\n            actObj.rotatedAngle = angle;\n        }\n        else if ((start && actObj.triangleDirection === 'right') || (!start && actObj.triangleDirection === 'left')) {\n            canvasDraw.lineWidth = strWidth;\n            canvasDraw.beginPath();\n            canvasDraw.fillStyle = actObj.strokeSettings.strokeColor;\n            if ((start && (actObj.start === 'bar' && actObj.end === 'none')\n                || (actObj.start === 'bar' && (actObj.end !== 'circle' && actObj.end !== 'square'))) ||\n                (!start && (actObj.end === 'bar' && actObj.start === 'none'))) {\n                this.shapeLine(canvasDraw, startX, startY, endX, endY);\n            }\n            var x = this.arrowDimension['bar']['width'];\n            var y = this.arrowDimension['bar']['height'];\n            var point = this.manipulateSaveCtx(canvasDraw, x, y);\n            x = point.x + strWidth;\n            y = point.y + strWidth;\n            this.dx = endX - startX;\n            this.dy = endY - startY;\n            var angle = Math.atan2(this.dy, this.dx);\n            canvasDraw.translate(startX, startY);\n            canvasDraw.rotate(angle);\n            canvasDraw.fillRect(y / 4 - x, -y / 2, x, y);\n            canvasDraw.rotate(-angle);\n            canvasDraw.translate(-startX, -startY);\n            parent.activeObj.rotatedAngle = angle;\n        }\n    };\n    Draw.prototype.shapeImage = function (canvasDraw) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, width = _a.width, height = _a.height;\n        var ctx = actObj.imageCanvas.getContext('2d');\n        if (canvasDraw === this.lowerContext && this.isImageApply) {\n            var dimObj = { width: 0, height: 0 };\n            parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false, value: { width: actObj\n                        .imageElement.width, height: actObj.imageElement.height, obj: dimObj, isImgShape: null } });\n            if (width < (dimObj['width'] / 5) || height < (dimObj['height'] / 5)) {\n                ctx.clearRect(0, 0, actObj.imageCanvas.width, actObj.imageCanvas.height);\n                parent.notify('selection', { prop: 'applyTransformToImg', onPropertyChange: false, value: { ctx: ctx } });\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                parent.notify('selection', { prop: 'setImageClarity', onPropertyChange: false, value: { bool: false } });\n                this.isImageApply = false;\n            }\n        }\n        var imgPoint = { startX: 0, startY: 0, width: 0, height: 0 };\n        imgPoint.width = width;\n        imgPoint.height = height;\n        if (actObj.flipObjColl.length === 4) {\n            actObj.flipObjColl = [];\n            actObj.shapeFlip = '';\n        }\n        imgPoint.startX = ((width - imgPoint.width) / 2) + startX;\n        imgPoint.startY = ((height - imgPoint.height) / 2) + startY;\n        var temp = canvasDraw.globalAlpha;\n        canvasDraw.globalAlpha = actObj.opacity;\n        if (actObj.rotateFlipColl && actObj.rotateFlipColl.length > 0) {\n            this.rotateImage(canvasDraw);\n        }\n        else {\n            canvasDraw.drawImage(actObj.imageCanvas, imgPoint.startX, imgPoint.startY, imgPoint.width, imgPoint.height);\n        }\n        canvasDraw.globalAlpha = temp;\n        parent.currObjType.isText = false;\n    };\n    Draw.prototype.shapeText = function (canvasDraw) {\n        var parent = this.parent;\n        var filter = canvasDraw.filter;\n        var actObj = parent.activeObj;\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, width = _a.width, height = _a.height;\n        var rows = actObj.keyHistory.split('\\n');\n        var _b = actObj.textSettings, fontFamily = _b.fontFamily, bold = _b.bold, italic = _b.italic;\n        var fontSize = actObj.textSettings.fontSize;\n        var lHeight = fontSize + fontSize * 0.25;\n        var lineHeight = ((lHeight * rows.length) - (fontSize * rows.length)) / rows.length;\n        canvasDraw.filter = 'none';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempFill = canvasDraw.fillStyle;\n        if (actObj.strokeSettings.fillColor !== '') {\n            canvasDraw.fillStyle = actObj.strokeSettings.fillColor;\n            canvasDraw.fillRect(actObj.activePoint.startX, actObj.activePoint.startY, actObj.activePoint.width, actObj.activePoint.height);\n        }\n        canvasDraw.fillStyle = tempFill;\n        for (var i = 0; i < rows.length; i++) {\n            var text = rows[i];\n            var yPoint = ((i + 1) * fontSize * 0.85) + (i * lineHeight);\n            if (parent.transform.degree === -360) {\n                parent.transform.degree = 0;\n            }\n            if (parent.transform.degree === 0 || parent.transform.degree === 180) {\n                if (fontSize > height) {\n                    fontSize = actObj.textSettings.fontSize = height - (height * 0.1);\n                }\n            }\n            else {\n                if (fontSize > width) {\n                    fontSize = actObj.textSettings.fontSize = width - (width * 0.1);\n                }\n            }\n            canvasDraw.strokeStyle = actObj.strokeSettings.outlineColor;\n            canvasDraw.fillStyle = actObj.strokeSettings.strokeColor;\n            var tempWidth = canvasDraw.lineWidth;\n            var obj = { width: 0, height: 0 };\n            var ratio = { width: 1, height: 1 };\n            parent.notify('crop', { prop: 'calcRatio', onPropertyChange: false,\n                value: { obj: obj, dimension: { width: canvasDraw.canvas.width, height: canvasDraw.canvas.height } } });\n            ratio = obj;\n            var isTempCanvas = canvasDraw.canvas.id === parent.element.id + '_tempCanvas';\n            var baseWidth = Math.max(1, actObj.strokeSettings.outlineWidth / 2);\n            if (/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6}|[0-9A-Fa-f]{8})$|^[a-zA-Z]+$/.test(actObj.strokeSettings.outlineColor)) {\n                canvasDraw.lineWidth = baseWidth * ((isTempCanvas ? Math.floor((fontSize - 1) / 60) :\n                    Math.floor((fontSize - 1) / 16)) * 0.5 + 0.5);\n                if (isTempCanvas) {\n                    canvasDraw.lineWidth *= ((ratio.width + ratio.height) / 2);\n                    if (parent.transform.degree !== 0) {\n                        canvasDraw.lineWidth /= 1.8;\n                    }\n                }\n            }\n            else {\n                canvasDraw.lineWidth = 1;\n            }\n            var textStyle = '';\n            if (bold) {\n                textStyle = 'bold ';\n            }\n            if (italic) {\n                textStyle = 'italic ';\n            }\n            if (bold && italic) {\n                textStyle = 'italic bold ';\n            }\n            canvasDraw.font = textStyle + fontSize + 'px' + ' ' + fontFamily;\n            if (actObj.flipObjColl.length === 4) {\n                actObj.flipObjColl = [];\n                actObj.shapeFlip = '';\n            }\n            if (actObj.rotateFlipColl && actObj.rotateFlipColl.length > 0) {\n                this.rotateText(canvasDraw);\n            }\n            else {\n                canvasDraw.strokeText(text, startX + fontSize * 0.1, startY + yPoint);\n                canvasDraw.fillText(text, startX + fontSize * 0.1, startY + yPoint);\n            }\n            canvasDraw.lineWidth = tempWidth;\n        }\n        canvasDraw.filter = filter;\n        parent.currObjType.isText = false;\n        if (this.upperContext === canvasDraw) {\n            this.drawOuterSelection(canvasDraw);\n        }\n    };\n    Draw.prototype.updateActPoint = function (degree, canvasDraw) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var actPoint = actObj.activePoint;\n        if (degree.toLowerCase() === 'horizontal') {\n            if (actPoint.startX <= canvasDraw.canvas.width / 2) {\n                actPoint.startX = canvasDraw.canvas.width / 2 + ((canvasDraw.canvas.width / 2) - actPoint.endX);\n                actPoint.endX = actPoint.startX + actPoint.width;\n                this.updateActiveObject(actPoint, actObj);\n                parent.activeObj = actObj;\n            }\n            else if (actPoint.startX >= canvasDraw.canvas.width / 2) {\n                actPoint.startX = canvasDraw.canvas.width - actPoint.endX;\n                actPoint.endX = actPoint.startX + actPoint.width;\n                this.updateActiveObject(actPoint, actObj);\n                parent.activeObj = actObj;\n            }\n        }\n        else if (degree.toLowerCase() === 'vertical') {\n            if (actPoint.startY <= canvasDraw.canvas.height / 2) {\n                actPoint.startY = canvasDraw.canvas.height / 2 + ((canvasDraw.canvas.height / 2) - actPoint.endY);\n                actPoint.endY = actPoint.startY + actPoint.height;\n                this.updateActiveObject(actPoint, actObj);\n                parent.activeObj = actObj;\n            }\n            else if (actPoint.startY >= canvasDraw.canvas.height / 2) {\n                actPoint.startY = canvasDraw.canvas.height - actPoint.endY;\n                actPoint.endY = actPoint.startY + actPoint.height;\n                this.updateActiveObject(actPoint, actObj);\n                parent.activeObj = actObj;\n            }\n        }\n        return actPoint;\n    };\n    Draw.prototype.rotateImage = function (canvasDraw) {\n        var parent = this.parent;\n        var degree;\n        var actObj = parent.activeObj;\n        var tempActiveObj = extend({}, parent.activeObj, null, true);\n        if (actObj.shapeDegree === 0) {\n            degree = parent.transform.degree;\n        }\n        else {\n            degree = parent.transform.degree - actObj.shapeDegree;\n        }\n        if (degree === -450) {\n            degree = -90;\n        }\n        if (degree < 0) {\n            degree = 360 + degree;\n        }\n        var imgPoint = { startX: 0, startY: 0, width: 0, height: 0 };\n        imgPoint.width = degree % 90 === 0 && degree % 180 !== 0 ? actObj.activePoint.height : actObj.activePoint.width;\n        imgPoint.height = degree % 90 === 0 && degree % 180 !== 0 ? actObj.activePoint.width :\n            actObj.activePoint.height;\n        imgPoint.startX = actObj.activePoint.startX;\n        imgPoint.startY = actObj.activePoint.startY;\n        var startX = imgPoint.startX;\n        var startY = imgPoint.startY;\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var tempDegree;\n        var tempColl = [];\n        canvasDraw.save();\n        for (var i = 0, len = actObj.rotateFlipColl.length; i < len; i++) {\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var coll = actObj.rotateFlipColl[i];\n            tempColl.push(coll);\n            if (typeof (coll) === 'number') {\n                tempDegree = coll;\n                if (tempDegree === -450) {\n                    tempDegree = -90;\n                }\n                if (tempDegree < 0) {\n                    tempDegree = 360 + tempDegree;\n                }\n                imgPoint.width = tempDegree % 90 === 0 && tempDegree % 180 !== 0 ? actObj.activePoint.height : actObj.activePoint.width;\n                imgPoint.height = tempDegree % 90 === 0 && tempDegree % 180 !== 0 ? actObj.activePoint.width :\n                    actObj.activePoint.height;\n                canvasDraw.translate(canvasDraw.canvas.width / 2, canvasDraw.canvas.height / 2);\n                canvasDraw.rotate(Math.PI / 180 * coll);\n                canvasDraw.translate(-canvasDraw.canvas.height / 2, -canvasDraw.canvas.width / 2);\n                if ((tempDegree % 90 === 0 && tempDegree % 270 !== 0) || tempDegree === 0) {\n                    startY = canvasDraw.canvas.width - (actObj.activePoint.startX + actObj.activePoint.width);\n                    startY += ((actObj.activePoint.width - imgPoint.height) / 2);\n                    startX = imgPoint.startY;\n                }\n                else if (tempDegree % 270 === 0) {\n                    startX = canvasDraw.canvas.height - (actObj.activePoint.startY + actObj.activePoint.height);\n                    startX += ((actObj.activePoint.height - imgPoint.width) / 2);\n                    startY = imgPoint.startX;\n                }\n                imgPoint.startX = startX;\n                imgPoint.startY = startY;\n                actObj.activePoint.startX = startX;\n                actObj.activePoint.startY = startY;\n                actObj.activePoint.endX = actObj.activePoint.startX + imgPoint.width;\n                actObj.activePoint.endY = actObj.activePoint.startY + imgPoint.height;\n                actObj = this.updateWidthHeight(actObj);\n            }\n            else {\n                if (coll === 'horizontal' && degree % 90 === 0 && degree % 180 !== 0) {\n                    coll = 'vertical';\n                }\n                else if (coll === 'vertical' && degree % 90 === 0 && degree % 180 !== 0) {\n                    coll = 'horizontal';\n                }\n                if (coll === 'horizontal') {\n                    canvasDraw.translate(canvasDraw.canvas.width, 0);\n                    canvasDraw.scale(-1, 1);\n                    actObj.activePoint = this.updateActPoint('horizontal', canvasDraw);\n                }\n                else if (coll === 'vertical') {\n                    canvasDraw.translate(0, canvasDraw.canvas.height);\n                    canvasDraw.scale(1, -1);\n                    actObj.activePoint = this.updateActPoint('vertical', canvasDraw);\n                }\n                imgPoint.startX = actObj.activePoint.startX;\n                imgPoint.startY = actObj.activePoint.startY;\n            }\n            imgPoint.startX = actObj.activePoint.startX;\n            imgPoint.startY = actObj.activePoint.startY;\n            startX = imgPoint.startX;\n            startY = imgPoint.startY;\n        }\n        if (actObj.rotatedAngle !== 0) {\n            parent.notify('shape', { prop: 'setPointCollForShapeRotation', onPropertyChange: false, value: { obj: actObj } });\n        }\n        canvasDraw.drawImage(actObj.imageCanvas, imgPoint.startX, imgPoint.startY, imgPoint.width, imgPoint.height);\n        canvasDraw.restore();\n        parent.activeObj = tempActiveObj;\n        if (parent.transform.degree === 360 || parent.transform.degree === -360) {\n            parent.transform.degree = 0;\n        }\n    };\n    Draw.prototype.rotateText = function (canvasDraw) {\n        var parent = this.parent;\n        var degree;\n        var actObj = parent.activeObj;\n        var tempActiveObj = extend({}, parent.activeObj, null, true);\n        var actPoint = parent.activeObj.activePoint;\n        if (actObj.shapeDegree === 0) {\n            degree = parent.transform.degree;\n        }\n        else {\n            degree = parent.transform.degree - actObj.shapeDegree;\n        }\n        if (degree === -450) {\n            degree = -90;\n        }\n        if (degree < 0) {\n            degree = 360 + degree;\n        }\n        var imgPoint = { startX: 0, startY: 0, width: 0, height: 0 };\n        imgPoint.width = degree % 90 === 0 && degree % 180 !== 0 ? actPoint.height : actPoint.width;\n        imgPoint.height = degree % 90 === 0 && degree % 180 !== 0 ? actPoint.width : actPoint.height;\n        imgPoint.startX = actPoint.startX;\n        imgPoint.startY = actPoint.startY;\n        var startX = imgPoint.startX;\n        var startY = imgPoint.startY;\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var tempDegree;\n        var tempColl = [];\n        canvasDraw.save();\n        for (var i = 0, len = actObj.rotateFlipColl.length; i < len; i++) {\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var coll = actObj.rotateFlipColl[i];\n            tempColl.push(coll);\n            if (typeof (coll) === 'number') {\n                tempDegree = coll;\n                if (tempDegree === -450) {\n                    tempDegree = -90;\n                }\n                if (tempDegree < 0) {\n                    tempDegree = 360 + tempDegree;\n                }\n                imgPoint.width = tempDegree % 90 === 0 && tempDegree % 180 !== 0 ? actPoint.height : actPoint.width;\n                imgPoint.height = tempDegree % 90 === 0 && tempDegree % 180 !== 0 ? actPoint.width : actPoint.height;\n                canvasDraw.translate(canvasDraw.canvas.width / 2, canvasDraw.canvas.height / 2);\n                canvasDraw.rotate(Math.PI / 180 * coll);\n                canvasDraw.translate(-canvasDraw.canvas.height / 2, -canvasDraw.canvas.width / 2);\n                if ((tempDegree % 90 === 0 && tempDegree % 270 !== 0) || tempDegree === 0) {\n                    startY = (canvasDraw.canvas.width - actPoint.endX);\n                    startX = actPoint.startY;\n                }\n                else if (tempDegree % 270 === 0) {\n                    startX = canvasDraw.canvas.height - actPoint.endY;\n                    startY = actPoint.startX;\n                }\n                imgPoint.startX = startX;\n                imgPoint.startY = startY;\n                actPoint.startX = startX;\n                actPoint.startY = startY;\n                actPoint.endX = actPoint.startX + imgPoint.width;\n                actPoint.endY = actPoint.startY + imgPoint.height;\n                actObj = this.updateWidthHeight(actObj);\n            }\n            else {\n                if (coll === 'horizontal' && degree % 90 === 0 && degree % 180 !== 0) {\n                    coll = 'vertical';\n                }\n                else if (coll === 'vertical' && degree % 90 === 0 && degree % 180 !== 0) {\n                    coll = 'horizontal';\n                }\n                if (coll === 'horizontal') {\n                    canvasDraw.translate(canvasDraw.canvas.width, 0);\n                    canvasDraw.scale(-1, 1);\n                }\n                else if (coll === 'vertical') {\n                    canvasDraw.translate(0, canvasDraw.canvas.height);\n                    canvasDraw.scale(1, -1);\n                }\n                actObj.activePoint = actPoint = this.updateActPoint(coll, canvasDraw);\n                imgPoint.startX = actPoint.startX;\n                imgPoint.startY = actPoint.startY;\n            }\n            imgPoint.startX = actPoint.startX;\n            imgPoint.startY = actPoint.startY;\n            startX = imgPoint.startX;\n            startY = imgPoint.startY;\n        }\n        if (actObj.rotatedAngle !== 0) {\n            parent.notify('shape', { prop: 'setPointCollForShapeRotation', onPropertyChange: false, value: { obj: actObj } });\n        }\n        startY += actObj.textSettings.fontSize * 0.4;\n        this.textFlipDegree(canvasDraw, startX, startY);\n        canvasDraw.restore();\n        parent.activeObj = tempActiveObj;\n        if (parent.transform.degree === 360 || parent.transform.degree === -360) {\n            parent.transform.degree = 0;\n        }\n    };\n    Draw.prototype.textFlipDegree = function (canvasDraw, startX, startY) {\n        var parent = this.parent;\n        var actObj = parent.activeObj;\n        var rows = actObj.keyHistory.split('\\n');\n        var fontSize = actObj.textSettings.fontSize;\n        var lineHeight = ((fontSize * rows.length) - (fontSize * rows.length)) / rows.length;\n        var yPoint = (fontSize * 0.85) + lineHeight;\n        for (var i = 0, len = rows.length; i < len; i++) {\n            var text = rows[i];\n            if (i > 0) {\n                if (i === 1) {\n                    yPoint -= (fontSize * 0.85);\n                }\n                yPoint += fontSize + fontSize * 0.15;\n            }\n            canvasDraw.strokeText(text, startX + fontSize * 0.15, startY +\n                yPoint + (i > 0 ? fontSize * 0.25 : -fontSize * 0.35));\n            canvasDraw.fillText(text, startX + fontSize * 0.15, startY +\n                yPoint + (i > 0 ? fontSize * 0.25 : -fontSize * 0.35));\n        }\n    };\n    Draw.prototype.clearOuterCanvas = function (context) {\n        var parent = this.parent;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        var left = destLeft > 0 ? destLeft : 0;\n        var top = destTop > 0 ? destTop : 0;\n        context.clearRect(0, 0, left, parent.lowerCanvas.height);\n        context.clearRect(destLeft + destWidth, 0, parent.lowerCanvas.width - (destLeft + destWidth), parent.lowerCanvas.height);\n        context.clearRect(0, 0, parent.lowerCanvas.width, top);\n        context.clearRect(0, destTop + destHeight, parent.lowerCanvas.width, parent.lowerCanvas.height - (destTop + destHeight));\n        if (parent.transform.currFlipState !== '') {\n            parent.img.destLeft = destLeft;\n            parent.img.destTop = destTop;\n        }\n    };\n    Draw.prototype.setDestPoints = function () {\n        var maxDimension;\n        var parent = this.parent;\n        var _a = parent.transform, degree = _a.degree, zoomFactor = _a.zoomFactor;\n        if (degree % 90 === 0 && degree % 180 !== 0) {\n            var obj = { width: 0, height: 0 };\n            parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n                value: { width: parent.img.srcHeight, height: parent.img.srcWidth, obj: obj, isImgShape: null } });\n            maxDimension = obj;\n            if (this.isRotateZoom) {\n                maxDimension.width += (maxDimension.width * zoomFactor);\n                maxDimension.height += (maxDimension.height * zoomFactor);\n                parent.img.destWidth = maxDimension.height;\n                parent.img.destHeight = maxDimension.width;\n            }\n            parent.img.destLeft = (parent.lowerCanvas.clientWidth - maxDimension.height) / 2;\n            parent.img.destTop = (parent.lowerCanvas.clientHeight - maxDimension.width) / 2;\n            parent.img.destWidth = maxDimension.height;\n            parent.img.destHeight = maxDimension.width;\n        }\n        else {\n            var obj = { width: 0, height: 0 };\n            parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n                value: { width: parent.img.srcWidth, height: parent.img.srcHeight, obj: obj, isImgShape: null } });\n            maxDimension = obj;\n            if (this.isRotateZoom) {\n                maxDimension.width += (maxDimension.width * zoomFactor);\n                maxDimension.height += (maxDimension.height * zoomFactor);\n                parent.img.destWidth = maxDimension.width;\n                parent.img.destHeight = maxDimension.height;\n            }\n            parent.img.destLeft = (parent.lowerCanvas.clientWidth - maxDimension.width) / 2;\n            if (degree === 0) {\n                parent.img.destTop = (parent.lowerCanvas.clientHeight - maxDimension.height + 1) / 2;\n            }\n            else {\n                parent.img.destTop = (parent.lowerCanvas.clientHeight - maxDimension.height) / 2;\n            }\n            parent.img.destWidth = maxDimension.width;\n            parent.img.destHeight = maxDimension.height;\n        }\n    };\n    Draw.prototype.updateCurrTransState = function (type, isPreventDestination, isRotatePan, isStraighten) {\n        var parent = this.parent;\n        var destLeft = parent.img.destLeft;\n        var destTop = parent.img.destTop;\n        if (type === 'initial') {\n            this.lowerContext.setTransform(1, 0, 0, 1, 0, 0);\n            if (isNullOrUndefined(isPreventDestination)) {\n                this.setDestPoints();\n            }\n        }\n        if (parent.isCircleCrop || (parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle')) {\n            this.currTransState(type, true, null, isRotatePan);\n            if (parent.transform.degree === 0 && parent.transform.currFlipState === '' && parent.transform.straighten === 0 &&\n                isNullOrUndefined(isStraighten)) {\n                parent.img.destLeft = destLeft;\n                parent.img.destTop = destTop;\n            }\n            if (isRotatePan) {\n                parent.img.destLeft += parent.panPoint.totalPannedClientPoint.x;\n                parent.img.destTop +=\n                    parent.panPoint.totalPannedClientPoint.y;\n            }\n            parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                value: { context: this.lowerContext, isSave: null, isFlip: null } });\n            if (isRotatePan) {\n                parent.img.destLeft -= parent.panPoint.totalPannedClientPoint.x;\n                parent.img.destTop -=\n                    parent.panPoint.totalPannedClientPoint.y;\n            }\n        }\n        else {\n            this.currTransState(type, null, null, isRotatePan);\n            if (parent.transform.degree === 0 && parent.transform.currFlipState === '' && parent.transform.straighten === 0 &&\n                isNullOrUndefined(isStraighten)) {\n                parent.img.destLeft = destLeft;\n                parent.img.destTop = destTop;\n            }\n        }\n    };\n    Draw.prototype.currTransState = function (type, isPreventDimension, context, isPreventCircleCrop) {\n        var parent = this.parent;\n        context = context ? context : this.lowerContext;\n        if (type === 'initial') {\n            this.setTransformColl(context, type);\n        }\n        else if (type === 'reverse') {\n            this.setTransformColl(context, type);\n            this.setClientTransDim(isPreventDimension);\n            if (parent.isCircleCrop || (parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle'\n                && isNullOrUndefined(isPreventCircleCrop))) {\n                if (isPreventCircleCrop) {\n                    parent.img.destLeft += parent.panPoint.totalPannedClientPoint.x;\n                    parent.img.destTop += parent.panPoint.totalPannedClientPoint.y;\n                }\n                parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                    value: { context: this.lowerContext, isSave: null, isFlip: null } });\n                if (isPreventCircleCrop) {\n                    parent.img.destLeft -= parent.panPoint.totalPannedClientPoint.x;\n                    parent.img.destTop -= parent.panPoint.totalPannedClientPoint.y;\n                }\n            }\n        }\n    };\n    Draw.prototype.setTransformColl = function (context, type) {\n        var parent = this.parent;\n        if (type === 'initial') {\n            for (var i = 0, len = parent.rotateFlipColl.length; i < len; i++) {\n                this.setTransform(context, parent.rotateFlipColl[i]);\n            }\n        }\n        else if (type === 'reverse') {\n            for (var i = parent.rotateFlipColl.length - 1; i >= 0; i--) {\n                this.setTransform(context, parent.rotateFlipColl[i], true);\n            }\n        }\n    };\n    Draw.prototype.setTransform = function (context, value, isReverse) {\n        var parent = this.parent;\n        if (isReverse && value === 90) {\n            value = -90;\n        }\n        else if (isReverse && value === -90) {\n            value = 90;\n        }\n        if (value === 'horizontal' && parent.transform.degree % 90 === 0 && parent.transform.degree % 180 !== 0) {\n            value = 'vertical';\n        }\n        else if (value === 'vertical' && parent.transform.degree % 90 === 0 && parent.transform.degree % 180 !== 0) {\n            value = 'horizontal';\n        }\n        parent.notify('transform', { prop: 'setReverseRotate', onPropertyChange: false, value: { bool: true } });\n        parent.notify('transform', { prop: 'setReverseFlip', onPropertyChange: false, value: { isReverseFlip: true } });\n        if (isNullOrUndefined(isReverse)) {\n            context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n        }\n        switch (value) {\n            case 90:\n            case -90:\n                context.translate(context.canvas.width / 2, context.canvas.height / 2);\n                context.rotate(Math.PI / 180 * value);\n                context.translate(-context.canvas.width / 2, -context.canvas.height / 2);\n                break;\n            case 'horizontal':\n                context.translate(context.canvas.width, 0);\n                context.scale(-1, 1);\n                break;\n            case 'vertical':\n                context.translate(0, context.canvas.height);\n                context.scale(1, -1);\n                break;\n        }\n        parent.notify('transform', { prop: 'setReverseRotate', onPropertyChange: false, value: { bool: false } });\n        parent.notify('transform', { prop: 'setReverseFlip', onPropertyChange: false, value: { isReverseFlip: false } });\n    };\n    Draw.prototype.drawImgToCanvas = function (maxDimension) {\n        var parent = this.parent;\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        parent.img.destWidth = maxDimension.width;\n        parent.img.destHeight = maxDimension.height;\n        if (this.isInitialLoading) {\n            parent.notify('filter', { prop: 'initFilter', onPropertyChange: false });\n            this.isInitialLoading = false;\n        }\n        var temp = this.lowerContext.filter;\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        this.drawImage();\n        if ((parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') || parent.isCircleCrop) {\n            parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                value: { context: this.lowerContext, isSave: null, isFlip: null } });\n        }\n        this.lowerContext.filter = temp;\n    };\n    Draw.prototype.renderImage = function (isMouseWheel, isPreventClearRect, isFrame, isStraighten) {\n        var parent = this.parent;\n        parent.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: null } });\n        if (isNullOrUndefined(isPreventClearRect)) {\n            this.upperContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n            this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        }\n        if (isMouseWheel) {\n            this.setTransformColl(this.lowerContext, 'initial');\n        }\n        else {\n            if (parent.transform.zoomFactor !== 0) {\n                this.isRotateZoom = true;\n            }\n            this.updateCurrTransState('initial', null, null, isStraighten);\n        }\n        parent.notify('transform', { prop: 'setDestPointsForFlipState', onPropertyChange: false });\n        this.drawImage();\n        parent.notify('transform', { prop: 'setDestPointsForFlipState', onPropertyChange: false });\n        if (isMouseWheel) {\n            this.setTransformColl(this.lowerContext, 'reverse');\n        }\n        else {\n            this.updateCurrTransState('reverse', null, null, isStraighten);\n            this.isRotateZoom = false;\n        }\n        if (isFrame) {\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n        }\n        else {\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'iterate', pen: 'iterate', isPreventApply: null } });\n        }\n        this.clearOuterCanvas(this.lowerContext);\n        if (parent.isCircleCrop || (parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle')) {\n            parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                value: { context: this.lowerContext, isSave: null, isFlip: null } });\n        }\n    };\n    Draw.prototype.imageOnLoad = function (src) {\n        var _this = this;\n        var parent = this.parent;\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        parent.baseImg.src = src;\n        parent.baseImg.onload = function () {\n            parent.imgSrc = src;\n            if (!parent.isUndoRedo) {\n                parent.notify('filter', { prop: 'update-finetunes', onPropertyChange: false });\n            }\n            proxy.lowerContext.drawImage(parent.baseImg, 0, 0, proxy.parent.lowerCanvas.width, proxy.parent.lowerCanvas.height);\n            var isCropped = false;\n            var isSameDimension = false;\n            if (parent.isImageUpdated) {\n                var _a = parent.img, srcWidth = _a.srcWidth, srcHeight = _a.srcHeight;\n                var _b = parent.baseImgCanvas, width = _b.width, height = _b.height;\n                isCropped = srcWidth !== width || srcHeight !== height;\n                isSameDimension = parent.baseImg.width === width && parent.baseImg.height === height;\n            }\n            hideSpinner(parent.element);\n            parent.element.style.opacity = '1';\n            proxy.updateBaseImgCanvas();\n            var fileOpened = { fileName: _this.fileName, fileType: _this.fileType, isValidImage: true };\n            proxy.updateCanvas(isCropped, isSameDimension);\n            if (parent.currObjType.isUndoZoom) {\n                parent.currObjType.isUndoZoom = false;\n                proxy.parent.lowerCanvas.style.display = 'block';\n            }\n            parent.isUndoRedo = _this.isErrorImage = false;\n            if (Browser.isDevice) {\n                parent.notify('toolbar', { prop: 'destroy-top-toolbar', onPropertyChange: false });\n                parent.notify('toolbar', { prop: 'destroy-bottom-toolbar', onPropertyChange: false });\n                var eventargs = { isApplyBtn: false, isDevice: Browser.isDevice, isOkBtn: null,\n                    isResize: null, isFrame: null, isMainToolbar: true };\n                parent.notify('toolbar', { prop: 'init-main-toolbar', onPropertyChange: false, value: eventargs });\n                parent.notify('toolbar', { prop: 'create-bottom-toolbar', onPropertyChange: false });\n            }\n            else {\n                parent.notify('toolbar', { prop: 'destroy-top-toolbar', onPropertyChange: false });\n                var eventargs = { isApplyBtn: false, isDevice: false, isOkBtn: null };\n                parent.notify('toolbar', { prop: 'init-main-toolbar', onPropertyChange: false, value: eventargs });\n            }\n            if (parent.isImageLoaded && parent.element.style.opacity !== '0.5') {\n                parent.trigger('fileOpened', fileOpened);\n                var action = { action: 'file-open', actionEventArgs: fileOpened };\n                parent.triggerEditCompleteEvent(action);\n            }\n        };\n        parent.baseImg.onerror = function () {\n            hideSpinner(parent.element);\n            proxy.isErrorImage = true;\n            proxy.errorLoading();\n        };\n    };\n    Draw.prototype.errorLoading = function () {\n        var parent = this.parent;\n        var fileOpened = { fileName: null, fileType: null, isValidImage: false };\n        parent.trigger('fileOpened', fileOpened);\n    };\n    Draw.prototype.updateBaseImgCanvas = function () {\n        var parent = this.parent;\n        parent.baseImgCanvas.width = parent.baseImg.width;\n        parent.baseImgCanvas.height = parent.baseImg.height;\n        parent.baseImgCanvas.getContext('2d').drawImage(parent.baseImg, 0, 0);\n    };\n    Draw.prototype.updateCanvas = function (isCropped, isSameDimension) {\n        var parent = this.parent;\n        if (!parent.isImageUpdated || !isCropped) {\n            parent.img.srcWidth = parent.baseImgCanvas.width;\n            parent.img.srcHeight = parent.baseImgCanvas.height;\n        }\n        else if (!isSameDimension && isCropped) {\n            parent.img.srcLeft = 0;\n            parent.img.srcTop = 0;\n            parent.img.srcWidth = parent.baseImgCanvas.width;\n            parent.img.srcHeight = parent.baseImgCanvas.height;\n            parent.currSelectionPoint = null;\n            parent.cropObj = { cropZoom: 0, defaultZoom: 0, totalPannedPoint: { x: 0, y: 0 }, totalPannedClientPoint: { x: 0, y: 0 },\n                totalPannedInternalPoint: { x: 0, y: 0 }, tempFlipPanPoint: { x: 0, y: 0 }, activeObj: {}, rotateFlipColl: [],\n                degree: 0, currFlipState: '', straighten: 0, destPoints: { startX: 0, startY: 0, width: 0, height: 0 },\n                srcPoints: { startX: 0, startY: 0, width: 0, height: 0 }, filter: '', isBrightAdjust: false,\n                zoomFactor: 0, previousZoomValue: 0, aspectWidth: null, aspectHeight: null, frame: 'none', straightenZoom: 0,\n                adjustmentLevel: { brightness: 0, contrast: 0, hue: 0, opacity: 100, saturation: 0, blur: 0,\n                    exposure: 0, transparency: 100, sharpen: false, bw: false }, currentFilter: '' };\n        }\n        var obj = { width: 0, height: 0 };\n        parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n            value: { width: parent.img.srcWidth, height: parent.img.srcHeight, obj: obj, isImgShape: null } });\n        var maxDimension = obj;\n        parent.img.destLeft = (parent.lowerCanvas.clientWidth - maxDimension.width) / 2;\n        parent.img.destTop = (parent.lowerCanvas.clientHeight - maxDimension.height + 1) / 2;\n        this.drawImgToCanvas(maxDimension);\n        this.origDim.width = parent.img.destWidth;\n        this.origDim.height = parent.img.destHeight;\n        this.zoomCrop.width = parent.img.destWidth;\n        this.zoomCrop.height = parent.img.destHeight;\n        parent.notify('transform', { prop: 'setCropDimension', onPropertyChange: false,\n            value: { width: parent.img.destWidth, height: parent.img.destHeight } });\n        var point = { startX: parent.img.destLeft, startY: parent.img.destTop, width: parent.img.destWidth,\n            height: parent.img.destHeight };\n        parent.notify('crop', { prop: 'setCropDestPoints', onPropertyChange: false, value: { point: point } });\n        var temp = this.lowerContext.filter;\n        this.lowerContext.filter = 'none';\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'iterate', pen: 'zoom', isPreventApply: null } });\n        this.lowerContext.filter = temp;\n        if (parent.img.destWidth > 0 && parent.img.destHeight > 0) {\n            parent.isImageLoaded = true;\n        }\n        if (parent.isUndoRedo) {\n            if (parent.transform.currFlipState !== '') {\n                parent.notify('transform', { prop: 'flipImage', onPropertyChange: false,\n                    value: { direction: parent.toPascalCase(parent.transform.currFlipState) } });\n            }\n        }\n        if (parent.disabled) {\n            parent.element.setAttribute('class', 'e-disabled');\n        }\n        if (parent.zoomSettings.zoomFactor !== 1 || parent.zoomSettings.zoomPoint) {\n            parent.zoom(parent.zoomSettings.zoomFactor, parent.zoomSettings.zoomPoint);\n        }\n        if (isNullOrUndefined(this.initZoomValue)) {\n            this.initZoomValue = parent.zoomSettings.zoomFactor;\n        }\n        this.isImageEdited = false;\n    };\n    Draw.prototype.resetFrameZoom = function (isOk) {\n        var parent = this.parent;\n        if (!isNullOrUndefined(parent.tempFrameZoomLevel)) {\n            var temp = parent.tempFrameZoomLevel;\n            parent.tempFrameZoomLevel = null;\n            parent.notify('transform', { prop: 'resetZoom', onPropertyChange: false });\n            parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                value: { zoomFactor: temp, zoomPoint: null, isResize: true } });\n            var obj = parent.cancelCropSelection;\n            if (isOk && obj) {\n                obj.previousObj.frameObj = extend({}, parent.frameObj, null, true);\n                obj.currentObj.frameObj = extend({}, parent.frameObj, null, true);\n                obj.previousObj.frame = obj.currentObj.frame = parent.frameObj.type;\n            }\n            this.updateCropSelObj();\n            parent.cancelCropSelection = null;\n        }\n    };\n    Draw.prototype.performCancel = function (isContextualToolbar, isUndoRedo, isFinalCancel) {\n        var parent = this.parent;\n        if (isFinalCancel) {\n            parent.noPushUndo = false;\n        }\n        var straightenObj = { bool: parent.isStraightening };\n        isContextualToolbar = isContextualToolbar ? isContextualToolbar : false;\n        var obj = { bool: false };\n        parent.allowDownScale = true;\n        parent.notify('selection', { prop: 'getFreehandDrawEditing', onPropertyChange: false, value: { obj: obj } });\n        if (isNullOrUndefined(isUndoRedo) && JSON.stringify(parent.frameObj) !== JSON.stringify(parent.tempFrameObj)) {\n            extend(parent.frameObj, parent.tempFrameObj);\n            this.renderImage(null, null, true);\n        }\n        this.resetFrameZoom(false);\n        var editCompleteArgs = { action: '' };\n        if (obj['bool']) {\n            editCompleteArgs['action'] = 'freehand-draw';\n            parent.notify('freehand-draw', { prop: 'cancelFhd', onPropertyChange: false });\n            parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n            parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n        }\n        else if (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') {\n            editCompleteArgs['action'] = 'text-editing';\n            parent.textArea.style.display = 'none';\n            parent.textArea.value = '';\n            parent.textArea.style.transform = '';\n            if (this.prevActObj) {\n                parent.activeObj = this.prevActObj;\n                this.prevActObj = null;\n            }\n            else {\n                parent.activeObj.strokeSettings = this.tempStrokeSettings;\n                parent.activeObj.textSettings = this.tempTextSettings;\n            }\n            parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'cancel' } });\n            if (this.isShapeTextInserted) {\n                parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            }\n            parent.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: true } });\n            parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n            parent.notify('selection', { prop: 'setTempActObj', onPropertyChange: false, value: { obj: parent.activeObj } });\n            if (parent.drawingShape) {\n                parent.enableShapeDrawing(parent.toPascalCase(parent.drawingShape), true);\n            }\n        }\n        else if ((!parent.activeObj.shape || parent.activeObj.shape !== 'redact') && (((!Browser.isDevice || (Browser.isDevice && !straightenObj['bool'])) &&\n            document.querySelector('#' + parent.element.id + '_sliderWrapper')) || parent.currObjType.isFiltered)) {\n            editCompleteArgs['action'] = parent.isFinetuneBtnClick ? 'fine-tune' : 'filter';\n            this.lowerContext.filter = this.tempAdjValue;\n            parent.canvasFilter = this.tempAdjValue;\n            parent.notify('filter', { prop: 'setAdjustmentValue', onPropertyChange: false, value: { adjustmentValue: this.tempAdjValue } });\n            parent.initialAdjustmentValue = this.tempAdjValue;\n            if (this.lowerContext.filter.split(' ').length > 1 &&\n                this.lowerContext.filter.split(' ')[0].split('(')[1].split(')')[0] === '1') {\n                parent.notify('filter', { prop: 'setBrightnessAdjusted', onPropertyChange: false, value: { isBrightnessAdjusted: false } });\n            }\n            parent.currentFilter = this.tempFilter;\n            parent.notify('filter', { prop: 'setBevelFilter', onPropertyChange: false, value: { bevelFilter: this.lowerContext.filter } });\n            this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n            this.redrawImgWithObj();\n            parent.currObjType.isFiltered = false;\n            var obj_3 = { tempAdjustmentLevel: null };\n            parent.notify('filter', { prop: 'getTempAdjustmentLevel', onPropertyChange: false, value: { obj: obj_3 } });\n            parent.notify('filter', { prop: 'setAdjustmentLevel', onPropertyChange: false,\n                value: { adjustmentLevel: extend({}, obj_3['tempAdjustmentLevel'], {}, true) } });\n            parent.notify('undo-redo', { prop: 'setUndoRedoStep', onPropertyChange: false, value: { step: this.tempUndoRedoStep } });\n            parent.upperCanvas.style.cursor = parent.cursor = 'default';\n            parent.currObjType.isCustomCrop = false;\n            this.tempStrokeSettings = { strokeColor: '#fff', fillColor: '', strokeWidth: null, radius: null, outlineColor: '', outlineWidth: null };\n            this.clearOuterCanvas(this.lowerContext);\n            if ((parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') || parent.isCircleCrop) {\n                parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                    value: { context: this.lowerContext, isSave: null, isFlip: null } });\n            }\n            var eventargs = { type: 'main', isApplyBtn: null, isCropping: null, isZooming: null };\n            parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.add('e-hide');\n            parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: eventargs });\n            if (parent.activeObj.shape && parent.activeObj.shape === 'image') {\n                parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n            }\n            parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'cancel' } });\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            if (parent.drawingShape) {\n                parent.drawingShape = null;\n                parent.notify('selection', { prop: 'setCurrentDrawingShape', onPropertyChange: false, value: { value: '' } });\n            }\n        }\n        else {\n            if ((!parent.activeObj.shape || parent.activeObj.shape !== 'redact') && isContextualToolbar && (!Browser.isDevice || (Browser.isDevice && !straightenObj['bool']))) {\n                var eventargs = { type: 'main', isApplyBtn: null, isCropping: null, isZooming: null };\n                parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: eventargs });\n            }\n            else {\n                this.cancelItems(editCompleteArgs);\n                if (parent.transform.zoomFactor > 0) {\n                    parent.togglePan = true;\n                    parent.notify('selection', { prop: 'setDragCanvas', value: { bool: true } });\n                }\n                else {\n                    parent.togglePan = false;\n                    parent.notify('selection', { prop: 'setDragCanvas', value: { bool: false } });\n                }\n            }\n        }\n        this.isShapeTextInserted = false;\n        this.isNewPath = false;\n        parent.notify('toolbar', { prop: 'refresh-dropdown-btn', value: { isDisabled: false } });\n        parent.notify('toolbar', { prop: 'setCurrentToolbar', value: { type: 'main' } });\n        if (isFinalCancel) {\n            parent.noPushUndo = false;\n        }\n        parent.drawingShape = null;\n        parent.notify('draw', { prop: 'resetTempObjColl' });\n        parent.notify('draw', { prop: 'resetTempPointColl' });\n        parent.isMaskImage = parent.isFinetuneBtnClick = false;\n        var actionArgs = { action: 'cancel', actionEventArgs: editCompleteArgs };\n        parent.triggerEditCompleteEvent(actionArgs);\n    };\n    Draw.prototype.cancelItems = function (editCompleteArgs) {\n        var parent = this.parent;\n        var isCropSelection = false;\n        var id = parent.element.id;\n        var ascpectIcon = parent.element.querySelector('#' + id + '_aspectratio');\n        var nonAspectIcon = parent.element.querySelector('#' + id + '_nonaspectratio');\n        var splitWords;\n        var shapes = ['rectangle', 'ellipse', 'line', 'arrow', 'path', 'image', 'redact'];\n        if (parent.activeObj.shape !== undefined) {\n            splitWords = parent.activeObj.shape.split('-');\n        }\n        if (splitWords === undefined && parent.currObjType.isCustomCrop) {\n            isCropSelection = true;\n        }\n        else if (splitWords !== undefined && splitWords[0] === 'crop') {\n            isCropSelection = true;\n        }\n        if (isCropSelection && parent.isCropTab) {\n            parent.isCropTab = false;\n            parent.transform.zoomFactor = parent.transform.defaultZoomFactor;\n        }\n        if (parent.isResize) {\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            if (ascpectIcon || nonAspectIcon || parent.currentToolbar === 'resize-toolbar') {\n                editCompleteArgs['action'] = 'resize';\n                var obj = { width: null, height: null };\n                parent.notify('selection', { prop: 'getNumTextValue', onPropertyChange: false, value: { obj: obj } });\n                var point = { x: obj['width'], y: obj['height'] };\n                var aspectRatioElement = parent.element.querySelector('#' + parent.element.id + '_aspectratio');\n                var blrAspRatElem = parent.element.querySelector('.e-ie-toolbar-aspect-ratio-btn');\n                if (point && point.x && point.y && !isNullOrUndefined(parent.aspectWidth)) {\n                    if (aspectRatioElement || (blrAspRatElem && !blrAspRatElem.classList.contains('e-hidden'))) {\n                        parent.notify('transform', { prop: 'resizeImage', value: { width: parent.aspectWidth, height: parent.aspectHeight } });\n                    }\n                    else {\n                        var bool = parent.currObjType.isUndoAction;\n                        parent.currObjType.isUndoAction = false;\n                        parent.notify('transform', { prop: 'resizeCrop', value: { width: parent.aspectWidth, height: parent.aspectHeight } });\n                        parent.currObjType.isUndoAction = bool;\n                    }\n                }\n                var obj1 = { prevCropObj: parent.prevCropObj };\n                var obj2 = { prevObj: parent.prevObj };\n                parent.notify('toolbar', { prop: 'getPrevCropObj', onPropertyChange: false, value: { obj: obj1 } });\n                parent.notify('toolbar', { prop: 'getPrevObj', onPropertyChange: false, value: { obj: obj2 } });\n                if (obj1['prevCropObj'] && obj2['prevObj']) {\n                    parent.objColl = [];\n                    parent.pointColl = [];\n                    parent.freehandCounter = 0;\n                    parent.cropObj = extend({}, obj1['prevCropObj'], {}, true);\n                    this.setCurrentObj(obj2['prevObj']);\n                    parent.objColl = obj2['prevObj']['objColl'];\n                    parent.pointColl = obj2['prevObj']['pointColl'];\n                    parent.freehandCounter = parent.pointColl.length;\n                    parent.transform.straighten = 0;\n                    parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                        value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n                    var currObj = parent.currSelectionPoint ?\n                        extend({}, parent.currSelectionPoint, {}, true) : null;\n                    parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                        value: { zoomFactor: -parent.transform.zoomFactor, zoomPoint: null, isResize: true } });\n                    parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                        value: { zoomFactor: obj2['prevObj']['defaultZoom'], zoomPoint: null, isResize: true } });\n                    parent.currSelectionPoint = currObj;\n                    if (obj2['prevObj'].zoomFactor) {\n                        parent.setProperties({ zoomSettings: { zoomFactor: obj2['prevObj'].zoomFactor } }, true);\n                    }\n                    parent.notify('transform', { prop: 'setPreviousZoomValue', onPropertyChange: false,\n                        value: { previousZoomValue: parent.zoomSettings.zoomFactor } });\n                }\n                parent.isResize = false;\n                parent.notify('transform', { prop: 'setResizedImgAngle', onPropertyChange: false, value: { angle: null } });\n                var temp = parent.isCropTab;\n                parent.isCropTab = false;\n                this.updateCropSelObj();\n                parent.cancelCropSelection = null;\n                parent.isCropTab = temp;\n            }\n        }\n        switch (true) {\n            case parent.togglePen:\n                editCompleteArgs['action'] = 'freehand-draw';\n                this.cancelPen();\n                break;\n            case parent.activeObj.shape === 'text':\n                editCompleteArgs['action'] = 'text';\n                this.cancelText();\n                break;\n            case shapes.indexOf(parent.activeObj.shape) !== -1:\n                editCompleteArgs['action'] = parent.activeObj.shape;\n                this.cancelShape();\n                parent.currObjType.isRedact = false;\n                break;\n            case isCropSelection:\n                editCompleteArgs['action'] = 'crop-selection';\n                this.cancelSelection();\n                break;\n            default:\n                parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'cancel' } });\n                break;\n        }\n        parent.notify('selection', { prop: 'setCurrentDrawingShape', onPropertyChange: false, value: { value: '' } });\n        parent.upperCanvas.style.cursor = parent.cursor = 'default';\n        parent.currObjType.isCustomCrop = false;\n        this.tempStrokeSettings = { strokeColor: '#fff', fillColor: '', strokeWidth: null, radius: null, outlineColor: '', outlineWidth: null };\n        var eventargs = { type: 'main', isApplyBtn: null, isCropping: false, isZooming: null };\n        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: eventargs });\n    };\n    Draw.prototype.cancelPen = function () {\n        var parent = this.parent;\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.togglePen = false;\n        parent.upperCanvas.style.cursor = parent.cursor = 'default';\n        // eslint-disable-next-line\n        var tempPointsColl = extend([], parent.pointColl, [], true);\n        parent.pointColl = {};\n        for (var i = 0; i < this.tempFreehandCounter; i++) {\n            parent.pointColl[i] = tempPointsColl[i];\n        }\n        parent.freehandCounter = this.tempFreehandCounter;\n        parent.notify('freehand-draw', { prop: 'setCurrentFreehandDrawIndex', value: { value: this.tempCurrFhdIndex } });\n        parent.activeObj.strokeSettings = this.tempStrokeSettings;\n        parent.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: parent.activeObj.strokeSettings, strokeColor: null,\n                fillColor: null, strokeWidth: null, radius: null } });\n        parent.notify('freehand-draw', { prop: 'setPenStrokeWidth', onPropertyChange: false, value: { value: this.tempStrokeWidth } });\n        parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'cancel' } });\n        parent.notify('selection', { prop: 'setFreehandDrawCustomized', value: { isFreehandDrawCustomized: false } });\n        parent.objColl = extend([], this.tempObjColl, [], true);\n        parent.pointColl = extend([], this.tempPointColl, [], true);\n        parent.freehandCounter = parent.pointColl.length;\n        this.tempPointColl = {};\n        this.renderImage();\n        parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok', isCancel: true } });\n    };\n    Draw.prototype.cancelText = function () {\n        var parent = this.parent;\n        parent.notify('shape', { prop: 'setTextSettings', onPropertyChange: false,\n            value: { textSettings: this.tempTextSettings, fontFamily: null, fontSize: null } });\n        parent.notify('shape', { prop: 'setStrokeSettings',\n            value: { strokeSettings: this.tempStrokeSettings, strokeColor: null, fillColor: null, strokeWidth: null, radius: null } });\n        if (isNullOrUndefined(parent.activeObj.currIndex)) {\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        }\n        else {\n            var object = { appliedUndoRedoColl: [] };\n            parent.notify('undo-redo', { prop: 'getAppliedUndoRedoColl', value: { obj: object } });\n            var len = object['appliedUndoRedoColl'].length;\n            var appliedColl = object['appliedUndoRedoColl'][len - 1];\n            if (this.prevActObj && appliedColl && appliedColl.currentObjColl.length &&\n                appliedColl.currentObjColl[appliedColl.currentObjColl.length - 1].currIndex === this.prevActObj.currIndex) {\n                parent.activeObj = this.prevActObj;\n                this.prevActObj = null;\n            }\n            else {\n                parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            }\n        }\n        parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n        this.tempTextSettings = { text: 'Enter Text', fontFamily: parent.fontFamily.default, fontSize: null, fontRatio: null, bold: false,\n            italic: false, underline: false };\n        parent.objColl = extend([], this.tempObjColl, [], true);\n        parent.pointColl = extend([], this.tempPointColl, [], true);\n        this.renderImage();\n        this.tempObjColl = [];\n        parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok', isCancel: true } });\n    };\n    Draw.prototype.cancelShape = function () {\n        var parent = this.parent;\n        parent.notify('shape', { prop: 'setStrokeSettings',\n            value: { strokeSettings: this.tempStrokeSettings, strokeColor: null, fillColor: null, strokeWidth: null, radius: null } });\n        if (isNullOrUndefined(parent.activeObj.currIndex)) {\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        }\n        else if (this.isNewPath) {\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            this.renderImage();\n        }\n        else {\n            var object = { appliedUndoRedoColl: [] };\n            parent.notify('undo-redo', { prop: 'getAppliedUndoRedoColl', value: { obj: object } });\n            var obj = void 0;\n            for (var i = 0, iLen = object['appliedUndoRedoColl'].length; i < iLen; i++) {\n                var currObjColl = object['appliedUndoRedoColl'][i].currentObjColl;\n                for (var j = 0, jLen = currObjColl.length; j < jLen; j++) {\n                    if (this.prevActObj && this.prevActObj.currIndex &&\n                        currObjColl[j].currIndex === this.prevActObj.currIndex) {\n                        obj = currObjColl[0];\n                        break;\n                    }\n                }\n            }\n            if (this.prevActObj && obj) {\n                parent.activeObj = this.prevActObj;\n                this.prevActObj = null;\n                parent.notify('selection', { prop: 'redrawShape', onPropertyChange: false, value: { obj: parent.activeObj } });\n                parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'cancel' } });\n                parent.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: true } });\n            }\n            else {\n                parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            }\n            var undoRedoObj = { undoRedoStep: null };\n            parent.notify('undo-redo', { prop: 'getUndoRedoStep', value: { obj: undoRedoObj } });\n            if (object['appliedUndoRedoColl'][(undoRedoObj['undoRedoStep'] - 1)]) {\n                parent.objColl =\n                    extend([], object['appliedUndoRedoColl'][(undoRedoObj['undoRedoStep'] - 1)].currentObjColl, [], true);\n            }\n            else {\n                parent.objColl = [];\n            }\n            this.renderImage();\n        }\n        parent.currObjType.isDragging = false;\n        parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n        parent.objColl = extend([], this.tempObjColl, [], true);\n        parent.pointColl = extend([], this.tempPointColl, [], true);\n        this.renderImage();\n        this.tempObjColl = [];\n        parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok', isCancel: true } });\n    };\n    Draw.prototype.cancelSelection = function () {\n        var parent = this.parent;\n        if (parent.cancelCropSelection) {\n            var obj = { value: parent.tempStraighten };\n            parent.transform.straighten = obj['value'];\n            parent.straightenBaseImageCanvas();\n            parent.notify('freehand-draw', { prop: 'resetStraightenPoint' });\n            parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n            parent.notify('draw', { prop: 'setStraightenActObj', value: { activeObj: parent.activeObj } });\n            parent.notify('crop', { prop: 'resizeWrapper' });\n            this.updateCropSelObj();\n            // eslint-disable-next-line max-len\n            if (this.tempStraightenDestPoints && JSON.stringify(this.tempStraightenDestPoints) !== JSON.stringify(this.straightenDestPoints)) {\n                this.straightenDestPoints = extend({}, this.tempStraightenDestPoints, {}, true);\n            }\n        }\n    };\n    Draw.prototype.updateCropSelObj = function () {\n        var parent = this.parent;\n        if (parent.cancelCropSelection) {\n            parent.cropObj = extend({}, parent.cancelCropSelection.previousCropObj, {}, true);\n            parent.afterCropActions = parent.cancelCropSelection.previousObj.afterCropActions;\n            parent.notify('undo-redo', { prop: 'undoDefault', onPropertyChange: false, value: { obj: parent.cancelCropSelection } });\n            parent.currSelectionPoint = extend({}, parent.cancelCropSelection.previousCropObj.activeObj, true);\n            if (parent.currSelectionPoint && isNullOrUndefined(parent.currSelectionPoint.shape)) {\n                parent.currSelectionPoint = null;\n            }\n            this.clearOuterCanvas(this.lowerContext);\n            if (parent.isCircleCrop || (parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle')) {\n                parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                    value: { context: this.lowerContext, isSave: null, isFlip: null } });\n            }\n        }\n    };\n    Draw.prototype.updateCropSelection = function () {\n        var parent = this.parent;\n        var object = { currObj: {} };\n        parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var currentObj = object['currObj'];\n        currentObj.objColl = extend([], parent.objColl, [], true);\n        currentObj.pointColl = extend([], parent.pointColl, [], true);\n        currentObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        currentObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        parent.cancelCropSelection = { operation: 'cropTransform', previousObj: currentObj, currentObj: currentObj,\n            previousObjColl: currentObj.objColl, currentObjColl: currentObj.objColl,\n            previousPointColl: currentObj.pointColl, currentPointColl: currentObj.pointColl,\n            previousSelPointColl: currentObj.selPointColl, currentSelPointColl: currentObj.selPointColl,\n            previousCropObj: extend({}, parent.cropObj, {}, true),\n            currentCropObj: extend({}, parent.cropObj, {}, true),\n            previousText: null, currentText: null, filter: null, isCircleCrop: parent.isCircleCrop };\n    };\n    Draw.prototype.updateFlipPan = function (tempSelectionObj) {\n        var parent = this.parent;\n        if (parent.transform.currFlipState !== '') {\n            var temp = this.lowerContext.filter;\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            parent.notify('transform', { prop: 'rotatedFlip', onPropertyChange: false });\n            this.lowerContext.filter = 'none';\n            parent.notify('freehand-draw', { prop: 'freehandRedraw', onPropertyChange: false,\n                value: { context: this.lowerContext, points: null } });\n            this.lowerContext.filter = temp;\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            if (tempSelectionObj) {\n                this.drawObject('duplicate', tempSelectionObj);\n            }\n        }\n    };\n    Draw.prototype.select = function (type, startX, startY, width, height) {\n        var parent = this.parent;\n        type = type.toLowerCase();\n        if (!parent.disabled && parent.isImageLoaded) {\n            parent.allowDownScale = false;\n            var object = { currObj: {} };\n            parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            var previousObj = object['currObj'];\n            previousObj.objColl = extend([], parent.objColl, [], true);\n            previousObj.pointColl = extend([], parent.pointColl, [], true);\n            previousObj.afterCropActions = parent.afterCropActions;\n            var selPointCollObj = { selPointColl: null };\n            parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                value: { obj: selPointCollObj } });\n            previousObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            parent.notify('crop', { prop: 'setPreviousCropCurrentObj', onPropertyChange: false, value: { obj: previousObj } });\n            if (parent.transform.zoomFactor > 0 && parent.activeObj.shape &&\n                parent.activeObj.shape.split('-')[0] === 'crop' && isNullOrUndefined(this.currSelPoint)) {\n                this.currSelPoint = extend({}, parent.activeObj, {}, true);\n            }\n            var isPrevent = false;\n            var splitWords = void 0;\n            if (parent.activeObj.shape !== undefined) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (splitWords === undefined && parent.currObjType.isCustomCrop) {\n                isPrevent = true;\n            }\n            else if (splitWords !== undefined && splitWords[0] === 'crop') {\n                isPrevent = true;\n            }\n            var obj = { currObj: {} };\n            parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: obj } });\n            var prevObj = obj['currObj'];\n            prevObj.objColl = extend([], parent.objColl, [], true);\n            prevObj.pointColl = extend([], parent.pointColl, [], true);\n            prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n            parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                value: { x: null, y: null, isMouseDown: null } });\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            parent.notify('shape', { prop: 'setKeyHistory', onPropertyChange: false, value: { keyHistory: '' } });\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            parent.upperCanvas.style.display = 'block';\n            if (parent.currSelectionPoint || parent.transform.defaultZoomFactor !== 0 ||\n                (parent.transform.degree !== 0 && parent.panPoint.totalPannedInternalPoint.x !== 0 &&\n                    parent.panPoint.totalPannedInternalPoint.y !== 0 && !isPrevent)) {\n                parent.isCircleCrop = false;\n                if (parent.transform.defaultZoomFactor !== 0 && !this.isResizeSelect) {\n                    var isCropTab = parent.isCropTab;\n                    parent.isCropTab = false;\n                    parent.notify('transform', { prop: 'resetZoom', onPropertyChange: false });\n                    parent.isCropTab = isCropTab;\n                    this.resetPanPoints();\n                }\n                parent.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false });\n                parent.isCropTab = true;\n                parent.isCircleCrop = false;\n                if (!this.isResizeSelect) {\n                    parent.notify('crop', { prop: 'setCurrSelPoints', onPropertyChange: false, value: { isSetDimension: true } });\n                }\n                parent.transform.zoomFactor = parent.transform.cropZoomFactor;\n                if (isNullOrUndefined(parent.cropObj.activeObj.shape)) {\n                    parent.currObjType.shape = 'crop-' + type;\n                    this.drawNewSelection(type, startX, startY, width, height);\n                }\n            }\n            else {\n                if (!this.isCropSelect) {\n                    parent.notify('crop', { prop: 'adjustStraightenForShapes', onPropertyChange: false,\n                        value: { type: 'reverse', isInitialRotated: true } });\n                    parent.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false });\n                    this.renderImage();\n                }\n                else {\n                    this.isCropSelect = false;\n                }\n                if (type === 'custom') {\n                    parent.currObjType.shape = '';\n                }\n                this.drawNewSelection(type, startX, startY, width, height);\n            }\n        }\n    };\n    Draw.prototype.drawNewSelection = function (type, startX, startY, width, height) {\n        var parent = this.parent;\n        var points;\n        var cropShape = 'crop-' + type.toLowerCase();\n        if (cropShape === 'crop-custom') {\n            if (parent.currObjType.shape === '' || parent.currObjType.shape === 'crop-custom') {\n                this.drawCustomSelection('crop-custom', startX, startY, width, height);\n                this.adjToStraighten();\n                this.updateSelectionInsert();\n                if (parent.isStraightening) {\n                    this.straightenActObj = extend({}, parent.activeObj, {}, true);\n                    this.straightenInitZoom = parent.transform.zoomFactor;\n                }\n            }\n        }\n        else if (cropShape === 'crop-canvas') {\n            parent.upperCanvas.style.display = 'block';\n            parent.notify('selection', { prop: 'setDragCanvas', value: { bool: true } });\n        }\n        else {\n            parent.currObjType.isCustomCrop = false;\n            parent.currObjType.shape = cropShape;\n            if (width && height) {\n                points = { startX: startX, startY: startY, endX: startX + width, endY: startY + height,\n                    width: width, height: height };\n            }\n            else if (width && cropShape === 'crop-circle') {\n                points = { startX: startX, startY: startY, endX: startX + width, endY: startY + width,\n                    width: width, height: width };\n            }\n            parent.activeObj.shape = cropShape;\n            this.updateSelectionInsert(points);\n        }\n    };\n    Draw.prototype.updateSelectionInsert = function (points) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var obj = { shapeSettingsObj: {} };\n        parent.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: obj } });\n        var selectionSettings = { type: parent.getSelectionType(obj['shapeSettingsObj']['type']), startX: obj['shapeSettingsObj']['startX'],\n            startY: obj['shapeSettingsObj']['startY'], width: obj['shapeSettingsObj']['width'], height: obj['shapeSettingsObj']['height'] };\n        var selectionChangingArgs = { action: 'insert', previousSelectionSettings: selectionSettings,\n            currentSelectionSettings: selectionSettings };\n        parent.trigger('selectionChanging', selectionChangingArgs);\n        parent.editCompleteArgs = selectionChangingArgs;\n        parent.notify('shape', { prop: 'updSelChangeEventArgs', onPropertyChange: false,\n            value: { selectionSettings: selectionChangingArgs.currentSelectionSettings } });\n        if (selectionChangingArgs.currentSelectionSettings.type === 'Custom') {\n            this.drawObject('duplicate', parent.activeObj, null, null, true);\n        }\n        else {\n            if (actPoint.startX !== 0 || actPoint.startY !== 0 ||\n                actPoint.width !== 0 || actPoint.height !== 0) {\n                points = { startX: actPoint.startX, startY: actPoint.startY,\n                    endX: actPoint.endX, endY: actPoint.endY,\n                    width: actPoint.width, height: actPoint.height };\n            }\n            this.drawObject('duplicate', null, true, points);\n        }\n    };\n    Draw.prototype.drawCustomSelection = function (cropShape, startX, startY, width, height) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        parent.currObjType.isCustomCrop = true;\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.currObjType.shape = parent.activeObj.shape = cropShape.toLowerCase();\n        if (!isNullOrUndefined(startX) && !isNullOrUndefined(startY) && !isNullOrUndefined(width) && !isNullOrUndefined(height)) {\n            actPoint.startX = startX;\n            actPoint.startY = startY;\n            actPoint.endX = startX + width;\n            actPoint.endY = startY + height;\n            actPoint.width = width;\n            actPoint.height = height;\n        }\n        else if (width && height) {\n            var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n            actPoint.width = width;\n            actPoint.height = height;\n            actPoint.startX = destLeft + ((destWidth / 2) - (width / 2));\n            actPoint.startY = destTop + ((destHeight / 2) - (height / 2));\n        }\n        else {\n            if (isNullOrUndefined(parent.transform.zoomFactor) || parent.transform.zoomFactor === 0) {\n                var _b = parent.img, destLeft_1 = _b.destLeft, destTop_1 = _b.destTop, destWidth_1 = _b.destWidth, destHeight_1 = _b.destHeight;\n                var lowerCanvasWidth_1 = parent.lowerCanvas.width;\n                var lowerCanvasHeight_1 = parent.lowerCanvas.height;\n                var activePoint_1 = actPoint;\n                if (destLeft_1 >= 0 && destTop_1 >= 0) {\n                    activePoint_1.startX = destLeft_1;\n                    activePoint_1.startY = destTop_1;\n                    activePoint_1.endX = destLeft_1 + destWidth_1;\n                    activePoint_1.endY = destTop_1 + destHeight_1;\n                }\n                else if (destLeft_1 >= 0) {\n                    activePoint_1.startX = destLeft_1;\n                    activePoint_1.startY = 7.5;\n                    activePoint_1.endX = destLeft_1 + destWidth_1;\n                    activePoint_1.endY = lowerCanvasHeight_1 - 15;\n                }\n                else if (destTop_1 >= 0) {\n                    activePoint_1.startX = 7.5;\n                    activePoint_1.startY = destTop_1;\n                    activePoint_1.endX = lowerCanvasWidth_1 - 15;\n                    activePoint_1.endY = destTop_1 + destHeight_1;\n                }\n                else {\n                    activePoint_1.startX = 7.5;\n                    activePoint_1.startY = 7.5;\n                    activePoint_1.endX = lowerCanvasWidth_1 - 15;\n                    activePoint_1.endY = lowerCanvasHeight_1 - 15;\n                }\n            }\n            else {\n                var _c = parent.img, destLeft_2 = _c.destLeft, destTop_2 = _c.destTop, destWidth_2 = _c.destWidth, destHeight_2 = _c.destHeight;\n                var lowerCanvasWidth_2 = parent.lowerCanvas.width;\n                var lowerCanvasHeight_2 = parent.lowerCanvas.height;\n                var activePoint_2 = actPoint;\n                activePoint_2.startX = Math.max(destLeft_2 > 0 ? destLeft_2 : 7.5, destLeft_2);\n                activePoint_2.startY = Math.max(destTop_2 > 0 ? destTop_2 : 7.5, destTop_2);\n                activePoint_2.endX = Math.min(destLeft_2 + destWidth_2 + 15 < lowerCanvasWidth_2 ? destLeft_2 + destWidth_2 - 15 :\n                    lowerCanvasWidth_2 - 15, destLeft_2 + destWidth_2);\n                activePoint_2.endY = Math.min(destTop_2 + destHeight_2 + 15 < lowerCanvasHeight_2 ? destTop_2 + destHeight_2 - 15 :\n                    lowerCanvasHeight_2 - 15, destTop_2 + destHeight_2);\n            }\n            var _d = parent.img, destLeft = _d.destLeft, destTop = _d.destTop, destWidth = _d.destWidth, destHeight = _d.destHeight;\n            var lowerCanvasWidth = parent.lowerCanvas.clientWidth;\n            var lowerCanvasHeight = parent.lowerCanvas.clientHeight;\n            var activePoint = actPoint;\n            activePoint.startX = Math.max(activePoint.startX, destLeft);\n            activePoint.startY = Math.max(activePoint.startY, destTop);\n            activePoint.endX = Math.min(activePoint.endX, destLeft + destWidth);\n            activePoint.endY = Math.min(activePoint.endY, destTop + destHeight);\n            if (parent.transform.straighten > 0) {\n                if (this.imgCanvasPoints[0].x > activePoint.startX) {\n                    activePoint.startX = this.imgCanvasPoints[0].x;\n                }\n                if (this.imgCanvasPoints[0].y > activePoint.startY) {\n                    activePoint.startY = this.imgCanvasPoints[0].y;\n                }\n                if (this.imgCanvasPoints[2].x < activePoint.endX) {\n                    activePoint.endX = this.imgCanvasPoints[2].x;\n                }\n                if (this.imgCanvasPoints[2].y < activePoint.endY) {\n                    activePoint.endY = this.imgCanvasPoints[2].x;\n                }\n            }\n            else if (parent.transform.straighten < 0) {\n                if (this.imgCanvasPoints[3].x > activePoint.startX) {\n                    activePoint.startX = this.imgCanvasPoints[3].x;\n                }\n                if (this.imgCanvasPoints[3].y < activePoint.startY) {\n                    activePoint.startY = this.imgCanvasPoints[3].y;\n                }\n                if (this.imgCanvasPoints[1].x < activePoint.endX) {\n                    activePoint.endX = this.imgCanvasPoints[1].x;\n                }\n                if (this.imgCanvasPoints[1].y > activePoint.endY) {\n                    activePoint.endY = this.imgCanvasPoints[1].x;\n                }\n            }\n            if (activePoint.startX === destLeft && destLeft + destWidth > lowerCanvasWidth) {\n                activePoint.endX = lowerCanvasWidth - 15;\n            }\n            if (activePoint.startY === destTop && destTop + destHeight > lowerCanvasHeight) {\n                activePoint.endY = lowerCanvasHeight - 15;\n            }\n            if (parent.activeObj.activePoint.startX > parent.activeObj.activePoint.endX) {\n                var temp = parent.activeObj.activePoint.startX;\n                parent.activeObj.activePoint.startX = parent.activeObj.activePoint.endX;\n                parent.activeObj.activePoint.endX = temp;\n            }\n            if (parent.activeObj.activePoint.startY > parent.activeObj.activePoint.endY) {\n                var temp = parent.activeObj.activePoint.startY;\n                parent.activeObj.activePoint.startY = parent.activeObj.activePoint.endY;\n                parent.activeObj.activePoint.endY = temp;\n            }\n            parent.activeObj = this.updateWidthHeight(parent.activeObj);\n            this.updateActiveObject(actPoint, parent.activeObj);\n            this.adjActObj();\n        }\n        this.updateSelectionInsert();\n    };\n    Draw.prototype.adjToStraighten = function () {\n        var parent = this.parent;\n        if (parent.transform.straighten !== 0 && parent.isStraightening) {\n            var actPoint = parent.activeObj.activePoint;\n            actPoint.startX += 7.5;\n            actPoint.startY += 7.5;\n            actPoint.endX -= 7.5;\n            actPoint.endY -= 7.5;\n            parent.activeObj = this.updateWidthHeight(parent.activeObj);\n        }\n    };\n    Draw.prototype.adjActObj = function () {\n        var parent = this.parent;\n        if (parent.transform.straighten === 0) {\n            return;\n        }\n        var actPoint = parent.activeObj.activePoint;\n        var tempActPoint = extend({}, actPoint, {}, true);\n        var count = 0;\n        while (true) {\n            count++;\n            var object = { isIntersect: null, arr: null };\n            parent.notify('draw', { prop: 'updateImgCanvasPoints', onPropertyChange: false });\n            parent.notify('draw', { prop: 'isLinesIntersect', onPropertyChange: false, value: { obj: object } });\n            if (object['arr'][0] || object['arr'][1] || object['arr'][2] || object['arr'][3] || count === 100) {\n                actPoint = extend({}, tempActPoint, {}, true);\n                break;\n            }\n            tempActPoint = extend({}, actPoint, {}, true);\n            actPoint.startX -= 5;\n            actPoint.endX += 5;\n            actPoint.width = actPoint.endX - actPoint.startX;\n            this.updateActiveObject(actPoint, parent.activeObj);\n        }\n    };\n    Draw.prototype.callUpdateCurrTransState = function () {\n        var parent = this.parent;\n        var tempObjColl = extend([], parent.objColl, [], true);\n        var tempActiveObj = extend({}, parent.activeObj, {}, true);\n        parent.objColl = [];\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        this.isRotateZoom = true;\n        this.updateCurrTransState('initial');\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        if (parent.transform.degree === 0 && parent.rotateFlipColl.length > 0) {\n            parent.img.destLeft += parent.panPoint.totalPannedPoint.x;\n            parent.img.destTop += parent.panPoint.totalPannedPoint.y;\n        }\n        parent.img.destLeft += parent.panPoint.totalPannedInternalPoint.x;\n        parent.img.destTop += parent.panPoint.totalPannedInternalPoint.y;\n        var temp = this.lowerContext.filter;\n        if (parent.transform.degree === 0) {\n            parent.notify('transform', { prop: 'setDestPointsForFlipState', onPropertyChange: false });\n        }\n        this.drawImage();\n        this.updateCurrTransState('reverse');\n        if (parent.transform.degree === 0 && parent.rotateFlipColl.length > 0) {\n            parent.img.destLeft += parent.panPoint.totalPannedPoint.x;\n            parent.img.destTop += parent.panPoint.totalPannedPoint.y;\n        }\n        this.isRotateZoom = false;\n        parent.objColl = tempObjColl;\n        var tempTogglePen = parent.togglePen;\n        parent.togglePen = false;\n        this.lowerContext.filter = 'none';\n        var widthObj = { penStrokeWidth: null };\n        parent.notify('freehand-draw', { prop: 'getPenStrokeWidth', onPropertyChange: false, value: { obj: widthObj } });\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'iterate', pen: 'iterate', isPreventApply: null } });\n        parent.notify('freehand-draw', { prop: 'setPenStrokeWidth', onPropertyChange: false, value: { value: widthObj['penStrokeWidth'] } });\n        parent.img.destLeft += parent.panPoint.totalPannedInternalPoint.x;\n        parent.img.destTop += parent.panPoint.totalPannedInternalPoint.y;\n        parent.img.destLeft -= parent.panPoint.totalPannedInternalPoint.x;\n        parent.img.destTop -= parent.panPoint.totalPannedInternalPoint.y;\n        parent.togglePen = tempTogglePen;\n        this.lowerContext.filter = temp;\n        parent.activeObj = tempActiveObj;\n    };\n    Draw.prototype.resetPanPoints = function () {\n        this.parent.panPoint.totalPannedPoint = { x: 0, y: 0 };\n        this.parent.panPoint.totalPannedClientPoint = { x: 0, y: 0 };\n        this.parent.panPoint.totalPannedInternalPoint = { x: 0, y: 0 };\n    };\n    Draw.prototype.setClientTransDim = function (isPreventDimension) {\n        var parent = this.parent;\n        if (parent.transform.degree % 90 === 0 && parent.transform.degree % 180 !== 0) {\n            parent.img.destLeft = (parent.lowerCanvas.clientWidth - parent.img.destHeight) / 2;\n            parent.img.destTop = (parent.lowerCanvas.clientHeight - parent.img.destWidth + 1) / 2;\n            var temp = parent.img.destWidth;\n            parent.img.destWidth = parent.img.destHeight;\n            parent.img.destHeight = temp;\n        }\n        else {\n            if (isNullOrUndefined(isPreventDimension)) {\n                parent.img.destLeft = (parent.lowerCanvas.clientWidth - parent.img.destWidth) / 2;\n                parent.img.destTop = (parent.lowerCanvas.clientHeight - parent.img.destHeight + 1) / 2;\n            }\n        }\n    };\n    Draw.prototype.redrawImgWithObj = function () {\n        var parent = this.parent;\n        var obj = { canvasFilter: parent.canvasFilter };\n        this.lowerContext.filter = obj['canvasFilter'];\n        if (parent.rotateFlipColl.length !== 0) {\n            var totalPannedInternalPoint = extend({}, parent.panPoint.totalPannedInternalPoint, {}, true);\n            var destPoints = { startX: parent.img.destLeft, startY: parent.img.destTop, width: parent.img.destWidth,\n                height: parent.img.destHeight };\n            this.callUpdateCurrTransState();\n            parent.panPoint.totalPannedInternalPoint = totalPannedInternalPoint;\n            parent.img.destLeft = destPoints.startX;\n            parent.img.destTop = destPoints.startY;\n            parent.img.destWidth = destPoints.width;\n            parent.img.destHeight = destPoints.height;\n        }\n        else {\n            this.callUpdateCurrTransState();\n        }\n        if (parent.isCircleCrop) {\n            parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                value: { context: this.lowerContext, isSave: null, isFlip: null } });\n        }\n    };\n    Draw.prototype.setCurrentObj = function (obj, isUndoRedo, isCircleCropped) {\n        var parent = this.parent;\n        var isObj = obj ? true : false;\n        if (!isObj) {\n            parent.cropObj.aspectWidth = parent.aspectWidth;\n            parent.cropObj.aspectHeight = parent.aspectHeight;\n            parent.cropObj.frame = parent.frameObj.type;\n        }\n        obj = obj ? obj : parent.cropObj;\n        parent.transform.cropZoomFactor = obj.cropZoom;\n        parent.transform.defaultZoomFactor = obj.defaultZoom;\n        this.straightenInitZoom = obj.straightenZoom;\n        if (!isObj) {\n            parent.transform.zoomFactor = obj.cropZoom;\n        }\n        else {\n            if (obj.activeObj.shape && obj.activeObj.shape.split('-')[0] === 'crop') {\n                parent.transform.zoomFactor = obj.cropZoom;\n            }\n            else {\n                parent.transform.zoomFactor = obj.defaultZoom;\n            }\n        }\n        parent.setProperties({ zoomSettings: { zoomFactor: obj.zoomFactor } }, true);\n        parent.notify('transform', { prop: 'setPreviousZoomValue', onPropertyChange: false, value: { previousZoomValue: obj.previousZoomValue } });\n        parent.panPoint.totalPannedPoint = extend({}, obj.totalPannedPoint, {}, true);\n        parent.panPoint.totalPannedClientPoint = extend({}, obj.totalPannedClientPoint, {}, true);\n        parent.panPoint.totalPannedInternalPoint = extend({}, obj.totalPannedInternalPoint, {}, true);\n        var point = extend({}, obj.tempFlipPanPoint, {}, true);\n        parent.notify('crop', { prop: 'setTempFlipPanPoint', onPropertyChange: false, value: { point: point } });\n        parent.rotateFlipColl = extend([], obj.rotateFlipColl, [], true);\n        parent.transform.degree = obj.degree;\n        parent.frameObj.type = obj.frame;\n        parent.transform.currFlipState = obj.currFlipState;\n        parent.notify('filter', { prop: 'setAdjustmentLevel', onPropertyChange: false, value: { adjustmentLevel: obj.adjustmentLevel } });\n        parent.notify('filter', { prop: 'setTempAdjVal' });\n        parent.currentFilter = obj.currentFilter;\n        parent.notify('filter', { prop: 'setTempFilVal' });\n        if (parent.transform.straighten !== obj.straighten || isUndoRedo) {\n            parent.transform.straighten = obj.straighten;\n            parent.straightenBaseImageCanvas();\n        }\n        parent.img = { destLeft: obj.destPoints.startX, destTop: obj.destPoints.startY, destWidth: obj.destPoints.width,\n            destHeight: obj.destPoints.height, srcLeft: obj.srcPoints.startX, srcTop: obj.srcPoints.startY,\n            srcWidth: obj.srcPoints.width, srcHeight: obj.srcPoints.height };\n        parent.aspectWidth = obj.aspectWidth;\n        parent.aspectHeight = obj.aspectHeight;\n        if (obj.afterCropActions) {\n            parent.afterCropActions = obj.afterCropActions;\n        }\n        this.lowerContext.filter = obj.filter;\n        parent.notify('filter', { prop: 'setBrightnessAdjusted', onPropertyChange: false, value: { isBrightnessAdjusted: obj.isBrightAdjust } });\n        parent.notify('draw', { prop: 'imageBackgroundColor', onPropertyChange: false, value: { color: obj.bgColor } });\n        var isCircleCrop = parent.isCircleCrop;\n        var currSelectionPoint;\n        if (isNullOrUndefined(parent.currSelectionPoint)) {\n            currSelectionPoint = null;\n        }\n        else {\n            currSelectionPoint = extend({}, parent.currSelectionPoint, {}, true);\n            parent.currSelectionPoint = null;\n        }\n        parent.isCircleCrop = false;\n        if (isCircleCropped) {\n            parent.frameObj.type = 'none';\n        }\n        this.drawCropSelectionImage(obj, false);\n        if (parent.transform.degree !== 0) {\n            if (parent.transform.currFlipState === '') {\n                parent.notify('transform', { prop: 'rotatePan', onPropertyChange: false,\n                    value: { isCropSelection: null, isDefaultZoom: null } });\n            }\n            else {\n                parent.notify('transform', { prop: 'drawPannedImage', value: { xDiff: 0, yDiff: 0 } });\n            }\n            parent.img.destLeft = obj.destPoints.startX;\n            parent.img.destTop = obj.destPoints.startY;\n            parent.panPoint.totalPannedClientPoint = extend({}, obj.totalPannedClientPoint, {}, true);\n            parent.panPoint.totalPannedInternalPoint = extend({}, obj.totalPannedInternalPoint, {}, true);\n        }\n        parent.activeObj = extend({}, obj.activeObj, {}, true);\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        if (parent.activeObj.activePoint.width !== 0 && parent.activeObj.activePoint.height !== 0) {\n            this.drawObject('duplicate', null, null, null, true);\n        }\n        var activeObj = extend({}, obj.activeObj, {}, true);\n        var isAfterCropAction = false;\n        if (parent.afterCropActions.length > 0) {\n            var object = { collection: parent.afterCropActions };\n            parent.notify('shape', { prop: 'alignRotateFlipColl', onPropertyChange: false,\n                value: { collection: parent.afterCropActions, isRotateFlipCollection: null, obj: object } });\n            parent.afterCropActions = object['collection'];\n        }\n        var afterCropActions = extend([], parent.afterCropActions, [], true);\n        if (!isObj && afterCropActions.length > 0) {\n            isAfterCropAction = true;\n            for (var i = 0, len = afterCropActions.length; i < len; i++) {\n                if (afterCropActions[i] === 'horizontalflip' || afterCropActions[i] === 'verticalflip') {\n                    parent.activeObj = extend({}, currSelectionPoint, {}, true);\n                    this.rotatedFlipCropSel = true;\n                }\n                parent.notify('transform', { prop: 'updateTransform', onPropertyChange: false, value: { text: afterCropActions[i] } });\n            }\n            activeObj = extend({}, parent.activeObj, {}, true);\n            this.resetPanPoints();\n            parent.activeObj = activeObj;\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            if (parent.activeObj.activePoint.width !== 0 && parent.activeObj.activePoint.height !== 0) {\n                this.drawObject('duplicate', null, null, null, true);\n            }\n            if (obj.degree !== parent.transform.degree) {\n                parent.transform.cropZoomFactor = null;\n                parent.transform.zoomFactor = 0;\n            }\n            parent.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false });\n            if (this.rotatedFlipCropSel) {\n                this.rotatedFlipCropSel = false;\n            }\n        }\n        parent.afterCropActions = afterCropActions;\n        if (!this.isCancelAction && !isAfterCropAction) {\n            parent.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false });\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n            parent.img.destLeft = obj.destPoints.startX;\n            parent.img.destTop = obj.destPoints.startY;\n        }\n        parent.activeObj = activeObj;\n        parent.isCircleCrop = isCircleCrop;\n        if (isNullOrUndefined(currSelectionPoint)) {\n            parent.currSelectionPoint = null;\n        }\n        else {\n            parent.currSelectionPoint = extend({}, currSelectionPoint, {}, true);\n            if (parent.currSelectionPoint && isNullOrUndefined(parent.currSelectionPoint.shape)) {\n                parent.currSelectionPoint = null;\n            }\n        }\n    };\n    Draw.prototype.drawCropSelectionImage = function (obj, isObj) {\n        var parent = this.parent;\n        var temp = this.lowerContext.filter;\n        parent.clearContext(this.lowerContext);\n        parent.clearContext(this.upperContext);\n        this.lowerContext.setTransform(1, 0, 0, 1, 0, 0);\n        if (isObj) {\n            this.updateCurrTransState('initial');\n        }\n        else {\n            this.setTransformColl(this.lowerContext, 'initial');\n        }\n        parent.notify('transform', { prop: 'setDestPointsForFlipState', onPropertyChange: false });\n        this.drawImage();\n        if (isObj) {\n            this.updateCurrTransState('reverse');\n        }\n        else {\n            this.setTransformColl(this.lowerContext, 'reverse');\n        }\n        parent.img.destLeft = parent.cropObj.destPoints.startX;\n        parent.img.destTop = parent.cropObj.destPoints.startY;\n        var activeObj = extend({}, obj.activeObj, {}, true);\n        this.lowerContext.filter = 'none';\n        parent.img = { destLeft: obj.destPoints.startX, destTop: obj.destPoints.startY, destWidth: obj.destPoints.width,\n            destHeight: obj.destPoints.height, srcLeft: obj.srcPoints.startX, srcTop: obj.srcPoints.startY,\n            srcWidth: obj.srcPoints.width, srcHeight: obj.srcPoints.height };\n        if (obj.activeObj.activePoint.width !== 0 && obj.activeObj.activePoint.height !== 0) {\n            var destPoints = { startX: parent.img.destLeft, startY: parent.img.destTop, width: parent.img.destWidth,\n                height: parent.img.destHeight };\n            parent.img.destLeft = obj.activeObj.activePoint.startX;\n            parent.img.destTop = obj.activeObj.activePoint.startY;\n            parent.img.destWidth = obj.activeObj.activePoint.width;\n            parent.img.destHeight = obj.activeObj.activePoint.height;\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n            parent.img.destLeft = destPoints.startX;\n            parent.img.destTop = destPoints.startY;\n            parent.img.destWidth = destPoints.width;\n            parent.img.destHeight = destPoints.height;\n        }\n        parent.activeObj = activeObj;\n        this.lowerContext.filter = temp;\n    };\n    Draw.prototype.performPointZoom = function (x, y, type, isResize, value) {\n        var parent = this.parent;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        var isCropSelection = false;\n        if (parent.activeObj.shape && parent.activeObj.shape.indexOf('crop-') > -1) {\n            isCropSelection = true;\n        }\n        if (parent.element.querySelector('.e-contextual-toolbar-wrapper') && !isCropSelection) {\n            if (!parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.contains('e-hide')) {\n                parent.okBtn();\n                parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.add('e-hide');\n            }\n        }\n        var ratioX = (x - destLeft) / destWidth;\n        var ratioY = (y - destTop) / destHeight;\n        var isUndoRedo = parent.isUndoRedo;\n        parent.isUndoRedo = true;\n        parent.setProperties({ zoomSettings: { zoomPoint: { x: x, y: y } } }, true);\n        var zoomValue = value ? value : (type === 'zoomIn') ? .1 : -.1;\n        parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n            value: { zoomFactor: zoomValue, zoomPoint: null, isResize: isResize } });\n        parent.isUndoRedo = isUndoRedo;\n        this.panToPoint(x, y, ratioX, ratioY);\n    };\n    Draw.prototype.panToPoint = function (x, y, ratioX, ratioY) {\n        var parent = this.parent;\n        if (parent.transform.zoomFactor > 0) {\n            var destLeft = parent.img.destLeft;\n            var destTop = parent.img.destTop;\n            var activeObj = extend({}, parent.activeObj, {}, true);\n            if (parent.transform.degree === 0) {\n                parent.img.destLeft = x - (ratioX * parent.img.destWidth);\n                parent.img.destTop = y - (ratioY * parent.img.destHeight);\n                this.drawZoomPanImage(parent.img.destLeft - destLeft, parent.img.destTop - destTop);\n            }\n            else {\n                var isCropTab = parent.isCropTab;\n                parent.isCropTab = true;\n                var objColl = extend([], parent.objColl, [], true);\n                var pointColl = extend([], parent.pointColl, [], true);\n                var straightenObj = { straightenPoint: null };\n                parent.notify('freehand-draw', { prop: 'getStraightenPoint', onPropertyChange: false,\n                    value: { obj: straightenObj } });\n                parent.objColl = [];\n                parent.pointColl = [];\n                parent.freehandCounter = 0;\n                parent.notify('freehand-draw', { prop: 'setStraightenPoint', onPropertyChange: false,\n                    value: { x: null, y: null, ratioX: null, ratioY: null } });\n                var object = { selPointColl: null };\n                parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                    value: { obj: object } });\n                var cropSelPointColl = object['selPointColl'];\n                parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n                    value: { obj: { selPointColl: [] } } });\n                parent.panPoint.currentPannedPoint = { x: (x - (ratioX * parent.img.destWidth)) - destLeft,\n                    y: (y - (ratioY * parent.img.destHeight)) - destTop };\n                parent.notify('transform', { prop: 'rotatePan', onPropertyChange: false,\n                    value: { isCropSelection: null, isDefaultZoom: null } });\n                parent.isCropTab = isCropTab;\n                parent.objColl = objColl;\n                parent.pointColl = pointColl;\n                parent.freehandCounter = parent.pointColl.length;\n                if (straightenObj['straightenPoint']['x'] && straightenObj['straightenPoint']['y']) {\n                    parent.notify('freehand-draw', { prop: 'setStraightenPoint', onPropertyChange: false,\n                        value: { x: straightenObj['straightenPoint']['x'], y: straightenObj['straightenPoint']['y'],\n                            ratioX: straightenObj['straightenPoint']['ratioX'], ratioY: straightenObj['straightenPoint']['ratioY'] } });\n                }\n                parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n                    value: { obj: { selPointColl: cropSelPointColl } } });\n                parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                    value: { ctx: this.lowerContext, shape: 'pan', pen: 'pan', x: parent.panPoint.currentPannedPoint.x,\n                        y: parent.panPoint.currentPannedPoint.y, panRegion: '' } });\n            }\n            this.adjustPanning(activeObj);\n            var isActObj = false;\n            for (var i = 0; i < parent.objColl.length; i++) {\n                if (JSON.stringify(activeObj.activePoint) === JSON.stringify(parent.objColl[i].activePoint)) {\n                    isActObj = true;\n                    break;\n                }\n            }\n            if (!isActObj) {\n                parent.activeObj = activeObj;\n            }\n            if (parent.activeObj.activePoint.width !== 0 && parent.activeObj.activePoint.height !== 0) {\n                this.drawObject('duplicate', null, null, null, true);\n            }\n        }\n    };\n    Draw.prototype.adjustPanning = function (activeObj) {\n        var parent = this.parent;\n        var _a = activeObj.activePoint, startX = _a.startX, startY = _a.startY, width = _a.width, height = _a.height;\n        if (width !== 0 && height !== 0) {\n            var _b = parent.img, destLeft = _b.destLeft, destTop = _b.destTop, destWidth = _b.destWidth, destHeight = _b.destHeight;\n            var point = { x: 0, y: 0 };\n            if (destLeft > startX) {\n                point.x = destLeft - startX;\n            }\n            else if (destLeft + destWidth < startX + width) {\n                point.x = (destLeft + destWidth) - (startX + width);\n            }\n            if (destTop > startY) {\n                point.y = destTop - startY;\n            }\n            else if (destTop + destHeight < startY + height) {\n                point.y = (destTop + destHeight) - (startY + height);\n            }\n            if (parent.transform.degree === 0) {\n                parent.img.destLeft -= point.x;\n                parent.img.destTop -= point.y;\n                this.drawZoomPanImage(parent.img.destLeft - destLeft, parent.img.destTop - destTop);\n            }\n            else {\n                var isCropTab = parent.isCropTab;\n                parent.isCropTab = true;\n                var objColl = extend([], parent.objColl, [], true);\n                var pointColl = extend([], parent.pointColl, [], true);\n                parent.objColl = [];\n                parent.pointColl = [];\n                parent.freehandCounter = 0;\n                var object = { selPointColl: null };\n                parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                    value: { obj: object } });\n                var cropSelPointColl = object['selPointColl'];\n                parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n                    value: { obj: { selPointColl: [] } } });\n                parent.img.destLeft -= point.x;\n                parent.img.destTop -= point.y;\n                parent.panPoint.currentPannedPoint = { x: parent.img.destLeft - destLeft, y: parent.img.destTop - destTop };\n                parent.notify('transform', { prop: 'rotatePan', onPropertyChange: false,\n                    value: { isCropSelection: null, isDefaultZoom: null } });\n                parent.isCropTab = isCropTab;\n                parent.objColl = objColl;\n                parent.pointColl = pointColl;\n                parent.freehandCounter = parent.pointColl.length;\n                parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n                    value: { obj: { selPointColl: cropSelPointColl } } });\n                parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                    value: { ctx: this.lowerContext, shape: 'pan', pen: 'pan', x: parent.panPoint.currentPannedPoint.x,\n                        y: parent.panPoint.currentPannedPoint.y, panRegion: '' } });\n            }\n        }\n    };\n    Draw.prototype.panToSel = function () {\n        var parent = this.parent;\n        var activeObj = extend({}, parent.activeObj, {}, true);\n        var _a = activeObj.activePoint, startX = _a.startX, startY = _a.startY, width = _a.width, height = _a.height;\n        this.allowRedactStraighten = true;\n        var straightenObj = { straightenPoint: null };\n        parent.notify('freehand-draw', { prop: 'getStraightenPoint', onPropertyChange: false,\n            value: { obj: straightenObj } });\n        if (straightenObj['straightenPoint']['x'] && straightenObj['straightenPoint']['y']) {\n            var panX = (startX + (width / 2)) - straightenObj['straightenPoint']['x'];\n            var panY = (startY + (height / 2)) - straightenObj['straightenPoint']['y'];\n            if (parent.transform.degree === 0) {\n                parent.img.destLeft += panX;\n                parent.img.destTop += panY;\n                parent.notify('transform', { prop: 'drawPannImage', value: { point: { x: panX, y: panY } } });\n            }\n            else {\n                parent.panPoint.currentPannedPoint = { x: panX, y: panY };\n                parent.notify('transform', { prop: 'drawPannedImage', value: { xDiff: panX, yDiff: panY } });\n                parent.panPoint.currentPannedPoint = { x: 0, y: 0 };\n                parent.notify('transform', { prop: 'setTempPanMove', value: { point: null } });\n            }\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: activeObj } });\n            var _b = parent.img, destLeft_3 = _b.destLeft, destTop_3 = _b.destTop, destWidth_3 = _b.destWidth, destHeight_3 = _b.destHeight;\n            var points = this.imgCanvasPoints;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            points.forEach(function (point) {\n                point.x = (point.ratioX * destWidth_3) + destLeft_3;\n                point.y = (point.ratioY * destHeight_3) + destTop_3;\n            });\n            this.imgCanvasPoints = points;\n            var count = 0;\n            if (parent.transform.straighten === 3 && !this.preventStraightening) {\n                this.preventStraightening = true;\n                var temp = parent.prevStraightenedDegree;\n                parent.prevStraightenedDegree = parent.transform.straighten;\n                parent.setStraighten(0);\n                parent.setStraighten(3);\n                parent.prevStraightenedDegree = temp;\n                this.preventStraightening = false;\n            }\n            while (this.isLinesIntersect() && parent.transform.straighten !== 0 && parent.transform.straighten !== 360 && count < 100) {\n                count++;\n                this.performPointZoom(parent.activeObj.activePoint.startX + (parent.activeObj.activePoint.width / 2), parent.activeObj.activePoint.startY + (parent.activeObj.activePoint.height / 2), 'zoomIn', false, 0.025);\n                this.updateImgCanvasPoints();\n            }\n        }\n    };\n    Draw.prototype.drawZoomPanImage = function (x, y) {\n        var parent = this.parent;\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'pan', pen: 'pan', x: x, y: y, panRegion: '' } });\n        this.renderImage(true);\n        var obj = { width: 0, height: 0 };\n        parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n            value: { width: parent.img.srcWidth, height: parent.img.srcHeight, obj: obj, isImgShape: null } });\n        var maxDimension = obj;\n        maxDimension.width += (maxDimension.width * parent.transform.zoomFactor);\n        maxDimension.height += (maxDimension.height * parent.transform.zoomFactor);\n        parent.panPoint.totalPannedPoint.x += x;\n        parent.panPoint.totalPannedPoint.y += y;\n        parent.notify('crop', { prop: 'setTempFlipPanPoint', onPropertyChange: false, value: { point: { x: 0, y: 0 } } });\n    };\n    Draw.prototype.openNewImage = function () {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var inMemoryContext = parent.inMemoryCanvas.getContext('2d');\n        showSpinner(parent.element);\n        parent.element.style.opacity = '0.5';\n        var toolbar = document.querySelector('#' + id + '_currPos');\n        if (toolbar) {\n            toolbar.style.display = 'none';\n        }\n        var obj = { defToolbarItems: null };\n        parent.notify('toolbar', { prop: 'getDefToolbarItems', value: { obj: obj } });\n        if (obj['defToolbarItems'] && obj['defToolbarItems'].length === 0 &&\n            (isNullOrUndefined(document.getElementById(id + '_toolbar'))) &&\n            parent.element.querySelector('#' + id + '_toolbarArea')) {\n            var height = parent.element.querySelector('#' + id + '_toolbarArea').clientHeight;\n            parent.notify('toolbar', { prop: 'setToolbarHeight', value: { height: height } });\n        }\n        parent.reset();\n        parent.update();\n        parent.transform.degree = 0;\n        parent.transform.zoomFactor = 0;\n        parent.isImageLoaded = false;\n        parent.currSelectionPoint = null;\n        var type = typeof (this.openURL);\n        if (type === 'string') {\n            var fileName = this.openURL.split('.');\n            if (fileName.length > 1) {\n                fileName = fileName[fileName.length - 2].split('/');\n                this.fileName = fileName[fileName.length - 1];\n            }\n            else {\n                this.fileName = 'ImageEditor';\n            }\n            this.fileType = this.getFileExtensionFromURL(this.openURL);\n            if (this.fileType) {\n                this.fileType = parent.toPascalCase(this.fileType);\n                var fileType = this.fileType.toLowerCase();\n                if (fileType === 'jpg' || fileType === 'jpeg') {\n                    this.fileType = 'Jpeg';\n                    fileType = 'jpeg';\n                }\n                if (fileType !== 'jpeg' && fileType !== 'png' && fileType !== 'svg' && fileType !== 'webp') {\n                    this.fileType = null;\n                }\n            }\n            this.imageOnLoad(this.openURL);\n            if (typeof (this.openURL) !== 'string' || this.openURL.indexOf('localhost') === -1) {\n                this.getImageSizeFromURL(this.openURL.toString(), function (imageSizeMB) {\n                    if (imageSizeMB !== null) {\n                        _this.parent.notify('toolbar', { prop: 'setInitialSize', value: { value: +imageSizeMB } });\n                    }\n                });\n            }\n        }\n        else {\n            this.fileName = 'ImageEditor';\n            this.fileType = null;\n            parent.lowerCanvas = document.querySelector('#' + id + '_lowerCanvas');\n            parent.upperCanvas = document.querySelector('#' + id + '_upperCanvas');\n            this.lowerContext = parent.lowerCanvas.getContext('2d');\n            this.upperContext = parent.upperCanvas.getContext('2d');\n            parent.clearContext(this.lowerContext);\n            parent.clearContext(this.upperContext);\n            parent.clearContext(inMemoryContext);\n            parent.inMemoryCanvas.width = this.openURL.width;\n            parent.inMemoryCanvas.height = this.openURL.height;\n            inMemoryContext.putImageData(this.openURL, 0, 0);\n            parent.baseImg.src = parent.inMemoryCanvas.toDataURL();\n        }\n    };\n    Draw.prototype.getImageSizeFromURL = function (imageUrl, callback) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, contentLength, imageSizeMB, ex_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, fetch(imageUrl, { method: 'HEAD' })];\n                    case 1:\n                        response = _a.sent();\n                        contentLength = parseInt(response.headers.get('content-length') || '0', 10);\n                        imageSizeMB = contentLength;\n                        callback(imageSizeMB);\n                        return [3 /*break*/, 3];\n                    case 2:\n                        ex_1 = _a.sent();\n                        // eslint-disable-next-line no-console\n                        console.log(ex_1.message);\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Draw.prototype.dlgBtnClick = function () {\n        this.parent.export();\n        this.applyDialogOption();\n    };\n    Draw.prototype.dlgCloseBtnClick = function () {\n        this.applyDialogOption();\n    };\n    Draw.prototype.applyDialogOption = function () {\n        var parent = this.parent;\n        if (this.isFileChanged) {\n            parent.isImageLoaded = this.isFileChanged = false;\n            parent.reset();\n            this.checkToolbarTemplate(this.inputElem, this.openURL);\n        }\n        else {\n            this.reset();\n            this.openNewImage();\n        }\n        getComponent(document.getElementById(parent.element.id + '_dialog'), 'dialog').destroy();\n        this.isImageEdited = false;\n    };\n    Draw.prototype.showDialogPopup = function () {\n        var parent = this.parent;\n        var headerObj = { key: 'ConfirmDialogHeader' };\n        parent.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: headerObj } });\n        var contentObj = { key: 'ConfirmDialogContent' };\n        parent.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: contentObj } });\n        var yesObj = { key: 'Yes' };\n        parent.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: yesObj } });\n        var noObj = { key: 'No' };\n        parent.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: noObj } });\n        parent.element.querySelector('#' + parent.element.id + '_dialog').style.display = 'block';\n        var dialog = new Dialog({\n            header: headerObj['value'],\n            closeOnEscape: true,\n            content: '<span>' + contentObj['value'] + '</span>',\n            target: document.getElementById('target'),\n            width: '285px',\n            isModal: true,\n            animationSettings: { effect: 'Zoom' },\n            close: this.dlgCloseBtnClick.bind(this),\n            buttons: [\n                { click: this.dlgCloseBtnClick.bind(this),\n                    buttonModel: { content: noObj['value'], iconCss: 'e-icons e-close' }\n                },\n                { click: this.dlgBtnClick.bind(this),\n                    buttonModel: { content: yesObj['value'], isPrimary: true, iconCss: 'e-icons e-check' } }\n            ]\n        });\n        dialog.appendTo('#' + parent.element.id + '_dialog');\n    };\n    Draw.prototype.restoreOldImage = function () {\n        var _this = this;\n        var parent = this.parent;\n        var dropArea = document.getElementById(this.parent.element.id + '_dropArea');\n        var extension = parent.getExtensionArray();\n        var openURLType = typeof this.openURL;\n        if (openURLType !== 'string') {\n            this.openImageData(dropArea);\n            return;\n        }\n        var fileType = this.getFileExtensionFromURL(this.openURL);\n        if (fileType) {\n            fileType = fileType.toLowerCase();\n            fileType = (fileType === 'jpg' || fileType === 'jpeg') ? 'jpeg' : fileType;\n        }\n        var isAllowedFileType = (fileType ? (extension.indexOf(fileType) > -1 ||\n            (fileType === 'jpeg' && (parent.uploadSettings.allowedExtensions.indexOf('jpg') > -1 ||\n                parent.uploadSettings.allowedExtensions.indexOf('jpeg') > -1))) : false) || this.isNullExtension;\n        if ((this.openURL.indexOf('data:image/') > -1 && this.openURL.indexOf('base64') > -1) ||\n            this.openURL.indexOf('blob') > -1) {\n            this.openImageData(dropArea, true);\n        }\n        else if (parent.uploadSettings.minFileSize || parent.uploadSettings.maxFileSize) {\n            this.getImageSizeFromURL(this.openURL.toString(), function (imageSizeMB) {\n                var isInvalidSize = (parent.uploadSettings.minFileSize && imageSizeMB < parent.uploadSettings.minFileSize) ||\n                    (parent.uploadSettings.maxFileSize && imageSizeMB > parent.uploadSettings.maxFileSize);\n                _this.handleFileSize(!isAllowedFileType || isInvalidSize, dropArea, !isAllowedFileType);\n            });\n        }\n        else {\n            this.handleFileSize(!isAllowedFileType, dropArea, !isAllowedFileType);\n        }\n    };\n    Draw.prototype.handleFileSize = function (isError, dropArea, fileTypeError) {\n        var parent = this.parent;\n        if (isError) {\n            this.errorLoading();\n            parent.showDialogPopup('unsupported', fileTypeError);\n            if (dropArea && !parent.isImageLoaded) {\n                dropArea.style.display = 'block';\n            }\n        }\n        else {\n            if (dropArea) {\n                dropArea.style.display = 'none';\n            }\n            if (this.parent.isImageLoaded) {\n                this.reset();\n            }\n            this.openNewImage();\n        }\n    };\n    Draw.prototype.openImageData = function (dropArea, isBase64) {\n        var parent = this.parent;\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        var canvas = parent.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        if (!parent.uploadSettings.minFileSize && !parent.uploadSettings.maxFileSize) {\n            this.handleFileSize(false, dropArea, false);\n            return;\n        }\n        if (isBase64) {\n            var img_1 = new Image();\n            img_1.src = this.openURL;\n            img_1.onload = function () {\n                ctx.canvas.width = img_1.width;\n                ctx.canvas.height = img_1.height;\n                ctx.drawImage(img_1, 0, 0);\n                proxy.getImageSize(canvas, dropArea);\n            };\n        }\n        else {\n            canvas.width = this.openURL.width;\n            canvas.height = this.openURL.height;\n            ctx.putImageData(this.openURL, 0, 0);\n            this.getImageSize(canvas, dropArea);\n        }\n    };\n    Draw.prototype.getImageSize = function (canvas, dropArea) {\n        var parent = this.parent;\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        canvas.toBlob((function (blob) {\n            if ((parent.uploadSettings.minFileSize && blob.size < parent.uploadSettings.minFileSize) ||\n                (parent.uploadSettings.maxFileSize && blob.size > parent.uploadSettings.maxFileSize)) {\n                this.handleFileSize(true, dropArea, false);\n            }\n            else {\n                this.handleFileSize(false, dropArea, false);\n            }\n        }).bind(this), 'image/jpeg', 1);\n    };\n    Draw.prototype.open = function (data) {\n        if (!this.parent.disabled) {\n            this.openURL = data;\n            this.restoreOldImage();\n        }\n    };\n    Draw.prototype.getInitialLoaded = function (object) {\n        object['isInitialLoaded'] = this.isInitialLoading;\n    };\n    Draw.prototype.getFileExtensionFromURL = function (url) {\n        var lastDotIndex = url.lastIndexOf('.');\n        if (lastDotIndex !== -1) {\n            return url.slice(lastDotIndex + 1).toLowerCase();\n        }\n        else if (url.indexOf('base64') !== -1) {\n            return url.slice(url.indexOf('/') + 1, url.indexOf(';')).toLowerCase();\n        }\n        return null;\n    };\n    Draw.prototype.fileSelect = function (inputElement, args) {\n        var parent = this.parent;\n        var dropArea = document.getElementById(parent.element.id + '_dropArea');\n        if (dropArea) {\n            dropArea.style.display = 'none';\n        }\n        if (!parent.disabled) {\n            var filesData = void 0;\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var fileData = void 0;\n            if (args.target) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                filesData = args.target.files[0];\n                fileData = filesData;\n            }\n            else {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                filesData = fileData = args.filesData[0].rawFile;\n            }\n            var fileExtension = void 0;\n            if (fileData.name) {\n                var fileExtensionArray = fileData.name.split('.');\n                fileExtension = fileExtensionArray[fileExtensionArray.length - 1].toLowerCase();\n            }\n            var extension = parent.getExtensionArray();\n            var isJPG = ((fileExtension === 'jpg' || fileExtension === 'jpeg') && (parent.uploadSettings.allowedExtensions.indexOf('jpg') > -1 || parent.uploadSettings.allowedExtensions.indexOf('jpeg') > -1));\n            if ((fileExtension && (extension.indexOf(fileExtension) === -1 && !isJPG)) ||\n                ((parent.uploadSettings.minFileSize && fileData.size < parent.uploadSettings.minFileSize) ||\n                    (parent.uploadSettings.maxFileSize && fileData.size > parent.uploadSettings.maxFileSize))) {\n                this.errorLoading();\n                return;\n            }\n            showSpinner(parent.element);\n            parent.element.style.opacity = '0.5';\n            this.inputElem = inputElement;\n            fileExtension = fileData.name && fileData.name.split('.')[1];\n            if (fileExtension) {\n                var fileType = parent.toPascalCase(fileExtension);\n                if (fileType === 'JPG' || fileType === 'Jpg') {\n                    this.fileType = 'Jpeg';\n                }\n                else {\n                    this.fileType = fileType;\n                }\n            }\n            else {\n                this.fileType = null;\n            }\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var URL_1 = window.URL;\n            var url = URL_1.createObjectURL(filesData);\n            this.openURL = url;\n            // eslint-disable-next-line max-len\n            if (parent.isImageLoaded && !parent.isChangesSaved && (this.isImageEdited || parent.pointColl.length > 0 || parent.objColl.length > 0)) {\n                this.isFileChanged = true;\n                this.showDialogPopup();\n            }\n            else {\n                this.checkToolbarTemplate(inputElement, url);\n            }\n        }\n    };\n    Draw.prototype.checkToolbarTemplate = function (inputElement, url) {\n        var parent = this.parent;\n        if (isNullOrUndefined(parent.toolbarTemplate)) {\n            parent.reset();\n            parent.update();\n        }\n        this.fileName = inputElement.value.split('\\\\')[inputElement.value.split('\\\\').length - 1];\n        this.fileName = this.fileName.split('.')[0];\n        this.imageOnLoad(url.toString());\n        inputElement.value = '';\n    };\n    Draw.prototype.moveToSelectionRange = function (type, activeObj) {\n        var parent = this.parent;\n        if (parent.activeObj.shape) {\n            var isRotated = false;\n            for (var i = 0, len = parent.rotateFlipColl.length; i < len; i++) {\n                var degree = parent.rotateFlipColl[i];\n                if (degree === 90 || degree === -90) {\n                    isRotated = true;\n                    break;\n                }\n            }\n            if (isRotated) {\n                if (parent.transform.degree === 0) {\n                    return;\n                }\n                var zoomFactor = parent.transform.zoomFactor;\n                parent.objColl.push(parent.activeObj);\n                parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                var currObj = parent.objColl[parent.objColl.length - 1];\n                if (type === 'rotateleft' || type === 'rotateright') {\n                    if (parent.transform.degree % 90 === 0 && parent.transform.degree % 180 !== 0) {\n                        if (currObj.activePoint.width < activeObj.activePoint.height) {\n                            for (var i = 2; i < parent.zoomSettings.maxZoomFactor; i++) {\n                                if (currObj.activePoint.width >= activeObj.activePoint.height ||\n                                    this.isSelectionBiggerThanCanvas(currObj) ||\n                                    this.isSelectionOutsideCanvas(currObj)) {\n                                    if (!isNullOrUndefined(zoomFactor)) {\n                                        parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                                            value: { zoomFactor: -0.1, zoomPoint: null }, isResize: null });\n                                    }\n                                    break;\n                                }\n                                zoomFactor += 0.1;\n                                parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                                    value: { zoomFactor: zoomFactor, zoomPoint: null }, isResize: null });\n                            }\n                        }\n                        else {\n                            for (var i = 2; i < parent.zoomSettings.maxZoomFactor; i++) {\n                                if (currObj.activePoint.width >= activeObj.activePoint.height ||\n                                    this.isSelectionBiggerThanCanvas(currObj) ||\n                                    this.isSelectionOutsideCanvas(currObj)) {\n                                    if (!isNullOrUndefined(zoomFactor)) {\n                                        parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                                            value: { zoomFactor: 0.1, zoomPoint: null, isResize: null } });\n                                    }\n                                    break;\n                                }\n                                zoomFactor -= .1;\n                                parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                                    value: { zoomFactor: zoomFactor, zoomPoint: null }, isResize: null });\n                            }\n                        }\n                    }\n                    else {\n                        if (currObj.activePoint.height < activeObj.activePoint.width) {\n                            for (var i = 2; i < parent.zoomSettings.maxZoomFactor; i++) {\n                                if (currObj.activePoint.height >= activeObj.activePoint.width ||\n                                    this.isSelectionBiggerThanCanvas(currObj) ||\n                                    this.isSelectionOutsideCanvas(currObj)) {\n                                    if (!isNullOrUndefined(zoomFactor)) {\n                                        parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                                            value: { zoomFactor: -0.1, zoomPoint: null }, isResize: null });\n                                    }\n                                    break;\n                                }\n                                zoomFactor += 0.1;\n                                parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                                    value: { zoomFactor: zoomFactor, zoomPoint: null }, isResize: null });\n                            }\n                        }\n                        else {\n                            for (var i = 2; i < parent.zoomSettings.maxZoomFactor; i++) {\n                                if (currObj.activePoint.height >= activeObj.activePoint.width ||\n                                    this.isSelectionBiggerThanCanvas(currObj) ||\n                                    this.isSelectionOutsideCanvas(currObj)) {\n                                    if (!isNullOrUndefined(zoomFactor)) {\n                                        parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                                            value: { zoomFactor: 0.1, zoomPoint: null }, isResize: null });\n                                    }\n                                    break;\n                                }\n                                zoomFactor -= .1;\n                                parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                                    value: { zoomFactor: zoomFactor, zoomPoint: null }, isResize: null });\n                            }\n                        }\n                    }\n                }\n                var panX = (parent.lowerCanvas.clientWidth / 2) - (currObj.activePoint.startX +\n                    (currObj.activePoint.width / 2));\n                var panY = ((parent.lowerCanvas.clientHeight + 1) / 2) - (currObj.activePoint.startY +\n                    (currObj.activePoint.height / 2));\n                if (isNullOrUndefined(parent.activeObj.shape)) {\n                    parent.activeObj = extend({}, activeObj, {}, true);\n                }\n                if (parent.transform.degree === 0) {\n                    parent.img.destLeft += panX;\n                    parent.img.destTop += panY;\n                    parent.notify('transform', { prop: 'drawPannImage', value: { point: { x: panX, y: panY } } });\n                }\n                else {\n                    parent.panPoint.currentPannedPoint = { x: panX, y: panY };\n                    parent.notify('transform', { prop: 'drawPannedImage', value: { xDiff: panX, yDiff: panY } });\n                    parent.panPoint.currentPannedPoint = { x: 0, y: 0 };\n                }\n                parent.notify('transform', { prop: 'setTempPanMove', onPropertyChange: false,\n                    value: { point: null } });\n                parent.activeObj = extend({}, parent.objColl[parent.objColl.length - 1]);\n                parent.objColl.pop();\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj } });\n            }\n        }\n    };\n    Draw.prototype.isSelectionBiggerThanCanvas = function (obj) {\n        var isBigger = false;\n        var parent = this.parent;\n        var _a = obj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        var _b = parent.img, destLeft = _b.destLeft, destTop = _b.destTop, destWidth = _b.destWidth, destHeight = _b.destHeight;\n        if (startX <= destLeft || startY <= destTop || endX >= destLeft + destWidth || endY >= destTop + destHeight) {\n            isBigger = true;\n        }\n        return isBigger;\n    };\n    Draw.prototype.isSelectionOutsideCanvas = function (obj) {\n        var isOutside = false;\n        var parent = this.parent;\n        if ((obj.activePoint.height < parent.lowerCanvas.height - parent.toolbarHeight) ||\n            (obj.activePoint.width < parent.lowerCanvas.width)) {\n            isOutside = true;\n        }\n        return isOutside;\n    };\n    Draw.prototype.downScaleImgCanvas = function (ctx, isImgAnnotation, isHFlip, isVFlip) {\n        var parent = this.parent;\n        var canvas = isImgAnnotation ? parent.activeObj.imageCanvas : parent.baseImgCanvas;\n        var img = isImgAnnotation ? parent.activeObj.imageElement : parent.baseImg;\n        var width = isImgAnnotation ? parent.activeObj.activePoint.width : parent.img.destWidth;\n        var height = isImgAnnotation ? parent.activeObj.activePoint.height : parent.img.destHeight;\n        var obj = { width: 0, height: 0 };\n        if (parent.transform.degree % 90 === 0 && parent.transform.degree % 180 !== 0) {\n            parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n                value: { width: img.height, height: img.width, obj: obj, isImgShape: isImgAnnotation } });\n        }\n        else {\n            parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n                value: { width: img.width, height: img.height, obj: obj, isImgShape: isImgAnnotation } });\n        }\n        if (isImgAnnotation || (parent.allowDownScale && !parent.isCropTab && !parent.isCropToolbar && img.width !== 0 && img.height !== 0\n            && obj['width'] * 0.75 > width && obj['height'] * 0.75 > height)) {\n            var tempCanvas = parent.createElement('canvas', {\n                id: parent.element.id + '_downScaleCanvas', attrs: { name: 'canvasImage' }\n            });\n            tempCanvas.width = isImgAnnotation ? img.width : parent.img.srcWidth;\n            tempCanvas.height = isImgAnnotation ? img.height : parent.img.srcHeight;\n            if (isImgAnnotation) {\n                tempCanvas.getContext('2d').drawImage(img, 0, 0, tempCanvas.width, tempCanvas.height);\n            }\n            else {\n                if (this.imageBackgroundColor !== '') {\n                    ctx.fillStyle = this.imageBackgroundColor;\n                    ctx.fillRect(parent.img.destLeft, parent.img.destTop, parent.img.destWidth, parent.img.destHeight);\n                }\n                tempCanvas.getContext('2d').drawImage(canvas, parent.img.srcLeft, parent.img.srcTop, parent.img.srcWidth, parent.img.srcHeight, 0, 0, tempCanvas.width, tempCanvas.height);\n            }\n            if (isImgAnnotation || this.isDownScale) {\n                this.downScale(tempCanvas, width, height, isImgAnnotation);\n            }\n            if (isImgAnnotation) {\n                ctx.canvas.width = tempCanvas.width;\n                ctx.canvas.height = tempCanvas.height;\n                if (isHFlip && isVFlip) {\n                    ctx.translate(parent.activeObj.imageCanvas.width, 0);\n                    ctx.scale(-1, 1);\n                    ctx.translate(0, parent.activeObj.imageCanvas.height);\n                    ctx.scale(1, -1);\n                }\n                else {\n                    if (isHFlip) {\n                        if (isNullOrUndefined(parent.activeObj.isHorImageFlip) || !parent.activeObj.isHorImageFlip) {\n                            parent.activeObj.isHorImageFlip = true;\n                            ctx.translate(parent.activeObj.imageCanvas.width, 0);\n                            ctx.scale(-1, 1);\n                        }\n                        else if (parent.activeObj.isHorImageFlip) {\n                            parent.activeObj.isHorImageFlip = false;\n                        }\n                        if (parent.activeObj.isVerImageFlip) {\n                            ctx.translate(0, parent.activeObj.imageCanvas.height);\n                            ctx.scale(1, -1);\n                        }\n                    }\n                    else if (isVFlip) {\n                        if (isNullOrUndefined(parent.activeObj.isVerImageFlip) || !parent.activeObj.isVerImageFlip) {\n                            parent.activeObj.isVerImageFlip = true;\n                            ctx.translate(0, parent.activeObj.imageCanvas.height);\n                            ctx.scale(1, -1);\n                        }\n                        else if (parent.activeObj.isVerImageFlip) {\n                            parent.activeObj.isVerImageFlip = false;\n                        }\n                        if (parent.activeObj.isHorImageFlip) {\n                            ctx.translate(parent.activeObj.imageCanvas.width, 0);\n                            ctx.scale(-1, 1);\n                        }\n                    }\n                }\n                ctx.drawImage(tempCanvas, 0, 0);\n                ctx.setTransform(1, 0, 0, 1, 0, 0);\n            }\n            else if (parent.isFinetuning) {\n                ctx.save();\n                ctx.setTransform(1, 0, 0, 1, 0, 0);\n                ctx.drawImage(parent.inMemoryCanvas, 0, 0);\n                ctx.restore();\n            }\n            else {\n                ctx.drawImage(tempCanvas, 0, 0, tempCanvas.width, tempCanvas.height, parent.img.destLeft, parent.img.destTop, tempCanvas.width, tempCanvas.height);\n            }\n        }\n        else {\n            if ((isNullOrUndefined(isImgAnnotation) || !isImgAnnotation) && parent.baseImgCanvas.width !== 0 &&\n                parent.baseImgCanvas.height !== 0) {\n                if (this.imageBackgroundColor !== '') {\n                    ctx.fillStyle = this.imageBackgroundColor;\n                    ctx.fillRect(parent.img.destLeft, parent.img.destTop, parent.img.destWidth, parent.img.destHeight);\n                }\n                ctx.drawImage(parent.baseImgCanvas, parent.img.srcLeft, parent.img.srcTop, parent.img.srcWidth, parent.img.srcHeight, parent.img.destLeft, parent.img.destTop, parent.img.destWidth, parent.img.destHeight);\n            }\n        }\n        if (parent.isSafari) {\n            parent.notify('filter', { prop: 'apply-filter', onPropertyChange: false, value: { context: ctx } });\n        }\n    };\n    Draw.prototype.downScale = function (canvas, width, height, isImgAnnotation) {\n        var parent = this.parent;\n        if (isImgAnnotation && parent.isStraightening) {\n            return;\n        }\n        var widthSource = canvas.width;\n        var heightSource = canvas.height;\n        width = Math.round(width);\n        height = Math.round(height);\n        var widthRatio = widthSource / width;\n        var heightRatio = heightSource / height;\n        var halfWidthRatio = Math.ceil(widthRatio / 2);\n        var halfHeightRatio = Math.ceil(heightRatio / 2);\n        var ctx = canvas.getContext('2d');\n        var img = ctx.getImageData(0, 0, widthSource, heightSource);\n        var img2 = ctx.createImageData(width, height);\n        var data = img.data;\n        var data2 = img2.data;\n        for (var j = 0; j < height; j++) {\n            for (var i = 0; i < width; i++) {\n                var x2 = (i + j * width) * 4;\n                var weight = 0;\n                var weights = 0;\n                var alphaWeights = 0;\n                var r = 0;\n                var g = 0;\n                var b = 0;\n                var a = 0;\n                var centerY = (j + 0.5) * heightRatio;\n                var startY = Math.floor(j * heightRatio);\n                var stopY = Math.ceil((j + 1) * heightRatio);\n                for (var y = startY; y < stopY; y++) {\n                    var dy = Math.abs(centerY - (y + 0.5)) / halfHeightRatio;\n                    var centerX = (i + 0.5) * widthRatio;\n                    var w0 = dy * dy; //pre-calc part of w\n                    var startX = Math.floor(i * widthRatio);\n                    var stopX = Math.ceil((i + 1) * widthRatio);\n                    for (var x = startX; x < stopX; x++) {\n                        var dx = Math.abs(centerX - (x + 0.5)) / halfWidthRatio;\n                        var w = Math.sqrt(w0 + dx * dx);\n                        if (w >= 1) {\n                            continue;\n                        }\n                        weight = 2 * w * w * w - 3 * w * w + 1;\n                        var xPos = 4 * (x + y * widthSource);\n                        a += weight * data[xPos + 3];\n                        alphaWeights += weight;\n                        weight = weight * data[xPos + 3] / 250;\n                        r += weight * data[xPos];\n                        g += weight * data[xPos + 1];\n                        b += weight * data[xPos + 2];\n                        weights += weight;\n                    }\n                }\n                data2[x2] = r / weights;\n                data2[x2 + 1] = g / weights;\n                data2[x2 + 2] = b / weights;\n                data2[x2 + 3] = a / alphaWeights;\n            }\n        }\n        canvas.width = isImgAnnotation ? parent.activeObj.activePoint.width : parent.lowerCanvas.width;\n        canvas.height = isImgAnnotation ? parent.activeObj.activePoint.height : parent.lowerCanvas.height;\n        ctx.putImageData(img2, 0, 0);\n    };\n    Draw.prototype.drawImgToCtx = function (ctx, preventImg) {\n        var parent = this.parent;\n        if (ctx.canvas.id !== parent.element.id + '_tempCanvas' && ctx !== this.upperContext && isNullOrUndefined(preventImg)) {\n            this.downScaleImgCanvas(ctx, null, null, null);\n        }\n    };\n    Draw.prototype.getFrameColor = function (frameObj, ctx, points) {\n        var parent = this.parent;\n        var color = parent.frameObj.color;\n        if (frameObj.gradientColor) {\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var gradient = ctx.createLinearGradient(points.startX, points.startY, points.startX + points.width, points.startY + points.height);\n            gradient.addColorStop(0, frameObj.color);\n            gradient.addColorStop(1, frameObj.gradientColor);\n            color = gradient;\n        }\n        else {\n            color = frameObj.color;\n        }\n        return color;\n    };\n    Draw.prototype.applyFrame = function (ctx, frame, preventImg) {\n        var parent = this.parent;\n        parent.frameObj.type = frame;\n        var tempLineWidth;\n        var ratio = { width: 1, height: 1 };\n        var points = { startX: parent.img.destLeft - ctx.lineWidth, startY: parent.img.destTop - ctx.lineWidth,\n            width: parent.img.destWidth + (2 * ctx.lineWidth), height: parent.img.destHeight + (2 * ctx.lineWidth) };\n        var frameObj = { type: parent.frameObj.type, color: parent.frameObj.color, size: parent.frameObj.size,\n            inset: parent.frameObj.inset, offset: parent.frameObj.offset / 2, radius: parent.frameObj.radius,\n            amount: parent.frameObj.amount, border: parent.frameObj.border, gradientColor: parent.frameObj.gradientColor };\n        var zoomFactor = parent.transform.zoomFactor;\n        if (ctx.canvas.id === parent.element.id + '_tempCanvas') {\n            var newWidth = ctx.canvas.width;\n            var newHeight = ctx.canvas.height;\n            var obj = { width: 0, height: 0 };\n            parent.notify('crop', { prop: 'calcRatio', onPropertyChange: false,\n                value: { obj: obj, dimension: { width: newWidth, height: newHeight } } });\n            ratio = obj;\n            frameObj.size *= ((ratio.width + ratio.height) / 2);\n            frameObj.inset *= ((ratio.width + ratio.height) / 2);\n            frameObj.offset *= ((ratio.width + ratio.height) / 2);\n            frameObj.radius *= ((ratio.width + ratio.height) / 2);\n            points = { startX: 0, startY: 0, width: ctx.canvas.width, height: ctx.canvas.height };\n            parent.notify('export', { prop: 'updateSaveContext', onPropertyChange: false, value: { context: ctx } });\n        }\n        else if (ctx === this.upperContext && parent.activeObj.shape) {\n            points = { startX: parent.activeObj.activePoint.startX - ctx.lineWidth, startY: parent.activeObj.activePoint.startY\n                    - ctx.lineWidth, width: parent.activeObj.activePoint.width + (2 * ctx.lineWidth), height: parent.activeObj.activePoint.height + (2 * ctx.lineWidth) };\n        }\n        else if (isNullOrUndefined(preventImg)) {\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n        }\n        var valueForty = (40 * ((ratio.width + ratio.height) / 2));\n        var valueFifty = (50 * ((ratio.width + ratio.height) / 2));\n        if (ctx !== this.upperContext) {\n            frameObj.size += (frameObj.size * zoomFactor);\n            frameObj.inset += (frameObj.inset * zoomFactor);\n            frameObj.offset += (frameObj.offset * zoomFactor);\n            frameObj.radius += (frameObj.radius * zoomFactor);\n            valueForty += (valueForty * zoomFactor);\n            valueFifty += (valueFifty * zoomFactor);\n        }\n        if (ctx === this.upperContext && parent.activeObj.shape) {\n            if ((frame === 'mat' && ((points.width - (2 * frameObj.size) < 0) || (points.height - (2 * frameObj.size) < 0))) ||\n                (frame === 'bevel' && (points.width - (2 * frameObj.size) < 40 || points.height - (2 * frameObj.size) < 40)) ||\n                ((frame === 'inset') && (points.startX + points.width - frameObj.offset - (points.startX + frameObj.offset) < 0 ||\n                    points.startY + points.height - frameObj.offset - (points.startY + frameObj.offset) < 0)) ||\n                (frame === 'hook' && (points.width - (2 * frameObj.size) < 50 || points.height - (2 * frameObj.size) < 50))) {\n                return;\n            }\n        }\n        var bevelObj = { bevelFilter: ctx.filter };\n        var filter = ctx.filter;\n        if ((parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') || parent.isCircleCrop ||\n            (ctx === this.lowerContext && parent.isCropTab)) {\n            this.drawImgToCtx(ctx, preventImg);\n        }\n        else {\n            switch (frame) {\n                case 'none':\n                    this.drawImgToCtx(ctx, preventImg);\n                    break;\n                case 'mat':\n                    this.drawImgToCtx(ctx, preventImg);\n                    while (((points.width - (2 * frameObj.size) < 0) ||\n                        (points.height - (2 * frameObj.size) < 0)) && frameObj.size > 0) {\n                        frameObj.size -= 20;\n                    }\n                    ctx.filter = 'none';\n                    ctx.fillStyle = this.getFrameColor(frameObj, ctx, points);\n                    ctx.beginPath();\n                    ctx.rect(points.startX, points.startY, points.width, points.height);\n                    ctx.rect(points.startX + frameObj.size, points.startY + frameObj.size, points.width -\n                        (2 * frameObj.size), points.height - (2 * frameObj.size));\n                    ctx.fill('evenodd');\n                    ctx.closePath();\n                    break;\n                case 'bevel':\n                    ctx.filter = 'none';\n                    ctx.fillStyle = this.getFrameColor(frameObj, ctx, points);\n                    ctx.beginPath();\n                    ctx.fillRect(points.startX, points.startY, points.width, points.height);\n                    ctx.closePath();\n                    points.startX += frameObj.size;\n                    points.startY += frameObj.size;\n                    points.width -= (2 * frameObj.size);\n                    points.height -= (2 * frameObj.size);\n                    while ((points.width - (2 * frameObj.size) < 40 ||\n                        points.height - (2 * frameObj.size) < 40) && frameObj.size > 0) {\n                        points.startX -= frameObj.size;\n                        points.startY -= frameObj.size;\n                        points.width += (2 * frameObj.size);\n                        points.height += (2 * frameObj.size);\n                        frameObj.size -= 20;\n                        points.startX += frameObj.size;\n                        points.startY += frameObj.size;\n                        points.width -= (2 * frameObj.size);\n                        points.height -= (2 * frameObj.size);\n                    }\n                    ctx.fillStyle = this.getFrameColor(frameObj, ctx, points);\n                    ctx.save();\n                    ctx.beginPath();\n                    ctx.moveTo(points.startX + valueForty, points.startY);\n                    ctx.lineTo(points.startX + points.width - valueForty, points.startY);\n                    ctx.quadraticCurveTo(points.startX + points.width, points.startY, points.startX + points.width, points.startY + valueForty);\n                    ctx.lineTo(points.startX + points.width, points.startY + points.height - valueForty);\n                    ctx.quadraticCurveTo(points.startX + points.width, points.startY + points.height, points.startX + points.width - valueForty, points.startY + points.height);\n                    ctx.lineTo(points.startX + valueForty, points.startY + points.height);\n                    ctx.quadraticCurveTo(points.startX, points.startY + points.height, points.startX, points.startY + points.height\n                        - valueForty);\n                    ctx.lineTo(points.startX, points.startY + valueForty);\n                    ctx.quadraticCurveTo(points.startX, points.startY, points.startX + valueForty, points.startY);\n                    ctx.closePath();\n                    ctx.clip();\n                    ctx.filter = filter === 'none' ? parent.canvasFilter : filter;\n                    if (ctx.canvas.id === parent.element.id + '_tempCanvas') {\n                        preventImg = null;\n                        ctx.filter = 'none';\n                        ctx.drawImage(parent.inMemoryCanvas, 0, 0);\n                        ctx.filter = filter === 'none' ? parent.canvasFilter : filter;\n                    }\n                    else {\n                        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n                        if (preventImg) {\n                            preventImg = null;\n                            if (parent.transform.zoomFactor !== 0) {\n                                this.isRotateZoom = true;\n                            }\n                            parent.notify('filter', { prop: 'getBevelFilter', onPropertyChange: false, value: { obj: bevelObj } });\n                            ctx.filter = bevelObj['bevelFilter'];\n                            this.updateCurrTransState('initial');\n                            this.drawImgToCtx(ctx, preventImg);\n                            this.updateCurrTransState('reverse');\n                            this.isRotateZoom = false;\n                            parent.frameObj.type = 'none';\n                            ctx.filter = 'none';\n                            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                                value: { ctx: ctx, shape: 'iterate', pen: 'iterate', isPreventApply: null } });\n                            parent.frameObj.type = 'bevel';\n                            ctx.filter = filter === 'none' ? parent.canvasFilter : filter;\n                        }\n                        else {\n                            parent.notify('filter', { prop: 'getBevelFilter', onPropertyChange: false, value: { obj: bevelObj } });\n                            ctx.filter = bevelObj['bevelFilter'];\n                            this.drawImgToCtx(ctx, preventImg);\n                        }\n                    }\n                    ctx.restore();\n                    break;\n                case 'line':\n                    this.drawImgToCtx(ctx, preventImg);\n                    tempLineWidth = ctx.lineWidth;\n                    ctx.lineWidth = frameObj.size / 10;\n                    for (var i = 0; i < parent.frameObj.amount; i++) {\n                        if (i > 0) {\n                            points.startX += frameObj.offset;\n                            points.startY += frameObj.offset;\n                            points.width -= (2 * frameObj.offset);\n                            points.height -= (2 * frameObj.offset);\n                        }\n                        var arcY2 = points.startY + points.height - frameObj.inset - frameObj.radius;\n                        var lineY = points.startY + frameObj.inset + frameObj.radius;\n                        var arcX2 = points.startX + points.width - frameObj.inset - frameObj.radius;\n                        var lineX = points.startX + frameObj.inset + frameObj.radius;\n                        var arcX1 = points.startX + frameObj.inset + frameObj.radius;\n                        var lineX2 = points.startX + points.width - frameObj.inset - frameObj.radius;\n                        var arcY1 = points.startY + frameObj.inset + frameObj.radius;\n                        var lineY2 = points.startY + points.height - frameObj.inset - frameObj.radius;\n                        if (arcY2 >= lineY && arcX2 >= lineX && arcX1 <= lineX2 && arcY1 <= lineY2) {\n                            ctx.filter = 'none';\n                            ctx.strokeStyle = this.getFrameColor(frameObj, ctx, points);\n                            if (frameObj.border === 'dashed') {\n                                ctx.setLineDash([ctx.lineWidth * 2.5, ctx.lineWidth * 1.5]);\n                            }\n                            else if (frameObj.border === 'dotted') {\n                                ctx.setLineDash([ctx.lineWidth, ctx.lineWidth]);\n                            }\n                            ctx.beginPath();\n                            ctx.moveTo(points.startX + frameObj.inset + frameObj.radius, points.startY + frameObj.inset);\n                            ctx.lineTo(points.startX + points.width - frameObj.inset - frameObj.radius, points.startY + frameObj.inset);\n                            ctx.arcTo(points.startX + points.width - frameObj.inset, points.startY + frameObj.inset, points.startX + points.width - frameObj.inset, points.startY + frameObj.inset + frameObj.radius, frameObj.radius);\n                            ctx.lineTo(points.startX + points.width - frameObj.inset, points.startY + points.height - frameObj.inset -\n                                frameObj.radius);\n                            ctx.arcTo(points.startX + points.width - frameObj.inset, points.startY + points.height - frameObj.inset, points.startX + points.width - frameObj.inset - frameObj.radius, points.startY + points.height\n                                - frameObj.inset, frameObj.radius);\n                            ctx.lineTo(points.startX + frameObj.inset + frameObj.radius, points.startY + points.height - frameObj.inset);\n                            ctx.arcTo(points.startX + frameObj.inset, points.startY + points.height - frameObj.inset, points.startX + frameObj.inset, points.startY + points.height - frameObj.inset - frameObj.radius, frameObj.radius);\n                            ctx.lineTo(points.startX + frameObj.inset, points.startY + frameObj.inset + frameObj.radius);\n                            ctx.arcTo(points.startX + frameObj.inset, points.startY + frameObj.inset, points.startX + frameObj.inset + frameObj.radius, points.startY + frameObj.inset, frameObj.radius);\n                            ctx.closePath();\n                            ctx.stroke();\n                            ctx.setLineDash([]);\n                        }\n                    }\n                    ctx.lineWidth = tempLineWidth;\n                    break;\n                case 'inset':\n                    this.drawImgToCtx(ctx, preventImg);\n                    ctx.filter = 'none';\n                    ctx.strokeStyle = this.getFrameColor(frameObj, ctx, points);\n                    tempLineWidth = ctx.lineWidth;\n                    ctx.lineWidth = frameObj.size / 10;\n                    ctx.beginPath();\n                    ctx.moveTo(points.startX + frameObj.offset, points.startY + frameObj.inset);\n                    ctx.lineTo(points.startX + points.width - frameObj.offset, points.startY + frameObj.inset);\n                    ctx.moveTo(points.startX + points.width - frameObj.inset, points.startY + frameObj.offset);\n                    ctx.lineTo(points.startX + points.width - frameObj.inset, points.startY + points.height - frameObj.offset);\n                    ctx.moveTo(points.startX + points.width - frameObj.offset, points.startY + points.height - frameObj.inset);\n                    ctx.lineTo(points.startX + frameObj.offset, points.startY + points.height - frameObj.inset);\n                    ctx.moveTo(points.startX + frameObj.inset, points.startY + points.height - frameObj.offset);\n                    ctx.lineTo(points.startX + frameObj.inset, points.startY + frameObj.offset);\n                    ctx.stroke();\n                    ctx.closePath();\n                    ctx.lineWidth = tempLineWidth;\n                    break;\n                case 'hook':\n                    this.drawImgToCtx(ctx, preventImg);\n                    ctx.filter = 'none';\n                    ctx.strokeStyle = this.getFrameColor(frameObj, ctx, points);\n                    tempLineWidth = ctx.lineWidth;\n                    ctx.lineWidth = frameObj.size / 10;\n                    ctx.beginPath();\n                    ctx.moveTo(points.startX + frameObj.inset + valueFifty, points.startY + frameObj.inset);\n                    ctx.lineTo(points.startX + frameObj.inset, points.startY + frameObj.inset);\n                    ctx.lineTo(points.startX + frameObj.inset, points.startY + frameObj.inset + valueFifty);\n                    ctx.moveTo(points.startX + points.width - frameObj.inset - valueFifty, points.startY + frameObj.inset);\n                    ctx.lineTo(points.startX + points.width - frameObj.inset, points.startY + frameObj.inset);\n                    ctx.lineTo(points.startX + points.width - frameObj.inset, points.startY + frameObj.inset + valueFifty);\n                    ctx.moveTo(points.startX + points.width - frameObj.inset - valueFifty, points.startY + points.height - frameObj.inset);\n                    ctx.lineTo(points.startX + points.width - frameObj.inset, points.startY + points.height - frameObj.inset);\n                    ctx.lineTo(points.startX + points.width - frameObj.inset, points.startY + points.height - frameObj.inset - valueFifty);\n                    ctx.moveTo(points.startX + frameObj.inset + valueFifty, points.startY + points.height - frameObj.inset);\n                    ctx.lineTo(points.startX + frameObj.inset, points.startY + points.height - frameObj.inset);\n                    ctx.lineTo(points.startX + frameObj.inset, points.startY + points.height - frameObj.inset - valueFifty);\n                    ctx.stroke();\n                    ctx.lineWidth = tempLineWidth;\n                    break;\n            }\n            if (parent.isCircleCrop || (parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle')) {\n                parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                    value: { context: ctx, isSave: ctx.canvas.id === parent.element.id + '_tempCanvas' ? true : null, isFlip: null } });\n            }\n            ctx.filter = filter;\n        }\n    };\n    Draw.prototype.triggerFrameChange = function (prevFrameSettings) {\n        var parent = this.parent;\n        var currFrameSettings = { type: parent.toPascalCase(parent.frameObj.type),\n            color: parent.frameObj.color, gradientColor: parent.frameObj.gradientColor, size: parent.frameObj.size,\n            inset: parent.frameObj.inset, offset: parent.frameObj.offset, borderRadius: parent.frameObj.radius,\n            frameLineStyle: parent.toPascalCase(parent.frameObj.border), lineCount: parent.frameObj.amount };\n        var frameChange = { cancel: false, previousFrameSetting: prevFrameSettings,\n            currentFrameSetting: currFrameSettings };\n        parent.trigger('frameChange', frameChange);\n        parent.editCompleteArgs = frameChange;\n        if (!frameChange.cancel) {\n            this.setFrameObj(frameChange.currentFrameSetting);\n        }\n        return frameChange;\n    };\n    Draw.prototype.setFrameObj = function (currFrameSettings) {\n        var parent = this.parent;\n        parent.frameObj.type = currFrameSettings.type.toLowerCase();\n        parent.frameObj.color = currFrameSettings.color;\n        parent.frameObj.gradientColor = currFrameSettings.gradientColor;\n        parent.frameObj.size = currFrameSettings.size;\n        parent.frameObj.inset = currFrameSettings.inset;\n        parent.frameObj.offset = currFrameSettings.offset;\n        parent.frameObj.radius = currFrameSettings.borderRadius;\n        parent.frameObj.border = currFrameSettings.frameLineStyle.toLowerCase();\n        parent.frameObj.amount = currFrameSettings.lineCount;\n    };\n    Draw.prototype.zoomToSel = function (activeObj, isToolbar) {\n        var parent = this.parent;\n        if (this.straightenActObj && JSON.stringify(this.straightenActObj.activePoint) === JSON.stringify(activeObj.activePoint)) {\n            parent.activeObj = extend({}, this.straightenActObj, null, true);\n            this.allowRedactStraighten = false;\n            if (parent.transform.straighten === 0) {\n                var destWidth = parent.img.destWidth;\n                var destHeight = parent.img.destHeight;\n                parent.transform.straighten = 360;\n                while (true) {\n                    if (!isNullOrUndefined(this.straightenInitZoom) &&\n                        (Math.round(parent.transform.zoomFactor * Math.pow(10, 3)) / Math.pow(10, 3)) >\n                            (Math.round(this.straightenInitZoom * Math.pow(10, 3)) / Math.pow(10, 3))) {\n                        this.setZoomPan('out');\n                        if (destWidth === parent.img.destWidth && destHeight === parent.img.destHeight) {\n                            this.performDummyZoom();\n                            break;\n                        }\n                        if (parent.transform.degree === 0) {\n                            parent.transform.zoomFactor -= 0.025;\n                            parent.transform.cropZoomFactor -= 0.025;\n                        }\n                    }\n                    else {\n                        this.performDummyZoom();\n                        break;\n                    }\n                }\n                parent.transform.straighten = 0;\n                parent.img = { destLeft: parent.img.destLeft, destTop: parent.img.destTop, destWidth: parent.img.destWidth,\n                    destHeight: parent.img.destHeight, srcLeft: parent.img.srcLeft, srcTop: parent.img.srcTop,\n                    srcWidth: parent.img.srcWidth, srcHeight: parent.img.srcHeight };\n            }\n            else {\n                if (isNullOrUndefined(this.straightenInitZoom)) {\n                    this.straightenInitZoom = parent.transform.zoomFactor;\n                }\n                if (this.straightenInitZoom - parent.transform.zoomFactor > 0) {\n                    parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                        value: { zoomFactor: -(this.straightenInitZoom - parent.transform.zoomFactor), zoomPoint: null, isResize: true } });\n                }\n                else if (this.straightenInitZoom - parent.transform.zoomFactor < 0) {\n                    parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                        value: { zoomFactor: (this.straightenInitZoom - parent.transform.zoomFactor), zoomPoint: null, isResize: true } });\n                }\n                parent.activeObj = extend({}, activeObj, null, true);\n                parent.transform.zoomFactor += 0.001;\n                this.calcStraightenedPoints(isToolbar);\n            }\n        }\n        else {\n            this.straightenActObj = extend({}, activeObj, null, true);\n            parent.activeObj = extend({}, this.straightenActObj, null, true);\n            this.straightenInitZoom = parent.transform.zoomFactor;\n            this.calcStraightenedPoints(isToolbar);\n        }\n    };\n    Draw.prototype.isDestPointSmall = function () {\n        var parent = this.parent;\n        var img = parent.img;\n        var destPoints = { startX: img.destLeft, startY: img.destTop,\n            width: img.destWidth, height: img.destHeight };\n        parent.notify('shape', { prop: 'straightenShapes', onPropertyChange: false });\n        var isSmall = false;\n        if (this.straightenDestPoints.destWidth && this.straightenDestPoints.destHeight &&\n            (img.destWidth < this.straightenDestPoints.destWidth || img.destHeight < this.straightenDestPoints.destHeight)) {\n            isSmall = true;\n        }\n        img.destLeft = destPoints.startX;\n        img.destTop = destPoints.startY;\n        img.destWidth = destPoints.width;\n        img.destHeight = destPoints.height;\n        parent.img = img;\n        return isSmall;\n    };\n    Draw.prototype.calcStraightenedPoints = function (isToolbar) {\n        var parent = this.parent;\n        var destWidth = parent.img.destWidth;\n        var destHeight = parent.img.destHeight;\n        if (isNullOrUndefined(parent.transform.zoomFactor)) {\n            parent.transform.zoomFactor += 0.025;\n        }\n        this.updateImgCanvasPoints();\n        var _loop_1 = function () {\n            if (this_1.isLinesIntersect() || this_1.isSelOutsideImg() || (isToolbar && this_1.isDestPointSmall())) {\n                parent.activeObj = extend({}, this_1.straightenActObj, null, true);\n                this_1.setZoomPan('in');\n                if (destWidth === parent.img.destWidth && destHeight === parent.img.destHeight) {\n                    this_1.performDummyZoom();\n                    return \"break\";\n                }\n                if (parent.transform.degree === 0) {\n                    parent.transform.zoomFactor += 0.025;\n                    parent.transform.cropZoomFactor += 0.025;\n                }\n                var points = this_1.imgCanvasPoints;\n                var left_1 = parent.img.destLeft;\n                var top_1 = parent.img.destTop;\n                var width_1 = parent.img.destWidth;\n                var height_1 = parent.img.destHeight;\n                points.forEach(function (point) {\n                    point.x = (point.ratioX * width_1) + left_1;\n                    point.y = (point.ratioY * height_1) + top_1;\n                });\n                this_1.imgCanvasPoints = points;\n            }\n            else {\n                this_1.performDummyZoom();\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        while (true) {\n            var state_1 = _loop_1();\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Draw.prototype.performDummyZoom = function () {\n        var parent = this.parent;\n        parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n            value: { zoomFactor: 0.025, zoomPoint: null, isResize: true } });\n        parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n            value: { zoomFactor: -0.025, zoomPoint: null, isResize: true } });\n        var zoom = parent.transform.zoomFactor * 10;\n        if (zoom < 1) {\n            zoom = 1 + (zoom / 10);\n        }\n        parent.setProperties({ zoomSettings: { zoomFactor: zoom } }, true);\n        parent.notify('transform', { prop: 'setPreviousZoomValue', onPropertyChange: false,\n            value: { previousZoomValue: zoom } });\n        this.panToSel();\n    };\n    Draw.prototype.setZoomPan = function (type) {\n        var parent = this.parent;\n        var obj = { maxDimension: null };\n        if (parent.transform.degree === 0) {\n            parent.notify('transform', { prop: 'cropZoom', onPropertyChange: false,\n                value: { value: type === 'in' ? 0.025 : -0.025, selectionObj: parent.activeObj, obj: obj } });\n            parent.img.destWidth = obj['maxDimension']['width'];\n            parent.img.destHeight = obj['maxDimension']['height'];\n        }\n        else {\n            parent.transform.zoomFactor += (type === 'in' ? 0.025 : -0.025);\n            parent.transform.cropZoomFactor += (type === 'in' ? 0.025 : -0.025);\n            this.updateCurrTransState('initial');\n            this.isRotateZoom = true;\n            this.setDestPoints();\n            this.isRotateZoom = false;\n            this.updateCurrTransState('reverse');\n        }\n    };\n    Draw.prototype.updateImgCanvasPoints = function () {\n        var parent = this.parent;\n        var points = this.getImagePoints();\n        var obj = { width: 0, height: 0 };\n        var width = parent.baseImgCanvas.width;\n        var height = parent.baseImgCanvas.height;\n        parent.notify('crop', { prop: 'calcRatio', onPropertyChange: false,\n            value: { obj: obj, dimension: { width: width, height: height } } });\n        var ratio = obj;\n        width = parent.transform.degree % 90 === 0 && parent.transform.degree % 180 !== 0 ?\n            ratio.height : ratio.width;\n        height = parent.transform.degree % 90 === 0 && parent.transform.degree % 180 !== 0 ?\n            ratio.width : ratio.height;\n        var p1;\n        var p2;\n        var p3;\n        var p4;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        if (parent.transform.straighten > 0) {\n            p1 = { x: destLeft + (points[0].x / width), y: destTop };\n            p2 = { x: destLeft + destWidth, y: destTop + (points[1].y / height) };\n            p3 = { x: destLeft + destWidth - (points[0].x / width), y: destTop + destHeight };\n            p4 = { x: destLeft, y: destTop + destHeight - (points[1].y / height) };\n        }\n        else if (parent.transform.straighten < 0) {\n            p1 = { x: destLeft, y: destTop + (points[0].y / height) };\n            p2 = { x: destLeft + (points[1].x / width), y: destTop };\n            p3 = { x: destLeft + destWidth, y: destTop + destHeight - (points[0].y / height) };\n            p4 = { x: destLeft + destWidth - (points[1].x / width), y: destTop + destHeight };\n        }\n        else if (parent.transform.straighten === 0) {\n            p1 = { x: destLeft, y: destTop };\n            p2 = { x: destLeft + destWidth, y: destTop };\n            p3 = { x: destLeft + destWidth, y: destTop + destHeight };\n            p4 = { x: destLeft, y: destTop + destHeight };\n        }\n        p1.ratioX = (p1.x - destLeft) / destWidth;\n        p1.ratioY = (p1.y - destTop) / destHeight;\n        p2.ratioX = (p2.x - destLeft) / destWidth;\n        p2.ratioY = (p2.y - destTop) / destHeight;\n        p3.ratioX = (p3.x - destLeft) / destWidth;\n        p3.ratioY = (p3.y - destTop) / destHeight;\n        p4.ratioX = (p4.x - destLeft) / destWidth;\n        p4.ratioY = (p4.y - destTop) / destHeight;\n        this.imgCanvasPoints = [p1, p2, p3, p4];\n    };\n    Draw.prototype.isLinesIntersect = function (obj) {\n        var parent = this.parent;\n        var point = parent.activeObj.activePoint;\n        if (parent.activeObj.rotatedAngle !== 0) {\n            var _a = parent.activeObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY, width = _a.width, height = _a.height;\n            var center = { x: startX + (width / 2), y: startY +\n                    (height / 2) };\n            var cosAngle = Math.cos(parent.activeObj.rotatedAngle);\n            var sinAngle = Math.sin(parent.activeObj.rotatedAngle);\n            var p1 = { x: cosAngle * (startX - center.x) - sinAngle * (startY - center.y) + center.x,\n                y: sinAngle * (startX - center.x) + cosAngle * (startY - center.y) + center.y };\n            var p2 = { x: cosAngle * (endX - center.x) - sinAngle * (startY - center.y) + center.x,\n                y: sinAngle * (endX - center.x) + cosAngle * (startY - center.y) + center.y };\n            var p3 = { x: cosAngle * (startX - center.x) - sinAngle * (endY - center.y) + center.x,\n                y: sinAngle * (startX - center.x) + cosAngle * (endY - center.y) + center.y };\n            var p4 = { x: cosAngle * (endX - center.x) - sinAngle * (endY - center.y) + center.x,\n                y: sinAngle * (endX - center.x) + cosAngle * (endY - center.y) + center.y };\n            var imgPoints_1 = this.imgCanvasPoints;\n            var isTopIntersect_1 = this.doIntersect(p1, p2, imgPoints_1[0], imgPoints_1[1]);\n            var isRightIntersect_1 = this.doIntersect(p2, p4, imgPoints_1[1], imgPoints_1[2]);\n            var isBottomIntersect_1 = this.doIntersect(p3, p4, imgPoints_1[2], imgPoints_1[3]);\n            var isLeftIntersect_1 = this.doIntersect(p1, p3, imgPoints_1[3], imgPoints_1[0]);\n            if (obj) {\n                obj['arr'] = [isTopIntersect_1, isRightIntersect_1, isBottomIntersect_1, isLeftIntersect_1];\n            }\n            return isTopIntersect_1 || isRightIntersect_1 || isBottomIntersect_1 || isLeftIntersect_1;\n        }\n        var imgPoints = this.imgCanvasPoints;\n        var isTopIntersect = this.doIntersect({ x: point.startX, y: point.startY }, { x: point.endX, y: point.startY }, imgPoints[0], imgPoints[1]);\n        var isRightIntersect = this.doIntersect({ x: point.endX, y: point.startY }, { x: point.endX, y: point.endY }, imgPoints[1], imgPoints[2]);\n        var isBottomIntersect = this.doIntersect({ x: point.startX, y: point.endY }, { x: point.endX, y: point.endY }, imgPoints[2], imgPoints[3]);\n        var isLeftIntersect = this.doIntersect({ x: point.startX, y: point.startY }, { x: point.startX, y: point.endY }, imgPoints[3], imgPoints[0]);\n        var isTopLeftInsideRect = this.isInsideRect(imgPoints[0]);\n        var isTopRightInsideRect = this.isInsideRect(imgPoints[1]);\n        var isBottomRightInsideRect = this.isInsideRect(imgPoints[2]);\n        var isBottomLeftInsideRect = this.isInsideRect(imgPoints[3]);\n        if (obj) {\n            obj['arr'] = [isTopIntersect, isRightIntersect, isBottomIntersect, isLeftIntersect];\n        }\n        return isTopIntersect || isRightIntersect || isBottomIntersect || isLeftIntersect ||\n            isTopLeftInsideRect || isTopRightInsideRect || isBottomRightInsideRect || isBottomLeftInsideRect ||\n            (imgPoints[0].x > point.startX && imgPoints[1].x < point.endX &&\n                imgPoints[2].x < point.endX && imgPoints[3].x > point.startX &&\n                imgPoints[0].y < point.startY && imgPoints[1].y < point.startY &&\n                imgPoints[2].y > point.endY && imgPoints[3].y > point.endY) ||\n            (imgPoints[0].x < point.startX && imgPoints[1].x > point.endX &&\n                imgPoints[2].x > point.endX && imgPoints[3].x < point.startX &&\n                imgPoints[0].y > point.startY && imgPoints[1].y > point.startY &&\n                imgPoints[2].y < point.endY && imgPoints[3].y < point.endY);\n    };\n    Draw.prototype.isSelOutsideImg = function () {\n        var parent = this.parent;\n        var points = this.imgCanvasPoints;\n        var actPoint = parent.activeObj.activePoint;\n        return (this.checkPointPosition(actPoint.startX, actPoint.startY, points[0].x, points[0].y, points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y) !== 'inside' ||\n            this.checkPointPosition(actPoint.endX, actPoint.startY, points[0].x, points[0].y, points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y) !== 'inside' ||\n            this.checkPointPosition(actPoint.startX, actPoint.endY, points[0].x, points[0].y, points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y) !== 'inside' ||\n            this.checkPointPosition(actPoint.endX, actPoint.endY, points[0].x, points[0].y, points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y) !== 'inside');\n    };\n    Draw.prototype.calcTriangleArea = function (x1, y1, x2, y2, x3, y3) {\n        return Math.abs((x1 * (y2 - y3) + x2 * (y3 - y1) + x3 * (y1 - y2)) / 2);\n    };\n    Draw.prototype.checkPointPosition = function (x, y, x1, y1, x2, y2, x3, y3, x4, y4) {\n        var area1 = this.calcTriangleArea(x, y, x1, y1, x4, y4);\n        var area2 = this.calcTriangleArea(x, y, x4, y4, x3, y3);\n        var area3 = this.calcTriangleArea(x, y, x3, y3, x2, y2);\n        var area4 = this.calcTriangleArea(x, y, x2, y2, x1, y1);\n        var areaRectangle = this.calcTriangleArea(x1, y1, x2, y2, x3, y3) + this.calcTriangleArea(x3, y3, x4, y4, x1, y1);\n        if (area1 + area2 + area3 + area4 > areaRectangle) {\n            return 'outside';\n        }\n        else if (area1 + area2 + area3 + area4 === areaRectangle && (area1 === 0 || area2 === 0 || area3 === 0 || area4 === 0)) {\n            return 'on';\n        }\n        else {\n            return 'inside';\n        }\n    };\n    Draw.prototype.getImagePoints = function () {\n        var point = [];\n        var parent = this.parent;\n        var degree = parent.transform.degree;\n        var width = parent.baseImg.width;\n        var height = parent.baseImg.height;\n        var obj = { dim: null, width: height, height: width, angle: parent.transform.straighten };\n        obj['dim'] = parent.getRotatedCanvasDim(obj['width'], obj['height'], obj['angle']);\n        var baseImgCanvasWidth = degree % 90 === 0 && degree % 180 !== 0 ? obj['dim']['width'] : parent.baseImgCanvas.width;\n        var baseImgCanvasHeight = degree % 90 === 0 && degree % 180 !== 0 ? obj['dim']['height'] : parent.baseImgCanvas.height;\n        var baseImgWidth = degree % 90 === 0 && degree % 180 !== 0 ? height : width;\n        var baseImgHeight = degree % 90 === 0 && degree % 180 !== 0 ? width : height;\n        var centerX = baseImgCanvasWidth / 2;\n        var centerY = baseImgCanvasHeight / 2;\n        var startX = centerX - (baseImgWidth / 2);\n        var startY = centerY - (baseImgHeight / 2);\n        var endX = centerX + (baseImgWidth / 2);\n        var endY = centerY + (baseImgHeight / 2);\n        var center = { x: centerX, y: centerY };\n        var radians = parent.transform.straighten * (Math.PI / 180);\n        var p1 = { x: Math.cos(radians) * (startX - center.x) - Math.sin(radians) * (startY - center.y) + center.x,\n            y: Math.sin(radians) * (startX - center.x) + Math.cos(radians) * (startY - center.y) + center.y };\n        var p2 = { x: Math.cos(radians) * (endX - center.x) - Math.sin(radians) * (startY - center.y) + center.x,\n            y: Math.sin(radians) * (endX - center.x) + Math.cos(radians) * (startY - center.y) + center.y };\n        var p3 = { x: Math.cos(radians) * (endX - center.x) - Math.sin(radians) * (endY - center.y) + center.x,\n            y: Math.sin(radians) * (endX - center.x) + Math.cos(radians) * (endY - center.y) + center.y };\n        var p4 = { x: Math.cos(radians) * (startX - center.x) - Math.sin(radians) * (endY - center.y) + center.x,\n            y: Math.sin(radians) * (startX - center.x) + Math.cos(radians) * (endY - center.y) + center.y };\n        point.push(p1);\n        point.push(p2);\n        point.push(p3);\n        point.push(p4);\n        return point;\n    };\n    Draw.prototype.doIntersect = function (a, b, c, d) {\n        var point1 = this.initiation(a, b, c);\n        var point2 = this.initiation(a, b, d);\n        var point3 = this.initiation(c, d, a);\n        var point4 = this.initiation(c, d, b);\n        if (point1 !== point2 && point3 !== point4) {\n            return true;\n        }\n        if (point1 === 0 && this.onSegment(a, c, b)) {\n            return true;\n        }\n        if (point2 === 0 && this.onSegment(a, d, b)) {\n            return true;\n        }\n        if (point3 === 0 && this.onSegment(c, a, d)) {\n            return true;\n        }\n        if (point4 === 0 && this.onSegment(c, b, d)) {\n            return true;\n        }\n        return false;\n    };\n    Draw.prototype.initiation = function (a, b, c) {\n        var value = (b.y - a.y) * (c.x - b.x) - (b.x - a.x) * (c.y - b.y);\n        if (value === 0) {\n            return 0;\n        }\n        return (value > 0) ? 1 : 2;\n    };\n    Draw.prototype.onSegment = function (a, b, c) {\n        if (b.x <= Math.max(a.x, c.x) && b.x >= Math.min(a.x, c.x) &&\n            b.y <= Math.max(a.y, c.y) && b.y >= Math.min(a.y, c.y)) {\n            return true;\n        }\n        return false;\n    };\n    Draw.prototype.isInsideRect = function (point) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var isInside = false;\n        if (point.x >= actPoint.startX && point.x <= actPoint.endX &&\n            point.y >= actPoint.startY && point.y <= actPoint.endY) {\n            isInside = true;\n        }\n        return isInside;\n    };\n    Draw.prototype.setDestForStraighten = function () {\n        var parent = this.parent;\n        if (isNullOrUndefined(this.straightenDestPoints)) {\n            var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n            // If straightening performed, then destination points are set in non-straightened state\n            parent.notify('shape', { prop: 'straightenShapes', onPropertyChange: false });\n            this.straightenDestPoints = extend({}, parent.img, {}, true);\n            parent.img.destLeft = destLeft;\n            parent.img.destTop = destTop;\n            parent.img.destWidth = destWidth;\n            parent.img.destHeight = destHeight;\n        }\n    };\n    Draw.prototype.drawRedact = function (canvasDraw, obj) {\n        var _a = obj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        var _b = obj.activePoint, width = _b.width, height = _b.height;\n        var isSaveCtx = false;\n        var canvas = canvasDraw.canvas;\n        if (canvas.id.indexOf('_tempCanvas') !== -1) {\n            isSaveCtx = true;\n        }\n        var img = this.parent.img;\n        if (width <= 0 || height <= 0) {\n            return;\n        }\n        else if (this.parent.isCropTab) {\n            canvasDraw.drawImage(obj.redactImage, 0, 0, obj.redactImage.width, obj.redactImage.height, startX, startY, width, height);\n        }\n        else {\n            var offscreenCanvas = document.createElement('canvas');\n            var offscreenCtx = offscreenCanvas.getContext('2d');\n            var imageWidth = canvas.width;\n            var imageHeight = canvas.height;\n            var tempRatio = Math.min(imageWidth, imageHeight) / 1000;\n            var straighten = this.parent.transform.straighten !== 0 ? this.parent.transform.straighten :\n                this.parent.cropObj.straighten;\n            if (this.allowRedactStraighten && straighten !== 0) {\n                var tempCanvas = document.createElement('canvas');\n                var tempCtx = tempCanvas.getContext('2d');\n                if (isSaveCtx) {\n                    tempCanvas.width = canvas.width;\n                    tempCanvas.height = canvas.height;\n                    tempCtx.drawImage(canvas, 0, 0);\n                }\n                else {\n                    tempCanvas.width = img.destWidth;\n                    tempCanvas.height = img.destHeight;\n                    tempCtx.drawImage(this.lowerContext.canvas, img.destLeft, img.destTop, img.destWidth, img.destHeight, 0, 0, img.destWidth, img.destHeight);\n                }\n                var radians = -straighten * Math.PI / 180;\n                var straightenCanvas = document.createElement('canvas');\n                var straightenCtx = straightenCanvas.getContext('2d');\n                straightenCanvas.width = tempCanvas.width;\n                straightenCanvas.height = tempCanvas.height;\n                if (img.destWidth > canvas.width && !isSaveCtx) {\n                    straightenCanvas.width = canvas.width;\n                }\n                if (img.destHeight > canvas.height && !isSaveCtx) {\n                    straightenCanvas.height = canvas.height;\n                }\n                straightenCtx.save();\n                straightenCtx.translate(tempCanvas.width / 2, tempCanvas.height / 2);\n                straightenCtx.rotate(radians);\n                straightenCtx.drawImage(tempCanvas, -tempCanvas.width / 2, -tempCanvas.height / 2);\n                straightenCtx.restore();\n                if (img.destLeft > 0 && !isSaveCtx) {\n                    startX -= img.destLeft;\n                    endX -= img.destLeft;\n                }\n                if (img.destTop > 0 && !isSaveCtx) {\n                    startY -= img.destTop;\n                    endY -= img.destTop;\n                }\n                var center = { x: startX + (width / 2), y: startY + (height / 2) };\n                var cosAngle = Math.cos(straighten * Math.PI / 180);\n                var sinAngle = Math.sin(straighten * Math.PI / 180);\n                var p1 = { x: cosAngle * (startX - center.x) - sinAngle * (startY - center.y) + center.x,\n                    y: sinAngle * (startX - center.x) + cosAngle * (startY - center.y) + center.y };\n                var p2 = { x: cosAngle * (endX - center.x) - sinAngle * (startY - center.y) + center.x,\n                    y: sinAngle * (endX - center.x) + cosAngle * (startY - center.y) + center.y };\n                var p3 = { x: cosAngle * (startX - center.x) - sinAngle * (endY - center.y) + center.x,\n                    y: sinAngle * (startX - center.x) + cosAngle * (endY - center.y) + center.y };\n                if (!isSaveCtx) {\n                    center = { x: img.destWidth / 2, y: img.destHeight / 2 };\n                    if (img.destWidth > canvas.width) {\n                        center.x = canvas.width / 2;\n                    }\n                    if (img.destHeight > canvas.height) {\n                        center.y = canvas.height / 2;\n                    }\n                }\n                else {\n                    center = { x: canvas.width / 2, y: canvas.height / 2 };\n                }\n                cosAngle = Math.cos(radians);\n                sinAngle = Math.sin(radians);\n                var newP1 = { x: cosAngle * (p1.x - center.x) - sinAngle * (p1.y - center.y) + center.x,\n                    y: sinAngle * (p1.x - center.x) + cosAngle * (p1.y - center.y) + center.y };\n                var newP2 = { x: cosAngle * (p2.x - center.x) - sinAngle * (p2.y - center.y) + center.x,\n                    y: sinAngle * (p2.x - center.x) + cosAngle * (p2.y - center.y) + center.y };\n                var newP3 = { x: cosAngle * (p3.x - center.x) - sinAngle * (p3.y - center.y) + center.x,\n                    y: sinAngle * (p3.x - center.x) + cosAngle * (p3.y - center.y) + center.y };\n                var tempWidth = isSaveCtx ? canvasDraw.canvas.width : img.destWidth;\n                var tempHeight = isSaveCtx ? canvasDraw.canvas.height : img.destHeight;\n                var rotatedWidth = Math.abs(tempWidth * Math.cos(radians)) + Math.abs(tempHeight * Math.sin(radians));\n                var rotatedHeight = Math.abs(tempWidth * Math.sin(radians)) + Math.abs(tempHeight * Math.cos(radians));\n                straightenCanvas.width = rotatedWidth;\n                straightenCanvas.height = rotatedHeight;\n                straightenCtx.save();\n                straightenCtx.translate(rotatedWidth / 2, rotatedHeight / 2);\n                straightenCtx.rotate(radians);\n                straightenCtx.drawImage(tempCanvas, -tempCanvas.width / 2, -tempCanvas.height / 2);\n                straightenCtx.restore();\n                if (this.parent.activeObj.redactType === 'blur') {\n                    offscreenCanvas.width = width;\n                    offscreenCanvas.height = height;\n                    offscreenCtx.drawImage(straightenCanvas, newP1.x + ((rotatedWidth - tempCanvas.width) / 2), newP1.y + ((rotatedHeight - tempCanvas.height) / 2), newP2.x - newP1.x, newP3.y - newP2.y, 0, 0, width, height);\n                }\n                else {\n                    var pixelSize = (obj.redactPixelate / 100) * 20;\n                    if (isSaveCtx) {\n                        pixelSize = tempRatio * (obj.redactPixelate / 100) * 35;\n                    }\n                    offscreenCanvas.width = Math.ceil(width / pixelSize);\n                    offscreenCanvas.height = Math.ceil(height / pixelSize);\n                    offscreenCtx.drawImage(straightenCanvas, newP1.x + ((rotatedWidth - tempCanvas.width) / 2), newP1.y + ((rotatedHeight - tempCanvas.height) / 2), newP2.x - newP1.x, newP3.y - newP2.y, 0, 0, offscreenCanvas.width, offscreenCanvas.height);\n                }\n            }\n            if (this.parent.activeObj.redactType === 'blur') {\n                if (straighten === 0) {\n                    offscreenCanvas.width = width;\n                    offscreenCanvas.height = height;\n                    offscreenCtx.drawImage((isSaveCtx) ? canvas : this.lowerContext.canvas, startX, startY, width, height, 0, 0, width, height);\n                }\n                if (isSaveCtx) {\n                    var blur_1 = tempRatio * ((obj.redactBlur / 100) * 34);\n                    offscreenCtx.filter = \"blur(\" + blur_1 + \"px)\";\n                }\n                else {\n                    offscreenCtx.filter = \"blur(\" + (obj.redactBlur / 100) * 17 + \"px)\";\n                }\n                offscreenCtx.drawImage(offscreenCanvas, 0, 0);\n                if (straighten === 0) {\n                    offscreenCtx.drawImage((isSaveCtx) ? canvas : this.lowerContext.canvas, startX, startY, width, height, 0, 0, width, height);\n                }\n                else {\n                    if (img.destLeft > 0 && !isSaveCtx) {\n                        startX += img.destLeft;\n                        endX += img.destLeft;\n                    }\n                    if (img.destTop > 0 && !isSaveCtx) {\n                        startY += img.destTop;\n                        endY += img.destTop;\n                    }\n                }\n                if (this.parent.isSafari) {\n                    this.parent.notify('filter', { prop: 'apply-filter', onPropertyChange: false, value: { context: offscreenCtx } });\n                }\n                canvasDraw.drawImage(offscreenCanvas, 0, 0, width, height, startX, startY, width, height);\n            }\n            else {\n                var pixelSize = (obj.redactPixelate / 100) * 20;\n                if (isSaveCtx) {\n                    pixelSize = tempRatio * (obj.redactPixelate / 100) * 35;\n                }\n                if (straighten === 0) {\n                    offscreenCanvas.width = Math.ceil(width / pixelSize);\n                    offscreenCanvas.height = Math.ceil(height / pixelSize);\n                    offscreenCtx.drawImage((isSaveCtx) ? canvas : this.lowerContext.canvas, startX, startY, width, height, 0, 0, offscreenCanvas.width, offscreenCanvas.height);\n                }\n                else {\n                    if (img.destLeft > 0 && !isSaveCtx) {\n                        startX += img.destLeft;\n                        endX += img.destLeft;\n                    }\n                    if (img.destTop > 0 && !isSaveCtx) {\n                        startY += img.destTop;\n                        endY += img.destTop;\n                    }\n                }\n                canvasDraw.imageSmoothingEnabled = false;\n                canvasDraw.drawImage(offscreenCanvas, 0, 0, offscreenCanvas.width, offscreenCanvas.height, startX, startY, width, height);\n            }\n            obj.redactImage = this.parent.createElement('canvas');\n            obj.redactImage.width = offscreenCanvas.width;\n            obj.redactImage.height = offscreenCanvas.height;\n            obj.redactImage.getContext('2d').drawImage(offscreenCanvas, 0, 0);\n            canvasDraw.beginPath();\n            canvasDraw.rect(startX, startY, width, height);\n            canvasDraw.rect(startX, startY, width, height);\n            canvasDraw.fill('evenodd');\n            canvasDraw.closePath();\n        }\n    };\n    return Draw;\n}());\nexport { Draw };\n","/* eslint-disable max-len */\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nvar Export = /** @class */ (function () {\n    function Export(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Export.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n    };\n    Export.prototype.addEventListener = function () {\n        this.parent.on('export', this.export, this);\n        this.parent.on('destroyed', this.destroy, this);\n    };\n    Export.prototype.removeEventListener = function () {\n        this.parent.off('export', this.export);\n        this.parent.off('destroyed', this.destroy);\n    };\n    Export.prototype.export = function (args) {\n        this.parent.notify('toolbar', { prop: 'refreshShapeDrawing', onPropertyChange: false });\n        this.updatePvtVar();\n        switch (args.prop) {\n            case 'export':\n                this.exportImg(args.value['type'], args.value['fileName'], args.value['imgQuality']);\n                break;\n            case 'exportToCanvas':\n                this.exportToCanvas(args.value['object']);\n                break;\n            case 'updateSaveContext':\n                this.updateSaveContext(args.value['context']);\n                break;\n            case 'setImageQuality':\n                this.imageQuality = args.value['value'];\n                break;\n            case 'drawAnnotation':\n                this.drawAnnotation(args.value['context'], args.value['ratio']);\n                break;\n        }\n    };\n    Export.prototype.getModuleName = function () {\n        return 'export';\n    };\n    Export.prototype.updatePvtVar = function () {\n        var parent = this.parent;\n        if (parent.lowerCanvas) {\n            this.lowerContext = parent.lowerCanvas.getContext('2d');\n        }\n    };\n    Export.prototype.exportImg = function (type, fileName, imgQuality) {\n        var parent = this.parent;\n        var obj = { fileName: '' };\n        parent.notify('draw', { prop: 'getFileName', onPropertyChange: false, value: { obj: obj } });\n        var imageName = obj['fileName'];\n        if (!parent.disabled && parent.isImageLoaded) {\n            parent.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: null } });\n            var obj_1 = { canvasFilter: this.parent.canvasFilter };\n            this.lowerContext.filter = obj_1['canvasFilter'];\n            type = type ? type : 'Png';\n            parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                value: { x: null, y: null, isMouseDown: null } });\n            var beforeSave = { cancel: false, fileName: fileName ? fileName : imageName,\n                fileType: type, imageQuality: imgQuality };\n            parent.trigger('beforeSave', beforeSave);\n            this.beforeSaveEvent(beforeSave, type, fileName, imageName, imgQuality);\n        }\n    };\n    Export.prototype.beforeSaveEvent = function (observableSaveArgs, type, fileName, imageName, imgQuality) {\n        var parent = this.parent;\n        if (!observableSaveArgs.cancel) {\n            parent.currObjType.isSave = true;\n            fileName = observableSaveArgs.fileName ? observableSaveArgs.fileName : fileName;\n            var lowerCaseType = type.toLowerCase();\n            fileName = fileName || imageName;\n            if (lowerCaseType === 'svg') {\n                this.toSVGImg(fileName);\n            }\n            else {\n                this.toBlobFn(fileName, lowerCaseType, imgQuality);\n            }\n            var saved = { fileName: fileName ? fileName : imageName, fileType: type };\n            parent.trigger('saved', saved);\n            var actionArgs = { action: 'save', actionEventArgs: saved };\n            parent.triggerEditCompleteEvent(actionArgs);\n            parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n            parent.lowerCanvas.style.left = parent.upperCanvas.style.left = '';\n            parent.lowerCanvas.style.top = parent.upperCanvas.style.top = '';\n            parent.lowerCanvas.style.maxWidth = parent.upperCanvas.style.maxWidth = '';\n            parent.lowerCanvas.style.maxHeight = parent.upperCanvas.style.maxHeight = '';\n        }\n    };\n    Export.prototype.toSVGImg = function (fileName) {\n        var parent = this.parent;\n        showSpinner(parent.element);\n        parent.element.style.opacity = '0.5';\n        var tempCanvas = this.exportToCanvas();\n        var dataUrl = tempCanvas.toDataURL();\n        hideSpinner(parent.element);\n        parent.element.style.opacity = '1';\n        var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('width', tempCanvas.style.maxWidth);\n        svg.setAttribute('height', tempCanvas.style.maxHeight);\n        var XLinkNS = 'http://www.w3.org/1999/xlink';\n        var img = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n        img.setAttributeNS(null, 'height', tempCanvas.height.toString());\n        img.setAttributeNS(null, 'width', tempCanvas.width.toString());\n        img.setAttributeNS(XLinkNS, 'xlink:href', dataUrl);\n        svg.appendChild(img);\n        var prefix = 'data:image/svg+xml;base64,';\n        var header = '<svg' + ' xmlns=\"http://www.w3.org/2000/svg\"' + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"'\n            + (\" width=\\\"\" + tempCanvas.width + \"\\\"\") + (\" height=\\\"\" + tempCanvas.height + \"\\\"\") + '>';\n        var footer = '</svg>';\n        var body = svg.innerHTML;\n        var data = header + body + footer;\n        var svgDataUrl = prefix + btoa(data);\n        if (fileName === null) {\n            return svgDataUrl;\n        }\n        else {\n            this.downloadImg(svgDataUrl, fileName + '.' + 'svg');\n            return null;\n        }\n    };\n    Export.prototype.toBlobFn = function (fileName, type, imgQuality) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        var parent = this.parent;\n        showSpinner(parent.element);\n        parent.element.style.opacity = '0.5';\n        if (!isNullOrUndefined(imgQuality)) {\n            imgQuality = imgQuality > 1 ? 1 : (imgQuality <= 0 ? 0.01 : imgQuality);\n            this.imageQuality = imgQuality ? imgQuality : null;\n        }\n        var tempCanvas = this.exportToCanvas();\n        var imagetype = (type === 'jpeg' ? 'image/jpeg' : (type === 'webp' ? 'image/webp' : 'image/png'));\n        // eslint-disable-next-line @typescript-eslint/tslint/config\n        tempCanvas.toBlob(function (blob) {\n            var blobUrl = URL.createObjectURL(blob);\n            proxy.downloadImg(blobUrl, fileName + '.' + type);\n            hideSpinner(parent.element);\n            parent.element.style.opacity = '1';\n        }, imagetype, this.imageQuality ? this.imageQuality : null);\n    };\n    Export.prototype.exportToCanvas = function (object) {\n        var parent = this.parent;\n        var width;\n        var height;\n        var tempCropObj = extend({}, parent.cropObj, {}, true);\n        var tempObj = { currObj: {} };\n        parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: tempObj } });\n        var prevObj = tempObj['currObj'];\n        prevObj.objColl = extend([], parent.objColl, [], true);\n        prevObj.pointColl = extend([], parent.pointColl, [], true);\n        prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        if (this.parent.aspectWidth) {\n            parent.notify('undo-redo', { prop: 'setPreventUR', value: { bool: true } });\n            parent.notify('toolbar', { prop: 'resizeClick', value: { bool: false } });\n            parent.okBtn();\n            if (parent.transform.degree % 90 === 0 && parent.transform.degree % 180 !== 0) {\n                width = this.parent.aspectHeight;\n                height = this.parent.aspectWidth;\n            }\n            else {\n                width = this.parent.aspectWidth;\n                height = this.parent.aspectHeight;\n            }\n            parent.notify('undo-redo', { prop: 'setPreventUR', value: { bool: false } });\n        }\n        else if (parent.currSelectionPoint) {\n            width = parent.img.srcWidth;\n            height = parent.img.srcHeight;\n        }\n        else {\n            width = parent.baseImgCanvas.width;\n            height = parent.baseImgCanvas.height;\n        }\n        var obj = { width: 0, height: 0 };\n        parent.notify('crop', { prop: 'calcRatio', onPropertyChange: false,\n            value: { obj: obj, dimension: { width: width, height: height } } });\n        var ratio = obj;\n        var tempContextFilter = this.lowerContext.filter;\n        // Manipulating blur value\n        if (this.lowerContext.filter !== 'none') {\n            var splitWords = this.lowerContext.filter.split(' ');\n            var value = parseFloat(splitWords[5].split('(')[1]);\n            value *= ((ratio.width + ratio.height) / 2);\n            splitWords[5] = 'blur(' + value + 'px)';\n            this.lowerContext.filter = splitWords.join(' ');\n        }\n        var tempCanvas = parent.createElement('canvas', {\n            id: parent.element.id + '_tempCanvas', attrs: { name: 'canvasImage' }\n        });\n        var tempContext = tempCanvas.getContext('2d');\n        tempCanvas.width = width;\n        tempCanvas.height = height;\n        var dimObj = { width: 0, height: 0 };\n        parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n            value: { width: width, height: height, obj: dimObj } });\n        var maxDimension = dimObj;\n        tempCanvas.style.maxWidth = maxDimension.width + 'px';\n        tempCanvas.style.maxHeight = maxDimension.height + 'px';\n        var temp = this.lowerContext.filter;\n        tempContext.filter = this.lowerContext.filter;\n        this.downScaleImgCanvas(tempContext, width, height);\n        this.lowerContext.filter = temp;\n        if (parent.transform.degree !== 0 || parent.transform.currFlipState !== '' || parent.transform.straighten !== 0) {\n            this.updateSaveContext(tempContext);\n            this.exportTransformedImage(tempContext);\n        }\n        if (parent.isSafari) {\n            parent.notify('filter', { prop: 'apply-filter', onPropertyChange: false, value: { context: tempContext } });\n        }\n        this.drawAnnotation(tempContext, ratio);\n        if (parent.isCircleCrop) {\n            parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                value: { context: tempContext, isSave: true, isFlip: null } });\n        }\n        this.updateFrame(tempContext, true);\n        this.lowerContext.filter = tempContextFilter;\n        parent.canvasFilter = tempContextFilter;\n        if (object) {\n            object['canvas'] = tempCanvas;\n        }\n        if (parent.aspectWidth) {\n            parent.objColl = [];\n            parent.pointColl = [];\n            parent.freehandCounter = 0;\n            parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n                value: { obj: { selPointColl: [] } } });\n            parent.notify('draw', { prop: 'setCurrentObj', onPropertyChange: false, value: { obj: prevObj } });\n            prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n                value: { obj: { selPointColl: prevObj.selPointColl } } });\n            parent.cropObj = tempCropObj;\n            parent.objColl = extend([], prevObj.objColl, [], true);\n            parent.pointColl = extend([], prevObj.pointColl, [], true);\n            parent.freehandCounter = parent.pointColl.length;\n            parent.transform.straighten = 0;\n            this.lowerContext.filter = 'none';\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n            this.lowerContext.filter = prevObj.filter;\n            parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n            if (parent.isCircleCrop || (parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle')) {\n                parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                    value: { context: this.lowerContext, isSave: null, isFlip: null } });\n            }\n        }\n        return tempCanvas;\n    };\n    Export.prototype.drawAnnotation = function (tempContext, ratio) {\n        var parent = this.parent;\n        var tempObjColl = extend([], parent.objColl, [], true);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempPointColl = extend([], parent.pointColl, [], true);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var nonRedact = parent.shapeColl.filter(function (item) { return item.shape !== 'redact'; });\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var redact = parent.shapeColl.filter(function (item) { return item.shape === 'redact'; });\n        parent.shapeColl = redact.concat(nonRedact);\n        for (var i = 0; i < parent.shapeColl.length; i++) {\n            if (parent.shapeColl[i].order) {\n                if (parent.shapeColl[i].currIndex && parent.shapeColl[i].currIndex.indexOf('shape') > -1) {\n                    parent.objColl = [];\n                    parent.objColl.push(extend({}, parent.shapeColl[i], {}, true));\n                    this.drawShape(tempContext, ratio);\n                }\n                else if (parent.shapeColl[i].id && parent.shapeColl[i].id.indexOf('pen') > -1) {\n                    parent.pointColl = [];\n                    parent.freehandCounter = 0;\n                    parent.pointColl.push(extend({}, parent.shapeColl[i], {}, true));\n                    parent.freehandCounter = parent.pointColl.length;\n                    this.drawPen(tempContext, ratio);\n                }\n            }\n        }\n        parent.objColl = tempObjColl;\n        parent.pointColl = tempPointColl;\n        parent.freehandCounter = parent.pointColl.length;\n    };\n    Export.prototype.drawShape = function (tempContext, ratio) {\n        var parent = this.parent;\n        if (parent.objColl.length > 0) {\n            var temp = tempContext.filter;\n            tempContext.filter = 'none';\n            var indexObj = { index: null };\n            parent.notify('shape', { prop: 'getSmallestIndex', onPropertyChange: false, value: { obj: indexObj } });\n            var index = indexObj['index'];\n            var objColl = extend([], parent.objColl, [], true);\n            var tempObjColl = extend([], parent.objColl, [], true);\n            while (objColl.length > 0) {\n                var found = false;\n                for (var i = 0; i < objColl.length; i++) {\n                    var currentObj = objColl[i];\n                    if (isNullOrUndefined(currentObj.order)) {\n                        objColl.splice(i, 1);\n                        i--;\n                        continue;\n                    }\n                    if (currentObj.order === index) {\n                        var temp_1 = tempContext.filter;\n                        tempContext.filter = 'none';\n                        var currObj = objColl[i];\n                        var activePoint = currObj.activePoint;\n                        // Subtracting destination left and top points\n                        activePoint.startX -= parent.img.destLeft;\n                        activePoint.startY -= parent.img.destTop;\n                        activePoint.endX -= parent.img.destLeft;\n                        activePoint.endY -= parent.img.destTop;\n                        activePoint.width = activePoint.endX - activePoint.startX;\n                        activePoint.height = activePoint.endY - activePoint.startY;\n                        // Manipulating points\n                        activePoint.startX *= ratio.width;\n                        activePoint.startY *= ratio.height;\n                        activePoint.endX *= ratio.width;\n                        activePoint.endY *= ratio.height;\n                        activePoint.width = activePoint.endX - activePoint.startX;\n                        activePoint.height = activePoint.endY - activePoint.startY;\n                        currObj.strokeSettings.strokeWidth *= ((ratio.width + ratio.height) / 2);\n                        if (currObj.shape === 'text') {\n                            currObj.textSettings.fontSize *= ((ratio.width + ratio.height) / 2);\n                        }\n                        else if (currObj.shape === 'path') {\n                            for (var l = 0; l < currObj.pointColl.length; l++) {\n                                currObj.pointColl[l].x =\n                                    (currObj.pointColl[l].x - parent.img.destLeft) * ratio.width;\n                                currObj.pointColl[l].y =\n                                    (currObj.pointColl[l].y - parent.img.destTop) * ratio.height;\n                            }\n                        }\n                        else if (currObj.shape === 'image') {\n                            parent.activeObj = extend({}, objColl[i], {}, true);\n                            parent.notify('selection', { prop: 'upgradeImageQuality', onPropertyChange: false });\n                            objColl[i] = extend({}, parent.activeObj, {}, true);\n                        }\n                        parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'saveContext', obj: objColl[i], isCropRatio: null,\n                                points: null, isPreventDrag: true, saveContext: tempContext, isPreventSelection: null } });\n                        tempContext.filter = temp_1;\n                        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                        index++;\n                        var indexBool = { bool: false };\n                        parent.notify('shape', { prop: 'isIndexInObjColl', onPropertyChange: false, value: { obj: indexBool, index: index } });\n                        if (!indexBool['bool']) {\n                            index++;\n                        }\n                        objColl.splice(i, 1);\n                        found = true;\n                        break; // Exit the loop to start from the beginning\n                    }\n                }\n                if (!found) {\n                    break; // If no matching order was found, exit the loop\n                }\n            }\n            tempContext.filter = temp;\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            parent.objColl = tempObjColl;\n        }\n    };\n    Export.prototype.drawPen = function (tempContext, ratio) {\n        var parent = this.parent;\n        if (parent.freehandCounter > 0) {\n            var widthObj = { penStrokeWidth: null };\n            parent.notify('freehand-draw', { prop: 'getPenStrokeWidth', onPropertyChange: false, value: { obj: widthObj } });\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var tempPointColl = extend({}, parent.pointColl, {}, true);\n            for (var n = 0; n < parent.freehandCounter; n++) {\n                parent.points = extend([], parent.pointColl[n].points, []);\n                parent.notify('freehand-draw', { prop: 'setPointCounter', onPropertyChange: false, value: { value: 0 } });\n                var len = parent.points.length;\n                parent.pointColl[n].strokeWidth *= ((ratio.width + ratio.height) / 2);\n                for (var l = 0; l < len; l++) {\n                    parent.points[l].x = (parent.points[l].x - parent.img.destLeft) * ratio.width;\n                    parent.points[l].y = (parent.points[l].y - parent.img.destTop) * ratio.height;\n                }\n            }\n            parent.notify('freehand-draw', { prop: 'freehandRedraw', onPropertyChange: false,\n                value: { context: tempContext, points: null } });\n            parent.pointColl = tempPointColl;\n            parent.notify('freehand-draw', { prop: 'setPenStrokeWidth', onPropertyChange: false, value: { value: widthObj['penStrokeWidth'] } });\n        }\n    };\n    Export.prototype.downScaleImgCanvas = function (ctx, width, height) {\n        var parent = this.parent;\n        var canvas = parent.baseImgCanvas;\n        var img = parent.baseImg;\n        var obj = { width: 0, height: 0 };\n        parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n            value: { width: img.width, height: img.height, obj: obj, isImgShape: null } });\n        var bgObj = { color: null };\n        parent.notify('draw', { prop: 'getImageBackgroundColor', value: { obj: bgObj } });\n        if (bgObj['color'] !== '') {\n            ctx.fillStyle = bgObj['color'];\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n        }\n        if (obj['width'] > width && obj['height'] > height) {\n            var tempCanvas = parent.createElement('canvas', {\n                id: parent.element.id + '_downScaleCanvas', attrs: { name: 'canvasImage' }\n            });\n            tempCanvas.width = this.parent.img.srcWidth;\n            tempCanvas.height = this.parent.img.srcHeight;\n            tempCanvas.getContext('2d').drawImage(canvas, parent.img.srcLeft, parent.img.srcTop, parent.img.srcWidth, parent.img.srcHeight, 0, 0, tempCanvas.width, tempCanvas.height);\n            parent.notify('draw', { prop: 'downScale', value: { canvas: tempCanvas, width: width, height: height } });\n            ctx.drawImage(tempCanvas, 0, 0);\n        }\n        else {\n            ctx.drawImage(parent.baseImgCanvas, parent.img.srcLeft, parent.img.srcTop, parent.img.srcWidth, parent.img.srcHeight, 0, 0, width, height);\n        }\n    };\n    Export.prototype.updateFrame = function (tempContext, isAnnotation) {\n        if (this.parent.frameObj.type !== 'none') {\n            var temp = tempContext.filter;\n            tempContext.filter = 'none';\n            this.parent.notify('draw', { prop: 'applyFrame', value: { ctx: tempContext, frame: this.parent.frameObj.type, preventImg: isAnnotation } });\n            tempContext.filter = temp;\n        }\n    };\n    Export.prototype.downloadImg = function (blob, fileName) {\n        var a = document.createElement('a');\n        a.href = blob;\n        a.target = '_parent';\n        a.download = fileName;\n        (document.body || document.documentElement).appendChild(a);\n        a.click();\n        a.parentNode.removeChild(a);\n    };\n    Export.prototype.exportTransformedImage = function (tempContext) {\n        var parent = this.parent;\n        var degree = parent.transform.degree;\n        if (parent.rotateFlipColl.length > 0) {\n            for (var i = 0, len = parent.rotateFlipColl.length; i < len; i++) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var flip = parent.rotateFlipColl[i];\n                if (typeof flip === 'number') {\n                    this.exportRotate(tempContext, flip);\n                }\n                else if (flip === 'horizontal') {\n                    this.exportFlip(tempContext, true, false);\n                }\n                else if (flip === 'vertical') {\n                    this.exportFlip(tempContext, false, true);\n                }\n            }\n        }\n        parent.transform.degree = degree;\n    };\n    Export.prototype.exportRotate = function (tempContext, degree) {\n        var parent = this.parent;\n        tempContext.clearRect(0, 0, tempContext.canvas.width, tempContext.canvas.height);\n        this.setMaxDim(parent.transform.degree, tempContext.canvas);\n        tempContext.translate(tempContext.canvas.width / 2, tempContext.canvas.height / 2);\n        tempContext.rotate(Math.PI / 180 * degree);\n        tempContext.drawImage(parent.inMemoryCanvas, -tempContext.canvas.height / 2, -tempContext.canvas.width / 2, tempContext.canvas.height, tempContext.canvas.width);\n        this.updateSaveContext(tempContext);\n    };\n    Export.prototype.exportFlip = function (tempContext, flipHorizontal, flipVertical) {\n        tempContext.clearRect(0, 0, tempContext.canvas.width, tempContext.canvas.height);\n        if (flipHorizontal) {\n            tempContext.translate(tempContext.canvas.width, 0);\n            tempContext.scale(-1, 1);\n        }\n        if (flipVertical) {\n            tempContext.translate(0, tempContext.canvas.height);\n            tempContext.scale(1, -1);\n        }\n        tempContext.drawImage(this.parent.inMemoryCanvas, 0, 0);\n        this.updateSaveContext(tempContext);\n    };\n    Export.prototype.updateSaveContext = function (tempContext) {\n        var inMemoryContext = this.parent.inMemoryCanvas.getContext('2d');\n        tempContext.setTransform(1, 0, 0, 1, 0, 0);\n        var imageData = tempContext.getImageData(0, 0, tempContext.canvas.width, tempContext.canvas.height);\n        this.parent.inMemoryCanvas.width = imageData.width;\n        this.parent.inMemoryCanvas.height = imageData.height;\n        inMemoryContext.putImageData(imageData, 0, 0);\n    };\n    Export.prototype.setMaxDim = function (degree, tempCanvas) {\n        var newWidth;\n        var newHeight;\n        if (degree % 90 === 0 && degree % 180 !== 0) {\n            if (isNullOrUndefined(this.parent.currSelectionPoint)) {\n                newWidth = this.parent.baseImgCanvas.height;\n                newHeight = this.parent.baseImgCanvas.width;\n            }\n            else {\n                newWidth = this.parent.img.srcHeight;\n                newHeight = this.parent.img.srcWidth;\n            }\n        }\n        else if (degree % 180 === 0 || degree === 0) {\n            if (isNullOrUndefined(this.parent.currSelectionPoint)) {\n                newWidth = this.parent.baseImgCanvas.width;\n                newHeight = this.parent.baseImgCanvas.height;\n            }\n            else {\n                newWidth = this.parent.img.srcWidth;\n                newHeight = this.parent.img.srcHeight;\n            }\n        }\n        if (!isNullOrUndefined(this.parent.aspectWidth)) {\n            newWidth = this.parent.aspectWidth;\n            newHeight = this.parent.aspectHeight;\n        }\n        tempCanvas.width = newWidth;\n        tempCanvas.height = newHeight;\n        var obj = { width: 0, height: 0 };\n        this.parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n            value: { width: newWidth, height: newHeight, obj: obj, isImgShape: null } });\n        var maxDimension = obj;\n        tempCanvas.style.maxWidth = maxDimension.width + 'px';\n        tempCanvas.style.maxHeight = maxDimension.height + 'px';\n    };\n    return Export;\n}());\nexport { Export };\n","import { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar Filter = /** @class */ (function () {\n    function Filter(parent) {\n        this.adjustmentLevel = { brightness: 0, contrast: 0, hue: 0, opacity: 100, saturation: 0, blur: 0,\n            exposure: 0, transparency: 100, sharpen: false, bw: false }; // for toolbar slider value\n        this.tempAdjustmentLevel = { brightness: 0, contrast: 0, hue: 0, opacity: 100, saturation: 0, blur: 0,\n            exposure: 0, transparency: 100, sharpen: false, bw: false }; // for temp toolbar slider value\n        this.adjustmentValue = ''; // for internal slider value\n        this.isBrightnessAdjusted = false;\n        this.bevelFilter = 'none';\n        this.tempAdjVal = { brightness: 0, contrast: 0, hue: 0, opacity: 100, saturation: 0, blur: 0,\n            exposure: 0, transparency: 100, sharpen: false, bw: false };\n        this.tempFilVal = '';\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Filter.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n    };\n    Filter.prototype.addEventListener = function () {\n        this.parent.on('filter', this.filter, this);\n        this.parent.on('destroyed', this.destroy, this);\n    };\n    Filter.prototype.removeEventListener = function () {\n        this.parent.off('filter', this.filter);\n        this.parent.off('destroyed', this.destroy);\n    };\n    Filter.prototype.filter = function (args) {\n        this.updatePrivateVariables();\n        switch (args.prop) {\n            case 'finetuneImage':\n                this.finetuneImage(args.value['option'], args.value['value']);\n                break;\n            case 'applyImageFilter':\n                this.setFilter(args.value['option']);\n                break;\n            case 'update-finetunes':\n                this.updateFinetunes();\n                break;\n            case 'set-adjustment':\n                this.setAdjustment(args.value['operation']);\n                break;\n            case 'initFilter':\n                this.initFilter();\n                break;\n            case 'setCurrAdjValue':\n                this.setCurrAdjValue(args.value['type'], args.value['value']);\n                break;\n            case 'updateAdj':\n                this.updateAdj(args.value['type'], args.value['value'], args.value['isPreview'], args.value['ctx']);\n                break;\n            case 'getCurrentObj':\n                this.getCurrentObj(args.value['object']);\n                break;\n            case 'getAdjustmentLevel':\n                if (isNullOrUndefined(this.parent.activeObj.opacity)) {\n                    this.adjustmentLevel.transparency = 100;\n                }\n                else {\n                    this.adjustmentLevel.transparency = this.parent.activeObj.opacity * 100;\n                }\n                args.value['obj']['adjustmentLevel'] = this.adjustmentLevel;\n                break;\n            case 'setAdjustmentLevel':\n                this.adjustmentLevel = args.value['adjustmentLevel'];\n                break;\n            case 'getTempAdjustmentLevel':\n                args.value['obj']['tempAdjustmentLevel'] = this.tempAdjustmentLevel;\n                break;\n            case 'setTempAdjustmentLevel':\n                this.tempAdjustmentLevel = args.value['tempAdjustmentLevel'];\n                break;\n            case 'setAdjustmentValue':\n                this.adjustmentValue = args.value['adjustmentValue'];\n                break;\n            case 'setBrightnessAdjusted':\n                this.isBrightnessAdjusted = args.value['isBrightnessAdjusted'];\n                if (this.parent.currentFilter.split('_') && this.parent.currentFilter.split('_')[1] === 'cold') {\n                    this.isBrightnessAdjusted = false;\n                }\n                break;\n            case 'getBevelFilter':\n                args.value['obj']['bevelFilter'] = this.bevelFilter;\n                break;\n            case 'setBevelFilter':\n                this.bevelFilter = args.value['bevelFilter'];\n                break;\n            case 'setTempAdjVal':\n                this.tempAdjVal = extend({}, this.adjustmentLevel, {}, true);\n                break;\n            case 'setTempFilVal':\n                this.tempFilVal = this.parent.currentFilter;\n                break;\n            case 'reset':\n                this.reset();\n                break;\n            case 'apply-filter':\n                this.applyFilter(args.value['context']);\n                break;\n        }\n    };\n    Filter.prototype.updatePrivateVariables = function () {\n        var parent = this.parent;\n        if (parent.lowerCanvas) {\n            this.lowerContext = parent.lowerCanvas.getContext('2d');\n        }\n    };\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    Filter.prototype.reset = function () {\n        this.adjustmentLevel = { brightness: 0, contrast: 0, hue: 0, opacity: 100, saturation: 0,\n            blur: 0, exposure: 0, transparency: 100, sharpen: false, bw: false };\n        this.tempAdjustmentLevel = { brightness: 0, contrast: 0, hue: 0, opacity: 100, saturation: 0,\n            blur: 0, exposure: 0, transparency: 100, sharpen: false, bw: false };\n        this.adjustmentValue = this.parent.getDefaultFilter();\n        this.isBrightnessAdjusted = false;\n        this.bevelFilter = 'none';\n        this.tempFilVal = '';\n        this.tempAdjVal = { brightness: 0, contrast: 0, hue: 0, opacity: 100, saturation: 0,\n            blur: 0, exposure: 0, transparency: 100, sharpen: false, bw: false };\n    };\n    Filter.prototype.updateFinetunes = function () {\n        var _this = this;\n        var parent = this.parent;\n        var fs = parent.finetuneSettings;\n        if (fs) {\n            var propertiesToSet = ['brightness', 'contrast', 'hue', 'saturation', 'exposure', 'opacity', 'blur'];\n            propertiesToSet.forEach(function (property) {\n                if (fs[property]) {\n                    _this.adjustmentLevel[property] = fs[property].defaultValue;\n                    _this.tempAdjustmentLevel[property] = fs[property].defaultValue;\n                }\n            });\n            parent.notify('draw', { prop: 'isInitialLoading', onPropertyChange: false, value: { isInitialLoading: true } });\n        }\n    };\n    Filter.prototype.initFilter = function () {\n        this.setFilterAdj('brightness', this.adjustmentLevel.brightness);\n        this.setFilterAdj('contrast', this.adjustmentLevel.contrast);\n        this.setFilterAdj('hue', this.adjustmentLevel.hue);\n        this.setFilterAdj('saturation', this.adjustmentLevel.saturation);\n        this.setFilterAdj('exposure', this.adjustmentLevel.exposure);\n        this.setFilterAdj('opacity', this.adjustmentLevel.opacity);\n        this.setFilterAdj('blur', this.adjustmentLevel.blur);\n    };\n    Filter.prototype.updateAdj = function (type, value, isPreview, ctx) {\n        var parent = this.parent;\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        var splitWords = this.lowerContext.filter.split(' ');\n        var values = [];\n        var brightness = this.getFilterValue(this.adjustmentLevel.brightness);\n        var saturate;\n        var bright;\n        var saturatePercent;\n        var contrast;\n        var saturatePercentage;\n        switch (type) {\n            case 'brightness':\n                value = this.getFilterValue(this.adjustmentLevel.exposure) + (value * 0.005);\n                splitWords[0] = 'brightness(' + value + ')';\n                if (this.adjustmentLevel.brightness !== 0) {\n                    value = (this.adjustmentLevel.opacity / 100) - (this.adjustmentLevel.opacity * 0.3) / 100;\n                    splitWords[4] = 'opacity(' + value + ')';\n                }\n                else {\n                    value = this.adjustmentLevel.opacity / 100;\n                    splitWords[4] = 'opacity(' + value + ')';\n                }\n                this.adjustmentValue = splitWords.join(' ');\n                break;\n            case 'contrast':\n                splitWords[1] = 'contrast(' + value + '%)';\n                this.adjustmentValue = splitWords.join(' ');\n                break;\n            case 'hue':\n                splitWords[2] = 'hue-rotate(' + value + 'deg)';\n                this.adjustmentValue = splitWords.join(' ');\n                break;\n            case 'saturation':\n                splitWords[3] = 'saturate(' + value + '%)';\n                this.adjustmentValue = splitWords.join(' ');\n                break;\n            case 'opacity':\n                if (parseFloat(splitWords[0].split('(')[1]) !== 1) {\n                    value -= 0.2;\n                }\n                if (value < 0) {\n                    value = 0;\n                }\n                splitWords[4] = 'opacity(' + value + ')';\n                this.adjustmentValue = splitWords.join(' ');\n                break;\n            case 'blur':\n                splitWords[5] = 'blur(' + value + 'px)';\n                this.adjustmentValue = splitWords.join(' ');\n                break;\n            case 'exposure':\n                if (value > 1) {\n                    value -= 1;\n                    value += brightness;\n                }\n                else if (value < 1) {\n                    value = 1 - value;\n                    value = brightness - value;\n                }\n                splitWords[0] = 'brightness(' + value + ')';\n                this.adjustmentValue = splitWords.join(' ');\n                break;\n            case 'chrome':\n                saturate = this.getSaturationFilterValue(this.adjustmentLevel.saturation);\n                saturate *= 100;\n                value = saturate + (saturate * 0.4);\n                splitWords[3] = 'saturate(' + value + '%)';\n                values = this.adjustmentValue.split(' ');\n                splitWords[0] = values[0];\n                splitWords[1] = values[1];\n                splitWords[2] = values[2];\n                splitWords[4] = values[4];\n                splitWords[5] = values[5];\n                splitWords[6] = 'sepia(0%)';\n                splitWords[7] = 'grayscale(0%)';\n                splitWords[8] = 'invert(0%)';\n                break;\n            case 'cold':\n                // Adjusting Brightness\n                bright = this.getFilterValue(this.adjustmentLevel.brightness);\n                bright *= 100;\n                value = bright * 0.9;\n                value *= 0.01;\n                splitWords[0] = 'brightness(' + value + ')';\n                // Adjusting Contrast\n                contrast = this.getFilterValue(this.adjustmentLevel.contrast);\n                contrast *= 100;\n                value = contrast + (contrast * 0.5);\n                splitWords[1] = 'contrast(' + value + '%)';\n                // Adjusting Saturation\n                saturatePercentage = this.getSaturationFilterValue(this.adjustmentLevel.saturation);\n                saturatePercentage *= 100;\n                value = saturatePercentage;\n                splitWords[3] = 'saturate(' + value + '%)';\n                values = this.adjustmentValue.split(' ');\n                splitWords[2] = values[2];\n                splitWords[4] = values[4];\n                splitWords[5] = values[5];\n                splitWords[6] = 'sepia(0%)';\n                splitWords[7] = 'grayscale(0%)';\n                splitWords[8] = 'invert(0%)';\n                break;\n            case 'warm':\n                saturatePercent = this.getSaturationFilterValue(this.adjustmentLevel.saturation);\n                saturatePercent *= 100;\n                value = saturatePercent + (saturatePercent * 0.4);\n                splitWords[3] = 'saturate(' + value + '%)';\n                splitWords[6] = 'sepia(25%)';\n                values = this.adjustmentValue.split(' ');\n                splitWords[0] = values[0];\n                splitWords[1] = values[1];\n                splitWords[2] = values[2];\n                splitWords[4] = values[4];\n                splitWords[5] = values[5];\n                splitWords[7] = 'grayscale(0%)';\n                splitWords[8] = 'invert(0%)';\n                break;\n            case 'grayscale':\n                splitWords[7] = 'grayscale(100%)';\n                values = this.adjustmentValue.split(' ');\n                splitWords[0] = values[0];\n                splitWords[1] = values[1];\n                splitWords[2] = values[2];\n                splitWords[3] = values[3];\n                splitWords[4] = values[4];\n                splitWords[5] = values[5];\n                splitWords[6] = 'sepia(0%)';\n                splitWords[8] = 'invert(0%)';\n                break;\n            case 'sepia':\n                splitWords[6] = 'sepia(100%)';\n                values = this.adjustmentValue.split(' ');\n                splitWords[0] = values[0];\n                splitWords[1] = values[1];\n                splitWords[2] = values[2];\n                splitWords[3] = values[3];\n                splitWords[4] = values[4];\n                splitWords[5] = values[5];\n                splitWords[7] = 'grayscale(0%)';\n                splitWords[8] = 'invert(0%)';\n                break;\n            case 'invert':\n                splitWords[8] = 'invert(100%)';\n                values = this.adjustmentValue.split(' ');\n                splitWords[0] = values[0];\n                splitWords[1] = values[1];\n                splitWords[2] = values[2];\n                splitWords[3] = values[3];\n                splitWords[4] = values[4];\n                splitWords[5] = values[5];\n                splitWords[6] = 'sepia(0%)';\n                splitWords[7] = 'grayscale(0%)';\n                break;\n        }\n        if (type !== 'sharpen' && type !== 'blackandwhite') {\n            if (isNullOrUndefined(isPreview)) {\n                if (type === 'default') {\n                    splitWords = this.getDefaultCurrentFilter(splitWords);\n                }\n                this.lowerContext.filter = splitWords.join(' ');\n            }\n            splitWords = this.setTempFilterValue(brightness, isPreview, splitWords, type);\n            parent.notify('draw', { prop: 'setRotateZoom', onPropertyChange: false, value: { isRotateZoom: true } });\n            parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n                value: { type: 'initial', isPreventDestination: null, isRotatePan: null } });\n            var tempFilter = void 0;\n            if (parent.frameObj.type === 'bevel') {\n                tempFilter = this.lowerContext.filter;\n                this.bevelFilter = tempFilter;\n            }\n            if (parent.transform.degree === 0 && parent.rotateFlipColl.length > 0) {\n                parent.img.destLeft += parent.panPoint.totalPannedPoint.x;\n                parent.img.destTop += parent.panPoint.totalPannedPoint.y;\n            }\n            parent.img.destLeft += parent.panPoint.totalPannedInternalPoint.x;\n            parent.img.destTop += parent.panPoint.totalPannedInternalPoint.y;\n            if (parent.transform.degree === 0) {\n                parent.notify('transform', { prop: 'setDestPointsForFlipState', onPropertyChange: false });\n            }\n            parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n            parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n                value: { type: 'reverse', isPreventDestination: null, isRotatePan: null } });\n            parent.notify('draw', { prop: 'setRotateZoom', onPropertyChange: false, value: { isRotateZoom: false } });\n            if (parent.transform.degree === 0 && parent.rotateFlipColl.length > 0) {\n                parent.img.destLeft += parent.panPoint.totalPannedPoint.x;\n                parent.img.destTop += parent.panPoint.totalPannedPoint.y;\n            }\n            splitWords = this.setTempFilterValue(brightness, isPreview, splitWords, type);\n            if (isNullOrUndefined(isPreview)) {\n                this.lowerContext.filter = splitWords.join(' ');\n            }\n            parent.initialAdjustmentValue = splitWords.join(' ');\n            tempFilter = this.lowerContext.filter;\n            this.lowerContext.filter = 'brightness(' + 1 + ') ' + 'contrast(' + 100 + '%) ' + 'hue-rotate(' + 0 + 'deg) ' +\n                'saturate(' + 100 + '%) ' + 'opacity(' + 1 + ') ' + 'blur(' + 0 + 'px) ' + 'sepia(0%) ' + 'grayscale(0%) ' + 'invert(0%)';\n            this.bevelFilter = tempFilter;\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'iterate', pen: 'iterate', isPreventApply: null } });\n            this.lowerContext.filter = tempFilter;\n            parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n            if ((parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') || parent.isCircleCrop) {\n                parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                    value: { context: this.lowerContext, isSave: null, isFlip: null } });\n            }\n            this.isBrightnessAdjusted = brightness !== 1;\n        }\n        var filter = splitWords.join(' ');\n        if (ctx) {\n            ctx.filter = filter;\n        }\n    };\n    Filter.prototype.setTempFilterValue = function (brightness, isPreview, splitWords, type) {\n        if (isPreview) {\n            if (type === 'default') {\n                splitWords = this.getDefaultCurrentFilter(splitWords);\n            }\n            else if (brightness !== 1) {\n                var tempSplitWords = this.lowerContext.filter.split(' ');\n                tempSplitWords[4] = splitWords[4];\n                this.lowerContext.filter = tempSplitWords.join(' ');\n            }\n        }\n        return splitWords;\n    };\n    Filter.prototype.getDefaultCurrentFilter = function (splitWords) {\n        var values = this.adjustmentValue.split(' ');\n        splitWords = [values[0], values[1], values[2], values[3], values[4], values[5], 'sepia(0%)', 'grayscale(0%)', 'invert(0%)'];\n        return splitWords;\n    };\n    Filter.prototype.getFilterValue = function (value) {\n        return (value === 0) ? 1 : 1 + ((value * 0.5) / 100);\n    };\n    Filter.prototype.getSaturationFilterValue = function (value) {\n        return value === 0 ? 1 : 1 + (value / 100);\n    };\n    Filter.prototype.setFilterAdj = function (type, value) {\n        var parent = this.parent;\n        parent.notify('freehand-draw', { prop: 'apply-pen-draw', onPropertyChange: false });\n        this.adjustmentLevel[\"\" + type] = value;\n        switch (type) {\n            case 'contrast':\n            case 'exposure':\n                value = this.getFilterValue(value);\n                if (type === 'contrast') {\n                    value *= 100;\n                }\n                break;\n            case 'hue':\n                value *= 3;\n                break;\n            case 'saturation':\n                value = this.getSaturationFilterValue(value) * 100;\n                break;\n            case 'opacity':\n                if (value < 10) {\n                    value += 1;\n                }\n                value /= 100;\n                break;\n            case 'blur':\n                if (value !== 0) {\n                    value /= 20;\n                    // Since 0.5 is not working in blur we consider from 1\n                    value += 0.5;\n                }\n                break;\n        }\n        var prevCropObj = extend({}, parent.cropObj, {}, true);\n        var prevObj = this.getCurrentObj();\n        prevObj.objColl = extend([], parent.objColl, [], true);\n        prevObj.pointColl = extend([], parent.pointColl, [], true);\n        prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false, value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        this.updateAdj(type, value);\n        parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: { operation: type, previousObj: prevObj,\n                previousObjColl: prevObj.objColl, previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                previousCropObj: prevCropObj, previousText: null, currentText: null, previousFilter: null, isCircleCrop: null\n            } });\n    };\n    Filter.prototype.setFilter = function (type) {\n        var parent = this.parent;\n        type = type.toLowerCase();\n        parent.notify('freehand-draw', { prop: 'apply-pen-draw', onPropertyChange: false });\n        var obj = { currentFilter: this.parent.currentFilter };\n        var prevFilter = obj['currentFilter'];\n        var prevCropObj = extend({}, parent.cropObj, {}, true);\n        var prevObj = this.getCurrentObj();\n        prevObj.objColl = extend([], parent.objColl, [], true);\n        prevObj.pointColl = extend([], parent.pointColl, [], true);\n        prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false, value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        this.updateAdj(type, null);\n        parent.notify('draw', { prop: 'setImageEdited', onPropertyChange: false });\n        parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n            value: { operation: type, previousObj: prevObj, previousObjColl: prevObj.objColl, previousPointColl: prevObj.pointColl,\n                previousSelPointColl: prevObj.selPointColl, previousCropObj: prevCropObj, previousText: null,\n                currentText: null, previousFilter: prevFilter, isCircleCrop: null } });\n    };\n    Filter.prototype.setAdjustment = function (type) {\n        var splitWords = this.lowerContext.filter.split(' ');\n        var value;\n        var valueArr;\n        switch (type) {\n            case 'brightness':\n                valueArr = splitWords[0].split('(');\n                value = parseFloat(valueArr[1].split(')')[0]);\n                this.adjustmentLevel.brightness = this.setFilterValue(value);\n                break;\n            case 'contrast':\n                valueArr = splitWords[1].split('(');\n                value = parseFloat(valueArr[1].split(')')[0]);\n                value /= 100;\n                this.adjustmentLevel.contrast = this.setFilterValue(value);\n                break;\n            case 'hue':\n                valueArr = splitWords[2].split('(');\n                value = parseFloat(valueArr[1].split(')')[0]);\n                value /= 3;\n                this.adjustmentLevel.hue = value;\n                break;\n            case 'saturation':\n                valueArr = splitWords[3].split('(');\n                value = parseFloat(valueArr[1].split(')')[0]);\n                value /= 100;\n                this.adjustmentLevel.saturation = this.setSaturationFilterValue(value);\n                break;\n            case 'opacity':\n                valueArr = splitWords[4].split('(');\n                value = parseFloat(valueArr[1].split(')')[0]);\n                if (value === 0.45) {\n                    value = 40;\n                }\n                else if (value === 0.40) {\n                    value = 30;\n                }\n                else if (value === 0.35) {\n                    value = 20;\n                }\n                else if (value === 0.30) {\n                    value = 10;\n                }\n                else if (value === 0.25) {\n                    value = 0;\n                }\n                else {\n                    value *= 100;\n                }\n                this.adjustmentLevel.opacity = value;\n                break;\n            case 'blur':\n                valueArr = splitWords[5].split('(');\n                value = parseFloat(valueArr[1].split(')')[0]);\n                value *= 20;\n                this.adjustmentLevel.blur = value;\n                break;\n            case 'exposure':\n                valueArr = splitWords[0].split('(');\n                value = parseFloat(valueArr[1].split(')')[0]);\n                this.adjustmentLevel.exposure = this.setFilterValue(value);\n                break;\n        }\n    };\n    Filter.prototype.setFilterValue = function (value) {\n        return Math.round((value === 1) ? 0 : ((value - 1) * 100) / 0.5);\n    };\n    Filter.prototype.setSaturationFilterValue = function (value) {\n        return Math.round((value === 1) ? 0 : (value - 1) * 100);\n    };\n    Filter.prototype.finetuneImage = function (finetuneOption, value) {\n        var parent = this.parent;\n        if (!parent.disabled && parent.isImageLoaded) {\n            switch (finetuneOption.toLowerCase()) {\n                case 'brightness':\n                    this.setFilterAdj('brightness', value);\n                    break;\n                case 'contrast':\n                    this.setFilterAdj('contrast', value);\n                    break;\n                case 'hue':\n                    this.setFilterAdj('hue', value);\n                    break;\n                case 'saturation':\n                    this.setFilterAdj('saturation', value);\n                    break;\n                case 'opacity':\n                    this.setFilterAdj('opacity', value);\n                    break;\n                case 'blur':\n                    this.setFilterAdj('blur', value);\n                    break;\n                case 'exposure':\n                    this.setFilterAdj('exposure', value);\n                    break;\n            }\n            this.parent.canvasFilter = this.lowerContext.filter;\n            parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n        }\n    };\n    Filter.prototype.setCurrAdjValue = function (type, value) {\n        var parent = this.parent;\n        this.parent.notify('draw', { prop: 'setImageEdited', onPropertyChange: false });\n        switch (type) {\n            case 'brightness':\n                this.setFilterAdj('brightness', value);\n                break;\n            case 'contrast':\n                this.setFilterAdj('contrast', value);\n                break;\n            case 'hue':\n                this.setFilterAdj('hue', value);\n                break;\n            case 'saturation':\n                this.setFilterAdj('saturation', value);\n                break;\n            case 'opacity':\n                this.setFilterAdj('opacity', value);\n                break;\n            case 'blur':\n                this.setFilterAdj('blur', value);\n                break;\n            case 'exposure':\n                this.setFilterAdj('exposure', value);\n                break;\n        }\n        parent.isFinetuneBtnClick = true;\n        parent.curFinetuneObjEvent = { finetune: parent.toPascalCase(type), value: value };\n    };\n    Filter.prototype.getCurrentObj = function (dummyObj) {\n        var parent = this.parent;\n        var tempFlipPanPointObj = { point: null };\n        parent.notify('crop', { prop: 'getTempFlipPanPoint', value: { obj: tempFlipPanPointObj } });\n        var zoomObj = { previousZoomValue: null };\n        parent.notify('transform', { prop: 'getPreviousZoomValue', value: { obj: zoomObj } });\n        var straightenObj = { zoomFactor: null };\n        parent.notify('draw', { prop: 'getStraightenInitZoom', value: { obj: straightenObj } });\n        var bgObj = { color: null };\n        parent.notify('draw', { prop: 'getImageBackgroundColor', value: { obj: bgObj } });\n        var obj = { cropZoom: 0, defaultZoom: 0, totalPannedPoint: { x: 0, y: 0 }, totalPannedClientPoint: { x: 0, y: 0 },\n            totalPannedInternalPoint: { x: 0, y: 0 }, tempFlipPanPoint: { x: 0, y: 0 }, activeObj: {},\n            rotateFlipColl: [], degree: 0, currFlipState: '', zoomFactor: 0, previousZoomValue: 0, straighten: 0,\n            destPoints: { startX: 0, startY: 0, width: 0, height: 0 }, frame: 'none',\n            srcPoints: { startX: 0, startY: 0, width: 0, height: 0 }, filter: '', isBrightAdjust: this.isBrightnessAdjusted,\n            aspectWidth: null, aspectHeight: null, straightenZoom: 0, adjustmentLevel: extend({}, this.tempAdjVal, {}, true),\n            currentFilter: this.tempFilVal, imageSource: '', bgColor: '' };\n        obj.cropZoom = parent.transform.cropZoomFactor;\n        obj.defaultZoom = parent.transform.defaultZoomFactor;\n        obj.zoomFactor = parent.zoomSettings.zoomFactor;\n        obj.previousZoomValue = zoomObj['previousZoomValue'];\n        obj.straightenZoom = straightenObj['zoomFactor'];\n        obj.totalPannedPoint = extend({}, parent.panPoint.totalPannedPoint, {}, true);\n        obj.totalPannedClientPoint = extend({}, parent.panPoint.totalPannedClientPoint, {}, true);\n        obj.totalPannedInternalPoint = extend({}, parent.panPoint.totalPannedInternalPoint, {}, true);\n        obj.tempFlipPanPoint = extend({}, tempFlipPanPointObj['point'], {}, true);\n        obj.activeObj = extend({}, parent.activeObj, {}, true);\n        obj.rotateFlipColl = extend([], parent.rotateFlipColl, [], true);\n        obj.degree = parent.transform.degree;\n        obj.straighten = parent.cropObj.straighten;\n        obj.currFlipState = parent.transform.currFlipState;\n        obj.destPoints = { startX: parent.img.destLeft, startY: parent.img.destTop, endX: 0, endY: 0,\n            width: parent.img.destWidth, height: parent.img.destHeight };\n        obj.srcPoints = { startX: parent.img.srcLeft, startY: parent.img.srcTop, endX: 0, endY: 0,\n            width: parent.img.srcWidth, height: parent.img.srcHeight };\n        obj.filter = this.lowerContext.filter;\n        obj.aspectWidth = parent.aspectWidth;\n        obj.aspectHeight = parent.aspectHeight;\n        obj.frame = parent.frameObj.type;\n        obj.frameObj = extend({}, parent.frameObj);\n        obj.imageSource = parent.baseImg.src;\n        obj.bgColor = bgObj['color'];\n        if (dummyObj) {\n            dummyObj['currObj'] = obj;\n        }\n        return obj;\n    };\n    /* Filter safari related codes */\n    Filter.prototype.getValFromPercentage = function (percentage) {\n        var val = parseFloat(percentage);\n        // check for percentages and divide by a hundred\n        if (/%\\s*?$/i.test(percentage)) {\n            val /= 100;\n        }\n        return val;\n    };\n    Filter.prototype.getValFromLength = function (length) {\n        return parseFloat(length);\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    Filter.prototype.parseFilterString = function (filterString) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var filterArray = [];\n        if (filterString && filterString !== 'none') {\n            filterArray = filterString.split(' ').map(function (filter) {\n                var _a = filter.match(/([a-z-]+)\\(([^)]+)\\)/).slice(1, 3), name = _a[0], value = _a[1];\n                return { filter: name, value: value };\n            });\n        }\n        return filterArray;\n    };\n    Filter.prototype.applyFilter = function (context) {\n        var _a = context.canvas, height = _a.height, width = _a.width;\n        var imageData = context.getImageData(0, 0, width, height);\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var filterArray = this.parseFilterString(context.filter);\n        for (var i = 0, len = filterArray.length; i < len; i++) {\n            switch (filterArray[i].filter) {\n                case 'blur':\n                    imageData = this.blur(context, imageData, filterArray[i].value);\n                    break;\n                case 'brightness':\n                    imageData = this.brightness(imageData, filterArray[i].value);\n                    break;\n                case 'contrast':\n                    imageData = this.contrast(imageData, filterArray[i].value);\n                    break;\n                case 'grayscale':\n                    imageData = this.grayscale(imageData, filterArray[i].value);\n                    break;\n                case 'hue-rotate':\n                    imageData = this.hueRotate(imageData, filterArray[i].value);\n                    break;\n                case 'invert':\n                    imageData = this.invert(imageData, filterArray[i].value);\n                    break;\n                case 'opacity':\n                    imageData = this.opacity(imageData, filterArray[i].value);\n                    break;\n                case 'saturate':\n                    imageData = this.saturate(context, imageData, filterArray[i].value);\n                    break;\n                case 'sepia':\n                    imageData = this.sepia(imageData, filterArray[i].value);\n                    break;\n            }\n        }\n        context.putImageData(imageData, 0, 0);\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    Filter.prototype.blur = function (context, imageData, radius) {\n        if (radius === void 0) { radius = '0'; }\n        var blurRadius = this.getValFromLength(radius);\n        blurRadius = Math.floor(blurRadius);\n        if (blurRadius <= 0) {\n            return imageData;\n        }\n        var _a = context.canvas, height = _a.height, width = _a.width;\n        var data = imageData.data;\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var blurredData = new Uint8ClampedArray(data.length);\n        for (var y = 0; y < height; y++) {\n            for (var x = 0; x < width; x++) {\n                var r = 0;\n                var g = 0;\n                var b = 0;\n                var a = 0;\n                var count = 0;\n                for (var dy = -blurRadius; dy <= blurRadius; dy++) {\n                    for (var dx = -blurRadius; dx <= blurRadius; dx++) {\n                        var nx = x + dx;\n                        var ny = y + dy;\n                        if (nx >= 0 && nx < width && ny >= 0 && ny < height) {\n                            var offset = (ny * width + nx) * 4;\n                            r += data[offset];\n                            g += data[offset + 1];\n                            b += data[offset + 2];\n                            a += data[offset + 3];\n                            count++;\n                        }\n                    }\n                }\n                var i = (y * width + x) * 4;\n                blurredData[i] = r / count;\n                blurredData[i + 1] = g / count;\n                blurredData[i + 2] = b / count;\n                blurredData[i + 3] = a / count;\n            }\n        }\n        for (var i = 0; i < data.length; i++) {\n            data[i] = blurredData[i];\n        }\n        return imageData;\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    Filter.prototype.brightness = function (imageData, percentage) {\n        if (percentage === void 0) { percentage = '1'; }\n        var factor = this.getValFromPercentage(percentage);\n        if (factor !== 1) {\n            var data = imageData.data;\n            var length_1 = data.length;\n            for (var i = 0; i < length_1; i += 4) {\n                data[i + 0] *= factor;\n                data[i + 1] *= factor;\n                data[i + 2] *= factor;\n            }\n        }\n        return imageData;\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    Filter.prototype.contrast = function (imageData, percentage) {\n        if (percentage === void 0) { percentage = '1'; }\n        var factor = this.getValFromPercentage(percentage);\n        if (factor !== 1) {\n            var data = imageData.data;\n            var length_2 = data.length;\n            for (var i = 0; i < length_2; i += 4) {\n                data[i + 0] = ((data[i + 0] / 255 - 0.5) * factor + 0.5) * 255;\n                data[i + 1] = ((data[i + 1] / 255 - 0.5) * factor + 0.5) * 255;\n                data[i + 2] = ((data[i + 2] / 255 - 0.5) * factor + 0.5) * 255;\n            }\n        }\n        return imageData;\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    Filter.prototype.grayscale = function (imageData, percentage) {\n        if (percentage === void 0) { percentage = '0'; }\n        var factor = this.getValFromPercentage(percentage);\n        if (factor > 0) {\n            var data = imageData.data;\n            var length_3 = data.length;\n            for (var i = 0; i < length_3; i += 4) {\n                var r = data[i];\n                var g = data[i + 1];\n                var b = data[i + 2];\n                // Calculate the grayscale value using the luminosity method\n                var gray = 0.299 * r + 0.587 * g + 0.114 * b;\n                // Blend the original color with the grayscale value based on the percentage\n                data[i] = r * (1 - factor) + gray * factor;\n                data[i + 1] = g * (1 - factor) + gray * factor;\n                data[i + 2] = b * (1 - factor) + gray * factor;\n            }\n        }\n        return imageData;\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    Filter.prototype.hueRotate = function (imageData, rotation) {\n        if (rotation === void 0) { rotation = '0deg'; }\n        var data = imageData.data;\n        var angle = parseFloat(rotation) * (Math.PI / 180);\n        if (angle > 0) {\n            var cosA = Math.cos(angle);\n            var sinA = Math.sin(angle);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var matrix = [\n                0.213 + cosA * 0.787 - sinA * 0.213, 0.715 - cosA * 0.715 - sinA * 0.715, 0.072 - cosA * 0.072 + sinA * 0.928,\n                0.213 - cosA * 0.213 + sinA * 0.143, 0.715 + cosA * 0.285 + sinA * 0.140, 0.072 - cosA * 0.072 - sinA * 0.283,\n                0.213 - cosA * 0.213 - sinA * 0.787, 0.715 - cosA * 0.715 + sinA * 0.715, 0.072 + cosA * 0.928 + sinA * 0.072\n            ];\n            for (var i = 0; i < data.length; i += 4) {\n                var r = data[i];\n                var g = data[i + 1];\n                var b = data[i + 2];\n                // Apply the hue rotation matrix\n                data[i] = matrix[0] * r + matrix[1] * g + matrix[2] * b;\n                data[i + 1] = matrix[3] * r + matrix[4] * g + matrix[5] * b;\n                data[i + 2] = matrix[6] * r + matrix[7] * g + matrix[8] * b;\n            }\n        }\n        return imageData;\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    Filter.prototype.invert = function (imageData, percentage) {\n        if (percentage === void 0) { percentage = '0'; }\n        var factor = this.getValFromPercentage(percentage);\n        if (factor > 0) {\n            var data = imageData.data;\n            var length_4 = data.length;\n            for (var i = 0; i < length_4; i += 4) {\n                data[i + 0] = Math.abs(data[i + 0] - 255 * factor);\n                data[i + 1] = Math.abs(data[i + 1] - 255 * factor);\n                data[i + 2] = Math.abs(data[i + 2] - 255 * factor);\n            }\n        }\n        return imageData;\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    Filter.prototype.opacity = function (imageData, percentage) {\n        if (percentage === void 0) { percentage = '0'; }\n        var factor = this.getValFromPercentage(percentage);\n        if (factor >= 0) {\n            var data = imageData.data;\n            var length_5 = data.length;\n            for (var i = 3; i < length_5; i += 4) {\n                data[i] *= factor;\n            }\n        }\n        return imageData;\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    Filter.prototype.saturate = function (context, imageData, percentage) {\n        if (percentage === void 0) { percentage = '0'; }\n        var factor = this.getValFromPercentage(percentage);\n        if (factor !== 1) {\n            var _a = context.canvas, width = _a.width, height = _a.height;\n            var data = imageData.data;\n            var lumR = (1 - factor) * 0.3086;\n            var lumG = (1 - factor) * 0.6094;\n            var lumB = (1 - factor) * 0.082;\n            // tslint:disable-next-line no-bitwise\n            var shiftW = width << 2;\n            for (var j = 0; j < height; j++) {\n                var offset = j * shiftW;\n                for (var i = 0; i < width; i++) {\n                    // tslint:disable-next-line no-bitwise\n                    var pos = offset + (i << 2);\n                    var r = data[pos + 0];\n                    var g = data[pos + 1];\n                    var b = data[pos + 2];\n                    data[pos + 0] = (lumR + factor) * r + lumG * g + lumB * b;\n                    data[pos + 1] = lumR * r + (lumG + factor) * g + lumB * b;\n                    data[pos + 2] = lumR * r + lumG * g + (lumB + factor) * b;\n                }\n            }\n        }\n        return imageData;\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    Filter.prototype.sepia = function (imageData, percentage) {\n        if (percentage === void 0) { percentage = '0'; }\n        var factor = this.getValFromPercentage(percentage);\n        if (factor > 1) {\n            factor = 1;\n        }\n        if (factor > 0) {\n            var data = imageData.data;\n            var length_6 = data.length;\n            for (var i = 0; i < length_6; i += 4) {\n                var r = data[i + 0];\n                var g = data[i + 1];\n                var b = data[i + 2];\n                data[i + 0] =\n                    (0.393 * r + 0.769 * g + 0.189 * b) * factor + r * (1 - factor);\n                data[i + 1] =\n                    (0.349 * r + 0.686 * g + 0.168 * b) * factor + g * (1 - factor);\n                data[i + 2] =\n                    (0.272 * r + 0.534 * g + 0.131 * b) * factor + b * (1 - factor);\n            }\n        }\n        return imageData;\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { EventHandler, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ShapeType } from '../index';\nvar FreehandDrawing = /** @class */ (function () {\n    function FreehandDrawing(parent) {\n        this.fhdObj = { lastWidth: 0, lastVelocity: 0, time: 0, pointX: 0, pointY: 0 };\n        this.isFreehandDrawing = false;\n        this.freehandDownPoint = { x: 0, y: 0 };\n        this.isFreehandPointMoved = false;\n        this.pointCounter = 0;\n        // eslint-disable-next-line\n        this.selPointColl = {};\n        this.currFHDIdx = 0; // Specifies id for every freehand drawing - uses while deleting\n        this.selPoints = [];\n        this.dummyPoints = [];\n        this.tempFHDStyles = { strokeColor: null, fillColor: null, strokeWidth: null };\n        this.straightenPoint = { x: null, y: null, ratioX: null, ratioY: null };\n        this.straightenPointAngle = 0;\n        this.isMasking = false;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    FreehandDrawing.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n    };\n    FreehandDrawing.prototype.addEventListener = function () {\n        this.parent.on('freehand-draw', this.draw, this);\n        this.parent.on('destroyed', this.destroy, this);\n    };\n    FreehandDrawing.prototype.removeEventListener = function () {\n        this.parent.off('freehand-draw', this.draw);\n        this.parent.off('destroyed', this.destroy);\n    };\n    FreehandDrawing.prototype.draw = function (args) {\n        this.updateFhdPvtVar();\n        switch (args.prop) {\n            case 'hoverFhd': {\n                this.hoverFhd(args.value['strokeColor'], args.value['strokeWidth']);\n                break;\n            }\n            case 'freehandDownHandler':\n                this.freehandDownHandler(args.value['e'], args.value['canvas']);\n                break;\n            case 'freehandUpHandler':\n                this.freehandUpHandler(args.value['e'], args.value['canvas'], args.value['context']);\n                break;\n            case 'handle-freehand-draw': {\n                var id = parseInt(args.value['id'].split('_')[1], 10) - 1;\n                if (this.isFHDIdx(id)) {\n                    this.deleteFhd(id, true);\n                }\n                break;\n            }\n            case 'freehandRedraw':\n                this.freehandRedraw(args.value['context'], args.value['points']);\n                break;\n            case 'deleteFhd': {\n                var id = parseInt(args.value['id'].split('_')[1], 10) - 1;\n                this.deleteFhd(id, true);\n                break;\n            }\n            case 'selectFhd': {\n                var id = null;\n                if (args.value['id']) {\n                    id = parseInt(args.value['id'].split('_')[1], 10) - 1;\n                }\n                this.selectFhd(id);\n                break;\n            }\n            case 'applyFhd':\n                this.applyFhd();\n                break;\n            case 'cancelFhd':\n                this.cancelFhd();\n                break;\n            case 'updateFHDCurPts':\n                this.updateFHDCurPts();\n                break;\n            case 'rotateFhdColl':\n                this.rotateFhdColl();\n                break;\n            case 'flipFHDColl':\n                this.flipFHDColl(args.value['value']);\n                break;\n            case 'panFHDColl':\n                this.panFHDColl(args.value['xDiff'], args.value['yDiff'], args.value['panRegion']);\n                break;\n            case 'updateFHDColl':\n                if (args.value && args.value['isPreventApply']) {\n                    this.updateFHDColl(args.value['isPreventApply']);\n                }\n                else {\n                    this.updateFHDColl();\n                }\n                break;\n            case 'zoomFHDColl':\n                this.zoomFHDColl(args.value['isPreventApply']);\n                break;\n            case 'apply-pen-draw':\n                this.applyPenDraw();\n                break;\n            case 'freeHandDraw':\n                this.freeHandDraw(args.value['value']);\n                break;\n            case 'isFHDIdx':\n                this.isFHDIdx(args.value['index'], args.value['obj']);\n                break;\n            case 'getSqPtFD':\n                this.getSqPtFD(args.value['idx'], args.value['obj']);\n                break;\n            case 'getSelPointColl':\n                args.value['obj']['selPointColl'] = extend([], this.selPointColl);\n                break;\n            case 'setSelPointColl':\n                this.selPointColl = extend([], args.value['obj']['selPointColl']);\n                break;\n            case 'pushSelPointColl':\n                this.selPointColl.push(extend([], args.value['obj']['selPointColl']));\n                break;\n            case 'setFreehandDrawHoveredIndex':\n                this.fhdHovIdx = args.value['index'];\n                break;\n            case 'getFreehandDrawHoveredIndex':\n                args.value['obj']['index'] = this.fhdHovIdx;\n                break;\n            case 'setPointCounter':\n                this.pointCounter = args.value['value'];\n                break;\n            case 'getPenStrokeWidth':\n                args.value['obj']['penStrokeWidth'] = this.penStrokeWidth;\n                break;\n            case 'setPenStrokeWidth':\n                this.penStrokeWidth = args.value['value'];\n                break;\n            case 'getCurrentFreehandDrawIndex':\n                args.value['obj']['currentFreehandDrawIndex'] = this.currFHDIdx;\n                break;\n            case 'setCurrentFreehandDrawIndex':\n                this.currFHDIdx = args.value['value'];\n                break;\n            case 'updateCropPtsForSel':\n                this.updateCropPtsForSel();\n                break;\n            case 'getFreehandDrawSelectedId':\n                args.value['obj']['freehandDrawSelectedId'] = this.fhdSelID;\n                break;\n            case 'resetFreehandDrawSelectedId':\n                this.fhdSelID = null;\n                break;\n            case 'getTempFreeHandDrawEditingStyles':\n                args.value['obj']['tempFreeHandDrawEditingStyles'] = this.tempFHDStyles;\n                break;\n            case 'setFreehandSelectedIndex':\n                this.fhdSelIdx = args.value['index'];\n                break;\n            case 'getFreehandSelectedIndex':\n                args.value['obj']['freehandSelectedIndex'] = this.fhdSelIdx;\n                break;\n            case 'setCenterSelPoints':\n                this.setCenterSelPoints();\n                break;\n            case 'getStraightenPoint':\n                args.value['obj']['straightenPoint'] = extend({}, this.straightenPoint, {}, true);\n                break;\n            case 'setStraightenPoint':\n                this.straightenPoint.x = args.value['x'];\n                this.straightenPoint.y = args.value['y'];\n                if (args.value['ratioX'] && args.value['ratioY']) {\n                    this.straightenPoint.ratioX = args.value['ratioX'];\n                    this.straightenPoint.ratioY = args.value['ratioY'];\n                }\n                break;\n            case 'resetStraightenPoint':\n                this.straightenPoint = { x: null, y: null, ratioX: null, ratioY: null };\n                this.prevStraightenObj = null;\n                this.straightenPointAngle = 0;\n                break;\n            case 'getStraightenPointAngle':\n                args.value['obj']['angle'] = this.straightenPointAngle;\n                break;\n            case 'reset':\n                this.reset();\n                break;\n            case 'triggerShapeChanging':\n                this.triggerShapeChanging(args.value['shapeChangingArgs']);\n                break;\n            case 'setMasking':\n                this.isMasking = args.value['value'];\n                break;\n            case 'resetSelPoints':\n                this.selPoints = [];\n                break;\n        }\n    };\n    FreehandDrawing.prototype.updateFhdPvtVar = function () {\n        var parent = this.parent;\n        if (parent.lowerCanvas) {\n            this.lowerContext = parent.lowerCanvas.getContext('2d');\n        }\n        if (parent.upperCanvas) {\n            this.upperContext = parent.upperCanvas.getContext('2d');\n        }\n    };\n    FreehandDrawing.prototype.reset = function () {\n        this.fhdObj = { lastWidth: 0, lastVelocity: 0, time: 0, pointX: 0, pointY: 0 };\n        this.isFreehandDrawing = this.isFreehandPointMoved = false;\n        this.selPoints = [];\n        this.dummyPoints = [];\n        this.freehandDownPoint = { x: 0, y: 0 };\n        this.selPointColl = {};\n        this.straightenPointAngle = 0;\n        this.fhdHovIdx = null;\n        this.pointCounter = 0;\n        this.fhdSelID = null;\n        this.isMasking = false;\n        this.penStrokeWidth = undefined;\n        this.currFHDIdx = 0;\n        this.fhdSelIdx = null;\n        this.tempFHDStyles = { strokeColor: null, fillColor: null, strokeWidth: null };\n        this.straightenPoint = { x: null, y: null, ratioX: null, ratioY: null };\n        this.prevStraightenObj = null;\n    };\n    FreehandDrawing.prototype.getModuleName = function () {\n        return 'freehand-draw';\n    };\n    FreehandDrawing.prototype.hoverFhd = function (fillStyle, strokeWidth) {\n        var parent = this.parent;\n        var context = this.upperContext;\n        var idx = -1;\n        if (this.fhdHovIdx > -1) {\n            idx = this.fhdHovIdx;\n        }\n        else {\n            idx = this.fhdSelIdx;\n        }\n        parent.points = extend([], parent.pointColl[idx].points);\n        this.pointCounter = 0;\n        var len = parent.points.length;\n        var controlPoint1;\n        var controlPoint2;\n        var startPoint;\n        var endPoint;\n        var minStrokeWidth = 0;\n        var maxStrokeWidth = 0;\n        context.fillStyle = fillStyle ? fillStyle : parent.pointColl[idx].strokeColor;\n        context.strokeStyle = context.fillStyle;\n        minStrokeWidth = maxStrokeWidth = this.penStrokeWidth = strokeWidth ?\n            strokeWidth : parent.pointColl[idx].strokeWidth;\n        if (len === 1) {\n            controlPoint1 = controlPoint2 = startPoint = endPoint = parent.points[0];\n            this.startDraw(context, controlPoint1, controlPoint2, startPoint, endPoint, minStrokeWidth, maxStrokeWidth);\n        }\n        for (var l = 0; l < len - 3; l++) {\n            if (parent.points[l + 1] && parent.points[l + 2] && parent.points[l + 2]) {\n                controlPoint1 = (this.calcCurveCP(parent.points[l + 0], parent.points[l + 1], parent.points[l + 2])).controlPoint2;\n                controlPoint2 = (this.calcCurveCP(parent.points[l + 1], parent.points[l + 2], parent.points[l + 3])).controlPoint1;\n                if (l === 0) {\n                    startPoint = parent.points[l];\n                }\n                else {\n                    startPoint = parent.points[l + 1];\n                }\n                endPoint = parent.points[l + 2];\n                this.startDraw(context, controlPoint1, controlPoint2, startPoint, endPoint, minStrokeWidth, maxStrokeWidth);\n            }\n        }\n        context.closePath();\n        // Outer selection\n        var point = this.getSqPtFD(idx);\n        var tempLineWidth = context.lineWidth;\n        context.lineWidth = 2;\n        context.strokeStyle = parent.themeColl[parent.theme]['primaryColor'];\n        context.beginPath();\n        context.rect(point.startX, point.startY, point.width, point.height);\n        context.stroke();\n        context.closePath();\n        context.lineWidth = tempLineWidth;\n    };\n    FreehandDrawing.prototype.freehandDownHandler = function (e, canvas) {\n        var parent = this.parent;\n        parent.lowerCanvas = document.querySelector('#' + parent.element.id + '_lowerCanvas');\n        this.lowerContext = parent.lowerCanvas.getContext('2d');\n        parent.upperCanvas = document.querySelector('#' + parent.element.id + '_upperCanvas');\n        this.upperContext = parent.upperCanvas.getContext('2d');\n        this.fhdObj.time = new Date().getTime();\n        this.isFreehandDrawing = true;\n        if (e.type === 'mousedown') {\n            this.freehandDownPoint = { x: e.clientX, y: e.clientY };\n        }\n        else {\n            this.freehandDownPoint = { x: e.touches[0].clientX, y: e.touches[0].clientY };\n        }\n        this.isFreehandPointMoved = false;\n        EventHandler.add(canvas, 'mousemove touchmove', this.freehandMoveHandler, this);\n        var shapeSettings = { id: 'pen_' + (this.currFHDIdx + 1), type: ShapeType.FreehandDraw,\n            startX: this.freehandDownPoint.x, startY: this.freehandDownPoint.y,\n            strokeColor: parent.activeObj.strokeSettings.strokeColor, strokeWidth: this.penStrokeWidth,\n            points: null, index: parent.objColl.length + parent.freehandCounter + 1 };\n        var shapeChangingArgs = { cancel: false, action: 'draw-start', previousShapeSettings: shapeSettings,\n            currentShapeSettings: shapeSettings };\n        this.triggerShapeChanging(shapeChangingArgs);\n    };\n    FreehandDrawing.prototype.freehandUpHandler = function (e, canvas, context) {\n        var rect = canvas.getBoundingClientRect();\n        var parent = this.parent;\n        EventHandler.remove(canvas, 'mousemove touchmove', this.freehandMoveHandler);\n        if (parent.points.length === 0) {\n            if (e.type === 'mouseup') {\n                this.processPoint(e.clientX - rect.left, e.clientY - rect.top, true, context);\n            }\n            else if (e.type === 'touchend' && e.changedTouches) {\n                this.processPoint(e.changedTouches[0].clientX - rect.left, e.changedTouches[0].clientY - rect.top, true, context);\n            }\n            else {\n                if (!this.isFreehandPointMoved) {\n                    this.processPoint(this.freehandDownPoint.x - rect.left, this.freehandDownPoint.y - rect.top, true, context);\n                }\n            }\n        }\n        context.closePath();\n        var prevCropObj = extend({}, parent.cropObj, {}, true);\n        var object = { currObj: {} };\n        parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        prevObj.objColl = extend([], parent.objColl, [], true);\n        prevObj.pointColl = extend([], parent.pointColl, [], true);\n        prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false, value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        var fhCnt = parent.freehandCounter;\n        var order = parent.objColl.length + parent.freehandCounter + 1;\n        parent.pointColl[fhCnt] = { points: extend([], parent.points), strokeColor: parent.activeObj.strokeSettings.strokeColor,\n            strokeWidth: this.penStrokeWidth, flipState: parent.transform.currFlipState,\n            id: 'pen_' + (this.currFHDIdx + 1), order: order };\n        parent.points = [];\n        this.dummyPoints = [];\n        this.selPointColl[fhCnt] = { points: extend([], this.selPoints) };\n        this.selPoints = [];\n        this.pointCounter = 0;\n        parent.freehandCounter++;\n        this.isFreehandDrawing = false;\n        if (!parent.isMaskImage) {\n            parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                value: { operation: 'freehand-draw', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                    previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                    previousCropObj: prevCropObj, previousText: null,\n                    currentText: null, previousFilter: null, isCircleCrop: null } });\n        }\n        var shapeSettings = { id: 'pen_' + (this.currFHDIdx + 1), type: ShapeType.FreehandDraw,\n            startX: this.freehandDownPoint.x, startY: this.freehandDownPoint.y,\n            strokeColor: parent.activeObj.strokeSettings.strokeColor, strokeWidth: this.penStrokeWidth,\n            points: parent.pointColl[this.currFHDIdx].points, index: order };\n        var shapeChangingArgs = { cancel: false, action: 'draw-end', previousShapeSettings: shapeSettings,\n            currentShapeSettings: shapeSettings };\n        this.triggerShapeChanging(shapeChangingArgs);\n        this.currFHDIdx++;\n    };\n    FreehandDrawing.prototype.freehandMoveHandler = function (e) {\n        this.isFreehandPointMoved = true;\n        var rect = this.parent.upperCanvas.getBoundingClientRect();\n        var x;\n        var y;\n        if (e.type === 'mousemove') {\n            x = e.clientX - rect.left;\n            y = e.clientY - rect.top;\n        }\n        else {\n            x = e.touches[0].clientX - rect.left;\n            y = e.touches[0].clientY - rect.top;\n        }\n        if (this.isFreehandDrawing) {\n            this.upperContext.fillStyle = this.parent.activeObj.strokeSettings.strokeColor;\n            if (this.parent.isMaskImage) {\n                this.upperContext.globalCompositeOperation = 'xor';\n            }\n            this.processPoint(x, y, false, this.upperContext);\n        }\n    };\n    FreehandDrawing.prototype.processPoint = function (x, y, mouseDown, context) {\n        var parent = this.parent;\n        var lastPoint = this.point(x, y, new Date().getTime());\n        lastPoint = parent.points.length > 0 && parent.points[parent.points.length - 1];\n        var isLastPointTooClose = lastPoint ? this.distanceTo(lastPoint) <= 5 : false;\n        var controlPoint1;\n        var controlPoint2;\n        var startPoint;\n        var endPoint;\n        this.selPoints.push({ x: x, y: y, ratioX: (x - parent.img.destLeft) / parent.img.destWidth,\n            ratioY: (y - parent.img.destTop) / parent.img.destHeight, time: this.fhdObj.time });\n        if (!lastPoint || !(lastPoint && isLastPointTooClose) || mouseDown) {\n            this.fhdObj.time = new Date().getTime();\n            parent.points.push({ x: x, y: y, ratioX: (x - parent.img.destLeft) / parent.img.destWidth,\n                ratioY: (y - parent.img.destTop) / parent.img.destHeight,\n                time: this.fhdObj.time });\n            this.dummyPoints.push({ x: x, y: y, ratioX: (x - parent.img.destLeft) / parent.img.destWidth,\n                ratioY: (y - parent.img.destTop) / parent.img.destHeight,\n                time: this.fhdObj.time });\n            if (this.dummyPoints.length > 2) {\n                if (this.dummyPoints.length === 3) {\n                    this.dummyPoints.unshift(this.dummyPoints[0]);\n                }\n                var p0 = this.dummyPoints[0];\n                var p1 = this.dummyPoints[1];\n                var p2 = this.dummyPoints[2];\n                var p3 = this.dummyPoints[3];\n                controlPoint1 = this.calcCurveCP(p0, p1, p2).controlPoint2;\n                controlPoint2 = this.calcCurveCP(p1, p2, p3).controlPoint1;\n                startPoint = this.dummyPoints[1];\n                endPoint = this.dummyPoints[2];\n                var minStrokeWidth = 0.5;\n                var maxStrokeWidth = 5;\n                if (!isNullOrUndefined(this.penStrokeWidth)) {\n                    minStrokeWidth = maxStrokeWidth = this.penStrokeWidth;\n                }\n                this.startDraw(context, controlPoint1, controlPoint2, startPoint, endPoint, minStrokeWidth, maxStrokeWidth);\n                this.pointCounter++;\n                this.dummyPoints.shift();\n            }\n            if (mouseDown) {\n                controlPoint1 = controlPoint2 = startPoint = endPoint = { x: x, y: y, time: new Date().getTime() };\n                var minStrokeWidth = 0.5;\n                var maxStrokeWidth = 5;\n                if (!isNullOrUndefined(this.penStrokeWidth)) {\n                    minStrokeWidth = maxStrokeWidth = this.penStrokeWidth;\n                }\n                this.startDraw(context, controlPoint1, controlPoint2, startPoint, endPoint, minStrokeWidth, maxStrokeWidth);\n            }\n        }\n    };\n    FreehandDrawing.prototype.calcCurveCP = function (p1, p2, p3) {\n        if (!p2) {\n            p2 = p1;\n        }\n        if (!p3) {\n            p3 = p2;\n        }\n        var dx1 = p1.x - p2.x;\n        var dy1 = p1.y - p2.y;\n        var dx2 = p2.x - p3.x;\n        var dy2 = p2.y - p3.y;\n        var m1 = { x: (p1.x + p2.x) / 2.0, y: (p1.y + p2.y) / 2.0 };\n        var m2 = { x: (p2.x + p3.x) / 2.0, y: (p2.y + p3.y) / 2.0 };\n        var l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n        var l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n        var dxm = (m1.x - m2.x);\n        var dym = (m1.y - m2.y);\n        var k = l2 / (l1 + l2);\n        var cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n        var tx = p2.x - cm.x;\n        var ty = p2.y - cm.y;\n        return {\n            controlPoint1: this.point(m1.x + tx, m1.y + ty, 0),\n            controlPoint2: this.point(m2.x + tx, m2.y + ty, 0)\n        };\n    };\n    FreehandDrawing.prototype.point = function (x, y, time) {\n        this.fhdObj.pointX = x;\n        this.fhdObj.pointY = y;\n        return { x: this.fhdObj.pointX, y: this.fhdObj.pointY, time: time };\n    };\n    FreehandDrawing.prototype.startDraw = function (context, controlPoint1, controlPoint2, startPoint, endPoint, minStrokeWidth, maxStrokeWidth) {\n        var tempVelocity;\n        tempVelocity = this.pointVelocity(startPoint);\n        tempVelocity = 0.7 * tempVelocity + (1 - 0.7) * this.fhdObj.lastVelocity;\n        var newWidth = Math.max(maxStrokeWidth / (0.7 + 1), minStrokeWidth);\n        this.drawCurve(this.fhdObj.time, newWidth, context, controlPoint1, controlPoint2, startPoint, endPoint, maxStrokeWidth);\n        this.fhdObj.lastVelocity = tempVelocity;\n        this.fhdObj.time = newWidth;\n    };\n    FreehandDrawing.prototype.pointVelocity = function (startPoint) {\n        return (this.fhdObj.time !== startPoint.time) ? this.distanceTo(startPoint) /\n            (this.fhdObj.time - startPoint.time) : 0;\n    };\n    FreehandDrawing.prototype.distanceTo = function (start) {\n        return Math.sqrt(Math.pow(this.fhdObj.pointX - start.x, 2) + Math.pow(this.fhdObj.pointY - start.y, 2));\n    };\n    FreehandDrawing.prototype.drawCurve = function (startWidth, endWidth, context, controlPoint1, controlPoint2, startPoint, endPoint, maxStrokeWidth) {\n        var width;\n        var i;\n        var t1;\n        var t2;\n        var t3;\n        var u1;\n        var u2;\n        var u3;\n        var x;\n        var y;\n        var widthValue = endWidth - startWidth;\n        var bezierLength = this.bezierLength(controlPoint1, controlPoint2, startPoint, endPoint);\n        var drawSteps = Math.ceil(bezierLength) * 2;\n        context.beginPath();\n        for (i = 0; i < drawSteps; i++) {\n            t1 = i / drawSteps;\n            t2 = t1 * t1;\n            t3 = t2 * t1;\n            u1 = 1 - t1;\n            u2 = u1 * u1;\n            u3 = u2 * u1;\n            x = u3 * startPoint.x;\n            x += 3 * u2 * t1 * controlPoint1.x;\n            x += 3 * u1 * t2 * controlPoint2.x;\n            x += t3 * endPoint.x;\n            y = u3 * startPoint.y;\n            y += 3 * u2 * t1 * controlPoint1.y;\n            y += 3 * u1 * t2 * controlPoint2.y;\n            y += t3 * endPoint.y;\n            width = Math.min(startWidth + t3 * widthValue, maxStrokeWidth);\n            this.drawArc(x, y, width, context);\n        }\n        context.closePath();\n        context.fill();\n    };\n    FreehandDrawing.prototype.bezierLength = function (controlPoint1, controlPoint2, startPoint, endPoint) {\n        var steps = 10;\n        var length = 0;\n        var i;\n        var t;\n        var pointX1;\n        var pointY1;\n        var pointX2;\n        var pointY2;\n        var pointX3;\n        var pointY3;\n        for (i = 0; i <= steps; i++) {\n            t = i / steps;\n            pointX1 = this.bezierPoint(t, startPoint.x, controlPoint1.x, controlPoint2.x, endPoint.x);\n            pointY1 = this.bezierPoint(t, startPoint.y, controlPoint1.y, controlPoint2.y, endPoint.y);\n            if (i > 0) {\n                pointX3 = pointX1 - pointX2;\n                pointY3 = pointY1 - pointY2;\n                length += Math.sqrt(pointX3 * pointX3 + pointY3 * pointY3);\n            }\n            pointX2 = pointX1;\n            pointY2 = pointY1;\n        }\n        return length;\n    };\n    FreehandDrawing.prototype.bezierPoint = function (t, startPoint, cp1, cp2, endPoint) {\n        return startPoint * (1.0 - t) * (1.0 - t) * (1.0 - t) + 3.0 * cp1 * (1.0 - t) * (1.0 - t) * t + 3.0 *\n            cp2 * (1.0 - t) * t * t + endPoint * t * t * t;\n    };\n    FreehandDrawing.prototype.drawArc = function (x, y, size, context) {\n        var img = this.parent.img;\n        if ((x > img.destLeft && y > img.destTop && x < (img.destLeft + img.destWidth) &&\n            y < (img.destTop + img.destHeight) ||\n            (context !== this.lowerContext && context !== this.upperContext))) {\n            context.moveTo(x, y);\n            context.arc(x, y, size, 0, 2 * Math.PI, false);\n        }\n    };\n    FreehandDrawing.prototype.freehandRedraw = function (context, points) {\n        var parent = this.parent;\n        var temp = context.filter;\n        context.filter = 'none';\n        if (points) {\n            parent.pointColl[parent.freehandCounter] = { points: points, strokeColor: parent.activeObj.strokeSettings.strokeColor,\n                strokeWidth: this.penStrokeWidth, flipState: parent.transform.currFlipState,\n                id: 'pen_' + (parent.freehandCounter + 1), order: parent.objColl.length + parent.freehandCounter + 1 };\n            this.selPointColl[parent.freehandCounter] = extend({}, parent.pointColl[parent.freehandCounter], {}, true);\n            parent.freehandCounter++;\n        }\n        if (parent.freehandCounter > 0) {\n            for (var n = 0; n < parent.freehandCounter; n++) {\n                parent.points = extend([], parent.pointColl[n].points);\n                this.pointCounter = 0;\n                var len = parent.points.length;\n                var controlPoint1 = void 0;\n                var controlPoint2 = void 0;\n                var startPoint = void 0;\n                var endPoint = void 0;\n                var minStrokeWidth = void 0;\n                var maxStrokeWidth = void 0;\n                if (len > 0) {\n                    context.fillStyle = parent.pointColl[n].strokeColor;\n                    minStrokeWidth = maxStrokeWidth = this.penStrokeWidth = parent.pointColl[n].strokeWidth;\n                }\n                if (len === 1) {\n                    controlPoint1 = controlPoint2 = startPoint = endPoint = parent.points[0];\n                    this.startDraw(context, controlPoint1, controlPoint2, startPoint, endPoint, minStrokeWidth, maxStrokeWidth);\n                }\n                for (var l = 0; l < len - 3; l++) {\n                    if (parent.points[l + 1] && parent.points[l + 2] && parent.points[l + 2]) {\n                        controlPoint1 = (this.calcCurveCP(parent.points[l + 0], parent.points[l + 1], parent.points[l + 2])).controlPoint2;\n                        controlPoint2 = (this.calcCurveCP(parent.points[l + 1], parent.points[l + 2], parent.points[l + 3])).controlPoint1;\n                        if (l === 0) {\n                            startPoint = parent.points[l];\n                        }\n                        else {\n                            startPoint = parent.points[l + 1];\n                        }\n                        endPoint = parent.points[l + 2];\n                        this.startDraw(context, controlPoint1, controlPoint2, startPoint, endPoint, minStrokeWidth, maxStrokeWidth);\n                    }\n                }\n                context.closePath();\n            }\n            if (context === this.lowerContext) {\n                parent.notify('draw', { prop: 'applyFrame', value: { ctx: this.lowerContext, frame: parent.frameObj.type, preventImg: true } });\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            }\n        }\n        context.filter = temp;\n    };\n    FreehandDrawing.prototype.getSqPtFD = function (idx, obj) {\n        var activePoint = { startX: 0, startY: 0, endX: 0, endY: 0, width: 0, height: 0 };\n        var sPoints = extend([], this.selPointColl[idx].points, []);\n        this.parent.points = extend([], this.parent.pointColl[idx].points);\n        this.pointCounter = 0;\n        var len = sPoints.length;\n        for (var l = 0; l < len; l++) {\n            if (activePoint.startX === 0 && activePoint.startY === 0 && activePoint.endX === 0 && activePoint.endY === 0) {\n                activePoint.startX = sPoints[l].x;\n                activePoint.startY = sPoints[l].y;\n                activePoint.endX = sPoints[l].x;\n                activePoint.endY = sPoints[l].y;\n            }\n            else {\n                activePoint.startX = Math.min(activePoint.startX, sPoints[l].x);\n                activePoint.startY = Math.min(activePoint.startY, sPoints[l].y);\n                activePoint.endX = Math.max(activePoint.endX, sPoints[l].x);\n                activePoint.endY = Math.max(activePoint.endY, sPoints[l].y);\n            }\n        }\n        activePoint.startX -= this.penStrokeWidth;\n        activePoint.startY -= this.penStrokeWidth;\n        activePoint.endX += this.penStrokeWidth;\n        activePoint.endY += this.penStrokeWidth;\n        activePoint.width = activePoint.endX - activePoint.startX;\n        activePoint.height = activePoint.endY - activePoint.startY;\n        if (obj) {\n            obj['activePoint'] = activePoint;\n        }\n        return activePoint;\n    };\n    FreehandDrawing.prototype.applyPenDraw = function () {\n        var parent = this.parent;\n        if (parent.currObjType.shape === 'freehanddraw') {\n            parent.notify('shape', { prop: 'apply', onPropertyChange: false, value: { shape: null, obj: null, canvas: null } });\n            parent.upperCanvas.style.cursor = parent.cursor = 'default';\n            parent.currObjType.shape = '';\n        }\n        parent.notify('shape', { prop: 'clearActObj' });\n    };\n    FreehandDrawing.prototype.applyFhd = function () {\n        var parent = this.parent;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var selectedPoint = parent.pointColl[this.fhdSelIdx];\n        if (selectedPoint.strokeColor === '#42a5f5') {\n            selectedPoint.strokeColor = this.tempFHDStyles.strokeColor;\n        }\n        parent.notify('toolbar', { prop: 'setSelectedFreehandColor', value: { color: '#42a5f5' } });\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null } });\n        parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n        if (selectedPoint) {\n            selectedPoint.isSelected = false;\n        }\n        parent.notify('selection', { prop: 'resetFreehandDrawVariables' });\n        this.fhdHovIdx = this.fhdSelIdx = null;\n    };\n    FreehandDrawing.prototype.cancelFhd = function () {\n        var parent = this.parent;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var selectedPoint = parent.pointColl[this.fhdSelIdx];\n        parent.notify('toolbar', { prop: 'setSelectedFreehandColor', value: { color: '#42a5f5' } });\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        this.lowerContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        this.pointCounter = 0;\n        if (selectedPoint) {\n            selectedPoint.strokeColor = this.tempFHDStyles.strokeColor;\n            selectedPoint.strokeWidth = this.tempFHDStyles.strokeWidth;\n            selectedPoint.isSelected = false;\n        }\n        this.fhdHovIdx = this.fhdSelIdx = this.fhdSelID = null;\n        parent.notify('selection', { prop: 'resetFreehandDrawVariables' });\n        parent.activeObj.strokeSettings.strokeColor = this.tempFHDStyles.strokeColor;\n        parent.activeObj.strokeSettings.strokeWidth = this.penStrokeWidth = this.tempFHDStyles.strokeWidth;\n        this.tempFHDStyles = { strokeColor: null, strokeWidth: null, fillColor: null };\n        parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null } });\n        parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n    };\n    FreehandDrawing.prototype.selectFhd = function (index) {\n        var parent = this.parent;\n        var tempFHDStyles = extend({}, this.tempFHDStyles, {}, true);\n        parent.notify('selection', { prop: 'setFreehandDrawEditing', onPropertyChange: false, value: { bool: true } });\n        if (index || index === 0) {\n            if (this.isFHDIdx(index)) {\n                this.fhdSelIdx = this.fhdHovIdx = index;\n                this.hoverFhd();\n                parent.upperCanvas.style.cursor = parent.cursor = 'pointer';\n            }\n            else {\n                return;\n            }\n        }\n        this.fhdSelIdx = this.fhdHovIdx;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var point = parent.pointColl[this.fhdSelIdx];\n        point.isSelected = true;\n        this.fhdSelID = point.id;\n        if (point.strokeColor !== '#42a5f5') {\n            parent.activeObj.strokeSettings.strokeColor = this.tempFHDStyles.strokeColor = point.strokeColor;\n        }\n        parent.activeObj.strokeSettings.strokeWidth = this.tempFHDStyles.strokeWidth =\n            parent.pointColl[this.fhdHovIdx].strokeWidth;\n        var obj = { bool: false };\n        parent.notify('selection', { prop: 'getFreehandDrawEditing', onPropertyChange: false, value: { obj: obj } });\n        if (obj['bool']) {\n            var shapeSettings = { id: 'pen_' + (this.fhdSelIdx + 1), type: ShapeType.FreehandDraw,\n                startX: point.points[0].x, startY: point.points[0].y, strokeColor: point.strokeColor,\n                strokeWidth: point.strokeWidth, points: point.points, opacity: point.opacity,\n                index: point.order };\n            var shapeChangingArgs = { cancel: false, action: 'select', previousShapeSettings: shapeSettings,\n                currentShapeSettings: shapeSettings };\n            this.triggerShapeChanging(shapeChangingArgs);\n        }\n        else {\n            parent.okBtn(null, true);\n        }\n        if (parent.isUndoRedoStack) {\n            this.tempFHDStyles = tempFHDStyles;\n        }\n    };\n    // eslint-disable-next-line  @typescript-eslint/no-unused-vars\n    FreehandDrawing.prototype.deleteFhd = function (index, isId) {\n        var parent = this.parent;\n        if (this.isFHDIdx(index)) {\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var tempPointColl = extend({}, parent.pointColl, {}, true);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var tempSelPointColl = extend({}, this.selPointColl, {}, true);\n            parent.pointColl = {};\n            this.selPointColl = {};\n            var count = 0;\n            for (var i = 0; i < parent.freehandCounter; i++) {\n                if (parseInt(tempPointColl[i].id.split('_')[1], 10) - 1 !== index) {\n                    parent.pointColl[count] = tempPointColl[i];\n                    this.selPointColl[count] = tempSelPointColl[i];\n                    count++;\n                }\n            }\n            parent.freehandCounter -= 1;\n            this.fhdHovIdx = this.fhdSelIdx = null;\n            parent.notify('selection', { prop: 'resetFreehandDrawVariables' });\n            parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null } });\n            parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n        }\n    };\n    FreehandDrawing.prototype.zoomX = function (x) {\n        return (x * this.parent.img.destWidth) + this.parent.img.destLeft;\n    };\n    FreehandDrawing.prototype.zoomY = function (y) {\n        return (y * this.parent.img.destHeight) + this.parent.img.destTop;\n    };\n    FreehandDrawing.prototype.zoomFHDColl = function (isPreventApply) {\n        var parent = this.parent;\n        var destPoints = { startX: parent.img.destLeft, startY: parent.img.destTop,\n            width: parent.img.destWidth, height: parent.img.destHeight };\n        parent.notify('shape', { prop: 'straightenShapes', onPropertyChange: false });\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            parent.points = extend([], parent.pointColl[n].points, []);\n            this.pointCounter = 0;\n            var len = parent.points.length;\n            for (var l = 0; l < len; l++) {\n                var point = parent.points[l];\n                point.x = this.zoomX(point.ratioX);\n                point.y = this.zoomY(point.ratioY);\n            }\n        }\n        this.updateFHDCurPts();\n        if (this.straightenPoint.x && this.straightenPoint.y) {\n            this.straightenPoint.x = this.zoomX(this.straightenPoint.ratioX);\n            this.straightenPoint.y = this.zoomY(this.straightenPoint.ratioY);\n        }\n        if (parent.transform.straighten !== 0) {\n            parent.notify('shape', { prop: 'straightenFHD', onPropertyChange: false });\n        }\n        parent.img.destLeft = destPoints.startX;\n        parent.img.destTop = destPoints.startY;\n        parent.img.destWidth = destPoints.width;\n        parent.img.destHeight = destPoints.height;\n        if (isNullOrUndefined(isPreventApply)) {\n            this.freehandRedraw(this.lowerContext, null);\n        }\n    };\n    FreehandDrawing.prototype.updateFHDCurPts = function () {\n        var parent = this.parent;\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            if (this.selPointColl[n]) {\n                this.selPoints = extend([], this.selPointColl[n].points, []);\n                this.pointCounter = 0;\n                var len = this.selPoints.length;\n                for (var l = 0; l < len; l++) {\n                    var point = this.selPoints[l];\n                    point.x = this.zoomX(point.ratioX);\n                    point.y = this.zoomY(point.ratioY);\n                }\n            }\n        }\n    };\n    FreehandDrawing.prototype.rotateFhdColl = function () {\n        var parent = this.parent;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            parent.points = extend([], parent.pointColl[n].points, []);\n            this.pointCounter = 0;\n            var len = parent.points.length;\n            for (var l = 0; l < len; l++) {\n                var point = parent.points[l];\n                point.y = destTop + (destHeight * point.ratioX);\n                point.x = (destLeft + destWidth) - (destWidth * point.ratioY);\n                point.ratioX = (point.x - destLeft) / destWidth;\n                point.ratioY = (point.y - destTop) / destHeight;\n            }\n        }\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            if (this.selPointColl[n]) {\n                this.selPoints = extend([], this.selPointColl[n].points, []);\n                this.pointCounter = 0;\n                var len = this.selPoints.length;\n                for (var l = 0; l < len; l++) {\n                    var point = this.selPoints[l];\n                    point.y = destTop + (destHeight * point.ratioX);\n                    point.x = (destLeft + destWidth) - (destWidth * point.ratioY);\n                    point.ratioX = (point.x - destLeft) / destWidth;\n                    point.ratioY = (point.y - destTop) / destHeight;\n                }\n            }\n        }\n        this.updateFHDCurPts();\n    };\n    FreehandDrawing.prototype.flipFHDColl = function (value) {\n        var lowercaseValue = value.toLowerCase();\n        if (lowercaseValue === 'horizontal') {\n            this.pointsHorizontalFlip();\n        }\n        else if (lowercaseValue === 'vertical') {\n            this.pointsVerticalFlip();\n        }\n        else {\n            this.pointsHorizontalFlip();\n            for (var i = 0; i < this.parent.freehandCounter; i++) {\n                this.parent.pointColl[i].shapeFlip = '';\n            }\n            this.pointsVerticalFlip();\n        }\n    };\n    FreehandDrawing.prototype.pointsHorizontalFlip = function () {\n        var parent = this.parent;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            if (parent.pointColl[n].shapeFlip !== parent.transform.currFlipState) {\n                parent.points = extend([], parent.pointColl[n].points, []);\n                this.pointCounter = 0;\n                var len = parent.points.length;\n                for (var l = 0; l < len; l++) {\n                    var point = parent.points[l];\n                    if (point.x <= destLeft + (destWidth / 2)) {\n                        point.x = (destLeft + destWidth) - (point.x - destLeft);\n                    }\n                    else if (point.x >= destLeft + (destWidth / 2)) {\n                        point.x = destLeft + (destLeft + destWidth - point.x);\n                    }\n                    point.ratioX = (point.x - destLeft) / destWidth;\n                    point.ratioY = (point.y - destTop) / destHeight;\n                }\n                parent.pointColl[n].shapeFlip = parent.transform.currFlipState;\n            }\n        }\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            if (this.selPointColl[n]) {\n                if (this.selPointColl[n].shapeFlip !== parent.transform.currFlipState) {\n                    this.selPoints = extend([], this.selPointColl[n].points, []);\n                    this.pointCounter = 0;\n                    var len = this.selPoints.length;\n                    for (var l = 0; l < len; l++) {\n                        var point = this.selPoints[l];\n                        if (point.x <= destLeft + (destWidth / 2)) {\n                            point.x = (destLeft + destWidth) - (point.x - destLeft);\n                        }\n                        else if (point.x >= destLeft + (destWidth / 2)) {\n                            point.x = destLeft + (destLeft + destWidth - point.x);\n                        }\n                        point.ratioX = (point.x - destLeft) / destWidth;\n                        point.ratioY = (point.y - destTop) / destHeight;\n                    }\n                }\n            }\n        }\n        this.updateFHDCurPts();\n    };\n    FreehandDrawing.prototype.pointsVerticalFlip = function () {\n        var parent = this.parent;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            if (parent.pointColl[n].shapeFlip !== parent.transform.currFlipState) {\n                parent.points = extend([], parent.pointColl[n].points, []);\n                this.pointCounter = 0;\n                var len = parent.points.length;\n                for (var l = 0; l < len; l++) {\n                    var point = parent.points[l];\n                    if (point.y <= destTop + (destHeight / 2)) {\n                        point.y = (destTop + destHeight) - (point.y - destTop);\n                    }\n                    else if (point.y >= destTop + (destHeight / 2)) {\n                        point.y = destTop + (destTop + destHeight - point.y);\n                    }\n                    point.ratioX = (point.x - destLeft) / destWidth;\n                    point.ratioY = (point.y - destTop) / destHeight;\n                }\n                parent.pointColl[n].shapeFlip = parent.transform.currFlipState;\n            }\n        }\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            if (this.selPointColl[n]) {\n                if (this.selPointColl[n].shapeFlip !== parent.transform.currFlipState) {\n                    this.selPoints = extend([], this.selPointColl[n].points, []);\n                    this.pointCounter = 0;\n                    var len = this.selPoints.length;\n                    for (var l = 0; l < len; l++) {\n                        var point = this.selPoints[l];\n                        if (point.y <= destTop + (destHeight / 2)) {\n                            point.y = (destTop + destHeight) - (point.y - destTop);\n                        }\n                        else if (point.y >= destTop + (destHeight / 2)) {\n                            point.y = destTop + (destTop + destHeight - point.y);\n                        }\n                        point.ratioX = (point.x - destLeft) / destWidth;\n                        point.ratioY = (point.y - destTop) / destHeight;\n                    }\n                }\n            }\n        }\n        this.updateFHDCurPts();\n    };\n    FreehandDrawing.prototype.updateFHDColl = function (isPreventApply) {\n        var parent = this.parent;\n        var destPoints = { startX: parent.img.destLeft, startY: parent.img.destTop,\n            width: parent.img.destWidth, height: parent.img.destHeight };\n        parent.notify('shape', { prop: 'straightenShapes', onPropertyChange: false });\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        for (var i = 0, iLen = parent.objColl.length; i < iLen; i++) {\n            var currObj = parent.objColl[i];\n            if (currObj.shape === 'line' || currObj.shape === 'arrow') {\n                parent.notify('shape', { prop: 'straightenShapePoints', value: { obj: currObj, isReverse: true } });\n            }\n            else if (currObj.shape === 'path') {\n                var temp = parent.transform.straighten;\n                parent.transform.straighten = -parent.transform.straighten;\n                parent.notify('shape', { prop: 'straightenPath', onPropertyChange: false, value: { obj: currObj } });\n                parent.transform.straighten = temp;\n            }\n            currObj.imageRatio = { startX: ((currObj.activePoint.startX - destLeft) /\n                    destWidth), startY: ((currObj.activePoint.startY - destTop) / destHeight),\n                endX: ((currObj.activePoint.endX - destLeft) / destWidth),\n                endY: ((currObj.activePoint.endY - destTop) / destHeight),\n                width: destWidth / currObj.activePoint.width, height: destHeight /\n                    currObj.activePoint.height };\n            if (currObj.shape === 'path') {\n                for (var j = 0, jLen = currObj.pointColl.length; j < jLen; j++) {\n                    currObj.pointColl[j].ratioX =\n                        (currObj.pointColl[j].x - destLeft) / destWidth;\n                    currObj.pointColl[j].ratioY =\n                        (currObj.pointColl[j].y - destTop) / destHeight;\n                }\n            }\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        }\n        if (parent.freehandCounter > 0 && parent.transform.straighten !== 0) {\n            var temp = parent.transform.straighten;\n            parent.transform.straighten = -parent.transform.straighten;\n            parent.notify('shape', { prop: 'straightenFHD', onPropertyChange: false });\n            parent.transform.straighten = temp;\n        }\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            parent.points = extend([], parent.pointColl[n].points, []);\n            this.pointCounter = 0;\n            var len = parent.points.length;\n            for (var l = 0; l < len; l++) {\n                var point = parent.points[l];\n                point.ratioX = (point.x - destLeft) / destWidth;\n                point.ratioY = (point.y - destTop) / destHeight;\n            }\n        }\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            if (this.selPointColl[n]) {\n                this.selPoints = extend([], this.selPointColl[n].points, []);\n                this.pointCounter = 0;\n                var len = this.selPoints.length;\n                for (var l = 0; l < len; l++) {\n                    var point = this.selPoints[l];\n                    point.ratioX = (point.x - destLeft) / destWidth;\n                    point.ratioY = (point.y - destTop) / destHeight;\n                }\n            }\n        }\n        if (this.straightenPoint.x && this.straightenPoint.y) {\n            this.straightenPoint.ratioX = (this.straightenPoint.x - destLeft) / destWidth;\n            this.straightenPoint.ratioY = (this.straightenPoint.y - destTop) / destHeight;\n        }\n        parent.img.destLeft = destPoints.startX;\n        parent.img.destTop = destPoints.startY;\n        parent.img.destWidth = destPoints.width;\n        parent.img.destHeight = destPoints.height;\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: isPreventApply } });\n    };\n    FreehandDrawing.prototype.panFHDColl = function (xDiff, yDiff, panRegion) {\n        var parent = this.parent;\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            parent.points = extend([], parent.pointColl[n].points, []);\n            this.pointCounter = 0;\n            var len = parent.points.length;\n            for (var l = 0; l < len; l++) {\n                var point = parent.points[l];\n                if (panRegion === '' || panRegion === 'vertical') {\n                    point.x += xDiff;\n                }\n                else {\n                    point.x -= xDiff;\n                }\n                if (panRegion === '' || panRegion === 'horizontal') {\n                    point.y += yDiff;\n                }\n                else {\n                    point.y -= yDiff;\n                }\n            }\n        }\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            if (this.selPointColl[n]) {\n                this.selPoints = extend([], this.selPointColl[n].points, []);\n                this.pointCounter = 0;\n                var len = this.selPoints.length;\n                for (var l = 0; l < len; l++) {\n                    var point = this.selPoints[l];\n                    if (panRegion === '' || panRegion === 'vertical') {\n                        point.x += xDiff;\n                    }\n                    else {\n                        point.x -= xDiff;\n                    }\n                    if (panRegion === '' || panRegion === 'horizontal') {\n                        point.y += yDiff;\n                    }\n                    else {\n                        point.y -= yDiff;\n                    }\n                }\n            }\n        }\n        if (this.straightenPoint.x && this.straightenPoint.y) {\n            if (panRegion === '' || panRegion === 'vertical') {\n                this.straightenPoint.x += xDiff;\n            }\n            else {\n                this.straightenPoint.x -= xDiff;\n            }\n            if (panRegion === '' || panRegion === 'horizontal') {\n                this.straightenPoint.y += yDiff;\n            }\n            else {\n                this.straightenPoint.y -= yDiff;\n            }\n        }\n        this.freehandRedraw(this.lowerContext, null);\n    };\n    FreehandDrawing.prototype.freeHandDraw = function (value) {\n        var parent = this.parent;\n        if (value) {\n            parent.points = [];\n            this.dummyPoints = [];\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            parent.togglePen = true;\n            parent.upperCanvas.style.cursor = parent.cursor = 'crosshair';\n            parent.upperCanvas.style.display = 'block';\n            if (isNullOrUndefined(parent.activeObj.strokeSettings)) {\n                var obj = { strokeSettings: {} };\n                parent.notify('shape', { prop: 'getStrokeSettings', onPropertyChange: false,\n                    value: { obj: obj } });\n                parent.activeObj.strokeSettings = obj['strokeSettings'];\n            }\n            if (isNullOrUndefined(parent.activeObj.strokeSettings.strokeWidth)) {\n                parent.activeObj.strokeSettings.strokeWidth = 2;\n            }\n            if (parent.isMaskImage) {\n                parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n            }\n            else {\n                parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'pen',\n                        isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n            }\n        }\n        else {\n            parent.upperCanvas.style.cursor = parent.cursor = 'default';\n            var strokeWidth = this.penStrokeWidth;\n            parent.notify('shape', { prop: 'apply', onPropertyChange: false, value: { shape: null, obj: null, canvas: null } });\n            parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n            parent.notify('toolbar', { prop: 'setCurrentToolbar', value: { type: 'main' } });\n            parent.notify('selection', { prop: 'setFreehandDrawCustomized', value: { isFreehandDrawCustomized: false } });\n            this.penStrokeWidth = strokeWidth;\n        }\n    };\n    FreehandDrawing.prototype.isFHDIdx = function (index, obj) {\n        var isIndex = false;\n        for (var i = 0; i < this.parent.freehandCounter; i++) {\n            if (this.parent.pointColl[i].id &&\n                parseInt(this.parent.pointColl[i].id.split('_')[1], 10) - 1 === index) {\n                isIndex = true;\n                break;\n            }\n        }\n        if (obj) {\n            obj['isIndex'] = isIndex;\n        }\n        return isIndex;\n    };\n    FreehandDrawing.prototype.updateCropPtsForSel = function () {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            var obj = { selPointColl: extend([], this.selPointColl) };\n            if (obj['selPointColl'][n]) {\n                this.selPoints = extend([], obj['selPointColl'][n].points, []);\n                this.pointCounter = 0;\n                var len = this.selPoints.length;\n                for (var l = 0; l < len; l++) {\n                    var point = this.selPoints[l];\n                    point.ratioX = (point.x - actPoint.startX) / actPoint.width;\n                    point.ratioY = (point.y - actPoint.startY) / actPoint.height;\n                }\n            }\n        }\n    };\n    FreehandDrawing.prototype.triggerShapeChanging = function (shapeChangingArgs) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var parent = this.parent;\n        var point = parent.pointColl[this.fhdSelIdx];\n        parent.trigger('shapeChanging', shapeChangingArgs);\n        if (parent.element.getAttribute('data-value') === 'mask-drawing' && !this.isMasking) {\n            this.isMasking = true;\n            parent.upperCanvas.style.cursor = 'crosshair';\n            parent.notify('draw', { prop: 'updateTempObjColl' });\n            parent.notify('draw', { prop: 'updateTempPointColl' });\n            parent.discard();\n            parent.selectMaskImage();\n            return;\n        }\n        parent.editCompleteArgs = shapeChangingArgs;\n        if (shapeChangingArgs.currentShapeSettings.id.indexOf('pen_') === -1 &&\n            (shapeChangingArgs.action === 'draw-end' || shapeChangingArgs.action === 'select')) {\n            var id = 'pen_' + shapeChangingArgs.currentShapeSettings.id;\n            if (this.fhdSelIdx) {\n                parent.pointColl[this.fhdSelIdx].id = id;\n            }\n            else {\n                parent.pointColl[parent.freehandCounter - 1].id = id;\n            }\n        }\n        this.penStrokeWidth = shapeChangingArgs.currentShapeSettings.strokeWidth;\n        if (parent.activeObj.strokeSettings.strokeColor !== shapeChangingArgs.currentShapeSettings.strokeColor) {\n            parent.activeObj.strokeSettings.strokeColor = shapeChangingArgs.currentShapeSettings.strokeColor;\n            parent.notify('toolbar', { prop: 'update-toolbar-items', onPropertyChange: false });\n        }\n        if (this.fhdSelID && point && shapeChangingArgs.currentShapeSettings) {\n            point.strokeColor = shapeChangingArgs.currentShapeSettings.strokeColor;\n            point.strokeWidth = shapeChangingArgs.currentShapeSettings.strokeWidth;\n            point.points = shapeChangingArgs.currentShapeSettings.points;\n            point.opacity = shapeChangingArgs.currentShapeSettings.opacity;\n        }\n        if (shapeChangingArgs.action === 'select') {\n            this.freehandRedraw(this.upperContext);\n            parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'pen',\n                    isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n        }\n    };\n    FreehandDrawing.prototype.setCenterSelPoints = function () {\n        var parent = this.parent;\n        var destPoints = { startX: parent.img.destLeft, startY: parent.img.destTop,\n            width: parent.img.destWidth, height: parent.img.destHeight };\n        parent.notify('shape', { prop: 'straightenShapes', onPropertyChange: false });\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        var actPoint = parent.activeObj.activePoint;\n        if (isNullOrUndefined(this.prevStraightenObj) ||\n            (JSON.stringify(this.prevStraightenObj.activePoint) !== JSON.stringify(actPoint))) {\n            this.straightenPoint = { x: actPoint.startX + (actPoint.width / 2),\n                y: actPoint.startY + (actPoint.height / 2),\n                ratioX: (actPoint.startX + (actPoint.width / 2) - destLeft) / destWidth,\n                ratioY: (actPoint.startY + (actPoint.height / 2) - destTop) / destHeight };\n            this.prevStraightenObj = extend({}, parent.activeObj, {}, true);\n            this.straightenPointAngle = parent.transform.straighten;\n        }\n        parent.img.destLeft = destPoints.startX;\n        parent.img.destTop = destPoints.startY;\n        parent.img.destWidth = destPoints.width;\n        parent.img.destHeight = destPoints.height;\n    };\n    return FreehandDrawing;\n}());\nexport { FreehandDrawing };\n","/* eslint-disable prefer-const */\nimport { Browser, EventHandler, extend, getComponent, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ArrowheadType, ShapeType, ZoomTrigger } from '../index';\nvar Selection = /** @class */ (function () {\n    function Selection(parent) {\n        this.diffPoint = { x: 0, y: 0 }; // updates resize points\n        this.oldPoint = {};\n        this.isTouch = false;\n        this.isObjSelected = false;\n        this.isFhdPoint = false; // Specifies whether mouse cursor is on freehand drawing point or not\n        this.dragPoint = { startX: 0, startY: 0, endX: 0, endY: 0 }; // updates drag start and end points in mousedown and mousemove\n        this.isShapeInserted = false;\n        this.tempActiveObj = { activePoint: { startX: 0, startY: 0, endX: 0, endY: 0, width: 0, height: 0 },\n            flipObjColl: [], triangle: [], triangleRatio: [], order: null }; // for undo redo\n        this.isFirstMove = false; // for pinch zoom\n        this.startTouches = []; // for pinch zoom\n        this.tempTouches = []; // for pinch zoom\n        this.currMousePoint = { x: 0, y: 0 }; // To prevent mouse move event on pinch zoom\n        this.cursorTargetId = '';\n        this.isPreventDragging = false; // Shapes dragging is prevented when crop region is inside shape points\n        this.dragElement = '';\n        this.textRow = 1; // text area row count\n        this.mouseDownPoint = { x: 0, y: 0 };\n        this.previousPoint = { x: 0, y: 0 }; // updates prev x and y points in mouseMove\n        this.zoomType = 'Toolbar';\n        this.isInitialTextEdited = false;\n        this.dragCanvas = false;\n        this.isFhdCustomized = false;\n        this.touchEndPoint = {};\n        this.isFhdEditing = false; // Specifies whether freehand drawing is in editing mode or not\n        this.currentDrawingShape = '';\n        this.initialPrevObj = {};\n        this.touchTime = 0;\n        this.resizedElement = '';\n        this.isImageClarity = true;\n        this.isPinching = false;\n        this.isSliding = false;\n        this.mouseDown = '';\n        this.isSliderActive = false;\n        this.arrowShape = [ArrowheadType.None, ArrowheadType.SolidArrow];\n        this.isTouchDblClick = false;\n        this.isMouseDown = false;\n        this.isMouseUp = false;\n        this.mouseWheel = 0;\n        this.isTransformedShape = false;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Selection.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n    };\n    Selection.prototype.addEventListener = function () {\n        this.parent.on('selection', this.selection, this);\n        this.parent.on('destroyed', this.destroy, this);\n    };\n    Selection.prototype.removeEventListener = function () {\n        this.parent.off('selection', this.selection);\n        this.parent.off('destroyed', this.destroy);\n    };\n    Selection.prototype.selection = function (args) {\n        var parent = this.parent;\n        this.updatePrivateVariables();\n        switch (args.prop) {\n            case 'setCursor':\n                this.setCursor(args.value['x'], args.value['y']);\n                break;\n            case 'updateActivePoint':\n                this.updateActivePoint(args.value['x'], args.value['y'], args.value['isCropSelection']);\n                break;\n            case 'updateCursorStyles':\n                this.updateCursorStyles(args.value['x'], args.value['y'], args.value['type']);\n                break;\n            case 'setTextSelection':\n                this.setTextSelection(args.value['width'], args.value['height']);\n                break;\n            case 'setActivePoint':\n                this.setActivePoint(args.value['startX'], args.value['startY']);\n                break;\n            case 'clearSelection':\n                this.clearSelection(args.value['resetCrop']);\n                break;\n            case 'calcShapeRatio':\n                this.calcShapeRatio(args.value['x'], args.value['y'], args.value['imgWidth'], args.value['imgHeight']);\n                break;\n            case 'tab':\n                this.performTabAction();\n                break;\n            case 'setDragDirection':\n                this.setDragDirection(args.value['width'], args.value['height']);\n                break;\n            case 'clearUpperCanvas':\n                if (this.isTouch) {\n                    setTimeout(function () {\n                        parent.upperCanvas.getContext('2d').clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                    }, 550);\n                }\n                break;\n            case 'resetFreehandDrawVariables':\n                this.isFhdEditing = this.isFhdPoint = false;\n                break;\n            case 'isShapeInserted':\n                this.isShapeInserted = args.value['bool'];\n                break;\n            case 'redrawShape':\n                this.redrawShape(args.value['obj']);\n                break;\n            case 'setTextBoxStylesToActObj':\n                this.setTextBoxStylesToActObj();\n                break;\n            case 'mouseDownEventHandler':\n                this.mouseDownEventHandler(args.value['e']);\n                break;\n            case 'mouseMoveEventHandler':\n                this.mouseMoveEventHandler(args.value['e']);\n                break;\n            case 'mouseUpEventHandler':\n                this.mouseUpEventHandler(args.value['e']);\n                break;\n            case 'canvasMouseDownHandler':\n                this.canvasMouseDownHandler(args.value['e']);\n                break;\n            case 'canvasMouseMoveHandler':\n                this.canvasMouseMoveHandler(args.value['e']);\n                break;\n            case 'canvasMouseUpHandler':\n                this.canvasMouseUpHandler(args.value['e']);\n                break;\n            case 'touchStartHandler':\n                this.touchStartHandler(args.value['e']);\n                break;\n            case 'keyDownEventHandler':\n                this.keyDownEventHandler(args.value['e']);\n                break;\n            case 'handleScroll':\n                this.handleScroll(args.value['e']);\n                break;\n            case 'textKeyDown':\n                setTimeout(this.textKeyDown.bind(this), 1, args.value['e']);\n                break;\n            case 'deleteItem':\n                this.deleteItem();\n                break;\n            case 'updatePrevShapeSettings':\n                this.updatePrevShapeSettings(args.value['obj']);\n                break;\n            case 'getZoomType':\n                args.value['obj']['zoomType'] = this.zoomType;\n                break;\n            case 'setZoomType':\n                this.zoomType = args.value['zoomType'];\n                break;\n            case 'setInitialTextEdit':\n                this.isInitialTextEdited = args.value['bool'];\n                break;\n            case 'setDragCanvas':\n                this.dragCanvas = args.value['bool'];\n                break;\n            case 'setFreehandDrawCustomized':\n                this.isFhdCustomized = args.value['isFreehandDrawCustomized'];\n                break;\n            case 'setTouchEndPoint':\n                this.touchEndPoint.x = args.value['x'];\n                this.touchEndPoint.y = args.value['y'];\n                break;\n            case 'getPanDown':\n                args.value['obj']['panDown'] = this.panDown;\n                break;\n            case 'setPanDown':\n                this.panDown = args.value['panDown'];\n                break;\n            case 'getFreehandDrawEditing':\n                args.value['obj']['bool'] = this.isFhdEditing;\n                break;\n            case 'setFreehandDrawEditing':\n                this.isFhdEditing = args.value['bool'];\n                break;\n            case 'getTempActObj':\n                args.value['obj']['tempObj'] = this.tempActiveObj;\n                break;\n            case 'setTempActObj':\n                this.tempActiveObj = args.value['obj'];\n                break;\n            case 'isInside':\n                this.isInside(args.value['x'], args.value['y'], args.value['z1'], args.value['z2'], args.value['z3'], args.value['z4']);\n                break;\n            case 'setDragElement':\n                this.dragElement = args.value['value'];\n                break;\n            case 'setObjSelected':\n                this.isObjSelected = args.value['bool'];\n                break;\n            case 'adjustActObjForLineArrow':\n                this.adjustActObjForLineArrow(args.value['obj']);\n                break;\n            case 'findTarget':\n                this.findTarget(args.value['x'], args.value['y'], args.value['type']);\n                break;\n            case 'getCurrentFlipState':\n                this.getCurrentFlipState();\n                break;\n            case 'setDragWidth':\n                this.setDragWidth(args.value['width']);\n                break;\n            case 'setDragHeight':\n                this.setDragHeight(args.value['setDragHeight']);\n                break;\n            case 'annotate':\n                this.currentDrawingShape = args.value['shape'];\n                if (args.value['shape'] === 'text') {\n                    parent.activeObj.textSettings.fontSize = 11;\n                    parent.activeObj.keyHistory = 'Enter Text';\n                    parent.notify('shape', { prop: 'initializeTextShape', onPropertyChange: false,\n                        value: { text: null, fontFamily: null, fontSize: null, bold: null, italic: null, strokeColor: null } });\n                }\n                else if (args.value['shape'] === 'path') {\n                    parent.activeObj.pointColl = [];\n                }\n                break;\n            case 'getCurrentDrawingShape':\n                args.value['obj']['shape'] = this.currentDrawingShape;\n                break;\n            case 'setCurrentDrawingShape':\n                this.currentDrawingShape = args.value['value'];\n                break;\n            case 'getTransRotationPoint':\n                this.getTransRotationPoint(args.value['obj'], args.value['object']);\n                break;\n            case 'adjustNEPoints':\n                this.adjustNEPoints(args.value['rectangle'], args.value['x'], args.value['y'], args.value['angle']);\n                break;\n            case 'adjustRotationPoints':\n                this.adjustRotationPoints(args.value['rectangle'], args.value['x'], args.value['y'], args.value['angle'], args.value['type'], args.value['elem']);\n                break;\n            case 'getResizeDirection':\n                this.getResizeDirection(args.value['rectangle'], args.value['x'], args.value['y'], args.value['angle']);\n                break;\n            case 'setResizedElement':\n                this.resizedElement = args.value['value'];\n                break;\n            case 'reset':\n                this.reset();\n                break;\n            case 'unWireEvent':\n                this.unwireEvent();\n                break;\n            case 'updPtCollForShpRot':\n                this.updPtCollForShpRot(args.value['obj']);\n                break;\n            case 'findImageRatio':\n                this.findImageRatio(args.value['width'], args.value['height'], args.value['obj']);\n                break;\n            case 'getNumTextValue':\n                this.getNumTextValue(args.value['obj']);\n                break;\n            case 'setImageClarity':\n                this.isImageClarity = args.value['bool'];\n                break;\n            case 'upgradeImageQuality':\n                this.upgradeImageQuality();\n                break;\n            case 'triggerShapeChange':\n                this.triggerShapeChange(args.value['shapeResizingArgs'], args.value['shapeMovingArgs'], args.value['type']);\n                break;\n            case 'applyTransformToImg':\n                this.applyTransformToImg(args.value['ctx']);\n                break;\n            case 'findTargetObj':\n                args.value['obj']['bool'] = this.findTargetObj(args.value['x'], args.value['y'], args.value['isCrop']);\n                break;\n            case 'setSliding':\n                this.isSliding = args.value['bool'];\n                break;\n            case 'setSliderActive':\n                this.isSliderActive = args.value['bool'];\n                break;\n            case 'getArrowType':\n                args.value['obj']['type'] = this.getArrowType(args.value['type']);\n                break;\n            case 'setArrowShape':\n                if (args.value['type'] === 'initial') {\n                    this.arrowShape[0] = args.value['shape'];\n                }\n                else {\n                    this.arrowShape[1] = args.value['shape'];\n                }\n                break;\n            case 'updateNWPoints':\n                this.updateNWPoints(args.value['x'], args.value['y']);\n                break;\n            case 'updateNPoints':\n                this.updateNPoints(args.value['x'], args.value['y']);\n                break;\n            case 'updateNEPoints':\n                this.updateNEPoints(args.value['x'], args.value['y']);\n                break;\n            case 'updateWPoints':\n                this.updateWPoints(args.value['x'], args.value['y']);\n                break;\n            case 'updateEPoints':\n                this.updateEPoints(args.value['x'], args.value['y']);\n                break;\n            case 'updateSWPoints':\n                this.updateSWPoints(args.value['x'], args.value['y']);\n                break;\n            case 'updateSPoints':\n                this.updateSPoints(args.value['x'], args.value['y']);\n                break;\n            case 'updateSEPoints':\n                this.updateSEPoints(args.value['x'], args.value['y']);\n                break;\n            case 'drawMaskCircle':\n                this.drawMaskCircle(args.value['x'], args.value['y']);\n                break;\n            case 'isValueUpdated':\n                this.isValueUpdated();\n                break;\n            case 'getDistance':\n                this.getDistance(args.value['x'], args.value['y']);\n                break;\n            case 'redact':\n                this.currentDrawingShape = args.value['shape'];\n                break;\n            case 'updateTransColl':\n                args.value['obj']['coll'] = this.updateTransColl(args.value['object']);\n                break;\n            case 'getTransformedShape':\n                args.value['obj']['bool'] = this.isTransformedShape;\n                break;\n            case 'setTransformedShape':\n                this.isTransformedShape = args.value['bool'];\n                break;\n            case 'rgbToHex':\n                this.rgbToHex(args.value['r'], args.value['g'], args.value['b'], args.value['a']);\n                break;\n            case 'padLeft':\n                this.padLeft(args.value['value'], args.value['length'], args.value['padChar']);\n                break;\n            case 'setTimer':\n                this.setTimer(args.value['e']);\n                break;\n            case 'targetTouches':\n                args.value['output'] = this.targetTouches(args.value['touches']);\n                break;\n            case 'calculateScale':\n                args.value['output'] = this.calculateScale(args.value['startTouches'], args.value['endTouches']);\n                break;\n            case 'beforeSaveEvent':\n                this.beforeSaveEvent(args.value['args'], args.value['e']);\n                break;\n            case 'isKeyBoardCrop':\n                args.value['output'] = this.isKeyBoardCrop(args.value['e']);\n                break;\n            case 'focusRatioBtn':\n                this.focusRatioBtn();\n                break;\n            case 'performEnterAction':\n                this.performEnterAction(args.value['e']);\n                break;\n            case 'getImagePoints':\n                args.value['output'] = this.getImagePoints(args.value['x'], args.value['y']);\n                break;\n            case 'revertPoints':\n                this.revertPoints(args.value['actPoint'], args.value['tempActiveObj']);\n                break;\n            case 'performNWResize':\n                this.performNWResize(args.value['x'], args.value['y'], args.value['tempActiveObj'], args.value['actPoint']);\n                break;\n            case 'performSEResize':\n                this.performSEResize(args.value['x'], args.value['y'], args.value['tempActiveObj'], args.value['actPoint']);\n                break;\n            case 'isMouseOutsideImg':\n                args.value['output'] = this.isMouseOutsideImg(args.value['x'], args.value['y']);\n                break;\n        }\n    };\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    Selection.prototype.updatePrivateVariables = function () {\n        var parent = this.parent;\n        if (parent.lowerCanvas) {\n            this.lowerContext = parent.lowerCanvas.getContext('2d');\n        }\n        if (parent.upperCanvas) {\n            this.upperContext = parent.upperCanvas.getContext('2d');\n        }\n    };\n    Selection.prototype.reset = function () {\n        this.diffPoint = { x: 0, y: 0 };\n        this.oldPoint = {};\n        this.isTouch = this.isObjSelected = this.isFhdPoint = this.isShapeInserted = false;\n        this.dragPoint = { startX: 0, startY: 0, endX: 0, endY: 0 };\n        this.tempActiveObj = { activePoint: { startX: 0, startY: 0, endX: 0, endY: 0, width: 0, height: 0 },\n            flipObjColl: [], triangle: [], triangleRatio: [], order: null };\n        this.isFirstMove = false;\n        this.cursorTargetId = this.dragElement = '';\n        this.isTouchDblClick = false;\n        this.startTouches = [];\n        this.tempTouches = [];\n        this.currMousePoint = { x: 0, y: 0 };\n        this.isPreventDragging = false;\n        this.timer = undefined;\n        this.tempObjColl = undefined;\n        this.mouseWheel = 0;\n        this.textRow = 1;\n        this.mouseDownPoint = { x: 0, y: 0 };\n        this.previousPoint = { x: 0, y: 0 };\n        this.zoomType = 'Toolbar';\n        this.isInitialTextEdited = false;\n        this.dragCanvas = this.isPinching = false;\n        this.isFhdCustomized = false;\n        this.touchEndPoint = {};\n        this.panDown = null;\n        this.isSliding = false;\n        this.isFhdEditing = false;\n        this.pathAdjustedIndex = null;\n        this.touchTime = 0;\n        this.isImageClarity = true;\n        this.currentDrawingShape = '';\n        this.initialPrevObj = {};\n        this.resizedElement = '';\n        this.mouseDown = '';\n        this.isSliderActive = false;\n        this.arrowShape = [ArrowheadType.None, ArrowheadType.SolidArrow];\n        this.isMouseDown = this.isMouseUp = this.isTransformedShape = false;\n    };\n    Selection.prototype.performTabAction = function () {\n        var parent = this.parent;\n        if (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') {\n            var allowUndoRedoPush = this.applyCurrShape(false);\n            parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                value: { x: null, y: null, isMouseDown: null } });\n            if (allowUndoRedoPush) {\n                parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n            }\n        }\n        parent.isKBDNavigation = true;\n    };\n    Selection.prototype.selMouseUpEvent = function () {\n        this.oldPoint.x = undefined;\n        this.oldPoint.y = undefined;\n    };\n    Selection.prototype.getMouseCursor = function (actObj, x, y, isCropSelection, isApply) {\n        var rotationCirclePoint = this.getTransRotationPoint(actObj);\n        var radius = actObj.bottomCenterCircle.radius;\n        var cursor = 'default';\n        var ratio = isApply ? 0 : ((actObj.topLeftCircle.radius * 2));\n        if (x >= (actObj.topLeftCircle.startX - ratio) &&\n            x <= (actObj.topLeftCircle.startX + ratio) &&\n            y >= (actObj.topLeftCircle.startY - ratio) &&\n            y <= (actObj.topLeftCircle.startY + ratio)) {\n            cursor = 'nw-resize';\n        }\n        else if (x >= (actObj.topLeftCircle.startX - ratio) &&\n            x <= (actObj.topRightCircle.startX - ratio) &&\n            y >= (actObj.topCenterCircle.startY - ratio) &&\n            y <= (actObj.topCenterCircle.startY + ratio)) {\n            cursor = 'n-resize';\n        }\n        else if (x >= (actObj.topRightCircle.startX - ratio) &&\n            x <= (actObj.topRightCircle.startX + ratio) &&\n            y >= (actObj.topRightCircle.startY - ratio) &&\n            y <= (actObj.topRightCircle.startY + ratio)) {\n            cursor = 'ne-resize';\n        }\n        else if (x >= (actObj.centerLeftCircle.startX - ratio) &&\n            x <= (actObj.centerLeftCircle.startX + ratio) &&\n            y >= (actObj.topLeftCircle.startY - ratio) &&\n            y <= (actObj.bottomLeftCircle.startY - ratio)) {\n            cursor = 'w-resize';\n        }\n        else if (x >= (actObj.centerRightCircle.startX - ratio) &&\n            x <= (actObj.centerRightCircle.startX + ratio) &&\n            y >= (actObj.topRightCircle.startY - ratio) &&\n            y <= (actObj.bottomRightCircle.startY - ratio)) {\n            cursor = 'e-resize';\n        }\n        else if (x >= (actObj.bottomLeftCircle.startX - ratio) &&\n            x <= (actObj.bottomLeftCircle.startX + ratio) &&\n            y >= (actObj.bottomLeftCircle.startY - ratio) &&\n            y <= (actObj.bottomLeftCircle.startY + ratio)) {\n            cursor = 'sw-resize';\n        }\n        else if (x >= (actObj.bottomLeftCircle.startX - ratio) &&\n            x <= (actObj.bottomRightCircle.startX - ratio) &&\n            y >= (actObj.bottomCenterCircle.startY - ratio) &&\n            y <= (actObj.bottomCenterCircle.startY + ratio)) {\n            cursor = 's-resize';\n        }\n        else if (x >= (actObj.bottomRightCircle.startX - ratio) &&\n            x <= (actObj.bottomRightCircle.startX + ratio) &&\n            y >= (actObj.bottomRightCircle.startY - ratio) &&\n            y <= (actObj.bottomRightCircle.startY + ratio)) {\n            cursor = 'se-resize';\n        }\n        else if ((x >= actObj.activePoint.startX &&\n            x <= actObj.activePoint.endX) && (y >= actObj.activePoint.startY &&\n            y <= actObj.activePoint.endY)) {\n            if (isCropSelection) {\n                cursor = 'grab';\n            }\n            else {\n                cursor = 'move';\n            }\n        }\n        else if (rotationCirclePoint && !isApply &&\n            x >= (rotationCirclePoint.x - (radius + 2)) &&\n            x <= rotationCirclePoint.x + (radius + 2) &&\n            y >= rotationCirclePoint.y - (radius + 2) &&\n            y <= rotationCirclePoint.y + (radius + 2)) {\n            cursor = 'grabbing';\n        }\n        else {\n            cursor = 'default';\n        }\n        return cursor;\n    };\n    Selection.prototype.setCursor = function (x, y) {\n        var parent = this.parent;\n        parent.upperCanvas.style.cursor = parent.cursor = 'default';\n        var frameObject = { bool: null };\n        parent.notify('toolbar', { prop: 'getFrameToolbar', onPropertyChange: false, value: { obj: frameObject } });\n        if (parent.isResize || this.isSliding || frameObject['bool']) {\n            parent.upperCanvas.style.cursor = 'default';\n            return;\n        }\n        var isCropSelection = false;\n        var splitWords;\n        if (parent.activeObj.shape) {\n            splitWords = parent.activeObj.shape.split('-');\n        }\n        if ((!splitWords && parent.currObjType.isCustomCrop) || (splitWords && splitWords[0] === 'crop')) {\n            isCropSelection = true;\n        }\n        if (parent.currObjType.isDragging) {\n            if (this.dragElement === '') {\n                parent.upperCanvas.style.cursor = parent.cursor = 'move';\n            }\n            else {\n                parent.upperCanvas.style.cursor = parent.cursor = this.dragElement;\n            }\n            return;\n        }\n        if (parent.togglePen) {\n            parent.upperCanvas.style.cursor = parent.cursor = 'crosshair';\n            if (parent.isMaskImage) {\n                this.drawMaskCircle(x, y);\n                parent.upperCanvas.style.cursor = 'none';\n            }\n            return;\n        }\n        if (parent.activeObj.shape) {\n            this.setCursorForActObj(splitWords, isCropSelection, x, y);\n        }\n        if (parent.cursor === 'default' || parent.cursor === 'grab') {\n            var highestOrder = this.getHighestOrder();\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var tempShapeColl = extend([], parent.shapeColl, [], true);\n            var objColl = extend([], parent.objColl, [], true);\n            var isShape = false;\n            while (highestOrder > 0) {\n                isShape = false;\n                for (var i = tempShapeColl.length - 1; i >= 0; i--) {\n                    if (tempShapeColl[i].order === highestOrder) {\n                        isShape = true;\n                        if (tempShapeColl[i].id && tempShapeColl[i].id.indexOf('pen') > -1) {\n                            if (parent.pointColl[0] && (parent.cursor !== 'grab' || !isCropSelection)\n                                && !parent.currObjType.isDragging && !parent.currObjType.isResize) {\n                                var points = extend([], parent.points, [], true);\n                                if (!isCropSelection) {\n                                    this.setCursorForFreehandDrawing(x, y, parent.upperCanvas, tempShapeColl[i].id);\n                                }\n                                parent.points = points;\n                            }\n                        }\n                        else {\n                            parent.objColl = [];\n                            parent.objColl.push(extend({}, tempShapeColl[i], null, true));\n                            var cursor = parent.upperCanvas.style.cursor;\n                            if (parent.objColl.length > 0 && (parent.cursor !== 'grab' || !isCropSelection)) {\n                                this.setCursorFromObj(x, y, parent.objColl, parent.upperCanvas, isCropSelection);\n                            }\n                            if (cursor === 'grab' && parent.cursor === 'default') {\n                                parent.upperCanvas.style.cursor = parent.cursor = 'grab';\n                            }\n                        }\n                    }\n                    else if (isNullOrUndefined(tempShapeColl[i].order)) {\n                        isShape = true;\n                    }\n                }\n                if (parent.cursor !== 'default' && parent.cursor !== 'grab') {\n                    break;\n                }\n                else if (isShape) {\n                    var isBreak = false;\n                    while (!isBreak && highestOrder > 0) {\n                        for (var a = 0; a < tempShapeColl.length; a++) {\n                            if (tempShapeColl[a].order === highestOrder - 1) {\n                                isBreak = true;\n                                break;\n                            }\n                        }\n                        highestOrder--;\n                        if (!isBreak) {\n                            highestOrder--;\n                        }\n                    }\n                }\n            }\n            parent.objColl = objColl;\n            if (parent.cursor === 'default' || parent.cursor === 'grab') {\n                if (parent.togglePan) {\n                    parent.lowerCanvas.style.cursor = parent.upperCanvas.style.cursor = parent.cursor = 'grab';\n                }\n            }\n        }\n        if (this.currentDrawingShape !== '' && (parent.cursor === 'default' || parent.cursor === 'grab')) {\n            parent.upperCanvas.style.cursor = parent.cursor = 'crosshair';\n        }\n    };\n    Selection.prototype.getHighestOrder = function () {\n        var highestOrder = 0;\n        for (var i = 0; i < this.parent.shapeColl.length; i++) {\n            if (this.parent.shapeColl[i].order > highestOrder) {\n                highestOrder = this.parent.shapeColl[i].order;\n            }\n        }\n        return highestOrder;\n    };\n    Selection.prototype.drawMaskCircle = function (x, y) {\n        var parent = this.parent;\n        if (parent.isMaskImage) {\n            var radius = parent.activeObj.strokeSettings.strokeWidth * 2;\n            var canvasDraw = parent.maskCanvas.getContext('2d');\n            canvasDraw.clearRect(0, 0, parent.maskCanvas.width, parent.maskCanvas.height);\n            canvasDraw.fillStyle = parent.activeObj.strokeSettings.strokeColor;\n            canvasDraw.strokeStyle = '#fff';\n            canvasDraw.beginPath();\n            canvasDraw.ellipse(x, y, radius / 2, radius / 2, 0, 0, 2 * Math.PI, false);\n            canvasDraw.fill();\n            canvasDraw.stroke();\n            canvasDraw.closePath();\n            parent.maskCanvas.style.cursor = 'none';\n        }\n    };\n    Selection.prototype.setCursorForActObj = function (splitWords, isCropSelection, x, y) {\n        var parent = this.parent;\n        if (parent.activeObj.horTopLine !== undefined) {\n            if (parent.activeObj.shape !== undefined) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (splitWords === undefined && parent.currObjType.isCustomCrop) {\n                isCropSelection = true;\n            }\n            else if (splitWords !== undefined && splitWords[0] === 'crop') {\n                isCropSelection = true;\n            }\n            if (!isCropSelection && parent.togglePan) {\n                parent.lowerCanvas.style.cursor = parent.upperCanvas.style.cursor = parent.cursor = 'grab';\n            }\n            var cursor = parent.upperCanvas.style.cursor;\n            var actObj = extend({}, parent.activeObj, {}, true);\n            this.cursorTargetId = actObj.currIndex;\n            var degree = void 0;\n            if (actObj.shapeDegree === 0) {\n                degree = parent.transform.degree;\n            }\n            else {\n                degree = parent.transform.degree - actObj.shapeDegree;\n            }\n            if (degree < 0) {\n                degree = 360 + degree;\n            }\n            if (actObj.shape === 'line' || actObj.shape === 'arrow') {\n                this.setCursorForLineArrow(actObj, x, y, parent.upperCanvas);\n            }\n            else if (actObj.shape === 'path') {\n                this.setCursorForPath(actObj, x, y, parent.upperCanvas);\n            }\n            else if (!isNullOrUndefined(actObj.rotatedAngle) && actObj.rotatedAngle !== 0) {\n                this.setCursorForRotatedObject(actObj, x, y, parent.upperCanvas);\n            }\n            else {\n                parent.upperCanvas.style.cursor = parent.cursor = this.getMouseCursor(actObj, x, y, isCropSelection, false);\n                var cursorColl = ['n-resize', 's-resize', 'e-resize', 'w-resize'];\n                if ((actObj.shape === 'text') && cursorColl.indexOf(parent.cursor) > -1) {\n                    parent.upperCanvas.style.cursor = parent.cursor = 'move';\n                }\n            }\n            if (cursor === 'default' && parent.cursor === 'default' && isCropSelection) {\n                parent.upperCanvas.style.cursor = parent.cursor = 'grab';\n            }\n            if (cursor === 'grab' && parent.cursor === 'default') {\n                parent.upperCanvas.style.cursor = parent.cursor = 'grab';\n            }\n        }\n        else if (parent.togglePan && !parent.togglePen) {\n            parent.lowerCanvas.style.cursor = parent.upperCanvas.style.cursor = parent.cursor = 'grab';\n        }\n        else {\n            if (parent.currObjType.isCustomCrop || parent.togglePen) {\n                parent.upperCanvas.style.cursor = parent.cursor = 'crosshair';\n            }\n            else {\n                parent.upperCanvas.style.cursor = parent.cursor = 'default';\n            }\n        }\n    };\n    Selection.prototype.setCursorForPath = function (actObj, x, y, upperCanvas) {\n        this.setCursorForLineArrow(actObj, x, y, upperCanvas);\n        var parent = this.parent;\n        if (parent.cursor === 'default') {\n            var obj = extend({}, actObj, null, true);\n            var isMove = false;\n            for (var i = 1, len = actObj.pointColl.length; i < len; i++) {\n                if (isMove) {\n                    break;\n                }\n                obj.activePoint.startX = actObj.pointColl[i - 1].x;\n                obj.activePoint.startY = actObj.pointColl[i - 1].y;\n                obj.activePoint.endX = actObj.pointColl[i].x;\n                obj.activePoint.endY = actObj.pointColl[i].y;\n                parent.notify('shape', { prop: 'setPointCollForLineArrow', onPropertyChange: false,\n                    value: { obj: obj } });\n                var radius = actObj.topLeftCircle.radius;\n                for (var j = 0, jLen = obj.pointColl.length; j < jLen; j++) {\n                    var point = obj.pointColl[j];\n                    if (!isNullOrUndefined(point.x - (radius * 2)) &&\n                        !isNullOrUndefined(point.x + (radius * 2)) &&\n                        !isNullOrUndefined(point.y - (radius * 2)) &&\n                        !isNullOrUndefined(point.y + (radius * 2)) &&\n                        x >= (point.x - (radius * 2)) &&\n                        x <= (point.x + (radius * 2)) &&\n                        y >= (point.y - (radius * 2)) &&\n                        y <= (point.y + (radius * 2))) {\n                        upperCanvas.style.cursor = parent.cursor = 'move';\n                        isMove = true;\n                        break;\n                    }\n                    else {\n                        upperCanvas.style.cursor = parent.cursor = 'default';\n                    }\n                }\n            }\n        }\n        return parent.cursor;\n    };\n    Selection.prototype.setCursorForLineArrow = function (actObj, x, y, upperCanvas) {\n        var index;\n        var radius = actObj.topLeftCircle.radius;\n        if (isNullOrUndefined(actObj.pointColl)) {\n            return index;\n        }\n        for (var i = 0, len = actObj.pointColl.length; i < len; i++) {\n            var point = actObj.pointColl[i];\n            if (x >= (point.x - (radius * 2)) && x <= (point.x + (radius * 2)) &&\n                y >= (point.y - (radius * 2)) && y <= (point.y + (radius * 2))) {\n                upperCanvas.style.cursor = this.parent.cursor = 'move';\n                index = i;\n                break;\n            }\n            else {\n                upperCanvas.style.cursor = this.parent.cursor = 'default';\n            }\n        }\n        return index;\n    };\n    Selection.prototype.setCursorForRotatedObject = function (actObj, x, y, upperCanvas) {\n        this.resizedElement = '';\n        var parent = this.parent;\n        var radius = actObj.bottomCenterCircle.radius;\n        var horTP = actObj.horTopLinePointColl[Math.round(actObj.horTopLinePointColl.length / 2)];\n        var horTP1 = actObj.horTopLinePointColl[Math.round(actObj.horTopLinePointColl.length - 1)];\n        var verLP = actObj.verLeftLinePointColl[Math.round(actObj.verLeftLinePointColl.length / 2)];\n        var verRP = actObj.verRightLinePointColl[Math.round(actObj.verRightLinePointColl.length / 2)];\n        var horBP = actObj.horBottomLinePointColl[Math.round(actObj.horBottomLinePointColl.length / 2)];\n        var horBP1 = actObj.horBottomLinePointColl[Math.round(actObj.horBottomLinePointColl.length - 1)];\n        var rotCP = actObj.rotationCirclePointColl;\n        var horTP0 = actObj.horTopLinePointColl[0];\n        var horBP0 = actObj.horBottomLinePointColl[0];\n        if (x >= (horTP0.x - (radius + 2)) && x <= (horTP0.x + (radius + 2)) && y >= (horTP0.y - (radius + 2)) &&\n            y <= (horTP0.y + (radius + 2))) {\n            upperCanvas.style.cursor = parent.cursor = 'nw-resize';\n        }\n        else if (x >= (horTP.x - 5) && x <= (horTP.x + 5) && y >= (horTP.y - 5) && y <= (horTP.y + 5)) {\n            upperCanvas.style.cursor = parent.cursor = this.resizedElement = 'n-resize';\n        }\n        else if (x >= (horTP1.x - (radius + 2)) && x <= (horTP1.x + (radius + 2)) && y >= (horTP1.y - (radius + 2)) &&\n            y <= (horTP1.y + (radius + 2))) {\n            upperCanvas.style.cursor = parent.cursor = 'ne-resize';\n        }\n        else if (x >= (verLP.x - 5) && x <= (verLP.x + 5) && y >= (verLP.y - 5) && y <= (verLP.y + 5)) {\n            upperCanvas.style.cursor = parent.cursor = this.resizedElement = 'w-resize';\n        }\n        else if (x >= (verRP.x - 5) && x <= (verRP.x + 5) && y >= (verRP.y - 5) && y <= (verRP.y + 5)) {\n            upperCanvas.style.cursor = parent.cursor = this.resizedElement = 'e-resize';\n        }\n        else if (x >= (horBP0.x - (radius + 2)) && x <= (horBP0.x + (radius + 2)) && y >= (horBP0.y - (radius + 2)) &&\n            y <= (horBP0.y + (radius + 2))) {\n            upperCanvas.style.cursor = parent.cursor = 'sw-resize';\n        }\n        else if (x >= (horBP.x - 5) && x <= (horBP.x + 5) && y >= (horBP.y - 5) && y <= (horBP.y + 5)) {\n            upperCanvas.style.cursor = parent.cursor = this.resizedElement = 's-resize';\n        }\n        else if (x >= (horBP1.x - (radius + 2)) && x <= (horBP1.x + (radius + 2)) && y >= (horBP1.y - (radius + 2)) &&\n            y <= (horBP1.y + (radius + 2))) {\n            upperCanvas.style.cursor = parent.cursor = 'se-resize';\n        }\n        else if (rotCP && x >= (rotCP.x - (radius + 2)) && x <= rotCP.x + (radius + 2) && y >= rotCP.y - (radius + 2) &&\n            y <= rotCP.y + (radius + 2)) {\n            upperCanvas.style.cursor = parent.cursor = 'grabbing';\n        }\n        else {\n            upperCanvas.style.cursor = parent.cursor = 'default';\n            var isPointsInsideRectangle = this.getRectanglePoints(actObj.activePoint.startX, actObj.activePoint.startY, actObj.activePoint.width, actObj.activePoint.height, actObj.rotatedAngle * (180 / Math.PI), x, y);\n            if (isPointsInsideRectangle) {\n                upperCanvas.style.cursor = parent.cursor = 'move';\n            }\n        }\n        if (parent.cursor === 'default') {\n            for (var i = 0, len = actObj.horTopLinePointColl.length; i < len; i++) {\n                var horTP_1 = actObj.horTopLinePointColl[i];\n                if (x >= (horTP_1.x - 5) && x <= (horTP_1.x + 5) && y >= (horTP_1.y - 5) && y <= (horTP_1.y + 5)) {\n                    upperCanvas.style.cursor = parent.cursor = this.resizedElement = 'n-resize';\n                    break;\n                }\n            }\n        }\n        if (parent.cursor === 'default') {\n            for (var i = 0, len = actObj.horBottomLinePointColl.length; i < len; i++) {\n                var horBP_1 = actObj.horBottomLinePointColl[i];\n                if (x >= (horBP_1.x - 5) && x <= (horBP_1.x + 5) && y >= (horBP_1.y - 5) && y <= (horBP_1.y + 5)) {\n                    upperCanvas.style.cursor = parent.cursor = this.resizedElement = 's-resize';\n                    break;\n                }\n            }\n        }\n        if (parent.cursor === 'default') {\n            for (var i = 0, len = actObj.verLeftLinePointColl.length; i < len; i++) {\n                var verLP_1 = actObj.verLeftLinePointColl[i];\n                if (x >= (verLP_1.x - 5) && x <= (verLP_1.x + 5) && y >= (verLP_1.y - 5) && y <= (verLP_1.y + 5)) {\n                    upperCanvas.style.cursor = parent.cursor = this.resizedElement = 'w-resize';\n                    break;\n                }\n            }\n        }\n        if (parent.cursor === 'default') {\n            for (var i = 0, len = actObj.verRightLinePointColl.length; i < len; i++) {\n                var verRP_1 = actObj.verRightLinePointColl[i];\n                if (x >= (verRP_1.x - 5) && x <= (verRP_1.x + 5) && y >= (verRP_1.y - 5) && y <= (verRP_1.y + 5)) {\n                    upperCanvas.style.cursor = parent.cursor = this.resizedElement = 'e-resize';\n                    break;\n                }\n            }\n        }\n        this.adjustCursorStylesForRotatedState(actObj);\n        return parent.cursor;\n    };\n    Selection.prototype.adjustCursorStylesForRotatedState = function (actObj) {\n        var parent = this.parent;\n        var length = actObj.rotatedAngle * (180 / Math.PI);\n        length = length > 0 ? Math.floor(length) : Math.ceil(length);\n        if ((length >= 92 && length <= 182) || (length >= -178 && length <= -88)) {\n            var cursorMap = { 'nw-resize': 'ne-resize', 'n-resize': 's-resize',\n                'ne-resize': 'nw-resize', 'w-resize': 'e-resize', 'e-resize': 'w-resize',\n                'sw-resize': 'se-resize', 's-resize': 'n-resize', 'se-resize': 'sw-resize'\n            };\n            if (parent.cursor in cursorMap) {\n                parent.cursor = cursorMap[parent.cursor];\n            }\n        }\n        parent.upperCanvas.style.cursor = this.getResizeElement((actObj.rotatedAngle * (180 / Math.PI)), parent.cursor);\n        return parent.cursor;\n    };\n    Selection.prototype.getResizeElement = function (degree, element) {\n        var resizeMappings = [];\n        switch (element) {\n            case 'nw-resize':\n                resizeMappings = [\n                    [337.5, 22.5, 'nw-resize'], [22.5, 67.5, 'n-resize'], [67.5, 112.5, 'ne-resize'],\n                    [112.5, 157.5, 'e-resize'], [157.5, 202.5, 'se-resize'],\n                    [202.5, 247.5, 's-resize'], [247.5, 292.5, 'sw-resize'],\n                    [292.5, 337.5, 'w-resize']\n                ];\n                break;\n            case 'n-resize':\n                resizeMappings = [\n                    [337.5, 22.5, 'n-resize'], [22.5, 67.5, 'ne-resize'], [67.5, 112.5, 'e-resize'],\n                    [112.5, 157.5, 'se-resize'], [157.5, 202.5, 's-resize'], [202.5, 247.5, 'sw-resize'],\n                    [247.5, 292.5, 'w-resize'], [292.5, 337.5, 'nw-resize']\n                ];\n                break;\n            case 'ne-resize':\n                resizeMappings = [\n                    [337.5, 22.5, 'ne-resize'], [22.5, 67.5, 'e-resize'],\n                    [67.5, 112.5, 'se-resize'], [112.5, 157.5, 's-resize'], [157.5, 202.5, 'sw-resize'],\n                    [202.5, 247.5, 'w-resize'], [247.5, 292.5, 'nw-resize'], [292.5, 337.5, 'n-resize']\n                ];\n                break;\n            case 'e-resize':\n                resizeMappings = [\n                    [337.5, 22.5, 'e-resize'], [22.5, 67.5, 'se-resize'], [67.5, 112.5, 's-resize'],\n                    [112.5, 157.5, 'sw-resize'], [157.5, 202.5, 'w-resize'], [202.5, 247.5, 'nw-resize'],\n                    [247.5, 292.5, 'n-resize'], [292.5, 337.5, 'ne-resize']\n                ];\n                break;\n            case 'se-resize':\n                resizeMappings = [\n                    [337.5, 22.5, 'se-resize'], [22.5, 67.5, 's-resize'], [67.5, 112.5, 'sw-resize'],\n                    [112.5, 157.5, 'w-resize'], [157.5, 202.5, 'nw-resize'], [202.5, 247.5, 'n-resize'],\n                    [247.5, 292.5, 'ne-resize'], [292.5, 337.5, 'e-resize']\n                ];\n                break;\n            case 's-resize':\n                resizeMappings = [\n                    [337.5, 22.5, 's-resize'], [22.5, 67.5, 'sw-resize'], [67.5, 112.5, 'w-resize'],\n                    [112.5, 157.5, 'nw-resize'], [157.5, 202.5, 'n-resize'], [202.5, 247.5, 'ne-resize'],\n                    [247.5, 292.5, 'e-resize'], [292.5, 337.5, 'se-resize']\n                ];\n                break;\n            case 'sw-resize':\n                resizeMappings = [\n                    [337.5, 22.5, 'sw-resize'], [22.5, 67.5, 'w-resize'], [67.5, 112.5, 'nw-resize'],\n                    [112.5, 157.5, 'n-resize'], [157.5, 202.5, 'ne-resize'], [202.5, 247.5, 'e-resize'],\n                    [247.5, 292.5, 'se-resize'], [292.5, 337.5, 's-resize']\n                ];\n                break;\n            case 'w-resize':\n                resizeMappings = [\n                    [337.5, 22.5, 'w-resize'], [22.5, 67.5, 'nw-resize'], [67.5, 112.5, 'n-resize'],\n                    [112.5, 157.5, 'ne-resize'], [157.5, 202.5, 'e-resize'], [202.5, 247.5, 'se-resize'],\n                    [247.5, 292.5, 's-resize'], [292.5, 337.5, 'sw-resize']\n                ];\n                break;\n        }\n        var positiveDegree = degree < 0 ? 360 - Math.abs(degree) : degree;\n        for (var _i = 0, resizeMappings_1 = resizeMappings; _i < resizeMappings_1.length; _i++) {\n            var _a = resizeMappings_1[_i], startDegree = _a[0], endDegree = _a[1], resizeElement = _a[2];\n            if ((positiveDegree > startDegree && positiveDegree <= endDegree) ||\n                (positiveDegree + 360 > startDegree && positiveDegree + 360 <= endDegree)) {\n                return resizeElement;\n            }\n        }\n        return element;\n    };\n    Selection.prototype.setCursorForFreehandDrawing = function (x, y, upperCanvas, id) {\n        var upperContext = upperCanvas.getContext('2d');\n        var parent = this.parent;\n        var textArea = document.querySelector('#' + parent.element.id + '_textArea');\n        var isEntered = false;\n        parent.notify('freehand-draw', { prop: 'setFreehandDrawHoveredIndex', onPropertyChange: false,\n            value: { index: -1 } });\n        var sPoints;\n        for (var n = 0; n < parent.freehandCounter; n++) {\n            if (id && id !== parent.pointColl[n].id) {\n                continue;\n            }\n            var obj = { selPointColl: {} };\n            parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false, value: { obj: obj } });\n            sPoints = extend([], obj['selPointColl'][n].points, []);\n            parent.points = extend([], parent.pointColl[n].points, []);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var ptc = parent.pointColl[n];\n            parent.notify('freehand-draw', { prop: 'setPointCounter', onPropertyChange: false, value: { value: 0 } });\n            var len = sPoints.length;\n            for (var l = 0; l < len; l++) {\n                if (l !== 0) {\n                    var isInside = false;\n                    if (sPoints[l - 1] && sPoints[l]) {\n                        isInside = this.isInside(x, y, sPoints[l - 1].x, sPoints[l - 1].y, sPoints[l].x, sPoints[l].y);\n                    }\n                    if (isInside) {\n                        this.isFhdPoint = true;\n                        parent.notify('freehand-draw', { prop: 'setFreehandDrawHoveredIndex', onPropertyChange: false,\n                            value: { index: n } });\n                        parent.notify('freehand-draw', { prop: 'hoverFhd', onPropertyChange: false,\n                            value: { strokeColor: null, strokeWidth: null } });\n                        upperCanvas.style.cursor = parent.cursor = 'pointer';\n                        isEntered = true;\n                        break;\n                    }\n                    else if (!this.isFhdEditing || ptc.isSelected) {\n                        if (this.isFhdPoint || this.isFhdEditing) {\n                            upperContext.clearRect(0, 0, upperCanvas.width, upperCanvas.height);\n                            if (parent.activeObj.shape && textArea.style.display === 'none') {\n                                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj } });\n                            }\n                        }\n                        if (this.isFhdEditing) {\n                            var indexObj = { freehandSelectedIndex: -1 };\n                            parent.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n                            var strokeColor = parent.pointColl[indexObj['freehandSelectedIndex']].strokeColor;\n                            var strokeWidth = parent.pointColl[indexObj['freehandSelectedIndex']].strokeWidth;\n                            parent.notify('freehand-draw', { prop: 'hoverFhd', onPropertyChange: false,\n                                value: { strokeColor: strokeColor, strokeWidth: strokeWidth } });\n                        }\n                        else {\n                            parent.notify('freehand-draw', { prop: 'setFreehandDrawHoveredIndex', onPropertyChange: false,\n                                value: { index: null } });\n                        }\n                        this.isFhdPoint = false;\n                    }\n                }\n                else {\n                    var pt = parent.points[l];\n                    if (x > pt.x - ptc.strokeWidth && x < pt.x + ptc.strokeWidth && y > pt.y - ptc.strokeWidth &&\n                        y < pt.y + ptc.strokeWidth) {\n                        this.isFhdPoint = true;\n                        parent.notify('freehand-draw', { prop: 'setFreehandDrawHoveredIndex', onPropertyChange: false, value: { index: n } });\n                        parent.notify('freehand-draw', { prop: 'hoverFhd', onPropertyChange: false, value: { strokeColor: null, strokeWidth: null } });\n                        upperCanvas.style.cursor = parent.cursor = 'pointer';\n                        isEntered = true;\n                        break;\n                    }\n                    else if (!this.isFhdEditing || ptc.isSelected) {\n                        if (this.isFhdPoint || this.isFhdEditing) {\n                            upperContext.clearRect(0, 0, upperCanvas.width, upperCanvas.height);\n                            if (parent.activeObj.shape && textArea.style.display === 'none') {\n                                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj } });\n                            }\n                        }\n                        if (this.isFhdEditing) {\n                            var indexObj = { freehandSelectedIndex: -1 };\n                            parent.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n                            var strokeColor = parent.pointColl[indexObj['freehandSelectedIndex']].strokeColor;\n                            var strokeWidth = parent.pointColl[indexObj['freehandSelectedIndex']].strokeWidth;\n                            parent.notify('freehand-draw', { prop: 'hoverFhd', onPropertyChange: false,\n                                value: { strokeColor: strokeColor, strokeWidth: strokeWidth } });\n                        }\n                        this.isFhdPoint = false;\n                    }\n                }\n            }\n            if (isEntered) {\n                break;\n            }\n        }\n    };\n    Selection.prototype.setCursorFromObj = function (x, y, obj, upperCanvas, isCropSelection) {\n        var parent = this.parent;\n        for (var i = 0, len = obj.length; i < len; i++) {\n            if (parent.cursor === 'move') {\n                return;\n            }\n            var actObj = extend({}, obj[i], {}, true);\n            if (actObj.activePoint.width === 0 && actObj.activePoint.height === 0) {\n                obj.splice(i, 1);\n                return;\n            }\n            this.cursorTargetId = actObj.currIndex;\n            if (actObj.shape === 'line' || actObj.shape === 'arrow') {\n                this.setCursorForLineArrow(actObj, x, y, upperCanvas);\n            }\n            else if (actObj.shape === 'path') {\n                this.setCursorForPath(actObj, x, y, upperCanvas);\n            }\n            else if (!isNullOrUndefined(actObj.rotatedAngle) && actObj.rotatedAngle !== 0) {\n                this.setCursorForRotatedObject(actObj, x, y, upperCanvas);\n            }\n            else {\n                upperCanvas.style.cursor = parent.cursor = this.getMouseCursor(actObj, x, y, isCropSelection, true);\n            }\n        }\n    };\n    Selection.prototype.isInside = function (x, y, z1, z2, z3, z4) {\n        var x1 = Math.min(z1, z3);\n        var x2 = Math.max(z1, z3);\n        var y1 = Math.min(z2, z4);\n        var y2 = Math.max(z2, z4);\n        if ((x1 <= x && x <= x2) && (y1 <= y && y <= y2)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Selection.prototype.preventResizing = function (tempActiveObj) {\n        var parent = this.parent;\n        if (parent.activeObj.preventShapeDragOut && this.isShapeDragOut()) {\n            var actPoint = parent.activeObj.activePoint;\n            actPoint.startX = tempActiveObj.activePoint.startX;\n            actPoint.startY = tempActiveObj.activePoint.startY;\n            actPoint.endX = tempActiveObj.activePoint.endX;\n            actPoint.endY = tempActiveObj.activePoint.endY;\n            actPoint.width = tempActiveObj.activePoint.width;\n            actPoint.height = tempActiveObj.activePoint.height;\n            parent.activeObj.rotatedAngle = tempActiveObj.rotatedAngle;\n            parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false,\n                value: { actPoint: actPoint, obj: parent.activeObj, isMouseMove: null, x: null, y: null } });\n        }\n    };\n    Selection.prototype.updateActivePoint = function (x, y, isCropSelection) {\n        var parent = this.parent;\n        var obj = { width: 0, height: 0 };\n        var _a = parent.activeObj.activePoint, startX = _a.startX, startY = _a.startY;\n        var _b = parent.activeObj.activePoint, width = _b.width, height = _b.height;\n        parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n            value: { width: width, height: height, obj: obj, isImgShape: null } });\n        var previousShapeSettings = this.updatePrevShapeSettings();\n        var shapeResizingArgs = { cancel: false, action: 'resize', previousShapeSettings: previousShapeSettings, allowShapeOverflow: this.allowOutofBound() };\n        var shapeMovingArgs = { cancel: false, action: 'move', previousShapeSettings: previousShapeSettings, allowShapeOverflow: this.allowOutofBound() };\n        this.shapeResizingArgs = shapeResizingArgs;\n        this.shapeMovingArgs = shapeMovingArgs;\n        if (parent.activeObj.shape === 'text' && this.dragElement !== '') {\n            parent.notify('shape', { prop: 'updateFontRatio', onPropertyChange: false,\n                value: { obj: parent.activeObj, isTextArea: null } });\n        }\n        if (this.currentDrawingShape !== '' && (this.dragElement === '' || this.dragElement === 'move') && parent.isShapeDrawing) {\n            var shapeColl = ['line', 'arrow', 'path'];\n            if (shapeColl.indexOf(parent.activeObj.shape) > -1) {\n                this.dragElement = 'e-resize';\n            }\n            else {\n                if (x > startX && y > startY) {\n                    this.dragElement = 'se-resize';\n                }\n                else if (x < startX && y > startY) {\n                    this.dragElement = 'sw-resize';\n                }\n                else if (x > startX && y < startY) {\n                    this.dragElement = 'ne-resize';\n                }\n                else if (x < startX && y < startY) {\n                    this.dragElement = 'nw-resize';\n                }\n            }\n        }\n        if (parent.activeObj.shape === 'arrow') {\n            if (Math.atan2(x - parent.lowerCanvas.width / 2, y - parent.lowerCanvas.height / 2) > 0) {\n                parent.activeObj.rotatedAngle = -Math.atan2(x - parent.lowerCanvas.width / 2, y - parent.lowerCanvas.height / 2);\n            }\n            else {\n                parent.activeObj.rotatedAngle = Math.abs(Math.atan2(x - parent.lowerCanvas.width / 2, y - parent.lowerCanvas.height / 2));\n            }\n        }\n        var degree;\n        var isHorizontalflip = false;\n        var isVerticalflip = false;\n        if (isCropSelection && parent.transform.straighten !== 0 && this.isMouseOutsideImg(x, y)) {\n            return;\n        }\n        var tempActiveObj = extend({}, parent.activeObj, {}, true);\n        var splitWords;\n        var cropResize;\n        if (parent.activeObj.shape !== undefined) {\n            splitWords = parent.activeObj.shape.split('-');\n        }\n        if (splitWords !== undefined && splitWords[0] === 'crop') {\n            cropResize = true;\n        }\n        switch (this.dragElement.toLowerCase()) {\n            case 'nw-resize':\n                this.updateNWPoints(x, y);\n                this.preventResizing(tempActiveObj);\n                parent.notify('shape', { prop: 'updateArrowDirection', onPropertyChange: false,\n                    value: { obj: parent.activeObj, flip: null, rotatedDegree: null } });\n                this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'resize');\n                break;\n            case 'n-resize':\n                this.updateNPoints(x, y);\n                this.preventResizing(tempActiveObj);\n                parent.notify('shape', { prop: 'updateArrowDirection', onPropertyChange: false,\n                    value: { obj: parent.activeObj, flip: null, rotatedDegree: null } });\n                this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'resize');\n                break;\n            case 'ne-resize':\n                this.updateNEPoints(x, y);\n                this.preventResizing(tempActiveObj);\n                parent.notify('shape', { prop: 'updateArrowDirection', onPropertyChange: false,\n                    value: { obj: parent.activeObj, flip: null, rotatedDegree: null } });\n                this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'resize');\n                break;\n            case 'w-resize':\n                this.updateWPoints(x, y);\n                this.preventResizing(tempActiveObj);\n                parent.notify('shape', { prop: 'updateArrowDirection', onPropertyChange: false,\n                    value: { obj: parent.activeObj, flip: null, rotatedDegree: null } });\n                this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'resize');\n                break;\n            case 'e-resize':\n                this.updateEPoints(x, y);\n                this.preventResizing(tempActiveObj);\n                parent.notify('shape', { prop: 'updateArrowDirection', onPropertyChange: false,\n                    value: { obj: parent.activeObj, flip: null, rotatedDegree: null } });\n                this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'resize');\n                break;\n            case 'sw-resize':\n                this.updateSWPoints(x, y);\n                this.preventResizing(tempActiveObj);\n                parent.notify('shape', { prop: 'updateArrowDirection', onPropertyChange: false,\n                    value: { obj: parent.activeObj, flip: null, rotatedDegree: null } });\n                this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'resize');\n                break;\n            case 's-resize':\n                this.updateSPoints(x, y);\n                this.preventResizing(tempActiveObj);\n                parent.notify('shape', { prop: 'updateArrowDirection', onPropertyChange: false,\n                    value: { obj: parent.activeObj, flip: null, rotatedDegree: null } });\n                this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'resize');\n                break;\n            case 'se-resize':\n                this.updateSEPoints(x, y);\n                this.preventResizing(tempActiveObj);\n                parent.notify('shape', { prop: 'updateArrowDirection', onPropertyChange: false,\n                    value: { obj: parent.activeObj, flip: null, rotatedDegree: null } });\n                this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'resize');\n                break;\n            case 'grabbing':\n                if (Math.atan2(x - (startX + (width / 2)), y - (startY + (height / 2))) > 0) {\n                    parent.activeObj.rotatedAngle = -Math.atan2(x - (startX + (width / 2)), y - (startY + (height / 2)));\n                }\n                else {\n                    parent.activeObj.rotatedAngle = Math.abs(Math.atan2(x - (startX + (width / 2)), y - (startY + (height / 2))));\n                }\n                if (parent.activeObj.shapeDegree === 0) {\n                    degree = parent.transform.degree;\n                }\n                else {\n                    degree = parent.transform.degree - parent.activeObj.shapeDegree;\n                }\n                if (degree < 0) {\n                    degree = 360 + degree;\n                }\n                for (var i = 0, len = parent.activeObj.flipObjColl.length; i < len; i++) {\n                    if (parent.activeObj.flipObjColl[i].toLowerCase() === 'horizontal') {\n                        isHorizontalflip = true;\n                    }\n                    else if (parent.activeObj.flipObjColl[i].toLowerCase() === 'vertical') {\n                        isVerticalflip = true;\n                    }\n                }\n                parent.activeObj.rotatedAngle -= (degree * (Math.PI / 180));\n                if (degree === 0 || degree === 360) {\n                    if (isVerticalflip) {\n                        parent.activeObj.rotatedAngle -= (180 * (Math.PI / 180));\n                    }\n                }\n                else if (degree === 90 || degree === -270) {\n                    if (isHorizontalflip) {\n                        parent.activeObj.rotatedAngle -= (180 * (Math.PI / 180));\n                    }\n                }\n                else if (degree === 180 || degree === -180) {\n                    if (isVerticalflip) {\n                        parent.activeObj.rotatedAngle -= (180 * (Math.PI / 180));\n                    }\n                }\n                else if (degree === 270 || degree === -90) {\n                    if (isHorizontalflip) {\n                        parent.activeObj.rotatedAngle -= (180 * (Math.PI / 180));\n                    }\n                }\n                this.preventResizing(tempActiveObj);\n                break;\n            case 'pathdrag':\n                if (!isNullOrUndefined(this.pathAdjustedIndex)) {\n                    parent.activeObj.pointColl[this.pathAdjustedIndex].x = x;\n                    parent.activeObj.pointColl[this.pathAdjustedIndex].y = y;\n                }\n                break;\n            default:\n                if (!isCropSelection && !parent.currObjType.isCustomCrop) {\n                    var activePoint = parent.activeObj.activePoint;\n                    if (this.dragPoint.startX) {\n                        var width_1 = (this.dragPoint.endX - this.previousPoint.x);\n                        var height_1 = (this.dragPoint.endY - this.previousPoint.y);\n                        activePoint.startX += width_1;\n                        activePoint.endX += width_1;\n                        activePoint.startY += height_1;\n                        activePoint.endY += height_1;\n                        startX = activePoint.startX;\n                        startY = activePoint.startY;\n                        if (parent.activeObj.shape !== 'line' && parent.activeObj.shape !== 'arrow' &&\n                            parent.activeObj.rotationCirclePointColl) {\n                            parent.activeObj.rotationCirclePointColl.x += width_1;\n                            parent.activeObj.rotationCirclePointColl.y += height_1;\n                            parent.activeObj.rotationCirclePoint.x += width_1;\n                            parent.activeObj.rotationCirclePoint.y += height_1;\n                        }\n                        if (parent.activeObj.shape === 'path') {\n                            for (var i = 0, len = parent.activeObj.pointColl.length; i < len; i++) {\n                                parent.activeObj.pointColl[i].x += width_1;\n                                parent.activeObj.pointColl[i].y += height_1;\n                            }\n                        }\n                        if ((!this.isPreventDragging && this.isShapeDragOut()) && (parent.activeObj.preventShapeDragOut || parent.activeObj.shape === 'redact' || cropResize)) {\n                            activePoint.startX -= width_1;\n                            activePoint.endX -= width_1;\n                            activePoint.startY -= height_1;\n                            activePoint.endY -= height_1;\n                            if (parent.activeObj.shape !== 'line' && parent.activeObj.shape !== 'arrow' &&\n                                parent.activeObj.rotationCirclePointColl) {\n                                parent.activeObj.rotationCirclePointColl.x -= width_1;\n                                parent.activeObj.rotationCirclePointColl.y -= height_1;\n                                parent.activeObj.rotationCirclePoint.x -= width_1;\n                                parent.activeObj.rotationCirclePoint.y -= height_1;\n                            }\n                            else if (parent.activeObj.shape === 'path') {\n                                for (var l = 0, len = parent.activeObj.pointColl.length; l < len; l++) {\n                                    parent.activeObj.pointColl[l].x -= width_1;\n                                    parent.activeObj.pointColl[l].y -= height_1;\n                                }\n                            }\n                            if (parent.activeObj.rotatedAngle === 0) {\n                                var tempEndX = parent.activeObj.activePoint.endX;\n                                var tempEndY = parent.activeObj.activePoint.endY;\n                                if (parent.activeObj.shape === 'path') {\n                                    parent.activeObj.activePoint = parent.getSquarePointForPath(parent.activeObj);\n                                }\n                                this.setDragWidth(width_1);\n                                this.setDragHeight(height_1);\n                                var currObj = parent.activeObj;\n                                var xDiff = currObj.activePoint.endX - tempEndX;\n                                var yDiff = currObj.activePoint.endY - tempEndY;\n                                if (currObj.shape === 'path') {\n                                    for (var l = 0, len = currObj.pointColl.length; l < len; l++) {\n                                        currObj.pointColl[l].x += xDiff;\n                                        currObj.pointColl[l].y += yDiff;\n                                    }\n                                }\n                            }\n                            else {\n                                parent.notify('selection', { prop: 'updPtCollForShpRot', onPropertyChange: false, value: { obj: parent.activeObj } });\n                            }\n                        }\n                    }\n                    else {\n                        activePoint.startX = x < this.mouseDownPoint.x ? x : this.mouseDownPoint.x;\n                        activePoint.startY = y < this.mouseDownPoint.y ? y : this.mouseDownPoint.y;\n                        x = x < this.mouseDownPoint.x ? this.mouseDownPoint.x : x;\n                        y = y < this.mouseDownPoint.y ? this.mouseDownPoint.y : y;\n                        activePoint.endX = x;\n                        activePoint.endY = y;\n                    }\n                    this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'move');\n                }\n                break;\n        }\n    };\n    Selection.prototype.isShapeDragOut = function () {\n        var parent = this.parent;\n        var isShapeDragOut = false;\n        var allowPreventing = false;\n        var shape = parent.activeObj.shape;\n        if (parent.activeObj.preventShapeDragOut) {\n            allowPreventing = true;\n        }\n        else if (parent.activeObj.rotatedAngle === 0 &&\n            (shape !== 'line' && shape !== 'arrow' && shape !== 'path')) {\n            allowPreventing = true;\n        }\n        if (allowPreventing) {\n            var _a = parent.activeObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n            if (shape === 'path') {\n                var path = parent.getSquarePointForPath(parent.activeObj);\n                startX = path.startX;\n                startY = path.startY;\n                endX = path.endX;\n                endY = path.endY;\n            }\n            if (parent.activeObj.rotatedAngle === 0 || shape === 'arrow') {\n                isShapeDragOut = this.isObjOutsideImg(startX, startY, endX, endY, shape);\n            }\n            else {\n                var obj = { isIntersect: null, arr: null };\n                parent.notify('draw', { prop: 'updateImgCanvasPoints', onPropertyChange: false });\n                parent.notify('draw', { prop: 'isLinesIntersect', onPropertyChange: false, value: { obj: obj } });\n                if (obj['arr'][0] || obj['arr'][1] || obj['arr'][2] || obj['arr'][3]) {\n                    isShapeDragOut = true;\n                }\n                else {\n                    isShapeDragOut = this.isObjOutsideImg(startX, startY, endX, endY, shape);\n                }\n            }\n        }\n        return isShapeDragOut;\n    };\n    Selection.prototype.isObjOutsideImg = function (startX, startY, endX, endY, shape) {\n        var parent = this.parent;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        if (startX < destLeft || startY < destTop || endX > destLeft + destWidth ||\n            endY > destTop + destHeight || ((shape === 'line' || shape === 'arrow') &&\n            (startX > destLeft + destWidth || startY > destTop + destHeight ||\n                endX < destLeft || endY < destTop))) {\n            return true;\n        }\n        return false;\n    };\n    Selection.prototype.triggerShapeChange = function (shapeResizingArgs, shapeMovingArgs, type) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        actPoint.width = actPoint.endX - actPoint.startX;\n        actPoint.height = actPoint.endY - actPoint.startY;\n        var currentShapeSettings = this.updatePrevShapeSettings();\n        if (!isNullOrUndefined(this.shapeResizingArgs) && !isNullOrUndefined(this.shapeMovingArgs)) {\n            shapeResizingArgs.currentShapeSettings = this.shapeResizingArgs.currentShapeSettings = currentShapeSettings;\n            shapeMovingArgs.currentShapeSettings = this.shapeMovingArgs.currentShapeSettings = currentShapeSettings;\n        }\n        else {\n            shapeResizingArgs.currentShapeSettings = currentShapeSettings;\n            shapeMovingArgs.currentShapeSettings = currentShapeSettings;\n        }\n        if (type === 'resize') {\n            this.isCropSelection = false;\n            var splitWords = void 0;\n            if (parent.activeObj.shape !== undefined) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (splitWords !== undefined && splitWords[0] === 'crop') {\n                this.isCropSelection = true;\n            }\n            if (!this.isCropSelection) {\n                if (this.currentDrawingShape !== '' && parent.upperCanvas.style.cursor === 'crosshair') {\n                    shapeResizingArgs.action = 'drawing';\n                }\n                if (!parent.currObjType.isRedact || parent.activeObj.shape !== 'redact') {\n                    parent.trigger('shapeChanging', shapeResizingArgs);\n                }\n                parent.editCompleteArgs = shapeResizingArgs;\n                this.isPreventShaping = shapeResizingArgs.cancel;\n                parent.notify('shape', { prop: 'updateShapeChangeEventArgs', onPropertyChange: false, value: { shapeSettings: shapeResizingArgs.currentShapeSettings, allowShapeOverflow: shapeResizingArgs.allowShapeOverflow } });\n            }\n            else {\n                if (this.isMouseDown) {\n                    shapeResizingArgs.action = 'resize-start';\n                }\n                else if (this.isMouseUp) {\n                    shapeResizingArgs.action = 'resize-end';\n                }\n                var selectionResizingArgs = { action: shapeResizingArgs.action,\n                    previousSelectionSettings: { type: parent.getSelectionType(parent.activeObj.shape),\n                        startX: shapeResizingArgs.previousShapeSettings.startX,\n                        startY: shapeResizingArgs.previousShapeSettings.startY,\n                        width: shapeResizingArgs.previousShapeSettings.width,\n                        height: shapeResizingArgs.previousShapeSettings.height },\n                    currentSelectionSettings: { type: parent.getSelectionType(parent.activeObj.shape),\n                        startX: shapeResizingArgs.currentShapeSettings.startX,\n                        startY: shapeResizingArgs.currentShapeSettings.startY,\n                        width: shapeResizingArgs.currentShapeSettings.width,\n                        height: shapeResizingArgs.currentShapeSettings.height } };\n                this.selectionResizingArgs = selectionResizingArgs;\n                parent.trigger('selectionChanging', selectionResizingArgs);\n                parent.editCompleteArgs = selectionResizingArgs;\n                parent.notify('shape', { prop: 'updSelChangeEventArgs', onPropertyChange: false,\n                    value: { selectionSettings: selectionResizingArgs.currentSelectionSettings } });\n            }\n        }\n        else if (type === 'mouse-down' || type === 'mouse-up') {\n            if (parent.activeObj.shape !== 'redact') {\n                parent.trigger('shapeChanging', shapeResizingArgs);\n            }\n            parent.editCompleteArgs = shapeResizingArgs;\n            this.isPreventShaping = shapeResizingArgs.cancel;\n            parent.notify('shape', { prop: 'updateShapeChangeEventArgs', onPropertyChange: false,\n                value: { shapeSettings: shapeResizingArgs.currentShapeSettings, allowShapeOverflow: shapeResizingArgs.allowShapeOverflow } });\n        }\n        else {\n            if (parent.activeObj.shape !== 'redact') {\n                parent.trigger('shapeChanging', shapeMovingArgs);\n            }\n            parent.editCompleteArgs = shapeMovingArgs;\n            this.isPreventShaping = shapeMovingArgs.cancel;\n            parent.notify('shape', { prop: 'updateShapeChangeEventArgs', onPropertyChange: false,\n                value: { shapeSettings: shapeMovingArgs.currentShapeSettings, allowShapeOverflow: shapeMovingArgs.allowShapeOverflow } });\n        }\n        parent.eventType = type;\n    };\n    Selection.prototype.setDragWidth = function (width) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var _a = parent.img, destLeft = _a.destLeft, destWidth = _a.destWidth;\n        var tempWidth = width;\n        var shape = parent.activeObj.shape;\n        var preventDragOut = false;\n        if (parent.activeObj.preventShapeDragOut && (shape === 'line' || shape === 'arrow')) {\n            preventDragOut = true;\n        }\n        if (tempWidth >= 0) {\n            for (var i = 0; i < tempWidth; i++) {\n                width = tempWidth - i;\n                actPoint.startX += width;\n                actPoint.endX += width;\n                if ((actPoint.startX >= destLeft &&\n                    actPoint.endX <= destLeft + destWidth && !preventDragOut) ||\n                    (actPoint.startX >= destLeft && actPoint.endX <= destLeft + destWidth &&\n                        actPoint.endX >= destLeft && actPoint.startX <= destLeft + destWidth && preventDragOut)) {\n                    break;\n                }\n                else {\n                    actPoint.startX -= width;\n                    actPoint.endX -= width;\n                }\n            }\n        }\n        else {\n            for (var i = 1; i < Math.abs(tempWidth); i++) {\n                width = tempWidth + i;\n                actPoint.startX += width;\n                actPoint.endX += width;\n                if ((actPoint.startX >= destLeft &&\n                    actPoint.endX <= destLeft + destWidth && !preventDragOut) ||\n                    (actPoint.startX >= destLeft && actPoint.endX <= destLeft + destWidth &&\n                        actPoint.endX >= destLeft && actPoint.startX <= destLeft + destWidth && preventDragOut)) {\n                    break;\n                }\n                else {\n                    actPoint.startX -= width;\n                    actPoint.endX -= width;\n                }\n            }\n        }\n    };\n    Selection.prototype.setDragHeight = function (height) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var _a = parent.img, destTop = _a.destTop, destHeight = _a.destHeight;\n        var tempHeight = height;\n        var shape = parent.activeObj.shape;\n        var preventDragOut = false;\n        if (parent.activeObj.preventShapeDragOut && (shape === 'line' || shape === 'arrow')) {\n            preventDragOut = true;\n        }\n        if (tempHeight >= 0) {\n            for (var i = 1; i < tempHeight; i++) {\n                height = tempHeight - i;\n                actPoint.startY += height;\n                actPoint.endY += height;\n                if ((actPoint.startY >= destTop &&\n                    actPoint.endY <= destTop + destHeight && !preventDragOut) ||\n                    (actPoint.startY >= destTop && actPoint.endY <= destTop + destHeight &&\n                        actPoint.endY >= destTop && actPoint.startY <= destTop + destHeight && preventDragOut)) {\n                    break;\n                }\n                else {\n                    actPoint.startY -= height;\n                    actPoint.endY -= height;\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < Math.abs(tempHeight); i++) {\n                height = tempHeight + i;\n                actPoint.startY += height;\n                actPoint.endY += height;\n                if ((actPoint.startY >= destTop &&\n                    actPoint.endY <= destTop + destHeight && !preventDragOut) ||\n                    (actPoint.startY >= destTop && actPoint.endY <= destTop + destHeight &&\n                        actPoint.endY >= destTop && actPoint.startY <= destTop + destHeight && preventDragOut)) {\n                    break;\n                }\n                else {\n                    actPoint.startY -= height;\n                    actPoint.endY -= height;\n                }\n            }\n        }\n    };\n    Selection.prototype.limitDrag = function (isStart) {\n        var isLimiting = false;\n        var parent = this.parent;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        var actPoint = parent.activeObj.activePoint;\n        var startX = isStart ? actPoint.startX : actPoint.endX;\n        var startY = isStart ? actPoint.startY : actPoint.endY;\n        var endX = isStart ? actPoint.endX : actPoint.startX;\n        var endY = isStart ? actPoint.endY : actPoint.startY;\n        var wrapperWidth = parent.upperCanvas.width;\n        var wrapperHeight = parent.upperCanvas.height;\n        if (Browser.isDevice) {\n            if (startX < 0 && destLeft < 0) {\n                startX = 0;\n            }\n            if (startY < 0 && destTop < 0) {\n                startY = 0;\n            }\n            if (endX > wrapperWidth && destLeft + destWidth > wrapperWidth) {\n                endX = wrapperWidth;\n            }\n            if (endY > wrapperHeight && destTop + destHeight > wrapperHeight) {\n                endY = wrapperHeight;\n            }\n        }\n        else {\n            if (startX < destLeft) {\n                startX = destLeft;\n            }\n            if (startY < destTop) {\n                startY = destTop;\n            }\n            if (endX > destLeft + destWidth) {\n                endX = destLeft + destWidth;\n            }\n            if (endY > destTop + destHeight) {\n                endY = destTop + destHeight;\n            }\n        }\n        if (parent.transform.straighten !== 0) {\n            var obj = { isIntersect: null, arr: null };\n            parent.notify('draw', { prop: 'updateImgCanvasPoints', onPropertyChange: false });\n            parent.notify('draw', { prop: 'isLinesIntersect', onPropertyChange: false, value: { obj: obj } });\n            if (obj['arr'][0] || obj['arr'][1] || obj['arr'][2] || obj['arr'][3]) {\n                isLimiting = true;\n            }\n        }\n        if (isStart) {\n            actPoint.startX = startX;\n            actPoint.startY = startY;\n            actPoint.endX = endX;\n            actPoint.endY = endY;\n        }\n        else {\n            actPoint.startX = endX;\n            actPoint.startY = endY;\n            actPoint.endX = startX;\n            actPoint.endY = startY;\n        }\n        return isLimiting;\n    };\n    Selection.prototype.isMouseOutsideImg = function (x, y) {\n        var obj = { bool: false };\n        this.parent.notify('draw', { prop: 'updateImgCanvasPoints', onPropertyChange: false });\n        this.parent.notify('draw', { prop: 'isPointsInsideImg', value: { obj: obj, x: x, y: y } });\n        return obj['bool'];\n    };\n    Selection.prototype.preventDraggingInvertly = function () {\n        var isLimiting = false;\n        var parent = this.parent;\n        if (parent.activeObj.shape === 'image') {\n            return isLimiting;\n        }\n        var splitWords;\n        var cropResize;\n        if (parent.activeObj.shape !== undefined) {\n            splitWords = parent.activeObj.shape.split('-');\n        }\n        if (splitWords !== undefined && splitWords[0] === 'crop') {\n            cropResize = true;\n        }\n        if ((!this.isPreventDragging && parent.activeObj.rotatedAngle === 0) && (parent.activeObj.preventShapeDragOut || parent.activeObj.shape === 'redact' || cropResize)) {\n            isLimiting = this.limitDrag(true);\n            var shapeColl = ['line', 'arrow', 'path'];\n            if (shapeColl.indexOf(parent.activeObj.shape) > -1) {\n                isLimiting = this.limitDrag(false);\n            }\n        }\n        return isLimiting;\n    };\n    Selection.prototype.preventTextDraggingInvertly = function () {\n        var parent = this.parent;\n        var isLimiting = false;\n        var actPoint = parent.activeObj.activePoint;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        if (!this.isPreventDragging) {\n            if (actPoint.startX < destLeft ||\n                actPoint.startY < destTop ||\n                actPoint.endX > destLeft + destWidth ||\n                actPoint.endY > destTop + destHeight) {\n                isLimiting = true;\n            }\n        }\n        return isLimiting;\n    };\n    Selection.prototype.preventInverseResize = function (tempActiveObj) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        if (actPoint.width < 0) {\n            actPoint.width = 0;\n            actPoint.startX = tempActiveObj.activePoint.startX;\n            actPoint.endX = tempActiveObj.activePoint.endX;\n        }\n        if (actPoint.height < 0) {\n            actPoint.height = 0;\n            actPoint.startY = tempActiveObj.activePoint.startY;\n            actPoint.endY = tempActiveObj.activePoint.endY;\n        }\n    };\n    Selection.prototype.getScaleRatio = function (scale) {\n        var parent = this.parent;\n        var point = { x: scale, y: scale };\n        if (parent.activeObj.shape && parent.activeObj.shape !== 'crop-custom' &&\n            parent.activeObj.shape !== 'crop-circle' && parent.activeObj.shape !== 'crop-square') {\n            var ratio = parent.activeObj.shape === 'image' || parent.activeObj.shape === 'text' ?\n                this.findImageRatio(parent.activeObj.activePoint.width, parent.activeObj.activePoint.height).split('-') :\n                parent.activeObj.shape.split('-');\n            if (ratio.length > 1 || parent.activeObj.shape === 'image' || parent.activeObj.shape === 'text') {\n                ratio = parent.activeObj.shape === 'image' || parent.activeObj.shape === 'text' ? ratio[0].split(':') : ratio[1].split(':');\n                var newScale = scale / (parseInt(ratio[1], 10));\n                point.x = newScale * (parseInt(ratio[0], 10));\n                point.y = newScale * (parseInt(ratio[1], 10));\n            }\n        }\n        return point;\n    };\n    Selection.prototype.findImageRatio = function (width, height, obj) {\n        // eslint-disable-next-line @typescript-eslint/tslint/config\n        var gcd = function (a, b) {\n            if (b === 0) {\n                return a;\n            }\n            return gcd(b, a % b);\n        };\n        var divisor = gcd(width, height);\n        var ratio = width / divisor + \":\" + height / divisor;\n        if (obj) {\n            obj['ratio'] = ratio;\n        }\n        return ratio;\n    };\n    Selection.prototype.revertResizing = function (tempActiveObj) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        if (this.preventDraggingInvertly()) {\n            actPoint.startX = tempActiveObj.activePoint.startX;\n            actPoint.startY = tempActiveObj.activePoint.startY;\n            actPoint.endX = tempActiveObj.activePoint.endX;\n            actPoint.endY = tempActiveObj.activePoint.endY;\n        }\n    };\n    Selection.prototype.performSEResize = function (x, y, tempActiveObj, actPoint) {\n        var parent = this.parent;\n        this.resizeImg(x, y, 'se-resize', tempActiveObj);\n        if (actPoint.endX < actPoint.startX) {\n            var temp = actPoint.endX;\n            actPoint.endX = actPoint.startX;\n            actPoint.startX = temp;\n            this.dragElement = parent.upperCanvas.style.cursor = parent.cursor = 'sw-resize';\n        }\n        if (actPoint.endY < actPoint.startY) {\n            var temp = actPoint.endY;\n            actPoint.endY = actPoint.startY;\n            actPoint.startY = temp;\n            this.dragElement = parent.upperCanvas.style.cursor = parent.cursor = 'ne-resize';\n        }\n        this.revertCustomSelection(actPoint, tempActiveObj, 'se-resize');\n        this.revertResizing(tempActiveObj);\n    };\n    Selection.prototype.performNWResize = function (x, y, tempActiveObj, actPoint) {\n        var parent = this.parent;\n        this.resizeImg(x, y, 'nw-resize', tempActiveObj);\n        if (actPoint.startX > actPoint.endX) {\n            var temp = actPoint.startX;\n            actPoint.startX = actPoint.endX;\n            actPoint.endX = temp;\n            this.dragElement = parent.upperCanvas.style.cursor = parent.cursor = 'ne-resize';\n        }\n        if (actPoint.startY > actPoint.endY) {\n            var temp = actPoint.startY;\n            actPoint.startY = actPoint.endY;\n            actPoint.endY = temp;\n            this.dragElement = parent.upperCanvas.style.cursor = parent.cursor = 'sw-resize';\n        }\n        this.revertCustomSelection(actPoint, tempActiveObj, 'nw-resize');\n        this.revertResizing(tempActiveObj);\n    };\n    Selection.prototype.isCustomSelection = function () {\n        if (this.parent.activeObj.shape) {\n            var shapeColl = ['custom', 'circle', 'square', '2:3', '3:2', '3:4', '4:3', '4:5', '5:4', '5:7', '7:5', '9:16', '16:9'];\n            return this.parent.activeObj.shape.indexOf('crop-') > -1 && shapeColl.indexOf(this.parent.activeObj.shape.split('-')[1]) === -1;\n        }\n        return false;\n    };\n    Selection.prototype.revertCustomSelection = function (actPoint, tempActiveObj, type) {\n        var parent = this.parent;\n        if (this.isCustomSelection()) {\n            var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n            var endX = destLeft + destWidth < parent.lowerCanvas.width ?\n                destLeft + destWidth : parent.lowerCanvas.width;\n            var endY = destTop + destHeight < parent.lowerCanvas.height ?\n                destTop + destHeight : parent.lowerCanvas.height;\n            var left = destLeft > 0 ? destLeft : 0;\n            var top_1 = destTop > 0 ? destTop : 0;\n            var endY1 = destTop > 0 ? destTop : 0;\n            var endX1 = destLeft > 0 ? destLeft : 0;\n            if ((type === 'se-resize' && (actPoint.endX > endX || actPoint.endY > endY)) ||\n                (type === 'nw-resize' && (actPoint.startX < left || actPoint.startY < top_1)) ||\n                (type === 'ne-resize' && (actPoint.endX > endX || actPoint.startY < endY1)) ||\n                (type === 'sw-resize' && (actPoint.startX < endX1 || actPoint.endY > endY))) {\n                this.revertPoints(actPoint, tempActiveObj);\n            }\n        }\n    };\n    Selection.prototype.revertPoints = function (actPoint, tempActiveObj) {\n        actPoint.startX = tempActiveObj.activePoint.startX;\n        actPoint.startY = tempActiveObj.activePoint.startY;\n        actPoint.endX = tempActiveObj.activePoint.endX;\n        actPoint.endY = tempActiveObj.activePoint.endY;\n        actPoint.width = tempActiveObj.activePoint.width;\n        actPoint.height = tempActiveObj.activePoint.height;\n    };\n    Selection.prototype.updateNWPoints = function (x, y) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var width;\n        var height;\n        var scale;\n        var tempActiveObj = extend({}, parent.activeObj, null, true);\n        if (parent.activeObj.shape === 'text') {\n            this.resizeImg(x, y, 'nw-resize', tempActiveObj);\n            parent.notify('shape', { prop: 'updateFontSize', onPropertyChange: false,\n                value: { obj: parent.activeObj } });\n        }\n        else {\n            var splitWords = void 0;\n            if (parent.activeObj.shape !== undefined) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (parent.activeObj.shape === 'crop-custom' || (parent.activeObj.shape !== undefined && splitWords[0] !== 'crop')\n                || this.isCustomSelection()) {\n                if (parent.activeObj.shape === 'image' || this.isCustomSelection()) {\n                    this.resizeImg(x, y, 'nw-resize', tempActiveObj);\n                }\n                else {\n                    this.adjustNWPoints(actPoint, x, y, parent.activeObj.rotatedAngle);\n                }\n                if (actPoint.startX > actPoint.endX) {\n                    var temp = actPoint.startX;\n                    actPoint.startX = actPoint.endX;\n                    actPoint.endX = temp;\n                    this.dragElement = parent.upperCanvas.style.cursor = parent.cursor = 'ne-resize';\n                }\n                if (actPoint.startY > actPoint.endY) {\n                    var temp = actPoint.startY;\n                    actPoint.startY = actPoint.endY;\n                    actPoint.endY = temp;\n                    this.dragElement = parent.upperCanvas.style.cursor = parent.cursor = 'sw-resize';\n                }\n                this.revertCustomSelection(actPoint, tempActiveObj, 'nw-resize');\n                this.revertResizing(tempActiveObj);\n            }\n            else {\n                var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop;\n                if (actPoint.startX < x && actPoint.startY < y) {\n                    width = x - actPoint.startX;\n                    height = y - actPoint.startY;\n                    scale = Math.min(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.startX += newScale.x;\n                    actPoint.startY += newScale.y;\n                    var left = destLeft > 0 ? destLeft : 0;\n                    var top_2 = destTop > 0 ? destTop : 0;\n                    if (actPoint.startX < left || actPoint.startY < top_2) {\n                        actPoint.startX -= newScale.x;\n                        actPoint.startY -= newScale.y;\n                    }\n                }\n                else {\n                    width = actPoint.startX - x;\n                    height = y - actPoint.endY;\n                    scale = Math.max(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.startX -= newScale.x;\n                    actPoint.startY -= newScale.y;\n                    var left = destLeft > 0 ? destLeft : 0;\n                    var top_3 = destTop > 0 ? destTop : 0;\n                    if (actPoint.startX < left || actPoint.startY < top_3) {\n                        actPoint.startX += newScale.x;\n                        actPoint.startY += newScale.y;\n                    }\n                }\n                actPoint.width = actPoint.endX - actPoint.startX;\n                actPoint.height = actPoint.endY - actPoint.startY;\n                this.revertResizing(tempActiveObj);\n            }\n            actPoint.width = actPoint.endX - actPoint.startX;\n            actPoint.height = actPoint.endY - actPoint.startY;\n            this.preventInverseResize(tempActiveObj);\n        }\n    };\n    Selection.prototype.updateNPoints = function (x, y) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var width;\n        var height;\n        var scale;\n        var tempActiveObj = extend({}, parent.activeObj, null, true);\n        if (parent.activeObj.shape !== 'text') {\n            var splitWords = void 0;\n            if (parent.activeObj.shape) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (parent.activeObj.shape === 'crop-custom' || (parent.activeObj.shape && splitWords[0] !== 'crop')) {\n                if (parent.activeObj.shape !== 'line' && parent.activeObj.shape !== 'arrow' && parent.activeObj.shape !== 'path' &&\n                    parent.activeObj.rotatedAngle !== 0 && this.dragPoint.startX) {\n                    if (this.dragPoint.startX && this.dragPoint.startY) {\n                        this.previousPoint.x = this.dragPoint.endX;\n                        this.previousPoint.y = this.dragPoint.endY;\n                        this.dragPoint.endX = x;\n                        this.dragPoint.endY = y;\n                    }\n                    width = (this.dragPoint.endX - this.previousPoint.x);\n                    height = (this.dragPoint.endY - this.previousPoint.y);\n                    this.adjustRotationPoints(actPoint, width, height, parent.activeObj.rotatedAngle);\n                }\n                else {\n                    actPoint.startY = y;\n                    actPoint.height = actPoint.endY - actPoint.startY;\n                }\n                if (actPoint.startY > actPoint.endY) {\n                    var temp = actPoint.startY;\n                    actPoint.startY = actPoint.endY;\n                    actPoint.endY = temp;\n                    this.dragElement = this.resizedElement = 's-resize';\n                }\n                this.revertResizing(tempActiveObj);\n            }\n            else {\n                var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth;\n                if (this.isCustomSelection()) {\n                    this.performNWResize(x, y, tempActiveObj, actPoint);\n                }\n                else if (actPoint.endX > x && actPoint.startY < y) {\n                    width = actPoint.endX - x;\n                    height = y - actPoint.startY;\n                    scale = Math.min(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.endX -= newScale.x;\n                    actPoint.startY += newScale.y;\n                    if (actPoint.endX > (destLeft + destWidth) ||\n                        actPoint.startY < destTop) {\n                        actPoint.endX += newScale.x;\n                        actPoint.startY -= newScale.y;\n                    }\n                }\n                else {\n                    width = x - actPoint.endX;\n                    height = actPoint.startY - y;\n                    scale = Math.max(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.endX += newScale.x;\n                    actPoint.startY -= newScale.y;\n                    if (actPoint.endX > (destLeft + destWidth) ||\n                        actPoint.startY < destTop) {\n                        actPoint.endX -= newScale.x;\n                        actPoint.startY += newScale.y;\n                    }\n                }\n                actPoint.width = actPoint.endX - actPoint.startX;\n                actPoint.height = actPoint.endY - actPoint.startY;\n                this.revertResizing(tempActiveObj);\n            }\n        }\n    };\n    Selection.prototype.updateNEPoints = function (x, y) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var width;\n        var height;\n        var scale;\n        var tempActiveObj = extend({}, parent.activeObj, null, true);\n        if (parent.activeObj.shape === 'text') {\n            this.resizeImg(x, y, 'ne-resize', tempActiveObj);\n            parent.notify('shape', { prop: 'updateFontSize', onPropertyChange: false,\n                value: { obj: parent.activeObj } });\n        }\n        else {\n            var splitWords = void 0;\n            if (parent.activeObj.shape) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (parent.activeObj.shape === 'crop-custom' || (parent.activeObj.shape !== undefined && splitWords[0] !== 'crop')\n                || this.isCustomSelection()) {\n                if (parent.activeObj.shape === 'image' || this.isCustomSelection()) {\n                    this.resizeImg(x, y, 'ne-resize', tempActiveObj);\n                }\n                else {\n                    this.adjustNEPoints(actPoint, x, y, parent.activeObj.rotatedAngle);\n                }\n                if (actPoint.endX < actPoint.startX) {\n                    var temp = actPoint.endX;\n                    actPoint.endX = actPoint.startX;\n                    actPoint.startX = temp;\n                    this.dragElement = parent.upperCanvas.style.cursor = parent.cursor = 'nw-resize';\n                }\n                if (actPoint.startY > actPoint.endY) {\n                    var temp = actPoint.startY;\n                    actPoint.startY = actPoint.endY;\n                    actPoint.endY = temp;\n                    this.dragElement = parent.upperCanvas.style.cursor = parent.cursor = 'se-resize';\n                }\n                this.revertCustomSelection(actPoint, tempActiveObj, 'ne-resize');\n                this.revertResizing(tempActiveObj);\n            }\n            else {\n                var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth;\n                if (actPoint.endX > x && actPoint.startY < y) {\n                    width = actPoint.endX - x;\n                    height = y - actPoint.startY;\n                    scale = Math.min(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.endX -= newScale.x;\n                    actPoint.startY += newScale.y;\n                    var endX = destLeft + destWidth < parent.lowerCanvas.width ?\n                        destLeft + destWidth : parent.lowerCanvas.width;\n                    var endY = destTop > 0 ? destTop : 0;\n                    if (actPoint.endX > endX || actPoint.startY < endY) {\n                        actPoint.endX += newScale.x;\n                        actPoint.startY -= newScale.y;\n                    }\n                }\n                else {\n                    width = x - actPoint.endX;\n                    height = actPoint.startY - y;\n                    scale = Math.max(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.endX += newScale.x;\n                    actPoint.startY -= newScale.y;\n                    var endX = destLeft + destWidth < parent.lowerCanvas.width ?\n                        destLeft + destWidth : parent.lowerCanvas.width;\n                    var endY = destTop > 0 ? destTop : 0;\n                    if (actPoint.endX > endX || actPoint.startY < endY) {\n                        actPoint.endX -= newScale.x;\n                        actPoint.startY += newScale.y;\n                    }\n                }\n                actPoint.width = actPoint.endX - actPoint.startX;\n                actPoint.height = actPoint.endY - actPoint.startY;\n                this.revertResizing(tempActiveObj);\n            }\n            actPoint.width = actPoint.endX - actPoint.startX;\n            actPoint.height = actPoint.endY - actPoint.startY;\n            this.preventInverseResize(tempActiveObj);\n        }\n    };\n    Selection.prototype.updateWPoints = function (x, y) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var width;\n        var height;\n        var scale;\n        var tempActiveObj = extend({}, parent.activeObj, null, true);\n        if (parent.activeObj.shape !== 'text') {\n            var splitWords = void 0;\n            if (parent.activeObj.shape) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (parent.activeObj.shape === 'crop-custom' || (parent.activeObj.shape && splitWords[0] !== 'crop')) {\n                if (parent.activeObj.shape !== 'line' && parent.activeObj.shape !== 'arrow' && parent.activeObj.shape !== 'path' &&\n                    parent.activeObj.rotatedAngle !== 0 && this.dragPoint.startX) {\n                    if (this.dragPoint.startX && this.dragPoint.startY) {\n                        this.previousPoint.x = this.dragPoint.endX;\n                        this.previousPoint.y = this.dragPoint.endY;\n                        this.dragPoint.endX = x;\n                        this.dragPoint.endY = y;\n                    }\n                    width = (this.dragPoint.endX - this.previousPoint.x);\n                    height = (this.dragPoint.endY - this.previousPoint.y);\n                    this.adjustRotationPoints(actPoint, width, height, parent.activeObj.rotatedAngle);\n                }\n                else {\n                    actPoint.startX = x;\n                    actPoint.width = actPoint.endX - actPoint.startX;\n                }\n                if (parent.activeObj.shape === 'line' || parent.activeObj.shape === 'arrow' || parent.activeObj.shape === 'path') {\n                    actPoint.startY = y;\n                    actPoint.height = actPoint.endY - actPoint.startY;\n                    if (this.adjustActObjForLineArrow()) {\n                        this.dragElement = 'e-resize';\n                        if (parent.activeObj.triangleDirection === 'right') {\n                            parent.activeObj.triangleDirection = 'left';\n                        }\n                        else if (parent.activeObj.triangleDirection === 'left') {\n                            parent.activeObj.triangleDirection = 'right';\n                        }\n                    }\n                }\n                else if (actPoint.startX > actPoint.endX) {\n                    var temp = actPoint.startX;\n                    actPoint.startX = actPoint.endX;\n                    actPoint.endX = temp;\n                    this.dragElement = this.resizedElement = 'e-resize';\n                }\n                this.revertResizing(tempActiveObj);\n            }\n            else {\n                var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destHeight = _a.destHeight;\n                if (this.isCustomSelection()) {\n                    this.performNWResize(x, y, tempActiveObj, actPoint);\n                }\n                else if (actPoint.startX < x && actPoint.endY > y) {\n                    width = x - actPoint.startX;\n                    height = actPoint.endY - y;\n                    scale = Math.min(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.startX += newScale.x;\n                    actPoint.endY -= newScale.y;\n                    if (actPoint.startX < destLeft || actPoint.endY >\n                        (destTop + destHeight)) {\n                        actPoint.startX -= newScale.x;\n                        actPoint.endY += newScale.y;\n                    }\n                }\n                else {\n                    width = actPoint.startX - x;\n                    height = y - actPoint.endY;\n                    scale = Math.max(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.startX -= newScale.x;\n                    actPoint.endY += newScale.y;\n                    if (actPoint.startX < destLeft || actPoint.endY >\n                        (destTop + destHeight)) {\n                        actPoint.startX += newScale.x;\n                        actPoint.endY -= newScale.y;\n                    }\n                }\n                actPoint.width = actPoint.endX - actPoint.startX;\n                actPoint.height = actPoint.endY - actPoint.startY;\n                this.revertResizing(tempActiveObj);\n            }\n        }\n    };\n    Selection.prototype.updateEPoints = function (x, y) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var width;\n        var height;\n        var scale;\n        var tempActiveObj = extend({}, parent.activeObj, null, true);\n        if (parent.activeObj.shape !== 'text') {\n            var splitWords = void 0;\n            if (parent.activeObj.shape) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (parent.activeObj.shape === 'crop-custom' || (parent.activeObj.shape && splitWords[0] !== 'crop')) {\n                if (parent.activeObj.shape !== 'line' && parent.activeObj.shape !== 'arrow' && parent.activeObj.shape !== 'path' &&\n                    parent.activeObj.rotatedAngle !== 0 && this.dragPoint.startX) {\n                    if (this.dragPoint.startX && this.dragPoint.startY) {\n                        this.previousPoint.x = this.dragPoint.endX;\n                        this.previousPoint.y = this.dragPoint.endY;\n                        this.dragPoint.endX = x;\n                        this.dragPoint.endY = y;\n                    }\n                    width = (this.dragPoint.endX - this.previousPoint.x);\n                    height = (this.dragPoint.endY - this.previousPoint.y);\n                    this.adjustRotationPoints(actPoint, width, height, parent.activeObj.rotatedAngle);\n                }\n                else {\n                    actPoint.endX = x;\n                    actPoint.width = actPoint.endX - actPoint.startX;\n                }\n                if (parent.activeObj.shape === 'line' || parent.activeObj.shape === 'arrow' || parent.activeObj.shape === 'path') {\n                    actPoint.endY = y;\n                    actPoint.height = actPoint.endY - actPoint.startY;\n                    if (this.adjustActObjForLineArrow()) {\n                        this.dragElement = 'w-resize';\n                        if (parent.activeObj.triangleDirection === 'right') {\n                            parent.activeObj.triangleDirection = 'left';\n                        }\n                        else if (parent.activeObj.triangleDirection === 'left') {\n                            parent.activeObj.triangleDirection = 'right';\n                        }\n                    }\n                }\n                else if (actPoint.endX < actPoint.startX) {\n                    var temp = actPoint.endX;\n                    actPoint.endX = actPoint.startX;\n                    actPoint.startX = temp;\n                    this.dragElement = this.resizedElement = 'w-resize';\n                }\n                this.revertResizing(tempActiveObj);\n            }\n            else {\n                var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n                if (this.isCustomSelection()) {\n                    this.performSEResize(x, y, tempActiveObj, actPoint);\n                }\n                else if (actPoint.endX > x && actPoint.endY > y) {\n                    width = actPoint.endX - x;\n                    height = actPoint.endY - y;\n                    scale = Math.min(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.endX -= newScale.x;\n                    actPoint.endY -= newScale.y;\n                    if (actPoint.endX > (destLeft + destWidth) ||\n                        actPoint.endY > (destTop + destHeight)) {\n                        actPoint.endX += newScale.x;\n                        actPoint.endY += newScale.y;\n                    }\n                }\n                else {\n                    width = x - actPoint.endX;\n                    height = y - actPoint.endY;\n                    scale = Math.max(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.endX += newScale.x;\n                    actPoint.endY += newScale.y;\n                    if (actPoint.endX > (destLeft + destWidth) ||\n                        actPoint.endY > (destTop + destHeight)) {\n                        actPoint.endX -= newScale.x;\n                        actPoint.endY -= newScale.y;\n                    }\n                }\n                actPoint.width = actPoint.endX - actPoint.startX;\n                actPoint.height = actPoint.endY - actPoint.startY;\n                this.revertResizing(tempActiveObj);\n            }\n        }\n    };\n    Selection.prototype.updateSWPoints = function (x, y) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var width;\n        var height;\n        var scale;\n        var tempActiveObj = extend({}, parent.activeObj, null, true);\n        if (parent.activeObj.shape === 'text') {\n            this.resizeImg(x, y, 'sw-resize', tempActiveObj);\n            parent.notify('shape', { prop: 'updateFontSize', onPropertyChange: false,\n                value: { obj: parent.activeObj } });\n        }\n        else {\n            var splitWords = void 0;\n            if (parent.activeObj.shape !== undefined) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (parent.activeObj.shape === 'crop-custom' || (parent.activeObj.shape !== undefined && splitWords[0] !== 'crop')\n                || this.isCustomSelection()) {\n                if (parent.activeObj.shape === 'image' || this.isCustomSelection()) {\n                    this.resizeImg(x, y, 'sw-resize', tempActiveObj);\n                }\n                else {\n                    this.adjustSWPoints(actPoint, x, y, parent.activeObj.rotatedAngle);\n                }\n                if (actPoint.startX > actPoint.endX) {\n                    var temp = actPoint.startX;\n                    actPoint.startX = actPoint.endX;\n                    actPoint.endX = temp;\n                    this.dragElement = parent.upperCanvas.style.cursor = parent.cursor = 'se-resize';\n                }\n                if (actPoint.endY < actPoint.startY) {\n                    var temp = actPoint.endY;\n                    actPoint.endY = actPoint.startY;\n                    actPoint.startY = temp;\n                    this.dragElement = parent.upperCanvas.style.cursor = parent.cursor = 'nw-resize';\n                }\n                this.revertCustomSelection(actPoint, tempActiveObj, 'sw-resize');\n                this.revertResizing(tempActiveObj);\n            }\n            else {\n                var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destHeight = _a.destHeight;\n                if (actPoint.startX < x && actPoint.endY > y) {\n                    width = x - actPoint.startX;\n                    height = actPoint.endY - y;\n                    scale = Math.min(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.startX += newScale.x;\n                    actPoint.endY -= newScale.y;\n                    var endX = destLeft > 0 ? destLeft : 0;\n                    var endY = destTop + destHeight < parent.lowerCanvas.height ? destTop +\n                        destHeight : parent.lowerCanvas.height;\n                    if (actPoint.startX < endX || actPoint.endY > endY) {\n                        actPoint.startX -= newScale.x;\n                        actPoint.endY += newScale.y;\n                    }\n                }\n                else {\n                    width = actPoint.startX - x;\n                    height = y - actPoint.endY;\n                    scale = Math.max(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.startX -= newScale.x;\n                    actPoint.endY += newScale.y;\n                    var endX = destLeft > 0 ? destLeft : 0;\n                    var endY = destTop + destHeight < parent.lowerCanvas.height ? destTop +\n                        destHeight : parent.lowerCanvas.height;\n                    if (actPoint.startX < endX || actPoint.endY > endY) {\n                        actPoint.startX += newScale.x;\n                        actPoint.endY -= newScale.y;\n                    }\n                }\n                actPoint.width = actPoint.endX - actPoint.startX;\n                actPoint.height = actPoint.endY - actPoint.startY;\n                this.revertResizing(tempActiveObj);\n            }\n            actPoint.width = actPoint.endX - actPoint.startX;\n            actPoint.height = actPoint.endY - actPoint.startY;\n            this.preventInverseResize(tempActiveObj);\n        }\n    };\n    Selection.prototype.updateSPoints = function (x, y) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var width;\n        var height;\n        var scale;\n        var tempActiveObj = extend({}, parent.activeObj, null, true);\n        if (parent.activeObj.shape !== 'text') {\n            var splitWords = void 0;\n            if (parent.activeObj.shape) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (parent.activeObj.shape === 'crop-custom' || (parent.activeObj.shape && splitWords[0] !== 'crop')) {\n                if (parent.activeObj.shape !== 'line' && parent.activeObj.shape !== 'arrow' && parent.activeObj.shape !== 'path' &&\n                    parent.activeObj.rotatedAngle !== 0 && this.dragPoint.startX) {\n                    if (this.dragPoint.startX && this.dragPoint.startY) {\n                        this.previousPoint.x = this.dragPoint.endX;\n                        this.previousPoint.y = this.dragPoint.endY;\n                        this.dragPoint.endX = x;\n                        this.dragPoint.endY = y;\n                    }\n                    width = (this.dragPoint.endX - this.previousPoint.x);\n                    height = (this.dragPoint.endY - this.previousPoint.y);\n                    this.adjustRotationPoints(actPoint, width, height, parent.activeObj.rotatedAngle);\n                }\n                else {\n                    actPoint.endY = y;\n                    actPoint.height = actPoint.endY - actPoint.startY;\n                }\n                if (actPoint.endY < actPoint.startY) {\n                    var temp = actPoint.endY;\n                    actPoint.endY = actPoint.startY;\n                    actPoint.startY = temp;\n                    this.dragElement = this.resizedElement = 'n-resize';\n                }\n                this.revertResizing(tempActiveObj);\n            }\n            else {\n                var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n                if (this.isCustomSelection()) {\n                    this.performSEResize(x, y, tempActiveObj, actPoint);\n                }\n                else if (actPoint.endX > x && actPoint.endY > y) {\n                    width = actPoint.endX - x;\n                    height = actPoint.endY - y;\n                    scale = Math.min(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.endX -= newScale.x;\n                    actPoint.endY -= newScale.y;\n                    if (actPoint.endX > (destLeft + destWidth) ||\n                        actPoint.endY > (destTop + destHeight)) {\n                        actPoint.endX += newScale.x;\n                        actPoint.endY += newScale.y;\n                    }\n                }\n                else {\n                    width = x - actPoint.endX;\n                    height = y - actPoint.endY;\n                    scale = Math.max(width, height);\n                    var newScale = this.getScaleRatio(scale);\n                    actPoint.endX += newScale.x;\n                    actPoint.endY += newScale.x;\n                    if (actPoint.endX > (destLeft + destWidth) ||\n                        actPoint.endY > (destTop + destHeight)) {\n                        actPoint.endX -= newScale.x;\n                        actPoint.endY -= newScale.y;\n                    }\n                }\n                actPoint.width = actPoint.endX - actPoint.startX;\n                actPoint.height = actPoint.endY - actPoint.startY;\n                this.revertResizing(tempActiveObj);\n            }\n        }\n    };\n    Selection.prototype.updateSEPoints = function (x, y) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var width;\n        var height;\n        var scale;\n        var tempActiveObj = extend({}, parent.activeObj, null, true);\n        if (parent.activeObj.shape === 'text') {\n            this.resizeImg(x, y, 'se-resize', tempActiveObj);\n            parent.notify('shape', { prop: 'updateFontSize', onPropertyChange: false,\n                value: { obj: parent.activeObj } });\n        }\n        else {\n            var splitWords = void 0;\n            var newScale = void 0;\n            if (parent.activeObj.shape !== undefined) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (parent.activeObj.shape === 'crop-custom' || (parent.activeObj.shape !== undefined && splitWords[0] !== 'crop')\n                || this.isCustomSelection()) {\n                if (parent.activeObj.shape === 'image' || this.isCustomSelection()) {\n                    this.resizeImg(x, y, 'se-resize', tempActiveObj);\n                }\n                else {\n                    this.adjustSEPoints(actPoint, x, y, parent.activeObj.rotatedAngle);\n                }\n                if (actPoint.endX < actPoint.startX) {\n                    var temp = actPoint.endX;\n                    actPoint.endX = actPoint.startX;\n                    actPoint.startX = temp;\n                    this.dragElement = parent.upperCanvas.style.cursor = parent.cursor = 'sw-resize';\n                }\n                if (actPoint.endY < actPoint.startY) {\n                    var temp = actPoint.endY;\n                    actPoint.endY = actPoint.startY;\n                    actPoint.startY = temp;\n                    this.dragElement = parent.upperCanvas.style.cursor = parent.cursor = 'ne-resize';\n                }\n                this.revertCustomSelection(actPoint, tempActiveObj, 'se-resize');\n                this.revertResizing(tempActiveObj);\n            }\n            else {\n                var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n                if (actPoint.endX > x && actPoint.endY > y) {\n                    width = actPoint.endX - x;\n                    height = actPoint.endY - y;\n                    scale = Math.min(width, height);\n                    newScale = this.getScaleRatio(scale);\n                    actPoint.endX -= newScale.x;\n                    actPoint.endY -= newScale.y;\n                    var endX = destLeft + destWidth < parent.lowerCanvas.width ?\n                        destLeft + destWidth : parent.lowerCanvas.width;\n                    var endY = destTop + destHeight < parent.lowerCanvas.height ?\n                        destTop + destHeight : parent.lowerCanvas.height;\n                    if (actPoint.endX > endX || actPoint.endY > endY) {\n                        actPoint.endX += newScale.x;\n                        actPoint.endY += newScale.y;\n                    }\n                }\n                else {\n                    width = x - actPoint.endX;\n                    height = y - actPoint.endY;\n                    scale = Math.max(width, height);\n                    newScale = this.getScaleRatio(scale);\n                    actPoint.endX += newScale.x;\n                    actPoint.endY += newScale.y;\n                    var endX = destLeft + destWidth < parent.lowerCanvas.width ? destLeft +\n                        destWidth : parent.lowerCanvas.width;\n                    var endY = destTop + destHeight < parent.lowerCanvas.height ? destTop +\n                        destHeight : parent.lowerCanvas.height;\n                    if (actPoint.endX > endX || actPoint.endY > endY) {\n                        actPoint.endX -= newScale.x;\n                        actPoint.endY -= newScale.y;\n                    }\n                }\n                actPoint.width = actPoint.endX - actPoint.startX;\n                actPoint.height = actPoint.endY - actPoint.startY;\n                this.revertResizing(tempActiveObj);\n            }\n            this.preventInverseResize(tempActiveObj);\n        }\n    };\n    Selection.prototype.resizeImg = function (x, y, elem, tempActiveObj) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var width;\n        var height;\n        var scale;\n        var newScale;\n        if (this.previousPoint.x !== 0 && this.previousPoint.y !== 0) {\n            if (this.currentDrawingShape === 'text') {\n                this.setCursor(x, y);\n                if (parent.activeObj.textSettings.fontSize === 0) {\n                    parent.activeObj.textSettings.fontSize = 11;\n                    parent.notify('shape', { prop: 'updateFontRatio', onPropertyChange: false,\n                        value: { obj: parent.activeObj, isTextArea: null } });\n                    parent.activeObj.textSettings.text = parent.activeObj.keyHistory = 'Enter Text';\n                    parent.notify('shape', { prop: 'updateFontStyles', onPropertyChange: false,\n                        value: { isTextBox: null } });\n                    var width_2 = this.upperContext.measureText(parent.activeObj.textSettings.text).width +\n                        parent.activeObj.textSettings.fontSize * 0.5;\n                    actPoint.endX = actPoint.startX + width_2;\n                    actPoint.endY = actPoint.startY + parent.activeObj.textSettings.fontSize;\n                    actPoint.width = actPoint.endX - actPoint.startX;\n                    actPoint.height = actPoint.endY - actPoint.startY;\n                    tempActiveObj = extend({}, parent.activeObj, null, true);\n                    parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: parent.activeObj.activePoint, obj: parent.activeObj,\n                            isMouseMove: null, x: null, y: null } });\n                }\n            }\n            switch (parent.upperCanvas.style.cursor) {\n                case 'se-resize':\n                case 's-resize':\n                    if (this.previousPoint.x > x || this.previousPoint.y > y) {\n                        width = (this.previousPoint.x - x);\n                        height = (this.previousPoint.y - y);\n                        scale = (width + height) / 2;\n                        newScale = this.getScaleRatio(scale);\n                        this.adjustRotationPoints(actPoint, -Math.abs(newScale.x), -Math.abs(newScale.y), parent.activeObj.rotatedAngle, 'img-resize', elem);\n                    }\n                    else if (this.previousPoint.x !== 0 && this.previousPoint.y !== 0) {\n                        width = (x - this.previousPoint.x);\n                        height = (y - this.previousPoint.y);\n                        scale = (width + height) / 2;\n                        newScale = this.getScaleRatio(scale);\n                        this.adjustRotationPoints(actPoint, Math.abs(newScale.x), Math.abs(newScale.y), parent.activeObj.rotatedAngle, 'img-resize', elem);\n                    }\n                    break;\n                case 'sw-resize':\n                    if (this.previousPoint.x < x || this.previousPoint.y > y) {\n                        width = (x - this.previousPoint.x);\n                        height = (this.previousPoint.y - y);\n                        scale = (width + height) / 2;\n                        newScale = this.getScaleRatio(scale);\n                        this.adjustRotationPoints(actPoint, -Math.abs(newScale.x), -Math.abs(newScale.y), parent.activeObj.rotatedAngle, 'img-resize', elem);\n                    }\n                    else if (this.previousPoint.x !== 0 && this.previousPoint.y !== 0) {\n                        width = (this.previousPoint.x - x);\n                        height = (y - this.previousPoint.y);\n                        scale = (width + height) / 2;\n                        newScale = this.getScaleRatio(scale);\n                        this.adjustRotationPoints(actPoint, Math.abs(newScale.x), Math.abs(newScale.y), parent.activeObj.rotatedAngle, 'img-resize', elem);\n                    }\n                    break;\n                case 'w-resize':\n                case 'nw-resize':\n                    if (this.previousPoint.x < x || this.previousPoint.y < y) {\n                        width = (x - this.previousPoint.x);\n                        height = (y - this.previousPoint.y);\n                        scale = (width + height) / 2;\n                        newScale = this.getScaleRatio(scale);\n                        this.adjustRotationPoints(actPoint, -Math.abs(newScale.x), -Math.abs(newScale.y), parent.activeObj.rotatedAngle, 'img-resize', elem);\n                    }\n                    else if (this.previousPoint.x !== 0 && this.previousPoint.y !== 0) {\n                        width = (this.previousPoint.x - x);\n                        height = (this.previousPoint.y - y);\n                        scale = (width + height) / 2;\n                        newScale = this.getScaleRatio(scale);\n                        this.adjustRotationPoints(actPoint, Math.abs(newScale.x), Math.abs(newScale.y), parent.activeObj.rotatedAngle, 'img-resize', elem);\n                    }\n                    break;\n                case 'n-resize':\n                case 'ne-resize':\n                    if (this.previousPoint.x > x || this.previousPoint.y < y) {\n                        width = (this.previousPoint.x - x);\n                        height = (y - this.previousPoint.y);\n                        scale = (width + height) / 2;\n                        newScale = this.getScaleRatio(scale);\n                        this.adjustRotationPoints(actPoint, -Math.abs(newScale.x), -Math.abs(newScale.y), parent.activeObj.rotatedAngle, 'img-resize', elem);\n                    }\n                    else if (this.previousPoint.x !== 0 && this.previousPoint.y !== 0) {\n                        width = (x - this.previousPoint.x);\n                        height = (this.previousPoint.y - y);\n                        scale = (width + height) / 2;\n                        newScale = this.getScaleRatio(scale);\n                        this.adjustRotationPoints(actPoint, Math.abs(newScale.x), Math.abs(newScale.y), parent.activeObj.rotatedAngle, 'img-resize', elem);\n                    }\n                    break;\n                case 'e-resize':\n                    if (this.previousPoint.x > x || this.previousPoint.y > y) {\n                        width = (this.previousPoint.x - x);\n                        height = (this.previousPoint.y - y);\n                        scale = (width + height) / 2;\n                        newScale = this.getScaleRatio(scale);\n                        this.adjustRotationPoints(actPoint, -Math.abs(newScale.x), -Math.abs(newScale.y), parent.activeObj.rotatedAngle, 'img-resize', elem);\n                    }\n                    else if (this.previousPoint.x !== 0 && this.previousPoint.y !== 0) {\n                        width = (x - this.previousPoint.x);\n                        height = (y - this.previousPoint.y);\n                        scale = (width + height) / 2;\n                        newScale = this.getScaleRatio(scale);\n                        this.adjustRotationPoints(actPoint, Math.abs(newScale.x), Math.abs(newScale.y), parent.activeObj.rotatedAngle, 'img-resize', elem);\n                    }\n                    break;\n            }\n            actPoint.width = actPoint.endX - actPoint.startX;\n            actPoint.height = actPoint.endY - actPoint.startY;\n            if ((actPoint.width < 10 || actPoint.height < 10) ||\n                (parent.activeObj.shape === 'text' && parent.activeObj.rotatedAngle === 0 && this.preventTextDraggingInvertly())) {\n                parent.activeObj = extend({}, tempActiveObj, null, true);\n            }\n        }\n        this.previousPoint = { x: x, y: y };\n    };\n    Selection.prototype.adjustNWPoints = function (rectangle, x, y, angle) {\n        var cx = rectangle.startX + rectangle.width / 2;\n        var cy = rectangle.startY + rectangle.height / 2;\n        var rotatedC = this.rotatePoints(rectangle.endX, rectangle.endY, cx, cy, angle);\n        var newCenter = [(rotatedC[0] + x) / 2, (rotatedC[1] + y) / 2];\n        var newBottomRight = this.rotatePoints(rotatedC[0], rotatedC[1], newCenter[0], newCenter[1], -angle);\n        var newTopLeft = this.rotatePoints(x, y, newCenter[0], newCenter[1], -angle);\n        rectangle.endX = newBottomRight[0];\n        rectangle.endY = newBottomRight[1];\n        rectangle.startY = newTopLeft[1];\n        rectangle.startX = newTopLeft[0];\n        rectangle.width = rectangle.endX - rectangle.startX;\n        rectangle.height = rectangle.endY - rectangle.startY;\n        return rectangle;\n    };\n    Selection.prototype.adjustNEPoints = function (rectangle, x, y, angle) {\n        var cx = rectangle.startX + rectangle.width / 2;\n        var cy = rectangle.startY + rectangle.height / 2;\n        var rotatedD = this.rotatePoints(rectangle.startX, rectangle.endY, cx, cy, angle);\n        var newCenter = [(rotatedD[0] + x) / 2, (rotatedD[1] + y) / 2];\n        var newBottomLeft = this.rotatePoints(rotatedD[0], rotatedD[1], newCenter[0], newCenter[1], -angle);\n        var newTopRight = this.rotatePoints(x, y, newCenter[0], newCenter[1], -angle);\n        rectangle.startX = newBottomLeft[0];\n        rectangle.endY = newBottomLeft[1];\n        rectangle.width = newTopRight[0] - newBottomLeft[0];\n        rectangle.height = newBottomLeft[1] - newTopRight[1];\n        rectangle.endX = rectangle.startX + rectangle.width;\n        rectangle.startY = rectangle.endY - rectangle.height;\n        return rectangle;\n    };\n    Selection.prototype.adjustSWPoints = function (rectangle, x, y, angle) {\n        var cx = rectangle.startX + rectangle.width / 2;\n        var cy = rectangle.startY + rectangle.height / 2;\n        var rotatedB = this.rotatePoints(rectangle.endX, rectangle.startY, cx, cy, angle);\n        var newCenter = [(rotatedB[0] + x) / 2, (rotatedB[1] + y) / 2];\n        var newTopRight = this.rotatePoints(rotatedB[0], rotatedB[1], newCenter[0], newCenter[1], -angle);\n        var newBottomLeft = this.rotatePoints(x, y, newCenter[0], newCenter[1], -angle);\n        rectangle.endX = newTopRight[0];\n        rectangle.startY = newTopRight[1];\n        rectangle.startX = newBottomLeft[0];\n        rectangle.endY = newBottomLeft[1];\n        rectangle.width = rectangle.endX - rectangle.startX;\n        rectangle.height = rectangle.endY - rectangle.startY;\n        return rectangle;\n    };\n    Selection.prototype.adjustSEPoints = function (rectangle, x, y, angle) {\n        var cx = rectangle.startX + rectangle.width / 2;\n        var cy = rectangle.startY + rectangle.height / 2;\n        var rotatedA = this.rotatePoints(rectangle.startX, rectangle.startY, cx, cy, angle);\n        var newCenter = [(rotatedA[0] + x) / 2, (rotatedA[1] + y) / 2];\n        var newTopLeft = this.rotatePoints(rotatedA[0], rotatedA[1], newCenter[0], newCenter[1], -angle);\n        var newBottomRight = this.rotatePoints(x, y, newCenter[0], newCenter[1], -angle);\n        rectangle.startX = newTopLeft[0];\n        rectangle.startY = newTopLeft[1];\n        rectangle.width = newBottomRight[0] - newTopLeft[0];\n        rectangle.height = newBottomRight[1] - newTopLeft[1];\n        rectangle.endX = rectangle.startX + rectangle.width;\n        rectangle.endY = rectangle.startY + rectangle.height;\n        return rectangle;\n    };\n    Selection.prototype.adjustRotationPoints = function (rectangle, x, y, angle, type, elem) {\n        var cx = rectangle.startX + rectangle.width / 2;\n        var cy = rectangle.startY + rectangle.height / 2;\n        this.getResizeDirection(rectangle, x, y, angle, type, elem);\n        var rotatedA = this.rotatePoints(rectangle.startX, rectangle.startY, cx, cy, angle);\n        var rotatedB = this.rotatePoints(rectangle.endX, rectangle.startY, cx, cy, angle);\n        var rotatedC = this.rotatePoints(rectangle.endX, rectangle.endY, cx, cy, angle);\n        var rotatedD = this.rotatePoints(rectangle.startX, rectangle.endY, cx, cy, angle);\n        var newCenter = [(rotatedA[0] + rotatedC[0]) / 2, (rotatedA[1] + rotatedC[1]) / 2];\n        var newTopLeft = this.rotatePoints(rotatedA[0], rotatedA[1], newCenter[0], newCenter[1], -angle);\n        var newBottomLeft = this.rotatePoints(rotatedD[0], rotatedD[1], newCenter[0], newCenter[1], -angle);\n        var newTopRight = this.rotatePoints(rotatedB[0], rotatedB[1], newCenter[0], newCenter[1], -angle);\n        rectangle.startX = newTopLeft[0];\n        rectangle.startY = newTopLeft[1];\n        rectangle.endX = newTopRight[0];\n        rectangle.endY = newBottomLeft[1];\n        rectangle.width = rectangle.endX - rectangle.startX;\n        rectangle.height = rectangle.endY - rectangle.startY;\n        return rectangle;\n    };\n    Selection.prototype.rotatePoints = function (x, y, cx, cy, angle) {\n        return [\n            (x - cx) * Math.cos(angle) - (y - cy) * Math.sin(angle) + cx,\n            (x - cx) * Math.sin(angle) + (y - cy) * Math.cos(angle) + cy\n        ];\n    };\n    Selection.prototype.setResizedValue = function (element, value, x, y) {\n        switch (element) {\n            case 'x':\n                value += x;\n                break;\n            case 'y':\n                value += y;\n                break;\n            case 'abs-x':\n                value += (x > 0 ? -x : Math.abs(x));\n                break;\n            case 'abs-y':\n                value += (y > 0 ? -y : Math.abs(y));\n                break;\n            case 'y-abs-x':\n                value += (y + ((x > 0 ? -x : Math.abs(x)) / 2));\n                break;\n            case 'abs-x-abs-y':\n                value += ((x > 0 ? -x : Math.abs(x)) + ((y > 0 ? -y : Math.abs(y)) / 2));\n                break;\n            case 'abs-y-x':\n                value += ((y > 0 ? -y : Math.abs(y)) + (x / 2));\n                break;\n            case 'x-y':\n                value += (x + (y / 2));\n                break;\n            case 'y-x':\n                value += (y + (x / 2));\n                break;\n            case 'img-resize-x':\n                value += x;\n                break;\n            case 'img-resize-y':\n                value += y;\n                break;\n        }\n        return value;\n    };\n    Selection.prototype.getResizeDirection = function (rectangle, x, y, angle, type, elem) {\n        var rotatedAngle = angle * (180 / Math.PI);\n        var element = this.getResizedElement(rotatedAngle, this.resizedElement);\n        if (this.resizedElement === 'e-resize') {\n            rectangle.width = this.setResizedValue(element, rectangle.width, x, y);\n            rectangle.endX = rectangle.width + rectangle.startX;\n        }\n        else if (this.resizedElement === 'n-resize') {\n            rectangle.startY = this.setResizedValue(element, rectangle.startY, x, y);\n            rectangle.height = rectangle.endY - rectangle.startY;\n        }\n        else if (this.resizedElement === 'w-resize') {\n            rectangle.startX = this.setResizedValue(element, rectangle.startX, x, y);\n            rectangle.width = rectangle.startX + rectangle.endX;\n        }\n        else if (this.resizedElement === 's-resize') {\n            rectangle.height = this.setResizedValue(element, rectangle.height, x, y);\n            rectangle.endY = rectangle.height + rectangle.startY;\n        }\n        else if (type && type === 'img-resize') {\n            rectangle.width = this.setResizedValue('img-resize-x', rectangle.width, x, y);\n            rectangle.height = this.setResizedValue('img-resize-y', rectangle.height, x, y);\n            if (elem === 'se-resize') {\n                rectangle.endX = rectangle.width + rectangle.startX;\n                rectangle.endY = rectangle.height + rectangle.startY;\n            }\n            else if (elem === 'sw-resize') {\n                rectangle.startX = rectangle.endX - rectangle.width;\n                rectangle.endY = rectangle.height + rectangle.startY;\n            }\n            else if (elem === 'ne-resize') {\n                rectangle.endX = rectangle.width + rectangle.startX;\n                rectangle.startY = rectangle.endY - rectangle.height;\n            }\n            else if (elem === 'nw-resize') {\n                rectangle.startX = rectangle.endX - rectangle.width;\n                rectangle.startY = rectangle.endY - rectangle.height;\n            }\n        }\n        else if (type && type === 'text') {\n            if (elem === 'widthHeight') {\n                rectangle.width = this.setResizedValue('x-y', rectangle.width, x, y);\n                rectangle.endX = rectangle.width + rectangle.startX;\n                rectangle.height = this.setResizedValue('y-x', rectangle.height, x, y);\n                rectangle.endY = rectangle.height + rectangle.startY;\n            }\n            else if (elem === 'width') {\n                rectangle.width = this.setResizedValue('x-y', rectangle.width, x, y);\n                rectangle.endX = rectangle.width + rectangle.startX;\n            }\n            else if (elem === 'height') {\n                rectangle.height = this.setResizedValue('y-abs-x', rectangle.height, x, y);\n                rectangle.endY = rectangle.height + rectangle.startY;\n            }\n        }\n    };\n    Selection.prototype.getResizedElement = function (degree, element) {\n        var resizeMappings = [];\n        if (element === 'n-resize') {\n            resizeMappings = [\n                [337.5, 360, 'y'],\n                [0, 22.5, 'y'],\n                [22.5, 67.5, 'y-abs-x'],\n                [67.5, 112.5, 'abs-x'],\n                [112.5, 157.5, 'abs-x-abs-y'],\n                [157.5, 202.5, 'abs-y'],\n                [202.5, 247.5, 'abs-y-x'],\n                [247.5, 292.5, 'x'],\n                [292.5, 337.5, 'x-y']\n            ];\n        }\n        else if (element === 'e-resize') {\n            resizeMappings = [\n                [337.5, 360, 'x'],\n                [0, 22.5, 'x'],\n                [22.5, 67.5, 'x-y'],\n                [67.5, 112.5, 'y'],\n                [112.5, 157.5, 'y-abs-x'],\n                [157.5, 202.5, 'abs-x'],\n                [202.5, 247.5, 'abs-x-abs-y'],\n                [247.5, 292.5, 'abs-y'],\n                [292.5, 337.5, 'abs-y-x']\n            ];\n        }\n        else if (element === 's-resize') {\n            resizeMappings = [\n                [337.5, 360, 'y'],\n                [0, 22.5, 'y'],\n                [22.5, 67.5, 'y-abs-x'],\n                [67.5, 112.5, 'abs-x'],\n                [112.5, 157.5, 'abs-x-abs-y'],\n                [157.5, 202.5, 'abs-y'],\n                [202.5, 247.5, 'abs-y-x'],\n                [247.5, 292.5, 'x'],\n                [292.5, 337.5, 'x-y']\n            ];\n        }\n        else if (element === 'w-resize') {\n            resizeMappings = [\n                [337.5, 360, 'x'],\n                [0, 22.5, 'x'],\n                [22.5, 67.5, 'x-y'],\n                [67.5, 112.5, 'y'],\n                [112.5, 157.5, 'y-abs-x'],\n                [157.5, 202.5, 'abs-x'],\n                [202.5, 247.5, 'abs-x-abs-y'],\n                [247.5, 292.5, 'abs-y'],\n                [292.5, 337.5, 'abs-y-x']\n            ];\n        }\n        var positiveDegree = degree < 0 ? 360 - Math.abs(degree) : degree;\n        for (var _i = 0, resizeMappings_2 = resizeMappings; _i < resizeMappings_2.length; _i++) {\n            var _a = resizeMappings_2[_i], startDegree = _a[0], endDegree = _a[1], resizeElement = _a[2];\n            if ((positiveDegree > startDegree && positiveDegree <= endDegree) ||\n                (positiveDegree + 360 > startDegree && positiveDegree + 360 <= endDegree)) {\n                return resizeElement;\n            }\n        }\n        return element;\n    };\n    Selection.prototype.updateCursorStyles = function (x, y, type) {\n        var parent = this.parent;\n        var isResize = false;\n        if (parent.activeObj.keyHistory !== '' && parent.activeObj.shape === undefined && !parent.currObjType.isCustomCrop &&\n            !parent.currObjType.isLine && parent.currObjType.isText) {\n            parent.activeObj.shape = 'text';\n        }\n        var actObj = extend({}, parent.activeObj, {}, true);\n        if (isNullOrUndefined(actObj.topLeftCircle)) {\n            return;\n        }\n        var degree;\n        if (actObj.shapeDegree === 0) {\n            degree = parent.transform.degree;\n        }\n        else {\n            degree = parent.transform.degree - actObj.shapeDegree;\n        }\n        if (degree < 0) {\n            degree = 360 + degree;\n        }\n        if (this.isObjSelected) {\n            if (actObj.shape === 'line' || actObj.shape === 'arrow') {\n                isResize = this.updateCursorStylesForLineArrow(x, y, actObj);\n            }\n            else if (actObj.shape === 'path') {\n                isResize = this.updateCursorStylesForPath(x, y, actObj);\n            }\n            else if (actObj.rotatedAngle) {\n                this.setCursorForRotatedObject(actObj, x, y, parent.upperCanvas);\n                if (parent.cursor === 'grabbing') {\n                    parent.upperCanvas.style.cursor = parent.cursor = 'grabbing';\n                    this.dragElement = parent.cursor;\n                }\n                else if (parent.cursor === 'move') {\n                    this.dragPoint.startX = this.previousPoint.x = this.dragPoint.endX = x;\n                    this.dragPoint.startY = this.previousPoint.y = this.dragPoint.endY = y;\n                }\n                else if (parent.cursor !== 'default') {\n                    isResize = true;\n                    this.dragElement = parent.cursor;\n                    parent.currObjType.isResize = true;\n                }\n            }\n            else {\n                var rotationCirclePoint = this.getTransRotationPoint(actObj);\n                var radius = actObj.topLeftCircle.radius;\n                if (rotationCirclePoint &&\n                    x >= rotationCirclePoint.x - (radius * 2) &&\n                    x <= rotationCirclePoint.x + (radius * 2) &&\n                    y >= rotationCirclePoint.y - (radius * 2) &&\n                    y <= rotationCirclePoint.y + (radius * 2) && this.dragElement !== 'grabbing') {\n                    parent.upperCanvas.style.cursor = parent.cursor = 'grabbing';\n                    this.dragElement = parent.upperCanvas.style.cursor;\n                }\n                else if (x >= (actObj.topLeftCircle.startX - (radius * 2)) &&\n                    x <= (actObj.topLeftCircle.startX + (radius * 2)) &&\n                    y >= (actObj.topLeftCircle.startY - (radius * 2)) &&\n                    y <= (actObj.topLeftCircle.startY + (radius * 2)) && this.dragElement !== 'nw-resize') {\n                    actObj.topLeftCircle.startX = actObj.topLeftCircle.startY = 0;\n                    parent.upperCanvas.style.cursor = parent.cursor = 'nw-resize';\n                    isResize = true;\n                    this.dragElement = parent.upperCanvas.style.cursor;\n                }\n                else if (x >= (actObj.topLeftCircle.startX - (radius * 2)) &&\n                    x <= (actObj.topRightCircle.startX - (radius * 2)) &&\n                    y >= (actObj.topCenterCircle.startY - (radius * 2)) &&\n                    y <= (actObj.topCenterCircle.startY + (radius * 2)) && this.dragElement !== 'n-resize') {\n                    actObj.topCenterCircle.startX = actObj.topCenterCircle.startY = 0;\n                    parent.upperCanvas.style.cursor = parent.cursor = 'n-resize';\n                    isResize = true;\n                    this.dragElement = parent.upperCanvas.style.cursor;\n                }\n                else if (x >= (actObj.topRightCircle.startX - (radius * 2)) &&\n                    x <= (actObj.topRightCircle.startX + (radius * 2)) &&\n                    y >= (actObj.topRightCircle.startY - (radius * 2)) &&\n                    y <= (actObj.topRightCircle.startY + (radius * 2)) && this.dragElement !== 'ne-resize') {\n                    actObj.topRightCircle.startX = actObj.topRightCircle.startY = 0;\n                    parent.upperCanvas.style.cursor = parent.cursor = 'ne-resize';\n                    isResize = true;\n                    this.dragElement = parent.upperCanvas.style.cursor;\n                }\n                else if (x >= (actObj.centerLeftCircle.startX - (radius * 2)) &&\n                    x <= (actObj.centerLeftCircle.startX + (radius * 2)) &&\n                    y >= (actObj.topLeftCircle.startY - (radius * 2)) &&\n                    y <= (actObj.bottomLeftCircle.startY - (radius * 2)) && this.dragElement !== 'w-resize') {\n                    actObj.centerLeftCircle.startX = actObj.centerLeftCircle.startY = 0;\n                    parent.upperCanvas.style.cursor = parent.cursor = 'w-resize';\n                    isResize = true;\n                    this.dragElement = parent.upperCanvas.style.cursor;\n                }\n                else if (x >= (actObj.centerRightCircle.startX - (radius * 2)) &&\n                    x <= (actObj.centerRightCircle.startX + (radius * 2)) &&\n                    y >= (actObj.topRightCircle.startY - (radius * 2)) &&\n                    y <= (actObj.bottomRightCircle.startY - (radius * 2)) && this.dragElement !== 'e-resize') {\n                    actObj.centerRightCircle.startX = actObj.centerRightCircle.startY = 0;\n                    parent.upperCanvas.style.cursor = parent.cursor = 'e-resize';\n                    isResize = true;\n                    this.dragElement = parent.upperCanvas.style.cursor;\n                }\n                else if (x >= (actObj.bottomLeftCircle.startX - (radius * 2)) &&\n                    x <= (actObj.bottomLeftCircle.startX + (radius * 2)) &&\n                    y >= (actObj.bottomLeftCircle.startY - (radius * 2)) &&\n                    y <= (actObj.bottomLeftCircle.startY + (radius * 2)) && this.dragElement !== 'sw-resize') {\n                    actObj.bottomLeftCircle.startX = actObj.bottomLeftCircle.startY = 0;\n                    parent.upperCanvas.style.cursor = parent.cursor = 'sw-resize';\n                    isResize = true;\n                    this.dragElement = parent.upperCanvas.style.cursor;\n                }\n                else if (x >= (actObj.bottomLeftCircle.startX - (radius * 2)) &&\n                    x <= (actObj.bottomRightCircle.startX - (radius * 2)) &&\n                    y >= (actObj.bottomCenterCircle.startY - (radius * 2)) &&\n                    y <= (actObj.bottomCenterCircle.startY + (radius * 2)) && this.dragElement !== 's-resize') {\n                    actObj.bottomCenterCircle.startX = actObj.bottomCenterCircle.startY = 0;\n                    parent.upperCanvas.style.cursor = parent.cursor = 's-resize';\n                    isResize = true;\n                    this.dragElement = parent.upperCanvas.style.cursor;\n                }\n                else if (x >= (actObj.bottomRightCircle.startX - (radius * 2)) &&\n                    x <= (actObj.bottomRightCircle.startX + (radius * 2)) &&\n                    y >= (actObj.bottomRightCircle.startY - (radius * 2)) &&\n                    y <= (actObj.bottomRightCircle.startY + (radius * 2)) && this.dragElement !== 'se-resize') {\n                    actObj.bottomRightCircle.startX = actObj.bottomRightCircle.startY = 0;\n                    parent.upperCanvas.style.cursor = parent.cursor = 'se-resize';\n                    isResize = true;\n                    this.dragElement = parent.upperCanvas.style.cursor;\n                }\n                else {\n                    this.dragPoint.startX = this.previousPoint.x = this.dragPoint.endX = x;\n                    this.dragPoint.startY = this.previousPoint.y = this.dragPoint.endY = y;\n                }\n                if ((actObj.shape === 'text') && (parent.cursor === 'n-resize' ||\n                    parent.cursor === 's-resize' || parent.cursor === 'e-resize' ||\n                    parent.cursor === 'w-resize')) {\n                    parent.upperCanvas.style.cursor = parent.cursor = 'move';\n                    this.dragElement = '';\n                    this.dragPoint.startX = this.previousPoint.x = this.dragPoint.endX = x;\n                    this.dragPoint.startY = this.previousPoint.y = this.dragPoint.endY = y;\n                }\n            }\n        }\n        else {\n            this.dragPoint.startX = this.previousPoint.x = this.dragPoint.endX = x;\n            this.dragPoint.startY = this.previousPoint.y = this.dragPoint.endY = y;\n        }\n        this.previousPoint.x = this.previousPoint.y = this.diffPoint.x = this.diffPoint.y = 0;\n        if (type === 'touchstart') {\n            if (isResize || (x >= actObj.activePoint.startX && x <= actObj.activePoint.endX\n                && y >= actObj.activePoint.startY && y <= actObj.activePoint.endY) || this.dragElement === 'grabbing') {\n                parent.currObjType.isDragging = true;\n            }\n            else if (actObj.shape === 'line' || actObj.shape === 'arrow') {\n                this.setCursorForLineArrow(actObj, x, y, parent.upperCanvas);\n                if (parent.cursor === 'move') {\n                    parent.currObjType.isDragging = true;\n                }\n            }\n            else if (actObj.shape === 'path') {\n                this.setCursorForPath(actObj, x, y, parent.upperCanvas);\n                if (parent.cursor === 'move') {\n                    parent.currObjType.isDragging = true;\n                }\n            }\n        }\n        else {\n            parent.currObjType.isDragging = true;\n        }\n        if (actObj.rotatedAngle !== 0 && (this.dragElement === 'e-resize' ||\n            this.dragElement === 'w-resize' || this.dragElement === 'n-resize' ||\n            this.dragElement === 's-resize')) {\n            this.dragPoint.startX = this.previousPoint.x = this.dragPoint.endX = x;\n            this.dragPoint.startY = this.previousPoint.y = this.dragPoint.endY = y;\n        }\n    };\n    Selection.prototype.updateCursorStylesForLineArrow = function (x, y, actObj) {\n        var isResize = false;\n        var parent = this.parent;\n        var point;\n        var radius = actObj.topLeftCircle.radius;\n        for (var i = 0; i < 5; i++) {\n            point = actObj.pointColl[i];\n            if (x >= (point.x - (radius * 2)) && x <= (point.x + (radius * 2)) &&\n                y >= (point.y - (radius * 2)) && y <= (point.y + (radius * 2))) {\n                actObj.centerLeftCircle.startX = actObj.centerLeftCircle.startY = 0;\n                this.dragElement = 'w-resize';\n                isResize = true;\n                break;\n            }\n        }\n        if (!isResize) {\n            for (var i = 1; i < 6; i++) {\n                point = actObj.pointColl[actObj.pointColl.length - i];\n                if (x >= (point.x - (radius * 2)) && x <= (point.x + (radius * 2)) &&\n                    y >= (point.y - (radius * 2)) && y <= (point.y + (radius * 2))) {\n                    actObj.centerRightCircle.startX = actObj.centerRightCircle.startY = 0;\n                    this.dragElement = 'e-resize';\n                    isResize = true;\n                    break;\n                }\n            }\n        }\n        if (!isResize) {\n            for (var i = 0; i < actObj.pointColl.length; i++) {\n                point = actObj.pointColl[i];\n                if (x >= (point.x - (radius * 2)) && x <= (point.x + (radius * 2)) &&\n                    y >= (point.y - (radius * 2)) && y <= (point.y + (radius * 2))) {\n                    parent.upperCanvas.style.cursor = parent.cursor = 'move';\n                    this.dragPoint.startX = this.previousPoint.x = this.dragPoint.endX = x;\n                    this.dragPoint.startY = this.previousPoint.y = this.dragPoint.endY = y;\n                    break;\n                }\n                else {\n                    parent.upperCanvas.style.cursor = parent.cursor = 'default';\n                }\n            }\n        }\n        return isResize;\n    };\n    Selection.prototype.updateCursorStylesForPath = function (x, y, actObj) {\n        var isResize = false;\n        var parent = this.parent;\n        this.pathAdjustedIndex = this.setCursorForLineArrow(actObj, x, y, parent.upperCanvas);\n        if (parent.cursor === 'move') {\n            isResize = true;\n            this.dragElement = 'pathDrag';\n        }\n        if (!isResize) {\n            parent.upperCanvas.style.cursor = parent.cursor = 'move';\n            this.dragPoint.startX = this.previousPoint.x = this.dragPoint.endX = x;\n            this.dragPoint.startY = this.previousPoint.y = this.dragPoint.endY = y;\n        }\n        return isResize;\n    };\n    Selection.prototype.setTextSelection = function (width, height) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var degree = parent.transform.degree;\n        if (parent.activeObj.shapeDegree === 0) {\n            degree = parent.transform.degree;\n        }\n        else {\n            degree = parent.transform.degree - parent.activeObj.shapeDegree;\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var coll = parent.activeObj.rotateFlipColl;\n        if (this.isTransformedShape && coll) {\n            degree = 0;\n            for (var i = 0; i < coll.length; i++) {\n                if (typeof (coll[i]) === 'number') {\n                    degree += (coll[i]);\n                }\n            }\n        }\n        if (degree < 0) {\n            degree = 360 + degree;\n        }\n        for (var i = 0, len = parent.activeObj.flipObjColl.length; i < len; i++) {\n            var flip = parent.activeObj.flipObjColl[i].toLowerCase();\n            switch (degree) {\n                case 0:\n                    switch (flip) {\n                        case 'horizontal':\n                            actPoint = { startX: actPoint.endX - width, startY: actPoint.startY, endX: (actPoint.endX),\n                                endY: actPoint.startY + (height ? height : 0) };\n                            break;\n                        case 'vertical':\n                            actPoint.startY = actPoint.endY - height;\n                            actPoint = { startX: actPoint.startX, startY: actPoint.startY, endX: (actPoint.startX + (width ? width : 0)),\n                                endY: actPoint.endY };\n                            break;\n                        default:\n                            actPoint = { startX: actPoint.startX,\n                                startY: actPoint.startY, endX: (actPoint.startX + (width ? width : 0)), endY: actPoint.startY +\n                                    (height ? height : 0) };\n                            break;\n                    }\n                    break;\n                case 90:\n                    switch (flip) {\n                        case 'horizontal':\n                            actPoint.endX = actPoint.startX + height;\n                            actPoint = { startX: actPoint.startX, startY: actPoint.startY, endX: (actPoint.endX),\n                                endY: actPoint.startY + (width ? width : 0) };\n                            break;\n                        case 'vertical':\n                            actPoint.startX = actPoint.endX - height;\n                            actPoint = { startX: actPoint.startX, startY: actPoint.endY - width, endX: (actPoint.endX), endY: actPoint.endY };\n                            break;\n                        default:\n                            actPoint.startX = actPoint.endX - height;\n                            actPoint = { startX: actPoint.startX, startY: actPoint.startY, endX: (actPoint.endX),\n                                endY: actPoint.startY + (width ? width : 0) };\n                            break;\n                    }\n                    break;\n                case 180:\n                    switch (flip) {\n                        case 'horizontal':\n                            actPoint.startY = actPoint.endY - height;\n                            actPoint = { startX: actPoint.startX, startY: actPoint.startY, endX: (actPoint.startX + width),\n                                endY: actPoint.endY };\n                            break;\n                        case 'vertical':\n                            actPoint.endY = actPoint.startY + height;\n                            actPoint = { endX: actPoint.endX, endY: actPoint.endY, startX: (actPoint.endX - (width ? width : 0)),\n                                startY: actPoint.startY };\n                            break;\n                        default:\n                            actPoint = { endX: actPoint.endX, endY: actPoint.endY, startX: (actPoint.endX - (width ? width : 0)),\n                                startY: actPoint.endY - (height ? height : 0) };\n                            break;\n                    }\n                    break;\n                case 270:\n                    switch (flip) {\n                        case 'horizontal':\n                            actPoint.startX = actPoint.endX - height;\n                            actPoint = { startX: actPoint.startX, startY: actPoint.endY - (width ? width : 0), endX: actPoint.endX,\n                                endY: actPoint.endY };\n                            break;\n                        case 'vertical':\n                            actPoint = { startX: actPoint.startX, startY: actPoint.startY, endX: (actPoint.startX + height),\n                                endY: actPoint.startY + (width ? width : 0) };\n                            break;\n                        default:\n                            actPoint.endX = actPoint.startX + height;\n                            actPoint = { startX: actPoint.startX, startY: actPoint.endY - (width ? width : 0), endX: actPoint.endX,\n                                endY: actPoint.endY };\n                            break;\n                    }\n                    break;\n            }\n        }\n        if (parent.activeObj.flipObjColl.length === 0) {\n            switch (degree) {\n                case 0:\n                    actPoint = { startX: actPoint.startX, startY: actPoint.startY, endX: (actPoint.startX + (width ? width : 0)),\n                        endY: actPoint.startY + (height ? height : 0) };\n                    break;\n                case 90:\n                    actPoint.startX = actPoint.endX - height;\n                    actPoint = { startX: actPoint.startX, startY: actPoint.startY, endX: (actPoint.endX),\n                        endY: actPoint.startY + (width ? width : 0) };\n                    break;\n                case 180:\n                    actPoint = { endX: actPoint.endX, endY: actPoint.endY, startX: (actPoint.endX - (width ? width : 0)),\n                        startY: actPoint.endY - (height ? height : 0) };\n                    break;\n                case 270:\n                    actPoint.endX = actPoint.startX + height;\n                    actPoint = { startX: actPoint.startX, startY: actPoint.endY - (width ? width : 0), endX: actPoint.endX,\n                        endY: actPoint.endY };\n                    break;\n            }\n        }\n        actPoint.width = actPoint.endX - actPoint.startX;\n        actPoint.height = actPoint.endY - actPoint.startY;\n        parent.activeObj.activePoint = actPoint;\n        if (parent.transform.degree === 360 || parent.transform.degree === -360) {\n            parent.transform.degree = 0;\n        }\n    };\n    Selection.prototype.setActivePoint = function (startX, startY) {\n        var parent = this.parent;\n        var activePoint = parent.activeObj.activePoint;\n        if (isNullOrUndefined(activePoint)) {\n            return;\n        }\n        if (parent.currObjType.isText) {\n            var textWidth = startX ? startX : 0;\n            var textHeight = startY ? startY : parent.activeObj.textSettings.fontSize;\n            if (parent.activeObj.textSettings.fontSize === undefined) {\n                parent.activeObj.textSettings.fontSize = (Math.abs(parent.baseImgCanvas.width - parent.baseImgCanvas.height)) * 0.1;\n            }\n            this.setTextSelection(textWidth, textHeight);\n            this.mouseDownPoint.x = activePoint.endX;\n            this.mouseDownPoint.y = activePoint.endY;\n            if (parent.activeObj.horTopLine !== undefined) {\n                parent.activeObj.activePoint = extend({}, activePoint, {}, true);\n            }\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n        }\n        else if (startX && startY) {\n            activePoint.startX = this.mouseDownPoint.x = startX;\n            activePoint.startY = this.mouseDownPoint.y = startY;\n            parent.currObjType.isDragging = true;\n        }\n        else {\n            var selectInfo = parent.activeObj;\n            activePoint = { startX: selectInfo.horTopLine.startX, startY: selectInfo.horTopLine.startY,\n                endX: selectInfo.horTopLine.endX, endY: selectInfo.horTopLine.endY };\n            activePoint.width = activePoint.endX - activePoint.startX;\n            activePoint.height = activePoint.endY - activePoint.startY;\n        }\n    };\n    Selection.prototype.mouseDownEventHandler = function (e) {\n        var parent = this.parent;\n        parent.isKBDNavigation = false;\n        this.mouseDown = e.currentTarget === parent.lowerCanvas || e.currentTarget === parent.upperCanvas ?\n            'canvas' : '';\n        if (e.type === 'touchstart') {\n            this.isTouch = true;\n        }\n        else {\n            this.isTouch = false;\n        }\n        if (e.type === 'touchstart' && e.currentTarget === parent.lowerCanvas && !parent.isImageLoaded) {\n            return;\n        }\n        this.isCropSelection = false;\n        this.isPan = true;\n        var splitWords;\n        if (parent.activeObj.shape !== undefined) {\n            splitWords = parent.activeObj.shape.split('-');\n        }\n        if (splitWords !== undefined && splitWords[0] === 'crop') {\n            this.isCropSelection = true;\n        }\n        if (this.isCropSelection) {\n            this.dragCanvas = parent.togglePan = true;\n        }\n        if (parent.cursor === 'grabbing') {\n            var obj = { shapeSettingsObj: {} };\n            this.isGrabbing = true;\n            parent.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: obj } });\n            var shapeSettings = obj['shapeSettingsObj'];\n            var shapeResizingArgs = { cancel: false, action: 'rotate-start', previousShapeSettings: shapeSettings, allowShapeOverflow: this.allowOutofBound() };\n            var shapeMovingArgs = { cancel: false, action: 'rotate-start', previousShapeSettings: shapeSettings, allowShapeOverflow: this.allowOutofBound() };\n            this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'mouse-down');\n        }\n        var imageEditorClickEventArgs = { point: this.setXYPoints(e) };\n        parent.trigger('click', imageEditorClickEventArgs);\n        this.isMouseDown = true;\n        this.isMouseUp = false;\n        this.clickEvent(imageEditorClickEventArgs, e);\n    };\n    Selection.prototype.getImagePoints = function (x, y) {\n        var parent = this.parent;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        if (x < destLeft) {\n            x = destLeft;\n        }\n        else if (x > destLeft + destWidth) {\n            x = destLeft + destWidth;\n        }\n        if (y < destTop) {\n            y = destTop;\n        }\n        else if (y > destTop + destHeight) {\n            y = destTop + destHeight;\n        }\n        return { x: x, y: y };\n    };\n    Selection.prototype.clickEvent = function (imageEditorClickEventArgs, e) {\n        var parent = this.parent;\n        var activePoint = parent.activeObj.activePoint;\n        var x = imageEditorClickEventArgs.point.x;\n        var y = imageEditorClickEventArgs.point.y;\n        var cursor = parent.activeObj.shape && parent.activeObj.shape === 'text' ?\n            parent.cursor : 'default';\n        var tempCursor = parent.upperCanvas.style.cursor;\n        if (parent.isResize) {\n            this.performEnterAction(e);\n            parent.upperCanvas.style.cursor = 'default';\n            return;\n        }\n        else if (JSON.stringify(parent.frameObj) !== JSON.stringify(parent.tempFrameObj)) {\n            parent.okBtn();\n        }\n        else if (this.currentDrawingShape !== '' && (!this.isShapeTouch(e, this.isCropSelection) &&\n            ((this.isTouch) || tempCursor === 'crosshair' || parent.isShapeDrawing))) {\n            if (parent.drawingShape && !parent.isShapeDrawing) {\n                parent.okBtn();\n                parent.enableShapeDrawing(parent.toPascalCase(parent.drawingShape), true);\n            }\n            activePoint = parent.activeObj.activePoint;\n            var object_1 = { currObj: {} };\n            parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object_1 } });\n            this.initialPrevObj = object_1['currObj'];\n            this.initialPrevObj.objColl = extend([], parent.objColl, [], true);\n            this.initialPrevObj.pointColl = extend([], parent.pointColl, [], true);\n            this.initialPrevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n            var selPointCollObj = { selPointColl: null };\n            parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                value: { obj: selPointCollObj } });\n            this.initialPrevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            this.setActivePoint(x, y);\n            activePoint = parent.activeObj.activePoint;\n            if (this.currentDrawingShape === 'path') {\n                var point = this.getImagePoints(x, y);\n                parent.activeObj.pointColl.push({ x: point.x, y: point.y });\n                if (activePoint.width !== 0 && activePoint.height !== 0) {\n                    activePoint.width = 0;\n                    activePoint.height = 0;\n                    activePoint.startX = parent.activeObj.pointColl[parent.activeObj.pointColl.length - 1].x;\n                    activePoint.startY = parent.activeObj.pointColl[parent.activeObj.pointColl.length - 1].y;\n                }\n            }\n            activePoint.endX = activePoint.startX;\n            activePoint.endY = activePoint.startY;\n            if (this.currentDrawingShape === 'text') {\n                parent.activeObj.textSettings.fontSize = 11;\n                this.previousPoint.x = activePoint.startX;\n                this.previousPoint.y = activePoint.startY;\n                parent.notify('shape', { prop: 'updateFontStyles', onPropertyChange: false,\n                    value: { isTextBox: null } });\n                var width = this.upperContext.measureText(parent.activeObj.textSettings.text).width + parent.activeObj.textSettings.fontSize * 0.5;\n                activePoint.endX = activePoint.startX + width;\n                activePoint.endY = activePoint.startY + parent.activeObj.textSettings.fontSize;\n                activePoint.width = activePoint.endX - activePoint.startX;\n                activePoint.height = activePoint.endY - activePoint.startY;\n            }\n            else if (this.currentDrawingShape === 'arrow') {\n                parent.activeObj.start = this.arrowShape[0];\n                parent.activeObj.end = this.arrowShape[1];\n            }\n            parent.currObjType.isDragging = true;\n            var previousShapeSettings = this.updatePrevShapeSettings();\n            var shapeResizingArgs = { cancel: false, action: 'draw-start', previousShapeSettings: previousShapeSettings, allowShapeOverflow: this.allowOutofBound() };\n            var shapeMovingArgs = { cancel: false, action: 'move', previousShapeSettings: previousShapeSettings, allowShapeOverflow: this.allowOutofBound() };\n            this.shapeResizingArgs = shapeResizingArgs;\n            this.shapeMovingArgs = shapeMovingArgs;\n            this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'mouse-down');\n            parent.activeObj.activePoint = activePoint;\n            parent.isShapeDrawing = true;\n            this.tempActiveObj = extend({}, parent.activeObj, {}, true);\n            return;\n        }\n        parent.notify('draw', { prop: 'resetFrameZoom', onPropertyChange: false, value: { isOk: true } });\n        if (this.isCropSelection && this.dragCanvas) {\n            this.setCursor(x, y);\n            if (parent.cursor !== 'move' && parent.cursor !== 'crosshair' &&\n                parent.cursor !== 'default' && parent.cursor !== 'grab') {\n                this.isPan = false;\n            }\n        }\n        if (parent.activeObj.shape) {\n            this.isObjSelected = true;\n        }\n        else {\n            this.isObjSelected = false;\n        }\n        var object = { currObj: {} };\n        parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        var activeObj = extend({}, parent.activeObj, null, true);\n        var isShape = this.isShapeTouch(e, this.isCropSelection);\n        var isFreehandDraw = this.isFreehandDrawTouch(e, this.isCropSelection);\n        var isShapeClick = isShape ? isShape : this.isShapeClick(e, this.isCropSelection);\n        var allowUndoRedoPush = this.applyCurrShape(isShapeClick);\n        var isTextArea = parent.textArea.style.display !== 'none' ? true : false;\n        if (this.isTouch && !isShape && activeObj.shape && !this.isCropSelection) {\n            if (this.applyObj(x, y)) {\n                parent.okBtn(true);\n                parent.notify('draw', { prop: 'setPrevActObj', onPropertyChange: false, value: { prevActObj: null } });\n            }\n            var prevCropObj = extend({}, parent.cropObj, {}, true);\n            parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                    previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                    previousCropObj: prevCropObj, previousText: null,\n                    currentText: null, previousFilter: null, isCircleCrop: parent.isCircleCrop } });\n            if (allowUndoRedoPush) {\n                parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n            }\n        }\n        if (!isShape && !parent.togglePen && !this.isCropSelection && parent.activeObj.redactType !== 'blur' && parent.activeObj.redactType !== 'pixelate') {\n            parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n            parent.notify('toolbar', { prop: 'close-contextual-toolbar', onPropertyChange: false });\n        }\n        if (this.dragCanvas && this.isPan && (parent.cursor === 'grab' || this.isTouch)\n            && !isShape && !isFreehandDraw && !parent.togglePen) {\n            if (this.applyObj(x, y)) {\n                parent.okBtn(true);\n                if (allowUndoRedoPush) {\n                    var cursor_1 = parent.cursor;\n                    parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n                    parent.cursor = cursor_1;\n                }\n                parent.notify('draw', { prop: 'setPrevActObj', onPropertyChange: false, value: { prevActObj: null } });\n            }\n            if (this.isFhdEditing) {\n                parent.notify('freehand-draw', { prop: 'applyFhd', onPropertyChange: false });\n                this.isFhdCustomized = false;\n                parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n            }\n            var shape = parent.activeObj.shape;\n            var shapeColl = ['rectangle', 'ellipse', 'line', 'arrow', 'path', 'text', 'image', 'redact'];\n            if (shape && shapeColl.indexOf(shape) > -1) {\n                parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                    value: { x: null, y: null, isMouseDown: null } });\n                parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                parent.notify('toolbar', { prop: 'setCurrentToolbar', value: { type: 'main' } });\n                parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n            }\n            var isCropSelection = false;\n            if (parent.activeObj.shape && parent.activeObj.shape.indexOf('crop-') > -1) {\n                isCropSelection = true;\n            }\n            if (parent.element.querySelector('.e-contextual-toolbar-wrapper') && !isCropSelection) {\n                if (!parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.contains('e-hide')) {\n                    parent.okBtn();\n                    parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.add('e-hide');\n                }\n            }\n            this.canvasMouseDownHandler(e);\n        }\n        else {\n            var isLineArrow = false;\n            if (parent.activeObj.shape && (parent.activeObj.shape === 'line' ||\n                parent.activeObj.shape === 'arrow')) {\n                isLineArrow = true;\n            }\n            var points = this.setXYPoints(e);\n            var x_1 = points.x;\n            var y_1 = points.y;\n            if (this.applyObj(x_1, y_1)) {\n                parent.okBtn(true);\n                if (allowUndoRedoPush) {\n                    var cursor_2 = parent.cursor;\n                    parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n                    parent.cursor = cursor_2;\n                }\n                parent.notify('draw', { prop: 'setPrevActObj', onPropertyChange: false, value: { prevActObj: null } });\n            }\n            parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                value: { x: x_1, y: y_1, isMouseDown: true } });\n            var obj = { index: null };\n            parent.notify('freehand-draw', { prop: 'getFreehandDrawHoveredIndex', onPropertyChange: false, value: { obj: obj } });\n            var indexObj = { freehandSelectedIndex: null };\n            parent.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n            if (this.isFhdPoint || (this.isFhdCustomized && !parent.togglePen)) {\n                if (!isNullOrUndefined(indexObj['freehandSelectedIndex']) &&\n                    indexObj['freehandSelectedIndex'] !== obj['index']) {\n                    var tempHoveredIndex = obj['index'];\n                    parent.okBtn();\n                    this.isFhdCustomized = false;\n                    parent.notify('freehand-draw', { prop: 'setFreehandDrawHoveredIndex', onPropertyChange: false,\n                        value: { index: tempHoveredIndex } });\n                    if (obj['index'] > -1) {\n                        var strokeColor = parent.pointColl[obj['index']].strokeColor;\n                        parent.notify('freehand-draw', { prop: 'hoverFhd', onPropertyChange: false,\n                            value: { strokeColor: strokeColor, strokeWidth: parent.pointColl[obj['index']].strokeWidth } });\n                    }\n                }\n                indexObj['freehandSelectedIndex'] = null;\n                parent.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n                var objColl = extend([], parent.objColl, [], true);\n                if (!isNullOrUndefined(obj['index']) && obj['index'] > -1) {\n                    parent.notify('freehand-draw', { prop: 'selectFhd', value: { type: 'ok' } });\n                    parent.notify('freehand-draw', { prop: 'hoverFhd', onPropertyChange: false,\n                        value: { strokeColor: null, strokeWidth: null } });\n                    parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: true } });\n                }\n                else if (indexObj['freehandSelectedIndex']) {\n                    parent.okBtn();\n                    var strokeColor = parent.pointColl[indexObj['freehandSelectedIndex']].strokeColor;\n                    parent.notify('freehand-draw', { prop: 'hoverFhd', onPropertyChange: false,\n                        value: { strokeColor: strokeColor, strokeWidth: parent.pointColl[indexObj['freehandSelectedIndex']].strokeWidth } });\n                }\n                else if (this.findTargetObj(x_1, y_1, false)) {\n                    parent.objColl = objColl;\n                    this.findTarget(x_1, y_1, e.type);\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                }\n            }\n            else {\n                if (this.isFhdEditing) {\n                    parent.apply();\n                    var qbArea = document.getElementById(parent.element.id + '_quickAccessToolbarArea');\n                    if (qbArea) {\n                        qbArea.style.display = 'none';\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var point = parent.pointColl[indexObj['freehandSelectedIndex']];\n                    var shapeSettings = { id: 'pen_' + (indexObj['freehandSelectedIndex'] + 1), type: ShapeType.FreehandDraw,\n                        startX: point.points[0].x, startY: point.points[0].y, strokeColor: point.strokeColor,\n                        strokeWidth: point.strokeWidth, points: point.points, opacity: point.opacity,\n                        index: point.order };\n                    var shapeChangedArgs = { action: 'apply', currentShapeSettings: extend({}, shapeSettings, {}, true) };\n                    parent.trigger('shapeChange', shapeChangedArgs);\n                    parent.editCompleteArgs = shapeChangedArgs;\n                }\n                var isPenDraw = parent.togglePen;\n                parent.notify('toolbar', { prop: 'close-contextual-toolbar', onPropertyChange: false });\n                if (isPenDraw) {\n                    parent.freeHandDraw(true);\n                }\n                this.isFhdEditing = false;\n                if (isLineArrow) {\n                    this.setCursor(x_1, y_1);\n                }\n                else if (cursor !== 'default') {\n                    parent.upperCanvas.style.cursor = parent.cursor = cursor;\n                }\n                if (parent.cursor === 'crosshair' || (Browser.isDevice && parent.togglePen)) {\n                    if (parent.togglePen) {\n                        if (isNullOrUndefined(parent.activeObj.strokeSettings)) {\n                            var obj_1 = { strokeSettings: {} };\n                            parent.notify('shape', { prop: 'getStrokeSettings', onPropertyChange: false, value: { obj: obj_1 } });\n                            parent.activeObj.strokeSettings = obj_1['strokeSettings'];\n                        }\n                        var obj_2 = { penStrokeWidth: null };\n                        parent.notify('freehand-draw', { prop: 'getPenStrokeWidth', onPropertyChange: false, value: { obj: obj_2 } });\n                        if (isNullOrUndefined(obj_2['penStrokeWidth'])) {\n                            parent.notify('freehand-draw', { prop: 'setPenStrokeWidth', onPropertyChange: false, value: { value: 2 } });\n                        }\n                        this.upperContext.strokeStyle = parent.activeObj.strokeSettings.strokeColor;\n                        this.upperContext.fillStyle = parent.activeObj.strokeSettings.strokeColor;\n                        parent.notify('freehand-draw', { prop: 'resetSelPoints', onPropertyChange: false });\n                        parent.notify('freehand-draw', { prop: 'freehandDownHandler', onPropertyChange: false,\n                            value: { e: e, canvas: parent.upperCanvas } });\n                    }\n                    else {\n                        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                    }\n                    parent.currObjType.isActiveObj = false;\n                    this.dragElement = '';\n                    this.dragPoint.startX = this.dragPoint.startY = this.dragPoint.endX = this.dragPoint.endY = 0;\n                }\n                if (((this.isTouch && tempCursor !== 'crosshair' || parent.cursor !== 'crosshair') &&\n                    e.type.toLowerCase() === 'touchstart') ||\n                    (parent.currObjType.isActiveObj && parent.cursor !== 'default' && !parent.togglePen)) {\n                    parent.notify('draw', { prop: 'updateTempObjColl' });\n                    parent.notify('draw', { prop: 'updateTempPointColl' });\n                    this.findTarget(x_1, y_1, e.type);\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                }\n                else if ((parent.currObjType.shape === '' || parent.currObjType.isCustomCrop) && !parent.togglePen && parent.cursor !== 'default') {\n                    this.setActivePoint(x_1, y_1);\n                }\n                if (isTextArea) {\n                    parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n                }\n            }\n        }\n        this.isShapeInserted = false;\n        this.tempActiveObj = extend({}, parent.activeObj, {}, true);\n    };\n    Selection.prototype.mouseMoveEventHandler = function (e) {\n        var parent = this.parent;\n        var cursor = parent.cursor;\n        var canvasCursor = parent.upperCanvas.style.cursor;\n        e.preventDefault();\n        if (this.isPreventShaping || (parent.isShapeDrawing && parent.currObjType.isDragging && this.isTouch &&\n            parent.activeObj.shape && parent.activeObj.shape === 'path')) {\n            return;\n        }\n        if (parent.cursor === 'grabbing' && this.isGrabbing) {\n            var obj = { shapeSettingsObj: {} };\n            parent.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: obj } });\n            var shapeSettings = obj['shapeSettingsObj'];\n            var shapeResizingArgs = { cancel: false, action: 'rotating', previousShapeSettings: shapeSettings, allowShapeOverflow: this.allowOutofBound() };\n            var shapeMovingArgs = { cancel: false, action: 'rotating', previousShapeSettings: shapeSettings, allowShapeOverflow: this.allowOutofBound() };\n            this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'mouse-down');\n        }\n        if (this.timer && this.timer > 0 && this.dragPoint.startX && this.dragPoint.startY) {\n            var width = Math.abs(this.dragPoint.startX - e.touches[0].clientX);\n            var height = Math.abs(this.dragPoint.startY - e.touches[0].clientY);\n            if (width > 10 || height > 10) {\n                this.timer = 0;\n            }\n        }\n        var bbox = parent.lowerCanvas.getBoundingClientRect();\n        if (e.type === 'touchmove' && e.touches.length === 2) {\n            if (this.isFirstMove) {\n                this.startTouches = this.targetTouches(e.touches);\n                this.tempTouches = [];\n                this.tempTouches.push({ x: (e.touches[0].clientX || (e.touches[0].pageX - parent.lowerCanvas.offsetLeft) - bbox.left),\n                    y: (e.touches[0].clientY || (e.touches[0].pageY - parent.lowerCanvas.offsetTop)) - bbox.top });\n                this.tempTouches.push({ x: (e.touches[1].clientX || (e.touches[1].pageX - parent.lowerCanvas.offsetLeft)) - bbox.left,\n                    y: (e.touches[1].clientY || (e.touches[1].pageY - parent.lowerCanvas.offsetTop)) - bbox.top });\n            }\n            else {\n                var firstFingerX = (e.touches[0].clientX || (e.touches[0].pageX - parent.lowerCanvas.offsetLeft)) - bbox.left;\n                var firstFingerY = (e.touches[0].clientY || (e.touches[0].pageY - parent.lowerCanvas.offsetTop)) - bbox.top;\n                var secondFingerX = (e.touches[1].clientX || (e.touches[1].pageX - parent.lowerCanvas.offsetLeft)) - bbox.left;\n                var secondFingerY = (e.touches[1].clientY || (e.touches[1].pageY - parent.lowerCanvas.offsetTop)) - bbox.top;\n                var center = { x: firstFingerX < secondFingerX ? secondFingerX - ((secondFingerX - firstFingerX) / 2) :\n                        firstFingerX - ((firstFingerX - secondFingerX) / 2), y: firstFingerY < secondFingerY ?\n                        secondFingerY - ((secondFingerY - firstFingerY) / 2) : firstFingerY - ((firstFingerY - secondFingerY) / 2) };\n                if (this.currMousePoint.x !== center.x && this.currMousePoint.y !== center.y) {\n                    var type = '';\n                    if (e.type === 'touchmove' && (parent.zoomSettings.zoomTrigger & ZoomTrigger.Pinch) === ZoomTrigger.Pinch) {\n                        this.zoomType = 'Pinch';\n                        var scale = this.calculateScale(this.startTouches, this.targetTouches(e.touches));\n                        this.startTouches = this.targetTouches(e.touches);\n                        if (scale > 1) {\n                            type = 'zoomIn';\n                        }\n                        else if (scale < 1) {\n                            type = 'zoomOut';\n                        }\n                    }\n                    if (type !== '') {\n                        parent.isZoomBtnClick = true;\n                        parent.notify('draw', { prop: 'performPointZoom', onPropertyChange: false,\n                            value: { x: center.x, y: center.y, type: type, isResize: null } });\n                    }\n                    this.tempTouches = [];\n                    this.tempTouches.push({ x: e.touches[0].clientX || (e.touches[0].pageX - parent.lowerCanvas.offsetLeft),\n                        y: e.touches[0].clientY || (e.touches[0].pageY - parent.lowerCanvas.offsetTop) });\n                    this.tempTouches.push({ x: e.touches[1].clientX || (e.touches[1].pageX - parent.lowerCanvas.offsetLeft),\n                        y: e.touches[1].clientY || (e.touches[1].pageY - parent.lowerCanvas.offsetTop) });\n                    this.currMousePoint.x = center.x;\n                    this.currMousePoint.y = center.y;\n                    this.isPinching = true;\n                }\n            }\n            this.isFirstMove = false;\n            return;\n        }\n        var x;\n        var y;\n        if (e.type === 'mousemove') {\n            x = e.clientX;\n            y = e.clientY;\n        }\n        else {\n            this.touchEndPoint.x = x = e.touches[0].clientX;\n            this.touchEndPoint.y = y = e.touches[0].clientY;\n        }\n        x -= bbox.left;\n        y -= bbox.top;\n        this.canvasMouseMoveHandler(e);\n        var isCropSelection = false;\n        var splitWords;\n        if (parent.activeObj.shape !== undefined) {\n            splitWords = parent.activeObj.shape.split('-');\n        }\n        if (splitWords !== undefined && splitWords[0] === 'crop') {\n            isCropSelection = true;\n        }\n        if (isCropSelection) {\n            parent.notify('transform', { prop: 'disableZoomOutBtn', value: { isZoomOut: true } });\n        }\n        parent.upperCanvas.style.cursor = canvasCursor;\n        parent.cursor = cursor;\n        if (parent.currObjType.isActiveObj && (parent.activeObj.activePoint !== undefined || parent.objColl.length > 0) &&\n            !this.dragCanvas || parent.activeObj.activePoint !== undefined) {\n            if (this.dragElement === '') {\n                this.setCursor(x, y);\n                if ((parent.activeObj.activePoint &&\n                    (parent.activeObj.activePoint.width === 0 || (!isNullOrUndefined(parent.activeObj.currIndex) &&\n                        this.cursorTargetId !== parent.activeObj.currIndex)))\n                    && parent.cursor !== 'default' &&\n                    parent.cursor !== 'move' && parent.cursor !== 'crosshair'\n                    && parent.cursor !== 'grab' && parent.cursor !== 'pointer') {\n                    parent.upperCanvas.style.cursor = parent.cursor = 'move';\n                }\n                this.findTarget(x, y, e.type);\n            }\n        }\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        if (parent.currObjType.isDragging) {\n            if (parent.activeObj.shape && parent.activeObj.preventShapeDragOut) {\n                if (x < destLeft || x > destLeft + destWidth || y < destTop || y > destTop + destHeight) {\n                    return;\n                }\n            }\n            this.upperContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n            this.updateActivePoint(x, y, isCropSelection);\n            parent.notify('shape', { prop: 'updateTrianglePoints', onPropertyChange: false, value: { obj: parent.activeObj } });\n            if (this.isPreventDragging) {\n                if (!this.isShapeDragOut()) {\n                    this.isPreventDragging = false;\n                }\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: null, isCropRatio: null,\n                        points: null, isPreventDrag: true, saveContext: null, isPreventSelection: null } });\n            }\n            else {\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: null, isCropRatio: null,\n                        points: null, isPreventDrag: null, saveContext: null, isPreventSelection: null } });\n            }\n            if (isCropSelection) {\n                this.dragCanvas = parent.togglePan = true;\n            }\n        }\n        this.isMouseDown = false;\n        this.isMouseUp = false;\n    };\n    Selection.prototype.mouseUpEventHandler = function (e) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        parent.isKBDNavigation = this.isMouseDown = false;\n        this.isMouseUp = true;\n        if (!Browser.isDevice && ((parent.element.querySelector('#' + id + '_contextualToolbar') &&\n            !parent.element.querySelector('#' + id + '_contextualToolbar').parentElement.classList.contains('e-hide')) ||\n            (parent.element.querySelector('#' + id + '_headWrapper')\n                && !parent.element.querySelector('#' + id + '_headWrapper').parentElement.classList.contains('e-hide')))) {\n            if (!(parent.activeObj.shape && parent.activeObj.shape === 'redact' && parent.isShapeDrawing)) {\n                return;\n            }\n        }\n        if (parent.cursor === 'grabbing' && this.isGrabbing) {\n            var obj = { shapeSettingsObj: {} };\n            parent.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: obj } });\n            var shapeSettings = obj['shapeSettingsObj'];\n            var shapeResizingArgs = { cancel: false, action: 'rotate-end', previousShapeSettings: shapeSettings, allowShapeOverflow: this.allowOutofBound() };\n            var shapeMovingArgs = { cancel: false, action: 'rotate-end', previousShapeSettings: shapeSettings, allowShapeOverflow: this.allowOutofBound() };\n            this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'mouse-up');\n        }\n        this.isGrabbing = false;\n        if (this.isPreventShaping) {\n            this.isPreventShaping = false;\n        }\n        if (this.mouseDown === 'canvas' || this.isSliderActive ||\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            e.target.closest('.e-image-editor') || e.target.closest('.e-ie-ddb-popup')) {\n            if (e.type === 'touchstart') {\n                this.isTouch = false;\n            }\n            else if (e.type === 'touchend') {\n                e.stopImmediatePropagation();\n            }\n            e.preventDefault();\n            if (parent.togglePan) {\n                this.canvasMouseUpHandler(e);\n            }\n            var x = void 0;\n            var y = void 0;\n            if (e.type === 'mouseup') {\n                x = e.clientX;\n                y = e.clientY;\n            }\n            else if (!this.isTouchDblClick) {\n                x = this.touchEndPoint.x;\n                y = this.touchEndPoint.y;\n            }\n            var bbox = parent.lowerCanvas.getBoundingClientRect();\n            x -= bbox.left;\n            y -= bbox.top;\n            var activeObjShape = void 0;\n            var currentDrawingShape = this.currentDrawingShape;\n            var dummyClick = false;\n            if (e.type === 'touchend') {\n                this.startTouches = this.tempTouches = [];\n                this.isFirstMove = false;\n                if (parent.textArea.style.display === 'none') {\n                    this.timer = 0;\n                }\n                if (this.isPinching) {\n                    this.isPinching = false;\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                    if (parent.isCropTab || parent.activeObj.shape) {\n                        parent.notify('draw', { prop: 'setStraightenActObj', value: { activeObj: null } });\n                        parent.notify('freehand-draw', { prop: 'resetStraightenPoint' });\n                    }\n                    if (parent.isStraightening) {\n                        parent.notify('draw', { prop: 'resetStraightenDestPoints' });\n                        parent.notify('draw', { prop: 'setDestForStraighten' });\n                    }\n                    return;\n                }\n            }\n            var isCropSelection = false;\n            var splitWords = void 0;\n            if (parent.activeObj.shape !== undefined) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (splitWords !== undefined && splitWords[0] === 'crop') {\n                isCropSelection = true;\n            }\n            if (this.currentDrawingShape === 'path' && parent.isShapeDrawing) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var elem = e.srcElement;\n                var elemId = elem.parentElement.id;\n                var id_1 = parent.element.id;\n                // eslint-disable-next-line max-len\n                if (e.currentTarget !== parent.upperCanvas && e.currentTarget !== parent.lowerCanvas && parent.activeObj.pointColl.length > 0 &&\n                    (elem.classList.contains('e-upload-icon') || elemId === id_1 + '_zoomIn' ||\n                        elemId === id_1 + '_zoomOut' || elemId === id_1 + '_annotationBtn' ||\n                        elemId === id_1 + '_borderColorBtn' || elemId === id_1 + '_borderWidthBtn')) {\n                    parent.notify('shape', { prop: 'stopPathDrawing', onPropertyChange: false, value: { e: e, isApply: true } });\n                    this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                    parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj, isCropRatio: null,\n                            points: null, isPreventDrag: true, saveContext: null, isPreventSelection: true } });\n                }\n                if (parent.currObjType.isDragging && this.isTouch &&\n                    parent.activeObj.shape && parent.activeObj.shape === 'path') {\n                    this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                    parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj, isCropRatio: null,\n                            points: null, isPreventDrag: true, saveContext: null, isPreventSelection: true } });\n                }\n                return;\n            }\n            if (e.currentTarget === parent.upperCanvas && !parent.isResize) {\n                this.pathAdjustedIndex = null;\n                if (this.currentDrawingShape !== '') {\n                    if (this.currentDrawingShape === 'text') {\n                        var prevCropObj_1 = extend({}, parent.cropObj, {}, true);\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                            value: { operation: 'shapeInsert', previousObj: this.initialPrevObj, previousObjColl: this.initialPrevObj.objColl,\n                                previousPointColl: this.initialPrevObj.pointColl, previousSelPointColl: this.initialPrevObj.selPointColl,\n                                previousCropObj: prevCropObj_1, previousText: null,\n                                currentText: null, previousFilter: null, isCircleCrop: null } });\n                    }\n                    else {\n                        parent.notify('undo-redo', { prop: 'updateUrObj', onPropertyChange: false, value: { objColl: this.initialPrevObj.objColl, operation: 'shapeInsert' } });\n                    }\n                    this.isShapeInserted = true;\n                    this.currentDrawingShape = '';\n                    if ((parent.activeObj.shape && parent.activeObj.shape === 'path' && parent.activeObj.pointColl.length === 0) ||\n                        ((!parent.activeObj.shape || parent.activeObj.shape !== 'path') && parent.activeObj.activePoint.width === 0 &&\n                            parent.activeObj.activePoint.height === 0)) {\n                        dummyClick = true;\n                        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                    }\n                    var previousShapeSettings = this.updatePrevShapeSettings();\n                    var shapeResizingArgs = { cancel: false, action: 'draw-end', previousShapeSettings: previousShapeSettings };\n                    var shapeMovingArgs = { cancel: false, action: 'move', previousShapeSettings: previousShapeSettings };\n                    this.shapeResizingArgs = shapeResizingArgs;\n                    this.shapeMovingArgs = shapeMovingArgs;\n                    this.triggerShapeChange(shapeResizingArgs, shapeMovingArgs, 'mouse-up');\n                }\n                if (parent.activeObj.shape && parent.activeObj.shape === 'path' && parent.activeObj.pointColl.length > 0) {\n                    parent.activeObj.activePoint = parent.getSquarePointForPath(parent.activeObj);\n                }\n                this.adjustActObjForLineArrow();\n                this.updPtCollForShpRot();\n                parent.currObjType.shape = parent.currObjType.shape.toLowerCase();\n                var prevCropObj = extend({}, parent.cropObj, {}, true);\n                var object = { currObj: {} };\n                parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                var prevObj = object['currObj'];\n                prevObj.objColl = extend([], parent.objColl, [], true);\n                prevObj.pointColl = extend([], parent.pointColl, [], true);\n                prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n                var selPointCollObj = { selPointColl: null };\n                parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                    value: { obj: selPointCollObj } });\n                prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n                if (!parent.togglePen && !isCropSelection) {\n                    if (this.tempObjColl && parent.activeObj.activePoint.width !== 0) {\n                        parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n                        parent.objColl.push(parent.activeObj);\n                        if (JSON.stringify(parent.activeObj.activePoint) !== JSON.stringify(this.tempActiveObj.activePoint)) {\n                            parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                                value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: this.tempObjColl,\n                                    previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                                    previousCropObj: prevCropObj, previousText: null,\n                                    currentText: null, previousFilter: null, isCircleCrop: null } });\n                        }\n                        var tempObj = extend({}, parent.objColl[parent.objColl.length - 1], {}, true);\n                        parent.objColl.pop();\n                        this.redrawShape(tempObj);\n                        this.tempObjColl = undefined;\n                    }\n                    if (!this.isFhdEditing) {\n                        this.applyCurrActObj(x, y);\n                        parent.currObjType.isResize = false;\n                        parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n                    }\n                }\n                else if (isCropSelection && this.isMouseUp && parent.cursor.indexOf('resize') > -1) {\n                    var previousShapeSettings = this.updatePrevShapeSettings();\n                    var shapeResizingArgs = { cancel: false, action: 'resize-end', previousShapeSettings: previousShapeSettings };\n                    this.triggerShapeChange(shapeResizingArgs, shapeResizingArgs, 'resize');\n                }\n                if (parent.activeObj) {\n                    var isCropSelection_1 = false;\n                    var splitWords_1;\n                    if (parent.activeObj.shape !== undefined) {\n                        splitWords_1 = parent.activeObj.shape.split('-');\n                    }\n                    if (splitWords_1 === undefined && (parent.currObjType.isCustomCrop || parent.togglePen)) {\n                        isCropSelection_1 = true;\n                    }\n                    else if (splitWords_1 !== undefined && splitWords_1[0] === 'crop') {\n                        isCropSelection_1 = true;\n                    }\n                    var shape = parent.activeObj.shape;\n                    activeObjShape = shape;\n                    var shapeColl = ['rectangle', 'ellipse', 'line', 'arrow', 'path'];\n                    if (shapeColl.indexOf(shape) > -1) {\n                        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'shapes',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    else if (shape === 'text') {\n                        if (parent.textArea.style.display === 'none') {\n                            parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'text',\n                                    isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                        }\n                    }\n                    else if (shape === 'redact') {\n                        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'redact',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    else if (this.isFhdEditing) {\n                        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'pen',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    else if (!isCropSelection_1) {\n                        var eventargs = { type: 'main', isApplyBtn: null, isCropping: false, isZooming: null };\n                        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: eventargs });\n                    }\n                    parent.notify('toolbar', { prop: 'update-toolbar-items', onPropertyChange: false });\n                    if (!this.isFhdEditing) {\n                        var width = Math.floor(parent.activeObj.activePoint.width);\n                        if (parent.activeObj.shape && parent.activeObj.shape === 'text' &&\n                            parent.activeObj.textSettings.fontSize === 11 && Math.floor(parent.activeObj.activePoint.height) === 11 &&\n                            (width === 55 || (parent.activeObj.textSettings.bold && width === 58))) {\n                            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                            if (parent.drawingShape === 'text' && !parent.activeObj.keyHistory) {\n                                parent.activeObj.keyHistory = 'Enter Text';\n                            }\n                        }\n                        if (!isCropSelection_1) {\n                            this.adjustActObjForLineArrow();\n                            if (parent.isShapeDrawing) {\n                                var temp = this.currentDrawingShape;\n                                parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                                this.currentDrawingShape = temp;\n                            }\n                            else {\n                                parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                            }\n                        }\n                    }\n                }\n            }\n            if (parent.activeObj.shape !== undefined) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (splitWords !== undefined && splitWords[0] === 'crop') {\n                isCropSelection = true;\n            }\n            if (parent.activeObj.shape && !isCropSelection && e.currentTarget === parent.upperCanvas &&\n                parent.textArea.style.display === 'none') {\n                if (parent.activeObj.shape === 'text') {\n                    parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'text',\n                            isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                }\n                else if (parent.activeObj.shape === 'redact') {\n                    parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'redact',\n                            isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                }\n                else {\n                    var temp = this.currentDrawingShape;\n                    this.currentDrawingShape = '';\n                    parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'shapes',\n                            isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    this.currentDrawingShape = temp;\n                }\n                parent.notify('toolbar', { prop: 'update-toolbar-items', onPropertyChange: false });\n                parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n            }\n            var obj = { freehandDrawSelectedId: null };\n            parent.notify('freehand-draw', { prop: 'getFreehandDrawSelectedId', onPropertyChange: false, value: { obj: obj } });\n            if (parent.togglePen && e.currentTarget === parent.upperCanvas && !obj['freehandDrawSelectedId']) {\n                parent.notify('freehand-draw', { prop: 'freehandUpHandler', onPropertyChange: false,\n                    value: { e: e, canvas: parent.upperCanvas, context: this.upperContext } });\n                if (parent.togglePen && !parent.isMaskImage && (isNullOrUndefined(parent.toolbar) ||\n                    (parent.toolbar && parent.toolbar.length > 0) || !isNullOrUndefined(parent.toolbarTemplate))) {\n                    parent.okBtn();\n                    parent.freeHandDraw(true);\n                }\n            }\n            else {\n                parent.currObjType.shape = '';\n            }\n            this.dragElement = '';\n            this.mouseDown = '';\n            this.isSliderActive = false;\n            parent.currObjType.isInitialLine = parent.currObjType.isDragging = false;\n            this.selMouseUpEvent();\n            if (isNullOrUndefined(parent.drawingShape) && activeObjShape && currentDrawingShape !== '') {\n                parent.drawingShape = activeObjShape;\n            }\n            if (parent.drawingShape) {\n                this.currentDrawingShape = parent.drawingShape.toLowerCase();\n                if (dummyClick) {\n                    parent.enableShapeDrawing(parent.toPascalCase(parent.drawingShape), true);\n                    parent.upperCanvas.style.cursor = 'crosshair';\n                }\n            }\n            parent.isShapeDrawing = false;\n            parent.notify('freehand-draw', { prop: 'resetSelPoints', onPropertyChange: false });\n        }\n        this.isMouseUp = false;\n    };\n    Selection.prototype.adjustActObjForLineArrow = function (obj) {\n        var isAdjusted = false;\n        var parent = this.parent;\n        obj = obj ? obj : parent.activeObj;\n        if (obj.shape && (obj.shape === 'line' || parent.activeObj.shape === 'arrow')) {\n            var temp = void 0;\n            if ((this.dragElement === 'e-resize' && obj.activePoint.endX < obj.activePoint.startX) ||\n                (this.dragElement === 'w-resize' && obj.activePoint.startX > obj.activePoint.endX)) {\n                isAdjusted = true;\n                temp = obj.activePoint.startX;\n                obj.activePoint.startX = obj.activePoint.endX;\n                obj.activePoint.endX = temp;\n                temp = obj.activePoint.startY;\n                obj.activePoint.startY = obj.activePoint.endY;\n                obj.activePoint.endY = temp;\n            }\n            obj.activePoint.width = Math.abs(obj.activePoint.endX - obj.activePoint.startX);\n            obj.activePoint.height = Math.abs(obj.activePoint.endY - obj.activePoint.startY);\n            if (parent.activeObj.shape !== 'path') {\n                parent.notify('shape', { prop: 'setPointCollForLineArrow', onPropertyChange: false,\n                    value: { obj: obj } });\n                for (var i = 0; i < obj.pointColl.length; i++) {\n                    obj.pointColl[i].ratioX = (obj.pointColl[i].x -\n                        parent.img.destLeft) / parent.img.destWidth;\n                    obj.pointColl[i].ratioY = (obj.pointColl[i].y -\n                        parent.img.destTop) / parent.img.destHeight;\n                }\n            }\n        }\n        return isAdjusted;\n    };\n    Selection.prototype.updPtCollForShpRot = function (obj) {\n        var parent = this.parent;\n        obj = obj ? obj : parent.activeObj;\n        if (obj.shape && obj.rotatedAngle !== 0) {\n            parent.notify('shape', { prop: 'setPointCollForShapeRotation', onPropertyChange: false, value: { obj: obj } });\n            var _a = parent.img, destLeft_1 = _a.destLeft, destTop_1 = _a.destTop, destWidth_1 = _a.destWidth, destHeight_1 = _a.destHeight;\n            var horTopLinePointColl = obj.horTopLinePointColl, horBottomLinePointColl = obj.horBottomLinePointColl, verLeftLinePointColl = obj.verLeftLinePointColl, verRightLinePointColl = obj.verRightLinePointColl;\n            // eslint-disable-next-line @typescript-eslint/tslint/config\n            var setRatio = function (point) {\n                point.ratioX = (point.x - destLeft_1) / destWidth_1;\n                point.ratioY = (point.y - destTop_1) / destHeight_1;\n            };\n            horTopLinePointColl.forEach(setRatio);\n            horBottomLinePointColl.forEach(setRatio);\n            verLeftLinePointColl.forEach(setRatio);\n            verRightLinePointColl.forEach(setRatio);\n        }\n    };\n    Selection.prototype.setXYPoints = function (e) {\n        e.preventDefault();\n        var x;\n        var y;\n        if (e.type === 'mousedown') {\n            x = e.clientX;\n            y = e.clientY;\n        }\n        else {\n            this.touchEndPoint.x = x = e.touches[0].clientX;\n            this.touchEndPoint.y = y = e.touches[0].clientY;\n        }\n        var bbox = this.parent.lowerCanvas.getBoundingClientRect();\n        x -= bbox.left;\n        y -= bbox.top;\n        return { x: x, y: y };\n    };\n    Selection.prototype.getCurrentIndex = function () {\n        var index;\n        var parent = this.parent;\n        for (var i = 0, len = parent.objColl.length; i < len; i++) {\n            if (parent.activeObj.currIndex === parent.objColl[i].currIndex) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    Selection.prototype.isShapeClick = function (e, isCropSelection) {\n        var parent = this.parent;\n        var isShape = false;\n        if (parent.togglePen) {\n            return isShape;\n        }\n        if (parent.activeObj.shape && parent.activeObj.shape === 'text' && this.isShapeInserted) {\n            var isTextArea = (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block')\n                ? true : false;\n            var activeObj = extend({}, parent.activeObj, null, true);\n            parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                value: { x: null, y: null, isMouseDown: true } });\n            var points = this.setXYPoints(e);\n            var x = points.x;\n            var y = points.y;\n            isShape = this.findTargetObj(x, y, isCropSelection);\n            if (!isCropSelection) {\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                if (isShape) {\n                    parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                        value: { x: null, y: null, isMouseDown: true } });\n                }\n            }\n            if (isTextArea) {\n                parent.textArea.value = parent.objColl[parent.objColl.length - 1].keyHistory;\n                parent.textArea.style.display = 'block';\n                parent.activeObj = activeObj;\n                var index = this.getCurrentIndex();\n                if (isNullOrUndefined(index)) {\n                    parent.objColl.pop();\n                }\n                else {\n                    parent.objColl.splice(index, 1);\n                }\n            }\n            else if (!isShape && activeObj.shape) {\n                parent.activeObj = activeObj;\n                var index = this.getCurrentIndex();\n                if ((!isNullOrUndefined(index) &&\n                    JSON.stringify(parent.activeObj.activePoint) === JSON.stringify(parent.objColl[index].activePoint))) {\n                    parent.objColl.splice(index, 1);\n                }\n                else if (isNullOrUndefined(parent.activeObj.currIndex)) {\n                    parent.objColl.pop();\n                }\n            }\n        }\n        return isShape;\n    };\n    Selection.prototype.isShapeTouch = function (e, isCropSelection) {\n        var parent = this.parent;\n        var isShape = false;\n        if (e.type === 'touchstart' && !parent.togglePen) {\n            if (parent.activeObj && parent.activeObj.shape === 'text') {\n                this.timer = setTimeout(this.setTimer.bind(this), 1000, e);\n            }\n            var isTextArea = (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block')\n                ? true : false;\n            var activeObj = extend({}, parent.activeObj, null, true);\n            parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                value: { x: null, y: null, isMouseDown: true } });\n            var points = this.setXYPoints(e);\n            var x = points.x;\n            var y = points.y;\n            isShape = this.findTargetObj(x, y, isCropSelection);\n            if (!isCropSelection) {\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            }\n            if (isTextArea) {\n                parent.textArea.value = parent.objColl[parent.objColl.length - 1].keyHistory;\n                parent.textArea.style.display = 'block';\n                parent.activeObj = activeObj;\n                var index = this.getCurrentIndex();\n                if (isNullOrUndefined(index)) {\n                    parent.objColl.pop();\n                }\n                else {\n                    parent.objColl.splice(index, 1);\n                }\n            }\n            else if (!isShape && activeObj.shape && (activeObj.activePoint.width !== 0 || activeObj.activePoint.height !== 0 ||\n                (activeObj.shape === 'path' && activeObj.pointColl.length > 0))) {\n                parent.activeObj = activeObj;\n                var index = this.getCurrentIndex();\n                if (!isCropSelection) {\n                    if ((!isNullOrUndefined(index) && JSON.stringify(parent.activeObj.activePoint) ===\n                        JSON.stringify(parent.objColl[index].activePoint))) {\n                        parent.objColl.splice(index, 1);\n                    }\n                    else if (isNullOrUndefined(parent.activeObj.currIndex)) {\n                        parent.objColl.pop();\n                    }\n                }\n            }\n        }\n        return isShape;\n    };\n    Selection.prototype.isFreehandDrawTouch = function (e, isCropSelection) {\n        var parent = this.parent;\n        var isFreehandDraw = false;\n        if (e.type === 'touchstart' && !isCropSelection && !parent.togglePen) {\n            var isTextArea = (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block')\n                ? true : false;\n            var activeObj = extend({}, parent.activeObj, null, true);\n            parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                value: { x: null, y: null, isMouseDown: true } });\n            var points = this.setXYPoints(e);\n            var x = points.x;\n            var y = points.y;\n            this.setCursor(x, y);\n            if (this.isFhdPoint) {\n                isFreehandDraw = true;\n            }\n            if (isTextArea) {\n                parent.textArea.value = parent.objColl[parent.objColl.length - 1].keyHistory;\n                parent.textArea.style.display = 'block';\n                parent.activeObj = activeObj;\n                var index = this.getCurrentIndex();\n                if (isNullOrUndefined(index)) {\n                    parent.objColl.pop();\n                }\n                else {\n                    parent.objColl.splice(index, 1);\n                }\n            }\n            else if (activeObj.shape) {\n                parent.activeObj = activeObj;\n                var index = this.getCurrentIndex();\n                if (!isCropSelection) {\n                    if ((!isNullOrUndefined(index) && JSON.stringify(parent.activeObj.activePoint) ===\n                        JSON.stringify(parent.objColl[index].activePoint))) {\n                        parent.objColl.splice(index, 1);\n                    }\n                    else if (isNullOrUndefined(parent.activeObj.currIndex)) {\n                        parent.objColl.pop();\n                    }\n                }\n            }\n        }\n        return isFreehandDraw;\n    };\n    Selection.prototype.applyObj = function (x, y) {\n        var parent = this.parent;\n        var isApply = false;\n        if (parent.activeObj.activePoint.width === 0 && parent.activeObj.activePoint.height === 0) {\n            return false;\n        }\n        var shapeColl = ['rectangle', 'ellipse', 'line', 'arrow', 'path', 'image', 'text'];\n        var _a = parent.activeObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        if (parent.activeObj.shape && shapeColl.indexOf(parent.activeObj.shape) > -1) {\n            var radius = parent.activeObj.topLeftCircle.radius;\n            if (x >= (startX - (radius * 2)) && x <= (endX + (radius * 2)) && y >= (startY - (radius * 2)) &&\n                y <= (endY + (radius * 2))) {\n                isApply = false;\n            }\n            else if (parent.upperCanvas.style.cursor !== 'default' && parent.upperCanvas.style.cursor !== 'grab' &&\n                parent.upperCanvas.style.cursor !== 'crosshair' && parent.upperCanvas.style.cursor !== 'pointer' &&\n                parent.upperCanvas.style.cursor !== 'move') {\n                isApply = false;\n            }\n            else {\n                isApply = true;\n            }\n        }\n        return isApply;\n    };\n    Selection.prototype.applyCurrShape = function (isShapeClick) {\n        var parent = this.parent;\n        var isApply = false;\n        if (parent.togglePen) {\n            return isApply;\n        }\n        var obj = extend({}, parent.activeObj, null, true);\n        if (this.isShapeInserted && parent.activeObj.shape === 'text' && isShapeClick) {\n            this.isInitialTextEdited = true;\n            parent.notify('draw', { prop: 'setShapeTextInsert', onPropertyChange: false, value: { bool: true } });\n        }\n        if (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') {\n            var activeObj = extend({}, parent.activeObj, null, true);\n            parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                value: { x: null, y: null, isMouseDown: null } });\n            obj = extend({}, parent.objColl[parent.objColl.length - 1], null, true);\n            parent.objColl.pop();\n            parent.activeObj = extend({}, activeObj, null, true);\n            parent.textArea.value = obj.keyHistory;\n            parent.textArea.style.display = 'block';\n            var strokeColor = obj.strokeSettings && obj.strokeSettings.strokeColor ? obj.strokeSettings.strokeColor.split('(')[0] === 'rgb' ?\n                this.rgbToHex(parseFloat(obj.strokeSettings.strokeColor.split('(')[1].split(',')[0]), parseFloat(obj.strokeSettings.strokeColor.split('(')[1].split(',')[1]), parseFloat(obj.strokeSettings.strokeColor.split('(')[1].split(',')[2]), parseFloat(obj.strokeSettings.strokeColor.split('(')[1].split(',')[3])) :\n                obj.strokeSettings.strokeColor : null;\n            if (strokeColor && strokeColor === '#ffffff') {\n                strokeColor = '#fff';\n            }\n            if (this.tempActiveObj.strokeSettings && this.tempActiveObj.strokeSettings.strokeColor &&\n                this.tempActiveObj.strokeSettings.strokeColor === '#ffffff') {\n                this.tempActiveObj.strokeSettings.strokeColor = '#fff';\n            }\n            if (obj.keyHistory !== this.tempActiveObj.keyHistory ||\n                (strokeColor && (strokeColor !== this.tempActiveObj.strokeSettings.strokeColor)) ||\n                (obj.textSettings && obj.textSettings.fontFamily !== this.tempActiveObj.textSettings.fontFamily) ||\n                (obj.textSettings && Math.round(obj.textSettings.fontSize) !== Math.round(this.tempActiveObj.textSettings.fontSize)) ||\n                (obj.textSettings && Math.round(obj.textSettings.fontRatio) !== Math.round(this.tempActiveObj.textSettings.fontRatio)) ||\n                (obj.textSettings && obj.textSettings.bold !== this.tempActiveObj.textSettings.bold) ||\n                (obj.textSettings && obj.textSettings.italic !== this.tempActiveObj.textSettings.italic) ||\n                (obj.textSettings && obj.textSettings.underline !== this.tempActiveObj.textSettings.underline)) {\n                isApply = true;\n            }\n            if (this.isInitialTextEdited && !isApply) {\n                isApply = true;\n                this.isInitialTextEdited = false;\n            }\n        }\n        else {\n            this.tempActiveObj.activePoint.height = Math.abs(this.tempActiveObj.activePoint.height);\n            isApply = JSON.stringify(obj) !== JSON.stringify(this.tempActiveObj);\n        }\n        return isApply;\n    };\n    Selection.prototype.canvasMouseDownHandler = function (e) {\n        var parent = this.parent;\n        e.preventDefault();\n        var x;\n        var y;\n        if (e.type === 'mousedown') {\n            x = e.offsetX || (e.pageX - parent.lowerCanvas.offsetLeft);\n            y = e.offsetY || (e.pageY - parent.lowerCanvas.offsetTop);\n        }\n        else {\n            x = e.touches[0].clientX || (e.touches[0].pageX - parent.lowerCanvas.offsetLeft);\n            y = e.touches[0].clientY || (e.touches[0].pageY - parent.lowerCanvas.offsetTop);\n        }\n        var bbox = parent.lowerCanvas.getBoundingClientRect();\n        x -= bbox.left;\n        y -= bbox.top;\n        this.panDown = { x: x, y: y };\n        var tempPanMoveObj = { tempPanMove: null };\n        parent.notify('transform', { prop: 'getTempPanMove', onPropertyChange: false,\n            value: { obj: tempPanMoveObj } });\n        if (isNullOrUndefined(tempPanMoveObj['tempPanMove'])) {\n            parent.notify('transform', { prop: 'setTempPanMove', onPropertyChange: false,\n                value: { point: { x: x, y: y } } });\n        }\n    };\n    Selection.prototype.canvasMouseMoveHandler = function (e) {\n        var parent = this.parent;\n        var frameObject = { bool: null };\n        parent.notify('toolbar', { prop: 'getFrameToolbar', onPropertyChange: false, value: { obj: frameObject } });\n        if (parent.isResize || frameObject['bool']) {\n            parent.upperCanvas.style.cursor = 'default';\n            return;\n        }\n        if (this.dragCanvas) {\n            parent.lowerCanvas.style.cursor = 'grab';\n        }\n        else {\n            this.dragCanvas = parent.togglePan = false;\n            parent.lowerCanvas.style.cursor = parent.upperCanvas.style.cursor = parent.cursor = 'default';\n        }\n        var x;\n        var y;\n        if (e.type === 'mousemove') {\n            x = e.offsetX;\n            y = e.offsetY;\n        }\n        else {\n            x = e.touches[0].clientX || (e.touches[0].pageX - parent.lowerCanvas.offsetLeft);\n            y = e.touches[0].clientY || (e.touches[0].pageY - parent.lowerCanvas.offsetTop);\n        }\n        var bbox = parent.lowerCanvas.getBoundingClientRect();\n        x -= bbox.left;\n        y -= bbox.top;\n        var panMove = { x: x, y: y };\n        parent.notify('transform', { prop: 'setPanMove', onPropertyChange: false,\n            value: { point: { x: x, y: y } } });\n        if (this.panDown && panMove && parent.togglePan && this.dragCanvas) {\n            if (parent.isCropTab || parent.activeObj.shape) {\n                parent.notify('draw', { prop: 'setStraightenActObj', value: { activeObj: null } });\n                parent.notify('freehand-draw', { prop: 'resetStraightenPoint' });\n            }\n            parent.notify('transform', { prop: 'drawPannedImage', onPropertyChange: false,\n                value: { xDiff: null, yDiff: null } });\n        }\n    };\n    Selection.prototype.canvasMouseUpHandler = function (e) {\n        var parent = this.parent;\n        e.preventDefault();\n        var panMoveObj = { panMove: null };\n        parent.notify('transform', { prop: 'getPanMove', onPropertyChange: false,\n            value: { obj: panMoveObj } });\n        if (parent.togglePan) {\n            if (this.panDown && panMoveObj['panMove'] && parent.togglePan && this.dragCanvas) {\n                this.panDown = null;\n                parent.notify('transform', { prop: 'setPanMove', onPropertyChange: false,\n                    value: { point: null } });\n            }\n        }\n        parent.notify('transform', { prop: 'setTempPanMove', onPropertyChange: false,\n            value: { point: null } });\n        if (this.currentDrawingShape !== 'path') {\n            parent.currObjType.isDragging = false;\n        }\n    };\n    Selection.prototype.touchStartHandler = function (e) {\n        e.preventDefault();\n        var parent = this.parent;\n        if (this.touchTime === 0) {\n            this.touchTime = new Date().getTime();\n        }\n        else {\n            if (((new Date().getTime()) - this.touchTime) < 400) {\n                this.isTouchDblClick = true;\n                var temp = parent.isShapeDrawing;\n                parent.notify('shape', { prop: 'stopPathDrawing', onPropertyChange: false, value: { e: e, isApply: null } });\n                this.isTouchDblClick = false;\n                this.touchTime = 0;\n                if (temp !== parent.isShapeDrawing && parent.activeObj.shape &&\n                    parent.activeObj.shape === 'path') {\n                    return;\n                }\n            }\n            else {\n                this.touchTime = new Date().getTime();\n            }\n        }\n        if (e.touches.length === 2) {\n            this.isFirstMove = true;\n        }\n        else {\n            this.mouseDownEventHandler(e);\n        }\n        EventHandler.add(parent.lowerCanvas, 'touchend', this.mouseUpEventHandler, this);\n        EventHandler.add(parent.lowerCanvas, 'touchmove', this.mouseMoveEventHandler, this);\n        EventHandler.add(parent.upperCanvas, 'touchend', this.mouseUpEventHandler, this);\n        EventHandler.add(parent.upperCanvas, 'touchmove', this.mouseMoveEventHandler, this);\n    };\n    Selection.prototype.unwireEvent = function () {\n        var parent = this.parent;\n        EventHandler.remove(parent.lowerCanvas, 'touchend', this.mouseUpEventHandler);\n        EventHandler.remove(parent.lowerCanvas, 'touchmove', this.mouseMoveEventHandler);\n        EventHandler.remove(parent.upperCanvas, 'touchend', this.mouseUpEventHandler);\n        EventHandler.remove(parent.upperCanvas, 'touchmove', this.mouseMoveEventHandler);\n    };\n    Selection.prototype.keyDownEventHandler = function (e) {\n        var parent = this.parent;\n        if (e.ctrlKey && (e.key === '+' || e.key === '-')) {\n            e.preventDefault();\n        }\n        var obj = { fileName: '', fileType: null };\n        parent.notify('draw', { prop: 'getFileName', onPropertyChange: false, value: { obj: obj } });\n        var beforeSave = { fileName: obj['fileName'], fileType: obj['fileType'], cancel: false };\n        switch (e.key) {\n            case (e.ctrlKey && 's'):\n                parent.trigger('beforeSave', beforeSave);\n                this.beforeSaveEvent(beforeSave, e);\n                break;\n            case (e.ctrlKey && 'z'):\n                if (parent.allowUndoRedo) {\n                    parent.noPushUndo = false;\n                    if (parent.togglePen || parent.drawingShape) {\n                        parent.okBtn();\n                        parent.drawingShape = null;\n                    }\n                    parent.notify('undo-redo', { prop: 'call-undo' });\n                }\n                break;\n            case (e.ctrlKey && 'y'):\n                if (parent.allowUndoRedo) {\n                    parent.noPushUndo = false;\n                    if (parent.togglePen || parent.drawingShape) {\n                        parent.okBtn();\n                        parent.drawingShape = null;\n                    }\n                    parent.notify('undo-redo', { prop: 'call-redo' });\n                }\n                break;\n            case (e.ctrlKey && '+'):\n                if ((parent.zoomSettings.zoomTrigger & ZoomTrigger.Commands) === ZoomTrigger.Commands) {\n                    this.zoomType = 'Commands';\n                    parent.isZoomBtnClick = true;\n                    parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                        value: { zoomFactor: .1, zoomPoint: null }, isResize: null });\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                    if (parent.isCropTab || parent.activeObj.shape) {\n                        parent.notify('draw', { prop: 'setStraightenActObj', value: { activeObj: null } });\n                        parent.notify('freehand-draw', { prop: 'resetStraightenPoint' });\n                    }\n                    if (parent.isStraightening) {\n                        parent.notify('draw', { prop: 'resetStraightenDestPoints' });\n                        parent.notify('draw', { prop: 'setDestForStraighten' });\n                    }\n                }\n                break;\n            case (e.ctrlKey && '-'):\n                if ((parent.zoomSettings.zoomTrigger & ZoomTrigger.Commands) === ZoomTrigger.Commands) {\n                    this.zoomType = 'Commands';\n                    parent.isZoomBtnClick = true;\n                    parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                        value: { zoomFactor: -.1, zoomPoint: null }, isResize: null });\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                    if (parent.isCropTab || parent.activeObj.shape) {\n                        parent.notify('draw', { prop: 'setStraightenActObj', value: { activeObj: null } });\n                        parent.notify('freehand-draw', { prop: 'resetStraightenPoint' });\n                    }\n                    if (parent.isStraightening) {\n                        parent.notify('draw', { prop: 'resetStraightenDestPoints' });\n                        parent.notify('draw', { prop: 'setDestForStraighten' });\n                    }\n                }\n                break;\n            case 'Delete':\n                this.deleteItem();\n                break;\n            case 'Escape':\n                parent.notify('draw', { prop: 'performCancel', value: { isContextualToolbar: null, isFinalCancel: true } });\n                break;\n            case 'Enter':\n                this.performEnterAction(e);\n                break;\n            case 'Tab':\n                this.performTabAction();\n                break;\n            default:\n                if (Browser.isDevice && (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block')) {\n                    setTimeout(this.textKeyDown.bind(this), 1, e);\n                }\n                break;\n        }\n    };\n    Selection.prototype.performEnterAction = function (e) {\n        var parent = this.parent;\n        if (parent.isResize) {\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var target = e.target;\n            var isIcon = target.id.indexOf('aspectratio') ||\n                target.id.indexOf('non-aspectratio') > -1 ? true : false;\n            var isValue = this.isValueUpdated();\n            if (!isValue) {\n                if (isIcon) {\n                    this.focusRatioBtn();\n                }\n                return;\n            }\n            var point = this.getNumTextValue();\n            var aspectRatioElement = parent.element.querySelector('#' + parent.element.id + '_aspectratio');\n            var blrAspRatElem = parent.element.querySelector('.e-ie-toolbar-aspect-ratio-btn');\n            if (point && point.x && point.y) {\n                if (aspectRatioElement || (blrAspRatElem && !blrAspRatElem.classList.contains('e-hidden'))) {\n                    parent.notify('transform', { prop: 'resize', value: { width: point.x, height: null, isAspectRatio: true } });\n                }\n                else {\n                    parent.notify('transform', { prop: 'resize', value: { width: point.x, height: point.y, isAspectRatio: false } });\n                }\n            }\n            var aspectRatioHeight = parent.element.querySelector('#' + parent.element.id + '_resizeHeight');\n            var aspectRatioWidth = parent.element.querySelector('#' + parent.element.id + '_resizeWidth');\n            if (isNullOrUndefined(aspectRatioElement)) {\n                if (aspectRatioHeight) {\n                    var elem = getComponent(aspectRatioHeight, 'numerictextbox');\n                    if (aspectRatioHeight && aspectRatioHeight.value === '') {\n                        elem.value = parseFloat(elem.placeholder);\n                        aspectRatioHeight.value = elem.placeholder + 'px';\n                    }\n                }\n                if (aspectRatioWidth) {\n                    var elem = getComponent(aspectRatioWidth, 'numerictextbox');\n                    if (aspectRatioWidth && aspectRatioWidth.value === '') {\n                        elem.value = parseFloat(elem.placeholder);\n                        aspectRatioWidth.value = elem.placeholder + 'px';\n                    }\n                }\n            }\n            parent.notify('draw', { prop: 'redrawDownScale' });\n            if (isIcon) {\n                this.focusRatioBtn();\n            }\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        }\n        else if (e.target.classList.contains('e-upload')) {\n            var upload = parent.element.querySelector('.e-image-upload');\n            if (upload && upload.querySelector('.e-tbar-btn')) {\n                upload.querySelector('.e-tbar-btn').click();\n            }\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        }\n        else if (e.target.classList.contains('filter-wrapper')) {\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            e.target.parentElement.click();\n        }\n        else {\n            var splitWords = void 0;\n            if (parent.activeObj.shape) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (e && this.isKeyBoardCrop(e) &&\n                parent.activeObj.horTopLine && (parent.activeObj.shape && splitWords[0] === 'crop')) {\n                parent.crop();\n            }\n        }\n    };\n    Selection.prototype.focusRatioBtn = function () {\n        var id = this.parent.element.id;\n        if (this.parent.isKBDNavigation) {\n            // eslint-disable-next-line @typescript-eslint/tslint/config\n            setTimeout(function () {\n                if (document.getElementById(id + '_aspectratio')) {\n                    document.getElementById(id + '_aspectratio').focus();\n                }\n                else if (document.getElementById(id + '_nonaspectratio')) {\n                    document.getElementById(id + '_nonaspectratio').focus();\n                }\n            }, 50);\n        }\n    };\n    Selection.prototype.isKeyBoardCrop = function (e) {\n        var bool = false;\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var target = e.target;\n        if (target.id === this.parent.element.id + '_ok' || target.id === '') {\n            bool = true;\n        }\n        return bool;\n    };\n    Selection.prototype.beforeSaveEvent = function (observableSaveArgs, e) {\n        var parent = this.parent;\n        if (!observableSaveArgs.cancel) {\n            parent.notify('export', { prop: 'export', onPropertyChange: false,\n                value: { type: observableSaveArgs.fileType, fileName: observableSaveArgs.fileName } });\n        }\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    };\n    Selection.prototype.handleScroll = function (e) {\n        this.mouseWheel++;\n        var parent = this.parent;\n        var x;\n        var y;\n        var isInsideCanvas = false;\n        if (e.type === 'mousewheel') {\n            // eslint-disable-next-line\n            x = e.clientX;\n            y = e.clientY;\n        }\n        var bbox = parent.lowerCanvas.getBoundingClientRect();\n        x -= bbox.left;\n        y -= bbox.top;\n        if (x > parent.img.destLeft && x < parent.img.destLeft + parent.img.destWidth && y > parent.img.destTop &&\n            y < parent.img.destTop + parent.img.destHeight) {\n            isInsideCanvas = true;\n        }\n        if (this.mouseWheel === 2) {\n            this.mouseWheel = 0;\n            if (e.ctrlKey === true && isInsideCanvas) {\n                e.preventDefault();\n            }\n            return;\n        }\n        e.stopPropagation();\n        if (e.ctrlKey === true && isInsideCanvas) {\n            e.preventDefault();\n            if (!parent.isCropTab && (parent.activeObj.shape && parent.activeObj.shape.split('-')[0] !== 'crop')) {\n                parent.okBtn(null, true);\n                parent.notify('toolbar', { prop: 'close-contextual-toolbar', onPropertyChange: false });\n            }\n            var type = '';\n            if (e.type === 'mousewheel' && (parent.zoomSettings.zoomTrigger & ZoomTrigger.MouseWheel) === ZoomTrigger.MouseWheel) {\n                this.zoomType = 'MouseWheel';\n                // eslint-disable-next-line\n                if (e.wheelDelta > 0) {\n                    type = 'zoomIn';\n                }\n                else {\n                    type = 'zoomOut';\n                }\n            }\n            if (type !== '') {\n                parent.isZoomBtnClick = true;\n                parent.notify('draw', { prop: 'performPointZoom', onPropertyChange: false,\n                    value: { x: x, y: y, type: type, isResize: null } });\n                parent.notify('draw', { prop: 'redrawDownScale' });\n                if (parent.isCropTab || parent.activeObj.shape) {\n                    parent.notify('draw', { prop: 'setStraightenActObj', value: { activeObj: null } });\n                    parent.notify('freehand-draw', { prop: 'resetStraightenPoint' });\n                }\n                if (parent.isStraightening) {\n                    parent.notify('draw', { prop: 'resetStraightenDestPoints' });\n                    parent.notify('draw', { prop: 'setDestForStraighten' });\n                }\n            }\n        }\n    };\n    Selection.prototype.textKeyDown = function (e) {\n        var parent = this.parent;\n        if (parent.activeObj.rotatedAngle !== 0) {\n            return;\n        }\n        if (String.fromCharCode(e.which) === '\\r') {\n            this.textRow += 1;\n        }\n        parent.textArea.setAttribute('rows', this.textRow.toString());\n        parent.textArea.style.height = 'auto';\n        parent.textArea.style.height = parent.textArea.scrollHeight + 'px';\n        parent.notify('shape', { prop: 'setTextBoxWidth', onPropertyChange: false, value: { e: e } });\n        if (Browser.isDevice) {\n            parent.textArea.style.width = parseFloat(parent.textArea.style.width) + parent.textArea.style.fontSize + 'px';\n        }\n        var rows = parent.textArea.value.split('\\n');\n        this.textRow = rows.length;\n        parent.textArea.setAttribute('rows', this.textRow.toString());\n        this.isInitialTextEdited = false;\n    };\n    Selection.prototype.clearSelection = function (resetCrop) {\n        var parent = this.parent;\n        if (!parent.disabled && parent.isImageLoaded) {\n            if (resetCrop) {\n                parent.notify('draw', { prop: 'performCancel', value: { isContextualToolbar: null } });\n            }\n            else {\n                parent.togglePen = false;\n                parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                this.dragElement = '';\n                this.dragPoint.startX = this.dragPoint.startY = this.dragPoint.endX = this.dragPoint.endY = 0;\n                parent.currObjType.shape = '';\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                parent.currObjType.isActiveObj = true;\n                parent.currObjType.isCustomCrop = false;\n                parent.upperCanvas.style.cursor = parent.cursor = 'default';\n            }\n        }\n    };\n    Selection.prototype.setDragDirection = function (width, height) {\n        var arcRadius = (7.5);\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        if (parent.img.destWidth > parent.img.destHeight) {\n            actPoint.startX = this.dragPoint.startX = ((width / 2) - (height / 2)) + arcRadius;\n            actPoint.startY = this.dragPoint.startY = ((height / 2) - (height / 2)) + arcRadius;\n            actPoint.endX = ((width / 2) + (height / 2)) - arcRadius;\n            actPoint.endY = ((height / 2) + (height / 2)) - arcRadius;\n        }\n        else {\n            actPoint.startY = this.dragPoint.startX = ((height / 2) - (width) / 2) + arcRadius;\n            actPoint.endY = ((height / 2) + (width) / 2) - arcRadius;\n            actPoint.startX = this.dragPoint.startX = arcRadius;\n            actPoint.endX = width - arcRadius;\n        }\n    };\n    Selection.prototype.calcShapeRatio = function (x, y, imgWidth, imgHeight) {\n        var parent = this.parent;\n        var actPoint = parent.activeObj.activePoint;\n        var arcRadius = (7.5);\n        var presetRatio = x / y;\n        var originalWidth = imgWidth;\n        var originalHeight = imgHeight;\n        var standardSize = originalWidth >= originalHeight ? originalWidth : originalHeight;\n        var width = standardSize * presetRatio;\n        var height = standardSize;\n        var scaleWidth = this.getScale(width, originalWidth);\n        var snippetArray = [];\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        for (var i = 0; i < 2; i++) {\n            if (i === 0) {\n                snippetArray.push(width * scaleWidth);\n            }\n            else {\n                snippetArray.push(height * scaleWidth);\n            }\n        }\n        width = snippetArray[0];\n        height = snippetArray[1];\n        var scaleHeight = this.getScale(height, originalHeight);\n        var snippetArray1 = [];\n        for (var i = 0; i < 2; i++) {\n            if (i === 0) {\n                snippetArray1.push(width * scaleHeight);\n            }\n            else {\n                snippetArray1.push(height * scaleHeight);\n            }\n        }\n        width = snippetArray1[0];\n        height = snippetArray1[1];\n        actPoint.width = width;\n        actPoint.height = height;\n        actPoint.startX = (this.dragPoint.startX = (originalWidth - width) / 2) + arcRadius;\n        actPoint.startY = (this.dragPoint.startY = (originalHeight - height) / 2) + arcRadius;\n        actPoint.endX = actPoint.startX + actPoint.width;\n        actPoint.endY = actPoint.startY + actPoint.height;\n        if (actPoint.startX < destLeft && destLeft + destWidth > parent.lowerCanvas.clientWidth) {\n            actPoint.startX = destLeft;\n            actPoint.endX = actPoint.startX + width - arcRadius;\n        }\n        if (actPoint.startY < destTop && destTop + destHeight > parent.lowerCanvas.clientHeight) {\n            actPoint.startY = destTop;\n            actPoint.endY = actPoint.startY + height - arcRadius;\n        }\n        actPoint.width = actPoint.endX - actPoint.startX;\n        actPoint.height = actPoint.endY - actPoint.startY;\n    };\n    Selection.prototype.getScale = function (value, originalValue) {\n        return value > originalValue ? originalValue / value : 1;\n    };\n    Selection.prototype.findTarget = function (x, y, type) {\n        var parent = this.parent;\n        if (type.toLowerCase() === 'mousedown' || type.toLowerCase() === 'touchstart') {\n            var splitWords = void 0;\n            var isCrop = false;\n            if (parent.activeObj.shape) {\n                splitWords = parent.activeObj.shape.split('-');\n                if (splitWords[0] === 'crop') {\n                    isCrop = true;\n                }\n            }\n            this.findTargetObj(x, y, isCrop);\n            this.updateCursorStyles(x, y, type);\n        }\n        else {\n            var _a = parent.activeObj, topLeftCircle = _a.topLeftCircle, topCenterCircle = _a.topCenterCircle, topRightCircle = _a.topRightCircle, centerLeftCircle = _a.centerLeftCircle, centerRightCircle = _a.centerRightCircle, bottomLeftCircle = _a.bottomLeftCircle, bottomCenterCircle = _a.bottomCenterCircle, bottomRightCircle = _a.bottomRightCircle;\n            switch (this.dragElement.toLowerCase()) {\n                case 'nw-resize':\n                    topLeftCircle.startX = x;\n                    topLeftCircle.startY = y;\n                    break;\n                case 'n-resize':\n                    topCenterCircle.startX = x;\n                    topCenterCircle.startY = y;\n                    break;\n                case 'ne-resize':\n                    topRightCircle.startX = x;\n                    topRightCircle.startY = y;\n                    break;\n                case 'w-resize':\n                    centerLeftCircle.startX = x;\n                    centerLeftCircle.startY = y;\n                    break;\n                case 'e-resize':\n                    centerRightCircle.startX = x;\n                    centerRightCircle.startY = y;\n                    break;\n                case 'sw-resize':\n                    bottomLeftCircle.startX = x;\n                    bottomLeftCircle.startY = y;\n                    break;\n                case 's-resize':\n                    bottomCenterCircle.startX = x;\n                    bottomCenterCircle.startY = y;\n                    break;\n                case 'se-resize':\n                    bottomRightCircle.startX = x;\n                    bottomRightCircle.startY = y;\n                    break;\n                default:\n                    if (this.dragPoint.startX && this.dragPoint.startY) {\n                        this.previousPoint.x = this.dragPoint.endX;\n                        this.previousPoint.y = this.dragPoint.endY;\n                        this.dragPoint.endX = x;\n                        this.dragPoint.endY = y;\n                    }\n                    break;\n            }\n        }\n    };\n    Selection.prototype.findTargetObj = function (x, y, isCrop) {\n        var parent = this.parent;\n        var isShape = false;\n        if (parent.objColl.length !== 0 && !parent.currObjType.isCustomCrop && !isCrop) {\n            var prevIndex = 0;\n            var i = void 0;\n            for (var index = 0; index < parent.objColl.length; index++) {\n                var cursor = parent.upperCanvas.style.cursor;\n                this.setCursor(x, y);\n                var actObj = extend({}, parent.objColl[index], {}, true);\n                var radius = actObj.topLeftCircle.radius;\n                if (actObj.shape === 'line' || actObj.shape === 'arrow') {\n                    for (var j = 0; j < actObj.pointColl.length; j++) {\n                        if (x >= actObj.pointColl[j].x - (radius * 2) &&\n                            x <= actObj.pointColl[j].x + (radius * 2) &&\n                            y >= actObj.pointColl[j].y - (radius * 2) &&\n                            y <= actObj.pointColl[j].y + (radius * 2)) {\n                            if (this.tempActiveObj && this.tempActiveObj.activePoint &&\n                                JSON.stringify(this.tempActiveObj.activePoint) === JSON.stringify(actObj.activePoint)) {\n                                i = index;\n                                break;\n                            }\n                            else {\n                                if (this.isTouch || parent.cursor === 'move' ||\n                                    parent.cursor === 'grab' || this.isShapeInserted) {\n                                    if (prevIndex === 0 || prevIndex < actObj.order) {\n                                        prevIndex = actObj.order;\n                                        i = index;\n                                    }\n                                }\n                                else if (parent.objColl[index].currIndex === this.tempActiveObj.currIndex) {\n                                    i = index;\n                                }\n                            }\n                            break;\n                        }\n                    }\n                }\n                else if (actObj.shape === 'path') {\n                    var cursor_3 = this.setCursorForPath(actObj, x, y, parent.upperCanvas);\n                    if (cursor_3 !== 'default' && cursor_3 !== 'grab') {\n                        if (this.tempActiveObj && this.tempActiveObj.activePoint &&\n                            JSON.stringify(this.tempActiveObj.activePoint) === JSON.stringify(actObj.activePoint)) {\n                            i = index;\n                            break;\n                        }\n                        else {\n                            if (this.isTouch || parent.cursor === 'move' || parent.cursor === 'grab' || this.isShapeInserted) {\n                                if (prevIndex === 0 || prevIndex < actObj.order) {\n                                    prevIndex = actObj.order;\n                                    i = index;\n                                }\n                            }\n                            else if (parent.objColl[index].currIndex === this.tempActiveObj.currIndex) {\n                                i = index;\n                            }\n                        }\n                    }\n                }\n                else if (actObj.rotatedAngle !== 0) {\n                    var cursor_4 = this.setCursorForRotatedObject(actObj, x, y, parent.upperCanvas);\n                    if (cursor_4 !== 'default' && cursor_4 !== 'grab') {\n                        if (this.tempActiveObj && this.tempActiveObj.activePoint &&\n                            JSON.stringify(this.tempActiveObj.activePoint) === JSON.stringify(actObj.activePoint)) {\n                            i = index;\n                            break;\n                        }\n                        else {\n                            if (this.isTouch || parent.cursor === 'move' || parent.cursor === 'grab' || this.isShapeInserted) {\n                                if (prevIndex === 0 || (prevIndex < actObj.order && (actObj.shape !== 'redact' || parent.drawingShape === 'redact'))) {\n                                    prevIndex = actObj.order;\n                                    i = index;\n                                }\n                            }\n                            else if (parent.objColl[index].currIndex === this.tempActiveObj.currIndex) {\n                                i = index;\n                            }\n                        }\n                    }\n                }\n                else {\n                    var rotationCirclePoint = this.getTransRotationPoint(actObj);\n                    if ((x >= (actObj.activePoint.startX - (radius * 2)) &&\n                        x <= (actObj.activePoint.endX + (radius * 2)) &&\n                        y >= (actObj.activePoint.startY - (radius * 2)) &&\n                        y <= (actObj.activePoint.endY + (radius * 2))) ||\n                        (rotationCirclePoint &&\n                            x >= (rotationCirclePoint.x - (radius * 2)) &&\n                            x <= (rotationCirclePoint.x + (radius * 2)) &&\n                            y >= (rotationCirclePoint.y - (radius * 2)) &&\n                            y <= (rotationCirclePoint.y + (radius * 2)))) {\n                        if (this.tempActiveObj && this.tempActiveObj.activePoint &&\n                            JSON.stringify(this.tempActiveObj.activePoint) === JSON.stringify(actObj.activePoint)) {\n                            i = index;\n                            break;\n                        }\n                        else {\n                            if (this.isTouch || cursor === 'move' || cursor === 'grabbing' || this.isShapeInserted\n                                || parent.cursor === 'move' || parent.cursor === 'grabbing') {\n                                if (prevIndex === 0 || (prevIndex < actObj.order && (actObj.shape !== 'redact' || parent.drawingShape === 'redact'))) {\n                                    prevIndex = actObj.order;\n                                    i = index;\n                                }\n                            }\n                            else if (parent.objColl[index].currIndex === this.tempActiveObj.currIndex) {\n                                i = index;\n                            }\n                        }\n                    }\n                }\n            }\n            if (isNullOrUndefined(i)) {\n                parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                isShape = false;\n            }\n            else {\n                this.tempObjColl = extend([], parent.objColl, [], true);\n                parent.currObjType.isCustomCrop = false;\n                parent.activeObj = extend({}, parent.objColl[i], {}, true);\n                var temp = extend({}, parent.objColl[i], {}, true);\n                parent.objColl.splice(i, 1);\n                if (parent.transform.degree === 0) {\n                    var temp_1 = this.lowerContext.filter;\n                    this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n                    parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n                    this.lowerContext.filter = 'none';\n                    parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                        value: { ctx: this.lowerContext, shape: 'iterate', pen: 'iterate', isPreventApply: null } });\n                    parent.activeObj = extend({}, temp_1, {}, true);\n                    this.lowerContext.filter = temp_1;\n                    this.getCurrentFlipState();\n                }\n                else {\n                    var totalPannedInternalPoint = extend({}, parent.panPoint.totalPannedInternalPoint, {}, true);\n                    var destPoints = { startX: parent.img.destLeft, startY: parent.img.destTop, width: parent.img.destWidth,\n                        height: parent.img.destHeight };\n                    parent.notify('draw', { prop: 'callUpdateCurrTransState', onPropertyChange: false });\n                    parent.panPoint.totalPannedInternalPoint = totalPannedInternalPoint;\n                    parent.img.destLeft = destPoints.startX;\n                    parent.img.destTop = destPoints.startY;\n                    parent.img.destWidth = destPoints.width;\n                    parent.img.destHeight = destPoints.height;\n                    parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                        value: { ctx: this.lowerContext, shape: 'iterate', pen: 'iterate', isPreventApply: null } });\n                }\n                parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n                if ((parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') || parent.isCircleCrop) {\n                    parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                        value: { context: this.lowerContext, isSave: null, isFlip: null } });\n                }\n                parent.activeObj = extend({}, temp, {}, true);\n                this.setActivePoint();\n                parent.activeObj = extend({}, temp, {}, true);\n                var tempStrokeSettings = extend({}, parent.activeObj.strokeSettings, {}, true);\n                parent.notify('draw', { prop: 'setTempStrokeSettings', onPropertyChange: false,\n                    value: { tempStrokeSettings: tempStrokeSettings } });\n                var tempTextSettings = extend({}, parent.activeObj.textSettings, {}, true);\n                parent.notify('draw', { prop: 'setTempTextSettings', onPropertyChange: false, value: { tempTextSettings: tempTextSettings } });\n                var shapeSettings = this.updatePrevShapeSettings();\n                var shapeChangingArgs = { cancel: false, action: 'select', previousShapeSettings: shapeSettings,\n                    currentShapeSettings: shapeSettings, allowShapeOverflow: this.allowOutofBound() };\n                if (parent.activeObj.shape === 'line' || parent.activeObj.shape === 'arrow') {\n                    shapeChangingArgs.currentShapeSettings.width = parent.activeObj.activePoint.endX - parent.activeObj.activePoint.startX;\n                    shapeChangingArgs.currentShapeSettings.height = parent.activeObj.activePoint.endY - parent.activeObj.activePoint.startY;\n                }\n                this.isCropSelection = false;\n                var splitWords = void 0;\n                if (parent.activeObj.shape !== undefined) {\n                    splitWords = parent.activeObj.shape.split('-');\n                }\n                if (splitWords !== undefined && splitWords[0] === 'crop') {\n                    this.isCropSelection = true;\n                }\n                if (!this.isCropSelection && parent.activeObj.shape !== 'redact') {\n                    parent.trigger('shapeChanging', shapeChangingArgs);\n                    this.shapeEvent(shapeChangingArgs);\n                    parent.editCompleteArgs = shapeChangingArgs;\n                }\n                else {\n                    if (this.isMouseDown) {\n                        shapeChangingArgs.action = 'resize-start';\n                    }\n                    else if (this.isMouseUp) {\n                        shapeChangingArgs.action = 'resize-end';\n                    }\n                    var selectionChangingArgs = { action: shapeChangingArgs.action,\n                        previousSelectionSettings: { type: parent.getSelectionType(parent.activeObj.shape),\n                            startX: shapeChangingArgs.previousShapeSettings.startX,\n                            startY: shapeChangingArgs.previousShapeSettings.startY,\n                            width: shapeChangingArgs.previousShapeSettings.width,\n                            height: shapeChangingArgs.previousShapeSettings.height },\n                        currentSelectionSettings: { type: parent.getSelectionType(parent.activeObj.shape),\n                            startX: shapeChangingArgs.currentShapeSettings.startX,\n                            startY: shapeChangingArgs.currentShapeSettings.startY,\n                            width: shapeChangingArgs.currentShapeSettings.width,\n                            height: shapeChangingArgs.currentShapeSettings.height } };\n                    parent.trigger('selectionChanging', selectionChangingArgs);\n                    parent.editCompleteArgs = selectionChangingArgs;\n                    shapeChangingArgs.currentShapeSettings.startX = selectionChangingArgs.currentSelectionSettings.startX;\n                    shapeChangingArgs.currentShapeSettings.startY = selectionChangingArgs.currentSelectionSettings.startY;\n                    shapeChangingArgs.currentShapeSettings.width = selectionChangingArgs.currentSelectionSettings.width;\n                    shapeChangingArgs.currentShapeSettings.height = selectionChangingArgs.currentSelectionSettings.height;\n                    this.shapeEvent(shapeChangingArgs);\n                }\n                isShape = true;\n            }\n        }\n        return isShape;\n    };\n    Selection.prototype.shapeEvent = function (shapeChangingArgs) {\n        var parent = this.parent;\n        parent.notify('shape', { prop: 'updateShapeChangeEventArgs', onPropertyChange: false,\n            value: { shapeSettings: shapeChangingArgs.currentShapeSettings, allowShapeOverflow: shapeChangingArgs.allowShapeOverflow } });\n        if (parent.activeObj.activePoint) {\n            var obj = { prevActObj: null };\n            parent.notify('draw', { prop: 'getPrevActObj', onPropertyChange: false, value: { obj: obj } });\n            if (isNullOrUndefined(obj['prevActObj'])) {\n                parent.notify('draw', { prop: 'setPrevActObj', onPropertyChange: false,\n                    value: { prevActObj: extend({}, parent.activeObj, {}, true) } });\n            }\n            if (parent.activeObj.shape === 'image' && !this.isImageClarity) {\n                this.upgradeImageQuality();\n                this.isImageClarity = true;\n            }\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj, isCropRatio: null,\n                    points: null, isPreventDrag: true, saveContext: null, isPreventSelection: true } });\n            if (!this.isShapeInserted) {\n                this.isPreventDragging = this.isShapeDragOut();\n            }\n        }\n    };\n    Selection.prototype.upgradeImageQuality = function () {\n        var parent = this.parent;\n        if (!parent.activeObj.imageCanvas) {\n            return;\n        }\n        var activeObj = extend({}, parent.activeObj, null, true);\n        var ctx = parent.activeObj.imageCanvas.getContext('2d');\n        var dimObj = { width: 0, height: 0 };\n        parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false, value: { width: parent.activeObj.imageElement.width,\n                height: parent.activeObj.imageElement.height, obj: dimObj, isImgShape: null } });\n        parent.notify('shape', { prop: 'updateObj', onPropertyChange: false, value: { dimObj: dimObj, x: null, y: null } });\n        ctx.clearRect(0, 0, parent.activeObj.imageCanvas.width, parent.activeObj.imageCanvas.height);\n        this.applyTransformToImg(ctx);\n        parent.activeObj = activeObj;\n    };\n    Selection.prototype.applyTransformToImg = function (ctx) {\n        var parent = this.parent;\n        if (parent.activeObj.isHorImageFlip && parent.activeObj.isVerImageFlip) {\n            parent.activeObj.isHorImageFlip = parent.activeObj.isVerImageFlip = false;\n            parent.notify('draw', { prop: 'downScaleImgCanvas', onPropertyChange: false,\n                value: { ctx: ctx, isImgAnnotation: true, isHFlip: true, isVFlip: true } });\n        }\n        else if (parent.activeObj.isHorImageFlip) {\n            parent.activeObj.isHorImageFlip = false;\n            parent.notify('draw', { prop: 'downScaleImgCanvas', onPropertyChange: false,\n                value: { ctx: ctx, isImgAnnotation: true, isHFlip: true, isVFlip: false } });\n        }\n        else if (parent.activeObj.isVerImageFlip) {\n            parent.activeObj.isVerImageFlip = false;\n            parent.notify('draw', { prop: 'downScaleImgCanvas', onPropertyChange: false,\n                value: { ctx: ctx, isImgAnnotation: true, isHFlip: false, isVFlip: true } });\n        }\n        else {\n            parent.notify('draw', { prop: 'downScaleImgCanvas', onPropertyChange: false,\n                value: { ctx: ctx, isImgAnnotation: true, isHFlip: false, isVFlip: false } });\n        }\n    };\n    // eslint-disable-next-line\n    Selection.prototype.targetTouches = function (touches) {\n        var bbox = this.parent.lowerCanvas.getBoundingClientRect();\n        var p1 = { x: touches[0].pageX - bbox.left, y: touches[0].pageY - bbox.top };\n        var p2 = { x: touches[1].pageX - bbox.left, y: touches[1].pageY - bbox.top };\n        var points = [p1, p2];\n        return points;\n    };\n    Selection.prototype.calculateScale = function (startTouches, endTouches) {\n        var startDistance = this.getDistance(startTouches[0], startTouches[1]);\n        var endDistance = this.getDistance(endTouches[0], endTouches[1]);\n        return endDistance / startDistance;\n    };\n    Selection.prototype.getDistance = function (a, b) {\n        var x = 0;\n        var y = 0;\n        if (a && b) {\n            x = a.x - b.x;\n            y = a.y - b.y;\n        }\n        return Math.sqrt(x * x + y * y);\n    };\n    Selection.prototype.redrawShape = function (obj, isMouseUp) {\n        var parent = this.parent;\n        for (var i = 0, len = parent.objColl.length; i < len; i++) {\n            if (JSON.stringify(obj) === JSON.stringify(parent.objColl[i])) {\n                parent.objColl.splice(i, 1);\n                if (obj.shape && parent.textArea.style.display === 'none') {\n                    var actObj = extend({}, obj, {}, true);\n                    parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                    this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null } });\n                    if (parent.rotateFlipColl.length > 0 && (parent.panPoint.totalPannedClientPoint.x !== 0 ||\n                        parent.panPoint.totalPannedClientPoint.y !== 0)) {\n                        parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n                    }\n                    obj = parent.activeObj = actObj;\n                }\n                break;\n            }\n        }\n        if ((obj.shape === 'path' && obj.pointColl.length === 0) ||\n            (obj.shape !== 'path' && (obj.activePoint.width === 0 && obj.activePoint.height === 0))) {\n            return;\n        }\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        if (this.isPreventDragging) {\n            if (parent.activeObj.activePoint.startX > parent.img.destLeft) {\n                this.isPreventDragging = false;\n            }\n            if (isMouseUp && parent.activeObj.rotatedAngle !== 0) {\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: null, isCropRatio: null,\n                        points: null, isPreventDrag: true, saveContext: null, isPreventSelection: null } });\n            }\n            else {\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: null, isCropRatio: null,\n                        points: null, isPreventDrag: true, saveContext: null, isPreventSelection: null } });\n            }\n        }\n        else {\n            if (isMouseUp && parent.activeObj.rotatedAngle !== 0) {\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: null, isCropRatio: null,\n                        points: null, isPreventDrag: true, saveContext: null, isPreventSelection: null } });\n            }\n            else {\n                if (parent.activeObj.shape === 'redact') {\n                    this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n                    parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n                    parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n                }\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: null, isCropRatio: null,\n                        points: null, isPreventDrag: true, saveContext: null, isPreventSelection: null } });\n            }\n        }\n    };\n    Selection.prototype.setTimer = function (e) {\n        var parent = this.parent;\n        if (this.timer > 10) {\n            clearTimeout(this.timer);\n            this.timer = 0;\n            parent.notify('shape', { prop: 'findTextTarget', onPropertyChange: false, value: { e: e } });\n            if (Browser.isDevice) {\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            }\n        }\n    };\n    Selection.prototype.applyCurrActObj = function (x, y) {\n        var parent = this.parent;\n        var isInside = false;\n        var actObj = extend({}, parent.activeObj, {}, true);\n        if (isNullOrUndefined(actObj.activePoint)) {\n            return;\n        }\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        var radius = actObj.topLeftCircle ? actObj.topLeftCircle.radius : 0;\n        if ((x >= Math.floor(startX) && x <= Math.ceil(endX) && y >= Math.floor(startY) && y <= Math.ceil(endY))) {\n            isInside = true;\n        }\n        else if (radius !== 0 && (x >= Math.floor(startX) - radius && x <= Math.ceil(endX) + radius &&\n            y >= Math.floor(startY) - radius && y <= Math.ceil(endY) + radius)) {\n            isInside = true;\n            this.tempActiveObj = { activePoint: { startX: 0, startY: 0, endX: 0, endY: 0, width: 0, height: 0 },\n                flipObjColl: [], triangle: [], triangleRatio: [] };\n        }\n        else if ((actObj.shape === 'text' || actObj.shape === 'image') && this.dragElement !== '') {\n            isInside = true;\n        }\n        else if (actObj.shape === 'line' || actObj.shape === 'arrow') {\n            var smallPoint = { x: startX < endX ? startX : endX, y: startY < endY ? startY : endY };\n            var largePoint = { x: startX > endX ? startX : endX, y: startY > endY ? startY : endY };\n            if ((x >= (Math.floor(smallPoint.x) - 5) && x <= (Math.ceil(largePoint.x) + 5) &&\n                y >= (Math.floor(smallPoint.y) - 5) && y <= (Math.ceil(largePoint.y) + 5)) ||\n                parent.activeObj.preventShapeDragOut) {\n                isInside = true;\n            }\n        }\n        else if (actObj.shape === 'path') {\n            var cursor = this.setCursorForPath(actObj, x, y, parent.upperCanvas);\n            if (cursor === 'move') {\n                isInside = true;\n            }\n        }\n        else if (this.dragElement === 'grabbing') {\n            isInside = true;\n        }\n        else if (actObj.rotatedAngle !== 0) {\n            var cursor = this.setCursorForRotatedObject(actObj, x, y, parent.upperCanvas);\n            if ((cursor !== 'default' && cursor !== 'grab') || this.dragElement === 'n-resize' || this.dragElement === 'e-resize' ||\n                this.dragElement === 's-resize' || this.dragElement === 'w-resize') {\n                isInside = true;\n            }\n        }\n        else if (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') {\n            isInside = true;\n        }\n        if (!isInside) {\n            if (isNullOrUndefined(parent.activeObj.currIndex)) {\n                var shapeIDObj = { id: 'shape_' + (parent.objColl.length + 1) };\n                parent.notify('shape', { prop: 'getNewShapeId', onPropertyChange: false, value: { obj: shapeIDObj } });\n                parent.activeObj.currIndex = shapeIDObj['id'];\n            }\n            parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n            if (parent.activeObj.horTopLine !== undefined && parent.activeObj.horTopLine.startX !== 0 && parent.activeObj.horTopLine.endX\n                !== 0 && !parent.currObjType.isCustomCrop && parent.currObjType.shape !== '') {\n                if (parent.objColl.length > 0 &&\n                    JSON.stringify(parent.objColl[parent.objColl.length - 1].activePoint) !==\n                        JSON.stringify(parent.activeObj.activePoint)) {\n                    parent.objColl.push(extend({}, parent.activeObj, {}, true));\n                }\n            }\n            var shapeColl = ['rectangle', 'ellipse', 'line', 'arrow', 'path', 'text', 'image'];\n            if (shapeColl.indexOf(parent.activeObj.shape) > -1) {\n                var tempFilter = this.lowerContext.filter;\n                this.lowerContext.filter = 'brightness(' + 1 + ') ' + 'contrast(' + 100 + '%) ' + 'hue-rotate(' + 0 + 'deg) ' +\n                    'saturate(' + 100 + '%) ' + 'opacity(' + 1 + ') ' + 'blur(' + 0 + 'px) ' + 'sepia(0%) ' + 'grayscale(0%) ' +\n                    'invert(0%)';\n                parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                    value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n                this.lowerContext.filter = tempFilter;\n                if (parent.activeObj.shape) {\n                    parent.notify('shape', { prop: 'apply', onPropertyChange: false,\n                        value: { shape: null, obj: null, canvas: null } });\n                }\n                parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n                parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.upperContext } });\n                if (parent.isCircleCrop) {\n                    parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                        value: { context: this.lowerContext, isSave: null, isFlip: null } });\n                }\n            }\n            parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n        }\n    };\n    Selection.prototype.getCurrentFlipState = function () {\n        var parent = this.parent;\n        if (parent.rotateFlipColl.length !== 0) {\n            var totalPannedInternalPoint = extend({}, parent.panPoint.totalPannedInternalPoint, {}, true);\n            parent.notify('draw', { prop: 'callUpdateCurrTransState', onPropertyChange: false });\n            parent.panPoint.totalPannedInternalPoint = totalPannedInternalPoint;\n        }\n        else {\n            parent.notify('draw', { prop: 'callUpdateCurrTransState', onPropertyChange: false });\n        }\n    };\n    Selection.prototype.setTextBoxStylesToActObj = function () {\n        var parent = this.parent;\n        parent.activeObj.textSettings.fontFamily = parent.textArea.style.fontFamily;\n        parent.activeObj.strokeSettings.strokeColor = parent.textArea.style.color !== '' &&\n            parent.textArea.style.color.split('(')[1] && parent.textArea.style.color.split('(')[1].split(',')[0] &&\n            parent.textArea.style.color.split('(')[1].split(',')[1] && parent.textArea.style.color.split('(')[1].split(',')[2]\n            && parent.textArea.style.color.split('(')[1].split(',')[3] ?\n            this.rgbToHex(parseFloat(parent.textArea.style.color.split('(')[1].split(',')[0]), parseFloat(parent.textArea.style.color.split('(')[1].split(',')[1]), parseFloat(parent.textArea.style.color.split('(')[1].split(',')[2]), parseFloat(parent.textArea.style.color.split('(')[1].split(',')[3])) :\n            parent.textArea.style.color;\n        parent.activeObj.strokeSettings.fillColor = parent.textArea.style.backgroundColor !== '' &&\n            parent.textArea.style.backgroundColor.split('(')[1] && parent.textArea.style.backgroundColor.split('(')[1].split(',')[0] &&\n            parent.textArea.style.backgroundColor.split('(')[1].split(',')[1] && parent.textArea.style.backgroundColor.split('(')[1].split(',')[2]\n            && parent.textArea.style.backgroundColor.split('(')[1].split(',')[3] ?\n            this.rgbToHex(parseFloat(parent.textArea.style.backgroundColor.split('(')[1].split(',')[0]), parseFloat(parent.textArea.style.backgroundColor.split('(')[1].split(',')[1]), parseFloat(parent.textArea.style.backgroundColor.split('(')[1].split(',')[2]), parseFloat(parent.textArea.style.backgroundColor.split('(')[1].split(',')[3])) :\n            parent.textArea.style.backgroundColor;\n        parent.activeObj.strokeSettings.outlineColor = parent.textArea.style.textShadow !== '' &&\n            parent.textArea.style.textShadow.split('(')[1] && parent.textArea.style.textShadow.split('(')[1].split(',')[0] &&\n            parent.textArea.style.textShadow.split('(')[1].split(',')[1] && parent.textArea.style.textShadow.split('(')[1].split(',')[2]\n            && parent.textArea.style.textShadow.split('(')[1].split(',')[3] ?\n            this.rgbToHex(parseFloat(parent.textArea.style.textShadow.split('(')[1].split(',')[0]), parseFloat(parent.textArea.style.textShadow.split('(')[1].split(',')[1]), parseFloat(parent.textArea.style.textShadow.split('(')[1].split(',')[2]), parseFloat(parent.textArea.style.textShadow.split('(')[1].split(',')[3])) :\n            (parent.textArea.style.textShadow.match(/^(\\s*[\\w#]+)\\s/) ?\n                parent.textArea.style.textShadow.match(/^(\\s*[\\w#]+)\\s/)[1].trim() :\n                parent.textArea.style.textShadow);\n        if (parent.textArea.style.fontWeight === 'bold') {\n            parent.activeObj.textSettings.bold = true;\n        }\n        else {\n            parent.activeObj.textSettings.bold = false;\n        }\n        if (parent.textArea.style.fontStyle === 'italic') {\n            parent.activeObj.textSettings.italic = true;\n        }\n        else {\n            parent.activeObj.textSettings.italic = false;\n        }\n        parent.activeObj.textSettings.fontSize = (parseFloat(parent.textArea.style.fontSize));\n    };\n    Selection.prototype.rgbToHex = function (r, g, b, a) {\n        r = Math.max(0, Math.min(255, Math.round(r)));\n        g = Math.max(0, Math.min(255, Math.round(g)));\n        b = Math.max(0, Math.min(255, Math.round(b)));\n        a = Math.max(0, Math.min(1, a));\n        var hexR = this.padLeft(r.toString(16), 2, '0');\n        var hexG = this.padLeft(g.toString(16), 2, '0');\n        var hexB = this.padLeft(b.toString(16), 2, '0');\n        var hexA = this.padLeft(Math.round(a * 255).toString(16), 2, '0');\n        var hex;\n        if (isNaN(Number(hexA))) {\n            hex = \"#\" + hexR + hexG + hexB;\n        }\n        else {\n            hex = \"#\" + hexR + hexG + hexB + hexA;\n        }\n        return hex;\n    };\n    Selection.prototype.padLeft = function (value, length, padChar) {\n        while (value.length < length) {\n            value = padChar + value;\n        }\n        return value;\n    };\n    Selection.prototype.deleteItem = function () {\n        var parent = this.parent;\n        var shapeChangingArgs = { cancel: false };\n        var previousShapeSettings = {};\n        if (this.isFhdEditing) {\n            this.updateFreehandDrawColorChange();\n            var prevCropObj = extend({}, parent.cropObj, {}, true);\n            var object = { currObj: {} };\n            parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            var prevObj = object['currObj'];\n            prevObj.objColl = extend([], parent.objColl, [], true);\n            prevObj.pointColl = extend([], parent.pointColl, [], true);\n            prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n            var selPointCollObj = { selPointColl: null };\n            parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                value: { obj: selPointCollObj } });\n            prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            var obj = { freehandDrawSelectedId: null };\n            parent.notify('freehand-draw', { prop: 'getFreehandDrawSelectedId', onPropertyChange: false, value: { obj: obj } });\n            parent.notify('freehand-draw', { prop: 'deleteFhd', value: { id: obj['freehandDrawSelectedId'] } });\n            parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                value: { operation: 'deleteFreehandDrawing', previousObj: prevObj, previousObjColl: this.tempObjColl,\n                    previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                    previousCropObj: prevCropObj, previousText: null,\n                    currentText: null, previousFilter: null, isCircleCrop: null } });\n            parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n            parent.notify('freehand-draw', { prop: 'resetFreehandDrawSelectedId' });\n        }\n        else if (parent.textArea.style.display === 'none') {\n            var obj = { prevActObj: null };\n            parent.notify('draw', { prop: 'getPrevActObj', onPropertyChange: false, value: { obj: obj } });\n            if (obj['prevActObj']) {\n                obj['prevActObj']['activePoint']['width'] = Math.abs(obj['prevActObj']['activePoint']['width']);\n                obj['prevActObj']['activePoint']['height'] = Math.abs(obj['prevActObj']['activePoint']['height']);\n            }\n            if (obj['prevActObj'] && JSON.stringify(obj['prevActObj']) !== JSON.stringify(parent.activeObj)) {\n                var index = parent.activeObj.currIndex;\n                parent.notify('draw', { prop: 'performCancel', value: { isContextualToolbar: null, isFinalCancel: true } });\n                for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                    if (parent.objColl[i].currIndex === index) {\n                        parent.objColl.splice(i, 1);\n                        parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null } });\n                        break;\n                    }\n                }\n            }\n            var object = { isNewPath: null };\n            parent.notify('draw', { prop: 'getNewPath', value: { obj: object } });\n            if (object['isNewPath']) {\n                parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null } });\n                parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n            }\n            else if (parent.activeObj.shape) {\n                parent.objColl.push(parent.activeObj);\n                var prevCropObj = extend({}, parent.cropObj, {}, true);\n                var object_2 = { currObj: {} };\n                parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object_2 } });\n                var prevObj = object_2['currObj'];\n                prevObj.objColl = extend([], parent.objColl, [], true);\n                prevObj.pointColl = extend([], parent.pointColl, [], true);\n                prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n                var selPointCollObj = { selPointColl: null };\n                parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                    value: { obj: selPointCollObj } });\n                prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n                parent.objColl.pop();\n                previousShapeSettings = this.updatePrevShapeSettings();\n                shapeChangingArgs = { cancel: false, action: 'delete', previousShapeSettings: previousShapeSettings, currentShapeSettings: null };\n                parent.notify('shape', { prop: 'setKeyHistory', onPropertyChange: false, value: { keyHistory: '' } });\n                parent.clearSelection();\n                parent.trigger('shapeChanging', shapeChangingArgs);\n                parent.editCompleteArgs = shapeChangingArgs;\n                parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n                parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null } });\n                if (!isNullOrUndefined(prevObj.objColl[prevObj.objColl.length - 1].currIndex)) {\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                        value: { operation: 'deleteObj', previousObj: prevObj, previousObjColl: this.tempObjColl,\n                            previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                            previousCropObj: prevCropObj, previousText: null,\n                            currentText: null, previousFilter: null, isCircleCrop: null } });\n                    parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n                }\n            }\n            parent.notify('draw', { prop: 'setPrevActObj', onPropertyChange: false, value: { prevActObj: null } });\n            if (parent.drawingShape) {\n                this.currentDrawingShape = parent.drawingShape.toLowerCase();\n                parent.enableShapeDrawing(parent.toPascalCase(parent.drawingShape), true);\n                parent.upperCanvas.style.cursor = 'crosshair';\n            }\n        }\n        if (document.getElementById(parent.element.id + '_quickAccessToolbarArea')) {\n            document.getElementById(parent.element.id + '_quickAccessToolbarArea').style.display = 'none';\n        }\n    };\n    Selection.prototype.updateFreehandDrawColorChange = function () {\n        var parent = this.parent;\n        var indexObj = { freehandSelectedIndex: null };\n        parent.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n        if (!isNullOrUndefined(indexObj['freehandSelectedIndex']) && !isNullOrUndefined(parent.pointColl[indexObj['freehandSelectedIndex']])\n            && parent.pointColl[indexObj['freehandSelectedIndex']].strokeColor === '#42a5f5') {\n            var obj = { tempFreeHandDrawEditingStyles: null };\n            parent.notify('freehand-draw', { prop: 'getTempFreeHandDrawEditingStyles', value: { obj: obj } });\n            parent.pointColl[indexObj['freehandSelectedIndex']].strokeColor = obj['tempFreeHandDrawEditingStyles'].strokeColor;\n        }\n    };\n    Selection.prototype.updatePrevShapeSettings = function (obj) {\n        var parent = this.parent;\n        var fontStyle = [];\n        if (isNullOrUndefined(parent.activeObj.currIndex)) {\n            var shapeIDObj = { id: 'shape_' + (parent.objColl.length + 1) };\n            parent.notify('shape', { prop: 'getNewShapeId', onPropertyChange: false, value: { obj: shapeIDObj } });\n            parent.activeObj.currIndex = shapeIDObj['id'];\n        }\n        if (parent.activeObj.shape === 'text' && parent.activeObj.textSettings) {\n            if (parent.activeObj.textSettings.bold) {\n                fontStyle.push('bold');\n            }\n            if (parent.activeObj.textSettings.italic) {\n                fontStyle.push('italic');\n            }\n            if (parent.activeObj.textSettings.underline) {\n                fontStyle.push('underline');\n            }\n        }\n        var _a = parent.activeObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY, width = _a.width, height = _a.height;\n        var _b = parent.activeObj, keyHistory = _b.keyHistory, currIndex = _b.currIndex, shape = _b.shape, textSettings = _b.textSettings, strokeSettings = _b.strokeSettings, rotatedAngle = _b.rotatedAngle, imageElement = _b.imageElement, opacity = _b.opacity;\n        var shapeSettingsObj = {\n            id: !isNullOrUndefined(currIndex) ? currIndex : null,\n            type: parent.toPascalCase(shape),\n            startX: startX, startY: startY, width: width, height: height,\n            strokeColor: strokeSettings ? (shape === 'text' ? strokeSettings.outlineColor : strokeSettings.strokeColor) : null,\n            strokeWidth: strokeSettings ? (shape === 'text' ? strokeSettings.outlineWidth : strokeSettings.strokeWidth) : null,\n            fillColor: strokeSettings ? strokeSettings.fillColor : null,\n            radius: shape === 'ellipse' ? width / 2 : null,\n            length: shape === 'line' || shape === 'arrow' ? width : null,\n            text: shape === 'text' ? (keyHistory ? keyHistory : (textSettings.text ? textSettings.text : null)) : null,\n            fontSize: shape === 'text' ? (textSettings ? textSettings.fontSize : null) : null,\n            fontFamily: shape === 'text' ? (textSettings ? textSettings.fontFamily : null) : null,\n            fontStyle: shape === 'text' ? fontStyle : null,\n            color: shape === 'text' ? (strokeSettings ? strokeSettings.strokeColor : null) : null,\n            degree: shape === 'ellipse' || shape === 'rectangle' || shape === 'image' || shape === 'text' ? rotatedAngle * (180 / Math.PI) : null,\n            imageData: shape === 'image' ? imageElement.src : null,\n            opacity: shape === 'image' ? opacity : null,\n            radiusX: shape === 'ellipse' ? width / 2 : null,\n            radiusY: shape === 'ellipse' ? height / 2 : null,\n            endX: shape === 'line' || shape === 'arrow' ? endX : null,\n            endY: shape === 'line' || shape === 'arrow' ? endY : null,\n            arrowHead: shape === 'arrow' ? this.getArrowType(parent.activeObj.start) : null,\n            arrowTail: shape === 'arrow' ? this.getArrowType(parent.activeObj.end) : null,\n            points: shape === 'path' ? parent.activeObj.pointColl : null,\n            index: parent.activeObj.order,\n            transformCollection: shape === 'text' ? this.updateTransColl(parent.activeObj) : null\n        };\n        if (obj) {\n            obj['shapeSettingsObj'] = shapeSettingsObj;\n        }\n        return shapeSettingsObj;\n    };\n    Selection.prototype.updateTransColl = function (object) {\n        var parent = this.parent;\n        var coll;\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var tempColl = object.rotateFlipColl;\n        if (tempColl && tempColl.length > 0) {\n            var value = void 0;\n            coll = [];\n            for (var i = 0; i < tempColl.length; i++) {\n                value = tempColl[i];\n                if (typeof (value) === 'number') {\n                    coll.push({ degree: value });\n                }\n                else {\n                    coll.push({ flip: parent.toPascalCase(value) });\n                }\n            }\n        }\n        return coll;\n    };\n    Selection.prototype.getArrowType = function (type) {\n        var typeToArrowType = { 'none': 'None', 'arrow': 'Arrow', 'arrowSolid': 'SolidArrow',\n            'circle': 'Circle', 'circleSolid': 'SolidCircle', 'square': 'Square', 'squareSolid': 'SolidSquare', 'bar': 'Bar' };\n        return typeToArrowType[\"\" + type];\n    };\n    Selection.prototype.getRectanglePoints = function (rectX, rectY, rectWidth, rectHeight, rectAngle, pointX, pointY) {\n        var centerX = rectX + rectWidth / 2;\n        var centerY = rectY + rectHeight / 2;\n        var angleRad = rectAngle * (Math.PI / 180);\n        var cosAngle = Math.cos(angleRad);\n        var sinAngle = Math.sin(angleRad);\n        var localX = pointX - centerX;\n        var localY = pointY - centerY;\n        var rotatedX = localX * cosAngle + localY * sinAngle;\n        var rotatedY = -localX * sinAngle + localY * cosAngle;\n        var halfWidth = rectWidth / 2;\n        var halfHeight = rectHeight / 2;\n        if (rotatedX >= -halfWidth && rotatedX <= halfWidth && rotatedY >= -halfHeight &&\n            rotatedY <= halfHeight) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Selection.prototype.getTransRotationPoint = function (obj, object) {\n        var rotationCirclePoint;\n        var degree;\n        var isHorizontalflip = false;\n        var isVerticalflip = false;\n        degree = (obj.shapeDegree === 0) ? this.parent.transform.degree : this.parent.transform.degree - obj.shapeDegree;\n        if (degree < 0) {\n            degree = 360 + degree;\n        }\n        if (obj.flipObjColl) {\n            for (var i = 0, iLen = obj.flipObjColl.length; i < iLen; i++) {\n                if (obj.flipObjColl[i].toLowerCase() === 'horizontal') {\n                    isHorizontalflip = true;\n                }\n                else if (obj.flipObjColl[i].toLowerCase() === 'vertical') {\n                    isVerticalflip = true;\n                }\n            }\n        }\n        if (degree === 0 || degree === 360) {\n            if (isVerticalflip) {\n                rotationCirclePoint = { x: obj.topCenterCircle.startX, y: obj.topCenterCircle.startY - obj.rotationCircleLine };\n            }\n            else {\n                rotationCirclePoint = { x: obj.bottomCenterCircle.startX, y: obj.bottomCenterCircle.startY + obj.rotationCircleLine };\n            }\n        }\n        else if (degree === 90 || degree === -270) {\n            if (isHorizontalflip) {\n                rotationCirclePoint = { x: obj.centerRightCircle.startX + obj.rotationCircleLine, y: obj.centerLeftCircle.startY };\n            }\n            else {\n                rotationCirclePoint = { x: obj.centerLeftCircle.startX - obj.rotationCircleLine, y: obj.centerLeftCircle.startY };\n            }\n        }\n        else if (degree === 180 || degree === -180) {\n            if (isVerticalflip) {\n                rotationCirclePoint = { x: obj.bottomCenterCircle.startX, y: obj.bottomCenterCircle.startY + obj.rotationCircleLine };\n            }\n            else {\n                rotationCirclePoint = { x: obj.topCenterCircle.startX, y: obj.topCenterCircle.startY - obj.rotationCircleLine };\n            }\n        }\n        else if (degree === 270 || degree === -90) {\n            if (isHorizontalflip) {\n                rotationCirclePoint = { x: obj.centerLeftCircle.startX - obj.rotationCircleLine, y: obj.centerLeftCircle.startY };\n            }\n            else {\n                rotationCirclePoint = { x: obj.centerRightCircle.startX + obj.rotationCircleLine, y: obj.centerLeftCircle.startY };\n            }\n        }\n        if (object) {\n            object['rotationCirclePoint'] = rotationCirclePoint;\n        }\n        return rotationCirclePoint;\n    };\n    Selection.prototype.getNumTextValue = function (obj) {\n        var parent = this.parent;\n        var elem = parent.element;\n        var height;\n        var width;\n        var widthElement;\n        var heightElement;\n        widthElement = elem.querySelector('#' + elem.id + '_resizeWidth');\n        heightElement = elem.querySelector('#' + elem.id + '_resizeHeight');\n        if (widthElement && heightElement) {\n            var heightString = heightElement.value.replace(/,/g, '');\n            var widthString = widthElement.value.replace(/,/g, '');\n            if (heightString === '') {\n                heightString = heightElement.placeholder.replace(/,/g, '');\n            }\n            if (widthString === '') {\n                widthString = widthElement.placeholder.replace(/,/g, '');\n            }\n            height = parseFloat(heightString);\n            width = parseFloat(widthString);\n        }\n        if (obj) {\n            obj['width'] = width;\n            obj['height'] = height;\n        }\n        return { x: width, y: height };\n    };\n    Selection.prototype.isValueUpdated = function () {\n        var isValue = true;\n        var widthElement;\n        var heightElement;\n        widthElement = this.parent.element.querySelector('#' + this.parent.element.id + '_resizeWidth');\n        heightElement = this.parent.element.querySelector('#' + this.parent.element.id + '_resizeHeight');\n        if (widthElement && heightElement) {\n            if (heightElement.value.replace(/,/g, '') === '' && widthElement.value.replace(/,/g, '') === '') {\n                isValue = false;\n            }\n        }\n        return isValue;\n    };\n    Selection.prototype.allowOutofBound = function () {\n        var shapes = ['ellipse', 'rectangle', 'text', 'image', 'redact'];\n        // eslint-disable-next-line max-len\n        var allowOutofBound = (shapes.indexOf(this.parent.activeObj.shape) !== -1 && this.parent.activeObj.rotatedAngle === 0) ? false : true;\n        return allowOutofBound;\n    };\n    return Selection;\n}());\nexport { Selection };\n","/* eslint-disable no-constant-condition */\nimport { EventHandler, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ShapeType, RedactType } from '../index';\nvar Shape = /** @class */ (function () {\n    function Shape(parent) {\n        this.textSettings = { text: 'Enter Text', fontFamily: '', fontSize: null, fontRatio: null, bold: false, italic: false, underline: false };\n        this.strokeSettings = { strokeColor: '#fff', fillColor: '', strokeWidth: null, radius: null, outlineColor: '', outlineWidth: null };\n        this.keyHistory = ''; // text history\n        this.preventFrameAnnotation = false;\n        this.redactType = 'blur';\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Shape.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n    };\n    Shape.prototype.addEventListener = function () {\n        this.parent.on('shape', this.shape, this);\n        this.parent.on('destroyed', this.destroy, this);\n    };\n    Shape.prototype.removeEventListener = function () {\n        this.parent.off('shape', this.shape);\n        this.parent.off('destroyed', this.destroy);\n    };\n    Shape.prototype.shape = function (args) {\n        var parent = this.parent;\n        this.initShapePvtProps();\n        var uploader;\n        switch (args.prop) {\n            case 'drawEllipse':\n                this.drawEllipse(args.value['x'], args.value['y'], args.value['radiusX'], args.value['radiusY'], args.value['strokeWidth'], args.value['strokeColor'], args.value['fillColor'], args.value['degree'], args.value['isSelected']);\n                break;\n            case 'drawLine':\n                this.drawLine(args.value['startX'], args.value['startY'], args.value['endX'], args.value['endY'], args.value['strokeWidth'], args.value['strokeColor'], args.value['isSelected']);\n                break;\n            case 'drawArrow':\n                this.drawArrow(args.value['startX'], args.value['startY'], args.value['endX'], args.value['endY'], args.value['strokeWidth'], args.value['strokeColor'], args.value['arrowStart'], args.value['arrowEnd'], args.value['isSelected']);\n                break;\n            case 'drawPath':\n                this.drawPath(args.value['pointColl'], args.value['strokeWidth'], args.value['strokeColor'], args.value['isSelected']);\n                break;\n            case 'drawRectangle':\n                this.drawRectangle(args.value['x'], args.value['y'], args.value['width'], args.value['height'], args.value['strokeWidth'], args.value['strokeColor'], args.value['fillColor'], args.value['degree'], args.value['isSelected'], args.value['radius']);\n                break;\n            case 'drawText':\n                this.drawText(args.value['x'], args.value['y'], args.value['text'], args.value['fontFamily'], args.value['fontSize'], args.value['bold'], args.value['italic'], args.value['color'], args.value['isSelected'], args.value['degree'], args.value['fillColor'], args.value['outlineColor'], args.value['outlineWidth'], args.value['transformCollection']);\n                break;\n            case 'redrawActObj':\n                this.redrawActObj(args.value['x'], args.value['y'], args.value['isMouseDown']);\n                break;\n            case 'apply':\n                this.apply(args.value['shape'], args.value['obj'], args.value['canvas']);\n                break;\n            case 'updateShapeChangeEventArgs':\n                this.updateShapeChangeEventArgs(args.value['shapeSettings'], args.value['allowShapeOverflow']);\n                break;\n            case 'updSelChangeEventArgs':\n                this.updSelChangeEventArgs(args.value['selectionSettings']);\n                break;\n            case 'iterateObjColl':\n                this.iterateObjColl();\n                break;\n            case 'updImgRatioForActObj':\n                this.updImgRatioForActObj();\n                break;\n            case 'redrawObj':\n                this.redrawObj(args.value['degree']);\n                break;\n            case 'redraw-text':\n                this.redrawText();\n                break;\n            case 'draw-shape':\n                this.drawShape(args.value['obj'], args.value['strokeWidth'], args.value['strokeColor'], args.value['fillColor'], args.value['start'], args.value['width'], args.value['height']);\n                break;\n            case 'renderTextArea':\n                this.renderTextArea(args.value['x'], args.value['y'], args.value['actObj']);\n                break;\n            case 'setTextBoxWidth':\n                this.setTextBoxWidth(args.value['e']);\n                break;\n            case 'findTextTarget':\n                this.findTextTarget(args.value['e']);\n                break;\n            case 'updateFontStyles':\n                this.updateFontStyles(args.value['isTextBox']);\n                break;\n            case 'applyFontStyle':\n                this.applyFontStyle(args.value['item']);\n                break;\n            case 'updateFontRatio':\n                this.updateFontRatio(args.value['obj'], args.value['isTextArea']);\n                break;\n            case 'updateFontSize':\n                this.updateFontSize(args.value['obj']);\n                break;\n            case 'pushActItemIntoObj':\n                this.pushActItemIntoObj();\n                break;\n            case 'clearActObj':\n                this.clearActObj();\n                break;\n            case 'refreshActiveObj':\n                this.refreshActiveObj();\n                break;\n            case 'applyActObj':\n                this.applyActObj(args.value['isMouseDown']);\n                break;\n            case 'wireEvent':\n                EventHandler.add(parent.upperCanvas, 'dblclick', this.findTextTarget, this);\n                EventHandler.add(parent.textArea, 'mousedown', this.findTextTarget, this);\n                uploader = document.getElementById(parent.element.id + '_fileUpload');\n                if (uploader) {\n                    EventHandler.add(uploader, 'change', this.fileChanged, this);\n                }\n                break;\n            case 'unWireEvent':\n                EventHandler.remove(parent.upperCanvas, 'dblclick', this.findTextTarget);\n                EventHandler.remove(parent.textArea, 'mousedown', this.findTextTarget);\n                uploader = document.getElementById(parent.element.id + '_fileUpload');\n                if (uploader) {\n                    EventHandler.remove(uploader, 'change', this.fileChanged);\n                }\n                break;\n            case 'getShapeSetting':\n                this.getShapeSetting(args.value['id'], args.value['obj']);\n                break;\n            case 'getShapeSettings':\n                this.getShapeSettings(args.value['obj']);\n                break;\n            case 'getRedactSettings':\n                this.getRedactSettings(args.value['obj']);\n                break;\n            case 'isPointsInRange':\n                this.isPointsInRange(args.value['x'], args.value['y'], args.value['obj']);\n                break;\n            case 'alignRotateFlipColl':\n                this.alignRotateFlipColl(args.value['collection'], args.value['isRotateFlipCollection'], args.value['obj']);\n                break;\n            case 'selectShape':\n                this.selectShape(args.value['id'], args.value['obj']);\n                break;\n            case 'deleteShape':\n                this.deleteShape(args.value['id']);\n                break;\n            case 'getMaxText':\n                this.getMaxText(args.value['isTextBox'], args.value['text'], args.value['obj']);\n                break;\n            case 'setPointCollForLineArrow':\n                args.value['obj'].pointColl = this.getLinePoints(args.value['obj'].activePoint.startX, args.value['obj'].activePoint.startY, args.value['obj'].activePoint.endX, args.value['obj'].activePoint.endY);\n                break;\n            case 'setPointCollForShapeRotation':\n                this.setPointCollForShapeRotation(args.value['obj']);\n                break;\n            case 'setTextSettings':\n                if (args.value['textSettings']) {\n                    this.textSettings = args.value['textSettings'];\n                }\n                else if (args.value['fontFamily']) {\n                    this.textSettings.fontFamily = args.value['fontFamily'];\n                }\n                else if (args.value['fontSize']) {\n                    this.textSettings.fontSize = args.value['fontSize'];\n                }\n                else if (args.value['radius']) {\n                    this.strokeSettings.radius = args.value['radius'];\n                }\n                break;\n            case 'setStrokeSettings':\n                if (args.value['strokeSettings']) {\n                    this.strokeSettings = args.value['strokeSettings'];\n                }\n                else if (args.value['strokeColor']) {\n                    this.strokeSettings.strokeColor = args.value['strokeColor'];\n                }\n                else if (args.value['fillColor']) {\n                    this.strokeSettings.fillColor = args.value['fillColor'];\n                }\n                else if (args.value['strokeWidth']) {\n                    this.strokeSettings.strokeWidth = args.value['strokeWidth'];\n                }\n                else if (args.value['outlineColor']) {\n                    this.strokeSettings.outlineColor = args.value['outlineColor'];\n                }\n                else if (args.value['radius']) {\n                    this.strokeSettings.radius = args.value['radius'];\n                }\n                else if (args.value['outlineWidth']) {\n                    this.strokeSettings.outlineWidth = args.value['outlineWidth'];\n                }\n                break;\n            case 'getStrokeSettings':\n                args.value['obj']['strokeSettings'] = this.strokeSettings;\n                break;\n            case 'setKeyHistory':\n                this.keyHistory = args.value['keyHistory'];\n                break;\n            case 'getKeyHistory':\n                args.value['obj']['keyHistory'] = this.keyHistory;\n                break;\n            case 'setTextBoxPos':\n                this.setTextBoxPos(args.value['actObj'], args.value['degree'], args.value['flip'], args.value['x'], args.value['y']);\n                break;\n            case 'setTextBoxPoints':\n                this.setTextBoxPoints(args.value['actObj'], args.value['degree'], args.value['flip'], args.value['x'], args.value['y']);\n                break;\n            case 'alignTextAreaIntoCanvas':\n                this.alignTextAreaIntoCanvas();\n                break;\n            case 'initializeTextShape':\n                this.initializeTextShape(args.value['text'], args.value['fontFamily'], args.value['fontSize'], args.value['bold'], args.value['italic'], args.value['strokeColor'], args.value['fillColor'], args.value['outlineColor'], args.value['outlineWidth']);\n                break;\n            case 'stopPathDrawing':\n                this.stopPathDrawing(args.value['e'], args.value['isApply']);\n                break;\n            case 'updateArrowRatio':\n                this.updateArrowRatio(args.value['obj']);\n                break;\n            case 'getSquarePointForRotatedShape':\n                this.getSquarePointForRotatedShape(args.value['obj'], args.value['object']);\n                break;\n            case 'drawImage':\n                this.drawImage(args.value['x'], args.value['y'], args.value['width'], args.value['height'], args.value['src'], args.value['degree'], args.value['isAspectRatio'], args.value['opacity'], args.value['isSelected']);\n                break;\n            case 'reset':\n                this.reset();\n                break;\n            case 'updateObj':\n                this.updateObj(args.value['dimObj'], args.value['x'], args.value['y']);\n                break;\n            case 'straightenShapes':\n                this.straightenShapes();\n                break;\n            case 'straightenShapePoints':\n                this.straightenShapePoints(args.value['obj'], args.value['isReverse']);\n                break;\n            case 'straightenPath':\n                this.straightenPath(args.value['obj']);\n                break;\n            case 'straightenFHD':\n                this.straightenFHD();\n                break;\n            case 'getTextBoxPosition':\n                this.getTextBoxPosition(args.value['obj'], args.value['object']);\n                break;\n            case 'setFlipState':\n                this.setFlipState(args.value['x'], args.value['y'], args.value['obj'], args.value['object']);\n                break;\n            case 'getNewShapeId':\n                args.value['obj']['id'] = this.getNewShapeId();\n                break;\n            case 'z-order':\n                this.updateZOrder(args.value['obj'], args.value['value']);\n                break;\n            case 'getSmallestIndex':\n                args.value['obj']['index'] = this.getSmallestIndex();\n                break;\n            case 'isIndexInObjColl':\n                args.value['obj']['bool'] = this.isIndexInObjColl(args.value['index']);\n                break;\n            case 'drawAnnotations':\n                this.drawAnnotations(args.value['ctx'], args.value['shape'], args.value['pen'], args.value['isPreventApply'], args.value['x'], args.value['y'], args.value['panRegion']);\n                break;\n            case 'updateShapeColl':\n                this.updateShapeColl();\n                break;\n            case 'getNewOrder':\n                args.value['obj']['order'] = this.getNewOrder();\n                break;\n            case 'getHighestOrder':\n                args.value['obj']['order'] = this.getHighestOrder();\n                break;\n            case 'getLowestOrder':\n                args.value['obj']['order'] = this.getLowestOrder();\n                break;\n            case 'drawRedact':\n                this.drawRedact(args.value['x'], args.value['y'], args.value['width'], args.value['height'], args.value['type'], args.value['value']);\n                break;\n            case 'setRedactType':\n                this.redactType = args.value['redactType'];\n                break;\n        }\n    };\n    Shape.prototype.getModuleName = function () {\n        return 'shape';\n    };\n    Shape.prototype.initShapePvtProps = function () {\n        var parent = this.parent;\n        if (parent.lowerCanvas) {\n            this.lowerContext = parent.lowerCanvas.getContext('2d');\n        }\n        if (parent.upperCanvas) {\n            this.upperContext = parent.upperCanvas.getContext('2d');\n        }\n        if (isNullOrUndefined(this.shapeImg)) {\n            this.shapeImg = parent.createElement('img', {\n                id: parent.element.id + '_shapeImg', attrs: { name: 'Image', crossorigin: 'anonymous' }\n            });\n        }\n        if (this.textSettings.fontFamily === '') {\n            this.textSettings.fontFamily = parent.fontFamily.default;\n        }\n    };\n    Shape.prototype.reset = function () {\n        this.textSettings =\n            { text: 'Enter Text', fontFamily: this.parent.fontFamily.default, fontSize: null, fontRatio: null, bold: false, italic: false, underline: false };\n        this.strokeSettings = { strokeColor: '#fff', fillColor: '', strokeWidth: null, radius: null, outlineColor: '', outlineWidth: null };\n        this.preventFrameAnnotation = false;\n    };\n    Shape.prototype.drawEllipse = function (x, y, radiusX, radiusY, strokeWidth, strokeColor, fillColor, degree, isSelected) {\n        this.initializeShape('ellipse');\n        var start = x && y ? { x: x, y: y } : null;\n        this.drawShape('ellipse', strokeWidth, strokeColor, fillColor, start, radiusX, radiusY, null, null, null, degree, null, isSelected);\n    };\n    Shape.prototype.drawLine = function (startX, startY, endX, endY, strokeWidth, strokeColor, isSelected) {\n        this.initializeShape('line');\n        var start = startX && startY ? { x: startX, y: startY } : null;\n        var width = endX - startX;\n        var height = endY - startY;\n        this.drawShape('line', strokeWidth, strokeColor, null, start, width, height, null, null, null, null, null, isSelected);\n    };\n    Shape.prototype.drawPath = function (pointColl, strokeWidth, strokeColor, isSelected) {\n        this.initializeShape('path');\n        if (pointColl) {\n            this.drawShape('path', strokeWidth, strokeColor, null, null, null, null, pointColl, null, null, null, null, isSelected);\n        }\n    };\n    Shape.prototype.drawArrow = function (startX, startY, endX, endY, strokeWidth, strokeColor, arrowStart, arrowEnd, isSelected) {\n        this.initializeShape('arrow');\n        var start = startX && startY ? { x: startX, y: startY } : null;\n        var width = endX - startX;\n        var height = endY - startY;\n        this.drawShape('arrow', strokeWidth, strokeColor, null, start, width, height, null, arrowStart, arrowEnd, null, null, isSelected);\n    };\n    Shape.prototype.drawRectangle = function (x, y, width, height, strokeWidth, strokeColor, fillColor, degree, isSelected, radius) {\n        this.initializeShape('rectangle');\n        var start = x && y ? { x: x, y: y } : null;\n        this.drawShape('rectangle', strokeWidth, strokeColor, fillColor, start, width, height, null, null, null, degree, null, isSelected, radius);\n    };\n    // eslint-disable-next-line @typescript-eslint/tslint/config\n    Shape.prototype.drawRedact = function (x, y, width, height, type, value) {\n        this.initializeShape('redact');\n        var start = x && y ? { x: x, y: y } : null;\n        this.drawShape('redact', null, null, null, start, width, height, null, null, null, null, null, null, null, type, value);\n    };\n    Shape.prototype.drawText = function (x, y, text, fontFamily, fontSize, bold, italic, color, isSelected, degree, fillColor, outlineColor, outlineWidth, transformCollection) {\n        this.drawShapeText(text, fontFamily, fontSize, bold, italic, color, x, y, isSelected, degree, fillColor, outlineColor, outlineWidth, transformCollection);\n    };\n    Shape.prototype.initializeShape = function (type) {\n        var parent = this.parent;\n        this.redrawActObj();\n        parent.activeObj.shape = type;\n        parent.currObjType.isCustomCrop = false;\n    };\n    Shape.prototype.updateWidthHeight = function (obj) {\n        obj.activePoint.width = obj.activePoint.endX - obj.activePoint.startX;\n        obj.activePoint.height = obj.activePoint.endY - obj.activePoint.startY;\n        return obj;\n    };\n    Shape.prototype.setDimension = function (width, height) {\n        var parent = this.parent;\n        var shape = parent.activeObj.shape;\n        if ((width && height) || ((shape === 'line' || shape === 'arrow') && (width || height))) {\n            parent.activeObj.activePoint.width = width;\n            parent.activeObj.activePoint.height = height;\n            if (parent.currObjType.shape.toLowerCase() === 'ellipse') {\n                parent.activeObj.activePoint.width = 2 * width;\n                parent.activeObj.activePoint.height = 2 * height;\n            }\n        }\n    };\n    Shape.prototype.getArrowType = function (type) {\n        var arrowType = type;\n        if (type) {\n            var typeToArrowType = { 'None': 'none', 'Arrow': 'arrow', 'SolidArrow': 'arrowSolid',\n                'Circle': 'circle', 'SolidCircle': 'circleSolid', 'Square': 'square', 'SolidSquare': 'squareSolid', 'Bar': 'bar' };\n            arrowType = typeToArrowType[\"\" + type];\n        }\n        return arrowType;\n    };\n    Shape.prototype.drawShape = function (type, strokeWidth, strokeColor, fillColor, start, width, height, pointColl, arrowStart, arrowEnd, degree, opacity, isSelected, radius, redactType, value) {\n        var parent = this.parent;\n        if (!parent.disabled && parent.isImageLoaded) {\n            parent.notify('draw', { prop: 'setImageEdited', onPropertyChange: false });\n            this.redrawActObj();\n            var objColl = extend([], parent.objColl, [], true);\n            parent.togglePen = false;\n            this.keyHistory = '';\n            parent.upperCanvas.style.display = 'block';\n            this.refreshActiveObj();\n            parent.currObjType.shape = type = type.toLowerCase();\n            if (type !== 'freehanddraw' && type !== '') {\n                parent.activeObj.shape = type;\n                var strokeSettings = parent.activeObj.strokeSettings;\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                if (isNullOrUndefined(strokeSettings)) {\n                    strokeSettings = this.strokeSettings;\n                }\n                if (type === 'path' && pointColl) {\n                    parent.activeObj.pointColl = pointColl;\n                }\n                if (opacity !== null && opacity !== undefined) {\n                    parent.activeObj.opacity = opacity;\n                }\n                strokeSettings.strokeWidth = strokeWidth ? strokeWidth : strokeSettings.strokeWidth;\n                var shape = parent.activeObj.shape;\n                if ((shape === 'rectangle' || shape === 'ellipse') && strokeWidth === 0) {\n                    strokeSettings.strokeWidth = 0;\n                }\n                strokeSettings.strokeColor = strokeColor ? strokeColor : strokeSettings.strokeColor;\n                strokeSettings.fillColor = fillColor || fillColor === '' ? fillColor : strokeSettings.fillColor;\n                strokeSettings.radius = radius ? radius : strokeSettings.radius;\n                var tempWidth = parent.img.destWidth > 100 ? 100 : parent.img.destWidth / 2;\n                var tempHeight = parent.img.destHeight > 100 ? 100 : parent.img.destHeight / 2;\n                parent.activeObj.activePoint.width = tempWidth;\n                parent.activeObj.activePoint.height = tempHeight;\n                if (type === 'line' || type === 'arrow') {\n                    parent.activeObj.lineDraw = 'horizontal';\n                    parent.activeObj.activePoint.height = 0;\n                    if (type === 'arrow') {\n                        parent.activeObj.activePoint.width += 50;\n                        parent.activeObj.start = this.getArrowType(arrowStart);\n                        parent.activeObj.end = this.getArrowType(arrowEnd);\n                    }\n                }\n                else if (type === 'rectangle') {\n                    parent.activeObj.activePoint.width += parent.activeObj.activePoint.width / 2;\n                }\n                else if (type === 'redact') {\n                    if (redactType) {\n                        parent.activeObj.redactType = redactType.toLowerCase();\n                        if (redactType === RedactType.Blur) {\n                            if (value) {\n                                parent.activeObj.redactBlur = value;\n                            }\n                        }\n                        else {\n                            if (value) {\n                                parent.activeObj.redactPixelate = value;\n                            }\n                        }\n                        parent.activeObj.redactImage = parent.createElement('canvas');\n                    }\n                }\n                this.setDimension(width, height);\n                if (start) {\n                    parent.activeObj.activePoint.startX = start.x;\n                    parent.activeObj.activePoint.startY = start.y;\n                    parent.activeObj.activePoint.endX = parent.activeObj.activePoint.startX +\n                        parent.activeObj.activePoint.width;\n                    parent.activeObj.activePoint.endY = parent.activeObj.activePoint.startY +\n                        parent.activeObj.activePoint.height;\n                }\n                else {\n                    this.setCenterPoints();\n                }\n                this.setPointCollForLineAndArrow();\n                if (type === 'arrow') {\n                    parent.activeObj.triangleDirection = 'right';\n                }\n                parent.currObjType.isDragging = parent.currObjType.isCustomCrop = false;\n                this.initShapeProps();\n                var obj = { shapeSettingsObj: {} };\n                parent.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: obj } });\n                var shapeSettings = obj['shapeSettingsObj'];\n                var shapeChangingArgs = { cancel: false, action: 'insert', previousShapeSettings: shapeSettings,\n                    currentShapeSettings: shapeSettings };\n                parent.trigger('shapeChanging', shapeChangingArgs);\n                parent.editCompleteArgs = shapeChangingArgs;\n                this.updateShapeChangeEventArgs(shapeChangingArgs.currentShapeSettings, shapeChangingArgs.allowShapeOverflow);\n                this.setDimension(width, height);\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n                if (degree) {\n                    parent.activeObj.rotatedAngle = degree * (Math.PI / 180);\n                    parent.notify('selection', { prop: 'updPtCollForShpRot', onPropertyChange: false, value: { obj: parent.activeObj } });\n                }\n                parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n                parent.notify('selection', { prop: 'isShapeInserted', onPropertyChange: false, value: { bool: true } });\n                parent.notify('undo-redo', { prop: 'updateUrObj', onPropertyChange: false, value: { objColl: objColl } });\n                if (type === 'redact') {\n                    parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'redact',\n                            isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                }\n                else {\n                    parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'shapes',\n                            isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                }\n                parent.notify('toolbar', { prop: 'update-toolbar-items', onPropertyChange: false });\n                if (parent.isPublicMethod && !isSelected) {\n                    parent.notify('undo-redo', { prop: 'updateUndoRedo', value: { operation: 'shapeInsert' }, onPropertyChange: false });\n                }\n                parent.isPublicMethod = false;\n            }\n        }\n    };\n    Shape.prototype.initShapeProps = function () {\n        var parent = this.parent;\n        parent.activeObj.shapeDegree = parent.transform.degree;\n        parent.activeObj.shapeFlip = parent.transform.currFlipState;\n        parent.activeObj.textFlip = parent.transform.currFlipState;\n        parent.activeObj.flipObjColl = [];\n        parent.activeObj.order = this.getNewOrder();\n    };\n    Shape.prototype.setPointCollForLineAndArrow = function () {\n        var parent = this.parent;\n        var shape = parent.activeObj.shape;\n        var _a = parent.activeObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        if (shape === 'line' || shape === 'arrow') {\n            parent.activeObj.pointColl = this.getLinePoints(startX, startY, endX, endY);\n            if (parent.activeObj.pointColl) {\n                for (var i = 0, len = parent.activeObj.pointColl.length; i < len; i++) {\n                    parent.activeObj.pointColl[i].ratioX = (parent.activeObj.pointColl[i].x -\n                        parent.img.destLeft) / parent.img.destWidth;\n                    parent.activeObj.pointColl[i].ratioY = (parent.activeObj.pointColl[i].y -\n                        parent.img.destTop) / parent.img.destHeight;\n                }\n            }\n        }\n    };\n    Shape.prototype.prevObjColl = function () {\n        var parent = this.parent;\n        var object = { currObj: {} };\n        parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        this.prevObj = object['currObj'];\n        this.prevObj.objColl = extend([], parent.objColl, [], true);\n        this.prevObj.pointColl = extend([], parent.pointColl, [], true);\n        this.prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        this.prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n    };\n    Shape.prototype.drawShapeText = function (text, fontFamily, fontSize, bold, italic, strokeColor, x, y, isSelected, degree, fillColor, outlineColor, outlineWidth, transformCollection) {\n        var parent = this.parent;\n        if (!parent.disabled && parent.isImageLoaded) {\n            if (parent.currObjType.shape === 'freehanddraw') {\n                this.apply();\n                parent.upperCanvas.style.cursor = parent.cursor = 'default';\n                parent.currObjType.shape = '';\n            }\n            parent.notify('draw', { prop: 'setImageEdited', onPropertyChange: false });\n            parent.togglePen = false;\n            this.redrawActObj();\n            this.prevObjColl();\n            this.refreshActiveObj();\n            parent.activeObj.shape = parent.currObjType.shape = 'text';\n            parent.currObjType.isCustomCrop = false;\n            this.initializeTextShape(text, fontFamily, fontSize, bold, italic, strokeColor, fillColor, outlineColor, outlineWidth);\n            parent.currObjType.isText = parent.currObjType.isInitialText = true;\n            if (isNullOrUndefined(parent.activeObj.textSettings.fontSize)) {\n                parent.getFontSizes();\n                parent.activeObj.textSettings.fontSize = parseInt(parent.fontSizeColl[(parseInt('3', 10) - 1)].text, 10);\n            }\n            if (parent.img.destWidth < 100) {\n                parent.activeObj.textSettings.fontSize = Math.floor((parent.img.destWidth / 20));\n            }\n            else if (parent.img.destHeight < 100) {\n                parent.activeObj.textSettings.fontSize = Math.floor((parent.img.destHeight / 20));\n            }\n            parent.activeObj.shapeDegree = parent.transform.degree;\n            parent.activeObj.shapeFlip = parent.transform.currFlipState;\n            parent.activeObj.flipObjColl = [];\n            this.updateFontStyles();\n            parent.activeObj.order = this.getNewOrder();\n            var width = this.upperContext.measureText(parent.activeObj.textSettings.text).width +\n                parent.activeObj.textSettings.fontSize * 0.5;\n            var height = parent.activeObj.textSettings.fontSize;\n            if (text) {\n                parent.activeObj.keyHistory = text;\n                var maxText = this.getMaxText();\n                maxText = maxText ? maxText : parent.activeObj.textSettings.text;\n                width = this.upperContext.measureText(maxText).width + parent.activeObj.textSettings.fontSize * 0.5;\n                var rows = text.split('\\n');\n                if (rows.length > 1) {\n                    height = rows.length * parent.activeObj.textSettings.fontSize;\n                    height += (fontSize * 0.25);\n                }\n            }\n            if (!isNullOrUndefined(x) && !isNullOrUndefined(y)) {\n                parent.activeObj.activePoint.startX = x;\n                parent.activeObj.activePoint.startY = y;\n                parent.activeObj.activePoint.endX = parent.activeObj.activePoint.startX + width;\n                parent.activeObj.activePoint.endY = parent.activeObj.activePoint.startY + height;\n            }\n            else {\n                this.setCenterPoints(true, width, height);\n            }\n            if (transformCollection) {\n                parent.notify('selection', { prop: 'setTransformedShape', onPropertyChange: false, value: { bool: true } });\n                this.setTransformColl(transformCollection);\n                var actObj = parent.activeObj;\n                actObj.shapeDegree = 0;\n                actObj.shapeFlip = '';\n                var tempDegree = 0;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var coll = actObj.rotateFlipColl;\n                for (var i = 0; i < coll.length; i++) {\n                    if (typeof (coll[i]) === 'number') {\n                        tempDegree += coll[i];\n                    }\n                }\n                if (tempDegree % 90 === 0 && Math.abs(tempDegree) % 180 === 90) {\n                    actObj.activePoint.endX = actObj.activePoint.startX + height;\n                    actObj.activePoint.endY = actObj.activePoint.startY + width;\n                    actObj.activePoint.width = actObj.activePoint.endX - actObj.activePoint.startX;\n                    actObj.activePoint.height = actObj.activePoint.endY - actObj.activePoint.startY;\n                }\n            }\n            var obj = { shapeSettingsObj: {} };\n            parent.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: obj } });\n            var shapeSettings = obj['shapeSettingsObj'];\n            var shapeChangingArgs = { cancel: false, action: 'insert', previousShapeSettings: shapeSettings,\n                currentShapeSettings: shapeSettings };\n            parent.trigger('shapeChanging', shapeChangingArgs);\n            parent.editCompleteArgs = shapeChangingArgs;\n            this.drawShapeTextEvent(shapeChangingArgs);\n            if (degree) {\n                parent.activeObj.rotatedAngle = degree * (Math.PI / 180);\n                parent.notify('selection', { prop: 'updPtCollForShpRot', onPropertyChange: false, value: { obj: parent.activeObj } });\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj, isCropRatio: null,\n                        points: null, isPreventDrag: true, saveContext: null, isPreventSelection: null } });\n                parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n                parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n            }\n            if (text && text.indexOf('\\n') > -1 && parent.isPublicMethod) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var fontSizeInd = String(parent.fontSizeColl.findIndex(function (item) { return item.text === String(parent.activeObj.textSettings.fontSize); }) + 1);\n                parent.noPushUndo = true;\n                parent.updateFontSize('5');\n                if (parseInt(fontSizeInd, 10) > 0) {\n                    parent.updateFontSize(fontSizeInd);\n                }\n                parent.noPushUndo = false;\n            }\n            if (parent.isPublicMethod && !isSelected) {\n                parent.notify('undo-redo', { prop: 'updateUndoRedo', value: { operation: 'shapeInsert' }, onPropertyChange: false });\n            }\n            parent.isPublicMethod = false;\n        }\n    };\n    Shape.prototype.drawShapeImageEvent = function (shapeChangingArgs, isSelect) {\n        var parent = this.parent;\n        this.updateShapeChangeEventArgs(shapeChangingArgs.currentShapeSettings, shapeChangingArgs.allowShapeOverflow);\n        parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n        parent.objColl.push(parent.activeObj);\n        var prevCropObj = extend({}, parent.cropObj, {}, true);\n        parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n            value: { operation: 'shapeInsert', previousObj: this.prevObj, previousObjColl: this.prevObj.objColl,\n                previousPointColl: this.prevObj.pointColl, previousSelPointColl: this.prevObj.selPointColl, previousCropObj: prevCropObj,\n                previousText: null, currentText: null, previousFilter: null, isCircleCrop: null } });\n        parent.notify('selection', { prop: 'redrawShape', onPropertyChange: false,\n            value: { obj: parent.objColl[parent.objColl.length - 1] } });\n        if (isSelect) {\n            parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'shapes',\n                    isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n            parent.notify('toolbar', { prop: 'update-toolbar-items', onPropertyChange: false });\n            parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n        }\n        else {\n            parent.okBtn(null, true);\n        }\n        parent.notify('selection', { prop: 'isShapeInserted', onPropertyChange: false, value: { bool: true } });\n    };\n    Shape.prototype.setTransformColl = function (transformCollection) {\n        var parent = this.parent;\n        parent.activeObj.rotateFlipColl = [];\n        if (transformCollection) {\n            for (var i = 0; i < transformCollection.length; i++) {\n                if (transformCollection[i].degree) {\n                    parent.activeObj.rotateFlipColl.push(transformCollection[i].degree);\n                }\n                else {\n                    parent.activeObj.rotateFlipColl.push(transformCollection[i].flip.toLowerCase());\n                }\n            }\n        }\n    };\n    Shape.prototype.drawShapeTextEvent = function (shapeChangingArgs) {\n        var parent = this.parent;\n        this.updateShapeChangeEventArgs(shapeChangingArgs.currentShapeSettings, shapeChangingArgs.allowShapeOverflow);\n        this.addLetter(parent.activeObj.textSettings.text);\n        parent.activeObj.textFlip = parent.transform.currFlipState;\n        this.updateFontRatio(parent.activeObj);\n        parent.objColl.push(parent.activeObj);\n        var prevCropObj = extend({}, parent.cropObj, {}, true);\n        parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n            value: { operation: 'shapeInsert', previousObj: this.prevObj, previousObjColl: this.prevObj.objColl,\n                previousPointColl: this.prevObj.pointColl, previousSelPointColl: this.prevObj.selPointColl,\n                previousCropObj: prevCropObj, previousText: null, currentText: null, previousFilter: null, isCircleCrop: null } });\n        parent.notify('selection', { prop: 'redrawShape', onPropertyChange: false,\n            value: { obj: parent.objColl[parent.objColl.length - 1] } });\n        parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n        parent.notify('selection', { prop: 'isShapeInserted', onPropertyChange: false, value: { bool: true } });\n        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'text',\n                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n        parent.notify('toolbar', { prop: 'update-toolbar-items', onPropertyChange: false });\n    };\n    Shape.prototype.initializeTextShape = function (text, fontFamily, fontSize, bold, italic, strokeColor, fillColor, outlineColor, outlineWidth) {\n        var parent = this.parent;\n        this.keyHistory = '';\n        parent.upperCanvas.style.display = 'block';\n        parent.activeObj.strokeSettings.strokeColor = strokeColor || parent.activeObj.strokeSettings.strokeColor;\n        parent.activeObj.strokeSettings.fillColor = fillColor || parent.activeObj.strokeSettings.fillColor;\n        parent.activeObj.textSettings.text = text || parent.activeObj.textSettings.text;\n        parent.activeObj.textSettings.fontFamily = fontFamily || parent.activeObj.textSettings.fontFamily;\n        parent.activeObj.textSettings.fontSize = fontSize || parent.activeObj.textSettings.fontSize;\n        parent.activeObj.textSettings.bold = bold || parent.activeObj.textSettings.bold;\n        parent.activeObj.textSettings.italic = italic || parent.activeObj.textSettings.italic;\n        parent.activeObj.strokeSettings.outlineColor = outlineColor || parent.activeObj.strokeSettings.outlineColor;\n        parent.activeObj.strokeSettings.outlineWidth = outlineWidth || parent.activeObj.strokeSettings.outlineWidth;\n    };\n    Shape.prototype.drawImage = function (x, y, width, height, src, degree, isAspectRatio, opacity, isSelected) {\n        this.initializeShape('image');\n        this.onLoadImgShape(x, y, width, height, src, null, degree, isAspectRatio, opacity, isSelected);\n    };\n    Shape.prototype.redrawActObj = function (x, y, isMouseDown) {\n        var splitWords;\n        var parent = this.parent;\n        if (parent.activeObj.shape) {\n            splitWords = parent.activeObj.shape.split('-');\n        }\n        if (parent.activeObj.horTopLine && (parent.activeObj.shape && splitWords[0] !== 'crop')) {\n            if (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') {\n                parent.notify('selection', { prop: 'setTextBoxStylesToActObj', onPropertyChange: false });\n                this.updateFontRatio(parent.activeObj, true);\n                if (x && y) {\n                    if ((x !== parent.activeObj.activePoint.startX) && (y !== parent.activeObj.activePoint.startY)) {\n                        this.updateTextFromTextArea();\n                    }\n                }\n                else {\n                    this.updateTextFromTextArea();\n                    parent.textArea.style.transform = '';\n                    parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n                }\n                this.refreshActiveObj();\n            }\n            else {\n                this.applyActObj(isMouseDown);\n            }\n        }\n    };\n    Shape.prototype.apply = function (shape, obj, canvas) {\n        var parent = this.parent;\n        if (!parent.disabled) {\n            if (parent.togglePen && !parent.currObjType.isCustomCrop) {\n                var destLeft = parent.img.destLeft;\n                var destTop = parent.img.destTop;\n                var destWidth = parent.img.destWidth;\n                var destHeight = parent.img.destHeight;\n                parent.notify('draw', { prop: 'callUpdateCurrTransState', onPropertyChange: false });\n                var temp = this.lowerContext.filter;\n                this.lowerContext.filter = 'none';\n                parent.togglePen = false;\n                if (parent.isCircleCrop || (parent.currSelectionPoint &&\n                    parent.currSelectionPoint.shape === 'crop-circle')) {\n                    parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                        value: { context: this.lowerContext, isSave: null, isFlip: null } });\n                }\n                parent.img.destLeft = destLeft;\n                parent.img.destTop = destTop;\n                parent.img.destWidth = destWidth;\n                parent.img.destHeight = destHeight;\n                this.lowerContext.filter = temp;\n            }\n            else {\n                canvas = canvas ? canvas : 'original';\n                if (isNullOrUndefined(parent.activeObj.shape) && isNullOrUndefined(shape)) {\n                    parent.currObjType.shape = '';\n                }\n                else {\n                    parent.currObjType.shape = shape || parent.currObjType.shape;\n                }\n                if (parent.currObjType.shape !== '') {\n                    this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                    if (parent.activeObj.shape === 'text') {\n                        parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: canvas, obj: obj, isCropRatio: null,\n                                points: null, isPreventDrag: true, saveContext: null, isPreventSelection: null } });\n                    }\n                    else {\n                        parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: canvas, obj: obj } });\n                    }\n                    parent.activeObj.shape = parent.currObjType.shape.toLowerCase();\n                    if (!shape && parent.currObjType.shape !== '' && !parent.currObjType.isCustomCrop) {\n                        parent.objColl.push(extend({}, parent.activeObj, {}, true));\n                    }\n                    this.keyHistory = '';\n                }\n            }\n        }\n    };\n    Shape.prototype.setCenterPoints = function (text, width, height) {\n        var parent = this.parent;\n        var renderWidth;\n        var renderHeight;\n        if (text && width && height) {\n            renderWidth = width;\n            renderHeight = height;\n        }\n        else {\n            renderWidth = parent.activeObj.activePoint.width;\n            renderHeight = parent.activeObj.activePoint.height;\n        }\n        parent.activeObj.activePoint.startX = (parent.lowerCanvas.width / 2) - renderWidth / 2;\n        parent.activeObj.activePoint.startY = (parent.lowerCanvas.height / 2) - renderHeight / 2;\n        parent.activeObj.activePoint.endX = (parent.lowerCanvas.width / 2) + renderWidth / 2;\n        parent.activeObj.activePoint.endY = (parent.lowerCanvas.height / 2) + renderHeight / 2;\n    };\n    Shape.prototype.updSelChangeEventArgs = function (selectionSettings) {\n        var parent = this.parent;\n        parent.activeObj.activePoint = { startX: selectionSettings.startX, startY: selectionSettings.startY,\n            endX: parent.activeObj.activePoint.startX + parent.activeObj.activePoint.width,\n            endY: parent.activeObj.activePoint.startY + parent.activeObj.activePoint.height,\n            width: selectionSettings.width, height: selectionSettings.height };\n        parent.activeObj.activePoint.endX = parent.activeObj.activePoint.startX + parent.activeObj.activePoint.width;\n        parent.activeObj.activePoint.endY = parent.activeObj.activePoint.startY + parent.activeObj.activePoint.height;\n    };\n    Shape.prototype.updateShapeChangeEventArgs = function (shapeSettings, allowShapeOverflow) {\n        var parent = this.parent;\n        var shapeId;\n        if (shapeSettings.id && shapeSettings.id.indexOf('shape_') === -1 &&\n            shapeSettings.id.indexOf('pen_') === -1) {\n            if (parent.activeObj.currIndex) {\n                parent.activeObj.currIndex = 'shape_' + shapeSettings.id;\n            }\n            else {\n                parent.pointColl[shapeId].id = 'pen_' + shapeSettings.id;\n            }\n        }\n        if (shapeSettings.id && shapeSettings.id.split('_')[0] && shapeSettings.id.split('_')[0] === 'pen') {\n            shapeId = parseInt(shapeSettings.id.split('_')[1], 10) - 1;\n            parent.pointColl[shapeId].points = shapeSettings.points;\n            parent.pointColl[shapeId].strokeColor = shapeSettings.strokeColor;\n            parent.pointColl[shapeId].strokeWidth = shapeSettings.strokeWidth;\n            parent.pointColl[shapeId].opacity = shapeSettings.opacity;\n            parent.pointColl[shapeId].order = shapeSettings.index;\n        }\n        else {\n            parent.activeObj.activePoint.startX = shapeSettings.startX;\n            parent.activeObj.activePoint.startY = shapeSettings.startY;\n            if (shapeSettings.width && shapeSettings.height) {\n                parent.activeObj.activePoint.width = shapeSettings.width;\n                parent.activeObj.activePoint.height = shapeSettings.height;\n                parent.activeObj.activePoint.endX = parent.activeObj.activePoint.startX + parent.activeObj.activePoint.width;\n                parent.activeObj.activePoint.endY = parent.activeObj.activePoint.startY + parent.activeObj.activePoint.height;\n            }\n            if (parent.activeObj.shape !== 'text') {\n                parent.activeObj.strokeSettings.strokeColor = shapeSettings.strokeColor;\n                parent.activeObj.strokeSettings.strokeWidth = shapeSettings.strokeWidth;\n            }\n            parent.activeObj.strokeSettings.fillColor = shapeSettings.fillColor;\n            parent.activeObj.opacity = shapeSettings.opacity;\n            parent.activeObj.order = shapeSettings.index;\n            parent.activeObj.preventShapeDragOut = !allowShapeOverflow;\n            if (isNullOrUndefined(shapeSettings.degree)) {\n                shapeSettings.degree = 0;\n            }\n            switch (parent.activeObj.shape) {\n                case 'ellipse':\n                    parent.activeObj.activePoint.width = shapeSettings.radiusX * 2;\n                    parent.activeObj.activePoint.height = shapeSettings.radiusY * 2;\n                    parent.activeObj.activePoint.endX = parent.activeObj.activePoint.startX + parent.activeObj.activePoint.width;\n                    parent.activeObj.activePoint.endY = parent.activeObj.activePoint.startY + parent.activeObj.activePoint.height;\n                    if (shapeSettings.degree) {\n                        parent.activeObj.rotatedAngle = shapeSettings.degree * (Math.PI / 180);\n                    }\n                    break;\n                case 'line':\n                case 'arrow':\n                    parent.activeObj.activePoint.width = shapeSettings.length;\n                    parent.activeObj.activePoint.endX = shapeSettings.endX;\n                    parent.activeObj.activePoint.endY = shapeSettings.endY;\n                    parent.activeObj.activePoint.width = parent.activeObj.activePoint.startX + parent.activeObj.activePoint.width;\n                    parent.activeObj.activePoint.height = parent.activeObj.activePoint.startY + parent.activeObj.activePoint.height;\n                    if (parent.activeObj.shape === 'arrow') {\n                        parent.activeObj.start = this.getArrowType(shapeSettings.arrowHead);\n                        parent.activeObj.end = this.getArrowType(shapeSettings.arrowTail);\n                    }\n                    break;\n                case 'text':\n                    parent.activeObj.keyHistory = parent.activeObj.textSettings.text = shapeSettings.text;\n                    parent.activeObj.textSettings.fontSize = shapeSettings.fontSize;\n                    parent.activeObj.strokeSettings.strokeColor = shapeSettings.color;\n                    parent.activeObj.strokeSettings.outlineColor = shapeSettings.strokeColor;\n                    parent.activeObj.strokeSettings.outlineWidth = shapeSettings.strokeWidth;\n                    parent.activeObj.strokeSettings.fillColor = shapeSettings.fillColor;\n                    parent.activeObj.textSettings.fontFamily = shapeSettings.fontFamily;\n                    this.setTransformColl(shapeSettings.transformCollection);\n                    if (shapeSettings.degree) {\n                        parent.activeObj.rotatedAngle = shapeSettings.degree * (Math.PI / 180);\n                    }\n                    this.updateFontRatio(parent.activeObj);\n                    break;\n                case 'rectangle':\n                case 'image':\n                    if (shapeSettings.degree) {\n                        parent.activeObj.rotatedAngle = shapeSettings.degree * (Math.PI / 180);\n                    }\n                    // Prevented setting image src as it cannot be set in canvas\n                    break;\n                case 'path':\n                    parent.activeObj.pointColl = shapeSettings.points;\n                    break;\n            }\n            if (parent.activeObj.shape === 'text' && parent.activeObj.textSettings) {\n                parent.activeObj.textSettings.bold = false;\n                parent.activeObj.textSettings.italic = false;\n                parent.activeObj.textSettings.underline = false;\n                for (var i = 0; i < shapeSettings.fontStyle.length; i++) {\n                    switch (shapeSettings.fontStyle[i]) {\n                        case 'bold':\n                            parent.activeObj.textSettings.bold = true;\n                            break;\n                        case 'italic':\n                            parent.activeObj.textSettings.italic = true;\n                            break;\n                    }\n                }\n            }\n        }\n    };\n    Shape.prototype.addLetter = function (letter) {\n        var parent = this.parent;\n        if (parent.textArea.style.display === 'none' && (parent.currObjType.isText || parent.activeObj.shape === 'text')) {\n            var fontSize = parent.activeObj.textSettings.fontSize;\n            if (letter === 'Backspace') {\n                this.keyHistory = this.keyHistory.slice(0, -1);\n            }\n            else {\n                this.keyHistory += letter;\n            }\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            this.updateFontStyles();\n            var width = this.upperContext.measureText(this.keyHistory).width + fontSize * 0.5;\n            var height = fontSize;\n            this.upperContext.fillText(this.keyHistory, parent.activeObj.activePoint.startX, parent.activeObj.activePoint.startY + fontSize);\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            parent.currObjType.isText = true;\n            parent.notify('selection', { prop: 'setActivePoint', onPropertyChange: false,\n                value: { startX: width, startY: height } });\n        }\n    };\n    Shape.prototype.redrawText = function () {\n        var parent = this.parent;\n        var _a = parent.activeObj.textSettings, fontSize = _a.fontSize, fontFamily = _a.fontFamily, bold = _a.bold, italic = _a.italic;\n        var fontStyle = '';\n        if (bold) {\n            fontStyle += 'bold ';\n        }\n        if (italic) {\n            fontStyle += 'italic ';\n        }\n        this.upperContext.font = fontStyle + fontSize + 'px ' + fontFamily;\n        var rows = parent.activeObj.keyHistory.split('\\n');\n        var text = (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') ?\n            this.getMaxText(true) : this.getMaxText();\n        var width = this.upperContext.measureText(text).width + fontSize * 0.5;\n        var height = rows.length * fontSize;\n        if (rows.length > 1) {\n            height += (fontSize * 0.50);\n        }\n        parent.notify('selection', { prop: 'setTextSelection', onPropertyChange: false,\n            value: { width: width, height: height } });\n        parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: parent.activeObj.activePoint, obj: parent.activeObj,\n                isMouseMove: null, x: null, y: null } });\n        parent.notify('selection', { prop: 'redrawShape', onPropertyChange: false,\n            value: { obj: parent.activeObj } });\n    };\n    Shape.prototype.updateTextFromTextArea = function () {\n        var parent = this.parent;\n        var allowUndoRedo = false;\n        var fontSize = parent.activeObj.textSettings.fontSize;\n        var tempActiveObj = extend({}, parent.activeObj, {}, true);\n        var prevCropObj = extend({}, parent.cropObj, {}, true);\n        var object = { currObj: {} };\n        parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        prevObj.objColl = extend([], parent.objColl, [], true);\n        prevObj.pointColl = extend([], parent.pointColl, [], true);\n        prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        if (parent.activeObj.keyHistory !== parent.textArea.value) {\n            allowUndoRedo = true;\n        }\n        parent.activeObj.keyHistory = parent.textArea.value;\n        parent.textArea.style.display = 'none';\n        parent.textArea.value = '';\n        this.updateFontStyles();\n        var width = this.upperContext.measureText(parent.activeObj.keyHistory).width + fontSize * 0.5;\n        var height = fontSize;\n        var rows = parent.activeObj.keyHistory.split('\\n');\n        if (rows.length > 1) {\n            height *= rows.length;\n            height += (fontSize * 0.1 * rows.length);\n            var widthColl = [];\n            for (var i = 0, len = rows.length; i < len; i++) {\n                widthColl.push(this.upperContext.measureText(rows[i]).width + fontSize * 0.5);\n            }\n            width = Math.max.apply(Math, widthColl);\n        }\n        parent.notify('selection', { prop: 'setTextSelection', onPropertyChange: false,\n            value: { width: width, height: height } });\n        if (parent.activeObj.rotatedAngle !== 0) {\n            var width_1 = parent.activeObj.activePoint.width - tempActiveObj.activePoint.width;\n            var height_1 = parent.activeObj.activePoint.height - tempActiveObj.activePoint.height;\n            var value = '';\n            if (width_1 > 0 && height_1 > 0) {\n                value = 'widthHeight';\n            }\n            else if (width_1 !== 0) {\n                value = 'width';\n            }\n            else if (height_1 !== 0) {\n                value = 'height';\n            }\n            parent.activeObj.activePoint = extend({}, tempActiveObj.activePoint, {}, true);\n            parent.notify('selection', { prop: 'adjustRotationPoints', onPropertyChange: false, value: { rectangle: parent.activeObj.activePoint,\n                    x: width_1, y: height_1, angle: parent.activeObj.rotatedAngle, type: 'text', elem: value } });\n            parent.notify('shape', { prop: 'updateFontSize', onPropertyChange: false,\n                value: { obj: parent.activeObj } });\n        }\n        parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: parent.activeObj.activePoint, obj: parent.activeObj,\n                isMouseMove: null, x: null, y: null } });\n        this.updImgRatioForActObj();\n        if (parent.activeObj.rotatedAngle !== 0) {\n            parent.notify('selection', { prop: 'updPtCollForShpRot', onPropertyChange: false, value: { obj: parent.activeObj } });\n        }\n        if (allowUndoRedo) {\n            this.apply(parent.activeObj.shape, parent.activeObj);\n            parent.objColl.push(extend({}, parent.activeObj, {}, true));\n            parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                value: { operation: 'text', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                    previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                    previousCropObj: prevCropObj, previousText: parent.activeObj.keyHistory,\n                    currentText: parent.textArea.value, previousFilter: null, isCircleCrop: null } });\n        }\n        else {\n            this.apply(parent.activeObj.shape, parent.activeObj);\n            parent.objColl.push(extend({}, parent.activeObj, {}, true));\n        }\n    };\n    Shape.prototype.iterateObjColl = function () {\n        var parent = this.parent;\n        if (parent.objColl.length > 0) {\n            var index = this.getSmallestIndex();\n            var objColl = extend([], parent.objColl, [], true);\n            while (objColl.length > 0) {\n                var found = false;\n                for (var i = 0; i < objColl.length; i++) {\n                    var currentObj = objColl[i];\n                    if (isNullOrUndefined(currentObj.order)) {\n                        objColl.splice(i, 1);\n                        i--;\n                        continue;\n                    }\n                    if (currentObj.order === index) {\n                        this.apply(currentObj.shape, currentObj);\n                        if (currentObj.shape === 'redact' && JSON.stringify(currentObj.activePoint) === JSON.stringify(parent.activeObj.activePoint) &&\n                            currentObj.redactImage !== parent.activeObj.redactImage) {\n                            currentObj.redactImage = parent.activeObj.redactImage;\n                            if (parent.objColl[i] && JSON.stringify(parent.objColl[i].activePoint) ===\n                                JSON.stringify(currentObj.activePoint)) {\n                                parent.objColl[i].redactImage = parent.activeObj.redactImage;\n                            }\n                        }\n                        this.refreshActiveObj();\n                        index++;\n                        if (!this.isIndexInObjColl(index)) {\n                            index++;\n                        }\n                        objColl.splice(i, 1);\n                        found = true;\n                        break; // Exit the loop to start from the beginning\n                    }\n                }\n                if (!found) {\n                    break; // If no matching order was found, exit the loop\n                }\n            }\n        }\n    };\n    Shape.prototype.getSmallestIndex = function () {\n        var parent = this.parent;\n        var smallestIndex;\n        for (var i = 0, len = parent.objColl.length; i < len; i++) {\n            var currentObj = parent.objColl[i];\n            if (isNullOrUndefined(currentObj.order)) {\n                continue;\n            }\n            if (isNullOrUndefined(smallestIndex) || currentObj.order < smallestIndex) {\n                smallestIndex = currentObj.order;\n            }\n        }\n        return smallestIndex;\n    };\n    Shape.prototype.isIndexInObjColl = function (index) {\n        var parent = this.parent;\n        for (var i = 0, len = parent.objColl.length; i < len; i++) {\n            var currentObj = parent.objColl[i];\n            if (isNullOrUndefined(currentObj.order)) {\n                continue;\n            }\n            if (currentObj.order === index) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Shape.prototype.updImgRatioForActObj = function () {\n        var parent = this.parent;\n        var destPoints = { startX: parent.img.destLeft, startY: parent.img.destTop,\n            width: parent.img.destWidth, height: parent.img.destHeight };\n        this.straightenShapes();\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        var activePoint = parent.activeObj.activePoint;\n        parent.activeObj.imageRatio = { startX: ((activePoint.startX - destLeft) /\n                destWidth), startY: ((activePoint.startY - destTop) / destHeight),\n            endX: ((activePoint.endX - destLeft) / destWidth),\n            endY: ((activePoint.endY - destTop) / destHeight),\n            width: destWidth / activePoint.width, height: destHeight / activePoint.height };\n        if (parent.activeObj.rotationCirclePointColl) {\n            parent.activeObj.rotationCirclePointColl.ratioX = (parent.activeObj.rotationCirclePointColl.x -\n                destLeft) / destWidth;\n            parent.activeObj.rotationCirclePointColl.ratioY = (parent.activeObj.rotationCirclePointColl.y -\n                destTop) / destHeight;\n        }\n        if (parent.activeObj.shape === 'path') {\n            this.updatePathRatio(parent.activeObj);\n        }\n        else if (parent.activeObj.shape === 'arrow') {\n            this.updateArrowRatio(parent.activeObj);\n        }\n        parent.img.destLeft = destPoints.startX;\n        parent.img.destTop = destPoints.startY;\n        parent.img.destWidth = destPoints.width;\n        parent.img.destHeight = destPoints.height;\n    };\n    Shape.prototype.zoomObjColl = function (preventApply) {\n        var parent = this.parent;\n        var destPoints = { startX: parent.img.destLeft, startY: parent.img.destTop,\n            width: parent.img.destWidth, height: parent.img.destHeight };\n        this.straightenShapes();\n        if (parent.objColl.length > 0) {\n            for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                var currObj = parent.objColl[i];\n                if (currObj.imageRatio) {\n                    currObj.activePoint.startX = (currObj.imageRatio.startX * parent.img.destWidth) + parent.img.destLeft;\n                    currObj.activePoint.startY = (currObj.imageRatio.startY * parent.img.destHeight) + parent.img.destTop;\n                    currObj.activePoint.endX = (currObj.imageRatio.endX * parent.img.destWidth) + parent.img.destLeft;\n                    currObj.activePoint.endY = (currObj.imageRatio.endY * parent.img.destHeight) + parent.img.destTop;\n                }\n                currObj = this.updateWidthHeight(currObj);\n                if (currObj.shape === 'text') {\n                    this.updateFontSize(currObj);\n                }\n                else if (currObj.shape === 'line' || currObj.shape === 'arrow') {\n                    currObj.pointColl = this.getLinePoints(currObj.activePoint.startX, currObj.activePoint.startY, currObj.activePoint.endX, currObj.activePoint.endY);\n                    for (var n = 0, len_1 = currObj.pointColl.length; n < len_1; n++) {\n                        currObj.pointColl[n].ratioX =\n                            (currObj.pointColl[n].x - parent.img.destLeft) / parent.img.destWidth;\n                        currObj.pointColl[n].ratioY =\n                            (currObj.pointColl[n].y - parent.img.destTop) / parent.img.destHeight;\n                    }\n                    if (currObj.shape === 'arrow') {\n                        this.updateArrowSize(currObj);\n                    }\n                    if (parent.transform.straighten !== 0 && (currObj.shape === 'line' || currObj.shape === 'arrow')) {\n                        this.straightenShapePoints(currObj);\n                    }\n                }\n                else if (currObj.shape === 'path') {\n                    for (var l = 0, len_2 = currObj.pointColl.length; l < len_2; l++) {\n                        currObj.pointColl[l].x = (currObj.pointColl[l].ratioX * parent.img.destWidth) +\n                            parent.img.destLeft;\n                        currObj.pointColl[l].y = (currObj.pointColl[l].ratioY * parent.img.destHeight) +\n                            parent.img.destTop;\n                    }\n                    this.updatePathRatio(currObj);\n                    if (parent.transform.straighten !== 0) {\n                        this.straightenPath(currObj);\n                    }\n                }\n                parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: currObj.activePoint,\n                        obj: currObj } });\n                if (currObj.shape !== 'line' && currObj.shape !== 'arrow' && currObj.shape !== 'path' && currObj.rotatedAngle !== 0) {\n                    this.setPointCollForShapeRotation(currObj);\n                    currObj.rotationCirclePoint.x =\n                        (currObj.rotationCirclePoint.ratioX * parent.img.destWidth) + parent.img.destLeft;\n                    currObj.rotationCirclePoint.y =\n                        (currObj.rotationCirclePoint.ratioY * parent.img.destHeight) + parent.img.destTop;\n                    if (currObj.rotationCirclePointColl) {\n                        currObj.rotationCirclePointColl.x =\n                            (currObj.rotationCirclePointColl.ratioX * parent.img.destWidth) + parent.img.destLeft;\n                        currObj.rotationCirclePointColl.y =\n                            (currObj.rotationCirclePointColl.ratioY * parent.img.destHeight) + parent.img.destTop;\n                    }\n                }\n            }\n            if (isNullOrUndefined(preventApply)) {\n                var temp = this.lowerContext.filter;\n                this.lowerContext.filter = 'none';\n                this.iterateObjColl();\n                this.lowerContext.filter = temp;\n            }\n        }\n        parent.img.destLeft = destPoints.startX;\n        parent.img.destTop = destPoints.startY;\n        parent.img.destWidth = destPoints.width;\n        parent.img.destHeight = destPoints.height;\n    };\n    Shape.prototype.straightenPath = function (obj) {\n        var point;\n        for (var j = 0, len = obj.pointColl.length; j < len; j++) {\n            point = this.straightenPoints(obj.pointColl[j].x, obj.pointColl[j].y);\n            obj.pointColl[j].x = point.x;\n            obj.pointColl[j].y = point.y;\n        }\n    };\n    Shape.prototype.straightenFHD = function () {\n        var parent = this.parent;\n        for (var i = 0, fLen = parent.freehandCounter; i < fLen; i++) {\n            parent.points = extend([], parent.pointColl[i].points, []);\n            var len = parent.points.length;\n            var point = void 0;\n            for (var l = 0; l < len; l++) {\n                point = this.straightenPoints(parent.points[l].x, parent.points[l].y);\n                parent.points[l].x = point.x;\n                parent.points[l].y = point.y;\n            }\n        }\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false, value: { obj: selPointCollObj } });\n        for (var i = 0, fLen = parent.freehandCounter; i < fLen; i++) {\n            if (selPointCollObj['selPointColl'][i] && selPointCollObj['selPointColl'][i].points) {\n                var len = selPointCollObj['selPointColl'][i].points.length;\n                var point = void 0;\n                for (var l = 0; l < len; l++) {\n                    point = this.straightenPoints(selPointCollObj['selPointColl'][i].points[l].x, selPointCollObj['selPointColl'][i].points[l].y);\n                    selPointCollObj['selPointColl'][i].points[l].x = point.x;\n                    selPointCollObj['selPointColl'][i].points[l].y = point.y;\n                }\n            }\n        }\n        var straightenObj = { straightenPoint: null };\n        parent.notify('freehand-draw', { prop: 'getStraightenPoint', onPropertyChange: false, value: { obj: straightenObj } });\n        if (straightenObj['straightenPoint']['x'] && straightenObj['straightenPoint']['y']) {\n            var obj = { angle: 0 };\n            parent.notify('freehand-draw', { prop: 'getStraightenPointAngle', onPropertyChange: false, value: { obj: obj } });\n            var angle = (((parent.transform.straighten === 360 ? 0 : parent.transform.straighten) - obj['angle']) * (Math.PI / 180));\n            var point = this.straightenPoints(straightenObj['straightenPoint']['x'], straightenObj['straightenPoint']['y'], angle);\n            if (angle === 0) {\n                point.x = straightenObj['straightenPoint']['x'];\n                point.y = straightenObj['straightenPoint']['y'];\n            }\n            parent.notify('freehand-draw', { prop: 'setStraightenPoint', onPropertyChange: false, value: { x: point.x, y: point.y } });\n        }\n    };\n    Shape.prototype.straightenPoints = function (x, y, angle) {\n        var parent = this.parent;\n        var center = { x: parent.img.destLeft + (parent.img.destWidth / 2), y: parent.img.destTop + (parent.img.destHeight / 2) };\n        angle = angle ? angle : ((parent.transform.straighten) * (Math.PI / 180));\n        var point = { x: Math.cos(angle) * (x - center.x) - Math.sin(angle) * (y - center.y) + center.x,\n            y: Math.sin(angle) * (x - center.x) + Math.cos(angle) * (y - center.y) + center.y };\n        return point;\n    };\n    Shape.prototype.straightenShapes = function () {\n        var parent = this.parent;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        var straightenObj = { bool: parent.isStraightening };\n        if (!straightenObj['bool'] || parent.transform.straighten === 0) {\n            return;\n        }\n        parent.notify('draw', { prop: 'updateImgCanvasPoints' });\n        var object = { points: null };\n        parent.notify('draw', { prop: 'getImageCanvasPoints', value: { obj: object } });\n        var center = { x: destLeft + (destWidth / 2), y: destTop + (destHeight / 2) };\n        var angle = -((parent.transform.straighten) * (Math.PI / 180));\n        var p1 = { x: Math.cos(angle) * (object['points'][0]['x'] - center.x) - Math.sin(angle) *\n                (object['points'][0]['y'] - center.y) + center.x,\n            y: Math.sin(angle) * (object['points'][0]['x'] - center.x) + Math.cos(angle) *\n                (object['points'][0]['y'] - center.y) + center.y };\n        var p2 = { x: Math.cos(angle) * (object['points'][1]['x'] - center.x) - Math.sin(angle) *\n                (object['points'][1]['y'] - center.y) + center.x,\n            y: Math.sin(angle) * (object['points'][1]['x'] - center.x) + Math.cos(angle) * (object['points'][1]['y']\n                - center.y) + center.y };\n        var p3 = { x: Math.cos(angle) * (object['points'][2]['x'] - center.x) - Math.sin(angle) *\n                (object['points'][2]['y'] - center.y) + center.x,\n            y: Math.sin(angle) * (object['points'][2]['x'] - center.x) + Math.cos(angle) * (object['points'][2]['y']\n                - center.y) + center.y };\n        parent.img.destWidth = p2.x - p1.x;\n        parent.img.destHeight = p3.y - p2.y;\n        parent.img.destLeft = p1.x;\n        parent.img.destTop = p1.y;\n    };\n    Shape.prototype.straightenShapePoints = function (obj, isReverse) {\n        var parent = this.parent;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        var straightenObj = { bool: parent.isStraightening };\n        if (!straightenObj['bool']) {\n            return;\n        }\n        if (obj.shape === 'line' || obj.shape === 'arrow') {\n            obj.activePoint.width = obj.activePoint.endX > obj.activePoint.startX ? obj.activePoint.endX -\n                obj.activePoint.startX : obj.activePoint.startX - obj.activePoint.endX;\n            obj.activePoint.height = obj.activePoint.endY > obj.activePoint.startY ? obj.activePoint.endY -\n                obj.activePoint.startY : obj.activePoint.startY - obj.activePoint.endY;\n            var center = { x: destLeft + (destWidth / 2), y: destTop + (destHeight / 2) };\n            var angle = (isReverse ? -parent.transform.straighten : parent.transform.straighten) * (Math.PI / 180);\n            var start = { x: Math.cos(angle) * (obj.activePoint.startX - center.x) - Math.sin(angle) *\n                    (obj.activePoint.startY - center.y) + center.x, y: Math.sin(angle) * (obj.activePoint.startX - center.x) + Math.cos(angle)\n                    * (obj.activePoint.startY - center.y) + center.y };\n            var end = { x: Math.cos(angle) * (obj.activePoint.endX - center.x) -\n                    Math.sin(angle) * (obj.activePoint.endY - center.y) + center.x, y: Math.sin(angle) * (obj.activePoint.endX - center.x) +\n                    Math.cos(angle) * (obj.activePoint.endY - center.y) + center.y };\n            obj.activePoint.startX = start.x;\n            obj.activePoint.startY = start.y;\n            obj.activePoint.endX = end.x;\n            obj.activePoint.endY = end.y;\n            obj.activePoint.width = obj.activePoint.endX > obj.activePoint.startX ? obj.activePoint.endX -\n                obj.activePoint.startX : obj.activePoint.startX - obj.activePoint.endX;\n            obj.activePoint.height = obj.activePoint.endY > obj.activePoint.startY ? obj.activePoint.endY -\n                obj.activePoint.startY : obj.activePoint.startY - obj.activePoint.endY;\n            parent.notify('selection', { prop: 'adjustActObjForLineArrow', onPropertyChange: false, value: { obj: obj } });\n        }\n    };\n    Shape.prototype.redrawObj = function (degree) {\n        var parent = this.parent;\n        var isShape = false;\n        if (parent.objColl.length > 0) {\n            if (degree === 'horizontal' || degree === 'vertical' || degree === 'Horizontal' || degree === 'Vertical' ||\n                degree === 'horizontalVertical' || degree === 'verticalHorizontal') {\n                this.updateCurrentActiveObjPoint(degree.toLowerCase());\n            }\n            else if (typeof (degree) === 'number') {\n                this.updateCurrentActiveObjPoint(degree);\n                var tempFilter = this.lowerContext.filter;\n                this.lowerContext.filter = 'brightness(' + 1 + ') ' + 'contrast(' + 100 + '%) ' + 'hue-rotate(' + 0 + 'deg) ' +\n                    'saturate(' + 100 + '%) ' + 'opacity(' + 1 + ') ' + 'blur(' + 0 + 'px) ' + 'sepia(0%) ' + 'grayscale(0%) ' + 'invert(0%)';\n                for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                    var splitWords = parent.objColl[i].shape.split('-');\n                    if (splitWords[0] !== 'crop') {\n                        this.apply(parent.objColl[i].shape, parent.objColl[i]);\n                        isShape = true;\n                    }\n                }\n                if (isShape) {\n                    parent.notify('draw', { prop: 'applyFrame', value: { ctx: this.lowerContext, frame: parent.frameObj.type, preventImg: true } });\n                }\n                this.lowerContext.filter = tempFilter;\n            }\n        }\n    };\n    Shape.prototype.updateCurrentActiveObjPoint = function (degree) {\n        var parent = this.parent;\n        var currActObjIndex;\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        for (var index = 0, len = parent.objColl.length; index < len; index++) {\n            var currObj = parent.objColl[index];\n            if (parent.activeObj.shape === currObj.shape &&\n                parent.activeObj.activePoint.startX === currObj.activePoint.startX &&\n                parent.activeObj.activePoint.startY === currObj.activePoint.startY &&\n                parent.activeObj.activePoint.endX === currObj.activePoint.endX &&\n                parent.activeObj.activePoint.endY === currObj.activePoint.endY &&\n                parent.activeObj.currIndex === currObj.currIndex) {\n                currActObjIndex = index;\n                break;\n            }\n        }\n        if (degree === 'horizontal' || degree === 'vertical' || degree === 'Horizontal' || degree === 'Vertical' ||\n            degree === 'horizontalvertical' || degree === 'verticalhorizontal') {\n            if (degree === 'horizontal' || degree === 'Horizontal') {\n                for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                    var currObj = parent.objColl[i];\n                    if (currObj.shapeFlip !== parent.transform.currFlipState) {\n                        if (currObj.activePoint.startX <= destLeft + (destWidth / 2)) {\n                            currObj.activePoint.endX = (destLeft + destWidth) - (currObj.activePoint.startX - destLeft);\n                            currObj.activePoint.startX = currObj.activePoint.endX - currObj.activePoint.width;\n                            parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: currObj.activePoint, obj: currObj } });\n                        }\n                        else if (currObj.activePoint.startX >= destLeft + (destWidth / 2)) {\n                            currObj.activePoint.startX = destLeft + (destLeft + destWidth - currObj.activePoint.endX);\n                            currObj.activePoint.endX = currObj.activePoint.startX + currObj.activePoint.width;\n                            parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: currObj.activePoint, obj: currObj } });\n                        }\n                        if (currObj.shape === 'line' || currObj.shape === 'arrow' || currObj.shape === 'path') {\n                            this.flipLineArrowObj(currObj, 'horizontal');\n                        }\n                        else if (currObj.rotatedAngle !== 0) {\n                            currObj.rotatedAngle = currObj.rotatedAngle + (Math.PI - currObj.rotatedAngle) * 2;\n                            if (currObj.rotationCirclePointColl.x <= destLeft + (destWidth / 2)) {\n                                currObj.rotationCirclePointColl.x = (destLeft + destWidth) -\n                                    (currObj.rotationCirclePointColl.x - destLeft);\n                            }\n                            else if (currObj.rotationCirclePointColl.x >= destLeft + (destWidth / 2)) {\n                                currObj.rotationCirclePointColl.x = destLeft +\n                                    (destLeft + destWidth - currObj.rotationCirclePointColl.x);\n                            }\n                            currObj.rotationCirclePointColl.ratioX =\n                                (currObj.rotationCirclePointColl.x - destLeft) / destWidth;\n                        }\n                        currObj.shapeFlip = parent.transform.currFlipState;\n                        currObj.imageRatio = { startX: ((currObj.activePoint.startX - destLeft) / destWidth),\n                            startY: ((currObj.activePoint.startY - destTop) / destHeight),\n                            endX: ((currObj.activePoint.endX - destLeft) / destWidth),\n                            endY: ((currObj.activePoint.endY - destTop) / destHeight),\n                            width: destWidth / currObj.activePoint.width,\n                            height: destHeight / currObj.activePoint.height };\n                    }\n                }\n            }\n            else if (degree === 'vertical' || degree === 'Vertical') {\n                for (var i = 0; i < parent.objColl.length; i++) {\n                    var currObj = parent.objColl[i];\n                    if (currObj.shapeFlip !== parent.transform.currFlipState) {\n                        if (currObj.activePoint.startY <= destTop + (destHeight / 2)) {\n                            currObj.activePoint.endY = (destTop + destHeight) - (currObj.activePoint.startY - destTop);\n                            currObj.activePoint.startY = currObj.activePoint.endY - currObj.activePoint.height;\n                            parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: currObj.activePoint,\n                                    obj: currObj } });\n                        }\n                        else if (currObj.activePoint.startY >= parent.lowerCanvas.height / 2) {\n                            currObj.activePoint.startY = destTop + (destTop + destHeight - currObj.activePoint.endY);\n                            currObj.activePoint.endY = currObj.activePoint.startY + currObj.activePoint.height;\n                            parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: currObj.activePoint,\n                                    obj: currObj } });\n                        }\n                        if (currObj.shape === 'line' || currObj.shape === 'arrow' ||\n                            currObj.shape === 'path') {\n                            this.flipLineArrowObj(currObj, 'vertical');\n                        }\n                        else if (currObj.rotatedAngle !== 0) {\n                            currObj.rotatedAngle = -currObj.rotatedAngle;\n                            if (currObj.rotationCirclePointColl.y <= destTop + (destHeight / 2)) {\n                                currObj.rotationCirclePointColl.y = (destTop + destHeight) - (currObj.rotationCirclePointColl.y - destTop);\n                            }\n                            else if (currObj.rotationCirclePointColl.y >= destTop +\n                                (destHeight / 2)) {\n                                currObj.rotationCirclePointColl.y = destTop + (destTop + destHeight - currObj.rotationCirclePointColl.y);\n                            }\n                            currObj.rotationCirclePointColl.ratioY =\n                                (currObj.rotationCirclePointColl.y - destTop) / destHeight;\n                        }\n                        currObj.shapeFlip = parent.transform.currFlipState;\n                        currObj.imageRatio = { startX: ((currObj.activePoint.startX - destLeft) / destWidth),\n                            startY: ((currObj.activePoint.startY - destTop) / destHeight),\n                            endX: ((currObj.activePoint.endX - destLeft) / destWidth),\n                            endY: ((currObj.activePoint.endY - destTop) / destHeight),\n                            width: destWidth / currObj.activePoint.width,\n                            height: destHeight / currObj.activePoint.height };\n                    }\n                }\n            }\n            else if (degree === 'verticalhorizontal' || degree === 'horizontalvertical') {\n                for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                    var currObj = parent.objColl[i];\n                    if (currObj.shapeFlip !== parent.transform.currFlipState) {\n                        if (currObj.activePoint.startX <= destLeft + (destWidth / 2)) {\n                            currObj.activePoint.endX = (destLeft + destWidth) - (currObj.activePoint.startX -\n                                destLeft);\n                            currObj.activePoint.startX = currObj.activePoint.endX - currObj.activePoint.width;\n                            parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: currObj.activePoint, obj: currObj } });\n                        }\n                        else if (currObj.activePoint.startX >= destLeft + (destWidth / 2)) {\n                            currObj.activePoint.startX = destLeft + (destLeft +\n                                destWidth - currObj.activePoint.endX);\n                            currObj.activePoint.endX = currObj.activePoint.startX + currObj.activePoint.width;\n                            parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: currObj.activePoint, obj: currObj } });\n                        }\n                        if (currObj.activePoint.startY <= destTop + (destHeight / 2)) {\n                            currObj.activePoint.endY = (destTop + destHeight) -\n                                (currObj.activePoint.startY - destTop);\n                            currObj.activePoint.startY = currObj.activePoint.endY -\n                                currObj.activePoint.height;\n                            parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: currObj.activePoint, obj: currObj } });\n                        }\n                        else if (currObj.activePoint.startY >= parent.lowerCanvas.height / 2) {\n                            currObj.activePoint.startY = destTop + (destTop +\n                                destHeight - currObj.activePoint.endY);\n                            currObj.activePoint.endY = currObj.activePoint.startY +\n                                currObj.activePoint.height;\n                            parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: currObj.activePoint, obj: currObj } });\n                        }\n                        if (currObj.shape === 'line' || currObj.shape === 'arrow' || currObj.shape === 'path') {\n                            this.flipLineArrowObj(currObj, degree);\n                        }\n                        currObj.shapeFlip = parent.transform.currFlipState;\n                        currObj.imageRatio = { startX: ((currObj.activePoint.startX - destLeft) / destWidth),\n                            startY: ((currObj.activePoint.startY - destTop) / destHeight),\n                            endX: ((currObj.activePoint.endX - destLeft) / destWidth),\n                            endY: ((currObj.activePoint.endY - destTop) / destHeight),\n                            width: destWidth / currObj.activePoint.width,\n                            height: destHeight / currObj.activePoint.height };\n                    }\n                }\n            }\n            if (currActObjIndex !== undefined) {\n                parent.activeObj = extend({}, parent.objColl[currActObjIndex], {}, true);\n            }\n        }\n        else if (degree === 90) {\n            this.rotateObjColl();\n        }\n        else if (degree === -90) {\n            for (var i = 0; i < 3; i++) {\n                this.rotateObjColl();\n            }\n        }\n        else if (typeof (degree) === 'number') {\n            if (degree > 0) {\n                this.rotateObjColl();\n            }\n            else {\n                for (var i = 0; i < 3; i++) {\n                    this.rotateObjColl();\n                }\n            }\n        }\n    };\n    Shape.prototype.rotateObjColl = function () {\n        var parent = this.parent;\n        var _a = parent.img, destWidth = _a.destWidth, destHeight = _a.destHeight, destLeft = _a.destLeft, destTop = _a.destTop;\n        for (var i = 0, len = parent.objColl.length; i < len; i++) {\n            var currObj = parent.objColl[i];\n            var shape = currObj.shape;\n            currObj.activePoint.startY = destTop + (destHeight * currObj.imageRatio.startX);\n            currObj.activePoint.endY = destTop + (destHeight * currObj.imageRatio.endX);\n            currObj.activePoint.startX = (destLeft + destWidth) - (destWidth * currObj.imageRatio.endY);\n            currObj.activePoint.endX = (destLeft + destWidth) - (destWidth * currObj.imageRatio.startY);\n            currObj = this.updateWidthHeight(parent.objColl[i]);\n            this.updateFontSize(currObj);\n            if (shape === 'line' || shape === 'arrow' || shape === 'path') {\n                this.rotateLineArrowObj(currObj);\n                if (shape === 'arrow') {\n                    this.updateArrowSize(currObj);\n                }\n            }\n            else if (currObj.rotatedAngle !== 0) {\n                currObj.rotationCirclePointColl.y = destTop + (destHeight * currObj.rotationCirclePointColl.ratioX);\n                currObj.rotationCirclePointColl.x = (destLeft + destWidth) -\n                    (destWidth * currObj.rotationCirclePointColl.ratioY);\n                currObj.rotationCirclePointColl.ratioX = (currObj.rotationCirclePointColl.x - destLeft) / destWidth;\n                currObj.rotationCirclePointColl.ratioY = (currObj.rotationCirclePointColl.y - destTop) / destHeight;\n            }\n        }\n        for (var i = 0, len = parent.objColl.length; i < len; i++) {\n            parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: parent.objColl[i].activePoint, obj: parent.objColl[i] } });\n        }\n        for (var i = 0, len = parent.objColl.length; i < len; i++) {\n            var currObj = parent.objColl[i];\n            currObj.imageRatio = { startX: ((currObj.activePoint.startX - destLeft) / destWidth),\n                startY: ((currObj.activePoint.startY - destTop) / destHeight),\n                endX: ((currObj.activePoint.endX - destLeft) / destWidth),\n                endY: ((currObj.activePoint.endY - destTop) / destHeight),\n                width: destWidth / currObj.activePoint.width,\n                height: destHeight / currObj.activePoint.height };\n        }\n    };\n    Shape.prototype.rotateLineArrowObj = function (obj) {\n        if (isNullOrUndefined(obj.pointColl)) {\n            return;\n        }\n        var parent = this.parent;\n        var _a = parent.img, destWidth = _a.destWidth, destHeight = _a.destHeight, destLeft = _a.destLeft, destTop = _a.destTop;\n        if (obj.pointColl.length > 0) {\n            for (var n = 0; n < obj.pointColl.length; n++) {\n                obj.pointColl[n].y = destTop + (destHeight * obj.pointColl[n].ratioX);\n                obj.pointColl[n].x = (destLeft + destWidth) - (destWidth *\n                    obj.pointColl[n].ratioY);\n            }\n            for (var n = 0; n < obj.pointColl.length; n++) {\n                obj.pointColl[n].ratioX = (obj.pointColl[n].x - destLeft) / destWidth;\n                obj.pointColl[n].ratioY = (obj.pointColl[n].y - destTop) / destHeight;\n            }\n            var prevPoint = void 0;\n            if (isNullOrUndefined(obj.pointColl[obj.pointColl.length - 2])) {\n                prevPoint = { x: 0, y: 0 };\n            }\n            else {\n                prevPoint = { x: obj.pointColl[obj.pointColl.length - 2].x, y: obj.pointColl[obj.pointColl.length - 2].y };\n            }\n            var diffX = obj.pointColl[obj.pointColl.length - 1].x - prevPoint.x;\n            var diffY = obj.pointColl[obj.pointColl.length - 1].y - prevPoint.y;\n            obj.activePoint.startX = obj.pointColl[0].x;\n            obj.activePoint.startY = obj.pointColl[0].y;\n            obj.activePoint.endX = obj.pointColl[obj.pointColl.length - 1].x + (diffX / 2);\n            obj.activePoint.endY = obj.pointColl[obj.pointColl.length - 1].y + (diffY / 2);\n            obj = this.updateWidthHeight(obj);\n        }\n    };\n    Shape.prototype.flipLineArrowObj = function (obj, value) {\n        value = value.toLowerCase();\n        if (isNullOrUndefined(obj.pointColl)) {\n            return;\n        }\n        if (value === 'horizontal') {\n            this.lineArrowHorizontalFlip(obj);\n        }\n        else if (value === 'vertical') {\n            this.lineArrowVerticalFlip(obj);\n        }\n        else {\n            this.lineArrowHorizontalFlip(obj);\n            obj.shapeFlip = '';\n            this.lineArrowVerticalFlip(obj);\n        }\n        obj.activePoint.startX = obj.pointColl[0].x;\n        obj.activePoint.startY = obj.pointColl[0].y;\n        obj.activePoint.endX = obj.pointColl[obj.pointColl.length - 1].x;\n        obj.activePoint.endY = obj.pointColl[obj.pointColl.length - 1].y;\n        if (obj.activePoint.startX > obj.activePoint.endX) {\n            var temp = obj.activePoint.startX;\n            obj.activePoint.startX = obj.activePoint.endX;\n            obj.activePoint.endX = temp;\n            temp = obj.activePoint.startY;\n            obj.activePoint.startY = obj.activePoint.endY;\n            obj.activePoint.endY = temp;\n        }\n    };\n    Shape.prototype.lineArrowHorizontalFlip = function (obj) {\n        var parent = this.parent;\n        var _a = parent.img, destWidth = _a.destWidth, destHeight = _a.destHeight, destLeft = _a.destLeft, destTop = _a.destTop;\n        if (obj.shapeFlip !== parent.transform.currFlipState) {\n            for (var l = 0, len = obj.pointColl.length; l < len; l++) {\n                var currPoint = obj.pointColl[l];\n                if (currPoint.x <= destLeft + (destWidth / 2)) {\n                    currPoint.x = (destLeft + destWidth) - (currPoint.x - destLeft);\n                }\n                else if (currPoint.x >= destLeft + (destWidth / 2)) {\n                    currPoint.x = destLeft + (destLeft + destWidth - currPoint.x);\n                }\n                currPoint.ratioX = (currPoint.x - destLeft) / destWidth;\n                currPoint.ratioY = (currPoint.y - destTop) / destHeight;\n            }\n            if (obj.shape === 'arrow') {\n                var value = obj.start;\n                obj.start = obj.end;\n                obj.end = value;\n            }\n            obj.shapeFlip = parent.transform.currFlipState;\n        }\n    };\n    Shape.prototype.lineArrowVerticalFlip = function (obj) {\n        var parent = this.parent;\n        var _a = parent.img, destWidth = _a.destWidth, destHeight = _a.destHeight, destLeft = _a.destLeft, destTop = _a.destTop;\n        if (obj.shapeFlip !== parent.transform.currFlipState) {\n            for (var l = 0, len = obj.pointColl.length; l < len; l++) {\n                var currPoint = obj.pointColl[l];\n                if (currPoint.y <= destTop + (destHeight / 2)) {\n                    currPoint.y = (destTop + destHeight) - (currPoint.y - destTop);\n                }\n                else if (currPoint.y >= destTop + (destHeight / 2)) {\n                    currPoint.y = destTop + (destTop + destHeight - currPoint.y);\n                }\n                currPoint.ratioX = (currPoint.x - destLeft) / destWidth;\n                currPoint.ratioY = (currPoint.y - destTop) / destHeight;\n            }\n            obj.shapeFlip = parent.transform.currFlipState;\n        }\n    };\n    Shape.prototype.getRotDegOfShape = function (obj, value) {\n        var parent = this.parent;\n        var degree;\n        if (obj.shapeDegree === 0) {\n            degree = this.parent.transform.degree;\n        }\n        else {\n            degree = this.parent.transform.degree - obj.shapeDegree;\n        }\n        if (degree < 0) {\n            degree = 360 + degree;\n        }\n        var transformObj = { bool: false };\n        parent.notify('selection', { prop: 'getTransformedShape', onPropertyChange: false, value: { obj: transformObj } });\n        if (transformObj['bool'] && !value && parent.activeObj.rotateFlipColl) {\n            degree = 0;\n            for (var i = 0; i < parent.activeObj.rotateFlipColl.length; i++) {\n                if (typeof (parent.activeObj.rotateFlipColl[i]) === 'number') {\n                    degree += (parent.activeObj.rotateFlipColl[i]);\n                }\n            }\n        }\n        return degree;\n    };\n    Shape.prototype.renderTextArea = function (x, y, actObj) {\n        var parent = this.parent;\n        var shapeObj = { shapeSettingsObj: {} };\n        parent.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: shapeObj } });\n        var shapeSettings = shapeObj['shapeSettingsObj'];\n        var shapeChangingArgs = { cancel: false, action: 'text-edit', previousShapeSettings: shapeSettings,\n            currentShapeSettings: shapeSettings };\n        parent.trigger('shapeChanging', shapeChangingArgs);\n        this.updateShapeChangeEventArgs(shapeChangingArgs.currentShapeSettings, shapeChangingArgs.allowShapeOverflow);\n        var degree = this.getRotDegOfShape(parent.activeObj);\n        this.transformTextArea();\n        parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n        var zOrderElem = parent.element.querySelector('#' + parent.element.id + '_zOrderBtn');\n        var dupElem = parent.element.querySelector('#' + parent.element.id + '_duplicate');\n        var removeElem = parent.element.querySelector('#' + parent.element.id + '_remove');\n        var editTextElem = parent.element.querySelector('#' + parent.element.id + '_editText');\n        var shadowColor = actObj.strokeSettings.outlineColor;\n        var outlineWidth = actObj.strokeSettings.outlineWidth;\n        var shadows = [];\n        if (zOrderElem) {\n            zOrderElem.classList.add('e-overlay');\n        }\n        if (dupElem) {\n            dupElem.classList.add('e-overlay');\n        }\n        if (removeElem) {\n            removeElem.classList.add('e-overlay');\n        }\n        if (editTextElem) {\n            editTextElem.classList.add('e-overlay');\n        }\n        if (actObj.strokeSettings.fillColor !== '') {\n            parent.textArea.style.backgroundColor = actObj.strokeSettings.fillColor;\n        }\n        else {\n            parent.textArea.style.backgroundColor = 'transparent';\n        }\n        parent.textArea.style.display = 'block';\n        parent.textArea.style.left = x + 'px';\n        parent.textArea.style.top = y + 'px';\n        parent.textArea.style.fontFamily = actObj.textSettings.fontFamily;\n        parent.textArea.style.fontSize = actObj.textSettings.fontSize + 'px';\n        parent.textArea.style.color = actObj.strokeSettings.strokeColor;\n        var fontSize = actObj.textSettings.fontSize;\n        var baseWidth = Math.max(1, outlineWidth / 2);\n        var adjustedOutlineWidth = baseWidth * (Math.floor((fontSize - 1) / 16) * 0.5 + 0.5);\n        if (/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6}|[0-9A-Fa-f]{8})$|^[a-zA-Z]+$/.test(actObj.strokeSettings.outlineColor)) {\n            for (var x_1 = -adjustedOutlineWidth; x_1 <= adjustedOutlineWidth; x_1++) {\n                for (var y_1 = -adjustedOutlineWidth; y_1 <= adjustedOutlineWidth; y_1++) {\n                    if (x_1 !== 0 || y_1 !== 0) {\n                        shadows.push(x_1 / 2 + \"px \" + y_1 / 2 + \"px 0 \" + shadowColor);\n                    }\n                }\n            }\n            parent.textArea.style.textShadow = shadows.join(', ');\n        }\n        else {\n            parent.textArea.style.textShadow = null;\n        }\n        parent.textArea.style.fontWeight = actObj.textSettings.bold ? 'bold' : 'normal';\n        parent.textArea.style.fontStyle = actObj.textSettings.italic ? 'italic' : 'normal';\n        parent.textArea.style.border = '2px solid ' + parent.themeColl[parent.theme]['primaryColor'];\n        parent.textArea.value = actObj.keyHistory;\n        parent.textArea.style.overflow = 'hidden';\n        parent.textArea.style.width = 'auto';\n        parent.textArea.style.height = 'auto';\n        parent.textArea.focus();\n        var _a = actObj.activePoint, width = _a.width, height = _a.height;\n        if (degree % 90 === 0 && degree % 180 !== 0 && degree !== 0) {\n            parent.textArea.style.width = height + (height * 0.25) + 'px';\n            parent.textArea.style.height = width + (width * 0.25) + 'px';\n        }\n        else {\n            parent.textArea.style.width = width + (width * 0.25) + 'px';\n            parent.textArea.style.height = height + (height * 0.25) + 'px';\n        }\n        this.setTextBoxWidth();\n        var obj = { flipColl: null };\n        parent.notify('transform', { prop: 'getFlipColl', onPropertyChange: false, value: { obj: obj } });\n        if (obj['flipColl'].length <= 1) {\n            this.setTextBoxHeight();\n        }\n        if (parseFloat(parent.textArea.style.maxHeight) < parent.activeObj.textSettings.fontSize) {\n            parent.textArea.style.maxHeight = parent.activeObj.textSettings.fontSize + 'px';\n        }\n        if (degree % 90 === 0 && degree % 180 !== 0) {\n            if (parseFloat(parent.textArea.style.left) + parseFloat(parent.textArea.style.width) > parent.img.destTop +\n                parent.img.destHeight) {\n                this.alignTextAreaIntoCanvas();\n            }\n        }\n        else {\n            if (parseFloat(parent.textArea.style.left) + parseFloat(parent.textArea.style.width) > parent.img.destLeft +\n                parent.img.destWidth) {\n                this.alignTextAreaIntoCanvas();\n            }\n        }\n        // Limit text area\n        if (actObj.rotatedAngle !== 0) {\n            var tempLeft = parseFloat(parent.textArea.style.left);\n            var tempTop = parseFloat(parent.textArea.style.top);\n            if (actObj.flipObjColl.length > 0) {\n                var panObj = { panRegion: '' };\n                var _b = parent.lowerCanvas, clientWidth = _b.clientWidth, clientHeight = _b.clientHeight;\n                var center_1 = { x: 0, y: 0 };\n                parent.notify('crop', { prop: 'getCurrFlipState', onPropertyChange: false,\n                    value: { panObj: panObj } });\n                if (panObj['panRegion'] !== '') {\n                    if (panObj['panRegion'] === 'horizontal') {\n                        center_1.x = clientWidth - (clientWidth / 2);\n                        tempLeft = (center_1.x - tempLeft) + center_1.x;\n                    }\n                    else if (panObj['panRegion'] === 'vertical') {\n                        center_1.y = clientHeight - (clientHeight / 2);\n                        tempTop = (center_1.y - tempTop) + center_1.y;\n                    }\n                    else {\n                        center_1 = { x: clientWidth - (clientWidth / 2), y: clientHeight - (clientHeight / 2) };\n                        tempLeft = (center_1.x - tempLeft) + center_1.x;\n                        tempTop = (center_1.y - tempTop) + center_1.y;\n                    }\n                }\n            }\n            var left = tempLeft + parseFloat(parent.textArea.style.width);\n            var top_1 = tempTop + parseFloat(parent.textArea.style.height);\n            var width1 = parseFloat(parent.textArea.style.width);\n            var height1 = parseFloat(parent.textArea.style.height);\n            var center = { x: left - (width1 / 2), y: top_1 - (height1 / 2) };\n            var cosAngle = Math.cos(actObj.rotatedAngle);\n            var sinAngle = Math.sin(actObj.rotatedAngle);\n            var p1 = { x: cosAngle * (left - center.x) - sinAngle * (top_1 - center.y) + center.x,\n                y: sinAngle * (left - center.x) + cosAngle * (top_1 - center.y) + center.y };\n            if (p1.x > parent.img.destLeft && p1.x < parent.img.destLeft + parent.img.destWidth &&\n                // eslint-disable-next-line max-len\n                p1.y > parent.img.destTop && p1.y + parseFloat(parent.textArea.style.fontSize) < parent.img.destTop + parent.img.destHeight) {\n                // eslint-disable-next-line no-self-assign\n                parent.textArea.style.width = parent.textArea.style.width;\n            }\n            else {\n                var count = 0;\n                var width2 = parseFloat(parent.textArea.style.width);\n                while (true) {\n                    count++;\n                    width1 -= 1;\n                    left = tempLeft + width1;\n                    center = { x: left - (width1 / 2), y: top_1 - (height1 / 2) };\n                    p1 = { x: cosAngle * (left - center.x) - sinAngle * (top_1 - center.y) + center.x,\n                        y: sinAngle * (left - center.x) + cosAngle * (top_1 - center.y) + center.y };\n                    if ((p1.x > parent.img.destLeft && p1.x < parent.img.destLeft + parent.img.destWidth &&\n                        // eslint-disable-next-line max-len\n                        p1.y > parent.img.destTop && p1.y + parseFloat(parent.textArea.style.fontSize) < parent.img.destTop + parent.img.destHeight) ||\n                        count === width2) {\n                        parent.textArea.style.width = width1 + 'px';\n                        break;\n                    }\n                }\n            }\n        }\n        parent.notify('selection', { prop: 'clearUpperCanvas', onPropertyChange: false });\n    };\n    Shape.prototype.setTextBoxWidth = function (e) {\n        var parent = this.parent;\n        if (parent.activeObj.rotatedAngle !== 0) {\n            parent.textArea.style.whiteSpace = 'nowrap';\n            parent.textArea.style.textOverflow = 'ellipsis';\n            parent.textArea.style.display = 'inline-block';\n            return;\n        }\n        else {\n            parent.textArea.style.whiteSpace = '';\n            parent.textArea.style.textOverflow = '';\n            if (parent.textArea.style.display === 'inline-block') {\n                parent.textArea.style.display = 'block';\n            }\n        }\n        var text = this.getMaxText(true);\n        if (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') {\n            this.updateFontStyles(true);\n        }\n        else {\n            this.updateFontStyles();\n        }\n        var textAreaWidth = (this.upperContext.measureText(text).width + (parseFloat(parent.textArea.style.fontSize) / 2));\n        var letterWidth = e ? this.upperContext.measureText(String.fromCharCode(e.which)).width : 0;\n        var actObj = extend({}, parent.activeObj, {}, true);\n        var flip = '';\n        var degree = this.getRotDegOfShape(actObj);\n        if (actObj.shapeFlip !== parent.transform.currFlipState) {\n            flip = '';\n        }\n        else {\n            flip = parent.transform.currFlipState;\n        }\n        if ((e && parseFloat(parent.textArea.style.width) < (textAreaWidth + letterWidth)) || isNullOrUndefined(e)) {\n            if (degree === 0) {\n                if (flip.toLowerCase() === 'horizontal') {\n                    if ((parseFloat(parent.textArea.style.left) - parent.img.destLeft) - textAreaWidth - letterWidth > 0) {\n                        parent.textArea.style.width = (textAreaWidth + letterWidth) + 'px';\n                    }\n                }\n                else if ((parent.img.destWidth - (parseFloat(parent.textArea.style.left) -\n                    parent.img.destLeft)) > (textAreaWidth + letterWidth)) {\n                    parent.textArea.style.width = (textAreaWidth + letterWidth) + 'px';\n                }\n            }\n            else if (degree === 90) {\n                if (flip.toLowerCase() === 'vertical') {\n                    if ((parseFloat(parent.textArea.style.top) - parent.img.destTop) - textAreaWidth - letterWidth > 0) {\n                        parent.textArea.style.width = (textAreaWidth + letterWidth) + 'px';\n                    }\n                }\n                else if ((parent.img.destHeight - (parseFloat(parent.textArea.style.top) -\n                    parent.img.destTop)) > (textAreaWidth + letterWidth)) {\n                    parent.textArea.style.width = (textAreaWidth + letterWidth) + 'px';\n                }\n            }\n            else if (degree === 180) {\n                var textAreaLeft = parseFloat(parent.textArea.style.left);\n                var destLeft = parent.img.destLeft;\n                if (flip.toLowerCase() === 'horizontal') {\n                    var remainingWidth = parent.img.destWidth - (textAreaLeft - destLeft);\n                    if (remainingWidth > textAreaWidth + letterWidth) {\n                        parent.textArea.style.width = (textAreaWidth + letterWidth) + 'px';\n                    }\n                }\n                else {\n                    var distanceToLeft = textAreaLeft - destLeft;\n                    if (distanceToLeft - textAreaWidth - letterWidth > 0) {\n                        parent.textArea.style.width = (textAreaWidth + letterWidth) + 'px';\n                    }\n                }\n            }\n            else if (degree === 270) {\n                var textAreaTop = parseFloat(parent.textArea.style.top);\n                var destTop = parent.img.destTop;\n                if (flip.toLowerCase() === 'vertical') {\n                    var remainingHeight = parent.img.destHeight - (textAreaTop - destTop);\n                    if (remainingHeight > textAreaWidth + letterWidth) {\n                        parent.textArea.style.width = (textAreaWidth + letterWidth) + 'px';\n                    }\n                }\n                else {\n                    var distanceToTop = textAreaTop - destTop;\n                    if (distanceToTop - textAreaWidth - letterWidth > 0) {\n                        parent.textArea.style.width = (textAreaWidth + letterWidth) + 'px';\n                    }\n                }\n            }\n        }\n    };\n    Shape.prototype.setTextBoxHeight = function () {\n        var parent = this.parent;\n        var textAreaTop;\n        var actObj = extend({}, parent.activeObj, {}, true);\n        var flip = '';\n        var degree = this.getRotDegOfShape(actObj);\n        if (actObj.textFlip === parent.transform.currFlipState) {\n            flip = '';\n        }\n        else if (actObj.textFlip === '') {\n            flip = parent.transform.currFlipState;\n        }\n        else {\n            flip = actObj.textFlip;\n        }\n        switch (degree) {\n            case 0:\n                if (flip.toLowerCase() === 'vertical') {\n                    parent.textArea.style.maxHeight = (parent.img.destHeight - (parent.img.destHeight -\n                        parseFloat(parent.textArea.style.top))) + 'px';\n                }\n                else {\n                    textAreaTop = parseFloat(parent.textArea.style.top) - parent.img.destTop;\n                    parent.textArea.style.maxHeight = (parent.img.destHeight - textAreaTop) + 'px';\n                }\n                break;\n            case 90:\n                if (flip.toLowerCase() === 'horizontal') {\n                    parent.textArea.style.maxHeight = (parent.img.destWidth - (parseFloat(parent.textArea.style.left) -\n                        parent.img.destLeft)) + 'px';\n                }\n                else {\n                    parent.textArea.style.maxHeight = (parseFloat(parent.textArea.style.left) - parent.img.destLeft) + 'px';\n                }\n                break;\n            case 180:\n                if (flip.toLowerCase() === 'vertical') {\n                    textAreaTop = parseFloat(parent.textArea.style.top) - parent.img.destTop;\n                    parent.textArea.style.maxHeight = (parent.img.destHeight - textAreaTop) + 'px';\n                }\n                else {\n                    parent.textArea.style.maxHeight = (parseFloat(parent.textArea.style.top) - parent.img.destTop) + 'px';\n                }\n                break;\n            case 270:\n                if (flip.toLowerCase() === 'horizontal') {\n                    parent.textArea.style.maxHeight = (parseFloat(parent.textArea.style.left) - parent.img.destLeft) + 'px';\n                }\n                else {\n                    parent.textArea.style.maxHeight = parent.img.destWidth - (parseFloat(parent.textArea.style.left)\n                        - parent.img.destLeft) + 'px';\n                }\n                break;\n        }\n    };\n    Shape.prototype.updatePathRatio = function (obj) {\n        var parent = this.parent;\n        for (var i = 0, len = obj.pointColl.length; i < len; i++) {\n            var currPoint = obj.pointColl[i];\n            currPoint.ratioX = (currPoint.x - parent.img.destLeft) / parent.img.destWidth;\n            currPoint.ratioY = (currPoint.y - parent.img.destTop) / parent.img.destHeight;\n        }\n    };\n    Shape.prototype.stopPathDrawing = function (e, isApply) {\n        var parent = this.parent;\n        if (parent.activeObj.shape === 'path') {\n            var obj = { shape: null };\n            parent.notify('selection', { prop: 'getCurrentDrawingShape', value: { obj: obj } });\n            if (obj['shape'] === 'path') {\n                var prevCropObj = extend({}, parent.cropObj, {}, true);\n                var object = { currObj: {} };\n                parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                var prevObj = object['currObj'];\n                prevObj.objColl = extend([], parent.objColl, [], true);\n                prevObj.pointColl = extend([], parent.pointColl, [], true);\n                prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n                var selPointCollObj = { selPointColl: null };\n                parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                    value: { obj: selPointCollObj } });\n                prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n                parent.notify('selection', { prop: 'setCurrentDrawingShape', value: { value: '' } });\n                parent.currObjType.isDragging = false;\n                if (e && e.type !== 'touchstart' && isNullOrUndefined(isApply)) {\n                    parent.activeObj.pointColl.pop();\n                }\n                this.updatePathRatio(parent.activeObj);\n                if (isNullOrUndefined(parent.activeObj.imageRatio)) {\n                    parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n                }\n                parent.objColl.push(parent.activeObj);\n                parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                    value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                        previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                        previousCropObj: prevCropObj, previousText: null,\n                        currentText: null, previousFilter: null, isCircleCrop: null } });\n                parent.objColl.pop();\n                if (e) {\n                    parent.notify('selection', { prop: 'mouseUpEventHandler', value: { e: e } });\n                    this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n                    parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n                    if (parent.objColl.length > 0) {\n                        var obj1 = parent.activeObj.activePoint;\n                        var obj2 = parent.objColl[parent.objColl.length - 1].activePoint;\n                        if (Math.floor(obj1.startX) === Math.floor(obj2.startX) &&\n                            Math.floor(obj1.startY) === Math.floor(obj2.startY) &&\n                            Math.floor(obj1.endX) === Math.floor(obj2.endX) &&\n                            Math.floor(obj1.endY) === Math.floor(obj2.endY)) {\n                            this.refreshActiveObj();\n                        }\n                    }\n                }\n                parent.notify('draw', { prop: 'setNewPath', value: { bool: true } });\n                if (parent.objColl[parent.objColl.length - 1]) {\n                    var shape = parent.drawingShape;\n                    parent.notify('selection', { prop: 'setCurrentDrawingShape', value: { value: '' } });\n                    parent.noRedact = true;\n                    parent.selectShape(parent.objColl[parent.objColl.length - 1].currIndex);\n                    parent.notify('selection', { prop: 'setCurrentDrawingShape', value: { value: 'path' } });\n                    parent.drawingShape = shape;\n                }\n                parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n                var obj_1 = { shapeSettingsObj: {} };\n                parent.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: obj_1 } });\n                var shapeSettings = obj_1['shapeSettingsObj'];\n                var shapeResizingArgs = { cancel: false, action: 'draw-end', previousShapeSettings: shapeSettings };\n                var shapeMovingArgs = { cancel: false, action: 'move', previousShapeSettings: shapeSettings };\n                parent.notify('selection', { prop: 'triggerShapeChange', onPropertyChange: false,\n                    value: { shapeResizingArgs: shapeResizingArgs, shapeMovingArgs: shapeMovingArgs, type: 'mouse-up' } });\n                parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n            }\n        }\n    };\n    Shape.prototype.findTextTarget = function (e) {\n        var parent = this.parent;\n        if (!e) {\n            return;\n        }\n        if (parent.activeObj.shape !== 'text') {\n            if (parent.activeObj.shape === 'path') {\n                this.stopPathDrawing(e, null);\n                return;\n            }\n            else if (e.type === 'dblclick') {\n                parent.notify('selection', { prop: 'setPanDown', onPropertyChange: false, value: { panDown: null } });\n                var activeObj = extend({}, parent.activeObj, {}, true);\n                var objColl = extend([], parent.objColl, [], true);\n                var obj = { bool: null };\n                parent.notify('selection', { prop: 'findTargetObj', onPropertyChange: false,\n                    value: { x: e.clientX, y: e.clientY, isCrop: false, obj: obj } });\n                parent.objColl = objColl;\n                if (!obj['bool'] || parent.activeObj.shape !== 'text') {\n                    parent.activeObj = extend({}, activeObj, {}, true);\n                    return;\n                }\n            }\n            else {\n                return;\n            }\n        }\n        var x;\n        var y;\n        if (e.type === 'dblclick') {\n            x = e.clientX;\n            y = e.clientY;\n        }\n        else if (e.type === 'touchstart') {\n            x = e.touches[0].clientX;\n            y = e.touches[0].clientY;\n            parent.notify('selection', { prop: 'setTouchEndPoint', onPropertyChange: false,\n                value: { x: e.touches[0].clientX, y: e.touches[0].clientY } });\n        }\n        parent.notify('toolbar', { prop: 'setPreventZoomBtn', onPropertyChange: false, value: { isPrevent: true } });\n        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'text',\n                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n        parent.notify('toolbar', { prop: 'setPreventZoomBtn', onPropertyChange: false, value: { isPrevent: false } });\n        parent.notify('toolbar', { prop: 'update-toolbar-items', onPropertyChange: false });\n        if (!isNullOrUndefined(x) && !isNullOrUndefined(y)) {\n            var bbox = parent.lowerCanvas.getBoundingClientRect();\n            x -= bbox.left;\n            y -= bbox.top;\n            var flip = '';\n            var degree = this.getRotDegOfShape(parent.activeObj);\n            if (parent.activeObj.textFlip === '') {\n                if (parent.activeObj.textFlip === parent.transform.currFlipState) {\n                    flip = '';\n                }\n                else {\n                    flip = parent.transform.currFlipState;\n                }\n            }\n            else {\n                if (parent.activeObj.textFlip === parent.transform.currFlipState) {\n                    flip = '';\n                }\n                else if (parent.transform.currFlipState === '') {\n                    flip = parent.activeObj.textFlip;\n                }\n                else {\n                    flip = parent.transform.currFlipState;\n                }\n            }\n            var temp = void 0;\n            if (parent.textArea.style.display === 'none') {\n                temp = extend({}, parent.activeObj, {}, true);\n                for (var i = 0; i < parent.objColl.length; i++) {\n                    if (JSON.stringify(parent.activeObj) === JSON.stringify(parent.objColl[i])) {\n                        parent.objColl.splice(i, 1);\n                    }\n                }\n                this.refreshActiveObj();\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                this.lowerContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n                parent.notify('draw', { prop: 'redrawDownScale' });\n                parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n                parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.upperContext } });\n                if ((parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') || parent.isCircleCrop) {\n                    parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                        value: { context: this.lowerContext, isSave: null, isFlip: null } });\n                }\n                parent.activeObj = temp;\n                this.updateFontStyles();\n                var actObj = extend({}, parent.activeObj, {}, true);\n                var radius = actObj.topLeftCircle.radius;\n                var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY, width = _a.width, height = _a.height;\n                var center = { x: startX + (width / 2), y: startY +\n                        (height / 2) };\n                var cosAngle = Math.cos(actObj.rotatedAngle);\n                var sinAngle = Math.sin(actObj.rotatedAngle);\n                var p1 = { x: cosAngle * (startX - center.x) - sinAngle * (startY - center.y) + center.x,\n                    y: sinAngle * (startX - center.x) + cosAngle * (startY - center.y) + center.y };\n                var p2 = { x: cosAngle * (endX - center.x) - sinAngle * (startY - center.y) + center.x,\n                    y: sinAngle * (endX - center.x) + cosAngle * (startY - center.y) + center.y };\n                var p3 = { x: cosAngle * (startX - center.x) - sinAngle * (endY - center.y) + center.x,\n                    y: sinAngle * (startX - center.x) + cosAngle * (endY - center.y) + center.y };\n                var p4 = { x: cosAngle * (endX - center.x) - sinAngle * (endY - center.y) + center.x,\n                    y: sinAngle * (endX - center.x) + cosAngle * (endY - center.y) + center.y };\n                var obj = { position: null, x: x, y: y, x1: p1.x, y1: p1.y, x2: p2.x, y2: p2.y,\n                    x3: p3.x, y3: p3.y, x4: p4.x, y4: p4.y };\n                parent.notify('draw', { prop: 'checkPointPosition', onPropertyChange: false, value: { obj: obj } });\n                if ((actObj.rotatedAngle !== 0 && (obj['position'] === 'inside' || obj['position'] === 'on')) ||\n                    (actObj.rotatedAngle === 0 && x >= (actObj.activePoint.startX - (radius * 2)) &&\n                        x <= (actObj.activePoint.endX + (radius * 2)) &&\n                        y >= (actObj.activePoint.startY - (radius * 2)) &&\n                        y <= (actObj.activePoint.endY + (radius * 2)))) {\n                    this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                    if (actObj.flipObjColl.length === 4) {\n                        actObj.flipObjColl = [];\n                        flip = '';\n                        actObj.shapeFlip = '';\n                    }\n                    if (flip === '' && actObj.flipObjColl.length > 1) {\n                        flip = actObj.flipObjColl[actObj.flipObjColl.length - 1];\n                    }\n                    if (actObj.flipObjColl.length <= 1) {\n                        var points = this.setTextBoxPos(actObj, degree, flip, x, y);\n                        x = points.x;\n                        y = points.y;\n                    }\n                    else {\n                        var points = this.setTextBoxPoints(actObj, degree, flip, x, y);\n                        x = points.x;\n                        y = points.y;\n                    }\n                    if (parent.activeObj.rotatedAngle !== 0) {\n                        var point = this.getTextBoxPosition(parent.activeObj);\n                        x = point.x;\n                        y = point.y;\n                        point = this.setFlipState(x, y, parent.activeObj);\n                        x = point.x;\n                        y = point.y;\n                    }\n                    this.renderTextArea(x, y, actObj);\n                }\n                else {\n                    this.applyActObj();\n                }\n            }\n        }\n        else if ((parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block')\n            && this.selectedText() !== '' && e.type === 'mousedown') {\n            var temp = parent.textArea.value;\n            parent.textArea.value += 'a';\n            parent.textArea.value = temp;\n        }\n        else if (parent.textArea.style.display === 'none') {\n            parent.textArea.style.display = 'block';\n        }\n    };\n    Shape.prototype.getTextBoxPosition = function (obj, object) {\n        var point = { x: 0, y: 0 };\n        var _a = obj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY, width = _a.width, height = _a.height;\n        var center = { x: startX + (width / 2), y: startY + (height / 2) };\n        var cosAngle = Math.cos(obj.rotatedAngle);\n        var sinAngle = Math.sin(obj.rotatedAngle);\n        var p1 = { x: cosAngle * (startX - center.x) - sinAngle * (startY - center.y) + center.x,\n            y: sinAngle * (startX - center.x) + cosAngle * (startY - center.y) + center.y };\n        var p2 = { x: cosAngle * (endX - center.x) - sinAngle * (startY - center.y) + center.x,\n            y: sinAngle * (endX - center.x) + cosAngle * (startY - center.y) + center.y };\n        var p3 = { x: cosAngle * (startX - center.x) - sinAngle * (endY - center.y) + center.x,\n            y: sinAngle * (startX - center.x) + cosAngle * (endY - center.y) + center.y };\n        var p4 = { x: cosAngle * (endX - center.x) - sinAngle * (endY - center.y) + center.x,\n            y: sinAngle * (endX - center.x) + cosAngle * (endY - center.y) + center.y };\n        var degree = this.getRotDegOfShape(obj);\n        if (degree === 0 || degree === 360) {\n            point = { x: p1.x, y: p1.y };\n        }\n        else if (degree === 90 || degree === -270) {\n            point = { x: p2.x, y: p2.y };\n        }\n        else if (degree === 180 || degree === -180) {\n            point = { x: p4.x, y: p4.y };\n        }\n        else if (degree === 270 || degree === -90) {\n            point = { x: p3.x, y: p3.y };\n        }\n        if (object) {\n            object['x'] = point.x;\n            object['y'] = point.y;\n        }\n        return point;\n    };\n    Shape.prototype.setFlipState = function (x, y, obj, object) {\n        var parent = this.parent;\n        var panObj = { panRegion: '' };\n        var _a = parent.lowerCanvas, clientWidth = _a.clientWidth, clientHeight = _a.clientHeight;\n        var center = { x: 0, y: 0 };\n        parent.notify('crop', { prop: 'getCurrFlipState', onPropertyChange: false,\n            value: { panObj: panObj } });\n        if (panObj['panRegion'] !== '') {\n            if (panObj['panRegion'] === 'horizontal') {\n                center.x = clientWidth - (clientWidth / 2);\n                x = (center.x - x) + center.x;\n            }\n            else if (panObj['panRegion'] === 'vertical') {\n                center.y = clientHeight - (clientHeight / 2);\n                y = (center.y - y) + center.y;\n            }\n            else {\n                center = { x: clientWidth - (clientWidth / 2), y: clientHeight - (clientHeight / 2) };\n                x = (center.x - x) + center.x;\n                y = (center.y - y) + center.y;\n            }\n        }\n        if (object) {\n            object['x'] = x;\n            object['y'] = y;\n        }\n        return { x: x, y: y };\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Shape.prototype.fileChanged = function (e) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var filesData = e.target.files[0];\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var fileData = filesData;\n        var fileExtension = fileData.name && fileData.name.split('.').pop().toLowerCase();\n        if (fileExtension && ['jpg', 'jpeg', 'png', 'svg', 'webp'].indexOf(fileExtension) === -1) {\n            this.refreshActiveObj();\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/tslint/config, @typescript-eslint/no-explicit-any\n        var URL = window.URL;\n        var url = URL.createObjectURL(e.target.files[0]);\n        this.onLoadImgShape(null, null, null, null, url.toString(), true);\n        document.getElementById(this.parent.element.id + '_fileUpload').value = '';\n    };\n    Shape.prototype.onLoadImgShape = function (x, y, width, height, url, isSelect, degree, isAspectRatio, opacity, isSelected) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        var parent = this.parent;\n        if (typeof (url) === 'string') {\n            this.shapeImg.src = url;\n        }\n        else {\n            parent.inMemoryCanvas.width = url.width;\n            parent.inMemoryCanvas.height = url.height;\n            parent.inMemoryCanvas.getContext('2d').putImageData(url, 0, 0);\n            this.shapeImg.src = parent.inMemoryCanvas.toDataURL();\n        }\n        this.prevObjColl();\n        parent.activeObj.shape = 'image';\n        this.initShapeProps();\n        this.shapeImg.onload = function () {\n            proxy.upperContext.drawImage(proxy.shapeImg, 0, 0, proxy.shapeImg.width, proxy.shapeImg.height);\n            proxy.updateImgCanvas(isSelect, x, y, width, height, degree, isAspectRatio, opacity, isSelected);\n        };\n    };\n    Shape.prototype.updateImgCanvas = function (isSelect, x, y, width, height, degree, isAspectRatio, opacity, isSelected) {\n        var parent = this.parent;\n        parent.activeObj.imageElement = this.shapeImg;\n        parent.activeObj.imageCanvas = parent.createElement('canvas');\n        var dimObj = { width: 0, height: 0 };\n        parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n            value: { width: this.shapeImg.width, height: this.shapeImg.height, obj: dimObj, isImgShape: null } });\n        if (width && height) {\n            if (isAspectRatio) {\n                var obj_2 = { ratio: null };\n                parent.notify('selection', { prop: 'findImageRatio', onPropertyChange: false,\n                    value: { width: this.shapeImg.width, height: this.shapeImg.height, obj: obj_2 } });\n                dimObj = this.resizeImage(width, obj_2['ratio']);\n            }\n            else {\n                dimObj = { width: width, height: height };\n            }\n        }\n        this.updateObj(dimObj, x, y);\n        parent.notify('draw', { prop: 'downScaleImgCanvas', onPropertyChange: false,\n            value: { ctx: parent.activeObj.imageCanvas.getContext('2d'), isImgAnnotation: true, isHFlip: null, isVFlip: null } });\n        parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n            value: { width: this.shapeImg.width, height: this.shapeImg.height, obj: dimObj, isImgShape: true } });\n        if (width && height) {\n            if (isAspectRatio) {\n                var obj_3 = { ratio: null };\n                parent.notify('selection', { prop: 'findImageRatio', onPropertyChange: false,\n                    value: { width: this.shapeImg.width, height: this.shapeImg.height, obj: obj_3 } });\n                dimObj = this.resizeImage(width, obj_3['ratio']);\n            }\n            else {\n                dimObj = { width: width, height: height };\n            }\n        }\n        if (opacity !== null && opacity !== undefined) {\n            parent.activeObj.opacity = opacity;\n        }\n        this.updateObj(dimObj, x, y);\n        parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n        this.shapeImg = null;\n        if (degree) {\n            parent.activeObj.rotatedAngle = degree * (Math.PI / 180);\n            parent.notify('selection', { prop: 'updPtCollForShpRot', onPropertyChange: false, value: { obj: parent.activeObj } });\n        }\n        var obj = { shapeSettingsObj: {} };\n        parent.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: obj } });\n        var shapeSettings = obj['shapeSettingsObj'];\n        var shapeChangingArgs = { cancel: false, action: 'insert', previousShapeSettings: shapeSettings,\n            currentShapeSettings: shapeSettings };\n        parent.trigger('shapeChanging', shapeChangingArgs);\n        parent.editCompleteArgs = shapeChangingArgs;\n        isSelect = isSelect ? isSelect : isSelected;\n        this.drawShapeImageEvent(shapeChangingArgs, isSelect);\n        if (parent.isPublicMethod && !isSelected) {\n            parent.notify('undo-redo', { prop: 'updateUndoRedo', onPropertyChange: false });\n        }\n        else if (!parent.isPublicMethod) {\n            parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n        }\n        parent.isPublicMethod = false;\n    };\n    Shape.prototype.updateObj = function (dimObj, x, y) {\n        var parent = this.parent;\n        parent.activeObj.activePoint.width = dimObj['width'];\n        parent.activeObj.activePoint.height = dimObj['height'];\n        parent.activeObj.activePoint.startX = x ? x : (parent.lowerCanvas.width / 2) - (dimObj['width'] / 2);\n        parent.activeObj.activePoint.startY = y ? y : (parent.lowerCanvas.height / 2) - (dimObj['height'] / 2);\n        parent.activeObj.activePoint.endX = parent.activeObj.activePoint.startX + dimObj['width'];\n        parent.activeObj.activePoint.endY = parent.activeObj.activePoint.startY + dimObj['height'];\n    };\n    Shape.prototype.resizeImage = function (newWidth, aspectRatio) {\n        var aspectRatioArray = aspectRatio.split(':');\n        var aspectRatioWidth = parseInt(aspectRatioArray[0], 10);\n        var aspectRatioHeight = parseInt(aspectRatioArray[1], 10);\n        var newHeight = Math.round((newWidth * aspectRatioHeight) / aspectRatioWidth);\n        return { width: newWidth, height: newHeight };\n    };\n    Shape.prototype.setTextBoxPos = function (actObj, degree, flip, x, y) {\n        var point = { x: x, y: y };\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        flip = flip.toLowerCase();\n        switch (degree) {\n            case 0:\n                if (flip === 'horizontal') {\n                    point.x = endX;\n                    point.y = startY;\n                }\n                else if (flip === 'vertical') {\n                    point.x = startX;\n                    point.y = endY;\n                }\n                else {\n                    point.x = startX;\n                    point.y = startY;\n                }\n                break;\n            case 90:\n                if (flip === 'horizontal') {\n                    point.x = startX;\n                    point.y = startY;\n                }\n                else if (flip === 'vertical') {\n                    point.x = endX;\n                    point.y = endY;\n                }\n                else {\n                    point.x = endX;\n                    point.y = startY;\n                }\n                break;\n            case 180:\n                if (flip === 'horizontal') {\n                    point.x = startX;\n                    point.y = endY;\n                }\n                else if (flip === 'vertical') {\n                    point.x = endX;\n                    point.y = startY;\n                }\n                else {\n                    point.x = endX;\n                    point.y = endY;\n                }\n                break;\n            case 270:\n                if (flip === 'horizontal') {\n                    point.x = endX;\n                    point.y = endY;\n                }\n                else if (flip === 'vertical') {\n                    point.x = startX;\n                    point.y = startY;\n                }\n                else {\n                    point.x = startX;\n                    point.y = endY;\n                }\n                break;\n        }\n        return point;\n    };\n    Shape.prototype.setTextBoxPoints = function (actObj, degree, flip, x, y) {\n        var point = { x: x, y: y };\n        var _a = actObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        flip = flip.toLowerCase();\n        switch (degree) {\n            case 0:\n                if (actObj.flipObjColl[0] && actObj.flipObjColl[0].toLowerCase() === 'horizontal') {\n                    if (flip === 'horizontal') {\n                        point.x = startX;\n                        point.y = startY;\n                    }\n                    else if (flip === 'vertical') {\n                        point.x = endX;\n                        point.y = endY;\n                    }\n                }\n                else {\n                    if (flip === 'horizontal') {\n                        point.x = endX;\n                        point.y = endY;\n                    }\n                    else if (flip === 'vertical') {\n                        point.x = endX;\n                        point.y = startY;\n                    }\n                }\n                break;\n            case 90:\n                if (actObj.flipObjColl[0] && actObj.flipObjColl[0].toLowerCase() === 'horizontal') {\n                    if (flip === 'horizontal') {\n                        point.x = endX;\n                        point.y = endY;\n                    }\n                    else if (flip === 'vertical') {\n                        point.x = startX;\n                        point.y = endY;\n                    }\n                }\n                else {\n                    if (flip === 'horizontal') {\n                        point.x = startX;\n                        point.y = endY;\n                    }\n                    else if (flip === 'vertical') {\n                        point.x = startX;\n                        point.y = startY;\n                    }\n                }\n                break;\n            case 180:\n                if (actObj.flipObjColl[0] && actObj.flipObjColl[0].toLowerCase() === 'horizontal') {\n                    if (flip === 'horizontal') {\n                        point.x = startX;\n                        point.y = startY;\n                    }\n                    else if (flip === 'vertical') {\n                        point.x = startX;\n                        point.y = startY;\n                    }\n                }\n                else {\n                    if (flip === 'horizontal') {\n                        point.x = startX;\n                        point.y = startY;\n                    }\n                    else if (flip === 'vertical') {\n                        point.x = startX;\n                        point.y = endY;\n                    }\n                }\n                break;\n            case 270:\n                if (actObj.flipObjColl[0] && actObj.flipObjColl[0].toLowerCase() === 'horizontal') {\n                    if (flip === 'horizontal') {\n                        point.x = startX;\n                        point.y = startY;\n                    }\n                    else if (flip === 'vertical') {\n                        point.x = endX;\n                        point.y = startY;\n                    }\n                }\n                else {\n                    if (flip === 'horizontal') {\n                        point.x = endX;\n                        point.y = startY;\n                    }\n                    else if (flip === 'vertical') {\n                        point.x = endX;\n                        point.y = endY;\n                    }\n                }\n                break;\n        }\n        return point;\n    };\n    Shape.prototype.selectedText = function () {\n        var parent = this.parent;\n        var start = parent.textArea.selectionStart;\n        var finish = parent.textArea.selectionEnd;\n        return parent.textArea.value.substring(start, finish);\n    };\n    Shape.prototype.panObjColl = function (xDiff, yDiff, panRegion) {\n        var parent = this.parent;\n        if (parent.objColl.length > 0) {\n            for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                var currObj = parent.objColl[i];\n                if (panRegion === '') {\n                    currObj.activePoint.startX += xDiff;\n                    currObj.activePoint.endX += xDiff;\n                    if (currObj.rotationCirclePointColl) {\n                        currObj.rotationCirclePointColl.x += xDiff;\n                    }\n                    if (currObj.shape === 'path') {\n                        for (var l = 0, len_3 = currObj.pointColl.length; l < len_3; l++) {\n                            currObj.pointColl[l].x += xDiff;\n                        }\n                    }\n                    currObj.activePoint.startY += yDiff;\n                    currObj.activePoint.endY += yDiff;\n                    if (currObj.rotationCirclePointColl) {\n                        currObj.rotationCirclePointColl.y += yDiff;\n                    }\n                    if (currObj.shape === 'path') {\n                        for (var l = 0; l < currObj.pointColl.length; l++) {\n                            currObj.pointColl[l].y += yDiff;\n                        }\n                    }\n                }\n                currObj = this.updateWidthHeight(currObj);\n                parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: currObj.activePoint,\n                        obj: currObj } });\n                if (currObj.shape === 'line' || currObj.shape === 'arrow') {\n                    currObj.pointColl = this.getLinePoints(currObj.activePoint.startX, currObj.activePoint.startY, currObj.activePoint.endX, currObj.activePoint.endY);\n                    for (var j = 0, len_4 = currObj.pointColl.length; j < len_4; j++) {\n                        currObj.pointColl[j].ratioX =\n                            (currObj.pointColl[j].x - parent.img.destLeft) / parent.img.destWidth;\n                        currObj.pointColl[j].ratioY =\n                            (currObj.pointColl[j].y - parent.img.destTop) / parent.img.destHeight;\n                    }\n                }\n                this.refreshActiveObj();\n            }\n            var temp = this.lowerContext.filter;\n            this.lowerContext.filter = 'none';\n            this.iterateObjColl();\n            this.lowerContext.filter = temp;\n            this.refreshActiveObj();\n            parent.notify('draw', { prop: 'applyFrame', value: { ctx: this.lowerContext, frame: parent.frameObj.type, preventImg: true } });\n        }\n    };\n    Shape.prototype.updateFontStyles = function (isTextBox) {\n        var parent = this.parent;\n        this.upperContext.strokeStyle = parent.activeObj.strokeSettings.strokeColor;\n        this.upperContext.fillStyle = parent.activeObj.strokeSettings.strokeColor;\n        var textStyle = '';\n        if (parent.activeObj.textSettings.bold) {\n            textStyle = 'bold ';\n        }\n        if (parent.activeObj.textSettings.italic) {\n            textStyle = 'italic ';\n        }\n        if (parent.activeObj.textSettings.bold && parent.activeObj.textSettings.italic) {\n            textStyle = 'italic bold ';\n        }\n        var fontSize = isTextBox ? parseFloat(parent.textArea.style.fontSize) : parent.activeObj.textSettings.fontSize;\n        var fontFamily = (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') ?\n            parent.textArea.style.fontFamily : parent.activeObj.textSettings.fontFamily;\n        this.upperContext.font = textStyle + fontSize + 'px' + ' ' + fontFamily;\n    };\n    Shape.prototype.applyFontStyle = function (item) {\n        var parent = this.parent;\n        var obj = { shapeSettingsObj: {} };\n        parent.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: obj } });\n        var shapeSettings = obj['shapeSettingsObj'];\n        this.pushActItemIntoObj();\n        var objColl = extend([], parent.objColl, [], true);\n        parent.objColl.pop();\n        if (parent.textArea.style.display === 'none') {\n            this.updateFontRatio(parent.activeObj);\n        }\n        else {\n            this.updateFontRatio(parent.activeObj, true);\n        }\n        switch (item) {\n            case 'default':\n                this.updateFontStyle(item, objColl, 'normal', 'normal');\n                break;\n            case 'bold':\n                this.updateFontStyle(item, objColl, 'bold', 'normal');\n                break;\n            case 'italic':\n                this.updateFontStyle(item, objColl, 'normal', 'italic');\n                break;\n            case 'bolditalic':\n                this.updateFontStyle(item, objColl, 'bold', 'italic');\n                break;\n        }\n        var shapeChangedArgs = { action: 'font-style', currentShapeSettings: extend({}, shapeSettings, {}, true) };\n        shapeChangedArgs.currentShapeSettings.fontStyle = [item];\n        parent.trigger('shapeChange', shapeChangedArgs);\n        parent.editCompleteArgs = shapeChangedArgs;\n    };\n    Shape.prototype.updateFontStyle = function (item, objColl, fontWeight, fontStyle) {\n        var parent = this.parent;\n        var style = parent.textArea.style;\n        if (style.display === 'block' || style.display === 'inline-block') {\n            if (style.fontWeight === 'normal' && fontWeight === 'bold') {\n                style.fontWeight = 'bold';\n            }\n            else if (style.fontWeight === 'bold' && fontWeight === 'bold') {\n                style.fontWeight = 'normal';\n            }\n            if (style.fontStyle === 'normal' && fontStyle === 'italic') {\n                style.fontStyle = 'italic';\n            }\n            else if (style.fontStyle === 'italic' && fontStyle === 'italic') {\n                style.fontStyle = 'normal';\n            }\n            var value = (style.fontWeight === 'normal' && style.fontStyle === 'normal' ? 'default' :\n                (style.fontWeight === 'bold' && style.fontStyle === 'normal' ? 'bold' :\n                    (style.fontWeight === 'normal' && style.fontStyle === 'italic' ? 'italic' : 'bolditalic')));\n            var width = this.getTextAreaWidth(value);\n            style.width = width + 'px';\n            this.updateObjColl(item, objColl);\n        }\n        else {\n            this.textSettings.bold = parent.activeObj.textSettings.bold = fontWeight === 'normal' ? false : true;\n            this.textSettings.italic = parent.activeObj.textSettings.italic = fontStyle === 'normal' ? false : true;\n            if (parent.activeObj.activePoint.width !== 0 || parent.activeObj.activePoint.height !== 0) {\n                this.redrawText();\n            }\n            parent.notify('undo-redo', { prop: 'updateUrObj', onPropertyChange: false, value: { objColl: objColl } });\n        }\n    };\n    Shape.prototype.updateArrowRatio = function (obj) {\n        var parent = this.parent;\n        var object = { arrowDimension: null };\n        parent.notify('draw', { prop: 'getArrowDimension', onPropertyChange: false, value: { obj: object } });\n        var length;\n        if (Math.abs(obj.activePoint.width) > Math.abs(obj.activePoint.height)) {\n            length = Math.abs(obj.activePoint.width);\n        }\n        else {\n            length = Math.abs(obj.activePoint.height);\n        }\n        var dimension;\n        var dimensions = ['bar', 'arrow', 'arrowSolid', 'circle', 'square'];\n        for (var _i = 0, dimensions_1 = dimensions; _i < dimensions_1.length; _i++) {\n            dimension = dimensions_1[_i];\n            var ratioX = length / object['arrowDimension'][dimension]['width'];\n            var ratioY = length / object['arrowDimension'][dimension]['height'];\n            object['arrowDimension'][dimension]['ratioX'] = ratioX;\n            object['arrowDimension'][dimension]['ratioY'] = ratioY;\n        }\n    };\n    Shape.prototype.updateArrowSize = function (obj) {\n        var object = { arrowDimension: null };\n        this.parent.notify('draw', { prop: 'getArrowDimension', onPropertyChange: false, value: { obj: object } });\n        var length;\n        if (Math.abs(obj.activePoint.width) > Math.abs(obj.activePoint.height)) {\n            length = Math.abs(obj.activePoint.width);\n        }\n        else {\n            length = Math.abs(obj.activePoint.height);\n        }\n        var dimension;\n        var dimensions = ['bar', 'arrow', 'arrowSolid', 'circle', 'square'];\n        for (var _i = 0, dimensions_2 = dimensions; _i < dimensions_2.length; _i++) {\n            dimension = dimensions_2[_i];\n            var ratioX = object['arrowDimension'][dimension]['ratioX'];\n            var ratioY = object['arrowDimension'][dimension]['ratioY'];\n            object['arrowDimension'][dimension]['width'] = length / ratioX;\n            object['arrowDimension'][dimension]['height'] = length / ratioY;\n        }\n    };\n    Shape.prototype.updateFontRatio = function (obj, isTextArea) {\n        var parent = this.parent;\n        var text = this.getMaxText(isTextArea);\n        var width = this.upperContext.measureText(text).width +\n            parent.activeObj.textSettings.fontSize * 0.5;\n        var height = parent.activeObj.textSettings.fontSize;\n        var degree = this.getRotDegOfShape(obj);\n        if (isNullOrUndefined(isTextArea)) {\n            if (degree === 0 || Math.abs(degree) === 180) {\n                obj.textSettings.fontRatio = width / obj.textSettings.fontSize;\n            }\n            else {\n                obj.textSettings.fontRatio = height / obj.textSettings.fontSize;\n            }\n        }\n        else if (isTextArea) {\n            var transformObj = { bool: false };\n            parent.notify('selection', { prop: 'getTransformedShape', onPropertyChange: false, value: { obj: transformObj } });\n            if (!transformObj['bool'] || degree === 0 || Math.abs(degree) === 180) {\n                obj.textSettings.fontRatio = width / parseFloat(parent.textArea.style.fontSize);\n            }\n            else {\n                obj.textSettings.fontRatio = height / parseFloat(parent.textArea.style.fontSize);\n            }\n        }\n    };\n    Shape.prototype.updateFontSize = function (obj) {\n        var degree = this.getRotDegOfShape(obj, true);\n        if (degree === 0 || Math.abs(degree) === 180) {\n            obj.textSettings.fontSize = (obj.activePoint.width / obj.textSettings.fontRatio);\n        }\n        else {\n            obj.textSettings.fontSize = (obj.activePoint.height / obj.textSettings.fontRatio);\n        }\n    };\n    Shape.prototype.updateObjColl = function (item, objColl) {\n        var parent = this.parent;\n        var prevCropObj = extend({}, parent.cropObj, {}, true);\n        var object = { currObj: {} };\n        parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        prevObj.objColl = objColl;\n        prevObj.pointColl = extend([], parent.pointColl, [], true);\n        prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        var tempBold = parent.activeObj.textSettings.bold;\n        var tempItalic = parent.activeObj.textSettings.italic;\n        switch (item) {\n            case 'default':\n                parent.activeObj.textSettings.bold = false;\n                parent.activeObj.textSettings.italic = false;\n                break;\n            case 'bold':\n                parent.activeObj.textSettings.bold = true;\n                parent.activeObj.textSettings.italic = false;\n                break;\n            case 'italic':\n                parent.activeObj.textSettings.bold = false;\n                parent.activeObj.textSettings.italic = true;\n                break;\n            case 'bolditalic':\n                parent.activeObj.textSettings.bold = true;\n                parent.activeObj.textSettings.italic = true;\n                break;\n        }\n        parent.objColl.push(parent.activeObj);\n        parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n            value: { operation: 'textAreaCustomization', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                previousCropObj: prevCropObj, previousText: null,\n                currentText: null, previousFilter: null, isCircleCrop: null } });\n        parent.objColl.pop();\n        parent.activeObj.textSettings.bold = tempBold;\n        parent.activeObj.textSettings.italic = tempItalic;\n    };\n    Shape.prototype.pushActItemIntoObj = function () {\n        var parent = this.parent;\n        if (parent.textArea.style.display === 'none') {\n            if (parent.activeObj.activePoint.width !== 0 || parent.activeObj.activePoint.height !== 0) {\n                parent.objColl.push(parent.activeObj);\n            }\n        }\n        else {\n            var temp = extend({}, parent.activeObj, {}, true);\n            parent.notify('selection', { prop: 'setTextBoxStylesToActObj', onPropertyChange: false });\n            parent.objColl.push(parent.activeObj);\n            parent.activeObj = temp;\n        }\n    };\n    Shape.prototype.clearActObj = function () {\n        var parent = this.parent;\n        if (parent.textArea.style.display === 'none') {\n            this.refreshActiveObj();\n            this.applyActObj();\n            this.refreshActiveObj();\n            parent.currObjType.isCustomCrop = false;\n        }\n    };\n    Shape.prototype.refreshActiveObj = function () {\n        var parent = this.parent;\n        parent.activeObj = {};\n        parent.activeObj.activePoint = { startX: 0, startY: 0, endX: 0, endY: 0, width: 0, height: 0 };\n        parent.activeObj.triangle = [];\n        parent.activeObj.triangleRatio = [];\n        parent.activeObj.order = null;\n        parent.activeObj.flipObjColl = [];\n        parent.activeObj.strokeSettings = this.strokeSettings;\n        parent.activeObj.textSettings = this.textSettings;\n        parent.activeObj.rotatedAngle = 0;\n        parent.activeObj.opacity = 1;\n        parent.activeObj.redactType = this.redactType;\n        parent.activeObj.redactBlur = parent.tempRedactBlur;\n        parent.activeObj.redactPixelate = parent.tempRedactPixel;\n    };\n    Shape.prototype.applyActObj = function (isMouseDown) {\n        var parent = this.parent;\n        var isActObj = false;\n        if (parent.activeObj.shape !== undefined && parent.activeObj.shape === 'text' && parent.activeObj.keyHistory === '') {\n            this.refreshActiveObj();\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        }\n        else {\n            var splitWords = void 0;\n            var isCropSelection = false;\n            if (parent.activeObj.shape !== undefined) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (splitWords === undefined && parent.currObjType.isCustomCrop) {\n                isCropSelection = true;\n            }\n            else if (splitWords !== undefined && splitWords[0] === 'crop') {\n                isCropSelection = true;\n            }\n            if (parent.activeObj.shape && !isCropSelection && parent.activeObj.shape !== 'shape') {\n                for (var i = 0; i < parent.objColl.length; i++) {\n                    if (JSON.stringify(parent.activeObj) === JSON.stringify(parent.objColl[i])) {\n                        isActObj = true;\n                        break;\n                    }\n                }\n                if (!isActObj) {\n                    if (isNullOrUndefined(parent.activeObj.currIndex)) {\n                        parent.activeObj.currIndex = this.getNewShapeId();\n                    }\n                    if (isNullOrUndefined(parent.activeObj.order)) {\n                        parent.activeObj.order = this.getNewOrder();\n                    }\n                    this.updImgRatioForActObj();\n                    var splitWords_1 = parent.activeObj.currIndex.split('_');\n                    var tempObjColl = parent.objColl.splice(0, parseInt(splitWords_1[1], 10) - 1);\n                    tempObjColl.push(extend({}, parent.activeObj, {}, true));\n                    for (var i = 0; i < parent.objColl.length; i++) {\n                        tempObjColl.push(parent.objColl[i]);\n                    }\n                    parent.objColl = tempObjColl;\n                    tempObjColl = [];\n                    this.refreshActiveObj();\n                    this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n                    parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n                    parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n                    parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.upperContext } });\n                    parent.currObjType.shape = '';\n                    this.refreshActiveObj();\n                    if (parent.isCircleCrop) {\n                        parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                            value: { context: this.lowerContext, isSave: null, isFlip: null } });\n                    }\n                    parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n                    if (isNullOrUndefined(isMouseDown)) {\n                        parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n                        parent.notify('draw', { prop: 'setPrevActObj', onPropertyChange: false, value: { prevActObj: null } });\n                    }\n                }\n            }\n        }\n    };\n    Shape.prototype.getNewShapeId = function () {\n        var parent = this.parent;\n        var value = parent.objColl.length + 1;\n        for (var i = 0; i < parent.objColl.length; i++) {\n            if (parent.objColl[i].currIndex === 'shape_' + value) {\n                value++;\n                i = -1;\n            }\n        }\n        return 'shape_' + value;\n    };\n    Shape.prototype.getNewOrder = function () {\n        var parent = this.parent;\n        this.updateShapeColl();\n        var value = parent.shapeColl.length + 1;\n        for (var i = 0; i < parent.shapeColl.length; i++) {\n            if (parent.shapeColl[i].order === value) {\n                value++;\n                i = -1;\n            }\n        }\n        return value;\n    };\n    Shape.prototype.getHighestOrder = function () {\n        var parent = this.parent;\n        this.updateShapeColl();\n        var value = 0;\n        for (var i = 0; i < parent.shapeColl.length; i++) {\n            if (parent.shapeColl[i].order > value) {\n                value = parent.shapeColl[i].order;\n            }\n        }\n        return value;\n    };\n    Shape.prototype.getLowestOrder = function () {\n        var parent = this.parent;\n        this.updateShapeColl();\n        var value = 1;\n        for (var i = 0; i < parent.shapeColl.length; i++) {\n            if (parent.shapeColl[i].order < value) {\n                value = parent.shapeColl[i].order;\n            }\n        }\n        return value;\n    };\n    Shape.prototype.alignTextAreaIntoCanvas = function () {\n        var parent = this.parent;\n        var letters = parent.textArea.value;\n        parent.textArea.value = '';\n        for (var i = 0, len = letters.length; i < len; i++) {\n            parent.textArea.value += letters[i];\n            parent.textArea.style.height = 'auto';\n            parent.textArea.style.height = parent.textArea.scrollHeight + 'px';\n            this.setTextBoxWidth();\n        }\n    };\n    Shape.prototype.transformTextArea = function () {\n        var parent = this.parent;\n        if (parent.activeObj.shape === 'text') {\n            parent.textArea.style.transformOrigin = '0 0';\n            var rotatedDegree = parent.activeObj.rotatedAngle * (180 / Math.PI);\n            var scale = '';\n            var degree = this.getRotDegOfShape(parent.activeObj);\n            if (parent.activeObj.flipObjColl.length > 0) {\n                for (var i = 0; i < parent.activeObj.flipObjColl.length; i++) {\n                    if (degree !== 0 && degree % 90 === 0 && degree !== 180) {\n                        scale += parent.activeObj.flipObjColl[i].toLowerCase() === 'horizontal' ? 'scale(1, -1)' :\n                            'scale(-1, 1)';\n                    }\n                    else {\n                        scale += parent.activeObj.flipObjColl[i].toLowerCase() === 'horizontal' ? 'scale(-1, 1)' :\n                            'scale(1, -1)';\n                    }\n                    degree += rotatedDegree;\n                    if (parent.activeObj.flipObjColl[i].toLowerCase() === 'horizontal') {\n                        parent.textArea.style.transform = 'rotate(' + degree + 'deg)' + scale;\n                    }\n                    else if (parent.activeObj.flipObjColl[i].toLowerCase() === 'vertical') {\n                        parent.textArea.style.transform = 'rotate(' + degree + 'deg)' + scale;\n                    }\n                }\n            }\n            else {\n                degree += rotatedDegree;\n                parent.textArea.style.transform = 'rotate(' + degree + 'deg)';\n            }\n        }\n    };\n    Shape.prototype.getTextAreaWidth = function (item) {\n        var parent = this.parent;\n        var tempBold = parent.activeObj.textSettings.bold;\n        var tempItalic = parent.activeObj.textSettings.italic;\n        switch (item) {\n            case 'default':\n                parent.activeObj.textSettings.bold = false;\n                parent.activeObj.textSettings.italic = false;\n                break;\n            case 'bold':\n                parent.activeObj.textSettings.bold = true;\n                parent.activeObj.textSettings.italic = false;\n                break;\n            case 'italic':\n                parent.activeObj.textSettings.bold = false;\n                parent.activeObj.textSettings.italic = true;\n                break;\n            case 'bolditalic':\n                parent.activeObj.textSettings.bold = true;\n                parent.activeObj.textSettings.italic = true;\n                break;\n        }\n        var isTextArea = parent.textArea.style.display === 'none' ? false : true;\n        this.updateFontStyles(isTextArea);\n        var width;\n        if (!isTextArea) {\n            width = this.upperContext.measureText(parent.activeObj.keyHistory).width +\n                parent.activeObj.textSettings.fontSize * 0.5;\n        }\n        else {\n            width = this.upperContext.measureText(parent.textArea.value).width +\n                parent.activeObj.textSettings.fontSize * 0.5;\n        }\n        parent.activeObj.textSettings.bold = tempBold;\n        parent.activeObj.textSettings.italic = tempItalic;\n        return width;\n    };\n    Shape.prototype.getRedactObjDetails = function (obj) {\n        var parent = this.parent;\n        var redactDetails = {};\n        redactDetails.id = obj.currIndex;\n        redactDetails.type = parent.toPascalCase(obj.redactType);\n        redactDetails.startX = obj.activePoint.startX;\n        redactDetails.startY = obj.activePoint.startY;\n        redactDetails.width = obj.activePoint.width;\n        redactDetails.height = obj.activePoint.height;\n        switch (obj.redactType) {\n            case 'blur':\n                redactDetails.blurIntensity = obj.redactBlur;\n                break;\n            case 'pixelate':\n                redactDetails.pixelSize = obj.redactPixelate;\n                break;\n        }\n        return redactDetails;\n    };\n    Shape.prototype.getObjDetails = function (obj) {\n        var parent = this.parent;\n        var shapeDetails = {};\n        shapeDetails.id = obj.currIndex;\n        shapeDetails.type = parent.toPascalCase(obj.shape);\n        shapeDetails.startX = obj.activePoint.startX;\n        shapeDetails.startY = obj.activePoint.startY;\n        shapeDetails.index = obj.order;\n        var transformObj = { coll: null };\n        switch (obj.shape) {\n            case 'rectangle':\n                shapeDetails.width = obj.activePoint.width;\n                shapeDetails.height = obj.activePoint.height;\n                shapeDetails.strokeColor = obj.strokeSettings.strokeColor;\n                shapeDetails.fillColor = obj.strokeSettings.fillColor;\n                shapeDetails.strokeWidth = obj.strokeSettings.strokeWidth;\n                shapeDetails.degree = obj.rotatedAngle * (180 / Math.PI);\n                break;\n            case 'ellipse':\n                shapeDetails.radius = obj.activePoint.width / 2;\n                shapeDetails.strokeColor = obj.strokeSettings.strokeColor;\n                shapeDetails.fillColor = obj.strokeSettings.fillColor;\n                shapeDetails.strokeWidth = obj.strokeSettings.strokeWidth;\n                shapeDetails.radiusX = obj.activePoint.width / 2;\n                shapeDetails.radiusY = obj.activePoint.height / 2;\n                shapeDetails.degree = obj.rotatedAngle * (180 / Math.PI);\n                break;\n            case 'line':\n            case 'arrow':\n                shapeDetails.length = obj.activePoint.width;\n                shapeDetails.strokeColor = obj.strokeSettings.strokeColor;\n                shapeDetails.strokeWidth = obj.strokeSettings.strokeWidth;\n                shapeDetails.endX = obj.activePoint.endX;\n                shapeDetails.endY = obj.activePoint.endY;\n                if (obj.shape === 'arrow') {\n                    var arrowObj = { type: null };\n                    parent.notify('selection', { prop: 'getArrowType', onPropertyChange: false, value: { type: obj.start, obj: arrowObj } });\n                    shapeDetails.arrowHead = arrowObj['type'];\n                    parent.notify('selection', { prop: 'getArrowType', onPropertyChange: false, value: { type: obj.end, obj: arrowObj } });\n                    shapeDetails.arrowTail = arrowObj['type'];\n                }\n                break;\n            case 'text':\n                shapeDetails.text = obj.keyHistory;\n                shapeDetails.fontSize = obj.textSettings.fontSize;\n                shapeDetails.fontFamily = obj.textSettings.fontFamily;\n                shapeDetails.color = obj.strokeSettings.strokeColor;\n                shapeDetails.strokeColor = obj.strokeSettings.outlineColor;\n                shapeDetails.fillColor = obj.strokeSettings.fillColor;\n                shapeDetails.strokeWidth = obj.strokeSettings.outlineWidth;\n                shapeDetails.fontStyle = [];\n                if (obj.textSettings.bold) {\n                    shapeDetails.fontStyle.push('bold');\n                }\n                if (obj.textSettings.italic) {\n                    shapeDetails.fontStyle.push('italic');\n                }\n                shapeDetails.degree = obj.rotatedAngle * (180 / Math.PI);\n                parent.notify('selection', { prop: 'updateTransColl', onPropertyChange: false, value: { obj: transformObj, object: obj } });\n                shapeDetails.transformCollection = transformObj['coll'];\n                break;\n            case 'path':\n                shapeDetails.strokeColor = obj.strokeSettings.strokeColor;\n                shapeDetails.strokeWidth = obj.strokeSettings.strokeWidth;\n                shapeDetails.points = obj.pointColl;\n                break;\n            case 'image':\n                shapeDetails.imageData = obj.imageCanvas.toDataURL();\n                shapeDetails.degree = obj.rotatedAngle * (180 / Math.PI);\n                shapeDetails.width = obj.activePoint.width;\n                shapeDetails.height = obj.activePoint.height;\n                shapeDetails.opacity = obj.opacity;\n                break;\n        }\n        return shapeDetails;\n    };\n    Shape.prototype.getFreehandDrawDetails = function (index) {\n        var parent = this.parent;\n        var shapeDetails = {};\n        shapeDetails.id = parent.pointColl[index].id;\n        shapeDetails.type = ShapeType.FreehandDraw;\n        shapeDetails.points = extend([], parent.pointColl[index].points);\n        shapeDetails.strokeColor = parent.pointColl[index].strokeColor;\n        shapeDetails.strokeWidth = parent.pointColl[index].strokeWidth;\n        shapeDetails.index = parent.pointColl[index].order;\n        return shapeDetails;\n    };\n    Shape.prototype.getShapeSetting = function (id, obj) {\n        var parent = this.parent;\n        var shapeDetails;\n        if (!parent.disabled && parent.isImageLoaded) {\n            if (parent.textArea.style.display !== 'none') {\n                parent.okBtn(null, true);\n            }\n            else {\n                this.applyActObj(true);\n            }\n            if (id.split('_')[0] === 'shape') {\n                var obj_4;\n                for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                    if (parent.objColl[i].currIndex === id) {\n                        obj_4 = extend({}, parent.objColl[i], {}, true);\n                        break;\n                    }\n                }\n                shapeDetails = this.getObjDetails(obj_4);\n            }\n            else if (id.split('_')[0] === 'pen') {\n                shapeDetails = this.getFreehandDrawDetails(parseInt(id.split('_')[1], 10) - 1);\n            }\n        }\n        obj['shapeDetails'] = shapeDetails;\n    };\n    Shape.prototype.getShapeSettings = function (obj) {\n        var parent = this.parent;\n        var shapeDetailsColl = [];\n        if (!parent.disabled && parent.isImageLoaded) {\n            if (parent.textArea.style.display !== 'none') {\n                parent.okBtn(null, true);\n            }\n            else {\n                this.applyActObj(true);\n            }\n            for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                var shapeDetails = this.getObjDetails(parent.objColl[i]);\n                shapeDetailsColl.push(shapeDetails);\n            }\n            for (var i = 0; i < parent.freehandCounter; i++) {\n                var shapeDetails = this.getFreehandDrawDetails(i);\n                shapeDetailsColl.push(shapeDetails);\n            }\n        }\n        obj['shapeDetailsColl'] = shapeDetailsColl;\n    };\n    Shape.prototype.getRedactSettings = function (obj) {\n        var parent = this.parent;\n        var RedactDetailsColl = [];\n        if (!parent.disabled && parent.isImageLoaded) {\n            if (parent.textArea.style.display !== 'none') {\n                parent.okBtn(null, true);\n            }\n            else {\n                this.applyActObj(true);\n            }\n            for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                var redactDetails = this.getRedactObjDetails(parent.objColl[i]);\n                RedactDetailsColl.push(redactDetails);\n            }\n        }\n        obj['shapeDetailsColl'] = RedactDetailsColl;\n    };\n    Shape.prototype.isPointsInRange = function (x, y, obj) {\n        var inRange = false;\n        var parent = this.parent;\n        if (!isNullOrUndefined(x) && !isNullOrUndefined(y) && x >= parent.img.destLeft && y >= parent.img.destTop &&\n            x <= parent.img.destLeft + parent.img.destWidth && y <= parent.img.destTop + parent.img.destHeight) {\n            inRange = true;\n        }\n        obj['inRange'] = inRange;\n    };\n    Shape.prototype.alignRotateFlipColl = function (collection, isRotateFlipCollection, obj) {\n        collection = this.popForDefaultTransformedState(collection);\n        collection = this.popForDefaultFlipState(collection);\n        collection = this.popForDefaultRotateState(collection);\n        if (collection.length === 0 && isRotateFlipCollection) {\n            this.parent.transform.degree = 0;\n            this.parent.transform.currFlipState = '';\n        }\n        obj['collection'] = collection;\n        return collection;\n    };\n    Shape.prototype.popForDefaultTransformedState = function (collection) {\n        var rotateRight = 0;\n        var rotateleft = 0;\n        var horizontal = 0;\n        var vertical = 0;\n        for (var i = 0; i < collection.length; i++) {\n            if (collection[i] === 90 || collection[i] === 'rotateRight') {\n                rotateRight++;\n                rotateleft = 0;\n                horizontal = 0;\n                vertical = 0;\n                if (rotateRight === 4) {\n                    collection.pop();\n                    collection.pop();\n                    collection.pop();\n                    collection.pop();\n                }\n            }\n            else if (collection[i] === -90 || collection[i] === 'rotateLeft') {\n                rotateleft++;\n                rotateRight = 0;\n                horizontal = 0;\n                vertical = 0;\n                if (rotateleft === 4) {\n                    collection.pop();\n                    collection.pop();\n                    collection.pop();\n                    collection.pop();\n                }\n            }\n            else if (collection[i] === 'horizontal' || collection[i] === 'Horizontal'\n                || collection[i] === 'horizontalflip') {\n                horizontal++;\n                rotateleft = 0;\n                rotateRight = 0;\n                vertical = 0;\n                if (horizontal === 2) {\n                    collection.pop();\n                    collection.pop();\n                }\n            }\n            else if (collection[i] === 'vertical' || collection[i] === 'Vertical'\n                || collection[i] === 'verticalflip') {\n                vertical++;\n                horizontal = 0;\n                rotateleft = 0;\n                rotateRight = 0;\n                if (vertical === 2) {\n                    collection.pop();\n                    collection.pop();\n                }\n            }\n        }\n        return collection;\n    };\n    Shape.prototype.popForDefaultFlipState = function (collection) {\n        for (var i = 0, iLen = collection.length - 3; i < iLen; i++) {\n            var isHorizontal = collection[i] === 'horizontal' || collection[i] === 'Horizontal'\n                || collection[i] === 'horizontalFlip';\n            var isVertical = collection[i] === 'vertical' || collection[i] === 'Vertical' ||\n                collection[i] === 'verticalFlip';\n            var isNextHorizontal = collection[i + 1] === 'horizontal' || collection[i + 1] === 'Horizontal' ||\n                collection[i + 1] === 'horizontalFlip';\n            var isNextVertical = collection[i + 1] === 'vertical' || collection[i + 1] === 'Vertical' ||\n                collection[i + 1] === 'verticalFlip';\n            var isNextToNextHorizontal = collection[i + 2] === 'horizontal' || collection[i + 2] === 'Horizontal' ||\n                collection[i + 2] === 'horizontalFlip';\n            var isNextToNextVertical = collection[i + 2] === 'vertical' || collection[i + 2] === 'Vertical' ||\n                collection[i + 2] === 'verticalFlip';\n            var isNextToNextToNextHorizontal = collection[i + 3] === 'horizontal' || collection[i + 3] === 'Horizontal' ||\n                collection[i + 3] === 'horizontalFlip';\n            if ((isHorizontal && isNextVertical && isNextToNextHorizontal && isNextToNextVertical) ||\n                (isVertical && isNextHorizontal && isNextToNextVertical && isNextToNextToNextHorizontal)) {\n                collection.splice(i, 4);\n                i -= 4;\n            }\n        }\n        return collection;\n    };\n    Shape.prototype.popForDefaultRotateState = function (collection) {\n        for (var i = 0; i < collection.length - 1; i++) {\n            var curr = collection[i];\n            var next = collection[i + 1];\n            if ((curr === 90 || curr === 'rotateRight') && (next === -90 || next === 'rotateLeft')) {\n                collection.splice(i, 2);\n                i -= 2;\n            }\n            else if ((curr === -90 || curr === 'rotateLeft') && (next === 90 || next === 'rotateRight')) {\n                collection.splice(i, 2);\n                i -= 2;\n            }\n        }\n        return collection;\n    };\n    Shape.prototype.selectShape = function (id, obj) {\n        var parent = this.parent;\n        var isSelected = false;\n        if (!parent.disabled && parent.isImageLoaded) {\n            this.applyActObj();\n            if (id.split('_')[0] === 'shape') {\n                var obj_5;\n                for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                    if (parent.objColl[i].currIndex === id) {\n                        obj_5 = extend({}, parent.objColl[i], {}, true);\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(obj_5)) {\n                    isSelected = false;\n                }\n                else {\n                    isSelected = true;\n                    parent.activeObj = obj_5;\n                    var object = { canvasFilter: null };\n                    parent.notify('toolbar', { prop: 'getCanvasFilter', onPropertyChange: false, value: { obj: object } });\n                    this.lowerContext.filter = object['canvasFilter'];\n                    parent.notify('selection', { prop: 'redrawShape', onPropertyChange: false,\n                        value: { obj: parent.activeObj } });\n                    if (parent.activeObj.shape === 'text') {\n                        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'text',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    else if (parent.activeObj.shape === 'pen') {\n                        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'pen',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    else if (parent.activeObj.shape === 'redact') {\n                        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'redact',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    else {\n                        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'shapes',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    parent.notify('toolbar', { prop: 'update-toolbar-items', onPropertyChange: false });\n                    parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n                }\n            }\n            else if (id.split('_')[0] === 'pen') {\n                var object = { bool: false };\n                parent.notify('selection', { prop: 'getFreehandDrawEditing', onPropertyChange: false, value: { obj: object } });\n                if (object['bool']) {\n                    parent.okBtn(null, true);\n                }\n                var obj_6 = { isIndex: false };\n                parent.notify('freehand-draw', { prop: 'isFHDIdx', value: { index: parseInt(id.split('_')[1], 10) - 1, obj: obj_6 } });\n                if (obj_6['isIndex']) {\n                    isSelected = true;\n                    parent.notify('freehand-draw', { prop: 'selectFhd', value: { id: id } });\n                    parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: true } });\n                    parent.notify('toolbar', { prop: 'update-toolbar-items', onPropertyChange: false });\n                }\n                else {\n                    isSelected = false;\n                }\n            }\n        }\n        obj['isSelected'] = isSelected;\n    };\n    Shape.prototype.deleteShape = function (id) {\n        var parent = this.parent;\n        if (!parent.disabled && parent.isImageLoaded) {\n            if (parent.activeObj.currIndex && parent.activeObj.currIndex === id) {\n                parent.notify('selection', { prop: 'deleteItem', onPropertyChange: false });\n            }\n            else {\n                this.applyActObj();\n                if (id.split('_')[0] === 'shape') {\n                    for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                        if (parent.objColl[i].currIndex === id) {\n                            parent.objColl.splice(i, 1);\n                            break;\n                        }\n                    }\n                }\n                else if (id.split('_')[0] === 'pen') {\n                    parent.notify('freehand-draw', { prop: 'handle-freehand-draw', value: { id: id } });\n                }\n            }\n            var object = { canvasFilter: null };\n            parent.notify('toolbar', { prop: 'getCanvasFilter', onPropertyChange: false, value: { obj: object } });\n            this.lowerContext.filter = object['canvasFilter'];\n            this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n            parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n            parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n        }\n    };\n    Shape.prototype.getMaxText = function (isTextBox, text, obj) {\n        if (isNullOrUndefined(text)) {\n            text = isTextBox ? this.parent.textArea.value : this.parent.activeObj.keyHistory;\n            if (!text) {\n                return text;\n            }\n        }\n        var maxi;\n        var rows = text.split('\\n');\n        var maxStr = rows[0].length;\n        var maxText = rows[0];\n        for (var i = 1; i < rows.length; i++) {\n            maxi = rows[i].length;\n            if (maxi > maxStr) {\n                maxText = rows[i];\n                maxStr = maxi;\n            }\n        }\n        if (obj) {\n            obj['maxText'] = maxText;\n        }\n        return maxText;\n    };\n    Shape.prototype.getLinePoints = function (x1, y1, x2, y2) {\n        var points = [];\n        var i;\n        var j;\n        if (x1 === x2) {\n            if (y1 < y2) {\n                i = [x1, y1];\n                j = [x2, y2];\n            }\n            else {\n                j = [x1, y1];\n                i = [x2, y2];\n            }\n            var m = this.getSlope(i, j, true);\n            var b = this.getIntercept(i, m);\n            for (var y = i[1]; y <= j[1]; y++) {\n                var x = m * y + b;\n                points.push({ x: x, y: y });\n            }\n        }\n        else {\n            if (x1 < x2) {\n                i = [x1, y1];\n                j = [x2, y2];\n            }\n            else {\n                j = [x1, y1];\n                i = [x2, y2];\n            }\n            var m = this.getSlope(i, j, false);\n            var b = this.getIntercept(i, m);\n            for (var x = i[0]; x <= j[0]; x++) {\n                var y = m * x + b;\n                points.push({ x: x, y: y });\n            }\n        }\n        if (Math.floor(x1) === Math.floor(x2) || (points.length < 10 && (y2 - y1 > 10 || y1 - y2 > 10))) {\n            points = [];\n            var lesserY = Math.min(y1, y2);\n            for (var i_1 = 0; i_1 < Math.abs(Math.floor(y2) - Math.floor(y1)); i_1++) {\n                points.push({ x: x1, y: lesserY + i_1 });\n            }\n            if (points.length > 1) {\n                var prev = void 0;\n                if (isNullOrUndefined(points[points.length - 2])) {\n                    prev = { x: 0, y: 0 };\n                }\n                else {\n                    prev = points[points.length - 2];\n                }\n                var diffX = points[points.length - 1]['x'] - prev.x;\n                var diffY = points[points.length - 1]['y'] - prev.y;\n                points.push({ x: points[points.length - 1]['x'] + (diffX / 2), y: points[points.length - 1]['y'] + (diffY / 2) });\n            }\n        }\n        else if (Math.floor(y1) === Math.floor(y2) || (points.length < 10 && (x2 - x1 > 10 || x1 - x2 > 10))) {\n            points = [];\n            var lesserX = Math.min(x1, x2);\n            for (var i_2 = 0; i_2 < Math.abs(Math.floor(x2) - Math.floor(x1)); i_2++) {\n                points.push({ x: lesserX + i_2, y: y1 });\n            }\n            if (points.length > 1) {\n                var prev = void 0;\n                if (isNullOrUndefined(points[points.length - 2])) {\n                    prev = { x: 0, y: 0 };\n                }\n                else {\n                    prev = points[points.length - 2];\n                }\n                var diffX = points[points.length - 1]['x'] - prev.x;\n                var diffY = points[points.length - 1]['y'] - prev.y;\n                points.push({ x: points[points.length - 1]['x'] + (diffX / 2), y: points[points.length - 1]['y'] + (diffY / 2) });\n            }\n        }\n        return points;\n    };\n    Shape.prototype.getSlope = function (a, b, isSameAxis) {\n        var slope;\n        if (isSameAxis) {\n            if (a[1] === b[1]) {\n                return null;\n            }\n            slope = (b[0] - a[0]) / (b[1] - a[1]);\n        }\n        else {\n            if (a[0] === b[0]) {\n                return null;\n            }\n            slope = (b[1] - a[1]) / (b[0] - a[0]);\n        }\n        return slope;\n    };\n    Shape.prototype.getIntercept = function (point, getSlope) {\n        if (getSlope === null) {\n            return point[0];\n        }\n        return point[1] - getSlope * point[0];\n    };\n    Shape.prototype.setPointCollForShapeRotation = function (obj) {\n        var parent = this.parent;\n        var _a = obj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY, width = _a.width, height = _a.height;\n        var center = { x: startX + (width / 2), y: startY +\n                (height / 2) };\n        var cosAngle = Math.cos(obj.rotatedAngle);\n        var sinAngle = Math.sin(obj.rotatedAngle);\n        var p1 = { x: cosAngle * (startX - center.x) - sinAngle * (startY - center.y) + center.x,\n            y: sinAngle * (startX - center.x) + cosAngle * (startY - center.y) + center.y };\n        var p2 = { x: cosAngle * (endX - center.x) - sinAngle * (startY - center.y) + center.x,\n            y: sinAngle * (endX - center.x) + cosAngle * (startY - center.y) + center.y };\n        var p3 = { x: cosAngle * (startX - center.x) - sinAngle * (endY - center.y) + center.x,\n            y: sinAngle * (startX - center.x) + cosAngle * (endY - center.y) + center.y };\n        var p4 = { x: cosAngle * (endX - center.x) - sinAngle * (endY - center.y) + center.x,\n            y: sinAngle * (endX - center.x) + cosAngle * (endY - center.y) + center.y };\n        obj.horTopLinePointColl = this.getLinePoints(p1.x, p1.y, p2.x, p2.y);\n        obj.horTopLinePointColl = this.getLinePoints(p1.x, p1.y, p2.x, p2.y);\n        obj.horBottomLinePointColl = this.getLinePoints(p3.x, p3.y, p4.x, p4.y);\n        obj.verLeftLinePointColl = this.getLinePoints(p1.x, p1.y, p3.x, p3.y);\n        obj.verRightLinePointColl = this.getLinePoints(p2.x, p2.y, p4.x, p4.y);\n        obj.verLeftLinePointColl.reverse();\n        obj.verRightLinePointColl.reverse();\n        for (var i = 0; i < obj.horTopLinePointColl.length; i++) {\n            obj.horTopLinePointColl[i].ratioX = (obj.horTopLinePointColl[i].x -\n                this.parent.img.destLeft) / this.parent.img.destWidth;\n            obj.horTopLinePointColl[i].ratioY = (obj.horTopLinePointColl[i].y -\n                this.parent.img.destTop) / this.parent.img.destHeight;\n        }\n        for (var i = 0; i < obj.horBottomLinePointColl.length; i++) {\n            obj.horBottomLinePointColl[i].ratioX = (obj.horBottomLinePointColl[i].x -\n                this.parent.img.destLeft) / this.parent.img.destWidth;\n            obj.horBottomLinePointColl[i].ratioY = (obj.horBottomLinePointColl[i].y -\n                this.parent.img.destTop) / this.parent.img.destHeight;\n        }\n        for (var i = 0; i < obj.verLeftLinePointColl.length; i++) {\n            obj.verLeftLinePointColl[i].ratioX = (obj.verLeftLinePointColl[i].x -\n                this.parent.img.destLeft) / this.parent.img.destWidth;\n            obj.verLeftLinePointColl[i].ratioY = (obj.verLeftLinePointColl[i].y -\n                this.parent.img.destTop) / this.parent.img.destHeight;\n        }\n        for (var i = 0; i < obj.verRightLinePointColl.length; i++) {\n            obj.verRightLinePointColl[i].ratioX = (obj.verRightLinePointColl[i].x -\n                this.parent.img.destLeft) / this.parent.img.destWidth;\n            obj.verRightLinePointColl[i].ratioY = (obj.verRightLinePointColl[i].y -\n                this.parent.img.destTop) / this.parent.img.destHeight;\n        }\n        if (parent.upperCanvas.style.cursor !== 'move') {\n            var object = { rotationCirclePoint: null };\n            parent.notify('selection', { prop: 'getTransRotationPoint', value: { obj: obj, object: object } });\n            var rotationCirclePoint = object['rotationCirclePoint'];\n            if (rotationCirclePoint) {\n                obj.rotationCirclePointColl = { x: cosAngle * (rotationCirclePoint.x - center.x) -\n                        sinAngle * (rotationCirclePoint.y - center.y) + center.x,\n                    y: sinAngle * (rotationCirclePoint.x - center.x) + cosAngle\n                        * (rotationCirclePoint.y - center.y) + center.y };\n                obj.rotationCirclePointColl.ratioX = (obj.rotationCirclePointColl.x - parent.img.destLeft) /\n                    parent.img.destWidth;\n                obj.rotationCirclePointColl.ratioY = (obj.rotationCirclePointColl.y - parent.img.destTop) /\n                    parent.img.destHeight;\n            }\n        }\n    };\n    Shape.prototype.getSquarePointForRotatedShape = function (obj, object) {\n        var point = { startX: 0, startY: 0, endX: 0, endY: 0, width: 0, height: 0 };\n        var _a = obj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY, width = _a.width, height = _a.height;\n        var center = { x: startX + (width / 2), y: startY + (height / 2) };\n        var cosAngle = Math.cos(obj.rotatedAngle);\n        var sinAngle = Math.sin(obj.rotatedAngle);\n        var p1 = { x: cosAngle * (startX - center.x) - sinAngle * (startY - center.y) + center.x,\n            y: sinAngle * (startX - center.x) + cosAngle * (startY - center.y) + center.y };\n        var p2 = { x: cosAngle * (endX - center.x) - sinAngle * (startY - center.y) + center.x,\n            y: sinAngle * (endX - center.x) + cosAngle * (startY - center.y) + center.y };\n        var p3 = { x: cosAngle * (startX - center.x) - sinAngle * (endY - center.y) + center.x,\n            y: sinAngle * (startX - center.x) + cosAngle * (endY - center.y) + center.y };\n        var p4 = { x: cosAngle * (endX - center.x) - sinAngle * (endY - center.y) + center.x,\n            y: sinAngle * (endX - center.x) + cosAngle * (endY - center.y) + center.y };\n        point.startX = p1.x;\n        point.startY = p1.y;\n        point.endX = p1.x;\n        point.endY = p1.y;\n        if (point.startX > p2.x) {\n            point.startX = p2.x;\n        }\n        if (point.startX > p3.x) {\n            point.startX = p3.x;\n        }\n        if (point.startX > p4.x) {\n            point.startX = p4.x;\n        }\n        if (point.startY > p2.y) {\n            point.startY = p2.y;\n        }\n        if (point.startY > p3.y) {\n            point.startY = p3.y;\n        }\n        if (point.startY > p4.y) {\n            point.startY = p4.y;\n        }\n        if (point.endX < p2.x) {\n            point.endX = p2.x;\n        }\n        if (point.endX < p3.x) {\n            point.endX = p3.x;\n        }\n        if (point.endX < p4.x) {\n            point.endX = p4.x;\n        }\n        if (point.endY < p2.y) {\n            point.endY = p2.y;\n        }\n        if (point.endY < p3.y) {\n            point.endY = p3.y;\n        }\n        if (point.endY < p4.y) {\n            point.endY = p4.y;\n        }\n        point.width = point.endX - point.startX;\n        point.height = point.endY - point.startY;\n        if (object) {\n            object['activePoint'] = point;\n        }\n        return point;\n    };\n    Shape.prototype.updateZOrder = function (obj, value) {\n        var parent = this.parent;\n        value = value.toLowerCase();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var object = obj;\n        if (isNullOrUndefined(object.order)) {\n            return;\n        }\n        var index;\n        var prevIndex;\n        var highestOrder = this.getHighestOrder();\n        this.updateShapeColl();\n        if (parent.shapeColl.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var coll;\n        for (var i = 0; i < parent.shapeColl.length; i++) {\n            coll = parent.shapeColl[i];\n            if (object.id && object.id.indexOf('pen') > -1) {\n                if (coll.id && coll.id === object.id) {\n                    parent.shapeColl.splice(i, 1);\n                }\n            }\n            else if (coll.shape && coll.shape.indexOf('crop-') > -1) {\n                parent.shapeColl.splice(i, 1);\n            }\n        }\n        switch (value) {\n            case 'sendtoback':\n                prevIndex = object.order;\n                index = object.order;\n                object.order = 1;\n                break;\n            case 'sendbackward':\n                object.order -= 1;\n                index = object.order;\n                break;\n            case 'bringtofront':\n                prevIndex = object.order;\n                index = highestOrder;\n                object.order = index;\n                break;\n            case 'bringforward':\n                object.order += 1;\n                index = object.order;\n                break;\n        }\n        this.reArrangeObjColl(index, value, prevIndex);\n        if (object.id && object.id.indexOf('pen') > -1) {\n            this.reUpdateShapeColl(object);\n        }\n    };\n    Shape.prototype.reArrangeObjColl = function (index, value, prevIndex) {\n        var parent = this.parent;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var obj;\n        switch (value) {\n            case 'sendtoback':\n                for (var i = 0, len = parent.shapeColl.length; i < len; i++) {\n                    obj = parent.shapeColl[i];\n                    if (obj.order < prevIndex && obj.order <= index) {\n                        obj.order += 1;\n                        this.reUpdateShapeColl(obj);\n                    }\n                }\n                break;\n            case 'sendbackward':\n                for (var i = 0, len = parent.shapeColl.length; i < len; i++) {\n                    obj = parent.shapeColl[i];\n                    if (obj.order === index) {\n                        obj.order += 1;\n                        this.reUpdateShapeColl(obj);\n                        break;\n                    }\n                }\n                break;\n            case 'bringtofront':\n                for (var i = 0, len = parent.shapeColl.length; i < len; i++) {\n                    obj = parent.shapeColl[i];\n                    if (obj.order > prevIndex && obj.order <= index) {\n                        obj.order -= 1;\n                        this.reUpdateShapeColl(obj);\n                    }\n                }\n                break;\n            case 'bringforward':\n                for (var i = 0, len = parent.shapeColl.length; i < len; i++) {\n                    obj = parent.shapeColl[i];\n                    if (obj.order === index) {\n                        obj.order -= 1;\n                        this.reUpdateShapeColl(obj);\n                        break;\n                    }\n                }\n                break;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Shape.prototype.reorderRedact = function (tempObjColl) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var nonRedact = tempObjColl.filter(function (item) { return item.shape !== 'redact'; });\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var redact = tempObjColl.filter(function (item) { return item.shape === 'redact'; });\n        return redact.concat(nonRedact);\n    };\n    Shape.prototype.updateShapeColl = function () {\n        var parent = this.parent;\n        var isOrdered = false;\n        var tempOrder = 1;\n        var tempObjColl = extend([], parent.objColl, [], true);\n        tempObjColl = this.reorderRedact(tempObjColl);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempPointColl = extend([], parent.pointColl, [], true);\n        if (parent.shapeColl.length > 0 &&\n            parent.shapeColl.length === parent.objColl.length + parent.pointColl.length) {\n            for (var i = 0; i < parent.shapeColl.length; i++) {\n                if (parent.shapeColl[i].order === tempOrder) {\n                    isOrdered = true;\n                    tempOrder++;\n                }\n                else {\n                    isOrdered = false;\n                    break;\n                }\n            }\n            if (isOrdered) {\n                for (var i = 0; i < parent.shapeColl.length; i++) {\n                    if (parent.shapeColl[i].currIndex &&\n                        parent.shapeColl[i].currIndex.indexOf('shape') > -1) {\n                        for (var j = 0; j < tempObjColl.length; j++) {\n                            if (parent.shapeColl[i].currIndex === tempObjColl[j].currIndex) {\n                                parent.shapeColl[i] = extend({}, tempObjColl[j], {}, true);\n                                tempObjColl.splice(j, 1);\n                                break;\n                            }\n                        }\n                    }\n                    else if (parent.shapeColl[i].id && parent.shapeColl[i].id.indexOf('pen') > -1) {\n                        for (var j = 0; j < tempPointColl.length; j++) {\n                            if (parent.shapeColl[i].id === tempPointColl[j].id) {\n                                parent.shapeColl[i] = extend([], tempPointColl[j], [], true);\n                                tempPointColl.splice(j, 1);\n                                break;\n                            }\n                        }\n                    }\n                }\n                return;\n            }\n        }\n        tempObjColl = extend([], parent.objColl, [], true);\n        tempPointColl = extend([], parent.pointColl, [], true);\n        parent.shapeColl = [];\n        var order = 1;\n        var isBreak;\n        var isCrop = false;\n        while (tempObjColl.length !== 0 || tempPointColl.length !== 0) {\n            isBreak = isCrop = false;\n            for (var i = 0; i < tempObjColl.length; i++) {\n                if (tempObjColl[i].order === order ||\n                    (!tempObjColl[i].order && tempObjColl[i].shape &&\n                        tempObjColl[i].shape.indexOf('crop-') > -1)) {\n                    parent.shapeColl.push(extend({}, tempObjColl[i], {}, true));\n                    if (tempObjColl[i].shape && tempObjColl[i].shape.indexOf('crop-') > -1) {\n                        isCrop = true;\n                    }\n                    tempObjColl.splice(i, 1);\n                    isBreak = true;\n                    break;\n                }\n            }\n            if (!isBreak) {\n                for (var i = 0; i < tempPointColl.length; i++) {\n                    if (tempPointColl[i].order === order) {\n                        parent.shapeColl.push(extend([], tempPointColl[i], [], true));\n                        tempPointColl.splice(i, 1);\n                        isBreak = true;\n                        break;\n                    }\n                }\n            }\n            if (!isCrop) {\n                order++;\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Shape.prototype.reUpdateShapeColl = function (obj) {\n        var parent = this.parent;\n        if (obj.id && obj.id.indexOf('pen') > -1) {\n            if (parent.freehandCounter > 0) {\n                for (var i = 0; i < parent.freehandCounter; i++) {\n                    if (parent.pointColl[i].id === obj.id) {\n                        parent.pointColl[i].order = obj.order;\n                    }\n                }\n            }\n        }\n        else if (obj.currIndex && obj.currIndex.indexOf('shape') > -1) {\n            for (var i = 0; i < parent.objColl.length; i++) {\n                if (parent.objColl[i].currIndex === obj.currIndex) {\n                    parent.objColl[i].order = obj.order;\n                }\n            }\n        }\n    };\n    Shape.prototype.drawAnnotations = function (ctx, shape, pen, isPreventApply, x, y, panRegion) {\n        var parent = this.parent;\n        var activeObj = extend({}, parent.activeObj, {}, true);\n        var tempObjColl = extend([], parent.objColl, [], true);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempPointColl = extend([], parent.pointColl, [], true);\n        var tempSelPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: tempSelPointCollObj } });\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        this.updateShapeColl();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempShapeColl = extend([], parent.shapeColl, [], true);\n        tempShapeColl = this.reorderRedact(tempShapeColl);\n        var isPrevented = false;\n        if (!this.preventFrameAnnotation) {\n            this.preventFrameAnnotation = isPrevented = true;\n        }\n        for (var i = 0; i < tempShapeColl.length; i++) {\n            var isPenId = tempShapeColl[i].id;\n            if ((tempShapeColl[i].order) ||\n                (!tempShapeColl[i].order && tempShapeColl[i].shape && tempShapeColl[i].shape.indexOf('crop-') > -1) ||\n                (!tempShapeColl[i].order && tempShapeColl[i].shape === 'path' && parent.drawingShape === 'path')) {\n                if (tempShapeColl[i].currIndex && tempShapeColl[i].currIndex.indexOf('shape') > -1) {\n                    parent.objColl = [];\n                    parent.objColl.push(extend({}, tempShapeColl[i], {}, true));\n                    if (shape === 'iterate') {\n                        var temp = this.lowerContext.filter;\n                        this.lowerContext.filter = 'none';\n                        this.iterateObjColl();\n                        this.lowerContext.filter = temp;\n                    }\n                    else if (shape === 'zoom' || shape === 'pan') {\n                        var tempObjCollIndex = -1;\n                        for (var i_3 = 0; i_3 < tempObjColl.length; i_3++) {\n                            if (JSON.stringify(tempObjColl[i_3]) === JSON.stringify(parent.objColl[0])) {\n                                tempObjCollIndex = i_3;\n                                break;\n                            }\n                        }\n                        if (shape === 'zoom') {\n                            this.zoomObjColl(isPreventApply);\n                        }\n                        else {\n                            this.panObjColl(x, y, panRegion);\n                        }\n                        if (tempObjCollIndex > -1) {\n                            tempObjColl[tempObjCollIndex] = extend({}, parent.objColl[0], {}, true);\n                        }\n                    }\n                }\n                else if (tempShapeColl[i].id && tempShapeColl[i].id.indexOf('pen') > -1) {\n                    parent.pointColl = [];\n                    parent.freehandCounter = 0;\n                    parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false, value: { obj: { selPointColl: [] } } });\n                    parent.pointColl.push(extend({}, tempShapeColl[i], {}, true));\n                    parent.notify('freehand-draw', { prop: 'pushSelPointColl', onPropertyChange: false,\n                        value: { obj: { selPointColl: selPointCollObj['selPointColl'][i] } } });\n                    parent.freehandCounter = parent.pointColl.length;\n                    if (pen === 'iterate') {\n                        parent.notify('freehand-draw', { prop: 'freehandRedraw', onPropertyChange: false,\n                            value: { context: ctx, points: null } });\n                    }\n                    else if (pen === 'zoom' || pen === 'pan') {\n                        if (pen === 'zoom') {\n                            parent.notify('freehand-draw', { prop: 'zoomFHDColl', onPropertyChange: false,\n                                value: { isPreventApply: isPreventApply } });\n                        }\n                        else {\n                            parent.notify('freehand-draw', { prop: 'panFHDColl', onPropertyChange: false,\n                                value: { xDiff: x, yDiff: y, panRegion: panRegion } });\n                        }\n                        for (var i_4 = 0; i_4 < tempPointColl.length; i_4++) {\n                            if (tempPointColl[i_4].id === parent.pointColl[0].id) {\n                                tempPointColl[i_4] = extend({}, parent.pointColl[0], {}, true);\n                                break;\n                            }\n                        }\n                        for (var i_5 = 0, len = tempSelPointCollObj['selPointColl'].length; i_5 < len; i_5++) {\n                            if (tempSelPointCollObj['selPointColl'][i_5].id === selPointCollObj['selPointColl'][i_5].id) {\n                                tempSelPointCollObj['selPointColl'][i_5] = extend({}, selPointCollObj['selPointColl'][i_5], {}, true);\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            else if ((!tempShapeColl[i].shape && !isPenId) ||\n                (!tempShapeColl[i].currIndex && !isPenId)) {\n                tempShapeColl.splice(i, 1);\n            }\n        }\n        if (pen && pen === 'zoom') {\n            parent.pointColl = [];\n            parent.freehandCounter = 0;\n            parent.notify('freehand-draw', { prop: 'zoomFHDColl', onPropertyChange: false, value: { isPreventApply: isPreventApply } });\n        }\n        parent.objColl = tempObjColl;\n        parent.pointColl = tempPointColl;\n        parent.freehandCounter = parent.pointColl.length;\n        parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false, value: { obj: { selPointColl: tempSelPointCollObj['selPointColl'] } } });\n        if (isPrevented && this.preventFrameAnnotation) {\n            parent.notify('draw', { prop: 'applyFrame', value: { ctx: this.lowerContext, frame: parent.frameObj.type, preventImg: true } });\n            this.preventFrameAnnotation = false;\n        }\n        parent.activeObj = activeObj;\n    };\n    return Shape;\n}());\nexport { Shape };\n","/* eslint-disable prefer-const */\nimport { Browser, extend, getComponent, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Direction } from '../index';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nvar Transform = /** @class */ (function () {\n    function Transform(parent) {\n        this.isReverseFlip = false; // True when rotate method is called from iteration\n        this.disablePan = false; // auto enable / disable pan while zooming\n        this.isReverseRotate = false; // True when rotate method is called from iteration\n        this.flipColl = []; // To store flip order\n        this.prevZoomValue = 1;\n        this.cropDimension = { width: 0, height: 0 };\n        this.isPreventSelect = false;\n        this.preventDownScale = false;\n        this.resizedImgAngle = null;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Transform.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n    };\n    Transform.prototype.addEventListener = function () {\n        this.parent.on('transform', this.transform, this);\n        this.parent.on('destroyed', this.destroy, this);\n    };\n    Transform.prototype.removeEventListener = function () {\n        this.parent.off('transform', this.transform);\n        this.parent.off('destroyed', this.destroy);\n    };\n    Transform.prototype.transform = function (args) {\n        this.initTransformPvtVar();\n        switch (args.prop) {\n            case 'flipImage':\n                this.flipImage(args.value['direction']);\n                break;\n            case 'setDestPointsForFlipState':\n                this.setDestPointsForFlipState();\n                break;\n            case 'zoomAction':\n                this.zoomAction(args.value['zoomFactor'], args.value['zoomPoint'], args.value['isResize']);\n                break;\n            case 'disableZoomOutBtn':\n                this.disableZoomOutBtn(args.value['isZoomOut']);\n                break;\n            case 'rotatedFlip':\n                this.rotatedFlip();\n                break;\n            case 'drawPannedImage':\n                this.drawPannedImage(args.value['xDiff'], args.value['yDiff']);\n                break;\n            case 'drawPannImage':\n                this.drawPannImage(args.value['point']);\n                break;\n            case 'performTransformation':\n                this.performTransformation(args.value['text']);\n                break;\n            case 'updateTransform':\n                this.updateTransform(args.value['text']);\n                break;\n            case 'rotatePan':\n                this.rotatePan(args.value['isCropSelection'], args.value['isDefaultZoom']);\n                break;\n            case 'resetZoom':\n                this.resetZoom();\n                break;\n            case 'pan':\n                this.pan(args.value['value'], args.value['x'], args.value['y']);\n                break;\n            case 'zoom':\n                this.zoom(args.value['zoomFactor'], args.value['zoomPoint']);\n                break;\n            case 'setCurrPanRegion':\n                this.setCurrPanRegion(args.value['region'], args.value['type'], args.value['obj']);\n                break;\n            case 'rotate':\n                this.rotate(args.value['degree'], args.value['obj']);\n                break;\n            case 'flip':\n                this.flip(args.value['direction']);\n                break;\n            case 'update':\n                this.update();\n                break;\n            case 'calcMaxDimension':\n                this.calcMaxDimension(args.value['width'], args.value['height'], args.value['obj'], args.value['isImgShape']);\n                break;\n            case 'getPanMove':\n                args.value['obj']['panMove'] = this.panMove;\n                break;\n            case 'setPanMove':\n                this.panMove = args.value['point'];\n                break;\n            case 'getTempPanMove':\n                args.value['obj']['tempPanMove'] = this.tempPanMove;\n                break;\n            case 'setTempPanMove':\n                this.tempPanMove = args.value['point'];\n                break;\n            case 'setReverseFlip':\n                this.isReverseFlip = args.value['isReverseFlip'];\n                break;\n            case 'setDisablePan':\n                this.disablePan = args.value['bool'];\n                break;\n            case 'setCurrDestinationPoint':\n                this.currDestPoint = args.value['point'];\n                this.currDestPoint.startX -= this.parent.cropObj.totalPannedPoint.x;\n                this.currDestPoint.startY -= this.parent.cropObj.totalPannedPoint.y;\n                break;\n            case 'setReverseRotate':\n                this.isReverseRotate = args.value['bool'];\n                break;\n            case 'getFlipColl':\n                args.value['obj']['flipColl'] = this.flipColl;\n                break;\n            case 'setFlipColl':\n                this.flipColl = args.value['flipColl'];\n                break;\n            case 'getPreviousZoomValue':\n                args.value['obj']['previousZoomValue'] = this.prevZoomValue;\n                break;\n            case 'setPreviousZoomValue':\n                this.prevZoomValue = args.value['previousZoomValue'];\n                break;\n            case 'getCropDimension':\n                args.value['obj']['cropDimension'] = this.cropDimension;\n                break;\n            case 'setCropDimension':\n                this.cropDimension.width = args.value['width'];\n                this.cropDimension.height = args.value['height'];\n                break;\n            case 'getPreventSelect':\n                args.value['obj']['bool'] = this.isPreventSelect;\n                break;\n            case 'setPreventSelect':\n                this.isPreventSelect = args.value['bool'];\n                break;\n            case 'resizeImage':\n                this.resizeImage(args.value['width'], args.value['height']);\n                break;\n            case 'resizeCrop':\n                this.resizeCrop(args.value['width'], args.value['height']);\n                break;\n            case 'updateResize':\n                this.updateResize();\n                break;\n            case 'resize':\n                this.resize(args.value['width'], args.value['height'], args.value['isAspectRatio']);\n                break;\n            case 'straightenImage':\n                this.straightenImage(args.value['degree']);\n                break;\n            case 'reset':\n                this.reset();\n                break;\n            case 'cropZoom':\n                args.value['obj']['maxDimension'] = this.cropZoom(args.value['value'], args.value['selectionObj']);\n                break;\n            case 'setResizedImgAngle':\n                this.resizedImgAngle = args.value['angle'];\n                break;\n        }\n    };\n    Transform.prototype.getModuleName = function () {\n        return 'transform';\n    };\n    Transform.prototype.initTransformPvtVar = function () {\n        if (this.parent.lowerCanvas) {\n            this.lowerContext = this.parent.lowerCanvas.getContext('2d');\n        }\n        if (this.parent.upperCanvas) {\n            this.upperContext = this.parent.upperCanvas.getContext('2d');\n        }\n    };\n    Transform.prototype.reset = function () {\n        this.zoomBtnHold = null;\n        this.tempPanMove = null;\n        this.panMove = null;\n        this.disablePan = false;\n        this.currDestPoint = null;\n        this.isReverseRotate = false;\n        this.flipColl = [];\n        this.resizedImgAngle = null;\n        this.transCurrObj = null;\n        this.prevZoomValue = 1;\n        this.isPreventSelect = this.preventDownScale = false;\n    };\n    Transform.prototype.rotateImage = function (degree) {\n        var parent = this.parent;\n        var transitionArgs = { cancel: false, previousDegree: parent.transform.degree,\n            currentDegree: Math.abs(parent.transform.degree + degree) === 360 ? 0 : parent.transform.degree + degree };\n        if (!this.isPreventSelect) {\n            parent.trigger('rotating', transitionArgs);\n            parent.editCompleteArgs = transitionArgs;\n        }\n        this.rotateEvent(transitionArgs, degree);\n    };\n    Transform.prototype.rotateEvent = function (transitionArgs, degree) {\n        var parent = this.parent;\n        if (!transitionArgs.cancel) {\n            var prevObj = void 0;\n            if (isNullOrUndefined(this.transCurrObj)) {\n                var object = { currObj: {} };\n                parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                prevObj = object['currObj'];\n                prevObj.objColl = extend([], parent.objColl, null, true);\n                prevObj.pointColl = extend({}, parent.pointColl, null, true);\n                prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n                var selPointCollObj = { selPointColl: null };\n                parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false, value: { obj: selPointCollObj } });\n                prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            }\n            parent.afterCropActions.push(degree === 90 ? 'rotateRight' : 'rotateLeft');\n            var splitWords = [];\n            var activeObjShape = void 0;\n            if (parent.activeObj.activePoint && parent.activeObj.shape) {\n                if (parent.activeObj.shape !== undefined) {\n                    splitWords = parent.activeObj.shape.split('-');\n                }\n                if (parent.currObjType.isCustomCrop || splitWords[0] === 'crop') {\n                    activeObjShape = parent.currObjType.isCustomCrop ? 'custom' : splitWords[1];\n                    parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n                    parent.objColl.push(parent.activeObj);\n                    parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                }\n            }\n            parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                value: { x: null, y: null, isMouseDown: true } });\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            this.drawRotatedImage(degree);\n            parent.notify('draw', { prop: 'setImageEdited', onPropertyChange: false });\n            parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n            parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.upperContext } });\n            if (parent.isCircleCrop) {\n                parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                    value: { context: this.lowerContext, isSave: null, isFlip: null } });\n            }\n            if (activeObjShape) {\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                parent.activeObj = extend({}, parent.objColl[parent.objColl.length - 1], {}, true);\n                parent.objColl.pop();\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj } });\n            }\n            parent.isUndoRedo = false;\n            var obj = { collection: parent.rotateFlipColl };\n            parent.notify('shape', { prop: 'alignRotateFlipColl', onPropertyChange: false,\n                value: { collection: parent.rotateFlipColl, isRotateFlipCollection: true, obj: obj } });\n            parent.rotateFlipColl = obj['collection'];\n            if (parent.cropObj.activeObj.shape && !this.isPreventSelect) {\n                parent.notify('draw', { prop: 'setIsCropSelect', value: { bool: true } });\n                this.isPreventSelect = true;\n                parent.notify('draw', { prop: 'select', onPropertyChange: false,\n                    value: { type: 'custom', startX: null, startY: null, width: null, height: null } });\n                this.isPreventSelect = false;\n                parent.setProperties({ zoomSettings: { zoomFactor: 1 } }, true);\n                this.prevZoomValue = parent.zoomSettings.zoomFactor;\n            }\n        }\n        else {\n            parent.notify('draw', { prop: 'setCurrentObj', onPropertyChange: false, value: { obj: parent.prevEventObjPoint } });\n            parent.activeObj = parent.prevEventSelectionPoint;\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj } });\n        }\n    };\n    Transform.prototype.drawRotatedImage = function (degree) {\n        var parent = this.parent;\n        if (degree === 0) {\n            parent.transform.degree = 0;\n        }\n        else {\n            parent.transform.degree += degree;\n        }\n        if (Math.abs(parent.transform.degree) === 360) {\n            parent.transform.degree = 0;\n        }\n        parent.notify('draw', { prop: 'setDestPoints', onPropertyChange: false });\n        var tempObjColl = extend([], parent.objColl, [], true);\n        var tempActiveObj = extend({}, parent.activeObj, {}, true);\n        parent.objColl = [];\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        if (!this.isReverseRotate) {\n            parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n                value: { type: 'initial', isPreventDestination: null, isRotatePan: null } });\n        }\n        this.rotateDegree(degree);\n        if (!this.isReverseRotate) {\n            parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n                value: { type: 'reverse', isPreventDestination: null, isRotatePan: null } });\n            parent.rotateFlipColl.push(degree);\n        }\n        parent.objColl = extend([], tempObjColl, [], true);\n        parent.activeObj = extend({}, tempActiveObj, {}, true);\n        if (parent.isCircleCrop) {\n            parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                value: { context: this.lowerContext, isSave: null, isFlip: null } });\n        }\n        parent.notify('shape', { prop: 'redrawObj', onPropertyChange: false, value: { degree: degree } });\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        if (degree > 0) {\n            parent.notify('freehand-draw', { prop: 'rotateFhdColl', onPropertyChange: false });\n        }\n        else {\n            for (var i = 0; i < 3; i++) {\n                parent.notify('freehand-draw', { prop: 'rotateFhdColl', onPropertyChange: false });\n            }\n        }\n        parent.notify('freehand-draw', { prop: 'freehandRedraw', onPropertyChange: false,\n            value: { context: this.lowerContext, points: null } });\n        this.updateCurrSelectionPoint(degree);\n    };\n    Transform.prototype.rotateDegree = function (degree) {\n        var parent = this.parent;\n        this.lowerContext.save();\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        this.lowerContext.translate(parent.lowerCanvas.width / 2, parent.lowerCanvas.height / 2);\n        this.lowerContext.rotate(Math.PI / 180 * degree);\n        this.lowerContext.translate(-parent.lowerCanvas.width / 2, -parent.lowerCanvas.height / 2);\n        var temp = this.lowerContext.filter;\n        parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n        this.lowerContext.filter = temp;\n        this.lowerContext.translate(parent.lowerCanvas.width / 2, parent.lowerCanvas.height / 2);\n        this.lowerContext.rotate(Math.PI / 180 * -degree);\n        this.lowerContext.translate(-parent.lowerCanvas.width / 2, -parent.lowerCanvas.height / 2);\n        this.lowerContext.restore();\n    };\n    Transform.prototype.updateCurrSelectionPoint = function (degree) {\n        var parent = this.parent;\n        if (parent.currSelectionPoint && this.currDestPoint) {\n            var activeObj = extend({}, parent.activeObj, {}, true);\n            var objColl = extend([], parent.objColl, [], true);\n            var srcPoints = { startX: parent.img.srcLeft, startY: parent.img.srcTop, width: parent.img.srcWidth,\n                height: parent.img.srcHeight };\n            var destPoints = { startX: parent.img.destLeft, startY: parent.img.destTop, width: parent.img.destWidth,\n                height: parent.img.destHeight };\n            parent.objColl = [];\n            parent.objColl.push(extend({}, parent.currSelectionPoint, {}, true));\n            parent.img = { srcLeft: 0, srcTop: 0, srcWidth: parent.baseImgCanvas.width, srcHeight: parent.baseImgCanvas.height,\n                destLeft: this.currDestPoint.startX, destTop: this.currDestPoint.startY, destWidth: this.currDestPoint.width,\n                destHeight: this.currDestPoint.height };\n            if (typeof (degree) === 'number') {\n                parent.notify('draw', { prop: 'setDestPoints', onPropertyChange: false });\n                parent.notify('draw', { prop: 'setClientTransDim', onPropertyChange: false,\n                    value: { isPreventDimension: null } });\n            }\n            parent.notify('shape', { prop: 'redrawObj', onPropertyChange: false, value: { degree: degree } });\n            parent.currSelectionPoint = extend({}, parent.objColl[0], {}, true);\n            this.currDestPoint = { startX: parent.img.destLeft, startY: parent.img.destTop, width: parent.img.destWidth,\n                height: parent.img.destHeight };\n            parent.objColl = objColl;\n            parent.activeObj = activeObj;\n            parent.img = { srcLeft: srcPoints.startX, srcTop: srcPoints.startY, srcWidth: srcPoints.width, srcHeight: srcPoints.height,\n                destLeft: destPoints.startX, destTop: destPoints.startY, destWidth: destPoints.width, destHeight: destPoints.height };\n        }\n    };\n    Transform.prototype.flipImage = function (direction) {\n        var parent = this.parent;\n        var transitionArgs = { direction: direction, cancel: false,\n            previousDirection: parent.toPascalCase(parent.transform.currFlipState || direction) };\n        if (!this.isPreventSelect) {\n            parent.trigger('flipping', transitionArgs);\n            parent.editCompleteArgs = transitionArgs;\n        }\n        this.flipEvent(transitionArgs, direction);\n    };\n    Transform.prototype.flipEvent = function (transitionArgs, direction) {\n        var parent = this.parent;\n        if (transitionArgs.cancel) {\n            parent.notify('draw', { prop: 'setCurrentObj', onPropertyChange: false, value: { obj: parent.prevEventObjPoint } });\n            parent.activeObj = parent.prevEventSelectionPoint;\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj } });\n            return;\n        }\n        var prevObj;\n        if (isNullOrUndefined(this.transCurrObj)) {\n            var object = { currObj: {} };\n            parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            prevObj = object['currObj'];\n            prevObj.objColl = extend([], parent.objColl, null, true);\n            prevObj.pointColl = extend({}, parent.pointColl, null, true);\n            prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n            var selPointCollObj = { selPointColl: null };\n            parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                value: { obj: selPointCollObj } });\n            prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        }\n        parent.afterCropActions.push(direction.toLowerCase() === 'horizontal' ? 'horizontalflip' : 'verticalflip');\n        var splitWords = [];\n        var activeObjShape;\n        if (parent.activeObj.activePoint) {\n            if (parent.activeObj.shape !== undefined) {\n                splitWords = parent.activeObj.shape.split('-');\n            }\n            if (parent.currObjType.isCustomCrop || splitWords[0] === 'crop') {\n                activeObjShape = parent.currObjType.isCustomCrop ? 'custom' : splitWords[1];\n                parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n                parent.objColl.push(parent.activeObj);\n                parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            }\n        }\n        parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n            value: { x: null, y: null, isMouseDown: true } });\n        parent.clearContext(this.lowerContext);\n        parent.clearContext(this.upperContext);\n        var tempObjColl = extend([], parent.objColl, [], true);\n        var tempActiveObj = extend({}, parent.activeObj, {}, true);\n        parent.objColl = [];\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        if (!this.isReverseFlip) {\n            parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n                value: { type: 'initial', isPreventDestination: null, isRotatePan: null } });\n        }\n        var lowercaseDirection = direction.toLowerCase();\n        this.updateFlipState(lowercaseDirection);\n        var flipState = parent.transform.currFlipState.toLowerCase();\n        parent.transform.currFlipState = (lowercaseDirection === 'horizontal' && flipState === 'horizontal') ||\n            (lowercaseDirection === 'vertical' && flipState === 'vertical') ? '' : lowercaseDirection;\n        var selObj = { isSelected: null };\n        parent.notify('draw', { prop: 'getRotatedFlipCropSelection', onPropertyChange: false, value: { bool: selObj } });\n        if (selObj['isSelected']) {\n            parent.img.destLeft += parent.panPoint.totalPannedInternalPoint.x;\n            parent.img.destTop += parent.panPoint.totalPannedInternalPoint.y;\n        }\n        var temp = this.lowerContext.filter;\n        parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n        this.lowerContext.filter = temp;\n        parent.notify('draw', { prop: 'setImageEdited', onPropertyChange: false });\n        this.updateFlipState(direction.toLowerCase());\n        if (!this.isReverseFlip) {\n            parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n                value: { type: 'reverse', isPreventDestination: null, isRotatePan: null } });\n            this.updateFlipColl(direction.toLocaleLowerCase());\n            parent.rotateFlipColl.push(direction.toLowerCase());\n        }\n        if (parent.rotateFlipColl.length === 1) {\n            var panObj = { panRegion: '' };\n            parent.notify('crop', { prop: 'getCurrFlipState', onPropertyChange: false,\n                value: { panObj: panObj } });\n            if (panObj['panRegion'] === '') {\n                parent.notify('draw', { prop: 'setClientTransDim', onPropertyChange: false,\n                    value: { isPreventDimension: null } });\n            }\n            else {\n                this.setDestPointsForFlipState();\n            }\n        }\n        if (parent.isCircleCrop) {\n            parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                value: { context: this.lowerContext, isSave: null, isFlip: null } });\n        }\n        parent.objColl = extend([], tempObjColl, [], true);\n        parent.activeObj = extend({}, tempActiveObj, {}, true);\n        for (var i = 0, len = parent.objColl.length; i < len; i++) {\n            var flipObjColl = parent.objColl[i].flipObjColl;\n            if (flipObjColl.length === 0) {\n                flipObjColl.push(direction);\n            }\n            else if (flipObjColl[flipObjColl.length - 1] === direction) {\n                flipObjColl.pop();\n            }\n            else {\n                flipObjColl.push(direction);\n            }\n        }\n        parent.notify('shape', { prop: 'redrawObj', onPropertyChange: false, value: { degree: direction.toLowerCase() } });\n        var tempFilter = this.lowerContext.filter;\n        this.lowerContext.filter = 'brightness(' + 1 + ') ' + 'contrast(' + 100 + '%) ' + 'hue-rotate(' + 0 + 'deg) ' +\n            'saturate(' + 100 + '%) ' + 'opacity(' + 1 + ') ' + 'blur(' + 0 + 'px) ' + 'sepia(0%) ' + 'grayscale(0%) ' + 'invert(0%)';\n        parent.notify('shape', { prop: 'iterateObjColl', onPropertyChange: false });\n        var dir = direction.toLowerCase();\n        if (dir === 'horizontal' || dir === 'vertical') {\n            parent.notify('freehand-draw', { prop: 'flipFHDColl', onPropertyChange: false,\n                value: { value: dir } });\n            parent.notify('freehand-draw', { prop: 'freehandRedraw', onPropertyChange: false,\n                value: { context: this.lowerContext, points: null } });\n        }\n        else {\n            parent.notify('freehand-draw', { prop: 'freehandRedraw', onPropertyChange: false,\n                value: { context: this.lowerContext, points: null } });\n        }\n        this.lowerContext.filter = tempFilter;\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        this.updateCurrSelectionPoint(dir);\n        parent.isUndoRedo = false;\n        parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n        parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.upperContext } });\n        if (parent.isCircleCrop) {\n            parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                value: { context: this.lowerContext, isSave: null, isFlip: null } });\n        }\n        if (activeObjShape) {\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            parent.activeObj = extend({}, parent.objColl[parent.objColl.length - 1], {}, true);\n            parent.objColl.pop();\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj } });\n        }\n        var obj = { collection: parent.rotateFlipColl };\n        parent.notify('shape', { prop: 'alignRotateFlipColl', onPropertyChange: false,\n            value: { collection: parent.rotateFlipColl, isRotateFlipCollection: true, obj: obj } });\n        parent.rotateFlipColl = obj['collection'];\n        if (parent.cropObj.activeObj.shape && !this.isPreventSelect) {\n            parent.notify('draw', { prop: 'setIsCropSelect', value: { bool: true } });\n            this.isPreventSelect = true;\n            parent.notify('draw', { prop: 'select', onPropertyChange: false,\n                value: { type: 'custom', startX: null, startY: null, width: null, height: null } });\n            this.isPreventSelect = false;\n            parent.setProperties({ zoomSettings: { zoomFactor: 1 } }, true);\n            this.prevZoomValue = parent.zoomSettings.zoomFactor;\n        }\n    };\n    Transform.prototype.updateFlipState = function (direction) {\n        var degree = this.parent.transform.degree;\n        if (direction === 'horizontal') {\n            if (degree % 90 === 0 && degree % 180 !== 0) {\n                this.verticalFlip();\n            }\n            else {\n                this.horizontalFlip();\n            }\n        }\n        else if (direction === 'vertical') {\n            if (degree % 90 === 0 && degree % 180 !== 0) {\n                this.horizontalFlip();\n            }\n            else {\n                this.verticalFlip();\n            }\n        }\n    };\n    Transform.prototype.horizontalFlip = function () {\n        this.lowerContext.translate(this.lowerContext.canvas.width, 0);\n        this.lowerContext.scale(-1, 1);\n        this.upperContext.translate(this.upperContext.canvas.width, 0);\n        this.upperContext.scale(-1, 1);\n    };\n    Transform.prototype.verticalFlip = function () {\n        this.lowerContext.translate(0, this.lowerContext.canvas.height);\n        this.lowerContext.scale(1, -1);\n        this.upperContext.translate(0, this.upperContext.canvas.height);\n        this.upperContext.scale(1, -1);\n    };\n    Transform.prototype.updateFlipColl = function (direction) {\n        if (this.isPreventSelect) {\n            return;\n        }\n        if (this.flipColl.length === 0 || this.flipColl[this.flipColl.length - 1] !== direction) {\n            this.flipColl.push(direction);\n        }\n        else {\n            this.flipColl.pop();\n        }\n        if (this.flipColl.length >= 4) {\n            var lastFourItems = this.flipColl.slice(-4);\n            if ((lastFourItems[0] === 'horizontal' && lastFourItems[1] === 'vertical' &&\n                lastFourItems[2] === 'horizontal' && lastFourItems[3] === 'vertical') ||\n                (lastFourItems[0] === 'vertical' && lastFourItems[1] === 'horizontal' &&\n                    lastFourItems[2] === 'vertical' && lastFourItems[3] === 'horizontal')) {\n                this.flipColl.splice(-4);\n            }\n        }\n    };\n    Transform.prototype.setDestPointsForFlipState = function () {\n        var parent = this.parent;\n        var panObj = { panRegion: '' };\n        var _a = parent.img, destLeft = _a.destLeft, destTop = _a.destTop, destWidth = _a.destWidth, destHeight = _a.destHeight;\n        var _b = parent.lowerCanvas, clientWidth = _b.clientWidth, clientHeight = _b.clientHeight;\n        parent.notify('crop', { prop: 'getCurrFlipState', onPropertyChange: false,\n            value: { panObj: panObj } });\n        if (panObj['panRegion'] !== '') {\n            if (panObj['panRegion'] === 'horizontal') {\n                parent.img.destLeft = clientWidth - (destWidth + destLeft);\n            }\n            else if (panObj['panRegion'] === 'vertical') {\n                parent.img.destTop = clientHeight - (destHeight + destTop);\n            }\n            else {\n                parent.img.destLeft = clientWidth - (destWidth + destLeft);\n                parent.img.destTop = clientHeight - (destHeight + destTop);\n            }\n        }\n    };\n    Transform.prototype.zoomAction = function (zoomFactor, zoomPoint, isResize, isPreventApply) {\n        var parent = this.parent;\n        if (!parent.disabled && parent.isImageLoaded) {\n            if (isNullOrUndefined(isResize) && (parent.zoomSettings.zoomFactor >= parent.zoomSettings.maxZoomFactor && zoomFactor > 0 ||\n                (parent.zoomSettings.zoomFactor > parent.zoomSettings.minZoomFactor && zoomFactor < 0 && this.disableZoomOutBtn(true)) ||\n                (parent.zoomSettings.zoomFactor <= parent.zoomSettings.minZoomFactor && zoomFactor < 0))) {\n                parent.notify('toolbar', { prop: 'zoom-up-handler', onPropertyChange: false });\n                return;\n            }\n            parent.notify('draw', { prop: 'setImageEdited', onPropertyChange: false });\n            var tempZoomFactor = zoomFactor;\n            zoomFactor = tempZoomFactor > 0 ? 0.1 : -0.1;\n            for (var i = 0; i < Math.round(Math.abs(tempZoomFactor / 0.1)); i++) {\n                if (this.prevZoomValue === 1) {\n                    this.prevZoomValue += zoomFactor > 0 ? zoomFactor * 10 : (zoomFactor * 10) / 10;\n                }\n                else if (this.prevZoomValue > 1) {\n                    this.prevZoomValue += (zoomFactor * 10);\n                }\n                else if (this.prevZoomValue < 1) {\n                    this.prevZoomValue += (zoomFactor * 10) / 10;\n                    var powerOften = Math.pow(10, 1);\n                    this.prevZoomValue = (Math.round(this.prevZoomValue * powerOften) / powerOften);\n                }\n            }\n            zoomFactor = tempZoomFactor;\n            parent.setProperties({ zoomSettings: { zoomFactor: this.prevZoomValue } }, true);\n            var splitWords = void 0;\n            this.tempActiveObj = null;\n            this.isShape = false;\n            if (parent.activeObj.shape !== undefined) {\n                if (parent.activeObj.shape === 'shape') {\n                    parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                }\n                else {\n                    splitWords = parent.activeObj.shape.split('-');\n                }\n            }\n            if (splitWords !== undefined && splitWords[0] === 'crop') {\n                this.tempActiveObj = extend({}, parent.activeObj, {}, true);\n                parent.isCropTab = true;\n            }\n            else if (parent.activeObj.shape && splitWords[0] !== 'crop' &&\n                (parent.activeObj.activePoint.width !== 0 || parent.activeObj.activePoint.height !== 0) ||\n                (parent.activeObj.shape === 'path' && parent.activeObj.pointColl.length > 0)) {\n                this.isShape = true;\n            }\n            var obj = { zoomType: null };\n            parent.notify('selection', { prop: 'getZoomType', onPropertyChange: false, value: { obj: obj } });\n            if (isNullOrUndefined(zoomPoint)) {\n                if (parent.isCropTab && this.tempActiveObj) {\n                    zoomPoint = { x: parent.activeObj.activePoint.startX + (parent.activeObj.activePoint.width / 2),\n                        y: parent.activeObj.activePoint.startY + (parent.activeObj.activePoint.height / 2) };\n                }\n                else {\n                    zoomPoint = { x: parent.lowerCanvas.clientWidth / 2, y: parent.lowerCanvas.clientHeight / 2 };\n                }\n                if (obj['zoomType'] === 'MouseWheel' || obj['zoomType'] === 'Pinch') {\n                    zoomPoint = { x: parent.zoomSettings.zoomPoint.x, y: parent.zoomSettings.zoomPoint.y };\n                }\n            }\n            var previousZoomFactor = parent.zoomSettings.zoomFactor - (zoomFactor * 10);\n            var zoomEventArgs = { zoomPoint: zoomPoint, cancel: false, previousZoomFactor: previousZoomFactor,\n                currentZoomFactor: parent.zoomSettings.zoomFactor, zoomTrigger: obj['zoomType'] };\n            if (!parent.isCropToolbar && parent.isZoomBtnClick) {\n                parent.trigger('zooming', zoomEventArgs);\n                parent.editCompleteArgs = zoomEventArgs;\n            }\n            this.zoomEvent(zoomEventArgs, zoomFactor, isPreventApply);\n        }\n    };\n    Transform.prototype.zoomEvent = function (zoomEventArgs, zoomFact, isPreventApply) {\n        var parent = this.parent;\n        var shapeId;\n        var _a = parent.zoomSettings, zoomFactor = _a.zoomFactor, minZoomFactor = _a.minZoomFactor;\n        if (zoomEventArgs.cancel) {\n            parent.isZoomBtnClick = false;\n            return;\n        }\n        if (this.parent.activeObj.redactType !== 'blur' && this.parent.activeObj.redactType !== 'pixelate') {\n            parent.notify('toolbar', { prop: 'close-contextual-toolbar', onPropertyChange: false });\n        }\n        if (!parent.isCropTab && parent.activeObj.shape) {\n            shapeId = parent.activeObj.currIndex;\n        }\n        parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n            value: { x: null, y: null, isMouseDown: true } });\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        this.upperContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        var object = { canvasFilter: parent.canvasFilter };\n        this.lowerContext.filter = object['canvasFilter'];\n        parent.upperCanvas.style.cursor = parent.cursor = 'default';\n        var objColl = extend([], parent.objColl, [], true);\n        if (!parent.isCropTab) {\n            if (parent.transform.degree !== 0) {\n                parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false, value: { x: null, y: null, isMouseDown: null } });\n                parent.panPoint.currentPannedPoint = { x: 0, y: 0 };\n                var temp = parent.allowDownScale;\n                parent.allowDownScale = false;\n                this.rotatePan(true, true);\n                parent.allowDownScale = temp;\n            }\n            else if (parent.transform.currFlipState !== '') {\n                parent.panPoint.totalPannedPoint = { x: 0, y: 0 };\n            }\n            if (parent.transform.straighten === 0 && !this.isPreventSelect) {\n                parent.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false, value: { isPreventApply: isPreventApply } });\n            }\n        }\n        if (parent.transform.degree === 0) {\n            this.drawZoomImgToCanvas(zoomFact, this.tempActiveObj);\n            var panObj_1 = { panRegion: '' };\n            parent.notify('crop', { prop: 'getCurrFlipState', onPropertyChange: false, value: { panObj: panObj_1 } });\n            if (panObj_1['panRegion'] !== '') {\n                parent.notify('crop', { prop: 'setTempFlipPanPoint', onPropertyChange: false, value: { point: parent.panPoint.totalPannedPoint, isAdd: true } });\n                objColl = extend([], parent.objColl, [], true);\n                parent.objColl = [];\n                var destLeft = parent.img.destLeft;\n                var destTop = parent.img.destTop;\n                this.setDestPointsForFlipState();\n                this.rotatedFlip();\n                parent.img.destLeft = destLeft;\n                parent.img.destTop = destTop;\n                parent.objColl = objColl;\n                parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                    value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: isPreventApply } });\n                if (parent.transform.straighten === 0 && !this.isPreventSelect) {\n                    parent.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false, value: { isPreventApply: isPreventApply } });\n                }\n            }\n            if (zoomFactor <= minZoomFactor && !parent.isCropTab) {\n                parent.panPoint.totalPannedPoint = { x: 0, y: 0 };\n            }\n        }\n        else {\n            if (parent.transform.straighten === 0 && !this.isPreventSelect) {\n                parent.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false, value: { isPreventApply: isPreventApply } });\n            }\n            parent.panPoint.totalPannedClientPoint = { x: 0, y: 0 };\n            parent.panPoint.totalPannedInternalPoint = { x: 0, y: 0 };\n            this.rotateZoom(zoomFact);\n            var panObj_2 = { panRegion: '' };\n            parent.notify('crop', { prop: 'getCurrFlipState', onPropertyChange: false, value: { panObj: panObj_2 } });\n            if (panObj_2['panRegion'] !== '') {\n                var temp = this.lowerContext.filter;\n                this.lowerContext.filter = 'none';\n                parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                    value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: isPreventApply } });\n                this.lowerContext.filter = temp;\n            }\n        }\n        var powerOften = Math.pow(10, 1);\n        if (zoomFactor <= minZoomFactor ||\n            (Math.round(parent.transform.zoomFactor * powerOften) / powerOften) === 2) {\n            clearInterval(this.zoomBtnHold);\n            this.zoomBtnHold = 0;\n        }\n        var panObj = { panRegion: '' };\n        parent.notify('crop', { prop: 'getCurrFlipState', onPropertyChange: false, value: { panObj: panObj } });\n        if (panObj['panRegion'] === '') {\n            var temp = this.lowerContext.filter;\n            this.lowerContext.filter = 'none';\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: isPreventApply } });\n            this.lowerContext.filter = temp;\n        }\n        if ((parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') || parent.isCircleCrop) {\n            parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                value: { context: this.lowerContext, isSave: null, isFlip: null } });\n        }\n        parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        if (this.tempActiveObj) {\n            parent.activeObj = extend({}, this.tempActiveObj, {}, true);\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj } });\n            if (zoomFactor <= minZoomFactor) {\n                parent.currSelectionPoint = null;\n            }\n        }\n        parent.isUndoRedo = false;\n        var zoomOut;\n        zoomOut = document.querySelector('#' + parent.element.id + '_zoomOut');\n        if (zoomOut && zoomFactor <= minZoomFactor) {\n            zoomOut.classList.add('e-disabled');\n            zoomOut.parentElement.classList.add('e-overlay');\n        }\n        else if (zoomOut) {\n            zoomOut.classList.remove('e-disabled');\n            zoomOut.parentElement.classList.remove('e-overlay');\n        }\n        var drawingShape = parent.drawingShape;\n        this.autoEnablePan();\n        parent.drawingShape = drawingShape;\n        if (this.tempActiveObj) {\n            parent.activeObj = extend({}, this.tempActiveObj, {}, true);\n        }\n        if (parent.activeObj.shape === 'crop-custom') {\n            parent.currObjType.isCustomCrop = true;\n        }\n        if (this.isShape) {\n            if (shapeId) {\n                for (var i = 0, len = parent.objColl.length; i < len; i++) {\n                    if (parent.objColl[i].currIndex === shapeId) {\n                        parent.activeObj = extend({}, parent.objColl[i], {}, true);\n                        parent.objColl.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            else {\n                parent.activeObj = extend({}, parent.objColl[parent.objColl.length - 1], {}, true);\n                parent.objColl.pop();\n            }\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj, isCropRatio: null,\n                    points: null, isPreventDrag: true, saveContext: null, isPreventSelection: null } });\n            parent.notify('toolbar', { prop: 'update-toolbar-items', onPropertyChange: false });\n            parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n        }\n        parent.notify('toolbar', { prop: 'enable-disable-btns', onPropertyChange: false });\n        parent.notify('selection', { prop: 'setZoomType', onPropertyChange: false, value: { zoomType: 'Toolbar' } });\n        // eslint-disable-next-line max-len\n        zoomEventArgs = { zoomPoint: zoomEventArgs.zoomPoint, previousZoomFactor: zoomEventArgs.previousZoomFactor, currentZoomFactor: zoomEventArgs.currentZoomFactor, zoomTrigger: zoomEventArgs.zoomTrigger };\n        if (!parent.isCropToolbar && parent.isZoomBtnClick) {\n            parent.isZoomBtnClick = false;\n        }\n        if (parent.drawingShape) {\n            var activeObj = extend({}, parent.activeObj, {}, true);\n            parent.enableShapeDrawing(parent.toPascalCase(parent.drawingShape), true);\n            parent.activeObj = activeObj;\n            if (activeObj.activePoint.width > 0 || activeObj.activePoint.height > 0 ||\n                (activeObj.pointColl && activeObj.pointColl.length > 0)) {\n                if (activeObj.shape === 'redact') {\n                    parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n                }\n                var zOrderElem = parent.element.querySelector('#' + parent.element.id + '_zOrderBtn');\n                var dupElem = parent.element.querySelector('#' + parent.element.id + '_duplicate');\n                var removeElem = parent.element.querySelector('#' + parent.element.id + '_remove');\n                var editTextElem = parent.element.querySelector('#' + parent.element.id + '_editText');\n                if (zOrderElem) {\n                    zOrderElem.classList.remove('e-overlay');\n                }\n                if (dupElem) {\n                    dupElem.classList.remove('e-overlay');\n                }\n                if (removeElem) {\n                    removeElem.classList.remove('e-overlay');\n                }\n                if (editTextElem) {\n                    editTextElem.classList.remove('e-overlay');\n                }\n            }\n        }\n        else if (parent.activeObj.shape && parent.activeObj.shape === 'redact') {\n            parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'redact',\n                    isApplyBtn: false, isCropping: false } });\n            parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n        }\n    };\n    Transform.prototype.disableZoomOutBtn = function (isZoomOut) {\n        var parent = this.parent;\n        var _a = parent.zoomSettings, zoomFactor = _a.zoomFactor, minZoomFactor = _a.minZoomFactor;\n        var isDisabled = false;\n        var zoomOut;\n        if (!isNullOrUndefined(isZoomOut)) {\n            parent.transform.zoomFactor -= 0.1;\n        }\n        zoomOut = parent.element.querySelector('#' + parent.element.id + '_zoomOut');\n        var destPoints = { destLeft: parent.img.destLeft, destTop: parent.img.destTop,\n            destWidth: parent.img.destWidth, destHeight: parent.img.destHeight };\n        if (parent.activeObj.shape) {\n            var maxDimension = this.setZoomDimension(-0.1, parent.activeObj);\n            if (!isNullOrUndefined(zoomOut)) {\n                var actPoint = parent.activeObj.activePoint;\n                if (parent.transform.straighten === 0) {\n                    if (parent.img.destLeft > actPoint.startX || parent.img.destTop >\n                        actPoint.startY || parent.img.destLeft + parent.img.destWidth <\n                        actPoint.endX || parent.img.destTop + parent.img.destHeight < actPoint.endY\n                        || zoomFactor === minZoomFactor) {\n                        zoomOut.classList.add('e-disabled');\n                        zoomOut.parentElement.classList.add('e-overlay');\n                        isDisabled = true;\n                    }\n                    else {\n                        zoomOut.classList.remove('e-disabled');\n                        zoomOut.parentElement.classList.remove('e-overlay');\n                        isDisabled = false;\n                    }\n                }\n                else {\n                    parent.img.destWidth = maxDimension.width;\n                    parent.img.destHeight = maxDimension.height;\n                    var obj = { isIntersect: null };\n                    parent.notify('draw', { prop: 'updateImgCanvasPoints', onPropertyChange: false });\n                    parent.notify('draw', { prop: 'isLinesIntersect', onPropertyChange: false, value: { obj: obj } });\n                    if (obj['isIntersect'] ||\n                        zoomFactor === minZoomFactor) {\n                        zoomOut.classList.add('e-disabled');\n                        zoomOut.parentElement.classList.add('e-overlay');\n                        isDisabled = true;\n                    }\n                    else {\n                        zoomOut.classList.remove('e-disabled');\n                        zoomOut.parentElement.classList.remove('e-overlay');\n                        isDisabled = false;\n                    }\n                }\n            }\n        }\n        else {\n            this.setZoomDimension(-0.1, null);\n        }\n        if (!isNullOrUndefined(isZoomOut)) {\n            parent.transform.zoomFactor += 0.1;\n        }\n        parent.img.destLeft = destPoints['destLeft'];\n        parent.img.destTop = destPoints['destTop'];\n        parent.img.destWidth = destPoints['destWidth'];\n        parent.img.destHeight = destPoints['destHeight'];\n        return isDisabled;\n    };\n    Transform.prototype.drawZoomImgToCanvas = function (value, selectionObj) {\n        var parent = this.parent;\n        var powerOften = Math.pow(10, 1);\n        var zmFactor = Math.round(parent.transform.zoomFactor * powerOften) / powerOften;\n        if ((zmFactor === 0.1 && value === -0.1) || zmFactor === 0 && value === -0.025) {\n            parent.transform.zoomFactor = 0;\n        }\n        else {\n            parent.transform.zoomFactor += value;\n        }\n        parent.transform[parent.isCropTab ? 'cropZoomFactor' : 'defaultZoomFactor'] = parent.transform.zoomFactor;\n        var maxDimension = { width: 0, height: 0 };\n        if (parent.isCropTab) {\n            maxDimension = this.cropZoom(value, selectionObj);\n        }\n        else {\n            maxDimension = this.calcMaxDimension(parent.img.srcWidth, parent.img.srcHeight);\n            maxDimension.width += (maxDimension.width * parent.transform.zoomFactor);\n            maxDimension.height += (maxDimension.height * parent.transform.zoomFactor);\n            parent.img.destLeft = (parent.lowerCanvas.clientWidth - maxDimension.width) / 2;\n            parent.img.destTop = (parent.lowerCanvas.clientHeight - maxDimension.height + 1) / 2;\n        }\n        parent.notify('draw', { prop: 'draw-image-to-canvas', value: { dimension: maxDimension } });\n        maxDimension.width = this.cropDimension.width;\n        maxDimension.height = this.cropDimension.height;\n        maxDimension.width += (maxDimension.width * parent.transform.zoomFactor);\n        maxDimension.height += (maxDimension.height * parent.transform.zoomFactor);\n        parent.notify('draw', { prop: 'setZoomCropWidth', value: { width: maxDimension.width, height: maxDimension.height } });\n    };\n    Transform.prototype.rotatedFlip = function () {\n        var parent = this.parent;\n        this.isReverseFlip = true;\n        var tempCurrFlipState = parent.transform.currFlipState;\n        var tempFlipColl = this.flipColl;\n        var tempObjColl = extend([], parent.objColl, [], true);\n        var tempActiveObj = extend({}, parent.activeObj, {}, true);\n        this.flipColl = [];\n        parent.objColl = [];\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        parent.notify('draw', { prop: 'currTransState', onPropertyChange: false,\n            value: { type: 'initial', isPreventDestination: null, context: null, isPreventCircleCrop: null } });\n        var temp = this.lowerContext.filter;\n        parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n        this.lowerContext.filter = temp;\n        parent.notify('draw', { prop: 'currTransState', onPropertyChange: false,\n            value: { type: 'reverse', isPreventDestination: true, context: null, isPreventCircleCrop: null } });\n        if (tempCurrFlipState === '' && parent.transform.currFlipState !== '') {\n            tempCurrFlipState = parent.transform.currFlipState;\n        }\n        parent.transform.currFlipState = tempCurrFlipState;\n        this.flipColl = tempFlipColl;\n        parent.objColl = extend([], tempObjColl, [], true);\n        this.lowerContext.filter = 'none';\n        parent.notify('shape', { prop: 'iterateObjColl', onPropertyChange: false });\n        this.lowerContext.filter = temp;\n        if (tempActiveObj.activePoint.width !== 0) {\n            parent.activeObj = extend({}, tempActiveObj, {}, true);\n        }\n        this.isReverseFlip = false;\n    };\n    Transform.prototype.rotateZoom = function (value) {\n        var parent = this.parent;\n        var powerOften = Math.pow(10, 1);\n        var zmFactor = Math.round(parent.transform.zoomFactor * powerOften) / powerOften;\n        if ((zmFactor === 0.1 && value === -0.1) || zmFactor === 0 && value === -0.025) {\n            parent.transform.zoomFactor = 0;\n        }\n        else {\n            parent.transform.zoomFactor += value;\n        }\n        if (parent.isCropTab) {\n            parent.transform.cropZoomFactor = parent.transform.zoomFactor;\n        }\n        else {\n            parent.transform.defaultZoomFactor = parent.transform.zoomFactor;\n        }\n        var tempObjColl = extend([], parent.objColl, [], true);\n        var tempActiveObj = extend({}, parent.activeObj, {}, true);\n        parent.objColl = [];\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n            value: { type: 'initial', isPreventDestination: null, isRotatePan: null } });\n        parent.notify('draw', { prop: 'setRotateZoom', onPropertyChange: false, value: { isRotateZoom: true } });\n        parent.notify('draw', { prop: 'setDestPoints', onPropertyChange: false });\n        var temp = this.lowerContext.filter;\n        parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n        this.lowerContext.filter = temp;\n        parent.notify('draw', { prop: 'setRotateZoom', onPropertyChange: false, value: { isRotateZoom: false } });\n        parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n            value: { type: 'reverse', isPreventDestination: null, isRotatePan: null } });\n        parent.objColl = tempObjColl;\n        parent.activeObj = tempActiveObj;\n        var maxDimension = { width: this.cropDimension.width, height: this.cropDimension.height };\n        maxDimension.width += (maxDimension.width * parent.transform.zoomFactor);\n        maxDimension.height += (maxDimension.height * parent.transform.zoomFactor);\n        parent.notify('draw', { prop: 'setZoomCropWidth', value: { width: maxDimension.width, height: maxDimension.height } });\n    };\n    Transform.prototype.autoEnablePan = function () {\n        var parent = this.parent;\n        if (parent.transform.zoomFactor <= 0) {\n            parent.togglePan = false;\n            parent.notify('selection', { prop: 'setDragCanvas', value: { bool: false } });\n            parent.pan(false);\n            this.disablePan = false;\n        }\n        else {\n            parent.pan(!this.disablePan);\n        }\n    };\n    Transform.prototype.cropZoom = function (value, selectionObj) {\n        var parent = this.parent;\n        var destLeft = parent.img.destLeft;\n        var destTop = parent.img.destTop;\n        var maxDimension = { width: 0, height: 0 };\n        if (parent.transform.degree % 90 === 0 && parent.transform.degree % 180 !== 0) {\n            maxDimension = this.calcMaxDimension(parent.img.srcHeight, parent.img.srcWidth);\n        }\n        else {\n            maxDimension = this.calcMaxDimension(parent.img.srcWidth, parent.img.srcHeight);\n        }\n        maxDimension.width += (maxDimension.width * parent.transform.zoomFactor);\n        maxDimension.height += (maxDimension.height * parent.transform.zoomFactor);\n        parent.img.destLeft = destLeft - ((maxDimension.width - parent.img.destWidth) / 2);\n        parent.img.destTop = destTop - ((maxDimension.height - parent.img.destHeight) / 2);\n        destLeft = parent.img.destLeft;\n        destTop = parent.img.destTop;\n        if (selectionObj && parent.transform.straighten === 0) {\n            if (parent.img.destLeft > selectionObj.activePoint.startX) {\n                parent.img.destLeft = selectionObj.activePoint.startX;\n                if (parent.transform.degree === 0) {\n                    parent.panPoint.totalPannedPoint.x -= (destLeft - parent.img.destLeft);\n                }\n            }\n            if (parent.img.destTop > selectionObj.activePoint.startY) {\n                parent.img.destTop = selectionObj.activePoint.startY;\n                if (parent.transform.degree === 0) {\n                    parent.panPoint.totalPannedPoint.y -= (destTop - parent.img.destTop);\n                }\n            }\n            if (parent.img.destLeft + maxDimension.width < selectionObj.activePoint.endX) {\n                parent.img.destLeft = selectionObj.activePoint.endX - maxDimension.width;\n                if (parent.transform.degree === 0) {\n                    parent.panPoint.totalPannedPoint.x -= (destLeft - parent.img.destLeft);\n                }\n            }\n            if (parent.img.destTop + maxDimension.height < selectionObj.activePoint.endY) {\n                parent.img.destTop = selectionObj.activePoint.endY - maxDimension.height;\n                if (parent.transform.degree === 0) {\n                    parent.panPoint.totalPannedPoint.y -= (destTop - parent.img.destTop);\n                }\n            }\n        }\n        return maxDimension;\n    };\n    Transform.prototype.setZoomDimension = function (value, selectionObj) {\n        var parent = this.parent;\n        var degree = parent.transform.degree;\n        var maxDimension = { width: 0, height: 0 };\n        if (degree % 90 === 0 && degree % 180 !== 0) {\n            maxDimension = this.calcMaxDimension(parent.img.srcHeight, parent.img.srcWidth);\n        }\n        else {\n            maxDimension = this.calcMaxDimension(parent.img.srcWidth, parent.img.srcHeight);\n        }\n        maxDimension.width += (maxDimension.width * parent.transform.zoomFactor);\n        maxDimension.height += (maxDimension.height * parent.transform.zoomFactor);\n        parent.img.destLeft += ((parent.img.destWidth - maxDimension.width) / 2);\n        parent.img.destTop += ((parent.img.destHeight - maxDimension.height) / 2);\n        // While zoom out limit image to draw inside the selection range\n        if (value < 0 && selectionObj) {\n            var startX = selectionObj.activePoint.startX;\n            var startY = selectionObj.activePoint.startY;\n            var width = selectionObj.activePoint.width;\n            var height = selectionObj.activePoint.height;\n            var maxDestLeft = parent.img.destLeft + maxDimension.width;\n            var maxDestTop = parent.img.destTop + maxDimension.height;\n            if (parent.img.destLeft > startX) {\n                parent.img.destLeft = startX;\n            }\n            if (parent.img.destTop > startY) {\n                parent.img.destTop = startY;\n            }\n            if (maxDestLeft < startX + width) {\n                parent.img.destLeft = startX + width - maxDimension.width;\n            }\n            if (maxDestTop < startY + height) {\n                parent.img.destTop = startY + height - maxDimension.height;\n            }\n        }\n        else if (value < 0 && isNullOrUndefined(selectionObj)) {\n            if (parent.img.destLeft > 0) {\n                parent.img.destLeft = 0;\n            }\n            if (parent.img.destTop > 0) {\n                parent.img.destTop = 0;\n            }\n            if (parent.img.destLeft + maxDimension.width < parent.lowerCanvas.clientWidth) {\n                parent.img.destLeft = parent.lowerCanvas.clientWidth - parent.img.destWidth;\n            }\n            if (parent.img.destTop + maxDimension.height < parent.lowerCanvas.clientHeight) {\n                parent.img.destTop = parent.lowerCanvas.clientHeight - parent.img.destHeight;\n            }\n        }\n        return maxDimension;\n    };\n    Transform.prototype.drawPannedImage = function (xDiff, yDiff) {\n        var parent = this.parent;\n        var obj = { panDown: null };\n        parent.notify('selection', { prop: 'getPanDown', onPropertyChange: false, value: { obj: obj } });\n        var panEventArgs = { startPoint: obj['panDown'], endPoint: this.panMove, cancel: false };\n        parent.trigger('panning', panEventArgs);\n        if (panEventArgs.cancel) {\n            return;\n        }\n        this.panEvent(xDiff, yDiff);\n    };\n    Transform.prototype.panEvent = function (xDiff, yDiff, isPanMethod) {\n        var parent = this.parent;\n        var isObjCreated = false;\n        if (parent.activeObj.shape && parent.activeObj.shape === 'shape') {\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        }\n        if (isNullOrUndefined(parent.activeObj.shape)) {\n            isObjCreated = true;\n            var actPoint = parent.activeObj.activePoint = { startX: parent.img.destLeft, startY: parent.img.destTop,\n                endX: parent.img.destLeft + parent.img.destWidth, endY: parent.img.destTop + parent.img.destHeight };\n            var startX = actPoint.startX;\n            var startY = actPoint.startY;\n            var endX = actPoint.endX;\n            var endY = actPoint.endY;\n            if (startX < 0) {\n                actPoint.startX = 0;\n            }\n            if (startY < 0) {\n                actPoint.startY = 0;\n            }\n            if (endX > parent.lowerCanvas.width) {\n                actPoint.endX = parent.lowerCanvas.width;\n            }\n            if (endY > parent.lowerCanvas.height) {\n                actPoint.endY = parent.lowerCanvas.height;\n            }\n            actPoint.width = actPoint.endX - actPoint.startX;\n            actPoint.height = actPoint.endY - actPoint.startY;\n            parent.activeObj.shape = 'crop-custom';\n            var obj = { strokeSettings: {} };\n            parent.notify('shape', { prop: 'getStrokeSettings', onPropertyChange: false, value: { obj: obj } });\n            parent.activeObj.strokeSettings = obj['strokeSettings'];\n            parent.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: actPoint, obj: parent.activeObj,\n                    isMouseMove: null, x: null, y: null } });\n            parent.isCropTab = true;\n        }\n        if (parent.transform.degree === 0) {\n            var point = void 0;\n            if ((isNullOrUndefined(xDiff) && isNullOrUndefined(yDiff)) || isPanMethod) {\n                if (isPanMethod) {\n                    point = this.updatePanPoints(xDiff, yDiff);\n                }\n                else {\n                    point = this.updatePanPoints();\n                }\n            }\n            else {\n                point = { x: xDiff, y: yDiff };\n            }\n            parent.panPoint.totalPannedPoint.x += point.x;\n            parent.panPoint.totalPannedPoint.y += point.y;\n            var tempSelectionObj = extend({}, parent.activeObj, {}, true);\n            var temp = this.lowerContext.filter;\n            this.drawPannImage(point, isObjCreated);\n            this.lowerContext.filter = temp;\n            this.tempPanMove = extend({}, this.panMove, {}, true);\n            parent.activeObj = extend({}, tempSelectionObj, {}, true);\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            if (parent.activeObj.shape) {\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj } });\n            }\n        }\n        else {\n            var tempFlipState = parent.transform.currFlipState;\n            parent.isCropTab = true;\n            if ((isNullOrUndefined(xDiff) && isNullOrUndefined(yDiff)) || isPanMethod) {\n                if (isPanMethod) {\n                    parent.panPoint.currentPannedPoint = this.updatePanPoints(xDiff, yDiff);\n                }\n                else {\n                    parent.panPoint.currentPannedPoint = this.updatePanPoints();\n                }\n            }\n            else {\n                parent.panPoint.currentPannedPoint = { x: xDiff, y: yDiff };\n            }\n            parent.transform.currFlipState = tempFlipState;\n            this.rotatePan(null, null, isObjCreated);\n            parent.isCropTab = false;\n            this.tempPanMove = extend({}, this.panMove, {}, true);\n        }\n        if (isObjCreated) {\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            parent.isCropTab = false;\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        }\n    };\n    Transform.prototype.drawPannImage = function (point, isObjCreated) {\n        var parent = this.parent;\n        var filter = this.lowerContext.filter;\n        var destPoints = { startX: parent.img.destLeft, startY: parent.img.destTop, width: parent.img.destWidth,\n            height: parent.img.destHeight };\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n            value: { type: 'initial', isPreventDestination: null, isRotatePan: null } });\n        parent.img.destLeft = destPoints.startX;\n        parent.img.destTop = destPoints.startY;\n        parent.img.destWidth = destPoints.width;\n        parent.img.destHeight = destPoints.height;\n        this.setDestPointsForFlipState();\n        if (isObjCreated) {\n            parent.isCropTab = false;\n        }\n        parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n        if (isObjCreated) {\n            parent.isCropTab = true;\n        }\n        if ((parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') || parent.isCircleCrop) {\n            parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                value: { context: this.lowerContext, isSave: null, isFlip: true } });\n        }\n        this.lowerContext.filter = filter;\n        parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n            value: { type: 'reverse', isPreventDestination: null, isRotatePan: null } });\n        parent.img.destLeft = destPoints.startX;\n        parent.img.destTop = destPoints.startY;\n        parent.img.destWidth = destPoints.width;\n        parent.img.destHeight = destPoints.height;\n        var temp = this.lowerContext.filter;\n        this.lowerContext.filter = 'none';\n        if (isObjCreated) {\n            parent.isCropTab = false;\n        }\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'pan', pen: 'pan', x: point.x,\n                y: point.y, panRegion: '' } });\n        if (isObjCreated) {\n            parent.isCropTab = true;\n        }\n        this.lowerContext.filter = temp;\n        parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n        if (parent.isCircleCrop) {\n            parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                value: { context: this.lowerContext, isSave: null, isFlip: true } });\n        }\n    };\n    Transform.prototype.resetZoom = function () {\n        var parent = this.parent;\n        if (parent.transform.defaultZoomFactor !== 0) {\n            var isUndoRedo = parent.isUndoRedo;\n            var object = { currObj: {} };\n            parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            this.transCurrObj = object['currObj'];\n            this.transCurrObj.objColl = extend([], parent.objColl, null, true);\n            this.transCurrObj.pointColl = extend({}, parent.pointColl, null, true);\n            this.transCurrObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n            var selPointCollObj = { selPointColl: null };\n            parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                value: { obj: selPointCollObj } });\n            this.transCurrObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            parent.isUndoRedo = parent.isCropToolbar = true;\n            var zmFactor = parent.transform.defaultZoomFactor;\n            if (zmFactor > 0) {\n                this.zoomAction(-zmFactor);\n            }\n            else {\n                this.zoomAction(Math.abs(zmFactor));\n            }\n            parent.isCropToolbar = false;\n            parent.isUndoRedo = isUndoRedo;\n        }\n    };\n    Transform.prototype.performTransformation = function (text) {\n        var parent = this.parent;\n        this.resetZoom();\n        this.updateTransform(text);\n        for (var i = 0, len = parent.objColl.length; i < len; i++) {\n            if (parent.objColl[i].flipObjColl.length > 0) {\n                var flipObjColl = { collection: parent.objColl[i].flipObjColl };\n                parent.notify('shape', { prop: 'alignRotateFlipColl', onPropertyChange: false,\n                    value: { collection: flipObjColl['collection'], isRotateFlipCollection: null, obj: flipObjColl } });\n                parent.objColl[i].flipObjColl = flipObjColl['collection'];\n                if (parent.objColl[i].flipObjColl.length === 0) {\n                    parent.objColl[i].shapeFlip = '';\n                }\n            }\n        }\n    };\n    Transform.prototype.updateTransform = function (text) {\n        switch (text.toLowerCase()) {\n            case 'rotateleft':\n                this.rotateImage(-90);\n                break;\n            case 'rotateright':\n                this.rotateImage(90);\n                break;\n            case 'horizontalflip':\n                this.flipImage(Direction.Horizontal);\n                break;\n            case 'verticalflip':\n                this.flipImage(Direction.Vertical);\n                break;\n        }\n    };\n    Transform.prototype.rotatePan = function (isCropSelection, isDefaultZoom, isObjCreated) {\n        var parent = this.parent;\n        this.isReverseRotate = true;\n        var tempDegree = parent.transform.degree;\n        var rotatePanActiveObj;\n        var object = { selPointColl: null };\n        if (parent.activeObj.activePoint && parent.activeObj.shape) {\n            rotatePanActiveObj = extend({}, parent.activeObj, {}, true);\n        }\n        var tempObjColl = extend([], parent.objColl, [], true);\n        var tempPointColl = extend([], parent.pointColl, [], true);\n        parent.objColl = [];\n        parent.pointColl = [];\n        parent.freehandCounter = 0;\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false, value: { obj: object } });\n        var cropSelPointColl = object['selPointColl'];\n        parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false, value: { obj: { selPointColl: [] } } });\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        parent.notify('draw', { prop: 'setRotateZoom', onPropertyChange: false, value: { isRotateZoom: true } });\n        parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n            value: { type: 'initial', isPreventDestination: null, isRotatePan: null } });\n        var initialDestLeft = parent.img.destLeft;\n        var initialDestTop = parent.img.destTop;\n        var intPan = parent.panPoint.totalPannedInternalPoint;\n        if (parent.isCropTab) {\n            parent.img.destLeft += intPan.x;\n            parent.img.destTop += intPan.y;\n        }\n        parent.notify('crop', { prop: 'updateRotatePan', onPropertyChange: false });\n        if (parent.isCropTab) {\n            parent.panPoint.totalPannedInternalPoint.x = parent.img.destLeft - initialDestLeft;\n            parent.panPoint.totalPannedInternalPoint.y = parent.img.destTop - initialDestTop;\n        }\n        var temp = this.lowerContext.filter;\n        if (isObjCreated) {\n            parent.isCropTab = false;\n        }\n        parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n        if (isObjCreated) {\n            parent.isCropTab = true;\n        }\n        parent.notify('draw', { prop: 'setRotateZoom', onPropertyChange: false, value: { isRotateZoom: false } });\n        parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n            value: { type: 'reverse', isPreventDestination: true, isRotatePan: true } });\n        var destLeft = parent.img.destLeft;\n        var destTop = parent.img.destTop;\n        parent.img.destLeft += parent.panPoint.totalPannedClientPoint.x;\n        parent.img.destTop += parent.panPoint.totalPannedClientPoint.y;\n        parent.img.destLeft += parent.panPoint.currentPannedPoint.x;\n        parent.img.destTop += parent.panPoint.currentPannedPoint.y;\n        parent.panPoint.totalPannedClientPoint.x = parent.img.destLeft - destLeft;\n        parent.panPoint.totalPannedClientPoint.y = parent.img.destTop - destTop;\n        parent.objColl = tempObjColl;\n        parent.pointColl = tempPointColl;\n        parent.freehandCounter = parent.pointColl.length;\n        parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n            value: { obj: { selPointColl: cropSelPointColl } } });\n        parent.transform.degree = tempDegree;\n        this.lowerContext.filter = 'none';\n        if (isCropSelection) {\n            if (isDefaultZoom) {\n                parent.panPoint.totalPannedClientPoint.x = -parent.panPoint.totalPannedClientPoint.x;\n                parent.panPoint.totalPannedClientPoint.y = -parent.panPoint.totalPannedClientPoint.y;\n                parent.panPoint.currentPannedPoint = extend({}, parent.panPoint.totalPannedClientPoint, {}, true);\n                parent.panPoint.totalPannedClientPoint = { x: 0, y: 0 };\n                parent.img.destLeft += parent.panPoint.currentPannedPoint.x;\n                parent.img.destTop += parent.panPoint.currentPannedPoint.y;\n            }\n            else {\n                parent.panPoint.currentPannedPoint = extend({}, parent.panPoint.totalPannedClientPoint, {}, true);\n            }\n        }\n        if (isObjCreated) {\n            parent.isCropTab = false;\n        }\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'pan', pen: 'pan', x: parent.panPoint.currentPannedPoint.x,\n                y: parent.panPoint.currentPannedPoint.y, panRegion: '' } });\n        if (isObjCreated) {\n            parent.isCropTab = true;\n        }\n        this.lowerContext.filter = temp;\n        parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.activeObj = extend({}, rotatePanActiveObj, {}, true);\n        if (parent.activeObj.activePoint) {\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj, isCropRatio: null,\n                    points: null, isPreventDrag: true, saveContext: null, isPreventSelection: null } });\n        }\n        this.isReverseRotate = false;\n    };\n    Transform.prototype.limitPan = function () {\n        var parent = this.parent;\n        var _a = parent.activeObj.activePoint, startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY;\n        var img = parent.img;\n        if (parent.activeObj.activePoint) {\n            if (img.destLeft > startX) {\n                parent.img.destLeft = startX;\n            }\n            if (img.destTop > startY) {\n                parent.img.destTop = startY;\n            }\n            if (img.destLeft + img.destWidth < endX) {\n                parent.img.destLeft = endX - img.destWidth;\n            }\n            if (img.destTop + img.destHeight < endY) {\n                parent.img.destTop = endY - img.destHeight;\n            }\n        }\n    };\n    Transform.prototype.pan = function (value, x, y) {\n        var parent = this.parent;\n        if (!parent.disabled && parent.isImageLoaded) {\n            if (value) {\n                parent.togglePan = true;\n                parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                    value: { x: null, y: null, isMouseDown: null } });\n                parent.notify('selection', { prop: 'setDragCanvas', value: { bool: true } });\n                parent.lowerCanvas.style.cursor = parent.upperCanvas.style.cursor = parent.cursor = 'grab';\n                parent.notify('selection', { prop: 'setPanDown', onPropertyChange: false, value: { panDown: null } });\n                if (x || y) {\n                    x = x ? x : 0;\n                    y = y ? y : 0;\n                    if (isNullOrUndefined(this.panMove)) {\n                        this.panMove = { x: x, y: y };\n                    }\n                    if (isNullOrUndefined(this.tempPanMove)) {\n                        this.tempPanMove = { x: this.panMove.x, y: this.panMove.y };\n                    }\n                    this.panEvent(x, y, true);\n                    this.tempPanMove = null;\n                }\n            }\n            else {\n                parent.togglePan = parent.currObjType.isCustomCrop = false;\n                parent.notify('selection', { prop: 'setDragCanvas', value: { bool: false } });\n                parent.lowerCanvas.style.cursor = parent.upperCanvas.style.cursor = parent.cursor = 'default';\n            }\n        }\n    };\n    Transform.prototype.zoom = function (zoomFactor, zoomPoint) {\n        var parent = this.parent;\n        if (!parent.disabled && parent.isImageLoaded) {\n            var value = this.getCurrentZoomFactor(zoomFactor);\n            if (isNullOrUndefined(zoomPoint)) {\n                this.zoomAction(value, zoomPoint);\n            }\n            else {\n                var type = value > 0 ? 'zoomIn' : 'zoomOut';\n                var absValue = Math.abs(value) * 10;\n                for (var i = 0; i < absValue; i++) {\n                    parent.notify('draw', { prop: 'performPointZoom', onPropertyChange: false,\n                        value: { x: zoomPoint.x, y: zoomPoint.y, type: type, isResize: null } });\n                }\n            }\n            var actionArgs = { action: value > 0 ? 'zoom-in' : 'zoom-out',\n                actionEventArgs: parent.editCompleteArgs };\n            parent.triggerEditCompleteEvent(actionArgs);\n        }\n    };\n    Transform.prototype.getCurrentZoomFactor = function (zoomFactor) {\n        return zoomFactor >= 1 ? (this.prevZoomValue < 1 ? (zoomFactor - this.prevZoomValue) : (zoomFactor - this.prevZoomValue) * 0.1) :\n            (zoomFactor - this.prevZoomValue);\n    };\n    Transform.prototype.setCurrPanRegion = function (region, type, obj) {\n        var panRegion = region;\n        if (region === '') {\n            panRegion = type === 'horizontal' ? 'horizontal' : type === 'vertical' ? 'vertical' : region;\n        }\n        else if (region === 'horizontal') {\n            panRegion = type === 'horizontal' ? 'horizontalVertical' : type === 'vertical' ? 'verticalHorizontal' : type === 90 ?\n                'vertical' : type === -90 ? 'horizontal' : region;\n        }\n        else if (region === 'vertical') {\n            panRegion = type === 'horizontal' ? 'horizontalVertical' : type === 'vertical' ? 'verticalHorizontal' : type === 90 ?\n                'horizontal' : type === -90 ? 'vertical' : region;\n        }\n        else {\n            panRegion = type === 'horizontal' ? 'vertical' : type === 'vertical' ? 'horizontal' : region;\n        }\n        obj['panRegion'] = panRegion;\n    };\n    Transform.prototype.rotate = function (degree, obj) {\n        var parent = this.parent;\n        var isRotate = false;\n        if (!parent.disabled && parent.isImageLoaded && (degree % 90 === 0)) {\n            this.rotateImage(degree);\n        }\n        obj['isRotate'] = isRotate;\n    };\n    Transform.prototype.flip = function (direction) {\n        var parent = this.parent;\n        if (!parent.disabled && parent.isImageLoaded) {\n            this.flipImage(direction);\n        }\n    };\n    Transform.prototype.update = function () {\n        var parent = this.parent;\n        var toolbarHeight = 0;\n        var isActiveObj = false;\n        var freehandObj = { bool: false };\n        var straightenObj = { bool: parent.isStraightening };\n        var cxtTbarHeight = 0;\n        var ctToolbar = parent.element.querySelector('#' + parent.element.id + '_contextualToolbar');\n        var ctWrapper = parent.element.querySelector('.e-contextual-toolbar-wrapper');\n        var hdWrapper = parent.element.querySelector('#' + parent.element.id + '_headWrapper');\n        if (parent.isImageLoaded) {\n            var isCropSelection = false;\n            var splitWords = void 0;\n            if (Browser.isDevice) {\n                if (parent.activeObj.shape) {\n                    splitWords = parent.activeObj.shape.split('-');\n                }\n                if (parent.currObjType.isCustomCrop) {\n                    isCropSelection = true;\n                }\n                else if (splitWords && splitWords[0] === 'crop') {\n                    isCropSelection = true;\n                }\n            }\n            var frameObj = { bool: null };\n            parent.notify('toolbar', { prop: 'getFrameToolbar', onPropertyChange: false, value: { obj: frameObj } });\n            if (!straightenObj['bool'] && ((ctToolbar && !ctToolbar.parentElement.classList.contains('e-hide')) ||\n                (hdWrapper && !hdWrapper.parentElement.classList.contains('e-hide')))) {\n                ctWrapper.classList.add('e-hide');\n                if (!isCropSelection) {\n                    parent.okBtn(null, true);\n                }\n                parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n                parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n            }\n            parent.notify('selection', { prop: 'getFreehandDrawEditing', onPropertyChange: false, value: { obj: freehandObj } });\n            if (freehandObj['bool']) {\n                parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n            }\n            var actPoint = extend({}, parent.activeObj.activePoint, {}, true);\n            if (parent.activeObj.shape && (actPoint.width !== 0 || actPoint.height !== 0)) {\n                isActiveObj = true;\n                if (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') {\n                    parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                        value: { x: null, y: null, isMouseDown: null } });\n                    parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n                }\n                else {\n                    parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n                    parent.objColl.push(parent.activeObj);\n                }\n                parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            }\n        }\n        parent.updateDropInfoContent(parent.element.querySelector('.e-ie-drop-info'));\n        var tempFilter = this.lowerContext.filter;\n        var canvasWrapper = parent.element.querySelector('#' + parent.element.id + '_canvasWrapper');\n        if (canvasWrapper) {\n            canvasWrapper.style.width = parent.element.offsetWidth - 2 + 'px';\n        }\n        parent.lowerCanvas.width = parent.upperCanvas.width = parent.maskCanvas.width = parent.element.offsetWidth - 2;\n        if (parent.toolbarTemplate) {\n            toolbarHeight = parent.element.querySelector('#' + parent.element.id + '_toolbarArea').clientHeight;\n        }\n        else if (parent.element.querySelector('#' + parent.element.id + '_toolbar')) {\n            toolbarHeight = parent.element.querySelector('#' + parent.element.id + '_toolbar').clientHeight;\n            if (toolbarHeight === 0 && parent.toolbar && parent.toolbar.length > 0 && parent.toolbar.indexOf('Open') === -1) {\n                var obj = { toolbarHeight: 0 };\n                parent.notify('toolbar', { prop: 'getToolbarHeight', value: { obj: obj } });\n                toolbarHeight = obj['toolbarHeight'];\n            }\n        }\n        var ctxTbarArea = parent.element.querySelector('#' + parent.element.id + '_contextualToolbarArea');\n        if (Browser.isDevice && straightenObj['bool'] && ctxTbarArea) {\n            cxtTbarHeight = ctxTbarArea.clientHeight;\n        }\n        parent.notify('toolbar', { prop: 'setToolbarHeight', value: { height: toolbarHeight } });\n        if (Browser.isDevice) {\n            if (canvasWrapper) {\n                canvasWrapper.style.height = parent.element.offsetHeight - ((2 * toolbarHeight) + cxtTbarHeight) - 4 + 'px';\n            }\n        }\n        else {\n            if (canvasWrapper) {\n                canvasWrapper.style.height = parent.element.offsetHeight - toolbarHeight - 2 + 'px';\n            }\n        }\n        parent.lowerCanvas.height = parent.upperCanvas.height = parseFloat(canvasWrapper.style.height);\n        this.lowerContext.filter =\n            'brightness(' + 1 + ') ' + 'contrast(' + 100 + '%) ' + 'hue-rotate(' + 0 + 'deg) ' +\n                'saturate(' + 100 + '%) ' + 'opacity(' + 1 + ') ' + 'blur(' + 0 + 'px) ' + 'sepia(0%) ' + 'grayscale(0%) ' + 'invert(0%)';\n        parent.notify('filter', { prop: 'setAdjustmentValue', onPropertyChange: false, value: { adjustmentValue: this.lowerContext.filter } });\n        parent.canvasFilter = this.lowerContext.filter;\n        parent.initialAdjustmentValue = this.lowerContext.filter;\n        parent.clearContext(this.lowerContext);\n        parent.clearContext(this.upperContext);\n        if (parent.isImageLoaded) {\n            parent.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: null } });\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            this.lowerContext.filter = tempFilter;\n            parent.initialAdjustmentValue = tempFilter;\n            parent.canvasFilter = this.lowerContext.filter;\n            if (parent.isImageLoaded) {\n                showSpinner(parent.element);\n                parent.element.style.opacity = '0.5';\n            }\n            this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            if (canvasWrapper) {\n                canvasWrapper.style.width = parent.element.offsetWidth - 2 + 'px';\n                canvasWrapper.style.height = parent.element.offsetHeight + 'px';\n                var obj_1 = { toolbarHeight: 0 };\n                parent.notify('toolbar', { prop: 'getToolbarHeight', value: { obj: obj_1 } });\n                if (Browser.isDevice) {\n                    canvasWrapper.style.height = (parseFloat(canvasWrapper.style.height) - (2 * obj_1['toolbarHeight']) - cxtTbarHeight) - 4 + 'px';\n                }\n                else {\n                    canvasWrapper.style.height = (parseFloat(canvasWrapper.style.height) - obj_1['toolbarHeight']) - 2 + 'px';\n                }\n            }\n            parent.lowerCanvas.width = parent.upperCanvas.width = parent.maskCanvas.width =\n                parseFloat(canvasWrapper.style.width);\n            parent.lowerCanvas.height = parent.upperCanvas.height = parent.maskCanvas.height =\n                parseFloat(canvasWrapper.style.height);\n            this.lowerContext.filter = tempFilter;\n            var obj = { width: 0, height: 0 };\n            this.calcMaxDimension(parent.img.srcWidth, parent.img.srcHeight, obj);\n            var maxDimension = obj;\n            if (straightenObj['bool'] && parent.transform.cropZoomFactor !== 0) {\n                maxDimension.width += (maxDimension.width * parent.transform.cropZoomFactor);\n                maxDimension.height += (maxDimension.height * parent.transform.cropZoomFactor);\n            }\n            else if (parent.transform.defaultZoomFactor > 0) {\n                maxDimension.width += (maxDimension.width * parent.transform.defaultZoomFactor);\n                maxDimension.height += (maxDimension.height * parent.transform.defaultZoomFactor);\n            }\n            parent.img.destLeft = (parent.lowerCanvas.clientWidth - maxDimension.width) / 2;\n            parent.img.destTop = (parent.lowerCanvas.clientHeight - maxDimension.height + 1) / 2;\n            if (parent.transform.degree === 0 && parent.transform.currFlipState === '') {\n                if (parent.transform.defaultZoomFactor > 0) {\n                    parent.img.destLeft += parent.panPoint.totalPannedPoint.x;\n                    parent.img.destTop += parent.panPoint.totalPannedPoint.y;\n                }\n                parent.notify('draw', { prop: 'draw-image-to-canvas', value: { dimension: maxDimension } });\n            }\n            else {\n                parent.notify('draw', { prop: 'draw-image-to-canvas', value: { dimension: maxDimension } });\n                parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n                    value: { type: 'initial', isPreventDestination: null, isRotatePan: null } });\n                var temp = this.lowerContext.filter;\n                parent.notify('draw', { prop: 'drawImage', onPropertyChange: false });\n                this.lowerContext.filter = temp;\n                parent.notify('draw', { prop: 'updateCurrTransState', onPropertyChange: false,\n                    value: { type: 'reverse', isPreventDestination: null, isRotatePan: null } });\n            }\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n            parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n            parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.upperContext } });\n            if (parent.isCircleCrop) {\n                parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                    value: { context: this.lowerContext, isSave: null, isFlip: null } });\n            }\n            hideSpinner(parent.element);\n            parent.element.style.opacity = '1';\n            var obj1 = { defToolbarItems: null };\n            parent.notify('toolbar', { prop: 'getDefToolbarItems', value: { obj: obj1 } });\n            if (obj1['defToolbarItems'] && obj1['defToolbarItems'].length > 0 && document.getElementById(parent.element.id + '_toolbar')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var toolbar_1 = getComponent(parent.element.id + '_toolbar', 'toolbar');\n                if (toolbar_1) {\n                    toolbar_1.refreshOverflow();\n                }\n                if (ctWrapper && !straightenObj['bool']) {\n                    ctWrapper.classList.add('e-hide');\n                }\n            }\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n            if (isActiveObj) {\n                var activeObj = extend({}, parent.objColl[parent.objColl.length - 1], null, true);\n                parent.objColl.pop();\n                if (activeObj.activePoint.width !== 0 && activeObj.activePoint.height !== 0) {\n                    this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null } });\n                    parent.objColl.push(activeObj);\n                    parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                        value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n                    activeObj = extend({}, parent.objColl[parent.objColl.length - 1], null, true);\n                    parent.objColl.pop();\n                    this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null } });\n                    parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: activeObj } });\n                    if (straightenObj['bool']) {\n                        parent.notify('draw', { prop: 'setStraightenActObj', value: { activeObj: activeObj } });\n                    }\n                    if (parent.activeObj.shape === 'rectangle' || parent.activeObj.shape === 'ellipse' || parent.activeObj.shape === 'text' ||\n                        parent.activeObj.shape === 'line' || parent.activeObj.shape === 'arrow' || parent.activeObj.shape === 'path' ||\n                        parent.activeObj.shape === 'image') {\n                        parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n                    }\n                }\n            }\n            if (freehandObj['bool']) {\n                parent.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: true } });\n            }\n            if (parent.isResize) {\n                parent.aspectWidth = Math.ceil(parent.img.destWidth);\n                parent.aspectHeight = Math.ceil(parent.img.destHeight);\n                parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'resize',\n                        isApplyBtn: false, isCropping: false } });\n                parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'resize',\n                        isApplyBtn: false, isCropping: false } });\n            }\n            if ((parent.transform.degree !== 0 || parent.transform.currFlipState !== '') && parent.transform.defaultZoomFactor > 0) {\n                var totalPannedPoint = extend({}, parent.panPoint.totalPannedPoint, null, true);\n                var totalPannedInternalPoint = extend({}, parent.panPoint.totalPannedInternalPoint, null, true);\n                var totalPannedClientPoint = extend({}, parent.panPoint.totalPannedClientPoint, null, true);\n                this.zoomAction(.1);\n                this.zoomAction(-.1);\n                if (parent.transform.degree === 0) {\n                    parent.img.destLeft += totalPannedPoint.x;\n                    parent.img.destTop += totalPannedPoint.y;\n                    parent.panPoint.totalPannedPoint = totalPannedPoint;\n                    parent.notify('draw', { prop: 'updateFlipPan', value: { tempSelectionObj: null } });\n                }\n                else {\n                    parent.panPoint.totalPannedInternalPoint = totalPannedInternalPoint;\n                    parent.panPoint.totalPannedClientPoint = totalPannedClientPoint;\n                    parent.panPoint.currentPannedPoint = { x: 0, y: 0 };\n                    parent.isCropTab = true;\n                    this.rotatePan();\n                    parent.isCropTab = false;\n                }\n            }\n            else if (parent.transform.degree !== 0 && parent.transform.cropZoomFactor > 0) {\n                parent.transform.zoomFactor = 0;\n                parent.transform.cropZoomFactor = null;\n                parent.notify('toolbar', { prop: 'enable-disable-btns', onPropertyChange: false });\n            }\n        }\n    };\n    Transform.prototype.calcMaxDimension = function (width, height, obj, isImgShape) {\n        var object = { toolbarHeight: 0 };\n        var parent = this.parent;\n        parent.notify('toolbar', { prop: 'getToolbarHeight', value: { obj: object } });\n        var canvasMaxWidth = isImgShape ? parent.element.clientWidth / 3 :\n            parent.element.clientWidth;\n        var canvasMaxHeight = isImgShape ? (parent.element.clientHeight - object['toolbarHeight']) / 3 :\n            parent.element.clientHeight - (object['toolbarHeight']); // 1px border\n        canvasMaxHeight = Browser.isDevice ? canvasMaxHeight - (object['toolbarHeight']) : canvasMaxHeight; // 1px border\n        if (Browser.isDevice && parent.isStraightening) {\n            var cxtTbar = parent.element.querySelector('#' + parent.element.id + '_contextualToolbarArea');\n            canvasMaxHeight -= cxtTbar ? cxtTbar.clientHeight : 0;\n        }\n        if (!isImgShape && parent.element.clientHeight === 0) {\n            canvasMaxHeight = 0;\n        }\n        if (isNullOrUndefined(isImgShape)) {\n            if (canvasMaxWidth > 30) {\n                canvasMaxWidth -= 30;\n            }\n            if (canvasMaxHeight > 30) {\n                canvasMaxHeight -= 30;\n            }\n        }\n        var widthScale = canvasMaxWidth / width;\n        var heightScale = canvasMaxHeight / height;\n        var cssMaxWidth = Math.min(width, canvasMaxWidth);\n        var cssMaxHeight = Math.min(height, canvasMaxHeight);\n        if (widthScale < 1 && widthScale < heightScale) {\n            cssMaxWidth = width * widthScale;\n            cssMaxHeight = height * widthScale;\n        }\n        else if (heightScale < 1 && heightScale < widthScale) {\n            cssMaxWidth = width * heightScale;\n            cssMaxHeight = height * heightScale;\n        }\n        if (isNullOrUndefined(isImgShape)) {\n            var cropObj = { bool: null };\n            parent.notify('crop', { prop: 'getPreventScaling', onPropertyChange: false,\n                value: { obj: cropObj } });\n            if (cropObj['bool'] && parent.cropObj.activeObj.activePoint &&\n                parent.cropObj.activeObj.activePoint.width !== 0 && parent.cropObj.activeObj.activePoint.height !== 0) {\n                cssMaxWidth = parent.cropObj.activeObj.activePoint.width;\n                cssMaxHeight = parent.cropObj.activeObj.activePoint.height;\n            }\n        }\n        if (obj) {\n            obj['width'] = cssMaxWidth;\n            obj['height'] = cssMaxHeight;\n        }\n        return { width: cssMaxWidth, height: cssMaxHeight };\n    };\n    Transform.prototype.updatePanPoints = function (x, y) {\n        var parent = this.parent;\n        var tempActObj = extend({}, parent.activeObj, {}, true);\n        var tempDestLeft = parent.img.destLeft;\n        var tempDestTop = parent.img.destTop;\n        if (isNullOrUndefined(this.tempPanMove)) {\n            this.tempPanMove = { x: this.panMove.x, y: this.panMove.y };\n        }\n        var xDiff = this.panMove.x - this.tempPanMove.x;\n        var yDiff = this.panMove.y - this.tempPanMove.y;\n        if (x || y) {\n            xDiff = x;\n            yDiff = y;\n        }\n        parent.img.destLeft += xDiff;\n        parent.img.destTop += yDiff;\n        this.limitPan();\n        var obj = { bool: null };\n        var object = { isIntersect: null };\n        parent.notify('draw', { prop: 'updateImgCanvasPoints', onPropertyChange: false });\n        parent.notify('draw', { prop: 'isLinesIntersect', onPropertyChange: false, value: { obj: object } });\n        parent.notify('draw', { prop: 'isSelOutsideImg', onPropertyChange: false, value: { obj: obj } });\n        var count = 0;\n        while (parent.transform.straighten !== 0 && (object['isIntersect'] || obj['bool'])) {\n            count++;\n            parent.img.destLeft = tempDestLeft;\n            parent.img.destTop = tempDestTop;\n            if (xDiff !== 0 && xDiff > 0) {\n                xDiff -= 1;\n            }\n            else if (xDiff !== 0 && xDiff < 0) {\n                xDiff += 1;\n            }\n            if (yDiff !== 0 && yDiff > 0) {\n                yDiff -= 1;\n            }\n            else if (yDiff !== 0 && yDiff < 0) {\n                yDiff += 1;\n            }\n            if ((xDiff === 0 && yDiff === 0) || count === 200) {\n                break;\n            }\n            parent.img.destLeft += xDiff;\n            parent.img.destTop += yDiff;\n            this.limitPan();\n            parent.notify('draw', { prop: 'updateImgCanvasPoints', onPropertyChange: false });\n            parent.notify('draw', { prop: 'isLinesIntersect', onPropertyChange: false, value: { obj: object } });\n            parent.notify('draw', { prop: 'isSelOutsideImg', onPropertyChange: false, value: { obj: obj } });\n        }\n        parent.activeObj = tempActObj;\n        return { x: parent.img.destLeft - tempDestLeft, y: parent.img.destTop - tempDestTop };\n    };\n    Transform.prototype.resizeImage = function (width, height) {\n        var parent = this.parent;\n        var temp = true;\n        var temp1 = true;\n        parent.allowDownScale = false;\n        parent.img.srcLeft = 0;\n        parent.img.srcTop = 0;\n        parent.isAspectRatio = true;\n        var minimum = [];\n        parent.img.srcWidth = parent.baseImgCanvas.width;\n        parent.img.srcHeight = parent.baseImgCanvas.height;\n        if (parent.resizeSrc && parent.resizeSrc.width !== 0 && parent.resizeSrc.height !== 0) {\n            parent.img.srcLeft = parent.resizeSrc.startX;\n            parent.img.srcTop = parent.resizeSrc.startY;\n            parent.img.srcWidth = parent.resizeSrc.width;\n            parent.img.srcHeight = parent.resizeSrc.height;\n        }\n        while ((width < parent.img.destWidth || height < parent.img.destHeight) && temp1) {\n            this.zoomAction(-.1, null, true, true);\n            if (width > parent.img.destWidth || height > parent.img.destHeight) {\n                while (width > parent.img.destWidth || height > parent.img.destHeight) {\n                    this.zoomAction(0.0125, null, true, true);\n                    temp1 = false;\n                    minimum.push(parent.img.destWidth);\n                }\n            }\n        }\n        while ((width > parent.img.destWidth || height > parent.img.destHeight) && temp1 && temp) {\n            this.zoomAction(.1, null, true, true);\n            if (width < parent.img.destWidth || height < parent.img.destHeight) {\n                while (width < parent.img.destWidth) {\n                    this.zoomAction(-.0125, null, true, true);\n                    temp = false;\n                    minimum.push(parent.img.destWidth);\n                }\n            }\n        }\n        var nearestNumber = minimum[0];\n        var smallestDifference = Math.abs(parent.img.destWidth - nearestNumber);\n        for (var _i = 0, minimum_1 = minimum; _i < minimum_1.length; _i++) {\n            var num = minimum_1[_i];\n            var difference = Math.abs(width - num);\n            if (difference < smallestDifference) {\n                nearestNumber = num;\n                smallestDifference = difference;\n            }\n        }\n        if (nearestNumber < width && temp) {\n            this.zoomAction(-.0125, null, true, true);\n            temp = false;\n        }\n        if (nearestNumber > width && !temp) {\n            this.zoomAction(.0125, null, true, true);\n            temp = false;\n        }\n        this.zoomAction(.0125, null, true);\n        parent.allowDownScale = true;\n        this.zoomAction(-.0125, null, true);\n        var prevCropObj = extend({}, parent.cropObj, {}, true);\n        var prevObj = extend({}, this.prevResizeCurrObj, {}, true);\n        parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: { operation: 'resize',\n                previousObj: prevObj, previousObjColl: prevObj.objColl, previousPointColl: prevObj.pointColl,\n                previousSelPointColl: prevObj.selPointColl, previousCropObj: prevCropObj, previousText: null, currentText: null,\n                previousFilter: null, isCircleCrop: parent.isCircleCrop } });\n        parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n    };\n    Transform.prototype.resizeCrop = function (width, height) {\n        var parent = this.parent;\n        var temp = true;\n        var obj1 = { prevObj: parent.prevObj };\n        parent.cropObj = extend({}, parent.prevCropObj, {}, true);\n        parent.allowDownScale = false;\n        parent.notify('toolbar', { prop: 'getPrevObj', onPropertyChange: false, value: { obj: obj1 } });\n        var activeObj = extend({}, obj1['prevObj']['activeObj'], {}, true);\n        obj1['prevObj']['activeObj'] = extend({}, parent.activeObj, {}, true);\n        parent.notify('draw', { prop: 'setCurrentObj', onPropertyChange: false, value: { obj: obj1['prevObj'] } });\n        parent.objColl = extend([], obj1['prevObj']['objColl'], [], true);\n        parent.pointColl = extend([], obj1['prevObj']['pointColl'], [], true);\n        parent.transform.straighten = 0;\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n        if (parent.transform.straighten === 0 && !this.isPreventSelect) {\n            parent.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false });\n        }\n        var tempwidth = width;\n        var tempheight = height;\n        var tempZoom = false;\n        if (height >= width && height <= Math.ceil(parent.img.destHeight)) {\n            while ((height <= Math.ceil(parent.img.destHeight)) && temp) {\n                this.zoomAction(-.1, null, true, true);\n                if (width > parent.img.destWidth || height > parent.img.destHeight) {\n                    while (width > parent.img.destWidth || height > parent.img.destHeight) {\n                        this.zoomAction(.0125, null, true, true);\n                        temp = false;\n                    }\n                }\n            }\n        }\n        else if (height <= width && width < parent.img.destWidth) {\n            while ((width < parent.img.destWidth) && temp) {\n                this.zoomAction(-.1, null, true, true);\n                if (width > parent.img.destWidth || height > parent.img.destHeight) {\n                    while (width > parent.img.destWidth || height > parent.img.destHeight) {\n                        this.zoomAction(.0125, null, true, true);\n                        temp = false;\n                    }\n                }\n            }\n        }\n        else if (height >= width && height >= parent.img.destHeight) {\n            while ((height >= parent.img.destHeight) && temp) {\n                this.zoomAction(.1, null, true, true);\n            }\n        }\n        else if (width >= height && width >= parent.img.destWidth) {\n            while ((width >= parent.img.destWidth) && temp) {\n                this.zoomAction(.1, null, true, true);\n            }\n            if (width < parent.img.destWidth && height < parent.img.destHeight) {\n                while (width < parent.img.destWidth && height < parent.img.destHeight) {\n                    this.zoomAction(-.0125, null, true, true);\n                    temp = false;\n                }\n                this.zoomAction(.0125, null, true, true);\n            }\n        }\n        else if (height > parent.img.destHeight && width > parent.img.destWidth) {\n            while ((height > parent.img.destHeight) && (width > parent.img.destWidth) && temp) {\n                this.zoomAction(.1, null, true, true);\n            }\n            if (width < parent.img.destWidth && height < parent.img.destHeight) {\n                while (width < parent.img.destWidth && height < parent.img.destHeight) {\n                    this.zoomAction(-.0125, null, true, true);\n                    temp = false;\n                }\n                this.zoomAction(.0125, null, true, true);\n            }\n        }\n        this.resizeImg(activeObj, width, height);\n        width = tempwidth;\n        height = tempheight;\n        if ((height !== parent.img.destHeight || width !== parent.img.destWidth)) {\n            while ((height > parent.img.destHeight || width > parent.img.destWidth)) {\n                this.zoomAction(.0125, null, true, true);\n                tempZoom = true;\n            }\n            if (tempZoom) {\n                this.zoomAction(-.0125, null, true, true);\n                tempZoom = false;\n            }\n        }\n        if ((height !== parent.img.destHeight || width !== parent.img.destWidth)) {\n            while ((height < parent.img.destHeight || width < parent.img.destWidth)) {\n                this.zoomAction(-.0125, null, true, true);\n                tempZoom = true;\n            }\n            if (tempZoom) {\n                this.zoomAction(-.0125, null, true, true);\n                tempZoom = false;\n            }\n        }\n        obj1['prevObj']['activeObj'] = extend({}, activeObj, {}, true);\n        this.zoomAction(.0125, null, true);\n        parent.allowDownScale = this.preventDownScale ? false : true;\n        parent.isCropTab = false;\n        this.zoomAction(-.0125, null, true);\n        parent.aspectWidth = width;\n        parent.aspectHeight = height;\n    };\n    Transform.prototype.resizeImg = function (activeObj, width, height) {\n        var parent = this.parent;\n        var widthRatio = width / parent.img.destWidth;\n        var heightRatio = height / parent.img.destHeight;\n        if (activeObj.shape) {\n            parent.currSelectionPoint = activeObj;\n            parent.notify('crop', { prop: 'setInitCrop', onPropertyChange: false, value: { bool: true } });\n        }\n        else if (parent.img.srcWidth === parent.baseImgCanvas.width && parent.img.srcHeight === parent.baseImgCanvas.height) {\n            parent.currSelectionPoint = null;\n            parent.notify('draw', { prop: 'select', onPropertyChange: false,\n                value: { type: 'custom', startX: null, startY: null, width: null, height: null } });\n        }\n        if (isNullOrUndefined(parent.currSelectionPoint)) {\n            parent.notify('draw', { prop: 'select', onPropertyChange: false,\n                value: { type: 'custom', startX: parent.img.destLeft, startY: parent.img.destTop,\n                    width: parent.img.destWidth, height: parent.img.destHeight } });\n        }\n        else {\n            parent.notify('draw', { prop: 'select', onPropertyChange: false,\n                value: { type: 'custom', startX: null, startY: null, width: null, height: null } });\n        }\n        width = parent.activeObj.activePoint.width * widthRatio;\n        height = parent.activeObj.activePoint.height * heightRatio;\n        var sx = (parent.activeObj.activePoint.startX + (parent.activeObj.activePoint.width / 2)) - (width / 2);\n        var sy = (parent.activeObj.activePoint.startY + (parent.activeObj.activePoint.height / 2)) - (height / 2);\n        var count = 0;\n        while (Browser.isDevice && count < 500 && (sx < 0 || sy < 0 || (sx + width) > parent.img.destWidth\n            || (sy + height) > parent.img.destHeight)) {\n            count++;\n            width -= 1;\n            height -= 1;\n            sx = (parent.activeObj.activePoint.startX + (parent.activeObj.activePoint.width / 2)) - (width / 2);\n            sy = (parent.activeObj.activePoint.startY + (parent.activeObj.activePoint.height / 2)) - (height / 2);\n        }\n        parent.transform.defaultZoomFactor = 0;\n        parent.notify('draw', { prop: 'setResizeSelect', value: { bool: true } });\n        parent.notify('draw', { prop: 'setIsCropSelect', value: { bool: true } });\n        parent.notify('draw', { prop: 'select', onPropertyChange: false,\n            value: { type: 'custom', startX: sx, startY: sy, width: width, height: height } });\n        parent.notify('draw', { prop: 'setResizeSelect', value: { bool: false } });\n        if (parent.transform.straighten !== 0) {\n            var obj = { isIntersect: null, arr: null };\n            parent.notify('draw', { prop: 'updateImgCanvasPoints', onPropertyChange: false });\n            parent.notify('draw', { prop: 'isLinesIntersect', onPropertyChange: false, value: { obj: obj } });\n            while (obj['arr'][0] || obj['arr'][1] || obj['arr'][2] || obj['arr'][3]) {\n                this.zoomAction(.0125, null, true);\n                parent.notify('draw', { prop: 'updateImgCanvasPoints', onPropertyChange: false });\n                parent.notify('draw', { prop: 'isLinesIntersect', onPropertyChange: false, value: { obj: obj } });\n            }\n        }\n        parent.isCropToolbar = true;\n        parent.crop();\n        parent.isCropToolbar = false;\n    };\n    Transform.prototype.updateResize = function () {\n        var parent = this.parent;\n        parent.prevCropObj = extend({}, parent.cropObj, {}, true);\n        var currObject = { currObj: {} };\n        parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: currObject } });\n        parent.prevObj = currObject['currObj'];\n        if (parent.currSelectionPoint && parent.prevCropObj.activeObj.shape) {\n            parent.prevObj.activeObj = extend({}, parent.prevCropObj.activeObj, {}, true);\n        }\n        parent.prevObj.objColl = extend([], parent.objColl, [], true);\n        parent.prevObj.pointColl = extend([], parent.pointColl, [], true);\n        parent.prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        parent.prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        parent.resizeSrc = { startX: parent.img.srcLeft, startY: parent.img.srcTop, width: parent.img.srcWidth,\n            height: parent.img.srcHeight };\n    };\n    Transform.prototype.resize = function (width, height, isAspectRatio) {\n        var parent = this.parent;\n        var aspectHeight;\n        parent.isResize = true;\n        if (isNullOrUndefined(parent.prevCropObj) && isNullOrUndefined(parent.prevObj)) {\n            parent.notify('transform', { prop: 'updateResize', value: { bool: false } });\n        }\n        var aspectIcon = parent.element.querySelector('#' + parent.element.id + '_aspectratio');\n        var nonAspectIcon = parent.element.querySelector('#' + parent.element.id + '_nonaspectratio');\n        if (aspectIcon && nonAspectIcon) {\n            parent.notify('toolbar', { prop: 'initResizeToolbar' });\n            if (Browser.isDevice) {\n                parent.notify('toolbar', { prop: 'init-main-toolbar', value: { isApplyBtn: false, isDevice: true, isOkBtn: true, isResize: true } });\n            }\n        }\n        var aspectRatioHeight = parent.element.querySelector('#' + parent.element.id + '_resizeHeight');\n        if (aspectRatioHeight) {\n            aspectHeight = aspectRatioHeight.value === '' ? aspectRatioHeight.placeholder : aspectRatioHeight.value;\n        }\n        else {\n            aspectHeight = height + 'px';\n        }\n        var resizeEventArgs = { cancel: false, previousWidth: Math.ceil(parent.img.destWidth),\n            previousHeight: Math.ceil(parent.img.destHeight), width: Math.ceil(width), height: height && height !== 0 ? Math.ceil(height) :\n                (isAspectRatio ? Math.ceil(parseFloat(aspectHeight)) : Math.ceil(parent.img.destHeight)),\n            isAspectRatio: isAspectRatio ? isAspectRatio : false };\n        parent.trigger('resizing', resizeEventArgs);\n        parent.editCompleteArgs = resizeEventArgs;\n        if (!resizeEventArgs.cancel) {\n            this.resizeEventHandler(resizeEventArgs);\n        }\n        else if (parent.aspectHeight && parent.aspectWidth) {\n            parent.aspectHeight = resizeEventArgs.previousHeight;\n            parent.aspectWidth = resizeEventArgs.previousWidth;\n        }\n    };\n    Transform.prototype.resizeEventHandler = function (args) {\n        var parent = this.parent;\n        var isRotate;\n        var aspectRatioWidth = parent.element.querySelector('#' + parent.element.id + '_resizeWidth');\n        var aspectRatioHeight = parent.element.querySelector('#' + parent.element.id + '_resizeHeight');\n        if (args.isAspectRatio) {\n            if (this.resizedImgAngle == null || this.resizedImgAngle !== parent.transform.degree) {\n                this.resizedImgAngle = parent.transform.degree;\n                isRotate = true;\n            }\n            if (isRotate) {\n                parent.notify('transform', { prop: 'resizeImage', value: { width: args.width, height: 0 } });\n                var originalWidth = parent.img.destWidth;\n                var originalHeight = parent.img.destHeight;\n                var aspectRatioWidthValue = void 0;\n                if (aspectRatioHeight) {\n                    aspectRatioWidthValue = parseFloat(aspectRatioWidth.value === '' ? aspectRatioWidth.placeholder : aspectRatioWidth.value);\n                    var value = aspectRatioWidthValue / (originalWidth / originalHeight);\n                    // eslint-disable-next-line max-len\n                    var height = value % 1 >= 0.5 || value % 1 <= -0.5 ? Math.round(value) : (value < 0) ? Math.ceil(value) : Math.floor(value);\n                    getComponent(aspectRatioHeight, 'numerictextbox').value = height;\n                    aspectRatioHeight.value = height.toString() + ' px';\n                    parent.aspectHeight = height;\n                    if (aspectRatioWidth && aspectRatioWidth.value === '') {\n                        var aspectRatioHeightValue = parseFloat(aspectRatioHeight.value === '' ? aspectRatioHeight.placeholder :\n                            aspectRatioHeight.value);\n                        value = aspectRatioHeightValue / (originalHeight / originalWidth);\n                        // eslint-disable-next-line max-len\n                        var width = value % 1 >= 0.5 || value % 1 <= -0.5 ? Math.round(value) : (value < 0) ? Math.ceil(value) : Math.floor(value);\n                        getComponent(aspectRatioWidth, 'numerictextbox').value = width;\n                        aspectRatioWidth.value = width.toString() + ' px';\n                        parent.aspectWidth = width;\n                    }\n                }\n            }\n            else {\n                parent.notify('transform', { prop: 'resizeImage', value: { width: args.width, height: null } });\n            }\n        }\n        else {\n            if (this.resizedImgAngle !== null && this.resizedImgAngle !== parent.transform.degree) {\n                this.resizedImgAngle = parent.transform.degree;\n                isRotate = true;\n            }\n            if (isRotate) {\n                parent.notify('transform', { prop: 'setPreventDownScale', value: { bool: true } });\n                parent.notify('transform', { prop: 'resizeCrop', value: { width: args.width, height: args.height } });\n                parent.notify('undo-redo', { prop: 'setPreventUR', value: { bool: true } });\n                parent.okBtn(null, true);\n                parent.notify('undo-redo', { prop: 'setPreventUR', value: { bool: false } });\n                parent.resizeSrc = { startX: parent.img.srcLeft, startY: parent.img.srcTop, width: parent.img.srcWidth,\n                    height: parent.img.srcHeight };\n                parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'resize',\n                        isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                parent.notify('transform', { prop: 'setPreventDownScale', value: { bool: false } });\n                parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'resize',\n                        isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n            }\n            else {\n                parent.notify('transform', { prop: 'resizeCrop', value: { width: args.width, height: args.height } });\n            }\n        }\n        this.resizedImgAngle = parent.transform.degree;\n    };\n    Transform.prototype.straightenImage = function (degree) {\n        var parent = this.parent;\n        var isSelection = parent.activeObj.shape && parent.activeObj.shape.indexOf('crop-') > -1;\n        if (parent.toolbar && parent.toolbar.length === 0) {\n            parent.notify('draw', { prop: 'select', onPropertyChange: false,\n                value: { type: 'custom', startX: null, startY: null, width: null, height: null } });\n        }\n        parent.notify('toolbar', { prop: 'performCropTransformClick', value: { shape: null } });\n        parent.setStraighten(degree);\n        if (!isSelection) {\n            parent.okBtn();\n        }\n    };\n    return Transform;\n}());\nexport { Transform };\n","import { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar UndoRedo = /** @class */ (function () {\n    function UndoRedo(parent) {\n        this.undoRedoStep = 0;\n        this.undoRedoColl = [];\n        this.appliedUndoRedoColl = [];\n        this.tempUndoRedoColl = [];\n        this.tempUndoRedoStep = 0;\n        this.isPreventing = false;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    UndoRedo.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n    };\n    UndoRedo.prototype.addEventListener = function () {\n        this.parent.on('undo-redo', this.undoRedo, this);\n        this.parent.on('destroyed', this.destroy, this);\n    };\n    UndoRedo.prototype.removeEventListener = function () {\n        this.parent.off('undo-redo', this.undoRedo);\n        this.parent.off('destroyed', this.destroy);\n    };\n    UndoRedo.prototype.initializeUrPvtProp = function () {\n        if (this.parent.lowerCanvas) {\n            this.lowerContext = this.parent.lowerCanvas.getContext('2d');\n        }\n        if (this.parent.upperCanvas) {\n            this.upperContext = this.parent.upperCanvas.getContext('2d');\n        }\n    };\n    UndoRedo.prototype.undoRedo = function (args) {\n        this.initializeUrPvtProp();\n        switch (args.prop) {\n            case 'updateUndoRedoColl':\n                this.updateUrc(args.value['operation'], args.value['previousObj'], args.value['previousObjColl'], args.value['previousPointColl'], args.value['previousSelPointColl'], args.value['previousCropObj'], args.value['previousText'], args.value['currentText'], args.value['previousFilter'], args.value['isCircleCrop']);\n                break;\n            case 'refreshUrc':\n                this.refreshUrc(args.value['bool']);\n                break;\n            case 'updateCurrUrc':\n                this.updateCurrUrc(args.value['type'], args.value['isCancel']);\n                break;\n            case 'call-undo':\n                this.callUndo();\n                break;\n            case 'call-redo':\n                this.callRedo();\n                break;\n            case 'undo':\n                this.undo();\n                break;\n            case 'redo':\n                this.redo();\n                break;\n            case 'updateUrObj':\n                this.updateUrObj(args.value['objColl'], args.value['operation']);\n                break;\n            case 'updateUndoRedo':\n                this.updateUndoRedo(args.value ? args.value['operation'] : null);\n                break;\n            case 'getAppliedUndoRedoColl':\n                args.value['obj']['appliedUndoRedoColl'] = this.appliedUndoRedoColl;\n                break;\n            case 'getUndoRedoStep':\n                args.value['obj']['undoRedoStep'] = this.undoRedoStep;\n                break;\n            case 'setUndoRedoStep':\n                this.undoRedoStep = args.value['step'];\n                break;\n            case 'undoDefault':\n                this.undoDefault(args.value['obj']);\n                break;\n            case 'setPreventUR':\n                this.isPreventing = args.value['bool'];\n                break;\n            case 'updateUndoRedoStack':\n                if (args.value && args.value['isPenDraw']) {\n                    this.updateUndoRedoStack(args.value['isPenDraw']);\n                }\n                else {\n                    this.updateUndoRedoStack();\n                }\n                break;\n            case 'reset':\n                this.reset();\n                break;\n        }\n    };\n    UndoRedo.prototype.getModuleName = function () {\n        return 'undo-redo';\n    };\n    UndoRedo.prototype.reset = function () {\n        this.tempCurrSelPoint = null;\n        this.undoRedoStep = 0;\n        this.undoRedoColl = [];\n        this.appliedUndoRedoColl = [];\n        this.tempActObj = null;\n        this.tempUndoRedoColl = [];\n        this.tempUndoRedoStep = 0;\n        this.isPreventing = false;\n    };\n    UndoRedo.prototype.refreshUrc = function (refreshToolbar) {\n        var parent = this.parent;\n        if (parent.isImageUpdated) {\n            return;\n        }\n        refreshToolbar = refreshToolbar ? refreshToolbar : false;\n        if (refreshToolbar) {\n            parent.notify('toolbar', { prop: 'setEnableDisableUndoRedo', value: { isPrevent: true } });\n            this.tempUndoRedoColl = extend([], this.appliedUndoRedoColl, [], true);\n            this.tempUndoRedoStep = this.undoRedoStep;\n        }\n        parent.notify('toolbar', { prop: 'setEnableDisableUndoRedo', value: { isPrevent: false } });\n        this.undoRedoColl = this.undoRedoColl.slice(0, this.undoRedoStep);\n        this.appliedUndoRedoColl = this.appliedUndoRedoColl.slice(0, this.undoRedoStep);\n        parent.isUndoRedo = parent.currObjType.isUndoAction = false;\n        parent.notify('toolbar', { prop: 'enable-disable-btns' });\n    };\n    UndoRedo.prototype.updateCurrUrc = function (type, isCancel) {\n        var parent = this.parent;\n        if (parent.isResize || this.isPreventing || parent.noPushUndo) {\n            return;\n        }\n        parent.notify('toolbar', { prop: 'setEnableDisableUndoRedo', value: { isPrevent: false } });\n        if (type === 'ok') {\n            parent.notify('draw', { prop: 'setShapeTextInsert', onPropertyChange: false, value: { bool: false } });\n            var collection = this.tempUndoRedoColl.length > 0 ?\n                extend([], this.tempUndoRedoColl, [], true) :\n                extend([], this.undoRedoColl, [], true);\n            var prevObj = this.undoRedoColl[this.undoRedoColl.length - 1];\n            var appliedURColl = this.appliedUndoRedoColl[this.appliedUndoRedoColl.length - 1];\n            var prevTransform = prevObj ? extend({}, prevObj.previousObj, {}, true)\n                : null;\n            if (isNullOrUndefined(appliedURColl)) {\n                if (this.undoRedoColl[0]) {\n                    prevObj.previousCropObj = collection[0].previousCropObj;\n                    prevObj.previousObj = collection[0].previousObj;\n                    prevObj.previousObjColl = collection[0].previousObjColl;\n                    prevObj.previousPointColl = collection[0].previousPointColl;\n                    prevObj.previousText = collection[0].previousText;\n                }\n            }\n            else if (prevObj.operation !== 'imageHFlip' && prevObj.operation !== 'imageVFlip') {\n                prevObj.previousCropObj = appliedURColl.currentCropObj;\n                prevObj.previousObj = appliedURColl.currentObj;\n                prevObj.previousObjColl = appliedURColl.currentObjColl;\n                prevObj.previousPointColl = appliedURColl.currentPointColl;\n                prevObj.previousText = appliedURColl.currentText;\n                if (prevObj.operation === 'frame' && prevObj.previousObj && prevTransform) {\n                    prevObj.previousObj.defaultZoom = prevTransform.defaultZoom;\n                    prevObj.previousObj.zoomFactor = prevTransform.zoomFactor;\n                    prevObj.previousObj.cropZoom = prevTransform.cropZoom;\n                }\n            }\n            if (prevObj) {\n                if (prevObj.operation !== 'imageHFlip' && prevObj.operation !== 'imageVFlip') {\n                    var obj = this.getZeroZoomObjPointValue(prevObj.currentObjColl, prevObj.currentPointColl);\n                    prevObj.currentObjColl = obj['obj'];\n                    prevObj.currentPointColl = obj['point'];\n                    var adjObj = { adjustmentLevel: null };\n                    parent.notify('filter', { prop: 'getAdjustmentLevel', onPropertyChange: false, value: { obj: adjObj } });\n                    prevObj.currentObj.adjustmentLevel = extend({}, adjObj['adjustmentLevel'], {}, true);\n                    parent.notify('filter', { prop: 'setTempAdjVal' });\n                    prevObj.currentObj.currentFilter = parent.currentFilter;\n                }\n                this.appliedUndoRedoColl.push(prevObj);\n                if (!isCancel) {\n                    this.triggerActionCompletedEvent(prevObj.operation);\n                }\n            }\n            this.tempUndoRedoColl = [];\n            this.tempUndoRedoStep = 0;\n        }\n        else if (this.tempUndoRedoColl.length > 0) {\n            this.appliedUndoRedoColl = extend([], this.tempUndoRedoColl, [], true);\n            this.undoRedoStep = this.tempUndoRedoStep;\n            this.tempUndoRedoColl = [];\n            this.tempUndoRedoStep = 0;\n        }\n        var lastObj = this.appliedUndoRedoColl[this.appliedUndoRedoColl.length - 1];\n        var lastPrevObj = this.appliedUndoRedoColl[this.appliedUndoRedoColl.length - 2];\n        if (this.appliedUndoRedoColl.length > 16) {\n            this.appliedUndoRedoColl.splice(0, 1);\n        }\n        else if (!isCancel && lastObj && lastPrevObj) {\n            if ((((lastObj.operation === 'shapeTransform' && lastPrevObj.operation === 'shapeTransform') ||\n                (lastObj.operation === 'shapeInsert' && lastPrevObj.operation === 'shapeInsert')) &&\n                JSON.stringify(lastObj.currentObjColl) === JSON.stringify(lastPrevObj.currentObjColl)) ||\n                (lastObj.operation === 'freehand-draw' && lastPrevObj.operation === 'freehand-draw' &&\n                    JSON.stringify(lastObj.currentPointColl) === JSON.stringify(lastPrevObj.currentPointColl)) ||\n                (lastObj.operation === 'freehanddrawCustomized' && lastPrevObj.operation === 'freehanddrawCustomized' &&\n                    JSON.stringify(lastObj.currentPointColl) === JSON.stringify(lastPrevObj.currentPointColl))) {\n                this.appliedUndoRedoColl.splice(this.appliedUndoRedoColl.length - 1, 1);\n            }\n            else if (this.undoRedoStep !== this.appliedUndoRedoColl.length - 1) {\n                lastObj = this.appliedUndoRedoColl[this.appliedUndoRedoColl.length - 1];\n                lastPrevObj = this.appliedUndoRedoColl[this.undoRedoStep];\n                if (lastObj && lastPrevObj && lastObj.operation === 'shapeTransform' &&\n                    lastPrevObj.operation === 'shapeTransform' &&\n                    JSON.stringify(lastObj.currentObjColl) === JSON.stringify(lastPrevObj.previousObjColl)) {\n                    this.appliedUndoRedoColl.splice(this.appliedUndoRedoColl.length - 1, 1);\n                    this.undoRedoColl = [];\n                    this.undoRedoColl = extend([], this.appliedUndoRedoColl, [], true);\n                    return;\n                }\n            }\n        }\n        this.undoRedoColl = [];\n        this.undoRedoColl = extend([], this.appliedUndoRedoColl, [], true);\n        if (type === 'ok') {\n            this.undoRedoStep = this.undoRedoColl.length;\n            parent.notify('toolbar', { prop: 'enable-disable-btns' });\n        }\n        if (parent.transform.zoomFactor > 0) {\n            parent.togglePan = true;\n            parent.notify('selection', { prop: 'setDragCanvas', value: { bool: true } });\n        }\n    };\n    UndoRedo.prototype.triggerActionCompletedEvent = function (action) {\n        var parent = this.parent;\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var actionMap = { 'brightness': 'fine-tune', 'contrast': 'fine-tune', 'hue': 'fine-tune',\n            'saturation': 'fine-tune', 'opacity': 'fine-tune', 'blur': 'fine-tune', 'exposure': 'fine-tune',\n            'default': 'filter', 'chrome': 'filter', 'cold': 'filter', 'warm': 'filter',\n            'grayscale': 'filter', 'sepia': 'filter', 'invert': 'filter',\n            'deleteObj': 'shape-delete', 'deleteFreehandDrawing': 'freehand-draw-delete',\n            'shapeInsert': 'shape-insert', 'shapeTransform': 'shape-customize',\n            'freehanddrawCustomized': 'freehand-draw-customize'\n        };\n        var actionResult = actionMap[action] || action;\n        var actionArgs = { action: actionResult, actionEventArgs: parent.editCompleteArgs };\n        parent.triggerEditCompleteEvent(actionArgs);\n    };\n    UndoRedo.prototype.getUndoRedoAction = function (action) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var actionMap = { 'brightness': 'fine-tune', 'contrast': 'fine-tune', 'hue': 'fine-tune',\n            'saturation': 'fine-tune', 'opacity': 'fine-tune', 'blur': 'fine-tune', 'exposure': 'fine-tune',\n            'default': 'filter', 'chrome': 'filter', 'cold': 'filter', 'warm': 'filter',\n            'grayscale': 'filter', 'sepia': 'filter', 'invert': 'filter',\n            'deleteObj': 'shape-delete', 'deleteFreehandDrawing': 'freehand-drawing-delete',\n            'shapeInsert': 'shape-insert', 'shapeTransform': 'shape-customize', 'imageRotate': 'shape-customize',\n            'freehanddraw': 'freehand-draw', 'freehanddrawCustomized': 'freehand-draw-customize',\n            'textAreaCustomization': 'text-area-customization', 'imageHFlip': 'shape-customize',\n            'imageVFlip': 'shape-customize', 'bgColor': 'background-color', 'updateImage': 'image-update'\n        };\n        return actionMap[action] || action;\n    };\n    UndoRedo.prototype.cancelCropSelection = function () {\n        var parent = this.parent;\n        var isCropSelection = false;\n        var splitWords;\n        if (parent.activeObj.shape) {\n            splitWords = parent.activeObj.shape.split('-');\n        }\n        if (parent.currObjType.isCustomCrop || (splitWords && splitWords[0] === 'crop')) {\n            isCropSelection = true;\n        }\n        if (isCropSelection) {\n            parent.notify('draw', { prop: 'performCancel', value: { isContextualToolbar: null } });\n        }\n        if (this.tempUndoRedoColl.length !== 0 || this.tempUndoRedoStep !== 0) {\n            this.appliedUndoRedoColl = extend([], this.tempUndoRedoColl, [], true);\n            this.undoRedoColl = extend([], this.tempUndoRedoColl, [], true);\n            this.undoRedoStep = this.tempUndoRedoStep;\n            this.tempUndoRedoColl = [];\n            this.tempUndoRedoStep = 0;\n            parent.notify('toolbar', { prop: 'setEnableDisableUndoRedo', value: { isPrevent: false } });\n        }\n    };\n    UndoRedo.prototype.refreshToolbarActions = function () {\n        var parent = this.parent;\n        if (parent.activeObj.shape) {\n            parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'shapes',\n                    isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n            parent.notify('toolbar', { prop: 'update-toolbar-items', onPropertyChange: false });\n        }\n        else {\n            parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n        }\n    };\n    UndoRedo.prototype.applyCurrentChanges = function () {\n        var parent = this.parent;\n        parent.currObjType.isFiltered = false;\n        if (parent.transform.zoomFactor === 0) {\n            parent.togglePan = false;\n            parent.notify('selection', { prop: 'setDragCanvas', value: { bool: false } });\n        }\n        if (parent.element.querySelector('.e-contextual-toolbar-wrapper')) {\n            parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.add('e-hide');\n        }\n        if (parent.togglePen) {\n            parent.togglePen = false;\n            parent.upperCanvas.style.cursor = parent.cursor = 'default';\n            this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        }\n        if (this.appliedUndoRedoColl.length > 0) {\n            this.undoRedoColl = extend([], this.appliedUndoRedoColl, [], true);\n        }\n    };\n    UndoRedo.prototype.callUndo = function () {\n        this.applyCurrentChanges();\n        this.undo();\n    };\n    UndoRedo.prototype.callRedo = function () {\n        this.applyCurrentChanges();\n        this.redo();\n    };\n    UndoRedo.prototype.undo = function () {\n        var parent = this.parent;\n        this.cancelCropSelection();\n        parent.notify('draw', { prop: 'resetFrameZoom', onPropertyChange: false, value: { isOk: false } });\n        if (!parent.disabled && parent.isImageLoaded) {\n            if (this.undoRedoStep > 0) {\n                this.refreshToolbarActions();\n                if (parent.activeObj.activePoint && parent.activeObj.activePoint.width !== 0) {\n                    this.tempActObj = parent.activeObj;\n                }\n                parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                this.undoRedoStep--;\n                parent.notify('toolbar', { prop: 'enable-disable-btns' });\n                if (parent.element.querySelector('.e-contextual-toolbar-wrapper')) {\n                    parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.add('e-hide');\n                }\n                parent.isUndoRedo = true;\n                var obj = this.undoRedoColl[this.undoRedoStep];\n                if (this.undoRedoColl.length === this.undoRedoStep) {\n                    parent.currObjType.isUndoAction = false;\n                }\n                else {\n                    parent.currObjType.isUndoAction = true;\n                }\n                if (obj.operation !== 'textAreaCustomization' &&\n                    (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block')) {\n                    parent.textArea.style.display = 'none';\n                }\n                parent.notify('draw', { prop: 'setCancelAction', onPropertyChange: false, value: { bool: true } });\n                var activeObj = void 0;\n                parent.cropObj = extend({}, obj.previousCropObj, {}, true);\n                parent.afterCropActions = obj.previousObj.afterCropActions;\n                this.lowerContext.filter = obj.previousObj.filter;\n                parent.notify('filter', { prop: 'setAdjustmentLevel', onPropertyChange: false, value: { adjustmentLevel: obj.previousObj.adjustmentLevel } });\n                parent.notify('filter', { prop: 'setTempAdjVal' });\n                parent.currentFilter = obj.previousObj.currentFilter;\n                parent.notify('filter', { prop: 'setTempFilVal' });\n                parent.canvasFilter = this.lowerContext.filter;\n                parent.initialAdjustmentValue = this.lowerContext.filter;\n                parent.notify('filter', { prop: 'setBevelFilter', onPropertyChange: false, value: { bevelFilter: this.lowerContext.filter } });\n                var editCompleteArgs = { action: this.getUndoRedoAction(obj.operation) };\n                switch (obj.operation) {\n                    case 'shapeTransform':\n                    case 'brightness':\n                    case 'contrast':\n                    case 'hue':\n                    case 'saturation':\n                    case 'opacity':\n                    case 'blur':\n                    case 'exposure':\n                    case 'default':\n                    case 'chrome':\n                    case 'cold':\n                    case 'warm':\n                    case 'grayscale':\n                    case 'blackandwhite':\n                    case 'sepia':\n                    case 'invert':\n                    case 'sharpen':\n                    case 'imageRotate':\n                    case 'shapeInsert':\n                        this.shapeTransform(obj.previousObjColl, obj.previousPointColl);\n                        break;\n                    case 'freehanddraw':\n                    case 'freehand-draw':\n                        this.updateFreehandDraw(obj.previousPointColl, obj.previousSelPointColl);\n                        parent.notify('freehand-draw', { prop: 'setCurrentFreehandDrawIndex',\n                            value: { value: parent.pointColl.length } });\n                        break;\n                    case 'freehanddrawCustomized':\n                        this.updateFreehandDrawCustomized(obj.previousObjColl, obj.previousPointColl);\n                        break;\n                    case 'deleteFreehandDrawing':\n                    case 'deleteObj':\n                        this.updateDelete(obj.operation, obj.previousObjColl, obj.previousPointColl, obj.previousSelPointColl);\n                        break;\n                    case 'textAreaCustomization':\n                        this.shapeTransform(obj.previousObjColl, obj.previousPointColl);\n                        this.updateTextAreaCustomization(activeObj, obj.previousObjColl);\n                        break;\n                    case 'text':\n                        this.updateText(obj.previousObjColl, true);\n                        break;\n                    case 'frame':\n                        parent.transform.zoomFactor = parent.transform.defaultZoomFactor = obj.previousObj.defaultZoom;\n                        parent.setProperties({ zoomSettings: { zoomFactor: obj.previousObj.zoomFactor } }, true);\n                        parent.notify('transform', { prop: 'setPreviousZoomValue', onPropertyChange: false,\n                            value: { previousZoomValue: parent.zoomSettings.zoomFactor } });\n                        extend(parent.frameObj, obj.previousObj.frameObj);\n                        parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: true, isPreventClearRect: null, isFrame: true } });\n                        break;\n                    case 'imageHFlip':\n                        this.imageFlip('horizontal', obj.previousObjColl);\n                        break;\n                    case 'imageVFlip':\n                        this.imageFlip('vertical', obj.previousObjColl);\n                        break;\n                    case 'bgColor':\n                        parent.notify('draw', { prop: 'imageBackgroundColor', onPropertyChange: false, value: { color: obj.previousObj.bgColor } });\n                        parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n                        break;\n                    case 'updateImage':\n                        parent.isImageUpdated = true;\n                        parent.baseImg.src = obj.previousObj.imageSource;\n                        setTimeout(function () {\n                            if (parent.cropObj.straighten !== 0) {\n                                parent.notify('toolbar', { prop: 'performCropTransformClick', value: { shape: 'crop-' + 'custom' } });\n                                parent.noPushUndo = true;\n                                parent.crop();\n                                parent.noPushUndo = false;\n                            }\n                            else {\n                                parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n                            }\n                            parent.isImageUpdated = false;\n                        });\n                        break;\n                    default:\n                        this.undoDefault(obj, true);\n                        parent.notify('filter', { prop: 'set-adjustment', value: { operation: obj.operation } });\n                        parent.notify('filter', { prop: 'update-filter', value: { operation: obj.operation, filter: obj.filter } });\n                        break;\n                }\n                if (obj.operation === 'crop') {\n                    if (obj.previousObj.currSelectionPoint) {\n                        parent.currSelectionPoint = extend({}, obj.previousObj.currSelectionPoint, {}, true);\n                        if (parent.currSelectionPoint && isNullOrUndefined(parent.currSelectionPoint.shape)) {\n                            parent.currSelectionPoint = null;\n                        }\n                    }\n                    parent.updateCropTransformItems();\n                    parent.notify('draw', { prop: 'select', onPropertyChange: false,\n                        value: { type: 'custom', startX: null, startY: null, width: null, height: null } });\n                    if (parent.isCircleCrop) {\n                        parent.isCircleCrop = false;\n                        this.tempCurrSelPoint = extend({}, parent.currSelectionPoint, {}, true);\n                        parent.currSelectionPoint = null;\n                    }\n                    var tempCircleCrop = parent.cancelCropSelection.isCircleCrop;\n                    parent.cancelCropSelection.isCircleCrop = false;\n                    parent.notify('draw', { prop: 'performCancel', value: { isContextualToolbar: null, isUndoRedo: true } });\n                    parent.cancelCropSelection.isCircleCrop = tempCircleCrop;\n                    parent.currObjType.isActiveObj = false;\n                    if (parent.transform.straighten !== 0) {\n                        parent.notify('draw', { prop: 'setStraightenActObj', value: { activeObj: null } });\n                    }\n                }\n                else if (obj.operation === 'resize' && parent.cropObj && parent.cropObj.activeObj) {\n                    parent.currSelectionPoint = extend({}, parent.cropObj.activeObj, {}, true);\n                }\n                if ((this.undoRedoColl[this.undoRedoStep - 1]\n                    && this.undoRedoColl[this.undoRedoStep - 1].isCircleCrop)) {\n                    parent.isCircleCrop = true;\n                    parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                        value: { context: this.lowerContext, isSave: null, isFlip: null } });\n                }\n                this.endUndoRedo(obj.operation, true);\n                var action = { action: 'undo', actionEventArgs: editCompleteArgs };\n                parent.triggerEditCompleteEvent(action);\n            }\n        }\n    };\n    UndoRedo.prototype.redo = function () {\n        var parent = this.parent;\n        this.cancelCropSelection();\n        parent.notify('draw', { prop: 'resetFrameZoom', onPropertyChange: false, value: { isOk: false } });\n        if (!parent.disabled && parent.isImageLoaded) {\n            if (this.undoRedoStep < this.appliedUndoRedoColl.length) {\n                this.refreshToolbarActions();\n                this.undoRedoStep++;\n                parent.notify('toolbar', { prop: 'enable-disable-btns' });\n                parent.isUndoRedo = true;\n                var obj = this.undoRedoColl[this.undoRedoStep - 1];\n                if (this.undoRedoColl.length === this.undoRedoStep) {\n                    parent.currObjType.isUndoAction = false;\n                }\n                else {\n                    parent.currObjType.isUndoAction = true;\n                }\n                if (obj.operation !== 'textAreaCustomization' &&\n                    (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block')) {\n                    parent.textArea.style.display = 'none';\n                }\n                parent.notify('draw', { prop: 'setCancelAction', onPropertyChange: false, value: { bool: true } });\n                parent.cropObj = extend({}, obj.currentCropObj, {}, true);\n                parent.afterCropActions = obj.currentObj.afterCropActions;\n                this.lowerContext.filter = obj.currentObj.filter;\n                if (parent.element.querySelector('.e-contextual-toolbar-wrapper')) {\n                    parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.add('e-hide');\n                }\n                parent.notify('filter', { prop: 'setAdjustmentLevel', onPropertyChange: false, value: { adjustmentLevel: obj.currentObj.adjustmentLevel } });\n                parent.notify('filter', { prop: 'setTempAdjVal' });\n                parent.currentFilter = obj.currentObj.currentFilter;\n                parent.notify('filter', { prop: 'setTempFilVal' });\n                parent.canvasFilter = this.lowerContext.filter;\n                parent.initialAdjustmentValue = this.lowerContext.filter;\n                parent.notify('filter', { prop: 'setBevelFilter', onPropertyChange: false, value: { bevelFilter: this.lowerContext.filter } });\n                var activeObj = void 0;\n                var editCompleteArgs = { action: this.getUndoRedoAction(obj.operation) };\n                switch (obj.operation) {\n                    case 'shapeTransform':\n                    case 'brightness':\n                    case 'contrast':\n                    case 'hue':\n                    case 'saturation':\n                    case 'opacity':\n                    case 'blur':\n                    case 'exposure':\n                    case 'default':\n                    case 'chrome':\n                    case 'cold':\n                    case 'warm':\n                    case 'grayscale':\n                    case 'blackandwhite':\n                    case 'sepia':\n                    case 'invert':\n                    case 'sharpen':\n                    case 'imageRotate':\n                    case 'shapeInsert':\n                        this.shapeTransform(obj.currentObjColl, obj.currentPointColl);\n                        break;\n                    case 'freehanddraw':\n                    case 'freehand-draw':\n                        this.updateFreehandDraw(obj.currentPointColl, obj.currentSelPointColl);\n                        parent.notify('freehand-draw', { prop: 'setCurrentFreehandDrawIndex',\n                            value: { value: parent.pointColl.length } });\n                        break;\n                    case 'freehanddrawCustomized':\n                        this.updateFreehandDrawCustomized(obj.currentObjColl, obj.currentPointColl);\n                        break;\n                    case 'deleteFreehandDrawing':\n                    case 'deleteObj':\n                        this.updateDelete(obj.operation, obj.currentObjColl, obj.currentPointColl, obj.currentSelPointColl);\n                        break;\n                    case 'textAreaCustomization':\n                        this.shapeTransform(obj.currentObjColl, obj.currentPointColl);\n                        this.updateTextAreaCustomization(activeObj, obj.currentObjColl);\n                        break;\n                    case 'text':\n                        this.updateText(obj.currentObjColl, false);\n                        break;\n                    case 'frame':\n                        extend(parent.frameObj, obj.currentObj.frameObj);\n                        parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: true, isPreventClearRect: null, isFrame: true } });\n                        break;\n                    case 'imageHFlip':\n                        this.imageFlip('horizontal', obj.currentObjColl);\n                        break;\n                    case 'imageVFlip':\n                        this.imageFlip('vertical', obj.currentObjColl);\n                        break;\n                    case 'bgColor':\n                        parent.notify('draw', { prop: 'imageBackgroundColor', onPropertyChange: false, value: { color: obj.currentObj.bgColor } });\n                        parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n                        break;\n                    case 'updateImage':\n                        parent.isImageUpdated = true;\n                        parent.baseImg.src = obj.currentObj.imageSource;\n                        setTimeout(function () {\n                            if (parent.cropObj.straighten !== 0) {\n                                parent.notify('toolbar', { prop: 'performCropTransformClick', value: { shape: 'crop-' + 'custom' } });\n                                parent.noPushUndo = true;\n                                parent.crop();\n                                parent.noPushUndo = false;\n                            }\n                            else {\n                                parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n                            }\n                            parent.isImageUpdated = false;\n                        });\n                        break;\n                    default:\n                        parent.objColl = [];\n                        parent.pointColl = [];\n                        parent.freehandCounter = 0;\n                        parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n                            value: { obj: { selPointColl: [] } } });\n                        parent.notify('draw', { prop: 'setCurrentObj', onPropertyChange: false, value: { obj: obj.currentObj, isUndoRedo: true } });\n                        parent.img.destLeft = obj.currentObj.destPoints.startX;\n                        parent.img.destTop = obj.currentObj.destPoints.startY;\n                        activeObj = extend({}, parent.activeObj, {}, true);\n                        parent.objColl = extend([], obj.currentObjColl, [], true);\n                        parent.pointColl = extend([], obj.currentPointColl, [], true);\n                        parent.freehandCounter = parent.pointColl.length;\n                        parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n                            value: { obj: { selPointColl: extend([], obj.currentSelPointColl, [], true) } } });\n                        parent.transform.straighten = 0;\n                        this.lowerContext.filter = 'none';\n                        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                            value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n                        this.lowerContext.filter = obj.currentObj.filter;\n                        parent.prevStraightenedDegree = parent.transform.straighten;\n                        parent.activeObj = activeObj;\n                        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                        if (parent.activeObj.activePoint.width !== 0 && parent.activeObj.activePoint.height !== 0) {\n                            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n                        }\n                        parent.notify('filter', { prop: 'set-adjustment', value: { operation: obj.operation } });\n                        parent.notify('filter', { prop: 'update-filter', value: { operation: obj.operation } });\n                        break;\n                }\n                if (obj.operation === 'crop' && obj.isCircleCrop) {\n                    parent.isCircleCrop = true;\n                    parent.currSelectionPoint = extend({}, this.tempCurrSelPoint, {}, true);\n                    this.tempCurrSelPoint = null;\n                }\n                if (obj.operation === 'crop' && !obj.isCircleCrop) {\n                    parent.isCircleCrop = false;\n                }\n                if (obj.operation === 'crop' && obj.currentObj.currSelectionPoint) {\n                    parent.currSelectionPoint = extend({}, obj.currentObj.currSelectionPoint, {}, true);\n                    parent.notify('draw', { prop: 'setStraightenActObj', value: { activeObj: parent.currSelectionPoint } });\n                }\n                if (parent.currSelectionPoint && isNullOrUndefined(parent.currSelectionPoint.shape)) {\n                    parent.currSelectionPoint = null;\n                }\n                if (obj.operation === 'resize' && parent.cropObj && parent.cropObj.activeObj) {\n                    parent.currSelectionPoint = extend({}, parent.cropObj.activeObj, {}, true);\n                }\n                this.endUndoRedo(obj.operation, false);\n                var action = { action: 'redo', actionEventArgs: editCompleteArgs };\n                parent.triggerEditCompleteEvent(action);\n            }\n        }\n    };\n    UndoRedo.prototype.imageFlip = function (type, objColl) {\n        var parent = this.parent;\n        this.shapeTransform(objColl, null);\n        parent.activeObj = extend({}, parent.objColl[parent.objColl.length - 1], {}, true);\n        var _a = parent.activeObj, shape = _a.shape, isHorImageFlip = _a.isHorImageFlip, isVerImageFlip = _a.isVerImageFlip;\n        parent.objColl.pop();\n        if (shape && shape === 'image') {\n            if (type === 'horizontal') {\n                if (isNullOrUndefined(isHorImageFlip) && isVerImageFlip) {\n                    parent.activeObj.isHorImageFlip = true;\n                    parent.activeObj.isVerImageFlip = null;\n                    parent.horizontalFlip(this.upperContext, true);\n                }\n                else {\n                    if (isNullOrUndefined(isHorImageFlip) || !isHorImageFlip) {\n                        parent.activeObj.isHorImageFlip = true;\n                    }\n                    else {\n                        parent.activeObj.isHorImageFlip = null;\n                    }\n                    parent.horizontalFlip(this.upperContext, true);\n                }\n            }\n            else if (type === 'vertical') {\n                if (isNullOrUndefined(isVerImageFlip) && isHorImageFlip) {\n                    parent.activeObj.isVerImageFlip = true;\n                    parent.activeObj.isHorImageFlip = null;\n                    parent.verticalFlip(this.upperContext, true);\n                }\n                else {\n                    if (isNullOrUndefined(isVerImageFlip) || !isVerImageFlip) {\n                        parent.activeObj.isVerImageFlip = true;\n                    }\n                    else {\n                        parent.activeObj.isVerImageFlip = null;\n                    }\n                    parent.verticalFlip(this.upperContext, true);\n                }\n            }\n            parent.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: true } });\n        }\n        else {\n            parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: true } });\n        }\n    };\n    UndoRedo.prototype.shapeTransform = function (objColl, pointColl) {\n        var parent = this.parent;\n        parent.objColl = extend([], objColl, [], true);\n        if (pointColl) {\n            parent.pointColl = extend([], pointColl, [], true);\n            parent.freehandCounter = parent.pointColl.length;\n        }\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.isUndoRedo = true;\n        parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n    };\n    UndoRedo.prototype.updateFreehandDraw = function (pointColl, selPointColl) {\n        var parent = this.parent;\n        parent.pointColl = pointColl;\n        parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n            value: { obj: { selPointColl: selPointColl } } });\n        parent.freehandCounter = parent.pointColl.length;\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.isUndoRedo = true;\n        parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n    };\n    UndoRedo.prototype.updateFreehandDrawCustomized = function (objColl, pointColl) {\n        var parent = this.parent;\n        parent.objColl = extend([], objColl, [], true);\n        parent.pointColl = pointColl;\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.isUndoRedo = true;\n        parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n    };\n    UndoRedo.prototype.updateDelete = function (operation, objColl, pointColl, selPointColl) {\n        var parent = this.parent;\n        if (operation === 'deleteFreehandDrawing') {\n            parent.pointColl = pointColl;\n            parent.freehandCounter = parent.pointColl.length;\n            parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n                value: { obj: { selPointColl: selPointColl } } });\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n        }\n        else if (operation === 'deleteObj') {\n            parent.objColl = objColl;\n            parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n        }\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.isUndoRedo = true;\n        parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n    };\n    UndoRedo.prototype.updateTextAreaCustomization = function (activeObj, objColl) {\n        var parent = this.parent;\n        parent.objColl = extend([], objColl, [], true);\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        parent.isUndoRedo = true;\n        parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n        for (var i = 0, len = objColl.length; i < len; i++) {\n            if (this.tempActObj) {\n                if (this.tempActObj.currIndex === objColl[i].currIndex) {\n                    activeObj = extend({}, objColl[i], {}, true);\n                    parent.objColl.splice(i, 1);\n                    break;\n                }\n            }\n            else {\n                activeObj = extend({}, objColl[objColl.length - 1], {}, true);\n                parent.objColl.splice(i, 1);\n                break;\n            }\n        }\n        if (activeObj) {\n            this.updateTextBox(activeObj);\n        }\n        if (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') {\n            parent.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                value: { x: null, y: null, isMouseDown: null } });\n        }\n    };\n    UndoRedo.prototype.updateText = function (objColl, allowActiveObj) {\n        var parent = this.parent;\n        if (this.tempActObj) {\n            parent.activeObj = extend({}, this.tempActObj, {}, true);\n        }\n        if (objColl.length === 0 && parent.objColl.length === 1) {\n            this.tempActObj = extend({}, parent.objColl[0], {}, true);\n        }\n        else {\n            for (var i = 0, iLen = parent.objColl.length; i < iLen; i++) {\n                if (parent.objColl[i] && isNullOrUndefined(objColl[i])) {\n                    this.tempActObj = extend({}, parent.objColl[i], {}, true);\n                    break;\n                }\n                if (objColl[i].currIndex !== parent.objColl[i].currIndex) {\n                    this.tempActObj = extend({}, parent.objColl[i], {}, true);\n                    break;\n                }\n            }\n        }\n        if (allowActiveObj) {\n            parent.activeObj = extend({}, this.tempActObj, {}, true);\n        }\n        parent.objColl = extend([], objColl, [], true);\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: true } });\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        parent.isUndoRedo = true;\n        parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n    };\n    UndoRedo.prototype.updateTextBox = function (obj) {\n        var parent = this.parent;\n        this.upperContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        this.lowerContext.clearRect(0, 0, parent.lowerCanvas.width, parent.lowerCanvas.height);\n        parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n        parent.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n        var textArea = parent.textArea;\n        textArea.style.display = 'block';\n        textArea.style.fontFamily = obj.textSettings.fontFamily;\n        textArea.style.fontSize = obj.textSettings.fontSize + 'px';\n        textArea.style.color = obj.strokeSettings.strokeColor;\n        textArea.style.fontWeight = obj.textSettings.bold ? 'bold' : 'normal';\n        textArea.style.fontStyle = obj.textSettings.italic ? 'italic' : 'normal';\n        textArea.style.border = '2px solid ' + parent.themeColl[parent.theme]['primaryColor'];\n        textArea.value = obj.keyHistory;\n        parent.activeObj = extend({}, obj, {}, true);\n        parent.notify('shape', { prop: 'updateFontStyles', onPropertyChange: false,\n            value: { isTextBox: null } });\n        parent.textArea.style.width = parent.activeObj.activePoint.width + 'px';\n    };\n    UndoRedo.prototype.undoDefault = function (obj, isUndoRedo) {\n        this.lowerContext.filter = obj.previousObj.filter;\n        var parent = this.parent;\n        parent.objColl = [];\n        parent.pointColl = [];\n        parent.freehandCounter = 0;\n        parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n            value: { obj: { selPointColl: [] } } });\n        var isCircleCrop = !isUndoRedo ? obj.isCircleCrop : false;\n        parent.notify('draw', { prop: 'setCurrentObj', onPropertyChange: false, value: { obj: obj.previousObj, isUndoRedo: isUndoRedo, isCircleCrop: isCircleCrop } });\n        parent.prevStraightenedDegree = parent.transform.straighten;\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        parent.img.destLeft = obj.previousObj.destPoints.startX;\n        parent.img.destTop = obj.previousObj.destPoints.startY;\n        var activeObj = extend({}, parent.activeObj, {}, true);\n        parent.objColl = extend([], obj.previousObjColl, [], true);\n        parent.pointColl = extend([], obj.previousPointColl, [], true);\n        parent.freehandCounter = parent.pointColl.length;\n        parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n            value: { obj: { selPointColl: extend([], obj.previousSelPointColl, [], true) } } });\n        parent.transform.straighten = 0;\n        this.lowerContext.filter = 'none';\n        parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n        this.lowerContext.filter = obj.previousObj.filter;\n        parent.activeObj = activeObj;\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        if (parent.activeObj.activePoint.width !== 0 && parent.activeObj.activePoint.height !== 0) {\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n        }\n    };\n    UndoRedo.prototype.endUndoRedo = function (operation, isUndo) {\n        var parent = this.parent;\n        var frameObj = { type: 'none', color: '#fff', size: 20, inset: 20, offset: 20, radius: 0, amount: 1, border: 'solid', gradientColor: '' };\n        if (((parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') || parent.isCircleCrop) &&\n            JSON.stringify(parent.frameObj) !== JSON.stringify(frameObj)) {\n            parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: true } });\n        }\n        parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n        if (parent.isCircleCrop && ((isUndo && operation !== 'crop') || !isUndo)) {\n            parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                value: { context: this.lowerContext, isSave: null, isFlip: null } });\n        }\n        if (parent.transform.zoomFactor > 0) {\n            parent.notify('selection', { prop: 'setDragCanvas', value: { bool: true } });\n        }\n        parent.notify('draw', { prop: 'setCancelAction', onPropertyChange: false, value: { bool: false } });\n        if (parent.activeObj.shape && parent.activeObj.shape.split('-')[0] === 'crop') {\n            parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                    isApplyBtn: true, isCropping: true, isZooming: null, cType: null } });\n        }\n        else {\n            parent.notify('toolbar', { prop: 'refresh-main-toolbar', onPropertyChange: false });\n        }\n        parent.notify('toolbar', { prop: 'enable-disable-btns' });\n        if (document.getElementById(parent.element.id + '_quickAccessToolbarArea')) {\n            document.getElementById(parent.element.id + '_quickAccessToolbarArea').style.display = 'none';\n        }\n        parent.notify('toolbar', { prop: 'enable-disable-btns' });\n        if (parent.transform.degree !== 0) {\n            parent.notify('transform', { prop: 'drawPannedImage', onPropertyChange: false,\n                value: { xDiff: 0, yDiff: 0 } });\n        }\n        parent.notify('filter', { prop: 'setAdjustmentValue', onPropertyChange: false, value: { adjustmentValue: this.lowerContext.filter } });\n        parent.currObjType.isCustomCrop = false;\n    };\n    UndoRedo.prototype.updateUrc = function (operation, previousObj, previousObjColl, previousPointColl, previousSelPointColl, previousCropObj, previousText, currentText, previousFilter, isCircleCrop) {\n        var parent = this.parent;\n        if (parent.isResize || this.isPreventing) {\n            return;\n        }\n        var obj = { isInitialLoaded: false };\n        if (parent.currObjType.isUndoAction) {\n            this.refreshUrc(true);\n        }\n        parent.notify('draw', { prop: 'isInitialLoaded', onPropertyChange: false, value: { object: obj } });\n        if (!obj['isInitialLoaded'] && parent.allowUndoRedo) {\n            var object = { currObj: {} };\n            parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            var currentObj = object['currObj'];\n            currentObj.objColl = extend([], parent.objColl, [], true);\n            currentObj.pointColl = extend([], parent.pointColl, [], true);\n            currentObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n            var selPointCollObj = { selPointColl: null };\n            parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                value: { obj: selPointCollObj } });\n            currentObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            if (operation === 'crop') {\n                currentObj.currSelectionPoint = extend({}, parent.currSelectionPoint, {}, true);\n            }\n            else if (operation === 'frame') {\n                previousObj.destPoints = { startX: parent.frameDestPoints.destLeft, startY: parent.frameDestPoints.destTop,\n                    width: parent.frameDestPoints.destWidth, height: parent.frameDestPoints.destHeight };\n                currentObj.destPoints = { startX: parent.frameDestPoints.destLeft, startY: parent.frameDestPoints.destTop,\n                    width: parent.frameDestPoints.destWidth, height: parent.frameDestPoints.destHeight };\n                if (!isNullOrUndefined(parent.tempFrameZoomLevel)) {\n                    previousObj.defaultZoom = currentObj.defaultZoom = parent.tempFrameZoomLevel;\n                }\n            }\n            else if ((operation === 'imageHFlip' || operation === 'imageVFlip') && this.appliedUndoRedoColl.length > 0) {\n                var index = previousObjColl[previousObjColl.length - 1].currIndex;\n                previousObjColl = this.appliedUndoRedoColl[this.appliedUndoRedoColl.length - 1].currentObjColl;\n                if (index) {\n                    for (var i = 0, len = previousObjColl.length; i < len; i++) {\n                        if (previousObjColl[i].currIndex === index) {\n                            var actObj = extend({}, previousObjColl[i], {}, true);\n                            previousObjColl.splice(i, 1);\n                            previousObjColl.push(actObj);\n                            break;\n                        }\n                    }\n                }\n            }\n            this.undoRedoColl.push({ operation: operation, previousObj: previousObj, currentObj: currentObj,\n                previousObjColl: previousObjColl, currentObjColl: currentObj.objColl,\n                previousPointColl: previousPointColl, currentPointColl: currentObj.pointColl,\n                previousSelPointColl: previousSelPointColl, currentSelPointColl: currentObj.selPointColl,\n                previousCropObj: previousCropObj, currentCropObj: extend({}, parent.cropObj, {}, true),\n                previousText: previousText, currentText: currentText, filter: previousFilter, isCircleCrop: isCircleCrop });\n            parent.notify('toolbar', { prop: 'enable-disable-btns', onPropertyChange: false });\n        }\n    };\n    UndoRedo.prototype.updateUrObj = function (objColl, operation) {\n        var parent = this.parent;\n        if (parent.allowUndoRedo) {\n            if (parent.currObjType.isUndoAction && !parent.isShapeDrawing) {\n                this.refreshUrc(true);\n            }\n            if (isNullOrUndefined(parent.activeObj.imageRatio)) {\n                parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n            }\n            parent.objColl.push(parent.activeObj);\n            var cropObj = extend({}, parent.cropObj, {}, true);\n            var object = { currObj: {} };\n            parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            var obj = object['currObj'];\n            obj.objColl = extend([], parent.objColl, [], true);\n            obj.pointColl = extend([], parent.pointColl, [], true);\n            obj.afterCropActions = extend([], parent.afterCropActions, [], true);\n            var selPointCollObj = { selPointColl: null };\n            parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                value: { obj: selPointCollObj } });\n            obj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            var oper = operation ? operation : 'shapeTransform';\n            this.undoRedoColl.push({ operation: oper, previousObj: obj, currentObj: obj,\n                previousObjColl: objColl, currentObjColl: obj.objColl,\n                previousPointColl: obj.pointColl, currentPointColl: obj.pointColl,\n                previousSelPointColl: obj.selPointColl, currentSelPointColl: obj.selPointColl,\n                previousCropObj: cropObj, currentCropObj: cropObj });\n            parent.notify('selection', { prop: 'redrawShape', onPropertyChange: false,\n                value: { obj: parent.objColl[parent.objColl.length - 1] } });\n        }\n    };\n    UndoRedo.prototype.updateUndoRedo = function (operation) {\n        var parent = this.parent;\n        var prevCropObj = extend({}, parent.cropObj, {}, true);\n        var object = { currObj: {} };\n        parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        prevObj.objColl = extend([], parent.objColl, [], true);\n        prevObj.pointColl = extend([], parent.pointColl, [], true);\n        prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        if (isNullOrUndefined(parent.activeObj.imageRatio)) {\n            parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n        }\n        parent.objColl.push(parent.activeObj);\n        var oper = operation ? operation : 'shapeTransform';\n        this.updateUrc(oper, prevObj, prevObj.objColl, prevObj.pointColl, prevObj.selPointColl, prevCropObj);\n        parent.objColl.pop();\n        parent.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: null } });\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'shapes',\n                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n    };\n    UndoRedo.prototype.getZeroZoomObjPointValue = function (obj, point) {\n        var parent = this.parent;\n        this.updateObjColl();\n        var object = { currObj: {} };\n        parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var currentObj = object['currObj'];\n        currentObj.objColl = extend([], parent.objColl, [], true);\n        currentObj.pointColl = extend([], parent.pointColl, [], true);\n        currentObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        currentObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        var cropDimensionObj = { cropDimension: null };\n        parent.notify('transform', { prop: 'getCropDimension', onPropertyChange: false, value: { obj: cropDimensionObj } });\n        var getZeroZoomObjColl = extend([], parent.objColl, [], true);\n        var getZeroZoomPointColl = extend([], parent.pointColl, [], true);\n        var arrowObj = { arrowDimension: null };\n        this.parent.notify('draw', { prop: 'getArrowDimension', onPropertyChange: false, value: { obj: arrowObj } });\n        var tempArrowObj = extend({}, arrowObj['arrowDimension'], {}, true);\n        if (parent.transform.zoomFactor > 0 && (obj.length > 0 || point.length > 0)) {\n            if (obj.length > 0) {\n                for (var i = 0; i < obj.length; i++) {\n                    if (obj[i].currIndex) {\n                        continue;\n                    }\n                    else {\n                        obj[i].currIndex = 'shape_' + (i + 1);\n                    }\n                }\n            }\n            parent.objColl = obj;\n            parent.pointColl = point;\n            var isUndoRedo = parent.isUndoRedo;\n            var isCropTab = parent.isCropTab;\n            if (parent.transform.zoomFactor !== 0) {\n                parent.isUndoRedo = true;\n                parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                    value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: true } });\n                parent.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false });\n                parent.isCropTab = true;\n                var zoomSettings = extend({}, parent.zoomSettings, null, true);\n                if (parent.transform.zoomFactor > 0) {\n                    parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                        value: { zoomFactor: -parent.transform.zoomFactor, zoomPoint: null, isResize: null } });\n                }\n                else {\n                    parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                        value: { zoomFactor: Math.abs(parent.transform.zoomFactor), zoomPoint: null, isResize: null } });\n                }\n                parent.zoomSettings = zoomSettings;\n                parent.isCropTab = isCropTab;\n                parent.isUndoRedo = isUndoRedo;\n                getZeroZoomObjColl = extend([], parent.objColl, [], true);\n                getZeroZoomPointColl = extend([], parent.pointColl, [], true);\n                parent.objColl = [];\n                parent.pointColl = [];\n                parent.freehandCounter = 0;\n                parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n                    value: { obj: { selPointColl: [] } } });\n                parent.notify('transform', { prop: 'setCropDimension', onPropertyChange: false,\n                    value: { width: cropDimensionObj['cropDimension']['width'], height: cropDimensionObj['cropDimension']['height'] } });\n                var maxDimension = { width: cropDimensionObj['cropDimension']['width'], height: cropDimensionObj['cropDimension']['height'] };\n                maxDimension.width += (maxDimension.width * currentObj.defaultZoom);\n                maxDimension.height += (maxDimension.height * currentObj.defaultZoom);\n                parent.notify('draw', { prop: 'setZoomCropWidth', value: { width: maxDimension.width, height: maxDimension.height } });\n                parent.notify('draw', { prop: 'setCurrentObj', onPropertyChange: false, value: { obj: currentObj } });\n                parent.img.destLeft = currentObj.destPoints.startX;\n                parent.img.destTop = currentObj.destPoints.startY;\n                parent.panPoint.totalPannedPoint = currentObj.totalPannedPoint;\n                parent.panPoint.totalPannedClientPoint = currentObj.totalPannedClientPoint;\n                parent.panPoint.totalPannedInternalPoint = currentObj.totalPannedInternalPoint;\n                parent.objColl = extend([], currentObj.objColl, [], true);\n                parent.pointColl = extend([], currentObj.pointColl, [], true);\n                parent.freehandCounter = parent.pointColl.length;\n                parent.notify('draw', { prop: 'setArrowDimension', onPropertyChange: false, value: { arrowDimension: tempArrowObj } });\n                parent.notify('freehand-draw', { prop: 'setSelPointColl', onPropertyChange: false,\n                    value: { obj: { selPointColl: extend([], currentObj.selPointColl, [], true) } } });\n                this.lowerContext.filter = 'none';\n                parent.transform.straighten = 0;\n                this.applyImgTranform();\n                parent.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                    value: { ctx: this.lowerContext, shape: 'iterate', pen: 'iterate', isPreventApply: null } });\n                parent.notify('freehand-draw', { prop: 'updateFHDCurPts', onPropertyChange: false });\n                this.lowerContext.filter = currentObj.filter;\n                if (parent.transform.degree !== 0) {\n                    parent.notify('transform', { prop: 'drawPannedImage', onPropertyChange: false,\n                        value: { xDiff: 0, yDiff: 0 } });\n                }\n                parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n                if (parent.isCircleCrop || (parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle')) {\n                    parent.notify('crop', { prop: 'cropCircle', onPropertyChange: false,\n                        value: { context: this.lowerContext, isSave: null, isFlip: null } });\n                }\n            }\n        }\n        return { obj: getZeroZoomObjColl, point: getZeroZoomPointColl };\n    };\n    UndoRedo.prototype.updateObjColl = function () {\n        var parent = this.parent;\n        for (var i = 0; i < parent.objColl.length; i++) {\n            var obj = parent.objColl[i];\n            var isUpdated = false;\n            if (obj.shape === 'line' || obj.shape === 'arrow') {\n                if (obj.activePoint.width < 0) {\n                    obj.activePoint.width = Math.abs(obj.activePoint.width);\n                    isUpdated = true;\n                }\n                if (obj.activePoint.height < 0) {\n                    obj.activePoint.height = Math.abs(obj.activePoint.height);\n                    isUpdated = true;\n                }\n                if (isUpdated) {\n                    var activeObj = extend({}, parent.activeObj, {}, true);\n                    parent.activeObj = obj;\n                    parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n                    obj = parent.activeObj;\n                    parent.activeObj = activeObj;\n                }\n            }\n        }\n    };\n    UndoRedo.prototype.applyImgTranform = function () {\n        var parent = this.parent;\n        var obj = extend({}, parent.activeObj, {}, true);\n        for (var i = 0, len = parent.objColl.length; i < len; i++) {\n            if (parent.objColl[i].shape === 'image') {\n                parent.activeObj = extend({}, parent.objColl[i], {}, true);\n                var ctx = parent.objColl[i].imageCanvas.getContext('2d');\n                parent.notify('selection', { prop: 'applyTransformToImg', onPropertyChange: false, value: { ctx: ctx } });\n                this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                parent.notify('selection', { prop: 'setImageClarity', onPropertyChange: false, value: { bool: true } });\n            }\n        }\n        parent.activeObj = obj;\n    };\n    UndoRedo.prototype.updateUndoRedoStack = function (isPenDraw) {\n        var parent = this.parent;\n        if ((parent.activeObj.currIndex && parent.activeObj.activePoint.width !== 0 ||\n            parent.activeObj.activePoint.height !== 0 || (parent.activeObj.pointColl &&\n            parent.activeObj.pointColl.length > 0)) || isPenDraw) {\n            var isTextArea = parent.textArea.style.display === 'none' ? false : true;\n            var temp = parent.noPushUndo;\n            parent.noPushUndo = false;\n            parent.isUndoRedoStack = true;\n            if (isPenDraw) {\n                var tempTogglePen = parent.togglePen;\n                var obj = { freehandDrawSelectedId: null };\n                parent.notify('freehand-draw', { prop: 'getFreehandDrawSelectedId', onPropertyChange: false, value: { obj: obj } });\n                parent.okBtn();\n                parent.noPushUndo = temp;\n                if (obj['freehandDrawSelectedId']) {\n                    parent.noRedact = true;\n                    parent.selectShape(obj['freehandDrawSelectedId']);\n                }\n                else {\n                    parent.freeHandDraw(true);\n                }\n                parent.togglePen = tempTogglePen;\n            }\n            else if (parent.activeObj.currIndex) {\n                var shapeId = parent.activeObj.currIndex;\n                parent.okBtn();\n                parent.noPushUndo = temp;\n                parent.noRedact = true;\n                parent.selectShape(shapeId);\n                if (parent.drawingShape) {\n                    parent.notify('selection', { prop: 'setCurrentDrawingShape', onPropertyChange: false, value: { value: parent.drawingShape.toLowerCase() } });\n                }\n                if (isTextArea) {\n                    parent.enableTextEditing();\n                }\n            }\n            parent.isUndoRedoStack = false;\n        }\n    };\n    return UndoRedo;\n}());\nexport { UndoRedo };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable max-len */\nimport { Component, NotifyPropertyChanges, Property, addClass, removeClass, extend } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, getComponent, isNullOrUndefined, getUniqueID, setValue } from '@syncfusion/ej2-base';\nimport { Dialog, createSpinner } from '@syncfusion/ej2-popups';\nimport { Complex, Browser, ChildProperty, compile as templateCompiler, compile } from '@syncfusion/ej2-base';\nimport { ToolbarModule, Crop, Draw, Filter, FreehandDrawing, Selection, Shape, Transform, UndoRedo, Export, FrameLineStyle, ShapeType } from './../index';\nimport { ZoomTrigger, ImageFinetuneOption } from './../index';\nimport { Uploader } from '@syncfusion/ej2-inputs';\n/**\n * Defines the settings for restricting uploaded images.\n */\nvar UploadSettings = /** @class */ (function (_super) {\n    __extends(UploadSettings, _super);\n    function UploadSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], UploadSettings.prototype, \"allowedExtensions\", void 0);\n    __decorate([\n        Property(null)\n    ], UploadSettings.prototype, \"minFileSize\", void 0);\n    __decorate([\n        Property(null)\n    ], UploadSettings.prototype, \"maxFileSize\", void 0);\n    return UploadSettings;\n}(ChildProperty));\nexport { UploadSettings };\n/**\n * This interface is used to specify settings for finetuning operations on images, including brightness, contrast, hue, saturation, exposure, opacity, and blur. It includes properties for setting minimum and maximum values for each of these options, as well as a default value.\n */\nvar FinetuneSettings = /** @class */ (function (_super) {\n    __extends(FinetuneSettings, _super);\n    function FinetuneSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], FinetuneSettings.prototype, \"brightness\", void 0);\n    __decorate([\n        Property(null)\n    ], FinetuneSettings.prototype, \"contrast\", void 0);\n    __decorate([\n        Property(null)\n    ], FinetuneSettings.prototype, \"hue\", void 0);\n    __decorate([\n        Property(null)\n    ], FinetuneSettings.prototype, \"saturation\", void 0);\n    __decorate([\n        Property(null)\n    ], FinetuneSettings.prototype, \"exposure\", void 0);\n    __decorate([\n        Property(null)\n    ], FinetuneSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property(null)\n    ], FinetuneSettings.prototype, \"blur\", void 0);\n    return FinetuneSettings;\n}(ChildProperty));\nexport { FinetuneSettings };\n/**\n * An interface used to define the settings such as minimum, maximum, and default zoom factors, and the type of zooming which are available in the image editor control.\n */\nvar ZoomSettings = /** @class */ (function (_super) {\n    __extends(ZoomSettings, _super);\n    function ZoomSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ZoomSettings.prototype, \"zoomTrigger\", void 0);\n    __decorate([\n        Property(1)\n    ], ZoomSettings.prototype, \"minZoomFactor\", void 0);\n    __decorate([\n        Property(10)\n    ], ZoomSettings.prototype, \"maxZoomFactor\", void 0);\n    __decorate([\n        Property(1)\n    ], ZoomSettings.prototype, \"zoomFactor\", void 0);\n    __decorate([\n        Property(null)\n    ], ZoomSettings.prototype, \"zoomPoint\", void 0);\n    return ZoomSettings;\n}(ChildProperty));\nexport { ZoomSettings };\n/**\n * This interface is used to specify settings for selection operations on images, including visibility, stroke color and fill color.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], SelectionSettings.prototype, \"showCircle\", void 0);\n    __decorate([\n        Property(null)\n    ], SelectionSettings.prototype, \"strokeColor\", void 0);\n    __decorate([\n        Property(null)\n    ], SelectionSettings.prototype, \"fillColor\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n/**\n * Predefine the font families that populate in font family dropdown list from the toolbar.\n */\nvar FontFamily = /** @class */ (function (_super) {\n    __extends(FontFamily, _super);\n    function FontFamily() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Arial')\n    ], FontFamily.prototype, \"default\", void 0);\n    __decorate([\n        Property(null)\n    ], FontFamily.prototype, \"items\", void 0);\n    return FontFamily;\n}(ChildProperty));\nexport { FontFamily };\n/**\n * The Image Editor is a graphical user interface for editing images.\n *\n * {% codeBlock src='image-editor/default/index.md' %}{% endcodeBlock %}\n *\n * @remarks\n * The Image Editor component provides various image editing features such as zooming, cropping, rotating, inserting text and shapes (rectangles, ellipses, and lines), drawing freehand on top of an image, undo/redo, and more.\n *\n */\nvar ImageEditor = /** @class */ (function (_super) {\n    __extends(ImageEditor, _super);\n    /**\n     *\n     * Constructor for creating the widget\n     *\n     * @param  {ImageEditorModel} options - Specifies the image editor model\n     * @param  {string|HTMLDivElement} element - Specifies the target element\n     */\n    function ImageEditor(options, element) {\n        var _this = _super.call(this, options) || this;\n        /**\n         *\n         * Image Editor Private Properties\n         */\n        /** @hidden */\n        _this.isImageLoaded = false;\n        /** @hidden */\n        _this.activeObj = { activePoint: { startX: 0, startY: 0, endX: 0, endY: 0, width: 0, height: 0 },\n            flipObjColl: [], triangle: [], triangleRatio: [], rotatedAngle: 0, opacity: 1, order: null };\n        // current object's ui interaction properties\n        /** @hidden */\n        _this.currObjType = { shape: '', isDragging: false, isActiveObj: false, isText: false, isInitialText: false, isLine: false, isInitialLine: false,\n            isCustomCrop: false, isZoomed: false, isUndoZoom: false, isUndoAction: false, isFiltered: false, isSave: false, isResize: false, isRedact: false };\n        /** @hidden */\n        _this.objColl = [];\n        /** @hidden */\n        // eslint-disable-next-line\n        _this.pointColl = {};\n        /** @hidden */\n        _this.freehandCounter = 0;\n        /** @hidden */\n        _this.points = [];\n        /** @hidden */\n        _this.togglePen = false;\n        /** @hidden */\n        _this.togglePan = false;\n        /** @hidden */\n        _this.img = { destLeft: 0, destTop: 0, destWidth: 0, destHeight: 0, srcLeft: 0, srcTop: 0, srcWidth: 0, srcHeight: 0 };\n        /** @hidden */\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        _this.rotateFlipColl = [];\n        // All prop values saved while cropping (to restore the image to its original state)\n        /** @hidden */\n        _this.cropObj = { cropZoom: 0, defaultZoom: 0, totalPannedPoint: { x: 0, y: 0 }, totalPannedClientPoint: { x: 0, y: 0 },\n            totalPannedInternalPoint: { x: 0, y: 0 }, tempFlipPanPoint: { x: 0, y: 0 }, activeObj: {}, rotateFlipColl: [],\n            degree: 0, currFlipState: '', straighten: 0, destPoints: { startX: 0, startY: 0, width: 0, height: 0 },\n            srcPoints: { startX: 0, startY: 0, width: 0, height: 0 }, filter: '', isBrightAdjust: false,\n            zoomFactor: 0, previousZoomValue: 0, aspectWidth: null, aspectHeight: null, frame: 'none', straightenZoom: 0,\n            adjustmentLevel: { brightness: 0, contrast: 0, hue: 0, opacity: 100, saturation: 0, blur: 0,\n                exposure: 0, transparency: 100, sharpen: false, bw: false }, currentFilter: '' };\n        // Stored transformations performed after cropping\n        /** @hidden */\n        _this.afterCropActions = [];\n        /** @hidden */\n        _this.transform = { degree: 0, currFlipState: '', zoomFactor: 0, cropZoomFactor: null, defaultZoomFactor: 0, straighten: 0 };\n        /** @hidden */\n        _this.panPoint = { currentPannedPoint: { x: 0, y: 0 }, totalPannedPoint: { x: 0, y: 0 }, totalPannedInternalPoint: { x: 0, y: 0 },\n            totalPannedClientPoint: { x: 0, y: 0 } };\n        /** @hidden */\n        _this.isUndoRedo = false;\n        /** @hidden */\n        _this.isCropTab = false;\n        /** @hidden */\n        _this.isCircleCrop = false;\n        /** @hidden */\n        _this.fontSizeColl = [];\n        /** @hidden */\n        _this.initialAdjustmentValue = '';\n        /** @hidden */\n        _this.currentFilter = '';\n        /** @hidden */\n        _this.canvasFilter = 'brightness(' + 1 + ') ' + 'contrast(' + 100 + '%) ' + 'hue-rotate(' + 0 + 'deg) ' +\n            'saturate(' + 100 + '%) ' + 'opacity(' + 1 + ') ' + 'blur(' + 0 + 'px) ' + 'sepia(0%) ' + 'grayscale(0%) ' + 'invert(0%)';\n        /** @hidden */\n        _this.toolbarHeight = 0;\n        /** @hidden */\n        _this.isPublicMethod = false;\n        /** @hidden */\n        _this.isCropToolbar = false;\n        /** @hidden */\n        _this.cursor = 'default';\n        /** @hidden */\n        _this.resizeSrc = { startX: _this.img.srcLeft, startY: _this.img.srcTop, width: _this.img.srcWidth, height: _this.img.srcHeight };\n        /** @hidden */\n        _this.isResize = false;\n        /** @hidden */\n        _this.isAspectRatio = false;\n        /** @hidden */\n        _this.frameObj = { type: 'none', color: '#fff', size: 20, inset: 20, offset: 20, radius: 0, amount: 1, border: 'solid', gradientColor: '' };\n        /** @hidden */\n        _this.tempFrameObj = { type: 'none', color: '#fff', size: 20, inset: 20, offset: 20, radius: 0, amount: 1, border: 'solid', gradientColor: '' };\n        /** @hidden */\n        _this.allowDownScale = true;\n        /** @hidden */\n        _this.gradientColor = '';\n        /** @hidden */\n        _this.size = 20;\n        /** @hidden */\n        _this.inset = 0;\n        /** @hidden */\n        _this.offset = 0;\n        /** @hidden */\n        _this.borderRadius = 0;\n        /** @hidden */\n        _this.lineCount = 0;\n        /** @hidden */\n        _this.prevStraightenedDegree = 0;\n        /** @hidden */\n        _this.tempStraighten = 0;\n        /** @hidden */\n        _this.isStraightening = false;\n        /** @hidden */\n        _this.isFinetuning = false;\n        /** @hidden */\n        _this.isZoomBtnClick = false;\n        /** @hidden */\n        _this.isFinetuneBtnClick = false;\n        /** @hidden */\n        _this.isFilterCanvasClick = false;\n        /** @hidden */\n        _this.isFrameBtnClick = false;\n        /** @hidden */\n        _this.isChangesSaved = false;\n        /** @hidden */\n        _this.isShapeDrawing = false;\n        /** @hidden */\n        _this.noPushUndo = false;\n        /** @hidden */\n        _this.isUndoRedoStack = false;\n        /** @hidden */\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        _this.shapeColl = [];\n        /** @hidden */\n        _this.isKBDNavigation = false;\n        /** @hidden */\n        _this.isMaskImage = false;\n        /** @hidden */\n        _this.tempObjColl = [];\n        /** @hidden */\n        _this.tempPointColl = [];\n        /** @hidden */\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        _this.tempShapeColl = [];\n        /** @hidden */\n        _this.isImageUpdated = false;\n        /** @hidden */\n        _this.noRedact = false;\n        /** @hidden */\n        _this.tempRedactBlur = 50;\n        /** @hidden */\n        _this.tempRedactPixel = 40;\n        _this.tempToolbarHeight = 0;\n        _this.tempToolbar = [];\n        ImageEditor_1.Inject(Crop, Draw, Selection, Transform, Export, ToolbarModule);\n        ImageEditor_1.Inject(UndoRedo);\n        ImageEditor_1.Inject(Filter);\n        ImageEditor_1.Inject(Shape);\n        ImageEditor_1.Inject(FreehandDrawing);\n        if (element) {\n            _this.appendTo(element);\n        }\n        return _this;\n    }\n    ImageEditor_1 = ImageEditor;\n    /**\n     * To provide the array of modules needed for component rendering.\n     *\n     * @returns {ModuleDeclaration[]} - To provide the array of modules needed for component rendering.\n     * @hidden\n     */\n    ImageEditor.prototype.requiredModules = function () {\n        var modules = [];\n        modules.push({ member: 'crop', args: [this] });\n        modules.push({ member: 'draw', args: [this] });\n        modules.push({ member: 'selection', args: [this] });\n        modules.push({ member: 'transform', args: [this] });\n        modules.push({ member: 'export', args: [this] });\n        modules.push({ member: 'toolbar-module', args: [this] });\n        modules.push({ member: 'undo-redo', args: [this] });\n        modules.push({ member: 'filter', args: [this] });\n        modules.push({ member: 'shape', args: [this] });\n        modules.push({ member: 'freehand-draw', args: [this] });\n        return modules;\n    };\n    ImageEditor.prototype.preRender = function () {\n        // pre render code snippets\n        this.element.id = this.element.id || getUniqueID('ej2-image-editor');\n        this.isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (Browser.isDevice) {\n            this.element.classList.add('e-device');\n        }\n        this.initializeThemeColl();\n    };\n    /**\n     *\n     * To Initialize the component rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    ImageEditor.prototype.render = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isAngular) {\n            var originalElement = this.element;\n            var clonedElement = originalElement.cloneNode(true);\n            originalElement.parentNode.replaceChild(clonedElement, originalElement);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.element = clonedElement;\n            setValue('ej2_instances', [this], this.element);\n        }\n        this.initialize();\n    };\n    /**\n     * To get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    ImageEditor.prototype.getModuleName = function () {\n        return 'image-editor';\n    };\n    /**\n     *\n     * To get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     * @private\n     */\n    ImageEditor.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     *\n     * Called internally if any of the property value changed.\n     *\n     * @param {ImageEditorModel} newProperties - Specifies new properties\n     * @param {ImageEditorModel} oldProperties - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    ImageEditor.prototype.onPropertyChanged = function (newProperties, oldProperties) {\n        var indexObj;\n        for (var _i = 0, _a = Object.keys(newProperties); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProperties.cssClass) {\n                        removeClass([this.element], oldProperties.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n                    }\n                    if (newProperties.cssClass) {\n                        addClass([this.element], newProperties.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n                    }\n                    break;\n                case 'disabled':\n                    if (newProperties.disabled) {\n                        this.element.classList.add('e-disabled');\n                        this.unwireEvent();\n                    }\n                    else {\n                        this.element.classList.remove('e-disabled');\n                        this.wireEvent();\n                    }\n                    break;\n                case 'height':\n                    this.element.style.height = newProperties.height;\n                    this.update();\n                    break;\n                case 'width':\n                    this.element.style.width = newProperties.width;\n                    this.update();\n                    break;\n                case 'theme':\n                    if (newProperties.theme) {\n                        if (this.theme && this.theme !== '') {\n                            this.theme = this.toPascalCase(this.theme);\n                        }\n                        else {\n                            this.theme = 'Bootstrap5';\n                        }\n                        this.upperContext.strokeStyle = this.themeColl[this.theme]['primaryColor'];\n                        this.upperContext.fillStyle = this.themeColl[this.theme]['secondaryColor'];\n                        this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    break;\n                case 'finetuneSettings':\n                    if (newProperties.finetuneSettings) {\n                        this.finetuneSettings = newProperties.finetuneSettings;\n                        this.notify('filter', { prop: 'update-finetunes' });\n                    }\n                    break;\n                case 'locale':\n                    if (newProperties.locale) {\n                        this.notify('toolbar', { prop: 'setLocale', onPropertyChange: false, value: { locale: newProperties.locale } });\n                        this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    break;\n                case 'allowUndoRedo':\n                    if (newProperties.allowUndoRedo) {\n                        this.allowUndoRedo = true;\n                    }\n                    else {\n                        this.allowUndoRedo = false;\n                    }\n                    this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                            isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    break;\n                case 'showQuickAccessToolbar':\n                    if (newProperties.showQuickAccessToolbar) {\n                        this.showQuickAccessToolbar = true;\n                        this.notify('toolbar', { prop: 'create-qa-toolbar', onPropertyChange: false });\n                        indexObj = { freehandSelectedIndex: null };\n                        this.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n                        if (this.activeObj.shape) {\n                            this.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n                        }\n                        else if (indexObj['freehandSelectedIndex']) {\n                            this.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: true } });\n                        }\n                    }\n                    else {\n                        this.showQuickAccessToolbar = false;\n                        this.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n                    }\n                    break;\n                case 'zoomSettings':\n                    if (newProperties.zoomSettings) {\n                        this.zoomSettings.zoomTrigger = newProperties.zoomSettings.zoomTrigger;\n                    }\n                    if (isNullOrUndefined(this.zoomSettings.zoomTrigger)) {\n                        this.zoomSettings.zoomTrigger = (ZoomTrigger.MouseWheel | ZoomTrigger.Pinch | ZoomTrigger.Toolbar |\n                            ZoomTrigger.Commands);\n                        this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    else if ((newProperties.zoomSettings.zoomTrigger & ZoomTrigger.Toolbar) === ZoomTrigger.Toolbar) {\n                        this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    break;\n                case 'selectionSettings':\n                    if (newProperties.selectionSettings) {\n                        this.selectionSettings = newProperties.selectionSettings;\n                        if (this.activeObj.shape) {\n                            this.upperContext.clearRect(0, 0, this.upperCanvas.width, this.upperCanvas.height);\n                            this.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: this.activeObj } });\n                        }\n                    }\n                    break;\n                case 'toolbar':\n                    if (newProperties.toolbar) {\n                        this.toolbar = newProperties.toolbar;\n                        this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    break;\n                case 'toolbarTemplate':\n                    if (newProperties.toolbarTemplate) {\n                        this.notify('toolbar', { prop: 'destroy-bottom-toolbar', onPropertyChange: false });\n                        this.notify('toolbar', { prop: 'destroy-top-toolbar', onPropertyChange: false });\n                        this.element.appendChild(this.createElement('div', {\n                            id: this.element.id + '_toolbarArea', className: 'e-toolbar-area'\n                        }));\n                        this.toolbarTemplateFn();\n                    }\n                    break;\n                case 'quickAccessToolbarTemplate':\n                    if (newProperties.quickAccessToolbarTemplate) {\n                        this.notify('toolbar', { prop: 'destroy-qa-toolbar', onPropertyChange: false });\n                        this.quickAccessToolbarTemplateFn();\n                    }\n                    break;\n                case 'uploadSettings':\n                    if (newProperties.uploadSettings) {\n                        this.uploadSettings = newProperties.uploadSettings;\n                        if (!this.uploadSettings.allowedExtensions) {\n                            this.uploadSettings.allowedExtensions = '.jpg, .jpeg, .png, .svg, .webp';\n                            this.notify('draw', { prop: 'setNullExtension', value: { extension: true } });\n                        }\n                        else {\n                            this.notify('draw', { prop: 'setNullExtension', value: { extension: false } });\n                        }\n                        this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                    }\n                    else {\n                        this.notify('draw', { prop: 'setNullExtension', value: { extension: true } });\n                    }\n                    this.updateDropInfoContent(this.element.querySelector('.e-ie-drop-info'));\n                    break;\n            }\n        }\n    };\n    ImageEditor.prototype.destroy = function () {\n        var classList = [];\n        this.element.removeAttribute('tabindex');\n        var saveDialog = this.element.querySelector('#' + this.element.id + '_saveDialog');\n        if (saveDialog && saveDialog.style.display === 'block') {\n            getComponent(document.getElementById(this.element.id + '_saveDialog'), 'dialog').destroy();\n        }\n        if (this.cssClass) {\n            classList = classList.concat(this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n        removeClass([this.element], classList);\n        if (!this.element.getAttribute('class')) {\n            this.element.removeAttribute('class');\n        }\n        this.unwireEvent();\n        this.notify('toolbar', { prop: 'destroySubComponents', onPropertyChange: false });\n        this.notify('destroyed', null);\n        _super.prototype.destroy.call(this);\n        this.element.innerHTML = '';\n    };\n    ImageEditor.prototype.initialize = function () {\n        if (this.toolbarTemplate) {\n            this.element.appendChild(this.createElement('div', {\n                id: this.element.id + '_toolbarArea', className: 'e-toolbar-area'\n            }));\n            this.toolbarTemplateFn();\n        }\n        else {\n            this.notify('toolbar', { prop: 'create-toolbar', onPropertyChange: false });\n            this.notify('toolbar', { prop: 'create-contextual-toolbar', onPropertyChange: false });\n        }\n        if (!this.uploadSettings.allowedExtensions) {\n            this.setProperties({ uploadSettings: { allowedExtensions: '.jpg, .jpeg, .png, .svg, .webp' } }, true);\n        }\n        else {\n            this.notify('draw', { prop: 'setNullExtension', value: { extension: false } });\n        }\n        this.createCanvas();\n        if (this.element.offsetWidth > 359 && this.element.querySelector('.e-ie-min-drop-content') && this.element.querySelector('.e-ie-drop-content')) {\n            this.element.querySelector('.e-ie-min-drop-content').style.display = 'none';\n            this.element.querySelector('.e-ie-drop-content').style.display = 'block';\n        }\n        this.createDropUploader();\n        if (this.showQuickAccessToolbar) {\n            var canvasWrapper = document.querySelector('#' + this.element.id + '_canvasWrapper');\n            canvasWrapper.appendChild(this.createElement('div', {\n                id: this.element.id + '_quickAccessToolbarArea', className: 'e-quick-access-toolbar-area'\n            }));\n            var quickAccessToolbar = document.getElementById(this.element.id + '_quickAccessToolbarArea');\n            quickAccessToolbar.style.position = 'absolute';\n            quickAccessToolbar.style.display = 'none';\n            if (this.activeObj) {\n                quickAccessToolbar.style.left = this.activeObj.activePoint.startX + 'px';\n                quickAccessToolbar.style.top = this.activeObj.activePoint.startY + 'px';\n            }\n            quickAccessToolbar.style.width = '100%';\n        }\n        if (this.quickAccessToolbarTemplate) {\n            this.quickAccessToolbarTemplateFn();\n        }\n        else {\n            this.notify('toolbar', { prop: 'create-qa-toolbar', onPropertyChange: false });\n        }\n        this.wireEvent();\n        this.lowerContext = this.lowerCanvas.getContext('2d');\n        this.upperContext = this.upperCanvas.getContext('2d');\n        this.inMemoryContext = this.inMemoryCanvas.getContext('2d');\n        this.lowerContext.filter = this.getDefaultFilter();\n        this.notify('filter', { prop: 'setAdjustmentValue', onPropertyChange: false, value: { adjustmentValue: this.lowerContext.filter } });\n        this.canvasFilter = this.lowerContext.filter;\n        this.notify('toolbar', { prop: 'setInitialAdjustmentValue', onPropertyChange: false, value: { value: this.lowerContext.filter } });\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n        if (this.element) {\n            createSpinner({\n                target: this.element\n            });\n        }\n        this.initializeZoomSettings();\n        if (this.imgSrc) {\n            this.open(this.imgSrc);\n        }\n    };\n    ImageEditor.prototype.createDropUploader = function () {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        var uploadObj = new Uploader({\n            dropArea: this.element.getElementsByClassName('e-canvas-wrapper')[0],\n            allowedExtensions: this.uploadSettings.allowedExtensions,\n            multiple: false,\n            selected: function (args) {\n                if (args.event.type === 'change' || args.event.type === 'drop') {\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                    var type = args.filesData[0].type;\n                    var errType = 'unsupported';\n                    var extension = _this.getExtensionArray();\n                    var isAllowedFileType = (extension.indexOf(type) > -1 ||\n                        (type === 'jpeg' && (proxy.uploadSettings.allowedExtensions.indexOf('jpg') > -1 ||\n                            proxy.uploadSettings.allowedExtensions.indexOf('jpeg') > -1)));\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                    var size = args.filesData[0].size;\n                    var isInvalidSize = (proxy.uploadSettings.minFileSize && size < proxy.uploadSettings.minFileSize) ||\n                        (proxy.uploadSettings.maxFileSize && size > proxy.uploadSettings.maxFileSize);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    if ((args.event.type === 'change' || (args.event.type === 'drop' && args.event.dataTransfer.files.length === 1)) && isAllowedFileType &&\n                        !isInvalidSize) {\n                        _this.notify('draw', { prop: 'fileSelect', value: { inputElement: _this.element.querySelector('#' + _this.element.id + '_dropfileUpload'), args: args } });\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        if (args.event.type === 'drop' && args.event.dataTransfer.files.length > 1) {\n                            errType = 'multi-select-image';\n                        }\n                        _this.showDialogPopup(errType, !isAllowedFileType);\n                    }\n                }\n            }\n        });\n        uploadObj.appendTo('#' + this.element.id + '_dropfileUpload');\n    };\n    ImageEditor.prototype.dlgCloseBtnClick = function () {\n        getComponent(document.getElementById(this.element.id + '_dialog'), 'dialog').destroy();\n    };\n    /**\n     * Show dialog popup for unsupported files.\n     *\n     * @param { string } type - Specifies the type of error.\n     * @param { boolean } fileTypeError - Specifies the error is due to file type.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.showDialogPopup = function (type, fileTypeError) {\n        var content = '';\n        this.element.querySelector('#' + this.element.id + '_dialog').style.display = 'block';\n        var headerObj;\n        var okObj = { key: 'DlgOK' };\n        this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: okObj } });\n        if (type === 'multi-select-image') {\n            headerObj = { key: 'ImageErrorDialogHeader' };\n            this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: headerObj } });\n            var contentObj = { key: 'ImageErrorDialogContent' };\n            this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: contentObj } });\n            content = '<span>' + contentObj['value'] + '</span>';\n        }\n        else {\n            headerObj = { key: 'AlertDialogHeader' };\n            this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: headerObj } });\n            var contentObj = { key: 'AlertDialogContent' };\n            this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: contentObj } });\n            var supportObj = { key: 'SupportText' };\n            this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: supportObj } });\n            var extension = this.getExtensionString();\n            var fileSizeObj = { key: 'MinMaxSizeAlert' };\n            this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: fileSizeObj } });\n            var andObj = { key: 'And' };\n            this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: andObj } });\n            var size = void 0;\n            if (this.uploadSettings.minFileSize && this.uploadSettings.maxFileSize) {\n                size = ' ' + fileSizeObj['value'] + ' <b> ' + this.formatSizeUnits(this.uploadSettings.minFileSize) + ' </b> ' + andObj['value'] + ' <b> ' + this.formatSizeUnits(this.uploadSettings.maxFileSize) + ' </b> ';\n            }\n            else if (this.uploadSettings.minFileSize) {\n                fileSizeObj['key'] = 'MinSizeAlert';\n                this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: fileSizeObj } });\n                size = ' ' + fileSizeObj['value'] + ' <b> ' + this.formatSizeUnits(this.uploadSettings.minFileSize) + ' </b> ';\n            }\n            else if (this.uploadSettings.maxFileSize) {\n                fileSizeObj['key'] = 'MaxSizeAlert';\n                this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: fileSizeObj } });\n                size = ' ' + fileSizeObj['value'] + ' <b> ' + this.formatSizeUnits(this.uploadSettings.maxFileSize) + ' </b> ';\n            }\n            if (fileTypeError) {\n                content = '<span>' + contentObj['value'] + ' ' + supportObj['value'] + '<b>' + extension + '</b>' + '</span>';\n            }\n            else if (size) {\n                content = '<span>' + contentObj['value'] + ' ' + supportObj['value'] + size + '</span>';\n            }\n        }\n        var dialog = new Dialog({\n            header: headerObj['value'],\n            closeOnEscape: true,\n            content: content,\n            target: document.getElementById('target'),\n            width: Browser.isDevice ? '285px' : '400px',\n            isModal: true,\n            animationSettings: { effect: 'Zoom' },\n            close: this.dlgCloseBtnClick.bind(this),\n            buttons: [\n                { click: this.dlgCloseBtnClick.bind(this),\n                    buttonModel: { content: okObj['value'] }\n                }\n            ]\n        });\n        dialog.appendTo('#' + this.element.id + '_dialog');\n    };\n    /**\n     * Returns bytes in string format.\n     *\n     * @param { number } bytes - Specifies the bytes.\n     *\n     * @hidden\n     * @returns {string}.\n     */\n    ImageEditor.prototype.formatSizeUnits = function (bytes) {\n        var byte = '';\n        if (bytes >= 1073741824) {\n            byte = (bytes / 1073741824).toFixed(2) + ' GB';\n        }\n        else if (bytes >= 1048576) {\n            byte = (bytes / 1048576).toFixed(2) + ' MB';\n        }\n        else if (bytes >= 1024) {\n            byte = (bytes / 1024).toFixed(2) + ' KB';\n        }\n        else if (bytes > 1) {\n            byte = bytes + ' bytes';\n        }\n        else if (bytes === 1) {\n            byte = bytes + ' byte';\n        }\n        else {\n            byte = '0 bytes';\n        }\n        return byte;\n    };\n    /**\n     * Returns allowed file type extensions in string[].\n     *\n     * @hidden\n     * @returns {string[]}.\n     */\n    ImageEditor.prototype.getExtensionArray = function () {\n        var validExtensions = ['jpeg', 'jpg', 'png', 'svg', 'webp'];\n        var split = this.uploadSettings.allowedExtensions.split(',');\n        var extension = [];\n        for (var _i = 0, split_1 = split; _i < split_1.length; _i++) {\n            var ext = split_1[_i];\n            var trimmedExt = ext.trim();\n            for (var _a = 0, validExtensions_1 = validExtensions; _a < validExtensions_1.length; _a++) {\n                var valid = validExtensions_1[_a];\n                if (trimmedExt.indexOf(valid) !== -1) {\n                    extension.push(valid);\n                    break;\n                }\n            }\n        }\n        return extension;\n    };\n    /**\n     * Returns allowed file type extensions in string.\n     *\n     * @hidden\n     * @returns {string}.\n     */\n    ImageEditor.prototype.getExtensionString = function () {\n        var andObj = { key: 'And' };\n        this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: andObj } });\n        var extension = this.getExtensionArray();\n        var words = '';\n        for (var i = 0; i < extension.length; i++) {\n            if (i === extension.length - 1 && extension.length > 1 &&\n                !((extension[i] === 'jpeg' || extension[i] === 'jpg') &&\n                    (words.indexOf('JPG') > -1))) {\n                if (extension.length === 2 || (extension.length === 3 && extension.indexOf('jpeg') !== -1 && extension.indexOf('jpg') !== -1)) {\n                    words = words.replace(/,\\s*$/, '');\n                }\n                words += ' ' + andObj['value'];\n            }\n            switch (extension[i]) {\n                case 'jpeg':\n                case 'jpg':\n                    if (words.indexOf('JPG') === -1) {\n                        words += ' JPG,';\n                    }\n                    break;\n                case 'png':\n                    words += ' PNG,';\n                    break;\n                case 'svg':\n                    words += ' SVG,';\n                    break;\n                case 'webp':\n                    words += ' WebP,';\n                    break;\n            }\n            if (i === extension.length - 1) {\n                words = words.slice(0, -1);\n            }\n        }\n        return words;\n    };\n    /**\n     *\n     * This Method will add events to component (element, event, method, current reference)\n     *\n     * @returns {void}.\n     */\n    ImageEditor.prototype.wireEvent = function () {\n        EventHandler.add(document, 'keydown', this.keyDownEventHandler, this);\n        EventHandler.add(document, 'keypress', this.keyUpEventHandler, this);\n        EventHandler.add(this.upperCanvas, 'mousedown', this.mouseDownEventHandler, this);\n        EventHandler.add(this.upperCanvas, 'mousemove', this.mouseMoveEventHandler, this);\n        EventHandler.add(this.upperCanvas, 'mouseup', this.mouseUpEventHandler, this);\n        EventHandler.add(document, 'mouseup', this.mouseUpEventHandler, this);\n        EventHandler.add(this.lowerCanvas, 'mousedown', this.canvasMouseDownHandler, this);\n        EventHandler.add(this.lowerCanvas, 'mousemove', this.canvasMouseMoveHandler, this);\n        EventHandler.add(this.lowerCanvas, 'mouseup', this.canvasMouseUpHandler, this);\n        EventHandler.add(this.upperCanvas, 'touchstart', this.touchStartHandler, this);\n        EventHandler.add(this.lowerCanvas, 'touchstart', this.touchStartHandler, this);\n        EventHandler.add(this.lowerCanvas, 'mousewheel DOMMouseScroll', this.handleScroll, this);\n        EventHandler.add(this.upperCanvas, 'mousewheel DOMMouseScroll', this.handleScroll, this);\n        window.addEventListener('resize', this.windowResizeHandler.bind(this));\n        if ((!Browser.isIos && Browser.info.name !== 'safari')) {\n            screen.orientation.addEventListener('change', this.screenOrientation.bind(this));\n        }\n        this.notify('shape', { prop: 'wireEvent', onPropertyChange: false });\n    };\n    /**\n     *\n     * This Method will remove events from component\n     *\n     * @returns {void}.\n     */\n    ImageEditor.prototype.unwireEvent = function () {\n        EventHandler.remove(document, 'keydown', this.keyDownEventHandler);\n        EventHandler.remove(document, 'keypress', this.keyUpEventHandler);\n        EventHandler.remove(this.upperCanvas, 'mousedown', this.mouseDownEventHandler);\n        EventHandler.remove(this.upperCanvas, 'mousemove', this.mouseMoveEventHandler);\n        EventHandler.remove(this.upperCanvas, 'mouseup', this.mouseUpEventHandler);\n        EventHandler.remove(document, 'mouseup', this.mouseUpEventHandler);\n        EventHandler.remove(this.lowerCanvas, 'mousedown', this.canvasMouseDownHandler);\n        EventHandler.remove(this.lowerCanvas, 'mousemove', this.canvasMouseMoveHandler);\n        EventHandler.remove(this.lowerCanvas, 'mouseup', this.canvasMouseUpHandler);\n        EventHandler.remove(this.upperCanvas, 'touchstart', this.touchStartHandler);\n        EventHandler.remove(this.lowerCanvas, 'touchstart', this.touchStartHandler);\n        EventHandler.remove(this.lowerCanvas, 'mousewheel DOMMouseScroll', this.handleScroll);\n        EventHandler.remove(this.upperCanvas, 'mousewheel DOMMouseScroll', this.handleScroll);\n        window.removeEventListener('resize', this.windowResizeHandler.bind(this));\n        if ((!Browser.isIos && Browser.info.name !== 'safari')) {\n            screen.orientation.removeEventListener('change', this.screenOrientation.bind(this));\n        }\n        this.notify('shape', { prop: 'unWireEvent', onPropertyChange: false });\n        this.notify('selection', { prop: 'unWireEvent', onPropertyChange: false });\n    };\n    ImageEditor.prototype.createCanvas = function () {\n        this.element.style.boxSizing = 'border-box';\n        var obj = { toolbarHeight: 0 };\n        this.notify('toolbar', { prop: 'getToolbarHeight', value: { obj: obj } });\n        var height = obj['toolbarHeight'];\n        if (this.toolbar && this.toolbar.length > 0 && this.toolbar.indexOf('Open') === -1) {\n            height = 0;\n        }\n        this.element.style.width = this.width;\n        this.element.style.height = this.height;\n        var canvasWrapperElement = this.createElement('div', { id: this.element.id + '_canvasWrapper', className: 'e-canvas-wrapper' });\n        canvasWrapperElement.style.cssText = \"height: \" + (this.element.offsetHeight - height - 2) + \"px; width: \" + (this.element.offsetWidth - 2) + \"px; position: relative; overflow: hidden; margin: 0 auto;\";\n        var canvasWrapper = this.element.appendChild(canvasWrapperElement);\n        var dragObj = { key: 'DragText' };\n        this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: dragObj } });\n        var dropObj = { key: 'DropText' };\n        this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: dropObj } });\n        var browseObj = { key: 'BrowseText' };\n        this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: browseObj } });\n        var dropAreaElement = this.createElement('div', { id: this.element.id + '_dropArea', className: 'e-ie-drop-area' });\n        dropAreaElement.style.position = 'relative';\n        var dropIconElement = this.createElement('span', { className: 'e-ie-drop-icon e-icons e-image' });\n        dropIconElement.style.position = 'absolute';\n        var dropContentElement = this.createElement('span', { className: 'e-ie-drop-content' });\n        dropContentElement.style.cssText = 'position: absolute; display: none;';\n        dropContentElement.textContent = dragObj['value'] + ' ';\n        var minDropContentElem = this.createElement('span', { className: 'e-ie-min-drop-content' });\n        minDropContentElem.style.position = 'absolute';\n        minDropContentElem.textContent = dropObj['value'] + ' ';\n        var dropAnchorElement = this.createElement('a', { id: this.element.id + '_dropBrowse', className: 'e-ie-drop-browse' });\n        dropAnchorElement.textContent = browseObj['value'];\n        var minDropAnchorElem = this.createElement('a', { id: this.element.id + '_dropBrowse', className: 'e-ie-drop-browse' });\n        minDropAnchorElem.textContent = browseObj['value'];\n        dropContentElement.appendChild(dropAnchorElement);\n        minDropContentElem.appendChild(minDropAnchorElem);\n        dropAnchorElement.href = '';\n        minDropAnchorElem.href = '';\n        var dropInfoElement = this.createElement('span', { className: 'e-ie-drop-info', attrs: { position: 'absolute' } });\n        this.updateDropInfoContent(dropInfoElement);\n        var dropUploader = dropAreaElement.appendChild(this.createElement('input', {\n            id: this.element.id + '_dropfileUpload', className: 'e-fileUpload e-image-upload'\n        }));\n        dropUploader.setAttribute('type', 'file');\n        dropUploader.setAttribute('accept', 'image/*');\n        dropAreaElement.appendChild(dropIconElement);\n        dropAreaElement.appendChild(dropContentElement);\n        dropAreaElement.appendChild(minDropContentElem);\n        dropAreaElement.appendChild(dropInfoElement);\n        canvasWrapper.appendChild(dropAreaElement);\n        this.lowerCanvas = canvasWrapper.appendChild(this.createElement('canvas', {\n            id: this.element.id + '_lowerCanvas', attrs: { name: 'canvasImage' }\n        }));\n        this.maskCanvas = canvasWrapper.appendChild(this.createElement('canvas', {\n            id: this.element.id + '_maskCanvas', attrs: { name: 'canvasImage' }\n        }));\n        this.upperCanvas = canvasWrapper.appendChild(this.createElement('canvas', {\n            id: this.element.id + '_upperCanvas', attrs: { name: 'canvasImage' }\n        }));\n        this.inMemoryCanvas = this.createElement('canvas', {\n            id: this.element.id + '_inMemoryCanvas', attrs: { name: 'canvasImage' }\n        });\n        this.baseImgCanvas = this.createElement('canvas', {\n            id: this.element.id + '_baseImgCanvas', attrs: { name: 'canvasImage' }\n        });\n        this.textArea = canvasWrapper.appendChild(this.createElement('textarea', {\n            id: this.element.id + '_textArea', className: 'e-textarea', attrs: { name: 'textArea' }\n        }));\n        var dialog = this.element.appendChild(this.createElement('div', {\n            id: this.element.id + '_dialog', className: 'e-dialog'\n        }));\n        dialog.style.display = 'none';\n        var uploader = this.element.appendChild(this.createElement('input', {\n            id: this.element.id + '_fileUpload', className: 'e-fileUpload'\n        }));\n        uploader.setAttribute('type', 'file');\n        uploader.setAttribute('accept', 'image/*');\n        uploader.style.display = 'none';\n        this.textArea.setAttribute('spellcheck', 'false');\n        this.textArea.style.lineHeight = 'normal';\n        this.lowerCanvas.style.width = this.upperCanvas.style.width = this.maskCanvas.style.width =\n            this.inMemoryCanvas.style.width = '100%';\n        this.lowerCanvas.style.height = this.upperCanvas.style.height = this.maskCanvas.style.height =\n            this.inMemoryCanvas.style.height = '100%';\n        this.upperCanvas.style.position = this.lowerCanvas.style.position = this.maskCanvas.style.position =\n            this.textArea.style.position = 'absolute';\n        this.textArea.style.backgroundColor = 'transparent';\n        this.textArea.style.display = 'none';\n        this.maskCanvas.style.display = this.textArea.style.resize = 'none';\n        this.lowerContext = this.lowerCanvas.getContext('2d');\n        this.baseImg = this.createElement('img', {\n            id: this.element.id + '_orgImg', attrs: { name: 'Image', crossorigin: 'anonymous' }\n        });\n        this.upperCanvas.style.cursor = this.cursor = 'default';\n        this.upperCanvas.style.display = 'block';\n        this.upperContext = this.upperCanvas.getContext('2d');\n        dropAnchorElement.addEventListener('click', function (e) {\n            e.preventDefault();\n            dropUploader.click();\n            return false;\n        });\n        minDropAnchorElem.addEventListener('click', function (e) {\n            e.preventDefault();\n            dropUploader.click();\n            return false;\n        });\n    };\n    ImageEditor.prototype.touchStartHandler = function (e) {\n        this.notify('selection', { prop: 'touchStartHandler', onPropertyChange: false, value: { e: e } });\n    };\n    ImageEditor.prototype.mouseDownEventHandler = function (e) {\n        if (e.target.className === 'e-ie-drop-browse') {\n            return;\n        }\n        this.notify('selection', { prop: 'mouseDownEventHandler', onPropertyChange: false, value: { e: e } });\n    };\n    ImageEditor.prototype.mouseMoveEventHandler = function (e) {\n        this.notify('selection', { prop: 'mouseMoveEventHandler', onPropertyChange: false, value: { e: e } });\n    };\n    ImageEditor.prototype.mouseUpEventHandler = function (e) {\n        if (e.target.className === 'e-ie-drop-browse') {\n            return;\n        }\n        this.notify('selection', { prop: 'mouseUpEventHandler', onPropertyChange: false, value: { e: e } });\n    };\n    ImageEditor.prototype.keyDownEventHandler = function (e) {\n        this.notify('selection', { prop: 'keyDownEventHandler', onPropertyChange: false, value: { e: e } });\n    };\n    ImageEditor.prototype.keyUpEventHandler = function (e) {\n        if ((this.textArea.style.display === 'block' || this.textArea.style.display === 'inline-block')\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            && e.target.id === this.element.id + '_textArea') {\n            this.notify('selection', { prop: 'textKeyDown', value: { e: e } });\n        }\n    };\n    ImageEditor.prototype.canvasMouseDownHandler = function (e) {\n        if (e.target.className === 'e-ie-drop-browse') {\n            return;\n        }\n        this.notify('selection', { prop: 'canvasMouseDownHandler', onPropertyChange: false, value: { e: e } });\n    };\n    ImageEditor.prototype.canvasMouseMoveHandler = function (e) {\n        this.notify('selection', { prop: 'canvasMouseMoveHandler', onPropertyChange: false, value: { e: e } });\n    };\n    ImageEditor.prototype.canvasMouseUpHandler = function (e) {\n        if (e.target.className === 'e-ie-drop-browse') {\n            return;\n        }\n        this.notify('selection', { prop: 'canvasMouseUpHandler', onPropertyChange: false, value: { e: e } });\n    };\n    ImageEditor.prototype.handleScroll = function (e) {\n        this.notify('selection', { prop: 'handleScroll', onPropertyChange: false, value: { e: e } });\n    };\n    ImageEditor.prototype.adjustToScreen = function () {\n        this.update();\n    };\n    ImageEditor.prototype.screenOrientation = function () {\n        if (Browser.isDevice) {\n            setTimeout(this.adjustToScreen.bind(this), 100);\n        }\n    };\n    ImageEditor.prototype.windowResizeHandler = function () {\n        if (!Browser.isDevice && this.element.classList.contains('e-image-editor')) {\n            this.adjustToScreen();\n        }\n    };\n    ImageEditor.prototype.notifyResetForAllModules = function () {\n        var modules = this.requiredModules();\n        for (var i = 0; i < modules.length; i++) {\n            var module = modules[i].member;\n            this.notify(module === 'toolbar-module' ? 'toolbar' : module, { prop: 'reset', onPropertyChange: false });\n        }\n    };\n    ImageEditor.prototype.allowShape = function (x, y) {\n        this.isPublicMethod = true;\n        this.applyShapes();\n        var obj = { inRange: false };\n        this.notify('shape', { prop: 'isPointsInRange', onPropertyChange: false,\n            value: { x: x, y: y, obj: obj } });\n        return obj['inRange'];\n    };\n    ImageEditor.prototype.manageActiveAction = function () {\n        this.applyShapes();\n        if (this.activeObj.shape && this.activeObj.shape.indexOf('crop') > -1) {\n            this.discard();\n        }\n    };\n    /**\n     * Clears the current selection performed in the image editor.\n     *\n     * @param { boolean } resetCrop - Specifies to reset last cropped image.\n     *\n     * @returns {void}.\n     */\n    ImageEditor.prototype.clearSelection = function (resetCrop) {\n        this.notify('selection', { prop: 'clearSelection', onPropertyChange: false, value: { resetCrop: resetCrop } });\n    };\n    /**\n     * Crops an image based on the selection done in the image editor.\n     *\n     * {% codeBlock src='image-editor/crop/index.md' %}{% endcodeBlock %}\n     *\n     * @remarks\n     * The selection can be done through programmatically using the 'select' method or through UI interactions.\n     *\n     * @returns {boolean}.\n     *\n     */\n    ImageEditor.prototype.crop = function () {\n        var obj = { isCrop: false };\n        this.notify('crop', { prop: 'crop', onPropertyChange: false, value: { obj: obj } });\n        return obj['isCrop'];\n    };\n    /**\n     * Flips an image by horizontally or vertically in the image editor.\n     *\n     * {% codeBlock src='image-editor/zoom/index.md' %}{% endcodeBlock %}\n     *\n     * @param { Direction } direction - Specifies the direction to flip the image.\n     * A horizontal direction for horizontal flipping and vertical direction for vertical flipping.\n     *\n     * @remarks\n     * It flips the shapes including rectangle, circle, line, text, image, and freehand drawings.\n     *\n     * @returns {void}.\n     *\n     */\n    ImageEditor.prototype.flip = function (direction) {\n        this.applyShapes();\n        this.updateImageTransformColl(direction.toLowerCase() + 'flip');\n        this.notify('transform', { prop: 'flip', value: { direction: direction } });\n        this.notify('draw', { prop: 'redrawDownScale' });\n        this.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n        var actionArgs = { action: 'flip', actionEventArgs: this.editCompleteArgs };\n        this.triggerEditCompleteEvent(actionArgs);\n    };\n    /**\n     * Returns an image as ImageData to load it in to a canvas.\n     *\n     * @param {boolean} [includeAnnotations=true] - Optional. Specifies whether the returned image data should include annotations. The default value is true, meaning annotations are included.\n     *\n     * @remarks\n     * The data returned from this method is directly drawn in a canvas using 'putImageData' method.\n     * And then the user can get the base64 string from the canvas using toDataURL method.\n     *\n     * @returns {ImageData}.\n     */\n    ImageEditor.prototype.getImageData = function (includeAnnotations) {\n        includeAnnotations = isNullOrUndefined(includeAnnotations) ? true : includeAnnotations;\n        var imageData;\n        if (includeAnnotations) {\n            var obj = { canvas: null };\n            this.applyShapes();\n            this.notify('export', { prop: 'exportToCanvas', value: { object: obj } });\n            imageData = obj['canvas'].getContext('2d').getImageData(0, 0, obj['canvas'].width, obj['canvas'].height);\n        }\n        else if (this.isMaskImage && this.element.getAttribute('data-value') === 'mask-drawing') {\n            imageData = this.getData(true);\n            this.updateColl('reset');\n        }\n        else {\n            imageData = this.getData();\n            this.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n        }\n        return imageData;\n    };\n    /**\n     *  Opens an image as URL or ImageData for editing in an image editor.\n     *\n     * @param {string | ImageData } data - Specifies url of the image or image data.\n     * @param {boolean} [resetChanges=true] - Optional. Determines whether to reset existing changes when opening the image. The default value is true, which resets all existing changes.\n     * @param {ImageSettings} imageSettings - Optional. Specifies the image setting that contains background color to apply when opening a transparent image. The default value of background color is an empty string (''), meaning no background color is applied by default when a transparent image is opened.\n     *\n     * @remarks\n     * The supported file types are JPG, JPEG, PNG, and SVG.\n     *\n     * @returns {void}.\n     */\n    ImageEditor.prototype.open = function (data, resetChanges, imageSettings) {\n        resetChanges = isNullOrUndefined(resetChanges) ? true : resetChanges;\n        if (resetChanges) {\n            if (isNullOrUndefined(data)) {\n                return;\n            }\n            var dropArea = document.getElementById(this.element.id + '_dropArea');\n            if (dropArea) {\n                dropArea.style.display = 'none';\n            }\n            this.notify('draw', { prop: 'open', value: { data: data } });\n        }\n        else {\n            this.updateImage(data, imageSettings ? imageSettings.backgroundColor : null);\n        }\n    };\n    /**\n     * Reset all the changesdone in an image editor and revert to original image.\n     *\n     * @remarks\n     * The undo redo collection also cleared while resetting the image editor.\n     *\n     * @returns {void}.\n     */\n    ImageEditor.prototype.reset = function () {\n        this.updateColl('reset');\n        var obj = { isErrorImage: false };\n        this.notify('draw', { prop: 'getErrorImage', value: { obj: obj } });\n        if (!this.disabled && !obj['isErrorImage']) {\n            this.clearContext(this.inMemoryContext);\n            this.clearContext(this.lowerContext);\n            this.clearContext(this.upperContext);\n            this.notify('shape', { prop: 'setRedactType', onPropertyChange: false, value: { redactType: 'blur' } });\n            this.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                    isApplyBtn: false, isCropping: false, isZooming: null, cType: null } });\n            if (Browser.isDevice && document.getElementById(this.element.id + '_bottomToolbar')) {\n                getComponent(document.getElementById(this.element.id + '_bottomToolbar'), 'toolbar').destroy();\n                this.notify('toolbar', { prop: 'create-bottom-toolbar', onPropertyChange: false });\n            }\n            var isImageLoaded = this.isImageLoaded;\n            this.currObjType.isUndoAction = this.isUndoRedo = this.togglePan = this.togglePen = this.isImageLoaded = this.isFinetuning = false;\n            this.isCircleCrop = this.isCropTab = false;\n            this.objColl = [];\n            this.transform.degree = 0;\n            this.upperCanvas.style.display = 'block';\n            this.transform.currFlipState = '';\n            this.allowDownScale = true;\n            this.upperCanvas.style.cursor = this.cursor = this.lowerCanvas.style.cursor = 'default';\n            this.lowerContext.lineWidth = this.upperContext.lineWidth = undefined;\n            this.frameDestPoints = null;\n            this.textArea.value = this.textArea.textContent = '';\n            this.textArea.style.display = 'none';\n            this.lowerContext.filter = this.canvasFilter = this.getDefaultFilter();\n            this.img.destLeft = this.img.destTop = this.img.srcLeft = this.img.srcTop = 0;\n            this.img.destWidth = this.img.destHeight = this.img.srcWidth = this.img.srcHeight = null;\n            this.currSelectionPoint = null;\n            this.panPoint.currentPannedPoint = { x: 0, y: 0 };\n            this.rotateFlipColl = [];\n            this.points = [];\n            this.pointColl = {};\n            this.freehandCounter = 0;\n            this.notify('draw', { prop: 'resetPanPoints' });\n            this.lowerCanvas.style.left = this.upperCanvas.style.left = '';\n            this.fontSizeColl = [];\n            this.lowerCanvas.style.top = this.upperCanvas.style.top = '';\n            this.lowerCanvas.style.maxWidth = this.upperCanvas.style.maxWidth = '';\n            this.lowerCanvas.style.maxHeight = this.upperCanvas.style.maxHeight = '';\n            this.transform.defaultZoomFactor = this.transform.zoomFactor = 0;\n            this.transform.cropZoomFactor = null;\n            this.frameObj = { type: 'none', color: '#fff', size: 20, inset: 20, offset: 20, radius: 0, amount: 1, border: 'solid', gradientColor: '' };\n            this.tempFrameObj = { type: 'none', color: '#fff', size: 20, inset: 20, offset: 20, radius: 0, amount: 1, border: 'solid', gradientColor: '' };\n            this.currObjType = { shape: '', isDragging: false, isActiveObj: false, isText: false, isInitialText: false, isLine: false,\n                isInitialLine: false, isCustomCrop: false, isZoomed: false, isUndoZoom: false,\n                isUndoAction: false, isFiltered: false, isSave: false, isResize: false, isRedact: false };\n            this.cropObj = { cropZoom: 0, defaultZoom: 0, totalPannedPoint: { x: 0, y: 0 }, totalPannedClientPoint: { x: 0, y: 0 },\n                totalPannedInternalPoint: { x: 0, y: 0 }, tempFlipPanPoint: { x: 0, y: 0 }, activeObj: {},\n                rotateFlipColl: [], degree: 0, currFlipState: '', straighten: 0, zoomFactor: 0, previousZoomValue: 0,\n                destPoints: { startX: 0, startY: 0, width: 0, height: 0 }, frame: 'none',\n                srcPoints: { startX: 0, startY: 0, width: 0, height: 0 }, filter: '', isBrightAdjust: false,\n                aspectWidth: null, aspectHeight: null, straightenZoom: 0,\n                adjustmentLevel: { brightness: 0, contrast: 0, hue: 0, opacity: 100, saturation: 0, blur: 0,\n                    exposure: 0, transparency: 100, sharpen: false, bw: false }, currentFilter: '' };\n            this.afterCropActions = [];\n            this.currentFilter = '';\n            this.tempFrameZoomLevel = null;\n            this.cxtTbarHeight = null;\n            this.straightenPoint = null;\n            this.transform.straighten = 0;\n            this.cancelCropSelection = null;\n            this.aspectWidth = this.aspectHeight = null;\n            this.isResize = this.isMaskImage = false;\n            this.drawingShape = null;\n            this.isShapeDrawing = this.noPushUndo = this.isUndoRedoStack = this.isKBDNavigation = false;\n            this.shapeColl = [];\n            this.tempObjColl = [];\n            this.tempPointColl = [];\n            this.tempShapeColl = [];\n            this.isImageUpdated = false;\n            this.tempToolbarHeight = 0;\n            this.tempToolbar = [];\n            this.tempRedactBlur = 50;\n            this.tempRedactPixel = 40;\n            var obj_1 = { initialZoomValue: false };\n            this.editCompleteArgs = null;\n            this.isFinetuneBtnClick = false;\n            this.notify('draw', { prop: 'getInitialZoomValue', onPropertyChange: false, value: { obj: obj_1 } });\n            if (obj_1['initialZoomValue']) {\n                this.setProperties({ zoomSettings: { zoomFactor: obj_1['initialZoomValue'] } }, true);\n            }\n            var qtArea = document.getElementById(this.element.id + '_quickAccessToolbarArea');\n            if (qtArea) {\n                qtArea.style.display = 'none';\n            }\n            this.notifyResetForAllModules();\n            this.notify('filter', { prop: 'update-finetunes' });\n            if (this.toolbarTemplate) {\n                this.toolbarHeight = this.element.querySelector('#' + this.element.id + '_toolbarArea').clientHeight;\n            }\n            else if (this.element.querySelector('#' + this.element.id + '_toolbar')) {\n                this.toolbarHeight = this.element.querySelector('#' + this.element.id + '_toolbar').clientHeight;\n            }\n            this.notify('toolbar', { prop: 'setToolbarHeight', value: { height: this.toolbarHeight } });\n            this.isImageLoaded = isImageLoaded;\n            this.straightenBaseImageCanvas();\n            this.isImageLoaded = false;\n            this.notify('draw', { prop: 'update-canvas', onPropertyChange: false });\n            this.isImageLoaded = isImageLoaded;\n            this.prevStraightenedDegree = 0;\n            var ctWrapper = this.element.querySelector('.e-contextual-toolbar-wrapper');\n            if (ctWrapper) {\n                ctWrapper.classList.add('e-hide');\n            }\n            this.notify('toolbar', { prop: 'refresh-dropdown-btn', value: { isDisabled: false } });\n            this.notify('toolbar', { prop: 'enable-disable-btns' });\n            var straightenObj = { bool: this.isStraightening };\n            if (Browser.isDevice && straightenObj['bool']) {\n                this.notify('crop', { prop: 'resizeWrapper' });\n            }\n            var saveDialog = this.element.querySelector('#' + this.element.id + '_saveDialog');\n            if (saveDialog) {\n                getComponent(saveDialog, 'dialog').close();\n            }\n            var actionArgs = { action: 'reset', actionEventArgs: null };\n            this.triggerEditCompleteEvent(actionArgs);\n        }\n    };\n    /**\n     * Rotate an image to clockwise and anti-clockwise.\n     *\n     * {% codeBlock src='image-editor/rotate/index.md' %}{% endcodeBlock %}\n     *\n     * @param {number} degree - Specifies a degree to rotate an image.\n     * A positive integer value for clockwise and negative integer value for anti-clockwise rotation.\n     *\n     * @remarks\n     * It rotated the shapes including rectangle, circle, line, text, image, and freehand drawings.\n     *\n     * @returns {boolean}.\n     *\n     */\n    ImageEditor.prototype.rotate = function (degree) {\n        var obj = { isRotate: false };\n        this.applyShapes();\n        if (degree === 90 || degree === -90) {\n            this.updateImageTransformColl(degree === 90 ? 'rotateright' : 'rotateleft');\n        }\n        this.notify('transform', { prop: 'rotate', value: { degree: degree, obj: obj } });\n        this.notify('draw', { prop: 'redrawDownScale' });\n        var actionArgs = { action: 'rotate', actionEventArgs: this.editCompleteArgs };\n        this.triggerEditCompleteEvent(actionArgs);\n        return obj['isRotate'];\n    };\n    /**\n     * Export an image using the specified file name and the extension.\n     *\n     * @param {string} type - Specifies a format of image to be saved.\n     * @param {string} fileName  Specifies a file name to be saved\n     * @param {number} imageQuality  Specifies the quality of an image to be saved. The default value is 1 which represents the original size of the image if not specified.\n     *\n     * @remarks\n     * The supported file types are JPG, JPEG, PNG, and SVG.\n     *\n     * @returns {void}.\n     */\n    ImageEditor.prototype.export = function (type, fileName, imageQuality) {\n        this.applyShapes();\n        this.notify('export', { prop: 'export', onPropertyChange: false, value: { type: type, fileName: fileName, imgQuality: imageQuality } });\n    };\n    /**\n     * Perform selection in an image editor. The selection helps to crop an image.\n     *\n     * {% codeBlock src='image-editor/select/index.md' %}{% endcodeBlock %}\n     *\n     * @param {string} type - Specifies the shape - circle / square / custom selection / pre-defined ratios.\n     * @param {number} startX  Specifies the start x-coordinate point of the selection.\n     * @param {number} startY  Specifies the start y-coordinate point of the selection.\n     * @param {number} width - Specifies the width of the selection area.\n     * @param {number} height - Specifies the height of the selection area.\n     *\n     * @remarks\n     * The selection UI is based on the 'theme' property.\n     *\n     * @returns {void}.\n     *\n     */\n    ImageEditor.prototype.select = function (type, startX, startY, width, height) {\n        this.applyShapes();\n        this.notify('toolbar', { prop: 'performCropTransformClick', value: { shape: 'crop-' + type } });\n        this.notify('draw', { prop: 'select', onPropertyChange: false,\n            value: { type: type, startX: startX, startY: startY, width: width, height: height } });\n        if ((startX && startY) || (width && height)) {\n            this.notify('draw', { prop: 'select', onPropertyChange: false,\n                value: { type: type, startX: startX, startY: startY, width: width, height: height } });\n        }\n        else {\n            this.cropObj = { cropZoom: 0, defaultZoom: 0, totalPannedPoint: { x: 0, y: 0 }, totalPannedClientPoint: { x: 0, y: 0 },\n                totalPannedInternalPoint: { x: 0, y: 0 }, tempFlipPanPoint: { x: 0, y: 0 }, activeObj: {},\n                rotateFlipColl: [], degree: 0, currFlipState: '', straighten: 0, zoomFactor: 0, previousZoomValue: 0,\n                destPoints: { startX: 0, startY: 0, width: 0, height: 0 }, frame: 'none',\n                srcPoints: { startX: 0, startY: 0, width: 0, height: 0 }, filter: '', isBrightAdjust: false,\n                aspectWidth: null, aspectHeight: null, straightenZoom: 0,\n                adjustmentLevel: { brightness: 0, contrast: 0, hue: 0, opacity: 100, saturation: 0, blur: 0,\n                    exposure: 0, transparency: 100, sharpen: false, bw: false }, currentFilter: '' };\n        }\n    };\n    /**\n     * Enable or disable a freehand drawing option in an Image Editor.\n     *\n     * @param {boolean} value - Specifies a value whether to enable or disable freehand drawing.\n     *\n     * @returns {void}.\n     * @private\n     */\n    ImageEditor.prototype.freeHandDraw = function (value) {\n        this.notify('freehand-draw', { prop: 'freeHandDraw', onPropertyChange: false, value: { value: value } });\n    };\n    /**\n     * Enable or disable a freehand drawing in an Image Editor.\n     *\n     * @param {boolean} value - Specifies a value whether to enable or disable freehand drawing.\n     *\n     * @remarks\n     * User can directly drawing on a canvas after enabling this option.\n     *\n     * @returns {void}.\n     */\n    ImageEditor.prototype.freehandDraw = function (value) {\n        if (!this.disabled && this.isImageLoaded) {\n            if (!value && this.isMaskImage) {\n                this.discard();\n                return;\n            }\n            this.manageActiveAction();\n            this.freeHandDraw(value);\n            var prevObj = { shapeSettingsObj: {} };\n            this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: prevObj } });\n            var shapeSettings = prevObj['shapeSettingsObj'];\n            shapeSettings.type = ShapeType.FreehandDraw;\n            var shapeChangingArgs = { cancel: false, action: 'insert', previousShapeSettings: shapeSettings,\n                currentShapeSettings: shapeSettings };\n            this.notify('freehand-draw', { prop: 'triggerShapeChanging', value: { shapeChangingArgs: shapeChangingArgs } });\n        }\n    };\n    /**\n     * Enable or disable a panning on the Image Editor.\n     *\n     * @param {boolean} value - Specifies a value whether enable or disable panning.\n     * @param {number} x - Optional, Specifies a value to pan the image horizontally.\n     * @param {number} y - Optional, Specifies a value to pan the image vertically.\n     *\n     * @remarks\n     * This option will take into effect once the image's visibility is hidden when zooming an image or selection has been performed.\n     *\n     * @returns {void}.\n     */\n    ImageEditor.prototype.pan = function (value, x, y) {\n        this.applyShapes();\n        this.notify('transform', { prop: 'pan', onPropertyChange: false, value: { value: value, x: x, y: y } });\n    };\n    /**\n     * Zoom in or out on a point in the image editor.\n     *\n     * @param {number} zoomFactor - The percentage-based zoom factor to use (e.g. 20 for 2x zoom).\n     * @param {Point} zoomPoint - The point in the image editor to zoom in/out on.\n     *\n     * @remarks\n     * Zooming directly enables the panning option when the image's visibility is hidden.\n     * User can disable it by using 'Pan' method.\n     * @returns {void}\n     *\n     */\n    ImageEditor.prototype.zoom = function (zoomFactor, zoomPoint) {\n        this.isZoomBtnClick = true;\n        this.notify('transform', { prop: 'zoom', onPropertyChange: false,\n            value: { zoomFactor: zoomFactor, zoomPoint: zoomPoint } });\n        this.notify('draw', { prop: 'redrawDownScale' });\n    };\n    /**\n     * Draw ellipse on an image.\n     *\n     * {% codeBlock src='image-editor/ellipse/index.md' %}{% endcodeBlock %}\n     *\n     * @param {number} x - Specifies x-coordinate of ellipse.\n     * @param {number} y - Specifies y-coordinate of ellipse.\n     * @param {number} radiusX - Specifies the radius x point for the ellipse.\n     * @param {number} radiusY - Specifies the radius y point for the ellipse.\n     * @param {number} strokeWidth - Specifies the stroke width of ellipse.\n     * @param {string} strokeColor - Specifies the stroke color of ellipse.\n     * @param {string} fillColor - Specifies the fill color of the ellipse.\n     * @param {number} degree - Specifies the degree to rotate the ellipse.\n     * @param {boolean} isSelected - Specifies to show the ellipse in the selected state.\n     * @returns {boolean}.\n     *\n     */\n    ImageEditor.prototype.drawEllipse = function (x, y, radiusX, radiusY, strokeWidth, strokeColor, fillColor, degree, isSelected) {\n        var isEllipse = false;\n        var isPointsInRange = this.allowShape(x, y);\n        if (!this.disabled && this.isImageLoaded && (isPointsInRange || (isNullOrUndefined(x) && isNullOrUndefined(y)))) {\n            isEllipse = true;\n            this.manageActiveAction();\n            this.notify('shape', { prop: 'drawEllipse', onPropertyChange: false, value: { x: x, y: y, radiusX: radiusX, radiusY: radiusY,\n                    strokeWidth: strokeWidth, strokeColor: strokeColor, fillColor: fillColor, degree: degree, isSelected: isSelected } });\n            this.editCompleted();\n        }\n        return isEllipse;\n    };\n    /**\n     * Draw line on an image.\n     *\n     * @param {number} startX  Specifies start point x-coordinate of line.\n     * @param {number} startY  Specifies start point y-coordinate of line.\n     * @param {number} endX - Specifies end point x-coordinates of line.\n     * @param {number} endY - Specifies end point y-coordinates of the line.\n     * @param {number} strokeWidth - Specifies the stroke width of line.\n     * @param {string} strokeColor - Specifies the stroke color of line.\n     * @param {boolean} isSelected - Specifies to show the line in the selected state.\n     * @returns {boolean}.\n     */\n    ImageEditor.prototype.drawLine = function (startX, startY, endX, endY, strokeWidth, strokeColor, isSelected) {\n        var isLine = false;\n        var isPointsInRange = this.allowShape(startX, startY);\n        if (!this.disabled && this.isImageLoaded && (isPointsInRange || (isNullOrUndefined(startX) && isNullOrUndefined(startY)))) {\n            isLine = true;\n            this.manageActiveAction();\n            this.notify('shape', { prop: 'drawLine', onPropertyChange: false, value: { startX: startX, startY: startY, endX: endX,\n                    endY: endY, strokeWidth: strokeWidth, strokeColor: strokeColor, isSelected: isSelected } });\n            this.editCompleted();\n        }\n        return isLine;\n    };\n    /**\n     * Draw arrow on an image.\n     *\n     * @param {number} startX  Specifies start point x-coordinate of arrow.\n     * @param {number} startY  Specifies start point y-coordinate of arrow.\n     * @param {number} endX - Specifies end point x-coordinates of arrow.\n     * @param {number} endY - Specifies end point y-coordinates of the arrow.\n     * @param {number} strokeWidth - Specifies the stroke width of arrow.\n     * @param {string} strokeColor - Specifies the stroke color of arrow.\n     * @param {ArrowheadType} arrowStart  Specifies the type of arrowhead for start position. The default value is None.\n     * @param {ArrowheadType} arrowEnd  Specifies the type of arrowhead for end position. The default value is SolidArrow.\n     * @param {boolean} isSelected - Specifies to show the arrow in the selected state.\n     * @returns {boolean}.\n     */\n    ImageEditor.prototype.drawArrow = function (startX, startY, endX, endY, strokeWidth, strokeColor, arrowStart, arrowEnd, isSelected) {\n        var isArrow = false;\n        var isPointsInRange = this.allowShape(startX, startY);\n        if (!this.disabled && this.isImageLoaded && (isPointsInRange || (isNullOrUndefined(startX) && isNullOrUndefined(startY)))) {\n            isArrow = true;\n            this.manageActiveAction();\n            this.notify('shape', { prop: 'drawArrow', onPropertyChange: false, value: { startX: startX, startY: startY, endX: endX,\n                    endY: endY, strokeWidth: strokeWidth, strokeColor: strokeColor, arrowStart: arrowStart, arrowEnd: arrowEnd,\n                    isSelected: isSelected } });\n            this.editCompleted();\n        }\n        return isArrow;\n    };\n    /**\n     * Draw path on an image.\n     *\n     * @param {Point[]} pointColl  Specifies collection of start and end x, y-coordinates of path.\n     * @param {number} strokeWidth - Specifies the stroke width of path.\n     * @param {string} strokeColor - Specifies the stroke color of path.\n     * @param {boolean} isSelected - Specifies to show the path in the selected state.\n     * @returns {boolean}.\n     */\n    ImageEditor.prototype.drawPath = function (pointColl, strokeWidth, strokeColor, isSelected) {\n        this.isPublicMethod = true;\n        var obj = { inRange: false };\n        var isPath = false;\n        if (pointColl && pointColl.length > 0) {\n            for (var i = 0; i < pointColl.length; i++) {\n                if (obj['inRange']) {\n                    break;\n                }\n                this.notify('shape', { prop: 'isPointsInRange', onPropertyChange: false,\n                    value: { x: pointColl[i].x, y: pointColl[i].y, obj: obj } });\n            }\n        }\n        if (!this.disabled && this.isImageLoaded && (obj['inRange'] || isNullOrUndefined(pointColl))) {\n            isPath = true;\n            this.manageActiveAction();\n            this.notify('shape', { prop: 'drawPath', onPropertyChange: false, value: { pointColl: pointColl,\n                    strokeWidth: strokeWidth, strokeColor: strokeColor, isSelected: isSelected } });\n            this.editCompleted();\n        }\n        return isPath;\n    };\n    /**\n     * Draw a rectangle on an image.\n     *\n     * @param {number} x - Specifies x-coordinate of rectangle.\n     * @param {number} y - Specifies y-coordinate of rectangle.\n     * @param {number} width - Specifies the width of the rectangle.\n     * @param {number} height - Specifies the height of the rectangle.\n     * @param {number} strokeWidth - Specifies the stroke width of rectangle.\n     * @param {string} strokeColor - Specifies the stroke color of rectangle.\n     * @param {string} fillColor - Specifies the fill color of the rectangle.\n     * @param {number} degree - Specifies the degree to rotate the rectangle.\n     * @param {boolean} isSelected - Specifies to show the rectangle in the selected state.\n     * @param {number} borderRadius - Specifies the radius to apply border radius to rectangle.\n     * @returns {boolean}.\n     */\n    ImageEditor.prototype.drawRectangle = function (x, y, width, height, strokeWidth, strokeColor, fillColor, degree, isSelected, borderRadius) {\n        var isRectangle = false;\n        var isPointsInRange = this.allowShape(x, y);\n        if (!this.disabled && this.isImageLoaded && (isPointsInRange || (isNullOrUndefined(x) && isNullOrUndefined(y)))) {\n            isRectangle = true;\n            this.manageActiveAction();\n            this.notify('shape', { prop: 'drawRectangle', onPropertyChange: false, value: { x: x, y: y, width: width, height: height,\n                    strokeWidth: strokeWidth, strokeColor: strokeColor, fillColor: fillColor, degree: degree, isSelected: isSelected,\n                    radius: borderRadius } });\n            this.editCompleted();\n        }\n        return isRectangle;\n    };\n    /**\n     * Draw a text on an image.\n     *\n     * {% codeBlock src='image-editor/text/index.md' %}{% endcodeBlock %}\n     *\n     * @param {number} x - Specifies x-coordinate of text.\n     * @param {number} y - Specifies y-coordinate of text.\n     * @param {string} text - Specifies the text to add on an image.\n     * @param {string} fontFamily - Specifies the font family of the text.\n     * @param {number} fontSize - Specifies the font size of the text.\n     * @param {boolean} bold - Specifies whether the text is bold or not.\n     * @param {boolean} italic - Specifies whether the text is italic or not.\n     * @param {string} color - Specifies font color of the text.\n     * @param {boolean} isSelected - Specifies to show the text in the selected state.\n     * @param {number} degree - Specifies the degree to rotate the text.\n     * @param {fillColor} fillColor - Specifies the background Color of the text.\n     * @param {string} strokeColor - Specifies the outline color of the text annotation.\n     * @param {number} strokeWidth - Specifies the outline stroke width of the text annotation.\n     * @param {TransformationCollection[]} transformCollection - Specifies the transform collection of the text annotation.\n     * @returns {boolean}.\n     *\n     */\n    ImageEditor.prototype.drawText = function (x, y, text, fontFamily, fontSize, bold, italic, color, isSelected, degree, fillColor, strokeColor, strokeWidth, transformCollection) {\n        var isText = false;\n        var isPointsInRange = this.allowShape(x, y);\n        if (!this.disabled && this.isImageLoaded && (isPointsInRange || (isNullOrUndefined(x) && isNullOrUndefined(y)))) {\n            isText = true;\n            this.manageActiveAction();\n            this.notify('shape', { prop: 'drawText', onPropertyChange: false, value: { x: x, y: y, text: text, fontFamily: fontFamily,\n                    fontSize: fontSize, bold: bold, italic: italic, color: color, isSelected: isSelected, degree: degree, fillColor: fillColor,\n                    outlineColor: strokeColor, outlineWidth: strokeWidth, transformCollection: transformCollection } });\n            this.editCompleted();\n        }\n        return isText;\n    };\n    /**\n     * Draw an image as annotation on an image.\n     *\n     *\n     * @param {string | ImageData} data - Specifies url of the image or image data.\n     * @param {number} x - Specifies x-coordinate of a starting point for an image.\n     * @param {number} y - Specifies y-coordinate of a starting point for an image.\n     * @param {number} width - Specifies the width of the image.\n     * @param {number} height - Specifies the height of the image.\n     * @param {boolean} isAspectRatio - Specifies whether to maintain aspect ratio or not.\n     * @param {number} degree - Specifies the degree to rotate the image.\n     * @param {number} opacity - Specifies the value for the image.\n     * @param {boolean} isSelected - Specifies to show the image in the selected state.\n     * @returns {boolean}.\n     *\n     */\n    ImageEditor.prototype.drawImage = function (data, x, y, width, height, isAspectRatio, degree, opacity, isSelected) {\n        var isImage = false;\n        var isPointsInRange = this.allowShape(x, y);\n        if (!this.disabled && this.isImageLoaded && (isPointsInRange || (isNullOrUndefined(x) && isNullOrUndefined(y)))) {\n            this.manageActiveAction();\n            var length_1 = this.objColl.length;\n            this.notify('shape', { prop: 'drawImage', onPropertyChange: false, value: { x: x, y: y, width: width, height: height,\n                    src: data, degree: degree, isAspectRatio: isAspectRatio, opacity: opacity, isSelected: isSelected } });\n            this.editCompleted();\n            if (this.objColl.length > length_1) {\n                isImage = true;\n            }\n        }\n        return isImage;\n    };\n    /**\n     * This method is used to update the existing shapes by changing its height, width, color, and font styles in the component.\n     * Use 'getShapeSettings' method to get the shape which is then passed to change the options of a shape.\n     * {% codeBlock src='image-editor/updateShape/index.md' %}{% endcodeBlock %}\n     *\n     * @param {ShapeSettings} setting - Specifies the shape settings to be updated for the shape on an image.\n     * @param {boolean} isSelected - Specifies to show the shape in the selected state.\n     * @returns {boolean}.\n     *\n     */\n    ImageEditor.prototype.updateShape = function (setting, isSelected) {\n        var obj = { isSelected: false };\n        var isTextArea = false;\n        var freehandObj = { bool: false };\n        if (isNullOrUndefined(setting.id)) {\n            if (setting.strokeColor) {\n                this.activeObj.strokeSettings.strokeColor = setting.strokeColor;\n            }\n            if (setting.fillColor) {\n                this.activeObj.strokeSettings.fillColor = setting.fillColor;\n            }\n            if (setting.strokeWidth) {\n                this.activeObj.strokeSettings.strokeWidth = setting.strokeWidth;\n            }\n            if (setting.index) {\n                this.activeObj.order = setting.index;\n            }\n            if (setting.type === 'FreehandDraw' && setting.strokeWidth) {\n                this.notify('freehand-draw', { prop: 'setPenStrokeWidth', onPropertyChange: false, value: { value: setting.strokeWidth } });\n            }\n        }\n        else {\n            if (setting.type.toLowerCase() === 'text' && (this.textArea.style.display === 'block' ||\n                this.textArea.style.display === 'inline-block')) {\n                this.okBtn(null, true);\n                isTextArea = true;\n            }\n            this.notify('shape', { prop: 'selectShape', onPropertyChange: false, value: { id: setting.id, obj: obj, isShape: true } });\n            this.notify('selection', { prop: 'getFreehandDrawEditing', onPropertyChange: false, value: { obj: freehandObj } });\n            if (obj['isSelected']) {\n                var tempFontSize = this.activeObj.textSettings.fontSize;\n                this.notify('shape', { prop: 'updateShapeChangeEventArgs', onPropertyChange: false,\n                    value: { shapeSettings: setting } });\n                if (this.activeObj.shape === 'text' && tempFontSize) {\n                    var diff = this.activeObj.textSettings.fontSize - tempFontSize;\n                    if (diff !== 0) {\n                        this.activeObj.activePoint.height += diff;\n                        this.activeObj.activePoint.startY -= (diff / 2);\n                        this.activeObj.activePoint.endY += (diff / 2);\n                        this.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: this.activeObj.activePoint, obj: this.activeObj,\n                                isMouseMove: null, x: null, y: null } });\n                    }\n                }\n                var activeObj = extend({}, this.activeObj, {}, true);\n                this.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                this.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: null } });\n                this.upperContext.clearRect(0, 0, this.upperCanvas.width, this.upperCanvas.height);\n                if (activeObj.shape) {\n                    this.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: activeObj } });\n                }\n                if (this.activeObj.shape === 'text') {\n                    this.notify('toolbar', { prop: 'editText', onPropertyChange: false });\n                }\n                if (freehandObj['bool']) {\n                    this.notify('undo-redo', { prop: 'setPreventUR', value: { bool: true } });\n                }\n                this.okBtn(isSelected, true);\n                if (freehandObj['bool']) {\n                    this.notify('undo-redo', { prop: 'setPreventUR', value: { bool: false } });\n                }\n                this.upperContext.clearRect(0, 0, this.upperCanvas.width, this.upperCanvas.height);\n                this.editCompleteArgs = { action: 'shape-update', currentShapeSettings: setting };\n                this.editCompleted('shape-customize');\n                if (isTextArea) {\n                    this.enableTextEditing();\n                }\n                if (isSelected) {\n                    this.noRedact = true;\n                    this.selectShape(setting.id);\n                }\n            }\n        }\n        return obj['isSelected'];\n    };\n    /**\n     * Select a shape based on the given shape id.\n     * Use 'getShapeSettings' method to get the shape id which is then passed to perform selection.\n     *\n     * {% codeBlock src='image-editor/selectShape/index.md' %}{% endcodeBlock %}\n     *\n     * @param {string} id - Specifies the shape id to select a shape on an image.\n     * @returns {boolean}.\n     *\n     */\n    ImageEditor.prototype.selectShape = function (id) {\n        this.applyShapes();\n        var obj = { isSelected: false };\n        this.notify('shape', { prop: 'selectShape', onPropertyChange: false, value: { id: id, obj: obj, isShape: true } });\n        this.editCompleted('shape-select');\n        this.noRedact = false;\n        return obj['isSelected'];\n    };\n    /**\n     * Deletes a shape based on the given shape id.\n     * Use 'getShapeSettings' method to get the shape id which is then passed to perform selection.\n     *\n     * {% codeBlock src='image-editor/deleteShape/index.md' %}{% endcodeBlock %}\n     *\n     * @param {string} id - Specifies the shape id to delete the shape on an image.\n     * @returns {void}.\n     *\n     */\n    ImageEditor.prototype.deleteShape = function (id) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var shape = this.getShapeSetting(id);\n        if (shape.type === 'Redact') {\n            return;\n        }\n        this.applyShapes();\n        this.notify('shape', { prop: 'deleteShape', onPropertyChange: false, value: { id: id, isShape: true } });\n        this.editCompleted('shape-delete');\n    };\n    /**\n     * Get particular shapes details based on id of the shape which is drawn on an image editor.\n     *\n     * {% codeBlock src='image-editor/getShapeSetting/index.md' %}{% endcodeBlock %}\n     *\n     * @param {string} id - Specifies the shape id on an image.\n     * @returns {ShapeSettings}.\n     *\n     */\n    ImageEditor.prototype.getShapeSetting = function (id) {\n        this.applyShapes();\n        var obj = { shapeDetails: null };\n        this.notify('shape', { prop: 'getShapeSetting', onPropertyChange: false,\n            value: { id: id, obj: obj } });\n        this.notify('draw', { prop: 'redrawDownScale' });\n        var shapeDetails = obj['shapeDetails'] ? obj['shapeDetails'] : {};\n        return shapeDetails;\n    };\n    /**\n     * Get all the shapes details which is drawn on an image editor.\n     *\n     * @returns {ShapeSettings[]}.\n     */\n    ImageEditor.prototype.getShapeSettings = function () {\n        this.applyShapes();\n        var obj = { shapeDetailsColl: [] };\n        this.notify('shape', { prop: 'getShapeSettings', onPropertyChange: false, value: { obj: obj } });\n        this.notify('draw', { prop: 'redrawDownScale' });\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        return obj.shapeDetailsColl.filter(function (item) { return item.type !== 'redact'; });\n    };\n    /**\n     * Get all the shapes details which is drawn on an image editor.\n     *\n     * @returns {RedactSettings[]}.\n     */\n    ImageEditor.prototype.getRedacts = function () {\n        this.applyShapes();\n        var obj = { shapeDetailsColl: [] };\n        this.notify('shape', { prop: 'getRedactSettings', onPropertyChange: false, value: { obj: obj } });\n        this.notify('draw', { prop: 'redrawDownScale' });\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        return obj.shapeDetailsColl.filter(function (item) { return item.type !== 'redact'; });\n    };\n    /**\n     * Select a redaction based on the given redaction id.\n     * Use 'getRedacts' method to get the shape id which is then passed to perform selection.\n     *\n     *\n     * @param {string} id - Specifies the shape id to select a redact on an image.\n     * @returns {boolean}.\n     *\n     */\n    ImageEditor.prototype.selectRedact = function (id) {\n        this.applyShapes();\n        var obj = { isSelected: false };\n        this.notify('shape', { prop: 'selectShape', onPropertyChange: false, value: { id: id, obj: obj, isRedact: true } });\n        this.editCompleted('redact-select');\n        this.noRedact = false;\n        return obj['isSelected'];\n    };\n    /**\n     * Deletes a redaction based on the given shape id.\n     * Use 'getRedacts' method to get the redaaction id which is then passed to perform deletion.\n     *\n     *\n     * @param {string} id - Specifies the redaction id to delete the redaction on an image.\n     * @returns {void}.\n     *\n     */\n    ImageEditor.prototype.deleteRedact = function (id) {\n        this.applyShapes();\n        this.notify('shape', { prop: 'deleteShape', onPropertyChange: false, value: { id: id, isRedact: true } });\n        this.editCompleted('redact-delete');\n    };\n    /**\n     * This method is used to update the existing redacts by changing its height, width, blur, and pixel size in the component.\n     * Use 'getRedacts' method to get the redacts which is then passed to change the options of a redacts.\n     *\n     * @param {RedactSettings} setting - Specifies the redact settings to be updated for the shape on an image.\n     * @param {boolean} isSelected - Specifies to show the redacts in the selected state.\n     * @returns {boolean}.\n     *\n     */\n    ImageEditor.prototype.updateRedact = function (setting, isSelected) {\n        this.applyShapes();\n        var obj = { isSelected: false };\n        this.notify('shape', { prop: 'selectShape', onPropertyChange: false, value: { id: setting.id, obj: obj, isRedact: true } });\n        if (obj['isSelected']) {\n            this.notify('shape', { prop: 'updateShapeChangeEventArgs', onPropertyChange: false,\n                value: { shapeSettings: setting } });\n            if (setting.blurIntensity) {\n                this.activeObj.redactBlur = setting.blurIntensity;\n            }\n            if (setting.pixelSize) {\n                this.activeObj.redactPixelate = setting.pixelSize;\n            }\n            this.activeObj.redactType = setting.type.toLowerCase() === 'blur' ? 'blur' : 'pixelate';\n            var activeObj = extend({}, this.activeObj, {}, true);\n            this.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            this.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: null } });\n            this.upperContext.clearRect(0, 0, this.upperCanvas.width, this.upperCanvas.height);\n            if (activeObj.shape) {\n                this.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: activeObj } });\n            }\n            this.okBtn(isSelected, true);\n            this.upperContext.clearRect(0, 0, this.upperCanvas.width, this.upperCanvas.height);\n            this.editCompleteArgs = { action: 'redact-update', currentShapeSettings: setting };\n            this.editCompleted('redact-customize');\n            if (isSelected) {\n                this.selectRedact(setting.id);\n            }\n        }\n        return obj['isSelected'];\n    };\n    /**\n     * To refresh the Canvas Wrapper.\n     *\n     * @returns {void}.\n     */\n    ImageEditor.prototype.update = function () {\n        this.notify('transform', { prop: 'update' });\n    };\n    /**\n     * Finetuning an image with the given type of finetune and its value in the image editor.\n     *\n     * @param {ImageFinetuneOption } finetuneOption - Specifies the finetune options to be performed in the image.\n     * @param {number } value - Specifies the value for finetuning the image.\n     *\n     * @remarks\n     * The finetuning will not affect the shapes background and border color.\n     *\n     * @returns {void}.\n     *\n     */\n    ImageEditor.prototype.finetuneImage = function (finetuneOption, value) {\n        if (!this.disabled && this.isImageLoaded) {\n            this.manageActiveAction();\n            this.notify('filter', { prop: 'finetuneImage', value: { value: value, option: finetuneOption } });\n            this.editCompleteArgs = { finetune: finetuneOption, value: value };\n            this.editCompleted('fine-tune');\n        }\n    };\n    /**\n     * Filtering an image with the given type of filters.\n     *\n     * @param {ImageFilterOption } filterOption - Specifies the filter options to the image.\n     *\n     * @remarks\n     * The filtering will not affect the shape's background and border color.\n     * @returns {void}.\n     */\n    ImageEditor.prototype.applyImageFilter = function (filterOption) {\n        if (!this.disabled && this.isImageLoaded) {\n            this.manageActiveAction();\n            this.notify('filter', { prop: 'applyImageFilter', value: { option: filterOption.toString() } });\n            this.editCompleteArgs = { filter: filterOption };\n            this.editCompleted('filter');\n            this.canvasFilter = this.lowerContext.filter;\n            this.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n        }\n    };\n    /**\n     * Reverse the last action which performed by the user in the Image Editor.\n     *\n     * @remarks\n     * This method will take into effect once the 'allowUndoRedo' property is enabled.\n     *\n     * @returns {void}.\n     */\n    ImageEditor.prototype.undo = function () {\n        this.manageActiveAction();\n        this.notify('undo-redo', { prop: 'undo', onPropertyChange: false });\n        this.notify('draw', { prop: 'redrawDownScale' });\n    };\n    /**\n     * Redo the last user action that was undone by the user or `undo` method.\n     *\n     * @remarks\n     * This method will take into effect once the 'allowUndoRedo' property is enabled.\n     * @returns {void}.\n     */\n    ImageEditor.prototype.redo = function () {\n        this.manageActiveAction();\n        this.notify('undo-redo', { prop: 'redo', onPropertyChange: false });\n        this.notify('draw', { prop: 'redrawDownScale' });\n    };\n    /**\n     * Get the dimension of an image in the image editor such as x, y, width, and height.\n     * The method helps to get dimension after cropped an image.\n     *\n     * @returns {Dimension}.\n     * A Dimension object containing the x, y, width, and height of an image.\n     */\n    ImageEditor.prototype.getImageDimension = function () {\n        return { x: this.img.destLeft, y: this.img.destTop, width: this.img.destWidth, height: this.img.destHeight };\n    };\n    /**\n     * Resize an image by changing its width and height.\n     *\n     * @param {number} width - Specifies the width of an image.\n     * @param {number} height - Specifies the height of an image.\n     * @param {boolean} isAspectRatio - Specifies whether the scaling option is enabled or not.\n     *\n     * @returns {boolean} - A boolean value indicating the success of the resizing operation.\n     */\n    ImageEditor.prototype.resize = function (width, height, isAspectRatio) {\n        var isResized = false;\n        if (((width.toString()).length <= 4 && (height.toString()).length <= 4) && (!this.isCircleCrop || isAspectRatio)) {\n            this.manageActiveAction();\n            this.notify('toolbar', { prop: 'resizeClick', value: { bool: false } });\n            var destPoints = { startX: this.img.destLeft, startY: this.img.destTop, width: this.img.destWidth,\n                height: this.img.destHeight };\n            if (isAspectRatio) {\n                this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'resize',\n                        isApplyBtn: false, isCropping: false } });\n                this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'resize',\n                        isApplyBtn: false, isCropping: false } });\n            }\n            else {\n                this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'resize',\n                        isApplyBtn: false, isCropping: false } });\n            }\n            var aspectRatioWidth = this.element.querySelector('#' + this.element.id + '_resizeWidth');\n            var aspectRatioHeight = this.element.querySelector('#' + this.element.id + '_resizeHeight');\n            if (aspectRatioWidth && aspectRatioHeight) {\n                getComponent(aspectRatioWidth, 'numerictextbox').value = Math.floor(width);\n                aspectRatioWidth.value = Math.floor(width).toString() + ' px';\n                getComponent(aspectRatioHeight, 'numerictextbox').value = Math.floor(height);\n                aspectRatioHeight.value = Math.floor(height).toString() + ' px';\n            }\n            this.notify('transform', { prop: 'resize', value: { width: width, height: height, isAspectRatio: isAspectRatio } });\n            if (destPoints.startX !== this.img.destLeft || destPoints.startY !== this.img.destTop ||\n                destPoints.width !== this.img.destWidth || destPoints.height !== this.img.destHeight) {\n                isResized = true;\n                this.aspectWidth = width;\n                this.aspectHeight = height;\n                if (isAspectRatio) {\n                    this.aspectHeight = null;\n                }\n                this.okBtn(false, false, true);\n            }\n            else {\n                this.notify('draw', { prop: 'performCancel', value: { isContextualToolbar: null } });\n            }\n            this.notify('draw', { prop: 'redrawDownScale' });\n        }\n        return isResized;\n    };\n    /**\n     * Draw a frame on an image.\n     *\n     * @param { FrameType} frameType - Specifies the frame option to be drawn on an image.\n     * @param {string} color - Specifies the color of a frame on an image. The default value is #fff.\n     * @param {string} gradientColor - Specifies the gradient color of a frame on an image. The default value is .\n     * @param {number} size - Specifies the size of the frame as a percentage. It can be provided as an integer percentage (e.g., 10). Defaults to 20 if not specified.\n     * @param {number} inset - Specifies the inset value for line, hook, and inset type frames, as a percentage. It can be provided as an integer percentage (e.g., 10). Defaults to 0 if not specified.\n     * @param {number} offset - Specifies the offset value for line and inset type frames, as a percentage. It can be provided as an integer percentage (e.g., 10). Defaults to 0 if not specified.\n     * @param {number} borderRadius - Specifies the border radius for line-type frames, as a percentage. It can be provided as an integer percentage (e.g., 10). Defaults to 0 if not specified.\n     * @param {FrameLineStyle} frameLineStyle - Specifies the type of line to be drawn for line-type frames. Default to Solid if not specified.\n     * @param {number} lineCount - Specifies the number of lines for line-type frames. Defaults to 0 if not specified.\n     *\n     * @returns {boolean}.\n     */\n    ImageEditor.prototype.drawFrame = function (frameType, color, gradientColor, size, inset, offset, borderRadius, frameLineStyle, lineCount) {\n        this.manageActiveAction();\n        var isFrame = false;\n        var obj = { frameChangeEventArgs: null };\n        color = color ? color : '#fff';\n        gradientColor = gradientColor ? gradientColor : '';\n        size = size ? size : 20;\n        inset = inset ? inset : 0;\n        offset = offset ? offset : 0;\n        borderRadius = borderRadius ? borderRadius : 0;\n        frameLineStyle = frameLineStyle ? frameLineStyle : FrameLineStyle.Solid;\n        lineCount = lineCount ? lineCount : 0;\n        var prevFrameSettings = { type: this.toPascalCase(this.frameObj.type), color: this.frameObj.color,\n            gradientColor: this.frameObj.gradientColor, size: this.frameObj.size, inset: this.frameObj.inset,\n            offset: this.frameObj.offset, borderRadius: this.frameObj.radius,\n            frameLineStyle: this.toPascalCase(this.frameObj.border), lineCount: this.frameObj.amount };\n        extend(this.tempFrameObj, this.frameObj);\n        this.tempFrameZoomLevel = this.transform.zoomFactor;\n        this.frameDestPoints = extend({}, this.img, {}, true);\n        this.notify('toolbar', { prop: 'frameToolbarClick' });\n        this.frameObj.type = frameType.toLowerCase();\n        this.frameObj.color = color;\n        this.frameObj.gradientColor = gradientColor;\n        this.frameObj.size = size;\n        this.frameObj.inset = inset;\n        this.frameObj.offset = offset;\n        this.frameObj.radius = borderRadius;\n        this.frameObj.border = frameLineStyle.toLowerCase();\n        this.frameObj.amount = lineCount;\n        this.notify('draw', { prop: 'triggerFrameChange', value: { prevFrameSettings: prevFrameSettings, obj: obj } });\n        if (obj['frameChangeEventArgs'] && !obj['frameChangeEventArgs'].cancel) {\n            this.notify('draw', { prop: 'render-image', value: { isMouseWheel: null } });\n            if (JSON.stringify(this.frameObj) !== JSON.stringify(this.tempFrameObj)) {\n                isFrame = true;\n                this.okBtn();\n            }\n            else {\n                this.tempFrameZoomLevel = null;\n            }\n        }\n        else {\n            this.notify('draw', { prop: 'performCancel', value: { isContextualToolbar: null } });\n            extend(this.frameObj, this.tempFrameObj);\n            this.tempFrameZoomLevel = null;\n        }\n        this.notify('draw', { prop: 'redrawDownScale' });\n        var ctxTbar = this.element.querySelector('.e-contextual-toolbar-wrapper');\n        if (ctxTbar) {\n            ctxTbar.classList.add('e-hide');\n        }\n        return isFrame;\n    };\n    /**\n     * Straightens an image by rotating it clockwise or counterclockwise.\n     *\n     * @param {number} degree - The degree value specifying the amount of rotation for straightening the image.\n     * Positive values indicate clockwise rotation, while negative values indicate counterclockwise rotation.\n     *\n     * @remarks\n     * The degree value should be within the range of -45 to +45 degrees for accurate straightening.\n     *\n     * @returns {boolean} - A boolean value indicating the success of the straightening operation.\n     */\n    ImageEditor.prototype.straightenImage = function (degree) {\n        var isStraightened = false;\n        if (degree >= -45 && degree <= 45) {\n            this.applyShapes();\n            isStraightened = true;\n            this.notify('transform', { prop: 'straightenImage', value: { degree: degree } });\n            this.notify('draw', { prop: 'redrawDownScale' });\n        }\n        return isStraightened;\n    };\n    /**\n     * Duplicates a shape based on the given shape ID in the ImageEditor.\n     * Use 'getShapeSettings' method to get the shape and then pass a shapeId from the returned shape to clone a shape.\n     *\n     * @param {string} shapeId - Specifies the shape id to clone a shape on an image.\n     * @returns {boolean}.\n     *\n     */\n    ImageEditor.prototype.cloneShape = function (shapeId) {\n        var obj = { isSelected: false };\n        if (shapeId.split('_')[0] === 'shape') {\n            this.notify('shape', { prop: 'selectShape', onPropertyChange: false, value: { id: shapeId, obj: obj } });\n            if (obj['isSelected']) {\n                this.notify('toolbar', { prop: 'duplicateShape', onPropertyChange: false, value: { isPreventUndoRedo: false } });\n                this.okBtn(null, true);\n                this.notify('draw', { prop: 'redrawDownScale' });\n            }\n        }\n        return obj['isSelected'];\n    };\n    /**\n     * Update filter to the canvas in the ImageEditor.\n     *\n     * @param {ImageFilterOption } filterOption - Specifies the filter options to the image.\n     *\n     * @returns {string}.\n     *\n     */\n    ImageEditor.prototype.getImageFilter = function (filterOption) {\n        var canvas = this.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        this.notify('filter', { prop: 'updateAdj', value: { type: filterOption.toLowerCase(), value: null, isPreview: true, ctx: ctx } });\n        return ctx.filter;\n    };\n    /**\n     * Enable text area editing in the ImageEditor.\n     *\n     * @returns {void}.\n     *\n     */\n    ImageEditor.prototype.enableTextEditing = function () {\n        var activeObj = extend({}, this.activeObj, {}, true);\n        if (!activeObj.order) {\n            this.noPushUndo = true;\n            this.okBtn();\n            this.noPushUndo = false;\n            this.noRedact = true;\n            this.selectShape(activeObj.currIndex);\n            activeObj.order = this.activeObj.order;\n        }\n        this.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        this.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: false } });\n        this.activeObj = activeObj;\n        this.notify('toolbar', { prop: 'editText', onPropertyChange: false });\n    };\n    /**\n     * Specifies if it's possible to undo the last recent action made in an Image Editor.\n     *\n     * @returns {boolean}.\n     *\n     */\n    ImageEditor.prototype.canUndo = function () {\n        var canUndo = false;\n        var object = this.getUndoRedoColl();\n        var undoRedoIndex = object['index'];\n        if (undoRedoIndex > 0) {\n            canUndo = true;\n        }\n        return canUndo;\n    };\n    /**\n     * Specifies if it's possible to redo the last recent action made in an Image Editor.\n     *\n     * @returns {boolean}.\n     *\n     */\n    ImageEditor.prototype.canRedo = function () {\n        var canRedo = false;\n        var object = this.getUndoRedoColl();\n        var undoRedoColl = object['undoRedoColl'];\n        var undoRedoIndex = object['index'];\n        if (undoRedoColl && undoRedoColl.length > 0 && undoRedoIndex < undoRedoColl.length - 1) {\n            canRedo = true;\n        }\n        if (undoRedoIndex === undoRedoColl.length) {\n            canRedo = false;\n        }\n        else if (undoRedoIndex === 0 && undoRedoColl.length > 0) {\n            canRedo = true;\n        }\n        else if (undoRedoIndex > 0) {\n            canRedo = true;\n        }\n        return canRedo;\n    };\n    /**\n     * Applies the operations performed in the Image Editor, such as annotation drawings.\n     *\n     * @returns{void}\n     * @remarks\n     * This method applies the actions performed after enabling annotation drawings, ensuring that the drawn annotations are applied to the image.\n     */\n    ImageEditor.prototype.apply = function () {\n        if (this.isMaskImage) {\n            this.discard();\n        }\n        else {\n            this.updateColl('reset');\n            this.closeOverlayTbar();\n            this.okBtn(null, true);\n        }\n    };\n    /**\n     * Discards the operations performed in the Image Editor, such as annotation drawings.\n     *\n     * @returns{void}\n     * @remarks\n     * This method discards the actions performed after enabling annotation drawings, ensuring that the drawn annotations are not applied to the image.\n     */\n    ImageEditor.prototype.discard = function () {\n        this.updateColl('reset');\n        this.notify('draw', { prop: 'performCancel', value: { isContextualToolbar: this.closeOverlayTbar(), isFinalCancel: true } });\n    };\n    /**\n     * Enable or disable a shape drawing option in an Image Editor.\n     *\n     * @param {ShapeType} shapeType - Specifies the type of shape to be enabled or disabled for drawing.\n     * @param {boolean} isEnabled - Optional. Specifies a value to indicate whether to enable or disable shape drawing. The default value is true.\n     *\n     * @remarks This function allows the user to toggle the shape drawing feature in the Image Editor. When enabled, users can draw shapes on the image. When disabled, the shape drawing functionality is not available.\n     *\n     * @returns {void}.\n     */\n    ImageEditor.prototype.enableShapeDrawing = function (shapeType, isEnabled) {\n        this.manageActiveAction();\n        if (isEnabled) {\n            this.drawingShape = shapeType.toLowerCase();\n            this.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        }\n        if (shapeType && isEnabled) {\n            this.currObjType.shape = shapeType.toLowerCase();\n            this.activeObj.shape = this.currObjType.shape;\n            this.currObjType.isDragging = this.currObjType.isCustomCrop = false;\n            this.activeObj.shapeDegree = this.transform.degree;\n            this.activeObj.shapeFlip = this.transform.currFlipState;\n            this.activeObj.textFlip = this.transform.currFlipState;\n            this.activeObj.flipObjColl = [];\n            var orderObj = { order: null };\n            this.notify('shape', { prop: 'getNewOrder', onPropertyChange: false, value: { obj: orderObj } });\n            this.activeObj.order = orderObj['order'];\n            this.notify('selection', { prop: 'annotate', value: { shape: this.currObjType.shape } });\n            if (this.currObjType.shape === 'text') {\n                this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'text',\n                        isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n            }\n            else if (this.currObjType.shape === 'redact') {\n                this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'redact',\n                        isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n            }\n            else {\n                this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'shapes',\n                        isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n            }\n            this.notify('toolbar', { prop: 'update-toolbar-items', onPropertyChange: false });\n        }\n        else if (!isEnabled) {\n            this.okBtn(null, true);\n        }\n    };\n    /**\n     * Moves a shape to the front of all other shapes based on the given shape id.\n     * Use 'getShapeSettings' method to get the shape id which is then passed to perform moving.\n     *\n     * @param {string} shapeId - Specifies the shape id to move the shape on an image.\n     * @returns {void}.\n     *\n     */\n    ImageEditor.prototype.bringToFront = function (shapeId) {\n        this.noRedact = true;\n        if (this.selectShape(shapeId)) {\n            this.updateShapeOrder(shapeId, 'bringToFront');\n            this.apply();\n        }\n    };\n    /**\n     * Moves a shape to ahead of one shape based on the given shape id.\n     * Use 'getShapeSettings' method to get the shape id which is then passed to perform moving.\n     *\n     * @param {string} shapeId - Specifies the shape id to move the shape on an image.\n     * @returns {void}.\n     *\n     */\n    ImageEditor.prototype.bringForward = function (shapeId) {\n        this.noRedact = true;\n        if (this.selectShape(shapeId)) {\n            this.updateShapeOrder(shapeId, 'bringForward');\n            this.apply();\n        }\n    };\n    /**\n     * Moves a shape to behind all other shapes based on the given shape id.\n     * Use 'getShapeSettings' method to get the shape id which is then passed to perform moving.\n     *\n     * @param {string} shapeId - Specifies the shape id to move the shape on an image.\n     * @returns {void}.\n     *\n     */\n    ImageEditor.prototype.sendToBack = function (shapeId) {\n        this.noRedact = true;\n        if (this.selectShape(shapeId)) {\n            this.updateShapeOrder(shapeId, 'sendToBack');\n            this.apply();\n        }\n    };\n    /**\n     * Moves a shape to behind one shape based on the given shape id.\n     * Use 'getShapeSettings' method to get the shape id which is then passed to perform moving.\n     *\n     * @param {string} shapeId - Specifies the shape id to move the shape on an image.\n     * @returns {void}.\n     *\n     */\n    ImageEditor.prototype.sendBackward = function (shapeId) {\n        this.noRedact = true;\n        if (this.selectShape(shapeId)) {\n            this.updateShapeOrder(shapeId, 'sendBackward');\n            this.apply();\n        }\n    };\n    /**\n     * Clears the loaded image in the Image Editor.\n     *\n     * @returns{void}\n     * @remarks\n     * This method clears the loaded image and updates the component's user interface to its initial state (the initial user interface without a loaded image).\n     */\n    ImageEditor.prototype.clearImage = function () {\n        this.reset();\n        this.isImageLoaded = false;\n        this.lowerContext.clearRect(0, 0, this.lowerCanvas.width, this.lowerCanvas.height);\n        this.upperContext.clearRect(0, 0, this.upperCanvas.width, this.upperCanvas.height);\n        var btoolbar = document.getElementById(this.element.id + '_bottomToolbar');\n        if (Browser.isDevice && btoolbar) {\n            document.getElementById(this.element.id + '_bottomToolbar').style.display = 'none';\n        }\n        this.notify('toolbar', { prop: 'destroy-top-toolbar', onPropertyChange: false });\n        this.notify('toolbar', { prop: 'create-toolbar', onPropertyChange: false });\n        this.notify('toolbar', { prop: 'create-contextual-toolbar', onPropertyChange: false });\n        var dropArea = document.getElementById(this.element.id + '_dropArea');\n        if (dropArea) {\n            dropArea.style.display = 'block';\n        }\n    };\n    // AI related codes\n    /**\n     * Enables overlay drawing to erase objects in an image editor. The eraser tool assists in selecting the mask image.\n     *\n     * @remarks\n     * The selection UI is based on the 'theme' property.\n     *\n     * @param {number} strokeWidth - Specifies the stroke width of the drawing.\n     * @param {string} color - Specifies the color of the drawing.\n     * @hidden\n     * @returns {void}.\n     *\n     */\n    ImageEditor.prototype.selectMaskImage = function (strokeWidth, color) {\n        strokeWidth = strokeWidth ? strokeWidth : 10;\n        color = color ? color : '#512da880';\n        this.applyShapes();\n        this.isMaskImage = true;\n        this.updateColl('empty');\n        this.enableDisableToolbar(true);\n        this.update();\n        this.activeObj.strokeSettings.strokeWidth = strokeWidth;\n        this.notify('freehand-draw', { prop: 'setPenStrokeWidth', onPropertyChange: false, value: { value: strokeWidth } });\n        this.activeObj.strokeSettings.strokeColor = color;\n        this.notify('freehand-draw', { prop: 'freeHandDraw', onPropertyChange: false, value: { value: true } });\n        this.maskCanvas.style.display = 'block';\n    };\n    ImageEditor.prototype.enableDisableToolbar = function (value) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var toolbar;\n        var elem = document.getElementById(this.element.id + '_toolbar');\n        if (elem) {\n            toolbar = getComponent(elem, 'toolbar');\n            if (toolbar) {\n                toolbar.disable(value);\n            }\n        }\n        elem = document.getElementById(this.element.id + '_bottomToolbar');\n        if (elem) {\n            toolbar = getComponent(elem, 'toolbar');\n            if (toolbar) {\n                toolbar.disable(value);\n            }\n        }\n    };\n    ImageEditor.prototype.updateImage = function (data, imageBackgroundColor) {\n        var _this = this;\n        if (data || imageBackgroundColor || imageBackgroundColor === '') {\n            var prevCropObj_1 = extend({}, this.cropObj, {}, true);\n            var object = { currObj: {} };\n            this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            var prevObj_1 = object['currObj'];\n            prevObj_1.objColl = extend([], this.objColl, [], true);\n            prevObj_1.pointColl = extend([], this.pointColl, [], true);\n            prevObj_1.afterCropActions = extend([], this.afterCropActions, [], true);\n            var selPointCollObj = { selPointColl: null };\n            this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false, value: { obj: selPointCollObj } });\n            prevObj_1.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            if (data) {\n                this.isImageUpdated = true;\n                if (typeof (data) !== 'string') {\n                    var canvas = this.createElement('canvas');\n                    canvas.width = data.width;\n                    canvas.height = data.height;\n                    canvas.getContext('2d').putImageData(data, 0, 0);\n                    data = canvas.toDataURL();\n                }\n                this.baseImg.src = data;\n                setTimeout(function () {\n                    if (_this.cropObj.straighten !== 0) {\n                        _this.notify('toolbar', { prop: 'performCropTransformClick', value: { shape: 'crop-' + 'custom' } });\n                        _this.noPushUndo = true;\n                        _this.crop();\n                        _this.noPushUndo = false;\n                    }\n                    else {\n                        _this.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n                    }\n                    _this.isImageUpdated = false;\n                    if (!imageBackgroundColor) {\n                        _this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: { operation: 'updateImage', previousObj: prevObj_1,\n                                previousObjColl: prevObj_1.objColl, previousPointColl: prevObj_1.pointColl,\n                                previousSelPointColl: prevObj_1.selPointColl, previousCropObj: prevCropObj_1,\n                                previousText: null, currentText: null, previousFilter: null, isCircleCrop: null\n                            } });\n                        _this.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n                    }\n                }, 100);\n            }\n            if (imageBackgroundColor || imageBackgroundColor === '') {\n                this.notify('draw', { prop: 'imageBackgroundColor', onPropertyChange: false, value: { color: imageBackgroundColor } });\n                this.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n                if (!data) {\n                    this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: { operation: 'bgColor', previousObj: prevObj_1,\n                            previousObjColl: prevObj_1.objColl, previousPointColl: prevObj_1.pointColl, previousSelPointColl: prevObj_1.selPointColl,\n                            previousCropObj: prevCropObj_1, previousText: null, currentText: null, previousFilter: null, isCircleCrop: null\n                        } });\n                    this.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n                }\n            }\n            if (data && imageBackgroundColor) {\n                this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: { operation: 'updateImage', previousObj: prevObj_1,\n                        previousObjColl: prevObj_1.objColl, previousPointColl: prevObj_1.pointColl, previousSelPointColl: prevObj_1.selPointColl,\n                        previousCropObj: prevCropObj_1, previousText: null, currentText: null, previousFilter: null, isCircleCrop: null\n                    } });\n                this.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n            }\n        }\n    };\n    ImageEditor.prototype.editCompleted = function (type) {\n        this.notify('draw', { prop: 'redrawDownScale' });\n        var actionArgs = { action: type ? type : 'shape-insert',\n            actionEventArgs: this.editCompleteArgs };\n        this.triggerEditCompleteEvent(actionArgs);\n    };\n    ImageEditor.prototype.updateColl = function (type) {\n        if (!this.isMaskImage) {\n            return;\n        }\n        if (type === 'empty') {\n            this.tempToolbarHeight = this.toolbarHeight;\n            this.tempToolbar = this.toolbar ? extend([], this.toolbar, [], true) : null;\n            this.tempObjColl = extend([], this.objColl, [], true);\n            this.tempPointColl = extend([], this.pointColl, [], true);\n            this.tempShapeColl = extend([], this.shapeColl, [], true);\n            this.objColl = [];\n            this.pointColl = [];\n            this.shapeColl = [];\n            this.freehandCounter = 0;\n            this.notify('freehand-draw', { prop: 'setCurrentFreehandDrawIndex',\n                value: { value: 0 } });\n            this.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n        }\n        else if (type === 'reset') {\n            this.objColl = this.tempObjColl;\n            this.pointColl = this.tempPointColl;\n            this.shapeColl = this.tempShapeColl;\n            this.freehandCounter = this.pointColl.length;\n            this.notify('freehand-draw', { prop: 'setCurrentFreehandDrawIndex',\n                value: { value: this.freehandCounter } });\n            this.enableDisableToolbar(false);\n            if (this.cropObj.straighten !== 0) {\n                this.notify('toolbar', { prop: 'performCropTransformClick', value: { shape: 'crop-' + 'custom' } });\n                this.noPushUndo = true;\n                this.crop();\n                this.noPushUndo = false;\n            }\n            this.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n            this.isMaskImage = false;\n            this.upperContext.globalCompositeOperation = 'source-over';\n            this.maskCanvas.style.display = 'none';\n            this.activeObj.strokeSettings = { strokeColor: '#fff', fillColor: '', strokeWidth: null,\n                radius: null, outlineColor: '', outlineWidth: null };\n            this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: this.activeObj.strokeSettings,\n                    strokeColor: '#fff', fillColor: '', strokeWidth: null, outlineWidth: null } });\n            this.notify('freehand-draw', { prop: 'setPenStrokeWidth', onPropertyChange: false, value: { value: 2 } });\n            this.notify('freehand-draw', { prop: 'setMasking', onPropertyChange: false, value: { value: false } });\n        }\n    };\n    // Toolbar related codes\n    ImageEditor.prototype.resetToolbar = function () {\n        if (this.toolbarHeight !== this.tempToolbarHeight && !((isNullOrUndefined(this.toolbar) ||\n            (this.toolbar && this.toolbar.length > 0)\n            || !isNullOrUndefined(this.toolbarTemplate)))) {\n            this.toolbarHeight = this.tempToolbarHeight;\n            this.notify('toolbar', { prop: 'setToolbarHeight', value: { height: this.toolbarHeight } });\n            this.toolbar = this.tempToolbar;\n            if (!this.toolbarTemplate) {\n                this.notify('toolbar', { prop: 'create-toolbar', onPropertyChange: false });\n                this.notify('toolbar', { prop: 'create-contextual-toolbar', onPropertyChange: false });\n            }\n            this.update();\n        }\n    };\n    ImageEditor.prototype.getData = function (isMaskImage) {\n        if (isMaskImage) {\n            this.resetToolbar();\n        }\n        var objColl = extend([], this.objColl, null, true);\n        var pointColl = extend([], this.pointColl, null, true);\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var shapeColl = extend([], this.shapeColl, null, true);\n        if (isMaskImage) {\n            this.notify('shape', { prop: 'updateShapeColl', onPropertyChange: false });\n            for (var i = 0; i < this.freehandCounter; i++) {\n                this.pointColl[i].strokeColor = '#fff';\n            }\n        }\n        else {\n            this.objColl = [];\n            this.pointColl = [];\n            this.shapeColl = [];\n            this.freehandCounter = 0;\n        }\n        var frameType = this.frameObj.type;\n        this.frameObj.type = 'none';\n        var aspectWidth = this.aspectWidth;\n        var aspectHeight = this.aspectHeight;\n        this.aspectWidth = this.aspectHeight = null;\n        var straighten = this.cropObj.straighten;\n        this.togglePen = false;\n        this.notify('toolbar', { prop: 'performCropTransformClick', value: { shape: 'crop-' + 'custom' } });\n        var tempDestPoints = extend({}, this.img, {}, true);\n        var tempCropObj = extend({}, this.cropObj, {}, true);\n        var tempSel = extend({}, this.activeObj, {}, true);\n        var tempTransform = extend({}, this.transform, {}, true);\n        var panPoint = extend({}, this.panPoint, {}, true);\n        if (straighten !== 0) {\n            this.setStraighten(0);\n        }\n        var point = this.activeObj.activePoint;\n        point.startX = this.img.destLeft;\n        point.startY = this.img.destTop;\n        point.width = this.img.destWidth;\n        point.height = this.img.destHeight;\n        point.endX = point.startX + point.width;\n        point.endY = point.startY + point.height;\n        this.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: point, obj: this.activeObj,\n                isMouseMove: null, x: null, y: null } });\n        this.noPushUndo = true;\n        this.crop();\n        this.noPushUndo = false;\n        this.isCropTab = false;\n        this.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        this.notify('crop', { prop: 'resetZoom', onPropertyChange: false });\n        this.isCropTab = true;\n        var afterCropActions = extend([], this.afterCropActions, [], true);\n        var coll = extend([], this.rotateFlipColl, [], true);\n        this.notify('crop', { prop: 'revertTransform', value: { type: 'initial', coll: coll } });\n        var imageData = this.getImageData();\n        if (isMaskImage) {\n            var canvas = this.createElement('canvas');\n            var ctx = canvas.getContext('2d');\n            canvas.width = imageData.width;\n            canvas.height = imageData.height;\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            if (this.pointColl.length > 0) {\n                var obj = { width: 0, height: 0 };\n                this.notify('crop', { prop: 'calcRatio', onPropertyChange: false,\n                    value: { obj: obj, dimension: { width: canvas.width, height: canvas.height } } });\n                var ratio = obj;\n                this.notify('export', { prop: 'drawAnnotation', value: { context: ctx, ratio: ratio } });\n            }\n            this.upperContext.clearRect(0, 0, this.upperCanvas.width, this.upperCanvas.height);\n            imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        }\n        this.notify('crop', { prop: 'revertTransform', value: { type: 'reverse', coll: coll } });\n        this.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        this.afterCropActions = afterCropActions;\n        if (!isMaskImage) {\n            this.objColl = objColl;\n            this.pointColl = pointColl;\n            this.shapeColl = shapeColl;\n            this.freehandCounter = this.pointColl.length;\n        }\n        this.frameObj.type = frameType;\n        this.aspectWidth = aspectWidth;\n        this.aspectHeight = aspectHeight;\n        this.notify('toolbar', { prop: 'performCropTransformClick', value: { shape: 'crop-' + 'custom' } });\n        if (straighten !== 0) {\n            this.setStraighten(straighten);\n        }\n        this.img = tempDestPoints;\n        this.cropObj = tempCropObj;\n        this.activeObj = tempSel;\n        this.transform = tempTransform;\n        this.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n            value: { zoomFactor: 0.1, zoomPoint: null, isResize: null } });\n        this.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n            value: { zoomFactor: -0.1, zoomPoint: null, isResize: null } });\n        if (this.transform.degree !== 0) {\n            this.panPoint.currentPannedPoint = { x: panPoint.totalPannedClientPoint.x,\n                y: panPoint.totalPannedClientPoint.y };\n            this.notify('transform', { prop: 'drawPannedImage', value: { xDiff: panPoint.totalPannedClientPoint.x,\n                    yDiff: panPoint.totalPannedClientPoint.y } });\n            this.panPoint.currentPannedPoint = { x: 0, y: 0 };\n            this.notify('transform', { prop: 'setTempPanMove', value: { point: null } });\n        }\n        this.noPushUndo = true;\n        this.crop();\n        this.noPushUndo = false;\n        this.transform.straighten = 0;\n        this.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n        return imageData;\n    };\n    ImageEditor.prototype.applyShapes = function () {\n        if (this.isUndoRedoStack) {\n            return;\n        }\n        var shapes = ['rectangle', 'ellipse', 'line', 'arrow', 'path', 'text', 'image'];\n        var dummyObj = { bool: false };\n        this.notify('selection', { prop: 'getFreehandDrawEditing', onPropertyChange: false, value: { obj: dummyObj } });\n        if (dummyObj['bool'] || this.togglePen || (this.activeObj.shape && shapes.indexOf(this.activeObj.shape) !== -1) ||\n            this.drawingShape) {\n            this.okBtn(null, true);\n        }\n    };\n    ImageEditor.prototype.closeOverlayTbar = function () {\n        var isContextualToolbar = false;\n        var frameObject = { bool: null };\n        this.notify('toolbar', { prop: 'getFrameToolbar', onPropertyChange: false, value: { obj: frameObject } });\n        if (!frameObject['bool'] && this.element.querySelector('.e-contextual-toolbar-wrapper')) {\n            if (!this.element.querySelector('.e-contextual-toolbar-wrapper').classList.contains('e-hide')) {\n                isContextualToolbar = true;\n            }\n            var straightenObj = { bool: this.isStraightening };\n            if (!Browser.isDevice || (Browser.isDevice && !straightenObj['bool'])) {\n                this.element.querySelector('.e-contextual-toolbar-wrapper').classList.add('e-hide');\n            }\n        }\n        return isContextualToolbar;\n    };\n    ImageEditor.prototype.toolbarTemplateFn = function () {\n        var template;\n        var templateID = this.element.id + '_toolbar';\n        var toolbarArea = this.element.querySelector('#' + this.element.id + '_toolbarArea');\n        if (this.toolbarTemplate) {\n            this.toolbarFn = this.templateParser(this.toolbarTemplate);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.isReact) {\n                template = this.toolbarFn({ type: 'toolbar' }, this, 'Template', templateID)[0];\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            }\n            else if (this.isAngular) {\n                var templateColl = this.toolbarFn({ type: 'toolbar' }, this, 'Template', templateID);\n                template = (templateColl[0].nodeType === 3) ? templateColl[1] : templateColl[0];\n            }\n            else {\n                template = this.toolbarFn({ type: 'toolbar' }, this, 'Template', templateID)[0];\n            }\n            toolbarArea.appendChild(template);\n            this.toolbarHeight = toolbarArea.clientHeight;\n            this.notify('toolbar', { prop: 'setToolbarHeight', value: { height: this.toolbarHeight } });\n            this['renderReactTemplates']();\n        }\n    };\n    ImageEditor.prototype.quickAccessToolbarTemplateFn = function () {\n        var template;\n        var templateID = this.element.id + '_quickAccessToolbar';\n        var toolbarArea = this.element.querySelector('#' + this.element.id + '_quickAccessToolbarArea');\n        if (this.quickAccessToolbarTemplate) {\n            this.qatFn = this.templateParser(this.quickAccessToolbarTemplate);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.isReact) {\n                template = this.qatFn({ type: 'toolbar' }, this, 'Template', templateID)[0];\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            }\n            else if (this.isAngular) {\n                var templateColl = this.qatFn({ type: 'toolbar' }, this, 'Template', templateID);\n                template = (templateColl[0].nodeType === 3) ? templateColl[1] : templateColl[0];\n            }\n            else {\n                template = this.qatFn({ type: 'toolbar' }, this, 'Template', templateID)[0];\n            }\n            toolbarArea.appendChild(template);\n            this['renderReactTemplates']();\n        }\n    };\n    ImageEditor.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return templateCompiler(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (error) {\n                return templateCompiler(template);\n            }\n        }\n        return undefined;\n    };\n    // Common codes for EJ2 and Blazor\n    ImageEditor.prototype.getTextFromId = function (id) {\n        var idToValue = { '1': 'none', '2': 'bar', '3': 'arrow', '4': 'arrowSolid',\n            '5': 'circle', '6': 'circleSolid', '7': 'square', '8': 'squareSolid' };\n        return idToValue[\"\" + id];\n    };\n    ImageEditor.prototype.getFinetuneOption = function (type) {\n        var typeToOption = { 'brightness': ImageFinetuneOption.Brightness, 'contrast': ImageFinetuneOption.Contrast,\n            'hue': ImageFinetuneOption.Hue, 'saturation': ImageFinetuneOption.Saturation, 'opacity': ImageFinetuneOption.Opacity,\n            'blur': ImageFinetuneOption.Blur, 'exposure': ImageFinetuneOption.Exposure };\n        return typeToOption[\"\" + type];\n    };\n    ImageEditor.prototype.setPenStroke = function (args) {\n        this.notify('freehand-draw', { prop: 'setPenStrokeWidth', onPropertyChange: false, value: { value: parseInt(args, 10) } });\n    };\n    ImageEditor.prototype.updateFreehandDrawColorChange = function () {\n        var obj = { tempFreeHandDrawEditingStyles: null };\n        this.notify('freehand-draw', { prop: 'getTempFreeHandDrawEditingStyles', value: { obj: obj } });\n        this.notify('freehand-draw', { prop: 'color-change', value: { color: obj['tempFreeHandDrawEditingStyles'].strokeColor } });\n    };\n    ImageEditor.prototype.getUndoRedoColl = function () {\n        var obj = { undoRedoColl: null, index: null };\n        var undoRedoObj = { undoRedoStep: null };\n        var object = { appliedUndoRedoColl: [] };\n        this.notify('undo-redo', { prop: 'getAppliedUndoRedoColl', value: { obj: object } });\n        this.notify('undo-redo', { prop: 'getUndoRedoStep', value: { obj: undoRedoObj } });\n        obj['undoRedoColl'] = object['appliedUndoRedoColl'];\n        obj['index'] = undoRedoObj['undoRedoStep'];\n        return obj;\n    };\n    ImageEditor.prototype.updateImageTransformColl = function (type) {\n        var value;\n        if (type === 'rotateleft') {\n            value = -90;\n        }\n        else if (type === 'rotateright') {\n            value = 90;\n        }\n        else if (type === 'horizontalflip') {\n            value = 'horizontal';\n        }\n        else if (type === 'verticalflip') {\n            value = 'vertical';\n        }\n        for (var i = 0; i < this.objColl.length; i++) {\n            var shape = this.objColl[i].shape;\n            if (shape === 'image' || shape === 'text') {\n                if (isNullOrUndefined(this.objColl[i].rotateFlipColl)) {\n                    this.objColl[i].rotateFlipColl = [];\n                }\n                this.objColl[i].rotateFlipColl.push(value);\n                var obj = { collection: this.objColl[i].rotateFlipColl };\n                this.notify('shape', { prop: 'alignRotateFlipColl', onPropertyChange: false,\n                    value: { collection: this.objColl[i].rotateFlipColl, isRotateFlipCollection: false, obj: obj } });\n                this.objColl[i].rotateFlipColl = obj['collection'];\n            }\n        }\n    };\n    ImageEditor.prototype.setInitialZoomState = function () {\n        this.objColl.push(this.activeObj);\n        this.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        var isUndoRedo = this.isUndoRedo;\n        this.isCropTab = false;\n        this.isUndoRedo = true;\n        if (this.transform.cropZoomFactor && this.transform.cropZoomFactor > 0) {\n            this.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                value: { zoomFactor: -this.transform.cropZoomFactor, zoomPoint: null, isResize: true } });\n        }\n        else {\n            this.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                value: { zoomFactor: Math.abs(this.transform.cropZoomFactor), zoomPoint: null, isResize: true } });\n        }\n        this.isUndoRedo = isUndoRedo;\n        this.panPoint.totalPannedPoint = { x: 0, y: 0 };\n        this.transform.cropZoomFactor = 0;\n        this.notify('freehand-draw', { prop: 'updateFHDColl', onPropertyChange: false });\n        this.activeObj = extend({}, this.objColl[this.objColl.length - 1], {}, true);\n        this.objColl.pop();\n        this.isCropTab = true;\n        this.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: this.activeObj } });\n    };\n    /**\n     * Set the old item Transform item state.\n     *\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updateCropTransformItems = function () {\n        this.prevCurrSelectionPoint = extend({}, this.currSelectionPoint, {}, true);\n        this.notify('draw', { prop: 'updateCropSelection', onPropertyChange: false });\n    };\n    /**\n     * Get the pascal case.\n     *\n     * @param { string } str - Specifies the string to convert to pascal case.\n     * @param { Object } obj - Specifies the string to convert to pascal case.\n     * @hidden\n     * @returns {string}.\n     * A pascal case string.\n     */\n    ImageEditor.prototype.toPascalCase = function (str, obj) {\n        var strArr = [];\n        if (!isNullOrUndefined(str)) {\n            strArr = str.toLowerCase().split('-');\n        }\n        for (var i = 0; i < strArr.length; i++) {\n            strArr[i] = strArr[i].charAt(0).toUpperCase() + strArr[i].slice(1);\n        }\n        if (obj) {\n            obj['maxText'] = strArr.join('');\n        }\n        return strArr.join('');\n    };\n    /**\n     * Get the font sizes.\n     *\n     * @hidden\n     * @returns {DropDownButtonItemModel[]}.\n     * A font size collections.\n     */\n    ImageEditor.prototype.getFontSizes = function () {\n        var items = [];\n        this.fontSizeColl = [];\n        var fontSize;\n        if (this.transform.degree === 0 || this.transform.degree % 180 === 0) {\n            fontSize = this.img.destWidth / 25;\n        }\n        else {\n            fontSize = this.img.destHeight / 25;\n        }\n        for (var i = 1; i <= 10; i++) {\n            this.fontSizeColl.push({ text: (i * (Math.round(fontSize / 2))).toString() });\n            items.push({ text: (i.toString()) });\n        }\n        return items;\n    };\n    /**\n     * Updates drop area content dynamically.\n     *\n     * @param { HTMLElement } dropInfoElement - Specifies the drop area element.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updateDropInfoContent = function (dropInfoElement) {\n        if (!dropInfoElement) {\n            return;\n        }\n        var supportObj = { key: 'SupportText' };\n        this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: supportObj } });\n        var words = this.getExtensionString();\n        var fileSizeObj = { key: 'MinMaxSize' };\n        this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: fileSizeObj } });\n        var andObj = { key: 'And' };\n        this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: andObj } });\n        var size;\n        if (this.uploadSettings.minFileSize && this.uploadSettings.maxFileSize) {\n            size = ' ' + fileSizeObj['value'] + ' ' + this.formatSizeUnits(this.uploadSettings.minFileSize) + ' ' + andObj['value'] + ' ' + this.formatSizeUnits(this.uploadSettings.maxFileSize);\n        }\n        else if (this.uploadSettings.minFileSize) {\n            fileSizeObj['key'] = 'MinSize';\n            this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: fileSizeObj } });\n            size = ' ' + fileSizeObj['value'] + ' ' + this.formatSizeUnits(this.uploadSettings.minFileSize);\n        }\n        else if (this.uploadSettings.maxFileSize) {\n            fileSizeObj['key'] = 'MaxSize';\n            this.notify('toolbar', { prop: 'getLocaleText', onPropertyChange: false, value: { obj: fileSizeObj } });\n            size = ' ' + fileSizeObj['value'] + ' ' + this.formatSizeUnits(this.uploadSettings.maxFileSize);\n        }\n        if (size) {\n            dropInfoElement.textContent = supportObj['value'] + words + size;\n        }\n        else {\n            dropInfoElement.textContent = supportObj['value'] + words;\n        }\n    };\n    /**\n     * Handles the OK button operation\n     *\n     * @param { boolean } isMouseDown - Specifies whether it is a mouse down.\n     * @param { boolean } isFinalApply - Specifies whether it is a final apply.\n     * @param { boolean } isResize - Specifies whether it is called from resize public method.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.okBtn = function (isMouseDown, isFinalApply, isResize) {\n        if (isFinalApply) {\n            this.noPushUndo = false;\n            var tempActiveObj = { activePoint: { startX: 0, startY: 0, endX: 0, endY: 0, width: 0, height: 0 },\n                flipObjColl: [], triangle: [], triangleRatio: [], order: null };\n            this.notify('selection', { prop: 'setTempActObj', onPropertyChange: false, value: { obj: tempActiveObj } });\n        }\n        var ctWrapper = this.element.querySelector('.e-contextual-toolbar-wrapper');\n        if (ctWrapper) {\n            ctWrapper.classList.remove('e-frame-wrapper');\n        }\n        var isCropSelection = false;\n        var splitWords;\n        this.isResizeOkBtn = true;\n        var aspectIcon = this.element.querySelector('#' + this.element.id + '_aspectratio');\n        var nonAspectIcon = this.element.querySelector('#' + this.element.id + '_nonaspectratio');\n        var blrAspRatElem = this.element.querySelector('.e-ie-toolbar-aspect-ratio-btn');\n        var blrNAspRatElem = this.element.querySelector('.e-ie-toolbar-nonaspect-ratio-btn');\n        if (this.activeObj.shape !== undefined) {\n            splitWords = this.activeObj.shape.split('-');\n        }\n        if (splitWords === undefined && this.currObjType.isCustomCrop) {\n            isCropSelection = true;\n        }\n        else if (splitWords !== undefined && splitWords[0] === 'crop') {\n            isCropSelection = true;\n        }\n        this.allowDownScale = true;\n        if ((this.activeObj.shape && this.activeObj.shape !== 'image' || this.togglePen) && !isCropSelection) {\n            var objt = { shapeSettingsObj: {} };\n            this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: objt } });\n            var shapeSettings = objt['shapeSettingsObj'];\n            if (this.togglePen) {\n                shapeSettings.type = ShapeType.FreehandDraw;\n            }\n            var shapeChangedArgs = { action: 'apply', currentShapeSettings: extend({}, shapeSettings, {}, true) };\n            if (!this.currObjType.isRedact && (isFinalApply || this.isShapeDrawing)) {\n                if (this.isShapeDrawing) {\n                    shapeChangedArgs.action = 'draw-end';\n                }\n                this.trigger('shapeChange', shapeChangedArgs);\n            }\n            this.editCompleteArgs = shapeChangedArgs;\n            if (this.currObjType.isRedact) {\n                this.currObjType.isRedact = false;\n            }\n        }\n        if (aspectIcon || nonAspectIcon) {\n            var obj_2 = { width: null, height: null };\n            this.notify('selection', { prop: 'getNumTextValue', onPropertyChange: false, value: { obj: obj_2 } });\n            var point = { x: obj_2['width'], y: obj_2['height'] };\n            var obj1 = { prevCropObj: this.prevCropObj };\n            var obj2 = { prevObj: this.prevObj };\n            if (point && point.x && point.y && obj1['prevCropObj'] && obj2['prevObj']) {\n                if (nonAspectIcon || (blrNAspRatElem && !blrNAspRatElem.classList.contains('e-hidden'))) {\n                    this.notify('transform', { prop: 'resize', value: { width: point.x, height: point.y, isAspectRatio: false } });\n                }\n                else if (aspectIcon || (blrAspRatElem && !blrAspRatElem.classList.contains('e-hidden'))) {\n                    this.notify('transform', { prop: 'resize', value: { width: point.x, height: null, isAspectRatio: true } });\n                }\n                this.isResize = false;\n                this.aspectWidth = point.x;\n                this.aspectHeight = point.y;\n                this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                        isApplyBtn: false, isCropping: false, isZooming: null, cType: null } });\n                this.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                    value: { zoomFactor: -this.transform.zoomFactor, zoomPoint: null, isResize: true } });\n                this.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                    value: { zoomFactor: obj2['prevObj']['defaultZoom'], zoomPoint: null, isResize: true } });\n                if (obj2['prevObj'].zoomFactor) {\n                    this.setProperties({ zoomSettings: { zoomFactor: obj2['prevObj'].zoomFactor } }, true);\n                }\n                this.notify('transform', { prop: 'setPreviousZoomValue', onPropertyChange: false,\n                    value: { previousZoomValue: this.zoomSettings.zoomFactor } });\n                this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: { operation: 'resize',\n                        previousObj: obj2['prevObj'], previousObjColl: obj2['prevObj']['objColl'],\n                        previousPointColl: obj2['prevObj']['pointColl'], previousSelPointColl: obj2['prevObj']['selPointColl'],\n                        previousCropObj: obj1['prevCropObj'], previousText: null, currentText: null, previousFilter: null,\n                        isCircleCrop: null } });\n                this.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n                var obj_3 = this.cancelCropSelection;\n                if ((obj_3 && (isNullOrUndefined(nonAspectIcon) || !nonAspectIcon))) {\n                    obj_3.previousObj.aspectWidth = obj_3.currentObj.aspectWidth = this.aspectWidth;\n                    obj_3.previousObj.aspectHeight = obj_3.currentObj.aspectHeight = this.aspectHeight;\n                    obj_3.previousCropObj = extend({}, this.cropObj, {}, true);\n                    obj_3.currentCropObj = extend({}, this.cropObj, {}, true);\n                    this.notify('draw', { prop: 'updateCropSelObj' });\n                }\n                this.cancelCropSelection = null;\n            }\n            else if (point && (point.x === 0 || point.y === 0)) {\n                this.notify('draw', { prop: 'performCancel', value: { isContextualToolbar: null } });\n            }\n            else {\n                this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                        isApplyBtn: false, isCropping: false, isZooming: null, cType: null } });\n            }\n            this.isAspectRatio = false;\n        }\n        else if (isResize) {\n            var isAspectRatio = false;\n            if (this.aspectWidth && this.aspectHeight) {\n                this.notify('transform', { prop: 'resize', value: { width: this.aspectWidth, height: this.aspectHeight, isAspectRatio: false } });\n            }\n            else if (this.aspectWidth) {\n                this.notify('transform', { prop: 'resize', value: { width: this.aspectWidth, height: null, isAspectRatio: true } });\n                this.aspectHeight = this.aspectWidth / (this.img.destWidth / this.img.destHeight);\n                isAspectRatio = true;\n            }\n            this.isResize = false;\n            this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                    isApplyBtn: false, isCropping: false, isZooming: null, cType: null } });\n            this.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                value: { zoomFactor: -this.transform.zoomFactor, zoomPoint: null, isResize: true } });\n            this.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                value: { zoomFactor: this.prevObj['defaultZoom'], zoomPoint: null, isResize: true } });\n            if (this.prevObj.zoomFactor) {\n                this.setProperties({ zoomSettings: { zoomFactor: this.prevObj.zoomFactor } }, true);\n            }\n            this.notify('transform', { prop: 'setPreviousZoomValue', onPropertyChange: false,\n                value: { previousZoomValue: this.zoomSettings.zoomFactor } });\n            this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: { operation: 'resize',\n                    previousObj: this.prevObj, previousObjColl: this.prevObj['objColl'],\n                    previousPointColl: this.prevObj['pointColl'], previousSelPointColl: this.prevObj['selPointColl'],\n                    previousCropObj: this.prevCropObj, previousText: null, currentText: null, previousFilter: null,\n                    isCircleCrop: null } });\n            this.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n            var obj_4 = this.cancelCropSelection;\n            if ((obj_4 && isAspectRatio)) {\n                obj_4.previousObj.aspectWidth = obj_4.currentObj.aspectWidth = this.aspectWidth;\n                obj_4.previousObj.aspectHeight = obj_4.currentObj.aspectHeight = this.aspectHeight;\n                obj_4.previousCropObj = extend({}, this.cropObj, {}, true);\n                obj_4.currentCropObj = extend({}, this.cropObj, {}, true);\n                this.notify('draw', { prop: 'updateCropSelObj' });\n            }\n            this.cancelCropSelection = null;\n            this.isAspectRatio = false;\n        }\n        var selElem = this.element.querySelector('.e-contextual-toolbar-wrapper .e-toolbar-item.e-selected');\n        var obj = { bool: false };\n        this.notify('selection', { prop: 'getFreehandDrawEditing', onPropertyChange: false, value: { obj: obj } });\n        var frameObject = { bool: null };\n        this.notify('toolbar', { prop: 'getFrameToolbar', onPropertyChange: false, value: { obj: frameObject } });\n        var sliderWrap = document.querySelector('#' + this.element.id + '_sliderWrapper');\n        if (selElem) {\n            this.currentFilter = selElem.children[0].children[0].id.replace('Canvas', '');\n        }\n        if (isCropSelection) {\n            if (this.transform.straighten !== 0 && (this.panPoint.totalPannedPoint.x !== 0 || this.panPoint.totalPannedPoint.y !== 0 ||\n                this.panPoint.totalPannedClientPoint.x !== 0 || this.panPoint.totalPannedClientPoint.y !== 0)) {\n                var temp = this.prevStraightenedDegree;\n                this.prevStraightenedDegree = this.transform.straighten;\n                this.setStraighten(this.transform.straighten - 3);\n                this.setStraighten(this.transform.straighten + 3);\n                this.prevStraightenedDegree = temp;\n            }\n            this.isCroppedEvent = this.crop();\n        }\n        else if (this.togglePen) {\n            this.freeHandDraw(false);\n            if (!this.isMaskImage) {\n                var widthObj = { penStrokeWidth: null };\n                this.notify('freehand-draw', { prop: 'getPenStrokeWidth', onPropertyChange: false, value: { obj: widthObj } });\n                this.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n                this.notify('freehand-draw', { prop: 'setPenStrokeWidth', onPropertyChange: false, value: { value: widthObj['penStrokeWidth'] } });\n            }\n            this.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n            this.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.upperContext } });\n        }\n        else if (this.textArea.style.display === 'block' || this.textArea.style.display === 'inline-block') {\n            this.notify('shape', { prop: 'redrawActObj', onPropertyChange: false,\n                value: { x: null, y: null, isMouseDown: null } });\n            this.lowerContext.clearRect(0, 0, this.lowerCanvas.width, this.lowerCanvas.height);\n            this.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n            if (isNullOrUndefined(isMouseDown)) {\n                this.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n            }\n            this.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n            this.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.upperContext } });\n        }\n        else if ((sliderWrap || this.currObjType.isFiltered) && !this.drawingShape && this.activeObj.shape !== 'redact') {\n            this.initialAdjustmentValue = this.canvasFilter = this.lowerContext.filter;\n            this.currObjType.isFiltered = false;\n            var obj_5 = { value: null };\n            this.notify('draw', { prop: 'getTempAdjustmentValue', value: { obj: obj_5 } });\n            if (!sliderWrap || sliderWrap.parentElement.previousElementSibling.textContent !== 'Opacity') {\n                this.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n            }\n            if ((this.activeObj.activePoint.width !== 0 && this.activeObj.activePoint.height !== 0) ||\n                (this.activeObj.shape === 'path' && this.activeObj.pointColl.length > 0)) {\n                this.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: null } });\n            }\n        }\n        else if (obj['bool']) {\n            this.notify('freehand-draw', { prop: 'applyFhd', onPropertyChange: false });\n            this.notify('selection', { prop: 'setFreehandDrawCustomized', value: { isFreehandDrawCustomized: false } });\n            this.notify('toolbar', { prop: 'destroy-qa-toolbar' });\n            this.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n            this.notify('freehand-draw', { prop: 'resetFreehandDrawSelectedId', onPropertyChange: false });\n        }\n        else if ((this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) ||\n            (this.activeObj.shape === 'path' && this.activeObj.pointColl.length > 0)) {\n            if (this.activeObj.shape === 'image') {\n                this.notify('draw', { prop: 'setImageApply', onPropertyChange: false, value: { bool: true } });\n            }\n            this.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: null } });\n        }\n        else {\n            if (JSON.stringify(this.frameObj) !== JSON.stringify(this.tempFrameObj)) {\n                var object = { currObj: {} };\n                this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: {\n                        operation: 'frame', previousObj: object['currObj'], previousObjColl: object['currObj']['objColl'],\n                        previousPointColl: object['currObj']['pointColl'], previousSelPointColl: object['currObj']['selPointColl'],\n                        previousCropObj: extend({}, this.cropObj, {}, true), previousText: null, currentText: null,\n                        previousFilter: null, isCircleCrop: null\n                    } });\n                this.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n                var currFrameSettings = { type: this.toPascalCase(this.frameObj.type),\n                    color: this.frameObj.color, gradientColor: this.frameObj.gradientColor, size: this.frameObj.size,\n                    inset: this.frameObj.inset, offset: this.frameObj.offset, borderRadius: this.frameObj.radius,\n                    frameLineStyle: this.toPascalCase(this.frameObj.border), lineCount: this.frameObj.amount };\n                var prevFrameSettings = { type: this.toPascalCase(this.tempFrameObj.type),\n                    color: this.tempFrameObj.color, gradientColor: this.tempFrameObj.gradientColor, size: this.tempFrameObj.size,\n                    inset: this.tempFrameObj.inset, offset: this.tempFrameObj.offset, borderRadius: this.tempFrameObj.radius,\n                    frameLineStyle: this.toPascalCase(this.tempFrameObj.border), lineCount: this.tempFrameObj.amount };\n                var frameChange = { cancel: false, previousFrameSetting: prevFrameSettings,\n                    currentFrameSetting: currFrameSettings };\n                this.editCompleteArgs = frameChange;\n                this.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n                this.tempFrameObj = extend({}, this.frameObj, {}, true);\n            }\n            this.notify('draw', { prop: 'resetFrameZoom', onPropertyChange: false, value: { isOk: true } });\n        }\n        if (!obj['isCropToolbar']) {\n            this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                    isApplyBtn: false, isCropping: null, isZooming: null, cType: null } });\n            this.currObjType.isRedact = false;\n        }\n        this.notify('draw', { prop: 'setNewPath', value: { bool: false } });\n        this.transform.zoomFactor = this.transform.defaultZoomFactor;\n        this.notify('selection', { prop: 'setCurrentDrawingShape', onPropertyChange: false, value: { value: '' } });\n        this.isResizeOkBtn = false;\n        this.notify('draw', { prop: 'redrawDownScale' });\n        this.isChangesSaved = this.isFinetuneBtnClick = false;\n        if (isFinalApply) {\n            this.drawingShape = null;\n            this.notify('draw', { prop: 'resetTempObjColl' });\n            this.notify('draw', { prop: 'resetTempPointColl' });\n        }\n    };\n    ImageEditor.prototype.triggerEditCompleteEvent = function (args) {\n        if (args.action === 'shape-insert' && args.actionEventArgs &&\n            args.actionEventArgs.currentShapeSettings &&\n            args.actionEventArgs.currentShapeSettings.type.toString() === 'Redact') {\n            args.action = 'redact';\n        }\n        this.trigger('editComplete', args);\n        this.editCompleteArgs = null;\n    };\n    /**\n     * Handles the OK button operation\n     *\n     * @param { string } id - Specifies shape id to return.\n     * @hidden\n     * @returns {SelectionPoint | Object}.\n     */\n    ImageEditor.prototype.getObjFromId = function (id) {\n        var obj;\n        if (this.activeObj.currIndex && this.activeObj.currIndex === id) {\n            obj = extend({}, this.activeObj, {}, true);\n        }\n        else {\n            for (var i = 0; i < this.shapeColl.length; i++) {\n                var shapeId = this.shapeColl[i].id ? this.shapeColl[i].id :\n                    this.shapeColl[i].currIndex;\n                if (shapeId === id) {\n                    obj = extend({}, this.shapeColl[i], {}, true);\n                    break;\n                }\n            }\n        }\n        return obj;\n    };\n    /**\n     * Set the temporary filter properties.\n     *\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.setTempFilterProperties = function () {\n        this.upperCanvas.style.display = 'block';\n        this.cropSelectedState();\n        var obj = { adjustmentLevel: null };\n        this.notify('filter', { prop: 'getAdjustmentLevel', onPropertyChange: false,\n            value: { obj: obj } });\n        this.lowerContext.filter = this.initialAdjustmentValue;\n        this.notify('draw', { prop: 'setTempAdjustmentValue', value: { tempAdjustmentValue: this.lowerContext.filter } });\n        this.notify('filter', { prop: 'setTempAdjustmentLevel', onPropertyChange: false,\n            value: { tempAdjustmentLevel: extend({}, obj['adjustmentLevel'], {}, true) } });\n        this.notify('draw', { prop: 'setTempFilter', value: { tempFilter: this.currentFilter } });\n        var undoRedoObj = { undoRedoStep: null };\n        this.notify('undo-redo', { prop: 'getUndoRedoStep', value: { obj: undoRedoObj } });\n        this.notify('draw', { prop: 'setTempUndoRedoStep', value: { tempUndoRedoStep: undoRedoObj['undoRedoStep'] } });\n    };\n    /**\n     * To crop the selection.\n     *\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.cropSelectedState = function () {\n        if (this.activeObj.shape && this.activeObj.shape.split('-')[0] === 'crop') {\n            this.okBtn();\n        }\n    };\n    /**\n     * Get the current canvas data.\n     *\n     * @hidden\n     * @returns {ImageData}.\n     * An ImageData returns the current canvas image data object.\n     */\n    ImageEditor.prototype.getCurrentCanvasData = function () {\n        var tempFrame = extend({}, this.frameObj, {}, true);\n        this.frameObj = { type: 'none', color: '#fff', size: 20, inset: 20, offset: 20, radius: 0, amount: 1, border: 'solid', gradientColor: '' };\n        var tempFilter = this.lowerContext.filter;\n        this.lowerContext.filter = this.canvasFilter = 'none';\n        var objColl = extend([], this.objColl, null, true);\n        var pointColl = extend([], this.pointColl, null, true);\n        this.objColl = [];\n        this.pointColl = [];\n        this.freehandCounter = 0;\n        this.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n        var ctWrapper = this.element.querySelector('.e-contextual-toolbar-wrapper');\n        if (ctWrapper) {\n            ctWrapper.classList.add('e-hide');\n        }\n        var data = this.getImageData();\n        if (ctWrapper) {\n            ctWrapper.classList.remove('e-hide');\n        }\n        if (!Browser.isDevice) {\n            this.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'main',\n                    isApplyBtn: true, isCropping: false } });\n        }\n        this.element.querySelector('#' + this.element.id + '_contextualToolbarArea').classList.remove('e-hide');\n        this.objColl = objColl;\n        this.pointColl = pointColl;\n        this.freehandCounter = pointColl.length;\n        this.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n            value: { ctx: this.lowerContext, shape: 'iterate', pen: 'iterate', isPreventApply: null } });\n        this.lowerContext.filter = this.canvasFilter = tempFilter;\n        this.frameObj = tempFrame;\n        return data;\n    };\n    /**\n     * To set current adjustment value\n     *\n     * @param { string } type - Specifies the type of adjustment.\n     * @param { number } value - Specifies the value to adjust.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.setCurrAdjustmentValue = function (type, value) {\n        var finetuneValueChanging = { finetune: this.getFinetuneOption(type), value: value, cancel: false };\n        this.trigger('finetuneValueChanging', finetuneValueChanging);\n        this.editCompleteArgs = finetuneValueChanging;\n        if (finetuneValueChanging.cancel) {\n            return;\n        }\n        this.notify('filter', { prop: 'setCurrAdjValue', value: { type: type.toLowerCase(), value: value } });\n    };\n    /**\n     * Get the square point for path.\n     *\n     * @param { SelectionPoint } obj - Specifies the points of path.\n     * @hidden\n     * @returns {ActivePoint}.\n     * An ActivePoint object which returns the square point.\n     */\n    ImageEditor.prototype.getSquarePointForPath = function (obj) {\n        var point = { startX: 0, startY: 0, endX: 0, endY: 0, width: 0, height: 0 };\n        if (obj.pointColl.length > 0) {\n            point = { startX: obj.pointColl[0].x, startY: obj.pointColl[0].y, endX: obj.pointColl[0].x, endY: obj.pointColl[0].y };\n            for (var i = 1; i < obj.pointColl.length; i++) {\n                if (obj.pointColl[i].x < point.startX) {\n                    point.startX = obj.pointColl[i].x;\n                }\n                if (obj.pointColl[i].y < point.startY) {\n                    point.startY = obj.pointColl[i].y;\n                }\n                if (obj.pointColl[i].x > point.endX) {\n                    point.endX = obj.pointColl[i].x;\n                }\n                if (obj.pointColl[i].y > point.endY) {\n                    point.endY = obj.pointColl[i].y;\n                }\n            }\n            point.width = point.endX - point.startX;\n            point.height = point.endY - point.startY;\n        }\n        return point;\n    };\n    /**\n     * Get the SelectionType.\n     *\n     * @param { string } type - Specifies the SelectionType.\n     * @hidden\n     * @returns {string}.\n     * An string which returns the SelectionType.\n     */\n    ImageEditor.prototype.getSelectionType = function (type) {\n        type = type === 'crop-custom' ? 'CropCustom' : type;\n        var typeToSelectionType = { 'CropCustom': 'Custom', 'CropSquare': 'Square', 'CropCircle': 'Circle',\n            'Crop3:2': '3:2', 'Crop4:3': '4:3', 'Crop5:4': '5:4', 'Crop7:5': '7:5', 'Crop16:9': '16:9',\n            'Crop2:3': '2:3', 'Crop3:4': '3:4', 'Crop4:5': '4:5', 'Crop5:7': '5:7', 'Crop9:16': '9:16' };\n        return typeToSelectionType[\"\" + type] ? typeToSelectionType[\"\" + type] : type.split('Crop')[1];\n    };\n    /** Clears the context.\n     *\n     * @param { CanvasRenderingContext2D } ctx - Specifies the canvas context.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.clearContext = function (ctx) {\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n        ctx.clearRect(0, 0, ctx.canvas.height, ctx.canvas.width);\n    };\n    /**\n     * Apply Arrow for start and end.\n     *\n     * @param { string } type - Specifies the start arrow or end arrow.\n     * @param { string } id - Specifies the start arrow or end arrow item id.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updateArrow = function (type, id) {\n        var isObjPushed = false;\n        var collLength = this.objColl.length;\n        this.notify('shape', { prop: 'pushActItemIntoObj' });\n        if (collLength !== this.objColl.length) {\n            isObjPushed = true;\n        }\n        var prevCropObj = extend({}, this.cropObj, {}, true);\n        var object = { currObj: {} };\n        var objt = { shapeSettingsObj: {} };\n        this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: objt } });\n        var shapeSettings = objt['shapeSettingsObj'];\n        this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        prevObj.objColl = extend([], this.objColl, [], true);\n        prevObj.pointColl = extend([], this.pointColl, [], true);\n        prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n        if (isObjPushed) {\n            this.objColl.pop();\n        }\n        if (type === 'startArrow') {\n            this.activeObj.start = this.getTextFromId(id);\n        }\n        else if (type === 'endArrow') {\n            this.activeObj.end = this.getTextFromId(id);\n        }\n        this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null, strokeColor: null, fillColor: null,\n                strokeWidth: this.activeObj.strokeSettings.strokeWidth } });\n        this.objColl.push(this.activeObj);\n        if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n            this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                    previousPointColl: prevObj.pointColl, previousCropObj: prevCropObj, previousText: null,\n                    currentText: null, previousFilter: null, isCircleCrop: null } });\n        }\n        this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n        if (Browser.isDevice) {\n            if (document.getElementById(this.element.id + '_bottomToolbar')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var toolbar_1 = getComponent(this.element.id + '_bottomToolbar', 'toolbar');\n                toolbar_1.refreshOverflow();\n            }\n        }\n        else {\n            if (document.getElementById(this.element.id + '_toolbar')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var toolbar_2 = getComponent(this.element.id + '_toolbar', 'toolbar');\n                toolbar_2.refreshOverflow();\n            }\n        }\n        var shapeChangedArgs = { action: type, currentShapeSettings: extend({}, shapeSettings, {}, true) };\n        this.trigger('shapeChange', shapeChangedArgs);\n        this.editCompleteArgs = shapeChangedArgs;\n    };\n    /**\n     * Apply Font style for text.\n     *\n     * @param { string } id - Specifies the selected item id.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updateFontFamily = function (id) {\n        this.notify('selection', { prop: 'setInitialTextEdit', value: { bool: false } });\n        var isObjPushed = false;\n        var collLength = this.objColl.length;\n        this.notify('shape', { prop: 'pushActItemIntoObj' });\n        if (collLength !== this.objColl.length) {\n            isObjPushed = true;\n        }\n        var objColl = extend([], this.objColl, [], true);\n        var prevCropObj = extend({}, this.cropObj, {}, true);\n        var objt = { shapeSettingsObj: {} };\n        this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: objt } });\n        var shapeSettings = objt['shapeSettingsObj'];\n        var object = { currObj: {} };\n        this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        prevObj.objColl = extend([], this.objColl, [], true);\n        prevObj.pointColl = extend([], this.pointColl, [], true);\n        prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        if (isObjPushed) {\n            this.objColl.pop();\n        }\n        if (this.textArea.style.display === 'block' || this.textArea.style.display === 'inline-block') {\n            this.notify('shape', { prop: 'updateFontRatio', onPropertyChange: false,\n                value: { obj: this.activeObj, isTextArea: true } });\n            var temp = this.activeObj.textSettings.fontFamily;\n            this.activeObj.textSettings.fontFamily = this.toPascalCase(id);\n            if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                this.notify('shape', { prop: 'redraw-text' });\n            }\n            this.objColl.push(this.activeObj);\n            if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                    value: { operation: 'textAreaCustomization', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                        previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                        previousCropObj: prevCropObj, previousText: null,\n                        currentText: null, previousFilter: null, isCircleCrop: null } });\n            }\n            this.objColl.pop();\n            this.upperContext.clearRect(0, 0, this.upperCanvas.width, this.upperCanvas.height);\n            var width = this.activeObj.activePoint.width +\n                this.activeObj.textSettings.fontSize * 0.25;\n            this.textArea.style.width = width + 'px';\n            this.textArea.style.fontFamily = this.toPascalCase(id);\n            this.activeObj.textSettings.fontFamily = temp;\n            this.notify('shape', { prop: 'updateFontStyles', onPropertyChange: false,\n                value: { isTextBox: null } });\n        }\n        else {\n            this.notify('shape', { prop: 'updateFontRatio', onPropertyChange: false,\n                value: { obj: this.activeObj, isTextArea: null } });\n            var fontFamily = this.activeObj.textSettings.fontFamily = this.toPascalCase(id);\n            this.notify('shape', { prop: 'setTextSettings', onPropertyChange: false,\n                value: { textSettings: null, fontFamily: fontFamily, fontSize: null } });\n            if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                this.notify('shape', { prop: 'redraw-text' });\n            }\n            this.objColl.push(this.activeObj);\n            if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                    value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: objColl,\n                        previousPointColl: extend([], this.pointColl, [], true),\n                        previousSelPointColl: prevObj.selPointColl, previousCropObj: prevCropObj, previousText: null,\n                        currentText: null, previousFilter: null, isCircleCrop: null } });\n            }\n            this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n        }\n        var shapeChangedArgs = { action: 'font-family', currentShapeSettings: extend({}, shapeSettings, {}, true) };\n        shapeChangedArgs.currentShapeSettings.fontFamily = this.textArea.style.fontFamily;\n        this.trigger('shapeChange', shapeChangedArgs);\n        this.editCompleteArgs = shapeChangedArgs;\n    };\n    /**\n     * Apply Font size for text.\n     *\n     * @param { string } text - Specifies the selected item text.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updateFontSize = function (text) {\n        var itemText = text;\n        this.notify('selection', { prop: 'setInitialTextEdit', value: { bool: false } });\n        var isObjPushed = false;\n        var collLength = this.objColl.length;\n        this.notify('shape', { prop: 'pushActItemIntoObj' });\n        if (collLength !== this.objColl.length) {\n            isObjPushed = true;\n        }\n        var prevCropObj = extend({}, this.cropObj, {}, true);\n        var objt = { shapeSettingsObj: {} };\n        this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: objt } });\n        var shapeSettings = objt['shapeSettingsObj'];\n        var object = { currObj: {} };\n        this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        prevObj.objColl = extend([], this.objColl, [], true);\n        prevObj.pointColl = extend([], this.pointColl, [], true);\n        prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        if (isObjPushed) {\n            this.objColl.pop();\n        }\n        if (this.textArea.style.display === 'block' || this.textArea.style.display === 'inline-block') {\n            this.notify('shape', { prop: 'updateFontRatio', onPropertyChange: false,\n                value: { obj: this.activeObj, isTextArea: true } });\n            var temp = this.activeObj.textSettings.fontSize;\n            this.activeObj.textSettings.fontSize = parseInt(this.fontSizeColl[(parseInt(itemText, 10) - 1)].text, 10);\n            this.objColl.push(this.activeObj);\n            if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                    value: { operation: 'textAreaCustomization', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                        previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                        previousCropObj: prevCropObj, previousText: null,\n                        currentText: null, previousFilter: null, isCircleCrop: null } });\n            }\n            this.objColl.pop();\n            var textStyle = '';\n            if (this.textArea.style.fontWeight === 'bold') {\n                textStyle = 'bold ';\n            }\n            if (this.textArea.style.fontStyle === 'italic') {\n                textStyle = 'italic ';\n            }\n            if (this.textArea.style.fontWeight === 'bold' && this.textArea.style.fontStyle === 'italic') {\n                textStyle = 'italic bold ';\n            }\n            this.upperContext.font = textStyle + this.activeObj.textSettings.fontSize + 'px' + ' ' + this.textArea.style.fontFamily;\n            var rows = this.textArea.value.split('\\n');\n            var obj = { maxText: '' };\n            this.notify('shape', { prop: 'getMaxText', onPropertyChange: false,\n                value: { isTextBox: true, text: null, obj: obj } });\n            var text_1 = obj['maxText'];\n            var width = this.upperContext.measureText(text_1).width +\n                this.activeObj.textSettings.fontSize * 0.5;\n            this.textArea.style.width = width + 'px';\n            this.textArea.style.height = rows.length * (this.activeObj.textSettings.fontSize + this.activeObj.textSettings.fontSize * 0.25) + 'px';\n            this.activeObj.textSettings.fontSize = temp;\n            this.upperContext.font = this.activeObj.textSettings.fontSize + 'px' + ' ' + this.activeObj.textSettings.fontFamily;\n            this.textArea.style.fontSize = parseInt(this.fontSizeColl[(parseInt(itemText, 10) - 1)].text, 10) + 'px';\n            if (this.textArea.style.fontFamily === 'georgia') {\n                this.textArea.style.width = parseFloat(this.textArea.style.width) + parseFloat(this.textArea.style.fontSize) + 'px';\n            }\n        }\n        else {\n            this.notify('shape', { prop: 'updateFontRatio', onPropertyChange: false,\n                value: { obj: this.activeObj, isTextArea: null } });\n            var fontSize = this.activeObj.textSettings.fontSize = parseInt(this.fontSizeColl[(parseInt(itemText, 10) - 1)].text, 10);\n            this.notify('shape', { prop: 'setTextSettings', onPropertyChange: false,\n                value: { textSettings: null, fontFamily: null, fontSize: fontSize } });\n            this.upperContext.font = this.activeObj.textSettings.fontSize + 'px' + ' ' + this.activeObj.textSettings.fontFamily;\n            var rows = this.activeObj.keyHistory.split('\\n');\n            var obj = { maxText: '' };\n            this.notify('shape', { prop: 'getMaxText', onPropertyChange: false,\n                value: { isTextBox: null, text: null, obj: obj } });\n            var text_2 = obj['maxText'];\n            var width = this.upperContext.measureText(text_2).width +\n                this.activeObj.textSettings.fontSize * 0.5;\n            var height = rows.length * (this.activeObj.textSettings.fontSize +\n                this.activeObj.textSettings.fontSize * 0.25);\n            if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                this.notify('selection', { prop: 'setTextSelection', onPropertyChange: false,\n                    value: { width: width, height: height } });\n                this.notify('draw', { prop: 'updateActiveObject', onPropertyChange: false, value: { actPoint: this.activeObj.activePoint, obj: this.activeObj,\n                        isMouseMove: null, x: null, y: null } });\n                this.notify('shape', { prop: 'redraw-text' });\n            }\n            this.objColl.push(this.activeObj);\n            if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                    value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                        previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                        previousCropObj: prevCropObj, previousText: null,\n                        currentText: null, previousFilter: null, isCircleCrop: null } });\n            }\n            this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n        }\n        var shapeChangedArgs = { action: 'font-size', currentShapeSettings: extend({}, shapeSettings, {}, true) };\n        shapeChangedArgs.currentShapeSettings.fontSize = this.activeObj.textSettings.fontSize;\n        this.trigger('shapeChange', shapeChangedArgs);\n        this.editCompleteArgs = shapeChangedArgs;\n    };\n    /**\n     * Apply Font color for text.\n     *\n     * @param { string } value - Specifies the selected color item value.\n     * @param { string } color - Specifies the selected color type value.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updateFontColor = function (value, color) {\n        this.notify('selection', { prop: 'setInitialTextEdit', value: { bool: false } });\n        var isObjPushed = false;\n        var collLength = this.objColl.length;\n        this.notify('shape', { prop: 'pushActItemIntoObj' });\n        if (collLength !== this.objColl.length) {\n            isObjPushed = true;\n        }\n        var prevCropObj = extend({}, this.cropObj, {}, true);\n        var objt = { shapeSettingsObj: {} };\n        this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: objt } });\n        var shapeSettings = objt['shapeSettingsObj'];\n        var object = { currObj: {} };\n        this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        prevObj.objColl = extend([], this.objColl, [], true);\n        prevObj.pointColl = extend([], this.pointColl, [], true);\n        prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        if (isObjPushed) {\n            this.objColl.pop();\n        }\n        if (this.textArea.style.display === 'none') {\n            if (color === 'Text') {\n                this.activeObj.strokeSettings.strokeColor = value;\n                this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null,\n                        strokeColor: this.activeObj.strokeSettings.strokeColor, fillColor: null, strokeWidth: null } });\n            }\n            else {\n                this.activeObj.strokeSettings.fillColor = value;\n                this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null,\n                        strokeColor: null, fillColor: this.activeObj.strokeSettings.fillColor, strokeWidth: null } });\n            }\n            if (!this.togglePen) {\n                if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                    this.objColl.push(this.activeObj);\n                    this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                        value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                            previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                            previousCropObj: prevCropObj, previousText: null,\n                            currentText: null, previousFilter: null, isCircleCrop: null } });\n                    this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n                }\n            }\n        }\n        else if (this.textArea.style.display === 'block' || this.textArea.style.display === 'inline-block') {\n            this.textArea.style[color === 'Text' ? 'color' : 'backgroundColor'] = value;\n            var temp = color === 'Text' ? this.activeObj.strokeSettings.strokeColor : this.activeObj.strokeSettings.fillColor;\n            this.activeObj.strokeSettings[color === 'Text' ? 'strokeColor' : 'fillColor'] = value;\n            if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                this.objColl.push(this.activeObj);\n                this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                    value: { operation: 'textAreaCustomization', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                        previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                        previousCropObj: prevCropObj, previousText: null,\n                        currentText: null, previousFilter: null, isCircleCrop: null } });\n                this.objColl.pop();\n            }\n            this.activeObj.strokeSettings[color === 'Text' ? 'strokeColor' : 'fillColor'] = temp;\n        }\n        else if (!this.togglePen) {\n            if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                this.objColl.push(this.activeObj);\n                this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                    value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                        previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                        previousCropObj: prevCropObj, previousText: null,\n                        currentText: null, previousFilter: null, isCircleCrop: null } });\n                this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n            }\n        }\n        var shapeChangedArgs = { action: 'font-color', currentShapeSettings: extend({}, shapeSettings, {}, true) };\n        shapeChangedArgs.currentShapeSettings.fillColor = value;\n        this.trigger('shapeChange', shapeChangedArgs);\n        this.editCompleteArgs = shapeChangedArgs;\n    };\n    /**\n     * Apply Font color for text.\n     *\n     * @param { string } value - Specifies the selected color item value.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updateStrokeTextColor = function (value) {\n        this.notify('selection', { prop: 'setInitialTextEdit', value: { bool: false } });\n        var isObjPushed = false;\n        var collLength = this.objColl.length;\n        this.notify('shape', { prop: 'pushActItemIntoObj' });\n        if (collLength !== this.objColl.length) {\n            isObjPushed = true;\n        }\n        var prevCropObj = extend({}, this.cropObj, {}, true);\n        var objt = { shapeSettingsObj: {} };\n        this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: objt } });\n        var shapeSettings = objt['shapeSettingsObj'];\n        var object = { currObj: {} };\n        this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        prevObj.objColl = extend([], this.objColl, [], true);\n        prevObj.pointColl = extend([], this.pointColl, [], true);\n        prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        if (isObjPushed) {\n            this.objColl.pop();\n        }\n        if (this.textArea.style.display === 'none') {\n            this.activeObj.strokeSettings.outlineColor = value;\n            this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null,\n                    strokeColor: null, fillColor: null, strokeWidth: null, outlineColor: this.activeObj.strokeSettings.outlineColor } });\n            if (!this.togglePen) {\n                if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                    this.objColl.push(this.activeObj);\n                    this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                        value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                            previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                            previousCropObj: prevCropObj, previousText: null,\n                            currentText: null, previousFilter: null, isCircleCrop: null } });\n                    this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n                }\n            }\n        }\n        else if (this.textArea.style.display === 'block' || this.textArea.style.display === 'inline-block') {\n            this.textArea.style.textShadow = \"-1px -1px 0 \" + value + \", 1px -1px 0 \" + value + \", -1px 1px 0 \" + value + \", 1px 1px 0 \" + value;\n            var temp = this.activeObj.strokeSettings.outlineColor;\n            this.activeObj.strokeSettings.outlineColor = value;\n            if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                this.objColl.push(this.activeObj);\n                this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                    value: { operation: 'textAreaCustomization', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                        previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                        previousCropObj: prevCropObj, previousText: null,\n                        currentText: null, previousFilter: null, isCircleCrop: null } });\n                this.objColl.pop();\n            }\n            this.activeObj.strokeSettings.outlineColor = temp;\n        }\n        else if (!this.togglePen) {\n            if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                this.objColl.push(this.activeObj);\n                this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                    value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                        previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                        previousCropObj: prevCropObj, previousText: null,\n                        currentText: null, previousFilter: null, isCircleCrop: null } });\n                this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n            }\n        }\n        var shapeChangedArgs = { action: 'font-color', currentShapeSettings: extend({}, shapeSettings, {}, true) };\n        shapeChangedArgs.currentShapeSettings.fillColor = value;\n        this.trigger('shapeChange', shapeChangedArgs);\n        this.editCompleteArgs = shapeChangedArgs;\n    };\n    /**\n     * Apply Pen stroke width.\n     *\n     * @param { string } id - Specifies the selected item id.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updatePenStrokeWidth = function (id) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var temp = extend([], this.pointColl, [], true);\n        this.updateFreehandDrawColorChange();\n        var prevCropObj = extend({}, this.cropObj, {}, true);\n        var objt = { shapeSettingsObj: {} };\n        this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: objt } });\n        var shapeSettings = objt['shapeSettingsObj'];\n        var object = { currObj: {} };\n        this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        prevObj.objColl = extend([], this.objColl, [], true);\n        prevObj.pointColl = extend([], this.pointColl, [], true);\n        prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        this.pointColl = temp;\n        this.notify('selection', { prop: 'setFreehandDrawCustomized', value: { isFreehandDrawCustomized: true } });\n        this.setPenStroke(id);\n        var obj = { bool: false };\n        this.notify('selection', { prop: 'getFreehandDrawEditing', onPropertyChange: false, value: { obj: obj } });\n        if (obj['bool']) {\n            var obj_6 = { penStrokeWidth: null };\n            this.notify('freehand-draw', { prop: 'getPenStrokeWidth', onPropertyChange: false, value: { obj: obj_6 } });\n            this.upperContext.clearRect(0, 0, this.upperCanvas.width, this.upperCanvas.height);\n            this.lowerContext.clearRect(0, 0, this.lowerCanvas.width, this.lowerCanvas.height);\n            this.notify('freehand-draw', { prop: 'hoverFhd', onPropertyChange: false,\n                value: { strokeColor: null, strokeWidth: obj_6['penStrokeWidth'] } });\n            var indexObj = { freehandSelectedIndex: null };\n            this.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n            this.pointColl[indexObj['freehandSelectedIndex']].strokeWidth = obj_6['penStrokeWidth'];\n            this.notify('draw', { prop: 'render-image', value: { isMouseWheel: null } });\n            this.notify('draw', { prop: 'redrawDownScale' });\n            this.notify('freehand-draw', { prop: 'hoverFhd', onPropertyChange: false,\n                value: { strokeColor: null, strokeWidth: obj_6['penStrokeWidth'] } });\n            this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                value: { operation: 'freehanddrawCustomized', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                    previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                    previousCropObj: prevCropObj, previousText: null,\n                    currentText: null, previousFilter: null, isCircleCrop: null } });\n        }\n        shapeSettings.type = ShapeType.FreehandDraw;\n        var shapeChangedArgs = { action: 'stroke-width', currentShapeSettings: extend({}, shapeSettings, {}, true) };\n        shapeChangedArgs.currentShapeSettings.strokeWidth = this.activeObj.strokeSettings.strokeWidth;\n        this.trigger('shapeChange', shapeChangedArgs);\n        this.editCompleteArgs = shapeChangedArgs;\n    };\n    /**\n     * Apply Pen stroke color.\n     *\n     * @param { string } value - Specifies the selected color item value.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updatePenStrokeColor = function (value) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var temp = extend([], this.pointColl, [], true);\n        this.updateFreehandDrawColorChange();\n        var prevCropObj = extend({}, this.cropObj, {}, true);\n        var objt = { shapeSettingsObj: {} };\n        this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: objt } });\n        var shapeSettings = objt['shapeSettingsObj'];\n        var object = { currObj: {} };\n        this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        prevObj.objColl = extend([], this.objColl, [], true);\n        prevObj.pointColl = extend([], this.pointColl, [], true);\n        prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        this.pointColl = temp;\n        this.notify('selection', { prop: 'setFreehandDrawCustomized', value: { isFreehandDrawCustomized: true } });\n        this.activeObj.strokeSettings.strokeColor = value;\n        var indexObj = { freehandSelectedIndex: null };\n        this.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n        if (indexObj['freehandSelectedIndex'] !== null && indexObj['freehandSelectedIndex'] !== undefined) {\n            this.upperContext.clearRect(0, 0, this.upperCanvas.width, this.upperCanvas.height);\n            this.notify('draw', { prop: 'render-image', value: { isMouseWheel: null } });\n            this.notify('draw', { prop: 'redrawDownScale' });\n            this.notify('freehand-draw', { prop: 'hoverFhd', onPropertyChange: false,\n                value: { strokeColor: null, strokeWidth: null } });\n        }\n        var obj = { bool: false };\n        this.notify('selection', { prop: 'getFreehandDrawEditing', onPropertyChange: false, value: { obj: obj } });\n        if (obj['bool']) {\n            var indexObj_1 = { freehandSelectedIndex: null };\n            this.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj_1 } });\n            this.upperContext.clearRect(0, 0, this.upperCanvas.width, this.upperCanvas.height);\n            this.pointColl[indexObj_1['freehandSelectedIndex']].strokeColor = value;\n            this.notify('freehand-draw', { prop: 'hoverFhd', onPropertyChange: false,\n                value: { strokeColor: value } });\n            this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                value: { operation: 'freehanddrawCustomized', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                    previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                    previousCropObj: prevCropObj, previousText: null,\n                    currentText: null, previousFilter: null, isCircleCrop: null } });\n        }\n        else if (!this.togglePen) {\n            this.notify('selection', { prop: 'redrawShape', value: { obj: this.activeObj } });\n        }\n        shapeSettings.type = ShapeType.FreehandDraw;\n        var shapeChangedArgs = { action: 'stroke-color', currentShapeSettings: extend({}, shapeSettings, {}, true) };\n        shapeChangedArgs.currentShapeSettings.strokeColor = value;\n        this.trigger('shapeChange', shapeChangedArgs);\n        this.editCompleteArgs = shapeChangedArgs;\n    };\n    /**\n     * Apply Shape stroke width.\n     *\n     * @param { string } id - Specifies the selected item id.\n     * @param { string } type - Specifies the type of selected item.\n     * @param { string } shapeType - Specifies the shape type of selected item.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updateStrokeWidth = function (id, type, shapeType) {\n        if (this.activeObj.shape && (this.activeObj.shape !== 'path' || (this.activeObj.shape === 'path' &&\n            this.activeObj.pointColl.length > 0))) {\n            var obj = { shapeSettingsObj: {} };\n            this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: obj } });\n            var shapeSettings = obj['shapeSettingsObj'];\n            var isObjPushed = false;\n            var collLength = this.objColl.length;\n            this.notify('shape', { prop: 'pushActItemIntoObj' });\n            if (collLength !== this.objColl.length) {\n                isObjPushed = true;\n            }\n            var prevCropObj = extend({}, this.cropObj, {}, true);\n            var object = { currObj: {} };\n            this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            var prevObj = object['currObj'];\n            prevObj.objColl = extend([], this.objColl, [], true);\n            prevObj.pointColl = extend([], this.pointColl, [], true);\n            prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n            var selPointCollObj = { selPointColl: null };\n            this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                value: { obj: selPointCollObj } });\n            prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            if (isObjPushed) {\n                this.objColl.pop();\n            }\n            this.activeObj.strokeSettings[type === 'width' ? (shapeType === 'text' ? 'outlineWidth' : 'strokeWidth') : 'radius'] = parseInt(id, 10);\n            if (this.activeObj.shape === 'rectangle' || this.activeObj.shape === 'ellipse') {\n                this.activeObj.strokeSettings[type === 'width' ? (shapeType === 'text' ? 'outlineWidth' : 'strokeWidth') : 'radius'] = parseInt(id, 10) - 1;\n            }\n            this.activeObj.strokeSettings[type === 'width' ? (shapeType === 'text' ? 'outlineWidth' : 'strokeWidth') : 'radius'] *= 2;\n            if (type === 'width') {\n                if (shapeType === 'text') {\n                    this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null, strokeColor: null, fillColor: null,\n                            strokeWidth: null, radius: null, outlineWidth: this.activeObj.strokeSettings.outlineWidth } });\n                }\n                else {\n                    this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null, strokeColor: null, fillColor: null,\n                            strokeWidth: this.activeObj.strokeSettings.strokeWidth, radius: null, outlineWidth: null } });\n                }\n            }\n            else {\n                this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null, strokeColor: null, fillColor: null,\n                        strokeWidth: null, radius: this.activeObj.strokeSettings.radius } });\n            }\n            this.objColl.push(this.activeObj);\n            if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                    value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                        previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                        previousCropObj: prevCropObj, previousText: null,\n                        currentText: null, previousFilter: null, isCircleCrop: null } });\n            }\n            this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n            var shapeChangedArgs = { action: 'stroke-width', currentShapeSettings: extend({}, shapeSettings, {}, true) };\n            shapeChangedArgs.currentShapeSettings[type === 'width' ? (shapeType === 'text' ? 'outlineWidth' : 'strokeWidth') : 'radius'] = this.activeObj.strokeSettings[type === 'width' ? (shapeType === 'text' ? 'outlineWidth' : 'strokeWidth') : 'radius'];\n            this.trigger('shapeChange', shapeChangedArgs);\n            this.editCompleteArgs = shapeChangedArgs;\n        }\n        else if (this.activeObj.shape && (this.activeObj.shape === 'path' &&\n            this.activeObj.pointColl.length === 0)) {\n            this.activeObj.strokeSettings.strokeWidth = parseInt(id, 10);\n            this.activeObj.strokeSettings.strokeWidth *= 2;\n            if (type === 'width') {\n                if (shapeType === 'text') {\n                    this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null, strokeColor: null, fillColor: null,\n                            strokeWidth: null, radius: null, outlineWidth: this.activeObj.strokeSettings.outlineWidth } });\n                }\n                else {\n                    this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null, strokeColor: null, fillColor: null,\n                            strokeWidth: this.activeObj.strokeSettings.strokeWidth, radius: null, outlineWidth: null } });\n                }\n            }\n            else {\n                this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null, strokeColor: null, fillColor: null,\n                        strokeWidth: null, radius: this.activeObj.strokeSettings.radius } });\n            }\n        }\n    };\n    /**\n     * Apply Shape stroke color.\n     *\n     * @param { string } value - Specifies the selected color item value.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updateStrokeColor = function (value) {\n        var objt = { shapeSettingsObj: {} };\n        this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: objt } });\n        var shapeSettings = objt['shapeSettingsObj'];\n        if (this.activeObj.shape && (this.activeObj.shape !== 'path' || (this.activeObj.shape === 'path' &&\n            this.activeObj.pointColl.length > 0))) {\n            var isObjPushed = false;\n            var collLength = this.objColl.length;\n            this.notify('shape', { prop: 'pushActItemIntoObj' });\n            if (collLength !== this.objColl.length) {\n                isObjPushed = true;\n            }\n            var prevCropObj = extend({}, this.cropObj, {}, true);\n            var object = { currObj: {} };\n            this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            var prevObj = object['currObj'];\n            prevObj.objColl = extend([], this.objColl, [], true);\n            prevObj.pointColl = extend([], this.pointColl, [], true);\n            prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n            var selPointCollObj = { selPointColl: null };\n            this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                value: { obj: selPointCollObj } });\n            prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            if (isObjPushed) {\n                this.objColl.pop();\n            }\n            this.activeObj.strokeSettings.strokeColor = value;\n            this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null, strokeColor: this.activeObj.strokeSettings.strokeColor, fillColor: null, strokeWidth: null } });\n            if (!this.togglePen) {\n                this.objColl.push(this.activeObj);\n                if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n                    this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                        value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                            previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                            previousCropObj: prevCropObj, previousText: null,\n                            currentText: null, previousFilter: null, isCircleCrop: null } });\n                }\n                this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n            }\n        }\n        else if (this.activeObj.shape && (this.activeObj.shape === 'path' &&\n            this.activeObj.pointColl.length === 0)) {\n            this.activeObj.strokeSettings.strokeColor = value;\n            this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null, strokeColor: this.activeObj.strokeSettings.strokeColor, fillColor: null, strokeWidth: null } });\n        }\n        var shapeChangedArgs = { action: 'stroke-color', currentShapeSettings: extend({}, shapeSettings, {}, true) };\n        shapeChangedArgs.currentShapeSettings.strokeColor = value;\n        this.trigger('shapeChange', shapeChangedArgs);\n        this.editCompleteArgs = shapeChangedArgs;\n    };\n    /**\n     * Apply Shape fill color.\n     *\n     * @param { string } value - Specifies the selected color item value.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updateFillColor = function (value) {\n        var obj = { shapeSettingsObj: {} };\n        this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: obj } });\n        var shapeSettings = obj['shapeSettingsObj'];\n        var isObjPushed = false;\n        var collLength = this.objColl.length;\n        this.notify('shape', { prop: 'pushActItemIntoObj' });\n        if (collLength !== this.objColl.length) {\n            isObjPushed = true;\n        }\n        var prevCropObj = extend({}, this.cropObj, {}, true);\n        var object = { currObj: {} };\n        this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        var prevObj = object['currObj'];\n        prevObj.objColl = extend([], this.objColl, [], true);\n        prevObj.pointColl = extend([], this.pointColl, [], true);\n        prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        if (isObjPushed) {\n            this.objColl.pop();\n        }\n        this.activeObj.strokeSettings.fillColor = value;\n        this.notify('shape', { prop: 'setStrokeSettings',\n            value: { strokeSettings: null, strokeColor: null, fillColor: this.activeObj.strokeSettings.fillColor,\n                strokeWidth: null } });\n        this.objColl.push(this.activeObj);\n        if (this.activeObj.activePoint.width !== 0 || this.activeObj.activePoint.height !== 0) {\n            this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                    previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                    previousCropObj: prevCropObj, previousText: null,\n                    currentText: null, previousFilter: null, isCircleCrop: null } });\n        }\n        this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n        var shapeChangedArgs = { action: 'fill-color', currentShapeSettings: extend({}, shapeSettings, {}, true) };\n        this.trigger('shapeChange', shapeChangedArgs);\n        this.editCompleteArgs = shapeChangedArgs;\n    };\n    /**\n     * Apply horizontal flip.\n     *\n     * @param { CanvasRenderingContext2D } ctx - Specifies the canvas context 2D.\n     * @param { boolean } isPreventURC - Specifies to update undo redo collection.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.horizontalFlip = function (ctx, isPreventURC) {\n        var prevCropObj;\n        var prevObj;\n        if (isNullOrUndefined(isPreventURC)) {\n            if (isNullOrUndefined(this.activeObj.imageRatio)) {\n                this.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n            }\n            this.notify('shape', { prop: 'pushActItemIntoObj' });\n            prevCropObj = extend({}, this.cropObj, {}, true);\n            var object = { currObj: {} };\n            this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            prevObj = object['currObj'];\n            prevObj.objColl = extend([], this.objColl, [], true);\n            prevObj.pointColl = extend([], this.pointColl, [], true);\n            prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n            var selPointCollObj = { selPointColl: null };\n            this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                value: { obj: selPointCollObj } });\n            prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            this.objColl.pop();\n        }\n        this.notify('toolbar', { prop: 'refreshSlider' });\n        ctx.clearRect(0, 0, this.activeObj.imageCanvas.width, this.activeObj.imageCanvas.height);\n        var activePoint = this.duplicateImage();\n        this.notify('draw', { prop: 'downScaleImgCanvas', onPropertyChange: false,\n            value: { ctx: this.activeObj.imageCanvas.getContext('2d'), isImgAnnotation: true, isHFlip: true, isVFlip: null } });\n        this.activeObj.activePoint = activePoint;\n        this.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n        if (isNullOrUndefined(isPreventURC)) {\n            this.objColl.push(this.activeObj);\n            this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                value: { operation: 'imageHFlip', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                    previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                    previousCropObj: prevCropObj, previousText: null,\n                    currentText: null, previousFilter: null, isCircleCrop: null } });\n            this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n        }\n    };\n    /**\n     * Apply vertical flip.\n     *\n     * @param { CanvasRenderingContext2D } ctx - Specifies the canvas context 2D.\n     * @param { boolean } isPreventURC - Specifies to update undo redo collection.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.verticalFlip = function (ctx, isPreventURC) {\n        var prevCropObj;\n        var prevObj;\n        if (isNullOrUndefined(isPreventURC)) {\n            if (isNullOrUndefined(this.activeObj.imageRatio)) {\n                this.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n            }\n            this.notify('shape', { prop: 'pushActItemIntoObj' });\n            prevCropObj = extend({}, this.cropObj, {}, true);\n            var object = { currObj: {} };\n            this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            prevObj = object['currObj'];\n            prevObj.objColl = extend([], this.objColl, [], true);\n            prevObj.pointColl = extend([], this.pointColl, [], true);\n            prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n            var selPointCollObj = { selPointColl: null };\n            this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                value: { obj: selPointCollObj } });\n            prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            this.objColl.pop();\n        }\n        this.notify('toolbar', { prop: 'refreshSlider' });\n        ctx.clearRect(0, 0, this.activeObj.imageCanvas.width, this.activeObj.imageCanvas.height);\n        var activePoint = this.duplicateImage();\n        this.notify('draw', { prop: 'downScaleImgCanvas', onPropertyChange: false,\n            value: { ctx: this.activeObj.imageCanvas.getContext('2d'), isImgAnnotation: true, isHFlip: null, isVFlip: true } });\n        this.activeObj.activePoint = activePoint;\n        this.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n        if (isNullOrUndefined(isPreventURC)) {\n            this.objColl.push(this.activeObj);\n            this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                value: { operation: 'imageVFlip', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                    previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                    previousCropObj: prevCropObj, previousText: null,\n                    currentText: null, previousFilter: null, isCircleCrop: null } });\n            this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n        }\n    };\n    /**\n     * Apply rotate image.\n     *\n     * @param { string } rotate - Specifies the direction of rotation.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.rotateImage = function (rotate) {\n        var prevCropObj;\n        var prevObj;\n        if (isNullOrUndefined(this.activeObj.imageRatio)) {\n            this.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n        }\n        this.notify('shape', { prop: 'pushActItemIntoObj' });\n        // eslint-disable-next-line prefer-const\n        prevCropObj = extend({}, this.cropObj, {}, true);\n        var object = { currObj: {} };\n        this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        // eslint-disable-next-line prefer-const\n        prevObj = object['currObj'];\n        prevObj.objColl = extend([], this.objColl, [], true);\n        prevObj.pointColl = extend([], this.pointColl, [], true);\n        prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        this.objColl.pop();\n        this.notify('toolbar', { prop: 'refreshSlider' });\n        if (rotate === 'rotleft') {\n            this.activeObj.rotatedAngle -= (90 * (Math.PI / 180));\n        }\n        else {\n            this.activeObj.rotatedAngle += (90 * (Math.PI / 180));\n        }\n        this.notify('selection', { prop: 'updPtCollForShpRot', onPropertyChange: false, value: { obj: this.activeObj } });\n        this.upperContext.clearRect(0, 0, this.upperCanvas.width, this.upperCanvas.height);\n        this.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n        this.objColl.push(this.activeObj);\n        this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n            value: { operation: 'imageRotate', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                previousCropObj: prevCropObj, previousText: null,\n                currentText: null, previousFilter: null, isCircleCrop: null } });\n        this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n        this.notify('toolbar', { prop: 'destroy-qa-toolbar' });\n        this.notify('toolbar', { prop: 'renderQAT', onPropertyChange: false, value: { isPenEdit: null } });\n    };\n    /**\n     * Get pascalToSplitWords from string.\n     *\n     * @param { string } str - Specifies the word.\n     * @hidden\n     * @returns {string}.\n     */\n    ImageEditor.prototype.pascalToSplitWords = function (str) {\n        str = str.charAt(0).toUpperCase() + str.slice(1);\n        var splitStr = str.match(/[A-Z][a-z]+/g);\n        if (isNullOrUndefined(splitStr)) {\n            return str;\n        }\n        else {\n            return splitStr.map(function (word) { return word.charAt(0).toUpperCase() + word.slice(1); }).join(' ');\n        }\n    };\n    /**\n     * Get Slider Value.\n     *\n     * @param { string } type - Finetune type.\n     * @hidden\n     * @returns {number}.\n     */\n    ImageEditor.prototype.getCurrAdjustmentValue = function (type) {\n        var value = 100;\n        var indexObj = { freehandSelectedIndex: null };\n        this.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n        if (type === 'transparency' && this.togglePen) {\n            var obj = { penOpacity: 1 };\n            this.notify('freehand-draw', { prop: 'getPenOpacity', onPropertyChange: false, value: { obj: obj } });\n            value = obj['penOpacity'] * 100;\n        }\n        else if (type === 'transparency' && indexObj['freehandSelectedIndex'] !== null && indexObj['freehandSelectedIndex'] !== undefined) {\n            value = this.pointColl[indexObj['freehandSelectedIndex']].opacity * 100;\n        }\n        else {\n            var obj = { adjustmentLevel: null };\n            this.notify('filter', { prop: 'getAdjustmentLevel', onPropertyChange: false,\n                value: { obj: obj } });\n            var typeToAdjustmentLevel = { 'brightness': obj['adjustmentLevel'].brightness,\n                'contrast': obj['adjustmentLevel'].contrast, 'hue': obj['adjustmentLevel'].hue,\n                'saturation': obj['adjustmentLevel'].saturation, 'opacity': obj['adjustmentLevel'].opacity,\n                'blur': obj['adjustmentLevel'].blur, 'exposure': obj['adjustmentLevel'].exposure,\n                'transparency': obj['adjustmentLevel'].transparency, 'straighten': this.transform.straighten };\n            value = typeToAdjustmentLevel[\"\" + type];\n        }\n        return value;\n    };\n    /**\n     * Apply transformSelect.\n     *\n     * @param { string } type - Specifies the selected item text.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.transformSelect = function (type) {\n        if (this.transform.straighten === 0 && (type === 'rotateleft' || type === 'rotateright') &&\n            this.activeObj.shape && (['crop-2:3', 'crop-3:2', 'crop-3:4', 'crop-4:3', 'crop-4:5', 'crop-5:4', 'crop-5:7', 'crop-7:5',\n            'crop-9:16', 'crop-16:9'].indexOf(this.activeObj.shape) !== -1 || (this.activeObj.shape.indexOf('crop-') !== -1 &&\n            this.activeObj.shape !== 'crop-custom' && this.activeObj.shape !== 'crop-square' && this.activeObj.shape !== 'crop-circle'))) {\n            this.activeObj.shape = 'crop-' + this.activeObj.shape.split('-')[1].split(':')[1] + ':' + this.activeObj.shape.split('-')[1].split(':')[0];\n            this.notify('toolbar', { prop: 'performCropTransformClick', value: { shape: this.activeObj.shape, isTransform: true } });\n        }\n        this.isCropToolbar = true;\n        this.allowDownScale = false;\n        var straighten = this.transform.straighten;\n        var straightenObj = extend({}, this.activeObj, {}, true);\n        var zoomFactor = this.transform.zoomFactor;\n        this.prevEventSelectionPoint = extend({}, this.activeObj, {}, true);\n        var object = { currObj: {} };\n        this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n        this.prevEventObjPoint = object['currObj'];\n        this.prevEventObjPoint.objColl = extend([], this.objColl, [], true);\n        this.prevEventObjPoint.pointColl = extend([], this.pointColl, [], true);\n        this.prevEventObjPoint.afterCropActions = extend([], this.afterCropActions, [], true);\n        var selPointCollObj = { selPointColl: null };\n        this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n            value: { obj: selPointCollObj } });\n        this.prevEventObjPoint.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n        if (this.transform.straighten !== 0) {\n            this.transform.straighten = 0;\n            this.straightenBaseImageCanvas();\n            for (var i = 0, len = this.objColl.length; i < len; i++) {\n                var shape = this.objColl[i].shape;\n                if (shape !== 'line' && shape !== 'arrow' && shape !== 'path') {\n                    this.objColl[i].rotatedAngle -= (straighten * (Math.PI / 180));\n                    this.notify('selection', { prop: 'updPtCollForShpRot', onPropertyChange: false, value: { obj: this.objColl[i] } });\n                }\n            }\n            this.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n            this.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n        }\n        this.setInitialZoomState();\n        var activeObj = extend({}, this.activeObj, {}, true);\n        this.notify('crop', { prop: 'setTransformCrop', onPropertyChange: false, value: { bool: true } });\n        this.cropSelectedState();\n        this.notify('crop', { prop: 'setTransformCrop', onPropertyChange: false, value: { bool: false } });\n        this.notify('draw', { prop: 'resetCurrentSelectionPoint' });\n        this.updateImageTransformColl(type);\n        this.notify('transform', { prop: 'performTransformation', value: { text: type } });\n        this.isCropTab = true;\n        this.notify('draw', { prop: 'moveToSelectionRange', value: { type: type, activeObj: activeObj } });\n        if (this.isStraightening && (type === 'horizontalflip' || type === 'verticalflip')) {\n            this.notify('draw', { prop: 'resetStraightenDestPoints' });\n            this.notify('draw', { prop: 'setDestForStraighten' });\n        }\n        if (straighten !== 0) {\n            this.transform.straighten = straighten;\n            this.straightenBaseImageCanvas();\n            for (var i = 0, len = this.objColl.length; i < len; i++) {\n                var shape = this.objColl[i].shape;\n                if (shape !== 'line' && shape !== 'arrow' && shape !== 'path') {\n                    this.objColl[i].rotatedAngle += (straighten * (Math.PI / 180));\n                    this.notify('selection', { prop: 'updPtCollForShpRot', onPropertyChange: false, value: { obj: this.objColl[i] } });\n                }\n            }\n            this.notify('shape', { prop: 'drawAnnotations', onPropertyChange: false,\n                value: { ctx: this.lowerContext, shape: 'zoom', pen: 'zoom', isPreventApply: null } });\n            this.notify('draw', { prop: 'render-image', value: { isMouseWheel: false } });\n            this.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: straightenObj } });\n            this.notify('draw', { prop: 'setStraightenActObj', value: { activeObj: null } });\n            this.notify('draw', { prop: 'setStraightenInitZoom', value: { zoomFactor: zoomFactor } });\n            if ((this.isStraightening && (type === 'horizontalflip' || type === 'verticalflip')) &&\n                isNullOrUndefined(this.transform.zoomFactor) || this.transform.zoomFactor === 0) {\n                if (this.transform.degree === 0) {\n                    this.transform.zoomFactor += 0.025;\n                }\n                else if (this.transform.zoomFactor === 0) {\n                    this.transform.zoomFactor = null;\n                }\n            }\n            this.notify('draw', { prop: 'zoomToSel', value: { activeObj: straightenObj, isToolbar: false } });\n        }\n        this.isCropToolbar = false;\n        var stValPan = this.element.querySelector('.e-ie-straighten-value-span');\n        if (stValPan) {\n            stValPan.innerHTML = this.transform.straighten.toString() + '&#176';\n        }\n    };\n    /**\n     * Returns default filter.\n     *\n     * @hidden\n     * @returns {string}.\n     */\n    ImageEditor.prototype.getDefaultFilter = function () {\n        return 'brightness(' + 1 + ') ' + 'contrast(' + 100 + '%) ' + 'hue-rotate(' + 0 + 'deg) ' +\n            'saturate(' + 100 + '%) ' + 'opacity(' + 1 + ') ' + 'blur(' + 0 + 'px) ' + 'sepia(0%) ' +\n            'grayscale(0%) ' + 'invert(0%)';\n    };\n    /**\n     * Performs Straightening action.\n     *\n     * @param { number } value - Specifies the degree of straightening.\n     * @hidden\n     * @returns {void} .\n     */\n    ImageEditor.prototype.setStraighten = function (value) {\n        var straightenEventArgs = { cancel: false, previousDegree: this.transform.straighten, currentDegree: value };\n        this.trigger('rotating', straightenEventArgs);\n        this.editCompleteArgs = straightenEventArgs;\n        if (!straightenEventArgs.cancel) {\n            this.performStraighten(straightenEventArgs);\n            var actionArgs = { action: 'straighten', actionEventArgs: this.editCompleteArgs };\n            this.triggerEditCompleteEvent(actionArgs);\n        }\n    };\n    ImageEditor.prototype.duplicateImage = function () {\n        var activePoint = extend({}, this.activeObj.activePoint, {}, true);\n        var dimObj = { width: 0, height: 0 };\n        this.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n            value: { width: this.activeObj.imageElement.width, height: this.activeObj.imageElement.height, obj: dimObj, isImgShape: null } });\n        this.activeObj.activePoint.width = dimObj['width'];\n        this.activeObj.activePoint.height = dimObj['height'];\n        return activePoint;\n    };\n    ImageEditor.prototype.performStraighten = function (straightenEventArgs) {\n        var value = straightenEventArgs.currentDegree;\n        var stValPan = this.element.querySelector('.e-ie-straighten-value-span');\n        if (stValPan) {\n            stValPan.innerHTML = value.toString() + '&#176';\n        }\n        var obj = extend({}, this.activeObj, null, true);\n        this.notify('freehand-draw', { prop: 'setCenterSelPoints' });\n        this.transform.straighten = value;\n        this.straightenPoint = { x: this.activeObj.activePoint.startX + (this.activeObj.activePoint.width / 2),\n            y: this.activeObj.activePoint.startY + (this.activeObj.activePoint.height / 2) };\n        this.straightenBaseImageCanvas();\n        for (var i = 0, len = this.objColl.length; i < len; i++) {\n            var shape = this.objColl[i].shape;\n            if (shape !== 'line' && shape !== 'arrow' && shape !== 'path') {\n                this.objColl[i].rotatedAngle += ((this.transform.straighten - this.prevStraightenedDegree) * (Math.PI / 180));\n                this.notify('selection', { prop: 'updPtCollForShpRot', onPropertyChange: false, value: { obj: this.objColl[i] } });\n            }\n        }\n        if (this.transform.degree % 90 === 0 && this.transform.degree % 180 !== 0) {\n            if (this.transform.straighten === 0) {\n                this.transform.straighten = 360;\n            }\n            this.notify('draw', { prop: 'performPointZoom', onPropertyChange: false,\n                value: { x: this.activeObj.activePoint.startX + (this.activeObj.activePoint.width / 2),\n                    y: this.activeObj.activePoint.startY + (this.activeObj.activePoint.height / 2), type: 'zoomIn', isResize: true } });\n            this.notify('draw', { prop: 'performPointZoom', onPropertyChange: false,\n                value: { x: this.activeObj.activePoint.startX + (this.activeObj.activePoint.width / 2),\n                    y: this.activeObj.activePoint.startY + (this.activeObj.activePoint.height / 2), type: 'zoomOut', isResize: true } });\n            if (this.transform.straighten === 360) {\n                this.transform.straighten = 0;\n            }\n        }\n        else {\n            this.notify('draw', { prop: 'render-image', value: { isMouseWheel: true, isPreventClearRect: null, isFrame: null, isStraighten: true } });\n        }\n        this.notify('draw', { prop: 'drawObject', onPropertyChange: false,\n            value: { canvas: 'duplicate', obj: obj } });\n        this.notify('draw', { prop: 'zoomToSel', value: { activeObj: obj, isToolbar: true } });\n        this.notify('transform', { prop: 'disableZoomOutBtn', value: { isZoomOut: true } });\n        this.prevStraightenedDegree = this.transform.straighten;\n    };\n    /**\n     * Straightens base image.\n     *\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.straightenBaseImageCanvas = function () {\n        if (this.isImageLoaded) {\n            var flipState = this.getStraightenFlipState();\n            var straighten = flipState === 'horizontal' || flipState === 'vertical' ?\n                -this.transform.straighten : this.transform.straighten;\n            var ctx = this.baseImgCanvas.getContext('2d');\n            if (ctx.canvas.width !== this.lowerContext.canvas.width &&\n                ctx.canvas.height !== this.lowerContext.canvas.height) {\n                var obj_7 = { width: 0, height: 0 };\n                this.notify('crop', { prop: 'calcRatio', onPropertyChange: false,\n                    value: { obj: obj_7, dimension: { width: ctx.canvas.width, height: ctx.canvas.height } } });\n            }\n            var dimension = void 0;\n            // eslint-disable-next-line prefer-const\n            dimension = this.getRotatedCanvasDim(this.baseImg.width, this.baseImg.height, this.transform.straighten);\n            this.img.srcWidth = ctx.canvas.width = dimension.width;\n            this.img.srcHeight = ctx.canvas.height = dimension.height;\n            var x = ctx.canvas.width / 2;\n            var y = ctx.canvas.height / 2;\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.translate(x, y);\n            ctx.rotate(straighten * Math.PI / 180);\n            ctx.drawImage(this.baseImg, -this.baseImg.width / 2, -this.baseImg.height / 2, this.baseImg.width, this.baseImg.height);\n            ctx.setTransform(1, 0, 0, 1, 0, 0);\n            var obj = { width: 0, height: 0 };\n            this.notify('crop', { prop: 'calcRatio', onPropertyChange: false, value: { obj: obj, dimension: { width: ctx.canvas.width, height: ctx.canvas.height } } });\n        }\n    };\n    /**\n     * Returns rotated canvas dimension.\n     *\n     * @param { number } width - Specifies the width of the canvas.\n     * @param { number } height - Specifies the height of the canvas.\n     * @param { number } angle - Specifies the angle of rotation in degrees.\n     * @hidden\n     * @returns {void} .\n     */\n    ImageEditor.prototype.getRotatedCanvasDim = function (width, height, angle) {\n        var angleRad = angle * Math.PI / 180;\n        var cosAngle = Math.cos(angleRad);\n        var sinAngle = Math.sin(angleRad);\n        var minX = Math.min(0, width * cosAngle, height * Math.cos(Math.PI / 2 - angleRad), width * cosAngle + height * Math.cos(Math.PI / 2 - angleRad));\n        var maxX = Math.max(0, width * cosAngle, height * Math.cos(Math.PI / 2 - angleRad), width * cosAngle + height * Math.cos(Math.PI / 2 - angleRad));\n        var minY = Math.min(0, width * sinAngle, height * Math.sin(Math.PI / 2 - angleRad), width * sinAngle + height * Math.sin(Math.PI / 2 - angleRad));\n        var maxY = Math.max(0, width * sinAngle, height * Math.sin(Math.PI / 2 - angleRad), width * sinAngle + height * Math.sin(Math.PI / 2 - angleRad));\n        return { width: Math.ceil(maxX - minX), height: Math.ceil(maxY - minY) };\n    };\n    /**\n     * Apply Shape order.\n     *\n     * @param { string } id - Specifies the id of the shape to change the order.\n     * @param { string } value - Specifies the order of the shapes.\n     * @hidden\n     * @returns {void}.\n     */\n    ImageEditor.prototype.updateShapeOrder = function (id, value) {\n        var shapeObj = this.getObjFromId(id);\n        if ((shapeObj.shape && (shapeObj.shape !== 'path' ||\n            (shapeObj.shape === 'path' && shapeObj.pointColl.length > 0))) ||\n            (shapeObj && shapeObj['id'] && shapeObj['id'].indexOf('pen') > -1)) {\n            var obj = { shapeSettingsObj: {} };\n            this.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: obj } });\n            var shapeSettings = obj['shapeSettingsObj'];\n            if (shapeObj.shape) {\n                this.notify('shape', { prop: 'pushActItemIntoObj' });\n            }\n            var prevCropObj = extend({}, this.cropObj, {}, true);\n            var object = { currObj: {} };\n            this.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            var prevObj = object['currObj'];\n            prevObj.objColl = extend([], this.objColl, [], true);\n            prevObj.pointColl = extend([], this.pointColl, [], true);\n            prevObj.afterCropActions = extend([], this.afterCropActions, [], true);\n            var selPointCollObj = { selPointColl: null };\n            this.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                value: { obj: selPointCollObj } });\n            prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n            if (shapeObj.shape) {\n                this.objColl.pop();\n            }\n            this.notify('shape', { prop: 'z-order', onPropertyChange: false, value: { obj: shapeObj, value: value } });\n            if (shapeObj.shape) {\n                this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null, strokeColor: null, fillColor: null,\n                        strokeWidth: shapeObj.strokeSettings.strokeWidth } });\n                this.objColl.push(shapeObj);\n            }\n            this.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                    previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                    previousCropObj: prevCropObj, previousText: null,\n                    currentText: null, previousFilter: null, isCircleCrop: null } });\n            if (shapeObj.shape) {\n                this.notify('selection', { prop: 'redrawShape', value: { obj: this.objColl[this.objColl.length - 1] } });\n                this.activeObj.order = shapeObj.order;\n            }\n            var shapeChangedArgs = { action: 'stroke-width', previousShapeSettings: extend({}, shapeSettings, {}, true),\n                currentShapeSettings: extend({}, shapeSettings, {}, true) };\n            shapeChangedArgs.currentShapeSettings.strokeWidth = this.activeObj.strokeSettings.strokeWidth;\n        }\n        else if (this.activeObj.shape && (this.activeObj.shape === 'path' &&\n            this.activeObj.pointColl.length === 0)) {\n            this.notify('shape', { prop: 'setStrokeSettings', value: { strokeSettings: null, strokeColor: null, fillColor: null,\n                    strokeWidth: this.activeObj.strokeSettings.strokeWidth } });\n        }\n    };\n    ImageEditor.prototype.getStraightenFlipState = function () {\n        var flipState = '';\n        if (this.rotateFlipColl.length > 0) {\n            for (var i = 0, len = this.rotateFlipColl.length; i < len; i++) {\n                var curFlip = this.rotateFlipColl[i];\n                if (curFlip === 'horizontal') {\n                    flipState += 'horizontal';\n                }\n                else if (curFlip === 'vertical') {\n                    flipState += 'vertical';\n                }\n                if (flipState === 'horizontalvertical' || flipState === 'verticalhorizontal') {\n                    flipState = '';\n                }\n            }\n        }\n        return flipState;\n    };\n    ImageEditor.prototype.initializeZoomSettings = function () {\n        this.theme = isNullOrUndefined(this.theme) ? 'Bootstrap5' : this.theme;\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        if (isNullOrUndefined(this.zoomSettings.zoomTrigger) || this.zoomSettings.zoomTrigger === 0) {\n            this.zoomSettings.zoomTrigger = (ZoomTrigger.MouseWheel | ZoomTrigger.Pinch | ZoomTrigger.Toolbar | ZoomTrigger.Commands);\n        }\n        if (isNullOrUndefined(this.selectionSettings.strokeColor)) {\n            this.selectionSettings.strokeColor = this.themeColl[this.theme]['primaryColor'];\n        }\n        if (isNullOrUndefined(this.selectionSettings.fillColor)) {\n            this.selectionSettings.fillColor = this.themeColl[this.theme]['secondaryColor'];\n        }\n    };\n    ImageEditor.prototype.initializeThemeColl = function () {\n        this.themeColl = {\n            Bootstrap5: { primaryColor: '#0d6efd', secondaryColor: '#fff' },\n            Bootstrap5Dark: { primaryColor: '#0d6efd', secondaryColor: '#fff' },\n            Tailwind: { primaryColor: '#4f46e5', secondaryColor: '#fff' },\n            TailwindDark: { primaryColor: '#22d3ee', secondaryColor: '#fff' },\n            Fluent: { primaryColor: '#0078d4', secondaryColor: '#fff' },\n            FluentDark: { primaryColor: '#0078d4', secondaryColor: '#fff' },\n            Bootstrap4: { primaryColor: '#007bff', secondaryColor: '#fff' },\n            Bootstrap: { primaryColor: '#317ab9', secondaryColor: '#fff' },\n            BootstrapDark: { primaryColor: '#317ab9', secondaryColor: '#fff' },\n            Material: { primaryColor: '#e3165b', secondaryColor: '#fff' },\n            MaterialDark: { primaryColor: '#00b0ff', secondaryColor: '#fff' },\n            Fabric: { primaryColor: '#0078d6', secondaryColor: '#fff' },\n            FabricDark: { primaryColor: '#0074cc', secondaryColor: '#fff' },\n            Highcontrast: { primaryColor: '#000000', secondaryColor: '#fff' },\n            Material3: { primaryColor: '#6750a4', secondaryColor: '#fff' },\n            Material3Dark: { primaryColor: '#d0bcff', secondaryColor: '#fff' },\n            Fluent2: { primaryColor: '#0f6cbd', secondaryColor: '#fff' },\n            Fluent2Dark: { primaryColor: '#115ea3', secondaryColor: '#fff' },\n            Fluent2Highcontrast: { primaryColor: '#1aebff', secondaryColor: '#fff' },\n            'Bootstrap5.3': { primaryColor: '#0d6efd', secondaryColor: '#fff' },\n            'Bootstrap5.3Dark': { primaryColor: '#0d6efd', secondaryColor: '#fff' },\n            Tailwind3: { primaryColor: '#4f46e5', secondaryColor: '#ffffff' },\n            Tailwind3Dark: { primaryColor: '#6366f1', secondaryColor: '#ffffff03' }\n        };\n    };\n    /**\n     * Draw a redaction on an image.\n     *\n     * @param {RedactType} type  Optional. Specifies the type of redaction to be drawn on the image such as blur or pixelate. If not specified, the redaction drawing is initiated with the default blur value.\n     * @param {number} x  Optional. Specifies x-coordinate of redaction. If not specified, the redaction drawing is initiated with the first parameter.\n     * @param {number} y  Optional. Specifies y-coordinate of redaction. If not specified it draws redaction from the center point of the image.\n     * @param {number} width  Optional. Specifies the width of the redaction. The default value is 100.\n     * @param {number} height  Optional. Specifies the height of the redaction. The default value is 50.\n     * @param {number} value  Optional. Specifies the blur value for blur-type redaction or the pixel size for pixelate-type redaction. Defaults to 20 since the default redaction is blur.\n     * @returns {boolean}.\n     */\n    ImageEditor.prototype.drawRedact = function (type, x, y, width, height, value) {\n        var isRedact = false;\n        var isPointsInRange = this.allowShape(x, y);\n        if (!this.disabled && this.isImageLoaded && (isPointsInRange || (isNullOrUndefined(x) && isNullOrUndefined(y)))) {\n            isRedact = true;\n            this.manageActiveAction();\n            this.notify('shape', {\n                prop: 'drawRedact', onPropertyChange: false, value: {\n                    x: x, y: y, width: width, height: height, type: type, value: value\n                }\n            });\n            this.notify('draw', { prop: 'redrawDownScale' });\n        }\n        return isRedact;\n    };\n    var ImageEditor_1;\n    __decorate([\n        Property('')\n    ], ImageEditor.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ImageEditor.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('100%')\n    ], ImageEditor.prototype, \"height\", void 0);\n    __decorate([\n        Property('Bootstrap5')\n    ], ImageEditor.prototype, \"theme\", void 0);\n    __decorate([\n        Property()\n    ], ImageEditor.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property()\n    ], ImageEditor.prototype, \"toolbarTemplate\", void 0);\n    __decorate([\n        Property('100%')\n    ], ImageEditor.prototype, \"width\", void 0);\n    __decorate([\n        Property(true)\n    ], ImageEditor.prototype, \"allowUndoRedo\", void 0);\n    __decorate([\n        Property(true)\n    ], ImageEditor.prototype, \"showQuickAccessToolbar\", void 0);\n    __decorate([\n        Property()\n    ], ImageEditor.prototype, \"quickAccessToolbarTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], ImageEditor.prototype, \"isReadOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], ImageEditor.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], ImageEditor.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Complex({}, FinetuneSettings)\n    ], ImageEditor.prototype, \"finetuneSettings\", void 0);\n    __decorate([\n        Complex({}, ZoomSettings)\n    ], ImageEditor.prototype, \"zoomSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], ImageEditor.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Complex({}, FontFamily)\n    ], ImageEditor.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Complex({}, UploadSettings)\n    ], ImageEditor.prototype, \"uploadSettings\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"beforeSave\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"zooming\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"panning\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"cropping\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"rotating\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"flipping\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"shapeChanging\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"selectionChanging\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"fileOpened\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"saved\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"toolbarCreated\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"toolbarUpdating\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"toolbarItemClicked\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"imageFiltering\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"finetuneValueChanging\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"shapeChange\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"quickAccessToolbarOpen\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"quickAccessToolbarItemClick\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"frameChange\", void 0);\n    __decorate([\n        Event()\n    ], ImageEditor.prototype, \"editComplete\", void 0);\n    ImageEditor = ImageEditor_1 = __decorate([\n        NotifyPropertyChanges\n    ], ImageEditor);\n    return ImageEditor;\n}(Component));\nexport { ImageEditor };\n","/**\n * An enum representing the file types supported by the image editor.\n *\n * @enum {string}\n */\nexport var FileType;\n(function (FileType) {\n    /** The PNG file type. */\n    FileType[\"Png\"] = \"Png\";\n    /** The JPEG file type. */\n    FileType[\"Jpeg\"] = \"Jpeg\";\n    /** The SVG file type. */\n    FileType[\"Svg\"] = \"Svg\";\n    /** The WebP file type. */\n    FileType[\"WebP\"] = \"WebP\";\n})(FileType || (FileType = {}));\n/**\n * An enumeration representing the direction of an image editor operation.\n *\n * @enum {string}\n */\nexport var Direction;\n(function (Direction) {\n    /** The horizontal direction. */\n    Direction[\"Horizontal\"] = \"Horizontal\";\n    /** The vertical direction. */\n    Direction[\"Vertical\"] = \"Vertical\";\n})(Direction || (Direction = {}));\n/**\n * An enumeration representing the type of shape to be added in the image editor.\n *\n * @enum {string}\n */\nexport var ShapeType;\n(function (ShapeType) {\n    /** A rectangle shape. */\n    ShapeType[\"Rectangle\"] = \"Rectangle\";\n    /** An ellipse shape. */\n    ShapeType[\"Ellipse\"] = \"Ellipse\";\n    /** A line shape. */\n    ShapeType[\"Line\"] = \"Line\";\n    /** An arrow shape. */\n    ShapeType[\"Arrow\"] = \"Arrow\";\n    /** A path shape. */\n    ShapeType[\"Path\"] = \"Path\";\n    /** A text shape. */\n    ShapeType[\"Text\"] = \"Text\";\n    /** A freehand drawing shape. */\n    ShapeType[\"FreehandDraw\"] = \"FreehandDraw\";\n    /** An Image shape. */\n    ShapeType[\"Image\"] = \"Image\";\n})(ShapeType || (ShapeType = {}));\n/**\n * An enumeration representing the different ways to trigger zooming in the image editor.\n *\n * @aspNumberEnum\n */\nexport var ZoomTrigger;\n(function (ZoomTrigger) {\n    /** Zooming triggered by mouse wheel. */\n    ZoomTrigger[ZoomTrigger[\"MouseWheel\"] = 1] = \"MouseWheel\";\n    /** Zooming triggered by pinch gesture. */\n    ZoomTrigger[ZoomTrigger[\"Pinch\"] = 2] = \"Pinch\";\n    /** Zooming triggered by command keys. */\n    ZoomTrigger[ZoomTrigger[\"Commands\"] = 4] = \"Commands\";\n    /** Zooming triggered by toolbar button click. */\n    ZoomTrigger[ZoomTrigger[\"Toolbar\"] = 8] = \"Toolbar\";\n})(ZoomTrigger || (ZoomTrigger = {}));\n/**\n * * An enum representing the available themes in the image editor.\n */\nexport var Theme;\n(function (Theme) {\n    /** The Bootstrap 5 theme. */\n    Theme[\"Bootstrap5\"] = \"Bootstrap5\";\n    /** The dark variant of the Bootstrap 5 theme. */\n    Theme[\"Bootstrap5Dark\"] = \"Bootstrap5Dark\";\n    /** The Tailwind CSS theme. */\n    Theme[\"Tailwind\"] = \"Tailwind\";\n    /** The dark variant of the Tailwind CSS theme. */\n    Theme[\"TailwindDark\"] = \"TailwindDark\";\n    /** The Fluent UI theme. */\n    Theme[\"Fluent\"] = \"Fluent\";\n    /** The dark variant of the Fluent UI theme. */\n    Theme[\"FluentDark\"] = \"FluentDark\";\n    /** The Bootstrap 4 theme. */\n    Theme[\"Bootstrap4\"] = \"Bootstrap4\";\n    /** The Bootstrap theme. */\n    Theme[\"Bootstrap\"] = \"Bootstrap\";\n    /** The dark variant of the Bootstrap theme. */\n    Theme[\"BootstrapDark\"] = \"BootstrapDark\";\n    /** The Material Design theme. */\n    Theme[\"Material\"] = \"Material\";\n    /** The dark variant of the Material Design theme. */\n    Theme[\"MaterialDark\"] = \"MaterialDark\";\n    /** The Fabric theme. */\n    Theme[\"Fabric\"] = \"Fabric\";\n    /** The dark variant of the Fabric theme. */\n    Theme[\"FabricDark\"] = \"FabricDark\";\n    /** The high contrast theme. */\n    Theme[\"Highcontrast\"] = \"Highcontrast\";\n    /** The Fluent 2.0 UI theme. */\n    Theme[\"Fluent2\"] = \"Fluent2\";\n    /** The dark variant of the Fluent 2.0 UI theme. */\n    Theme[\"Fluent2Dark\"] = \"Fluent2Dark\";\n    /** The Tailwind 3 UI theme. */\n    Theme[\"Tailwind3\"] = \"Tailwind3\";\n    /** The dark variant of the Tailwind 3 UI theme. */\n    Theme[\"Tailwind3Dark\"] = \"Tailwind3Dark\";\n})(Theme || (Theme = {}));\n/**\n * An enum representing the available toolbar commands in the image editor.\n */\nexport var ImageEditorCommand;\n(function (ImageEditorCommand) {\n    ImageEditorCommand[\"Crop\"] = \"Crop\";\n    ImageEditorCommand[\"Transform\"] = \"Transform\";\n    ImageEditorCommand[\"Annotate\"] = \"Annotate\";\n    ImageEditorCommand[\"ZoomIn\"] = \"ZoomIn\";\n    ImageEditorCommand[\"ZoomOut\"] = \"ZoomOut\";\n    ImageEditorCommand[\"Open\"] = \"Open\";\n    ImageEditorCommand[\"Reset\"] = \"Reset\";\n    ImageEditorCommand[\"Save\"] = \"Save\";\n    ImageEditorCommand[\"Pan\"] = \"Pan\";\n    ImageEditorCommand[\"Move\"] = \"Move\";\n    ImageEditorCommand[\"Pen\"] = \"Pen\";\n    ImageEditorCommand[\"Line\"] = \"Line\";\n    ImageEditorCommand[\"Arrow\"] = \"Arrow\";\n    ImageEditorCommand[\"Path\"] = \"Path\";\n    ImageEditorCommand[\"Rectangle\"] = \"Rectangle\";\n    ImageEditorCommand[\"Image\"] = \"Image\";\n    ImageEditorCommand[\"Ellipse\"] = \"Ellipse\";\n    ImageEditorCommand[\"Text\"] = \"Text\";\n    ImageEditorCommand[\"CustomSelection\"] = \"CustomSelection\";\n    ImageEditorCommand[\"CircleSelection\"] = \"CircleSelection\";\n    ImageEditorCommand[\"SquareSelection\"] = \"SquareSelection\";\n    ImageEditorCommand[\"RatioSelection\"] = \"RatioSelection\";\n    ImageEditorCommand[\"RotateLeft\"] = \"RotateLeft\";\n    ImageEditorCommand[\"RotateRight\"] = \"RotateRight\";\n    ImageEditorCommand[\"FlipHorizontal\"] = \"FlipHorizontal\";\n    ImageEditorCommand[\"FlipVertical\"] = \"FlipVertical\";\n    ImageEditorCommand[\"Undo\"] = \"Undo\";\n    ImageEditorCommand[\"Redo\"] = \"Redo\";\n    ImageEditorCommand[\"None\"] = \"None\";\n    ImageEditorCommand[\"Mat\"] = \"Mat\";\n    ImageEditorCommand[\"Bevel\"] = \"Bevel\";\n    ImageEditorCommand[\"Inset\"] = \"Inset\";\n    ImageEditorCommand[\"Hook\"] = \"Hook\";\n    ImageEditorCommand[\"Finetune\"] = \"Finetune\";\n    ImageEditorCommand[\"Filter\"] = \"Filter\";\n    ImageEditorCommand[\"Frame\"] = \"Frame\";\n    ImageEditorCommand[\"Resize\"] = \"Resize\";\n    ImageEditorCommand[\"HorizontalFlip\"] = \"HorizontalFlip\";\n    ImageEditorCommand[\"VerticalFlip\"] = \"VerticalFlip\";\n    ImageEditorCommand[\"Brightness\"] = \"Brightness\";\n    ImageEditorCommand[\"Contrast\"] = \"Contrast\";\n    ImageEditorCommand[\"Hue\"] = \"Hue\";\n    ImageEditorCommand[\"Saturation\"] = \"Saturation\";\n    ImageEditorCommand[\"Opacity\"] = \"Opacity\";\n    ImageEditorCommand[\"Blur\"] = \"Blur\";\n    ImageEditorCommand[\"Exposure\"] = \"Exposure\";\n    ImageEditorCommand[\"Default\"] = \"Default\";\n    ImageEditorCommand[\"Chrome\"] = \"Chrome\";\n    ImageEditorCommand[\"Cold\"] = \"Cold\";\n    ImageEditorCommand[\"Warm\"] = \"Warm\";\n    ImageEditorCommand[\"Grayscale\"] = \"Grayscale\";\n    ImageEditorCommand[\"Sepia\"] = \"Sepia\";\n    ImageEditorCommand[\"Invert\"] = \"Invert\";\n    ImageEditorCommand[\"Straightening\"] = \"Straightening\";\n})(ImageEditorCommand || (ImageEditorCommand = {}));\n/**\n * An enumeration of available image filter options.\n *\n * @remarks\n * These options can be used with the `applyImageFilter` method of the image editor control to apply filters to an image.\n */\nexport var ImageFilterOption;\n(function (ImageFilterOption) {\n    /** Default filter */\n    ImageFilterOption[\"Default\"] = \"Default\";\n    /** Chrome filter */\n    ImageFilterOption[\"Chrome\"] = \"Chrome\";\n    /** Cold filter */\n    ImageFilterOption[\"Cold\"] = \"Cold\";\n    /** Warm filter */\n    ImageFilterOption[\"Warm\"] = \"Warm\";\n    /** Grayscale filter */\n    ImageFilterOption[\"Grayscale\"] = \"Grayscale\";\n    /** Sepia filter */\n    ImageFilterOption[\"Sepia\"] = \"Sepia\";\n    /** Invert filter */\n    ImageFilterOption[\"Invert\"] = \"Invert\";\n})(ImageFilterOption || (ImageFilterOption = {}));\n/**\n * An enumeration of available image finetune options.\n *\n * @remarks\n * These options can be used with the `finetuneImage` method of the image editor control to apply finetuning to an image.\n */\nexport var ImageFinetuneOption;\n(function (ImageFinetuneOption) {\n    /** Adjust the brightness of the image */\n    ImageFinetuneOption[\"Brightness\"] = \"Brightness\";\n    /** Adjust the contrast of the image */\n    ImageFinetuneOption[\"Contrast\"] = \"Contrast\";\n    /** Adjust the hue of the image */\n    ImageFinetuneOption[\"Hue\"] = \"Hue\";\n    /** Adjust the saturation of the image */\n    ImageFinetuneOption[\"Saturation\"] = \"Saturation\";\n    /** Adjust the exposure of the image */\n    ImageFinetuneOption[\"Exposure\"] = \"Exposure\";\n    /** Adjust the opacity of the image */\n    ImageFinetuneOption[\"Opacity\"] = \"Opacity\";\n    /** Adjust the blur of the image */\n    ImageFinetuneOption[\"Blur\"] = \"Blur\";\n})(ImageFinetuneOption || (ImageFinetuneOption = {}));\n/**\n * Specifies the type of arrowhead should be drawn.\n *\n */\nexport var ArrowheadType;\n(function (ArrowheadType) {\n    /** Indicates no arrowhead should be drawn. */\n    ArrowheadType[\"None\"] = \"None\";\n    /** Indicates a normal triangle-shaped arrowhead should be drawn. */\n    ArrowheadType[\"Arrow\"] = \"Arrow\";\n    /** Indicates a solid triangle-shaped arrowhead should be drawn. */\n    ArrowheadType[\"SolidArrow\"] = \"SolidArrow\";\n    /** Indicates a circular-shaped arrowhead should be drawn. */\n    ArrowheadType[\"Circle\"] = \"Circle\";\n    /** Indicates a solid circular-shaped arrowhead should be drawn. */\n    ArrowheadType[\"SolidCircle\"] = \"SolidCircle\";\n    /** Indicates a square-shaped arrowhead should be drawn. */\n    ArrowheadType[\"Square\"] = \"Square\";\n    /** Indicates a solid square-shaped arrowhead should be drawn. */\n    ArrowheadType[\"SolidSquare\"] = \"SolidSquare\";\n    /** Indicates a bar shaped arrowhead should be drawn. */\n    ArrowheadType[\"Bar\"] = \"Bar\";\n})(ArrowheadType || (ArrowheadType = {}));\n/**\n * An enumeration of available frame options.\n *\n * @remarks\n * These options can be used with the `drawFrame` method of the image editor control to draw frames on an image.\n */\nexport var FrameType;\n(function (FrameType) {\n    /** Represents a no frame. */\n    FrameType[\"None\"] = \"None\";\n    /** Represents a mat frame. */\n    FrameType[\"Mat\"] = \"Mat\";\n    /** Represents a bevel frame. */\n    FrameType[\"Bevel\"] = \"Bevel\";\n    /** Represents a line frame. */\n    FrameType[\"Line\"] = \"Line\";\n    /** Represents an inset frame. */\n    FrameType[\"Inset\"] = \"Inset\";\n    /** Represents a hook frame. */\n    FrameType[\"Hook\"] = \"Hook\";\n})(FrameType || (FrameType = {}));\n/**\n * An enumeration of available line options.\n *\n * @remarks\n * These options can be used with the `drawFrame` method of the image editor control to draw frames on an image.\n */\nexport var FrameLineStyle;\n(function (FrameLineStyle) {\n    /** Represents a solid line. */\n    FrameLineStyle[\"Solid\"] = \"Solid\";\n    /** Represents a dashed line. */\n    FrameLineStyle[\"Dashed\"] = \"Dashed\";\n    /** Represents a dotted line. */\n    FrameLineStyle[\"Dotted\"] = \"Dotted\";\n})(FrameLineStyle || (FrameLineStyle = {}));\n/**\n * An enumeration representing the type of redaction to be added in the image editor.\n *\n * @enum {string}\n */\nexport var RedactType;\n(function (RedactType) {\n    /** Represents a blur redaction. */\n    RedactType[\"Blur\"] = \"Blur\";\n    /** Represents a pixelate redaction. */\n    RedactType[\"Pixelate\"] = \"Pixelate\";\n})(RedactType || (RedactType = {}));\n","import { extend, Browser, detach, select } from '@syncfusion/ej2-base';\nimport { EventHandler, getComponent, isNullOrUndefined, L10n } from '@syncfusion/ej2-base';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { Toolbar } from '@syncfusion/ej2-navigations';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { ColorPicker, Uploader, Slider, TextBox } from '@syncfusion/ej2-inputs';\nimport { ZoomTrigger, ShapeType } from '../index';\nimport { Dialog, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { addClass, removeClass } from '@syncfusion/ej2-base';\nvar ToolbarModule = /** @class */ (function () {\n    function ToolbarModule(parent) {\n        this.defToolbarItems = [];\n        this.toolbarHeight = 46;\n        this.currToolbar = '';\n        this.preventZoomBtn = false;\n        this.currentToolbar = 'main';\n        this.selFhdColor = '#42a5f5';\n        this.preventEnableDisableUr = false;\n        this.isAspectRatio = true;\n        this.isFrameToolbar = false;\n        this.presetColors = {\n            'custom': ['#000000', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3',\n                '#03a9f4', '#00bcd4', '#009688', '#ffeb3b', '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd',\n                '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7', '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb',\n                '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4', '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9',\n                '#81d4fa', '#80deea', '#80cbc4', '#fff59d', '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6',\n                '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176', '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5',\n                '#29b6f6', '#26c6da', '#26a69a', '#ffee58', '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5',\n                '#039be5', '#00acc1', '#00897b', '#fdd835', '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2',\n                '#0288d1', '#0097a7', '#00796b', '#fbc02d', '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0',\n                '#0277bd', '#00838f', '#00695c', '#f9a825', '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1',\n                '#01579b', '#006064', '#004d40', '#f57f17']\n        };\n        this.isSlider = false;\n        this.currentQuality = 1;\n        this.imageQuality = 'highest';\n        this.parent = parent;\n        this.addEventListener();\n        this.initLocale();\n    }\n    ToolbarModule.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n    };\n    ToolbarModule.prototype.addEventListener = function () {\n        this.parent.on('toolbar', this.toolbar, this);\n        this.parent.on('destroyed', this.destroy, this);\n    };\n    ToolbarModule.prototype.removeEventListener = function () {\n        this.parent.off('toolbar', this.toolbar);\n        this.parent.off('destroyed', this.destroy);\n    };\n    ToolbarModule.prototype.initLocale = function () {\n        this.defaultLocale = {\n            Crop: 'Crop',\n            ZoomIn: 'Zoom In',\n            ZoomOut: 'Zoom Out',\n            Undo: 'Undo',\n            Redo: 'Redo',\n            Transform: 'Transform',\n            Annotation: 'Annotation',\n            Finetune: 'Finetune',\n            Brightness: 'Brightness',\n            Contrast: 'Contrast',\n            Hue: 'Hue',\n            Saturation: 'Saturation',\n            Opacity: 'Opacity',\n            Blur: 'Blur',\n            Sharpen: 'Sharpen',\n            Exposure: 'Exposure',\n            Filter: 'Filter',\n            Default: 'Default',\n            Chrome: 'Chrome',\n            Cold: 'Cold',\n            Warm: 'Warm',\n            Grayscale: 'Grayscale',\n            BlackAndWhite: 'Black and White',\n            Sepia: 'Sepia',\n            Invert: 'Invert',\n            Text: 'Add Text',\n            Pen: 'Pen',\n            Reset: 'Reset',\n            Save: 'Save',\n            Select: 'Select',\n            RotateLeft: 'Rotate Left',\n            RotateRight: 'Rotate Right',\n            HorizontalFlip: 'Horizontal Flip',\n            VerticalFlip: 'Vertical Flip',\n            OK: 'Apply',\n            Cancel: 'Discard',\n            FillColor: 'Fill Color',\n            StrokeColor: 'Stroke Color',\n            StrokeWidth: 'Stroke Width',\n            FontFamily: 'Font Family',\n            FontStyle: 'Font Style',\n            FontSize: 'Font Size',\n            FontColor: 'Font Color',\n            Pan: 'Pan',\n            Move: 'Move',\n            Load: 'Load',\n            Custom: 'Custom',\n            Square: 'Square',\n            Circle: 'Circle',\n            Ellipse: 'Ellipse',\n            Rectangle: 'Rectangle',\n            Line: 'Line',\n            Arrow: 'Arrow',\n            Path: 'Path',\n            Bold: 'Bold',\n            Italic: 'Italic',\n            BoldItalic: 'Bold Italic',\n            XSmall: 'X-Small',\n            Small: 'Small',\n            Medium: 'Medium',\n            Large: 'Large',\n            XLarge: 'X-Large',\n            ABC: 'ABC',\n            Browse: 'Browse',\n            Duplicate: 'Duplicate',\n            Remove: 'Remove',\n            EditText: 'Edit Text',\n            Start: 'Start',\n            End: 'End',\n            Bar: 'Bar',\n            ArrowSolid: 'Arrow Solid',\n            CircleSolid: 'Circle Solid',\n            SquareSolid: 'Square Solid',\n            None: 'None',\n            CropAndTransform: 'Crop and Transform',\n            CropSelection: 'Crop Selection',\n            Image: 'Add Image',\n            Transparency: 'Transparency',\n            Height: 'Height',\n            Width: 'Width',\n            AspectRatio: 'Maintain aspect ratio',\n            W: 'W',\n            H: 'H',\n            DragText: 'Drag and drop your image here or',\n            DropText: 'Drop your image here or',\n            BrowseText: 'Browse here...',\n            SupportText: 'Supports:',\n            Frame: 'Frame',\n            Mat: 'Mat',\n            Bevel: 'Bevel',\n            Inset: 'Inset',\n            Hook: 'Hook',\n            Color: 'Color',\n            Size: 'Size',\n            Offset: 'Offset',\n            Radius: 'Radius',\n            Amount: 'Amount',\n            Resize: 'Resize',\n            0: '0%',\n            20: '20%',\n            40: '40%',\n            60: '60%',\n            80: '80%',\n            100: '100%',\n            1: '1',\n            2: '2',\n            3: '3',\n            4: '4',\n            5: '5',\n            Border: 'Border',\n            Solid: 'Solid',\n            Dashed: 'Dashed',\n            Dotted: 'Dotted',\n            GradientColor: 'Gradient Color',\n            ConfirmDialogHeader: 'Confirm Save Changes',\n            ConfirmDialogContent: 'Do you want to save the changes you made to the image?',\n            AlertDialogHeader: 'Unsupported file',\n            AlertDialogContent: 'The selected file is unsupported.',\n            MinMaxSize: 'with file size between',\n            MinMaxSizeAlert: 'File size between',\n            MinSize: 'with minimum file size of',\n            MinSizeAlert: 'A minimum file size of',\n            MaxSize: 'with maximum file size of',\n            MaxSizeAlert: 'A maximum file size of',\n            To: 'to',\n            Bytes: 'bytes',\n            Yes: 'Yes',\n            No: 'No',\n            ImageErrorDialogHeader: 'Image Selection Error',\n            ImageErrorDialogContent: 'Please select only one image to open.',\n            Straighten: 'Straighten',\n            NoOutline: 'No outline',\n            DlgOK: 'OK',\n            SaveAs: 'Save As',\n            ImageName: 'Image name',\n            Format: 'Format',\n            Quality: 'Quality',\n            Download: 'Download',\n            Close: 'Close',\n            ImageSize: 'Image Size',\n            QualityInfo: 'The image quality option is only available for JPEG format',\n            Good: 'Good',\n            Great: 'Great',\n            Highest: 'Highest',\n            BringForward: 'Bring Forward',\n            SendBackward: 'Send Backward',\n            SendToBack: 'Send to Back',\n            BringToFront: 'Bring to Front',\n            ZOrder: 'Z-Order',\n            Redact: 'Redact',\n            Pixelate: 'Pixelate',\n            BorderRadius: 'Border Radius',\n            TextOutlineColor: 'Outline Color',\n            TextOutlineWidth: 'Outline Width',\n            PixelSize: 'Pixel Size',\n            And: 'and'\n        };\n        this.l10n = new L10n('image-editor', this.defaultLocale, this.parent.locale);\n    };\n    ToolbarModule.prototype.toolbar = function (args) {\n        var parent = this.parent;\n        this.updatePrivateVariables();\n        switch (args.prop) {\n            case 'create-toolbar':\n                this.createToolbar();\n                break;\n            case 'create-contextual-toolbar':\n                this.createContextualToolbar();\n                break;\n            case 'update-toolbar-items':\n                this.updateToolbarItems();\n                break;\n            case 'refresh-toolbar':\n                this.refreshToolbar(args.value['type'], args.value['isApplyBtn'], args.value['isCropping'], args.value['isZooming'], args.value['cType']);\n                break;\n            case 'renderQAT':\n                this.renderQAT(args.value['isPenEdit']);\n                break;\n            case 'enable-disable-btns':\n                this.enableDisableTbrBtn();\n                break;\n            case 'init-main-toolbar':\n                this.initMainToolbar(args.value['isApplyBtn'], args.value['isDevice'], args.value['isOkBtn'], args.value['isResize'], args.value['isFrame'], args.value['isMainToolbar']);\n                break;\n            case 'create-bottom-toolbar':\n                this.createBottomToolbar();\n                break;\n            case 'refresh-main-toolbar':\n                this.refreshMainToolbar();\n                break;\n            case 'create-qa-toolbar':\n                this.createQuickAccessToolbar();\n                break;\n            case 'destroy-qa-toolbar':\n                this.destroyQuickAccessToolbar();\n                break;\n            case 'zoom-up-handler':\n                this.zoomBtnMouseUpHandler();\n                break;\n            case 'refresh-dropdown-btn':\n                this.refreshDropDownBtn(args.value['isDisabled']);\n                break;\n            case 'close-contextual-toolbar':\n                this.closeContextualToolbar();\n                break;\n            case 'destroy-bottom-toolbar':\n                this.destroyBottomToolbar();\n                break;\n            case 'destroy-top-toolbar':\n                this.destroyTopToolbar();\n                break;\n            case 'destroySubComponents':\n                this.destroySubComponents();\n                break;\n            case 'setLocale':\n                this.l10n.setLocale(args.value['locale']);\n                break;\n            case 'setPreventZoomBtn':\n                this.preventZoomBtn = args.value['isPrevent'];\n                break;\n            case 'getToolbarHeight':\n                args.value['obj']['toolbarHeight'] = this.toolbarHeight;\n                break;\n            case 'setToolbarHeight':\n                if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.length > 0 && parent.toolbar.indexOf('Open') > -1)) {\n                    this.toolbarHeight = args.value['height'];\n                }\n                break;\n            case 'setCurrentToolbar':\n                this.currentToolbar = args.value['type'];\n                break;\n            case 'setSelectedFreehandColor':\n                this.selFhdColor = args.value['color'];\n                break;\n            case 'setInitialAdjustmentValue':\n                parent.initialAdjustmentValue = args.value['value'];\n                break;\n            case 'getCanvasFilter':\n                args.value['obj']['canvasFilter'] = parent.canvasFilter;\n                break;\n            case 'getDefToolbarItems':\n                args.value['obj']['defToolbarItems'] = this.defToolbarItems;\n                break;\n            case 'getPenStroke':\n                this.getPenStroke(args.value['value']);\n                break;\n            case 'performDefToolbarClickAction':\n                this.performDefTbrClick(args.value['type'], args.value['isContextualToolbar'], args.value['isDisabledAdjustment'], args.value['isDisabledFilter'], args.value['isFilterFinetune']);\n                break;\n            case 'setTempFilterProperties':\n                parent.setTempFilterProperties();\n                break;\n            case 'refreshSlider':\n                this.refreshSlider();\n                break;\n            case 'getCurrAdjustmentValue':\n                parent.getCurrAdjustmentValue(args.value['type']);\n                break;\n            case 'setCurrAdjustmentValue':\n                parent.setCurrAdjustmentValue(args.value['type'], args.value['value']);\n                break;\n            case 'refreshShapeDrawing':\n                this.refreshShapeDrawing();\n                break;\n            case 'setEnableDisableUndoRedo':\n                this.preventEnableDisableUr = args.value['isPrevent'];\n                break;\n            case 'reset':\n                this.reset();\n                break;\n            case 'getLocaleText':\n                args.value['obj']['value'] = this.l10n.getConstant(args.value['obj']['key']);\n                break;\n            case 'initResizeToolbar':\n                this.initResizeToolbar();\n                break;\n            case 'getFrameToolbar':\n                args.value['obj']['bool'] = this.isFrameToolbar;\n                break;\n            case 'resizeClick':\n                this.resizeClick();\n                break;\n            case 'frameToolbarClick':\n                this.frameToolbarClick();\n                break;\n            case 'performCropTransformClick':\n                this.performCropTransformClick(args.value['shape'], args.value['isTransform']);\n                break;\n            case 'duplicateShape':\n                this.duplicateShape(args.value['isPreventUndoRedo'], true);\n                break;\n            case 'editText':\n                this.editText();\n                break;\n            case 'setInitialSize':\n                this.initialSize = Number(args.value['value']);\n                break;\n            case 'widthPress':\n                this.widthPress(args.value['e']);\n                break;\n            case 'heightPress':\n                this.heightPress(args.value['e']);\n                break;\n            case 'widthAspectRatio':\n                this.widthAspectRatio(args.value['e']);\n                break;\n            case 'heightAspectRatio':\n                this.heightAspectRatio(args.value['e']);\n                break;\n            case 'cancelPan':\n                this.cancelPan();\n                break;\n            case 'zoomInBtnMouseDownHandler':\n                this.zoomInBtnMouseDownHandler(args.value['event']);\n                break;\n            case 'zoomOutBtnMouseDownHandler':\n                this.zoomOutBtnMouseDownHandler(args.value['event']);\n                break;\n            case 'drawDashedLine':\n                this.drawDashedLine(args.value['context']);\n                break;\n            case 'saveDialogClosed':\n                this.saveDialogClosed(args.value['id']);\n                break;\n            case 'getIndex':\n                this.getIndex(args.value['item']);\n                break;\n            case 'getRectRadius':\n                this.getRectRadius(args.value['text']);\n                break;\n            case 'applyPreviewFilter':\n                this.applyPreviewFilter();\n                break;\n            case 'renderSlider':\n                this.renderSlider(args.value['type'], args.value['isSelect']);\n                break;\n            case 'zoomInBtnClickHandler':\n                this.zoomInBtnClickHandler(args.value['e']);\n                break;\n            case 'zoomOutBtnClickHandler':\n                this.zoomOutBtnClickHandler(args.value['e']);\n                break;\n            case 'getAdjustmentToolbarItem':\n                this.getAdjustmentToolbarItem();\n                break;\n            case 'getFilterToolbarItem':\n                this.getFilterToolbarItem();\n                break;\n            case 'renderCropBtn':\n                this.renderCropBtn();\n                break;\n        }\n    };\n    ToolbarModule.prototype.updatePrivateVariables = function () {\n        var parent = this.parent;\n        this.inMemoryCanvas = parent.inMemoryCanvas;\n        if (parent.lowerCanvas) {\n            this.lowerContext = parent.lowerCanvas.getContext('2d');\n        }\n        if (parent.upperCanvas) {\n            this.upperContext = parent.upperCanvas.getContext('2d');\n        }\n        if (this.inMemoryCanvas) {\n            this.inMemoryContext = this.inMemoryCanvas.getContext('2d');\n        }\n    };\n    ToolbarModule.prototype.reset = function () {\n        var parent = this.parent;\n        this.toolbarHeight = 46;\n        parent.prevCurrSelectionPoint = null;\n        this.zoomBtnHold = null;\n        this.currToolbar = '';\n        parent.cxtTbarHeight = null;\n        this.currentToolbar = 'main';\n        this.selFhdColor = '#42a5f5';\n        parent.currentFilter = '';\n        this.preventZoomBtn = parent.isCropToolbar = this.preventEnableDisableUr = this.isFrameToolbar = false;\n        parent.initialAdjustmentValue = parent.canvasFilter =\n            'brightness(' + 1 + ') ' + 'contrast(' + 100 + '%) ' + 'hue-rotate(' + 0 + 'deg) ' +\n                'saturate(' + 100 + '%) ' + 'opacity(' + 1 + ') ' + 'blur(' + 0 + 'px) ' + 'sepia(0%) ' + 'grayscale(0%) ' + 'invert(0%)';\n        parent.tempStraighten = 0;\n        parent.isStraightening = false;\n    };\n    ToolbarModule.prototype.destroyTopToolbar = function () {\n        var parent = this.parent;\n        var toolbar = document.getElementById(parent.element.id + '_toolbar');\n        if (this.isToolbar() && toolbar && toolbar.classList.contains('e-control')) {\n            getComponent(toolbar, 'toolbar').destroy();\n        }\n    };\n    ToolbarModule.prototype.destroyBottomToolbar = function () {\n        var parent = this.parent;\n        var toolbar = document.getElementById(parent.element.id + '_bottomToolbar');\n        if (toolbar && toolbar.classList.contains('e-control')) {\n            getComponent(toolbar, 'toolbar').destroy();\n        }\n    };\n    ToolbarModule.prototype.isToolbar = function () {\n        var parent = this.parent;\n        return (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.length > 0)\n            || !isNullOrUndefined(parent.toolbarTemplate));\n    };\n    ToolbarModule.prototype.createToolbar = function () {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.length > 0)) {\n            parent.element.appendChild(parent.createElement('div', {\n                id: id + '_toolbarArea', className: 'e-toolbar-area'\n            }));\n            var toolbarItems = { cssClass: 'e-image-upload', align: 'Left', type: 'Input',\n                tooltipText: this.l10n.getConstant('Browse'), template: new Uploader({ allowedExtensions: parent.uploadSettings.allowedExtensions, multiple: false }) };\n            if (isNullOrUndefined(this.defToolbarItems)) {\n                this.defToolbarItems = [];\n            }\n            this.defToolbarItems.push(toolbarItems);\n            var toolbarArea = document.getElementById(id + '_toolbarArea');\n            var toolbar_1 = parent.createElement('div', { id: id + '_toolbar' });\n            toolbarArea.appendChild(toolbar_1);\n            var uploadItems = [\n                {\n                    cssClass: 'e-image-upload',\n                    align: 'Left', type: 'Input',\n                    tooltipText: this.l10n.getConstant('Browse'),\n                    template: new Uploader({\n                        allowedExtensions: parent.uploadSettings.allowedExtensions,\n                        multiple: false,\n                        selected: function () {\n                            var toolbar = document.getElementById(id + '_toolbar');\n                            var bToolbar = document.getElementById(id + '_bottomToolbar');\n                            if (!parent.disabled) {\n                                if (Browser.isDevice) {\n                                    if (_this.defToolbarItems.length > 0 && toolbar) {\n                                        getComponent(toolbar, 'toolbar').destroy();\n                                    }\n                                    if (bToolbar) {\n                                        getComponent(bToolbar, 'toolbar').destroy();\n                                    }\n                                    _this.initMainToolbar(false, Browser.isDevice, null);\n                                    _this.createBottomToolbar();\n                                }\n                                else {\n                                    if (_this.defToolbarItems.length > 0 && toolbar) {\n                                        getComponent(toolbar, 'toolbar').destroy();\n                                    }\n                                    _this.initMainToolbar(false, false, null);\n                                }\n                            }\n                        }\n                    })\n                }\n            ];\n            var toolbarObj = new Toolbar({ items: uploadItems, width: '100%',\n                created: function () {\n                    parent.trigger('toolbarCreated', { toolbarType: 'main' });\n                },\n                clicked: this.defToolbarClicked.bind(this) });\n            toolbarObj.appendTo('#' + id + '_toolbar');\n            this.createLeftToolbarControls();\n            var mToolbar = document.getElementById(id + '_toolbar');\n            if (toolbar_1) {\n                this.toolbarHeight = mToolbar.clientHeight;\n                if (parent.toolbar && parent.toolbar.length > 0 && parent.toolbar.indexOf('Open') === -1) {\n                    var toolabr = getComponent(document.getElementById(parent.element.id + '_toolbar'), 'toolbar');\n                    if (toolabr) {\n                        toolabr.destroy();\n                        document.getElementById(parent.element.id + '_toolbar').innerHTML = '';\n                    }\n                }\n            }\n        }\n        else {\n            this.toolbarHeight = 0;\n        }\n    };\n    ToolbarModule.prototype.createContextualToolbar = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.length > 0)) {\n            var contextualToolbarArea = parent.createElement('div', { id: id + '_contextualToolbarArea', className: 'e-contextual-toolbar-wrapper e-hide' });\n            contextualToolbarArea.style.position = 'absolute';\n            parent.element.appendChild(contextualToolbarArea);\n            var toolbarArea = document.getElementById(id + '_contextualToolbarArea');\n            var toolbar_2 = parent.createElement('div', { id: id + '_contextualToolbar' });\n            toolbarArea.appendChild(toolbar_2);\n        }\n    };\n    ToolbarModule.prototype.createBottomToolbar = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (parent.element.querySelector('#' + id + '_bottomToolbarArea')) {\n            parent.element.querySelector('#' + id + '_bottomToolbarArea').remove();\n        }\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.length > 0)) {\n            parent.element.appendChild(parent.createElement('div', {\n                id: id + '_bottomToolbarArea', className: 'e-bottom-toolbar'\n            }));\n            if (!parent.toolbarTemplate) {\n                var toolbarArea = document.getElementById(id + '_bottomToolbarArea');\n                var toolbarElem = parent.createElement('div', {\n                    id: id + '_bottomToolbar'\n                });\n                toolbarArea.appendChild(toolbarElem);\n            }\n            this.initBottomToolbar();\n        }\n    };\n    ToolbarModule.prototype.createQuickAccessToolbar = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (parent.showQuickAccessToolbar) {\n            var toolbarItems = { cssClass: 'e-image-upload', align: 'Left', type: 'Input',\n                tooltipText: this.l10n.getConstant('Browse'), template: new Uploader({ allowedExtensions: parent.uploadSettings.allowedExtensions, multiple: false }) };\n            if (isNullOrUndefined(this.defToolbarItems)) {\n                this.defToolbarItems = [];\n            }\n            this.defToolbarItems.push(toolbarItems);\n            var toolbarArea = document.getElementById(id + '_quickAccessToolbarArea');\n            var toolbar_3 = parent.createElement('div', {\n                id: id + '_quickAccessToolbar'\n            });\n            toolbarArea.appendChild(toolbar_3);\n            var toolbarObj = new Toolbar({ clicked: this.defToolbarClicked.bind(this) });\n            toolbarObj.appendTo('#' + id + '_quickAccessToolbar');\n        }\n    };\n    ToolbarModule.prototype.initMainToolbar = function (isApplyOption, isDevice, isOkBtn, isResize, isFrame, isMainToolbar, isRedact) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (this.isToolbar()) {\n            var leftItem = this.getLeftToolbarItem(isOkBtn, isResize);\n            var rightItem = this.getRightToolbarItem(isOkBtn, isMainToolbar, isRedact);\n            var mainItem = this.getMainToolbarItem(isApplyOption, isFrame, isRedact);\n            var zoomItem = this.getZoomToolbarItem();\n            if (isDevice) {\n                if (isFrame || isRedact) {\n                    this.defToolbarItems = mainItem;\n                }\n                else {\n                    this.defToolbarItems = leftItem.concat(rightItem);\n                }\n            }\n            else {\n                this.defToolbarItems = leftItem.concat(mainItem, rightItem, zoomItem);\n            }\n            var args = { toolbarType: 'main', toolbarItems: this.defToolbarItems };\n            parent.trigger('toolbarUpdating', args);\n            this.defToolbarItems = args.toolbarItems;\n            if (this.defToolbarItems.length > 0) {\n                var toolbarObj = new Toolbar({\n                    width: '100%',\n                    items: this.defToolbarItems,\n                    clicked: this.defToolbarClicked.bind(this),\n                    created: function () {\n                        if (!isDevice) {\n                            _this.renderAnnotationBtn();\n                        }\n                        _this.wireZoomBtnEvents();\n                        parent.trigger('toolbarCreated', { toolbarType: 'main' });\n                    }\n                });\n                if ((isDevice && isFrame) || (isDevice && isRedact)) {\n                    toolbarObj.appendTo('#' + id + '_bottomToolbar');\n                }\n                else {\n                    toolbarObj.appendTo('#' + id + '_toolbar');\n                }\n                this.createLeftToolbarControls();\n                this.enableDisableTbrBtn();\n                if (this.isToolbar() && document.getElementById(id + '_toolbar')) {\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                    var toolbar_4 = getComponent(id + '_toolbar', 'toolbar');\n                    toolbar_4.refreshOverflow();\n                }\n            }\n        }\n    };\n    ToolbarModule.prototype.initBottomToolbar = function () {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.length > 0)) {\n            var items = this.getMainToolbarItem();\n            var args = { toolbarType: 'bottom-toolbar', toolbarItems: items };\n            parent.trigger('toolbarUpdating', args);\n            items = args.toolbarItems;\n            var toolbarObj = new Toolbar({ items: items, width: '100%',\n                created: function () {\n                    _this.renderAnnotationBtn();\n                    _this.renderCropBtn();\n                    _this.renderTransformBtn();\n                    parent.trigger('toolbarCreated', { toolbarType: 'main' });\n                },\n                clicked: this.defToolbarClicked.bind(this)\n            });\n            toolbarObj.appendTo('#' + id + '_bottomToolbar');\n            if (this.defToolbarItems.length > 0 && document.getElementById(id + '_bottomToolbar')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var toolbar_5 = getComponent(id + '_bottomToolbar', 'toolbar');\n                toolbar_5.refreshOverflow();\n            }\n        }\n    };\n    ToolbarModule.prototype.getLeftToolbarItem = function (isOkBtn, isResize) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var toolbarItems = [];\n        if (!isOkBtn || isResize) {\n            if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Open') > -1)) {\n                toolbarItems.push({ id: id + '_upload', cssClass: 'e-image-upload', align: 'Left', type: 'Input', template: new Uploader({ allowedExtensions: parent.uploadSettings.allowedExtensions, multiple: false }) });\n                toolbarItems.push({ visible: false, cssClass: 'e-image-position e-btn e-flat', tooltipText: this.l10n.getConstant('Browse'), align: 'Left' });\n            }\n            else if (Browser.isDevice && (parent.toolbar && parent.toolbar.indexOf('Open') === -1)) {\n                toolbarItems.push({ visible: false, id: id + '_upload', cssClass: 'e-image-upload', align: 'Left', type: 'Input', template: new Uploader({ allowedExtensions: parent.uploadSettings.allowedExtensions, multiple: false }) });\n                toolbarItems.push({ visible: false, cssClass: 'e-image-position e-btn e-flat', tooltipText: this.l10n.getConstant('Browse'), align: 'Left' });\n            }\n        }\n        if (parent.allowUndoRedo && !isResize) {\n            if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Undo') > -1)) {\n                toolbarItems.push({ id: id + '_undo', prefixIcon: 'e-icons e-undo', cssClass: 'top-icon e-undo',\n                    tooltipText: this.l10n.getConstant('Undo'), align: 'Left' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Redo') > -1)) {\n                toolbarItems.push({ id: id + '_redo', prefixIcon: 'e-icons e-redo', cssClass: 'top-icon e-redo',\n                    tooltipText: this.l10n.getConstant('Redo'), align: 'Left' });\n            }\n        }\n        if (!this.preventZoomBtn && (parent.zoomSettings.zoomTrigger & ZoomTrigger.Toolbar) === ZoomTrigger.Toolbar && !isResize) {\n            if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('ZoomOut') > -1)) {\n                toolbarItems.push({ id: id + '_zoomOut', prefixIcon: 'e-icons e-zoom-out', cssClass: 'top-icon e-dec-zoom',\n                    tooltipText: this.l10n.getConstant('ZoomOut'), align: 'Left' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('ZoomIn') > -1)) {\n                toolbarItems.push({ id: id + '_zoomIn', prefixIcon: 'e-icons e-zoom-in', cssClass: 'top-icon e-inc-zoom',\n                    tooltipText: this.l10n.getConstant('ZoomIn'), align: 'Left' });\n            }\n        }\n        var tempToolbarItems = this.processToolbar('left');\n        for (var i = 0, len = tempToolbarItems.length; i < len; i++) {\n            toolbarItems.push(tempToolbarItems[i]);\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.getRightToolbarItem = function (isOkBtn, isMainToolbar, isRedact) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var toolbarItems = [];\n        if (isOkBtn || isRedact) {\n            toolbarItems.push({ id: id + '_ok', prefixIcon: 'e-icons e-check', cssClass: 'top-icon e-tick',\n                tooltipText: this.l10n.getConstant('OK'), align: 'Right', tabIndex: 0 });\n            toolbarItems.push({ id: id + '_cancel', prefixIcon: 'e-icons e-close', cssClass: 'top-icon e-save',\n                tooltipText: this.l10n.getConstant('Cancel'), align: 'Right' });\n        }\n        if ((isMainToolbar || !Browser.isDevice) && (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Reset') > -1))) {\n            toolbarItems.push({ id: id + '_reset', prefixIcon: 'e-icons e-btn-reset', cssClass: 'top-icon e-img-reset',\n                tooltipText: this.l10n.getConstant('Reset'), align: 'Right' });\n        }\n        if (!isOkBtn) {\n            if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Save') > -1)) {\n                toolbarItems.push({ id: id + '_save', prefixIcon: 'e-icons e-btn-save', cssClass: 'e-caret-hide top-icon e-save',\n                    tooltipText: this.l10n.getConstant('Save'), align: 'Right' });\n            }\n        }\n        var tempToolbarItems = this.processToolbar('right');\n        for (var i = 0, len = tempToolbarItems.length; i < len; i++) {\n            toolbarItems.push(tempToolbarItems[i]);\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.getMainToolbarItem = function (isApplyOption, isFrame, isRedact) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var toolbarItems = [];\n        if (isFrame) {\n            if (isNullOrUndefined(parent.toolbar) || (!isNullOrUndefined(parent.toolbar) && parent.toolbar.indexOf('None') > -1) || parent.toolbar.indexOf('Frame') > -1) {\n                toolbarItems.push({ id: id + '_none', prefixIcon: 'e-icons e-frame-none', cssClass: 'top-icon e-frame-none',\n                    tooltipText: this.l10n.getConstant('None'), align: 'Center' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (!isNullOrUndefined(parent.toolbar) && parent.toolbar.indexOf('Mat') > -1) || parent.toolbar.indexOf('Frame') > -1) {\n                toolbarItems.push({ id: id + '_mat', prefixIcon: 'e-icons e-frame-mat', cssClass: 'top-icon e-frame-mat',\n                    tooltipText: this.l10n.getConstant('Mat'), align: 'Center' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (!isNullOrUndefined(parent.toolbar) && parent.toolbar.indexOf('Bevel') > -1) || parent.toolbar.indexOf('Frame') > -1) {\n                toolbarItems.push({ id: id + '_bevel', prefixIcon: 'e-icons e-frame-bevel', cssClass: 'top-icon e-frame-bevel',\n                    tooltipText: this.l10n.getConstant('Bevel'), align: 'Center' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (!isNullOrUndefined(parent.toolbar) && parent.toolbar.indexOf('Line') > -1) || parent.toolbar.indexOf('Frame') > -1) {\n                toolbarItems.push({ id: id + '_line', prefixIcon: 'e-icons e-frame-line', cssClass: 'top-icon e-frame-line',\n                    tooltipText: this.l10n.getConstant('Line'), align: 'Center' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (!isNullOrUndefined(parent.toolbar) && parent.toolbar.indexOf('Inset') > -1) || parent.toolbar.indexOf('Frame') > -1) {\n                toolbarItems.push({ id: id + '_inset', prefixIcon: 'e-icons e-frame-inset', cssClass: 'top-icon e-frame-inset',\n                    tooltipText: this.l10n.getConstant('Inset'), align: 'Center' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (!isNullOrUndefined(parent.toolbar) && parent.toolbar.indexOf('Hook') > -1) || parent.toolbar.indexOf('Frame') > -1) {\n                toolbarItems.push({ id: id + '_hook', prefixIcon: 'e-icons e-frame-hook', cssClass: 'top-icon e-frame-hook',\n                    tooltipText: this.l10n.getConstant('Hook'), align: 'Center' });\n            }\n        }\n        else if (isRedact) {\n            toolbarItems.push({ id: id + '_redactBlur', prefixIcon: 'e-icons e-tint', cssClass: 'top-icon e-opacity',\n                tooltipText: this.l10n.getConstant('Blur'), align: 'Center' });\n            toolbarItems.push({ id: id + '_pixelate', prefixIcon: 'e-icons e-opacity', cssClass: 'top-icon e-opacity',\n                tooltipText: this.l10n.getConstant('Pixelate'), align: 'Center' });\n            toolbarItems.push({ id: id + '_duplicate', prefixIcon: 'e-icons e-order', cssClass: 'top-icon e-order',\n                tooltipText: this.l10n.getConstant('Duplicate'), align: 'Center' });\n            toolbarItems.push({ id: id + '_remove', prefixIcon: 'e-icons e-trash', cssClass: 'top-icon e-trash',\n                tooltipText: this.l10n.getConstant('Remove'), align: 'Center' });\n        }\n        else {\n            if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Crop') > -1)) {\n                toolbarItems.push({ id: id + '_cropTransform', prefixIcon: 'e-icons e-crop', cssClass: 'top-icon e-crop',\n                    tooltipText: this.l10n.getConstant('CropAndTransform'), align: 'Center' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Annotate') > -1)) {\n                toolbarItems.push({ id: id + '_annotation', tooltipText: this.l10n.getConstant('Annotation'), align: 'Center',\n                    template: '<button id=\"' + id + '_annotationBtn\"></button>' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Finetune') > -1)) {\n                toolbarItems.push({ id: id + '_adjustment', prefixIcon: 'e-icons e-adjustment', cssClass: 'top-icon e-adjustment',\n                    tooltipText: this.l10n.getConstant('Finetune'), align: 'Center' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Filter') > -1)) {\n                toolbarItems.push({ id: id + '_filter', prefixIcon: 'e-icons e-filters', cssClass: 'top-icon e-filters',\n                    tooltipText: this.l10n.getConstant('Filter'), align: 'Center' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (!isNullOrUndefined(parent.toolbar) && parent.toolbar.indexOf('Frame') > -1)) {\n                toolbarItems.push({ id: id + '_frame', prefixIcon: 'e-icons e-border-frame', cssClass: 'top-icon e-border-frame',\n                    tooltipText: this.l10n.getConstant('Frame'), align: 'Center' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (!isNullOrUndefined(parent.toolbar) && parent.toolbar.indexOf('Resize') > -1)) {\n                toolbarItems.push({ id: id + '_resize', prefixIcon: 'e-icons e-resize', cssClass: 'top-icon e-resize',\n                    tooltipText: this.l10n.getConstant('Resize'), align: 'Center' });\n            }\n            if (isNullOrUndefined(parent.toolbar) || (!isNullOrUndefined(parent.toolbar) && parent.toolbar.indexOf('Redact') > -1)) {\n                toolbarItems.push({ id: id + '_redact', prefixIcon: 'e-icons e-redact', cssClass: 'top-icon e-opacity',\n                    tooltipText: this.l10n.getConstant('Redact'), align: 'Center' });\n            }\n        }\n        var tempToolbarItems = this.processToolbar('center');\n        for (var i = 0, len = tempToolbarItems.length; i < len; i++) {\n            toolbarItems.push(tempToolbarItems[i]);\n        }\n        if (isApplyOption) {\n            toolbarItems.push({ id: id + '_ok', prefixIcon: 'e-icons e-check', cssClass: 'top-icon e-tick',\n                tooltipText: this.l10n.getConstant('OK'), align: 'Right', tabIndex: 0 });\n            toolbarItems.push({ id: id + '_cancel', prefixIcon: 'e-icons e-close', cssClass: 'top-icon e-save',\n                tooltipText: this.l10n.getConstant('Cancel'), align: 'Right' });\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.getZoomToolbarItem = function () {\n        var toolbarItems = [];\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.updateContextualToolbar = function (type, cType, isSelect) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var toolbarArea = parent.element.querySelector('#' + id + '_toolbarArea');\n        var contextualToolbarArea = parent.element.querySelector('#' + id + '_contextualToolbarArea');\n        if (!contextualToolbarArea) {\n            return;\n        }\n        contextualToolbarArea.classList.remove('e-hide');\n        contextualToolbarArea.style.left = toolbarArea.offsetLeft + 'px';\n        if (type === 'filter') {\n            var toolbar_6 = document.getElementById(id + '_toolbar');\n            if (toolbar_6 && this.defToolbarItems.length > 0) {\n                getComponent(toolbar_6, 'toolbar').destroy();\n            }\n            if (Browser.isDevice) {\n                this.initMainToolbar(false, true, true);\n            }\n            else {\n                this.initMainToolbar(true, null, null);\n            }\n            this.refreshSlider();\n            this.initFilterToolbarItem();\n        }\n        else {\n            var ctxToolbar = document.querySelector('#' + id + '_contextualToolbar');\n            if (ctxToolbar.classList.contains('e-control')) {\n                getComponent(ctxToolbar, 'toolbar').destroy();\n            }\n            this.refreshSlider();\n            if (type === 'frame') {\n                this.initFrameToolbarItem();\n            }\n            else {\n                this.renderSlider(cType, isSelect);\n            }\n        }\n        if (parent.toolbarTemplate) {\n            this.toolbarHeight = parent.element.querySelector('#' + id + '_toolbarArea').clientHeight;\n        }\n        else if (parent.element.querySelector('#' + id + '_toolbar')) {\n            this.toolbarHeight = parent.element.querySelector('#' + id + '_toolbar').clientHeight;\n        }\n        parent.toolbarHeight = this.toolbarHeight;\n        if (Browser.isDevice) {\n            var cHt = contextualToolbarArea.offsetHeight + 1;\n            var cusWrapper = parent.element.querySelector('#' + id + '_customizeWrapper');\n            if (this.isFrameToolbar && cusWrapper) {\n                cHt = cusWrapper.offsetHeight + 2;\n            }\n            var ht = parent.element.querySelector('#' + id + '_canvasWrapper').offsetHeight;\n            contextualToolbarArea.style.top = this.toolbarHeight + 1 + ht - cHt + 'px';\n            if (cType === 'straighten') {\n                parent.isStraightening = true;\n                var ctxToolbar = parent.element.querySelector('#' + id + '_contextualToolbarArea');\n                if (ctxToolbar.style.position === 'absolute') {\n                    ctxToolbar.style.position = '';\n                    parent.element.insertBefore(ctxToolbar, parent.element.querySelector('#' + id + '_bottomToolbarArea'));\n                    parent.update();\n                    if (isSelect) {\n                        parent.notify('draw', { prop: 'select', onPropertyChange: false,\n                            value: { type: this.getCropTextContent(document.getElementById(id + '_cropBtn')).toLowerCase(),\n                                startX: null, startY: null, width: null, height: null } });\n                    }\n                }\n            }\n        }\n        else {\n            contextualToolbarArea.style.top = this.toolbarHeight + 1 + 'px';\n        }\n    };\n    ToolbarModule.prototype.processToolbar = function (position) {\n        var parent = this.parent;\n        var toolbarItems = [];\n        if (parent.toolbar) {\n            for (var i = 0, len = parent.toolbar.length; i < len; i++) {\n                if (typeof (parent.toolbar[i]) === 'object') {\n                    if (isNullOrUndefined(parent.toolbar[i].align)) {\n                        if (position === 'left') {\n                            toolbarItems.push(parent.toolbar[i]);\n                        }\n                    }\n                    else if (parent.toolbar[i].align.toLowerCase() === position) {\n                        toolbarItems.push(parent.toolbar[i]);\n                    }\n                }\n            }\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.processSubToolbar = function (items) {\n        var toolbarItems = [];\n        if (items) {\n            for (var i = 0, len = items.length; i < len; i++) {\n                if (typeof (items[i]) === 'object') {\n                    items[i].align = 'Center';\n                    toolbarItems.push(items[i]);\n                }\n            }\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.wireZoomBtnEvents = function () {\n        var zoomIn = document.querySelector('#' + this.parent.element.id + '_zoomIn');\n        var zoomOut = document.querySelector('#' + this.parent.element.id + '_zoomOut');\n        if (zoomIn) {\n            zoomIn.addEventListener('mousedown', this.zoomInBtnMouseDownHandler.bind(this));\n            zoomIn.addEventListener('mouseup', this.zoomBtnMouseUpHandler.bind(this));\n            zoomIn.addEventListener('click', this.zoomInBtnClickHandler.bind(this));\n        }\n        if (zoomOut) {\n            zoomOut.addEventListener('mousedown', this.zoomOutBtnMouseDownHandler.bind(this));\n            zoomOut.addEventListener('mouseup', this.zoomBtnMouseUpHandler.bind(this));\n            zoomOut.addEventListener('click', this.zoomOutBtnClickHandler.bind(this));\n        }\n    };\n    ToolbarModule.prototype.widthPress = function (e) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        if (e.keyCode === 109) {\n            e.preventDefault();\n            return;\n        }\n    };\n    ToolbarModule.prototype.heightPress = function (e) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        if (e.keyCode === 109) {\n            e.preventDefault();\n            return;\n        }\n    };\n    ToolbarModule.prototype.widthAspectRatio = function (e) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        if (e.keyCode === 109 || e.keyCode === 9) {\n            return;\n        }\n        var parent = this.parent;\n        var id = parent.element.id;\n        var aspectRatioHeight = parent.element.querySelector('#' + id + '_resizeHeight');\n        var aspectRatioWidth = parent.element.querySelector('#' + id + '_resizeWidth');\n        var icon = parent.element.querySelector('#' + id + '_aspectratio');\n        var originalWidth = parent.img.destWidth;\n        var originalHeight = parent.img.destHeight;\n        var aspectRatioHeightValue = parseFloat(aspectRatioHeight.value);\n        var val = aspectRatioHeightValue / (originalHeight / originalWidth);\n        var width = val % 1 >= 0.5 || val % 1 <= -0.5 ? Math.round(val) : (val < 0) ? Math.ceil(val) : Math.floor(val);\n        var widthNumeric = getComponent(aspectRatioWidth, 'numerictextbox');\n        var heightNumeric = getComponent(aspectRatioWidth, 'numerictextbox');\n        if (icon) {\n            if (width != null && !isNaN(width)) {\n                if (isNullOrUndefined((widthNumeric).value)) {\n                    (widthNumeric).placeholder = width + ' px';\n                    aspectRatioWidth.placeholder = width.toString() + ' px';\n                }\n                else {\n                    (widthNumeric).value = width;\n                    aspectRatioWidth.value = width.toString() + ' px';\n                }\n            }\n            else {\n                if (isNullOrUndefined((widthNumeric).value)) {\n                    (widthNumeric).placeholder = '0 px';\n                    aspectRatioWidth.placeholder = '0 px';\n                    if (isNullOrUndefined(heightNumeric.value) && !isNullOrUndefined(heightNumeric.placeholder)) {\n                        (widthNumeric).placeholder = \"\" + parent.img.srcWidth;\n                        aspectRatioWidth.placeholder = \"\" + parent.img.srcWidth;\n                    }\n                }\n                else {\n                    (widthNumeric).value = 0;\n                    aspectRatioWidth.value = '0 px';\n                }\n            }\n        }\n    };\n    ToolbarModule.prototype.heightAspectRatio = function (e) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        if (e.keyCode === 109 || e.keyCode === 9) {\n            return;\n        }\n        var parent = this.parent;\n        var id = parent.element.id;\n        var aspectRatioHeight = parent.element.querySelector('#' + id + '_resizeHeight');\n        var aspectRatioWidth = parent.element.querySelector('#' + id + '_resizeWidth');\n        var icon = parent.element.querySelector('#' + id + '_aspectratio');\n        var originalWidth = parent.img.destWidth;\n        var originalHeight = parent.img.destHeight;\n        var aspectRatioWidthValue = parseFloat(aspectRatioWidth.value);\n        var value = aspectRatioWidthValue / (originalWidth / originalHeight);\n        var ht = value % 1 >= 0.5 || value % 1 <= -0.5 ? Math.round(value) : (value < 0) ? Math.ceil(value) : Math.floor(value);\n        var heightNumeric = getComponent(aspectRatioHeight, 'numerictextbox');\n        var widthNumeric = getComponent(aspectRatioWidth, 'numerictextbox');\n        if (icon) {\n            if (!isNaN(ht)) {\n                if (isNullOrUndefined((heightNumeric).value)) {\n                    (heightNumeric).placeholder = ht + ' px';\n                    aspectRatioHeight.placeholder = ht.toString() + ' px';\n                }\n                else {\n                    (heightNumeric).value = ht;\n                    aspectRatioHeight.value = ht.toString() + ' px';\n                }\n            }\n            else {\n                if (isNullOrUndefined((heightNumeric).value)) {\n                    (heightNumeric).placeholder = '0 px';\n                    aspectRatioHeight.placeholder = '0 px';\n                    if (isNullOrUndefined(widthNumeric.value) && !isNullOrUndefined(widthNumeric.placeholder)) {\n                        (heightNumeric).placeholder = \"\" + parent.img.srcHeight;\n                        aspectRatioHeight.placeholder = \"\" + parent.img.srcHeight;\n                    }\n                }\n                else {\n                    (heightNumeric).value = 0;\n                    aspectRatioHeight.value = '0 px';\n                }\n            }\n        }\n    };\n    ToolbarModule.prototype.getResizeToolbarItem = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var isResize = parent.aspectWidth && parent.aspectHeight ? true : false;\n        var width = this.parent.transform.degree % 90 === 0 && this.parent.transform.degree % 180 !== 0 ?\n            Math.ceil(this.parent.img.srcHeight).toString() : Math.ceil(this.parent.img.srcWidth).toString();\n        var height = this.parent.transform.degree % 90 === 0 && this.parent.transform.degree % 180 !== 0 ?\n            Math.ceil(this.parent.img.srcWidth).toString() : Math.ceil(this.parent.img.srcHeight).toString();\n        var toolbarItems = [];\n        var spanWidth = document.createElement('span');\n        spanWidth.innerHTML = this.l10n.getConstant('W');\n        toolbarItems.push({ id: id + '_width', cssClass: 'e-ie-resize-width', template: spanWidth, align: 'Center' });\n        toolbarItems.push({ id: id + '_resizeWidth', prefixIcon: 'e-icons e-anti-clock-wise',\n            tooltipText: this.l10n.getConstant('Width'), align: 'Center', type: 'Input', template: new NumericTextBox({ width: 75, htmlAttributes: { maxLength: '4' },\n                showSpinButton: false, value: isResize ? parent.aspectWidth : null,\n                placeholder: isResize ? null : width, format: '###.## px' })\n        });\n        var spanHeight = document.createElement('span');\n        spanHeight.innerHTML = this.l10n.getConstant('H');\n        toolbarItems.push({ id: id + '_height', cssClass: 'e-ie-resize-height', template: spanHeight, align: 'Center' });\n        toolbarItems.push({ id: id + '_resizeHeight', prefixIcon: 'e-icons e-clock-wise',\n            tooltipText: this.l10n.getConstant('Height'), align: 'Center', type: 'Input', template: new NumericTextBox({ width: 75, htmlAttributes: { maxLength: '4' },\n                showSpinButton: false, value: isResize ? parent.aspectHeight : null,\n                placeholder: isResize ? null : height, format: '###.## px' })\n        });\n        if (!this.isAspectRatio) {\n            toolbarItems.push({ id: id + '_aspectratio', prefixIcon: 'e-icons e-lock', align: 'Center',\n                tooltipText: this.l10n.getConstant('AspectRatio'), type: 'Button', tabIndex: 0 });\n            this.isAspectRatio = true;\n        }\n        else {\n            toolbarItems.push({ id: id + '_nonaspectratio', prefixIcon: 'e-icons e-unlock', align: 'Center', tooltipText: this.l10n.getConstant('AspectRatio'), type: 'Button' });\n            this.isAspectRatio = false;\n        }\n        if (!Browser.isDevice) {\n            toolbarItems.push({ id: id + '_ok', prefixIcon: 'e-icons e-check', cssClass: 'top-icon e-tick',\n                tooltipText: this.l10n.getConstant('OK'), align: 'Right', tabIndex: 0 });\n            toolbarItems.push({ id: id + '_cancel', prefixIcon: 'e-icons e-close', cssClass: 'top-icon e-save',\n                tooltipText: this.l10n.getConstant('Cancel'), align: 'Right' });\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.initResizeToolbar = function () {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var leftItem = this.getLeftToolbarItem(false, true);\n        var rightItem = this.getRightToolbarItem();\n        var mainItem = this.getResizeToolbarItem();\n        var zoomItem = this.getZoomToolbarItem();\n        if (Browser.isDevice) {\n            this.defToolbarItems = mainItem;\n        }\n        else {\n            this.defToolbarItems = leftItem.concat(zoomItem, mainItem, rightItem);\n        }\n        var args = { toolbarType: 'resize', toolbarItems: this.defToolbarItems };\n        parent.trigger('toolbarUpdating', args);\n        this.defToolbarItems = args.toolbarItems;\n        var toolbar = new Toolbar({\n            width: '100%',\n            items: this.defToolbarItems,\n            clicked: this.defToolbarClicked.bind(this),\n            created: function () {\n                _this.wireResizeBtnEvents();\n                parent.trigger('toolbarCreated', { toolbarType: 'shapes' });\n                if (Browser.isDevice) {\n                    if (_this.defToolbarItems.length > 0 && (!isNullOrUndefined(document.getElementById(id + '_bottomToolbar')))) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                    }\n                }\n                else {\n                    _this.createLeftToolbarControls();\n                    if (_this.defToolbarItems.length > 0 && (!isNullOrUndefined(document.getElementById(id + '_toolbar')))) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                    }\n                }\n            }\n        });\n        if (Browser.isDevice) {\n            toolbar.appendTo('#' + id + '_bottomToolbar');\n        }\n        else {\n            toolbar.appendTo('#' + id + '_toolbar');\n        }\n        parent.isResize = false;\n        this.enableDisableTbrBtn();\n        parent.isResize = true;\n        parent.notify('transform', { prop: 'disableZoomOutBtn', value: { isZoomOut: true } });\n    };\n    ToolbarModule.prototype.wireResizeBtnEvents = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var aspectRatioHeight = parent.element.querySelector('#' + id + '_resizeHeight');\n        var aspectRatioWidth = parent.element.querySelector('#' + id + '_resizeWidth');\n        if (!isNullOrUndefined(aspectRatioHeight)) {\n            aspectRatioHeight.addEventListener('keydown', this.widthPress.bind(this));\n            aspectRatioWidth.addEventListener('keyup', this.heightAspectRatio.bind(this));\n        }\n        if (!isNullOrUndefined(aspectRatioWidth)) {\n            aspectRatioWidth.addEventListener('keydown', this.heightPress.bind(this));\n            aspectRatioHeight.addEventListener('keyup', this.widthAspectRatio.bind(this));\n        }\n    };\n    ToolbarModule.prototype.enableDisableTbrBtn = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (!this.preventEnableDisableUr) {\n            var object = { appliedUndoRedoColl: [] };\n            parent.notify('undo-redo', { prop: 'getAppliedUndoRedoColl', value: { obj: object } });\n            var undoRedoObj = { undoRedoStep: null };\n            parent.notify('undo-redo', { prop: 'getUndoRedoStep', value: { obj: undoRedoObj } });\n            var undo = parent.element.querySelector('#' + id + '_undo');\n            if (undo && undoRedoObj['undoRedoStep'] === 0) {\n                undo.classList.add('e-disabled');\n                undo.parentElement.classList.add('e-overlay');\n            }\n            else if (undo && undoRedoObj['undoRedoStep'] > 0) {\n                undo.classList.remove('e-disabled');\n                undo.parentElement.classList.remove('e-overlay');\n            }\n            var redo = parent.element.querySelector('#' + id + '_redo');\n            if (redo && (undoRedoObj['undoRedoStep'] === object['appliedUndoRedoColl'].length)) {\n                redo.classList.add('e-disabled');\n                redo.parentElement.classList.add('e-overlay');\n            }\n            else if (redo && (undoRedoObj['undoRedoStep'] === 0 && object['appliedUndoRedoColl'].length > 0)) {\n                redo.classList.remove('e-disabled');\n                redo.parentElement.classList.remove('e-overlay');\n            }\n            else if (redo && undoRedoObj['undoRedoStep'] > 0) {\n                redo.classList.remove('e-disabled');\n                redo.parentElement.classList.remove('e-overlay');\n            }\n        }\n        var zoomIn = document.querySelector('#' + id + '_zoomIn');\n        if (zoomIn && parent.zoomSettings.zoomFactor >= parent.zoomSettings.maxZoomFactor) {\n            zoomIn.classList.add('e-disabled');\n            zoomIn.parentElement.classList.add('e-overlay');\n        }\n        else if (zoomIn) {\n            zoomIn.classList.remove('e-disabled');\n            zoomIn.parentElement.classList.remove('e-overlay');\n        }\n        var zoomOut = document.querySelector('#' + id + '_zoomOut');\n        if (zoomOut && parent.zoomSettings.zoomFactor <= parent.zoomSettings.minZoomFactor) {\n            zoomOut.classList.add('e-disabled');\n            zoomOut.parentElement.classList.add('e-overlay');\n        }\n        else if (zoomOut) {\n            zoomOut.classList.remove('e-disabled');\n            zoomOut.parentElement.classList.remove('e-overlay');\n        }\n        var frame = document.querySelector('#' + id + '_frame');\n        if (frame && ((parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') || parent.isCircleCrop)) {\n            frame.classList.add('e-overlay');\n        }\n        else if (frame) {\n            frame.classList.remove('e-overlay');\n        }\n        var ratio = document.querySelector('#' + id + '_aspectratio');\n        if (ratio && ((parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle') || parent.isCircleCrop)) {\n            ratio.classList.add('e-overlay');\n        }\n        else if (ratio) {\n            ratio.classList.remove('e-overlay');\n        }\n    };\n    ToolbarModule.prototype.createLeftToolbarControls = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (this.defToolbarItems !== undefined && this.defToolbarItems.length > 0 &&\n            (document.getElementById(id + '_toolbar'))) {\n            var uploadDiv = document.getElementById(id + '_toolbar')\n                .querySelector('.e-image-upload');\n            if (uploadDiv) {\n                var uploadElem = uploadDiv.getElementsByTagName('input')[0];\n                var uploadBtnElem = uploadDiv.getElementsByTagName('button')[0];\n                uploadBtnElem.className = 'e-tbar-btn e-tbtn-txt top-icon';\n                uploadBtnElem.innerHTML = '';\n                uploadBtnElem.title = this.l10n.getConstant('Browse');\n                uploadBtnElem.appendChild(parent.createElement('span', {\n                    className: 'e-btn-icon e-icons e-upload-icon e-icon-left'\n                }));\n                uploadElem.onchange = this.fileSelect.bind(this, uploadElem);\n            }\n        }\n    };\n    ToolbarModule.prototype.fileSelect = function (inputElement, args) {\n        var parent = this.parent;\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var type = inputElement.files[0].type.split('/')[1];\n        var filesTypes = this.parent.getExtensionArray();\n        var isJPG = ((type === 'jpg' || type === 'jpeg') &&\n            (parent.uploadSettings.allowedExtensions.indexOf('jpg') > -1 ||\n                parent.uploadSettings.allowedExtensions.indexOf('jpeg') > -1));\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.fileName = inputElement.files[0].name.split('.')[0];\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var size = inputElement.files[0].size;\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.parent.notify('toolbar', { prop: 'setInitialSize', value: { value: inputElement.files[0].size } });\n        if ((filesTypes.indexOf(type) > -1 || isJPG || (type.indexOf('svg') > -1 && filesTypes.indexOf('svg') > -1)) &&\n            (!this.parent.uploadSettings.minFileSize || size > this.parent.uploadSettings.minFileSize) &&\n            (!this.parent.uploadSettings.maxFileSize || size < this.parent.uploadSettings.maxFileSize)) {\n            this.parent.notify('draw', { prop: 'fileSelect', value: { inputElement: inputElement, args: args } });\n        }\n        else {\n            if (!this.parent.isImageLoaded) {\n                this.destroyTopToolbar();\n                this.createToolbar();\n                if (Browser.isDevice) {\n                    this.destroyBottomToolbar();\n                }\n            }\n            this.parent.showDialogPopup('unsupported', !((filesTypes.indexOf(type) > -1 || isJPG || (type.indexOf('svg') > -1 && filesTypes.indexOf('svg') > -1))));\n        }\n    };\n    ToolbarModule.prototype.triggerTbarClickEvent = function (args) {\n        var clickEvent = { item: args.item, originalEvent: args.event };\n        this.parent.trigger('toolbarItemClicked', clickEvent);\n    };\n    ToolbarModule.prototype.renderAnnotationBtn = function (isContextualToolbar) {\n        var _this = this;\n        var parent = this.parent;\n        var isCustomized = false;\n        var items = [];\n        var id = parent.element.id;\n        var defItems = ['Ellipse', 'Arrow', 'Line', 'Rectangle', 'Pen', 'Path', 'Text', 'Image'];\n        if (parent.toolbar) {\n            for (var i = 0; i < defItems.length; i++) {\n                if (parent.toolbar.indexOf(defItems[i]) !== -1) {\n                    isCustomized = true;\n                    break;\n                }\n            }\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Pen') > -1)) {\n            items.push({ text: this.l10n.getConstant('Pen'), id: 'pen', iconCss: 'e-icons e-free-pen' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Line') > -1)) {\n            items.push({ text: this.l10n.getConstant('Line'), id: 'line', iconCss: 'e-icons e-line' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Rectangle') > -1)) {\n            items.push({ text: this.l10n.getConstant('Rectangle'), id: 'rectangle', iconCss: 'e-icons e-rectangle' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Ellipse') > -1)) {\n            items.push({ text: this.l10n.getConstant('Ellipse'), id: 'ellipse', iconCss: 'e-icons e-circle' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Arrow') > -1)) {\n            items.push({ text: this.l10n.getConstant('Arrow'), id: 'arrow', iconCss: 'e-icons e-arrow-right-up' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Path') > -1)) {\n            items.push({ text: this.l10n.getConstant('Path'), id: 'path', iconCss: 'e-icons e-critical-path' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Text') > -1)) {\n            items.push({ text: this.l10n.getConstant('Text'), id: 'text', iconCss: 'e-icons e-add-text' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Image') > -1)) {\n            items.push({ text: this.l10n.getConstant('Image'), id: 'image', iconCss: 'e-icons e-image' });\n        }\n        var obj = { freehandDrawSelectedId: null };\n        parent.notify('freehand-draw', { prop: 'getFreehandDrawSelectedId', onPropertyChange: false, value: { obj: obj } });\n        var toolbarId = Browser.isDevice ? '#' + id + '_bottomToolbar ' + '#' + id : '#' + id;\n        this.enableDisableCloneBtn(toolbarId, obj);\n        var iconCss = isContextualToolbar ? this.getCurrentShapeIcon(parent.activeObj.shape) : 'e-annotation';\n        var drpDownBtn = new DropDownButton({ items: items, iconCss: 'e-icons ' + iconCss,\n            cssClass: 'e-image-popup',\n            open: function (args) {\n                if (parent.currObjType.isFiltered || parent.currObjType.isRedact) {\n                    parent.okBtn();\n                    parent.element.querySelector('#' + id + '_annotationBtn').click();\n                }\n                if (Browser.isDevice) {\n                    args.element.parentElement.style.top = drpDownBtn.element.getBoundingClientRect().top -\n                        args.element.parentElement.offsetHeight + 'px';\n                }\n                if (parent.activeObj.shape) {\n                    document.getElementById(parent.activeObj.shape).classList.add('e-selected');\n                }\n                else if (parent.togglePen) {\n                    document.getElementById('pen').classList.add('e-selected');\n                }\n            },\n            select: function (args) {\n                parent.noPushUndo = false;\n                _this.triggerTbarClickEvent(args);\n                parent.okBtn();\n                var isCropSelection = false;\n                var splitWords;\n                if (parent.activeObj.shape !== undefined) {\n                    splitWords = parent.activeObj.shape.split('-');\n                }\n                if (splitWords === undefined && parent.currObjType.isCustomCrop) {\n                    isCropSelection = true;\n                }\n                else if (splitWords !== undefined && splitWords[0] === 'crop') {\n                    isCropSelection = true;\n                }\n                parent.currObjType.isCustomCrop = false;\n                if (isCropSelection || parent.togglePan) {\n                    parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                    _this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                    _this.refreshToolbar('main');\n                }\n                var obj = { currentFreehandDrawIndex: null };\n                parent.notify('freehand-draw', { prop: 'getCurrentFreehandDrawIndex', value: { obj: obj } });\n                var prevObj = { shapeSettingsObj: {} };\n                var shapeSettings;\n                var shapeChangingArgs;\n                var shapes = ['ellipse', 'rectangle', 'text', 'image'];\n                var allowOutofBound;\n                drpDownBtn.iconCss = 'e-icons ' + _this.getCurrentShapeIcon(args.item.id);\n                parent.notify('draw', { prop: 'updateTempObjColl' });\n                parent.notify('draw', { prop: 'updateTempPointColl' });\n                var penStrokeWidthObj = { penStrokeWidth: 2 };\n                switch (args.item.id) {\n                    case 'pen':\n                        parent.notify('freehand-draw', { prop: 'getPenStrokeWidth', onPropertyChange: false, value: { obj: penStrokeWidthObj } });\n                        parent.notify('draw', { prop: 'setTempStrokeWidth', value: { strokeWidth: penStrokeWidthObj['penStrokeWidth'] } });\n                        parent.drawingShape = null;\n                        parent.notify('draw', { prop: 'setTempFreehandCounter', value: { tempFreehandCounter: parent.freehandCounter } });\n                        parent.notify('draw', { prop: 'setTempCurrentFreehandDrawIndex', value: { tempCurrentFreehandDrawIndex: obj['currentFreehandDrawIndex'] } });\n                        _this.currentToolbar = 'pen';\n                        parent.freeHandDraw(true);\n                        parent.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: prevObj } });\n                        shapeSettings = prevObj['shapeSettingsObj'];\n                        parent.notify('freehand-draw', { prop: 'getPenStrokeWidth', onPropertyChange: false, value: { obj: penStrokeWidthObj } });\n                        shapeSettings.strokeWidth = penStrokeWidthObj['penStrokeWidth'];\n                        shapeSettings.type = ShapeType.FreehandDraw;\n                        shapeChangingArgs = { cancel: false, action: 'insert', previousShapeSettings: shapeSettings,\n                            currentShapeSettings: shapeSettings };\n                        parent.notify('freehand-draw', { prop: 'triggerShapeChanging', value: { shapeChangingArgs: shapeChangingArgs } });\n                        break;\n                    case 'text':\n                        _this.currentToolbar = 'text';\n                        parent.drawingShape = args.item.id;\n                        _this.currentToolbar = 'text';\n                        _this.setInitialShapeSettings(args);\n                        parent.notify('selection', { prop: 'annotate', value: { shape: args.item.id } });\n                        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'text',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                        break;\n                    case 'image':\n                        parent.drawingShape = null;\n                        _this.currentToolbar = 'shapes';\n                        parent.element.querySelector('#' + id + '_fileUpload').click();\n                        break;\n                    case 'ellipse':\n                    case 'arrow':\n                    case 'line':\n                    case 'rectangle':\n                    case 'path':\n                        parent.drawingShape = args.item.id;\n                        _this.currentToolbar = 'shapes';\n                        _this.setInitialShapeSettings(args);\n                        parent.notify('selection', { prop: 'annotate', value: { shape: args.item.id } });\n                        parent.notify('toolbar', { prop: 'refresh-toolbar', onPropertyChange: false, value: { type: 'shapes',\n                                isApplyBtn: null, isCropping: null, isZooming: null, cType: null } });\n                        parent.notify('selection', { prop: 'updatePrevShapeSettings', onPropertyChange: false, value: { obj: prevObj } });\n                        shapeSettings = prevObj['shapeSettingsObj'];\n                        allowOutofBound = shapes.indexOf(_this.parent.activeObj.shape) !== -1 ? false : true;\n                        shapeChangingArgs = { cancel: false, action: 'insert', previousShapeSettings: shapeSettings,\n                            currentShapeSettings: shapeSettings, allowShapeOverflow: allowOutofBound };\n                        parent.trigger('shapeChanging', shapeChangingArgs);\n                        parent.editCompleteArgs = shapeChangingArgs;\n                        parent.notify('shape', { prop: 'updateShapeChangeEventArgs', value: { shapeSettings: shapeChangingArgs.currentShapeSettings } });\n                        break;\n                }\n                _this.updateToolbarItems();\n                var tempTogglePen = parent.togglePen;\n                if (args.item.id === 'pen') {\n                    parent.togglePen = false;\n                }\n                parent.notify('draw', { prop: 'redrawDownScale' });\n                parent.togglePen = tempTogglePen;\n            }\n        });\n        // Render initialized DropDownButton.\n        drpDownBtn.appendTo('#' + id + '_annotationBtn');\n    };\n    ToolbarModule.prototype.enableDisableCloneBtn = function (toolbarId, obj) {\n        var parent = this.parent;\n        var isDummyTextClick = false;\n        var width = Math.floor(parent.activeObj.activePoint.width);\n        if (parent.activeObj.shape && parent.activeObj.shape === 'text' &&\n            parent.activeObj.textSettings.fontSize === 11 && (width === 55 || (parent.activeObj.textSettings.bold && width === 58)) &&\n            Math.floor(parent.activeObj.activePoint.height) === 11) {\n            isDummyTextClick = true;\n        }\n        var duplicateElement = document.querySelector(toolbarId + '_duplicate');\n        var removeElement = document.querySelector(toolbarId + '_remove');\n        var editTextElement = document.querySelector(toolbarId + '_editText');\n        var zOrderElement = document.querySelector(toolbarId + '_zOrderBtn');\n        if (isDummyTextClick || (parent.activeObj.activePoint.width === 0 && parent.activeObj.activePoint.height === 0) &&\n            (isNullOrUndefined(parent.activeObj.pointColl) || (parent.activeObj.pointColl\n                && parent.activeObj.pointColl.length === 0)) &&\n            isNullOrUndefined(obj['freehandDrawSelectedId'])) {\n            if (duplicateElement) {\n                duplicateElement.classList.add('e-overlay');\n            }\n            if (removeElement) {\n                removeElement.classList.add('e-overlay');\n            }\n            if (editTextElement) {\n                editTextElement.classList.add('e-overlay');\n            }\n            if (zOrderElement) {\n                zOrderElement.classList.add('e-overlay');\n            }\n        }\n        else {\n            if (duplicateElement) {\n                duplicateElement.classList.remove('e-overlay');\n            }\n            if (removeElement) {\n                removeElement.classList.remove('e-overlay');\n            }\n            if (editTextElement) {\n                editTextElement.classList.remove('e-overlay');\n            }\n            if (zOrderElement) {\n                zOrderElement.classList.remove('e-overlay');\n            }\n        }\n        if (zOrderElement && (parent.shapeColl.length === 0 || (obj['freehandDrawSelectedId'] && parent.shapeColl.length === 1))) {\n            zOrderElement.classList.add('e-overlay');\n        }\n    };\n    ToolbarModule.prototype.renderStraightenSlider = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        if ((isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Straightening') > -1)) &&\n            parent.element.querySelector('#' + id + '_straightenSlider')) {\n            var slider = this.createSlider(-45, 45, parent.cropObj.straighten, 'straighten');\n            slider.appendTo('#' + id + '_straightenSlider');\n            var sliderHandle = slider.element.querySelector('.e-handle');\n            if (sliderHandle && !Browser.isDevice) {\n                sliderHandle.addEventListener('mousedown', function (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                });\n                sliderHandle.addEventListener('touchstart', function (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                });\n            }\n        }\n    };\n    ToolbarModule.prototype.renderCropBtn = function (shapeString) {\n        var _this = this;\n        var parent = this.parent;\n        var items = [];\n        var isCustomized = false;\n        var defItems = ['CustomSelection', 'CircleSelection', 'SquareSelection', 'RatioSelection'];\n        if (parent.toolbar) {\n            for (var i = 0; i < defItems.length; i++) {\n                if (parent.toolbar.indexOf(defItems[i]) !== -1) {\n                    isCustomized = true;\n                    break;\n                }\n            }\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('CustomSelection') > -1)) {\n            items.push({ text: this.l10n.getConstant('Custom'), id: 'custom', iconCss: 'e-icons e-custom' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('CircleSelection') > -1)) {\n            items.push({ text: this.l10n.getConstant('Circle'), id: 'circle', iconCss: 'e-icons e-circle' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('SquareSelection') > -1)) {\n            items.push({ text: this.l10n.getConstant('Square'), id: 'square', iconCss: 'e-icons e-square' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('RatioSelection') > -1)) {\n            items.push({ text: '2:3', id: '2:3', iconCss: 'e-icons e-custom-f' });\n            items.push({ text: '3:2', id: '3:2', iconCss: 'e-icons e-custom-a' });\n            items.push({ text: '3:4', id: '3:4', iconCss: 'e-icons e-custom-g' });\n            items.push({ text: '4:3', id: '4:3', iconCss: 'e-icons e-custom-b' });\n            items.push({ text: '4:5', id: '4:5', iconCss: 'e-icons e-custom-h' });\n            items.push({ text: '5:4', id: '5:4', iconCss: 'e-icons e-custom-c' });\n            items.push({ text: '5:7', id: '5:7', iconCss: 'e-icons e-custom-i' });\n            items.push({ text: '7:5', id: '7:5', iconCss: 'e-icons e-custom-d' });\n            items.push({ text: '9:16', id: '9:16', iconCss: 'e-icons e-custom-j' });\n            items.push({ text: '16:9', id: '16:9', iconCss: 'e-icons e-custom-e' });\n        }\n        var iconCss;\n        var shape;\n        if (shapeString) {\n            iconCss = this.getCurrentShapeIcon(shapeString);\n            shape = shapeString;\n        }\n        else if (parent.activeObj.shape &&\n            (parent.activeObj.activePoint.width !== 0 || parent.activeObj.activePoint.height !== 0) ||\n            (parent.activeObj.shape === 'path' && parent.activeObj.pointColl.length > 0)) {\n            iconCss = this.getCurrentShapeIcon(parent.activeObj.shape);\n            shape = parent.activeObj.shape;\n        }\n        else if (parent.currSelectionPoint) {\n            iconCss = this.getCurrentShapeIcon(parent.currSelectionPoint.shape);\n            shape = parent.currSelectionPoint.shape;\n        }\n        else {\n            iconCss = items[0].iconCss;\n            shape = items[0].id;\n        }\n        var drpDownBtn = new DropDownButton({\n            open: function (args) {\n                if (parent.togglePan) {\n                    _this.cancelPan();\n                }\n                if (Browser.isDevice) {\n                    args.element.parentElement.style.top = drpDownBtn.element.getBoundingClientRect().top -\n                        args.element.parentElement.offsetHeight + 'px';\n                }\n                if (parent.activeObj.shape && parent.activeObj.shape.split('-').length > 1) {\n                    var elem = document.getElementById(parent.activeObj.shape.split('-')[1]);\n                    if (elem) {\n                        elem.classList.add('e-selected');\n                        elem.focus();\n                    }\n                }\n                parent.notify('transform', { prop: 'disableZoomOutBtn', value: { isZoomOut: true } });\n            },\n            items: items,\n            select: function (args) {\n                _this.triggerTbarClickEvent(args);\n                _this.cropSelect(args);\n                drpDownBtn.iconCss = 'e-icons ' + _this.getCurrentShapeIcon('crop-' + args.item.id);\n                drpDownBtn.content = Browser.isDevice ? null : parent.toPascalCase(args.item.id);\n            },\n            iconCss: 'e-icons ' + iconCss, cssClass: 'e-image-popup e-ie-crop-ddb-popup',\n            content: Browser.isDevice ? null : parent.toPascalCase(shape.replace('crop-', ''))\n        });\n        drpDownBtn.appendTo('#' + parent.element.id + '_cropBtn');\n    };\n    ToolbarModule.prototype.renderTransformBtn = function () {\n        var _this = this;\n        var parent = this.parent;\n        var items = [];\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('RotateLeft') > -1)) {\n            items.push({ text: this.l10n.getConstant('RotateLeft'), id: 'rotateleft', iconCss: 'e-icons e-anti-clock-wise' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('RotateRight') > -1)) {\n            items.push({ text: this.l10n.getConstant('RotateRight'), id: 'rotateright', iconCss: 'e-icons e-clock-wise' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('FlipHorizontal') > -1)) {\n            items.push({ text: this.l10n.getConstant('HorizontalFlip'), id: 'horizontalflip', iconCss: 'e-icons e-horizontal-flip' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('FlipVertical') > -1)) {\n            items.push({ text: this.l10n.getConstant('VerticalFlip'), id: 'verticalflip', iconCss: 'e-icons e-vertical-flip' });\n        }\n        var drpDownBtn = new DropDownButton({\n            open: function (args) {\n                if (Browser.isDevice) {\n                    var elem = args.element.parentElement;\n                    var ht = elem.offsetHeight;\n                    elem.style.display = 'none';\n                    elem.style.top = drpDownBtn.element.getBoundingClientRect().top - ht + 'px';\n                    elem.style.display = 'block';\n                }\n            },\n            items: items,\n            select: function (args) {\n                _this.triggerTbarClickEvent(args);\n                parent.transformSelect.bind(_this);\n            },\n            iconCss: 'e-icons e-transform', cssClass: 'e-image-popup'\n        });\n        drpDownBtn.appendTo('#' + parent.element.id + '_transformBtn');\n    };\n    ToolbarModule.prototype.saveDialogPopup = function () {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var quality = ['Good', 'Great', 'Highest'];\n        parent.element.appendChild(parent.createElement('div', { id: id + '_saveDialog' }));\n        var dialogContent = parent.createElement('div', {\n            id: id + '_dialogContent'\n        });\n        dialogContent.style.display = 'flex';\n        var dialogImgContent = dialogContent.appendChild(parent.createElement('div', {\n            id: id + '_dialogImgContent', className: 'e-ie-dlg-img-content'\n        }));\n        dialogImgContent.appendChild(parent.createElement('canvas', {\n            id: id + '_imgPic', className: 'e-ie-img-dlg-canvas'\n        }));\n        var imageNameContainer = dialogImgContent.appendChild(parent.createElement('div', {\n            id: id + '_imageNameContainer', className: 'e-ie-img-size'\n        }));\n        imageNameContainer.appendChild(parent.createElement('span', {\n            id: id + '_imageNameLabel', className: 'e-ie-quality-info'\n        }));\n        var dialogRightContent = dialogContent.appendChild(parent.createElement('div', {\n            id: id + '_dialogRightContent', className: 'e-ie-dlg-right-content'\n        }));\n        var imageNameDiv = dialogRightContent.appendChild(parent.createElement('div', {\n            id: id + '_namediv', className: 'e-ie-img-save-name'\n        }));\n        imageNameDiv.appendChild(parent.createElement('span', {\n            id: id + '_labelImgname', className: 'e-ie-img-label-name', innerHTML: this.l10n.getConstant('ImageName')\n        }));\n        imageNameDiv.appendChild(parent.createElement('input', {\n            id: id + '_imgNametext', className: 'e-ie-img-input', attrs: { type: 'text' }\n        }));\n        var formatNameDiv = dialogRightContent.appendChild(parent.createElement('div', {\n            id: id + '_imgNamediv', className: 'e-ie-img-save-dlg'\n        }));\n        formatNameDiv.appendChild(parent.createElement('span', {\n            id: id + '_labelname', className: 'e-ie-img-label-name', innerHTML: this.l10n.getConstant('Format')\n        }));\n        formatNameDiv.appendChild(parent.createElement('button', {\n            id: id + '_saveDropdownbtn', attrs: { tabindex: '1' }\n        }));\n        var qualityNameDiv = dialogRightContent.appendChild(parent.createElement('div', {\n            id: id + '_imgQualitydiv', className: 'e-ie-img-quality-name'\n        }));\n        var qualityDiv = parent.createElement('div', {\n            id: id + '_qualityContainer'\n        });\n        qualityDiv.appendChild(parent.createElement('span', {\n            id: id + '_qualityLabel', className: 'e-ie-img-quality-label',\n            innerHTML: this.l10n.getConstant('Quality')\n        }));\n        qualityDiv.appendChild(parent.createElement('span', {\n            id: id + '_qualityInfo', className: 'e-circle-info e-icons e-ie-quality-span',\n            attrs: { title: this.l10n.getConstant('QualityInfo') }\n        }));\n        var qualityValueElem = qualityDiv.appendChild(parent.createElement('div', {\n            id: id + '_imgsizeSpan',\n            className: 'e-ie-img-size-value-span'\n        }));\n        qualityValueElem.appendChild(parent.createElement('span', {\n            id: id + '_imgsizeValueSpan', className: ''\n        }));\n        qualityNameDiv.appendChild(qualityDiv);\n        var qualityOptionDiv = parent.createElement('div', {\n            id: id + '_qualityOptionContainer', className: 'e-ie-quality-option-container'\n        });\n        var buttonGroup = qualityNameDiv.appendChild(parent.createElement('div', {\n            id: id + '_qualityButtonGroup', className: 'e-btn-group'\n        }));\n        // eslint-disable-next-line @typescript-eslint/tslint/config\n        quality.forEach(function (option) {\n            var input = document.createElement('input');\n            input.type = 'radio';\n            input.id = id + '_' + option.toLowerCase();\n            input.name = 'quality';\n            input.value = option.toLowerCase();\n            var label = document.createElement('label');\n            label.className = 'e-btn';\n            label.htmlFor = option.toLowerCase();\n            label.textContent = _this.l10n.getConstant(option);\n            buttonGroup.appendChild(input);\n            buttonGroup.appendChild(label);\n        });\n        qualityOptionDiv.appendChild(buttonGroup);\n        qualityOptionDiv.appendChild(parent.createElement('div', {\n            id: id + '_qualitySlider', className: 'e-ie-img-quality-slider'\n        }));\n        qualityOptionDiv.appendChild(parent.createElement('button', { id: id + '_qualitybuttonIcon', className: 'e-ie-img-icon-button', attrs: { type: 'button' } }));\n        qualityNameDiv.appendChild(qualityOptionDiv);\n        if (Browser.isDevice) {\n            dialogRightContent.appendChild(parent.createElement('span', {\n                id: id + '_qualitySize', className: 'e-ie-img-quality-size'\n            }));\n        }\n        parent.element.querySelector('#' + id + '_saveDialog').style.display = 'block';\n        parent.element.appendChild(dialogContent);\n        var dialog = new Dialog({\n            target: parent.element,\n            header: this.l10n.getConstant('SaveAs'),\n            closeOnEscape: true, content: document.getElementById(id + '_dialogContent'),\n            width: Browser.isDevice ? '345px' : '570px', isModal: true, animationSettings: { effect: 'Zoom' }, beforeOpen: this.onBeforeopen(),\n            close: this.saveDialogClosed.bind(this, id),\n            cssClass: 'e-ie-save-dialog',\n            buttons: [\n                {\n                    'click': function () {\n                        dialog.hide();\n                    },\n                    buttonModel: {\n                        content: this.l10n.getConstant('Close'), cssClass: 'e-save-cancel-btn'\n                    }\n                },\n                {\n                    'click': function () {\n                        _this.download();\n                        dialog.hide();\n                        _this.isSlider = false;\n                    },\n                    buttonModel: {\n                        isPrimary: true, content: this.l10n.getConstant('Download'), cssClass: 'e-flat e-save-download-btn'\n                    }\n                }\n            ]\n        });\n        dialog.appendTo('#' + id + '_saveDialog');\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ToolbarModule.prototype.saveDialogClosed = function (id) {\n        if (getComponent(document.getElementById(id + '_saveDropdownbtn'), 'dropdownbutton')) {\n            getComponent(document.getElementById(id + '_saveDropdownbtn'), 'dropdownbutton').destroy();\n        }\n        this.isSlider = false;\n        if (document.querySelector('#' + id + '_qualityButtonGroup') &&\n            document.querySelector('#' + id + '_qualitySlider')) {\n            document.querySelector('#' + id + '_qualityButtonGroup').remove();\n            document.querySelector('#' + id + '_qualitySlider').remove();\n            document.querySelector('#' + id + '_imgsizeValueSpan').remove();\n            document.querySelector('#' + id + '_imageNameLabel').remove();\n            document.querySelector('#' + id + '_imgsizeSpan').remove();\n        }\n        document.getElementById(id + '_dialogContent').remove();\n        getComponent(document.getElementById(id + '_saveDialog'), 'dialog').destroy();\n        document.getElementById(id + '_saveDialog').remove();\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ToolbarModule.prototype.onBeforeopen = function () {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var obj = { canvas: null };\n        var items = [\n            { id: 'jpeg', text: 'JPEG' },\n            { id: 'png', text: 'PNG' },\n            { id: 'svg', text: 'SVG' },\n            { id: 'webp', text: 'WebP' }\n        ];\n        var inputObj = new TextBox({\n            placeholder: this.l10n.getConstant('ImageName')\n        });\n        inputObj.appendTo('#' + id + '_imgNametext');\n        var qualityContainer = document.getElementById(id + '_imgQualitydiv');\n        var slider = document.getElementById(id + '_qualitySlider');\n        var qualityBtnGrp = document.querySelector('#' + id + '_qualityButtonGroup');\n        var qualityBtnIcon = document.querySelector('#' + id + '_qualitybuttonIcon');\n        var qualitySliderValue = document.querySelector('#' + id + '_imgsizeSpan');\n        var imageNameLabel;\n        if (Browser.isDevice) {\n            imageNameLabel = document.getElementById(id + '_qualitySize');\n        }\n        else {\n            imageNameLabel = document.getElementById(id + '_imageNameLabel');\n        }\n        var fileObj = { fileName: '', fileType: '' };\n        parent.notify('draw', { prop: 'getFileName', onPropertyChange: false, value: { obj: fileObj } });\n        this.fileType = fileObj['fileType'] ? fileObj['fileType'] : 'JPEG';\n        parent.notify('export', { prop: 'exportToCanvas', value: { object: obj } });\n        var tempCanvas = obj['canvas'];\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var canvas = document.getElementById(id + '_imgPic');\n        canvas.width = tempCanvas.width;\n        canvas.height = tempCanvas.height;\n        var buttonIcon = new Button({ iconCss: 'e-icons e-settings' });\n        buttonIcon.appendTo('#' + id + '_qualitybuttonIcon');\n        var ddbElem = document.getElementById(id + '_saveDropdownbtn');\n        if (ddbElem) {\n            var spanElem_1 = document.createElement('span');\n            spanElem_1.innerHTML = this.fileType === 'Webp' ? 'Webp' : this.fileType.toUpperCase();\n            if (ddbElem) {\n                ddbElem.appendChild(spanElem_1);\n            }\n            var drpDownBtn_1 = new DropDownButton({\n                items: items,\n                open: function (args) {\n                    if (Browser.isDevice) {\n                        args.element.parentElement.style.top = drpDownBtn_1.element.getBoundingClientRect().top -\n                            args.element.parentElement.offsetHeight + 'px';\n                    }\n                    var activeBtn = spanElem_1.innerHTML;\n                    if (activeBtn !== '') {\n                        args.element.querySelector('[aria-label = ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                    }\n                },\n                select: function (args) {\n                    qualitySliderValue.style.display = 'none';\n                    _this.fileType = spanElem_1.innerHTML = args.item.text;\n                    if (args.item.id !== 'jpeg') {\n                        qualityContainer.style.display = 'none';\n                        imageNameLabel.style.display = 'block';\n                        _this.updateImageSize(1, obj['canvas'], _this.fileType);\n                        if (slider) {\n                            if (_this.isSlider) {\n                                getComponent(slider, 'slider').destroy();\n                            }\n                            slider.style.display = 'none';\n                        }\n                        _this.isSlider = false;\n                    }\n                    else {\n                        qualityContainer.style.display = 'block';\n                        removeClass([qualityBtnGrp], 'e-hide');\n                        slider.style.display = 'none';\n                        imageNameLabel.style.display = 'block';\n                        _this.updateImageSize(isNullOrUndefined(_this.currentQuality) ? 1 : _this.currentQuality, obj['canvas'], _this.fileType);\n                        document.getElementById(id + '_' + _this.imageQuality).checked = true;\n                    }\n                }\n            });\n            drpDownBtn_1.appendTo('#' + id + '_saveDropdownbtn');\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var imgName = document.getElementById(id + '_imgNametext');\n            imgName.value = this.fileName ? this.fileName : fileObj['fileName'];\n            if (fileObj['fileType'] && fileObj['fileType'].toUpperCase() !== 'JPEG') {\n                qualityContainer.style.display = 'none';\n                qualitySliderValue.style.display = 'none';\n            }\n            if (Browser.isDevice) {\n                document.getElementById(id + '_dialogImgContent').style.display = 'none';\n                document.getElementById(id + '_dialogRightContent').style.width = '100%';\n                this.updateImageSize(1, obj['canvas'], this.fileType);\n            }\n            else {\n                this.updateImageSize(1, obj['canvas'], this.fileType);\n            }\n        }\n        document.getElementById(id + '_' + this.imageQuality).checked = true;\n        qualityBtnGrp.addEventListener('click', this.qualityBtnClickHandler.bind(this));\n        qualityBtnIcon.addEventListener('click', this.qualityBtnClickHandler.bind(this));\n    };\n    ToolbarModule.prototype.qualityBtnClickHandler = function (event) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var target = event.target;\n        var fileObj = { fileName: '' };\n        var obj = { canvas: null };\n        var compressionValues = {\n            'Good': 0.8,\n            'Great': 0.9,\n            'Highest': 1\n        };\n        var qualityBtnGrp = document.querySelector('#' + id + '_qualityButtonGroup');\n        var qualitySlider = document.querySelector('#' + id + '_qualitySlider');\n        var qualityOption = document.querySelector('#' + id + '_qualityOptionContainer');\n        var qualitySliderValueDiv = document.querySelector('#' + id + '_imgsizeSpan');\n        var qualitySliderValueSpan = document.querySelector('#' + id + '_imgsizeValueSpan');\n        parent.notify('draw', { prop: 'getFileName', onPropertyChange: false, value: { obj: fileObj } });\n        parent.notify('export', { prop: 'exportToCanvas', value: { object: obj } });\n        if (event.currentTarget.id === id + '_qualitybuttonIcon' && !this.isSlider) {\n            addClass([qualityBtnGrp], 'e-hide');\n            qualitySlider.style.display = 'block';\n            qualitySliderValueDiv.style.display = 'inline-block';\n            qualityOption.style.display = 'flex';\n            var sliderObj = new Slider({\n                tooltip: { placement: 'Before', isVisible: true, format: 'P0', showOn: 'Focus' },\n                min: 0.01, max: 1, step: 0.01, value: this.currentQuality,\n                type: 'MinRange',\n                width: Browser.isDevice ? '80%' : '190px',\n                created: function () {\n                    _this.updateImageSize(_this.currentQuality, obj['canvas'], 'jpeg');\n                    qualitySliderValueSpan.innerHTML = (Math.round(_this.currentQuality * 100)).toString();\n                },\n                changed: function (args) {\n                    _this.currentQuality = args.value;\n                    qualitySliderValueSpan.innerHTML = (Math.round(_this.currentQuality * 100)).toString();\n                    parent.notify('export', { prop: 'setImageQuality', value: { value: args.value } });\n                    _this.updateImageSize(args.value, obj['canvas'], 'jpeg');\n                }\n            });\n            sliderObj.appendTo('#' + id + '_qualitySlider');\n            sliderObj.element.parentElement.classList.add('e-ie-quality-slider');\n            this.isSlider = true;\n        }\n        else if (event.currentTarget.id === id + '_qualitybuttonIcon' && this.isSlider) {\n            getComponent(qualitySlider, 'slider').destroy();\n            qualitySlider.style.display = 'none';\n            qualitySliderValueDiv.style.display = 'none';\n            removeClass([qualityBtnGrp], 'e-hide');\n            qualityOption.style.display = 'block';\n            this.isSlider = false;\n            // eslint-disable-next-line no-prototype-builtins\n        }\n        else if (compressionValues.hasOwnProperty(target.textContent) && !this.isSlider) {\n            event.target.previousElementSibling.checked = true;\n            this.currentQuality = compressionValues[target.textContent];\n            this.imageQuality = target.textContent.toLowerCase();\n            this.updateImageSize(compressionValues[target.textContent], obj['canvas'], 'jpeg');\n        }\n    };\n    ToolbarModule.prototype.updateImageSize = function (quality, tempCanvas, fileType) {\n        var fileSize;\n        var parent = this.parent;\n        var id = parent.element.id;\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var canvas = document.getElementById(id + '_imgPic');\n        var ctx = canvas.getContext('2d');\n        var imageNameLabel;\n        if (Browser.isDevice) {\n            imageNameLabel = document.getElementById(id + '_qualitySize');\n        }\n        else {\n            imageNameLabel = document.getElementById(id + '_imageNameLabel');\n        }\n        if (fileType.toLowerCase() === 'jpeg') {\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            tempCanvas.toBlob((function (blob) {\n                fileSize = Math.floor(blob.size / 1024);\n                if (fileSize > 1000) {\n                    var megabytes = fileSize / 1024;\n                    imageNameLabel.innerHTML = this.l10n.getConstant('ImageSize') + ': ' + megabytes.toFixed(2) + ' MB';\n                    fileSize = +megabytes.toFixed(2);\n                }\n                else {\n                    imageNameLabel.innerHTML = this.l10n.getConstant('ImageSize') + ': ' + fileSize.toFixed(2) + ' KB';\n                    fileSize = +fileSize.toFixed(2);\n                }\n                if (Browser.isDevice) {\n                    canvas.style.display = 'none';\n                }\n                else {\n                    var compressedImage_1 = new Image();\n                    compressedImage_1.src = URL.createObjectURL(blob);\n                    // eslint-disable-next-line @typescript-eslint/tslint/config\n                    compressedImage_1.onload = function () {\n                        ctx.drawImage(compressedImage_1, 0, 0);\n                        URL.revokeObjectURL(compressedImage_1.src);\n                    };\n                }\n                this.fileSize = fileSize;\n            }).bind(this), 'image/jpeg', quality);\n        }\n        else if (!isNullOrUndefined(fileType) && (fileType.toLowerCase() === 'png' || fileType.toLowerCase() === 'webp')) {\n            var type = 'image/' + fileType.toLowerCase();\n            ctx.drawImage(tempCanvas, 0, 0);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            tempCanvas.toBlob((function (blob) {\n                fileSize = Math.floor(blob.size / 1024);\n                if (fileSize > 1000) {\n                    var megabytes = fileSize / 1024;\n                    imageNameLabel.innerHTML = this.l10n.getConstant('ImageSize') + ': ' + megabytes.toFixed(2) + ' MB';\n                    fileSize = +megabytes.toFixed(2);\n                }\n                else {\n                    imageNameLabel.innerHTML = this.l10n.getConstant('ImageSize') + ': ' + fileSize.toFixed(2) + ' KB';\n                    fileSize = +fileSize.toFixed(2);\n                }\n                if (Browser.isDevice) {\n                    canvas.style.display = 'none';\n                }\n                this.fileSize = fileSize;\n            }).bind(this), type, 1);\n        }\n        else if (!isNullOrUndefined(fileType) && fileType.toLowerCase() === 'svg') {\n            ctx.drawImage(tempCanvas, 0, 0);\n            var svgDataUrl = tempCanvas.toDataURL('image/svg+xml');\n            var base64Data = svgDataUrl.split(',')[1];\n            var binaryStringLength = base64Data.length;\n            var rawByteSize = binaryStringLength;\n            var fileSize_1 = Math.floor(rawByteSize / 1024); // KB\n            if (fileSize_1 > 1000) {\n                var megabytes = fileSize_1 / 1024; // Convert to MB\n                imageNameLabel.innerHTML = this.l10n.getConstant('ImageSize') + ': ' + megabytes.toFixed(2) + ' MB';\n                fileSize_1 = +megabytes.toFixed(2);\n            }\n            else {\n                imageNameLabel.innerHTML = this.l10n.getConstant('ImageSize') + ': ' + fileSize_1.toFixed(2) + ' KB';\n                fileSize_1 = +fileSize_1.toFixed(2);\n            }\n            if (Browser.isDevice) {\n                canvas.style.display = 'none';\n            }\n            this.fileSize = fileSize_1;\n        }\n        else {\n            if (Browser.isDevice) {\n                canvas.style.display = 'none';\n            }\n            else {\n                ctx.drawImage(tempCanvas, 0, 0);\n                if (this.initialSize > 1000) {\n                    var megabytes = this.initialSize / 1048576;\n                    imageNameLabel.innerHTML = this.l10n.getConstant('ImageSize') + ': ' + megabytes.toFixed(2) + ' MB';\n                }\n                else {\n                    imageNameLabel.innerHTML = this.l10n.getConstant('ImageSize') + ': ' + this.initialSize.toFixed(2) + ' KB';\n                }\n            }\n        }\n    };\n    ToolbarModule.prototype.download = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (this.fileType === 'JPEG' && this.isSlider) {\n            var value = getComponent(document.getElementById(id + '_qualitySlider'), 'slider').value;\n            parent.notify('export', { prop: 'setImageQuality', value: { value: value } });\n        }\n        else {\n            parent.notify('export', { prop: 'setImageQuality', value: { value: this.currentQuality } });\n        }\n        var fileName = document.getElementById(id + '_imgNametext').value;\n        parent.export(this.fileType, fileName);\n    };\n    ToolbarModule.prototype.getCropTransformToolbarItem = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var toolbarItems = [];\n        toolbarItems.push({ id: id + '_crop', tooltipText: this.l10n.getConstant('CropSelection'), align: 'Center',\n            template: '<button id=\"' + id + '_cropBtn\"></button>'\n        });\n        toolbarItems.push({ align: 'Center', type: 'Separator' });\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && (parent.toolbar.indexOf('Transform') > -1 || parent.toolbar.indexOf('RotateLeft') > -1))) {\n            toolbarItems.push({ id: id + '_rotateLeft', prefixIcon: 'e-icons e-anti-clock-wise', tooltipText: this.l10n.getConstant('RotateLeft'), align: 'Center' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && (parent.toolbar.indexOf('Transform') > -1 || parent.toolbar.indexOf('RotateRight') > -1))) {\n            toolbarItems.push({ id: id + '_rotateRight', prefixIcon: 'e-icons e-clock-wise', tooltipText: this.l10n.getConstant('RotateRight'), align: 'Center' });\n        }\n        if (toolbarItems.length > 2) {\n            toolbarItems.push({ align: 'Center', type: 'Separator' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && (parent.toolbar.indexOf('Transform') > -1 || parent.toolbar.indexOf('HorizontalFlip') > -1))) {\n            toolbarItems.push({ id: id + '_horizontalFlip', prefixIcon: 'e-icons e-horizontal-flip', tooltipText: this.l10n.getConstant('HorizontalFlip'), align: 'Center' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && (parent.toolbar.indexOf('Transform') > -1 || parent.toolbar.indexOf('VerticalFlip') > -1))) {\n            toolbarItems.push({ id: id + '_verticalFlip', prefixIcon: 'e-icons e-vertical-flip', tooltipText: this.l10n.getConstant('VerticalFlip'), align: 'Center' });\n        }\n        if ((isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Straightening') > -1)) && !Browser.isDevice) {\n            toolbarItems.push({ align: 'Center', type: 'Separator' });\n            if (isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Straightening') > -1)) {\n                var spanWidth = document.createElement('span');\n                spanWidth.innerHTML = this.l10n.getConstant('Straighten');\n                toolbarItems.push({ id: id + '_straightenSpan', cssClass: 'e-ie-straighten-span', template: spanWidth, align: 'Center' });\n                toolbarItems.push({ id: id + '_straighten',\n                    cssClass: 'top-icon e-straighten', tooltipText: this.l10n.getConstant('Straighten'), align: 'Center', type: 'Input',\n                    template: '<div id=\"' + id + '_straightenSlider\"></div>' });\n                var straightenSpan = document.createElement('span');\n                straightenSpan.innerHTML = parent.transform.straighten.toString() + '&#176';\n                toolbarItems.push({ id: id + '_straightenSpan', cssClass: 'e-ie-straighten-value-span',\n                    template: straightenSpan, align: 'Center' });\n            }\n        }\n        if (!Browser.isDevice) {\n            toolbarItems.push({ id: id + '_ok', prefixIcon: 'e-icons e-check', cssClass: 'top-icon e-tick',\n                tooltipText: this.l10n.getConstant('OK'), align: 'Right', tabIndex: 0 });\n            toolbarItems.push({ id: id + '_cancel', prefixIcon: 'e-icons e-close', cssClass: 'top-icon e-save',\n                tooltipText: this.l10n.getConstant('Cancel'), align: 'Right' });\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.getShapesToolbarItem = function (items) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var toolbarItems = [];\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar)) {\n            toolbarItems.push({ id: id + '_annotation', tooltipText: this.l10n.getConstant('Annotation'), align: 'Center',\n                template: '<button id=\"' + id + '_annotationBtn\"></button>' });\n        }\n        if (items.indexOf('fillColor') > -1) {\n            toolbarItems.push({ prefixIcon: 'e-icons e-copy', id: id + '_fillcolor',\n                cssClass: 'top-icon e-fill', tooltipText: this.l10n.getConstant('FillColor'), align: 'Center', type: 'Input',\n                template: '<button id=\"' + id + '_fillColorBtn\"></button>' });\n        }\n        if (items.indexOf('strokeColor') > -1) {\n            toolbarItems.push({ prefixIcon: 'e-icons e-copy', id: id + '_strokecolor',\n                cssClass: 'top-icon e-stroke', tooltipText: this.l10n.getConstant('StrokeColor'), align: 'Center', type: 'Input',\n                template: '<button id=\"' + id + '_borderColorBtn\"></button>' });\n        }\n        if (items.indexOf('strokeWidth') > -1) {\n            toolbarItems.push({ id: id + '_strokeWidth', cssClass: 'top-icon e-size', tooltipText: this.l10n.getConstant('StrokeWidth'), align: 'Center',\n                type: 'Input', template: '<button id=\"' + id + '_borderWidthBtn\"></button>' });\n        }\n        if (items.indexOf('start') > -1) {\n            toolbarItems.push({ id: id + '_start', cssClass: 'top-icon e-size', tooltipText: this.l10n.getConstant('Start'), align: 'Center',\n                type: 'Input', template: '<button id=\"' + id + '_startBtn\"></button>' });\n        }\n        if (items.indexOf('borderRadius') > -1) {\n            toolbarItems.push({ id: id + '_rectangleRadius', cssClass: 'top-icon e-size', tooltipText: this.l10n.getConstant('BorderRadius'), align: 'Center',\n                type: 'Input', template: '<button id=\"' + id + '_rectangleRadiusBtn\"></button>' });\n        }\n        if (items.indexOf('end') > -1) {\n            toolbarItems.push({ id: id + '_end', cssClass: 'top-icon e-size', tooltipText: this.l10n.getConstant('End'), align: 'Center',\n                type: 'Input', template: '<button id=\"' + id + '_endBtn\"></button>' });\n        }\n        if (items.indexOf('flip') > -1) {\n            toolbarItems.push({ id: id + '_rotLeft', prefixIcon: 'e-anti-clock-wise',\n                tooltipText: this.l10n.getConstant('RotateLeft'), align: 'Center' });\n            toolbarItems.push({ id: id + '_rotRight', prefixIcon: 'e-clock-wise',\n                tooltipText: this.l10n.getConstant('RotateRight'), align: 'Center' });\n            toolbarItems.push({ id: id + '_hFlip', prefixIcon: 'e-horizontal-flip',\n                tooltipText: this.l10n.getConstant('HorizontalFlip'), align: 'Center' });\n            toolbarItems.push({ id: id + '_vFlip', prefixIcon: 'e-vertical-flip',\n                tooltipText: this.l10n.getConstant('VerticalFlip'), align: 'Center' });\n        }\n        if (items.indexOf('transparency') > -1) {\n            toolbarItems.push({ align: 'Center', type: 'Separator' });\n            toolbarItems.push({ id: id + '_transparency', prefixIcon: 'e-opacity',\n                tooltipText: this.l10n.getConstant('Opacity'), align: 'Center' });\n        }\n        toolbarItems.push({ align: 'Center', type: 'Separator' });\n        if (items.indexOf('z-order') > -1) {\n            toolbarItems.push({ id: id + '_zOrder', cssClass: 'top-icon e-list-unordered-3', tooltipText: this.l10n.getConstant('ZOrder'), align: 'Center',\n                type: 'Input', template: '<button id=\"' + id + '_zOrderBtn\"></button>' });\n        }\n        if (items.indexOf('duplicate') > -1) {\n            toolbarItems.push({ id: id + '_duplicate', prefixIcon: 'e-icons e-order', cssClass: 'top-icon e-order',\n                tooltipText: this.l10n.getConstant('Duplicate'), align: 'Center' });\n        }\n        if (items.indexOf('remove') > -1) {\n            toolbarItems.push({ id: id + '_remove', prefixIcon: 'e-icons e-trash', cssClass: 'top-icon e-trash',\n                tooltipText: this.l10n.getConstant('Remove'), align: 'Center' });\n        }\n        if (items.indexOf('text') > -1) {\n            toolbarItems.push({ id: id + '_editText', prefixIcon: 'e-icons e-annotation-edit', cssClass: 'top-icon e-annotation-edit',\n                tooltipText: this.l10n.getConstant('EditText'), align: 'Center' });\n        }\n        var tempToolbarItems = this.processSubToolbar(items);\n        for (var i = 0, len = tempToolbarItems.length; i < len; i++) {\n            toolbarItems.push(tempToolbarItems[i]);\n        }\n        if (!Browser.isDevice) {\n            var obj = { shape: null };\n            parent.notify('selection', { prop: 'getCurrentDrawingShape', value: { obj: obj } });\n            if (obj['shape'] !== 'path') {\n                toolbarItems.push({ id: id + '_ok', prefixIcon: 'e-icons e-check', cssClass: 'top-icon e-tick',\n                    tooltipText: this.l10n.getConstant('OK'), align: 'Right', tabIndex: 0 });\n                toolbarItems.push({ id: id + '_cancel', prefixIcon: 'e-icons e-close', cssClass: 'top-icon e-save',\n                    tooltipText: this.l10n.getConstant('Cancel'), align: 'Right' });\n            }\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.initCropTransformToolbar = function (shape, isTransform) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var leftItem = this.getLeftToolbarItem();\n        var rightItem = this.getRightToolbarItem();\n        var mainItem = this.getCropTransformToolbarItem();\n        var zoomItem = this.getZoomToolbarItem();\n        if (Browser.isDevice) {\n            this.defToolbarItems = mainItem;\n        }\n        else {\n            this.defToolbarItems = leftItem.concat(zoomItem, mainItem, rightItem);\n        }\n        var args = { toolbarType: 'crop-transform', toolbarItems: this.defToolbarItems };\n        parent.trigger('toolbarUpdating', args);\n        this.defToolbarItems = args.toolbarItems;\n        var toolbar = new Toolbar({\n            width: '100%',\n            items: this.defToolbarItems,\n            clicked: this.defToolbarClicked.bind(this),\n            created: function () {\n                _this.renderCropBtn(shape);\n                _this.renderStraightenSlider();\n                _this.wireZoomBtnEvents();\n                parent.trigger('toolbarCreated', { toolbarType: 'shapes' });\n                if (Browser.isDevice) {\n                    if (_this.defToolbarItems.length > 0 && document.getElementById(id + '_bottomToolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                        toolbar.refreshOverflow();\n                        toolbar.refreshOverflow();\n                    }\n                }\n                else {\n                    _this.createLeftToolbarControls();\n                    if (_this.defToolbarItems.length > 0 && document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                    }\n                }\n                if (document.getElementById(id + '_cropBtn') && isNullOrUndefined(isTransform)) {\n                    if (!Browser.isDevice) {\n                        parent.notify('draw', { prop: 'select', onPropertyChange: false,\n                            value: { type: _this.getCropTextContent(document.getElementById(id + '_cropBtn')).toLowerCase(),\n                                startX: null, startY: null, width: null, height: null } });\n                    }\n                }\n            }\n        });\n        if (Browser.isDevice) {\n            toolbar.appendTo('#' + id + '_bottomToolbar');\n        }\n        else {\n            toolbar.appendTo('#' + id + '_toolbar');\n        }\n        var slider = parent.element.querySelector('#' + id + '_straightenSlider');\n        if ((isNullOrUndefined(parent.toolbar) || (parent.toolbar && parent.toolbar.indexOf('Straightening') > -1))\n            && slider && slider.parentElement.clientHeight > this.toolbarHeight) {\n            this.toolbarHeight = parent.toolbarHeight = slider.parentElement.clientHeight;\n        }\n        this.enableDisableTbrBtn();\n        parent.notify('transform', { prop: 'disableZoomOutBtn', value: { isZoomOut: true } });\n    };\n    ToolbarModule.prototype.getCropTextContent = function (elem) {\n        if (elem) {\n            var classToContentMap = { 'e-custom': 'Custom', 'e-circle': 'Circle',\n                'e-square': 'Square', 'e-custom-a': '3:2', 'e-custom-b': '4:3', 'e-custom-c': '5:4', 'e-custom-d': '7:5',\n                'e-custom-e': '16:9', 'e-custom-f': '2:3', 'e-custom-g': '3:4', 'e-custom-h': '4:5', 'e-custom-i': '5:7',\n                'e-custom-j': '9:16'\n            };\n            var classList = elem.children[0].classList;\n            for (var className in classToContentMap) {\n                if (classList.contains(className)) {\n                    return classToContentMap[className];\n                }\n            }\n        }\n        return '';\n    };\n    ToolbarModule.prototype.getCurrentShapeIcon = function (shape) {\n        // eslint-disable-next-line @typescript-eslint/tslint/config\n        var shapeIcons = {\n            rectangle: 'e-rectangle',\n            ellipse: 'e-circle',\n            line: 'e-line',\n            arrow: 'e-arrow-right-up',\n            path: 'e-critical-path',\n            text: 'e-add-text',\n            image: 'e-image',\n            pen: 'e-free-pen',\n            'crop-custom': 'e-custom',\n            'crop-circle': 'e-circle',\n            'crop-square': 'e-square',\n            'crop-3:2': 'e-custom-a',\n            'crop-4:3': 'e-custom-b',\n            'crop-5:4': 'e-custom-c',\n            'crop-7:5': 'e-custom-d',\n            'crop-16:9': 'e-custom-e',\n            'crop-2:3': 'e-custom-f',\n            'crop-3:4': 'e-custom-g',\n            'crop-4:5': 'e-custom-h',\n            'crop-5:7': 'e-custom-i',\n            'crop-9:16': 'e-custom-j'\n        };\n        return shapeIcons[shape] ? shapeIcons[shape] : (shape && shape.indexOf('crop-') !== -1) ? 'e-custom' : 'e-free-pen';\n    };\n    ToolbarModule.prototype.initShapesToolbarItem = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var leftItem = this.getLeftToolbarItem();\n        var rightItem = this.getRightToolbarItem();\n        var mainItem = this.getShapesToolbarItem(items);\n        var zoomItem = this.getZoomToolbarItem();\n        if (Browser.isDevice) {\n            this.defToolbarItems = mainItem;\n        }\n        else {\n            this.defToolbarItems = leftItem.concat(zoomItem, mainItem, rightItem);\n        }\n        var args = { toolbarType: parent.activeObj.shape ? parent.activeObj.shape : 'shapes',\n            toolbarItems: this.defToolbarItems };\n        parent.trigger('toolbarUpdating', args);\n        if (this.isToolbarString(args.toolbarItems)) {\n            items = args.toolbarItems;\n            this.excludeItems(args.toolbarItems);\n        }\n        else {\n            this.defToolbarItems = args.toolbarItems;\n        }\n        var toolbar = new Toolbar({\n            width: '100%',\n            items: this.defToolbarItems,\n            clicked: this.defToolbarClicked.bind(this),\n            created: function () {\n                _this.renderAnnotationBtn(true);\n                _this.createRectangleRadius(items);\n                _this.createShapeColor(items);\n                _this.createShapeBtn(items);\n                _this.createZOrderBtn(items);\n                if (parent.activeObj.shape === 'arrow') {\n                    // eslint-disable-next-line @typescript-eslint/tslint/config\n                    if (items.some(function (item) { return item.toLowerCase().indexOf('start') > -1; })) {\n                        _this.createStartBtn();\n                    }\n                    // eslint-disable-next-line @typescript-eslint/tslint/config\n                    if (items.some(function (item) { return item.toLowerCase().indexOf('end') > -1; })) {\n                        _this.createEndBtn();\n                    }\n                }\n                _this.wireZoomBtnEvents();\n                parent.trigger('toolbarCreated', { toolbarType: 'shapes' });\n                if (Browser.isDevice) {\n                    if (_this.defToolbarItems.length > 0 && document.getElementById(id + '_bottomToolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                        toolbar.refreshOverflow();\n                        toolbar.refreshOverflow();\n                    }\n                }\n                else {\n                    _this.createLeftToolbarControls();\n                    if (_this.defToolbarItems.length > 0 && document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                    }\n                }\n            }\n        });\n        if (Browser.isDevice) {\n            toolbar.appendTo('#' + id + '_bottomToolbar');\n        }\n        else {\n            toolbar.appendTo('#' + id + '_toolbar');\n        }\n        this.enableDisableTbrBtn();\n    };\n    ToolbarModule.prototype.createRectangleRadius = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (items.indexOf('borderRadius') > -1) {\n            var strokeWidthItems = [\n                { id: '1', text: this.l10n.getConstant('0') },\n                { id: '2', text: this.l10n.getConstant('20') },\n                { id: '3', text: this.l10n.getConstant('40') },\n                { id: '4', text: this.l10n.getConstant('60') },\n                { id: '5', text: this.l10n.getConstant('80') },\n                { id: '6', text: this.l10n.getConstant('100') }\n            ];\n            var strokeWidthBtn = document.getElementById(id + '_rectangleRadiusBtn');\n            var spanElem_2 = document.createElement('span');\n            spanElem_2.innerHTML = this.l10n.getConstant(parent.frameObj.radius.toString());\n            spanElem_2.className = 'e-shape-rectangle-radius';\n            strokeWidthBtn.appendChild(spanElem_2);\n            // Initialize the DropDownButton component.\n            var drpDownBtn_2 = new DropDownButton({ items: strokeWidthItems,\n                open: function (args) {\n                    if (Browser.isDevice) {\n                        var parentElem = args.element.parentElement;\n                        parentElem.style.top = drpDownBtn_2.element.getBoundingClientRect().top -\n                            parentElem.offsetHeight + 'px';\n                    }\n                    var activeBtn = drpDownBtn_2.element.childNodes[0].textContent;\n                    if (activeBtn !== '') {\n                        args.element.querySelector('[aria-label = ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                    }\n                },\n                select: function (args) {\n                    _this.triggerTbarClickEvent(args);\n                    spanElem_2.textContent = args.item.text;\n                    parent.updateStrokeWidth(args.item.id, 'radius');\n                    if (Browser.isDevice) {\n                        if (document.getElementById(id + '_bottomToolbar')) {\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            var toolbar_7 = getComponent(id + '_bottomToolbar', 'toolbar');\n                            toolbar_7.refreshOverflow();\n                        }\n                    }\n                    else {\n                        if (document.getElementById(id + '_toolbar')) {\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            var toolbar_8 = getComponent(id + '_toolbar', 'toolbar');\n                            toolbar_8.refreshOverflow();\n                        }\n                    }\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                }\n            });\n            // Render initialized DropDownButton.\n            drpDownBtn_2.appendTo('#' + id + '_rectangleRadiusBtn');\n        }\n    };\n    ToolbarModule.prototype.beforeModeSwitch = function (args, inst) {\n        this.popupLeft = args.element.offsetParent.style.left;\n        if (args.mode === 'Picker') {\n            inst.showButtons = true;\n            inst.dataBind();\n            args.element.querySelector('.e-apply').title = this.l10n.getConstant('Apply');\n            args.element.querySelector('.e-cancel').title = this.l10n.getConstant('Cancel');\n            args.element.querySelector('.e-mode-switch-btn').title = this.l10n.getConstant('StandardColors');\n        }\n        else {\n            inst.showButtons = false;\n            inst.dataBind();\n            args.element.querySelector('.e-mode-switch-btn').title = this.l10n.getConstant('MoreColors');\n        }\n    };\n    ToolbarModule.prototype.createShapeColor = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (items.indexOf('fillColor') > -1) {\n            parent.element.querySelector('.e-template.e-fill').appendChild(parent.createElement('input', {\n                id: id + '_shape_fill'\n            }));\n            var fillColor_1 = new ColorPicker({\n                modeSwitcher: true, noColor: true, value: '', inline: true,\n                showButtons: false, mode: 'Palette', cssClass: 'e-shape-fill-color',\n                beforeModeSwitch: function (args) { return _this.beforeModeSwitch(args, fillColor_1); },\n                presetColors: {\n                    'custom': ['', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3',\n                        '#03a9f4', '#00bcd4', '#009688', '#ffeb3b', '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd',\n                        '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7', '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb',\n                        '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4', '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9',\n                        '#81d4fa', '#80deea', '#80cbc4', '#fff59d', '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6',\n                        '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176', '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5',\n                        '#29b6f6', '#26c6da', '#26a69a', '#ffee58', '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5',\n                        '#039be5', '#00acc1', '#00897b', '#fdd835', '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2',\n                        '#0288d1', '#0097a7', '#00796b', '#fbc02d', '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0',\n                        '#0277bd', '#00838f', '#00695c', '#f9a825', '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1',\n                        '#01579b', '#006064', '#004d40', '#f57f17']\n                },\n                beforeTileRender: function (args) {\n                    if (args.value === '') {\n                        args.element.classList.add('e-nocolor-item');\n                    }\n                },\n                change: function (args) {\n                    parent.updateFillColor(args.value);\n                    if (args.currentValue.rgba === '') {\n                        fillDDB_1.element.children[0].classList.add('e-nocolor-item');\n                    }\n                    else {\n                        fillDDB_1.element.children[0].classList.remove('e-nocolor-item');\n                        fillDDB_1.element.children[0].style.backgroundColor = args.currentValue.rgba;\n                    }\n                    fillDDB_1.toggle();\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                },\n                onModeSwitch: function (args) {\n                    if (Browser.isDevice) {\n                        args.element.parentElement.parentElement.style.left = _this.popupLeft;\n                        args.element.parentElement.parentElement.style.top = (fillDDB_1.element.getBoundingClientRect().top - args.element.parentElement.parentElement.offsetHeight) + 'px';\n                    }\n                },\n                beforeClose: function () {\n                    fillDDB_1.toggle();\n                }\n            }, '#' + id + '_shape_fill');\n            var fillDDB_1 = new DropDownButton({\n                open: function (args) {\n                    var parenElem = args.element.parentElement;\n                    if (Browser.isDevice) {\n                        parenElem.style.top = fillDDB_1.element.getBoundingClientRect().top -\n                            parenElem.offsetHeight + 'px';\n                        if (window.innerWidth <= 520) {\n                            parenElem.style.left = parent.element.offsetLeft + 'px';\n                        }\n                    }\n                },\n                target: '.e-shape-fill-color',\n                iconCss: 'e-dropdownbtn-preview',\n                cssClass: 'e-ie-ddb-popup'\n            }, '#' + id + '_fillColorBtn');\n            fillColor_1.inline = true;\n            fillColor_1.value = fillColor_1.getValue(fillColor_1.value, 'rgba');\n            parent.element.querySelector('.e-fill.e-template .e-dropdownbtn-preview').classList.add('e-nocolor-item');\n        }\n        if (items.indexOf('strokeColor') > -1) {\n            parent.element.querySelector('.e-template.e-stroke').appendChild(parent.createElement('input', {\n                id: id + '_shape_stroke'\n            }));\n            var strokeColor_1 = new ColorPicker({\n                modeSwitcher: true, noColor: false, value: '#fff', inline: true,\n                showButtons: false, mode: 'Palette', cssClass: 'e-shape-stroke-color',\n                beforeModeSwitch: function (args) {\n                    _this.popupLeft = args.element.offsetParent.style.left;\n                    strokeColor_1.value = parent.activeObj.strokeSettings.strokeColor !== '#fff' ? parent.activeObj.strokeSettings.strokeColor : '#008000ff';\n                    _this.beforeModeSwitch(args, strokeColor_1);\n                },\n                presetColors: this.presetColors,\n                change: function (args) {\n                    parent.updateStrokeColor(args.value);\n                    strokeDDB_1.element.children[0].style.backgroundColor = args.currentValue.rgba;\n                    strokeDDB_1.toggle();\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                },\n                onModeSwitch: function (args) {\n                    if (Browser.isDevice) {\n                        args.element.parentElement.parentElement.style.left = _this.popupLeft;\n                        args.element.parentElement.parentElement.style.top = (strokeDDB_1.element.getBoundingClientRect().top - args.element.parentElement.parentElement.offsetHeight) + 'px';\n                    }\n                },\n                beforeClose: function () {\n                    strokeDDB_1.toggle();\n                }\n            }, '#' + id + '_shape_stroke');\n            var strokeDDB_1 = new DropDownButton({\n                open: function (args) {\n                    var parenElem = args.element.parentElement;\n                    if (Browser.isDevice) {\n                        parenElem.style.top = strokeDDB_1.element.getBoundingClientRect().top -\n                            parenElem.offsetHeight + 'px';\n                        if (window.innerWidth <= 520) {\n                            parenElem.style.left = parent.element.offsetLeft + 'px';\n                        }\n                    }\n                },\n                target: '.e-shape-stroke-color',\n                iconCss: 'e-dropdownbtn-preview',\n                cssClass: 'e-ie-ddb-popup'\n            }, '#' + id + '_borderColorBtn');\n            strokeColor_1.inline = true;\n            strokeColor_1.value = strokeColor_1.getValue(strokeColor_1.value, 'rgba');\n            parent.element.querySelector('.e-stroke.e-template .e-dropdownbtn-preview').style.background = '#fff';\n        }\n    };\n    ToolbarModule.prototype.createShapeBtn = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (items.indexOf('strokeWidth') > -1) {\n            var strokeWidthItems = [\n                { id: '1', text: this.l10n.getConstant('XSmall') },\n                { id: '2', text: this.l10n.getConstant('Small') },\n                { id: '3', text: this.l10n.getConstant('Medium') },\n                { id: '4', text: this.l10n.getConstant('Large') },\n                { id: '5', text: this.l10n.getConstant('XLarge') }\n            ];\n            if (parent.activeObj.shape && (parent.activeObj.shape === 'rectangle' || parent.activeObj.shape === 'ellipse')) {\n                strokeWidthItems = [\n                    { id: '1', text: this.l10n.getConstant('NoOutline') },\n                    { id: '2', text: this.l10n.getConstant('XSmall') },\n                    { id: '3', text: this.l10n.getConstant('Small') },\n                    { id: '4', text: this.l10n.getConstant('Medium') },\n                    { id: '5', text: this.l10n.getConstant('Large') },\n                    { id: '6', text: this.l10n.getConstant('XLarge') }\n                ];\n            }\n            var strokeWidthBtn = document.getElementById(id + '_borderWidthBtn');\n            var spanElem_3 = document.createElement('span');\n            spanElem_3.innerHTML = this.l10n.getConstant('XSmall');\n            spanElem_3.className = 'e-shape-stroke-width';\n            strokeWidthBtn.appendChild(spanElem_3);\n            // Initialize the DropDownButton component.\n            var drpDownBtn_3 = new DropDownButton({ items: strokeWidthItems,\n                open: function (args) {\n                    if (Browser.isDevice) {\n                        args.element.parentElement.style.top = drpDownBtn_3.element.getBoundingClientRect().top -\n                            args.element.parentElement.offsetHeight + 'px';\n                    }\n                    var activeBtn = spanElem_3.innerHTML;\n                    if (activeBtn !== '') {\n                        args.element.querySelector('[aria-label = ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                    }\n                },\n                select: function (args) {\n                    _this.triggerTbarClickEvent(args);\n                    spanElem_3.textContent = args.item.text;\n                    parent.updateStrokeWidth(args.item.id, 'width', parent.activeObj.shape);\n                    if (Browser.isDevice) {\n                        if (document.getElementById(id + '_bottomToolbar')) {\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            var toolbar_9 = getComponent(id + '_bottomToolbar', 'toolbar');\n                            toolbar_9.refreshOverflow();\n                        }\n                    }\n                    else {\n                        if (document.getElementById(id + '_toolbar')) {\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            var toolbar_10 = getComponent(id + '_toolbar', 'toolbar');\n                            toolbar_10.refreshOverflow();\n                        }\n                    }\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                }\n            });\n            // Render initialized DropDownButton.\n            drpDownBtn_3.appendTo('#' + id + '_borderWidthBtn');\n        }\n    };\n    ToolbarModule.prototype.createZOrderBtn = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (items.indexOf('z-order') > -1) {\n            var zOrderItems = [\n                { text: this.l10n.getConstant('BringForward'), id: 'bringForward', iconCss: 'e-icons e-bring-forward' },\n                { text: this.l10n.getConstant('SendBackward'), id: 'sendBackward', iconCss: 'e-icons e-send-backward' },\n                { text: this.l10n.getConstant('BringToFront'), id: 'bringToFront', iconCss: 'e-icons e-bring-to-front' },\n                { text: this.l10n.getConstant('SendToBack'), id: 'sendToBack', iconCss: 'e-icons e-send-to-back' }\n            ];\n            // Initialize the DropDownButton component.\n            var drpDownBtn_4 = new DropDownButton({ items: zOrderItems, iconCss: 'e-icons e-layers',\n                beforeOpen: function (args) {\n                    if (document.getElementById(parent.element.id + '_zOrderBtn').classList.contains('e-disabled')) {\n                        args.cancel = true;\n                    }\n                    var indexObj = { freehandSelectedIndex: -1 };\n                    parent.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n                    var orderObj = { order: null };\n                    parent.notify('shape', { prop: 'getHighestOrder', onPropertyChange: false, value: { obj: orderObj } });\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var order = parent.activeObj.order ? parent.activeObj.order : parent.getObjFromId(parent.pointColl[indexObj['freehandSelectedIndex']].id).order;\n                    if (order && order >= orderObj['order']) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        args.items[0].disabled = true;\n                        args.items[2].disabled = true;\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        args.items[0].disabled = false;\n                        args.items[2].disabled = false;\n                    }\n                    parent.notify('shape', { prop: 'getLowestOrder', onPropertyChange: false, value: { obj: orderObj } });\n                    if (order && order <= orderObj['order']) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        args.items[1].disabled = true;\n                        args.items[3].disabled = true;\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        args.items[1].disabled = false;\n                        args.items[3].disabled = false;\n                    }\n                },\n                open: function (args) {\n                    if (Browser.isDevice) {\n                        args.element.parentElement.style.top = drpDownBtn_4.element.getBoundingClientRect().top -\n                            args.element.parentElement.offsetHeight + 'px';\n                    }\n                },\n                select: function (args) {\n                    _this.triggerTbarClickEvent(args);\n                    var obj = { freehandDrawSelectedId: null };\n                    parent.notify('freehand-draw', { prop: 'getFreehandDrawSelectedId', onPropertyChange: false, value: { obj: obj } });\n                    var shapeId = obj['freehandDrawSelectedId'] ? obj['freehandDrawSelectedId'] : parent.activeObj.currIndex;\n                    parent.updateShapeOrder(shapeId, args.item.id);\n                    if (Browser.isDevice) {\n                        if (document.getElementById(id + '_bottomToolbar')) {\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            var toolbar_11 = getComponent(id + '_bottomToolbar', 'toolbar');\n                            toolbar_11.refreshOverflow();\n                        }\n                    }\n                    else {\n                        if (document.getElementById(id + '_toolbar')) {\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            var toolbar_12 = getComponent(id + '_toolbar', 'toolbar');\n                            toolbar_12.refreshOverflow();\n                        }\n                    }\n                    if (shapeId.indexOf('shape') > -1) {\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                    }\n                    else if (shapeId.indexOf('pen') > -1) {\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoStack', value: { isPenDraw: true } });\n                    }\n                }\n            });\n            // Render initialized DropDownButton.\n            drpDownBtn_4.appendTo('#' + id + '_zOrderBtn');\n        }\n    };\n    ToolbarModule.prototype.createStartBtn = function () {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var strokeWidthItems = [\n            { id: '1', text: this.l10n.getConstant('None') },\n            { id: '2', text: this.l10n.getConstant('Bar') },\n            { id: '3', text: this.l10n.getConstant('Arrow') },\n            { id: '4', text: this.l10n.getConstant('ArrowSolid') },\n            { id: '5', text: this.l10n.getConstant('Circle') },\n            { id: '6', text: this.l10n.getConstant('CircleSolid') },\n            { id: '7', text: this.l10n.getConstant('Square') },\n            { id: '8', text: this.l10n.getConstant('SquareSolid') }\n        ];\n        var strokeWidthBtn = document.getElementById(id + '_startBtn');\n        var spanElem = document.createElement('span');\n        if (isNullOrUndefined(parent.activeObj.start)) {\n            parent.activeObj.start = 'none';\n        }\n        spanElem.innerHTML = parent.pascalToSplitWords(parent.activeObj.start);\n        spanElem.className = 'e-shape-start';\n        strokeWidthBtn.appendChild(spanElem);\n        // Initialize the DropDownButton component.\n        var drpDownBtn = new DropDownButton({ items: strokeWidthItems,\n            open: function (args) {\n                if (Browser.isDevice) {\n                    args.element.parentElement.style.top = drpDownBtn.element.getBoundingClientRect().top -\n                        args.element.parentElement.offsetHeight + 'px';\n                }\n                var activeBtn = spanElem.innerHTML;\n                if (activeBtn !== '') {\n                    args.element.querySelector('[aria-label = ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                }\n            },\n            select: function (args) {\n                var idToValue = { '1': 'none', '2': 'bar', '3': 'arrow', '4': 'arrowSolid',\n                    '5': 'circle', '6': 'circleSolid', '7': 'square', '8': 'squareSolid' };\n                parent.notify('selection', { prop: 'setArrowShape', value: { type: 'initial', shape: idToValue[\"\" + args.item.id] } });\n                _this.triggerTbarClickEvent(args);\n                spanElem.textContent = args.item.text;\n                parent.updateArrow('startArrow', args.item.id);\n                parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n            }\n        });\n        // Render initialized DropDownButton.\n        drpDownBtn.appendTo('#' + id + '_startBtn');\n    };\n    ToolbarModule.prototype.createEndBtn = function () {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var strokeWidthItems = [\n            { id: '1', text: this.l10n.getConstant('None') },\n            { id: '2', text: this.l10n.getConstant('Bar') },\n            { id: '3', text: this.l10n.getConstant('Arrow') },\n            { id: '4', text: this.l10n.getConstant('ArrowSolid') },\n            { id: '5', text: this.l10n.getConstant('Circle') },\n            { id: '6', text: this.l10n.getConstant('CircleSolid') },\n            { id: '7', text: this.l10n.getConstant('Square') },\n            { id: '8', text: this.l10n.getConstant('SquareSolid') }\n        ];\n        var strokeEndBtn = document.getElementById(id + '_endBtn');\n        var spanElem = document.createElement('span');\n        if (isNullOrUndefined(parent.activeObj.end)) {\n            parent.activeObj.end = 'arrowSolid';\n        }\n        spanElem.innerHTML = parent.pascalToSplitWords(parent.activeObj.end);\n        spanElem.className = 'e-shape-end';\n        strokeEndBtn.appendChild(spanElem);\n        // Initialize the DropDownButton component.\n        var drpDownBtn = new DropDownButton({ items: strokeWidthItems,\n            open: function (args) {\n                if (Browser.isDevice) {\n                    args.element.parentElement.style.top = drpDownBtn.element.getBoundingClientRect().top -\n                        args.element.parentElement.offsetHeight + 'px';\n                }\n                var activeBtn = spanElem.innerHTML;\n                if (activeBtn !== '') {\n                    args.element.querySelector('[aria-label = ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                }\n            },\n            select: function (args) {\n                var idToValue = { '1': 'none', '2': 'bar', '3': 'arrow', '4': 'arrowSolid',\n                    '5': 'circle', '6': 'circleSolid', '7': 'square', '8': 'squareSolid' };\n                parent.notify('selection', { prop: 'setArrowShape', value: { type: 'final', shape: idToValue[\"\" + args.item.id] } });\n                _this.triggerTbarClickEvent(args);\n                spanElem.textContent = args.item.text;\n                parent.updateArrow('endArrow', args.item.id);\n                parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n            }\n        });\n        // Render initialized DropDownButton.\n        drpDownBtn.appendTo('#' + id + '_endBtn');\n    };\n    ToolbarModule.prototype.getTextToolbarItem = function (items) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var toolbarItems = [];\n        if (isNullOrUndefined(parent.toolbar) || (parent.toolbar)) {\n            toolbarItems.push({ id: id + '_annotation', tooltipText: this.l10n.getConstant('Annotation'), align: 'Center',\n                template: '<button id=\"' + id + '_annotationBtn\"></button>' });\n        }\n        if (items.indexOf('fontFamily') > -1) {\n            toolbarItems.push({ id: id + '_fontFamily', cssClass: 'top-icon e-img-font-family',\n                tooltipText: this.l10n.getConstant('FontFamily'), align: 'Center',\n                template: '<button id=\"' + id + '_fontFamilyBtn\"></button>' });\n        }\n        if (items.indexOf('fontSize') > -1) {\n            toolbarItems.push({ id: id + '_fontSize', cssClass: 'top-icon e-img-font-size',\n                tooltipText: this.l10n.getConstant('FontSize'), align: 'Center',\n                template: '<button id=\"' + id + '_fontSizeBtn\"></button>' });\n        }\n        if (items.indexOf('fontColor') > -1) {\n            toolbarItems.push({ cssClass: 'top-icon e-text-font-color', id: id + '_text_strokecolor',\n                tooltipText: this.l10n.getConstant('FontColor'), align: 'Center',\n                type: 'Input', template: '<button id=\"' + id + '_fontColorBtn\"></button>' });\n        }\n        if (items.indexOf('strokeColor') > -1) {\n            toolbarItems.push({ cssClass: 'top-icon e-stroke-text-font-color', id: id + '_stroke_text_color',\n                tooltipText: this.l10n.getConstant('TextOutlineColor'), align: 'Center',\n                type: 'Input', template: '<button id=\"' + id + '_strokeTextColorBtn\"></button>' });\n        }\n        if (items.indexOf('fillColor') > -1) {\n            toolbarItems.push({ cssClass: 'top-icon e-text-background-color', id: id + '_text_backgroundcolor',\n                tooltipText: this.l10n.getConstant('FillColor'), align: 'Center',\n                type: 'Input', template: '<button id=\"' + id + '_bgColorBtn\"></button>'\n            });\n        }\n        if (items.indexOf('bold') > -1) {\n            toolbarItems.push({ id: id + '_bold', prefixIcon: 'e-icons e-bold', cssClass: 'top-icon e-bold',\n                tooltipText: this.l10n.getConstant('Bold'), align: 'Center' });\n        }\n        if (items.indexOf('italic') > -1) {\n            toolbarItems.push({ id: id + '_italic', prefixIcon: 'e-icons e-italic', cssClass: 'top-icon e-italic',\n                tooltipText: this.l10n.getConstant('Italic'), align: 'Center' });\n        }\n        if (items.indexOf('strokeWidth') > -1) {\n            toolbarItems.push({ id: id + '_strokeWidth', cssClass: 'top-icon e-size', tooltipText: this.l10n.getConstant('TextOutlineWidth'), align: 'Center',\n                type: 'Input', template: '<button id=\"' + id + '_borderWidthBtn\"></button>' });\n        }\n        if (items.indexOf('transparency') > -1) {\n            toolbarItems.push({ id: id + '_transparency', prefixIcon: 'e-opacity',\n                tooltipText: this.l10n.getConstant('Opacity'), align: 'Center' });\n        }\n        toolbarItems.push({ align: 'Center', type: 'Separator' });\n        if (items.indexOf('z-order') > -1) {\n            toolbarItems.push({ id: id + '_zOrder', cssClass: 'top-icon e-list-unordered-3', tooltipText: this.l10n.getConstant('ZOrder'), align: 'Center',\n                type: 'Input', template: '<button id=\"' + id + '_zOrderBtn\"></button>' });\n        }\n        if (items.indexOf('duplicate') > -1) {\n            toolbarItems.push({ id: id + '_duplicate', prefixIcon: 'e-icons e-order', cssClass: 'top-icon e-order',\n                tooltipText: this.l10n.getConstant('Duplicate'), align: 'Center', disabled: (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') ? true : false });\n        }\n        if (items.indexOf('remove') > -1) {\n            toolbarItems.push({ id: id + '_remove', prefixIcon: 'e-icons e-trash', cssClass: 'top-icon e-trash',\n                tooltipText: this.l10n.getConstant('Remove'), align: 'Center', disabled: (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') ? true : false });\n        }\n        if (items.indexOf('text') > -1) {\n            toolbarItems.push({ id: id + '_editText', prefixIcon: 'e-icons e-annotation-edit', cssClass: 'top-icon e-annotation-edit',\n                tooltipText: this.l10n.getConstant('EditText'), align: 'Center', disabled: (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') ? true : false });\n        }\n        var tempToolbarItems = this.processSubToolbar(items);\n        for (var i = 0, len = tempToolbarItems.length; i < len; i++) {\n            toolbarItems.push(tempToolbarItems[i]);\n        }\n        if (!Browser.isDevice) {\n            toolbarItems.push({ id: id + '_ok', prefixIcon: 'e-icons e-check', cssClass: 'top-icon e-tick',\n                tooltipText: this.l10n.getConstant('OK'), align: 'Right', tabIndex: 0 });\n            toolbarItems.push({ id: id + '_cancel', prefixIcon: 'e-icons e-close', cssClass: 'top-icon e-save',\n                tooltipText: this.l10n.getConstant('Cancel'), align: 'Right' });\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.getFontFamilyItems = function () {\n        var parent = this.parent;\n        var items = [];\n        if (parent.fontFamily && parent.fontFamily.items && parent.fontFamily.items.length > 0) {\n            items = parent.fontFamily.items;\n        }\n        else {\n            if (Browser.isDevice) {\n                items = [{ id: 'arial', text: 'ABC' }, { id: 'calibri', text: 'ABC' }, { id: 'georgia', text: 'ABC' },\n                    { id: 'roboto', text: 'ABC' }, { id: 'tahoma', text: 'ABC' }];\n            }\n            else {\n                items = [{ id: 'arial', text: 'Arial' }, { id: 'calibri', text: 'Calibri' }, { id: 'georgia', text: 'Georgia' },\n                    { id: 'roboto', text: 'Roboto' }, { id: 'tahoma', text: 'Tahoma' }];\n            }\n        }\n        return items;\n    };\n    ToolbarModule.prototype.initTextToolbarItem = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var leftItem = this.getLeftToolbarItem();\n        var rightItem = this.getRightToolbarItem();\n        var mainItem = this.getTextToolbarItem(items);\n        var zoomItem = this.getZoomToolbarItem();\n        if (Browser.isDevice) {\n            this.defToolbarItems = mainItem;\n        }\n        else {\n            this.defToolbarItems = leftItem.concat(zoomItem, mainItem, rightItem);\n        }\n        var args = { toolbarType: 'text', toolbarItems: this.defToolbarItems };\n        parent.trigger('toolbarUpdating', args);\n        if (this.isToolbarString(args.toolbarItems)) {\n            items = args.toolbarItems;\n            this.excludeItems(args.toolbarItems);\n        }\n        else {\n            this.defToolbarItems = args.toolbarItems;\n        }\n        var toolbar = new Toolbar({\n            width: '100%',\n            items: this.defToolbarItems,\n            clicked: this.defToolbarClicked.bind(this),\n            created: function () {\n                _this.renderAnnotationBtn(true);\n                _this.createTextColor(items);\n                _this.createStrokeTextColor(items);\n                _this.createShapeBtn(items);\n                _this.createBackgroundColor(items);\n                _this.createTextBtn(items);\n                _this.createZOrderBtn(items);\n                _this.wireZoomBtnEvents();\n                parent.trigger('toolbarCreated', { toolbarType: 'text' });\n                if (Browser.isDevice) {\n                    if (_this.defToolbarItems.length > 0 && document.getElementById(id + '_bottomToolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                        toolbar.refreshOverflow();\n                        toolbar.refreshOverflow();\n                    }\n                }\n                else {\n                    _this.createLeftToolbarControls();\n                    if (_this.defToolbarItems.length > 0 && document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                    }\n                }\n            }\n        });\n        if (Browser.isDevice) {\n            toolbar.appendTo('#' + id + '_bottomToolbar');\n        }\n        else {\n            toolbar.appendTo('#' + id + '_toolbar');\n        }\n        this.enableDisableTbrBtn();\n    };\n    ToolbarModule.prototype.createTextColor = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (items.indexOf('fontColor') > -1 && parent.element.querySelector('.e-template.e-text-font-color')) {\n            parent.element.querySelector('.e-template.e-text-font-color').appendChild(parent.createElement('input', {\n                id: id + '_text_font'\n            }));\n            var fontColor_1 = new ColorPicker({\n                modeSwitcher: true, noColor: false, value: '#fff', inline: true,\n                showButtons: false, mode: 'Palette', cssClass: 'e-text-fontt-color',\n                beforeModeSwitch: function (args) {\n                    _this.popupLeft = args.element.offsetParent.style.left;\n                    fontColor_1.value = parent.activeObj.strokeSettings.strokeColor !== '#fff' ? parent.activeObj.strokeSettings.strokeColor : '#008000ff';\n                    _this.beforeModeSwitch(args, fontColor_1);\n                },\n                presetColors: this.presetColors,\n                change: function (args) {\n                    parent.updateFontColor(args.value, 'Text');\n                    strokeDDB_2.element.children[0].style.backgroundColor = args.currentValue.rgba;\n                    strokeDDB_2.toggle();\n                    if (parent.activeObj.activePoint.width !== 0 || parent.activeObj.activePoint.height !== 0) {\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                    }\n                },\n                onModeSwitch: function (args) {\n                    if (Browser.isDevice) {\n                        args.element.parentElement.parentElement.style.left = _this.popupLeft;\n                        args.element.parentElement.parentElement.style.top = (strokeDDB_2.element.getBoundingClientRect().top - args.element.parentElement.parentElement.offsetHeight) + 'px';\n                    }\n                },\n                beforeClose: function () {\n                    strokeDDB_2.toggle();\n                }\n            }, '#' + id + '_text_font');\n            var strokeDDB_2 = new DropDownButton({\n                open: function (args) {\n                    var parenElem = args.element.parentElement;\n                    if (Browser.isDevice) {\n                        parenElem.style.top = strokeDDB_2.element.getBoundingClientRect().top -\n                            parenElem.offsetHeight + 'px';\n                        if (window.innerWidth <= 520) {\n                            parenElem.style.left = parent.element.offsetLeft + 'px';\n                        }\n                    }\n                },\n                target: '.e-text-fontt-color',\n                iconCss: 'e-dropdownbtn-preview',\n                cssClass: 'e-ie-ddb-popup'\n            }, '#' + id + '_fontColorBtn');\n            fontColor_1.inline = true;\n            fontColor_1.value = fontColor_1.getValue(fontColor_1.value, 'rgba');\n            parent.element.querySelector('.e-text-font-color.e-template .e-dropdownbtn-preview').style.background\n                = '#fff';\n        }\n    };\n    ToolbarModule.prototype.createBackgroundColor = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (items.indexOf('fillColor') > -1 && parent.element.querySelector('.e-template.e-text-background-color')) {\n            parent.element.querySelector('.e-template.e-text-background-color').appendChild(parent.createElement('input', {\n                id: id + '_text_bgColor'\n            }));\n            var backgroundColor_1 = new ColorPicker({\n                modeSwitcher: true, noColor: true, value: '', inline: true,\n                showButtons: false, mode: 'Palette', cssClass: 'e-text-fontt-color',\n                beforeModeSwitch: function (args) {\n                    _this.popupLeft = args.element.offsetParent.style.left;\n                    _this.beforeModeSwitch(args, backgroundColor_1);\n                },\n                presetColors: {\n                    'custom': ['', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3',\n                        '#03a9f4', '#00bcd4', '#009688', '#ffeb3b', '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd',\n                        '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7', '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb',\n                        '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4', '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9',\n                        '#81d4fa', '#80deea', '#80cbc4', '#fff59d', '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6',\n                        '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176', '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5',\n                        '#29b6f6', '#26c6da', '#26a69a', '#ffee58', '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5',\n                        '#039be5', '#00acc1', '#00897b', '#fdd835', '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2',\n                        '#0288d1', '#0097a7', '#00796b', '#fbc02d', '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0',\n                        '#0277bd', '#00838f', '#00695c', '#f9a825', '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1',\n                        '#01579b', '#006064', '#004d40', '#f57f17']\n                },\n                beforeTileRender: function (args) {\n                    if (args.value === '') {\n                        args.element.classList.add('e-nocolor-item');\n                    }\n                },\n                change: function (args) {\n                    parent.updateFontColor(args.value, 'Background');\n                    if (args.currentValue.rgba === '') {\n                        strokeDDB_3.element.children[0].classList.add('e-nocolor-item');\n                    }\n                    else {\n                        strokeDDB_3.element.children[0].classList.remove('e-nocolor-item');\n                        strokeDDB_3.element.children[0].style.backgroundColor = args.currentValue.rgba;\n                    }\n                    strokeDDB_3.toggle();\n                    if (parent.activeObj.activePoint.width !== 0 || parent.activeObj.activePoint.height !== 0) {\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                    }\n                },\n                onModeSwitch: function (args) {\n                    if (Browser.isDevice) {\n                        args.element.parentElement.parentElement.style.left = _this.popupLeft;\n                        args.element.parentElement.parentElement.style.top = (strokeDDB_3.element.getBoundingClientRect().top - args.element.parentElement.parentElement.offsetHeight) + 'px';\n                    }\n                },\n                beforeClose: function () {\n                    strokeDDB_3.toggle();\n                }\n            }, '#' + id + '_text_bgColor');\n            var strokeDDB_3 = new DropDownButton({\n                open: function (args) {\n                    var parenElem = args.element.parentElement;\n                    if (Browser.isDevice) {\n                        parenElem.style.top = strokeDDB_3.element.getBoundingClientRect().top -\n                            parenElem.offsetHeight + 'px';\n                        if (window.innerWidth <= 520) {\n                            parenElem.style.left = parent.element.offsetLeft + 'px';\n                        }\n                    }\n                },\n                target: '.e-text-fontt-color',\n                iconCss: 'e-dropdownbtn-preview',\n                cssClass: 'e-ie-ddb-popup'\n            }, '#' + id + '_bgColorBtn');\n            backgroundColor_1.inline = true;\n            backgroundColor_1.value = backgroundColor_1.getValue(backgroundColor_1.value, 'rgba');\n            parent.element.querySelector('.e-text-background-color.e-template .e-dropdownbtn-preview').style.background\n                = '#fff';\n        }\n    };\n    ToolbarModule.prototype.createStrokeTextColor = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (items.indexOf('strokeColor') > -1 && parent.element.querySelector('.e-template.e-stroke-text-font-color')) {\n            parent.element.querySelector('.e-template.e-stroke-text-font-color').appendChild(parent.createElement('input', {\n                id: id + '_stroke_text'\n            }));\n            var fontColor_2 = new ColorPicker({\n                modeSwitcher: true, noColor: true, value: '', inline: true,\n                showButtons: false, mode: 'Palette', cssClass: 'e-text-fontt-color',\n                beforeModeSwitch: function (args) {\n                    _this.popupLeft = args.element.offsetParent.style.left;\n                    _this.beforeModeSwitch(args, fontColor_2);\n                },\n                presetColors: {\n                    'custom': ['', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3',\n                        '#03a9f4', '#00bcd4', '#009688', '#ffeb3b', '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd',\n                        '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7', '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb',\n                        '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4', '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9',\n                        '#81d4fa', '#80deea', '#80cbc4', '#fff59d', '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6',\n                        '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176', '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5',\n                        '#29b6f6', '#26c6da', '#26a69a', '#ffee58', '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5',\n                        '#039be5', '#00acc1', '#00897b', '#fdd835', '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2',\n                        '#0288d1', '#0097a7', '#00796b', '#fbc02d', '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0',\n                        '#0277bd', '#00838f', '#00695c', '#f9a825', '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1',\n                        '#01579b', '#006064', '#004d40', '#f57f17']\n                },\n                beforeTileRender: function (args) {\n                    if (args.value === '') {\n                        args.element.classList.add('e-nocolor-item');\n                    }\n                },\n                change: function (args) {\n                    parent.updateStrokeTextColor(args.value);\n                    if (args.currentValue.rgba === '') {\n                        strokeDDB_4.element.children[0].classList.add('e-nocolor-item');\n                    }\n                    else {\n                        strokeDDB_4.element.children[0].classList.remove('e-nocolor-item');\n                        strokeDDB_4.element.children[0].style.backgroundColor = args.currentValue.rgba;\n                    }\n                    strokeDDB_4.toggle();\n                    if (parent.activeObj.activePoint.width !== 0 || parent.activeObj.activePoint.height !== 0) {\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                    }\n                },\n                onModeSwitch: function (args) {\n                    if (Browser.isDevice) {\n                        args.element.parentElement.parentElement.style.left = _this.popupLeft;\n                        args.element.parentElement.parentElement.style.top = (strokeDDB_4.element.getBoundingClientRect().top - args.element.parentElement.parentElement.offsetHeight) + 'px';\n                    }\n                },\n                beforeClose: function () {\n                    strokeDDB_4.toggle();\n                }\n            }, '#' + id + '_stroke_text');\n            var strokeDDB_4 = new DropDownButton({\n                open: function (args) {\n                    var parenElem = args.element.parentElement;\n                    if (Browser.isDevice) {\n                        parenElem.style.top = strokeDDB_4.element.getBoundingClientRect().top -\n                            parenElem.offsetHeight + 'px';\n                        if (window.innerWidth <= 520) {\n                            parenElem.style.left = parent.element.offsetLeft + 'px';\n                        }\n                    }\n                },\n                target: '.e-text-fontt-color',\n                iconCss: 'e-dropdownbtn-preview',\n                cssClass: 'e-ie-ddb-popup'\n            }, '#' + id + '_strokeTextColorBtn');\n            fontColor_2.inline = true;\n            fontColor_2.value = fontColor_2.getValue(fontColor_2.value, 'rgba');\n            parent.element.querySelector('.e-stroke-text-font-color.e-template .e-dropdownbtn-preview').style.background\n                = '#fff';\n        }\n    };\n    ToolbarModule.prototype.createTextBtn = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (items.indexOf('fontFamily') > -1) {\n            var fontNameBtn = document.getElementById(id + '_fontFamilyBtn');\n            var spanElem_4 = document.createElement('span');\n            if (Browser.isDevice) {\n                spanElem_4.innerHTML = 'ABC';\n                spanElem_4.setAttribute('style', 'font-family: ' + parent.fontFamily.default.toLowerCase() + '\\'');\n            }\n            else {\n                spanElem_4.innerHTML = parent.fontFamily.default;\n            }\n            spanElem_4.className = 'e-text-font-family';\n            if (fontNameBtn) {\n                fontNameBtn.appendChild(spanElem_4);\n            }\n            var fontFamilyBtn_1 = new DropDownButton({ items: this.getFontFamilyItems(),\n                cssClass: 'e-font-family',\n                createPopupOnClick: true,\n                beforeItemRender: function (args) {\n                    args.element.setAttribute('style', 'font-family:' + args.element.id);\n                },\n                open: function (args) {\n                    if (Browser.isDevice) {\n                        args.element.parentElement.style.top = fontFamilyBtn_1.element.getBoundingClientRect().top -\n                            args.element.parentElement.offsetHeight + 'px';\n                    }\n                    var fontFamily;\n                    if (parent.textArea.style.display === 'block' || parent.textArea.style.display === 'inline-block') {\n                        fontFamily = parent.textArea.style.fontFamily;\n                    }\n                    else {\n                        fontFamily = parent.activeObj.textSettings.fontFamily;\n                    }\n                    var elem = args.element.querySelector('[id *= ' + '\"' + fontFamily.toLowerCase() + '\"' + ']');\n                    if (elem) {\n                        elem.classList.add('e-selected-btn');\n                    }\n                },\n                select: function (args) {\n                    _this.triggerTbarClickEvent(args);\n                    spanElem_4.textContent = args.item.text;\n                    if (Browser.isDevice) {\n                        spanElem_4.setAttribute('style', 'font-family:' + args.item.id);\n                    }\n                    parent.updateFontFamily(args.item.id);\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                    var toolbar = document.getElementById(parent.element.id + '_toolbar');\n                    if (toolbar && toolbar.classList.contains('e-control')) {\n                        getComponent(toolbar, 'toolbar').refreshOverflow();\n                    }\n                }\n            });\n            fontFamilyBtn_1.appendTo('#' + id + '_fontFamilyBtn');\n        }\n        if (items.indexOf('fontSize') > -1) {\n            var fontSizeBtnElem = document.getElementById(id + '_fontSizeBtn');\n            var fontSizeSpanElem_1 = document.createElement('span');\n            var fontSizes = parent.getFontSizes();\n            fontSizeSpanElem_1.innerHTML = fontSizes[0].text;\n            fontSizeSpanElem_1.className = 'e-text-font-size';\n            fontSizeBtnElem.appendChild(fontSizeSpanElem_1);\n            var fontSizeBtn_1 = new DropDownButton({\n                cssClass: 'e-font-size',\n                items: fontSizes,\n                open: function (args) {\n                    if (Browser.isDevice) {\n                        args.element.parentElement.style.top = fontSizeBtn_1.element.getBoundingClientRect().top -\n                            args.element.parentElement.offsetHeight + 'px';\n                    }\n                    var activeBtn = fontSizeSpanElem_1.innerHTML;\n                    args.element.querySelector('[aria-label *= ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                },\n                select: function (args) {\n                    _this.triggerTbarClickEvent(args);\n                    fontSizeSpanElem_1.textContent = args.item.text;\n                    parent.updateFontSize(args.item.text);\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                }\n            });\n            fontSizeBtn_1.appendTo('#' + id + '_fontSizeBtn');\n        }\n    };\n    ToolbarModule.prototype.refreshToolbar = function (type, isApplyBtn, isCropping, isZooming, cType, shape, isTransform) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (!parent.isImageLoaded || parent.isCropToolbar) {\n            return;\n        }\n        var args = {};\n        var aspectIcon;\n        var nonAspectIcon;\n        if (type !== 'filter' && type !== 'color') {\n            var toolbarElement = document.getElementById(id + '_toolbar');\n            var cusWrapper = document.getElementById(id + '_customizeWrapper');\n            var bottomToolbar = document.getElementById(id + '_bottomToolbar');\n            if (cusWrapper && (getComponent(cusWrapper, 'toolbar')) && this.defToolbarItems.length > 0) {\n                getComponent(cusWrapper, 'toolbar').destroy();\n                cusWrapper.innerHTML = '';\n            }\n            if (toolbarElement && toolbarElement.classList.contains('e-control') && this.defToolbarItems.length > 0) {\n                getComponent(toolbarElement, 'toolbar').destroy();\n                toolbarElement.innerHTML = '';\n            }\n            if (toolbarElement && (this.defToolbarItems.length > 0 || parent.toolbar && parent.toolbar.length > 0 && parent.toolbar.indexOf('Open') === -1)) {\n                var toolbar_13 = getComponent(toolbarElement, 'toolbar');\n                if (!isNullOrUndefined(toolbar_13)) {\n                    toolbar_13.destroy();\n                    document.getElementById(parent.element.id + '_toolbar').innerHTML = '';\n                }\n            }\n            if (bottomToolbar && this.defToolbarItems.length > 0) {\n                if (bottomToolbar.className.indexOf('e-control') > -1) {\n                    getComponent(bottomToolbar, 'toolbar').destroy();\n                    bottomToolbar.innerHTML = '';\n                }\n            }\n        }\n        this.refreshSlider();\n        if (document.querySelector('.e-slider-tooltip')) {\n            document.querySelector('.e-slider-tooltip').remove();\n        }\n        this.isFrameToolbar = parent.isCropTab = false;\n        switch (type) {\n            case 'main':\n                if (Browser.isDevice) {\n                    if (isCropping) {\n                        this.initMainToolbar(false, true, true, false, false, true);\n                    }\n                    else {\n                        this.initMainToolbar(false, true, null, false, false, true);\n                    }\n                }\n                else if (!Browser.isDevice || isZooming) {\n                    if (isZooming) {\n                        this.initMainToolbar(isApplyBtn, Browser.isDevice, null);\n                    }\n                    else {\n                        this.initMainToolbar(isApplyBtn, Browser.isDevice, null);\n                    }\n                }\n                if (Browser.isDevice) {\n                    this.initBottomToolbar();\n                }\n                break;\n            case 'shapes':\n                if (!parent.isPublicMethod) {\n                    parent.noPushUndo = true;\n                }\n                if (Browser.isDevice) {\n                    this.initMainToolbar(false, true, true);\n                }\n                if (parent.activeObj.shape === 'line' || parent.activeObj.shape === 'path') {\n                    args.toolbarItems = ['strokeColor', 'strokeWidth', 'z-order', 'duplicate', 'remove'];\n                }\n                else if (parent.activeObj.shape === 'arrow') {\n                    args.toolbarItems = ['strokeColor', 'strokeWidth', 'start', 'end', 'z-order', 'duplicate', 'remove'];\n                }\n                else if (parent.activeObj.shape === 'image') {\n                    args.toolbarItems = ['flip', 'z-order', 'duplicate', 'remove', 'transparency'];\n                }\n                else if (parent.activeObj.shape === 'rectangle') {\n                    args.toolbarItems = ['fillColor', 'strokeColor', 'strokeWidth', 'borderRadius', 'z-order', 'duplicate', 'remove'];\n                }\n                else {\n                    args.toolbarItems = ['fillColor', 'strokeColor', 'strokeWidth', 'z-order', 'duplicate', 'remove'];\n                }\n                this.initShapesToolbarItem(args.toolbarItems);\n                if (parent.activeObj.shape === 'image') {\n                    var actObj = extend({}, parent.activeObj, {}, true);\n                    parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n                    parent.activeObj = actObj;\n                    parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj,\n                            isCropRatio: null, points: null, isPreventDrag: true } });\n                    this.renderQAT(false);\n                }\n                break;\n            case 'text':\n                if (Browser.isDevice) {\n                    this.initMainToolbar(false, true, true);\n                }\n                args.toolbarItems = ['fontFamily', 'fontSize', 'fontColor', 'fillColor', 'strokeColor', 'strokeWidth', 'bold', 'italic', 'z-order', 'duplicate', 'remove', 'text'];\n                this.initTextToolbarItem(args.toolbarItems);\n                break;\n            case 'pen':\n                if (Browser.isDevice) {\n                    this.initMainToolbar(false, true, true);\n                }\n                args.toolbarItems = ['strokeColor', 'strokeWidth', 'z-order', 'remove', 'transparency'];\n                this.initPenToolbarItem(args.toolbarItems);\n                break;\n            case 'adjustment':\n                if (Browser.isDevice) {\n                    this.initMainToolbar(false, true, true);\n                }\n                this.initAdjustmentToolbarItem();\n                break;\n            case 'filter':\n                this.updateContextualToolbar(type);\n                break;\n            case 'resize':\n                if (parent.isCircleCrop || (parent.currSelectionPoint && parent.currSelectionPoint.shape === 'crop-circle')) {\n                    parent.aspectHeight = parent.aspectWidth;\n                    this.isAspectRatio = false;\n                }\n                this.initResizeToolbar();\n                if (Browser.isDevice) {\n                    this.initMainToolbar(false, true, true, true);\n                }\n                aspectIcon = parent.element.querySelector('#' + id + '_aspectratio');\n                nonAspectIcon = parent.element.querySelector('#' + id + '_nonaspectratio');\n                if (parent.aspectWidth && parent.aspectHeight) {\n                    if (nonAspectIcon) {\n                        parent.notify('transform', { prop: 'resize', value: { width: parent.aspectWidth, height: parent.aspectHeight, isAspectRatio: false } });\n                    }\n                    else if (aspectIcon) {\n                        parent.notify('transform', { prop: 'resize', value: { width: parent.aspectWidth, height: null, isAspectRatio: true } });\n                    }\n                }\n                break;\n            case 'color':\n                this.updateContextualToolbar(type, cType);\n                break;\n            case 'croptransform':\n                if (isNullOrUndefined(isTransform)) {\n                    parent.allowDownScale = false;\n                    parent.isCropTab = true;\n                }\n                if (Browser.isDevice) {\n                    this.initMainToolbar(false, true, true);\n                }\n                if (isNullOrUndefined(isTransform)) {\n                    parent.updateCropTransformItems();\n                }\n                this.initCropTransformToolbar(shape, isTransform);\n                if (Browser.isDevice && this.isToolbar()) {\n                    this.updateContextualToolbar('color', 'straighten', true);\n                }\n                if (parent.isMaskImage) {\n                    this.refreshToolbar('main');\n                }\n                break;\n            case 'frame':\n                this.isFrameToolbar = true;\n                if (Browser.isDevice) {\n                    this.initMainToolbar(false, true, true);\n                    this.initMainToolbar(false, true, true, false, true);\n                }\n                else {\n                    this.initMainToolbar(true, null, null, false, true);\n                }\n                // eslint-disable-next-line no-case-declarations\n                var frameElem = parent.element.querySelector('#' + id + '_' + parent.frameObj.type);\n                if (frameElem) {\n                    frameElem.classList.add('e-selected-btn');\n                }\n                if (parent.frameObj.type !== 'none') {\n                    this.updateContextualToolbar(type, cType);\n                }\n                parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n                break;\n            case 'redact':\n                if (Browser.isDevice) {\n                    this.initMainToolbar(false, true, true);\n                    this.initMainToolbar(false, true, true, null, null, null, true);\n                }\n                else {\n                    this.initMainToolbar(isApplyBtn, Browser.isDevice, null, null, null, null, true);\n                }\n                this.enableDisableTbrBtn();\n                if (parent.activeObj.redactType === 'blur') {\n                    var redactBlurElement = parent.element.querySelector('#' + id + '_' + 'redactBlur');\n                    if (redactBlurElement) {\n                        redactBlurElement.classList.add('e-selected-btn');\n                    }\n                }\n                else {\n                    var pixelateElement = parent.element.querySelector('#' + id + '_' + 'pixelate');\n                    if (pixelateElement) {\n                        pixelateElement.classList.add('e-selected-btn');\n                    }\n                }\n                this.redactSlider(parent.activeObj.redactType);\n                break;\n        }\n        this.refreshDropDownBtn(isCropping);\n        this.updateKBDNavigation(type);\n        this.currToolbar = type;\n    };\n    ToolbarModule.prototype.updateRedactObj = function () {\n        var parent = this.parent;\n        var objColl = extend([], parent.objColl, [], true);\n        parent.objColl = [];\n        var activeObj = extend({}, parent.activeObj, {}, true);\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n        parent.objColl = objColl;\n        for (var i = 0; i < parent.objColl.length; i++) {\n            var obj = parent.objColl[i];\n            if (obj.shape === 'redact') {\n                obj.redactImage = parent.createElement('canvas');\n                obj.redactImage.width = obj.activePoint.width;\n                obj.redactImage.height = obj.activePoint.height;\n                obj.redactImage.getContext('2d').drawImage(parent.lowerCanvas, obj.activePoint.startX, obj.activePoint.startY, obj.activePoint.width, obj.activePoint.height, 0, 0, obj.redactImage.width, obj.redactImage.height);\n            }\n        }\n        parent.isCropTab = false;\n        parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n        parent.isCropTab = true;\n        if (activeObj) {\n            parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: activeObj,\n                    isCropRatio: null, points: null, isPreventDrag: true } });\n        }\n        var panMoveObj = { panMove: null };\n        parent.notify('transform', { prop: 'getPanMove', onPropertyChange: false,\n            value: { obj: panMoveObj } });\n        if (panMoveObj['panMove']) {\n            parent.notify('transform', { prop: 'drawPannedImage', onPropertyChange: false,\n                value: { xDiff: null, yDiff: null } });\n        }\n    };\n    ToolbarModule.prototype.updateKBDNavigation = function (type) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (!parent.isKBDNavigation || this.currToolbar === type) {\n            return;\n        }\n        if (this.isToolbar()) {\n            var tbar = parent.element.querySelectorAll('#' + id + '_toolbar')[0];\n            var tbarInitialChild = void 0;\n            var tbarInitialBtn_1;\n            if (tbar) {\n                tbarInitialChild = tbar.querySelector('.e-toolbar-center');\n                if (!tbarInitialChild || !tbarInitialChild.children[0]) {\n                    return;\n                }\n                tbarInitialBtn_1 = tbarInitialChild.children[0].querySelector('.e-btn');\n                var tempElem = tbarInitialChild.children[1];\n                if (tempElem) {\n                    tempElem = tempElem.children[0];\n                }\n                if (tempElem) {\n                    tempElem = tempElem.children[0];\n                }\n                if (type === 'resize' && tempElem) {\n                    tbarInitialBtn_1 = tempElem;\n                }\n                if (type === 'filter') {\n                    var defaultFilter_1 = document.querySelector('#' + id + '_defaultCanvas');\n                    if (defaultFilter_1) {\n                        setTimeout(function () { return defaultFilter_1.focus(); }, 50);\n                    }\n                }\n                if (tbarInitialBtn_1) {\n                    if (type === 'main') {\n                        setTimeout(function () { return tbarInitialBtn_1.focus(); }, 50);\n                    }\n                    else {\n                        tbarInitialBtn_1.focus();\n                    }\n                }\n            }\n        }\n    };\n    ToolbarModule.prototype.performCropTransformClick = function (shape, isTransform) {\n        var parent = this.parent;\n        if (isNullOrUndefined(isTransform)) {\n            parent.notify('draw', { prop: 'setTempStraightenZoomDeg' });\n            parent.tempStraighten = parent.transform.straighten;\n            if (parent.currObjType.isFiltered || parent.currObjType.isRedact) {\n                parent.okBtn();\n            }\n            parent.isStraightening = true;\n        }\n        this.refreshToolbar('croptransform', null, null, null, null, shape, isTransform);\n        if (isNullOrUndefined(isTransform)) {\n            parent.notify('draw', { prop: 'setDestForStraighten' });\n            parent.notify('draw', { prop: 'setTempDestForStraighten' });\n        }\n    };\n    ToolbarModule.prototype.getAdjustmentToolbarItem = function () {\n        var toolbarItems = [];\n        var parent = this.parent;\n        var isCustomized = false;\n        var id = parent.element.id;\n        var defItems = ['Brightness', 'Contrast', 'Hue', 'Saturation', 'Exposure', 'Opacity', 'Blur'];\n        if (parent.toolbar) {\n            for (var i = 0; i < defItems.length; i++) {\n                if (parent.toolbar.indexOf(defItems[i]) !== -1) {\n                    isCustomized = true;\n                    break;\n                }\n            }\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Brightness') > -1)) {\n            toolbarItems.push({ id: id + '_brightness', prefixIcon: 'e-icons e-brightness', cssClass: 'top-icon e-brightness',\n                tooltipText: this.l10n.getConstant('Brightness'), align: 'Center' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Contrast') > -1)) {\n            toolbarItems.push({ id: id + '_contrast', prefixIcon: 'e-icons e-contrast', cssClass: 'top-icon e-contrast',\n                tooltipText: this.l10n.getConstant('Contrast'), align: 'Center' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Hue') > -1)) {\n            toolbarItems.push({ id: id + '_hue', prefixIcon: 'e-icons e-fade', cssClass: 'top-icon e-fade',\n                tooltipText: this.l10n.getConstant('Hue'), align: 'Center' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Saturation') > -1)) {\n            toolbarItems.push({ id: id + '_saturation', prefixIcon: 'e-icons e-saturation', cssClass: 'top-icon e-saturation',\n                tooltipText: this.l10n.getConstant('Saturation'), align: 'Center' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Exposure') > -1)) {\n            toolbarItems.push({ id: id + '_exposure', prefixIcon: 'e-icons e-grain', cssClass: 'top-icon e-grain',\n                tooltipText: this.l10n.getConstant('Exposure'), align: 'Center' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Opacity') > -1)) {\n            toolbarItems.push({ id: id + '_opacity', prefixIcon: 'e-icons e-opacity', cssClass: 'top-icon e-opacity',\n                tooltipText: this.l10n.getConstant('Opacity'), align: 'Center' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Blur') > -1)) {\n            toolbarItems.push({ id: id + '_blur', prefixIcon: 'e-icons e-tint', cssClass: 'top-icon e-tint',\n                tooltipText: this.l10n.getConstant('Blur'), align: 'Center' });\n        }\n        var tempToolbarItems = this.processToolbar('center');\n        for (var i = 0, len = tempToolbarItems.length; i < len; i++) {\n            toolbarItems.push(tempToolbarItems[i]);\n        }\n        if (!Browser.isDevice) {\n            toolbarItems.push({ id: id + '_ok', prefixIcon: 'e-icons e-check', cssClass: 'top-icon e-tick',\n                tooltipText: this.l10n.getConstant('OK'), align: 'Right', tabIndex: 0 });\n            toolbarItems.push({ id: id + '_cancel', prefixIcon: 'e-icons e-close', cssClass: 'top-icon e-save',\n                tooltipText: this.l10n.getConstant('Cancel'), align: 'Right' });\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.getFrameToolbarItem = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var toolbarItems = [];\n        toolbarItems.push({ prefixIcon: 'e-icons e-copy', id: id + '_frameColor',\n            cssClass: 'top-icon e-stroke', tooltipText: this.l10n.getConstant('Color'), align: 'Center', type: 'Input',\n            template: '<span>' + this.l10n.getConstant('Color') + '</span><button id=\"' + id + '_frameColorBtn\"></button>' });\n        toolbarItems.push({ prefixIcon: 'e-icons e-copy', id: id + '_frameGradient',\n            cssClass: 'top-icon e-frame-stroke', tooltipText: this.l10n.getConstant('GradientColor'), align: 'Center', type: 'Input',\n            template: '<span>' + this.l10n.getConstant('GradientColor') + '</span><button id=\"' + id + '_frameGradientColorBtn\"></button>' });\n        toolbarItems.push({ id: id + '_frameSize', cssClass: 'top-icon e-size', tooltipText: this.l10n.getConstant('Size'), align: 'Center',\n            type: 'Input', template: '<span>' + this.l10n.getConstant('Size') + '</span><button id=\"' + id + '_frameSizeBtn\"></button>' });\n        if (parent.frameObj.type === 'line' || parent.frameObj.type === 'inset' || parent.frameObj.type === 'hook') {\n            toolbarItems.push({ id: id + '_frameInset', cssClass: 'top-icon e-size', tooltipText: this.l10n.getConstant('Inset'), align: 'Center',\n                type: 'Input', template: '<span>' + this.l10n.getConstant('Inset') + '</span><button id=\"' + id + '_frameInsetBtn\"></button>' });\n        }\n        if (parent.frameObj.type === 'line' || parent.frameObj.type === 'inset') {\n            toolbarItems.push({ id: id + '_frameOffset', cssClass: 'top-icon e-size', tooltipText: this.l10n.getConstant('Offset'), align: 'Center',\n                type: 'Input', template: '<span>' + this.l10n.getConstant('Offset') + '</span><button id=\"' + id + '_frameOffsetBtn\"></button>' });\n        }\n        if (parent.frameObj.type === 'line') {\n            toolbarItems.push({ id: id + '_frameRadius', cssClass: 'top-icon e-size', tooltipText: this.l10n.getConstant('Radius'), align: 'Center',\n                type: 'Input', template: '<span>' + this.l10n.getConstant('Radius') + '</span><button id=\"' + id + '_frameRadiusBtn\"></button>' });\n            toolbarItems.push({ id: id + '_frameAmount', cssClass: 'top-icon e-size', tooltipText: this.l10n.getConstant('Amount'), align: 'Center',\n                type: 'Input', template: '<span>' + this.l10n.getConstant('Amount') + '</span><button id=\"' + id + '_frameAmountBtn\"></button>' });\n            toolbarItems.push({ id: id + '_frameBorder', cssClass: 'top-icon e-size', tooltipText: this.l10n.getConstant('Border'), align: 'Center',\n                type: 'Input', template: '<span>' + this.l10n.getConstant('Border') + '</span><button id=\"' + id + '_frameBorderBtn\"></button>' });\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.getFilterToolbarItem = function () {\n        var toolbarItems = [];\n        var parent = this.parent;\n        var isCustomized = false;\n        var id = parent.element.id;\n        var defItems = ['Default', 'Chrome', 'Cold', 'Warm', 'Grayscale', 'Sepia', 'Invert'];\n        if (parent.toolbar) {\n            for (var i = 0; i < defItems.length; i++) {\n                if (parent.toolbar.indexOf(defItems[i]) !== -1) {\n                    isCustomized = true;\n                    break;\n                }\n            }\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Default') > -1)) {\n            toolbarItems.push({ id: id + '_default', prefixIcon: 'e-icons e-none', cssClass: 'top-icon e-none',\n                tooltipText: this.l10n.getConstant('Default'), align: 'Center',\n                template: '<div class=\"filter-wrapper\"><canvas id=' + id + '_defaultCanvas' + ' tabindex=0></canvas><div><span>' + this.l10n.getConstant('Default') + '</span></div></div>' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Chrome') > -1)) {\n            toolbarItems.push({ id: id + '_chrome', prefixIcon: 'e-icons e-none', cssClass: 'top-icon e-none',\n                tooltipText: this.l10n.getConstant('Chrome'), align: 'Center',\n                template: '<div class=\"filter-wrapper\"><canvas id=' + id + '_chromeCanvas' + '></canvas><div><span>' + this.l10n.getConstant('Chrome') + '</span></div></div>' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Cold') > -1)) {\n            toolbarItems.push({ id: id + '_cold', prefixIcon: 'e-icons e-none', cssClass: 'top-icon e-none',\n                tooltipText: this.l10n.getConstant('Cold'), align: 'Center',\n                template: '<div class=\"filter-wrapper\"><canvas id=' + id + '_coldCanvas' + '></canvas><div><span>' + this.l10n.getConstant('Cold') + '</span></div></div>' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Warm') > -1)) {\n            toolbarItems.push({ id: id + '_warm', prefixIcon: 'e-icons e-none', cssClass: 'top-icon e-none',\n                tooltipText: this.l10n.getConstant('Warm'), align: 'Center',\n                template: '<div class=\"filter-wrapper\"><canvas id=' + id + '_warmCanvas' + '></canvas><div><span>' + this.l10n.getConstant('Warm') + '</span></div></div>' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Grayscale') > -1)) {\n            toolbarItems.push({ id: id + '_grayscale', prefixIcon: 'e-icons e-none', cssClass: 'top-icon e-none',\n                tooltipText: this.l10n.getConstant('Grayscale'), align: 'Center',\n                template: '<div class=\"filter-wrapper\"><canvas id=' + id + '_grayscaleCanvas' + '></canvas><div><span>' + this.l10n.getConstant('Grayscale') + '</span></div></div>' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Sepia') > -1)) {\n            toolbarItems.push({ id: id + '_sepia', prefixIcon: 'e-icons e-none', cssClass: 'top-icon e-none',\n                tooltipText: this.l10n.getConstant('Sepia'), align: 'Center',\n                template: '<div class=\"filter-wrapper\"><canvas id=' + id + '_sepiaCanvas' + '></canvas><div><span>' + this.l10n.getConstant('Sepia') + '</span></div></div>' });\n        }\n        if (isNullOrUndefined(parent.toolbar) || !isCustomized || (parent.toolbar && parent.toolbar.indexOf('Invert') > -1)) {\n            toolbarItems.push({ id: id + '_invert', prefixIcon: 'e-icons e-none', cssClass: 'top-icon e-none',\n                tooltipText: this.l10n.getConstant('Invert'), align: 'Center',\n                template: '<div class=\"filter-wrapper\"><canvas id=' + id + '_invertCanvas' + '></canvas><div><span>' + this.l10n.getConstant('Invert') + '</span></div></div>' });\n        }\n        var tempToolbarItems = this.processToolbar('center');\n        for (var i = 0, len = tempToolbarItems.length; i < len; i++) {\n            toolbarItems.push(tempToolbarItems[i]);\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.getPenToolbarItem = function (items) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var toolbarItems = [];\n        if (isNullOrUndefined(parent.toolbar) || parent.toolbar) {\n            toolbarItems.push({ id: id + '_annotation', tooltipText: this.l10n.getConstant('Annotation'), align: 'Center',\n                template: '<button id=\"' + id + '_annotationBtn\"></button>' });\n        }\n        if (items.indexOf('strokeColor') > -1) {\n            toolbarItems.push({ prefixIcon: 'e-icons e-copy', id: id + '_pen_strokecolor',\n                cssClass: 'top-icon e-pen-stroke-color',\n                tooltipText: this.l10n.getConstant('StrokeColor'), align: 'Center', type: 'Input',\n                template: '<button id=\"' + id + '_penColorBtn\"></button>' });\n        }\n        if (items.indexOf('strokeWidth') > -1) {\n            toolbarItems.push({ prefixIcon: 'e-icons e-copy', id: id + '_pen_strokewidth',\n                cssClass: 'top-icon e-size',\n                tooltipText: this.l10n.getConstant('StrokeWidth'),\n                align: 'Center', type: 'Input', template: '<button id=\"' + id + '_penStrokeWidth\"></button>' });\n        }\n        toolbarItems.push({ align: 'Center', type: 'Separator' });\n        if (items.indexOf('z-order') > -1) {\n            toolbarItems.push({ id: id + '_zOrder', cssClass: 'top-icon e-list-unordered-3', tooltipText: this.l10n.getConstant('ZOrder'), align: 'Center',\n                type: 'Input', template: '<button id=\"' + id + '_zOrderBtn\"></button>' });\n        }\n        if (items.indexOf('remove') > -1) {\n            toolbarItems.push({ id: id + '_remove', prefixIcon: 'e-icons e-trash', cssClass: 'top-icon e-trash',\n                tooltipText: this.l10n.getConstant('Remove'), align: 'Center' });\n        }\n        var tempToolbarItems = this.processSubToolbar(items);\n        for (var i = 0, len = tempToolbarItems.length; i < len; i++) {\n            toolbarItems.push(tempToolbarItems[i]);\n        }\n        if (!Browser.isDevice) {\n            toolbarItems.push({ id: id + '_ok', prefixIcon: 'e-icons e-check', cssClass: 'top-icon e-tick',\n                tooltipText: this.l10n.getConstant('OK'), align: 'Right', tabIndex: 0 });\n            toolbarItems.push({ id: id + '_cancel', prefixIcon: 'e-icons e-close', cssClass: 'top-icon e-save',\n                tooltipText: this.l10n.getConstant('Cancel'), align: 'Right' });\n        }\n        return toolbarItems;\n    };\n    ToolbarModule.prototype.initPenToolbarItem = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var leftItem = this.getLeftToolbarItem();\n        var rightItem = this.getRightToolbarItem();\n        var mainItem = this.getPenToolbarItem(items);\n        var zoomItem = this.getZoomToolbarItem();\n        if (Browser.isDevice) {\n            this.defToolbarItems = mainItem;\n        }\n        else {\n            this.defToolbarItems = leftItem.concat(zoomItem, mainItem, rightItem);\n        }\n        var args = { toolbarType: 'pen', toolbarItems: this.defToolbarItems };\n        parent.trigger('toolbarUpdating', args);\n        if (this.isToolbarString(args.toolbarItems)) {\n            items = args.toolbarItems;\n            this.excludeItems(args.toolbarItems);\n        }\n        else {\n            this.defToolbarItems = args.toolbarItems;\n        }\n        var toolbar = new Toolbar({\n            width: '100%',\n            items: this.defToolbarItems,\n            clicked: this.defToolbarClicked.bind(this),\n            created: function () {\n                _this.renderAnnotationBtn(true);\n                _this.createPenColor(items);\n                _this.createPenBtn(items);\n                _this.createZOrderBtn(items);\n                _this.wireZoomBtnEvents();\n                parent.trigger('toolbarCreated', { toolbarType: 'pen' });\n                if (Browser.isDevice) {\n                    if (_this.defToolbarItems.length > 0 && document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                        toolbar.refreshOverflow();\n                    }\n                }\n                else {\n                    _this.createLeftToolbarControls();\n                    if (_this.defToolbarItems.length > 0 && document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                    }\n                }\n            }\n        });\n        if (Browser.isDevice) {\n            toolbar.appendTo('#' + id + '_bottomToolbar');\n        }\n        else {\n            toolbar.appendTo('#' + id + '_toolbar');\n        }\n        this.enableDisableTbrBtn();\n    };\n    ToolbarModule.prototype.createPenColor = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (items.indexOf('strokeColor') > -1) {\n            parent.element.querySelector('.e-template.e-pen-stroke-color').appendChild(parent.createElement('input', {\n                id: id + '_pen_stroke'\n            }));\n            var presentVal = parent.activeObj.strokeSettings.strokeColor;\n            var penColor = new ColorPicker({\n                modeSwitcher: false, value: '#fff',\n                showButtons: false, mode: 'Palette', cssClass: 'e-pen-color',\n                change: function (args) {\n                    parent.updatePenStrokeColor(args.currentValue.hex);\n                    _this.selFhdColor = args.currentValue.hex;\n                    strokeDDB_5.element.children[0].style.backgroundColor = args.currentValue.rgba;\n                    strokeDDB_5.toggle();\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoStack', value: { isPenDraw: true } });\n                }\n            }, '#' + id + '_pen_stroke');\n            var strokeDDB_5 = new DropDownButton({\n                open: function (args) {\n                    var parentElem = args.element.parentElement;\n                    if (Browser.isDevice) {\n                        parentElem.style.top = strokeDDB_5.element.getBoundingClientRect().top -\n                            parentElem.offsetHeight + 'px';\n                        if (window.innerWidth <= 520) {\n                            parentElem.style.left = parent.element.offsetLeft + 'px';\n                        }\n                    }\n                },\n                target: '.e-pen-color',\n                iconCss: 'e-dropdownbtn-preview',\n                cssClass: 'e-ie-ddb-popup'\n            }, '#' + id + '_penColorBtn');\n            penColor.inline = true;\n            penColor.value = penColor.getValue(parent.activeObj.strokeSettings.strokeColor, 'rgba');\n            if (penColor.value === 'null') {\n                penColor.value = presentVal;\n            }\n            var obj = { tempFreeHandDrawEditingStyles: null };\n            parent.notify('freehand-draw', { prop: 'getTempFreeHandDrawEditingStyles', value: { obj: obj } });\n            var indexObj = { freehandSelectedIndex: null };\n            parent.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n            if (!isNullOrUndefined(indexObj['freehandSelectedIndex']) && indexObj['freehandSelectedIndex'] > -1) {\n                parent.element.querySelector('.e-pen-stroke-color.e-template .e-dropdownbtn-preview').style.background\n                    = this.selFhdColor === '#42a5f5' ? obj['tempFreeHandDrawEditingStyles'].strokeColor :\n                        parent.pointColl[indexObj['freehandSelectedIndex']].strokeColor;\n            }\n            else {\n                parent.element.querySelector('.e-pen-stroke-color.e-template .e-dropdownbtn-preview').style.background\n                    = penColor.value;\n            }\n        }\n    };\n    ToolbarModule.prototype.createPenBtn = function (items) {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var strokeWidthItems = [\n            { id: '1', text: this.l10n.getConstant('XSmall') },\n            { id: '2', text: this.l10n.getConstant('Small') },\n            { id: '3', text: this.l10n.getConstant('Medium') },\n            { id: '4', text: this.l10n.getConstant('Large') },\n            { id: '5', text: this.l10n.getConstant('XLarge') }\n        ];\n        if (items.indexOf('strokeWidth') > -1) {\n            var strokeWidthBtn = document.getElementById(id + '_penStrokeWidth');\n            var spanElem_5 = document.createElement('span');\n            var indexObj = { freehandSelectedIndex: null };\n            parent.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n            if (!isNullOrUndefined(indexObj['freehandSelectedIndex']) && indexObj['freehandSelectedIndex'] > -1) {\n                spanElem_5.innerHTML = this.getPenStroke(parent.pointColl[indexObj['freehandSelectedIndex']].strokeWidth);\n            }\n            else {\n                var obj = { penStrokeWidth: 2 };\n                parent.notify('freehand-draw', { prop: 'getPenStrokeWidth', onPropertyChange: false, value: { obj: obj } });\n                if (obj['penStrokeWidth']) {\n                    spanElem_5.innerHTML = this.getPenStroke(obj['penStrokeWidth']);\n                }\n                else {\n                    spanElem_5.innerHTML = this.l10n.getConstant('Small');\n                }\n            }\n            spanElem_5.className = 'e-pen-stroke-width';\n            strokeWidthBtn.appendChild(spanElem_5);\n            var drpDownBtn_5 = new DropDownButton({ items: strokeWidthItems,\n                open: function (args) {\n                    if (Browser.isDevice) {\n                        args.element.parentElement.style.top = drpDownBtn_5.element.getBoundingClientRect().top -\n                            args.element.parentElement.offsetHeight + 'px';\n                    }\n                    var activeBtn = spanElem_5.innerHTML;\n                    args.element.querySelector('[aria-label = ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                },\n                select: function (args) {\n                    _this.triggerTbarClickEvent(args);\n                    spanElem_5.textContent = args.item.text;\n                    parent.updatePenStrokeWidth(args.item.id);\n                    if (Browser.isDevice) {\n                        if (document.getElementById(id + '_bottomToolbar')) {\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            var toolbar_14 = getComponent(id + '_bottomToolbar', 'toolbar');\n                            toolbar_14.refreshOverflow();\n                        }\n                    }\n                    else {\n                        if (document.getElementById(id + '_toolbar')) {\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            var toolbar_15 = getComponent(id + '_toolbar', 'toolbar');\n                            toolbar_15.refreshOverflow();\n                        }\n                    }\n                    var widthObj = { penStrokeWidth: null };\n                    parent.notify('freehand-draw', { prop: 'getPenStrokeWidth', onPropertyChange: false, value: { obj: widthObj } });\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoStack', value: { isPenDraw: true } });\n                    parent.notify('freehand-draw', { prop: 'setPenStrokeWidth', onPropertyChange: false, value: { value: widthObj['penStrokeWidth'] } });\n                }\n            });\n            // Render initialized DropDownButton.\n            drpDownBtn_5.appendTo('#' + id + '_penStrokeWidth');\n        }\n    };\n    ToolbarModule.prototype.getPenStroke = function (value) {\n        var textContent = '';\n        var valueToTextContent = {\n            1: this.l10n.getConstant('XSmall'),\n            2: this.l10n.getConstant('Small'),\n            3: this.l10n.getConstant('Medium'),\n            4: this.l10n.getConstant('Large'),\n            5: this.l10n.getConstant('XLarge')\n        };\n        if (value >= 1 && value <= 5) {\n            textContent = valueToTextContent[value];\n        }\n        return textContent;\n    };\n    ToolbarModule.prototype.initAdjustmentToolbarItem = function () {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var leftItem = this.getLeftToolbarItem(null);\n        var rightItem = this.getRightToolbarItem();\n        var mainItem = this.getAdjustmentToolbarItem();\n        var zoomItem = this.getZoomToolbarItem();\n        if (Browser.isDevice) {\n            this.defToolbarItems = mainItem;\n        }\n        else {\n            this.defToolbarItems = leftItem.concat(zoomItem, mainItem, rightItem);\n        }\n        var args = { toolbarType: 'finetune', toolbarItems: this.defToolbarItems };\n        parent.trigger('toolbarUpdating', args);\n        this.defToolbarItems = args.toolbarItems;\n        var toolbar = new Toolbar({\n            width: '100%',\n            items: this.defToolbarItems,\n            clicked: this.defToolbarClicked.bind(this),\n            created: function () {\n                _this.wireZoomBtnEvents();\n                if (Browser.isDevice) {\n                    if (_this.defToolbarItems.length > 0 && document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                    }\n                }\n                else {\n                    _this.createLeftToolbarControls();\n                    if (_this.defToolbarItems.length > 0 && document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                    }\n                }\n            }\n        });\n        if (Browser.isDevice) {\n            toolbar.appendTo('#' + id + '_bottomToolbar');\n        }\n        else {\n            toolbar.appendTo('#' + id + '_toolbar');\n        }\n        this.enableDisableTbrBtn();\n    };\n    ToolbarModule.prototype.initFrameToolbarItem = function () {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var canvasWrapper = document.querySelector('#' + id + '_contextualToolbarArea');\n        var frameWrapper = document.querySelector('#' + id + '_frameWrapper');\n        if (frameWrapper) {\n            frameWrapper.style.display = 'block';\n        }\n        else {\n            frameWrapper = canvasWrapper.appendChild(parent.createElement('div', {\n                id: id + '_frameWrapper', className: 'e-frame-wrapper', styles: 'position: relative'\n            }));\n        }\n        frameWrapper.appendChild(parent.createElement('div', {\n            id: id + '_customizeWrapper',\n            styles: 'position: absolute'\n        }));\n        var mainItem = this.getFrameToolbarItem();\n        var args = { toolbarType: 'frame', toolbarItems: mainItem };\n        parent.trigger('toolbarUpdating', args);\n        mainItem = args.toolbarItems;\n        var toolbar = new Toolbar({\n            width: '100%',\n            items: mainItem,\n            clicked: this.defToolbarClicked.bind(this),\n            created: function () {\n                _this.createFrameColor();\n                _this.createFrameSize();\n                var frameType = parent.frameObj.type;\n                if (frameType === 'line') {\n                    _this.createFrameRadius();\n                }\n                if (frameType === 'line' || frameType === 'inset' || frameType === 'hook') {\n                    _this.createFrameInset();\n                }\n                if (frameType === 'line' || frameType === 'inset') {\n                    _this.createFrameOffset();\n                }\n                if (frameType === 'line') {\n                    _this.createFrameAmount();\n                    _this.createFrameBorder();\n                }\n                _this.createFrameGradientColor();\n                if (Browser.isDevice) {\n                    if (_this.defToolbarItems.length > 0 && document.getElementById(id + '_bottomToolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                        toolbar.refreshOverflow();\n                        toolbar.refreshOverflow();\n                    }\n                }\n                else {\n                    _this.createLeftToolbarControls();\n                    if (_this.defToolbarItems.length > 0 && document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        toolbar.refreshOverflow();\n                    }\n                }\n                parent.element.querySelector('#' + id + '_' + frameType).focus();\n            }\n        });\n        toolbar.appendTo('#' + id + '_customizeWrapper');\n    };\n    ToolbarModule.prototype.createFrameGradientColor = function () {\n        var parent = this.parent;\n        var prevFrameSettings;\n        var obj = { frameChangeEventArgs: null };\n        var id = parent.element.id;\n        parent.element.querySelector('.e-template.e-frame-stroke').appendChild(parent.createElement('input', {\n            id: id + '_frame_gradient_fill'\n        }));\n        var fillColor = new ColorPicker({\n            modeSwitcher: false, noColor: true, value: parent.frameObj.gradientColor,\n            showButtons: false, mode: 'Palette', cssClass: 'e-frame-gradient-fill-color',\n            change: function (args) {\n                prevFrameSettings = { type: parent.toPascalCase(parent.frameObj.type), color: parent.frameObj.color,\n                    gradientColor: parent.frameObj.gradientColor, size: parent.frameObj.size, inset: parent.frameObj.inset,\n                    offset: parent.frameObj.offset, borderRadius: parent.frameObj.radius,\n                    frameLineStyle: parent.toPascalCase(parent.frameObj.border), lineCount: parent.frameObj.amount };\n                var temp = parent.frameObj.gradientColor;\n                var object = { currObj: {} };\n                parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                parent.frameObj.gradientColor = args.currentValue.hex;\n                parent.notify('draw', { prop: 'triggerFrameChange', value: { prevFrameSettings: prevFrameSettings, obj: obj } });\n                if (obj['frameChangeEventArgs'] && !obj['frameChangeEventArgs'].cancel) {\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: {\n                            operation: 'frame', previousObj: object['currObj'], previousObjColl: object['currObj']['objColl'],\n                            previousPointColl: object['currObj']['pointColl'], previousSelPointColl: object['currObj']['selPointColl'],\n                            previousCropObj: extend({}, parent.cropObj, {}, true), previousText: null, currentText: null,\n                            previousFilter: null, isCircleCrop: null\n                        } });\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                    if (args.currentValue.rgba === '') {\n                        fillDDB.element.children[0].classList.add('e-nocolor-item');\n                    }\n                    else {\n                        fillDDB.element.children[0].classList.remove('e-nocolor-item');\n                        fillDDB.element.children[0].style.backgroundColor = args.currentValue.rgba;\n                    }\n                    parent.curFrameObjEvent = { previousFrameSetting: obj['frameChangeEventArgs'].previousFrameSetting,\n                        currentFrameSetting: obj['frameChangeEventArgs'].currentFrameSetting };\n                    parent.isFrameBtnClick = true;\n                }\n                else {\n                    parent.frameObj.gradientColor = temp;\n                }\n                fillDDB.toggle();\n            }\n        }, '#' + id + '_frame_gradient_fill');\n        var fillDDB = new DropDownButton({\n            open: function (args) {\n                if (Browser.isDevice) {\n                    var parentElem = args.element.parentElement;\n                    parentElem.style.top = fillDDB.element.getBoundingClientRect().top -\n                        parentElem.offsetHeight + 'px';\n                    if (window.innerWidth <= 520) {\n                        parentElem.style.left = parent.element.offsetLeft + 'px';\n                    }\n                }\n            },\n            target: '.e-frame-gradient-fill-color',\n            iconCss: 'e-dropdownbtn-preview',\n            cssClass: 'e-ie-ddb-popup'\n        }, '#' + id + '_frameGradientColorBtn');\n        fillColor.inline = true;\n        if (parent.frameObj.gradientColor === '') {\n            parent.element.querySelector('.e-frame-stroke.e-template .e-dropdownbtn-preview').classList.add('e-nocolor-item');\n        }\n        else {\n            parent.element.querySelector('.e-frame-stroke.e-template .e-dropdownbtn-preview').style.background\n                = parent.frameObj.gradientColor;\n        }\n    };\n    ToolbarModule.prototype.createFrameColor = function () {\n        var parent = this.parent;\n        var prevFrameSettings;\n        var obj = { frameChangeEventArgs: null };\n        var id = parent.element.id;\n        parent.element.querySelector('.e-template.e-stroke').appendChild(parent.createElement('input', {\n            id: id + '_frame_fill'\n        }));\n        var fillColor = new ColorPicker({\n            modeSwitcher: false, value: parent.frameObj.color,\n            showButtons: false, mode: 'Palette', cssClass: 'e-frame-fill-color',\n            change: function (args) {\n                prevFrameSettings = { type: parent.toPascalCase(parent.frameObj.type), color: parent.frameObj.color,\n                    gradientColor: parent.frameObj.gradientColor, size: parent.frameObj.size, inset: parent.frameObj.inset,\n                    offset: parent.frameObj.offset, borderRadius: parent.frameObj.radius,\n                    frameLineStyle: parent.toPascalCase(parent.frameObj.border), lineCount: parent.frameObj.amount };\n                var temp = parent.frameObj.color;\n                var object = { currObj: {} };\n                parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                parent.frameObj.color = args.currentValue.hex;\n                parent.notify('draw', { prop: 'triggerFrameChange', value: { prevFrameSettings: prevFrameSettings, obj: obj } });\n                if (obj['frameChangeEventArgs'] && !obj['frameChangeEventArgs'].cancel) {\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: {\n                            operation: 'frame', previousObj: object['currObj'], previousObjColl: object['currObj']['objColl'],\n                            previousPointColl: object['currObj']['pointColl'], previousSelPointColl: object['currObj']['selPointColl'],\n                            previousCropObj: extend({}, parent.cropObj, {}, true), previousText: null, currentText: null,\n                            previousFilter: null, isCircleCrop: null\n                        } });\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                    if (args.currentValue.rgba === '') {\n                        fillDDB.element.children[0].classList.add('e-nocolor-item');\n                    }\n                    else {\n                        fillDDB.element.children[0].classList.remove('e-nocolor-item');\n                        fillDDB.element.children[0].style.backgroundColor = args.currentValue.rgba;\n                    }\n                    parent.curFrameObjEvent = { previousFrameSetting: obj['frameChangeEventArgs'].previousFrameSetting,\n                        currentFrameSetting: obj['frameChangeEventArgs'].currentFrameSetting };\n                    parent.isFrameBtnClick = true;\n                }\n                else {\n                    parent.frameObj.color = temp;\n                }\n                fillDDB.toggle();\n            }\n        }, '#' + id + '_frame_fill');\n        var fillDDB = new DropDownButton({\n            open: function (args) {\n                if (Browser.isDevice) {\n                    var parentElem = args.element.parentElement;\n                    parentElem.style.top = fillDDB.element.getBoundingClientRect().top -\n                        parentElem.offsetHeight + 'px';\n                    if (window.innerWidth <= 520) {\n                        parentElem.style.left = parent.element.offsetLeft + 'px';\n                    }\n                }\n            },\n            target: '.e-frame-fill-color',\n            iconCss: 'e-dropdownbtn-preview',\n            cssClass: 'e-ie-ddb-popup'\n        }, '#' + id + '_frameColorBtn');\n        fillColor.inline = true;\n        parent.element.querySelector('.e-stroke.e-template .e-dropdownbtn-preview').style.background = parent.frameObj.color;\n    };\n    ToolbarModule.prototype.createFrameSize = function () {\n        var _this = this;\n        var parent = this.parent;\n        var prevFrameSettings;\n        var obj = { frameChangeEventArgs: null };\n        var id = parent.element.id;\n        var strokeWidthItems = [\n            { id: '1', text: this.l10n.getConstant('20') },\n            { id: '2', text: this.l10n.getConstant('40') },\n            { id: '3', text: this.l10n.getConstant('60') },\n            { id: '4', text: this.l10n.getConstant('80') },\n            { id: '5', text: this.l10n.getConstant('100') }\n        ];\n        var strokeWidthBtn = document.getElementById(id + '_frameSizeBtn');\n        var spanElem = document.createElement('span');\n        spanElem.innerHTML = this.l10n.getConstant(parent.frameObj.size.toString());\n        spanElem.className = 'e-frame-stroke-width';\n        strokeWidthBtn.appendChild(spanElem);\n        // Initialize the DropDownButton component.\n        var drpDownBtn = new DropDownButton({ items: strokeWidthItems,\n            open: function (args) {\n                if (Browser.isDevice) {\n                    var parentElem = args.element.parentElement;\n                    parentElem.style.top = drpDownBtn.element.getBoundingClientRect().top -\n                        parentElem.offsetHeight + 'px';\n                }\n                var activeBtn = drpDownBtn.element.childNodes[0].textContent;\n                if (activeBtn !== '') {\n                    args.element.querySelector('[aria-label = ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                }\n            },\n            select: function (args) {\n                _this.triggerTbarClickEvent(args);\n                prevFrameSettings = { type: parent.toPascalCase(parent.frameObj.type), color: parent.frameObj.color,\n                    gradientColor: parent.frameObj.gradientColor, size: parent.frameObj.size, inset: parent.frameObj.inset,\n                    offset: parent.frameObj.offset, borderRadius: parent.frameObj.radius,\n                    frameLineStyle: parent.toPascalCase(parent.frameObj.border), lineCount: parent.frameObj.amount };\n                var temp = parent.frameObj.size;\n                var object = { currObj: {} };\n                parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                parent.frameObj.size = parseInt(args.item.text, 10);\n                parent.notify('draw', { prop: 'triggerFrameChange', value: { prevFrameSettings: prevFrameSettings, obj: obj } });\n                if (obj['frameChangeEventArgs'] && !obj['frameChangeEventArgs'].cancel) {\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: {\n                            operation: 'frame', previousObj: object['currObj'], previousObjColl: object['currObj']['objColl'],\n                            previousPointColl: object['currObj']['pointColl'], previousSelPointColl: object['currObj']['selPointColl'],\n                            previousCropObj: extend({}, parent.cropObj, {}, true), previousText: null, currentText: null,\n                            previousFilter: null, isCircleCrop: null\n                        } });\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                    drpDownBtn.content = args.item.text;\n                    parent.curFrameObjEvent = { previousFrameSetting: obj['frameChangeEventArgs'].previousFrameSetting,\n                        currentFrameSetting: obj['frameChangeEventArgs'].currentFrameSetting };\n                    parent.isFrameBtnClick = true;\n                }\n                else {\n                    parent.frameObj.size = temp;\n                }\n                if (Browser.isDevice) {\n                    if (document.getElementById(id + '_bottomToolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var toolbar_16 = getComponent(id + '_bottomToolbar', 'toolbar');\n                        toolbar_16.refreshOverflow();\n                    }\n                }\n                else {\n                    if (document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var toolbar_17 = getComponent(id + '_toolbar', 'toolbar');\n                        toolbar_17.refreshOverflow();\n                    }\n                }\n            }\n        });\n        // Render initialized DropDownButton.\n        drpDownBtn.appendTo('#' + id + '_frameSizeBtn');\n    };\n    ToolbarModule.prototype.createFrameInset = function () {\n        var _this = this;\n        var parent = this.parent;\n        var prevFrameSettings;\n        var obj = { frameChangeEventArgs: null };\n        var id = parent.element.id;\n        var strokeWidthItems = [\n            { id: '1', text: this.l10n.getConstant('20') },\n            { id: '2', text: this.l10n.getConstant('40') },\n            { id: '3', text: this.l10n.getConstant('60') },\n            { id: '4', text: this.l10n.getConstant('80') },\n            { id: '5', text: this.l10n.getConstant('100') }\n        ];\n        var strokeWidthBtn = document.getElementById(id + '_frameInsetBtn');\n        var spanElem = document.createElement('span');\n        spanElem.innerHTML = this.l10n.getConstant(parent.frameObj.inset.toString());\n        spanElem.className = 'e-frame-inset';\n        strokeWidthBtn.appendChild(spanElem);\n        // Initialize the DropDownButton component.\n        var drpDownBtn = new DropDownButton({ items: strokeWidthItems,\n            open: function (args) {\n                if (Browser.isDevice) {\n                    var parentElem = args.element.parentElement;\n                    parentElem.style.top = drpDownBtn.element.getBoundingClientRect().top -\n                        parentElem.offsetHeight + 'px';\n                }\n                var activeBtn = drpDownBtn.element.childNodes[0].textContent;\n                if (activeBtn !== '') {\n                    args.element.querySelector('[aria-label = ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                }\n            },\n            select: function (args) {\n                _this.triggerTbarClickEvent(args);\n                prevFrameSettings = { type: parent.toPascalCase(parent.frameObj.type), color: parent.frameObj.color,\n                    gradientColor: parent.frameObj.gradientColor, size: parent.frameObj.size, inset: parent.frameObj.inset,\n                    offset: parent.frameObj.offset, borderRadius: parent.frameObj.radius,\n                    frameLineStyle: parent.toPascalCase(parent.frameObj.border), lineCount: parent.frameObj.amount };\n                var temp = parent.frameObj.inset;\n                var object = { currObj: {} };\n                parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                parent.frameObj.inset = parseInt(args.item.text, 10);\n                parent.notify('draw', { prop: 'triggerFrameChange', value: { prevFrameSettings: prevFrameSettings, obj: obj } });\n                if (obj['frameChangeEventArgs'] && !obj['frameChangeEventArgs'].cancel) {\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: {\n                            operation: 'frame', previousObj: object['currObj'], previousObjColl: object['currObj']['objColl'],\n                            previousPointColl: object['currObj']['pointColl'], previousSelPointColl: object['currObj']['selPointColl'],\n                            previousCropObj: extend({}, parent.cropObj, {}, true), previousText: null, currentText: null,\n                            previousFilter: null, isCircleCrop: null\n                        } });\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                    drpDownBtn.content = args.item.text;\n                    parent.curFrameObjEvent = { previousFrameSetting: obj['frameChangeEventArgs'].previousFrameSetting,\n                        currentFrameSetting: obj['frameChangeEventArgs'].currentFrameSetting };\n                    parent.isFrameBtnClick = true;\n                }\n                else {\n                    parent.frameObj.inset = temp;\n                }\n                if (Browser.isDevice) {\n                    if (document.getElementById(id + '_bottomToolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var toolbar_18 = getComponent(id + '_bottomToolbar', 'toolbar');\n                        toolbar_18.refreshOverflow();\n                    }\n                }\n                else {\n                    if (document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var toolbar_19 = getComponent(id + '_toolbar', 'toolbar');\n                        toolbar_19.refreshOverflow();\n                    }\n                }\n            }\n        });\n        // Render initialized DropDownButton.\n        drpDownBtn.appendTo('#' + id + '_frameInsetBtn');\n    };\n    ToolbarModule.prototype.createFrameOffset = function () {\n        var _this = this;\n        var parent = this.parent;\n        var prevFrameSettings;\n        var obj = { frameChangeEventArgs: null };\n        var id = parent.element.id;\n        var strokeWidthItems = [\n            { id: '1', text: this.l10n.getConstant('20') },\n            { id: '2', text: this.l10n.getConstant('40') },\n            { id: '3', text: this.l10n.getConstant('60') },\n            { id: '4', text: this.l10n.getConstant('80') },\n            { id: '5', text: this.l10n.getConstant('100') }\n        ];\n        var strokeWidthBtn = document.getElementById(id + '_frameOffsetBtn');\n        var spanElem = document.createElement('span');\n        spanElem.innerHTML = this.l10n.getConstant(parent.frameObj.offset.toString());\n        spanElem.className = 'e-frame-offset';\n        strokeWidthBtn.appendChild(spanElem);\n        // Initialize the DropDownButton component.\n        var drpDownBtn = new DropDownButton({ items: strokeWidthItems,\n            open: function (args) {\n                if (Browser.isDevice) {\n                    var parentElem = args.element.parentElement;\n                    parentElem.style.top = drpDownBtn.element.getBoundingClientRect().top -\n                        parentElem.offsetHeight + 'px';\n                }\n                var activeBtn = drpDownBtn.element.childNodes[0].textContent;\n                if (activeBtn !== '') {\n                    args.element.querySelector('[aria-label = ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                }\n            },\n            select: function (args) {\n                _this.triggerTbarClickEvent(args);\n                prevFrameSettings = { type: parent.toPascalCase(parent.frameObj.type), color: parent.frameObj.color,\n                    gradientColor: parent.frameObj.gradientColor, size: parent.frameObj.size, inset: parent.frameObj.inset,\n                    offset: parent.frameObj.offset, borderRadius: parent.frameObj.radius,\n                    lineCount: parent.frameObj.amount, frameLineStyle: parent.toPascalCase(parent.frameObj.border) };\n                var temp = parent.frameObj.offset;\n                var object = { currObj: {} };\n                parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                parent.frameObj.offset = parseInt(args.item.text, 10);\n                parent.notify('draw', { prop: 'triggerFrameChange', value: { prevFrameSettings: prevFrameSettings, obj: obj } });\n                if (obj['frameChangeEventArgs'] && !obj['frameChangeEventArgs'].cancel) {\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: {\n                            operation: 'frame', previousObj: object['currObj'], previousObjColl: object['currObj']['objColl'],\n                            previousPointColl: object['currObj']['pointColl'], previousSelPointColl: object['currObj']['selPointColl'],\n                            previousCropObj: extend({}, parent.cropObj, {}, true), previousText: null, currentText: null,\n                            previousFilter: null, isCircleCrop: null\n                        } });\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                    drpDownBtn.content = args.item.text;\n                    parent.curFrameObjEvent = { previousFrameSetting: obj['frameChangeEventArgs'].previousFrameSetting,\n                        currentFrameSetting: obj['frameChangeEventArgs'].currentFrameSetting };\n                    parent.isFrameBtnClick = true;\n                }\n                else {\n                    parent.frameObj.offset = temp;\n                }\n                if (Browser.isDevice) {\n                    if (document.getElementById(id + '_bottomToolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var toolbar_20 = getComponent(id + '_bottomToolbar', 'toolbar');\n                        toolbar_20.refreshOverflow();\n                    }\n                }\n                else {\n                    if (document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var toolbar_21 = getComponent(id + '_toolbar', 'toolbar');\n                        toolbar_21.refreshOverflow();\n                    }\n                }\n            }\n        });\n        // Render initialized DropDownButton.\n        drpDownBtn.appendTo('#' + id + '_frameOffsetBtn');\n    };\n    ToolbarModule.prototype.createFrameRadius = function () {\n        var _this = this;\n        var parent = this.parent;\n        var prevFrameSettings;\n        var obj = { frameChangeEventArgs: null };\n        var id = parent.element.id;\n        var strokeWidthItems = [\n            { id: '1', text: this.l10n.getConstant('0') },\n            { id: '2', text: this.l10n.getConstant('20') },\n            { id: '3', text: this.l10n.getConstant('40') },\n            { id: '4', text: this.l10n.getConstant('60') },\n            { id: '5', text: this.l10n.getConstant('80') },\n            { id: '6', text: this.l10n.getConstant('100') }\n        ];\n        var strokeWidthBtn = document.getElementById(id + '_frameRadiusBtn');\n        var spanElem = document.createElement('span');\n        spanElem.innerHTML = this.l10n.getConstant(parent.frameObj.radius.toString());\n        spanElem.className = 'e-frame-radius';\n        strokeWidthBtn.appendChild(spanElem);\n        // Initialize the DropDownButton component.\n        var drpDownBtn = new DropDownButton({ items: strokeWidthItems,\n            open: function (args) {\n                if (Browser.isDevice) {\n                    var parentElem = args.element.parentElement;\n                    parentElem.style.top = drpDownBtn.element.getBoundingClientRect().top -\n                        parentElem.offsetHeight + 'px';\n                }\n                var activeBtn = drpDownBtn.element.childNodes[0].textContent;\n                if (activeBtn !== '') {\n                    args.element.querySelector('[aria-label = ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                }\n            },\n            select: function (args) {\n                _this.triggerTbarClickEvent(args);\n                prevFrameSettings = { type: parent.toPascalCase(parent.frameObj.type), color: parent.frameObj.color,\n                    gradientColor: parent.frameObj.gradientColor, size: parent.frameObj.size, inset: parent.frameObj.inset,\n                    offset: parent.frameObj.offset, borderRadius: parent.frameObj.radius,\n                    frameLineStyle: parent.toPascalCase(parent.frameObj.border),\n                    lineCount: parent.frameObj.amount };\n                var temp = parent.frameObj.radius;\n                var object = { currObj: {} };\n                parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                parent.frameObj.radius = parseInt(args.item.text, 10);\n                parent.notify('draw', { prop: 'triggerFrameChange', value: { prevFrameSettings: prevFrameSettings, obj: obj } });\n                if (obj['frameChangeEventArgs'] && !obj['frameChangeEventArgs'].cancel) {\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: {\n                            operation: 'frame', previousObj: object['currObj'], previousObjColl: object['currObj']['objColl'],\n                            previousPointColl: object['currObj']['pointColl'], previousSelPointColl: object['currObj']['selPointColl'],\n                            previousCropObj: extend({}, parent.cropObj, {}, true), previousText: null, currentText: null,\n                            previousFilter: null, isCircleCrop: null\n                        } });\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                    drpDownBtn.content = args.item.text;\n                    parent.curFrameObjEvent = { previousFrameSetting: obj['frameChangeEventArgs'].previousFrameSetting,\n                        currentFrameSetting: obj['frameChangeEventArgs'].currentFrameSetting };\n                    parent.isFrameBtnClick = true;\n                }\n                else {\n                    parent.frameObj.radius = temp;\n                }\n                if (Browser.isDevice) {\n                    if (document.getElementById(id + '_bottomToolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var toolbar_22 = getComponent(id + '_bottomToolbar', 'toolbar');\n                        toolbar_22.refreshOverflow();\n                    }\n                }\n                else {\n                    if (document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var toolbar_23 = getComponent(id + '_toolbar', 'toolbar');\n                        toolbar_23.refreshOverflow();\n                    }\n                }\n            }\n        });\n        // Render initialized DropDownButton.\n        drpDownBtn.appendTo('#' + id + '_frameRadiusBtn');\n    };\n    ToolbarModule.prototype.createFrameAmount = function () {\n        var _this = this;\n        var parent = this.parent;\n        var prevFrameSettings;\n        var obj = { frameChangeEventArgs: null };\n        var id = parent.element.id;\n        var strokeWidthItems = [\n            { id: '1', text: this.l10n.getConstant('1') },\n            { id: '2', text: this.l10n.getConstant('2') },\n            { id: '3', text: this.l10n.getConstant('3') },\n            { id: '4', text: this.l10n.getConstant('4') },\n            { id: '5', text: this.l10n.getConstant('5') }\n        ];\n        var strokeWidthBtn = document.getElementById(id + '_frameAmountBtn');\n        var spanElem = document.createElement('span');\n        spanElem.innerHTML = this.l10n.getConstant(parent.frameObj.amount.toString());\n        spanElem.className = 'e-frame-amount';\n        strokeWidthBtn.appendChild(spanElem);\n        // Initialize the DropDownButton component.\n        var drpDownBtn = new DropDownButton({ items: strokeWidthItems,\n            open: function (args) {\n                if (Browser.isDevice) {\n                    var parentElem = args.element.parentElement;\n                    parentElem.style.top = drpDownBtn.element.getBoundingClientRect().top -\n                        parentElem.offsetHeight + 'px';\n                }\n                var activeBtn = drpDownBtn.element.childNodes[0].textContent;\n                if (activeBtn !== '') {\n                    args.element.querySelector('[aria-label = ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                }\n            },\n            select: function (args) {\n                _this.triggerTbarClickEvent(args);\n                prevFrameSettings = { type: parent.toPascalCase(parent.frameObj.type), color: parent.frameObj.color,\n                    gradientColor: parent.frameObj.gradientColor, size: parent.frameObj.size, inset: parent.frameObj.inset,\n                    offset: parent.frameObj.offset, borderRadius: parent.frameObj.radius,\n                    lineCount: parent.frameObj.amount, frameLineStyle: parent.toPascalCase(parent.frameObj.border) };\n                var temp = parent.frameObj.amount;\n                var object = { currObj: {} };\n                parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                parent.frameObj.amount = parseInt(args.item.text, 10);\n                parent.notify('draw', { prop: 'triggerFrameChange', value: { prevFrameSettings: prevFrameSettings, obj: obj } });\n                if (obj['frameChangeEventArgs'] && !obj['frameChangeEventArgs'].cancel) {\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: {\n                            operation: 'frame', previousObj: object['currObj'], previousObjColl: object['currObj']['objColl'],\n                            previousPointColl: object['currObj']['pointColl'], previousSelPointColl: object['currObj']['selPointColl'],\n                            previousCropObj: extend({}, parent.cropObj, {}, true), previousText: null, currentText: null,\n                            previousFilter: null, isCircleCrop: null\n                        } });\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                    drpDownBtn.content = args.item.text;\n                    parent.curFrameObjEvent = { previousFrameSetting: obj['frameChangeEventArgs'].previousFrameSetting, currentFrameSetting: obj['frameChangeEventArgs'].currentFrameSetting };\n                    parent.isFrameBtnClick = true;\n                }\n                else {\n                    parent.frameObj.amount = temp;\n                }\n                if (Browser.isDevice) {\n                    if (document.getElementById(id + '_bottomToolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var toolbar_24 = getComponent(id + '_bottomToolbar', 'toolbar');\n                        toolbar_24.refreshOverflow();\n                    }\n                }\n                else {\n                    if (document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var toolbar_25 = getComponent(id + '_toolbar', 'toolbar');\n                        toolbar_25.refreshOverflow();\n                    }\n                }\n            }\n        });\n        // Render initialized DropDownButton.\n        drpDownBtn.appendTo('#' + id + '_frameAmountBtn');\n    };\n    ToolbarModule.prototype.createFrameBorder = function () {\n        var _this = this;\n        var parent = this.parent;\n        var prevFrameSettings;\n        var obj = { frameChangeEventArgs: null };\n        var id = parent.element.id;\n        var strokeWidthItems = [\n            { id: '1', text: this.l10n.getConstant('Solid') },\n            { id: '2', text: this.l10n.getConstant('Dashed') },\n            { id: '3', text: this.l10n.getConstant('Dotted') }\n        ];\n        var strokeWidthBtn = document.getElementById(id + '_frameBorderBtn');\n        var spanElem = document.createElement('span');\n        spanElem.innerHTML = this.l10n.getConstant(parent.toPascalCase(parent.frameObj.border));\n        spanElem.className = 'e-frame-border';\n        strokeWidthBtn.appendChild(spanElem);\n        // Initialize the DropDownButton component.\n        var drpDownBtn = new DropDownButton({ items: strokeWidthItems,\n            open: function (args) {\n                if (Browser.isDevice) {\n                    var parentElem = args.element.parentElement;\n                    parentElem.style.top = drpDownBtn.element.getBoundingClientRect().top -\n                        parentElem.offsetHeight + 'px';\n                }\n                var activeBtn = drpDownBtn.element.childNodes[0].textContent;\n                if (activeBtn !== '') {\n                    args.element.querySelector('[aria-label = ' + '\"' + activeBtn + '\"' + ']').classList.add('e-selected-btn');\n                }\n            },\n            select: function (args) {\n                _this.triggerTbarClickEvent(args);\n                prevFrameSettings = { lineCount: parent.frameObj.amount, color: parent.frameObj.color, borderRadius: parent.frameObj.radius,\n                    gradientColor: parent.frameObj.gradientColor, size: parent.frameObj.size, inset: parent.frameObj.inset,\n                    offset: parent.frameObj.offset, frameLineStyle: parent.toPascalCase(parent.frameObj.border),\n                    type: parent.toPascalCase(parent.frameObj.type) };\n                var temp = parent.frameObj.border;\n                var object = { currObj: {} };\n                parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                parent.frameObj.border = args.item.text.toLowerCase();\n                parent.notify('draw', { prop: 'triggerFrameChange', value: { prevFrameSettings: prevFrameSettings, obj: obj } });\n                if (obj['frameChangeEventArgs'] && !obj['frameChangeEventArgs'].cancel) {\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: {\n                            operation: 'frame', previousObj: object['currObj'], previousObjColl: object['currObj']['objColl'],\n                            previousPointColl: object['currObj']['pointColl'], previousSelPointColl: object['currObj']['selPointColl'],\n                            previousCropObj: extend({}, parent.cropObj, {}, true), previousText: null, currentText: null,\n                            previousFilter: null, isCircleCrop: null\n                        } });\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                    drpDownBtn.content = args.item.text;\n                    parent.curFrameObjEvent = { previousFrameSetting: obj['frameChangeEventArgs'].previousFrameSetting, currentFrameSetting: obj['frameChangeEventArgs'].currentFrameSetting };\n                    parent.isFrameBtnClick = true;\n                }\n                else {\n                    parent.frameObj.border = temp;\n                }\n                if (Browser.isDevice) {\n                    if (document.getElementById(id + '_bottomToolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var toolbar_26 = getComponent(id + '_bottomToolbar', 'toolbar');\n                        toolbar_26.refreshOverflow();\n                    }\n                }\n                else {\n                    if (document.getElementById(id + '_toolbar')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var toolbar_27 = getComponent(id + '_toolbar', 'toolbar');\n                        toolbar_27.refreshOverflow();\n                    }\n                }\n            }\n        });\n        // Render initialized DropDownButton.\n        drpDownBtn.appendTo('#' + id + '_frameBorderBtn');\n    };\n    ToolbarModule.prototype.initFilterToolbarItem = function () {\n        var _this = this;\n        var parent = this.parent;\n        var id = parent.element.id;\n        var mainItem = this.getFilterToolbarItem();\n        var args = { toolbarType: 'filter', toolbarItems: mainItem };\n        parent.trigger('toolbarUpdating', args);\n        mainItem = args.toolbarItems;\n        if (document.querySelector('#' + id + '_contextualToolbar').classList.contains('e-control')) {\n            getComponent(document.getElementById(id + '_contextualToolbar'), 'toolbar').destroy();\n        }\n        var toolbar = new Toolbar({\n            width: '100%',\n            items: mainItem,\n            clicked: this.contextualToolbarClicked.bind(this),\n            created: function () {\n                _this.updatePrivateVariables();\n                _this.createCanvasFilter();\n                if (parent.currentFilter === '') {\n                    parent.currentFilter = id + '_default';\n                }\n                var hdrWrapper = document.querySelector('#' + id + '_headWrapper');\n                if (hdrWrapper) {\n                    hdrWrapper.style.display = 'none';\n                }\n                var filterElem = document.getElementById(parent.currentFilter + 'Canvas');\n                if (filterElem) {\n                    filterElem.parentElement.parentElement.classList.add('e-selected');\n                }\n                _this.enableDisableTbrBtn();\n                toolbar.refreshOverflow();\n            }\n        });\n        toolbar.appendTo('#' + id + '_contextualToolbar');\n    };\n    ToolbarModule.prototype.drawDashedLine = function (ctx) {\n        ctx.beginPath();\n        ctx.setLineDash([5]);\n        ctx.rect(10, 10, 280, 130);\n        ctx.stroke();\n        ctx.closePath();\n    };\n    ToolbarModule.prototype.createCanvasFilter = function () {\n        var parent = this.parent;\n        showSpinner(parent.element);\n        parent.element.style.opacity = '0.5';\n        var imageData = parent.getCurrentCanvasData();\n        this.inMemoryCanvas.width = imageData.width;\n        this.inMemoryCanvas.height = imageData.height;\n        this.inMemoryContext.putImageData(imageData, 0, 0);\n        this.updateFilterCanvas('_defaultCanvas', 'default');\n        this.updateFilterCanvas('_chromeCanvas', 'chrome');\n        this.updateFilterCanvas('_coldCanvas', 'cold');\n        this.updateFilterCanvas('_warmCanvas', 'warm');\n        this.updateFilterCanvas('_grayscaleCanvas', 'grayscale');\n        this.updateFilterCanvas('_sepiaCanvas', 'sepia');\n        this.updateFilterCanvas('_invertCanvas', 'invert');\n        hideSpinner(parent.element);\n        parent.element.style.opacity = '1';\n        parent.initialAdjustmentValue = this.lowerContext.filter;\n    };\n    ToolbarModule.prototype.updateFilterCanvas = function (selector, type) {\n        var parent = this.parent;\n        var filter = parent.element.querySelector('#' + parent.element.id + selector);\n        if (filter) {\n            var ctx = filter.getContext('2d');\n            ctx = filter.getContext('2d');\n            filter.style.width = '100px';\n            filter.style.height = '100px';\n            parent.notify('filter', { prop: 'updateAdj', value: { type: type, value: null, isPreview: true, ctx: ctx } });\n            ctx.drawImage(this.inMemoryCanvas, 0, 0, 300, 150);\n            if (parent.isSafari) {\n                parent.notify('filter', { prop: 'apply-filter', onPropertyChange: false, value: { context: ctx } });\n            }\n        }\n    };\n    ToolbarModule.prototype.getQuickAccessToolbarItem = function (isPenEdit) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var args = { cancel: false, toolbarItems: [] };\n        var toolbarItems = [];\n        if (isNullOrUndefined(isPenEdit)) {\n            if (parent.activeObj.shape === 'image') {\n                toolbarItems.push('Flip');\n            }\n            if (parent.activeObj.shape !== 'redact') {\n                toolbarItems.push('BringToFront');\n            }\n            toolbarItems.push('Clone');\n            toolbarItems.push('Delete');\n            if (parent.activeObj.shape === 'text') {\n                toolbarItems.push('EditText');\n            }\n            args.shape = parent.toPascalCase(parent.activeObj.shape);\n        }\n        else if (isPenEdit) {\n            toolbarItems.push('BringToFront');\n            toolbarItems.push('Delete');\n            args.shape = 'Freehand draw';\n        }\n        args.toolbarItems = extend([], toolbarItems, null, true);\n        parent.trigger('quickAccessToolbarOpen', args);\n        var orgToolbarItems = [];\n        if (args.cancel) {\n            orgToolbarItems = [];\n        }\n        else {\n            for (var i = 0; i < args.toolbarItems.length; i++) {\n                switch (args.toolbarItems[i]) {\n                    case 'BringToFront':\n                        orgToolbarItems.push({ id: id + '_bringToFront', prefixIcon: 'e-icons e-bring-to-front',\n                            tooltipText: this.l10n.getConstant('BringToFront'), align: 'Left' });\n                        break;\n                    case 'Clone':\n                        orgToolbarItems.push({ id: id + '_duplicate', prefixIcon: 'e-icons e-order', cssClass: 'top-icon e-order',\n                            tooltipText: this.l10n.getConstant('Duplicate'), align: 'Left' });\n                        break;\n                    case 'Delete':\n                        orgToolbarItems.push({ id: id + '_remove', prefixIcon: 'e-icons e-trash', cssClass: 'top-icon e-trash',\n                            tooltipText: this.l10n.getConstant('Remove'), align: 'Left' });\n                        break;\n                    case 'EditText':\n                        orgToolbarItems.push({ id: id + '_editText', prefixIcon: 'e-icons e-annotation-edit', cssClass: 'top-icon e-annotation-edit',\n                            tooltipText: this.l10n.getConstant('EditText'), align: 'Left' });\n                        break;\n                    case 'Flip':\n                        orgToolbarItems.push({ id: id + '_hFlip', prefixIcon: 'e-icons e-horizontal-flip',\n                            tooltipText: this.l10n.getConstant('HorizontalFlip'), align: 'Left' });\n                        orgToolbarItems.push({ id: id + '_vFlip', prefixIcon: 'e-icons e-vertical-flip',\n                            tooltipText: this.l10n.getConstant('VerticalFlip'), align: 'Left' });\n                        break;\n                    default:\n                        orgToolbarItems.push(args.toolbarItems[i]);\n                        break;\n                }\n            }\n        }\n        return orgToolbarItems;\n    };\n    ToolbarModule.prototype.renderQAT = function (isPenEdit) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (parent.activeObj && parent.showQuickAccessToolbar) {\n            var qtArea = document.getElementById(id + '_quickAccessToolbarArea');\n            if (qtArea) {\n                this.destroyQuickAccessToolbar();\n                qtArea.style.display = 'block';\n            }\n            var items = this.getQuickAccessToolbarItem(isPenEdit);\n            if (items.length === 0) {\n                return;\n            }\n            if (isNullOrUndefined(parent.quickAccessToolbarTemplate)) {\n                var toolbarObj = new Toolbar({\n                    items: items,\n                    clicked: this.quickAccessToolbarClicked.bind(this)\n                });\n                toolbarObj.appendTo('#' + id + '_quickAccessToolbar');\n            }\n            var height = this.toolbarHeight && this.toolbarHeight !== 0 ? this.toolbarHeight : qtArea.clientHeight;\n            var wrapperElement = parent.element.querySelector('#' + id + '_headWrapper');\n            if (isNullOrUndefined(isPenEdit) && (parent.activeObj.activePoint.width !== 0 ||\n                parent.activeObj.activePoint.height !== 0 ||\n                (parent.activeObj.shape && parent.activeObj.shape === 'path' && parent.activeObj.pointColl.length > 0))) {\n                var orderObj = { order: null };\n                parent.notify('shape', { prop: 'getHighestOrder', onPropertyChange: false, value: { obj: orderObj } });\n                if (parent.activeObj.order > orderObj['order'] && document.getElementById(parent.element.id + '_bringToFront')) {\n                    document.getElementById(parent.element.id + '_bringToFront').classList.add('e-overlay');\n                }\n                else {\n                    if (document.getElementById(parent.element.id + '_bringToFront')) {\n                        document.getElementById(parent.element.id + '_bringToFront').classList.remove('e-overlay');\n                    }\n                }\n                qtArea.style.width = 'auto';\n                parent.activeObj.activePoint.width = Math.abs(parent.activeObj.activePoint.width);\n                parent.activeObj.activePoint.height = Math.abs(parent.activeObj.activePoint.height);\n                var x = parent.activeObj.activePoint.startX < parent.activeObj.activePoint.endX ?\n                    parent.activeObj.activePoint.startX : parent.activeObj.activePoint.endX;\n                var y = parent.activeObj.activePoint.startY < parent.activeObj.activePoint.endY ?\n                    parent.activeObj.activePoint.startY : parent.activeObj.activePoint.endY;\n                var width = parent.activeObj.activePoint.width;\n                if (parent.activeObj.rotatedAngle !== 0 && parent.activeObj.shape !== 'arrow') {\n                    var object = { activePoint: null };\n                    parent.notify('shape', { prop: 'getSquarePointForRotatedShape', onPropertyChange: false,\n                        value: { obj: parent.activeObj, object: object } });\n                    var point = object['activePoint'];\n                    x = point.startX;\n                    y = point.startY;\n                    width = point.width;\n                }\n                else if (parent.activeObj.shape === 'path') {\n                    var path = parent.getSquarePointForPath(parent.activeObj);\n                    x = path.startX;\n                    y = path.startY;\n                    width = path.width;\n                }\n                qtArea.style.left = (x + (width / 2)) - (items.length * 25) + 'px';\n                if (parseFloat(qtArea.style.left) + (qtArea.clientWidth / 2) !== x + (width / 2)) {\n                    var diff = (x + (width / 2)) - (parseFloat(qtArea.style.left) + (qtArea.clientWidth / 2));\n                    qtArea.style.left = parseFloat(qtArea.style.left) + diff + 'px';\n                }\n                if (wrapperElement) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    height = wrapperElement.offsetHeight + height;\n                }\n                if (y - (height + (height / 1.5)) < parent.img.destTop) {\n                    qtArea.style.top = parent.img.destTop + 'px';\n                    if (wrapperElement) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        qtArea.style.top = (parent.img.destTop < 0 ? 0 : parent.img.destTop) + wrapperElement.offsetHeight + 'px';\n                    }\n                }\n                else {\n                    height = this.toolbarHeight;\n                    qtArea.style.top = y - (height + (height / 1.5)) + 'px';\n                }\n            }\n            else if (isPenEdit) {\n                var indexObj = { freehandSelectedIndex: -1 };\n                parent.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n                var orderObj = { order: null };\n                parent.notify('shape', { prop: 'getHighestOrder', onPropertyChange: false, value: { obj: orderObj } });\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if (parent.getObjFromId(parent.pointColl[indexObj['freehandSelectedIndex']].id).order >= orderObj['order'] && document.getElementById(parent.element.id + '_bringToFront')) {\n                    document.getElementById(parent.element.id + '_bringToFront').classList.add('e-overlay');\n                }\n                else {\n                    if (document.getElementById(parent.element.id + '_bringToFront')) {\n                        document.getElementById(parent.element.id + '_bringToFront').classList.remove('e-overlay');\n                    }\n                }\n                var obj = { activePoint: null };\n                parent.notify('freehand-draw', { prop: 'getSqPtFD',\n                    value: { idx: indexObj['freehandSelectedIndex'], obj: obj } });\n                var point = obj['activePoint'];\n                qtArea.style.width = 'auto';\n                qtArea.style.left = (point.startX + (point.width / 2)) - (items.length * 24) + 'px';\n                if (point.startY - (height + (height / 1.5)) < parent.img.destTop) {\n                    qtArea.style.top = parent.img.destTop + 'px';\n                }\n                else {\n                    qtArea.style.top = point.startY - (height + (height / 1.5)) + 'px';\n                }\n            }\n            else {\n                qtArea.style.display = 'none';\n            }\n            if (parseFloat(qtArea.style.top) < 0) {\n                qtArea.style.top = '0px';\n            }\n        }\n    };\n    ToolbarModule.prototype.refreshDropDownBtn = function (isDisabled) {\n        if (isNullOrUndefined(isDisabled)) {\n            return;\n        }\n        var parent = this.parent;\n        var id = parent.element.id;\n        var annotation = document.querySelector('#' + id + '_annotationBtn');\n        if (annotation) {\n            if (isDisabled) {\n                annotation.classList.add('e-disabled');\n                annotation.parentElement.classList.add('e-overlay');\n            }\n            else {\n                annotation.classList.remove('e-disabled');\n                annotation.parentElement.classList.remove('e-overlay');\n            }\n            getComponent(annotation, 'dropdown-btn').disabled = isDisabled;\n        }\n        var transform = document.querySelector('#' + id + '_transformBtn');\n        if (transform) {\n            if (isDisabled) {\n                transform.classList.add('e-disabled');\n                transform.parentElement.classList.add('e-overlay');\n            }\n            else {\n                transform.classList.remove('e-disabled');\n                transform.parentElement.classList.remove('e-overlay');\n            }\n            getComponent(transform, 'dropdown-btn').disabled = isDisabled;\n        }\n        var adjustment = document.querySelector('#' + id + '_adjustment');\n        if (adjustment) {\n            if (isDisabled) {\n                adjustment.classList.add('e-disabled');\n                adjustment.parentElement.classList.add('e-overlay');\n            }\n            else {\n                adjustment.classList.remove('e-disabled');\n                adjustment.parentElement.classList.remove('e-overlay');\n            }\n            getComponent(adjustment, 'btn').disabled = isDisabled;\n        }\n        var filter = document.querySelector('#' + id + '_filter');\n        if (filter) {\n            if (isDisabled) {\n                filter.classList.add('e-disabled');\n                filter.parentElement.classList.add('e-overlay');\n            }\n            else {\n                filter.classList.remove('e-disabled');\n                filter.parentElement.classList.remove('e-overlay');\n            }\n            getComponent(filter, 'btn').disabled = isDisabled;\n        }\n    };\n    ToolbarModule.prototype.cropSelect = function (args) {\n        var parent = this.parent;\n        parent.isCropTab = true;\n        if (isNullOrUndefined(parent.transform.cropZoomFactor)) {\n            parent.transform.cropZoomFactor = parent.transform.zoomFactor;\n            parent.notify('draw', { prop: 'setTempZoomFactor', onPropertyChange: false, value: { tempZoomFactor: parent.transform.zoomFactor } });\n        }\n        parent.transform.zoomFactor = parent.transform.cropZoomFactor;\n        var text = args.item.id;\n        this.currentToolbar = 'crop';\n        parent.currSelectionPoint = null;\n        parent.notify('draw', { prop: 'setIsCropSelect', value: { bool: true } });\n        var obj = { prevObj: null };\n        parent.notify('crop', { prop: 'getPreviousCropCurrentObj', value: { obj: obj } });\n        parent.notify('draw', { prop: 'select', onPropertyChange: false,\n            value: { type: text, startX: null, startY: null, width: null, height: null } });\n        parent.notify('crop', { prop: 'setPreviousCropCurrentObj', value: { obj: obj['prevObj'] } });\n        this.enableDisableTbrBtn();\n        parent.notify('transform', { prop: 'disableZoomOutBtn', value: { isZoomOut: true } });\n    };\n    ToolbarModule.prototype.quickAccessToolbarClicked = function (args, isContextualToolbar) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (args.item) {\n            var isPreventUndoRedo = null;\n            var obj = { prevActObj: null };\n            var object = { tempObj: null };\n            parent.notify('draw', { prop: 'getPrevActObj', onPropertyChange: false, value: { obj: obj } });\n            parent.notify('selection', { prop: 'getTempActObj', onPropertyChange: false, value: { obj: object } });\n            object['tempObj']['activePoint']['height'] = Math.abs(object['tempObj']['activePoint']['height']);\n            var pathObject = { isNewPath: null };\n            var ctx = void 0;\n            parent.notify('draw', { prop: 'getNewPath', value: { obj: pathObject } });\n            var type = args.item.id.replace(id + '_', '').toLowerCase();\n            var left = void 0;\n            var right = void 0;\n            var indexObj = { freehandSelectedIndex: null };\n            var shapeId = void 0;\n            var isDisabled = void 0;\n            var orderObj = { order: null };\n            switch (type) {\n                case 'duplicate':\n                    if (!parent.element.querySelector('#' + id + '_duplicate').classList.contains('e-overlay')) {\n                        this.refreshSlider();\n                        if (!pathObject['isNewPath'] && JSON.stringify(object['tempObj']) === JSON.stringify(parent.activeObj)) {\n                            isPreventUndoRedo = true;\n                        }\n                        this.duplicateShape(isPreventUndoRedo);\n                    }\n                    break;\n                case 'remove':\n                    if (!parent.element.querySelector('#' + id + '_remove').classList.contains('e-overlay')) {\n                        parent.noPushUndo = false;\n                        this.refreshSlider();\n                        parent.notify('selection', { prop: 'deleteItem', onPropertyChange: false });\n                    }\n                    break;\n                case 'edittext':\n                    if (!parent.element.querySelector('#' + id + '_editText').classList.contains('e-overlay')) {\n                        this.editText();\n                    }\n                    break;\n                case 'rotleft':\n                case 'rotright':\n                    left = parent.element.querySelector('#' + id + '_rotLeft');\n                    right = parent.element.querySelector('#' + id + '_rotRight');\n                    if ((left && !left.classList.contains('e-disabled')) ||\n                        (right && !right.classList.contains('e-disabled'))) {\n                        parent.rotateImage(args.item.id.replace(id + '_', '').toLowerCase());\n                    }\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                    break;\n                case 'hflip':\n                    if (!parent.element.querySelector('#' + id + '_hFlip').classList.contains('e-disabled')) {\n                        ctx = parent.activeObj.imageCanvas.getContext('2d');\n                        parent.horizontalFlip(ctx);\n                    }\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                    break;\n                case 'vflip':\n                    if (!parent.element.querySelector('#' + id + '_vFlip').classList.contains('e-disabled')) {\n                        ctx = parent.activeObj.imageCanvas.getContext('2d');\n                        parent.verticalFlip(ctx);\n                    }\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                    break;\n                case 'bringtofront':\n                    if (!parent.element.querySelector('#' + id + '_bringToFront').classList.contains('e-overlay')) {\n                        parent.notify('freehand-draw', { prop: 'getFreehandSelectedIndex', onPropertyChange: false, value: { obj: indexObj } });\n                        shapeId = indexObj['freehandSelectedIndex'] !== null ? parent.pointColl[indexObj['freehandSelectedIndex']].id :\n                            parent.activeObj.currIndex;\n                        parent.updateShapeOrder(shapeId, type);\n                        isDisabled = false;\n                        parent.notify('shape', { prop: 'getHighestOrder', onPropertyChange: false, value: { obj: orderObj } });\n                        if (shapeId.indexOf('pen') > -1) {\n                            parent.notify('shape', { prop: 'updateShapeColl', onPropertyChange: false });\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            var order = parent.getObjFromId(shapeId).order;\n                            isDisabled = order >= orderObj['order'] ? true : false;\n                        }\n                        else {\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            var order = parent.getObjFromId(shapeId).order;\n                            isDisabled = order > orderObj['order'] ? true : false;\n                        }\n                        if (isDisabled) {\n                            document.getElementById(parent.element.id + '_bringToFront').classList.add('e-overlay');\n                        }\n                        else {\n                            document.getElementById(parent.element.id + '_bringToFront').classList.remove('e-overlay');\n                        }\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                    }\n                    break;\n            }\n            if (type === 'duplicate' || type === 'remove') {\n                parent.notify('draw', { prop: 'redrawDownScale' });\n            }\n        }\n        if (isNullOrUndefined(isContextualToolbar)) {\n            parent.trigger('quickAccessToolbarItemClick', args);\n        }\n    };\n    ToolbarModule.prototype.editText = function () {\n        var parent = this.parent;\n        var points = { x: parent.activeObj.activePoint.startX, y: parent.activeObj.activePoint.startY };\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.notify('selection', { prop: 'setTempActObj', onPropertyChange: false,\n            value: { obj: extend({}, parent.activeObj, {}, true) } });\n        parent.notify('selection', { prop: 'setInitialTextEdit', onPropertyChange: false,\n            value: { bool: true } });\n        parent.notify('draw', { prop: 'setPrevActObj', onPropertyChange: false,\n            value: { prevActObj: extend({}, parent.activeObj, {}, true) } });\n        if (parent.activeObj.rotatedAngle !== 0) {\n            var object = { x: points.x, y: points.y };\n            parent.notify('shape', { prop: 'getTextBoxPosition', onPropertyChange: false,\n                value: { obj: parent.activeObj, object: object } });\n            points.x = object['x'];\n            points.y = object['y'];\n            var object1 = { x: points.x, y: points.y };\n            parent.notify('shape', { prop: 'setFlipState', onPropertyChange: false,\n                value: { x: points.x, y: points.y, obj: parent.activeObj, object: object1 } });\n            points.x = object1['x'];\n            points.y = object1['y'];\n        }\n        var tempActiveObj = extend({}, parent.activeObj, {}, true);\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        this.lowerContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n        parent.notify('draw', { prop: 'redrawImgWithObj', onPropertyChange: false });\n        parent.notify('draw', { prop: 'redrawDownScale' });\n        parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.lowerContext } });\n        parent.notify('draw', { prop: 'clearOuterCanvas', onPropertyChange: false, value: { context: this.upperContext } });\n        parent.activeObj = tempActiveObj;\n        parent.notify('shape', { prop: 'renderTextArea', onPropertyChange: false,\n            value: { x: points.x, y: points.y, actObj: parent.activeObj } });\n        if (isNullOrUndefined(parent.activeObj.currIndex)) {\n            parent.notify('draw', { prop: 'setShapeTextInsert', onPropertyChange: false, value: { bool: true } });\n        }\n        if (document.getElementById(parent.element.id + '_quickAccessToolbarArea')) {\n            document.getElementById(parent.element.id + '_quickAccessToolbarArea').style.display = 'none';\n        }\n    };\n    ToolbarModule.prototype.duplicateShape = function (isPreventUndoRedo, isPublicMethod) {\n        var parent = this.parent;\n        var tempObj = { activePoint: { startX: 0, startY: 0, endX: 0, endY: 0, width: 0, height: 0 },\n            flipObjColl: [], triangle: [], triangleRatio: [] };\n        parent.notify('selection', { prop: 'setTempActObj', onPropertyChange: false,\n            value: { obj: tempObj } });\n        var obj = { prevActObj: null };\n        parent.notify('draw', { prop: 'getPrevActObj', onPropertyChange: false, value: { obj: obj } });\n        var pathObject = { isNewPath: null };\n        parent.notify('draw', { prop: 'getNewPath', value: { obj: pathObject } });\n        var objColl;\n        var duplicateObj = extend({}, parent.activeObj, {}, true);\n        var orderObj = { order: null };\n        parent.notify('shape', { prop: 'getHighestOrder', onPropertyChange: false, value: { obj: orderObj } });\n        if (duplicateObj.order) {\n            parent.notify('shape', { prop: 'updateShapeColl', onPropertyChange: false });\n            duplicateObj.order = orderObj['order'] > duplicateObj.order ? orderObj['order'] + 1 : duplicateObj.order + 1;\n        }\n        else {\n            parent.noPushUndo = true;\n            parent.okBtn();\n            parent.noPushUndo = false;\n            parent.selectShape(duplicateObj.currIndex);\n            duplicateObj.order = orderObj['order'] > duplicateObj.order ? orderObj['order'] + 1 : duplicateObj.order + 1;\n        }\n        if (duplicateObj.shape === 'image') {\n            objColl = extend([], parent.objColl, [], true);\n            parent.notify('undo-redo', { prop: 'updateUrObj', onPropertyChange: false, value: { objColl: objColl } });\n        }\n        if (isNullOrUndefined(parent.activeObj.currIndex)) {\n            parent.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: isPreventUndoRedo } });\n        }\n        else if (obj['prevActObj'] || isPublicMethod) {\n            parent.activeObj.currIndex = null;\n            duplicateObj.currIndex = null;\n            parent.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: isPreventUndoRedo } });\n        }\n        else {\n            parent.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: true } });\n        }\n        var noPushUndo = parent.noPushUndo;\n        parent.noPushUndo = false;\n        parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n        parent.noPushUndo = noPushUndo;\n        objColl = extend([], parent.objColl, [], true);\n        duplicateObj.activePoint.startX += 10;\n        duplicateObj.activePoint.startY -= 10;\n        duplicateObj.activePoint.endX += 10;\n        duplicateObj.activePoint.endY -= 10;\n        if (duplicateObj.shape === 'path') {\n            for (var i = 0; i < duplicateObj.pointColl.length; i++) {\n                duplicateObj.pointColl[i].x += 10;\n                duplicateObj.pointColl[i].y -= 10;\n            }\n        }\n        else if (duplicateObj.shape === 'image') {\n            duplicateObj.imageCanvas = parent.createElement('canvas');\n        }\n        var shapeIDObj = { id: 'shape_' + (parent.objColl.length + 1) };\n        parent.notify('shape', { prop: 'getNewShapeId', onPropertyChange: false, value: { obj: shapeIDObj } });\n        duplicateObj.currIndex = shapeIDObj['id'];\n        parent.activeObj = extend({}, duplicateObj, {}, true);\n        if (parent.activeObj.shape === 'image') {\n            var activePoint = extend({}, duplicateObj.activePoint, {}, true);\n            var dimObj = { width: 0, height: 0 };\n            parent.notify('transform', { prop: 'calcMaxDimension', onPropertyChange: false,\n                value: { width: parent.activeObj.imageElement.width, height: parent.activeObj.imageElement.height,\n                    obj: dimObj, isImgShape: null } });\n            parent.activeObj.activePoint.width = dimObj['width'];\n            parent.activeObj.activePoint.height = dimObj['height'];\n            if (parent.activeObj.isHorImageFlip && parent.activeObj.isVerImageFlip) {\n                parent.activeObj.isHorImageFlip = parent.activeObj.isVerImageFlip = false;\n                parent.notify('draw', { prop: 'downScaleImgCanvas', onPropertyChange: false,\n                    value: { ctx: duplicateObj.imageCanvas.getContext('2d'), isImgAnnotation: true, isHFlip: true, isVFlip: true } });\n                parent.activeObj.isHorImageFlip = parent.activeObj.isVerImageFlip = true;\n            }\n            else if (parent.activeObj.isHorImageFlip) {\n                parent.activeObj.isHorImageFlip = false;\n                parent.notify('draw', { prop: 'downScaleImgCanvas', onPropertyChange: false,\n                    value: { ctx: duplicateObj.imageCanvas.getContext('2d'), isImgAnnotation: true, isHFlip: true, isVFlip: null } });\n                parent.activeObj.isHorImageFlip = true;\n            }\n            else if (parent.activeObj.isVerImageFlip) {\n                parent.activeObj.isVerImageFlip = false;\n                parent.notify('draw', { prop: 'downScaleImgCanvas', onPropertyChange: false,\n                    value: { ctx: duplicateObj.imageCanvas.getContext('2d'), isImgAnnotation: true, isHFlip: null, isVFlip: true } });\n                parent.activeObj.isVerImageFlip = true;\n            }\n            else {\n                parent.notify('draw', { prop: 'downScaleImgCanvas', onPropertyChange: false,\n                    value: { ctx: duplicateObj.imageCanvas.getContext('2d'), isImgAnnotation: true, isHFlip: null, isVFlip: null } });\n            }\n            parent.activeObj.activePoint = activePoint;\n        }\n        if (parent.activeObj.shape === 'line' || parent.activeObj.shape === 'arrow') {\n            parent.notify('shape', { prop: 'setPointCollForLineArrow', onPropertyChange: false,\n                value: { obj: parent.activeObj } });\n        }\n        parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj,\n                isCropRatio: null, points: null, isPreventDrag: true } });\n        parent.notify('undo-redo', { prop: 'updateUrObj', onPropertyChange: false, value: { objColl: objColl } });\n        parent.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: true } });\n        parent.noPushUndo = false;\n        parent.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n        parent.noPushUndo = true;\n        parent.notify('selection', { prop: 'redrawShape', onPropertyChange: false,\n            value: { obj: parent.objColl[parent.objColl.length - 1] } });\n        var id = parent.element.id;\n        var toolbarId = Browser.isDevice ? '#' + id + '_bottomToolbar ' + '#' + id : '#' + id;\n        var object = { freehandDrawSelectedId: null };\n        parent.notify('freehand-draw', { prop: 'getFreehandDrawSelectedId', onPropertyChange: false, value: { obj: object } });\n        this.enableDisableCloneBtn(toolbarId, object);\n        this.renderQAT();\n        if (parent.activeObj.shape && parent.activeObj.shape === 'redact') {\n            this.redactSlider(parent.activeObj.redactType);\n        }\n    };\n    ToolbarModule.prototype.defToolbarClicked = function (args) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var isContextualToolbar = false;\n        var isFilterFinetune = false;\n        if (!this.isFrameToolbar && parent.element.querySelector('.e-contextual-toolbar-wrapper')) {\n            if (!parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.contains('e-hide')) {\n                isContextualToolbar = isFilterFinetune = true;\n            }\n            var straightenObj = { bool: parent.isStraightening };\n            if (!Browser.isDevice || (Browser.isDevice && !straightenObj['bool'])) {\n                parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.add('e-hide');\n            }\n        }\n        if (args.item) {\n            var type = args.item.id.replace(id + '_', '').toLowerCase();\n            if (type === 'duplicate' || type === 'remove' || type === 'edittext' ||\n                type === 'hflip' || type === 'vflip' || type === 'rotleft' || type === 'rotright') {\n                this.quickAccessToolbarClicked(args, true);\n                parent.trigger('toolbarItemClicked', args);\n            }\n            else {\n                var isDisabledFilter = false;\n                var isDisabledAdjustment = false;\n                var adjustment = document.querySelector('#' + id + '_adjustment');\n                if (adjustment && adjustment.classList.contains('e-disabled')) {\n                    isDisabledAdjustment = true;\n                }\n                var filter = document.querySelector('#' + id + '_filter');\n                if (filter && filter.classList.contains('e-disabled')) {\n                    isDisabledFilter = true;\n                }\n                this.enableDisableTbrBtn();\n                this.performDefTbrClick(type, isContextualToolbar, isDisabledAdjustment, isDisabledFilter, isFilterFinetune);\n                parent.trigger('toolbarItemClicked', args);\n                if (parent.isStraightening) {\n                    parent.notify('transform', { prop: 'disableZoomOutBtn', value: { isZoomOut: true } });\n                }\n                var validTypes = ['undo', 'redo', 'cancel', 'aspectratio', 'nonaspectratio',\n                    'save', 'duplicate', 'filter', 'frame', 'none', 'mat', 'bevel', 'line', 'inset', 'hook', 'resize',\n                    'remove'];\n                if (validTypes.indexOf(type) !== -1) {\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                }\n            }\n        }\n    };\n    ToolbarModule.prototype.performDefTbrClick = function (type, isContextualToolbar, isDisabledAdjustment, isDisabledFilter, isFilterFinetune) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var zoomIn = parent.element.querySelector('#' + id + '_zoomIn');\n        var aspectRatioHeight = parent.element.querySelector('#' + id + '_resizeHeight');\n        var aspectRatioWidth = parent.element.querySelector('#' + id + '_resizeWidth');\n        var isCropSelection = false;\n        var panBtn;\n        var splitWords;\n        var actionType;\n        var actionArgs;\n        var isRedactClick = false;\n        if (parent.activeObj.shape !== undefined) {\n            splitWords = parent.activeObj.shape.split('-');\n        }\n        if (splitWords === undefined && parent.currObjType.isCustomCrop) {\n            isCropSelection = true;\n        }\n        else if (splitWords !== undefined && splitWords[0] === 'crop') {\n            isCropSelection = true;\n        }\n        if (!parent.disabled) {\n            switch (type) {\n                case 'pan':\n                    parent.currObjType.isCustomCrop = parent.currObjType.isFiltered = false;\n                    parent.currObjType.isRedact = false;\n                    if (parent.currObjType.isUndoAction) {\n                        parent.notify('undo-redo', { prop: 'refreshUrc', value: { bool: null } });\n                    }\n                    if (isCropSelection) {\n                        parent.currObjType.isCustomCrop = false;\n                        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n                        this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                        this.refreshToolbar('main');\n                    }\n                    if (parent.togglePan) {\n                        this.cancelPan();\n                        parent.notify('transform', { prop: 'setDisablePan', onPropertyChange: false, value: { bool: true } });\n                        if (this.currentToolbar === 'pen') {\n                            parent.freeHandDraw(true);\n                        }\n                    }\n                    else {\n                        panBtn = parent.element.querySelector('.e-img-pan .e-btn');\n                        if (panBtn) {\n                            panBtn.classList.add('e-selected-btn');\n                        }\n                        parent.pan(true);\n                        parent.notify('transform', { prop: 'setDisablePan', onPropertyChange: false, value: { bool: false } });\n                    }\n                    if (zoomIn && parent.zoomSettings.zoomFactor >= parent.zoomSettings.maxZoomFactor) {\n                        zoomIn.classList.add('e-disabled');\n                        zoomIn.parentElement.classList.add('e-overlay');\n                    }\n                    else if (zoomIn) {\n                        zoomIn.classList.remove('e-disabled');\n                        zoomIn.parentElement.classList.remove('e-overlay');\n                    }\n                    this.refreshToolbar('main');\n                    break;\n                case 'cancel':\n                    if (parent.currObjType.isRedact) {\n                        parent.currObjType.isRedact = false;\n                    }\n                    if (this.isFrameToolbar && parent.element.querySelector('.e-contextual-toolbar-wrapper') && !parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.contains('e-hide')) {\n                        parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.add('e-hide');\n                    }\n                    parent.notify('draw', { prop: 'performCancel', value: { isContextualToolbar: isContextualToolbar, isFinalCancel: true } });\n                    break;\n                case 'ok':\n                    if (Browser.isDevice && this.isFrameToolbar && parent.element.querySelector('.e-contextual-toolbar-wrapper') && !parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.contains('e-hide')) {\n                        parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.add('e-hide');\n                    }\n                    parent.okBtn(null, true);\n                    parent.drawingShape = null;\n                    this.refreshDropDownBtn(false);\n                    this.currentToolbar = 'main';\n                    parent.isStraightening = false;\n                    parent.notify('draw', { prop: 'resetTempObjColl' });\n                    parent.notify('draw', { prop: 'resetTempPointColl' });\n                    break;\n                case 'crop':\n                    parent.notify('transform', { prop: 'disableZoomOutBtn', value: { isZoomOut: true } });\n                    if (Browser.isDevice) {\n                        this.updateContextualToolbar('color', 'straighten');\n                    }\n                    break;\n                case 'reset':\n                    parent.reset();\n                    this.imageHeight = null;\n                    this.imageWidth = null;\n                    parent.aspectHeight = null;\n                    parent.aspectWidth = null;\n                    this.isAspectRatio = true;\n                    this.currentToolbar = 'main';\n                    break;\n                case 'undo':\n                    parent.noPushUndo = false;\n                    if (parent.togglePen || parent.drawingShape) {\n                        parent.okBtn();\n                        parent.drawingShape = null;\n                    }\n                    parent.notify('undo-redo', { prop: 'call-undo' });\n                    break;\n                case 'redo':\n                    parent.noPushUndo = false;\n                    if (parent.togglePen || parent.drawingShape) {\n                        parent.okBtn();\n                        parent.drawingShape = null;\n                    }\n                    parent.notify('undo-redo', { prop: 'call-redo' });\n                    break;\n                case 'aspectratio':\n                    if (!parent.isCircleCrop && (isNullOrUndefined(parent.currSelectionPoint)) ||\n                        (parent.currSelectionPoint && parent.currSelectionPoint.shape !== 'crop-circle')) {\n                        if (getComponent(aspectRatioWidth, 'numerictextbox').value) {\n                            parent.aspectWidth = getComponent(aspectRatioWidth, 'numerictextbox').value;\n                            parent.aspectHeight = getComponent(aspectRatioHeight, 'numerictextbox').value;\n                            parent.notify('transform', { prop: 'resize', value: { width: parent.aspectWidth, height: null, isAspectRatio: true } });\n                        }\n                        else if (getComponent(aspectRatioHeight, 'numerictextbox').value) {\n                            parent.aspectWidth = parseFloat(getComponent(aspectRatioWidth, 'numerictextbox').placeholder);\n                            parent.aspectHeight = getComponent(aspectRatioHeight, 'numerictextbox').value;\n                            parent.notify('transform', { prop: 'resize', value: { width: parent.aspectWidth, height: parent.aspectHeight, isAspectRatio: true } });\n                        }\n                        parent.resizeSrc = { startX: parent.img.srcLeft, startY: parent.img.srcTop, width: parent.img.srcWidth,\n                            height: parent.img.srcHeight };\n                        this.refreshToolbar('resize');\n                    }\n                    break;\n                case 'nonaspectratio':\n                    if (getComponent(aspectRatioWidth, 'numerictextbox').value ||\n                        getComponent(aspectRatioHeight, 'numerictextbox').value) {\n                        parent.aspectWidth = getComponent(aspectRatioWidth, 'numerictextbox').value ?\n                            getComponent(aspectRatioWidth, 'numerictextbox').value :\n                            parseFloat(getComponent(aspectRatioWidth, 'numerictextbox').placeholder);\n                        parent.aspectHeight = getComponent(aspectRatioHeight, 'numerictextbox').value ?\n                            getComponent(aspectRatioHeight, 'numerictextbox').value :\n                            parseFloat(getComponent(aspectRatioHeight, 'numerictextbox').placeholder);\n                        parent.notify('transform', { prop: 'resize', value: { width: parent.aspectWidth, height: parent.aspectHeight, isAspectRatio: false } });\n                    }\n                    parent.resizeSrc = { startX: parent.img.srcLeft, startY: parent.img.srcTop, width: parent.img.srcWidth,\n                        height: parent.img.srcHeight };\n                    this.refreshToolbar('resize');\n                    break;\n                case 'resize':\n                    if (parent.currObjType.isFiltered || parent.currObjType.isRedact) {\n                        parent.okBtn();\n                    }\n                    this.resizeClick();\n                    break;\n                case 'adjustment':\n                    if (!isDisabledAdjustment) {\n                        if (parent.currObjType.isFiltered || parent.currObjType.isRedact) {\n                            parent.okBtn();\n                        }\n                        this.refreshToolbar('adjustment');\n                        parent.setTempFilterProperties();\n                        parent.notify('draw', { prop: 'updateFinetune' });\n                        parent.notify('filter', { prop: 'setTempAdjVal' });\n                        this.openSlider('brightness');\n                    }\n                    break;\n                case 'brightness':\n                case 'contrast':\n                case 'hue':\n                case 'saturation':\n                case 'opacity':\n                case 'blur':\n                case 'exposure':\n                    this.openSlider(type);\n                    break;\n                case 'filter':\n                    if (!isDisabledFilter) {\n                        showSpinner(parent.element);\n                        this.refreshToolbar('filter');\n                        parent.setTempFilterProperties();\n                        hideSpinner(parent.element);\n                    }\n                    break;\n                case 'default':\n                case 'chrome':\n                case 'cold':\n                case 'warm':\n                case 'grayscale':\n                case 'blackandwhite':\n                case 'sepia':\n                case 'invert':\n                case 'sharpen':\n                    parent.currObjType.isFiltered = true;\n                    parent.notify('filter', { prop: 'applyImageFilter', value: { option: type } });\n                    break;\n                case 'upload':\n                    if (isFilterFinetune) {\n                        parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.remove('e-hide');\n                    }\n                    break;\n                case 'bold':\n                    parent.notify('selection', { prop: 'setInitialTextEdit', value: { bool: false } });\n                    if (parent.activeObj.textSettings.bold && parent.activeObj.textSettings.italic) {\n                        parent.notify('shape', { prop: 'applyFontStyle', onPropertyChange: false,\n                            value: { item: 'italic' } });\n                    }\n                    else if (parent.activeObj.textSettings.bold && !parent.activeObj.textSettings.italic) {\n                        parent.notify('shape', { prop: 'applyFontStyle', onPropertyChange: false,\n                            value: { item: 'default' } });\n                    }\n                    else if (!parent.activeObj.textSettings.bold && parent.activeObj.textSettings.italic) {\n                        parent.notify('shape', { prop: 'applyFontStyle', onPropertyChange: false,\n                            value: { item: 'bolditalic' } });\n                    }\n                    else if (!parent.activeObj.textSettings.bold && !parent.activeObj.textSettings.italic) {\n                        parent.notify('shape', { prop: 'applyFontStyle', onPropertyChange: false,\n                            value: { item: 'bold' } });\n                    }\n                    if (parent.element.querySelector('#' + id + '_bold').classList.contains('e-selected-btn')) {\n                        parent.element.querySelector('#' + id + '_bold').classList.remove('e-selected-btn');\n                    }\n                    else {\n                        parent.element.querySelector('#' + id + '_bold').classList.add('e-selected-btn');\n                    }\n                    if (parent.activeObj.activePoint.width !== 0 || parent.activeObj.activePoint.height !== 0) {\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                    }\n                    break;\n                case 'italic':\n                    parent.notify('selection', { prop: 'setInitialTextEdit', value: { bool: false } });\n                    if (parent.activeObj.textSettings.bold && parent.activeObj.textSettings.italic) {\n                        parent.notify('shape', { prop: 'applyFontStyle', onPropertyChange: false,\n                            value: { item: 'bold' } });\n                    }\n                    else if (parent.activeObj.textSettings.bold && !parent.activeObj.textSettings.italic) {\n                        parent.notify('shape', { prop: 'applyFontStyle', onPropertyChange: false,\n                            value: { item: 'bolditalic' } });\n                    }\n                    else if (!parent.activeObj.textSettings.bold && parent.activeObj.textSettings.italic) {\n                        parent.notify('shape', { prop: 'applyFontStyle', onPropertyChange: false,\n                            value: { item: 'default' } });\n                    }\n                    else if (!parent.activeObj.textSettings.bold && !parent.activeObj.textSettings.italic) {\n                        parent.notify('shape', { prop: 'applyFontStyle', onPropertyChange: false,\n                            value: { item: 'italic' } });\n                    }\n                    if (parent.element.querySelector('#' + id + '_italic').classList.contains('e-selected-btn')) {\n                        parent.element.querySelector('#' + id + '_italic').classList.remove('e-selected-btn');\n                    }\n                    else {\n                        parent.element.querySelector('#' + id + '_italic').classList.add('e-selected-btn');\n                    }\n                    if (parent.activeObj.activePoint.width !== 0 || parent.activeObj.activePoint.height !== 0) {\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                    }\n                    break;\n                case 'croptransform':\n                    this.performCropTransformClick();\n                    break;\n                case 'rotateleft':\n                case 'rotateright':\n                case 'horizontalflip':\n                case 'verticalflip':\n                    parent.transformSelect(type);\n                    this.updateRedactObj();\n                    if (type === 'rotateleft' || type === 'rotateright') {\n                        parent.notify('draw', { prop: 'resetStraightenDestPoints' });\n                        parent.notify('draw', { prop: 'setDestForStraighten' });\n                    }\n                    parent.notify('transform', { prop: 'disableZoomOutBtn', value: { isZoomOut: true } });\n                    if (Browser.isDevice) {\n                        this.updateContextualToolbar('color', 'straighten');\n                    }\n                    actionType = type === 'rotateleft' || type === 'rotateright' ?\n                        'rotate' : 'flip';\n                    actionArgs = { action: actionType, actionEventArgs: parent.editCompleteArgs };\n                    parent.triggerEditCompleteEvent(actionArgs);\n                    break;\n                case 'save':\n                    parent.noPushUndo = false;\n                    parent.okBtn();\n                    parent.drawingShape = null;\n                    this.saveDialogPopup();\n                    break;\n                case 'transparency':\n                    this.updateContextualToolbar('transparency', 'transparency');\n                    break;\n                case 'frame':\n                    this.frameToolbarClick();\n                    break;\n                case 'none':\n                case 'mat':\n                case 'bevel':\n                case 'line':\n                case 'inset':\n                case 'hook':\n                    this.unselectFrameBtn();\n                    if (parent.element.querySelector('#' + id + '_' + type)) {\n                        parent.element.querySelector('#' + id + '_' + type).classList.add('e-selected-btn');\n                    }\n                    parent.frameObj.type = type;\n                    parent.frameObj.size = 20;\n                    parent.frameObj.inset = 20;\n                    parent.frameObj.radius = 0;\n                    parent.frameObj.amount = 1;\n                    if (type === 'inset') {\n                        parent.frameObj.offset = 60;\n                    }\n                    else {\n                        parent.frameObj.offset = 20;\n                    }\n                    this.refreshToolbar('frame');\n                    parent.notify('draw', { prop: 'render-image', value: { isMouseWheel: null, isPreventClearRect: null, isFrame: true } });\n                    parent.isFrameBtnClick = true;\n                    parent.curFrameObjEvent = { previousFrameSetting: parent.tempFrameObj, currentFrameSetting: parent.frameObj };\n                    parent.notify('draw', { prop: 'triggerFrameChange', value: { prevFrameSettings: parent.tempFrameObj, obj: { frameChangeEventArgs: null } } });\n                    break;\n                case 'redact':\n                    parent.currObjType.isRedact = isRedactClick = true;\n                    parent.drawingShape = 'redact';\n                    if (isNullOrUndefined(parent.activeObj.redactBlur)) {\n                        parent.activeObj.redactBlur = 20;\n                    }\n                    if (isNullOrUndefined(parent.activeObj.redactPixelate)) {\n                        parent.activeObj.redactPixelate = 20;\n                    }\n                    parent.notify('selection', { prop: 'annotate', value: { shape: 'redact' } });\n                    this.refreshToolbar('redact');\n                    this.redactSlider(parent.activeObj.redactType);\n                    break;\n                case 'pixelate':\n                    parent.currObjType.isRedact = isRedactClick = true;\n                    parent.drawingShape = 'redact';\n                    parent.notify('selection', { prop: 'annotate', value: { shape: 'redact' } });\n                    if (parent.activeObj.redactType === 'blur') {\n                        this.updateRedactType('pixelate');\n                    }\n                    parent.notify('shape', { prop: 'setRedactType', onPropertyChange: false,\n                        value: { redactType: 'pixelate' } });\n                    if (parent.activeObj.redactType === 'pixelate') {\n                        var pixelateBtn = parent.element.querySelector('#' + id + '_' + 'pixelate');\n                        var redactBlurBtn = parent.element.querySelector('#' + id + '_' + 'redactBlur');\n                        if (pixelateBtn) {\n                            pixelateBtn.classList.add('e-selected-btn');\n                        }\n                        if (redactBlurBtn && redactBlurBtn.classList.contains('e-selected-btn')) {\n                            redactBlurBtn.classList.remove('e-selected-btn');\n                        }\n                    }\n                    else {\n                        var redactBlurBtn = parent.element.querySelector('#' + id + '_' + 'redactBlur');\n                        if (redactBlurBtn) {\n                            redactBlurBtn.classList.add('e-selected-btn');\n                        }\n                    }\n                    this.redactSlider(parent.activeObj.redactType);\n                    if (parent.activeObj.activePoint.width !== 0 || parent.activeObj.activePoint.height !== 0) {\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                            value: { operation: 'shapeTransform', previousObj: null, previousObjColl: null,\n                                previousPointColl: null, previousSelPointColl: null,\n                                previousCropObj: null, previousText: null,\n                                currentText: null, previousFilter: null, isCircleCrop: null } });\n                    }\n                    break;\n                case 'redactblur':\n                    parent.currObjType.isRedact = isRedactClick = true;\n                    parent.drawingShape = 'redact';\n                    parent.notify('selection', { prop: 'annotate', value: { shape: 'redact' } });\n                    parent.notify('shape', { prop: 'setRedactType', onPropertyChange: false,\n                        value: { redactType: 'blur' } });\n                    if (parent.activeObj.redactType === 'pixelate') {\n                        this.updateRedactType('blur');\n                    }\n                    parent.notify('shape', { prop: 'setRedactType', onPropertyChange: false, value: { redactType: 'blur' } });\n                    if (parent.activeObj.redactType === 'blur') {\n                        var redactBlurBtn = parent.element.querySelector('#' + id + '_' + 'redactBlur');\n                        var pixelateBtn = parent.element.querySelector('#' + id + '_' + 'pixelate');\n                        if (redactBlurBtn) {\n                            redactBlurBtn.classList.add('e-selected-btn');\n                        }\n                        if (pixelateBtn && pixelateBtn.classList.contains('e-selected-btn')) {\n                            pixelateBtn.classList.remove('e-selected-btn');\n                        }\n                    }\n                    else {\n                        var pixelateBtn = parent.element.querySelector('#' + id + '_' + 'pixelate');\n                        if (pixelateBtn) {\n                            pixelateBtn.classList.add('e-selected-btn');\n                        }\n                    }\n                    this.redactSlider(parent.activeObj.redactType);\n                    if (parent.activeObj.activePoint.width !== 0 || parent.activeObj.activePoint.height !== 0) {\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                            value: { operation: 'shapeTransform', previousObj: null, previousObjColl: null,\n                                previousPointColl: null, previousSelPointColl: null,\n                                previousCropObj: null, previousText: null,\n                                currentText: null, previousFilter: null, isCircleCrop: null } });\n                    }\n                    break;\n            }\n            if (isRedactClick) {\n                parent.notify('draw', { prop: 'updateTempObjColl' });\n                parent.notify('draw', { prop: 'updateTempPointColl' });\n            }\n        }\n    };\n    ToolbarModule.prototype.updateRedactType = function (value) {\n        var parent = this.parent;\n        parent.activeObj.redactType = value;\n        parent.notify('shape', { prop: 'setRedactType', value: { type: value } });\n        this.parent.objColl.push(parent.activeObj);\n        parent.notify('selection', { prop: 'redrawShape', value: { obj: parent.objColl[parent.objColl.length - 1] } });\n    };\n    ToolbarModule.prototype.frameToolbarClick = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var frame = document.querySelector('#' + id + '_frame');\n        var zoom;\n        var frameObj;\n        var tempFrameObj;\n        parent.notify('draw', { prop: 'updateCropSelection', onPropertyChange: false });\n        if (parent.currObjType.isFiltered || parent.currObjType.isRedact) {\n            parent.okBtn();\n        }\n        if (frame && !frame.classList.contains('e-overlay')) {\n            zoom = parent.transform.zoomFactor;\n            parent.frameDestPoints = extend({}, parent.img, {}, true);\n            if (isNullOrUndefined(parent.cxtTbarHeight)) {\n                frameObj = extend({}, parent.frameObj, {}, true);\n                tempFrameObj = extend({}, parent.tempFrameObj, {}, true);\n                this.callFrameToolbar();\n                parent.frameObj.type = 'mat';\n                this.callFrameToolbar();\n                parent.cxtTbarHeight = parent.element.querySelector('#' + id + '_customizeWrapper').scrollHeight;\n                parent.frameObj = frameObj;\n                parent.tempFrameObj = tempFrameObj;\n            }\n            this.zoomToFrameRange();\n            parent.tempFrameZoomLevel = zoom;\n            if (Browser.isDevice) {\n                parent.img.destTop -= (parent.cxtTbarHeight / 2);\n            }\n            else {\n                parent.img.destTop += (parent.cxtTbarHeight / 2);\n            }\n            this.callFrameToolbar();\n            parent.notify('draw', { prop: 'triggerFrameChange', value: { prevFrameSettings: parent.frameObj, obj: { frameChangeEventArgs: null } } });\n        }\n    };\n    ToolbarModule.prototype.zoomToFrameRange = function () {\n        var parent = this.parent;\n        this.isFrameToolbar = false;\n        parent.notify('transform', { prop: 'resetZoom', onPropertyChange: false });\n        var isSmaller = true;\n        while (isSmaller) {\n            if (this.toolbarHeight + parent.img.destTop >= (this.toolbarHeight + parent.cxtTbarHeight)) {\n                isSmaller = false;\n                break;\n            }\n            parent.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                value: { zoomFactor: -.1, zoomPoint: null, isResize: true } });\n        }\n        this.isFrameToolbar = true;\n    };\n    ToolbarModule.prototype.resizeClick = function () {\n        var parent = this.parent;\n        parent.notify('draw', { prop: 'updateCropSelection', onPropertyChange: false });\n        parent.upperCanvas.style.cursor = 'default';\n        parent.notify('transform', { prop: 'updateResize', value: { bool: false } });\n        if (this.isAspectRatio) {\n            this.isAspectRatio = false;\n        }\n        else {\n            this.isAspectRatio = true;\n        }\n        parent.isResize = true;\n        this.refreshToolbar('resize');\n    };\n    ToolbarModule.prototype.callFrameToolbar = function () {\n        var parent = this.parent;\n        extend(parent.tempFrameObj, parent.frameObj);\n        var undoRedoObj = { appliedUndoRedoColl: [] };\n        parent.notify('undo-redo', { prop: 'getAppliedUndoRedoColl', value: { obj: undoRedoObj } });\n        if (undoRedoObj['appliedUndoRedoColl']['length'] === 0) {\n            var object = { currObj: {} };\n            parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n            parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false, value: {\n                    operation: 'frame', previousObj: object['currObj'], previousObjColl: object['currObj']['objColl'],\n                    previousPointColl: object['currObj']['pointColl'], previousSelPointColl: object['currObj']['selPointColl'],\n                    previousCropObj: extend({}, parent.cropObj, {}, true), previousText: null, currentText: null,\n                    previousFilter: null, isCircleCrop: null\n                } });\n        }\n        this.refreshToolbar('frame');\n    };\n    ToolbarModule.prototype.contextualToolbarClicked = function (args) {\n        var parent = this.parent;\n        var selEle = parent.element.querySelector('.e-contextual-toolbar-wrapper .e-toolbar-item.e-selected');\n        if (selEle) {\n            selEle.classList.remove('e-selected');\n        }\n        var type = args.item.id.replace(parent.element.id, '').split('_')[1];\n        var imageFiltering = { filter: parent.toPascalCase(type), cancel: false };\n        parent.trigger('imageFiltering', imageFiltering);\n        parent.editCompleteArgs = imageFiltering;\n        if (imageFiltering.cancel) {\n            return;\n        }\n        document.getElementById(args.item.id + 'Canvas').parentElement.parentElement.classList.add('e-selected');\n        parent.currObjType.isFiltered = true;\n        parent.notify('filter', { prop: 'applyImageFilter', value: { option: type.toLowerCase() } });\n        parent.notify('draw', { prop: 'redrawDownScale' });\n        parent.currentFilter = args.item.id;\n        this.enableDisableTbrBtn();\n        parent.isFilterCanvasClick = true;\n        parent.curFilterObjEvent = imageFiltering;\n    };\n    ToolbarModule.prototype.refreshShapeDrawing = function () {\n        var parent = this.parent;\n        var object = { shape: '' };\n        parent.notify('selection', { prop: 'getCurrentDrawingShape', onPropertyChange: false, value: { obj: object } });\n        if (object['shape'] !== '') {\n            parent.notify('selection', { prop: 'setCurrentDrawingShape', onPropertyChange: false, value: { value: '' } });\n            parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n            this.refreshToolbar('main', false);\n        }\n    };\n    ToolbarModule.prototype.zoomInBtnClickHandler = function (e) {\n        if (e) {\n            var parent_1 = this.parent;\n            if ((parent_1.zoomSettings.zoomTrigger & ZoomTrigger.Toolbar) === ZoomTrigger.Toolbar) {\n                parent_1.noPushUndo = false;\n                if (parent_1.currObjType.isFiltered) {\n                    parent_1.okBtn();\n                }\n                var drawingShape = parent_1.drawingShape;\n                if (parent_1.drawingShape) {\n                    var id = parent_1.activeObj.currIndex;\n                    parent_1.noPushUndo = true;\n                    parent_1.okBtn();\n                    parent_1.noPushUndo = false;\n                    parent_1.drawingShape = null;\n                    if (id) {\n                        parent_1.selectShape(id);\n                    }\n                }\n                this.refreshShapeDrawing();\n                if (Browser.isDevice && e.type === 'touchstart') {\n                    if (!e.returnValue) {\n                        return;\n                    }\n                    e.preventDefault();\n                }\n                var zoomIn = document.querySelector('#' + parent_1.element.id + '_zoomIn');\n                EventHandler.trigger(zoomIn, 'click');\n                var obj = { bool: false };\n                parent_1.notify('selection', { prop: 'getFreehandDrawEditing', onPropertyChange: false, value: { obj: obj } });\n                if (obj['bool']) {\n                    parent_1.notify('freehand-draw', { prop: 'applyFhd', onPropertyChange: false });\n                    this.destroyQuickAccessToolbar();\n                }\n                parent_1.isZoomBtnClick = true;\n                this.applyPreviewFilter();\n                parent_1.currObjType.isFiltered = false;\n                parent_1.currObjType.isRedact = false;\n                if (parent_1.togglePen) {\n                    parent_1.currObjType.isZoomed = true;\n                    parent_1.freeHandDraw(false);\n                    parent_1.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n                }\n                parent_1.notify('draw', { prop: 'resetCurrentSelectionPoint' });\n                parent_1.drawingShape = drawingShape;\n                parent_1.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                    value: { zoomFactor: .1, zoomPoint: null, isResize: null } });\n                parent_1.notify('draw', { prop: 'redrawDownScale' });\n                if (parent_1.isCropTab || parent_1.activeObj.shape) {\n                    parent_1.notify('draw', { prop: 'setStraightenActObj', value: { activeObj: null } });\n                    parent_1.notify('freehand-draw', { prop: 'resetStraightenPoint' });\n                }\n                if (parent_1.isStraightening) {\n                    parent_1.notify('draw', { prop: 'resetStraightenDestPoints' });\n                    parent_1.notify('draw', { prop: 'setDestForStraighten' });\n                }\n                var actionArgs = { action: 'zoom-in',\n                    actionEventArgs: parent_1.editCompleteArgs };\n                parent_1.triggerEditCompleteEvent(actionArgs);\n                if (Browser.isDevice) {\n                    zoomIn.focus();\n                }\n            }\n        }\n    };\n    ToolbarModule.prototype.zoomOutBtnClickHandler = function (e) {\n        if (e) {\n            var parent_2 = this.parent;\n            if ((parent_2.zoomSettings.zoomTrigger & ZoomTrigger.Toolbar) === ZoomTrigger.Toolbar) {\n                parent_2.noPushUndo = false;\n                if (parent_2.currObjType.isFiltered) {\n                    parent_2.okBtn();\n                }\n                var drawingShape = parent_2.drawingShape;\n                if (parent_2.drawingShape) {\n                    var id = parent_2.activeObj.currIndex;\n                    parent_2.noPushUndo = true;\n                    parent_2.okBtn();\n                    parent_2.noPushUndo = false;\n                    parent_2.drawingShape = null;\n                    if (id) {\n                        parent_2.selectShape(id);\n                    }\n                }\n                this.refreshShapeDrawing();\n                if (Browser.isDevice && e.type === 'touchstart') {\n                    if (!e.returnValue) {\n                        return;\n                    }\n                    e.preventDefault();\n                }\n                var zoomOut = document.querySelector('#' + parent_2.element.id + '_zoomOut');\n                EventHandler.trigger(zoomOut, 'click');\n                var obj = { bool: false };\n                parent_2.notify('selection', { prop: 'getFreehandDrawEditing', onPropertyChange: false, value: { obj: obj } });\n                if (obj['bool']) {\n                    parent_2.notify('freehand-draw', { prop: 'applyFhd', onPropertyChange: false });\n                    this.destroyQuickAccessToolbar();\n                }\n                parent_2.isZoomBtnClick = true;\n                this.applyPreviewFilter();\n                parent_2.currObjType.isFiltered = false;\n                parent_2.currObjType.isRedact = false;\n                if (parent_2.togglePen) {\n                    parent_2.currObjType.isZoomed = true;\n                    parent_2.freeHandDraw(false);\n                    parent_2.notify('undo-redo', { prop: 'updateCurrUrc', value: { type: 'ok' } });\n                }\n                parent_2.notify('draw', { prop: 'resetCurrentSelectionPoint' });\n                parent_2.drawingShape = drawingShape;\n                parent_2.notify('transform', { prop: 'zoomAction', onPropertyChange: false,\n                    value: { zoomFactor: -.1, zoomPoint: null, isResize: null } });\n                parent_2.notify('draw', { prop: 'redrawDownScale' });\n                if (parent_2.isCropTab || parent_2.activeObj.shape) {\n                    parent_2.notify('draw', { prop: 'setStraightenActObj', value: { activeObj: null } });\n                    parent_2.notify('freehand-draw', { prop: 'resetStraightenPoint' });\n                }\n                if (parent_2.isStraightening) {\n                    parent_2.notify('draw', { prop: 'resetStraightenDestPoints' });\n                    parent_2.notify('draw', { prop: 'setDestForStraighten' });\n                }\n                var actionArgs = { action: 'zoom-out',\n                    actionEventArgs: parent_2.editCompleteArgs };\n                parent_2.triggerEditCompleteEvent(actionArgs);\n                if (Browser.isDevice) {\n                    zoomOut.focus();\n                }\n            }\n        }\n    };\n    ToolbarModule.prototype.zoomInBtnMouseDownHandler = function (e) {\n        e.preventDefault();\n        this.zoomBtnHold = setInterval(this.zoomInBtnClickHandler.bind(this), 250);\n    };\n    ToolbarModule.prototype.zoomOutBtnMouseDownHandler = function (e) {\n        e.preventDefault();\n        this.zoomBtnHold = setInterval(this.zoomOutBtnClickHandler.bind(this), 250);\n    };\n    ToolbarModule.prototype.zoomBtnMouseUpHandler = function () {\n        clearInterval(this.zoomBtnHold);\n        this.zoomBtnHold = 0;\n    };\n    ToolbarModule.prototype.closeContextualToolbar = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var isContextualToolbar = false;\n        var straightenObj = { bool: parent.isStraightening };\n        if (!Browser.isDevice || (Browser.isDevice && !straightenObj['bool'])) {\n            if ((parent.element.querySelector('#' + id + '_contextualToolbar') &&\n                !parent.element.querySelector('#' + id + '_contextualToolbar').parentElement.classList.contains('e-hide')) ||\n                (parent.element.querySelector('#' + id + '_headWrapper')\n                    && !parent.element.querySelector('#' + id + '_headWrapper').parentElement.classList.contains('e-hide'))) {\n                parent.element.querySelector('.e-contextual-toolbar-wrapper').classList.add('e-hide');\n                parent.okBtn();\n                this.refreshMainToolbar();\n                isContextualToolbar = true;\n            }\n        }\n        return isContextualToolbar;\n    };\n    ToolbarModule.prototype.destroyQuickAccessToolbar = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var quickToolbar = document.getElementById(id + '_quickAccessToolbar');\n        if (quickToolbar && quickToolbar.classList.contains('e-control')) {\n            getComponent(quickToolbar, 'toolbar').destroy();\n        }\n        var qatArea = document.getElementById(id + '_quickAccessToolbarArea');\n        if (qatArea) {\n            qatArea.style.display = 'none';\n        }\n    };\n    ToolbarModule.prototype.renderSlider = function (type, isSelect) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var canvasWrapper = document.querySelector('#' + id + '_contextualToolbarArea');\n        var hdrWrapper = document.querySelector('#' + id + '_headWrapper');\n        var labelWrapper = document.querySelector('#' + id + '_labelWrapper');\n        if (hdrWrapper) {\n            hdrWrapper.remove();\n            labelWrapper.remove();\n        }\n        hdrWrapper = canvasWrapper.appendChild(parent.createElement('div', {\n            id: id + '_headWrapper',\n            styles: 'position: relative'\n        }));\n        if (type === 'transparency') {\n            labelWrapper = hdrWrapper.appendChild(parent.createElement('label', {\n                id: id + '_labelWrapper',\n                className: 'e-ie-finetune-slider-label',\n                styles: Browser.isDevice ? 'position: absolute; top: 31%; left: calc(50% - 150px); font-size: 15px; text-transform: capitalize; font-weight: 400;'\n                    : 'position: absolute; top: 31%; left: calc(50% - 220px); font-size: 15px; text-transform: capitalize; font-weight: 400;'\n            }));\n        }\n        else {\n            labelWrapper = hdrWrapper.appendChild(parent.createElement('label', {\n                id: id + '_labelWrapper',\n                className: 'e-ie-finetune-slider-label',\n                styles: Browser.isDevice ? ('position: absolute; top: 31%; left: calc(50% - 160px); font-size: 15px; text-transform: capitalize; font-weight: 400;')\n                    : 'position: absolute; top: 25%; left: calc(50% - 226px); font-size: 15px; text-transform: capitalize; font-weight: 400;'\n            }));\n        }\n        labelWrapper.textContent = this.l10n.getConstant(parent.toPascalCase(type === 'transparency' ? 'opacity' : type));\n        var sliderWrapper = hdrWrapper.appendChild(parent.createElement('div', {\n            id: id + '_sliderWrapper',\n            className: 'e-ie-finetune-slider-wrap',\n            styles: 'position: absolute'\n        }));\n        var value = parent.getCurrAdjustmentValue(type);\n        if (isSelect && type === 'straighten' && Browser.isDevice) {\n            value = parent.cropObj.straighten;\n        }\n        var min;\n        var max;\n        var slider;\n        if (type === 'brightness' || type === 'contrast' || type === 'saturation' || type === 'exposure') {\n            if (parent.finetuneSettings) {\n                if (type === 'brightness' && parent.finetuneSettings.brightness) {\n                    min = parent.finetuneSettings.brightness.min;\n                    max = parent.finetuneSettings.brightness.max;\n                }\n                else if (type === 'contrast' && parent.finetuneSettings.contrast) {\n                    min = parent.finetuneSettings.contrast.min;\n                    max = parent.finetuneSettings.contrast.max;\n                }\n                else if (type === 'saturation' && parent.finetuneSettings.saturation) {\n                    min = parent.finetuneSettings.saturation.min;\n                    max = parent.finetuneSettings.saturation.max;\n                }\n                else if (type === 'exposure' && parent.finetuneSettings.exposure) {\n                    min = parent.finetuneSettings.exposure.min;\n                    max = parent.finetuneSettings.exposure.max;\n                }\n                else {\n                    min = -100;\n                    max = 100;\n                }\n            }\n            else {\n                min = -100;\n                max = 100;\n            }\n            slider = this.createSlider(min, max, value, type);\n        }\n        else if (type === 'hue' || type === 'blur' || type === 'opacity') {\n            if (parent.finetuneSettings) {\n                if (type === 'hue' && parent.finetuneSettings.hue) {\n                    min = parent.finetuneSettings.hue.min;\n                    max = parent.finetuneSettings.hue.max;\n                }\n                else if (type === 'blur' && parent.finetuneSettings.blur) {\n                    min = parent.finetuneSettings.blur.min;\n                    max = parent.finetuneSettings.blur.max;\n                }\n                else if (type === 'opacity' && parent.finetuneSettings.opacity) {\n                    min = parent.finetuneSettings.opacity.min;\n                    max = parent.finetuneSettings.opacity.max;\n                }\n                else {\n                    min = 0;\n                    max = 100;\n                }\n            }\n            else {\n                min = 0;\n                max = 100;\n            }\n            slider = this.createSlider(min, max, value, type);\n        }\n        else if (type === 'transparency') {\n            min = 0;\n            max = 100;\n            slider = this.createSlider(min, max, value, type);\n        }\n        else if (type === 'straighten') {\n            min = -45;\n            max = 45;\n            slider = this.createSlider(min, max, value, type);\n        }\n        slider.appendTo('#' + id + '_sliderWrapper');\n        sliderWrapper.style.left = (parseFloat(canvasWrapper.style.width) - parseFloat(slider.width)) / 2 + 'px';\n        if (type === 'straighten' && Browser.isDevice) {\n            var sLabelWrapper = hdrWrapper.appendChild(parent.createElement('label', {\n                id: id + '_sLabelWrapper',\n                className: 'e-ie-straighten-value-span e-ie-finetune-value-span',\n                styles: 'position: absolute; top: 31%; margin-left: 20px; font-size: 15px; text-transform: capitalize; font-weight: 400;'\n            }));\n            sLabelWrapper.innerHTML = parent.transform.straighten.toString() + '&#176';\n            sliderWrapper.parentElement.classList.add('e-straighten-slider');\n        }\n        if (type !== 'straighten') {\n            hdrWrapper.appendChild(parent.createElement('label', {\n                id: id + '_finetuneSpan',\n                className: 'e-ie-finetune-value-span',\n                styles: Browser.isDevice ? ('position: absolute; top: 25%; margin-left: 20px; font-size: 15px; text-transform: capitalize; font-weight: 400;') :\n                    'position: absolute; top: 25%; left: calc(50% + 190px); font-size: 15px; text-transform: capitalize; font-weight: 400;'\n            }));\n            sliderWrapper.parentElement.classList.add('e-finetune-slider');\n            if (type === 'transparency' && Browser.isDevice) {\n                sliderWrapper.parentElement.classList.add('e-ie-device-transparency-slider');\n            }\n            this.updateFinetuneSpan(type);\n        }\n    };\n    ToolbarModule.prototype.createSlider = function (min, max, value, type) {\n        var _this = this;\n        var parent = this.parent;\n        var step = type === 'straighten' ? 3 : 1;\n        return new Slider({\n            value: value, type: 'MinRange', min: min, max: max,\n            step: step, width: Browser.isDevice ? '180px' : (type === 'straighten' ? '200px' : '300px'),\n            cssClass: 'e-slider',\n            change: function (args) {\n                parent.notify('selection', { prop: 'setSliderActive', onPropertyChange: false, value: { bool: true } });\n                if (type === 'transparency') {\n                    if (parent.activeObj.shape) {\n                        if (isNullOrUndefined(parent.activeObj.imageRatio)) {\n                            parent.notify('shape', { prop: 'updImgRatioForActObj', onPropertyChange: false });\n                        }\n                        parent.notify('shape', { prop: 'pushActItemIntoObj' });\n                        var prevCropObj = extend({}, parent.cropObj, {}, true);\n                        var object = { currObj: {} };\n                        parent.notify('filter', { prop: 'getCurrentObj', onPropertyChange: false, value: { object: object } });\n                        var prevObj = object['currObj'];\n                        prevObj.objColl = extend([], parent.objColl, [], true);\n                        prevObj.pointColl = extend([], parent.pointColl, [], true);\n                        prevObj.afterCropActions = extend([], parent.afterCropActions, [], true);\n                        var selPointCollObj = { selPointColl: null };\n                        parent.notify('freehand-draw', { prop: 'getSelPointColl', onPropertyChange: false,\n                            value: { obj: selPointCollObj } });\n                        prevObj.selPointColl = extend([], selPointCollObj['selPointColl'], [], true);\n                        parent.objColl.pop();\n                        parent.activeObj.opacity = args.value / 100;\n                        _this.upperContext.clearRect(0, 0, parent.upperCanvas.width, parent.upperCanvas.height);\n                        parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate' } });\n                        parent.objColl.push(parent.activeObj);\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoColl', onPropertyChange: false,\n                            value: { operation: 'shapeTransform', previousObj: prevObj, previousObjColl: prevObj.objColl,\n                                previousPointColl: prevObj.pointColl, previousSelPointColl: prevObj.selPointColl,\n                                previousCropObj: prevCropObj, previousText: null,\n                                currentText: null, previousFilter: null, isCircleCrop: null } });\n                        parent.notify('selection', { prop: 'redrawShape', value: { obj: parent.objColl[parent.objColl.length - 1] } });\n                        _this.updateFinetuneSpan(type);\n                    }\n                }\n                else if (type === 'straighten') {\n                    parent.setStraighten(args.value);\n                }\n                else {\n                    if (parent.transform.zoomFactor && parent.transform.zoomFactor < 0) {\n                        parent.isFinetuning = true;\n                    }\n                    parent.notify('selection', { prop: 'setSliding', value: { bool: true } });\n                    parent.setCurrAdjustmentValue(type, args.value);\n                    _this.updateFinetuneSpan(type);\n                    _this.enableDisableTbrBtn();\n                    parent.isFinetuning = false;\n                }\n            },\n            changed: function () {\n                if (type !== 'transparency' && type !== 'straighten') {\n                    parent.notify('selection', { prop: 'setSliding', value: { bool: false } });\n                    parent.notify('draw', { prop: 'redrawDownScale' });\n                }\n                parent.notify('selection', { prop: 'setSliderActive', onPropertyChange: false, value: { bool: false } });\n                if (type === 'transparency') {\n                    setTimeout(function () {\n                        parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                        parent.element.querySelector('#' + parent.element.id + '_transparency').click();\n                    }, 50);\n                }\n            }\n        });\n    };\n    ToolbarModule.prototype.updateFinetuneSpan = function (type) {\n        var parent = this.parent;\n        var ftValPan = parent.element.querySelector('.e-ie-finetune-value-span');\n        if (ftValPan) {\n            var adjObj = { adjustmentLevel: null };\n            parent.notify('filter', { prop: 'getAdjustmentLevel', onPropertyChange: false, value: { obj: adjObj } });\n            ftValPan.innerHTML = Math.round(adjObj['adjustmentLevel'][type]).toString();\n        }\n    };\n    ToolbarModule.prototype.applyPreviewFilter = function () {\n        var parent = this.parent;\n        if (document.querySelector('#' + parent.element.id + '_sliderWrapper') ||\n            parent.currObjType.isFiltered) {\n            parent.initialAdjustmentValue = this.lowerContext.filter;\n            parent.canvasFilter = this.lowerContext.filter;\n            parent.currObjType.isFiltered = false;\n        }\n    };\n    ToolbarModule.prototype.unselectBtn = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var selectors = [\n            '#' + id + '_brightness',\n            '#' + id + '_contrast',\n            '#' + id + '_hue',\n            '#' + id + '_saturation',\n            '#' + id + '_opacity',\n            '#' + id + '_blur',\n            '#' + id + '_exposure'\n        ];\n        for (var _i = 0, selectors_1 = selectors; _i < selectors_1.length; _i++) {\n            var selector = selectors_1[_i];\n            var element = document.querySelector(selector);\n            if (element && element.classList.contains('e-selected-btn')) {\n                element.classList.remove('e-selected-btn');\n                break;\n            }\n        }\n    };\n    ToolbarModule.prototype.openSlider = function (type) {\n        this.unselectBtn();\n        this.parent.currObjType.isFiltered = true;\n        this.refreshToolbar('color', null, null, null, type);\n        document.getElementById(this.parent.element.id + '_' + type).classList.add('e-selected-btn');\n    };\n    ToolbarModule.prototype.refreshSlider = function () {\n        var id = this.parent.element.id;\n        var sliderWrapper = document.querySelector('#' + id + '_sliderWrapper');\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var slider = document.querySelector('.e-slider');\n        var hdrWrapper = document.querySelector('#' + id + '_headWrapper');\n        if (hdrWrapper) {\n            hdrWrapper.style.display = 'none';\n        }\n        if (sliderWrapper && slider) {\n            slider.ej2_instances[0].destroy();\n            sliderWrapper.remove();\n        }\n    };\n    ToolbarModule.prototype.unselectFrameBtn = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var selectors = [\n            '#' + id + '_none',\n            '#' + id + '_mat',\n            '#' + id + '_line',\n            '#' + id + '_inset',\n            '#' + id + '_bevel',\n            '#' + id + '_hook'\n        ];\n        for (var _i = 0, selectors_2 = selectors; _i < selectors_2.length; _i++) {\n            var selector = selectors_2[_i];\n            var element = document.querySelector(selector);\n            if (element.classList.contains('e-selected-btn')) {\n                element.classList.remove('e-selected-btn');\n                break;\n            }\n        }\n    };\n    ToolbarModule.prototype.updateToolbarItems = function () {\n        var parent = this.parent;\n        var id = parent.element.id;\n        if (!parent.isImageLoaded) {\n            return;\n        }\n        if (this.isToolbar()) {\n            var selFillElem = parent.element.querySelector('.e-fill.e-template .e-dropdownbtn-preview');\n            var selStrokeElem = parent.element.querySelector('.e-stroke.e-template .e-dropdownbtn-preview');\n            var selTextStrokeElem = parent.element.querySelector('.e-text-font-color.e-template .e-dropdownbtn-preview');\n            var selStrokeTextColorElem = parent.element.querySelector('.e-stroke-text-font-color.e-template .e-dropdownbtn-preview');\n            var selTextBGElem = parent.element.querySelector('.e-text-background-color.e-template .e-dropdownbtn-preview');\n            var selPenStrokeElem = parent.element.querySelector('.e-pen-stroke-color.e-template .e-dropdownbtn-preview');\n            var strokeWidthElem = parent.element.querySelector('.e-shape-stroke-width');\n            var rectangleRadiusElem = parent.element.querySelector('.e-shape-rectangle-radius');\n            var fontFamilyElem = parent.element.querySelector('.e-text-font-family');\n            var fontSizeElem = parent.element.querySelector('.e-text-font-size');\n            var boldBtn = parent.element.querySelector('#' + id + '_bold');\n            var italicBtn = parent.element.querySelector('#' + id + '_italic');\n            if (parent.activeObj.strokeSettings && parent.activeObj.textSettings) {\n                if (isNullOrUndefined(parent.activeObj.strokeSettings.strokeWidth)) {\n                    parent.activeObj.strokeSettings.strokeWidth = 2;\n                }\n                if (isNullOrUndefined(parent.activeObj.strokeSettings.outlineWidth)) {\n                    parent.activeObj.strokeSettings.outlineWidth = 2;\n                }\n                if (selFillElem) {\n                    var value = parent.activeObj.strokeSettings.fillColor;\n                    if (parent.activeObj.strokeSettings.fillColor === '') {\n                        selFillElem.classList.add('e-nocolor-item');\n                    }\n                    else {\n                        selFillElem.classList.remove('e-nocolor-item');\n                        selFillElem.style.background = value;\n                    }\n                    if (document.querySelector('#' + id + '_shape_fill')) {\n                        getComponent(id + '_shape_fill', 'colorpicker').value = value;\n                    }\n                }\n                if (selStrokeElem) {\n                    var value = parent.activeObj.strokeSettings.strokeColor;\n                    selStrokeElem.style.background = value;\n                    if (document.querySelector('#' + id + '_shape_stroke')) {\n                        getComponent(id + '_shape_stroke', 'colorpicker').value = value;\n                    }\n                }\n                if (selTextStrokeElem) {\n                    var value = parent.activeObj.strokeSettings.strokeColor;\n                    selTextStrokeElem.style.background = value;\n                    if (document.querySelector('#' + id + '_text_font')) {\n                        getComponent(id + '_text_font', 'colorpicker').value = value;\n                    }\n                }\n                if (selStrokeTextColorElem) {\n                    var value = parent.activeObj.strokeSettings.outlineColor;\n                    if (!/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6}|[0-9A-Fa-f]{8})$|^[a-zA-Z]+$/.test(parent.activeObj.strokeSettings.outlineColor)) {\n                        selStrokeTextColorElem.classList.add('e-nocolor-item');\n                    }\n                    else {\n                        selStrokeTextColorElem.classList.remove('e-nocolor-item');\n                        selStrokeTextColorElem.style.background = value;\n                    }\n                    if (document.querySelector('#' + id + '_stroke_text')) {\n                        getComponent(id + '_stroke_text', 'colorpicker').value = value;\n                    }\n                }\n                if (selTextBGElem) {\n                    var value = parent.activeObj.strokeSettings.fillColor;\n                    if (parent.activeObj.strokeSettings.fillColor === '' || parent.activeObj.strokeSettings.fillColor === 'transparent') {\n                        selTextBGElem.classList.add('e-nocolor-item');\n                    }\n                    else {\n                        selTextBGElem.classList.remove('e-nocolor-item');\n                        selTextBGElem.style.background = value;\n                    }\n                    if (document.querySelector('#' + id + '_text_bgColor')) {\n                        getComponent(id + '_text_bgColor', 'colorpicker').value = value;\n                    }\n                }\n                if (selPenStrokeElem) {\n                    var value = parent.activeObj.strokeSettings.strokeColor;\n                    selPenStrokeElem.style.background = value;\n                    if (document.querySelector('#' + id + '_pen_stroke')) {\n                        getComponent(id + '_pen_stroke', 'colorpicker').value = value;\n                    }\n                    var obj = { penOpacity: 1 };\n                    parent.notify('freehand-draw', { prop: 'getPenOpacity', onPropertyChange: false, value: { obj: obj } });\n                }\n                if (fontFamilyElem) {\n                    if (Browser.isDevice) {\n                        fontFamilyElem.setAttribute('style', 'font-family:' + parent.activeObj.textSettings.fontFamily.toLowerCase());\n                    }\n                    else {\n                        fontFamilyElem.textContent = parent.activeObj.textSettings.fontFamily;\n                    }\n                }\n                if (fontSizeElem) {\n                    for (var i = 0; i < parent.fontSizeColl.length; i++) {\n                        if (parseInt(parent.fontSizeColl[i].text, 10) >= Math.round(parent.activeObj.textSettings.fontSize)) {\n                            fontSizeElem.textContent = (i + 1).toString();\n                            break;\n                        }\n                        else {\n                            if (Math.round(parent.activeObj.textSettings.fontSize) < parseInt(parent.fontSizeColl[0].text, 10)) {\n                                fontSizeElem.textContent = '1';\n                                break;\n                            }\n                            else if (Math.round(parent.activeObj.textSettings.fontSize) >\n                                parseInt(parent.fontSizeColl[parent.fontSizeColl.length - 1].text, 10)) {\n                                fontSizeElem.textContent = ((parent.fontSizeColl.length - 1) + 1).toString();\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (boldBtn) {\n                    if (parent.activeObj.textSettings.bold) {\n                        boldBtn.classList.add('e-selected-btn');\n                    }\n                    else {\n                        boldBtn.classList.remove('e-selected-btn');\n                    }\n                }\n                if (italicBtn) {\n                    if (parent.activeObj.textSettings.italic) {\n                        italicBtn.classList.add('e-selected-btn');\n                    }\n                    else {\n                        italicBtn.classList.remove('e-selected-btn');\n                    }\n                }\n                if (strokeWidthElem) {\n                    var width = parent.activeObj.shape === 'text' ? parent.activeObj.strokeSettings.outlineWidth : parent.activeObj.strokeSettings.strokeWidth;\n                    var strokeWidth = Math.round(width).toString();\n                    strokeWidthElem.textContent = this.getStrokeWidth(strokeWidth);\n                }\n                if (rectangleRadiusElem) {\n                    var rectRadius = Math.round((parent.activeObj.strokeSettings.radius)).toString();\n                    rectangleRadiusElem.textContent = this.getRectRadius(rectRadius);\n                }\n            }\n        }\n    };\n    ToolbarModule.prototype.getStrokeWidth = function (text) {\n        var strokeWidth;\n        var currentWidth = parseInt(text, 10) / 2;\n        switch (currentWidth) {\n            case 0:\n                strokeWidth = this.l10n.getConstant('NoOutline');\n                break;\n            case 1:\n                strokeWidth = this.l10n.getConstant('XSmall');\n                break;\n            case 2:\n                strokeWidth = this.l10n.getConstant('Small');\n                break;\n            case 3:\n                strokeWidth = this.l10n.getConstant('Medium');\n                break;\n            case 4:\n                strokeWidth = this.l10n.getConstant('Large');\n                break;\n            case 5:\n                strokeWidth = this.l10n.getConstant('XLarge');\n                break;\n        }\n        return strokeWidth;\n    };\n    ToolbarModule.prototype.getRectRadius = function (text) {\n        var rectRadius;\n        var currentWidth = parseInt(text, 10) / 2;\n        switch (currentWidth) {\n            case 0:\n                rectRadius = this.l10n.getConstant('0');\n                break;\n            case 1:\n                rectRadius = this.l10n.getConstant('20');\n                break;\n            case 2:\n                rectRadius = this.l10n.getConstant('40');\n                break;\n            case 3:\n                rectRadius = this.l10n.getConstant('60');\n                break;\n            case 4:\n                rectRadius = this.l10n.getConstant('80');\n                break;\n            case 5:\n                rectRadius = this.l10n.getConstant('100');\n                break;\n        }\n        return rectRadius;\n    };\n    ToolbarModule.prototype.cancelPan = function () {\n        var parent = this.parent;\n        parent.notify('shape', { prop: 'applyActObj', onPropertyChange: false, value: { isMouseDown: true } });\n        var panBtn = parent.element.querySelector('.e-img-pan .e-btn');\n        if (panBtn) {\n            panBtn.classList.remove('e-selected-btn');\n        }\n        parent.pan(false);\n    };\n    ToolbarModule.prototype.refreshMainToolbar = function () {\n        if (this.currToolbar !== 'main') {\n            this.refreshToolbar('main');\n        }\n    };\n    ToolbarModule.prototype.destroySubComponents = function () {\n        var parent = this.parent;\n        var inputElement = parent.element.querySelectorAll('input.e-control');\n        var btnElement = parent.element.querySelectorAll('button.e-control');\n        for (var i = 0, len = inputElement.length; i < len; i++) {\n            if (inputElement[i].classList.contains('e-color-picker')) {\n                getComponent(inputElement[i], 'color-picker').destroy();\n                detach(select('input#' + inputElement[i].id, parent.element));\n            }\n        }\n        for (var i = 0, len = btnElement.length; i < len; i++) {\n            if (btnElement[i].classList.contains('e-dropdown-btn')) {\n                getComponent(btnElement[i], 'dropdown-btn').destroy();\n                detach(select('button#' + btnElement[i].id, parent.element));\n            }\n            else if (btnElement[i].classList.contains('e-btn')) {\n                getComponent(btnElement[i], 'btn').destroy();\n                detach(select('button#' + btnElement[i].id, parent.element));\n            }\n        }\n    };\n    ToolbarModule.prototype.setInitialShapeSettings = function (args) {\n        var parent = this.parent;\n        parent.notify('shape', { prop: 'refreshActiveObj', onPropertyChange: false });\n        parent.currObjType.shape = args.item.id;\n        parent.activeObj.shape = parent.currObjType.shape.toLowerCase();\n        parent.currObjType.isDragging = parent.currObjType.isCustomCrop = false;\n        parent.activeObj.shapeDegree = parent.transform.degree;\n        parent.activeObj.shapeFlip = parent.transform.currFlipState;\n        parent.activeObj.textFlip = parent.transform.currFlipState;\n        parent.activeObj.flipObjColl = [];\n        var orderObj = { order: null };\n        parent.notify('shape', { prop: 'getNewOrder', onPropertyChange: false, value: { obj: orderObj } });\n        parent.activeObj.order = orderObj['order'];\n    };\n    ToolbarModule.prototype.isToolbarString = function (items) {\n        var isString = false;\n        for (var i = 0; i < items.length; i++) {\n            if (typeof (items[i]) === 'string') {\n                isString = true;\n                break;\n            }\n        }\n        return isString;\n    };\n    ToolbarModule.prototype.excludeItems = function (items) {\n        var indexArr = [];\n        for (var i = 0; i < items.length; i++) {\n            var index = this.getIndex(items[i]);\n            if (index !== -1) {\n                indexArr.push(index);\n            }\n        }\n        var negativeIndexArr = [];\n        for (var i = 0; i < this.defToolbarItems.length; i++) {\n            if (this.defToolbarItems[i].align === 'Center' && !this.isSameIndex(indexArr, i) &&\n                this.defToolbarItems[i].id !== this.parent.element.id + '_' + 'annotation') {\n                negativeIndexArr.push(i);\n            }\n        }\n        for (var i = negativeIndexArr.length - 1; i >= 0; i--) {\n            this.defToolbarItems.splice(negativeIndexArr[i], 1);\n        }\n    };\n    ToolbarModule.prototype.isSameIndex = function (indexArr, index) {\n        for (var i = 0; i < indexArr.length; i++) {\n            if (indexArr[i] === index) {\n                return true;\n            }\n        }\n        return false;\n    };\n    ToolbarModule.prototype.getIndex = function (item) {\n        var index = -1;\n        var isFontColor = false;\n        if (item === 'rotateLeft') {\n            item = 'rotLeft';\n        }\n        if (item === 'rotateRight') {\n            item = 'rotRight';\n        }\n        if (item === 'horizontalFlip') {\n            item = 'hflip';\n        }\n        if (item === 'verticalFlip') {\n            item = 'vflip';\n        }\n        if (item === 'arrowStart') {\n            item = 'start';\n        }\n        if (item === 'arrowEnd') {\n            item = 'end';\n        }\n        if (item === 'fontColor') {\n            item = 'strokeColor';\n            isFontColor = true;\n        }\n        for (var i = 0; i < this.defToolbarItems.length; i++) {\n            var id = this.defToolbarItems[i].id;\n            if (id && id.toLowerCase().indexOf(item.toLowerCase()) !== -1) {\n                index = i;\n                break;\n            }\n        }\n        if (isFontColor) {\n            item = 'fontColor';\n        }\n        return index;\n    };\n    ToolbarModule.prototype.getModuleName = function () {\n        return 'toolbar-module';\n    };\n    ToolbarModule.prototype.redactSlider = function (type) {\n        var parent = this.parent;\n        var id = parent.element.id;\n        var toolbarArea = parent.element.querySelector('#' + id + '_toolbarArea');\n        var contextualToolbarArea = parent.element.querySelector('#' + id + '_contextualToolbarArea');\n        if (!contextualToolbarArea) {\n            return;\n        }\n        contextualToolbarArea.classList.remove('e-hide');\n        contextualToolbarArea.style.left = toolbarArea.offsetLeft + 'px';\n        var canvasWrapper = document.querySelector('#' + id + '_contextualToolbarArea');\n        var hdrWrapper = document.querySelector('#' + id + '_headWrapper');\n        var labelWrapper = document.querySelector('#' + id + '_labelWrapper');\n        var ctxTbar = document.querySelector('#' + id + '_contextualToolbar');\n        if (hdrWrapper) {\n            hdrWrapper.remove();\n            labelWrapper.remove();\n        }\n        if (ctxTbar) {\n            ctxTbar.remove();\n            this.createContextualToolbar();\n        }\n        hdrWrapper = canvasWrapper.appendChild(parent.createElement('div', {\n            id: id + '_headWrapper',\n            styles: 'position: relative'\n        }));\n        labelWrapper = hdrWrapper.appendChild(parent.createElement('label', {\n            id: id + '_labelWrapper',\n            className: 'e-ie-finetune-slider-label',\n            styles: Browser.isDevice ? ('position: absolute; top: 31%; left: calc(50% - 160px); font-size: 15px; text-transform: capitalize; font-weight: 400;')\n                : 'position: absolute; top: 25%; left: calc(50% - 226px); font-size: 15px; text-transform: capitalize; font-weight: 400;'\n        }));\n        var text = type === 'blur' ? this.l10n.getConstant('Blur') : this.l10n.getConstant('PixelSize');\n        labelWrapper.textContent = text;\n        var sliderWrapper = hdrWrapper.appendChild(parent.createElement('div', {\n            id: id + '_sliderWrapper',\n            className: 'e-ie-finetune-slider-wrap',\n            styles: 'position: absolute'\n        }));\n        hdrWrapper.appendChild(parent.createElement('label', {\n            id: id + '_redactSpan',\n            className: 'e-ie-redact-value-span',\n            styles: Browser.isDevice ? ('position: absolute; top: 30%; margin-left: 20px; font-size: 15px; text-transform: capitalize; font-weight: 400;') :\n                'position: absolute; top: 30%; left: calc(50% + 190px); font-size: 15px; text-transform: capitalize; font-weight: 400;'\n        }));\n        sliderWrapper.parentElement.classList.add('e-finetune-slider');\n        var value = parent.activeObj.redactType === 'blur' ? parent.activeObj.redactBlur :\n            parent.activeObj.redactPixelate;\n        var redactSlider = new Slider({\n            tooltip: { placement: 'Before', isVisible: true, showOn: 'Focus' },\n            min: 10, max: 100, step: 1, value: value,\n            type: 'MinRange',\n            width: Browser.isDevice ? '130px' : '300px',\n            created: function () {\n                parent.element.querySelector('.e-ie-redact-value-span').innerText = value.toString();\n            },\n            change: function (args) {\n                parent.element.querySelector('.e-ie-redact-value-span').innerText = args.value.toString();\n                if (parent.activeObj.redactType === 'blur') {\n                    parent.activeObj.redactBlur = parent.tempRedactBlur = args.value;\n                }\n                else if (parent.activeObj.redactType === 'pixelate') {\n                    parent.activeObj.redactPixelate = parent.tempRedactPixel = args.value;\n                }\n                parent.notify('draw', { prop: 'drawObject', onPropertyChange: false, value: { canvas: 'duplicate', obj: parent.activeObj, isCropRatio: null,\n                        points: null, isPreventDrag: true, saveContext: null, isPreventSelection: true } });\n            },\n            changed: function () {\n                setTimeout(function () {\n                    parent.notify('undo-redo', { prop: 'updateUndoRedoStack', onPropertyChange: false });\n                }, 50);\n            }\n        });\n        redactSlider.appendTo('#' + id + '_sliderWrapper');\n        if (Browser.isDevice) {\n            var cHt = contextualToolbarArea.offsetHeight + 1;\n            var cusWrapper = parent.element.querySelector('#' + id + '_customizeWrapper');\n            if (this.isFrameToolbar && cusWrapper) {\n                cHt = cusWrapper.offsetHeight + 2;\n            }\n            var ht = parent.element.querySelector('#' + id + '_canvasWrapper').offsetHeight;\n            contextualToolbarArea.style.top = this.toolbarHeight + 1 + ht - cHt + 'px';\n        }\n    };\n    return ToolbarModule;\n}());\nexport { ToolbarModule };\n"],"names":["Crop","prototype","destroy","this","parent","isDestroyed","removeEventListener","addEventListener","on","cropping","off","args","updateCropPvtVar","prop","cropCircle","value","setCurrSelPoints","updateRotatePan","crop","calcRatio","getCurrFlipState","prevCropCurrObj","cropDestPoints","tempFlipPanPoint","isNullOrUndefined","x","y","isPreventScaling","adjustStraightenForShapes","resizeWrapper","isTransformCrop","isInitCrop","resetZoom","revertTransform","reset","getModuleName","lowerCanvas","lowerContext","getContext","upperCanvas","upperContext","croppedDegree","startX","startY","width","height","cropImg","isRotateCrop","temp","isNullCrop","resizeIcon","element","querySelector","id","actPoint","activeObj","activePoint","img","isRotated","i","len","rotateFlipColl","length","currentValue","notify","onPropertyChange","transform","degree","updateCropObj","point","destLeft","destTop","destWidth","destHeight","rotateCrop","currFlipState","flipCrop","tempZoomFactor","zoomFactor","ratio","currSelectionPoint","extend","obj","isImgShape","maxDimension","clearRect","srcLeft","srcTop","srcWidth","srcHeight","clientWidth","clientHeight","filter","cropObjColl","straighten","cropFreehandDrawColl","shapeColl","ctx","shape","pen","isPreventApply","context","isCircleCrop","currObjType","isCustomCrop","pan","defaultZoomFactor","type","isInitialRotated","center","_i","_a","objColl","diffX","diffY","cosAngle","sinAngle","diffXUpdated","diffYUpdated","indexOf","rotatedAngle","_b","angle","Math","cos","sin","endX","endY","afterCropActions","object","currObj","cropObj","flipState","tempCurrSelObj","push","preventSelObj","bool","coll","panToSelRangle","canvas","pop","straightenBaseImageCanvas","isMouseWheel","isIntersect","count","zoomPoint","isResize","isRotate","direction","toPascalCase","toString","updateFlipState","shapeFlip","pointColl","freehandCounter","isUndoRedo","setProperties","zoomSettings","previousZoomValue","panY","tempCurrFlipState","isReverseFlip","panPoint","totalPannedPoint","flipColl","tempFlipColl","panX","setTransform","isPreventDestination","isPreventCircleCrop","isRotateZoom","size","imageRatio","shapeDegree","abs","textSettings","fontRatio","fontSize","cropPointCollection","n","ratioX","ratioY","points","l","resetAnnotations","isSetDimension","cropSelPointColl","actObj","destPoint","allowDownScale","isCropTab","baseImgCanvas","currSelPoint","totalPannedInternalPoint","cropPointColl","straightenObj","straightenPoint","destPoints","selPointColl","xDiff","yDiff","currentPannedPoint","cropZoom","isContextualToolbar","isApplyBtn","isCropping","isZooming","cType","document","innerHTML","isReverse","pannedPoint","totalPannedClientPoint","isSave","isFlip","centerX","globalCompositeOperation","beginPath","centerY","radius","arc","PI","closePath","fill","restore","isActiveObj","getCurrCropState","panRegion","disabled","isImageLoaded","isCropToolbar","isUndoAction","transitionArgs","cancel","startPoint","endPoint","preventScaling","trigger","editCompleteArgs","cropEvent","nonAspectIcon","splitWords","split","horTopLine","isCrop","prevCropObj","prevObj","aspectWidth","aspectHeight","Browser","isDevice","updateUndoRedoColl","aspectIcon","currSelPtObj","prevCurrSelectionPoint","operation","previousObj","previousObjColl","previousPointColl","previousSelPointColl","previousCropObj","previousText","currentText","previousFilter","ctxToolbar","elem","style","position","isStraightening","update","adjustmentValue","canvasFilter","dimension","widthRatio","heightRatio","panObj","collection","isRotateFlipCollection","region","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","f","t","_","label","sent","trys","ops","g","verb","throw","return","Symbol","iterator","v","op","TypeError","call","Draw","draw","updatePrivateVariables","drawObject","updateActiveObject","clearOuterCanvas","setDestPoints","updateCurrTransState","currTransState","renderImage","drawImgToCanvas","updateCanvas","performCancel","updateFlipPan","select","callUpdateCurrTransState","resetPanPoints","setClientTransDim","redrawImgWithObj","setCurrentObj","performPointZoom","open","isInitialLoading","getInitialLoaded","fileSelect","fileName","fileType","isErrorImage","initZoomValue","isShapeTextInserted","tempStrokeSettings","tempTextSettings","tempAdjValue","tempFilter","tempUndoRedoStep","tempFreehandCounter","tempCurrFhdIndex","isCancelAction","rotatedFlipCropSel","prevActObj","zoomCrop","isImageEdited","isNewPath","arrowDimension","moveToSelectionRange","isResizeSelect","applyFrame","drawImage","downScaleImgCanvas","downScale","resetFrameZoom","triggerFrameChange","isImageApply","zoomToSel","straightenActObj","updateImgCanvasPoints","isLinesIntersect","imgCanvasPoints","setDestForStraighten","tempStraightenDestPoints","straightenDestPoints","straightenInitZoom","checkPointPosition","isCropSelect","updateCropSelection","updateCropSelObj","redrawDownScale","updateFinetune","isSelOutsideImg","tempObjColl","tempPointColl","showDialogPopup","imageBackgroundColor","tempStrokeWidth","isNullExtension","fontFamily","default","origDim","strokeColor","fillColor","strokeWidth","outlineColor","outlineWidth","text","bold","italic","underline","bar","arrow","arrowSolid","circle","square","allowRedactStraighten","isDownScale","preventStraightening","inMemoryContext","imageData","inMemoryCanvas","getImageData","putImageData","frameObj","isCropRatio","isPreventDrag","saveContext","isPreventSelection","canvasDraw","toLowerCase","setDragLimit","drawCropRatio","strokeSettings","obj_1","isText","obj_2","keyHistory","fillStyle","fillRect","rotateContext","drawOuterSelection","drawShapeObj","undefined","drawCornerCircles","translateX","_c","rotationAngle","translateY","translate","rotate","preventShapeDragOut","min","max","updateWidthHeight","drawCustomSelection","parseInt","imgWidth","imgHeight","updatePoints","diff","adjToCenter","enlargeToImg","adjToStraighten","arr","tempActPoint","isMouseMove","horCircleWidth","verCircleHeight","horBottomLine","verLeftLine","verRightLine","topLeftCircle","topCenterCircle","topRightCircle","centerLeftCircle","centerRightCircle","bottomLeftCircle","bottomCenterCircle","bottomRightCircle","rotationCirclePoint","isCropCircle","tempObj","lineWidth","strokeStyle","themeColl","theme","moveTo","lineTo","stroke","selectionSettings","showCircle","drawRotationArcLine","drawCenterCircles","rotationCircleLine","drawArrowHead","isStartHead","start","end","arrowCircleSolid","arrowCircle","arrowBar","arrowSquareStart","arrowSquareEnd","currentShape","shapeType","horLineWidth","verLineHeight","selectionWidth","selectionHeight","tempFillStyle","drawSquareLines","drawRedact","isRedact","ellipse","shapeCircle","shapeLine","triangleDirection","isShapeDrawing","nextPoint","shapeText","shapeImage","drawSelection","rect","isHorizontalflip","isVerticalflip","flipObjColl","flipStr","isTempCanvas","baseRadius","adjustedRadius","isSafari","drawRoundedRect","roundRect","rectRadius","arcTo","horTopInnerLine","horBottomInnerLine","verLeftInnerLine","verRightInnerLine","tempWidth","save","clip","x1","y1","x2","y2","tempLineWidth","manipulateSaveCtx","strWidth","dx","dy","atan2","isStartArrow","isEndArrow","isEndCircleOrSquare","isStartCircleOrSquare","isStartArrowSolid","isEndArrowSolid","isStartSquare","isEndCircle","isStartSquareSolid","isEndCircleSolid","strokeRect","squareStartIntersectX1","squareStartIntersectY1","endCircleIntersectX1","endCircleIntersectY1","squareEndIntersectX1","squareEndIntersectY1","startCircleIntersectX1","startCircleIntersectY1","circleRadius","a","b","intersect","t2","intersectionX1","intersectionY1","sqrt","isStartCircleSolid","imageCanvas","imgPoint","dimObj","imageElement","globalAlpha","opacity","rotateImage","rows","lineHeight","tempFill","yPoint","baseWidth","textStyle","test","floor","font","rotateText","strokeText","fillText","updateActPoint","tempDegree","tempActiveObj","scale","textFlipDegree","top","isRotatePan","isStraighten","isPreventDimension","setTransformColl","isPreventClearRect","isFrame","isMouseDown","imageOnLoad","src","_this","proxy","baseImg","onload","imgSrc","eventargs","isCropped","isSameDimension","fileOpened","isImageUpdated","hideSpinner","updateBaseImgCanvas","isValidImage","isUndoZoom","display","isOkBtn","isMainToolbar","triggerEditCompleteEvent","action","actionEventArgs","onerror","errorLoading","defaultZoom","srcPoints","isBrightAdjust","frame","straightenZoom","adjustmentLevel","brightness","contrast","hue","saturation","blur","exposure","transparency","sharpen","bw","currentFilter","setAttribute","zoom","isOk","tempFrameZoomLevel","cancelCropSelection","currentObj","isFinalCancel","noPushUndo","JSON","stringify","tempFrameObj","actionArgs","textArea","drawingShape","enableShapeDrawing","isFiltered","cancelItems","togglePan","isFinetuneBtnClick","initialAdjustmentValue","isBrightnessAdjusted","bevelFilter","obj_3","tempAdjustmentLevel","cursor","classList","add","isDisabled","isMaskImage","obj2","isCropSelection","ascpectIcon","currentToolbar","aspectRatioElement","blrAspRatElem","contains","obj1","togglePen","cancelPen","cancelText","cancelShape","cancelSelection","tempPointsColl","isFreehandDrawCustomized","isCancel","appliedColl","currIndex","appliedUndoRedoColl","currentObjColl","iLen","currObjColl","j","jLen","undoRedoObj","undoRedoStep","isDragging","tempStraighten","selPointCollObj","currentPointColl","currentSelPointColl","currentCropObj","tempSelectionObj","isPrevent","cropZoomFactor","drawNewSelection","cropShape","updateSelectionInsert","shapeSettingsObj","getSelectionType","selectionChangingArgs","previousSelectionSettings","currentSelectionSettings","destTop_2","destHeight_2","lowerCanvasHeight_2","_d","lowerCanvasWidth","destLeft_1","destTop_1","destWidth_1","destHeight_1","lowerCanvasWidth_1","lowerCanvasHeight_1","activePoint_1","destLeft_2","destWidth_2","lowerCanvasWidth_2","activePoint_2","lowerCanvasHeight","adjActObj","tempTogglePen","widthObj","penStrokeWidth","isCircleCropped","isObj","color","bgColor","drawCropSelectionImage","isDefaultZoom","isAfterCropAction","clearContext","okBtn","zoomValue","panToPoint","isActObj","drawZoomPanImage","adjustPanning","panToSel","destLeft_3","destTop_3","destWidth_3","destHeight_3","forEach","prevStraightenedDegree","setStraighten","openNewImage","toolbar","showSpinner","defToolbarItems","getElementById","openURL","getFileExtensionFromURL","getImageSizeFromURL","imageSizeMB","toDataURL","imageUrl","callback","ex_1","fetch","method","response","contentLength","headers","get","console","log","message","dlgBtnClick","export","applyDialogOption","dlgCloseBtnClick","isFileChanged","checkToolbarTemplate","inputElem","getComponent","headerObj","key","contentObj","yesObj","noObj","Dialog","header","closeOnEscape","content","target","isModal","animationSettings","effect","close","bind","buttons","click","buttonModel","iconCss","isPrimary","appendTo","restoreOldImage","isAllowedFileType","dropArea","extension","getExtensionArray","openImageData","uploadSettings","allowedExtensions","minFileSize","maxFileSize","isInvalidSize","handleFileSize","isError","fileTypeError","isBase64","img_1","createElement","Image","getImageSize","toBlob","blob","data","url","lastDotIndex","lastIndexOf","slice","inputElement","fileData","filesData","fileExtension","files","rawFile","name","fileExtensionArray","isJPG","window","URL","createObjectURL","isChangesSaved","toolbarTemplate","maxZoomFactor","isSelectionBiggerThanCanvas","isSelectionOutsideCanvas","isBigger","isOutside","toolbarHeight","isImgAnnotation","isHFlip","isVFlip","tempCanvas","attrs","isHorImageFlip","isVerImageFlip","isFinetuning","widthSource","heightSource","round","halfWidthRatio","ceil","halfHeightRatio","img2","createImageData","data2","weights","alphaWeights","r","stopY","w0","stopX","xPos","w","weight","drawImgToCtx","preventImg","getFrameColor","gradientColor","gradient","createLinearGradient","addColorStop","newWidth","newHeight","inset","offset","amount","border","valueForty","valueFifty","bevelObj","quadraticCurveTo","arcY2","lineY","arcX2","lineX","arcX1","lineX2","arcY1","lineY2","setLineDash","prevFrameSettings","frameChange","previousFrameSetting","currentFrameSetting","borderRadius","frameLineStyle","lineCount","setFrameObj","currFrameSettings","isToolbar","pow","performDummyZoom","setZoomPan","calcStraightenedPoints","isDestPointSmall","isSmall","this_1","left_1","top_1","width_1","height_1","selectionObj","p1","p2","p3","p4","getImagePoints","isLeftIntersect_1","imgPoints","isRightIntersect","isBottomIntersect","isLeftIntersect","isTopLeftInsideRect","isTopRightInsideRect","isBottomRightInsideRect","isBottomLeftInsideRect","imgPoints_1","isTopIntersect_1","doIntersect","isRightIntersect_1","isBottomIntersect_1","isTopIntersect","isInsideRect","calcTriangleArea","x3","y3","x4","y4","area1","area2","area3","area4","areaRectangle","dim","getRotatedCanvasDim","baseImgWidth","baseImgHeight","radians","c","d","point1","initiation","point2","point3","point4","onSegment","isInside","offscreenCanvas","offscreenCtx","tempRatio","straightenCanvas","straightenCtx","newP1","newP2","newP3","tempHeight","rotatedWidth","rotatedHeight","blur_1","pixelSize","isSaveCtx","redactImage","imageWidth","imageHeight","tempCtx","redactType","redactPixelate","redactBlur","imageSmoothingEnabled","Export","updatePvtVar","exportImg","exportToCanvas","updateSaveContext","imageQuality","drawAnnotation","imgQuality","beforeSave","imageName","beforeSaveEvent","observableSaveArgs","lowerCaseType","toSVGImg","toBlobFn","saved","left","maxWidth","maxHeight","dataUrl","svg","createElementNS","setAttributeNS","appendChild","svgDataUrl","btoa","downloadImg","blobUrl","tempCropObj","tempContextFilter","parseFloat","join","tempContext","exportTransformedImage","updateFrame","nonRedact","item","redact","concat","order","drawShape","drawPen","indexObj","index","found","splice","temp_1","indexBool","bgObj","isAnnotation","href","download","documentElement","parentNode","removeChild","flip","exportRotate","exportFlip","setMaxDim","flipHorizontal","flipVertical","Filter","finetuneImage","setFilter","updateFinetunes","setAdjustment","initFilter","setCurrAdjValue","updateAdj","getCurrentObj","tempAdjVal","tempFilVal","applyFilter","getDefaultFilter","fs","finetuneSettings","property","defaultValue","setFilterAdj","isPreview","saturatePercentage","values","getFilterValue","saturate","getSaturationFilterValue","bright","saturatePercent","getDefaultCurrentFilter","setTempFilterValue","tempSplitWords","prevFilter","valueArr","setFilterValue","setSaturationFilterValue","finetuneOption","curFinetuneObjEvent","finetune","dummyObj","tempFlipPanPointObj","zoomObj","imageSource","getValFromPercentage","percentage","val","getValFromLength","parseFilterString","filterString","filterArray","map","match","grayscale","hueRotate","invert","sepia","blurRadius","blurredData","Uint8ClampedArray","nx","ny","factor","length_1","length_2","length_3","gray","rotation","cosA","sinA","matrix","length_4","length_5","lumR","lumG","lumB","shiftW","pos","length_6","FreehandDrawing","updateFhdPvtVar","hoverFhd","freehandDownHandler","freehandUpHandler","isFHDIdx","deleteFhd","freehandRedraw","selectFhd","applyFhd","cancelFhd","updateFHDCurPts","rotateFhdColl","flipFHDColl","panFHDColl","updateFHDColl","zoomFHDColl","applyPenDraw","freeHandDraw","getSqPtFD","fhdHovIdx","pointCounter","currFHDIdx","updateCropPtsForSel","fhdSelID","tempFHDStyles","fhdSelIdx","setCenterSelPoints","prevStraightenObj","straightenPointAngle","triggerShapeChanging","isMasking","selPoints","fhdObj","lastWidth","lastVelocity","time","pointX","pointY","isFreehandDrawing","isFreehandPointMoved","dummyPoints","freehandDownPoint","controlPoint1","controlPoint2","minStrokeWidth","maxStrokeWidth","idx","startDraw","calcCurveCP","shapeSettings","Date","getTime","clientX","clientY","touches","EventHandler","freehandMoveHandler","ShapeType","FreehandDraw","previousShapeSettings","currentShapeSettings","getBoundingClientRect","remove","processPoint","changedTouches","fhCnt","mouseDown","p0","isLastPointTooClose","lastPoint","distanceTo","unshift","shift","dx1","dy1","dx2","dy2","m1","m2","l1","l2","k","cm","tx","ty","tempVelocity","pointVelocity","drawCurve","startWidth","endWidth","t1","t3","u1","u2","widthValue","bezierLength","drawSteps","u3","drawArc","pointX1","pointY1","pointX2","pointY2","pointX3","pointY3","bezierPoint","cp1","cp2","sPoints","selectedPoint","isSelected","isUndoRedoStack","isId","tempSelPointColl","zoomX","zoomY","lowercaseValue","pointsHorizontalFlip","pointsVerticalFlip","isIndex","shapeChangingArgs","getAttribute","discard","selectMaskImage","Selection","selection","setCursor","updateActivePoint","updateCursorStyles","setTextSelection","setActivePoint","clearSelection","calcShapeRatio","performTabAction","setDragDirection","isTouch","setTimeout","isFhdEditing","isFhdPoint","isShapeInserted","redrawShape","setTextBoxStylesToActObj","mouseDownEventHandler","mouseMoveEventHandler","mouseUpEventHandler","canvasMouseDownHandler","canvasMouseMoveHandler","canvasMouseUpHandler","touchStartHandler","keyDownEventHandler","handleScroll","textKeyDown","deleteItem","updatePrevShapeSettings","zoomType","isInitialTextEdited","dragCanvas","isFhdCustomized","touchEndPoint","panDown","dragElement","isObjSelected","adjustActObjForLineArrow","findTarget","getCurrentFlipState","setDragWidth","setDragHeight","currentDrawingShape","getTransRotationPoint","adjustNEPoints","adjustRotationPoints","getResizeDirection","resizedElement","unwireEvent","updPtCollForShpRot","findImageRatio","getNumTextValue","isImageClarity","upgradeImageQuality","triggerShapeChange","applyTransformToImg","findTargetObj","isSliding","isSliderActive","getArrowType","arrowShape","updateNWPoints","updateNPoints","updateNEPoints","updateWPoints","updateEPoints","updateSWPoints","updateSPoints","updateSEPoints","drawMaskCircle","isValueUpdated","getDistance","updateTransColl","isTransformedShape","rgbToHex","padLeft","setTimer","targetTouches","calculateScale","isKeyBoardCrop","focusRatioBtn","performEnterAction","revertPoints","performNWResize","performSEResize","isMouseOutsideImg","diffPoint","oldPoint","dragPoint","triangle","triangleRatio","isFirstMove","cursorTargetId","isTouchDblClick","startTouches","tempTouches","currMousePoint","isPreventDragging","timer","mouseWheel","textRow","mouseDownPoint","previousPoint","isPinching","pathAdjustedIndex","touchTime","initialPrevObj","ArrowheadType","None","SolidArrow","isMouseUp","allowUndoRedoPush","applyCurrShape","isKBDNavigation","selMouseUpEvent","getMouseCursor","isApply","frameObject","setCursorForActObj","highestOrder","getHighestOrder","tempShapeColl","isShape","setCursorForFreehandDrawing","setCursorFromObj","isBreak","maskCanvas","setCursorForLineArrow","setCursorForPath","setCursorForRotatedObject","isMove","horTP","horTopLinePointColl","horTP1","verLP","verLeftLinePointColl","verRP","verRightLinePointColl","horBP","horBottomLinePointColl","horBP1","rotCP","rotationCirclePointColl","horTP0","horBP0","getRectanglePoints","horTP_1","horBP_1","verLP_1","verRP_1","adjustCursorStylesForRotatedState","cursorMap","nw-resize","n-resize","ne-resize","w-resize","e-resize","sw-resize","s-resize","se-resize","getResizeElement","resizeMappings","positiveDegree","resizeMappings_1","startDegree","endDegree","resizeElement","isEntered","ptc","freehandSelectedIndex","pt","z1","z2","z3","z4","preventResizing","isShapeDragOut","shapeResizingArgs","allowShapeOverflow","allowOutofBound","shapeMovingArgs","isTextArea","cropResize","rotatedDegree","tempEndX","tempEndY","getSquarePointForPath","allowPreventing","path","isObjOutsideImg","selectionResizingArgs","isPreventShaping","eventType","preventDragOut","limitDrag","isStart","isLimiting","wrapperWidth","wrapperHeight","preventDraggingInvertly","preventTextDraggingInvertly","preventInverseResize","getScaleRatio","newScale","gcd","divisor","revertResizing","resizeImg","revertCustomSelection","isCustomSelection","adjustNWPoints","adjustSWPoints","adjustSEPoints","width_2","isTextBox","measureText","rectangle","cx","cy","rotatedC","rotatePoints","newCenter","newBottomRight","newTopLeft","rotatedD","newBottomLeft","newTopRight","rotatedB","rotatedA","setResizedValue","getResizedElement","resizeMappings_2","isLine","updateCursorStylesForLineArrow","updateCursorStylesForPath","textHeight","selectInfo","textWidth","imageEditorClickEventArgs","currentTarget","isPan","isGrabbing","setXYPoints","clickEvent","tempCursor","isShapeTouch","object_1","cursor_1","isFreehandDraw","isFreehandDrawTouch","isShapeClick","applyObj","isLineArrow","x_1","y_1","cursor_2","tempHoveredIndex","isPenEdit","qbArea","shapeChangedArgs","isPenDraw","canvasCursor","preventDefault","bbox","pageX","offsetLeft","pageY","offsetTop","firstFingerX","firstFingerY","secondFingerX","secondFingerY","zoomTrigger","ZoomTrigger","Pinch","isZoomBtnClick","isZoomOut","parentElement","closest","stopImmediatePropagation","activeObjShape","dummyClick","isCropSelection_1","splitWords_1","elemId","srcElement","id_1","prevCropObj_1","applyCurrActObj","freehandDrawSelectedId","isInitialLine","isAdjusted","setRatio","getCurrentIndex","offsetX","offsetY","tempPanMoveObj","tempPanMove","panMoveObj","panMove","ctrlKey","allowUndoRedo","Commands","isIcon","aspectRatioWidth","upload","isAspectRatio","aspectRatioHeight","placeholder","focus","isInsideCanvas","stopPropagation","MouseWheel","wheelDelta","String","fromCharCode","which","scrollHeight","resetCrop","arcRadius","standardSize","originalHeight","originalWidth","scaleWidth","getScale","snippetArray","scaleHeight","snippetArray1","originalValue","prevIndex","cursor_3","cursor_4","shapeEvent","endTouches","startDistance","clearTimeout","smallPoint","largePoint","shapeIDObj","backgroundColor","textShadow","trim","fontWeight","fontStyle","hexR","hexG","hexB","hexA","hex","isNaN","Number","padChar","updateFreehandDrawColorChange","object_2","tempFreeHandDrawEditingStyles","radiusX","radiusY","arrowHead","arrowTail","transformCollection","tempColl","none","circleSolid","squareSolid","rectX","rectY","rectWidth","rectHeight","rectAngle","angleRad","localX","localY","rotatedX","rotatedY","halfWidth","halfHeight","heightString","widthString","widthElement","heightElement","replace","isValue","Shape","uploader","initShapePvtProps","drawEllipse","drawLine","drawArrow","drawPath","drawRectangle","drawText","redrawActObj","updateShapeChangeEventArgs","updSelChangeEventArgs","iterateObjColl","updImgRatioForActObj","redrawObj","redrawText","renderTextArea","setTextBoxWidth","findTextTarget","updateFontStyles","applyFontStyle","updateFontRatio","updateFontSize","pushActItemIntoObj","clearActObj","refreshActiveObj","applyActObj","fileChanged","getShapeSetting","getShapeSettings","getRedactSettings","isPointsInRange","alignRotateFlipColl","selectShape","deleteShape","getMaxText","getLinePoints","setPointCollForShapeRotation","setTextBoxPos","setTextBoxPoints","alignTextAreaIntoCanvas","initializeTextShape","stopPathDrawing","updateArrowRatio","getSquarePointForRotatedShape","updateObj","straightenShapes","straightenShapePoints","straightenPath","straightenFHD","getTextBoxPosition","setFlipState","getNewShapeId","updateZOrder","getSmallestIndex","isIndexInObjColl","drawAnnotations","updateShapeColl","getNewOrder","getLowestOrder","shapeImg","crossorigin","preventFrameAnnotation","initializeShape","arrowStart","arrowEnd","drawShapeText","setDimension","arrowType","Arrow","Circle","SolidCircle","Square","SolidSquare","Bar","lineDraw","RedactType","Blur","setCenterPoints","setPointCollForLineAndArrow","initShapeProps","isPublicMethod","textFlip","prevObjColl","isInitialText","getFontSizes","fontSizeColl","maxText","drawShapeTextEvent","fontSizeInd","findIndex","drawShapeImageEvent","isSelect","addLetter","onLoadImgShape","updateTextFromTextArea","renderWidth","renderHeight","shapeId","letter","widthColl","smallestIndex","updatePathRatio","zoomObjColl","preventApply","len_1","updateArrowSize","len_2","straightenPoints","fLen","updateCurrentActiveObjPoint","currActObjIndex","flipLineArrowObj","rotateObjColl","rotateLineArrowObj","prevPoint","lineArrowHorizontalFlip","lineArrowVerticalFlip","currPoint","getRotDegOfShape","transformObj","shapeObj","zOrderElem","transformTextArea","dupElem","removeElem","editTextElem","shadowColor","shadows","adjustedOutlineWidth","overflow","setTextBoxHeight","tempLeft","tempTop","center_1","width1","height1","width2","textAreaWidth","letterWidth","textAreaTop","whiteSpace","textOverflow","textAreaLeft","noRedact","selectedText","updateImgCanvas","resizeImage","aspectRatio","aspectRatioArray","selectionStart","finish","selectionEnd","substring","panObjColl","len_3","len_4","updateFontStyle","getTextAreaWidth","updateObjColl","dimensions_1","dimensions_2","tempBold","tempItalic","tempRedactBlur","tempRedactPixel","letters","transformOrigin","getRedactObjDetails","redactDetails","blurIntensity","getObjDetails","arrowObj","shapeDetails","getFreehandDrawDetails","obj_4","shapeDetailsColl","RedactDetailsColl","inRange","popForDefaultTransformedState","popForDefaultFlipState","popForDefaultRotateState","rotateRight","rotateleft","horizontal","vertical","isHorizontal","isVertical","isNextHorizontal","isNextVertical","isNextToNextHorizontal","isNextToNextVertical","isNextToNextToNextHorizontal","curr","obj_5","obj_6","maxi","maxStr","m","getSlope","getIntercept","lesserY","i_1","prev","lesserX","i_2","isSameAxis","slope","reverse","reArrangeObjColl","reUpdateShapeColl","reorderRedact","isOrdered","tempOrder","tempSelPointCollObj","isPrevented","isPenId","tempObjCollIndex","i_3","i_4","i_5","Transform","initTransformPvtVar","flipImage","setDestPointsForFlipState","zoomAction","disableZoomOutBtn","rotatedFlip","drawPannedImage","drawPannImage","performTransformation","updateTransform","rotatePan","setCurrPanRegion","calcMaxDimension","disablePan","currDestPoint","isReverseRotate","prevZoomValue","cropDimension","isPreventSelect","resizeCrop","updateResize","resize","straightenImage","resizedImgAngle","zoomBtnHold","transCurrObj","preventDownScale","previousDegree","currentDegree","rotateEvent","prevEventObjPoint","prevEventSelectionPoint","drawRotatedImage","rotateDegree","updateCurrSelectionPoint","previousDirection","flipEvent","lowercaseDirection","selObj","updateFlipColl","toLocaleLowerCase","dir","verticalFlip","horizontalFlip","lastFourItems","minZoomFactor","powerOften","previousZoomFactor","zoomEventArgs","currentZoomFactor","zoomEvent","zoomFact","drawZoomImgToCanvas","panObj_1","isAdd","rotateZoom","panObj_2","clearInterval","zoomOut","autoEnablePan","setZoomDimension","zmFactor","maxDestLeft","maxDestTop","panEventArgs","panEvent","isPanMethod","tempFlipState","isObjCreated","updatePanPoints","Direction","Horizontal","Vertical","rotatePanActiveObj","initialDestLeft","initialDestTop","intPan","limitPan","getCurrentZoomFactor","absValue","toolbar_1","freehandObj","cxtTbarHeight","ctToolbar","ctWrapper","hdWrapper","updateDropInfoContent","canvasWrapper","ctxTbarArea","offsetWidth","offsetHeight","refreshOverflow","canvasMaxWidth","canvasMaxHeight","widthScale","cxtTbar","heightScale","cssMaxWidth","cssMaxHeight","tempActObj","tempDestLeft","tempDestTop","temp1","minimum","resizeSrc","nearestNumber","smallestDifference","minimum_1","num","difference","prevResizeCurrObj","tempwidth","tempheight","tempZoom","sx","sy","currObject","resizeEventArgs","previousWidth","previousHeight","resizeEventHandler","isSelection","UndoRedo","undoRedo","initializeUrPvtProp","updateUrc","refreshUrc","updateCurrUrc","callUndo","callRedo","undo","redo","updateUrObj","updateUndoRedo","undoDefault","isPreventing","updateUndoRedoStack","tempCurrSelPoint","undoRedoColl","tempUndoRedoColl","refreshToolbar","appliedURColl","prevTransform","getZeroZoomObjPointValue","adjObj","triggerActionCompletedEvent","lastObj","lastPrevObj","chrome","cold","warm","deleteObj","deleteFreehandDrawing","shapeInsert","shapeTransform","freehanddrawCustomized","getUndoRedoAction","imageRotate","freehanddraw","textAreaCustomization","imageHFlip","imageVFlip","updateImage","refreshToolbarActions","applyCurrentChanges","tempCircleCrop","updateFreehandDraw","updateFreehandDrawCustomized","updateDelete","updateTextAreaCustomization","updateText","imageFlip","updateCropTransformItems","endUndoRedo","updateTextBox","allowActiveObj","isUndo","isInitialLoaded","frameDestPoints","cropDimensionObj","getZeroZoomObjColl","getZeroZoomPointColl","tempArrowObj","applyImgTranform","isUpdated","enableTextEditing","extendStatics","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","_super","__extends","__","constructor","create","__decorate","decorators","desc","arguments","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","UploadSettings","ChildProperty","Property","FinetuneSettings","ZoomSettings","SelectionSettings","FontFamily","Component","ImageEditor","ImageEditor_1","requiredModules","modules","member","preRender","getUniqueID","navigator","userAgent","initializeThemeColl","render","originalElement","clonedElement","isAngular","cloneNode","replaceChild","setValue","initialize","getPersistData","addOnPersist","onPropertyChanged","newProperties","oldProperties","keys","cssClass","removeClass","addClass","wireEvent","locale","showQuickAccessToolbar","Toolbar","className","toolbarTemplateFn","quickAccessToolbarTemplate","quickAccessToolbarTemplateFn","saveDialog","removeAttribute","quickAccessToolbar","createCanvas","createDropUploader","createSpinner","initializeZoomSettings","Uploader","getElementsByClassName","multiple","selected","errType","event","dataTransfer","fileSizeObj","andObj","okObj","supportObj","getExtensionString","formatSizeUnits","bytes","toFixed","validExtensions","split_1","trimmedExt","validExtensions_1","valid","words","keyUpEventHandler","windowResizeHandler","isIos","info","screen","orientation","screenOrientation","boxSizing","canvasWrapperElement","cssText","dragObj","dropObj","browseObj","dropAreaElement","dropIconElement","dropContentElement","minDropContentElem","textContent","dropAnchorElement","minDropAnchorElem","dropInfoElement","dropUploader","adjustToScreen","notifyResetForAllModules","module","allowShape","applyShapes","manageActiveAction","updateImageTransformColl","includeAnnotations","getData","updateColl","resetChanges","imageSettings","isZoomed","tempToolbarHeight","tempToolbar","initialZoomValue","qtArea","freehandDraw","isEllipse","editCompleted","isArrow","isPath","isRectangle","isImage","updateShape","setting","tempFontSize","getRedacts","selectRedact","deleteRedact","updateRedact","option","applyImageFilter","filterOption","getImageDimension","isResized","drawFrame","frameType","frameChangeEventArgs","FrameLineStyle","Solid","ctxTbar","isStraightened","cloneShape","isPreventUndoRedo","getImageFilter","canUndo","getUndoRedoColl","canRedo","undoRedoIndex","closeOverlayTbar","isEnabled","orderObj","bringToFront","updateShapeOrder","bringForward","sendToBack","sendBackward","clearImage","btoolbar","enableDisableToolbar","disable","prevObj_1","resetToolbar","tempDestPoints","tempSel","tempTransform","template","templateID","toolbarArea","toolbarFn","templateParser","isReact","templateColl","nodeType","qatFn","querySelectorAll","templateCompiler","compile","error","getTextFromId","1","2","3","4","5","6","7","8","getFinetuneOption","ImageFinetuneOption","Brightness","Contrast","Hue","Saturation","Opacity","Exposure","setPenStroke","setInitialZoomState","str","strArr","charAt","toUpperCase","items","isFinalApply","isResizeOkBtn","blrNAspRatElem","selElem","objt","sliderWrap","children","isCroppedEvent","previousElementSibling","getObjFromId","setTempFilterProperties","cropSelectedState","tempAdjustmentValue","getCurrentCanvasData","tempFrame","setCurrAdjustmentValue","finetuneValueChanging","typeToSelectionType","CropCustom","CropSquare","CropCircle","Crop3:2","Crop4:3","Crop5:4","Crop7:5","Crop16:9","Crop2:3","Crop3:4","Crop4:5","Crop5:7","Crop9:16","updateArrow","isObjPushed","collLength","updateFontFamily","itemText","text_1","text_2","updateFontColor","updateStrokeTextColor","updatePenStrokeWidth","updatePenStrokeColor","indexObj_1","updateStrokeWidth","updateStrokeColor","updateFillColor","isPreventURC","duplicateImage","pascalToSplitWords","splitStr","word","getCurrAdjustmentValue","penOpacity","transformSelect","isTransform","stValPan","straightenEventArgs","performStraighten","getStraightenFlipState","minX","maxX","minY","maxY","curFlip","Bootstrap5","primaryColor","secondaryColor","Bootstrap5Dark","Tailwind","TailwindDark","Fluent","FluentDark","Bootstrap4","Bootstrap","BootstrapDark","Material","MaterialDark","Fabric","FabricDark","Highcontrast","Material3","Material3Dark","Fluent2","Fluent2Dark","Fluent2Highcontrast","Bootstrap5.3","Bootstrap5.3Dark","Tailwind3","Tailwind3Dark","Complex","Event","NotifyPropertyChanges","options","isFilterCanvasClick","isFrameBtnClick","Inject","ToolbarModule","FileType","Theme","ImageEditorCommand","ImageFilterOption","FrameType","initLocale","defaultLocale","ZoomIn","ZoomOut","Undo","Redo","Annotation","Finetune","Sharpen","Default","Chrome","Cold","Warm","Grayscale","BlackAndWhite","Sepia","Invert","Text","Pen","Reset","Save","Select","RotateLeft","RotateRight","HorizontalFlip","VerticalFlip","OK","Cancel","FillColor","StrokeColor","StrokeWidth","FontStyle","FontSize","FontColor","Pan","Move","Load","Custom","Ellipse","Rectangle","Line","Path","Bold","Italic","BoldItalic","XSmall","Small","Medium","Large","XLarge","ABC","Browse","Duplicate","Remove","EditText","Start","End","ArrowSolid","CircleSolid","SquareSolid","CropAndTransform","CropSelection","Transparency","Height","Width","AspectRatio","W","H","DragText","DropText","BrowseText","SupportText","Frame","Mat","Bevel","Inset","Hook","Color","Size","Offset","Radius","Amount","Resize","0","20","40","60","80","100","Border","Dashed","Dotted","GradientColor","ConfirmDialogHeader","ConfirmDialogContent","AlertDialogHeader","AlertDialogContent","MinMaxSize","MinMaxSizeAlert","MinSize","MinSizeAlert","MaxSize","MaxSizeAlert","To","Bytes","Yes","No","ImageErrorDialogHeader","ImageErrorDialogContent","Straighten","NoOutline","DlgOK","SaveAs","ImageName","Format","Quality","Download","Close","ImageSize","QualityInfo","Good","Great","Highest","BringForward","SendBackward","SendToBack","BringToFront","ZOrder","Redact","Pixelate","BorderRadius","TextOutlineColor","TextOutlineWidth","PixelSize","And","l10n","L10n","createToolbar","createContextualToolbar","updateToolbarItems","renderQAT","enableDisableTbrBtn","initMainToolbar","createBottomToolbar","refreshMainToolbar","createQuickAccessToolbar","destroyQuickAccessToolbar","zoomBtnMouseUpHandler","refreshDropDownBtn","closeContextualToolbar","destroyBottomToolbar","destroyTopToolbar","destroySubComponents","setLocale","preventZoomBtn","selFhdColor","getPenStroke","performDefTbrClick","refreshSlider","refreshShapeDrawing","preventEnableDisableUr","getConstant","initResizeToolbar","isFrameToolbar","resizeClick","frameToolbarClick","performCropTransformClick","duplicateShape","editText","initialSize","widthPress","heightPress","widthAspectRatio","heightAspectRatio","cancelPan","zoomInBtnMouseDownHandler","zoomOutBtnMouseDownHandler","drawDashedLine","saveDialogClosed","getIndex","getRectRadius","applyPreviewFilter","renderSlider","zoomInBtnClickHandler","zoomOutBtnClickHandler","getAdjustmentToolbarItem","getFilterToolbarItem","renderCropBtn","currToolbar","mToolbar","toolabr","toolbarItems","align","tooltipText","uploadItems","bToolbar","created","toolbarType","clicked","defToolbarClicked","createLeftToolbarControls","contextualToolbarArea","toolbar_2","toolbarElem","initBottomToolbar","toolbar_3","isApplyOption","leftItem","getLeftToolbarItem","rightItem","getRightToolbarItem","mainItem","getMainToolbarItem","zoomItem","getZoomToolbarItem","toolbarObj","renderAnnotationBtn","wireZoomBtnEvents","renderTransformBtn","tempToolbarItems","visible","prefixIcon","processToolbar","tabIndex","updateContextualToolbar","toolbar_6","initFilterToolbarItem","initFrameToolbarItem","cHt","cusWrapper","ht","insertBefore","getCropTextContent","processSubToolbar","zoomIn","keyCode","icon","widthNumeric","heightNumeric","getResizeToolbarItem","spanWidth","spanHeight","NumericTextBox","htmlAttributes","maxLength","showSpinButton","format","wireResizeBtnEvents","uploadElem","uploadDiv","getElementsByTagName","uploadBtnElem","title","onchange","filesTypes","triggerTbarClickEvent","originalEvent","isCustomized","defItems","toolbarId","enableDisableCloneBtn","getCurrentShapeIcon","drpDownBtn","DropDownButton","currentFreehandDrawIndex","penStrokeWidthObj","tempCurrentFreehandDrawIndex","setInitialShapeSettings","isDummyTextClick","duplicateElement","removeElement","editTextElement","zOrderElement","renderStraightenSlider","slider","createSlider","sliderHandle","shapeString","cropSelect","saveDialogPopup","dialogContent","dialogImgContent","dialogRightContent","imageNameDiv","formatNameDiv","qualityNameDiv","tabindex","qualityDiv","qualityOptionDiv","buttonGroup","dialog","input","htmlFor","beforeOpen","onBeforeopen","hide","isSlider","qualityContainer","TextBox","qualityBtnGrp","qualityBtnIcon","qualitySliderValue","imageNameLabel","fileObj","Button","spanElem_1","drpDownBtn_1","ddbElem","activeBtn","updateImageSize","currentQuality","checked","qualityBtnClickHandler","compressionValues","qualitySlider","qualityOption","qualitySliderValueDiv","qualitySliderValueSpan","sliderObj","Slider","tooltip","placement","isVisible","showOn","changed","quality","fileSize","megabytes","compressedImage_1","revokeObjectURL","binaryStringLength","fileSize_1","getCropTransformToolbarItem","straightenSpan","getShapesToolbarItem","initCropTransformToolbar","classToContentMap","e-custom","e-circle","e-square","e-custom-a","e-custom-b","e-custom-c","e-custom-d","e-custom-e","e-custom-f","e-custom-g","e-custom-h","e-custom-i","e-custom-j","shapeIcons","line","image","crop-custom","crop-circle","crop-square","crop-3:2","crop-4:3","crop-5:4","crop-7:5","crop-16:9","crop-2:3","crop-3:4","crop-4:5","crop-5:7","crop-9:16","initShapesToolbarItem","isToolbarString","excludeItems","createRectangleRadius","createShapeColor","createShapeBtn","createZOrderBtn","some","createStartBtn","createEndBtn","strokeWidthBtn","spanElem_2","drpDownBtn_2","strokeWidthItems","parentElem","childNodes","beforeModeSwitch","inst","popupLeft","offsetParent","mode","showButtons","dataBind","fillColor_1","fillDDB_1","strokeColor_1","strokeDDB_1","ColorPicker","modeSwitcher","noColor","inline","presetColors","custom","beforeTileRender","change","rgba","toggle","onModeSwitch","beforeClose","parenElem","innerWidth","getValue","background","spanElem_3","drpDownBtn_3","drpDownBtn_4","zOrderItems","spanElem","strokeEndBtn","getTextToolbarItem","getFontFamilyItems","initTextToolbarItem","createTextColor","createStrokeTextColor","createBackgroundColor","createTextBtn","fontColor_1","strokeDDB_2","backgroundColor_1","strokeDDB_3","fontColor_2","strokeDDB_4","spanElem_4","fontFamilyBtn_1","fontSizeBtnElem","fontSizeSpanElem_1","fontSizeBtn_1","fontNameBtn","createPopupOnClick","beforeItemRender","fontSizes","toolbarElement","bottomToolbar","toolbar_13","redactBlurElement","initPenToolbarItem","initAdjustmentToolbarItem","frameElem","pixelateElement","redactSlider","updateKBDNavigation","updateRedactObj","tbarInitialBtn_1","defaultFilter_1","tbarInitialChild","tbar","tempElem","getFrameToolbarItem","getPenToolbarItem","createPenColor","createPenBtn","penColor","strokeDDB_5","presentVal","spanElem_5","drpDownBtn_5","valueToTextContent","frameWrapper","styles","createFrameColor","createFrameSize","createFrameRadius","createFrameInset","createFrameOffset","createFrameAmount","createFrameBorder","createFrameGradientColor","fillDDB","curFrameObjEvent","contextualToolbarClicked","createCanvasFilter","hdrWrapper","filterElem","updateFilterCanvas","selector","getQuickAccessToolbarItem","orgToolbarItems","quickAccessToolbarClicked","wrapperElement","annotation","adjustment","pathObject","right","object1","duplicateObj","isDisabledFilter","isDisabledAdjustment","isFilterFinetune","redactBlurBtn","pixelateBtn","isRedactClick","panBtn","openSlider","unselectFrameBtn","updateRedactType","callFrameToolbar","zoomToFrameRange","isSmaller","selEle","imageFiltering","curFilterObjEvent","parent_1","returnValue","parent_2","setInterval","quickToolbar","qatArea","labelWrapper","sliderWrapper","updateFinetuneSpan","ftValPan","unselectBtn","selectors_1","ej2_instances","selectors_2","selFillElem","selStrokeElem","selTextStrokeElem","selStrokeTextColorElem","selTextBGElem","selPenStrokeElem","strokeWidthElem","rectangleRadiusElem","fontFamilyElem","fontSizeElem","boldBtn","italicBtn","getStrokeWidth","btnElement","detach","isString","indexArr","negativeIndexArr","isSameIndex","isFontColor","innerText"],"mappings":"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"}