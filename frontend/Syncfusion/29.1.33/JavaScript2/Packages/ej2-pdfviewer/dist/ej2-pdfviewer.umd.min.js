!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@syncfusion/ej2-base"),require("@syncfusion/ej2-drawings"),require("@syncfusion/ej2-inputs"),require("@syncfusion/ej2-popups"),require("@syncfusion/ej2-splitbuttons"),require("@syncfusion/ej2-inplace-editor"),require("@syncfusion/ej2-navigations"),require("@syncfusion/ej2-notifications"),require("@syncfusion/ej2-pdf"),require("@syncfusion/ej2-buttons"),require("@syncfusion/ej2-dropdowns"),require("@syncfusion/ej2-data"),require("@syncfusion/ej2-lists")):"function"==typeof define&&define.amd?define(["exports","@syncfusion/ej2-base","@syncfusion/ej2-drawings","@syncfusion/ej2-inputs","@syncfusion/ej2-popups","@syncfusion/ej2-splitbuttons","@syncfusion/ej2-inplace-editor","@syncfusion/ej2-navigations","@syncfusion/ej2-notifications","@syncfusion/ej2-pdf","@syncfusion/ej2-buttons","@syncfusion/ej2-dropdowns","@syncfusion/ej2-data","@syncfusion/ej2-lists"],t):t((e=e||self).ej={},e.ej2Base,e.ej2Drawings,e.ej2Inputs,e.ej2Popups,e.ej2Splitbuttons,e.ej2InplaceEditor,e.ej2Navigations,e.ej2Notifications,e.ej2Pdf,e.ej2Buttons,e.ej2Dropdowns,e.ej2Data,e.ej2Lists)}(this,function(v,G,J,T,k,P,N,w,R,j,L,U,O,z){"use strict";H=function(e,t){return(H=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var H,Y,K=function(e,t){function i(){this.constructor=e}H(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},e=function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;0<=s;s--)(o=e[s])&&(a=(r<3?o(a):3<r?o(t,i,a):o(t,i))||a);return 3<r&&a&&Object.defineProperty(t,i,a),a},W=(Y=G.ChildProperty,K(Z,Y),e([G.Property(0)],Z.prototype,"x",void 0),e([G.Property(0)],Z.prototype,"y",void 0),e([G.Property(0)],Z.prototype,"width",void 0),e([G.Property(0)],Z.prototype,"height",void 0),e([G.Property(0)],Z.prototype,"left",void 0),e([G.Property(0)],Z.prototype,"top",void 0),e([G.Property(0)],Z.prototype,"right",void 0),e([G.Property(0)],Z.prototype,"bottom",void 0),e([G.Complex({x:0,y:0},J.Point)],Z.prototype,"location",void 0),e([G.Complex(new J.Size(0,0),J.Size)],Z.prototype,"size",void 0),Z);function Z(){return null!==Y&&Y.apply(this,arguments)||this}_=G.ChildProperty,K(q,_),e([G.Property(!1)],q.prototype,"isBold",void 0),e([G.Property(!1)],q.prototype,"isItalic",void 0),e([G.Property(!1)],q.prototype,"isUnderline",void 0),e([G.Property(!1)],q.prototype,"isStrikeout",void 0);var _,X=q;function q(){return null!==_&&_.apply(this,arguments)||this}$=G.ChildProperty,K(t,$),e([G.Property("")],t.prototype,"id",void 0),e([G.Property("Rectangle")],t.prototype,"shapeAnnotationType",void 0),e([G.Property(null)],t.prototype,"formFieldAnnotationType",void 0),e([G.Property("")],t.prototype,"measureType",void 0),e([G.Property("")],t.prototype,"author",void 0),e([G.Property("")],t.prototype,"modifiedDate",void 0),e([G.Property("")],t.prototype,"subject",void 0),e([G.Property("")],t.prototype,"notes",void 0),e([G.Property(!1)],t.prototype,"isCommentLock",void 0),e([G.Property("black")],t.prototype,"strokeColor",void 0),e([G.Property("#ffffff00")],t.prototype,"fillColor",void 0),e([G.Property("#ffffff00")],t.prototype,"stampFillColor",void 0),e([G.Property("black")],t.prototype,"stampStrokeColor",void 0),e([G.Property("")],t.prototype,"data",void 0),e([G.Property(1)],t.prototype,"opacity",void 0),e([G.Property(1)],t.prototype,"thickness",void 0),e([G.Property("")],t.prototype,"borderStyle",void 0),e([G.Property("")],t.prototype,"borderDashArray",void 0),e([G.Property(0)],t.prototype,"rotateAngle",void 0),e([G.Property(!1)],t.prototype,"isCloudShape",void 0),e([G.Property(0)],t.prototype,"cloudIntensity",void 0),e([G.Property(40)],t.prototype,"leaderHeight",void 0),e([G.Property(null)],t.prototype,"lineHeadStart",void 0),e([G.Property(null)],t.prototype,"lineHeadEnd",void 0),e([G.Property([])],t.prototype,"vertexPoints",void 0),e([G.Property(null)],t.prototype,"sourcePoint",void 0),e([G.Property("None")],t.prototype,"sourceDecoraterShapes",void 0),e([G.Property("None")],t.prototype,"taregetDecoraterShapes",void 0),e([G.Property(null)],t.prototype,"targetPoint",void 0),e([G.Property([])],t.prototype,"segments",void 0),e([G.Complex({x:0,y:0},W)],t.prototype,"bounds",void 0),e([G.Property(0)],t.prototype,"pageIndex",void 0),e([G.Property(-1)],t.prototype,"zIndex",void 0),e([G.Property(null)],t.prototype,"wrapper",void 0),e([G.Property(!1)],t.prototype,"isDynamicStamp",void 0),e([G.Property("")],t.prototype,"dynamicText",void 0),e([G.Property("")],t.prototype,"annotName",void 0),e([G.Property({})],t.prototype,"review",void 0),e([G.Property([])],t.prototype,"comments",void 0),e([G.Property("#000")],t.prototype,"fontColor",void 0),e([G.Property(16)],t.prototype,"fontSize",void 0),e([G.Property("Helvetica")],t.prototype,"fontFamily",void 0),e([G.Property("None")],t.prototype,"fontStyle",void 0),e([G.Property(!1)],t.prototype,"enableShapeLabel",void 0),e([G.Property("label")],t.prototype,"labelContent",void 0),e([G.Property("#ffffff00")],t.prototype,"labelFillColor",void 0),e([G.Property(15)],t.prototype,"labelMaxLength",void 0),e([G.Property("")],t.prototype,"template",void 0),e([G.Property("")],t.prototype,"templateSize",void 0),e([G.Property(1)],t.prototype,"labelOpacity",void 0),e([G.Property("")],t.prototype,"annotationSelectorSettings",void 0),e([G.Property("#ffffff00")],t.prototype,"labelBorderColor",void 0),e([G.Property("left")],t.prototype,"textAlign",void 0),e([G.Property("")],t.prototype,"signatureName",void 0),e([G.Property(0)],t.prototype,"minHeight",void 0),e([G.Property(0)],t.prototype,"minWidth",void 0),e([G.Property(0)],t.prototype,"maxHeight",void 0),e([G.Property(0)],t.prototype,"maxWidth",void 0),e([G.Property(!1)],t.prototype,"isLock",void 0),e([G.Property("UI Drawn Annotation")],t.prototype,"annotationAddMode",void 0),e([G.Property("")],t.prototype,"annotationSettings",void 0),e([G.Property(16)],t.prototype,"previousFontSize",void 0),e([G.Complex({isBold:!1,isItalic:!1,isStrikeout:!1,isUnderline:!1},X)],t.prototype,"font",void 0),e([G.Complex({x:0,y:0},W)],t.prototype,"labelBounds",void 0),e([G.Property(null)],t.prototype,"customData",void 0),e([G.Property(["None"])],t.prototype,"allowedInteractions",void 0),e([G.Property(!0)],t.prototype,"isPrint",void 0),e([G.Property(!1)],t.prototype,"isReadonly",void 0),e([G.Property(0)],t.prototype,"pageRotation",void 0),e([G.Property("")],t.prototype,"icon",void 0),e([G.Property(!1)],t.prototype,"isAddAnnotationProgrammatically",void 0),e([G.Property(!1)],t.prototype,"isTransparentSet",void 0);var $,ee=t;function t(e,t,i,n){return $.call(this,e,t,i,n)||this}te=G.ChildProperty,K(i,te),e([G.Property("")],i.prototype,"id",void 0),e([G.Property("")],i.prototype,"signatureType",void 0),e([G.Property("")],i.prototype,"name",void 0),e([G.Property("")],i.prototype,"value",void 0),e([G.Property(null)],i.prototype,"formFieldAnnotationType",void 0),e([G.Property("#daeaf7ff")],i.prototype,"backgroundColor",void 0),e([G.Property("black")],i.prototype,"color",void 0),e([G.Property("#303030")],i.prototype,"borderColor",void 0),e([G.Property("")],i.prototype,"tooltip",void 0),e([G.Property(1)],i.prototype,"opacity",void 0),e([G.Property(1)],i.prototype,"thickness",void 0),e([G.Property(0)],i.prototype,"rotateAngle",void 0),e([G.Complex({x:0,y:0},W)],i.prototype,"bounds",void 0),e([G.Property(0)],i.prototype,"pageIndex",void 0),e([G.Property(1)],i.prototype,"pageNumber",void 0),e([G.Property(-1)],i.prototype,"zIndex",void 0),e([G.Property(null)],i.prototype,"wrapper",void 0),e([G.Property(16)],i.prototype,"fontSize",void 0),e([G.Property("Helvetica")],i.prototype,"fontFamily",void 0),e([G.Property("None")],i.prototype,"fontStyle",void 0),e([G.Property("left")],i.prototype,"alignment",void 0),e([G.Property(0)],i.prototype,"minHeight",void 0),e([G.Property(0)],i.prototype,"minWidth",void 0),e([G.Property(0)],i.prototype,"maxHeight",void 0),e([G.Property(0)],i.prototype,"maxWidth",void 0),e([G.Property(0)],i.prototype,"maxLength",void 0),e([G.Property("visible")],i.prototype,"visibility",void 0),e([G.Property(!0)],i.prototype,"isPrint",void 0),e([G.Property(!1)],i.prototype,"isReadonly",void 0),e([G.Property(!1)],i.prototype,"isChecked",void 0),e([G.Property(!1)],i.prototype,"isSelected",void 0),e([G.Property(!1)],i.prototype,"isRequired",void 0),e([G.Property(!1)],i.prototype,"isMultiline",void 0),e([G.Property(!1)],i.prototype,"isTransparent",void 0),e([G.Property(!1)],i.prototype,"insertSpaces",void 0),e([G.Property("")],i.prototype,"options",void 0),e([G.Property()],i.prototype,"signatureIndicatorSettings",void 0),e([G.Complex({isBold:!1,isItalic:!1,isStrikeout:!1,isUnderline:!1},X)],i.prototype,"font",void 0),e([G.Property()],i.prototype,"selectedIndex",void 0),e([G.Property(null)],i.prototype,"customData",void 0);var te,ie=i;function i(e,t,i,n){return te.call(this,e,t,i,n)||this}Object.defineProperty(oe.prototype,"pageId",{get:function(){return this.pageIdTemp},set:function(e){this.pageIdTemp=e},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"zIndex",{get:function(){return this.zIndexTemp},set:function(e){this.zIndexTemp=e},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"objects",{get:function(){return this.childNodesTemp},set:function(e){this.childNodesTemp=e},enumerable:!0,configurable:!0});var ne=oe;function oe(){this.pageIdTemp=0,this.zIndexTemp=-1,this.childNodesTemp=[],this.objects=[],this.zIndexTemp=-1,this.pageIdTemp=0}re=function(e,t){return(re=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var re,ae,K=function(e,t){function i(){this.constructor=e}re(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},e=function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;0<=s;s--)(o=e[s])&&(a=(r<3?o(a):3<r?o(t,i,a):o(t,i))||a);return 3<r&&a&&Object.defineProperty(t,i,a),a},se=(ae=G.ChildProperty,K(le,ae),le.prototype.init=function(e){var t=new J.Container;if(t.measureChildren=!1,t.children=[],this.formFields&&0<this.formFields.length)for(var i=0;i<this.formFields.length;i++){var n=e.pdfViewer.nameTable[this.formFields[parseInt(i.toString(),10)].id].wrapper;t.children.push(n)}else if(this.annotations)for(i=0;i<this.annotations.length;i++)G.isNullOrUndefined(this.annotations[parseInt(i.toString(),10)])||(n=e.pdfViewer.nameTable[this.annotations[parseInt(i.toString(),10)].id].wrapper,t.children.push(n));return this.wrapper=t},e([G.Property(null)],le.prototype,"wrapper",void 0),e([G.Collection([],ee)],le.prototype,"annotations",void 0),e([G.Collection([],ie)],le.prototype,"formFields",void 0),e([G.Property()],le.prototype,"width",void 0),e([G.Property()],le.prototype,"height",void 0),e([G.Property(0)],le.prototype,"rotateAngle",void 0),e([G.Property(0)],le.prototype,"offsetX",void 0),e([G.Property(0)],le.prototype,"offsetY",void 0),e([G.Complex({x:.5,y:.5},J.Point)],le.prototype,"pivot",void 0),le);function le(){return null!==ae&&ae.apply(this,arguments)||this}function Ae(e){return"Line"===e.shapeAnnotationType||"LineWidthArrowHead"===e.shapeAnnotationType||"Distance"===e.shapeAnnotationType||"Polygon"===e.shapeAnnotationType}function de(e,t){var i;e&&t&&(e.formFieldAnnotationType?-1!==e.id.indexOf("diagram_helper")?(t.style.fill="transparent",t.style.strokeWidth=1,t.style.strokeDashArray=e.borderDashArray):(t.style.fill="transparent",t.style.strokeWidth=0):(i="#ffffff00"===e.fillColor?"transparent":e.fillColor,t.style.fill=i||"white",t.style.strokeColor=e.strokeColor||e.borderColor,t.style.color=e.strokeColor||e.borderColor,t.style.strokeWidth=e.thickness,"Image"!==e.shapeAnnotationType&&"SignatureText"!==e.shapeAnnotationType&&"SignatureImage"!==e.shapeAnnotationType||(t.style.strokeWidth=0),t.style.strokeDashArray=e.borderDashArray,t.style.opacity=e.opacity))}function pe(e){for(var t=0,i=0;i<e.length-1;i++)t+=J.Point.findLength(e[parseInt(i.toString(),10)],e[i+1]);return t}function he(e,t){e={width:e.actualSize.width,height:e.actualSize.height,x:e.offsetX-e.actualSize.width*e.pivot.x+.5,y:e.offsetY-e.actualSize.height*e.pivot.y+.5,angle:e.rotateAngle+e.parentTransform,fill:e.style.fill,stroke:e.style.strokeColor,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:1,opacity:e.style.opacity,dashArray:e.style.strokeDashArray||"",visible:e.visible,id:e.id};return t&&(e.x+=t.tx,e.y+=t.ty),e}function ce(e){return e=void 0!==e&&"string"==typeof e?G.getValue(e,window):e}function M(e,t,i){var n={};if(e){i=e.propName;for(var o=e.properties||e,r=[],a=[],s=((r=r.concat(Object.keys(o))).push("version"),i&&(a=(o=ce(t))?o(i):[],r=r.concat(a)),ue(i)),l=0,A=r=r.concat(s);l<A.length;l++){var d=A[l];"historyManager"!==d&&("wrapper"!==d?e[""+d]&&Object.prototype.hasOwnProperty.call(e,"observers")||(e[""+d]instanceof Array?n[""+d]=ge((-1===s.indexOf(d)&&e[""+i]?e[""+i]:e)[""+d],t):e[""+d]instanceof Array==!1&&e[""+d]instanceof HTMLElement?n[""+d]=e[""+d].cloneNode(!0).innerHtml:e[""+d]instanceof Array==!1&&e[""+d]instanceof Object&&"template"!==d?n[""+d]=M((-1===s.indexOf(d)&&e[""+i]?e[""+i]:e)[""+d]):n[""+d]=e[""+d]):e[""+d]&&(n[""+d]={actualSize:{width:e[""+d].actualSize.width,height:e[""+d].actualSize.height},offsetX:e[""+d].offsetX,offsetY:e[""+d].offsetY}))}}return n}function ge(e,t,i){if(e)for(var n=[],o=0;o<e.length;o++)!(e[parseInt(o.toString(),10)]instanceof Array)&&e[parseInt(o.toString(),10)]instanceof Object?n.push(M(e[parseInt(o.toString(),10)],t)):n.push(e[parseInt(o.toString(),10)]);return n}function ue(e){switch(e){case"nodes":case"children":return["inEdges","outEdges","parentId","processId","nodeId","umlIndex","isPhase","isLane"];case"connectors":return["parentId"];case"annotation":case"annotations":return["nodeId"];case"shape":return["hasHeader"]}return[]}function fe(e,t){var i;if("Distance"===e.shapeAnnotationType)for(var n=0,o=void 0,r=0;r<e.wrapper.children.length;r++){var a=J.Point.findAngle(e.sourcePoint,e.targetPoint);if(-1<e.wrapper.children[parseInt(r.toString(),10)].id.indexOf("leader")){var s=e.wrapper.children[0].bounds.center,s=0===n?(o={x:e.sourcePoint.x,y:e.sourcePoint.y-e.leaderHeight},e.sourcePoint):(o={x:e.targetPoint.x,y:e.targetPoint.y-e.leaderHeight},e.targetPoint),l=J.identityMatrix();if(J.rotateMatrix(l,a,s.x,s.y),i=J.transformPointByMatrix(l,{x:o.x,y:o.y}),t==="Leader"+n)return{leader:"leader"+n,point:i};n++}}return{leader:"",point:i}}function me(e,t){var i=e.vertexPoints.slice(0);return i&&0<i.length&&(e.sourcePoint=i[0],e.targetPoint=i[i.length-1]),i}function we(e,t){for(var i,n="",o=[],r=0;r<t.length;)o.push({x:t[parseInt(r.toString(),10)].x,y:t[parseInt(r.toString(),10)].y}),r++;for(var o=Ie(e,o),a=0;a<o.length;a++)i=o[parseInt(a.toString(),10)],0===a&&(n="M"+i.x+" "+i.y),0<a&&(n+=" L"+i.x+" "+i.y);return n}function Be(e,t,i){new J.Rect;var n=we(e,t),t=J.Rect.toBounds(t);return i.width=t.width,i.height=t.height,i.offsetX=t.x+i.width/2,i.offsetY=t.y+i.height/2,i.data=n,e.wrapper&&(e.wrapper.offsetX=i.offsetX,e.wrapper.offsetY=i.offsetY,n=t.width,n=t.width<t.height?t.height:t.width,e.wrapper.width=e.enableShapeLabel?n/2:n,e.wrapper.height=t.height),i}function Ce(e,t){var i=me(e);return t.staticSize=!0,de(e,t=Be(e,i,t)),t}function Se(e,t,i,n,o){t.offsetX=i.x,t.offsetY=i.y;i=J.Point.findAngle(i,n),n=Re(o?e.sourceDecoraterShapes:e.taregetDecoraterShapes),o=0,o="LineWidthArrowHead"===e.shapeAnnotationType||"Line"===e.shapeAnnotationType?(o=e.thickness,new J.Size(12*o,12*o)):(o=e.thickness<=5?5:e.thickness,new J.Size(2*o,2*o));t.transform=J.RotateTransform.Self,de(e,t),t.style.fill="tranparent"!==e.fillColor?e.fillColor:"white",t.rotateAngle=i,t.data=n,t.canMeasurePath=!0,t.width=o.width,t.height=o.height,"Butt"===e.sourceDecoraterShapes&&(t.width=o.width-10,t.height=o.height+10)}function ye(e,t,i,n){var o=new J.PathElement;return Se(e,o,t,i,n),o}function Ie(e,t){return t[0]=Ee(e,t,!0),t[t.length-1]=Ee(e,t,!1),t}function Ee(e,t,i){var n={x:0,y:0},o=t.length,r=i?t[0]:t[o-1],i=i?t[1]:t[o-2],t=0===(t=J.Point.distancePoints(r,i))?1:t,o=e.thickness;n.x=Math.round(r.x+o*(i.x-r.x)/t),n.y=Math.round(r.y+o*(i.y-r.y)/t);return n=J.Point.adjustPoint(n,i,!0,.5)}function Qe(e,t,i,n){var o=[],r=J.Point.findAngle(t[0],t[1]),a=Fe(e,r);return!n.enableImportAnnotationMeasurement&&e.notes&&""!==e.notes?a.content=e.notes:a.content=i.setConversion(pe([t[0],t[1]])*i.pixelToPointFactor,e),a.rotateValue={y:-10,angle:r},!0===e.enableShapeLabel&&(a.style.strokeColor=e.labelBorderColor,a.style.fill=e.labelFillColor,a.style.fontSize=e.fontSize,a.style.color=e.fontColor,a.style.fontFamily=e.fontFamily),o.push(a),o}function De(e,t,i){for(var n,o=0;o<e.wrapper.children.length;o++){var r=e.wrapper.children[parseInt(o.toString(),10)];r&&!G.isNullOrUndefined(r.content)&&(n=i.setConversion(pe([t[0],t[1]])*i.pixelToPointFactor,e),r.content=n,r.childNodes[0].text=r.content,r.refreshTextElement())}return n}function xe(e,t){for(var i,n=0;n<e.wrapper.children.length;n++){var o=e.wrapper.children[parseInt(n.toString(),10)];o&&!G.isNullOrUndefined(o.content)&&(i=t.setConversion(e.bounds.width/2*t.pixelToPointFactor,e),o.content=i,2===o.childNodes.length?(o.childNodes[0].text=i,o.childNodes.splice(o.childNodes.length-1,1)):o.childNodes[0].text=i,o.refreshTextElement())}return i}function Ve(e,t,i,n){var o=[],t=J.Point.findAngle(t[0],t[1]),r=Fe(e,t);return!n.enableImportAnnotationMeasurement&&e.notes&&""!==e.notes?r.content=e.notes:r.content=i.calculatePerimeter(e),!0===e.enableShapeLabel&&(r.style.strokeColor=e.labelBorderColor,r.style.fill=e.labelFillColor,r.style.fontSize=e.fontSize,r.style.color=e.fontColor,r.style.fontFamily=e.fontFamily),r.rotateValue={y:-10,angle:t},o.push(r),o}function be(e,t,i){for(var n,o=0;o<e.wrapper.children.length;o++){var r=e.wrapper.children[parseInt(o.toString(),10)];r&&!G.isNullOrUndefined(r.content)&&(n=i.calculatePerimeter(e),r.content=n,r.childNodes[0].text=r.content,r.refreshTextElement())}return n}function Me(e){if(e.wrapper&&e.wrapper.children)for(var t=0;t<e.wrapper.children.length;t++){var i=e.wrapper.children[parseInt(t.toString(),10)];i&&!G.isNullOrUndefined(i.content)&&(i.content=e.notes,i.childNodes[0].text=i.content,i.refreshTextElement())}}function ve(e){for(var t,i="",i="M"+e[0].x+" "+e[0].y,n=1;n<e.length;n++)i+="L"+(t=e[parseInt(n.toString(),10)]).x+" "+t.y;return i+="Z"}function Fe(e,t){var i=new J.TextElement;return de(e,i),i.style.fill="transparent",i.id=J.randomId(),i.horizontalAlignment="Center",i.rotateValue={y:10,angle:t},i.verticalAlignment="Top",i.relativeMode="Object",i.setOffsetWithRespectToBounds(.5,.5,"Absolute"),i.style.textWrapping="NoWrap",i}function Te(e,t){var i=[],n=ke(e,t[0],t[1]);return i.push(n),n=ke(e,t[1],t[0],!0),i.push(n),i}function ke(e,t,i,n){var o=new J.PathElement,r=(o.offsetX=t.x,o.offsetY=t.y,J.Point.findAngle(t,i)),i={x:(t.x+i.x)/2,y:(t.y+i.y)/2},a=J.identityMatrix();J.rotateMatrix(a,0-r,i.x,i.y);var s={x:(i=J.transformPointByMatrix(a,t)).x,y:i.y-e.leaderHeight},a=J.identityMatrix(),i=(J.rotateMatrix(a,r,o.offsetX,o.offsetY),J.transformPointByMatrix(a,s)),a={x:t.x,y:t.y},s=(o.offsetX=a.x,o.offsetY=a.y,o.transform=J.RotateTransform.Self,"M"+t.x+","+t.y+",L"+i.x+","+i.y+"Z"),a=new J.Size(0,e.leaderHeight);return o.pivot.x=.5,n?(o.id="leader2_"+J.randomId(),o.pivot.y=0):(o.id="leader1_"+J.randomId(),o.pivot.y=1),de(e,o),o.rotateAngle=r,o.data=s,o.canMeasurePath=!0,o.width=a.width,o.height=a.height,o}function Pe(e,t){var i=e.vertexPoints;if(!G.isNullOrUndefined(i))for(var n=0;n<i.length-1;n++){var o=i[parseInt(n.toString(),10)],r=i[n+1],a=J.Rect.toBounds([o,r]);if(a.Inflate(10),a.containsPoint(t)){var a=Ne(t,o,r),s={x1:o.x,x2:r.x,y1:o.y,y2:r.y},l={x1:t.x,x2:a.x,y1:t.y,y2:a.y},s=J.intersect3(s,l);if(s.enabled){l=J.Point.findLength(t,s.intersectPt);if(Math.abs(l)<10)return!0}else{s=J.Rect.toBounds([t,t]);if(s.Inflate(3),s.containsPoint(o)||s.containsPoint(r))return!0}if(J.Point.equals(t,a))return!0}}return!1}function Ne(e,t,i){var n=J.Point.findLength(t,e),n=J.Point.findLength(i,e)<n?i:t,t=J.Point.findAngle(t,i),i=J.Point.findAngle(n,e),e=J.Point.findLength(n,e),t=i+2*(t-i);return{x:n.x+e*Math.cos(t*Math.PI/180),y:n.y+e*Math.sin(t*Math.PI/180)}}function Re(e){return Oe[""+e]}var Le,Ue,Oe={OpenArrow:"M15.9,23 L5,16 L15.9,9 L17,10.7 L8.7,16 L17,21.3Z",Square:"M0,0 L10,0 L10,10 L0,10 z",Fletch:"M14.8,10c0,0-3.5,6,0.2,12c0,0-2.5-6-10.9-6C4.1,16,11.3,16,14.8,10z",OpenFetch:"M6,17c-0.6,0-1-0.4-1-1s0.4-1,1-1c10.9,0,11-5,11-5c0-0.6,0.4-1,1-1s1,0.4,1,1C19,10.3,18.9,17,6,17C6,17,6,17,6,17z M18,23c-0.5,0-1-0.4-1-1c0-0.2-0.3-5-11-5c-0.6,0-1-0.5-1-1s0.4-1,1-1c0,0,0,0,0,0c12.9,0,13,6.7,13,7    C19,22.6,18.6,23,18,23z",IndentedArrow:"M17,10c0,0-4.5,5.5,0,12L5,16L17,10z",OutdentedArrow:"M14.6,10c0,0,5.4,6,0,12L5,16L14.6,10z",DoubleArrow:"M19,10 L19,22 L13,16Z M12,10 L12,22 L6,16Z",Arrow:"M15,10 L15,22 L5,16Z",Diamond:"M12,23l-7-7l7-7l6.9,7L12,23z",Circle:"M0,50 A50,50,0 1 1 100,50 A50,50,0 1 1 0,50 Z",Butt:"M0,0 L0,90"},K=(Le=function(e,t){return(Le=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)},function(e,t){function i(){this.constructor=e}Le(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),ze=(Ue=J.DrawingElement,K(He,Ue),He.prototype.templateCompiler=function(t){if(t)try{return"function"!=typeof t&&document.querySelectorAll(t).length?G.compile(document.querySelector(t).innerHTML.trim()):G.compile(t)}catch(e){return G.compile(t)}},He.prototype.getNodeTemplate=function(){return this.templateFn},He);function He(e){var t=Ue.call(this)||this;return t.templateFn=t.templateCompiler(e),t}n.prototype.renderLabels=function(e){var t=e.annotations;if(t)for(var i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];this.initObject(n)}},n.prototype.createNewZindexTable=function(e){var t=new ne;return this.pdfViewer.zIndex++,t.pageId=this.pdfViewer.zIndex,this.pdfViewer.zIndexTable.push(t),t},n.prototype.getPageTable=function(e){var t;if(void 0!==this.pdfViewer.zIndexTable.length){for(var i=!0,n=0;n<this.pdfViewer.zIndexTable.length;n++)if(this.pdfViewer.zIndexTable[parseInt(n.toString(),10)].pageId===e){i=!1,t=this.pdfViewer.zIndexTable[parseInt(n.toString(),10)];break}i&&((t=this.createNewZindexTable(e)).pageId=e)}else t=this.createNewZindexTable(e);return t},n.prototype.setZIndex=function(e,t){if(void 0!==t.pageIndex){var i,n=this.getPageTable(t.pageIndex),o=!1;if("Polygon"!==t.shapeAnnotationType)for(var r=0;r<n.objects.length;r++)if(t.id===n.objects[parseInt(r.toString(),10)].id){n.objects.splice(parseInt(r.toString(),10),1),n.objects.splice(parseInt(r.toString(),10),0,t),o=!0;break}o||(-1===t.zIndex?(n.zIndex++,t.zIndex=n.zIndex):(i=n.objects.length,t.zIndex=i++),n.objects.push(t))}},n.prototype.initObject=function(e){return this.setZIndex(this.pdfViewer.zIndex,e),J.createMeasureElements(),Ae(e)?(this.initLine(e),e.wrapper.measure(new J.Size(void 0,void 0)),e.wrapper.arrange(e.wrapper.desiredSize)):this.initNode(e),e.wrapper,(this.pdfViewer.nameTable[e.id]=e).formFieldAnnotationType&&this.nodePropertyChange(e,{bounds:{width:e.bounds.width,height:e.bounds.height}}),e},n.prototype.initNode=function(e){var t=this.initContainer(e);t.children||(t.children=[]),this.init(e,t),t.rotateAngle=e.rotateAngle,t.measure(new J.Size(e.wrapper.width,e.wrapper.height)),t.arrange(t.desiredSize),this.isDynamicStamps&&(this.pdfViewer.annotation.stampAnnotationModule.updateSessionStorage(e,null,"dynamicStamp"),this.isDynamicStamps=!1)},n.prototype.init=function(e,t){var i=new J.DrawingElement,n=this.pdfViewer.annotationModule?this.pdfViewer.annotationModule.findAnnotationSettings(e):{},o=0,r=0,a=0,s=0,n=((n.minWidth||n.maxWidth||n.minHeight||n.maxHeight)&&(o=n.maxHeight||2e3,r=n.maxWidth||2e3,a=n.minHeight||0,s=n.minWidth||0),!1);return(a||s||o||r)&&(n=!0),(i=e.formFieldAnnotationType?this.initFormFields(e,i,t):this.initAnnotationObject(e,void 0,i,t,!1,void 0,n,o,r,s,a)).id=e.id+"_content",i.relativeMode="Object","Stamp"!==e.shapeAnnotationType&&(void 0!==e.bounds.width&&(i.width=e.bounds.width,n)&&(i.width<s||i.width>r)&&(i.width<s&&(i.width=s),i.width>r)&&(i.width=r),i.horizontalAlignment="Stretch",void 0!==e.bounds.height&&(i.height=e.bounds.height,n)&&(i.height<a||i.width>o)&&(i.height<a&&(i.height=a),i.height>o)&&(i.height=o),de(e,i),this.pdfViewer.viewerBase.drawSignatureWithTool)&&"SignatureText"===e.shapeAnnotationType&&(i.style.strokeWidth=0),i.isRectElement=!0,i.verticalAlignment="Stretch",i},n.prototype.initFormFields=function(e,t,i){switch(e.formFieldAnnotationType){case"Textbox":case"PasswordField":case"Checkbox":case"RadioButton":case"DropdownList":case"ListBox":case"SignatureField":case"InitialField":(t=new ze).id=e.id+"_content",i.children.push(t)}return t},n.prototype.initAnnotationObject=function(e,t,i,n,o,r,a,s,l,A,d){switch(e.shapeAnnotationType){case"Ellipse":(t=new J.PathElement).data="M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",i=t,n.children.push(i),e.enableShapeLabel&&((g=this.textElement(e)).content=e.labelContent,g.style.color=e.fontColor,g.style.strokeColor=e.labelBorderColor,g.style.fill=e.labelFillColor,g.style.fontSize=e.fontSize,g.style.fontFamily=e.fontFamily,g.style.opacity=e.labelOpacity,n.children.push(g));break;case"Path":(t=new J.PathElement).data=e.data,i=t,n.children.push(i);break;case"HandWrittenSignature":case"Ink":(t=new J.PathElement).data=e.data,t.style.strokeColor=e.strokeColor,t.style.strokeWidth=e.thickness,t.style.opacity=e.opacity,i=t,n.children.push(i);break;case"Polygon":(t=new J.PathElement).data=ve(e.vertexPoints),i=t,n.children.push(i);break;case"Stamp":this.isDynamicStamps=o=!0,e&&e.annotationAddMode&&("Existing Annotation"===e.annotationAddMode||"Imported Annotation"===e.annotationAddMode)&&(e.bounds.width=e.bounds.width-20,e.bounds.height=e.bounds.height-20),e.isDynamicStamp?(n.horizontalAlignment="Left",(i=r=new J.DrawingElement).cornerRadius=10,i.style.fill=e.stampFillColor,i.style.strokeColor=e.stampStrokeColor,n.children.push(i),h=this.textElement(e),(h=new J.TextElement).style.fontFamily="Helvetica",h.style.fontSize=14,h.style.italic=!0,h.style.bold=!0,h.style.color=e.fillColor,h.rotateValue=void 0,h.content=e.dynamicText,h.relativeMode="Point",h.margin.left=10,h.margin.bottom=-7,h.setOffsetWithRespectToBounds(0,.57,null),h.relativeMode="Point","Existing Annotation"!==e.annotationAddMode&&"Imported Annotation"!==e.annotationAddMode||(h.style.fontSize=this.fontSizeCalculation(e,h,e.bounds.width-10)),n.children.push(h),(p=new J.PathElement).id=J.randomId()+"_stamp",p.data=e.data,p.width=e.bounds.width,a&&e.bounds.width>l&&(p.width=l,e.bounds.width=l),p.height=e.bounds.height/2,a&&e.bounds.height>s&&(p.height=s/2,e.bounds.height=s/2),p.rotateValue=void 0,p.margin.left=10,p.margin.bottom=-5,p.relativeMode="Point",p.setOffsetWithRespectToBounds(0,.1,null),(c=p).style.fill=e.fillColor,p.style.strokeColor=e.strokeColor,p.style.opacity=e.opacity,i.width=e.bounds.width+20,i.height=e.bounds.height+20,i.style.opacity=e.opacity,n.children.push(c)):(n.horizontalAlignment="Left",(i=r=new J.DrawingElement).cornerRadius=10,i.style.fill=e.stampFillColor,i.style.strokeColor=e.stampStrokeColor,n.children.push(i),(p=new J.PathElement).id=J.randomId()+"_stamp",p.data=e.data,p.width=e.bounds.width,a&&e.bounds.width>l&&(p.width=l,e.bounds.width=l),p.height=e.bounds.height,a&&e.bounds.height>s&&(p.height=s,e.bounds.height=s),p.minWidth=p.width/2,p.minHeight=p.height/2,(c=p).style.fill=e.fillColor,p.style.strokeColor=e.strokeColor,p.style.opacity=e.opacity,i.width=e.bounds.width+20,i.height=e.bounds.height+20,i.minWidth=p.width/2,i.minHeight=p.height/2,i.style.opacity=e.opacity,n.children.push(c),n.minHeight=i.minHeight+20,n.minWidth=i.minWidth+20);break;case"Image":case"SignatureImage":var p=new J.ImageElement;p.source=e.data,(i=p).style.strokeWidth=0,n.children.push(i);break;case"Rectangle":i=r=new J.DrawingElement,n.children.push(i),e.enableShapeLabel&&((g=this.textElement(e)).content=e.labelContent,g.style.color=e.fontColor,g.style.strokeColor=e.labelBorderColor,g.style.fill=e.labelFillColor,g.style.fontSize=e.fontSize,g.style.fontFamily=e.fontFamily,g.style.opacity=e.labelOpacity,n.children.push(g));break;case"Perimeter":(t=new J.PathElement).data="M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",de(e,i=t),n.children.push(i),(r=new J.DrawingElement).id="perimeter_"+J.randomId(),r.height=.2,r.width=.2,r.transform=J.RotateTransform.Self,r.horizontalAlignment="Stretch",this.setNodePosition(r,e),r.rotateAngle=e.rotateAngle,de(e,r),n.children.push(r);var h=this.textElement(e);(h=new J.TextElement).content=h.content=pe([{x:e.bounds.x,y:e.bounds.y},{x:e.bounds.x+e.bounds.width,y:e.bounds.y+e.bounds.height}]).toString(),h.rotateValue={y:-10,angle:e.rotateAngle},n.children.push(h);break;case"Radius":(t=new J.PathElement).data="M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",de(e,i=t),n.children.push(i),(r=new J.DrawingElement).id="radius_"+J.randomId(),r.height=.2,r.width=e.bounds.width/2,r.transform=J.RotateTransform.Self,this.setNodePosition(r,e),r.rotateAngle=e.rotateAngle,de(e,r),n.children.push(r);var c=this.textElement(e);e.enableShapeLabel&&(c.style.color=e.fontColor,c.style.strokeColor=e.labelBorderColor,c.style.fill=e.labelFillColor,c.style.fontSize=e.fontSize,c.style.fontFamily=e.fontFamily,c.style.opacity=e.labelOpacity),pe([{x:e.bounds.x,y:e.bounds.y},{x:e.bounds.x+e.bounds.width,y:e.bounds.y+e.bounds.height}]);!this.pdfViewer.enableImportAnnotationMeasurement&&e.notes&&""!==e.notes?c.content=e.notes:c.content=this.pdfViewer.annotation.measureAnnotationModule.setConversion(e.bounds.width/2*this.pdfViewer.annotation.measureAnnotationModule.pixelToPointFactor,e),c.rotateValue={y:-10,x:e.bounds.width/4,angle:e.rotateAngle},n.children.push(c);break;case"StickyNotes":p=new J.ImageElement;p.source=e.data,p.width=e.bounds.width,p.height=e.bounds.height,p.style.strokeColor=e.strokeColor,p.style.strokeWidth=0,n.children.push(i=p);break;case"SignatureText":var g=new J.DrawingElement,h=(g.style.strokeWidth=0,(i=g).style.strokeWidth=0,n.style.strokeWidth=0,n.children.push(i),this.textElement(e));h.style.fontFamily=e.fontFamily,h.style.fontSize=e.fontSize,h.style.textAlign="Left",h.rotateValue=void 0,h.content=e.data,h.style.strokeWidth=0,n.children.push(h);break;case"FreeText":c=new J.DrawingElement,p=(n.children.push(i=c),this.textElement(e));(p=new J.TextElement).style.fontFamily=e.fontFamily,p.style.fontSize=e.fontSize,p.style.textAlign="Left","center"===e.textAlign.toLowerCase()?p.style.textAlign="Center":"right"===e.textAlign.toLowerCase()?p.style.textAlign="Right":"justify"===e.textAlign.toLowerCase()&&(p.style.textAlign="Justify"),p.style.color=e.fontColor,p.style.bold=e.font.isBold,p.style.italic=e.font.isItalic,!0===e.font.isUnderline?p.style.textDecoration="Underline":!0===e.font.isStrikeout&&(p.style.textDecoration="LineThrough"),p.rotateValue=void 0,p.content=e.dynamicText,p.style.opacity=e.opacity,p.margin.left=4,p.margin.right=5,p.margin.top=e.fontSize/16*5,this.pdfViewer.freeTextSettings.enableAutoFit?p.style.textWrapping="Wrap":p.style.textWrapping="WrapWithOverflow",p.relativeMode="Point",p.setOffsetWithRespectToBounds(0,0,null),p.relativeMode="Point",n.children.push(p)}return i.id=e.id+"_content",i.relativeMode="Object",o||(void 0!==e.bounds.width&&(i.width=e.bounds.width,a)&&(i.width<A||i.width>l)&&(i.width<A&&(i.width=A),i.width>l)&&(i.width=l),i.horizontalAlignment="Stretch",void 0!==e.bounds.height&&(i.height=e.bounds.height,a)&&(i.height<d||i.width>s)&&(i.height<d&&(i.height=d),i.height>s)&&(i.height=s),de(e,i)),i.isRectElement=!0,i.verticalAlignment="Stretch",i},n.prototype.textElement=function(e){var t=new J.TextElement;return de(e,t),t.horizontalAlignment="Center",t.verticalAlignment="SignatureText"===e.shapeAnnotationType?"Center":"Top",t.relativeMode="Object",t.setOffsetWithRespectToBounds(.5,.5,"Absolute"),t},n.prototype.setNodePosition=function(e,t){var i,n,o;"Perimeter"===t.shapeAnnotationType?(e.offsetX=t.bounds.x+t.bounds.width/2,e.offsetY=t.bounds.y+t.bounds.height/2):"Radius"===t.shapeAnnotationType&&(i={x:t.bounds.x+t.bounds.width/2+t.bounds.width/4,y:t.bounds.y+t.bounds.height/2},n={x:t.bounds.x+t.bounds.width/2,y:t.bounds.y+t.bounds.height/2},o=J.identityMatrix(),J.rotateMatrix(o,t.rotateAngle,n.x,n.y),o={x:(n=J.transformPointByMatrix(o,i)).x,y:n.y},e.offsetX=o.x,e.offsetY=o.y,e.width=t.bounds.width/2)},n.prototype.initContainer=function(e){e.id||(e.id=J.randomId());var t=new J.Canvas;return t.id=e.id,t.offsetX=e.bounds.x+.5*e.bounds.width,t.offsetY=e.bounds.y+.5*e.bounds.height,t.style.fill="transparent",t.style.strokeColor="transparent",t.rotateAngle=e.rotateAngle,e.wrapper=t},n.prototype.initLine=function(e){e.id||(e.id=J.randomId());var t=new J.Canvas,i=((r=new J.PathElement).id=e.id+"_path",new J.PathElement),n=new J.PathElement;if(e.vertexPoints.length){e.sourcePoint=e.vertexPoints[0],e.targetPoint=e.vertexPoints[e.vertexPoints.length-1];for(var o=0;o<e.vertexPoints.length;o++)0!==o&&o!==e.vertexPoints.length-1&&e.segments.push(e.vertexPoints[parseInt(o.toString(),10)])}var r=Ce(e,r),a=me(e),s=[],l=[],A=("Distance"===e.shapeAnnotationType&&(s=Te(e,a),l=Qe(e,a,this.pdfViewer.annotation.measureAnnotationModule,this.pdfViewer)),"Line"!==e.shapeAnnotationType&&"LineWidthArrowHead"!==e.shapeAnnotationType||"Perimeter"!==e.measureType||(l=Ve(e,a,this.pdfViewer.annotation.measureAnnotationModule,this.pdfViewer)),!0===e.enableShapeLabel&&"Distance"!==e.shapeAnnotationType&&"Perimeter"!==e.measureType&&(A=J.Point.findAngle(a[0],a[1]),(d=this.textElement(e)).id=J.randomId(),!this.pdfViewer.enableImportAnnotationMeasurement&&e.notes&&""!==e.notes?d.content=e.notes:d.content=e.labelContent,d.style.strokeColor=e.labelBorderColor,d.style.fill=e.labelFillColor,d.style.fontSize=e.fontSize,d.style.color=e.fontColor,d.style.fontFamily=e.fontFamily,d.style.opacity=e.labelOpacity,d.rotateValue={y:-10,angle:A},l.push(d)),a=Ie(e,a),J.Rect.toBounds(a)),d=(t.width=A.width,t.height=A.height,t.offsetX=A.x+t.pivot.x*A.width,t.offsetY=A.y+t.pivot.y*A.height,e.vertexPoints);if("Line"!==e.shapeAnnotationType&&"LineWidthArrowHead"!==e.shapeAnnotationType&&"Distance"!==e.shapeAnnotationType||(i=ye(e,a[0],d[1],!0),n=ye(e,a[a.length-1],d[d.length-2],!1)),i.id=e.id+"_srcDec",n.id=e.id+"_tarDec",r.style.fill="transparent",t.style.strokeColor="transparent",t.style.fill="transparent",t.style.strokeWidth=0,t.children=[],de(e,r),t.children.push(r),0<s.length)for(o=0;o<s.length;o++)t.children.push(s[parseInt(o.toString(),10)]);if(0<l.length)for(o=0;o<l.length;o++)t.children.push(l[parseInt(o.toString(),10)]);if(t.children.push(i),t.children.push(n),"LineWidthArrowHead"===e.shapeAnnotationType)for(o=0;o<t.children.length;o++){var p=t.children[parseInt(o.toString(),10)];(p.id.includes("srcDec")||p.id.includes("tarDec"))&&(p.width=12*e.thickness,p.height=12*e.thickness)}return t.id=e.id,t.offsetX=r.offsetX,t.offsetY=r.offsetY,t.width=r.width,t.height=r.height,me(e),e.wrapper=t},n.prototype.add=function(e){var t=this.pdfViewer.allowServerDataBinding;return this.pdfViewer.enableServerDataBinding(!1),(e.formFieldAnnotationType&&this.pdfViewer.formDesignerModule?(e=new ie(this.pdfViewer,"formFields",e,!0),e=this.initObject(e),this.pdfViewer.formFields):(e=new ee(this.pdfViewer,"annotations",e,!0),e=this.initObject(e),this.pdfViewer.annotations)).push(e),this.pdfViewer.enableServerDataBinding(t,!0),e},n.prototype.remove=function(e){for(var t=this.pdfViewer.allowServerDataBinding,i=(this.pdfViewer.enableServerDataBinding(!1),e.pageIndex),n=0;n<this.pdfViewer.annotations.length;n++){var o=this.pdfViewer.annotations[parseInt(n.toString(),10)];if(o.id&&(o.id===e.id||o.id.split("_")[0]===e.id)||o.wrapper&&o.wrapper.id===e.id){this.pdfViewer.annotations.splice(n,1);for(var r=this.getPageObjects(e.pageIndex),a=0;a<r.length;a++)r[parseInt(a.toString(),10)].id===e.id&&(r.splice(a,1),"Path"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType?this.refreshCanvasDiagramLayer(void 0,i,e.id):this.pdfViewer.renderDrawing(void 0,i))}}for(n=0;n<this.pdfViewer.formFields.length;n++)if((l=this.pdfViewer.formFields[parseInt(n.toString(),10)]).id===e.id||l.wrapper.id===e.id){this.pdfViewer.formFields.splice(n,1),this.pdfViewer.formDesignerModule&&e.formFieldAnnotationType&&this.pdfViewer.formFieldCollection.splice(n,1);for(r=this.getPageObjects(e.pageIndex),a=0;a<r.length;a++){if(r[parseInt(a.toString(),10)].id===e.id){r.splice(a,1);break}r[parseInt(a.toString(),10)]&&r[parseInt(a.toString(),10)].id&&-1!==r[parseInt(a.toString(),10)].id.indexOf(e.id)&&r.splice(a,1)}}if("Textbox"===e.formFieldAnnotationType||"Checkbox"===e.formFieldAnnotationType||"RadioButton"===e.formFieldAnnotationType||"PasswordField"===e.formFieldAnnotationType||"DropdownList"===e.formFieldAnnotationType||"ListBox"===e.formFieldAnnotationType||"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType){var s=document.getElementById("form_field_"+e.id+"_content_html_element");s&&(s.remove(),this.pdfViewer.renderDrawing(void 0,i));for(var l,n=0;n<this.pdfViewer.formFieldCollections.length;n++)(l=this.pdfViewer.formFieldCollections[parseInt(n.toString(),10)]).id===e.id&&this.pdfViewer.formFieldCollections.splice(n,1);for(n=0;n<this.pdfViewer.viewerBase.formFieldCollection.length;n++)e.id==this.pdfViewer.viewerBase.formFieldCollection[parseInt(n.toString(),10)]&&this.pdfViewer.viewerBase.formFieldCollection.splice(n,1);s={name:e.name,id:e.id,value:e.value,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,color:e.color,backgroundColor:e.backgroundColor,alignment:e.alignment,isReadonly:e.isReadonly,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:e.rotateAngle,tooltip:e.tooltip,options:e.options,isChecked:e.isChecked,isSelected:e.isSelected};G.isNullOrUndefined(s)||"diagram_helper"===s.id||(this.pdfViewer.fireFormFieldRemoveEvent("formFieldRemove",s,e.pageIndex),this.pdfViewer.formDesignerModule.removeFieldsFromAnnotationCollections(e.id,s.name))}this.pdfViewer.enableServerDataBinding(t,!0)},n.prototype.getPageObjects=function(e){return this.getPageTable(e).objects},n.prototype.refreshCanvasDiagramLayer=function(e,t,i){var n=this;if(e=e||this.pdfViewer.viewerBase.getAnnotationCanvas("_annotationCanvas_",t)){var o=void 0,o=e.id===this.pdfViewer.element.id+"_print_annotation_layer_"+t?1:this.pdfViewer.viewerBase.getZoomFactor(),r=e.width/o,a=e.height/o,s=e.getContext("2d");s.lineCap="round",s.lineJoin="round",o<1&&(s.lineWidth=s.lineWidth/o);var l=o*this.pdfViewer.viewerBase.getWindowDevicePixelRatio();!G.Browser.isDevice||G.Browser.isDevice&&o<=.7?s.setTransform(l,0,0,l,0,0):s.setTransform(o,0,0,o,0,0),s.clearRect(0,0,r,a);for(var A=this.getPageObjects(t).filter(function(t,e,i){return"free"===t.id.split("_")[0]||(G.isNullOrUndefined(n.pdfViewer.formDesignerModule)?e===i.findIndex(function(e){return e.id===t.id}):e===i.findIndex(function(e){return e.id.split("_")[0]===t.id.split("_")[0]}))}),d=0;d<A.length;d++){var p,h,c=void 0;e.id===this.pdfViewer.element.id+"_print_annotation_layer_"+t?A[parseInt(d.toString(),10)].isPrint&&(c=this.pdfViewer.nameTable[A[parseInt(d.toString(),10)].id].wrapper,G.isNullOrUndefined(c)||J.refreshDiagramElements(e,[c],this.renderer)):(c=this.pdfViewer.nameTable[A[parseInt(d.toString(),10)].id].wrapper,p=A[parseInt(d.toString(),10)].id,p=this.pdfViewer.nameTable[""+p],(c&&this.shouldRefreshElement(p)||G.isNullOrUndefined(this.pdfViewer.formDesignerModule))&&(!G.isNullOrUndefined(p.properties.data)&&p.properties.data.includes("base64")&&((h=new Image).src=p.properties.data,null==window.customStampCollection&&void 0===window.customStampCollection&&(window.customStampCollection=new Map),window.customStampCollection)&&!window.customStampCollection.get(c.id)&&window.customStampCollection.set(c.id,h),J.refreshDiagramElements(e,[c],this.renderer)))}}},n.prototype.shouldRefreshElement=function(e){var t=this.pdfViewer.nameTable[e.id.split("_")[0]];return!G.isNullOrUndefined(t)&&"visible"===e.visibility||!G.isNullOrUndefined(e.subject)&&"SignatureField"!==e.annotName&&G.isNullOrUndefined(e.visibility)||"annotations"===e.propName&&"Path"!==e.shapeAnnotationType&&"SignatureText"!==e.shapeAnnotationType&&"SignatureImage"!==e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType&&"formFields"!==e.propName||"SignatureText"===e.shapeAnnotationType&&"formFields"!==e.propName||G.isNullOrUndefined(t)&&"diagram_helper"===e.id},n.prototype.clearHighlighter=function(e){var e=this.getAdornerLayerSvg(this.pdfViewer.element.id+e+"_diagramAdornerLayer",e);e&&(e=e.getElementById(e.id+"_highlighter"))&&e.parentNode.removeChild(e)},n.prototype.getSelectorElement=function(e,t){var i=null,n=this.getAdornerLayerSvg(e,t);return i=n?n.getElementById(e+t+"_SelectorElement"):i},n.prototype.getAdornerLayerSvg=function(e,t){var i=null,e=J.getDiagramElement(e+t+"_diagramAdornerLayer");return i=e?e.getElementsByClassName("e-adorner-layer"+t)[0]:i},n.prototype.clearSelectorLayer=function(e){var t=this.getAdornerLayerSvg(this.pdfViewer.element.id,e);if(t)for(var t=t.getElementById(this.pdfViewer.adornerSvgLayer.id+"_selected_region"),i=(t&&t.parentNode.removeChild(t),this.clearHighlighter(e),this.getSelectorElement(this.pdfViewer.element.id,e).childNodes),n=void 0,o=i.length;0<o;o--)(n=i[o-1]).parentNode.removeChild(n)},n.prototype.renderSelector=function(e,t,i,n){if(!i||n){var n=new J.Size,o=this.pdfViewer.selectedItems;if(this.clearSelectorLayer(e),o.wrapper){o.wrapper.measure(n);var r=this.pdfViewer.viewerBase.getZoomFactor(),a=(o.wrapper.arrange(o.wrapper.desiredSize),o.width=o.wrapper.actualSize.width,o.height=o.wrapper.actualSize.height,o.offsetX=o.wrapper.offsetX,o.offsetY=o.wrapper.offsetY,1===o.annotations.length&&(o.rotateAngle=o.annotations[0].rotateAngle,o.wrapper.rotateAngle=o.annotations[0].rotateAngle),void 0);if(o.formFields.length)for(var s=0;s<o.formFields.length;s++){var l=o.formFields[parseInt(s.toString(),10)];(a=this.getSelectorElement(this.pdfViewer.element.id,e))&&l.pageIndex===e&&this.pdfViewer.designerMode&&this.renderResizeHandle(l.wrapper.children[0],a,o.thumbsConstraints,r,void 0,void 0,void 0,!1,!0,null,null,t),this.pdfViewer.formDesignerModule&&l.formFieldAnnotationType&&(this.pdfViewer.viewerBase.isFormFieldSelect||this.pdfViewer.viewerBase.isFormFieldMouseDown||this.pdfViewer.viewerBase.isFormFieldMouseMove||(this.pdfViewer.viewerBase.isFormFieldSelect=!0,p={name:l.name,id:l.id,value:l.value,fontFamily:l.fontFamily,fontSize:l.fontSize,fontStyle:l.fontStyle,color:l.color,backgroundColor:l.backgroundColor,alignment:l.alignment,isReadonly:l.isReadonly,visibility:l.visibility,maxLength:l.maxLength,isRequired:l.isRequired,isPrint:l.isPrint,rotation:l.rotateAngle,tooltip:l.tooltip,options:l.options,isChecked:l.isChecked,isSelected:l.isSelected,bounds:l.bounds},this.pdfViewer.formDesignerModule.isFormFieldSizeUpdated||this.pdfViewer.fireFormFieldSelectEvent("formFieldSelect",p,l.pageIndex,this.pdfViewer.formDesignerModule.isProgrammaticSelection),this.pdfViewer.formDesignerModule.isFormFieldSizeUpdated=!1))}if(o.annotations.length)for(var A=0;A<o.annotations.length;A++){var d,p,l=o.annotations[parseInt(A.toString(),10)];(a=this.getSelectorElement(this.pdfViewer.element.id,e))&&l.pageIndex===e&&("Distance"===l.shapeAnnotationType||"Line"===l.shapeAnnotationType||"LineWidthArrowHead"===l.shapeAnnotationType||"Polygon"===l.shapeAnnotationType?this.renderEndPointHandle(l,a,o.thumbsConstraints,{scale:r,tx:0,ty:0},void 0,void 0,!0,t):"StickyNotes"===l.shapeAnnotationType?this.renderResizeHandle(l.wrapper.children[0],a,o.thumbsConstraints,r,void 0,void 0,void 0,!1,!0,null,null,t):"Stamp"!==this.pdfViewer.tool&&(d="Path"===l.shapeAnnotationType||"SignatureField"===l.formFieldAnnotationType||"InitialField"===l.formFieldAnnotationType,this.renderResizeHandle(l.wrapper.children[0],a,o.thumbsConstraints,r,void 0,void 0,void 0,"Stamp"===l.shapeAnnotationType,!1,d,"FreeText"===l.shapeAnnotationType||"HandWrittenSignature"===l.shapeAnnotationType||"SignatureImage"===l.shapeAnnotationType||"Image"===l.shapeAnnotationType||"SignatureText"===l.shapeAnnotationType,t)),this.pdfViewer.viewerBase.isNewSignatureAdded||"HandWrittenSignature"!==l.shapeAnnotationType&&"SignatureText"!==l.shapeAnnotationType&&"SignatureImage"!==l.shapeAnnotationType||this.pdfViewer.annotationModule.selectSignature(l.signatureName,l.pageIndex,l),this.pdfViewer.formDesignerModule&&l.formFieldAnnotationType&&(this.pdfViewer.viewerBase.isFormFieldSelect||this.pdfViewer.viewerBase.isFormFieldMouseDown||this.pdfViewer.viewerBase.isFormFieldMouseMove||(this.pdfViewer.viewerBase.isFormFieldSelect=!0,p={value:l.value,fontFamily:l.fontFamily,fontSize:l.fontSize,fontStyle:l.fontStyle,color:l.color,backgroundColor:l.backgroundColor,alignment:l.alignment,isReadonly:l.isReadonly,visibility:l.visibility,maxLength:l.maxLength,isRequired:l.isRequired,isPrint:l.isPrint,rotation:l.rotateAngle,tooltip:l.tooltip,options:l.options,isChecked:l.isChecked,isSelected:l.isSelected,bounds:l.bounds},this.pdfViewer.formDesignerModule.isFormFieldSizeUpdated||this.pdfViewer.fireFormFieldSelectEvent("formFieldSelect",p,l.pageIndex,this.pdfViewer.formDesignerModule.isProgrammaticSelection),this.pdfViewer.formDesignerModule.isFormFieldSizeUpdated=!1)),""===l.annotName&&"ink"!==l.signatureName||"SignatureText"===l.annotName||!i||l!==i||l.formFieldAnnotationType||this.pdfViewer.viewerBase.isAddComment||this.pdfViewer.viewerBase.isAnnotationSelect||this.pdfViewer.viewerBase.isAnnotationMouseDown||this.pdfViewer.viewerBase.isAnnotationMouseMove||this.pdfViewer.viewerBase.isInkAdded||this.pdfViewer.viewerBase.isNewStamp||(this.pdfViewer.viewerBase.isAnnotationSelect=!0,this.pdfViewer.annotationModule.annotationSelect(l.annotName,l.pageIndex,l)))}}}},n.prototype.rotate=function(e,t,i,n){var o;e&&(i=i||{x:e.wrapper.offsetX,y:e.wrapper.offsetY},e instanceof se?(e.rotateAngle+=t,e.wrapper.rotateAngle+=t,o=(o=[]).concat(e.annotations),this.rotateObjects(e,o,t,i,null,n)):this.rotateObjects(e,[e],t,i))},n.prototype.rotateObjects=function(e,t,i,n,o,r){n=n||{};var a=J.identityMatrix();J.rotateMatrix(a,i,n.x,n.y);for(var s=0,l=t;s<l.length;s++){var A,d=l[s];d instanceof ee&&(!1===o&&e===d||(d.rotateAngle+=i,d.rotateAngle=(d.rotateAngle+360)%360,A=J.transformPointByMatrix(a,{x:d.wrapper.offsetX,y:d.wrapper.offsetY}),d.wrapper.offsetX=A.x,d.wrapper.offsetY=A.y,this.nodePropertyChange(d,{rotateAngle:d.rotateAngle})),this.renderSelector(d.pageIndex,r))}},n.prototype.getParentSvg=function(e,t,i){return e&&e.id&&t&&"selector"===t?this.pdfViewer.adornerSvgLayer:i},n.prototype.shownBorder=function(){var e,t,i=!1;return this.pdfViewer.annotationModule&&(t=this.pdfViewer.selectedItems.annotations[0],e=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(t),t=this.pdfViewer.annotationModule.checkIsLockSettings(t),i=!G.isNullOrUndefined(e)&&(e.includes("Select")||!t)),i},n.prototype.renderBorder=function(e,t,i,n,o,r,a,s){var l,A,d,p,h=he(e,n);n=n||{scale:1,tx:0,ty:0},s?(h.x*=n.scale,h.y*=n.scale,h.width*=n.scale,h.height*=n.scale,l=0<this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType:this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType,i&&"object"!=typeof i&&""!==i?(d=""===(A=JSON.parse(i)).selectionBorderColor?"black":A.selectionBorderColor,h.stroke=d,h.strokeWidth=1===i.selectionBorderThickness?1:A.selectionBorderThickness,2<(p=0===A.selectorLineDashArray.length?[6,3]:A.selectorLineDashArray).length&&(p=[p[0],p[1]]),h.dashArray=p.toString()):i&&""!==i?(d=""===i.selectionBorderColor?"black":i.selectionBorderColor,h.stroke=d,h.strokeWidth=1===i.selectionBorderThickness?1:i.selectionBorderThickness,p=G.isNullOrUndefined(i.selectorLineDashArray)||0!==i.selectorLineDashArray.length?i.selectorLineDashArray:[6,3],!G.isNullOrUndefined(p)&&2<p.length&&(p=[p[0],p[1]]),G.isNullOrUndefined(p)||(h.dashArray=p.toString())):this.getBorderSelector(l,h)):(h.x*=n.scale,h.y*=n.scale,h.width*=n.scale,h.height*=n.scale,h.fill="transparent",l=this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType,i&&"object"!=typeof i&&""!==i?(d=""===(A=JSON.parse(i)).selectionBorderColor?"black":A.selectionBorderColor,h.stroke=d,h.strokeWidth=1===i.selectionBorderThickness?1:A.selectionBorderThickness,2<(p=0===A.selectorLineDashArray.length?[6,3]:A.selectorLineDashArray).length&&(p=[p[0],p[1]]),h.dashArray=p.toString()):i&&""!==i?(d=""===i.selectionBorderColor?"black":i.selectionBorderColor,h.stroke=d,h.strokeWidth=1===i.selectionBorderThickness?1:i.selectionBorderThickness,p=G.isNullOrUndefined(i.selectorLineDashArray)||0!==i.selectorLineDashArray.length?i.selectorLineDashArray:[6,3],!G.isNullOrUndefined(p)&&2<p.length&&(p=[p[0],p[1]]),G.isNullOrUndefined(p)||(h.dashArray=p.toString())):this.pdfViewer.designerMode||("HandWrittenSignature"===l||"SignatureText"===l||"SignatureImage"===l||"Ink"===l?(this.pdfViewer.nameTable[e.id.split("_")[0]],s=this.pdfViewer.viewerBase.checkSignatureFormField(e.id),this.getSignBorder(l,h,s)):this.getBorderSelector(l,h)),h.class="e-pv-diagram-border",a&&(h.class+=" e-diagram-lane"),h.id="borderRect",h.id="borderRect",o||(h.class+=" e-disabled"),r&&(h.class+=" e-thick-border"),h.cornerRadius=0),this.shownBorder()&&(n=this.getParentSvg(e,"selector"),this.svgRenderer.drawRectangle(t,h,this.pdfViewer.element.id,void 0,!0,n))},n.prototype.getSignBorder=function(e,t,i){var n,o,r;i||"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||!this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings?(n=G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderColor?"#0000ff":this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderColor,t.stroke=n,o=G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderThickness,t.strokeWidth=o,2<(r=G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectorLineDashArray).length&&(r=[r[0],r[1]])):(n=""===(i=this.pdfViewer.annotationSelectorSettings).selectionBorderColor?"black":i.selectionBorderColor,t.stroke=n,t.strokeWidth=1===i.selectionBorderThickness?1:i.selectionBorderThickness,2<(r=0===i.selectorLineDashArray.length?[6,3]:i.selectorLineDashArray).length&&(r=[r[0],r[1]])):(n=G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderColor?"#0000ff":this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderColor,t.stroke=n,o=G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderThickness,t.strokeWidth=o,2<(r=G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectorLineDashArray).length&&(r=[r[0],r[1]])),t.dashArray=r.toString()},n.prototype.getBorderSelector=function(e,t){var i,n=this.pdfViewer.annotationSelectorSettings,o=G.isNullOrUndefined(n.selectionBorderColor)||""===n.selectionBorderColor?"black":n.selectionBorderColor,o=(t.stroke=o,t.strokeWidth=G.isNullOrUndefined(n.selectionBorderThickness)||1===n.selectionBorderThickness?1:n.selectionBorderThickness,G.isNullOrUndefined(n.selectorLineDashArray)||0===n.selectorLineDashArray.length?[6,3]:n.selectorLineDashArray);2<o.length&&(o=[o[0],o[1]]),t.dashArray=o.toString(),"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?(n=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.annotationSelectorSettings.selectionBorderColor||this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderColor,t.stroke=n,i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness||this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderThickness,t.strokeWidth=i,2<(o=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray||this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectorLineDashArray).length&&(o=[o[0],o[1]]),t.dashArray=o.toString()):"Textbox"!==e&&"Checkbox"!==e&&"RadioButton"!==e&&"SignatureField"!==e&&"InitialField"!==e&&"DropdownList"!==e&&"ListBox"!==e&&"PasswordField"!==e||!this.pdfViewer.rectangleSettings.annotationSelectorSettings?"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?(n=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.annotationSelectorSettings.selectionBorderColor||(G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderColor)?"black":this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderColor),t.stroke=n,i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness||(G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderThickness),t.strokeWidth=i,2<(o=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray||(G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings.selectorLineDashArray)?[4]:this.pdfViewer.circleSettings.annotationSelectorSettings.selectorLineDashArray)).length&&(o=[o[0],o[1]]),t.dashArray=o.toString()):"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?(n=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.annotationSelectorSettings.selectionBorderColor||(G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderColor)?"black":this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderColor),t.stroke=n,i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness||(G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderThickness),t.strokeWidth=i,2<(o=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray||(G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings.selectorLineDashArray)?[4]:this.pdfViewer.radiusSettings.annotationSelectorSettings.selectorLineDashArray)).length&&(o=[o[0],o[1]]),t.dashArray=o.toString()):"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?(n=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.annotationSelectorSettings.selectionBorderColor||(G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderColor)?"black":this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderColor),t.stroke=n,i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness||(G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderThickness),t.strokeWidth=i,2<(o=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray||(G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectorLineDashArray)?[4]:this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectorLineDashArray)).length&&(o=[o[0],o[1]]),t.dashArray=o.toString()):"StickyNotes"===e&&this.pdfViewer.stickyNotesSettings.annotationSelectorSettings?(n=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.annotationSelectorSettings.selectionBorderColor||(G.isNullOrUndefined(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderColor)?"black":this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderColor),t.stroke=n,i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness||(G.isNullOrUndefined(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderThickness),t.strokeWidth=i,2<(o=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[6,3]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray||(G.isNullOrUndefined(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectorLineDashArray)?[4]:this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectorLineDashArray)).length&&(o=[o[0],o[1]]),t.dashArray=o.toString()):"Stamp"!==e&&"Image"!==e||!this.pdfViewer.stampSettings.annotationSelectorSettings||(n=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"#0000ff":this.pdfViewer.annotationSelectorSettings.selectionBorderColor||(G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderColor)?"#0000ff":this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderColor),t.stroke=n,i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness||(G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderThickness),t.strokeWidth=i,2<(o=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray||(G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings.selectorLineDashArray)?[4]:this.pdfViewer.stampSettings.annotationSelectorSettings.selectorLineDashArray)).length&&(o=[o[0],o[1]]),t.dashArray=o.toString()):(e=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.annotationSelectorSettings.selectionBorderColor||(G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderColor)?"black":this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderColor),t.stroke=e,i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness||(G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderThickness),t.strokeWidth=i,2<(n=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray||(G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectorLineDashArray)?[4]:this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectorLineDashArray)).length&&(n=[n[0],n[1]]),t.dashArray=n.toString())},n.prototype.renderCircularHandle=function(e,t,i,n,o,r,a,s,l,A,d,p,h,c){var g=t,i={x:i,y:n},n=(s=s||{scale:1,tx:0,ty:0},0===g.rotateAngle&&0===g.parentTransform||(n=J.identityMatrix(),J.rotateMatrix(n,g.rotateAngle+g.parentTransform,g.offsetX,g.offsetY),i=J.transformPointByMatrix(n,i)),he(g)),g=0<this.pdfViewer.selectedItems.annotations.length&&this.pdfViewer.selectedItems.annotations[0].measureType?this.pdfViewer.selectedItems.annotations[0].measureType:0<this.pdfViewer.selectedItems.formFields.length?this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType:this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType,p=(this.getResizerColors(g,n,c,s),this.getShapeSize(g,n,c,s),n.strokeWidth=1,void 0!==p&&(n.id="segmentEnd_"+p),n.centerX=(i.x+s.tx)*s.scale,n.centerY=(i.y+s.ty)*s.scale,n.angle=0,n.id=e,n.visible=r,n.class=h,n.opacity=1,l&&(n.class+=" e-connected"),A&&(n.visible=!1),n.x=i.x*s.scale-n.width/2,n.y=i.y*s.scale-n.height/2,this.getParentSvg(t,"selector"));"Square"===this.getShape(g,c)?this.svgRenderer.drawRectangle(o,n,e,void 0,!0,p):"Circle"===this.getShape(g,c)&&this.svgRenderer.drawCircle(o,n,1)},n.prototype.getShapeSize=function(e,t,i,n){var o;i&&"object"!=typeof i&&""!==i?(o=JSON.parse(i),t.radius=(G.isNullOrUndefined(o.resizerSize)||8===o.resizerSize?8:o.resizerSize)/2,t.width=(G.isNullOrUndefined(o.resizerSize)||8===o.resizerSize?8:o.resizerSize)*n.scale,t.height=(G.isNullOrUndefined(o.resizerSize)||8===o.resizerSize?8:o.resizerSize)*n.scale):i&&""!==i?(t.radius=(G.isNullOrUndefined(i.resizerSize)||8===i.resizerSize?8:i.resizerSize)/2,t.width=(G.isNullOrUndefined(i.resizerSize)||8===i.resizerSize?8:i.resizerSize)*n.scale,t.height=(G.isNullOrUndefined(i.resizerSize)||8===i.resizerSize?8:i.resizerSize)*n.scale):(o=this.pdfViewer.annotationSelectorSettings,t.radius=(G.isNullOrUndefined(o.resizerSize)||8===o.resizerSize?8:o.resizerSize)/2,t.width=(G.isNullOrUndefined(o.resizerSize)||8===o.resizerSize?8:o.resizerSize)*n.scale,t.height=(G.isNullOrUndefined(o.resizerSize)||8===o.resizerSize?8:o.resizerSize)*n.scale,"Line"===e&&this.pdfViewer.lineSettings.annotationSelectorSettings?(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize*n.scale):"LineWidthArrowHead"===e&&this.pdfViewer.arrowSettings.annotationSelectorSettings?(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize*n.scale):"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize*n.scale):"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize*n.scale):"Distance"===e&&this.pdfViewer.distanceSettings.annotationSelectorSettings?(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize*n.scale):"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings?(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize*n.scale):"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize*n.scale):"Stamp"!==e&&"Image"!==e||!this.pdfViewer.stampSettings.annotationSelectorSettings?"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize*n.scale):"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||!this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?"Perimeter"===e&&this.pdfViewer.perimeterSettings.annotationSelectorSettings?(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize*n.scale):"Area"===e&&this.pdfViewer.areaSettings.annotationSelectorSettings?(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize*n.scale):"Volume"===e&&this.pdfViewer.volumeSettings.annotationSelectorSettings?(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize*n.scale):"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings&&(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize*n.scale):(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize*n.scale):(t.radius=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize/2,t.width=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize*n.scale,t.height=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize*n.scale))},n.prototype.getShape=function(e,t){var i,n;return t&&"object"!=typeof t&&""!==t?(n=JSON.parse(t),i=G.isNullOrUndefined(n.resizerShape)||"Square"===n.resizerShape?"Square":n.resizerShape):t&&""!==t?i=G.isNullOrUndefined(t.resizerShape)||"Square"===t.resizerShape?"Square":t.resizerShape:(n=this.pdfViewer.annotationSelectorSettings,i=G.isNullOrUndefined(n.resizerShape)||"Square"===n.resizerShape?"Square":n.resizerShape,"Line"===e&&this.pdfViewer.lineSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.lineSettings.annotationSelectorSettings.resizerShape:"LineWidthArrowHead"===e&&this.pdfViewer.arrowSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerShape:"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerShape:"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.circleSettings.annotationSelectorSettings.resizerShape:"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerShape:"Distance"===e&&this.pdfViewer.distanceSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerShape:"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerShape:"Stamp"!==e&&"Image"!==e||!this.pdfViewer.stampSettings.annotationSelectorSettings?"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerShape:("HandWrittenSignature"===e||"SignatureText"===e||"SignatureImage"===e)&&this.pdfViewer.handWrittenSignatureSettings&&this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerShape:"Perimeter"===e&&this.pdfViewer.perimeterSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerShape:"Area"===e&&this.pdfViewer.areaSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.areaSettings.annotationSelectorSettings.resizerShape:"Volume"===e&&this.pdfViewer.volumeSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerShape:"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings&&(i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerShape):i=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.stampSettings.annotationSelectorSettings.resizerShape),i},n.prototype.getResizerColors=function(e,t,i,n){var o;i&&"object"!=typeof i&&""!==i?(o=JSON.parse(i),t.stroke=G.isNullOrUndefined(o.resizerBorderColor)||"black"===o.resizerBorderColor?"black":o.resizerBorderColor,t.fill=G.isNullOrUndefined(o.resizerFillColor)||"#FF4081"===o.resizerFillColor?"#FF4081":o.resizerFillColor):i&&""!==i?(t.stroke=G.isNullOrUndefined(i.resizerBorderColor)?"black":i.resizerBorderColor,t.fill=G.isNullOrUndefined(i.resizerFillColor)?"#FF4081":i.resizerFillColor):(o=this.pdfViewer.annotationSelectorSettings,t.stroke=G.isNullOrUndefined(o.resizerBorderColor)||"black"===o.resizerBorderColor?"black":o.resizerBorderColor,t.fill=G.isNullOrUndefined(o.resizerFillColor)||"#FF4081"===o.resizerFillColor?"#FF4081":o.resizerFillColor,"Line"===e&&this.pdfViewer.lineSettings.annotationSelectorSettings?(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.lineSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.lineSettings.annotationSelectorSettings.resizerFillColor):"LineWidthArrowHead"===e&&this.pdfViewer.arrowSettings.annotationSelectorSettings?(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerFillColor):"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerFillColor):"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.circleSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.circleSettings.annotationSelectorSettings.resizerFillColor):"Distance"===e&&this.pdfViewer.distanceSettings.annotationSelectorSettings?(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerFillColor):"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings?(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerFillColor):"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerFillColor):"Stamp"!==e&&"Image"!==e||!this.pdfViewer.stampSettings.annotationSelectorSettings?"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerFillColor):"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||!this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?"Perimeter"===e&&this.pdfViewer.perimeterSettings.annotationSelectorSettings?(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerFillColor):"Area"===e&&this.pdfViewer.areaSettings.annotationSelectorSettings?(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.areaSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.areaSettings.annotationSelectorSettings.resizerFillColor):"Volume"===e&&this.pdfViewer.volumeSettings.annotationSelectorSettings?(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerFillColor):"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings&&(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerFillColor):(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerFillColor):(t.stroke=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.stampSettings.annotationSelectorSettings.resizerBorderColor,t.fill=G.isNullOrUndefined(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.stampSettings.annotationSelectorSettings.resizerFillColor))},n.prototype.renderRotateThumb=function(e,t,i,n,o){var r=e.offsetY-e.actualSize.height*e.pivot.y,r={x:(e.offsetX-e.actualSize.width*e.pivot.x+e.pivot.x*e.actualSize.width+i.tx)*i.scale,y:(r+i.ty)*i.scale-25},i=(0===e.rotateAngle&&0===e.parentTransform||(a=J.identityMatrix(),J.rotateMatrix(a,e.rotateAngle+e.parentTransform,(i.tx+e.offsetX)*i.scale,(i.ty+e.offsetY)*i.scale),r=J.transformPointByMatrix(a,r)),he(e));i.stroke="black",i.strokeWidth=1,i.opacity=1,i.fill="#FF4081",i.centerX=r.x,i.centerY=r.y,i.radius=4,i.angle=0,i.visible=!0,i.class="e-diagram-rotate-handle",i.id="rotateThumb";this.shownBorder()&&this.svgRenderer.drawCircle(t,i,J.ThumbsConstraints.Rotate,{"aria-label":"Thumb to rotate the selected object"});var a=t.querySelector("#"+i.id);a&&a.setAttribute("role","separator")},n.prototype.renderResizeHandle=function(e,t,i,n,o,r,a,s,l,A,d,p){var h=e.offsetX-e.actualSize.width*e.pivot.x,c=e.offsetY-e.actualSize.height*e.pivot.y,g=e.actualSize.height,u=e.actualSize.width,f={scale:n,tx:0,ty:0},d=(s&&(this.renderPivotLine(e,t,f),this.renderRotateThumb(e,t,f)),d&&(s=!0),this.renderBorder(e,t,p,f,r,a,!0,l),e.actualSize.width*n),r=e.actualSize.height*n,n=0<this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType:this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType,m=!1,w=(this.pdfViewer.formDesignerModule||(w=this.pdfViewer.selectedItems.annotations[0],B=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(w),(this.pdfViewer.annotationModule.checkIsLockSettings(w)||w.annotationSettings.isLock)&&this.getAllowedInteractions(B)&&(m=!0),"Select"===B[0]&&(m=!1)),this.getResizerLocation(n,p)),B=((w<1||3<w)&&(w=3),!1);!this.pdfViewer.selectedItems.annotations[0]||"Ellipse"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Radius"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Rectangle"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Ink"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||(B=!0),this.pdfViewer.viewerBase.checkSignatureFormField(e.id)||a||l||A||m||((s||B&&40<=d&&40<=r&&(1===w||3===w))&&(this.renderCircularHandle("resizeNorthWest",e,h,c,t,!0,i&J.ThumbsConstraints.ResizeNorthWest,f,void 0,o,{"aria-label":"Thumb to resize the selected object on top left side direction"},void 0,"e-pv-diagram-resize-handle e-northwest",p),this.renderCircularHandle("resizeNorthEast",e,h+u,c,t,!0,i&J.ThumbsConstraints.ResizeNorthEast,f,void 0,o,{"aria-label":"Thumb to resize the selected object on top right side direction"},void 0,"e-pv-diagram-resize-handle e-northeast",p),this.renderCircularHandle("resizeSouthWest",e,h,c+g,t,!0,i&J.ThumbsConstraints.ResizeSouthWest,f,void 0,o,{"aria-label":"Thumb to resize the selected object on bottom left side direction"},void 0,"e-pv-diagram-resize-handle e-southwest",p),this.renderCircularHandle("resizeSouthEast",e,h+u,c+g,t,!0,i&J.ThumbsConstraints.ResizeSouthEast,f,void 0,o,{"aria-label":"Thumb to resize the selected object on bottom right side direction"},void 0,"e-pv-diagram-resize-handle e-southeast",p)),(s||B)&&(!B||2!==w&&3!==w&&(40<=d&&40<=r||1!==w)))||(this.renderCircularHandle("resizeNorth",e,h+u/2,c,t,!0,i&J.ThumbsConstraints.ResizeNorth,f,void 0,o,{"aria-label":"Thumb to resize the selected object on top side direction"},void 0,"e-pv-diagram-resize-handle e-north",p),this.renderCircularHandle("resizeSouth",e,h+u/2,c+g,t,!0,i&J.ThumbsConstraints.ResizeSouth,f,void 0,o,{"aria-label":"Thumb to resize the selected object on bottom side direction"},void 0,"e-pv-diagram-resize-handle e-south",p),this.renderCircularHandle("resizeWest",e,h,c+g/2,t,!0,i&J.ThumbsConstraints.ResizeWest,f,void 0,o,{"aria-label":"Thumb to resize the selected object on left side direction"},void 0,"e-pv-diagram-resize-handle e-west",p),this.renderCircularHandle("resizeEast",e,h+u,c+g/2,t,!0,i&J.ThumbsConstraints.ResizeEast,f,void 0,o,{"aria-label":"Thumb to resize the selected object on right side direction"},void 0,"e-pv-diagram-resize-handle e-east",p)),"Textbox"!==n&&"Checkbox"!==n&&"RadioButton"!==n&&"SignatureField"!==n&&"InitialField"!==n&&"DropdownList"!==n&&"ListBox"!==n&&"PasswordField"!==n||(this.renderCircularHandle("resizeNorth",e,h+u/2,c,t,!0,i&J.ThumbsConstraints.ResizeNorth,f,void 0,o,{"aria-label":"Thumb to resize the selected object on top side direction"},void 0,"e-pv-diagram-resize-handle e-north",p),this.renderCircularHandle("resizeSouth",e,h+u/2,c+g,t,!0,i&J.ThumbsConstraints.ResizeSouth,f,void 0,o,{"aria-label":"Thumb to resize the selected object on bottom side direction"},void 0,"e-pv-diagram-resize-handle e-south",p),this.renderCircularHandle("resizeWest",e,h,c+g/2,t,!0,i&J.ThumbsConstraints.ResizeWest,f,void 0,o,{"aria-label":"Thumb to resize the selected object on left side direction"},void 0,"e-pv-diagram-resize-handle e-west",p),this.renderCircularHandle("resizeEast",e,h+u,c+g/2,t,!0,i&J.ThumbsConstraints.ResizeEast,f,void 0,o,{"aria-label":"Thumb to resize the selected object on right side direction"},void 0,"e-pv-diagram-resize-handle e-east",p))},n.prototype.getAllowedInteractions=function(e){if(e&&0<e.length)for(var t=0;t<e.length;t++)if("None"!==e[0]&&"Resize"===e[parseInt(t.toString(),10)])return!1;return!0},n.prototype.getResizerLocation=function(e,t){var i,n;return t&&"object"!=typeof t&&""!==t?(n=JSON.parse(t),i=G.isNullOrUndefined(n.resizerLocation)||3===n.resizerLocation?3:n.resizerLocation):t&&""!==t?i=G.isNullOrUndefined(t.resizerLocation)||3===t.resizerLocation?3:t.resizerLocation:(n=this.pdfViewer.annotationSelectorSettings,i=G.isNullOrUndefined(n.resizerLocation)||3===n.resizerLocation?3:n.resizerLocation,"Line"===e&&this.pdfViewer.lineSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.lineSettings.annotationSelectorSettings.resizerLocation||G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerLocation:"LineWidthArrowHead"===e&&this.pdfViewer.arrowSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerLocation||G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerLocation:"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerLocation||G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerLocation:"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.circleSettings.annotationSelectorSettings.resizerLocation||G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerLocation:"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerLocation||G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerLocation:"Distance"===e?i=G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerLocation||G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerLocation:"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerLocation||G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerLocation:"Stamp"===e&&this.pdfViewer.stampSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.stampSettings.annotationSelectorSettings.resizerLocation||G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerLocation:"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?i=G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerLocation||G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerLocation:"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||!this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings&&(i=G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerLocation||G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerLocation):i=G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerLocation||G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerLocation),i},n.prototype.renderPivotLine=function(e,t,i,n,o){var r=!0,o=(o&&(r=!1),he(e,i)),r=(o.fill="None",o.stroke="black",o.strokeWidth=1,o.dashArray="2,3",o.visible=r,i.scale),i=(o.x*=r,o.y*=r,o.width*=r,o.height*=r,o.id="pivotLine",o.class="e-diagram-pivot-line",{x:e.actualSize.width*e.pivot.x*r,y:-20}),e={x:e.actualSize.width*e.pivot.x*r,y:0};o.startPoint=i,o.endPoint=e,this.shownBorder()&&this.svgRenderer.drawLine(t,o)},n.prototype.renderEndPointHandle=function(e,t,i,n,o,r,a,s){n=n||{tx:0,ty:0,scale:1};var l,A=e.sourcePoint,d=e.targetPoint,p=e.wrapper,h=this.shownBorder();if(h)for(l=0;l<e.vertexPoints.length;l++){var c=e.vertexPoints[parseInt(l.toString(),10)];this.renderCircularHandle("segementThumb_"+(l+1),p,c.x,c.y,t,!0,i&J.ThumbsConstraints.ConnectorSource,n,o,null,null,l,"e-pv-diagram-resize-handle",s)}var g=0;if("Distance"===e.shapeAnnotationType)for(l=0;l<e.wrapper.children.length;l++){var u,f,c=e.wrapper.children[parseInt(l.toString(),10)],m=void 0,w=J.Point.findAngle(e.sourcePoint,e.targetPoint);-1<c.id.indexOf("leader")&&(u=e.wrapper.children[0].bounds.center,u=0===g?(m={x:e.sourcePoint.x,y:e.sourcePoint.y-e.leaderHeight},A):(m={x:e.targetPoint.x,y:e.targetPoint.y-e.leaderHeight},d),f=J.identityMatrix(),J.rotateMatrix(f,w,u.x,u.y),h&&(w=J.transformPointByMatrix(f,{x:m.x,y:m.y}),this.renderCircularHandle("leaderThumb_"+(l+1),p,w.x,w.y,t,!0,i&J.ThumbsConstraints.ConnectorSource,n,o,null,null,l,"e-pv-diagram-resize-handle",s)),g++)}},n.prototype.initSelectorWrapper=function(){this.pdfViewer.selectedItems.init(this)},n.prototype.select=function(o,r,e,a){for(var s=this.pdfViewer.selectedItems,l=this,t=0;t<o.length;t++)!function(e){var t,i,n=l.pdfViewer.nameTable[o[parseInt(e.toString(),10)]];n.formFieldAnnotationType&&l.pdfViewer.designerMode?(s.formFields.push(n),l.initSelectorWrapper(),s.wrapper.children.push(n.wrapper),l.renderSelector(n.pageIndex,r,n,!0)):!n||n.formFieldAnnotationType||n instanceof se||!n.wrapper.visible||!l.pdfViewer.annotationModule||(e=void 0,n.annotationSettings?(e=n.annotationSettings,G.isNullOrUndefined(e)||G.isNullOrUndefined(e.isLock)||(e.isLock=JSON.parse(e.isLock))):n.formFieldAnnotationType||(e=l.pdfViewer.annotationModule.findAnnotationSettings(n,!0),n.annotationSettings=e),t=!n.formFieldAnnotationType&&!!e&&e.isLock,e&&e.isLock&&l.pdfViewer.annotationModule.checkAllowedInteractions("Select",n)&&(t=!1),e="Path"===n.shapeAnnotationType||"SignatureText"===n.shapeAnnotationType||"SignatureImage"===n.shapeAnnotationType,i=!1,l.pdfViewer.formFieldCollection.filter(function(e){return e.id===n.id.split("_")[0]}).forEach(function(e){return i=e.isReadonly}),t)||i&&e||(s.annotations.push(n),l.shownBorder()&&(l.initSelectorWrapper(),s.wrapper.rotateAngle=s.rotateAngle=0,s.wrapper.children.push(n.wrapper),a||l.renderSelector(n.pageIndex,r,n,!0)))}(t)},n.prototype.dragSelectedObjects=function(e,t,i,n,o){var r=this.pdfViewer.selectedItems;return this.drag(r,e,t,n,o),!0},n.prototype.drag=function(e,t,i,n,o){if(e instanceof se){if(e.annotations.length)for(var r=0,a=e.annotations;r<a.length;r++){var s=a[r];this.drag(s,t,i,n,o),this.renderSelector(s.pageIndex,n,o)}else if(e.formFields.length)for(var l=0,A=e.formFields;l<A.length;l++){s=A[l];this.drag(s,t,i,n,o),this.renderSelector(s.pageIndex,n,o)}}else this.dragAnnotation(e,t,i)},n.prototype.dragAnnotation=function(e,t,i){var n=this.moveInsideViewer(e,t,i);if(e.wrapper.offsetX+=n.tx,e.wrapper.offsetY+=n.ty,Ae(e)||"Polygon"===e.shapeAnnotationType){if(e.wrapper.children.length)for(var o=e.wrapper.children,r=0;r<o.length;r++)o[parseInt(r.toString(),10)].offsetX+=t,o[parseInt(r.toString(),10)].offsetY+=i;this.dragControlPoint(e,t,i,!0)}this.nodePropertyChange(e,{bounds:{x:e.wrapper.offsetX,y:e.wrapper.offsetY}}),e.wrapper.measureChildren=!1;n=this.pdfViewer.viewerBase.getAnnotationCanvas("_annotationCanvas_",e.pageIndex);this.pdfViewer.renderDrawing(n,e.pageIndex)},n.prototype.dragControlPoint=function(e,t,i,n,o){for(var r=this.pdfViewer.nameTable[e.id],a=0;a<r.vertexPoints.length;a++)r.vertexPoints[parseInt(a.toString(),10)].x+=t,r.vertexPoints[parseInt(a.toString(),10)].y+=i;return n||this.updateEndPoint(r),!0},n.prototype.updateEndPoint=function(e){this.nodePropertyChange(e,{vertexPoints:e.vertexPoints}),this.renderSelector(e.pageIndex)},n.prototype.nodePropertyChange=function(e,t){var i,n,o,r;if(t.bounds&&(void 0!==t.bounds.width&&(e.bounds.width=e.wrapper.width=t.bounds.width),void 0!==t.bounds.height&&(e.bounds.height=e.wrapper.height=t.bounds.height),void 0!==t.bounds.x&&(e.bounds.x=t.bounds.x-.5*e.bounds.width,e.wrapper.offsetX=t.bounds.x),void 0!==t.bounds.y&&(e.bounds.y=t.bounds.y-.5*e.bounds.height,e.wrapper.offsetY=t.bounds.y),void 0!==t.leaderHeight&&(e.leaderHeight=t.leaderHeight,this.updateConnector(e,e.vertexPoints)),e.wrapper.children.length))for(var a,s,l,A=e.wrapper.children,d=0;d<A.length;d++)A[parseInt(d.toString(),10)].id&&((a=A[parseInt(d.toString(),10)].id.split("_")).length&&(-1<a.indexOf("perimeter")||-1<a.indexOf("radius"))?this.setNodePosition(A[parseInt(d.toString(),10)],e):a.length&&-1<a.indexOf("srcDec")?(A[parseInt(d.toString(),10)].offsetX=e.vertexPoints[0].x,A[parseInt(d.toString(),10)].offsetY=e.vertexPoints[0].y):a.length&&-1<a.indexOf("tarDec")?(A[parseInt(d.toString(),10)].offsetX=e.vertexPoints[e.vertexPoints.length-1].x,A[parseInt(d.toString(),10)].offsetY=e.vertexPoints[e.vertexPoints.length-1].y):a.length&&-1<a.indexOf("stamp")&&(void(a=0)!==e.wrapper.width&&void 0!==e.wrapper.height&&(a=20),e.isDynamicStamp?(A[parseInt(d.toString(),10)].width=e.bounds.width-a,A[parseInt(d.toString(),10)].height=e.bounds.height/2-a,s=A[1],(l=this.pdfViewer.stampSettings||this.pdfViewer.annotationSettings)&&(l.maxHeight||l.maxWidth)&&60<e.bounds.height?s.style.fontSize=0!==a?e.bounds.width/a:e.wrapper.bounds.width/20:s.style.fontSize=0!==a?this.fontSizeCalculation(e,s,e.bounds.width-20):this.fontSizeCalculation(e,s,e.wrapper.bounds.width-20),0!==a&&(s.margin.bottom=-A[parseInt(d.toString(),10)].height/2)):(A[parseInt(d.toString(),10)].width=e.bounds.width-a,A[parseInt(d.toString(),10)].height=e.bounds.height-a),A[parseInt(d.toString(),10)].offsetX=e.wrapper.offsetX,A[parseInt(d.toString(),10)].offsetY=e.wrapper.offsetX,A[parseInt(d.toString(),10)].isDirt=!0));if(void 0!==t.sourceDecoraterShapes&&(e.sourceDecoraterShapes=t.sourceDecoraterShapes,this.updateConnector(e,e.vertexPoints)),void 0!==t.isReadonly&&"FreeText"===e.shapeAnnotationType&&(e.isReadonly=t.isReadonly),void 0!==t.annotationSelectorSettings&&(e.annotationSelectorSettings=t.annotationSelectorSettings),void 0!==t.taregetDecoraterShapes&&(e.taregetDecoraterShapes=t.taregetDecoraterShapes,this.updateConnector(e,e.vertexPoints)),void 0!==t.fillColor&&(e.fillColor=t.fillColor,e.wrapper.children[0].style.fill=t.fillColor,e.enableShapeLabel||e.measureType)&&e.wrapper&&e.wrapper.children)for(var A=e.wrapper.children,p=0;p<A.length;p++)A[parseInt(p.toString(),10)].textNodes&&(e.enableShapeLabel&&(e.labelFillColor=t.fillColor,A[parseInt(p.toString(),10)].style.fill=t.fillColor),e.measureType)&&(A[parseInt(p.toString(),10)].style.fill=t.fillColor);if(e.enableShapeLabel&&void 0!==t.labelFillColor&&e.enableShapeLabel&&e.wrapper&&e.wrapper.children)for(var A=e.wrapper.children,h=0;h<A.length;h++)A[parseInt(h.toString(),10)].textNodes&&(e.labelFillColor=t.labelFillColor,A[parseInt(h.toString(),10)].style.fill=t.labelFillColor);if(void 0!==t.opacity&&("Stamp"===e.shapeAnnotationType||"FreeText"===e.shapeAnnotationType?(e.wrapper.children[1].style.opacity=t.opacity,e.wrapper.children[2]&&(e.wrapper.children[2].style.opacity=t.opacity)):"StickyNotes"===e.shapeAnnotationType&&(this.pdfViewer.nameTable[e.annotName].wrapper.children[0].style.opacity=t.opacity),e.opacity=t.opacity,e.wrapper.children[0].style.opacity=t.opacity,e.enableShapeLabel)&&e.wrapper&&e.wrapper.children)for(var A=e.wrapper.children,c=0;c<A.length;c++)A[parseInt(c.toString(),10)].textNodes&&(A[parseInt(c.toString(),10)].style.opacity=t.labelOpacity);if(e.enableShapeLabel&&void 0!==t.labelOpacity&&e.enableShapeLabel&&e.wrapper&&e.wrapper.children)for(var A=e.wrapper.children,g=0;g<A.length;g++)A[parseInt(g.toString(),10)].textNodes&&(A[parseInt(g.toString(),10)].style.opacity=t.labelOpacity);if((void 0!==t.rotateAngle&&(e.rotateAngle=t.rotateAngle,e.wrapper.rotateAngle=t.rotateAngle),void 0!==t.strokeColor&&(e.strokeColor=t.strokeColor,e.wrapper.children[0].style.strokeColor=t.strokeColor,"Radius"===e.shapeAnnotationType)&&e.wrapper.children[1]&&(e.wrapper.children[1].style.strokeColor=t.strokeColor),void 0!==t.fontColor)&&(e.fontColor=t.fontColor,"FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length&&((A=e.wrapper.children)[1].style.color=t.fontColor,"Justify"===e.textAlign?A[1].horizontalAlignment="Center":A[1].horizontalAlignment="Auto"),e.enableShapeLabel&&e.wrapper&&e.wrapper.children))for(var A=e.wrapper.children,u=0;u<A.length;u++)A[parseInt(u.toString(),10)].textNodes&&(A[parseInt(u.toString(),10)].style.color=t.fontColor);if(void 0!==t.fontFamily&&(e.fontFamily=t.fontFamily,"FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length&&((A=e.wrapper.children)[1].style.fontFamily=t.fontFamily),e.enableShapeLabel&&e.wrapper&&e.wrapper.children))for(var A=e.wrapper.children,f=0;f<A.length;f++)A[parseInt(f.toString(),10)].textNodes&&(A[parseInt(f.toString(),10)].style.fontFamily=t.fontFamily);if(void 0!==t.fontSize){if(("FreeText"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType)&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length&&((A=e.wrapper.children)[1].style.fontSize=t.fontSize,"SignatureText"===e.shapeAnnotationType)&&(e.wrapper.children[1].bounds.width=e.bounds.width,e.wrapper.children[1].desiredSize.width=e.bounds.width,e.wrapper.children[1].actualSize.width=e.bounds.width,A[1].horizontalAlignment="Center",A[1].verticalAlignment="Center",A[1].setOffsetWithRespectToBounds(0,0,"Absolute")),e.enableShapeLabel&&e.wrapper&&e.wrapper.children)for(var A=e.wrapper.children,m=0;m<A.length;m++)A[parseInt(m.toString(),10)].textNodes&&(A[parseInt(m.toString(),10)].style.fontSize=t.fontSize);this.pdfViewer.enableToolbar&&this.pdfViewer.toolbarModule?this.pdfViewer.toolbarModule.annotationToolbarModule.updateFontSizeInIcon(t.fontSize):this.pdfViewer.annotationModule&&e.fontSize!==t.fontSize&&this.pdfViewer.annotationModule.handleFontSizeUpdate(t.fontSize)}if(void 0!==t.font&&"FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length&&(A=e.wrapper.children,void 0!==t.font.isBold&&(A[1].style.bold=t.font.isBold,e.font.isBold=t.font.isBold),void 0!==t.font.isItalic&&(A[1].style.italic=t.font.isItalic,e.font.isItalic=t.font.isItalic),void 0!==t.font.isUnderline&&(t.font.isUnderline&&(e.font.isStrikeout=!1),!0===t.font.isUnderline?A[1].style.textDecoration="Underline":t.font.isStrikeout||(A[1].style.textDecoration="None"),e.font.isUnderline=t.font.isUnderline),void 0!==t.font.isStrikeout)&&(t.font.isStrikeout&&(e.font.isUnderline=!1),!0===t.font.isStrikeout?A[1].style.textDecoration="LineThrough":t.font.isUnderline||(A[1].style.textDecoration="None"),e.font.isStrikeout=t.font.isStrikeout),void 0!==t.textAlign&&(n=M(r=!G.isNullOrUndefined(this.pdfViewer.selectedItems.annotations)&&0<this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.selectedItems.annotations[0]:e),o=M(r),e.textAlign!==t.textAlign)&&(e.textAlign=t.textAlign,o.textAlign=t.textAlign,"FreeText"===e.shapeAnnotationType)&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length&&((A=e.wrapper.children)[1].style.textAlign=t.textAlign,1===A[1].childNodes.length?"Justify"===e.textAlign?(A[1].horizontalAlignment="Left",A[1].setOffsetWithRespectToBounds(.01,0,null)):"Right"===e.textAlign?(A[1].horizontalAlignment="Right",A[1].setOffsetWithRespectToBounds(1,0,null)):"Left"===e.textAlign?(A[1].horizontalAlignment="Left",A[1].setOffsetWithRespectToBounds(.01,0,null)):"Center"===e.textAlign&&(A[1].horizontalAlignment="Center",A[1].setOffsetWithRespectToBounds(.51,0,null)):1<A[1].childNodes.length&&"Justify"===e.textAlign?A[1].horizontalAlignment="Center":A[1].horizontalAlignment="Auto",this.pdfViewer.annotation.isUndoRedoAction||this.pdfViewer.annotation.addAction(this.pdfViewer.viewerBase.getActivePage(!1),null,r,"textAlign","",n,o)),void 0!==t.thickness){if(e.thickness=t.thickness,e.wrapper.children[0].style.strokeWidth=t.thickness,"Line"===e.shapeAnnotationType||"LineWidthArrowHead"===e.shapeAnnotationType)for(var w=0;w<e.wrapper.children.length;w++){var B=e.wrapper.children[parseInt(w.toString(),10)];(B.id.includes("srcDec")||B.id.includes("tarDec"))&&(B.width=12*t.thickness,B.height=12*t.thickness)}"Radius"===e.shapeAnnotationType&&e.wrapper.children[1]&&(e.wrapper.children[1].style.strokeWidth=t.thickness)}if(void 0!==t.borderDashArray&&(e.borderDashArray=t.borderDashArray,e.wrapper.children[0].style.strokeDashArray=t.borderDashArray),void 0!==t.borderStyle&&(e.borderStyle=t.borderStyle),void 0!==t.author&&(e.author=t.author),void 0!==t.modifiedDate&&(e.modifiedDate=t.modifiedDate),void 0!==t.subject&&(e.subject=t.subject),void 0!==t.vertexPoints&&(e.vertexPoints=t.vertexPoints,this.pdfViewer.nameTable[e.id].vertexPoints=t.vertexPoints,this.updateConnector(e,t.vertexPoints)),void 0!==t.leaderHeight&&"Polygon"!==e.shapeAnnotationType&&(e.leaderHeight=t.leaderHeight,this.updateConnector(e,e.vertexPoints)),void 0!==t.notes&&(e.notes=t.notes),void 0!==t.annotName&&(e.annotName=t.annotName),"Distance"===e.shapeAnnotationType){for(i=0;i<e.wrapper.children.length;i++){var C=e.wrapper.children[parseInt(i.toString(),10)],S=me(e);-1<C.id.indexOf("leader1")&&this.setLineDistance(e,S,C,!1),-1<C.id.indexOf("leader2")&&this.setLineDistance(e,S,C,!0)}this.updateConnector(e,e.vertexPoints)}if("Polygon"===e.shapeAnnotationType&&t.vertexPoints&&(e.data=ve(e.vertexPoints),(r=e.wrapper.children[0]).data=e.data,r.canMeasurePath=!0),Ae(e))for(var y=0;y<e.wrapper.children.length;y++)e.wrapper.children[parseInt(y.toString(),10)].textNodes||de(e,e.wrapper.children[parseInt(y.toString(),10)]),!0===e.enableShapeLabel?(e.wrapper.children[parseInt(y.toString(),10)]instanceof J.TextElement&&(e.wrapper.children[parseInt(y.toString(),10)].style.fill=e.labelFillColor),e.wrapper.children[parseInt(y.toString(),10)]instanceof J.PathElement&&"Perimeter"===e.measureType&&(e.wrapper.children[parseInt(y.toString(),10)].style.fill="transparent")):(e.wrapper.children[parseInt(y.toString(),10)]instanceof J.PathElement&&"Perimeter"===e.measureType||e.wrapper.children[parseInt(y.toString(),10)]instanceof J.TextElement)&&(e.wrapper.children[parseInt(y.toString(),10)].style.fill="transparent");if(e&&("FreeText"===e.shapeAnnotationType||!0===e.enableShapeLabel)&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length)for(var A=e.wrapper.children,I=0;I<A.length;I++)A[parseInt(I.toString(),10)].textNodes&&("FreeText"===e.shapeAnnotationType?(t.dynamicText?(A[parseInt(I.toString(),10)].content=t.dynamicText,e.dynamicText=t.dynamicText):A[parseInt(I.toString(),10)].content=e.dynamicText,A[parseInt(I.toString(),10)].width=e.bounds.width):(!0===e.enableShapeLabel&&e.measureType||!0===e.enableShapeLabel)&&(t.labelContent?(A[parseInt(I.toString(),10)].content=t.labelContent,e.labelContent=t.labelContent):A[parseInt(I.toString(),10)].content=e.labelContent,e.notes=A[parseInt(I.toString(),10)].content),A[parseInt(I.toString(),10)].isDirt=!0);if(e&&"SignatureText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&1<e.wrapper.children.length&&(e.wrapper.children[1].isDirt=!0),e&&"FreeText"===e.shapeAnnotationType&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.textFromCommentPanel?(e.wrapper.width=void 0,e.wrapper.height=void 0,b=this.pdfViewer.viewerBase.pageSize[e.pageIndex].height,e.wrapper.measureFreeText(new J.Size(e.wrapper.bounds.width,e.wrapper.bounds.height),b),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.textFromCommentPanel=!1):(b=this.pdfViewer.viewerBase.pageSize[e.pageIndex].height,e.wrapper.measureFreeText(new J.Size(e.wrapper.bounds.width,e.wrapper.bounds.height),b)),e.wrapper.arrange(e.wrapper.desiredSize),e&&e.formFieldAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length&&((A=e.wrapper.children[0]).actualSize.width=e.wrapper.desiredSize.width,A.actualSize.height=e.wrapper.desiredSize.height),e&&"FreeText"===e.shapeAnnotationType&&!G.isNullOrUndefined(e.subject)){if(e.wrapper&&e.wrapper.children&&e.wrapper.children.length){1<(A=e.wrapper.children)[1].childNodes.length&&"Justify"===e.textAlign?A[1].horizontalAlignment="Center":1===A[1].childNodes.length&&("Justify"===e.textAlign?(A[1].horizontalAlignment="Left",A[1].setOffsetWithRespectToBounds(.01,0,null)):"Right"===e.textAlign?(A[1].horizontalAlignment="Right",A[1].setOffsetWithRespectToBounds(1,0,null)):"Left"===e.textAlign?(A[1].horizontalAlignment="Left",A[1].setOffsetWithRespectToBounds(.01,0,null)):"Center"===e.textAlign&&(A[1].horizontalAlignment="Center",A[1].setOffsetWithRespectToBounds(.51,0,null)));for(var E=0;E<A.length;E++){if(A[parseInt(E.toString(),10)].textNodes&&0<A[parseInt(E.toString(),10)].textNodes.length){A[parseInt(E.toString(),10)].isDirt=!0;var Q=A[parseInt(E.toString(),10)].textNodes.length*A[parseInt(E.toString(),10)].textNodes[0].dy,D=e.bounds.height-Q;if(0<D&&D<A[parseInt(E.toString(),10)].textNodes[0].dy&&(Q+=A[parseInt(E.toString(),10)].textNodes[0].dy),Q>e.bounds.height){for(var x="",V=0;V<A[parseInt(E.toString(),10)].textNodes.length;V++)x+=A[parseInt(E.toString(),10)].textNodes[parseInt(V.toString(),10)].text;A[parseInt(E.toString(),10)].content=x}}A[parseInt(E.toString(),10)].width=e.bounds.width}}var b=this.pdfViewer.viewerBase.pageSize[e.pageIndex].height;e.wrapper.measureFreeText(new J.Size(e.wrapper.bounds.width,e.wrapper.bounds.height),b),e.wrapper.arrange(e.wrapper.desiredSize)}this.pdfViewer.renderDrawing(void 0,e.pageIndex),e&&"FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length&&(1===(A=e.wrapper.children)[1].childNodes.length&&"Justify"===e.textAlign?(A[1].horizontalAlignment="Left",A[1].setOffsetWithRespectToBounds(.5,0,null)):1<A[1].childNodes.length&&"Justify"===e.textAlign&&(A[1].horizontalAlignment="Center",A[1].setOffsetWithRespectToBounds(0,0,null)))},n.prototype.fontSizeCalculation=function(e,t,i){var n=this.pdfViewer.viewerBase.getAnnotationCanvas("_annotationCanvas_",e.pageIndex).getContext("2d"),o=0,r=0,a="";for(t.style.italic&&t.style.bold?a="bold italic ":t.style.bold?a="bold ":t.style.italic&&(a="italic ");o<i;)n.font=a+r+"px "+t.style.fontFamily,o=n.measureText(e.dynamicText).width,r+=.1;return r-=.1},n.prototype.setLineDistance=function(e,t,i,n){e=n?ke(e,t[1],t[0],n):ke(e,t[0],t[1],n);i.data=e.data,i.offsetX=e.offsetX,i.offsetY=e.offsetY,i.rotateAngle=e.rotateAngle,i.width=e.width,i.height=e.height,i.pivot=e.pivot,i.canMeasurePath=!0,i.isDirt=!0},n.prototype.scaleSelectedItems=function(e,t,i){var n=this.pdfViewer.selectedItems;return this.scale(n,e,t,i)},n.prototype.scale=function(e,t,i,n){var o=!0;if(e instanceof se){if(e.annotations&&e.annotations.length)for(var r=0,a=e.annotations;r<a.length;r++)var s=a[r],o=this.scaleAnnotation(s,t,i,n,e);else if(e.formFields&&e.formFields.length)for(var l=0,A=e.formFields;l<A.length;l++){s=A[l];o=this.scaleAnnotation(s,t,i,n,e)}}else o=this.scaleAnnotation(e,t,i,n,void 0);return o},n.prototype.scaleObject=function(e,t,i,n,o,r){var a,s,l,A;t=t<0?1:t,1===(e=e<0?1:e)&&1===t||(s=a=void 0,Ae(n)||(a=(A=n).wrapper.actualSize.width*e,s=A.wrapper.actualSize.height*t,e=a/A.wrapper.actualSize.width,t=s/A.wrapper.actualSize.height),l=J.identityMatrix(),r=(r=r||n).wrapper,J.rotateMatrix(l,-r.rotateAngle,i.x,i.y),J.scaleMatrix(l,e,t,i.x,i.y),J.rotateMatrix(l,r.rotateAngle,i.x,i.y),Ae(n))||(e=J.transformPointByMatrix(l,{x:(A=n).wrapper.offsetX,y:A.wrapper.offsetY}),0<a&&(A.wrapper.width=a,A.wrapper.offsetX=e.x),0<s&&(A.wrapper.height=s,A.wrapper.offsetY=e.y),this.nodePropertyChange(n,{bounds:{width:A.wrapper.width,height:A.wrapper.height,x:A.wrapper.offsetX,y:A.wrapper.offsetY}}))},n.prototype.scaleAnnotation=function(e,t,i,n,o){var r=this.pdfViewer.nameTable[e.id],a=r.wrapper,s=(o=o||e).wrapper,l=s.offsetX-s.actualSize.width*s.pivot.x,A=s.offsetY-s.actualSize.height*s.pivot.y,l=this.getShapePoint(l,A,s.actualSize.width,s.actualSize.height,s.rotateAngle,s.offsetX,s.offsetY,n),A=(void 0!==a.actualSize.width&&void 0!==a.actualSize.height&&this.scaleObject(t,i,l,r,a,o),this.checkBoundaryConstraints(void 0,void 0,e.pageIndex,e.wrapper.bounds));return A||(this.scaleObject(1/t,1/i,l,r,a,o),"FreeText"!==e.shapeAnnotationType)||"free_text"!==e.id.slice(0,9)&&"freetext"!==e.id.slice(0,8)||(s=this.moveInsideViewer(e),this.nodePropertyChange(e,{bounds:{width:e.wrapper.width,height:e.wrapper.height,x:e.wrapper.offsetX+s.tx,y:e.wrapper.offsetY+s.ty}})),A},n.prototype.moveInsideViewer=function(e,t,i){var n,o,r,a,s,l,A;return t=t||0,i=i||0,"FreeText"!==e.shapeAnnotationType||"free_text"!==e.id.slice(0,9)&&"freetext"!==e.id.slice(0,8)||(o=this.pdfViewer.viewerBase.getAnnotationCanvas("_annotationCanvas_",e.pageIndex))&&(e=e.wrapper.bounds,n=o.clientWidth/this.pdfViewer.viewerBase.getZoomFactor(),o=o.clientHeight/this.pdfViewer.viewerBase.getZoomFactor(),r=e.right,a=e.left,s=e.top,e=e.bottom,r+t<=n-3&&1<=a+t&&e+i<=o-3&&1<=s+i||(A=l=0,r<=n-3||(l=n-r-3),e<=o-3||(A=o-e-3),0!==(l=1<=a?l:l-a+1)&&(t=l),0!==(A=1<=s?A:A-s+1)&&(i=A))),{tx:t,ty:i}},n.prototype.checkBoundaryConstraints=function(e,t,i,n,o,r){var a=n?void 0:this.pdfViewer.selectedItems.wrapper.bounds,s=n,i=this.pdfViewer.viewerBase.getAnnotationCanvas("_annotationCanvas_",i),l=1;if(i){var A=i.clientWidth/this.pdfViewer.viewerBase.getZoomFactor(),i=i.clientHeight/this.pdfViewer.viewerBase.getZoomFactor(),d=(n?s:a).right+(e||0),e=(n?s:a).left+(e||0),p=(n?s:a).top+(t||0),n=(n?s:a).bottom+(t||0);if(o&&(l=50,this.pdfViewer.viewerBase.eventArgs)&&this.pdfViewer.viewerBase.eventArgs.source&&this.RestrictStamp(this.pdfViewer.viewerBase.eventArgs.source))return!1;if(d<=A-3&&1<=e&&n<=i-3&&l<=p)return!0;if(r&&d<=A-(l=10)&&10<=e&&n<=i-10&&l<=p)return!0}return!1},n.prototype.RestrictStamp=function(e){return!(!e||void 0===e.pageIndex||!this.pdfViewer.viewerBase.activeElements||e.pageIndex===this.pdfViewer.viewerBase.activeElements.activePageID)},n.prototype.getShapeBounds=function(e){new J.Rect;var t,i=J.cornersPointsBeforeRotation(e),n=i.middleLeft,o=i.topCenter,r=i.bottomCenter,a=i.middleRight,s=i.topLeft,l=i.topRight,A=i.bottomLeft,i=i.bottomRight;return e.corners={topLeft:s,topCenter:o,topRight:l,middleLeft:n,middleRight:a,bottomLeft:A,bottomCenter:r,bottomRight:i},0===e.rotateAngle&&0===e.parentTransform||(t=J.identityMatrix(),J.rotateMatrix(t,e.rotateAngle+e.parentTransform,e.offsetX,e.offsetY),e.corners.topLeft=s=J.transformPointByMatrix(t,s),e.corners.topCenter=J.transformPointByMatrix(t,o),e.corners.topRight=l=J.transformPointByMatrix(t,l),e.corners.middleLeft=J.transformPointByMatrix(t,n),e.corners.middleRight=J.transformPointByMatrix(t,a),e.corners.bottomLeft=A=J.transformPointByMatrix(t,A),e.corners.bottomCenter=J.transformPointByMatrix(t,r),e.corners.bottomRight=i=J.transformPointByMatrix(t,i)),o=J.Rect.toBounds([s,l,A,i]),e.corners.left=o.left,e.corners.right=o.right,e.corners.top=o.top,e.corners.bottom=o.bottom,e.corners.center=o.center,e.corners.width=o.width,e.corners.height=o.height,o},n.prototype.getShapePoint=function(e,t,i,n,o,r,a,s){var l={x:0,y:0},A=J.identityMatrix();switch(J.rotateMatrix(A,o,r,a),s.x){case 1:switch(s.y){case 1:l=J.transformPointByMatrix(A,{x:e+i,y:t+n});break;case 0:l=J.transformPointByMatrix(A,{x:e+i,y:t});break;case.5:l=J.transformPointByMatrix(A,{x:e+i,y:t+n/2})}break;case 0:switch(s.y){case.5:l=J.transformPointByMatrix(A,{x:e,y:t+n/2});break;case 1:l=J.transformPointByMatrix(A,{x:e,y:t+n});break;case 0:l=J.transformPointByMatrix(A,{x:e,y:t})}break;case.5:switch(s.y){case 0:l=J.transformPointByMatrix(A,{x:e+i/2,y:t});break;case.5:l=J.transformPointByMatrix(A,{x:e+i/2,y:t+n/2});break;case 1:l=J.transformPointByMatrix(A,{x:e+i/2,y:t+n})}}return{x:l.x,y:l.y}},n.prototype.dragConnectorEnds=function(e,t,i,n,o,r,a){var s,l,A,d,p,h,c,g=t instanceof se?t.annotations[0]:t;return i={x:i.x/this.pdfViewer.viewerBase.getZoomFactor(),y:i.y/this.pdfViewer.viewerBase.getZoomFactor()},this.checkBoundaryConstraints(void 0,void 0,g.pageIndex,g.wrapper.bounds)&&("Distance"===g.shapeAnnotationType?(h=fe(g,e),"Leader0"===e?this.pdfViewer.viewerBase.tool instanceof mt?(g.vertexPoints[0].x=i.x,g.vertexPoints[0].y=i.y):(c=i.x-h.point.x,p=i.y-h.point.y,g.vertexPoints[0].x+=c,g.vertexPoints[0].y+=p):"Leader1"===e?(s=g.vertexPoints.length-1,this.pdfViewer.viewerBase.tool instanceof mt?(g.vertexPoints[parseInt(s.toString(),10)].x=i.x,g.vertexPoints[parseInt(s.toString(),10)].y=i.y):(c=i.x-h.point.x,p=i.y-h.point.y,g.vertexPoints[parseInt(s.toString(),10)].x+=c,g.vertexPoints[parseInt(s.toString(),10)].y+=p)):(h=J.Point.findAngle(g.sourcePoint,g.targetPoint),s=t.wrapper.children[0].bounds.center,d=J.identityMatrix(),J.rotateMatrix(d,-h,s.x,s.y),d=J.transformPointByMatrix(d,{x:i.x,y:i.y}),"ConnectorSegmentPoint"===e.split("_")[0]&&(A=J.identityMatrix(),J.rotateMatrix(A,-h,s.x,s.y),l=J.transformPointByMatrix(A,g.vertexPoints[0]),A=J.transformPointByMatrix(A,g.vertexPoints[g.vertexPoints.length-1]),p=d.y-l.y,0===g.leaderHeight&&null!=g.leaderHeight?g.leaderHeight=this.pdfViewer.distanceSettings.leaderLength:(g.leaderHeight+=p,l.y+=p,A.y+=p,d=J.identityMatrix(),J.rotateMatrix(d,h,s.x,s.y),g.vertexPoints[0]=J.transformPointByMatrix(d,l),g.vertexPoints[g.vertexPoints.length-1]=J.transformPointByMatrix(d,A))))):"ConnectorSegmentPoint"===e.split("_")[0]&&(h=Number(e.split("_")[1]),c=i.x-g.vertexPoints[parseInt(h.toString(),10)].x,p=i.y-g.vertexPoints[parseInt(h.toString(),10)].y,g.vertexPoints[parseInt(h.toString(),10)].x+=c,g.vertexPoints[parseInt(h.toString(),10)].y+=p,2<g.vertexPoints.length)&&"Perimeter"!==t.measureType&&(0===parseFloat(e.split("_")[1])?(g.vertexPoints[g.vertexPoints.length-1].x+=c,g.vertexPoints[g.vertexPoints.length-1].y+=p):parseFloat(e.split("_")[1])===g.vertexPoints.length-1&&(g.vertexPoints[0].x+=c,g.vertexPoints[0].y+=p)),this.nodePropertyChange(g,{vertexPoints:g.vertexPoints}),this.renderSelector(g.pageIndex,a)),this.pdfViewer.renderDrawing(),!0},n.prototype.dragSourceEnd=function(e,t,i,n){e=this.pdfViewer.nameTable[e.id];return e.vertexPoints[parseInt(n.toString(),10)].x+=t,e.vertexPoints[parseInt(n.toString(),10)].y+=i,this.pdfViewer.renderDrawing(),!0},n.prototype.updateConnector=function(e,t){e.vertexPoints=t,Be(e,t,e.wrapper.children[0]);var i=e.vertexPoints,n=e.wrapper.children[0];n.canMeasurePath=!0;for(var o=0;o<e.wrapper.children.length;o++)n=e.wrapper.children[parseInt(o.toString(),10)],"Polygon"!==e.shapeAnnotationType&&(-1<n.id.indexOf("srcDec")&&Se(e,n,t[0],i[1],!0),e.targetPoint,-1<n.id.indexOf("tarDec"))&&Se(e,n,t[t.length-1],i[i.length-2],!1)},n.prototype.copy=function(){G.isNullOrUndefined(this.pdfViewer.annotationModule)||(t=this.pdfViewer.annotationModule.findAnnotationSettings(this.pdfViewer.selectedItems.annotations[0])),!(this.pdfViewer.formDesignerModule&&!this.pdfViewer.formDesigner.isPropertyDialogOpen||this.pdfViewer.annotationModule)||!this.pdfViewer.designerMode&&!this.pdfViewer.enableAnnotation||0===this.pdfViewer.selectedItems.formFields.length&&(0===this.pdfViewer.selectedItems.annotations.length||G.isNullOrUndefined(t)||t.isLock)||(this.pdfViewer.clipboardData.pasteIndex=1,this.pdfViewer.clipboardData.clipObject=this.copyObjects(),this.copiedElementID=this.pdfViewer.clipboardData.clipObject[0].id);var e,t=document.getElementById(this.pdfViewer.element.id+"_search_box");return t&&(e="none"!==t.style.display),(this.pdfViewer.formDesigner&&this.pdfViewer.formDesigner.isPropertyDialogOpen||e)&&(this.pdfViewer.clipboardData.clipObject={}),this.pdfViewer.clipboardData.clipObject},n.prototype.copyObjects=function(){var e=[],t=[];if(this.pdfViewer.clipboardData.childTable={},0<this.pdfViewer.selectedItems.annotations.length)for(var e=this.pdfViewer.selectedItems.annotations,i=0;i<e.length;i++){var n=M(e[parseInt(i.toString(),10)]);t.push(n)}if(0<this.pdfViewer.selectedItems.formFields.length){e=this.pdfViewer.selectedItems.formFields;for(i=0;i<e.length;i++){n=M(e[parseInt(i.toString(),10)]);t.push(n)}}if(0===this.pdfViewer.clipboardData.pasteIndex)for(var o=0,r=e;o<r.length;o++){var a=r[o];this.pdfViewer.nameTable[a.id]&&(a.formFieldAnnotationType?(this.pdfViewer.clearSelection(a.pageIndex),this.pdfViewer.formDesignerModule.deleteFormField(a.id)):a.annotName?this.pdfViewer.annotationModule.deleteAnnotationById(a.annotName):this.pdfViewer.annotationModule.deleteAnnotation())}return this.sortByZIndex(t,"zIndex"),t},n.prototype.getNewObject=function(e){var t,i=[];this.pdfViewer.clipboardData.pasteIndex=1;for(var n=0;n<e.length;n++)t=M(e[parseInt(n.toString(),10)]),i.push(t);return i},n.prototype.isWithinBounds=function(e,t){var i=t.clientX,t=t.clientY,n=e.left,o=e.right,r=e.top,e=e.bottom;return n<i&&i<o&&r<t&&t<e},n.prototype.paste=function(e,t){var i=this.pdfViewer.viewerBase.getZoomFactor(),n=this.pdfViewer.allowServerDataBinding;if(this.pdfViewer.enableServerDataBinding(!1),this.isPasted=!0,e||this.pdfViewer.clipboardData.clipObject){var o=e?this.getNewObject(e):this.pdfViewer.clipboardData.clipObject;if(o)if(0!==this.pdfViewer.clipboardData.pasteIndex&&this.pdfViewer.clearSelection(t),!G.isNullOrUndefined(o[0])&&this.pdfViewer.currentPageNumber===o[0].pageIndex+1){for(var r=0,a=o;r<a.length;r++){var s,l=(p=a[r]).id,A=(p.id+=J.randomId(),this.splitFormFieldName(p));this.pdfViewer.formDesigner&&(this.pdfViewer.formDesigner.setFormFieldIndex(),s=this.pdfViewer.formDesigner.formFieldIndex,p.name=A+s),p.id,p}for(var d=0;d<o.length;d++){var p=o[parseInt(d.toString(),10)],h=this.pdfViewer.viewerBase.getElement("_pageDiv_"+p.pageIndex),c=event,g=h.getBoundingClientRect();!c||c.clientX||c.clientY||(c={clientX:this.pdfViewer.viewerBase.mouseLeft,clientY:this.pdfViewer.viewerBase.mouseTop}),G.isBlazor()&&(c=this.pdfViewer.viewerBase.mouseDownEvent),Ae(p)?this.calculateCopyPosition(p,h,c):h&&(g.right-c.clientX<p.bounds.width*i?p.bounds.x=(h.clientWidth-p.bounds.width*i)/i:p.bounds.x=(c.clientX-g.left)/i,g.bottom-c.clientY>p.bounds.height*i?p.bounds.y=(c.clientY-g.top)/i:p.bounds.y=(h.clientHeight-p.bounds.height*i)/i),this.isWithinBounds(g,c)&&(h=M(p),"Cut"!==this.pdfViewer.viewerBase.contextMenuModule.previousAction?(h.id+=J.randomId(),this.pdfViewer.annotationModule&&"HandWrittenSignature"!==h.shapeAnnotationType&&(h.annotName=h.id,this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationCollection(h,o[0],!1))):this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationCollection(h,o[0],!0),"SignatureText"!==h.shapeAnnotationType&&"HandWrittenSignature"!==h.shapeAnnotationType&&"SignatureImage"!==h.shapeAnnotationType||this.pdfViewer.viewerBase.signatureModule.storeSignatureData(h.pageIndex,h),h.formFieldAnnotationType||"SignatureText"===h.shapeAnnotationType||"HandWrittenSignature"===h.shapeAnnotationType||"SignatureImage"===h.shapeAnnotationType||this.pdfViewer.annotation.addAction(this.pdfViewer.viewerBase.getActivePage(!1),null,h,"Addition","",h,h),g=this.add(h),this.pdfViewer.formDesigner&&g.formFieldAnnotationType&&this.pdfViewer.annotation&&this.pdfViewer.annotation.addAction(this.pdfViewer.viewerBase.getActivePage(!0),null,g,"Addition","",g,g),("FreeText"===h.shapeAnnotationType||h.enableShapeLabel)&&g&&this.nodePropertyChange(g,{}),g.formFieldAnnotationType&&g.pageIndex===t&&(this.pdfViewer.formFieldCollection.push(g),c={id:g.id,name:g.name,value:g.value,type:g.formFieldAnnotationType,isReadOnly:g.isReadonly,fontFamily:g.fontFamily,fontSize:g.fontSize,fontStyle:g.fontStyle,color:g.color,backgroundColor:g.backgroundColor,alignment:g.alignment,visibility:g.visibility,maxLength:g.maxLength,isRequired:g.isRequired,isPrint:g.isPrint,isSelected:g.isSelected,isChecked:g.isChecked,tooltip:g.tooltip,bounds:g.bounds,thickness:g.thickness,borderColor:g.borderColor,signatureIndicatorSettings:g.signatureIndicatorSettings,insertSpaces:g.insertSpaces,isMultiline:g.isMultiline,isTransparent:g.isTransparent,options:g.options,pageIndex:g.pageIndex,pageNumber:g.pageNumber,rotateAngle:g.rotateAngle,signatureType:g.signatureType,zIndex:g.zIndex,selectedIndex:g.selectedIndex},g.options&&0<g.options.length&&(c.options=g.options),this.pdfViewer.formFieldCollections.push(c),this.pdfViewer.formDesigner.drawHTMLContent(g.formFieldAnnotationType,g.wrapper.children[0],g,g.pageIndex,this.pdfViewer,l)),this.pdfViewer.select([h.id],this.pdfViewer.annotationSelectorSettings),g.formFieldAnnotationType||this.pdfViewer.annotationModule.triggerAnnotationAddEvent(h))}}this.pdfViewer.renderDrawing(void 0,t),this.pdfViewer.clipboardData.pasteIndex++}this.pdfViewer.enableServerDataBinding(n,!0)},n.prototype.splitFormFieldName=function(e){var t=null;if(e)switch(e.formFieldAnnotationType){case"Textbox":t="Textbox";break;case"PasswordField":t="Password";break;case"Checkbox":t="Check Box";break;case"RadioButton":t="Radio Button";break;case"DropdownList":t="Dropdown";break;case"ListBox":t="List Box";break;case"SignatureField":t="Signature";break;case"InitialField":t="Initial"}return t},n.prototype.calculateCopyPosition=function(e,t,i){for(var n,o,r,a,s=this.pdfViewer.viewerBase.getZoomFactor(),l=0;l<e.vertexPoints.length;l++)t&&(0===l?(o=t.getBoundingClientRect(),r=e.vertexPoints[parseInt(l.toString(),10)].x,a=e.vertexPoints[parseInt(l.toString(),10)].y,e.vertexPoints[parseInt(l.toString(),10)].x=(i.clientX-o.left)/s,e.vertexPoints[parseInt(l.toString(),10)].y=(i.clientY-o.top)/s,o=e.vertexPoints[parseInt(l.toString(),10)].x,n=e.vertexPoints[parseInt(l.toString(),10)].y):(e.vertexPoints[parseInt(l.toString(),10)].x+=o-r,e.vertexPoints[parseInt(l.toString(),10)].y+=n-a))},n.prototype.cut=function(e){var t,i=this.pdfViewer.allowServerDataBinding,e=(this.pdfViewer.enableServerDataBinding(!1),this.pdfViewer.annotationModule&&(this.pdfViewer.annotationModule.removedAnnotationCollection=[]),(this.pdfViewer.formDesignerModule&&!this.pdfViewer.formDesigner.isPropertyDialogOpen||0<this.pdfViewer.selectedItems.annotations.length)&&(this.pdfViewer.designerMode||0<this.pdfViewer.selectedItems.annotations.length)&&(0!==this.pdfViewer.selectedItems.formFields.length||0!==this.pdfViewer.selectedItems.annotations.length)&&(this.pdfViewer.clipboardData.pasteIndex=0,this.pdfViewer.clipboardData.clipObject=this.copyObjects(),this.pdfViewer.renderDrawing(void 0,e),this.pdfViewer.enableServerDataBinding(i,!0),this.copiedElementID=this.pdfViewer.clipboardData.clipObject[0].id),document.getElementById(this.pdfViewer.element.id+"_search_box"));e&&(t="none"!==e.style.display),(this.pdfViewer.formDesigner&&this.pdfViewer.formDesigner.isPropertyDialogOpen||t)&&(this.pdfViewer.clipboardData.clipObject={})},n.prototype.sortByZIndex=function(e,t){var i=t||"zIndex";return e=e.sort(function(e,t){return e[""+i]-t[""+i]})};var Ye=n;function n(e){this.isDynamicStamps=!1,this.copiedElementID="",this.isPasted=!1,this.pdfViewer=e,this.renderer=new J.DrawingRenderer("this.pdfViewer.element.id",!1),this.svgRenderer=new J.SvgRenderer}Ge=function(e,t){return(Ge=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Ge,e=function(e,t){function i(){this.constructor=e}Ge(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},K=(Je.prototype.startAction=function(e){this.currentElement=e,this.inAction=!0},Je.prototype.mouseDown=function(e){this.currentElement=e.source,this.startPosition=this.currentPosition=this.prevPosition=e.position,this.isTooltipVisible=!0,this.startAction(e.source)},Je.prototype.mouseMove=function(e){return this.currentPosition=e.position,this.prevPageId=this.pdfViewerBase.activeElements.activePageID,!this.blocked},Je.prototype.mouseUp=function(e){this.currentPosition=e.position,this.isTooltipVisible=!1,this.endAction(),this.helper=null},Je.prototype.endAction=function(){this.commandHandler&&(this.commandHandler.tool="",this.helper)&&this.commandHandler.remove(this.helper),this.commandHandler=null,this.currentElement=null,this.currentPosition=null,this.inAction=!1,this.blocked=!1},Je.prototype.mouseWheel=function(e){this.currentPosition=e.position},Je.prototype.mouseLeave=function(e){this.mouseUp(e)},Je.prototype.updateSize=function(e,t,i,n,o,r,a){var s,l=this.commandHandler.viewerBase.getZoomFactor(),A=this.currentPosition.x/l-this.startPosition.x/l,d=this.currentPosition.y/l-this.startPosition.y/l,l=e instanceof J.TextElement?r:e.rotateAngle,p=J.identityMatrix(),h=(J.rotateMatrix(p,-l,0,0),0),c=0,g=(e instanceof J.TextElement?e.actualSize:e.wrapper.bounds).width,u=(e instanceof J.TextElement?e.actualSize:e.wrapper.bounds).height,r=e,l=(e.formFieldAnnotationType||e.annotName||e.shapeAnnotationType||e&&(r=e.annotations[0]),this.commandHandler.annotationModule?this.commandHandler.annotationModule.findAnnotationSettings(r):{}),f=0,m=0,e=0,r=0,w=((l.minWidth||l.maxWidth||l.minHeight||l.maxHeight)&&(f=l.maxHeight||2e3,m=l.maxWidth||2e3,e=l.minHeight||0,r=l.minWidth||0),!1);switch((w=e||r||f||m?!0:w)&&a&&(a=g+(l=this.getPositions(n,A,d)).x,(l=u+l.y)<e?d=e-u:f<l&&(d=f-u),a<r?A=r-g:m<a&&(A=m-g)),n){case"ResizeWest":A=(s=J.transformPointByMatrix(p,{x:A,y:d})).x,d=s.y,c=1,d=0,w&&o.width-A>m&&(A=m-o.width),h=(o.width-A)/g;break;case"ResizeEast":A=(s=J.transformPointByMatrix(p,{x:A,y:d})).x,d=s.y,d=0,w&&o.width+A>m&&(A=m-o.width),h=(o.width+A)/g,c=1;break;case"ResizeNorth":h=1,A=(s=J.transformPointByMatrix(p,{x:A,y:d})).x,d=s.y,w&&o.height-d>f&&(d=f-o.height),c=(o.height-d)/u;break;case"ResizeSouth":h=1,A=(s=J.transformPointByMatrix(p,{x:A,y:d})).x,d=s.y,w&&o.height+d>f&&(d=f-o.height),c=(o.height+d)/u;break;case"ResizeNorthEast":A=(s=J.transformPointByMatrix(p,{x:A,y:d})).x,d=s.y,w&&(o.width+A>m&&(A=m-o.width),o.height-d>f)&&(d=f-o.height),h=(o.width+A)/g,c=(o.height-d)/u;break;case"ResizeNorthWest":A=(s=J.transformPointByMatrix(p,{x:A,y:d})).x,d=s.y,w&&(o.width-A>m&&(A=m-o.width),o.height-d>f)&&(d=f-o.height),h=(o.width-A)/g,c=(o.height-d)/u;break;case"ResizeSouthEast":A=(s=J.transformPointByMatrix(p,{x:A,y:d})).x,d=s.y,w&&(o.width+A>m&&(A=m-o.width),o.height+d>f)&&(d=f-o.height),c=(o.height+d)/u,h=(o.width+A)/g;break;case"ResizeSouthWest":A=(s=J.transformPointByMatrix(p,{x:A,y:d})).x,d=s.y,w&&(o.width-A>m&&(A=m-o.width),o.height+d>f)&&(d=f-o.height),h=(o.width-A)/g,c=(o.height+d)/u}return{width:h,height:c}},Je.prototype.getPivot=function(e){switch(e){case"ResizeWest":return{x:1,y:.5};case"ResizeEast":return{x:0,y:.5};case"ResizeNorth":return{x:.5,y:1};case"ResizeSouth":return{x:.5,y:0};case"ResizeNorthEast":return{x:0,y:1};case"ResizeNorthWest":return{x:1,y:1};case"ResizeSouthEast":return{x:0,y:0};case"ResizeSouthWest":return{x:1,y:0}}return{x:.5,y:.5}},Je.prototype.getPositions=function(e,t,i){switch(e){case"ResizeEast":return{x:t,y:0};case"ResizeSouthEast":return{x:t,y:i};case"ResizeSouth":return{x:0,y:i};case"ResizeNorth":return{x:0,y:-i};case"ResizeNorthEast":return{x:t,y:-i};case"ResizeNorthWest":return{x:-t,y:-i};case"ResizeWest":return{x:-t,y:0};case"ResizeSouthWest":return{x:-t,y:i}}return{x:t,y:i}},Je);function Je(e,t,i){this.commandHandler=null,this.inAction=!1,this.pdfViewerBase=null,this.currentElement=null,this.blocked=!1,this.isTooltipVisible=!1,this.childTable={},this.helper=void 0,this.undoElement={annotations:[]},this.undoParentElement={annotations:[]},this.commandHandler=e,this.pdfViewerBase=t}e(We,je=K),We.prototype.mouseDown=function(e){this.inAction=!0,this.mouseEventHelper(e),je.prototype.mouseDown.call(this,e)},We.prototype.mouseEventHelper=function(e){this.commandHandler&&this.commandHandler.annotationModule&&(this.commandHandler.annotationModule.overlappedCollections=yt(e,this.pdfViewerBase,this.commandHandler,!0));var t=yt(e,this.pdfViewerBase,this.commandHandler),i=!1;if(!(i=t&&"StickyNotes"===t.shapeAnnotationType&&t.annotationSettings&&t.annotationSettings.isLock?!this.commandHandler.annotationModule.checkAllowedInteractions("Select",t):i)){i=void 0,i=e.source&&null!==e.annotationSelectorSettings?e.source.annotationSelectorSettings:"";if(this.commandHandler){var n=this.commandHandler.selectedItems;if(n){var o=n.annotations[0],r=n.formFields[0],a=this.commandHandler.selectedItems.annotations[0],s=e.source;if((n.annotations.length&&e.info&&!e.info.ctrlKey&&this.commandHandler.annotationModule&&!1===this.commandHandler.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus||e.info&&e.info.ctrlKey&&(s&&"FreeText"===s.shapeAnnotationType||a&&"FreeText"===a.shapeAnnotationType)||G.isNullOrUndefined(t)&&this.commandHandler.annotationModule&&!G.isNullOrUndefined(this.commandHandler.annotation.textMarkupAnnotationModule)&&G.isNullOrUndefined(this.commandHandler.annotation.textMarkupAnnotationModule.currentTextMarkupAnnotation)&&this.commandHandler.formDesignerModule&&!(s&&"FreeText"===s.shapeAnnotationType||a&&("FreeText"===a.shapeAnnotationType||"Image"===a.shapeAnnotationType||"StickyNotes"===a.shapeAnnotationType)))&&this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),t&&(!(G.isNullOrUndefined(r)||r&&r.id!==t.id)||G.isNullOrUndefined(this.pdfViewerBase.isFreeTextSelected)||this.pdfViewerBase.isFreeTextSelected||(this.commandHandler.select([t.id],i),this.commandHandler.viewerBase.isAnnotationMouseDown=!0),this.pdfViewerBase.isFreeTextSelected=!1,this.commandHandler.viewerBase.isFormFieldMouseDown=!0),0===n.annotations.length&&o&&"HandWrittenSignature"!==o.shapeAnnotationType&&"SignatureText"!==o.shapeAnnotationType&&"SignatureImage"!==o.shapeAnnotationType&&"Path"!==o.shapeAnnotationType&&!o.formFieldAnnotationType&&(this.commandHandler.enableToolbar&&G.Browser.isDevice&&!this.commandHandler.enableDesktopMode&&this.commandHandler.toolbarModule.showToolbar(!0),this.commandHandler.fireAnnotationUnSelect(o.annotName,o.pageIndex,o)),0===n.annotations.length&&o&&("HandWrittenSignature"===o.shapeAnnotationType||"SignatureText"===o.shapeAnnotationType||"SignatureImage"===o.shapeAnnotationType||"Path"===o.shapeAnnotationType||o.signatureType)&&this.commandHandler.fireSignatureUnselect(o.signatureName,o.pageIndex,o),0===n.formFields.length&&this.commandHandler.formDesignerModule&&r&&r.formFieldAnnotationType){var l={name:r.name,id:r.id,value:r.value,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,color:r.color,backgroundColor:r.backgroundColor,alignment:r.alignment,isReadonly:r.isReadOnly,visibility:r.visibility,maxLength:r.maxLength,isRequired:r.isRequired,isPrint:r.isPrint,rotation:r.rotation,tooltip:r.tooltip,options:r.options,isChecked:r.isChecked,isSelected:r.isSelected};this.commandHandler.fireFormFieldUnselectEvent("formFieldUnselect",l,r.pageIndex)}else if(this.pdfViewerBase.currentTarget&&this.pdfViewerBase.currentTarget.id&&this.commandHandler.formFields&&"mousedown"===event.type)for(var A=0;A<this.commandHandler.formFields.length;A++){var d=this.commandHandler.formFields[parseInt(A.toString(),10)];this.pdfViewerBase.currentTarget&&this.pdfViewerBase.currentTarget.id===d.id&&(l={value:d.value,fontFamily:d.fontFamily,fontSize:d.fontSize,fontStyle:d.fontStyle,color:d.color,backgroundColor:d.backgroundColor,alignment:d.alignment,isReadonly:d.isReadonly,visibility:d.visibility,maxLength:d.maxLength,isRequired:d.isRequired,isPrint:d.isPrint,rotation:d.rotateAngle,tooltip:d.tooltip,options:d.options,isChecked:d.isChecked,isSelected:d.isSelected,id:d.id,name:d.name},!t||this.pdfViewerBase.currentTarget.id!==event.target.id&&"e-pv-text-layer"!==event.target.className)&&(this.commandHandler.fireFocusOutFormField(l,d.pageIndex),this.pdfViewerBase.currentTarget=null)}}}}},We.prototype.mouseMove=function(e){return je.prototype.mouseMove.call(this,e),!this.blocked},We.prototype.mouseUp=function(e){this.mouseEventHelper(e),this.inAction=!1,je.prototype.mouseUp.call(this,e)},We.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)};var je,Ke=We;function We(e,t){return je.call(this,e,t,!0)||this}e(Xe,Ze=K),Xe.prototype.mouseDown=function(e){Ze.prototype.mouseDown.call(this,e),this.offset={x:e.source.wrapper.offsetX,y:e.source.wrapper.offsetY},this.startPosition=e.position;e=M(e.source);this.redoElement={bounds:{x:e.wrapper.offsetX,y:e.wrapper.offsetY,width:e.wrapper.actualSize.width,height:e.wrapper.actualSize.height}},Ae(e)&&(this.redoElement.vertexPoints=e.vertexPoints,this.redoElement.leaderHeight=e.leaderHeight),this.inAction=!0},Xe.prototype.mouseUp=function(e){this.commandHandler&&e.source&&(this.checkisAnnotationMove(e),t=!1,i=e.source.annotationSelectorSettings,this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([e.source.id],i),this.pdfViewerBase.activeElements.activePageID===e.source.pageIndex&&"Drag"===this.pdfViewerBase.action&&this.commandHandler.dragSelectedObjects(this.calculateMouseActionXDiff(e),this.calculateMouseActionYDiff(e),this.pdfViewerBase.activeElements.activePageID,i,null),!e.source||"Textbox"!==e.source.formFieldAnnotationType&&"Checkbox"!==e.source.formFieldAnnotationType&&"RadioButton"!==e.source.formFieldAnnotationType&&"ListBox"!==e.source.formFieldAnnotationType&&"SignatureField"!==e.source.formFieldAnnotationType&&"InitialField"!==e.source.formFieldAnnotationType&&"DropdownList"!==e.source.formFieldAnnotationType&&"PasswordField"!==e.source.formFieldAnnotationType||this.commandHandler.formDesignerModule.updateHTMLElement(e.source),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,i),this.commandHandler.viewerBase.isAnnotationMouseMove=!1,this.commandHandler.viewerBase.isFormFieldMouseMove=!1,i={bounds:{x:e.source.wrapper.offsetX,y:e.source.wrapper.offsetY,width:e.source.wrapper.actualSize.width,height:e.source.wrapper.actualSize.height},modifiedDate:e.source.modifiedDate},Ae(e.source)&&(i.vertexPoints=e.source.vertexPoints,i.leaderHeight=e.source.leaderHeight),e.target&&e.target.formFieldAnnotationType&&(a={value:(n=e.target).value,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,color:n.color,backgroundColor:n.backgroundColor,borderColor:n.borderColor,thickness:n.thickness,alignment:n.alignment,isReadonly:n.isReadonly,visibility:n.visibility,maxLength:n.maxLength,isRequired:n.isRequired,isPrint:n.isPrint,rotation:n.rotateAngle,tooltip:n.tooltip,options:n.options,isChecked:n.isChecked,isSelected:n.isSelected},o={X:e.source.wrapper.offsetX,Y:e.source.wrapper.offsetY,Width:e.source.wrapper.actualSize.width,Height:e.source.wrapper.actualSize.height},r={X:this.offset.x,Y:this.offset.y,Width:e.source.wrapper.actualSize.width,Height:e.source.wrapper.actualSize.height},this.commandHandler.fireFormFieldMoveEvent("formFieldMove",a,n.pageIndex,r,o)),G.isNullOrUndefined(this.redoElement)||this.redoElement.bounds.height===i.bounds.height&&this.redoElement.bounds.width===i.bounds.width&&this.redoElement.bounds.x===i.bounds.x&&this.redoElement.bounds.y===i.bounds.y||(t=!0),this.commandHandler.annotation)&&t&&(this.commandHandler.annotation.addAction(this.pageIndex,null,e.source,"Drag","",this.redoElement,i),this.commandHandler.annotation.stampAnnotationModule.updateSessionStorage(e.source,null,"Drag"),this.commandHandler.annotation.stickyNotesAnnotationModule.updateStickyNotes(e.source,null));var t,i,n,o,r,a=this.commandHandler&&this.commandHandler.selectedItems&&this.commandHandler.selectedItems.annotations&&0<this.commandHandler.selectedItems.annotations.length?this.commandHandler.selectedItems.annotations[0].shapeAnnotationType:null;a&&"Image"!==a&&"SignatureImage"!==a?Ze.prototype.mouseUp.call(this,e):"Image"===a||"SignatureImage"===a?this.inAction=!1:this.commandHandler&&this.commandHandler.selectedItems&&this.commandHandler.selectedItems.formFields&&0<this.commandHandler.selectedItems.formFields.length&&Ze.prototype.mouseUp.call(this,e)},Xe.prototype.calculateMouseXDiff=function(){return this.currentPosition&&this.startPosition?this.currentPosition.x-this.startPosition.x:0},Xe.prototype.calculateMouseYDiff=function(){return this.currentPosition&&this.startPosition?this.currentPosition.y-this.startPosition.y:0},Xe.prototype.calculateMouseActionXDiff=function(e){var t=this.calculateMouseXDiff()/this.commandHandler.viewerBase.getZoomFactor();return this.offset?this.offset.x+t-e.source.wrapper.offsetX:0},Xe.prototype.calculateMouseActionYDiff=function(e){var t=this.calculateMouseYDiff()/this.commandHandler.viewerBase.getZoomFactor();return this.offset?this.offset.y+t-e.source.wrapper.offsetY:0},Xe.prototype.mouseMove=function(e,t,i){var n,o,r,a,s,l,A,d;return Ze.prototype.mouseMove.call(this,e),this.inAction&&(this.currentPosition=e.position,this.currentTarget=e.target,n=e.source.annotationSelectorSettings,d=this.calculateMouseXDiff()/this.commandHandler.viewerBase.getZoomFactor(),o=this.calculateMouseYDiff()/this.commandHandler.viewerBase.getZoomFactor(),d=this.offset.x+d,o=this.offset.y+o,r=this.calculateMouseActionXDiff(e),a=this.calculateMouseActionYDiff(e),s=this.commandHandler.selectedItems.annotations[0],l=void 0,this.helper?(r=d-this.helper.wrapper.offsetX,a=o-this.helper.wrapper.offsetY):((l=0<this.commandHandler.selectedItems.annotations.length?M(this.commandHandler.selectedItems.annotations[0]):M(this.commandHandler.selectedItems.formFields[0])).wrapper&&(r=d-l.wrapper.offsetX,a=o-l.wrapper.offsetY,l.bounds=(0<this.commandHandler.selectedItems.annotations.length?this.commandHandler.selectedItems.annotations:this.commandHandler.selectedItems.formFields)[0].wrapper.bounds),l.wrapper=void 0,l.id="diagram_helper","Stamp"===l.shapeAnnotationType?(l.strokeColor="",l.borderDashArray="",l.fillColor="transparent",l.stampFillColor="transparent",l.data=""):"FreeText"===l.shapeAnnotationType?(l.strokeColor="blue",l.fillColor="transparent",l.thickness=1,l.opacity=1,l.dynamicText=""):"SignatureText"===l.shapeAnnotationType?(l.strokeColor="red",l.borderDashArray="5,5",l.fillColor="transparent",l.thickness=2,l.opacity=1,l.data=""):(l.strokeColor="red",l.borderDashArray="5,5",l.fillColor="transparent",l.thickness=2,l.opacity=1),!0===l.enableShapeLabel&&(l.labelContent=""),A=l.shapeAnnotationType,t||"Image"===A||"SignatureImage"===A?l=this.helper=e.source:this.helper=l=this.commandHandler.add(l),0<this.commandHandler.selectedItems.annotations.length?this.commandHandler.selectedItems.annotations=[l]:this.commandHandler.selectedItems.formFields=[l]),this.helper&&"Stamp"===this.helper.shapeAnnotationType&&(t=!0),this.commandHandler.checkBoundaryConstraints(r,a,this.pdfViewerBase.activeElements.activePageID,this.helper.wrapper.bounds,t,i)?(A=this.helper.shapeAnnotationType,!this.helper||"Image"!==A&&"SignatureImage"!==A?this.commandHandler.dragSelectedObjects(r,a,this.pdfViewerBase.activeElements.activePageID,n,this.helper):(this.checkisAnnotationMove(e),d=e.source.annotationSelectorSettings,this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([e.source.id],d),this.commandHandler.dragSelectedObjects(r,a,this.pdfViewerBase.activeElements.activePageID,d,this.helper),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,d)),this.prevNode=this.helper,this.prevPosition=this.currentPosition):this.currentPosition=this.prevPosition,s)&&s.annotName&&this.commandHandler.annotation.triggerAnnotationMove(s,!0),!0},Xe.prototype.mouseLeave=function(e){var t=e.source.annotationSelectorSettings,i=this.offset.x+this.calculateMouseXDiff(),n=this.offset.y+this.calculateMouseYDiff(),i=i-e.source.wrapper.offsetX,n=n-e.source.wrapper.offsetY;this.commandHandler.dragSelectedObjects(i,n,this.prevPageId,t,null),this.commandHandler.renderSelector(this.prevPageId,t),Ze.prototype.mouseLeave.call(this,e)},Xe.prototype.endAction=function(){Ze.prototype.endAction.call(this),this.currentTarget=null,this.prevPosition=null},Xe.prototype.checkisAnnotationMove=function(e){this.commandHandler.selectedItems&&this.commandHandler.selectedItems.annotations&&0<this.commandHandler.selectedItems.annotations.length?this.commandHandler.selectedItems.annotations[0].annotName===e.source.annotName&&(this.commandHandler.viewerBase.isAnnotationMouseMove=!0):this.commandHandler.viewerBase.isAnnotationMouseMove=!1,this.commandHandler.selectedItems&&this.commandHandler.selectedItems.formFields&&0<this.commandHandler.selectedItems.formFields.length?this.commandHandler.selectedItems.formFields[0].name===e.source.name&&(this.commandHandler.viewerBase.isFormFieldMouseMove=!0):this.commandHandler.viewerBase.isFormFieldMouseMove=!1};var Ze,_e=Xe;function Xe(e,t){e=Ze.call(this,e,t)||this;return e.currentTarget=null,e.prevNode=null,e}e(et,qe=_e),et.prototype.mouseDown=function(e){qe.prototype.mouseUp.call(this,e)},et.prototype.mouseMove=function(e){this.inAction||(n=this.pdfViewerBase.activeElements.activePageID,this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),"SignatureText"===(n=this.commandHandler.annotation.stampAnnotationModule.moveStampElement(e.position.x,e.position.y,n)).shapeAnnotationType&&(i=1,(t=this.getTextWidth(n.data,n.fontSize,n.fontFamily))>n.bounds.width&&(i=n.bounds.width/t),n.fontSize=this.getFontSize(Math.floor(n.fontSize*i)),n.bounds.height=n.fontSize<32?2*n.fontSize:n.bounds.height,n.thickness=0),t=this.commandHandler.add(n),e.source=this.commandHandler.annotations[this.commandHandler.annotations.length-1],e.sourceWrapper=e.source.wrapper,this.inAction=!0,!(i=e.source)||"HandWrittenSignature"!==i.shapeAnnotationType&&"SignatureText"!==i.shapeAnnotationType&&"SignatureImage"!==i.shapeAnnotationType?this.offset={x:e.source.wrapper.offsetX,y:e.source.wrapper.offsetY}:this.offset={x:e.source.wrapper.offsetX-e.source.wrapper.bounds.width/2,y:e.source.wrapper.offsetY-e.source.wrapper.bounds.height/2},this.startPosition=e.position,this.commandHandler.select([t.id]));var t,i,n=e.source.annotationSelectorSettings;return qe.prototype.mouseMove.call(this,e,!0,!0),this.commandHandler.renderSelector(e.source.pageIndex,n),this.inAction},et.prototype.getTextWidth=function(e,t,i){var n,o=document.createElement("canvas"),r=o.getContext("2d"),t=(r.font=(n=t?t+"px "+i:n)||getComputedStyle(document.body).font,r.measureText(e).width);return this.pdfViewerBase.releaseCanvas(o),t},et.prototype.getFontSize=function(e){return e%2==0?e:--e};var qe,$e=et;function et(){return null!==qe&&qe.apply(this,arguments)||this}e(nt,tt=K),nt.prototype.mouseDown=function(e){this.pdfViewerBase.disableTextSelectionMode(),tt.prototype.mouseDown.call(this,e),this.inAction=!0;e={currentPosition:this.currentPosition,prevPosition:this.prevPosition};this.commandHandler.annotation.inkAnnotationModule.drawInkInCanvas(e,this.pdfViewerBase.activeElements.activePageID)},nt.prototype.mouseMove=function(e){return tt.prototype.mouseMove.call(this,e),this.inAction&&(e={currentPosition:this.currentPosition,prevPosition:this.pdfViewerBase.prevPosition},this.commandHandler.annotation.inkAnnotationModule.drawInkInCanvas(e,this.pdfViewerBase.activeElements.activePageID)),this.inAction},nt.prototype.mouseUp=function(e){return this.commandHandler.annotation.inkAnnotationModule.storePathData(),!0},nt.prototype.mouseLeave=function(e){},nt.prototype.endAction=function(){tt.prototype.endAction.call(this)};var tt,it=nt;function nt(e,t,i){e=tt.call(this,e,t)||this;return e.sourceObject=i,e}e(at,ot=K),at.prototype.mouseDown=function(e){this.inAction=!0,this.undoElement=void 0,ot.prototype.mouseDown.call(this,e),e.source&&e.source.annotations&&(this.prevPosition.x,this.prevPosition.y,e.source.annotations[0]),this.initialPosition=e.position,this.prevSource=this.commandHandler.selectedItems.annotations[0];var t=M(e.source);this.redoElement={bounds:{x:t.wrapper.offsetX,y:t.wrapper.offsetY,width:t.wrapper.actualSize.width,height:t.wrapper.actualSize.height}},Ae(t)&&(this.redoElement.vertexPoints=t.vertexPoints,this.redoElement.leaderHeight=t.leaderHeight,"Distance"!==t.measureType&&"Perimeter"!==t.measureType&&"Area"!==t.measureType&&"Volume"!==t.measureType||(this.redoElement.notes=t.notes)),this.currentPosition=e.position},at.prototype.mouseUp=function(e){var t,i,n,o,r,a,s,l;this.commandHandler&&(i=!1,t=this.commandHandler.selectedItems.annotations[0])&&(r=o=n=l=0,((a=this.commandHandler.annotationModule.findAnnotationSettings(t)).minWidth||a.maxWidth||a.minHeight||a.maxHeight)&&(l=a.maxHeight||2e3,n=a.maxWidth||2e3,o=a.minHeight||0,r=a.minWidth||0),3<t.vertexPoints.length?(s=(a=this.commandHandler.viewerBase.checkAnnotationWidth(t.vertexPoints)).width,a=a.height,(!(o||r||l||n)||o<a&&a<l||r<s&&s<n)&&this.commandHandler.nodePropertyChange(this.prevSource,{vertexPoints:t.vertexPoints,leaderHeight:t.leaderHeight})):(!(o||r||l||n)||"Line"!==t.shapeAnnotationType&&"Distance"!==t.shapeAnnotationType&&"LineWidthArrowHead"!==t.shapeAnnotationType||(a=t.vertexPoints[s=a=0].x>t.vertexPoints[1].x?t.vertexPoints[0].x-t.vertexPoints[1].x:t.vertexPoints[1].x-t.vertexPoints[0].x,(a=(s=t.vertexPoints[0].y>t.vertexPoints[1].y?t.vertexPoints[0].y-t.vertexPoints[1].y:t.vertexPoints[1].y-t.vertexPoints[0].y)<a?a:s)<(l||n)&&(o||r)<a))&&this.commandHandler.nodePropertyChange(this.prevSource,{vertexPoints:t.vertexPoints,leaderHeight:t.leaderHeight}),s=e.source.annotationSelectorSettings,this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([this.prevSource.id],s),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,s),l={bounds:{x:e.source.wrapper.offsetX,y:e.source.wrapper.offsetY,width:e.source.wrapper.actualSize.width,height:e.source.wrapper.actualSize.height}},"Distance"!==t.measureType&&"Perimeter"!==t.measureType&&"Area"!==t.measureType&&"Volume"!==t.measureType||(this.commandHandler.annotation.updateCalibrateValues(this.commandHandler.selectedItems.annotations[0]),l.notes=e.source.notes),Ae(e.source)&&(l.vertexPoints=e.source.vertexPoints,l.leaderHeight=e.source.leaderHeight),i=this.redoElement.bounds.height!==l.bounds.height||this.redoElement.bounds.width!==l.bounds.width||this.redoElement.bounds.x!==l.bounds.x||this.redoElement.bounds.y!==l.bounds.y||i)&&this.commandHandler.annotation.addAction(this.pageIndex,null,this.prevSource,"Resize","",this.redoElement,l),ot.prototype.mouseUp.call(this,e)},at.prototype.mouseMove=function(e){var t,i;return ot.prototype.mouseMove.call(this,e),this.currentPosition=e.position,this.currentPosition&&this.prevPosition&&(t=this.currentPosition.x-this.prevPosition.x,i=this.currentPosition.y-this.prevPosition.y,0,e.source&&e.source.annotations&&(this.currentPosition.x,this.currentPosition.y,this.prevPosition.x,this.prevPosition.y,e.source.annotations[0]),this.inAction&&void 0!==this.endPoint&&0!=t||0!=i)&&(this.helper||((t=M(this.commandHandler.selectedItems.annotations[0])).id="diagram_helper",t.strokeColor="red",t.borderDashArray="5,5",t.fillColor="transparent",t.thickness=2,t.opacity=1,!0===t.enableShapeLabel&&(t.labelContent=""),this.helper=t=this.commandHandler.add(t),this.commandHandler.selectedItems.annotations=[t]),i=e.source.annotationSelectorSettings,this.blocked=!this.commandHandler.dragConnectorEnds(this.endPoint,this.helper,this.currentPosition,this.selectedSegment,e.target,null,i),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,i)),this.prevPosition=this.currentPosition,!this.blocked},at.prototype.mouseLeave=function(e){this.mouseUp(e)},at.prototype.endAction=function(){ot.prototype.endAction.call(this),this.prevPosition=null,this.endPoint=null};var ot,rt=at;function at(e,t,i){e=ot.call(this,e,t,!0)||this;return e.endPoint=i,e}e(At,st=K),At.prototype.mouseDown=function(e){st.prototype.mouseDown.call(this,e),this.initialBounds.x=e.source.wrapper.offsetX,this.initialBounds.y=e.source.wrapper.offsetY,this.initialBounds.height=e.source.wrapper.actualSize.height,this.initialBounds.width=e.source.wrapper.actualSize.width,this.initialPosition=e.position;e=M(e.source);this.redoElement={bounds:{x:e.wrapper.offsetX,y:e.wrapper.offsetY,width:e.wrapper.actualSize.width,height:e.wrapper.actualSize.height}},Ae(e)&&(this.redoElement.vertexPoints=e.vertexPoints,this.redoElement.leaderHeight=e.leaderHeight),"Radius"===e.measureType&&(this.redoElement.notes=e.notes),this.prevSource=(0<this.commandHandler.selectedItems.annotations.length?this.commandHandler.selectedItems.annotations:this.commandHandler.selectedItems.formFields)[0]},At.prototype.mouseUp=function(e,t){e.source;var i,n,o=M(e.source),r=!1;return this.commandHandler&&this.prevSource&&(this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.viewerBase.isAnnotationSelect=!0,this.commandHandler.viewerBase.isFormFieldSelect=!0,this.commandHandler.select([this.prevSource.id],this.prevSource.annotationSelectorSettings),i=this.updateSize(this.prevSource,this.currentPosition,this.initialPosition,this.corner,this.initialBounds,null,!0),this.blocked=this.scaleObjects(i.width,i.height,this.corner,this.currentPosition,this.initialPosition,this.prevSource,e.info.ctrlKey),this.commandHandler.selectedItems&&this.commandHandler.selectedItems.annotations&&this.commandHandler.selectedItems.annotations[0]&&"Stamp"===this.commandHandler.selectedItems.annotations[0].shapeAnnotationType&&(this.commandHandler.stampSettings.minHeight||this.commandHandler.stampSettings.minWidth)&&this.commandHandler.select([this.prevSource.id],this.prevSource.annotationSelectorSettings),0<this.commandHandler.selectedItems.formFields.length&&("Textbox"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"Checkbox"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"RadioButton"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"InitialField"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"SignatureField"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"DropdownList"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"ListBox"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"PasswordField"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType)&&("SignatureField"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType&&(this.commandHandler.selectedItems.formFields[0].signatureIndicatorSettings=this.commandHandler.selectedItems.formFields[0].signatureIndicatorSettings||{opacity:1,backgroundColor:"rgba(255, 228, 133, 0.35)",width:19,height:10,fontSize:10,text:null,color:"black"}),this.commandHandler.formDesignerModule.updateHTMLElement(this.commandHandler.selectedItems.formFields[0])),this.commandHandler.renderSelector(this.prevPageId,this.prevSource.annotationSelectorSettings),this.commandHandler.annotation&&e.source.wrapper&&(i={bounds:{x:e.source.wrapper.offsetX,y:e.source.wrapper.offsetY,width:e.source.wrapper.actualSize.width,height:e.source.wrapper.actualSize.height}},Ae(e.source)&&(i.vertexPoints=e.source.vertexPoints,i.leaderHeight=e.source.leaderHeight),this.redoElement.bounds.height===i.bounds.height&&this.redoElement.bounds.width===i.bounds.width&&this.redoElement.bounds.x===i.bounds.x&&this.redoElement.bounds.y===i.bounds.y||(r=!0),"Radius"===this.prevSource.measureType&&r&&(i.notes=e.source.notes,this.commandHandler.annotation.updateCalibrateValues(this.prevSource)),"SignatureText"===this.prevSource.shapeAnnotationType&&(o=(o.bounds&&o.bounds.width?o.bounds:o).width,o=i.bounds.width/o,i.fontSize=this.prevSource.wrapper.children[1].style.fontSize*o,null!=e.target)&&(e.target.fontSize=i.fontSize,e.target.wrapper.children[1].style.fontSize=i.fontSize,e.target.wrapper.children[1].horizontalAlignment="Center",e.target.wrapper.children[1].verticalAlignment="Center",e.target.wrapper.children[1].setOffsetWithRespectToBounds(0,0,"Absolute"),this.commandHandler.selectedItems.annotations[0].wrapper.children[1].style.fontSize=i.fontSize,this.commandHandler.selectedItems.annotations[0].wrapper.children[1].horizontalAlignment="Center",this.commandHandler.selectedItems.annotations[0].wrapper.children[1].verticalAlignment="Center",this.commandHandler.selectedItems.annotations[0].wrapper.children[1].setOffsetWithRespectToBounds(0,0,"Absolute"),this.commandHandler.selectedItems.annotations[0].fontSize=i.fontSize),"SignatureText"===this.prevSource.shapeAnnotationType&&this.commandHandler.selectedItems.annotations&&0<this.commandHandler.selectedItems.annotations.length&&this.commandHandler.nodePropertyChange(this.commandHandler.selectedItems.annotations[0],{fontSize:i.fontSize}),r)&&this.commandHandler.annotation.addAction(this.pageIndex,null,this.prevSource,"Resize","",this.redoElement,i),e.target&&e.target.formFieldAnnotationType&&(o=e.target,r={id:e.source.id,value:o.value,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,color:o.color,backgroundColor:o.backgroundColor,alignment:o.alignment,isReadonly:o.isReadonly,visibility:o.visibility,maxLength:o.maxLength,isRequired:o.isRequired,isPrint:o.isPrint,rotation:o.rotateAngle,tooltip:o.tooltip,options:o.options,isChecked:o.isChecked,isSelected:o.isSelected},i={X:e.source.wrapper.offsetX,Y:e.source.wrapper.offsetY,Width:e.source.wrapper.actualSize.width,Height:e.source.wrapper.actualSize.height},n={X:this.initialBounds.x,Y:this.initialBounds.y,Width:this.initialBounds.width,Height:this.initialBounds.height},this.commandHandler.fireFormFieldResizeEvent("formFieldResize",r,o.pageIndex,n,i)),this.commandHandler.annotation)&&this.commandHandler.annotation.stampAnnotationModule&&this.commandHandler.annotation.stampAnnotationModule.updateSessionStorage(e.source,this.prevSource.id,"Resize"),st.prototype.mouseUp.call(this,e),!this.blocked},At.prototype.mouseMove=function(e){st.prototype.mouseMove.call(this,e);var t=e.source,i=(this.currentPosition=e.position,this.currentPosition.x-this.startPosition.x),n=this.currentPosition.y-this.startPosition.y,o=(i/=this.commandHandler.viewerBase.getZoomFactor(),n/=this.commandHandler.viewerBase.getZoomFactor(),e.source),r=this.getPoints(i,n),a=o.width+r.x,r=o.height+r.y,s=t,t=(t&&t.annotations&&(s=t.annotations[0]),this.commandHandler.annotationModule?this.commandHandler.annotationModule.findAnnotationSettings(s):{}),s=0,l=0,A=0,d=0,t=((t.minWidth||t.maxWidth||t.minHeight||t.maxHeight)&&(s=t.maxHeight||2e3,l=t.maxWidth||2e3,A=t.minHeight||0,d=t.minWidth||0),(A||d||s||l)&&(r<A?n=A-o.height:s<r&&(n=s-o.height),a<d?i=d-o.width:l<a&&(i=l-o.width)),{x:i,y:n}),r=(this.currentElement.wrapper&&(t=J.rotatePoint(-this.currentElement.wrapper.rotateAngle,void 0,void 0,t)),t=this.getChanges(t),this.commandHandler.renderSelector(this.prevPageId,this.prevSource.annotationSelectorSettings),this.helper||((A=0<this.commandHandler.selectedItems.annotations.length?M(this.commandHandler.selectedItems.annotations[0]):M(this.commandHandler.selectedItems.formFields[0])).id="diagram_helper","Stamp"===A.shapeAnnotationType?(A.strokeColor="",A.borderDashArray="",A.fillColor="transparent",A.stampFillColor="transparent",A.data=""):"FreeText"===A.shapeAnnotationType?(A.strokeColor="blue",A.fillColor="transparent",A.thickness=1,A.opacity=1,A.dynamicText=""):(A.bounds=(0<this.commandHandler.selectedItems.annotations.length?this.commandHandler.selectedItems.annotations:this.commandHandler.selectedItems.formFields)[0].wrapper.bounds,A.strokeColor="red",A.borderDashArray="5,5",A.fillColor="transparent",A.thickness=2,A.opacity=1),!0===A.enableShapeLabel&&(A.labelContent=""),"SignatureText"===A.shapeAnnotationType&&(A.fillColor="transparent",A.thickness=1,A.opacity=1,A.data=""),this.helper=A=this.commandHandler.add(A),0<this.commandHandler.selectedItems.annotations.length?this.commandHandler.selectedItems.annotations=[A]:this.commandHandler.selectedItems.formFields=[A]),this.updateSize(this.helper,this.startPosition,this.currentPosition,this.corner,this.initialBounds));return this.blocked=!this.scaleObjects(r.width,r.height,this.corner,this.startPosition,this.currentPosition,this.helper,e.info.ctrlKey),this.prevPosition=this.currentPosition,!this.blocked},At.prototype.mouseLeave=function(e){this.mouseUp(e)},At.prototype.getTooltipContent=function(e){return"W:"+Math.round(e.wrapper.bounds.width)+" H:"+Math.round(e.wrapper.bounds.height)},At.prototype.getChanges=function(e){switch(this.corner){case"ResizeEast":return{x:e.x,y:0};case"ResizeSouthEast":return e;case"ResizeSouth":return{x:0,y:e.y};case"ResizeNorth":return{x:0,y:-e.y};case"ResizeNorthEast":return{x:e.x,y:-e.y};case"ResizeNorthWest":return{x:-e.x,y:-e.y};case"ResizeWest":return{x:-e.x,y:0};case"ResizeSouthWest":return{x:-e.x,y:e.y}}return e},At.prototype.getPoints=function(e,t){switch(this.corner){case"ResizeEast":return{x:e,y:0};case"ResizeSouthEast":return{x:e,y:t};case"ResizeSouth":return{x:0,y:t};case"ResizeNorth":return{x:0,y:-t};case"ResizeNorthEast":return{x:e,y:-t};case"ResizeNorthWest":return{x:-e,y:-t};case"ResizeWest":return{x:-e,y:0};case"ResizeSouthWest":return{x:-e,y:t}}return{x:e,y:t}},At.prototype.scaleObjects=function(e,t,i,n,o,r,a){var s=this.commandHandler.annotationModule?this.commandHandler.annotationModule.findAnnotationSettings(r):{},l=0,A=0,d=this.currentPosition.x-this.startPosition.x,p=this.currentPosition.y-this.startPosition.y,h=(d/=this.commandHandler.viewerBase.getZoomFactor(),p/=this.commandHandler.viewerBase.getZoomFactor(),r),d=this.getPoints(d,p),p=h.bounds.width+d.x,h=h.bounds.height+d.y;return(s.minWidth||s.maxWidth||s.minHeight||s.maxHeight)&&(l=s.maxHeight||2e3,A=s.maxWidth||2e3,s.minHeight,s.minWidth),r instanceof se&&1===r.annotations.length&&("Perimeter"===r.annotations[0].shapeAnnotationType||"Radius"===r.annotations[0].shapeAnnotationType||"Stamp"===r.shapeAnnotationType)?t=e=1!==t||1!==e?Math.max(1===t?0:t,1===e?0:e):n!==o?Math.max(t,e):0:"Image"===r.shapeAnnotationType||"HandWrittenSignature"===r.shapeAnnotationType||"SignatureText"===r.shapeAnnotationType||"SignatureImage"===r.shapeAnnotationType?(1===t&&1===e||a&&(A<=p&&h<l&&(t=Math.max(t,e)),l<=h&&p<A&&(e=Math.max(t,e)),p<A)&&h<l&&(t=e=Math.max(t,e)),a||(t=e=Math.max(t,e))):"Perimeter"!==r.shapeAnnotationType&&"Radius"!==r.shapeAnnotationType&&"Stamp"!==r.shapeAnnotationType||("Stamp"===r.shapeAnnotationType?(l||(t=t||Math.max(1===t?0:t)),A||(e=e||Math.max(1===e?0:e))):l&&A||1===t&&1===e||(t=e=Math.max(1===t?0:t,1===e?0:e))),this.blocked=this.commandHandler.scaleSelectedItems(e,t,this.getPivot(this.corner)),this.blocked};var st,lt=At;function At(e,t,i){e=st.call(this,e,t,!0)||this;return e.initialBounds=new J.Rect,e.corner=i,e}e(ht,dt=K),ht.prototype.mouseDown=function(e){var t,i,n,o;isNaN(this.pdfViewerBase.activeElements.activePageID)||"e-pv-page-container"===event.target.className||(dt.prototype.mouseDown.call(this,e),this.inAction=!0,(e={bounds:{x:100,y:300,width:100,height:100},pageIndex:0,strokeColor:"red",thickness:3}).id=J.randomId(),this.sourceObject.pageIndex=e.pageIndex=this.pdfViewerBase.activeElements.activePageID||0,this.sourceObject.enableShapeLabel=this.commandHandler.enableShapeLabel,this.pdfViewerBase.updateFreeTextProperties(this.sourceObject),this.isFormDesign=!1,(t=document.getElementById("FormField_helper_html_element"))&&t.remove(),this.commandHandler.drawingObject=this.drawingObject=this.commandHandler.add(this.sourceObject||e),"Textbox"!==this.drawingObject.formFieldAnnotationType&&"SignatureField"!==this.drawingObject.formFieldAnnotationType&&"InitialField"!==this.drawingObject.formFieldAnnotationType&&"Checkbox"!==this.drawingObject.formFieldAnnotationType&&"ListBox"!==this.drawingObject.formFieldAnnotationType&&"RadioButton"!==this.drawingObject.formFieldAnnotationType&&"DropdownList"!==this.drawingObject.formFieldAnnotationType&&"PasswordField"!==this.drawingObject.formFieldAnnotationType)||(this.inAction=!1,this.drawingObject.pageNumber=this.pdfViewerBase.getActivePage(!0),t=this.commandHandler.formDesignerModule.updateFormFieldInitialSize(this.drawingObject.wrapper.children[0],this.drawingObject.formFieldAnnotationType),e=this.drawingObject.pageIndex,o=(e=this.pdfViewerBase.getElement("_pageDiv_"+e)).clientWidth-t.width,t=e.clientHeight-t.height,e=e.offsetLeft,i=void 0,n=void(i=this.currentPosition.y>=t&&event.target&&event.target.parentElement&&event.target.parentElement.classList.contains("foreign-object")&&event.path?(n=event.path[3].getBoundingClientRect(),event.clientX-n.left):!G.isNullOrUndefined(event.path)||"SignatureField"!==this.drawingObject.formFieldAnnotationType&&"InitialField"!==this.drawingObject.formFieldAnnotationType?this.currentPosition.x-e:this.currentPosition.x),n=this.currentPosition.x>=o&&this.currentPosition.y>=t?{x:o,y:t,width:this.drawingObject.wrapper.children[0].width,height:this.drawingObject.wrapper.children[0].height}:this.currentPosition.x>=o?{x:o,y:this.currentPosition.y,width:this.drawingObject.wrapper.children[0].width,height:this.drawingObject.wrapper.children[0].height}:this.currentPosition.y>=t?{x:i,y:t,width:this.drawingObject.wrapper.children[0].width,height:this.drawingObject.wrapper.children[0].height}:{x:this.currentPosition.x,y:this.currentPosition.y,width:this.drawingObject.wrapper.children[0].width,height:this.drawingObject.wrapper.children[0].height},this.updateNodeDimension(this.drawingObject,n),this.drawingObject.bounds.x=this.drawingObject.bounds.x-this.drawingObject.bounds.width/2,this.drawingObject.bounds.y=this.drawingObject.bounds.y-this.drawingObject.bounds.height/2,this.commandHandler.formFieldCollection.push(this.drawingObject),o={id:(e=this.drawingObject).id,name:e.name,value:e.value,type:e.formFieldAnnotationType,isReadOnly:e.isReadonly,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,color:e.color,backgroundColor:e.backgroundColor,alignment:e.alignment,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,isSelected:e.isSelected,isChecked:e.isChecked,tooltip:e.tooltip,bounds:e.bounds,thickness:e.thickness,borderColor:e.borderColor,signatureIndicatorSettings:e.signatureIndicatorSettings,pageIndex:e.pageIndex,pageNumber:e.pageNumber,isMultiline:e.isMultiline,insertSpaces:e.insertSpaces,isTransparent:e.isTransparent,rotateAngle:e.rotateAngle,selectedIndex:e.selectedIndex,options:e.options||[],signatureType:e.signatureType,zIndex:e.zIndex,customData:e.customData||""},this.commandHandler.formFieldCollections.push(o),this.commandHandler.formDesignerModule.drawHTMLContent(this.drawingObject.formFieldAnnotationType,this.drawingObject.wrapper.children[0],this.drawingObject,this.drawingObject.pageIndex,this.commandHandler),this.commandHandler.select([this.commandHandler.drawingObject.id],this.commandHandler.annotationSelectorSettings),this.commandHandler.annotation&&this.commandHandler.annotation.addAction(this.pdfViewerBase.getActivePage(!0),null,this.drawingObject,"Addition","",this.drawingObject,this.drawingObject),this.endAction(),this.pdfViewerBase.tool=null,this.pdfViewerBase.action="Select",this.drawingObject=null,this.pdfViewerBase.isMouseDown=!1,this.pdfViewerBase.pdfViewer.drawingObject=null,this.isFormDesign=!0)},ht.prototype.mouseMove=function(e){return dt.prototype.mouseMove.call(this,e),this.inAction&&!1===J.Point.equals(this.currentPosition,this.prevPosition)&&(this.dragging=!0,e=J.Rect.toBounds([this.prevPosition,this.currentPosition]),G.isNullOrUndefined(this.drawingObject)||(this.updateNodeDimension(this.drawingObject,e),"Radius"===this.drawingObject.shapeAnnotationType&&this.updateRadiusLinePosition(this.drawingObject.wrapper.children[1],this.drawingObject))),!0},ht.prototype.mouseUp=function(e){var t;this.drawingObject&&this.dragging?(this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),G.isNullOrUndefined(e.source)||G.isNullOrUndefined(e.source.annotationSelectorSettings)||this.commandHandler.select([this.drawingObject.id],e.source.annotationSelectorSettings),t=this.commandHandler.selectedItems.annotations[0],G.isNullOrUndefined(t)||G.isNullOrUndefined(t.wrapper)||(this.commandHandler.nodePropertyChange(t,{bounds:{x:t.wrapper.offsetX,y:t.wrapper.offsetY}}),this.commandHandler.annotation.updateCalibrateValues(this.drawingObject,!0),this.commandHandler&&!this.isFormDesign&&this.commandHandler.annotation.addAction(this.pageIndex,null,this.drawingObject,"Addition","",this.drawingObject,this.drawingObject),this.dragging=!1,dt.prototype.mouseUp.call(this,e),this.inAction=!1)):dt.prototype.mouseUp.call(this,e),this.drawingObject=null},ht.prototype.endAction=function(){dt.prototype.endAction.call(this)},ht.prototype.updateNodeDimension=function(e,t){var i,n=this.commandHandler.viewerBase.getZoomFactor();!G.isNullOrUndefined(e)&&(e.bounds.x=t.x/n+t.width/n,e.bounds.y=t.y/n+t.height/n,e.bounds.width=t.width/n,e.bounds.height=t.height/n,n=t=0,!(i=this.commandHandler.annotationModule?this.commandHandler.annotationModule.findAnnotationSettings(e):{}).maxWidth&&!i.maxHeight||(t=i.maxHeight||2e3,n=i.maxWidth||2e3,e.bounds.width>n&&(e.bounds.width=n),e.bounds.height>t&&(e.bounds.height=t),e.bounds.height<=t&&e.bounds.width<=n))&&this.commandHandler.nodePropertyChange(e,{bounds:e.bounds})},ht.prototype.updateRadiusLinePosition=function(e,t){var i={x:t.bounds.x+t.bounds.width/4,y:t.bounds.y},n={x:t.bounds.x+t.bounds.width/2,y:t.bounds.y+t.bounds.height/2},o=J.identityMatrix(),n=(J.rotateMatrix(o,t.rotateAngle,n.x,n.y),J.transformPointByMatrix(o,i)),o={x:n.x,y:n.y},i=(e.offsetX=o.x,e.offsetY=o.y,e.width=t.bounds.width/2,this.commandHandler.annotationModule.findAnnotationSettings(t));i.maxWidth&&(n=i.maxWidth||2e3,t.bounds.width>n)&&(t.bounds.width=n,e.width=t.bounds.width/2),this.commandHandler.renderDrawing(void 0,t.pageIndex)};var dt,pt=ht;function ht(e,t,i){e=dt.call(this,e,t)||this;return e.sourceObject=i,e}e(ut,ct=K),ut.prototype.mouseDown=function(e){var t,i;ct.prototype.mouseDown.call(this,e),this.inAction=!0,this.drawingObject?(e=void 0,e={x:(e=(t=this.drawingObject).vertexPoints[t.vertexPoints.length-1]).x,y:e.y},(i=this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length-1]).x===e.x&&i.x===e.y||this.drawingObject.vertexPoints.push(e),this.commandHandler.nodePropertyChange(t,{vertexPoints:t.vertexPoints})):(this.startPoint={x:this.startPosition.x,y:this.startPosition.y},i={bounds:{x:this.currentPosition.x,y:this.currentPosition.y,width:5,height:5},vertexPoints:[{x:this.startPoint.x/this.pdfViewerBase.getZoomFactor(),y:this.startPoint.y/this.pdfViewerBase.getZoomFactor()},{x:this.currentPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.currentPosition.y/this.pdfViewerBase.getZoomFactor()}],shapeAnnotationType:"Line",fillColor:this.commandHandler.drawingObject.fillColor,strokeColor:this.commandHandler.drawingObject.strokeColor,pageIndex:this.pdfViewerBase.activeElements.activePageID,notes:this.commandHandler.drawingObject.notes,thickness:this.commandHandler.drawingObject.thickness,author:this.commandHandler.drawingObject.author,subject:this.commandHandler.drawingObject.subject,borderDashArray:this.commandHandler.drawingObject.borderDashArray,modifiedDate:this.commandHandler.drawingObject.modifiedDate,borderStyle:this.commandHandler.drawingObject.borderStyle,measureType:this.commandHandler.drawingObject.measureType,enableShapeLabel:this.commandHandler.enableShapeLabel,opacity:this.commandHandler.drawingObject.opacity},this.pdfViewerBase.updateFreeTextProperties(i),this.drawingObject=this.commandHandler.add(i))},ut.prototype.mouseMove=function(e){return ct.prototype.mouseMove.call(this,e),this.inAction&&!1===J.Point.equals(this.currentPosition,this.prevPosition)&&(this.dragging=!0,e=this.drawingObject,this.drawingObject&&this.currentPosition&&(e.vertexPoints[e.vertexPoints.length-1].x=this.currentPosition.x/this.pdfViewerBase.getZoomFactor(),e.vertexPoints[e.vertexPoints.length-1].y=this.currentPosition.y/this.pdfViewerBase.getZoomFactor(),this.commandHandler.nodePropertyChange(e,{vertexPoints:e.vertexPoints})),"Perimeter"===e.measureType)&&be(e,e.vertexPoints,this.commandHandler.annotation.measureAnnotationModule),!0},ut.prototype.mouseUp=function(e,t,i){var n,o,r=!1;ct.prototype.mouseMove.call(this,e),n=e.source&&null!==e.annotationSelectorSettings?e.source.annotationSelectorSettings:"",this.drawingObject&&2===this.drawingObject.vertexPoints.length&&t&&i&&(this.commandHandler.remove(this.drawingObject),r=!0,this.endAction()),this.drawingObject&&!r&&(r=new J.Rect(this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length-1].x-20,this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length-1].y-20,40,40),o={x:this.drawingObject.vertexPoints[0].x,y:this.drawingObject.vertexPoints[0].y},(r.containsPoint(o)||t)&&this.dragging?(this.inAction&&(this.inAction=!1,this.drawingObject)&&(i||2<this.drawingObject.vertexPoints.length&&!e.isTouchMode&&this.drawingObject.vertexPoints.splice(this.drawingObject.vertexPoints.length-1,1),"Polygon"===this.action?(i?this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length]=this.drawingObject.vertexPoints[0]:this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length-1]=this.drawingObject.vertexPoints[0],this.commandHandler.nodePropertyChange(this.drawingObject,{vertexPoints:this.drawingObject.vertexPoints}),(r=M(this.drawingObject)).shapeAnnotationType="Polygon",r.bounds.width=r.wrapper.actualSize.width,r.bounds.height=r.wrapper.actualSize.height,r.bounds.x=this.drawingObject.wrapper.bounds.x,r.bounds.y=this.drawingObject.wrapper.bounds.y,this.commandHandler.add(r),this.commandHandler.remove(this.drawingObject),this.commandHandler.select([r.id],n),(o=this.commandHandler.selectedItems.annotations[0])&&(this.commandHandler.enableShapeAnnotation&&(G.isNullOrUndefined(o.measureType)||""===o.measureType)&&this.commandHandler.annotation.shapeAnnotationModule.renderShapeAnnotations(o,o.pageIndex),!this.commandHandler.enableMeasureAnnotation||"Area"!==o.measureType&&"Volume"!==o.measureType||("Area"===o.measureType?(o.notes=this.commandHandler.annotation.measureAnnotationModule.calculateArea(o.vertexPoints),this.commandHandler.annotation.stickyNotesAnnotationModule.addTextToComments(o.annotName,o.notes)):"Volume"===o.measureType&&(o.notes=this.commandHandler.annotation.measureAnnotationModule.calculateVolume(o.vertexPoints),this.commandHandler.annotation.stickyNotesAnnotationModule.addTextToComments(o.annotName,o.notes)),o.enableShapeLabel&&(o.labelContent=o.notes,this.commandHandler.nodePropertyChange(o,{vertexPoints:o.vertexPoints,notes:o.notes})),this.commandHandler.annotation.measureAnnotationModule.renderMeasureShapeAnnotations(o,o.pageIndex)))):(i||t&&this.drawingObject.vertexPoints.splice(this.drawingObject.vertexPoints.length-1,1),this.commandHandler.nodePropertyChange(this.drawingObject,{vertexPoints:this.drawingObject.vertexPoints,sourceDecoraterShapes:this.commandHandler.drawingObject.sourceDecoraterShapes,taregetDecoraterShapes:this.commandHandler.drawingObject.taregetDecoraterShapes}),this.commandHandler.select([this.drawingObject.id],n),this.commandHandler.enableMeasureAnnotation&&"Perimeter"===this.drawingObject.measureType&&(this.commandHandler.renderDrawing(null,this.drawingObject.pageIndex),this.drawingObject.notes=this.commandHandler.annotation.measureAnnotationModule.calculatePerimeter(this.drawingObject),this.drawingObject.enableShapeLabel&&(this.drawingObject.labelContent=this.drawingObject.notes,this.commandHandler.nodePropertyChange(this.drawingObject,{vertexPoints:this.drawingObject.vertexPoints,notes:this.drawingObject.notes})),this.commandHandler.annotation.stickyNotesAnnotationModule.addTextToComments(this.drawingObject.annotName,this.drawingObject.notes),this.commandHandler.annotation.measureAnnotationModule.renderMeasureShapeAnnotations(this.drawingObject,this.drawingObject.pageIndex))),e=this.commandHandler.selectedItems.annotations[0],this.commandHandler.annotation.addAction(this.pageIndex,null,e,"Addition","",e,e),this.drawingObject=null),this.endAction()):this.inAction&&!this.dragging&&this.commandHandler.remove(this.drawingObject))},ut.prototype.mouseLeave=function(e){this.mouseUp(e,!0,!0)},ut.prototype.mouseWheel=function(e){ct.prototype.mouseWheel.call(this,e),this.mouseMove(e)},ut.prototype.endAction=function(){this.inAction=!1,this.drawingObject=null,this.commandHandler.tool=""};var ct,gt=ut;function ut(e,t,i){e=ct.call(this,e,t)||this;return e.action=i,e}e(wt,ft=K),wt.prototype.mouseDown=function(e){this.inAction=!0,this.undoElement=void 0,ft.prototype.mouseDown.call(this,e),e.source&&e.source.annotations&&(this.prevPosition.x,this.prevPosition.y,this.drawingObject),this.initialPosition=e.position,this.prevSource=this.drawingObject,this.currentPosition=e.position,this.drawingObject?this.dragging||(e={bounds:{x:this.currentPosition.x,y:this.currentPosition.y,width:5,height:5},vertexPoints:[{x:this.startPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.startPosition.y/this.pdfViewerBase.getZoomFactor()},{x:this.currentPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.currentPosition.y/this.pdfViewerBase.getZoomFactor()}],shapeAnnotationType:this.drawingObject.shapeAnnotationType,sourceDecoraterShapes:this.drawingObject.sourceDecoraterShapes,taregetDecoraterShapes:this.drawingObject.taregetDecoraterShapes,fillColor:this.drawingObject.fillColor,strokeColor:this.drawingObject.strokeColor,pageIndex:this.pdfViewerBase.activeElements.activePageID,opacity:this.drawingObject.opacity||1,borderDashArray:this.drawingObject.borderDashArray,thickness:this.drawingObject.thickness,modifiedDate:this.drawingObject.modifiedDate,author:this.drawingObject.author,subject:this.drawingObject.subject,lineHeadEnd:this.drawingObject.lineHeadEnd,lineHeadStart:this.drawingObject.lineHeadStart,measureType:this.commandHandler.drawingObject.measureType,enableShapeLabel:this.commandHandler.enableShapeLabel},this.pdfViewerBase.updateFreeTextProperties(e),this.drawingObject=this.commandHandler.add(e)):(e=this.commandHandler.annotation.measureAnnotationModule,e={vertexPoints:[{x:this.startPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.startPosition.y/this.pdfViewerBase.getZoomFactor()},{x:this.currentPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.currentPosition.y/this.pdfViewerBase.getZoomFactor()}],bounds:{x:this.currentPosition.x,y:this.currentPosition.y,width:5,height:5},sourceDecoraterShapes:this.commandHandler.drawingObject.sourceDecoraterShapes,taregetDecoraterShapes:this.commandHandler.drawingObject.taregetDecoraterShapes,measureType:"Distance",fillColor:this.commandHandler.drawingObject.fillColor,notes:this.commandHandler.drawingObject.notes,strokeColor:this.commandHandler.drawingObject.strokeColor,opacity:this.commandHandler.drawingObject.opacity,thickness:this.commandHandler.drawingObject.thickness,borderDashArray:this.commandHandler.drawingObject.borderDashArray,shapeAnnotationType:"Distance",pageIndex:this.pdfViewerBase.activeElements.activePageID,author:this.commandHandler.drawingObject.author,subject:this.commandHandler.drawingObject.subject,enableShapeLabel:this.commandHandler.enableShapeLabel,leaderHeight:e.leaderLength},this.pdfViewerBase.updateFreeTextProperties(e),this.drawingObject=this.commandHandler.add(e))},wt.prototype.mouseUp=function(e){var t,i;this.dragging?(ft.prototype.mouseMove.call(this,e),this.commandHandler&&(t=void 0,t=e.source&&null!==e.annotationSelectorSettings?e.source.annotationSelectorSettings:"",i=this.drawingObject,this.commandHandler.nodePropertyChange(i,{vertexPoints:i.vertexPoints,leaderHeight:i.leaderHeight}),this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([i.id],t),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,t)),this.endPoint&&-1<this.endPoint.indexOf("ConnectorSegmentPoint")&&this.dragging&&(this.commandHandler.annotation.updateCalibrateValues(this.drawingObject),this.commandHandler.annotation.addAction(this.pageIndex,null,this.drawingObject,"Addition","",this.drawingObject,this.drawingObject),this.drawingObject=null,this.dragging=!1,ft.prototype.mouseUp.call(this,e)),this.drawingObject&&(this.endPoint="ConnectorSegmentPoint_1")):this.drawingObject&&this.commandHandler.remove(this.drawingObject)},wt.prototype.mouseMove=function(e){var t,i,n;return ft.prototype.mouseMove.call(this,e),this.inAction&&!1===J.Point.equals(this.currentPosition,this.prevPosition)&&(this.currentPosition=e.position,this.dragging=!0,this.currentPosition&&this.prevPosition&&(t=this.currentPosition.x-this.prevPosition.x,i=this.currentPosition.y-this.prevPosition.y,n=void 0,n=e.source&&null!==e.annotationSelectorSettings?e.source.annotationSelectorSettings:"",this.inAction&&this.commandHandler&&this.drawingObject&&void 0!==this.endPoint&&0!=t||0!=i)&&(this.blocked=!this.commandHandler.dragConnectorEnds(this.endPoint,this.drawingObject,this.currentPosition,this.selectedSegment,e.target,null,n),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,n)),this.prevPosition=this.currentPosition),!this.blocked},wt.prototype.mouseLeave=function(e){this.mouseUp(e)},wt.prototype.endAction=function(){ft.prototype.endAction.call(this),this.prevPosition=null,this.endPoint=null};var ft,mt=wt;function wt(e,t,i,n){e=ft.call(this,e,t,!0)||this;return e.endPoint=i,e.drawingObject=n,e}e(St,Bt=K),St.prototype.mouseDown=function(e){var t=M(e.source);this.undoElement={bounds:{x:t.wrapper.offsetX,y:t.wrapper.offsetY,width:t.wrapper.actualSize.width,height:t.wrapper.actualSize.height},rotateAngle:t.rotateAngle},Bt.prototype.mouseDown.call(this,e)},St.prototype.mouseUp=function(e){var t,i=e.source;this.undoElement.rotateAngle!==i.wrapper.rotateAngle&&(i=e.source.annotations[0].annotationSelectorSettings,this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,i),t={bounds:{x:e.source.wrapper.offsetX,y:e.source.wrapper.offsetY,width:e.source.wrapper.actualSize.width,height:e.source.wrapper.actualSize.height},rotateAngle:e.source.wrapper.rotateAngle}),this.commandHandler.annotation.addAction(this.pageIndex,null,e.source,"Rotate","",this.undoElement,t),this.commandHandler.annotation.stampAnnotationModule.updateSessionStorage(e.source,null,"Rotate"),this.commandHandler.annotation.stickyNotesAnnotationModule.updateStickyNotes(e.source,null),Bt.prototype.mouseUp.call(this,e)},St.prototype.mouseMove=function(e){Bt.prototype.mouseMove.call(this,e);var t=e.source,i=e.source.annotations[0].annotationSelectorSettings;return this.currentPosition=e.position,t.wrapper&&(e={x:t.wrapper.offsetX,y:t.wrapper.offsetY},e=J.Point.findAngle(e,this.currentPosition)+90,this.blocked=!this.commandHandler.rotate((e=(e+360)%360)-t.wrapper.rotateAngle,i)),!this.blocked},St.prototype.getTooltipContent=function(e){return Math.round(e.rotateAngle%360).toString()+""},St.prototype.mouseLeave=function(e){this.mouseUp(e)},St.prototype.endAction=function(){Bt.prototype.endAction.call(this)};var Bt,Ct=St;function St(e,t){return Bt.call(this,e,t,!0)||this}function yt(e,t,i,n){var o;if(i&&-1<t.activeElements.activePageID)return e=Et(o=It(t,i,e),e,t,i),n?o:e}function It(e,t,i){i=e.currentPosition||{x:i.offsetX,y:i.offsetY};return bt({x:i.x/e.getZoomFactor(),y:i.y/e.getZoomFactor()},t.getPageTable(e.activeElements.activePageID).objects,t.touchPadding)}function Et(e,t,i,n){for(var o,r,a,s,l,A,d,p,h,c=null,g=(t&&t.type&&-1!==t.type.indexOf("touch")?(s=t,n.annotation&&(o=i.getElement("_pageDiv_"+n.annotation.getEventPageNumber(t)))&&(o=o.getBoundingClientRect(),r=s.changedTouches[0].clientX-o.left,a=s.changedTouches[0].clientY-o.top)):t&&t.target&&t.path&&t.target.parentElement&&t.target.parentElement.classList.contains("foreign-object")?(l=t.path[4].getBoundingClientRect(),r=t.clientX-l.left,a=t.clientY-l.top):t.target&&t.target.parentElement&&t.target.parentElement.classList.contains("foreign-object")?(l=t.target.offsetParent.offsetParent.offsetParent.getBoundingClientRect(),r=t.clientX-l.left,a=t.clientY-l.top):t.target&&t.target.parentElement&&t.target.parentElement.parentElement&&t.target.parentElement.parentElement.classList.contains("foreign-object")?(l=void 0,t.target.offsetParent&&t.target.offsetParent.offsetParent&&t.target.offsetParent.offsetParent.offsetParent&&t.target.offsetParent.offsetParent.offsetParent.offsetParent?(l=t.target.offsetParent.offsetParent.offsetParent.offsetParent.getBoundingClientRect(),r=t.clientX-l.left,a=t.clientY-l.top):t.target.parentElement.offsetParent&&t.target.parentElement.offsetParent.offsetParent&&(l=t.target.parentElement.offsetParent.offsetParent.getBoundingClientRect(),r=t.clientX-l.left,a=t.clientY-l.top)):(r=isNaN(t.offsetX)?t.position?t.position.x:0:t.offsetX,a=isNaN(t.offsetY)?t.position?t.position.y:0:t.offsetY),n.touchPadding/2),u=0,f=0;f<e.length;f++)"Distance"===e[parseInt(f.toString(),10)].shapeAnnotationType||"Line"===e[parseInt(f.toString(),10)].shapeAnnotationType||"LineWidthArrowHead"===e[parseInt(f.toString(),10)].shapeAnnotationType||i.tool instanceof mt?(p={x:r/i.getZoomFactor(),y:a/i.getZoomFactor()},h=Dt(e[parseInt(f.toString(),10)],p,g),A=Pe(e[parseInt(f.toString(),10)],p),h&&!A&&(d=Qt(e[parseInt(f.toString(),10)],h))&&((d=J.Rect.toBounds([d,d])).Inflate(10),d.containsPoint(p))&&(A=!0),h&&A&&(c=e[parseInt(f.toString(),10)])):(d=e[parseInt(f.toString(),10)].wrapper.bounds,p=0,"Stamp"!==e[parseInt(f.toString(),10)].shapeAnnotationType&&"Image"!==e[parseInt(f.toString(),10)].shapeAnnotationType||(p=25),(d.x-g)*i.getZoomFactor()<r&&(d.x+d.width+g)*i.getZoomFactor()>r&&(d.y-g-p)*i.getZoomFactor()<a&&(d.y+d.height+g)*i.getZoomFactor()>a&&(i.tool instanceof pt||i.tool instanceof $e?c=e[parseInt(f.toString(),10)]:u?(h=r-(d.x-g)*i.getZoomFactor()+((d.x+d.width+g)*i.getZoomFactor()-r)+(a-(d.y-g-p)*i.getZoomFactor())+((d.y+d.height+g)*i.getZoomFactor()-a))<u||u===h?(c=e[parseInt(f.toString(),10)],u=h):"Image"!==e[parseInt(f.toString(),10)].shapeAnnotationType&&"Stamp"!==e[parseInt(f.toString(),10)].shapeAnnotationType||(c=e[parseInt(f.toString(),10)]):(c=e[parseInt(f.toString(),10)],u=r-(d.x-g)*i.getZoomFactor()+((d.x+d.width+g)*i.getZoomFactor()-r)+(a-(d.y-g-p)*i.getZoomFactor())+((d.y+d.height+g)*i.getZoomFactor()-a))));return c}function Qt(e,t){var i=e.sourcePoint,n=e.targetPoint;if("Distance"===e.shapeAnnotationType){var o,r=void 0,a=J.Point.findAngle(e.sourcePoint,e.targetPoint);if(-1<t.id.indexOf("leader"))return o=e.wrapper.children[0].bounds.center,o=-1<t.id.indexOf("leader1")?(r={x:e.sourcePoint.x,y:e.sourcePoint.y-e.leaderHeight},i):(r={x:e.targetPoint.x,y:e.targetPoint.y-e.leaderHeight},n),t=J.identityMatrix(),J.rotateMatrix(t,a,o.x,o.y),J.transformPointByMatrix(t,{x:r.x,y:r.y})}}function Dt(e,t,i){return Vt(e.wrapper,t,i)}function xt(e,t,i){if(0===i.length)i.push(e);else if(1===i.length)i[0][""+t]>e[""+t]?i.splice(0,0,e):i.push(e);else if(1<i.length){for(var n=0,o=i.length-1,r=Math.floor((n+o)/2);r!==n;)i[parseInt(r.toString(),10)][""+t]<e[""+t]?(n=r,r=Math.floor((n+o)/2)):i[parseInt(r.toString(),10)][""+t]>e[""+t]&&(o=r,r=Math.floor((n+o)/2));i[parseInt(o.toString(),10)][""+t]<e[""+t]?i.push(e):i[parseInt(n.toString(),10)][""+t]>e[""+t]?i.splice(n,0,e):i[parseInt(n.toString(),10)][""+t]<e[""+t]&&i[parseInt(o.toString(),10)][""+t]>e[""+t]&&i.splice(o,0,e)}}function Vt(e,t,i){if(e&&e.children)for(var n=e.children.length-1;0<=n;n--){var o=e.children[parseInt(n.toString(),10)],r=i;if(!G.isNullOrUndefined(o.children)&&0<o.children.length)for(var a=o.children.length-1;0<=a;a--){var s,l=o.children[parseInt(a.toString(),10)];if(l&&l.bounds.containsPoint(t,r)){if(l instanceof J.Container)if(s=this.findTargetElement(l,t))return s;if(l.bounds.containsPoint(t,r))return l}}else if(o&&o.bounds.containsPoint(t,r)){if(o instanceof J.Container)if(s=this.findTargetElement(o,t))return s;if(o.bounds.containsPoint(t,r))return o}}if(e&&e.bounds.containsPoint(t,i)&&"none"!==e.style.fill){var A=e,d=J.identityMatrix(),p=(J.rotateMatrix(d,A.parentTransform,A.offsetX,A.offsetY),A.offsetX-A.pivot.x*A.actualSize.width),h=A.offsetY-A.pivot.y*A.actualSize.height,p={x:p+(.5===A.pivot.x?2*A.pivot.x:A.pivot.x)*A.actualSize.width/2,y:h-30},p=J.transformPointByMatrix(d,p);if(J.contains(t,p,10))return e}return null}function bt(e,t,i){for(var n=[],o=0,r=t;o<r.length;o++){var a=r[o];(Dt(a,e,i)||"Stamp"===a.shapeAnnotationType&&Dt(a,e,40))&&xt(a,"zIndex",n)}return n}Object.defineProperty(vt.prototype,"activePageID",{get:function(){return this.activePage},set:function(e){this.activePage=e},enumerable:!0,configurable:!0});var Mt=vt;function vt(){this.activePage=void 0,this.activePageID=void 0}function Ft(e,t,i,n,o){var r,a,e=J.createHtmlElement("div",{id:o.element.id+n+"_diagramAdornerLayer",style:"width:"+e.width+"px;height:"+e.height+"px;"+t});J.getDiagramElement(e.id)||(a=(t=o.viewerBase.getElement("_pageDiv_"+n)).getBoundingClientRect(),(r=Tt(o.element.id+n+"_diagramAdorner_svg",a.width,a.height)).setAttribute("class","e-adorner-layer"+n),r.style.pointerEvents="none",o.adornerSvgLayer=J.createSvgElement("g",{id:o.element.id+n+"_diagramAdorner"}),o.adornerSvgLayer.style.pointerEvents="all",r.appendChild(o.adornerSvgLayer),e.appendChild(r),e.style.width=a.width+"px",e.style.height=a.height+"px",t?t.insertBefore(e,t.childNodes[0]):i.parentElement.appendChild(e),a=J.createSvgElement("g",{id:o.element.id+n+"_SelectorElement"}),o.adornerSvgLayer.appendChild(a),J.setAttributeSvg(r,{style:"pointer-events:none;"})),o.viewerBase.applyElementStyles(e,n)}function Tt(e,t,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return J.setAttributeSvg(n,{id:e,width:t,height:i}),n}(e=v.CommentStatus||(v.CommentStatus={}))[e.None=1]="None",e[e.Accepted=2]="Accepted",e[e.Canceled=3]="Canceled",e[e.Completed=4]="Completed",e[e.Rejected=5]="Rejected",(e=v.FontStyle||(v.FontStyle={}))[e.None=0]="None",e[e.Bold=1]="Bold",e[e.Italic=2]="Italic",e[e.Underline=4]="Underline",e[e.Strikethrough=8]="Strikethrough",(e=v.ContextMenuItem||(v.ContextMenuItem={}))[e.Copy=0]="Copy",e[e.Highlight=1]="Highlight",e[e.Cut=2]="Cut",e[e.Underline=4]="Underline",e[e.Paste=8]="Paste",e[e.Delete=16]="Delete",e[e.ScaleRatio=32]="ScaleRatio",e[e.Strikethrough=64]="Strikethrough",e[e.Properties=128]="Properties",e[e.Comment=256]="Comment",(e=v.SignatureType||(v.SignatureType={})).Draw="Draw",e.Type="Type",e.Image="Image",(e=v.AnnotationResizerLocation||(v.AnnotationResizerLocation={}))[e.Corners=1]="Corners",e[e.Edges=2]="Edges",(e=v.ExtractTextOption||(v.ExtractTextOption={})).None="None",e.TextOnly="TextOnly",e.BoundsOnly="BoundsOnly",e.TextAndBounds="TextAndBounds",(e=v.DisplayMode||(v.DisplayMode={}))[e.Draw=1]="Draw",e[e.Text=2]="Text",e[e.Upload=4]="Upload",(e=v.CursorType||(v.CursorType={})).auto="auto",e.crossHair="crosshair",e.e_resize="e-resize",e.ew_resize="ew-resize",e.grab="grab",e.grabbing="grabbing",e.move="move",e.n_resize="n-resize",e.ne_resize="ne-resize",e.ns_resize="ns-resize",e.nw_resize="nw-resize",e.pointer="pointer",e.s_resize="s-resize",e.se_resize="se-resize",e.sw_resize="sw-resize",e.text="text",e.w_resize="w-resize",(e=v.DynamicStampItem||(v.DynamicStampItem={})).Revised="Revised",e.Reviewed="Reviewed",e.Received="Received",e.Approved="Approved",e.Confidential="Confidential",e.NotApproved="NotApproved",(e=v.SignStampItem||(v.SignStampItem={})).Witness="Witness",e.InitialHere="InitialHere",e.SignHere="SignHere",e.Accepted="Accepted",e.Rejected="Rejected",(e=v.StandardBusinessStampItem||(v.StandardBusinessStampItem={})).Approved="Approved",e.NotApproved="NotApproved",e.Draft="Draft",e.Final="Final",e.Completed="Completed",e.Confidential="Confidential",e.ForPublicRelease="ForPublicRelease",e.NotForPublicRelease="NotForPublicRelease",e.ForComment="ForComment",e.Void="Void",e.PreliminaryResults="PreliminaryResults",e.InformationOnly="InformationOnly",(e=v.AllowedInteraction||(v.AllowedInteraction={})).Select="Select",e.Move="Move",e.Resize="Resize",e.Delete="Delete",e.None="None",e.PropertyChange="PropertyChange",(e=v.AnnotationDataFormat||(v.AnnotationDataFormat={})).Json="Json",e.Xfdf="Xfdf",(e=v.FormFieldDataFormat||(v.FormFieldDataFormat={})).Xml="Xml",e.Fdf="Fdf",e.Xfdf="Xfdf",e.Json="Json",(e=v.ModifierKeys||(v.ModifierKeys={}))[e.None=0]="None",e[e.Control=1]="Control",e[e.Meta=1]="Meta",e[e.Alt=2]="Alt",e[e.Shift=4]="Shift",(e=v.PdfKeys||(v.PdfKeys={}))[e.None=null]="None",e[e.N0=48]="N0",e[e.N1=49]="N1",e[e.N2=50]="N2",e[e.N3=51]="N3",e[e.N4=52]="N4",e[e.N5=53]="N5",e[e.N6=54]="N6",e[e.N7=55]="N7",e[e.N8=56]="N8",e[e.N9=57]="N9",e[e.Number0=96]="Number0",e[e.Number1=97]="Number1",e[e.Number2=98]="Number2",e[e.Number3=99]="Number3",e[e.Number4=100]="Number4",e[e.Number5=101]="Number5",e[e.Number6=102]="Number6",e[e.Number7=103]="Number7",e[e.Number8=104]="Number8",e[e.Number9=105]="Number9",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Delete=46]="Delete",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.BackSpace=8]="BackSpace",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.Star=56]="Star",e[e.Plus=187]="Plus",e[e.Minus=189]="Minus",e[e.BracketLeft=219]="BracketLeft",e[e.BracketRight=221]="BracketRight";Pt.prototype.updateTextProperties=function(){var e;this.defautWidth=this.pdfViewer.freeTextSettings.width||151,this.defaultHeight=this.pdfViewer.freeTextSettings.height||24.6,this.borderColor=this.pdfViewer.freeTextSettings.borderColor||"#ffffff00",this.fillColor=this.pdfViewer.freeTextSettings.fillColor||"#fff",this.borderStyle=this.pdfViewer.freeTextSettings.borderStyle||"solid",this.borderWidth=G.isNullOrUndefined(this.pdfViewer.freeTextSettings.borderWidth)?1:this.pdfViewer.freeTextSettings.borderWidth,this.fontSize=this.pdfViewer.freeTextSettings.fontSize||16,this.opacity=this.pdfViewer.freeTextSettings.opacity||1,this.fontColor=this.pdfViewer.freeTextSettings.fontColor||"#000",this.author=this.pdfViewer.freeTextSettings.author&&"Guest"!==this.pdfViewer.freeTextSettings.author?this.pdfViewer.freeTextSettings.author:this.pdfViewer.annotationSettings.author||"Guest",G.isNullOrUndefined(this.pdfViewer.annotationModule)||0===this.getRgbCode(this.borderColor).a&&(this.borderWidth=0),this.pdfViewer.freeTextSettings.fontFamily?(e=this.pdfViewer.freeTextSettings.fontFamily,this.fontFamily="Helvetica"===e||"Times New Roman"===e||"Courier"===e||"Symbol"===e||"ZapfDingbats"===e?e:"Helvetica"):this.fontFamily="Helvetica",this.textAlign=this.pdfViewer.freeTextSettings.textAlignment||"Left",this.defaultText=this.pdfViewer.freeTextSettings.defaultText||"Type here",this.isReadonly=!1,this.pdfViewer.freeTextSettings.enableAutoFit?(this.wordBreak="break-all",this.padding="2px"):(this.padding="0px",this.wordBreak="break-word"),(this.pdfViewer.freeTextSettings.isLock||this.pdfViewer.annotationSettings.isLock||this.pdfViewer.freeTextSettings.isReadonly)&&(this.isReadonly=!0),this.isBold=(this.pdfViewer.freeTextSettings.fontStyle&v.FontStyle.Bold)===v.FontStyle.Bold,this.isItalic=(this.pdfViewer.freeTextSettings.fontStyle&v.FontStyle.Italic)===v.FontStyle.Italic,this.isUnderline=(this.pdfViewer.freeTextSettings.fontStyle&v.FontStyle.Underline)===v.FontStyle.Underline,this.isStrikethrough=(this.pdfViewer.freeTextSettings.fontStyle&v.FontStyle.Strikethrough)===v.FontStyle.Strikethrough},Pt.prototype.renderFreeTextAnnotations=function(e,t,i,n){var o=!1;if(!i)for(var r=0;r<this.freeTextPageNumbers.length;r++)if(this.freeTextPageNumbers[parseInt(r.toString(),10)]===t){o=!0;break}if(e&&(!o||n)&&1<=e.length){this.freeTextPageNumbers.push(t);for(var a=0;a<e.length;a++){var s=e[parseInt(a.toString(),10)];if(s.annotationAddMode=this.pdfViewer.annotationModule.findAnnotationMode(s,t,s.AnnotType),s.AnnotType){var l=null;if(s.VertexPoints)for(var l=[],A=0;A<s.VertexPoints.length;A++){var d={x:s.VertexPoints[parseInt(A.toString(),10)].X,y:s.VertexPoints[parseInt(A.toString(),10)].Y};l.push(d)}s.AnnotationSettings=s.AnnotationSettings||this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.freeTextSettings),s.IsLocked&&(s.AnnotationSettings.isLock=s.IsLocked);var p,h,c,g=G.isNullOrUndefined(s.Bounds.X)?s.Bounds.x:s.Bounds.X-.5,u=G.isNullOrUndefined(s.Bounds.Y)?s.Bounds.y:s.Bounds.Y-.5,f=s.Bounds.Width||s.Bounds.width,m=s.Bounds.Height||s.Bounds.height,w=s.isAddAnnotationProgramatically||!1,B=this.getRotationValue(t,w),C=s.PageRotation,S=(1===Math.sign(s.Rotate)?s.Rotate=-s.Rotate+B:s.Rotate=s.Rotate+B,Math.abs(s.Rotate)),y=(i&&B!==C&&this.pdfViewerBase.isJsonImported&&(y=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)],I=s.Bounds.X,c=s.Bounds.Y,p=f,h=m,0<C&&(1==(C=C/90)?(m=f,f=s.Bounds.Height,g=s.Bounds.Y,u=270!==B?y.height-s.Bounds.X-s.Bounds.Width:y.width-s.Bounds.X-s.Bounds.Width):2==C?u=270!==B&&90!==B?(g=y.width-s.Bounds.X-s.Bounds.Width,y.height-s.Bounds.Y-s.Bounds.Height):(g=y.height-s.Bounds.X-s.Bounds.Width,y.width-s.Bounds.Y-s.Bounds.Height):3==C&&(m=f,f=s.Bounds.Height,g=90!==B?y.width-s.Bounds.Y-f:y.height-s.Bounds.Y-f,u=s.Bounds.X),I=g,c=u,p=f,h=m),1===(S=B/90%4)?(m=f,f=h,g=y.width-c-h-.5,u=I-.5,S=90):2===S?(g=y.width-I-p-.5,u=y.height-c-h-.5,S=180):3===S?(m=f,f=h,g=c-.5,u=y.height-I-m-.5,S=270):0===S&&(g=I-.5,u=c-.5)),90!==S&&270!==S||(C=f,g=g-(f=m)/2+(m=C)/2,u+=f/2-m/2),s.allowedInteractions=s.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(s),!G.isNullOrUndefined(s)&&s.MarkupText&&s.MarkupText.includes("\n")&&(p=s.MarkupText.split("\n").length*s.FontSize*this.lineGap,(h=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)].height-s.Bounds.Y)<(m=m<p?p:m))&&(m=h),{author:s.Author,modifiedDate:s.ModifiedDate,subject:s.Subject,id:"freetext"+this.inputBoxCount,rotateAngle:s.Rotate,dynamicText:s.MarkupText,strokeColor:s.StrokeColor,thickness:s.Thickness,fillColor:s.FillColor,bounds:{x:g,y:u,left:g,top:u,width:f,height:m,right:s.Bounds.Right,bottom:s.Bounds.Bottom},annotName:s.AnnotName,shapeAnnotationType:"FreeText",pageIndex:t,opacity:s.Opacity,fontColor:s.FontColor,fontSize:s.FontSize,pageRotation:B,fontFamily:s.FontFamily,notes:s.MarkupText,textAlign:s.TextAlign,comments:this.pdfViewer.annotationModule.getAnnotationComments(s.Comments,s,s.Author),review:{state:s.State,stateModel:s.StateModel,modifiedDate:s.ModifiedDate,author:s.Author},font:{isBold:s.Font.Bold,isItalic:s.Font.Italic,isStrikeout:s.Font.Strikeout,isUnderline:s.Font.Underline},annotationSelectorSettings:this.getSettings(s),annotationSettings:s.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(s),annotationAddMode:s.annotationAddMode,allowedInteractions:s.allowedInteractions,isPrint:s.IsPrint,isCommentLock:s.IsCommentLock,isReadonly:s.IsReadonly,isAddAnnotationProgrammatically:w,isTransparentSet:s.IsTransparentSet}),I=(i&&(y.id=s.AnnotName,y.previousFontSize=s.FontSize||this.fontSize),this.pdfViewer.add(y));this.pdfViewer.annotationModule.storeAnnotations(t,y,"_annotations_freetext"),this.isAddAnnotationProgramatically&&(c={opacity:y.opacity,borderColor:y.strokeColor,borderWidth:y.thickness,author:s.author,subject:s.subject,modifiedDate:s.modifiedDate,fillColor:y.fillColor,fontSize:y.fontSize,width:y.bounds.width,height:y.bounds.height,fontColor:y.fontColor,fontFamily:y.fontFamily,defaultText:y.dynamicText,fontStyle:y.font,textAlignment:y.textAlign},this.pdfViewer.fireAnnotationAdd(y.pageIndex,y.annotName,"FreeText",y.bounds,c)),this.inputBoxCount+=1,this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!0,this.pdfViewer.nodePropertyChange(I,{}),this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!1}}}},Pt.prototype.getSettings=function(e){var t=this.pdfViewer.annotationSelectorSettings;return e.AnnotationSelectorSettings?t="string"==typeof e.AnnotationSelectorSettings?JSON.parse(e.AnnotationSelectorSettings):e.AnnotationSelectorSettings:this.pdfViewer.freeTextSettings.annotationSelectorSettings&&(t=this.pdfViewer.freeTextSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(t)),t},Pt.prototype.setAnnotationType=function(e){this.pdfViewerBase.disableTextSelectionMode(),this.pdfViewer.annotationModule.isFormFieldShape=!1,"FreeText"===e&&(this.currentAnnotationMode="FreeText",this.updateTextProperties(),e=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),this.pdfViewer.drawingObject={shapeAnnotationType:"FreeText",strokeColor:this.borderColor,fillColor:this.fillColor,opacity:this.opacity,notes:"",isCommentLock:!1,thickness:this.borderWidth,borderDashArray:"0",modifiedDate:e,author:this.author,subject:this.pdfViewer.freeTextSettings.subject,font:{isBold:this.isBold,isItalic:this.isItalic,isStrikeout:this.isStrikethrough,isUnderline:this.isUnderline},textAlign:this.textAlign},this.pdfViewer.tool="Select")},Pt.prototype.modifyInCollection=function(e,t,i,n){G.isNullOrUndefined(i.formFieldAnnotationType)||""===i.formFieldAnnotationType?this.pdfViewer.annotationModule.isFormFieldShape=!1:this.pdfViewer.annotationModule.isFormFieldShape=!0;var o=null,r=!1,a=this.getAnnotations(t,null);if(null!==a&&i){for(var s=0;s<a.length;s++)if(i.id===a[parseInt(s.toString(),10)].id){if("bounds"===e)this.pdfViewerBase.isBounds=this.pdfViewerBase.boundsCalculation(a[parseInt(s.toString(),10)].bounds,i.wrapper.bounds),this.pdfViewerBase.isBounds&&(a[parseInt(s.toString(),10)].bounds={left:i.bounds.x,top:i.bounds.y,width:i.bounds.width,height:i.bounds.height,right:i.bounds.right,bottom:i.bounds.bottom});else if("fill"===e)a[parseInt(s.toString(),10)].fillColor=i.wrapper.children[0].style.fill;else if("stroke"===e)a[parseInt(s.toString(),10)].strokeColor=i.wrapper.children[0].style.strokeColor;else if("opacity"===e)a[parseInt(s.toString(),10)].opacity=i.wrapper.children[0].style.opacity;else if("thickness"===e)a[parseInt(s.toString(),10)].thickness=i.wrapper.children[0].style.strokeWidth;else if("notes"===e)a[parseInt(s.toString(),10)].note=i.notes;else{if("delete"===e){o=a.splice(s,1)[0];break}"dynamicText"===e?(a[parseInt(s.toString(),10)].dynamicText!==i.dynamicText&&(r=!0,this.pdfViewer.fireCommentEdit(a[parseInt(s.toString(),10)].annotName,i.dynamicText,a[parseInt(s.toString(),10)])),a[parseInt(s.toString(),10)].dynamicText=i.dynamicText):"fontColor"===e?a[parseInt(s.toString(),10)].fontColor=i.fontColor:"fontSize"===e?a[parseInt(s.toString(),10)].fontSize=i.fontSize:"fontFamily"===e?a[parseInt(s.toString(),10)].fontFamily=i.fontFamily:"textPropertiesChange"===e?a[parseInt(s.toString(),10)].font={isBold:i.font.isBold,isItalic:i.font.isItalic,isStrikeout:i.font.isStrikeout,isUnderline:i.font.isUnderline}:"textAlign"===e&&(a[parseInt(s.toString(),10)].textAlign=i.textAlign)}this.pdfViewerBase.isBounds&&(a[parseInt(s.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime()),this.pdfViewer.annotationModule.storeAnnotationCollections(a[parseInt(s.toString(),10)],t)}this.manageAnnotations(a,t)}return!n&&r&&this.pdfViewerBase.updateDocumentEditedProperty(!0),o},Pt.prototype.addInCollection=function(e,t){var i;t&&((i=this.getAnnotations(e,null))&&i.push(t),this.manageAnnotations(i,e))},Pt.prototype.saveFreeTextAnnotations=function(){for(var e=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_freetext"),t=(this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_freetext"]),[]),i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s=0;a.annotations.length>s;s++){this.pdfViewer.annotationModule.updateModifiedDate(a.annotations[parseInt(s.toString(),10)]),a.annotations[parseInt(s.toString(),10)].bounds=this.getBoundsBasedOnRotation(a.annotations[parseInt(s.toString(),10)].bounds,a.annotations[parseInt(s.toString(),10)].rotateAngle,a.pageIndex,a.annotations[parseInt(s.toString(),10)]),a.annotations[parseInt(s.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getBounds(a.annotations[parseInt(s.toString(),10)].bounds,a.pageIndex));var l=a.annotations[parseInt(s.toString(),10)].strokeColor,l=(a.annotations[parseInt(s.toString(),10)].strokeColor=JSON.stringify(this.getRgbCode(l)),a.annotations[parseInt(s.toString(),10)].fillColor),l=(a.annotations[parseInt(s.toString(),10)].fillColor=JSON.stringify(this.getRgbCode(l)),a.annotations[parseInt(s.toString(),10)].fontColor);a.annotations[parseInt(s.toString(),10)].fontColor=JSON.stringify(this.getRgbCode(l)),a.annotations[parseInt(s.toString(),10)].vertexPoints=JSON.stringify(a.annotations[parseInt(s.toString(),10)].vertexPoints),null!==a.annotations[parseInt(s.toString(),10)].rectangleDifference&&(a.annotations[parseInt(s.toString(),10)].rectangleDifference=JSON.stringify(a.annotations[parseInt(s.toString(),10)].rectangleDifference)),a.annotations[parseInt(s.toString(),10)].padding=this.getPaddingValues(this.fontSize)}r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},Pt.prototype.getRotationValue=function(e,t){e=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)];return!G.isNullOrUndefined(t)&&t||0===e.rotation?0:1===e.rotation?90:2===e.rotation?180:3===e.rotation?270:0},Pt.prototype.getBoundsBasedOnRotation=function(e,t,i,n,o){i=this.getRotationValue(i,o);return n.rotateAngle=t-i,n.pageRotation=i,90===t||-90===t||270===t||-270===t?{x:.5+(o=e.left+e.width/2-e.height/2),y:.5+(n=e.top-(e.width/2-e.height/2)),left:.5+o,top:.5+n,width:e.height,height:e.width}:{x:e.left+.5,y:e.top+.5,left:e.left+.5,top:e.top+.5,width:e.width,height:e.height}},Pt.prototype.manageAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_freetext");(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_freetext"]:i)&&(i=JSON.parse(i),this.pdfViewerBase.isStorageExceed||F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_freetext"),null!=(t=this.pdfViewer.annotationModule.getPageCollection(i,t))&&i[parseInt(t.toString(),10)]&&(i[parseInt(t.toString(),10)].annotations=e),t=JSON.stringify(i),this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_freetext"]=t:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_freetext",t))},Pt.prototype.getAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_freetext");return(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_freetext"]:i)&&(i=JSON.parse(i),null!=(e=this.pdfViewer.annotationModule.getPageCollection(i,e)))&&i[parseInt(e.toString(),10)]?i[parseInt(e.toString(),10)].annotations:t},Pt.prototype.getRgbCode=function(e){var t=(e=e.match(/#([a-z0-9]+)/gi)||e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)?e:this.pdfViewer.annotationModule.nameToHash(e)).split(",");return G.isNullOrUndefined(t[1])&&(t=(e=this.pdfViewer.annotationModule.getValue(e,"rgba")).split(",")),{r:parseFloat(t[0].split("(")[1]),g:parseFloat(t[1]),b:parseFloat(t[2]),a:parseFloat(t[3])}},Pt.prototype.onFocusOutInputBox=function(){var e,t,i,n,o,r,a,s,l,A,d,p,h,c,g=this.pdfViewer.allowServerDataBinding;this.pdfViewer.enableServerDataBinding(!1),this.pdfViewerBase.isFreeTextContextMenu?(this.inputBoxElement.focus(),this.isTextSelected||window.getSelection().removeAllRanges()):(this.pdfViewer.fireBeforeAddFreeTextAnnotation(this.inputBoxElement.value),this.pdfViewer.enableHtmlSanitizer&&this.inputBoxElement&&(this.inputBoxElement.value=G.SanitizeHtmlHelper.sanitize(this.inputBoxElement.value)),e=this.inputBoxElement.id&&this.inputBoxElement.id.split("_freeText_")[1]&&this.inputBoxElement.id.split("_freeText_")[1].split("_")[0]?parseFloat(this.inputBoxElement.id.split("_freeText_")[1].split("_")[0]):this.pdfViewerBase.currentPageNumber-1,t=this.pdfViewerBase.getElement("_pageDiv_"+e),r=parseFloat(this.inputBoxElement.style.width),this.pdfViewer.freeTextSettings.enableAutoFit&&!this.isMaximumWidthReached&&this.isNewFreeTextAnnot&&(r=parseFloat(this.inputBoxElement.style.width),this.inputBoxElement.style.width=r-8+"px"),r=parseFloat(this.inputBoxElement.style.height),a=parseFloat(this.inputBoxElement.style.width),p=parseFloat(this.inputBoxElement.style.left),this.pdfViewerBase.isMixedSizeDocument&&(p-=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",e).offsetLeft),h=parseFloat(this.inputBoxElement.style.top),i=this.pdfViewerBase.getZoomFactor(),this.pdfViewer.isValidFreeText&&(this.inputBoxElement.value="Type Here",this.pdfViewer.isValidFreeText=!1),n=this.inputBoxElement.value,!(o=!1)===this.isNewFreeTextAnnot&&(A=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),d=this.pdfViewer.annotation.createGUID(),o=!(this.isNewFreeTextAnnot=!1),(c=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("freeText",e+1))&&(document.getElementById(c).id=d),c=this.pdfViewer.freeTextSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(c),l=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.freeTextSettings),this.author=this.author||this.pdfViewer.freeTextSettings.author||"Guest",this.subject=this.subject||this.pdfViewer.freeTextSettings.subject||"Text Box",s=this.pdfViewer.freeTextSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,p={author:this.author,modifiedDate:A,subject:this.subject,id:"free_text"+this.inputBoxCount,rotateAngle:0,dynamicText:n,strokeColor:this.borderColor,thickness:this.borderWidth,fillColor:this.fillColor,bounds:{left:p/i,top:h/i,x:p/i,y:h/i,width:a/i,height:r/i},annotName:d,shapeAnnotationType:"FreeText",pageIndex:e,fontColor:this.fontColor,fontSize:this.fontSize,fontFamily:this.fontFamily,opacity:this.opacity,comments:[],textAlign:this.textAlign,font:{isBold:this.isBold,isItalic:this.isItalic,isStrikeout:this.isStrikethrough,isUnderline:this.isUnderline},review:{state:"Unmarked",stateModel:"None",modifiedDate:A,author:this.author},annotationSelectorSettings:c,annotationSettings:l,customData:this.pdfViewer.annotationModule.getData("FreeText"),isPrint:!(this.pdfViewer.freeTextSettings&&!G.isNullOrUndefined(this.pdfViewer.freeTextSettings.isPrint))||this.pdfViewer.freeTextSettings.isPrint,allowedInteractions:s,isReadonly:this.isReadonly},this.pdfViewer.enableRtl&&(p.textAlign="Right"),h=this.pdfViewer.add(p),d={left:p.bounds.x,top:p.bounds.y,width:p.bounds.width,height:p.bounds.height},A={opacity:p.opacity,borderColor:p.strokeColor,borderWidth:p.thickness,author:h.author,subject:h.subject,modifiedDate:h.modifiedDate,fillColor:p.fillColor,fontSize:p.fontSize,width:p.bounds.width,height:p.bounds.height,fontColor:p.fontColor,fontFamily:p.fontFamily,defaultText:p.dynamicText,fontStyle:p.font,textAlignment:p.textAlign},this.pdfViewer.annotation.storeAnnotations(e,p,"_annotations_freetext"),this.pdfViewer.fireAnnotationAdd(p.pageIndex,p.annotName,"FreeText",d,A),this.pdfViewer.fireCommentAdd(p.annotName,p.dynamicText,p),this.pdfViewer.annotation.addAction(e,null,h,"Addition","",h,h),this.pdfViewer.renderSelector(p.pageIndex),this.pdfViewer.clearSelection(p.pageIndex),this.pdfViewerBase.updateDocumentEditedProperty(!0),this.selectedAnnotation=h),this.isInuptBoxInFocus=!1,this.selectedAnnotation&&this.pdfViewer.selectedItems.annotations&&(c=90===this.selectedAnnotation.pageRotation||270===this.selectedAnnotation.pageRotation,r=parseFloat(c?this.inputBoxElement.style.width:this.inputBoxElement.style.height)/i,a=parseFloat(c?this.inputBoxElement.style.height:this.inputBoxElement.style.width)/i,l=void 0,0<(s=r-this.selectedAnnotation.bounds.height)&&(l=0<(l=this.selectedAnnotation.wrapper.offsetY+s/2)?l:void 0),d=void 0,d=0<(A=a-this.selectedAnnotation.bounds.width)?0<(d=this.selectedAnnotation.wrapper.offsetX+A/2)?d:void 0:(A=Math.abs(A),this.selectedAnnotation.wrapper.offsetX-A/2),this.selectedAnnotation.bounds.width=a,this.selectedAnnotation.bounds.height=r,p=0,p=parseFloat(this.inputBoxElement.style.fontSize)/i/(this.defaultFontSize/2),this.selectedAnnotation.wrapper.children[1].margin.left=this.freeTextPaddingLeft,this.selectedAnnotation.wrapper.children[1].margin.top=parseFloat(this.inputBoxElement.style.paddingTop)/i+p,this.pdfViewer.annotation.modifyDynamicTextValue(n,this.selectedAnnotation.annotName),this.selectedAnnotation.dynamicText=n,this.modifyInCollection("dynamicText",e,this.selectedAnnotation,o),this.modifyInCollection("bounds",e,this.selectedAnnotation,o),this.pdfViewer.nodePropertyChange(this.selectedAnnotation,{bounds:{width:this.selectedAnnotation.bounds.width,height:this.selectedAnnotation.bounds.height,y:l,x:d}}),(h=document.getElementById(this.selectedAnnotation.annotName))&&h.childNodes&&(h.childNodes[0].ej2_instances?h.childNodes[0].ej2_instances[0].value=n:h.childNodes[0].childNodes&&h.childNodes[0].childNodes[1].ej2_instances&&(h.childNodes[0].childNodes[1].ej2_instances[0].value=n)),this.pdfViewer.renderSelector(this.selectedAnnotation.pageIndex,this.selectedAnnotation.annotationSelectorSettings)),this.inputBoxElement.parentElement&&(t&&t.id===this.inputBoxElement.parentElement.id?t:this.inputBoxElement.parentElement).removeChild(this.inputBoxElement),c=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",e),this.pdfViewer.renderDrawing(c,e),this.inputBoxCount+=1),this.pdfViewer.enableServerDataBinding(g,!0)},Pt.prototype.onKeyDownInputBox=function(e){var t;18!==e.which&&(t=this,(9===e.which||G.isNullOrUndefined(this.pdfViewer.selectedItems.annotations[0])&&!this.isNewFreeTextAnnot)&&e.preventDefault(),this.selectedAnnotation=this.pdfViewer.selectedItems.annotations&&this.isNewFreeTextAnnot?this.pdfViewer.selectedItems.annotations[0]:this.selectedAnnotation,setTimeout(function(){t.defaultHeight<t.inputBoxElement.scrollHeight&&parseInt(t.inputBoxElement.style.height,10)<t.inputBoxElement.scrollHeight?t.updateFreeTextAnnotationSize(!0):t.updateFreeTextAnnotationSize(!1)},0))},Pt.prototype.updateFreeTextAnnotationSize=function(e){var t,i,n=this,o=n.pdfViewer.freeTextSettings.enableAutoFit,r=(o?this.autoFitFreeText():this.isMaximumWidthReached=!0,this.isMaximumWidthReached&&(a=n.inputBoxElement.getBoundingClientRect().height,e||n.inputBoxElement.readOnly||(n.inputBoxElement.style.height="auto"),e=n.inputBoxElement.getBoundingClientRect().height-a,r=parseFloat(n.inputBoxElement.style.fontSize),n.inputBoxElement.style.height=n.inputBoxElement.readOnly?n.inputBoxElement.style.height:n.inputBoxElement.scrollHeight+r/2+"px",n.inputBoxElement.style.height=e<0&&!n.inputBoxElement.readOnly?a+"px":n.inputBoxElement.style.height),n.pdfViewerBase.getZoomFactor()),e=this.selectedAnnotation&&(90===this.selectedAnnotation.pageRotation||270===this.selectedAnnotation.pageRotation),a=parseFloat(e?this.inputBoxElement.style.width:this.inputBoxElement.style.height)/r,e=parseFloat(e?this.inputBoxElement.style.height:this.inputBoxElement.style.width)/r,r=0;this.selectedAnnotation&&(t=void 0,i=(i=0)<(t=90===this.selectedAnnotation.pageRotation||270===this.selectedAnnotation.pageRotation?e-n.selectedAnnotation.bounds.width:a-n.selectedAnnotation.bounds.height)?n.selectedAnnotation.wrapper.offsetY+t/2:(t=Math.abs(t),n.selectedAnnotation.wrapper.offsetY-t/2),o&&(r=0<(t=e-n.selectedAnnotation.bounds.width)?n.selectedAnnotation.wrapper.offsetX+t/2:(t=Math.abs(t),n.selectedAnnotation.wrapper.offsetX-t/2)),n.selectedAnnotation.bounds.width=e,n.selectedAnnotation.bounds.height=a,o?n.pdfViewer.nodePropertyChange(n.selectedAnnotation,{bounds:{width:n.selectedAnnotation.bounds.width,height:n.selectedAnnotation.bounds.height,y:i,x:r}}):n.pdfViewer.nodePropertyChange(n.selectedAnnotation,{bounds:{width:n.selectedAnnotation.bounds.width,height:n.selectedAnnotation.bounds.height,y:i}}),n.pdfViewer.renderSelector(n.selectedAnnotation.pageIndex,this.selectedAnnotation.annotationSelectorSettings))},Pt.prototype.autoFitFreeText=function(e,t){var i=this.pdfViewerBase.currentPageNumber-1,n=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",i).getContext("2d"),o=this.inputBoxElement.style.fontSize,r=(this.pdfViewer.freeTextSettings.fontStyle===v.FontStyle.Bold||"bold"===this.inputBoxElement.style.fontWeight?n.font="bold "+o+" "+this.inputBoxElement.style.fontFamily:n.font=o+" "+this.inputBoxElement.style.fontFamily,""),a=this.inputBoxElement.value;if(-1<a.indexOf("\n")){for(var s=a.split("\n"),l=0;l<s.length;l++){var A=n.measureText(s[parseInt(l.toString(),10)]),d=n.measureText(r);A.width>d.width&&(r=s[parseInt(l.toString(),10)])}this.isMaximumWidthReached=!0}else r=a,this.isMaximumWidthReached=!1;var p,a=n.measureText(r),h=(o=parseFloat(this.inputBoxElement.style.fontSize))+o/2,t=(this.isNewFreeTextAnnot?(p=Math.ceil(a.width+18),this.inputBoxElement.style.height=h+"px",this.inputBoxElement.style.top=t-h/2+"px"):p=Math.ceil(a.width)+o+Math.ceil(4),this.inputBoxElement.style.width=p+"px",this.pdfViewerBase.getPageWidth(i)-parseFloat(this.inputBoxElement.style.left));parseFloat(this.inputBoxElement.style.width)>t&&(this.isMaximumWidthReached=!0,this.isNewAddedAnnot&&e?(this.inputBoxElement.style.width=(p-=8)+"px",h=e+p*this.pdfViewerBase.getZoomFactor(),a=parseFloat(this.inputBoxElement.style.left),h>=this.pdfViewerBase.getPageWidth(i)&&(a=this.pdfViewerBase.getPageWidth(i)-p),this.inputBoxElement.style.left=a+"px"):this.inputBoxElement.style.width=t+"px")},Pt.prototype.onMouseUpInputBox=function(e){var t=e.target;this.selectionStart=0,this.selectionEnd=0,3===e.which&&t&&(this.selectionStart=t.selectionStart,this.selectionEnd=t.selectionEnd),3===e.which&&null!==window.getSelection()&&""!==window.getSelection().toString()?this.isTextSelected=!0:this.isTextSelected=!1},Pt.prototype.addInuptElemet=function(e,t,i){void 0===t&&(t=null),this.currentPosition=[],G.isNullOrUndefined(i)&&(i=this.pdfViewerBase.currentPageNumber-1),t&&(i=t.pageIndex),G.isBlazor()&&null===t&&0===this.pdfViewer.selectedItems.annotations.length&&this.updateTextProperties(),this.inputBoxElement.id=this.pdfViewer.element.id+"_freeText_"+i+"_"+this.inputBoxCount;var n=this.pdfViewerBase.getElement("_pageDiv_"+i),o=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",i),r=this.pdfViewerBase.getZoomFactor(),i=(this.inputBoxElement.value=t&&t.dynamicText?t.dynamicText:this.defaultText,this.inputBoxElement.style.boxSizing="border-box",this.inputBoxElement.style.left=e.x+"px",this.inputBoxElement.style.top=e.y-this.defaultHeight*r/2+"px",this.pdfViewer.freeTextSettings.enableAutoFit?this.inputBoxElement.style.wordBreak="break-all":this.inputBoxElement.style.wordBreak="break-word",t?this.applyFreetextStyles(r,t.isReadonly):this.applyFreetextStyles(r),this.isBold?this.inputBoxElement.style.fontWeight="bold":this.inputBoxElement.style.fontWeight="normal",this.isItalic?this.inputBoxElement.style.fontStyle="italic":this.inputBoxElement.style.fontStyle="normal",this.inputBoxElement.style.textDecoration="none",this.isUnderline&&(this.inputBoxElement.style.textDecoration="underline"),this.isStrikethrough&&(this.inputBoxElement.style.textDecoration="line-through"),this.pdfViewer.enableRtl?(this.inputBoxElement.style.textAlign="right",this.inputBoxElement.style.direction="rtl",this.inputBoxElement.style.left=e.x-this.defautWidth*r/2):this.inputBoxElement.style.textAlign=this.textAlign.toLowerCase(),this.inputBoxElement.style.borderColor=this.borderColor,this.inputBoxElement.style.color=this.fontColor,this.inputBoxElement.style.background=this.fillColor,t&&t.wrapper&&t.wrapper.children[0]&&(this.inputBoxElement.style.opacity=t.wrapper.children[0].style.opacity),!0===this.isNewFreeTextAnnot&&this.pdfViewer.clearSelection(i),t&&t.wrapper&&t.wrapper.bounds&&((i=t.wrapper.bounds).left&&(this.inputBoxElement.style.left=i.left*r+"px"),i.top&&(this.inputBoxElement.style.top=i.top*r+"px"),this.inputBoxElement.style.height=i.height?i.height*r+"px":this.defaultHeight*r+"px",this.inputBoxElement.style.width=i.width?i.width*r+"px":this.defautWidth*r+"px",this.selectedAnnotation=t,this.previousText=this.selectedAnnotation.dynamicText,this.selectedAnnotation.dynamicText="",this.inputBoxElement.style.borderColor=this.selectedAnnotation.strokeColor,this.inputBoxElement.style.color=this.selectedAnnotation.fontColor,this.inputBoxElement.style.background=this.selectedAnnotation.fillColor,!0===this.selectedAnnotation.font.isBold&&(this.inputBoxElement.style.fontWeight="bold"),!0===this.selectedAnnotation.font.isItalic&&(this.inputBoxElement.style.fontStyle="italic"),!0===this.selectedAnnotation.font.isUnderline&&(this.inputBoxElement.style.textDecoration="underline"),!0===this.selectedAnnotation.font.isStrikeout&&(this.inputBoxElement.style.textDecoration="line-through"),this.pdfViewer.enableRtl?(this.inputBoxElement.style.textAlign="right",this.inputBoxElement.style.direction="rtl"):this.selectedAnnotation.textAlign&&(this.inputBoxElement.style.textAlign=this.selectedAnnotation.textAlign),this.inputBoxElement.style.fontSize=this.selectedAnnotation.fontSize*r+"px",this.inputBoxElement.style.fontFamily=this.selectedAnnotation.fontFamily,this.pdfViewer.nodePropertyChange(this.selectedAnnotation,{})),this.pdfViewerBase.isMixedSizeDocument&&(this.inputBoxElement.style.left=parseFloat(this.inputBoxElement.style.left)+o.offsetLeft+"px"),this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!1,this.pdfViewer.freeTextSettings.enableAutoFit&&this.autoFitFreeText(e.x,e.y),this.inputBoxElement.style.paddingLeft=this.freeTextPaddingLeft*r+"px",this.inputBoxElement.style.paddingTop=parseFloat(this.inputBoxElement.style.fontSize)/r/this.defaultFontSize/r*this.freeTextPaddingTop+"px",parseFloat(this.inputBoxElement.style.fontSize)/r/(this.defaultFontSize/2));this.inputBoxElement.style.paddingTop=parseFloat(this.inputBoxElement.style.paddingTop)-i+"px",n.appendChild(this.inputBoxElement),!this.pdfViewer.freeTextSettings.enableAutoFit&&this.defaultHeight*r<this.inputBoxElement.scrollHeight&&parseInt(this.inputBoxElement.style.height,10)<this.inputBoxElement.scrollHeight&&(this.inputBoxElement.style.height=this.inputBoxElement.scrollHeight+"px"),this.isInuptBoxInFocus=!0,this.inputBoxElement.focus(),!0!==this.isNewFreeTextAnnot&&this.inputBoxElement.value!==this.defaultText||(this.inputBoxElement.select(),this.pdfViewerBase.isFreeTextSelected=!0),this.currentPosition.push(parseInt(this.inputBoxElement.style.left,10)/r,parseInt(this.inputBoxElement.style.top,10)/r,parseInt(this.inputBoxElement.style.width,10)/r,parseInt(this.inputBoxElement.style.height,10)/r)},Pt.prototype.applyFreetextStyles=function(e,t){this.inputBoxElement.style.height=this.defaultHeight*e+"px",this.inputBoxElement.style.width=this.defautWidth*e+"px",this.inputBoxElement.style.borderWidth=this.borderWidth*e+"px",this.inputBoxElement.style.fontSize=this.fontSize*e+"px",this.inputBoxElement.style.fontFamily=this.fontFamily,this.inputBoxElement.readOnly=G.isNullOrUndefined(t)?this.isReadonly:t},Pt.prototype.copySelectedText=function(){if(null!==window.getSelection()){this.selectedText=window.getSelection().toString();var e=document.createElement("textarea");e.contentEditable="true",e.textContent=this.selectedText,e.style.position="fixed",document.body.appendChild(e),e.select();try{document.execCommand("copy")}catch(e){console.warn("Copy to clipboard failed.",e)}finally{e&&document.body.removeChild(e)}}},Pt.prototype.pasteSelectedText=function(e){""!==this.selectedText&&e&&(t=e.value,e.value=t.slice(0,this.selectionStart)+this.selectedText+t.slice(this.selectionEnd,t.length));var t,e=event;this.onKeyDownInputBox(e)},Pt.prototype.cutSelectedText=function(e){if(null!==window.getSelection()){var t=e.value,t=(this.selectedText=window.getSelection().toString(),e.value=t.slice(0,e.selectionStart)+t.slice(e.selectionEnd),document.createElement("textarea"));t.contentEditable="true",t.textContent=this.selectedText,t.style.position="fixed",document.body.appendChild(t),t.select();try{document.execCommand("cut")}catch(e){console.warn("Copy to clipboard failed.",e)}finally{t&&document.body.removeChild(t)}}},Pt.prototype.saveImportedFreeTextAnnotations=function(e,t){var i=e;if(i.AnnotType){var n=null;if(i.VertexPoints)for(var n=[],o=0;o<i.VertexPoints.length;o++){var r={x:i.VertexPoints[parseInt(o.toString(),10)].X,y:i.VertexPoints[parseInt(o.toString(),10)].Y};n.push(r)}i.AnnotationSettings=i.AnnotationSettings||this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.freeTextSettings),i.allowedInteractions=i.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(i);var e=G.isNullOrUndefined(i.Bounds.X)?i.Bounds.x:i.Bounds.X,a=G.isNullOrUndefined(i.Bounds.Y)?i.Bounds.y:i.Bounds.Y,s=i.Bounds.Width||i.Bounds.width,l=i.Bounds.Height||i.Bounds.height,e={author:i.Author,allowedInteractions:i.allowedInteractions,modifiedDate:i.ModifiedDate,subject:i.Subject,id:"freetext",rotateAngle:i.Rotate,dynamicText:i.MarkupText,strokeColor:i.StrokeColor,thickness:i.Thickness,fillColor:i.FillColor,bounds:{x:e,y:a,left:e,top:a,width:s,height:l,right:i.Bounds.Right,bottom:i.Bounds.Bottom},annotName:i.AnnotName,shapeAnnotationType:"FreeText",pageIndex:t,opacity:i.Opacity,fontColor:i.FontColor,fontSize:i.FontSize,fontFamily:i.FontFamily,notes:i.MarkupText,textAlign:i.TextAlign,comments:this.pdfViewer.annotationModule.getAnnotationComments(i.Comments,i,i.Author),review:{state:i.State,stateModel:i.StateModel,modifiedDate:i.ModifiedDate,author:i.Author},font:{isBold:i.Font.Bold,isItalic:i.Font.Italic,isStrikeout:i.Font.Strikeout,isUnderline:i.Font.Underline},annotationSelectorSettings:this.getSettings(i),annotationSettings:i.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(i),isPrint:i.IsPrint,isCommentLock:i.IsCommentLock,isReadonly:i.IsReadonly};this.pdfViewer.annotationModule.storeAnnotations(t,e,"_annotations_freetext")}},Pt.prototype.updateFreeTextAnnotationCollections=function(e,t){var i=e;if(i.annotationAddMode=this.pdfViewer.annotationModule.findAnnotationMode(i,t,i.AnnotType),i.AnnotType){var n=null;if(i.VertexPoints)for(var n=[],o=0;o<i.VertexPoints.length;o++){var r={x:i.VertexPoints[parseInt(o.toString(),10)].X,y:i.VertexPoints[parseInt(o.toString(),10)].Y};n.push(r)}i.AnnotationSettings=i.AnnotationSettings||this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.freeTextSettings),i.IsLocked&&(i.AnnotationSettings.isLock=i.IsLocked),i.allowedInteractions=i.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(i);var e=i.Bounds.X||i.Bounds.x,a=i.Bounds.Y||i.Bounds.y,s=i.Bounds.Width||i.Bounds.width,l=i.Bounds.Height||i.Bounds.height;return{author:i.Author,allowedInteractions:i.allowedInteractions,modifiedDate:i.ModifiedDate,subject:i.Subject,id:"freetext",rotateAngle:i.Rotate,dynamicText:i.MarkupText,strokeColor:i.StrokeColor,thickness:i.Thickness,fillColor:i.FillColor,bounds:{x:e,y:a,left:e,top:a,width:s,height:l,right:i.Bounds.Right,bottom:i.Bounds.Bottom},annotationId:i.AnnotName,shapeAnnotationType:"FreeText",pageIndex:t,opacity:i.Opacity,fontColor:i.FontColor,fontSize:i.FontSize,fontFamily:i.FontFamily,notes:i.MarkupText,comments:this.pdfViewer.annotationModule.getAnnotationComments(i.Comments,i,i.Author),review:{state:i.State,stateModel:i.StateModel,modifiedDate:i.ModifiedDate,author:i.Author},customData:this.pdfViewer.annotation.getCustomData(i),font:{isBold:i.Font.Bold,isItalic:i.Font.Italic,isStrikeout:i.Font.Strikeout,isUnderline:i.Font.Underline},pageNumber:t,annotationSettings:i.AnnotationSettings,isCommentLock:i.IsCommentLock,isReadonly:i.IsReadonly,isPrint:i.IsPrint}}},Pt.prototype.updateAddAnnotationDetails=function(e,t){t=e?e.offset||{x:1,y:1}:(e={offset:{x:1,y:1},pageNumber:0,width:void 0,height:void 0}).offset;var i=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),n=this.pdfViewer.annotation.createGUID(),o=e.fontStyle||v.FontStyle.None,r=this.pdfViewer.freeTextSettings.annotationSelectorSettings,a=(this.pdfViewerBase.updateSelectorSettings(r),this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.freeTextSettings)),s=this.pdfViewer.freeTextSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,l=(e.author=e.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("freeText",a.annotationSubType),a.isLock=e.isLock||a.isLock,(this.pdfViewer.freeTextSettings.isLock||this.pdfViewer.annotationSettings.isLock||this.pdfViewer.freeTextSettings.isReadonly)&&(e.isReadonly=!0),a.minHeight=e.minHeight||0,a.minWidth=e.minWidth||0,a.maxWidth=e.maxWidth||0,a.maxHeight=e.maxHeight||0,e.width=e.width||150,e.height=e.height||24.6,[]),s={AllowedInteractions:e.allowedInteractions||s,AnnotName:n,AnnotType:"freeText",AnnotationFlags:"Default",AnnotationIntent:null,AnnotationSelectorSettings:e.annotationSelectorSettings||r,AnnotationSettings:a,Author:e.author||"Guest",Border:{HorizontalRadius:0,VerticalRadius:0,Width:G.isNullOrUndefined(e.borderWidth)?1:e.borderWidth},BorderColor:{IsEmpty:!0,B:255,Blue:1,C:0,G:255},Bounds:{X:t.x,Y:t.y,Width:e.width,Height:e.height,Left:t.x,Top:t.y,Right:t.x+e.width,Bottom:t.y+e.height},CalloutLines:null,Color:{IsEmpty:!1,B:51,Blue:.2,C:0,G:255},Comments:null,CreatedDate:i,CustomData:e.customData||null,ExistingCustomData:null,FillColor:e.fillColor||"#ffffff00",Flatten:!1,FlattenPopups:!1,Font:{Bold:(o&v.FontStyle.Bold)===v.FontStyle.Bold,Italic:(o&v.FontStyle.Italic)===v.FontStyle.Italic,Strikeout:(o&v.FontStyle.Strikethrough)===v.FontStyle.Strikethrough,Underline:(o&v.FontStyle.Underline)===v.FontStyle.Underline},FontColor:e.fontColor||"#000",FontFamily:e.fontFamily||"Helvetica",FontSize:e.fontSize||16,FreeTextAnnotationType:"Text Box",InnerColor:null,IsCommentLock:!1,IsLock:e.isLock||!1,IsPrint:!!G.isNullOrUndefined(e.isPrint)||e.isPrint,Layer:null,LineEndingStyle:"OpenArrow",Location:null,MarkupText:e.defaultText||"Type Here",ModifiedDate:"",Name:n,Opacity:e.opacity||1,Page:null,PageTags:null,ReviewHistory:null,Rotate:0,IsReadonly:e.isReadonly||!1,State:"Unmarked",StateModel:"None",StrokeColor:e.borderColor||"#ffffff00",Subject:e.subject||"Text Box",Text:e.defaultText||"Type Here",TextAlign:e.textAlignment||"Left",TextMarkupColor:null,Thickness:G.isNullOrUndefined(e.borderWidth)?1:e.borderWidth,isAddAnnotationProgramatically:!0};return l[0]=s,{freeTextAnnotation:l}},Pt.prototype.getPaddingValues=function(e){return[4,e/16*3]},Pt.prototype.addInputInZoom=function(e){var t=this.pdfViewerBase.getZoomFactor();this.inputBoxElement.style.left=e.x*t+"px",this.inputBoxElement.style.top=e.y*t+"px",this.inputBoxElement.style.height=e.height*t+"px",this.inputBoxElement.style.width=e.width*t+"px",this.inputBoxElement.style.borderWidth=this.borderWidth*t+"px",this.inputBoxElement.style.fontSize=this.fontSize*t+"px"};var kt=Pt;function Pt(e,t){this.inputBoxCount=0,this.isFreeTextValueChange=!1,this.isAddAnnotationProgramatically=!1,this.isInuptBoxInFocus=!1,this.freeTextPageNumbers=[],this.selectedText="",this.isTextSelected=!1,this.selectionStart=0,this.selectionEnd=0,this.isBold=!1,this.isItalic=!1,this.isUnderline=!1,this.isStrikethrough=!1,this.isReadonly=!1,this.isMaximumWidthReached=!1,this.freeTextPaddingLeft=4,this.freeTextPaddingTop=5,this.defaultFontSize=16,this.lineGap=1.5,this.previousText="Type Here",this.currentPosition=[],this.pdfViewer=e,this.pdfViewerBase=t,this.updateTextProperties(),this.inputBoxElement=document.createElement("textarea"),this.inputBoxElement.style.position="absolute",this.inputBoxElement.style.Width=this.defautWidth,this.inputBoxElement.style.Height=this.defaultHeight,this.inputBoxElement.style.zIndex="5",this.inputBoxElement.style.fontSize=this.fontSize+"px",this.inputBoxElement.className="free-text-input",this.inputBoxElement.style.resize="none",this.inputBoxElement.style.borderColor=this.borderColor,this.inputBoxElement.style.background=this.fillColor,this.inputBoxElement.style.borderStyle=this.borderStyle,this.inputBoxElement.style.borderWidth=this.borderWidth+"px",this.inputBoxElement.style.padding=this.padding,this.inputBoxElement.style.paddingLeft=this.freeTextPaddingLeft+"px",this.inputBoxElement.style.paddingTop=this.freeTextPaddingTop*(parseFloat(this.inputBoxElement.style.fontSize)/this.defaultFontSize)+"px",this.inputBoxElement.style.borderRadius="2px",this.inputBoxElement.style.verticalAlign="middle",this.inputBoxElement.style.fontFamily=this.fontFamily,this.inputBoxElement.style.color=this.pdfViewer.freeTextSettings.fontColor||"#000",this.inputBoxElement.style.overflow="hidden",this.inputBoxElement.style.wordBreak=this.wordBreak,this.inputBoxElement.readOnly=this.isReadonly,this.inputBoxElement.addEventListener("focusout",this.onFocusOutInputBox.bind(this)),this.inputBoxElement.addEventListener("keydown",this.onKeyDownInputBox.bind(this)),this.inputBoxElement.addEventListener("mouseup",this.onMouseUpInputBox.bind(this)),this.freeTextPageNumbers=[]}Rt.prototype.editLabel=function(e,t){var i=this.pdfViewerBase.currentPageNumber-1,i=this.pdfViewerBase.getElement("_pageDiv_"+i),n=this.pdfViewerBase.getZoomFactor();this.inputBoxElement.value=t.labelContent,this.inputBoxElement.select(),t.labelContent="",this.pdfViewer.nodePropertyChange(t,{}),this.inputBoxElement.style.left=e.x*n+"px",this.inputBoxElement.style.top=e.y*n+"px",this.inputBoxElement.style.maxHeight=this.maxHeight*n+"px",this.inputBoxElement.style.maxWidth=this.maxWidth*n+"px",this.inputBoxElement.style.fontSize=this.fontSize*n+"px",this.inputBoxElement.style.textAlign="center",t&&t.wrapper&&t.wrapper.bounds&&(this.inputBoxElement.style.width=t.wrapper.bounds.width?t.wrapper.bounds.width*n+1+"px":this.maxWidth*n+"px",e=(e=parseFloat(this.inputBoxElement.style.width))>this.maxWidth*n?this.maxWidth*n:e,t.wrapper.bounds.left&&(this.inputBoxElement.style.left=(t.wrapper.bounds.left+t.wrapper.bounds.width/2-e/(2*n))*n+"px"),t.wrapper.bounds.top&&("Line"===t.shapeAnnotationType||"LineWidthArrowHead"===t.shapeAnnotationType||"Distance"===t.shapeAnnotationType||"Polygon"===t.shapeAnnotationType?this.inputBoxElement.style.top=(t.wrapper.bounds.top+t.wrapper.bounds.height/2-this.maxHeight)*n+"px":this.inputBoxElement.style.top=(t.wrapper.bounds.top+t.wrapper.bounds.height/2-this.maxHeight/2)*n+"px"),this.inputBoxElement.maxLength=t.labelMaxLength,this.inputBoxElement.fontFamily=t.fontFamily,this.inputBoxElement.style.color=t.fontColor,this.inputBoxElement.style.border="1px solid #ffffff00",this.inputBoxElement.style.padding="2px",this.inputBoxElement.style.background=t.labelFillColor),i.appendChild(this.inputBoxElement),this.isInFocus=!0,this.inputBoxElement.focus()},Rt.prototype.onFocusOutInputBox=function(){var e=this.pdfViewerBase.currentPageNumber-1,t=this.pdfViewerBase.getElement("_pageDiv_"+e),i=(parseFloat(this.inputBoxElement.style.height),parseFloat(this.inputBoxElement.style.width),this.isInFocus=!1,this.pdfViewer.selectedItems.annotations[0]),i=(i&&(this.pdfViewerBase.getZoomFactor(),this.pdfViewerBase.getZoomFactor(),i.labelContent=this.inputBoxElement.value,i.notes=this.inputBoxElement.value,"Rectangle"===i.shapeAnnotationType||"Ellipse"===i.shapeAnnotationType||"Line"===i.shapeAnnotationType||"LineWidthArrowHead"===i.shapeAnnotationType?this.pdfViewer.annotation.shapeAnnotationModule.modifyInCollection("labelContent",e,i,null):"Radius"===i.shapeAnnotationType&&i.measureType&&this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("labelContent",e,i),this.pdfViewer.nodePropertyChange(i,{}),this.pdfViewer.renderSelector(i.pageIndex,this.pdfViewer.annotationSelectorSettings),i=document.getElementById(this.pdfViewer.selectedItems.annotations[0].annotName))&&i.childNodes&&"label"!==this.inputBoxElement.value&&(i.childNodes[0].ej2_instances?i.childNodes[0].ej2_instances[0].value=this.inputBoxElement.value:i.childNodes[0].childNodes&&i.childNodes[0].childNodes[1].ej2_instances&&(i.childNodes[0].childNodes[1].ej2_instances[0].value=this.inputBoxElement.value)),t.removeChild(this.inputBoxElement),this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",e));this.pdfViewer.renderDrawing(i,e)},Rt.prototype.calculateLabelBounds=function(e,t){var i,n,o,r={};return e&&(void(o=n=i=0)===t&&(t=this.pdfViewerBase.currentPageNumber-1),t=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)].rotation,e.width&&(o=0<(o=e.width/2)&&o<151?o:151),e.left&&(n=e.left+e.width/2-o/2),e.top&&(i=e.top+e.height/2-12.3),r=1===t||3===t?{left:n,top:i,width:o-24.6+o/2,height:49.2+o,right:0,bottom:0}:{left:n,top:i,width:o,height:24.6,right:0,bottom:0}),r},Rt.prototype.calculateLabelBoundsFromLoadedDocument=function(e){var t,i,n,o={};return e&&(n=i=t=0,e.Width&&(n=0<(n=e.Width/2)&&n<151?n:151),o={left:i=e.Left?e.Left+e.Width/2-n/2:i,top:t=e.Top?e.Top+e.Height/2-12.3:t,width:n,height:24.6,right:0,bottom:0}),o};var Nt=Rt;function Rt(e,t){this.pdfViewer=e,this.pdfViewerBase=t,this.inputBoxElement=document.createElement("input"),this.inputBoxElement.addEventListener("focusout",this.onFocusOutInputBox.bind(this)),this.maxHeight=24.6,this.maxWidth=151,this.fontSize=16,this.isInFocus=!1,this.inputBoxElement.style.position="absolute",this.inputBoxElement.style.fontFamily="Helvetica"}o.prototype.setAnnotationMode=function(e,t,i,n){var o,r,a=this.pdfViewer.allowServerDataBinding;this.pdfViewer.enableServerDataBinding(!1),"Stamp"===this.pdfViewer.tool&&this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.updateStampItems(),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.resetFreeTextAnnot(),"None"!==e&&this.triggerAnnotationUnselectEvent(),this.pdfViewer.tool="",this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.deSelectCommentAnnotation(),"None"===e?this.clearAnnotationMode():"Highlight"===e||"Strikethrough"===e||"Underline"===e?this.textMarkupAnnotationModule&&(this.textMarkupAnnotationModule.isSelectionMaintained=!1,this.textMarkupAnnotationModule.drawTextMarkupAnnotations(e.toString())):"Line"===e||"Arrow"===e||"Rectangle"===e||"Circle"===e||"Polygon"===e?this.shapeAnnotationModule&&this.shapeAnnotationModule.setAnnotationType(e):"Distance"===e||"Perimeter"===e||"Area"===e||"Radius"===e||"Volume"===e?this.measureAnnotationModule&&this.measureAnnotationModule.setAnnotationType(e):"FreeText"===e&&this.freeTextAnnotationModule?(this.freeTextAnnotationModule.setAnnotationType("FreeText"),this.freeTextAnnotationModule.isNewFreeTextAnnot=!0,this.freeTextAnnotationModule.isNewAddedAnnot=!0):"HandWrittenSignature"===e?this.pdfViewerBase.signatureModule.setAnnotationMode():"Initial"===e?this.pdfViewerBase.signatureModule.setInitialMode():"Ink"===e?this.inkAnnotationModule.setAnnotationMode():"StickyNotes"===e?(this.pdfViewerBase.isCommentIconAdded=!0,this.pdfViewerBase.isAddComment=!0,(o=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+(this.pdfViewerBase.currentPageNumber-1)))&&o.addEventListener("mousedown",this.pdfViewer.annotationModule.stickyNotesAnnotationModule.drawIcons.bind(this))):"Stamp"===e&&(this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0,this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,this.pdfViewerBase.stampAdded=!0,t?(r=v.DynamicStampItem[t],this.pdfViewerBase.isDynamicStamp=!0,this.stampAnnotationModule.retrieveDynamicStampAnnotation(r)):i?(r=v.SignStampItem[i],this.pdfViewerBase.isDynamicStamp=!1,this.stampAnnotationModule.retrievestampAnnotation(r)):n&&(r=v.StandardBusinessStampItem[n],this.pdfViewerBase.isDynamicStamp=!1,this.stampAnnotationModule.retrievestampAnnotation(r))),this.pdfViewer.enableServerDataBinding(a,!0),this.pdfViewerBase.initiateTextSelection()},o.prototype.deleteAnnotationById=function(e){e&&(this.isAnnotDeletionApiCall=!0,this.annotationSelected=!1,this.selectAnnotation(e),this.deleteAnnotation(),this.isAnnotDeletionApiCall=!1,this.pdfViewer.textSelectionModule)&&this.pdfViewer.textSelectionModule.clearTextSelection()},o.prototype.clearAnnotationMode=function(){var e;this.textMarkupAnnotationModule&&(this.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1),this.freeTextAnnotationModule&&(this.freeTextAnnotationModule.isNewFreeTextAnnot=!1,this.freeTextAnnotationModule.isNewAddedAnnot=!1),this.pdfViewerBase.isTextMarkupAnnotationModule()&&(this.pdfViewer.annotation.textMarkupAnnotationModule.currentTextMarkupAddMode=""),this.pdfViewerBase.isShapeAnnotationModule()&&(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode=""),this.pdfViewerBase.isCalibrateAnnotationModule()&&(this.pdfViewer.annotation.measureAnnotationModule.currentAnnotationMode=""),this.pdfViewer.annotationModule.inkAnnotationModule&&(e=parseInt(this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10),this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(e))},o.prototype.deleteAnnotation=function(){this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.deleteTextMarkupAnnotation();var e=this.pdfViewer.selectedItems.annotations[0];if(e){var t=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_formfields"),i=JSON.parse(t),n=[];if(i){for(var o=0;o<i.length;o++){if(i[parseInt(o.toString(),10)].uniqueID==e.id){i[parseInt(o.toString(),10)].Value="";for(var r=0;r<i.length;r++)"ink"===i[parseInt(r.toString(),10)].Name&&(i[parseInt(r.toString(),10)].Value=""),i[parseInt(o.toString(),10)].FieldName===i[parseInt(r.toString(),10)].FieldName&&"ink"===i[parseInt(r.toString(),10)].Name&&i.splice(r,1)}n.push(i[parseInt(o.toString(),10)])}F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_formfields",JSON.stringify(n))}}var t=!1,a=!1;if(0<this.pdfViewer.selectedItems.annotations.length){var s=this.pdfViewer.selectedItems.annotations[0],l=s.shapeAnnotationType;if("Path"!==l&&"SignatureField"!==s.formFieldAnnotationType&&"InitialField"!==s.formFieldAnnotationType&&"HandWrittenSignature"!==l&&"SignatureText"!==l&&"SignatureImage"!==l||(l=document.getElementById(s.id))&&l.disabled&&(a=!0),!(t=s.annotationSettings&&(t=s.annotationSettings.isLock)&&this.checkAllowedInteractions("Delete",s)?!1:t)&&!a){var l=s.pageIndex,a=s.shapeAnnotationType,A=void 0,d=("Line"===a||"LineWidthArrowHead"===a||"Polygon"===a||"Ellipse"===a||"Rectangle"===a||"Radius"===a||"Distance"===a?(G.isNullOrUndefined(s.measureType)||""===s.measureType?(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(s,"shape"),this.updateImportAnnotationCollection(s,l,"shapeAnnotation")):(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(s,"measure"),this.updateImportAnnotationCollection(s,l,"measureShapeAnnotation")),A=this.modifyInCollections(s,"delete")):"FreeText"===a?(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(s,"FreeText","delete"),A=this.modifyInCollections(s,"delete"),this.updateImportAnnotationCollection(s,l,"freeTextAnnotation")):"HandWrittenSignature"===a||"SignatureImage"===a||"SignatureText"===a?A=this.modifyInCollections(s,"delete"):"Ink"===a?(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(s,"Ink","delete"),A=this.modifyInCollections(s,"delete"),this.updateImportAnnotationCollection(s,l,"signatureInkAnnotation")):(A=this.pdfViewer.selectedItems.annotations[0],this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(A,A.shapeAnnotationType,"delete"),this.pdfViewer.annotation.stampAnnotationModule.updateSessionStorage(s,null,"delete")),"StickyNotes"===a&&this.updateImportAnnotationCollection(s,l,"stickyNotesAnnotation"),"Stamp"!==a&&"Image"!==a||this.updateImportAnnotationCollection(s,l,"stampAnnotations"),this.pdfViewer.nameTable[s.id.split("_")[0]]),p=((G.isNullOrUndefined(d)||"SignatureField"!==d.formFieldAnnotationType&&"InitialField"!==d.formFieldAnnotationType)&&this.pdfViewer.annotation.addAction(l,null,s,"Delete","",A,s),void 0),h=(""!==s.annotName?p=document.getElementById(s.annotName):A&&""!==A.annotName&&(p=document.getElementById(A.annotName)),this.removeCommentPanelDiv(p),this.pdfViewer.selectedItems.annotations[0]),c=h.annotName,g=this.getAnnotationType(h.shapeAnnotationType,h.measureType);if("Path"===a||"SignatureField"===h.formFieldAnnotationType||"InitialField"===h.formFieldAnnotationType||"HandWrittenSignature"===a||"SignatureText"===a||"SignatureImage"===a){var u=this.pdfViewer.retrieveFormFields(),f=void 0;-1<(B=u.findIndex(function(e){return e.id===s.id}))&&(f=u[parseInt(B.toString(),10)].name);for(var m,w=0;w<u.length;w++)(h.id===u[parseInt(w.toString(),10)].id||G.isNullOrUndefined(f)&&f===u[parseInt(w.toString(),10)].name)&&(u[parseInt(w.toString(),10)].value="",u[parseInt(w.toString(),10)].signatureType="",m=this.getAnnotationsFromCollections(u[parseInt(w.toString(),10)].id),this.updateInputFieldDivElement(m),A=this.modifyInCollections(m,"delete"),this.pdfViewer.annotation.addAction(m.pageIndex,null,m,"Delete","",A,m),this.pdfViewer.formDesignerModule&&h.formFieldAnnotationType?this.updateFormFieldCollection(m):this.updateAnnotationCollection(m),this.pdfViewer.remove(m));this.pdfViewer.formDesignerModule&&h.formFieldAnnotationType?this.updateFormFieldCollection(s):this.updateAnnotationCollection(s)}if(this.pdfViewer.formDesignerModule&&h.formFieldAnnotationType?this.updateFormFieldCollection(s):this.updateAnnotationCollection(s),null!=d&&("SignatureField"===d.formFieldAnnotationType||"InitialField"===d.formFieldAnnotationType)){var B,f=void 0;-1<(B=this.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===s.id.split("_")[0]}))&&(f=this.pdfViewer.formFieldCollections[parseInt(B.toString(),10)].name);for(var C,S,y=0;y<this.pdfViewer.formFieldCollections.length;y++)f===this.pdfViewer.formFieldCollections[parseInt(y.toString(),10)].name&&(C=this.pdfViewer.formFieldCollections[parseInt(y.toString(),10)],this.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",C,C.pageIndex,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,C.value,""),C.value="",C.signatureType="",this.pdfViewer.formDesignerModule.updateFormFieldCollections(C),C=this.getAnnotationsFromCollections(C.id+"_content"),G.isNullOrUndefined(C)||(A=this.modifyInCollections(C,"delete"),this.pdfViewer.annotation.addAction(C.pageIndex,null,C,"Delete","",A,C),this.updateInputFieldDivElement(C),(S=this.pdfViewer.nameTable[C.id.split("_")[0]]).wrapper.children.splice(S.wrapper.children.indexOf(C.wrapper.children[0]),1),this.pdfViewer.remove(C)))}this.pdfViewer.remove(s),this.pdfViewer.renderDrawing(),this.pdfViewer.clearSelection(l),this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.pdfViewerBase.updateDocumentEditedProperty(!0),this.pdfViewerBase.tool=null,this.pdfViewer.tool=null,"HandWrittenSignature"===h.shapeAnnotationType||"SignatureText"===h.shapeAnnotationType||"SignatureImage"===h.shapeAnnotationType||"Path"===h.shapeAnnotationType?(a={left:h.bounds.x,top:h.bounds.y,width:h.bounds.width,height:h.bounds.height},this.pdfViewer.fireSignatureRemove(l,h.id,h.shapeAnnotationType,a)):this.pdfViewer.annotationModule&&this.pdfViewer.fireAnnotationRemove(l,c,g,h.bounds),this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.enableTextSelectionMode()}}else this.nonRenderSelectedAnnotation&&this.nonRenderSelectedAnnotation.annotationId&&this.isAnnotDeletionApiCall&&(c=this.nonRenderSelectedAnnotation.annotationId,d=this.nonRenderSelectedAnnotation.pageNumber||this.nonRenderSelectedAnnotation.pageIndex,(B=this.updateCollectionForNonRenderedPages(this.nonRenderSelectedAnnotation,c,d)).pageIndex=d,this.pdfViewer.annotation.addAction(d,null,B,"Delete","",B,B),this.undoCommentsElement.push(B),p=document.getElementById(c),this.removeCommentPanelDiv(p),this.nonRenderSelectedAnnotation=null);this.updateToolbar(!0),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&!t&&(this.pdfViewer.toolbarModule.annotationToolbarModule.selectAnnotationDeleteItem(!1,!0),this.pdfViewer.toolbarModule.annotationToolbarModule.enableTextMarkupAnnotationPropertiesTools(!1))},o.prototype.getAnnotationsFromCollections=function(e){var t=this.pdfViewer.annotations;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].id===e)return t[parseInt(i.toString(),10)];return null},o.prototype.updateInputFieldDivElement=function(e){var t=document.getElementById(e.id),i=document.getElementById(e.id+"_html_element");(t=null!==t||G.isNullOrUndefined(i)?t:i.children[0].children[0])&&t.classList.contains("e-pdfviewer-signatureformfields-signature")&&(t.className="e-pdfviewer-signatureformfields",t.style.pointerEvents="",t.parentElement.style.pointerEvents=""),this.pdfViewer.formDesignerModule?this.pdfViewer.formDesignerModule.updateSignatureValue(e.id):this.pdfViewer.formFieldsModule.updateDataInSession(t,"")},o.prototype.storeAnnotationCollections=function(e,t,i,n){var o,r;this.isFormFieldShape?(o=this.checkFormDesignCollection(e),(r=M(e)).formFieldId=e.annotName,r.pageNumber=t,delete r.annotName,e.id&&(r.uniqueKey=e.id,delete r.id),o.isExisting?this.pdfViewer.formFieldCollection.splice(o.position,0,r):this.pdfViewer.formFieldCollection.push(r)):(o=this.checkAnnotationCollection(e),(r=M(e)).annotationId=e.annotName,r.pageNumber=t,delete r.annotName,"stamp"===e.shapeAnnotationType&&(r.uniqueKey=e.randomId,delete r.randomId),"sticky"===e.shapeAnnotationType&&(r.uniqueKey=e.annotName),e.id&&(r.uniqueKey=e.id,delete r.id),r.customData&&e.customData&&JSON.stringify(r.customData)!==JSON.stringify(e.customData)&&(r.customData=e.customData),o.isExisting?this.pdfViewer.annotationCollection.splice(o.position,0,r):!G.isNullOrUndefined(i)&&i?this.pdfViewer.annotationCollection.splice(n,0,r):this.pdfViewer.annotationCollection.push(r))},o.prototype.checkFormDesignCollection=function(e){var t=this.pdfViewer.formFieldCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].formFieldId===e.annotName)return this.pdfViewer.formFieldCollection.splice(i,1),{isExisting:!0,position:i};return{isExisting:!1,position:null}},o.prototype.updateFormFieldCollection=function(e){var t=this.pdfViewer.formFieldCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].formFieldId===e.annotName){this.removedAnnotationCollection.push(t[parseInt(i.toString(),10)]),this.pdfViewer.formFieldCollection.splice(i,1);break}},o.prototype.getCustomData=function(e){var t;return e.ExistingCustomData&&!e.CustomData?t=JSON.parse(e.ExistingCustomData):null===e.CustomData?("sticky"===e.shapeAnnotationType&&(t=this.pdfViewer.stickyNotesSettings.customData),"Stamp"===e.shapeAnnotationType&&(t=this.pdfViewer.stampSettings.customData),"FreeText"===e.shapeAnnotationType&&(t=this.pdfViewer.freeTextSettings.customData),"shape"===e.id&&(t=this.getShapeData(e.ShapeAnnotationType,e.subject)),"measure"===e.id&&(t=this.getMeasureData(e.Subject)),"textMarkup"===e.shapeAnnotationType&&(t=this.getTextMarkupData(e.subject)),"Ink"===e.shapeAnnotationType&&(t=this.pdfViewer.inkAnnotationSettings.customData)):(e=e.CustomData||e.customData,G.isNullOrUndefined(e)||(t="string"==typeof e?JSON.parse(e):e)),t},o.prototype.getShapeData=function(e,t){var i;return"Line"===e&&"Arrow"!==t&&this.pdfViewer.lineSettings.customData?i=this.pdfViewer.lineSettings.customData:"LineWidthArrowHead"!==e&&"Arrow"!==t||!this.pdfViewer.arrowSettings.customData?"Rectangle"!==e&&"Square"!==e||!this.pdfViewer.rectangleSettings.customData?"Ellipse"!==e&&"Circle"!==e||!this.pdfViewer.circleSettings.customData?"Polygon"===e&&this.pdfViewer.polygonSettings.customData?i=this.pdfViewer.polygonSettings.customData:this.pdfViewer.annotationSettings.customData&&(i=this.pdfViewer.annotationSettings.customData):i=this.pdfViewer.circleSettings.customData:i=this.pdfViewer.rectangleSettings.customData:i=this.pdfViewer.arrowSettings.customData,i},o.prototype.getMeasureData=function(e){var t;return"Distance"!==e&&"Distance calculation"!==e||!this.pdfViewer.distanceSettings.customData?"Line"!==e&&"Perimeter calculation"!==e||!this.pdfViewer.lineSettings.customData?"Polygon"!==e&&"Area calculation"!==e&&"Volume calculation"!==e||!this.pdfViewer.polygonSettings.customData?"Radius"!==e&&"Radius calculation"!==e||!this.pdfViewer.radiusSettings.customData?this.pdfViewer.annotationSettings.customData&&(t=this.pdfViewer.annotationSettings.customData):t=this.pdfViewer.radiusSettings.customData:t=this.pdfViewer.polygonSettings.customData:t=this.pdfViewer.lineSettings.customData:t=this.pdfViewer.distanceSettings.customData,t},o.prototype.getTextMarkupData=function(e){var t;return"Highlight"===e&&this.pdfViewer.highlightSettings.customData?t=this.pdfViewer.highlightSettings.customData:"Underline"===e&&this.pdfViewer.underlineSettings.customData?t=this.pdfViewer.underlineSettings.customData:"Strikethrough"===e&&this.pdfViewer.strikethroughSettings.customData?t=this.pdfViewer.strikethroughSettings.customData:this.pdfViewer.annotationSettings.customData&&(t=this.pdfViewer.annotationSettings.customData),t},o.prototype.getData=function(e){var t;return"FreeText"===e&&this.pdfViewer.freeTextSettings.customData?t=this.pdfViewer.freeTextSettings.customData:"image"!==e&&"Stamp"!==e||!this.pdfViewer.stampSettings.customData?"sticky"===e&&this.pdfViewer.stickyNotesSettings.customData?t=this.pdfViewer.stickyNotesSettings.customData:this.pdfViewer.annotationSettings.customData&&(t=this.pdfViewer.annotationSettings.customData):t=this.pdfViewer.stampSettings.customData,t},o.prototype.clearAnnotationStorage=function(){var e=F.sessionStorageManager.getWindowSessionStorageSize(),t=4500;if((t=this.pdfViewerBase.isDeviceiOS||this.pdfViewerBase.isMacSafari?2e3:t)<e){for(var i=F.sessionStorageManager.getSessionLength(),n=[],o=0;o<i;o++)F.sessionStorageManager.getKey(o)&&F.sessionStorageManager.getKey(o).split("_")[3]&&"annotations"===F.sessionStorageManager.getKey(o).split("_")[3]&&(this.pdfViewerBase.annotationStorage[F.sessionStorageManager.getKey(o)]=F.sessionStorageManager.getItem(F.sessionStorageManager.getKey(o)),n.push(F.sessionStorageManager.getKey(o)));if(n)for(o=0;o<n.length;o++)F.sessionStorageManager.removeItem(n[parseInt(o.toString(),10)])}},o.prototype.checkAnnotationCollection=function(e){var t=this.pdfViewer.annotationCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].annotationId===e.annotName)return this.pdfViewer.annotationCollection.splice(i,1),{isExisting:!0,position:i};return{isExisting:!1,position:null}},o.prototype.updateAnnotationCollection=function(e){var t=this.pdfViewer.annotationCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].annotationId===e.annotName||t[parseInt(i.toString(),10)].annotationId===e.annotationId){this.removedAnnotationCollection.push(t[parseInt(i.toString(),10)]),this.pdfViewer.annotationCollection.splice(i,1);break}},o.prototype.updateImportAnnotationCollection=function(t,e,i){this.pdfViewerBase.isImportAction&&this.pdfViewerBase.importedAnnotation&&this.pdfViewerBase.importedAnnotation[parseInt(e.toString(),10)]&&(this.pdfViewerBase.importedAnnotation[parseInt(e.toString(),10)][""+i]&&!G.isNullOrUndefined(this.pdfViewerBase.importedAnnotation[parseInt(e.toString(),10)].annotationOrder)&&(this.pdfViewerBase.importedAnnotation[parseInt(e.toString(),10)].annotationOrder=this.pdfViewerBase.importedAnnotation[parseInt(e.toString(),10)].annotationOrder.filter(function(e){return!(t.annotName===e.AnnotName||t.annotName===e.annotName)})),G.isNullOrUndefined(this.pdfViewerBase.importedAnnotation)||G.isNullOrUndefined(this.pdfViewerBase.importedAnnotation[parseInt(e.toString(),10)])||G.isNullOrUndefined(this.pdfViewerBase.importedAnnotation[parseInt(e.toString(),10)][""+i])||(this.pdfViewerBase.importedAnnotation[parseInt(e.toString(),10)][""+i]=this.pdfViewerBase.importedAnnotation[parseInt(e.toString(),10)][""+i].filter(function(e){return t.annotName!==e.AnnotName})));var n=this.pdfViewerBase.documentAnnotationCollections;if(n&&n[parseInt(e.toString(),10)]){var o=n[parseInt(e.toString(),10)];if(o&&o[""+i])for(var r=0;r<o[""+i].length;r++)if(t.annotName===o[""+i][parseInt(r.toString(),10)].AnnotName){this.pdfViewerBase.documentAnnotationCollections[parseInt(e.toString(),10)][""+i].splice(r,1);break}}},o.prototype.selectAnnotation=function(e){var t,i,n,o,r,a;"object"==typeof e&&(i=(t=e).annotationId,t=this.getAnnotationsFromAnnotationCollections(i)),"string"==typeof e&&(t=this.getAnnotationsFromAnnotationCollections(e),i=e),t&&(e=G.isNullOrUndefined(t.pageNumber)?t.pageIndex:t.pageNumber,n=!1,n=this.findRenderPageList(e),a=this.pdfViewer.annotationSelectorSettings,t)&&0<=e&&("textMarkup"===t.shapeAnnotationType?t.rect||t.bounds?(r=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].top*this.pdfViewerBase.getZoomFactor()+this.getAnnotationTop(t)*this.pdfViewerBase.getZoomFactor(),this.isAnnotDeletionApiCall||(o=(r-20).toString(),this.pdfViewerBase.viewerContainer.scrollTop=parseInt(o,10),this.pdfViewerBase.viewerContainer.scrollLeft=this.getAnnotationLeft(t)*this.pdfViewerBase.getZoomFactor())):this.pdfViewer.navigation&&this.pdfViewer.navigation.goToPage(e+1):t.bounds?(r=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].top*this.pdfViewerBase.getZoomFactor()+t.bounds.top*this.pdfViewerBase.getZoomFactor(),o=t.bounds.left*this.pdfViewerBase.getZoomFactor(),"Ink"===t.shapeAnnotationType&&(r=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].top*this.pdfViewerBase.getZoomFactor()+t.bounds.y*this.pdfViewerBase.getZoomFactor(),o=t.bounds.x*this.pdfViewerBase.getZoomFactor()),this.isAnnotDeletionApiCall||(r=(r-20).toString(),this.pdfViewerBase.viewerContainer.scrollTop=parseInt(r,10),this.pdfViewerBase.viewerContainer.scrollLeft=o)):this.pdfViewer.navigation&&this.pdfViewer.navigation.goToPage(e+1),n?(this.previousIndex&&this.pdfViewer.clearSelection(this.previousIndex),this.pdfViewer.clearSelection(e),this.previousIndex=e,"textMarkup"===t.shapeAnnotationType?(this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearCurrentAnnotationSelection(e,!0),o="_blendAnnotationsIntoCanvas_"==(r="Highlight"===t.textMarkupAnnotationType?"_blendAnnotationsIntoCanvas_":"_annotationCanvas_")?this.pdfViewerBase.getElement(r+e):this.pdfViewerBase.getAnnotationCanvas(r,e),(r=this.getTextMarkupAnnotations(e,t))&&(this.textMarkupAnnotationModule.currentTextMarkupAnnotation=null,this.textMarkupAnnotationModule.isSelectedAnnotation=!0,this.textMarkupAnnotationModule.showHideDropletDiv(!0),this.textMarkupAnnotationModule.annotationClickPosition=null,this.textMarkupAnnotationModule.selectAnnotation(r,o,e,null,!0),this.textMarkupAnnotationModule.currentTextMarkupAnnotation=r,this.textMarkupAnnotationModule.selectTextMarkupCurrentPage=e,this.textMarkupAnnotationModule.enableAnnotationPropertiesTool(!0),this.textMarkupAnnotationModule.isSelectedAnnotation=!1,this.pdfViewer.toolbarModule)&&this.pdfViewer.enableAnnotationToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden=!0,this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem))):"stamp"===t.shapeAnnotationType||"stamp"===t.ShapeAnnotationType?(this.pdfViewer.select([t.uniqueKey],a),this.pdfViewer.annotation.onAnnotationMouseDown()):"sticky"===t.shapeAnnotationType||"sticky"===t.ShapeAnnotationType?(this.pdfViewer.select([t.annotationId],a),this.pdfViewer.annotation.onAnnotationMouseDown()):t.uniqueKey?(this.pdfViewer.select([t.uniqueKey],a),this.pdfViewer.annotation.onAnnotationMouseDown()):(this.selectAnnotationId=i,this.isAnnotationSelected=!0,this.annotationPageIndex=e,this.annotationType=t.stampAnnotationType),(o=document.getElementById(this.pdfViewer.element.id+"_commantPanel"))&&"block"===o.style.display&&((r=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+this.pdfViewer.currentPageNumber))&&r.ej2_instances[0].expandItem(!0),a=document.getElementById(i))&&!a.classList.contains("e-pv-comments-border")&&a.firstChild.click()):t.uniqueKey||"textMarkup"===t.shapeAnnotationType&&"Imported Annotation"===t.annotationAddMode||!this.isAnnotDeletionApiCall?(this.selectAnnotationId=i,this.isAnnotationSelected=!0,this.annotationPageIndex=e,this.annotationType=t.stampAnnotationType,(t.uniqueKey||"textMarkup"===t.shapeAnnotationType&&"Imported Annotation"===t.annotationAddMode)&&this.selectAnnotationFromCodeBehind()):n||t.uniqueKey||!this.isAnnotDeletionApiCall||(this.nonRenderSelectedAnnotation=t))},o.prototype.updateCollectionForNonRenderedPages=function(e,t,i){var n,o=this.pdfViewer.annotationCollection,r=(o.length&&(n=(o=o.filter(function(e){return e.annotationId===t}))[0],this.updateAnnotationCollection(o[0])),this.getTypeOfAnnotation(e)),a=this.pdfViewerBase.documentAnnotationCollections[parseInt(i.toString(),10)];if(a[""+r].length)for(var s=0;s<a[""+r].length;s++)if(a[""+r][parseInt(s.toString(),10)].AnnotName===e.annotationId){var l=a[""+r][parseInt(s.toString(),10)];this.removedDocumentAnnotationCollection.push(l),a[""+r].splice(s,1);break}return n},o.prototype.getTypeOfAnnotation=function(e){var t;return e.id&&"shape"===e.id.toLowerCase()?t="shapeAnnotation":e.id&&"measure"===e.id.toLowerCase()?t="measureShapeAnnotation":e.id&&"freetext"===e.id.toLowerCase()?t="freeTextAnnotation":e.shapeAnnotationType&&"textmarkup"===e.shapeAnnotationType.toLowerCase()?t="textMarkupAnnotation":e.shapeAnnotationType&&"stamp"===e.shapeAnnotationType.toLowerCase()?t="stampAnnotations":e.shapeAnnotationType&&"ink"===e.shapeAnnotationType.toLowerCase()?t="signatureInkAnnotation":e.shapeAnnotationType&&"sticky"===e.shapeAnnotationType.toLowerCase()&&(t="stickyNotesAnnotation"),t},o.prototype.removeCommentPanelDiv=function(e){e&&(1===e.parentElement.childElementCount?this.stickyNotesAnnotationModule.updateAccordionContainer(e):e.remove())},o.prototype.clearSelection=function(){var e;this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.currentTextMarkupAnnotation?(this.textMarkupAnnotationModule.clearCurrentSelectedAnnotation(),this.textMarkupAnnotationModule.clearCurrentAnnotationSelection(this.textMarkupAnnotationModule.selectTextMarkupCurrentPage)):this.pdfViewer.selectedItems&&this.pdfViewer.selectedItems.annotations[0]?(e=this.pdfViewer.selectedItems.annotations[0],this.pdfViewer.clearSelection(e.pageIndex)):this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber-1)},o.prototype.getAnnotationTop=function(e){return e.rect&&(e.rect.Top||e.rect.top)?e.rect.Top||e.rect.top:e.bounds[0].Top||e.bounds[0].top},o.prototype.getAnnotationLeft=function(e){return e.rect?e.rect.Left||e.rect.left:e.bounds[0].Left||e.bounds[0].left},o.prototype.selectAnnotationFromCodeBehind=function(){var e,t,i,n,o,r;this.isAnnotationSelected&&this.selectAnnotationId&&(e=this.getAnnotationsFromAnnotationCollections(this.selectAnnotationId),t=this.selectAnnotationId,r=e.pageNumber,i=this.pdfViewer.annotationSelectorSettings,e&&0<=this.annotationPageIndex&&this.annotationPageIndex===r&&(this.previousIndex&&this.pdfViewer.clearSelection(this.previousIndex),this.pdfViewer.clearSelection(r),this.previousIndex=r,"textMarkup"===e.shapeAnnotationType?(this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearCurrentAnnotationSelection(r,!0),n="_blendAnnotationsIntoCanvas_"==(n="Highlight"===e.textMarkupAnnotationType?"_blendAnnotationsIntoCanvas_":"_annotationCanvas_")?this.pdfViewerBase.getElement(n+r):this.pdfViewerBase.getAnnotationCanvas(n,r),(o=this.getTextMarkupAnnotations(r,e))&&(this.textMarkupAnnotationModule.currentTextMarkupAnnotation=null,this.textMarkupAnnotationModule.isSelectedAnnotation=!0,this.textMarkupAnnotationModule.showHideDropletDiv(!0),this.textMarkupAnnotationModule.annotationClickPosition=null,this.textMarkupAnnotationModule.selectAnnotation(o,n,r),this.textMarkupAnnotationModule.currentTextMarkupAnnotation=o,this.textMarkupAnnotationModule.selectTextMarkupCurrentPage=r,this.textMarkupAnnotationModule.enableAnnotationPropertiesTool(!0),this.textMarkupAnnotationModule.isSelectedAnnotation=!1,this.pdfViewer.toolbarModule)&&this.pdfViewer.enableAnnotationToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden=!0,this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem))):("stamp"===e.shapeAnnotationType||"stamp"===e.ShapeAnnotationType||"sticky"!==e.shapeAnnotationType&&"sticky"!==e.ShapeAnnotationType&&e.uniqueKey?this.pdfViewer.select([e.uniqueKey],i):this.pdfViewer.select([e.annotationId],i),this.pdfViewer.annotation.onAnnotationMouseDown()),n=document.getElementById(this.pdfViewer.element.id+"_commantPanel"))&&"block"===n.style.display&&((o=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+this.pdfViewer.currentPageNumber))&&o.ej2_instances[0].expandItem(!0),r=document.getElementById(t))&&!r.classList.contains("e-pv-comments-border")&&r.firstChild.click(),this.isAnnotationSelected=!1,this.selectAnnotationId=null,this.annotationPageIndex=null)},o.prototype.findRenderPageList=function(e){var t=!1,i=this.pdfViewerBase.renderedPagesList;if(i)for(var n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)]===e)return t=!0;return t},o.prototype.getAnnotationsFromAnnotationCollections=function(e){var t=this.pdfViewer.annotationCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].annotationId===e)return t[parseInt(i.toString(),10)];0===this.pdfViewer.selectedItems.annotations.length&&this.pdfViewer.selectedItems.annotations.push(this.pdfViewer.nameTable[""+e])},o.prototype.getTextMarkupAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_textMarkup");if(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_textMarkup"]:i){var n=JSON.parse(i),o=this.getPageCollection(n,e);if(null!=o&&n[parseInt(o.toString(),10)])for(var r=0;r<n[parseInt(o.toString(),10)].annotations.length;r++)if(n[parseInt(o.toString(),10)].annotations[parseInt(r.toString(),10)].annotName===t.annotationId)return n[parseInt(o.toString(),10)].annotations[parseInt(r.toString(),10)]}return null},o.prototype.getAnnotationType=function(e,t){var i;if(""===t||G.isNullOrUndefined(t))switch(e){case"Line":i="Line";break;case"LineWidthArrowHead":i="Arrow";break;case"Rectangle":i="Rectangle";break;case"Ellipse":i="Circle";break;case"Polygon":i="Polygon";break;case"Stamp":i="Stamp";break;case"Image":i="Image";break;case"FreeText":i="FreeText";break;case"Ink":i="Ink";break;case"StickyNotes":i="StickyNotes"}else switch(t){case"Distance":i="Distance";break;case"Perimeter":i="Perimeter";break;case"Area":i="Area";break;case"Radius":i="Radius";break;case"Volume":i="Volume"}return i},o.prototype.getAnnotationIndex=function(e,t){for(var i=this.pdfViewer.drawing.getPageObjects(e),n=null,o=0;o<i.length;o++)if(i[parseInt(o.toString(),10)].id===t){n=o;break}return n},o.prototype.initializeCollection=function(){this.actionCollection=[],this.redoCollection=[],this.popupNote||this.createNote()},o.prototype.showCommentsPanel=function(){var e,t,i;this.pdfViewer.enableCommentPanel&&(e=document.getElementById(this.pdfViewer.element.id+"_commantPanel"))&&"none"===e.style.display&&(e.style.display="block",G.Browser.isDevice&&!G.isBlazor()&&document.getElementById(this.pdfViewer.element.id+"_viewerMainContainer").insertBefore(this.pdfViewerBase.navigationPane.commentPanelContainer,this.pdfViewer.toolbarModule.toolbarElement),this.pdfViewerBase.navigationPane.commentPanelResizer&&(this.pdfViewerBase.navigationPane.commentPanelResizer.style.display="block"),this.pdfViewerBase.navigationPane.setCommentPanelResizeIconTop(),this.pdfViewer.annotation.stickyNotesAnnotationModule.updateCommentPanelTextTop(),t=document.getElementById(this.pdfViewer.element.id+"_viewerContainer"),i=document.getElementById(this.pdfViewer.element.id+"_pageViewContainer"),t&&(this.pdfViewer.enableRtl?t.style.left=this.pdfViewerBase.navigationPane.getViewerContainerRight()+"px":t.style.right=this.pdfViewerBase.navigationPane.getViewerContainerRight()+"px",t.style.width=this.pdfViewer.element.clientWidth-this.pdfViewerBase.navigationPane.getViewerContainerLeft()-this.pdfViewerBase.navigationPane.getViewerContainerRight()+"px",i.style.width=t.offsetWidth-this.pdfViewerBase.navigationPane.getViewerContainerScrollbarWidth()+"px"),this.pdfViewerBase.updateZoomValue(),this.pdfViewer.annotation&&this.pdfViewer.annotation.textMarkupAnnotationModule&&this.pdfViewer.annotation.textMarkupAnnotationModule.showHideDropletDiv(!0),!G.Browser.isDevice||this.pdfViewer.enableDesktopMode||G.isBlazor()||(e.style.height=this.pdfViewerBase.viewerMainContainer.clientHeight+"px",0<this.pdfViewer.selectedItems.annotations.length&&((i=document.getElementById(this.pdfViewer.selectedItems.annotations[0].annotName))&&i.lastElementChild.children[1]&&i.lastElementChild.children[1].ej2_instances?i.lastElementChild.children[1].ej2_instances[0].enableEditMode=!0:i&&i.lastElementChild.ej2_instances&&(i.lastElementChild.ej2_instances[0].enableEditMode=!0,i.lastElementChild.style.display="block",i.lastElementChild.children[1])&&(i.lastElementChild.children[1].style.display="block")),this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.element.style.display="none",this.pdfViewer.toolbarModule.annotationToolbarModule.propertyToolbar)&&(this.pdfViewer.toolbarModule.annotationToolbarModule.propertyToolbar.element.style.display="none")),G.isNullOrUndefined(this.pdfViewerBase.navigationPane)||this.pdfViewerBase.navigationPane.calculateCommentPanelWidth())},o.prototype.addAction=function(e,t,i,n,o,r,a){this.actionCollection.push({pageIndex:e,index:t,annotation:i,action:n,modifiedProperty:o,undoElement:r,redoElement:a}),this.updateToolbar()},o.prototype.undo=function(){var i=this,n=this.actionCollection.pop();if(n){var e=n.annotation.shapeAnnotationType;switch(this.isUndoRedoAction=!0,this.isUndoAction=!0,n.action){case"Text Markup Added":case"Text Markup Deleted":this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.undoTextMarkupAction(n.annotation,n.pageIndex,n.index,n.action);break;case"Text Markup Property modified":this.textMarkupAnnotationModule&&(n.annotation=this.textMarkupAnnotationModule.undoRedoPropertyChange(n.annotation,n.pageIndex,n.index,n.modifiedProperty,!0));break;case"Drag":case"Resize":Ae(n.annotation)?this.pdfViewer.nodePropertyChange(n.annotation,{bounds:n.undoElement.bounds,vertexPoints:n.undoElement.vertexPoints,leaderHeight:n.undoElement.leaderHeight}):this.pdfViewer.nodePropertyChange(n.annotation,{bounds:n.undoElement.bounds}),"Distance"!==n.annotation.measureType&&"Perimeter"!==n.annotation.measureType&&"Area"!==n.annotation.measureType&&"Radius"!==n.annotation.measureType&&"Volume"!==n.annotation.measureType||(this.pdfViewer.nodePropertyChange(n.annotation,{notes:n.undoElement.notes}),this.updateCalibrateValues(n.annotation)),n.annotation.formFieldAnnotationType&&this.pdfViewer.formDesigner.updateHTMLElement(n.annotation),this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.pdfViewer.select([n.annotation.id]),"Line"!==n.annotation.shapeAnnotationType&&"Rectangle"!==n.annotation.shapeAnnotationType&&"Ellipse"!==n.annotation.shapeAnnotationType&&"Polygon"!==n.annotation.shapeAnnotationType&&"LineWidthArrowHead"!==n.annotation.shapeAnnotationType&&"Radius"!==n.annotation.shapeAnnotationType&&"FreeText"!==n.annotation.shapeAnnotationType&&"HandWrittenSignature"!==n.annotation.shapeAnnotationType&&"SignatureText"!==n.annotation.shapeAnnotationType&&"SignatureImage"!==n.annotation.shapeAnnotationType&&"Ink"!==n.annotation.shapeAnnotationType||this.modifyInCollections(n.annotation,"bounds");break;case"Addition":this.pdfViewer.formDesigner&&n.annotation.formFieldAnnotationType?this.pdfViewer.formDesigner.deleteFormField(n.undoElement.id,!1):(d=!1,"Line"!==e&&"LineWidthArrowHead"!==e&&"Polygon"!==e&&"Ellipse"!==e&&"Rectangle"!==e&&"Radius"!==e&&"Distance"!==e||(""===n.annotation.measureType||G.isNullOrUndefined(n.annotation.measureType)?this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(n.annotation,"shape",null,!0):this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(n.annotation,"measure",null,!0),d=!0,(t=n.annotation.wrapper||null)&&t.bounds&&(n.annotation.bounds=t.bounds),n.duplicate=this.modifyInCollections(n.annotation,"delete")),"Stamp"!==e&&"Image"!==e||(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(n.annotation,n.annotation.shapeAnnotationType,"delete",!0),this.stampAnnotationModule.updateSessionStorage(n.annotation,null,"delete"),n.duplicate=this.modifyInCollections(n.annotation,"delete"),d=!0),"FreeText"!==e&&"HandWrittenSignature"!==e&&"SignatureImage"!==e&&"SignatureText"!==e&&"Ink"!==e||(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(n.annotation,n.annotation.shapeAnnotationType,"delete",d=!0),n.duplicate=this.modifyInCollections(n.annotation,"delete")),d||this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(n.annotation,n.annotation.shapeAnnotationType,"delete",!0),this.pdfViewer.clearSelection(G.isNullOrUndefined(this.pdfViewerBase.activeElements.activePageID)||isNaN(this.pdfViewerBase.activeElements.activePageID)?n.annotation.pageIndex:this.pdfViewerBase.activeElements.activePageID),this.pdfViewer.remove(n.annotation),this.pdfViewer.annotationCollection.filter(function(e){var t=e.annotationId!==n.annotation.annotName;return t&&(e=document.getElementById(e.annotName))&&(1===e.parentElement.childElementCount?i.stickyNotesAnnotationModule.updateAccordionContainer(e):e.parentElement.removeChild(e)),!t}),this.pdfViewer.renderDrawing(null,n.annotation.pageIndex),(t=document.getElementById(n.annotation.annotName))&&(1===t.parentElement.childElementCount?this.stickyNotesAnnotationModule.updateAccordionContainer(t):t.parentElement.removeChild(t)),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(d=document.getElementById(this.pdfViewer.element.id+"_propertyToolbar"))&&0<d.children.length&&(this.pdfViewer.toolbarModule.annotationToolbarModule.toolbarCreated=!1,this.pdfViewer.toolbarModule.annotationToolbarModule.createAnnotationToolbarForMobile()));break;case"Delete":if(this.pdfViewer.formDesigner&&n.annotation.formFieldAnnotationType)n.undoElement.bounds.x=n.undoElement.wrapper.bounds.x,n.undoElement.bounds.y=n.undoElement.wrapper.bounds.y,this.pdfViewer.formDesigner.drawFormField(n.undoElement);else{"Line"!==e&&"LineWidthArrowHead"!==e&&"Polygon"!==e&&"Ellipse"!==e&&"Rectangle"!==e&&"Radius"!==e&&"Distance"!==e||(""===n.annotation.measureType||G.isNullOrUndefined(n.annotation.measureType)?(e="shape",this.shapeAnnotationModule):(e="shape_measure",this.measureAnnotationModule)).addInCollection(n.annotation.pageIndex,n.undoElement),"Stamp"===e||"Image"===e?this.stampAnnotationModule.updateDeleteItems(n.annotation.pageIndex,n.annotation):"FreeText"===e?this.freeTextAnnotationModule.addInCollection(n.annotation.pageIndex,n.undoElement):"Ink"===e?this.inkAnnotationModule.addInCollection(n.annotation.pageIndex,n.undoElement):"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||this.pdfViewerBase.signatureModule.addInCollection(n.annotation.pageIndex,n.undoElement),n.annotation.annotationId||(t=this.pdfViewer.add(n.annotation),("FreeText"===e||t.enableShapeLabel)&&t&&this.pdfViewer.nodePropertyChange(t,{}));var t,o=void 0;if(null!=(o=n.annotation.id?this.pdfViewer.nameTable[n.annotation.id.split("_")[0]]:o)&&("SignatureField"===o.formFieldAnnotationType||"InitialField"===o.formFieldAnnotationType)){o.wrapper.children.push(n.annotation.wrapper.children[0]),"SignatureText"===n.annotation.shapeAnnotationType&&o.wrapper.children.push(n.annotation.wrapper.children[1]);var r=n.annotation.id.split("_")[0]+"_content",a=null;if(a=this.pdfViewer.formDesignerModule?this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"):a){for(var s,l=JSON.parse(a),A=0;A<l.length;A++)l[parseInt(A.toString(),10)].Key===r&&("SignatureText"===n.annotation.shapeAnnotationType?(l[parseInt(A.toString(),10)].FormField.signatureType="Text",l[parseInt(A.toString(),10)].FormField.value=n.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(A.toString(),10)].FormField.value=n.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(A.toString(),10)].FormField.signatureType="Text"):"SignatureImage"===n.annotation.shapeAnnotationType?(l[parseInt(A.toString(),10)].FormField.signatureType="Image",l[parseInt(A.toString(),10)].FormField.value=n.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(A.toString(),10)].FormField.value=n.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(A.toString(),10)].FormField.signatureType="Image"):(l[parseInt(A.toString(),10)].FormField.signatureType="Path",this.pdfViewerBase.formFieldCollection[parseInt(A.toString(),10)].FormField.signatureType="Path",s=J.processPathData(n.annotation.data),s=J.splitArrayCollection(s),l[parseInt(A.toString(),10)].FormField.value=JSON.stringify(s),this.pdfViewerBase.formFieldCollection[parseInt(A.toString(),10)].FormField.value=JSON.stringify(s)));this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}}this.pdfViewer.renderDrawing(null,n.annotation.pageIndex),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addAnnotationComments(n.annotation.pageIndex,e,!0),n.annotation.annotationId&&(d=this.removedAnnotationCollection[this.removedAnnotationCollection.length-1],t=this.getTypeOfAnnotation(d),this.pdfViewer.annotationCollection.push(d),this.removedAnnotationCollection.splice(this.removedAnnotationCollection.length-1),d=0<=n.annotation.pageNumber?n.annotation.pageNumber:n.annotation.pageIndex,this.pdfViewerBase.documentAnnotationCollections[parseInt(d.toString(),10)][""+t].push(this.removedDocumentAnnotationCollection[this.removedDocumentAnnotationCollection.length-1]),this.removedDocumentAnnotationCollection.splice(this.removedDocumentAnnotationCollection.length-1))}break;case"stampOpacity":this.pdfViewer.nodePropertyChange(n.annotation,{opacity:n.undoElement.opacity}),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n.annotation,null,!0),n.annotation.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();break;case"Shape Stroke":this.pdfViewer.nodePropertyChange(n.annotation,{strokeColor:n.undoElement.strokeColor}),this.modifyInCollections(n.annotation,"stroke"),this.pdfViewer.renderDrawing();break;case"Shape Fill":this.pdfViewer.nodePropertyChange(n.annotation,{fillColor:n.undoElement.fillColor}),this.modifyInCollections(n.annotation,"fill"),this.pdfViewer.renderDrawing();break;case"Shape Opacity":this.pdfViewer.nodePropertyChange(n.annotation,{opacity:n.undoElement.opacity}),"StickyNotes"===n.annotation.shapeAnnotationType?(this.stickyNotesAnnotationModule.updateOpacityValue(n.annotation),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n.annotation,null,!0),n.annotation.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime()):this.modifyInCollections(n.annotation,"opacity"),this.pdfViewer.renderDrawing();break;case"Shape Thickness":this.pdfViewer.nodePropertyChange(n.annotation,{thickness:n.undoElement.thickness}),this.modifyInCollections(n.annotation,"thickness"),this.pdfViewer.renderDrawing();break;case"Line properties change":this.pdfViewer.nodePropertyChange(n.annotation,{fillColor:n.undoElement.fillColor,borderDashArray:n.undoElement.borderDashArray,borderStyle:n.undoElement.borderStyle,strokeColor:n.undoElement.strokeColor,opacity:n.undoElement.opacity,thickness:n.undoElement.thickness,sourceDecoraterShapes:this.getArrowType(n.undoElement.lineHeadStart),taregetDecoraterShapes:this.getArrowType(n.undoElement.lineHeadEnd)}),this.updateCollectionForLineProperty(n.annotation),this.pdfViewer.renderDrawing();break;case"Text Property Added":n.annotation=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.undoAction(n.annotation,n.action,n.undoElement),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n.annotation,null,!0),n.annotation.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();break;case"Comments Property Added":case"Status Property Added":case"Comments Reply Deleted":n.annotation=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.undoAction(n.annotation,n.action,n.undoElement);break;case"dynamicText Change":this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!0,n.annotation.dynamicText=n.undoElement.dynamicText,this.pdfViewer.selectedItems.annotations[0]&&(this.pdfViewer.selectedItems.annotations[0].dynamicText=n.undoElement.dynamicText),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.undoAction(n.annotation,n.action,n.undoElement),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n.annotation,null,!0),this.modifyInCollections(n.annotation,"dynamicText"),this.pdfViewer.selectedItems.annotations[0]?this.pdfViewer.nodePropertyChange(this.pdfViewer.selectedItems.annotations[0],{}):this.pdfViewer.nodePropertyChange(n.annotation,{}),this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!1,this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID);break;case"fontColor":this.pdfViewer.nodePropertyChange(n.annotation,{fontColor:n.undoElement.fontColor}),this.modifyInCollections(n.annotation,"fontColor"),this.pdfViewer.renderDrawing();break;case"fontSize":this.isFreeTextFontsizeChanged=!0,this.pdfViewer.nodePropertyChange(n.annotation,{fontSize:n.undoElement.fontSize}),this.modifyInCollections(n.annotation,"fontSize"),this.pdfViewer.renderDrawing();break;case"fontFamily":this.pdfViewer.nodePropertyChange(n.annotation,{fontFamily:n.undoElement.fontFamily}),this.modifyInCollections(n.annotation,"fontFamily"),this.pdfViewer.renderDrawing();break;case"textAlign":this.pdfViewer.nodePropertyChange(n.annotation,{textAlign:n.undoElement.textAlign}),this.modifyInCollections(n.annotation,"textAlign"),this.pdfViewer.renderDrawing();break;case"textPropertiesChange":this.pdfViewer.nodePropertyChange(n.annotation,{font:n.undoElement.font}),this.modifyInCollections(n.annotation,"textPropertiesChange"),this.pdfViewer.renderDrawing();break;case"Rotate":this.pdfViewer.nodePropertyChange(n.annotation.annotations[0],{bounds:n.undoElement.bounds,rotateAngle:n.undoElement.rotateAngle}),this.modifyInCollections(n.annotation.annotations[0],"bounds"),this.pdfViewer.renderDrawing();break;case"FormDesigner Properties Change":n.undoElement&&n.undoElement.isMultiline!==n.redoElement.isMultiline&&this.undoRedoMultiline(n.undoElement),this.updateFormFieldPropertiesChanges(n.undoElement.formFieldAnnotationType,n.undoElement);break;case"FormField Value Change":if(n.annotation.formFieldAnnotationType)"RadioButton"===n.annotation.formFieldAnnotationType?(this.updateFormFieldValueChange(n.annotation.formFieldAnnotationType,n.undoElement,!1),this.updateFormFieldValueChange(n.annotation.formFieldAnnotationType,n.redoElement,!0)):this.updateFormFieldValueChange(n.annotation.formFieldAnnotationType,n.annotation,n.undoElement);else{document.getElementById(n.annotation.id+"_html_element").children[0].children[0].className="e-pdfviewer-signatureformfields";var o=this.pdfViewer.nameTable[n.annotation.id.split("_")[0]],d=this.pdfViewer.nameTable[n.annotation.id],r=("SignatureField"!==n.annotation.annotName&&"SignatureText"!==n.annotation.annotName||(n.annotation.bounds=d.wrapper.bounds),o.wrapper.children.splice(o.wrapper.children.indexOf(d.wrapper.children[0]),1),"SignatureText"===n.annotation.shapeAnnotationType&&o.wrapper.children.splice(o.wrapper.children.indexOf(d.wrapper.children[1]),1),n.annotation.id.split("_")[0]+"_content"),a=null;if(a=this.pdfViewer.formDesignerModule?this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"):a){for(l=JSON.parse(a),A=0;A<l.length;A++)l[parseInt(A.toString(),10)].Key===r&&(l[parseInt(A.toString(),10)].FormField.value="",l[parseInt(A.toString(),10)].FormField.signatureType="",this.pdfViewerBase.formFieldCollection[parseInt(A.toString(),10)].FormField.value="",this.pdfViewerBase.formFieldCollection[parseInt(A.toString(),10)].FormField.signatureType="");this.pdfViewer.remove(n.annotation),this.pdfViewer.renderDrawing(),this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}}}this.redoCollection.push(n),this.updateToolbar(),this.isUndoRedoAction=!1,this.isUndoAction=!1}},o.prototype.redo=function(){var e=this.redoCollection.pop(),t=this.pdfViewer.nameTable[e.annotation.id];if(e){var i=e.annotation.shapeAnnotationType;switch(this.isUndoRedoAction=!0,e.action){case"Text Markup Property modified":this.textMarkupAnnotationModule&&(e.annotation=this.textMarkupAnnotationModule.undoRedoPropertyChange(e.annotation,e.pageIndex,e.index,e.modifiedProperty));break;case"Text Markup Added":case"Text Markup Deleted":this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.redoTextMarkupAction(e.annotation,e.pageIndex,e.index,e.action);break;case"Drag":case"Resize":Ae(e.annotation)?this.pdfViewer.nodePropertyChange(t,{bounds:e.redoElement.bounds,vertexPoints:e.redoElement.vertexPoints,leaderHeight:e.redoElement.leaderHeight}):this.pdfViewer.nodePropertyChange(t,{bounds:e.redoElement.bounds}),"Distance"!==e.annotation.measureType&&"Perimeter"!==e.annotation.measureType&&"Area"!==e.annotation.measureType&&"Radius"!==e.annotation.measureType&&"Volume"!==e.annotation.measureType||(this.pdfViewer.nodePropertyChange(t,{notes:e.redoElement.notes}),this.updateCalibrateValues(t)),e.annotation.formFieldAnnotationType&&this.pdfViewer.formDesigner.updateHTMLElement(e.annotation),this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.pdfViewer.select([t.id]),"Line"!==e.annotation.shapeAnnotationType&&"Rectangle"!==e.annotation.shapeAnnotationType&&"Ellipse"!==e.annotation.shapeAnnotationType&&"Polygon"!==e.annotation.shapeAnnotationType&&"LineWidthArrowHead"!==e.annotation.shapeAnnotationType&&"Radius"!==e.annotation.shapeAnnotationType&&"FreeText"!==e.annotation.shapeAnnotationType&&"HandWrittenSignature"!==e.annotation.shapeAnnotationType&&"SignatureText"!==e.annotation.shapeAnnotationType&&"SignatureImage"!==e.annotation.shapeAnnotationType&&"Ink"!==e.annotation.shapeAnnotationType||this.modifyInCollections(t,"bounds");break;case"Addition":this.pdfViewer.formDesigner&&e.annotation.formFieldAnnotationType?(e.redoElement.bounds.x=e.redoElement.wrapper.bounds.x,e.redoElement.bounds.y=e.redoElement.wrapper.bounds.y,this.pdfViewer.formDesigner.drawFormField(e.redoElement)):("Line"!==i&&"LineWidthArrowHead"!==i&&"Polygon"!==i&&"Ellipse"!==i&&"Rectangle"!==i&&"Radius"!==i&&"Distance"!==i||(""===e.annotation.measureType||G.isNullOrUndefined(e.annotation.measureType)?(i="shape",this.shapeAnnotationModule):(i="shape_measure",this.measureAnnotationModule)).addInCollection(e.annotation.pageIndex,e.duplicate),"FreeText"===i&&this.freeTextAnnotationModule.addInCollection(e.annotation.pageIndex,e.duplicate),"Stamp"!==i&&"Image"!==i||this.stampAnnotationModule.updateDeleteItems(e.annotation.pageIndex,e.redoElement),"HandWrittenSignature"!==i&&"SignatureText"!==i&&"SignatureImage"!==i||this.pdfViewerBase.signatureModule.addInCollection(e.annotation.pageIndex,e.duplicate),"Ink"===i&&this.inkAnnotationModule.addInCollection(e.annotation.pageIndex,e.duplicate),n=this.pdfViewer.add(e.annotation),this.pdfViewer.select([e.annotation.id]),("FreeText"===i||n.enableShapeLabel)&&n&&this.pdfViewer.nodePropertyChange(n,{}),this.pdfViewer.renderDrawing(null,e.annotation.pageIndex),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addAnnotationComments(e.annotation.pageIndex,i,!1),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(n=document.getElementById(this.pdfViewer.element.id+"_propertyToolbar"))&&0<n.children.length&&(this.pdfViewer.toolbarModule.annotationToolbarModule.toolbarCreated=!1,this.pdfViewer.toolbarModule.annotationToolbarModule.createAnnotationToolbarForMobile()));break;case"Delete":if(this.pdfViewer.formDesigner&&e.annotation.formFieldAnnotationType)this.pdfViewer.formDesigner.deleteFormField(e.redoElement.id,!1);else{var n=!1,o=e.annotation.shapeAnnotationType,o=("Line"!==i&&"LineWidthArrowHead"!==i&&"Polygon"!==i&&"Ellipse"!==i&&"Rectangle"!==i&&"Radius"!==i&&"Distance"!==i||(o=""===e.annotation.measureType||G.isNullOrUndefined(e.annotation.measureType)?"shape":"measure",this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(e.annotation,o,"delete"),this.modifyInCollections(e.annotation,"delete"),n=!0),"Stamp"!==i&&"Image"!==i||(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(e.annotation,o,"delete"),this.stampAnnotationModule.updateSessionStorage(e.annotation,null,"delete"),this.modifyInCollections(e.annotation,"delete"),n=!0),"FreeText"!==i&&"HandWrittenSignature"!==i&&"SignatureText"!==i&&"SignatureImage"!==i||(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(e.annotation,o,"delete"),this.modifyInCollections(e.annotation,"delete")),n||this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(e.annotation,o,"delete"),void 0);if(null!=(o=e.annotation.id?this.pdfViewer.nameTable[e.annotation.id.split("_")[0]]:o)&&("SignatureField"===o.formFieldAnnotationType||"InitialField"===o.formFieldAnnotationType)){o.wrapper.children.splice(o.wrapper.children.indexOf(e.annotation.wrapper.children[0]),1),"SignatureText"===e.annotation.shapeAnnotationType&&o.wrapper.children.splice(o.wrapper.children.indexOf(e.annotation.wrapper.children[1]),1);var r=e.annotation.id.split("_")[0]+"_content",a=null;if(a=this.pdfViewer.formDesignerModule?this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"):a){for(var s=JSON.parse(a),l=0;l<s.length;l++)s[parseInt(l.toString(),10)].Key===r&&(s[parseInt(l.toString(),10)].FormField.value="",s[parseInt(l.toString(),10)].FormField.signatureType="",this.pdfViewerBase.formFieldCollection[parseInt(l.toString(),10)].FormField.value="",this.pdfViewerBase.formFieldCollection[parseInt(l.toString(),10)].FormField.signatureType="");this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}}this.pdfViewer.clearSelection(e.annotation.pageIndex),this.pdfViewer.remove(e.annotation),this.pdfViewer.renderDrawing(null,e.annotation.pageIndex);var n=e.annotation.annotName||e.annotation.annotationId,A=document.getElementById(n);this.removeCommentPanelDiv(A),e.annotation.annotationId&&(A=this.updateCollectionForNonRenderedPages(e.annotation,n,e.annotation.pageIndex),this.undoCommentsElement.push(A))}break;case"stampOpacity":this.pdfViewer.nodePropertyChange(t,{opacity:e.redoElement.opacity}),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(t,null,!0);break;case"Shape Stroke":this.pdfViewer.nodePropertyChange(t,{strokeColor:e.redoElement.strokeColor}),this.modifyInCollections(t,"stroke"),this.pdfViewer.renderDrawing();break;case"Shape Fill":this.pdfViewer.nodePropertyChange(t,{fillColor:e.redoElement.fillColor}),this.modifyInCollections(t,"fill"),this.pdfViewer.renderDrawing();break;case"Shape Opacity":this.pdfViewer.nodePropertyChange(t,{opacity:e.redoElement.opacity}),"StickyNotes"===e.annotation.shapeAnnotationType?(this.stickyNotesAnnotationModule.updateOpacityValue(t),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(t,null,!0)):this.modifyInCollections(t,"opacity"),this.pdfViewer.renderDrawing();break;case"Shape Thickness":this.pdfViewer.nodePropertyChange(t,{thickness:e.redoElement.thickness}),this.modifyInCollections(t,"thickness"),this.pdfViewer.renderDrawing();break;case"Line properties change":this.pdfViewer.nodePropertyChange(t,{fillColor:e.redoElement.fillColor,strokeColor:e.redoElement.strokeColor,opacity:e.redoElement.opacity,thickness:e.redoElement.thickness,sourceDecoraterShapes:this.getArrowType(e.redoElement.lineHeadStart),taregetDecoraterShapes:this.getArrowType(e.redoElement.lineHeadEnd),borderDashArray:e.redoElement.borderDashArray,borderStyle:e.redoElement.borderStyle}),this.updateCollectionForLineProperty(t),this.pdfViewer.renderDrawing();break;case"Text Property Added":e.annotation=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.redoAction(e.annotation,e.action,e.undoElement),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(e.annotation,null,!0);break;case"Comments Property Added":e.annotation=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.redoAction(e.annotation,e.action,e.undoElement);break;case"Status Property Added":case"Comments Reply Deleted":e.annotation=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.redoAction(e.annotation,e.action);break;case"dynamicText Change":this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!0,t.dynamicText=e.redoElement.dynamicText;n=this.pdfViewer.selectedItems.annotations[0];n&&(n.dynamicText=e.redoElement.dynamicText,n.bounds.height=e.redoElement.bounds.height),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.redoAction(e.annotation,e.action,e.undoElement),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(t,null,!0),this.modifyInCollections(t,"dynamicText"),n?this.pdfViewer.nodePropertyChange(n,{}):this.pdfViewer.nodePropertyChange(t,{}),this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!1,this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.pdfViewer.select([t.id]);break;case"fontColor":this.pdfViewer.nodePropertyChange(t,{fontColor:e.redoElement.fontColor}),this.modifyInCollections(t,"fontColor"),this.pdfViewer.renderDrawing();break;case"fontSize":this.isFreeTextFontsizeChanged=!0,this.pdfViewer.nodePropertyChange(t,{fontSize:e.redoElement.fontSize}),this.modifyInCollections(t,"fontSize"),this.pdfViewer.renderDrawing();break;case"textAlign":this.pdfViewer.nodePropertyChange(t,{textAlign:e.redoElement.textAlign}),this.modifyInCollections(t,"textAlign"),this.pdfViewer.renderDrawing();break;case"textPropertiesChange":this.pdfViewer.nodePropertyChange(t,{font:e.redoElement.font}),this.modifyInCollections(t,"textPropertiesChange"),this.pdfViewer.renderDrawing();break;case"Rotate":this.pdfViewer.nodePropertyChange(e.annotation.annotations[0],{bounds:e.redoElement.bounds,rotateAngle:e.redoElement.rotateAngle}),this.modifyInCollections(e.annotation.annotations[0],"bounds"),this.pdfViewer.renderDrawing();break;case"FormDesigner Properties Change":e.redoElement&&e.undoElement.isMultiline!==e.redoElement.isMultiline&&this.undoRedoMultiline(e.redoElement),this.updateFormFieldPropertiesChanges(e.redoElement.formFieldAnnotationType,e.redoElement);break;case"FormField Value Change":if(e.annotation.formFieldAnnotationType)"RadioButton"===e.annotation.formFieldAnnotationType?(this.updateFormFieldValueChange(e.annotation.formFieldAnnotationType,e.undoElement,!0),this.updateFormFieldValueChange(e.annotation.formFieldAnnotationType,e.redoElement,!1)):this.updateFormFieldValueChange(e.annotation.formFieldAnnotationType,e.annotation,e.redoElement);else{document.getElementById(e.annotation.id+"_html_element").children[0].children[0].className="e-pdfviewer-signatureformfields-signature";o=this.pdfViewer.nameTable[e.annotation.id.split("_")[0]],A=this.pdfViewer.nameTable[e.annotation.id],r=(o.wrapper.children.push(A.wrapper.children[0]),"SignatureText"===e.annotation.shapeAnnotationType&&o.wrapper.children.push(A.wrapper.children[1]),e.annotation.id.split("_")[0]+"_content"),a=null;if(a=this.pdfViewer.formDesignerModule?this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"):a){for(var d,s=JSON.parse(a),l=0;l<s.length;l++)s[parseInt(l.toString(),10)].Key===r&&("SignatureText"===e.annotation.shapeAnnotationType?(s[parseInt(l.toString(),10)].FormField.signatureType="Text",s[parseInt(l.toString(),10)].FormField.value=e.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(l.toString(),10)].FormField.value=e.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(l.toString(),10)].FormField.signatureType="Text"):"SignatureImage"===e.annotation.shapeAnnotationType?(s[parseInt(l.toString(),10)].FormField.signatureType="Image",s[parseInt(l.toString(),10)].FormField.value=e.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(l.toString(),10)].FormField.value=e.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(l.toString(),10)].FormField.signatureType="Image"):(s[parseInt(l.toString(),10)].FormField.signatureType="Path",this.pdfViewerBase.formFieldCollection[parseInt(l.toString(),10)].FormField.signatureType="Path",d=J.processPathData(e.annotation.data),d=J.splitArrayCollection(d),s[parseInt(l.toString(),10)].FormField.value=JSON.stringify(d),this.pdfViewerBase.formFieldCollection[parseInt(l.toString(),10)].FormField.value=JSON.stringify(d)));this.pdfViewer.add(e.annotation);n=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",e.pageIndex);this.pdfViewer.renderDrawing(n,e.pageIndex),this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}}}e.redoElement&&void 0!==e.redoElement.modifiedDate&&(e.annotation.modifiedDate=e.redoElement.modifiedDate),this.actionCollection.push(e),this.updateToolbar(),this.isUndoRedoAction=!1}},o.prototype.undoRedoMultiline=function(e){e.isMultiline&&"Textbox"===e.formFieldAnnotationType?this.pdfViewer.formDesignerModule.renderMultilineText(e,!0):"Textbox"===e.formFieldAnnotationType&&this.pdfViewer.formDesignerModule.renderTextbox(e,!0)},o.prototype.updateFormFieldValueChange=function(e,t,i){if(t){var n=this.pdfViewer.formDesigner.getFormField(t.id.split("_")[0]),o=null;if(o=this.pdfViewer.formDesignerModule?this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"):o){var r=JSON.parse(o),a=this.pdfViewer.formDesigner.getFormFiledIndex(t.id.split("_")[0]);switch(e){case"Textbox":case"PasswordField":case"RadioButton":case"DropdownList":case"ListBox":var s=document.getElementById(t.id.split("_")[0]+"_content_html_element").firstElementChild.firstElementChild;if("Textbox"===e||"PasswordField"===e)n.value=i,this.pdfViewer.formDesigner.updateValuePropertyChange(n,s,!0,a,r);else if("RadioButton"===e)n.isSelected=i,this.pdfViewer.formDesigner.updateIsSelectedPropertyChange(n,s.firstElementChild,!0,a,r);else if("DropdownList"===e||"ListBox"===e)if(n.selectedIndex=i,r[parseInt(a.toString(),10)].FormField.selectedIndex=i,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.selectedIndex=i,this.pdfViewer.nameTable[r[parseInt(a.toString(),10)].Key.split("_")[0]].selectedIndex=i,"ListBox"===e)for(var l=0;l<s.options.length;l++)s.options[parseInt(l.toString(),10)].selected=!!i.includes(l);else s.selectedIndex=i;break;case"Checkbox":var A=document.getElementById(t.id.split("_")[0]+"_content_html_element").firstElementChild.firstElementChild.lastElementChild;n.isChecked=i,this.pdfViewer.formDesigner.updateIsCheckedPropertyChange(n,A,!0,a,r)}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}}},o.prototype.updateFormFieldPropertiesChanges=function(e,t){switch(e){case"Textbox":case"PasswordField":this.pdfViewer.formDesigner.updateTextboxFormDesignerProperties(t,!0);break;case"Checkbox":this.pdfViewer.formDesigner.updateCheckboxFormDesignerProperties(t,!0,!0);break;case"RadioButton":this.pdfViewer.formDesigner.updateRadioButtonDesignerProperties(t,!0,!0);break;case"DropdownList":this.pdfViewer.formDesigner.updateDropdownFormDesignerProperties(t,!0);break;case"ListBox":this.pdfViewer.formDesigner.updateListBoxFormDesignerProperties(t,!0);break;case"SignatureField":case"InitialField":this.pdfViewer.formDesigner.updateSignatureTextboxProperties(t,!0)}},o.prototype.updateCollectionForLineProperty=function(e){this.modifyInCollections(e,"fill"),this.modifyInCollections(e,"stroke"),this.modifyInCollections(e,"opacity"),this.modifyInCollections(e,"thickness"),this.modifyInCollections(e,"dashArray"),this.modifyInCollections(e,"startArrow"),this.modifyInCollections(e,"endArrow")},o.prototype.updateToolbar=function(e){this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.updateUndoRedoButtons(),this.actionCollection&&0===this.actionCollection.length?this.pdfViewerBase.updateDocumentEditedProperty(!1):this.pdfViewerBase.updateDocumentEditedProperty(!0),e&&this.pdfViewerBase.updateDocumentEditedProperty(!0)},o.prototype.createNote=function(){this.popupNote=G.createElement("div",{id:this.pdfViewer.element.id+"_annotation_note",className:"e-pv-annotation-note",styles:"display:none"}),this.popupNoteAuthor=G.createElement("div",{id:this.pdfViewer.element.id+"_annotation_note_author",className:"e-pv-annotation-note-author"}),this.popupNote.appendChild(this.popupNoteAuthor),this.popupNoteContent=G.createElement("div",{id:this.pdfViewer.element.id+"_annotation_note_content",className:"e-pv-annotation-note-content"}),this.popupNote.appendChild(this.popupNoteContent),this.pdfViewerBase.mainContainer&&this.pdfViewerBase.mainContainer.appendChild(this.popupNote)},o.prototype.showPopupNote=function(e,t,i,n,o){var r=this.pdfViewerBase.mainContainer.getBoundingClientRect(),a=this.popupNote.getBoundingClientRect(),i=(i&&(this.popupNoteAuthor.textContent=i),this.popupNoteContent.textContent=n,"Highlight"===o?this.popupNote.style.backgroundColor="rgb(237, 232, 177)":"Underline"===o?this.popupNote.style.backgroundColor="rgb(187, 241, 191)":"Strikethrough"===o&&(this.popupNote.style.backgroundColor="rgb(242, 188, 207)"),this.popupNote.style.display="block",e.pageY-r.top+5),n=e.pageX-r.left+5;n+a.width>r.width&&(n-=a.width),i+a.height>r.height&&(i-=a.height),this.popupNote.style.top=i+"px",this.popupNote.style.left=n+"px"},o.prototype.hidePopupNote=function(){this.popupNote&&(this.popupNote.style.display="none")},o.prototype.createTextMarkupPopup=function(){var e=this,t=this.pdfViewer.element.id,i=(this.popupElement=G.createElement("div",{id:t+"_popup_annotation_note",className:"e-pv-annotation-popup-menu",styles:"display:none"}),G.createElement("div",{id:t+"_popup_header",className:"e-pv-annotation-popup-header"})),n=(this.authorPopupElement=G.createElement("div",{id:t+"_popup_author",className:"e-pv-annotation-popup-author"}),i.appendChild(this.authorPopupElement),G.createElement("span",{id:t+"_popup_close",className:"e-pv-annotation-popup-close e-pv-icon"})),i=(i.appendChild(n),this.popupElement.appendChild(i),this.modifiedDateElement=G.createElement("div",{id:t+"_popup_modified_time",className:"e-pv-annotation-modified-time"}),this.popupElement.appendChild(this.modifiedDateElement),G.createElement("div",{id:t+"_popup_content_container",className:"e-pv-annotation-popup-note-container"}));this.noteContentElement=G.createElement("div",{id:t+"_popup_content",className:"e-pv-annotation-popup-content"}),this.noteContentElement.contentEditable="true",i.appendChild(this.noteContentElement),this.popupElement.appendChild(i),this.pdfViewerBase.viewerContainer.appendChild(this.popupElement),n.addEventListener("click",this.saveClosePopupMenu.bind(this)),n.addEventListener("touchend",this.saveClosePopupMenu.bind(this)),this.popupElement.addEventListener("mousedown",this.onPopupElementMoveStart.bind(this)),this.popupElement.addEventListener("mousemove",this.onPopupElementMove.bind(this)),window.addEventListener("mouseup",this.onPopupElementMoveEnd.bind(this)),this.popupElement.addEventListener("touchstart",this.onPopupElementMoveStart.bind(this)),this.popupElement.addEventListener("touchmove",this.onPopupElementMove.bind(this)),window.addEventListener("touchend",this.onPopupElementMoveEnd.bind(this)),this.noteContentElement.addEventListener("mousedown",function(){e.noteContentElement.focus()})},o.prototype.onPopupElementMoveStart=function(e){var t;(e="touchstart"===e.type?e.changedTouches[0]:e).target.id===this.noteContentElement.id&&e.target.contains(this.noteContentElement.childNodes[0])||(this.isPopupMenuMoved=!0,t=this.popupElement.getBoundingClientRect(),this.clientX=e.clientX-t.left,this.clientY=e.clientY-t.top+this.pdfViewerBase.pageSize[this.currentAnnotPageNumber].top*this.pdfViewerBase.getZoomFactor())},o.prototype.onPopupElementMove=function(e){var t,i,n;"touchmove"===e.type&&(e=e.changedTouches[0]),!this.isPopupMenuMoved||e.target.id===this.noteContentElement.id&&e.target.contains(this.noteContentElement.childNodes[0])||(t=e.clientX-this.clientX+parseFloat(this.popupElement.style.left),i=e.clientY-this.clientY+parseFloat(this.popupElement.style.top),this.clientX=e.clientX,this.clientY=e.clientY,e=this.popupElement.getBoundingClientRect(),n=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+this.currentAnnotPageNumber),t>parseFloat(n.style.left)&&t+e.width<parseFloat(n.style.left)+parseFloat(n.style.width)?this.popupElement.style.left=t+"px":this.popupElement.style.left=parseFloat(this.popupElement.style.left)+"px",i>parseFloat(n.style.top)&&i+e.height<parseFloat(n.style.top)+parseFloat(n.style.height)?this.popupElement.style.top=i+"px":this.popupElement.style.top=parseFloat(this.popupElement.style.top)+"px")},o.prototype.onPopupElementMoveEnd=function(){this.isPopupMenuMoved=!1},o.prototype.saveClosePopupMenu=function(){this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.saveNoteContent(this.currentAnnotPageNumber,this.noteContentElement.innerText),this.closePopupMenu()},o.prototype.closePopupMenu=function(){this.popupElement&&(this.popupElement.parentElement.removeChild(this.popupElement),this.popupElement=null,this.isPopupNoteVisible=!1)},o.prototype.showAnnotationPopup=function(e){var t,i,n;this.textMarkupAnnotationModule&&(this.currentAnnotPageNumber=this.getEventPageNumber(e),this.textMarkupAnnotationModule)&&(e.target!==this.noteContentElement||e.target.contains(this.noteContentElement.childNodes[0]))&&(this.hidePopupNote(),this.popupElement||(this.createTextMarkupPopup(),this.popupElement.style.display="block",this.authorPopupElement.textContent=this.textMarkupAnnotationModule.currentTextMarkupAnnotation.author,this.modifiedDateElement.textContent=this.getProperDate(this.textMarkupAnnotationModule.currentTextMarkupAnnotation.modifiedDate),this.noteContentElement.textContent=this.textMarkupAnnotationModule.currentTextMarkupAnnotation.note,t=this.popupElement.getBoundingClientRect(),n=(i=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+this.currentAnnotPageNumber)).getBoundingClientRect(),n=e.clientY-n.top+parseFloat(i.style.top),(e=e.clientX)+t.width>parseFloat(i.style.left)+parseFloat(i.style.width)?this.popupElement.style.left=e-t.width+"px":this.popupElement.style.left=e+"px",n+t.height>parseFloat(i.style.top)+parseFloat(i.style.height)?this.popupElement.style.top=n-t.height+"px":this.popupElement.style.top=n+"px",this.isPopupNoteVisible=!0))},o.prototype.modifyOpacity=function(e,t){var i=this.pdfViewer.selectedItems.annotations[0],n=M(i),o=M(i),r=1,r=t?e/100:e.value/100;i.opacity!==r&&(o.opacity=r,this.pdfViewer.nodePropertyChange(i,{opacity:r}),"StickyNotes"===i.shapeAnnotationType?this.stickyNotesAnnotationModule.updateOpacityValue(i):this.modifyInCollections(i,"opacity"),"HandWrittenSignature"===i.shapeAnnotationType||"SignatureImage"===i.shapeAnnotationType||"SignatureText"===i.shapeAnnotationType?this.pdfViewer.fireSignaturePropertiesChange(i.pageIndex,i.signatureName,i.shapeAnnotationType,!1,!0,!1,n.opacity,o.opacity):this.triggerAnnotationPropChange(i,!1,!1,!1,!0),this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"Shape Opacity","",n,o),this.pdfViewer.renderDrawing())},o.prototype.modifyFontColor=function(e){var t=this.pdfViewer.selectedItems.annotations[0],i=M(t),n=M(t);n.fontColor=e,this.pdfViewer.nodePropertyChange(t,{fontColor:e}),this.modifyInCollections(t,"fontColor"),this.triggerAnnotationPropChange(t,!1,!1,!1,!0),this.pdfViewer.annotation.addAction(t.pageIndex,null,t,"fontColor","",i,n),this.pdfViewer.renderDrawing()},o.prototype.modifyFontFamily=function(e){var t=this.pdfViewer.selectedItems.annotations[0],i=M(t),n=M(t);n.fontFamily=e,this.pdfViewer.freeTextSettings.enableAutoFit?this.updateFontFamilyRenderSize(t,e):this.pdfViewer.nodePropertyChange(t,{fontFamily:e}),this.modifyInCollections(t,"fontFamily"),this.triggerAnnotationPropChange(t,!1,!1,!1,!0),this.pdfViewer.annotation.addAction(t.pageIndex,null,t,"fontFamily","",i,n),this.pdfViewer.renderDrawing()},o.prototype.modifyFontSize=function(e,t){var i,n,o=this.pdfViewer.selectedItems.annotations[0],r=M(o),a=M(o),s=(a.fontSize=e,this.freeTextAnnotationModule),l=o.bounds.x,A=o.bounds.y,d=(o.fontSize=e,s&&!s.isNewFreeTextAnnot&&""!==o.dynamicText&&(s.addInuptElemet({x:l,y:A},o),o&&(o.previousFontSize!==e&&(s.inputBoxElement.style.height="auto",t||this.isFreeTextFontsizeChanged||s.inputBoxElement.scrollHeight+5>o.bounds.height?(this.isFreeTextFontsizeChanged=!1,s.inputBoxElement.style.height=s.inputBoxElement.scrollHeight+5+"px"):s.inputBoxElement.style.height=o.bounds.height+"px"),l=parseFloat(s.inputBoxElement.style.height),A=parseFloat(s.inputBoxElement.style.width),A/=n=this.pdfViewerBase.getZoomFactor(),i=void 0,i=0<(n=(l/=n)-o.bounds.height)?0<(i=o.wrapper.offsetY+n/2)?i:void 0:(n=Math.abs(n),0<(i=o.wrapper.offsetY-n/2)?i:void 0),n=void 0,n=0<(d=A-o.bounds.width)?0<(n=o.wrapper.offsetX+d/2)?n:void 0:(d=Math.abs(d),o.wrapper.offsetX-d/2),o.bounds.width=A,o.bounds.height=l,this.pdfViewer.nodePropertyChange(o,{fontSize:e,bounds:{width:o.bounds.width,height:o.bounds.height,y:i,x:n}}),this.pdfViewer.renderSelector(o.pageIndex,this.pdfViewer.annotationSelectorSettings),o.previousFontSize=e),this.modifyInCollections(o,"fontSize"),this.modifyInCollections(o,"bounds"),this.triggerAnnotationPropChange(o,!1,!1,!1,!0),t&&this.pdfViewer.annotation.addAction(o.pageIndex,null,o,"fontSize","",r,a),s.inputBoxElement.blur()),this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",o.pageIndex));this.pdfViewer.drawing.refreshCanvasDiagramLayer(d,o.pageIndex)},o.prototype.handleFontSizeUpdate=function(e){1===this.pdfViewer.selectedItems.annotations.length&&e?this.isUndoRedoAction?this.modifyFontSize(e,!1):this.modifyFontSize(e,!0):this.freeTextAnnotationModule&&(this.pdfViewer.freeTextSettings.fontSize=e,this.freeTextAnnotationModule.updateTextProperties())},o.prototype.modifyTextAlignment=function(e){var t=this.pdfViewer.selectedItems.annotations[0];this.pdfViewer.nodePropertyChange(t,{textAlign:e}),this.modifyInCollections(t,"textAlign"),this.triggerAnnotationPropChange(t,!1,!1,!1,!0),this.pdfViewer.renderDrawing()},o.prototype.modifyTextProperties=function(e,t){var i=this.pdfViewer.selectedItems.annotations[0],n=M(i),o=M(i);"bold"===t?o.font.isBold=e.isBold:"italic"===t?o.font.isItalic=e.isItalic:"underline"===t?(o.font.isUnderline=e.isUnderline,o.font.isUnderline&&o.font.isStrikeout&&(o.font.isStrikeout=!1)):"strikeout"===t&&(o.font.isStrikeout=e.isStrikeout,o.font.isUnderline)&&o.font.isStrikeout&&(o.font.isUnderline=!1),this.pdfViewer.nodePropertyChange(i,{font:e}),this.modifyInCollections(i,"textPropertiesChange"),this.triggerAnnotationPropChange(i,!1,!1,!1,!0),this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"textPropertiesChange","",n,o),this.pdfViewer.renderDrawing()},o.prototype.modifyThickness=function(e){var t,i,n=this.pdfViewer.selectedItems.annotations[0];n.thickness!==e&&(t=M(n),(i=M(n)).thickness=e,this.pdfViewer.nodePropertyChange(n,{thickness:e}),this.modifyInCollections(n,"thickness"),"HandWrittenSignature"===n.shapeAnnotationType||"SignatureText"===n.shapeAnnotationType||"SignatureImage"===n.shapeAnnotationType?this.pdfViewer.fireSignaturePropertiesChange(n.pageIndex,n.signatureName,n.shapeAnnotationType,!1,!1,!0,t.thickness,i.thickness):this.triggerAnnotationPropChange(n,!1,!1,!0,!1),this.pdfViewer.annotation.addAction(n.pageIndex,null,n,"Shape Thickness","",t,i),this.pdfViewer.renderDrawing())},o.prototype.modifyStrokeColor=function(e){var t=this.pdfViewer.selectedItems.annotations[0],i=M(t),n=M(t);n.strokeColor=e,this.pdfViewer.nodePropertyChange(t,{strokeColor:e}),this.modifyInCollections(t,"stroke"),"HandWrittenSignature"===t.shapeAnnotationType||"SignatureText"===t.shapeAnnotationType||"SignatureImage"===t.shapeAnnotationType?this.pdfViewer.fireSignaturePropertiesChange(t.pageIndex,t.signatureName,t.shapeAnnotationType,!0,!1,!1,i.strokeColor,n.strokeColor):this.triggerAnnotationPropChange(t,!1,!0,!1,!1),this.pdfViewer.annotation.addAction(t.pageIndex,null,t,"Shape Stroke","",i,n),this.pdfViewer.renderDrawing()},o.prototype.modifyFillColor=function(e){var t=this.pdfViewer.selectedItems.annotations[0],i=M(t),n=M(t);n.fillColor=e,this.pdfViewer.nodePropertyChange(this.pdfViewer.selectedItems.annotations[0],{fillColor:e}),this.modifyInCollections(t,"fill"),this.triggerAnnotationPropChange(t,!0,!1,!1,!1),this.pdfViewer.annotation.addAction(t.pageIndex,null,t,"Shape Fill","",i,n),this.pdfViewer.renderDrawing()},o.prototype.modifyDynamicTextValue=function(e,t){var i,n,o=null;(o=this.pdfViewer.annotations.filter(function(e){return e.annotName===t})[0])&&(i=M(o),n=M(o),o.dynamicText=e,n.dynamicText=e,""===i.dynamicText&&(i.dynamicText=this.freeTextAnnotationModule.previousText),this.pdfViewer.nodePropertyChange(o,{dynamicText:e}),this.pdfViewer.renderSelector(o.pageIndex,o.annotationSelectorSettings),i.dynamicText!==n.dynamicText&&(this.pdfViewer.annotation.addAction(o.pageIndex,null,o,"dynamicText Change","",i,n),this.modifyInCollections(o,"dynamicText")),G.isNullOrUndefined(this.freeTextAnnotationModule)||this.freeTextAnnotationModule.previousText===o.dynamicText||this.triggerAnnotationPropChange(o,!1,!1,!1,!1,!1,!1,!1,!0,this.freeTextAnnotationModule.previousText,o.dynamicText),this.pdfViewer.renderDrawing())},o.prototype.modifyInCollections=function(e,t){var i;return""===e.measureType||G.isNullOrUndefined(e.measureType)?i="FreeText"===e.shapeAnnotationType?this.freeTextAnnotationModule.modifyInCollection(t,e.pageIndex,e):"HandWrittenSignature"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType?this.pdfViewerBase.signatureModule.modifySignatureCollection(t,e.pageIndex,e):"Stamp"===e.shapeAnnotationType||"Image"===e.shapeAnnotationType?this.stampAnnotationModule.modifyInCollection(t,e.pageIndex,e,null):"Ink"===e.shapeAnnotationType?this.inkAnnotationModule.modifySignatureInkCollection(t,e.pageIndex,e):this.shapeAnnotationModule.modifyInCollection(t,e.pageIndex,e,null):"Distance"!==e.measureType&&"Perimeter"!==e.measureType&&"Radius"!==e.measureType&&"Area"!==e.measureType&&"Volume"!==e.measureType||(i=this.measureAnnotationModule.modifyInCollection(t,e.pageIndex,e)),this.isUndoRedoAction?(this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(e,null,!0),this.isUndoAction&&(e.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime())):"bounds"!==t&&this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(e),this.isUndoRedoAction&&"delete"===t&&this.updateAnnotationCollection(e),i},o.prototype.createPropertiesWindow=function(){var e,t,i,n,o=this;G.isBlazor()?(t=100*this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.opacity,i=this.getArrowString(this.pdfViewer.selectedItems.annotations[0].sourceDecoraterShapes),n=this.getArrowString(this.pdfViewer.selectedItems.annotations[0].taregetDecoraterShapes),e=void 0,3<=parseInt(this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray,10)?e="Dashed":"2"===this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray?e="Dotted":"0"===this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray&&(e="Solid"),this.pdfViewer._dotnetInstance.invokeMethodAsync("OpenPropertiesDialog",t,i,n,e)):(t=this.pdfViewer.element.id,i=G.createElement("div",{id:t+"_properties_window",className:"e-pv-properties-window"}),n=this.createAppearanceTab(),this.pdfViewerBase.pageContainer.appendChild(i),this.propertiesDialog=new k.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:this.pdfViewer.localeObj.getConstant("Line Properties"),target:this.pdfViewer.element,content:n,close:function(){o.destroyPropertiesWindow()}}),!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.propertiesDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.onOkClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.onCancelClicked.bind(this)}]:this.propertiesDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.onCancelClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.onOkClicked.bind(this)}],this.pdfViewer.enableRtl&&(this.propertiesDialog.enableRtl=!0),this.propertiesDialog.appendTo(i),this.pdfViewer.selectedItems.annotations[0]&&"Line"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(document.getElementById(this.pdfViewer.element.id+"_properties_fill_color").disabled=!0),this.startArrowDropDown.content=this.createContent(this.getArrowString(this.pdfViewer.selectedItems.annotations[0].sourceDecoraterShapes)).outerHTML,this.endArrowDropDown.content=this.createContent(this.getArrowString(this.pdfViewer.selectedItems.annotations[0].taregetDecoraterShapes)).outerHTML,this.thicknessBox.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeWidth,this.fillColorPicker.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.fill,this.refreshColorPicker(this.fillColorPicker),this.strokeColorPicker.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeColor,this.refreshColorPicker(this.strokeColorPicker),this.updateColorInIcon(this.fillDropDown.element,this.fillColorPicker.value),this.updateColorInIcon(this.strokeDropDown.element,this.strokeColorPicker.value),this.opacitySlider.value=100*this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.opacity,this.updateOpacityIndicator(),3<=parseInt(this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray,10)?this.lineStyleDropDown.content=this.createDropDownContent("dashed").outerHTML:"2"===this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray?this.lineStyleDropDown.content=this.createDropDownContent("dotted").outerHTML:"0"===this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray&&(this.lineStyleDropDown.content=this.createDropDownContent("solid").outerHTML),this.selectedLineStyle=this.pdfViewer.selectedItems.annotations[0].borderStyle,this.selectedLineDashArray=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray,"Distance"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(this.leaderLengthBox.value=this.pdfViewer.selectedItems.annotations[0].leaderHeight))},o.prototype.destroyPropertiesWindow=function(){this.strokeColorPicker&&(this.strokeColorPicker.destroy(),this.strokeColorPicker=null),this.fillColorPicker&&(this.fillColorPicker.destroy(),this.fillColorPicker=null),this.endArrowDropDown&&(this.endArrowDropDown.destroy(),this.endArrowDropDown=null),this.startArrowDropDown&&(this.startArrowDropDown.destroy(),this.startArrowDropDown=null),this.opacitySlider&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.thicknessBox&&(this.thicknessBox.destroy(),this.thicknessBox=null),this.lineStyleDropDown&&(this.lineStyleDropDown.destroy(),this.lineStyleDropDown=null),this.leaderLengthBox&&(this.leaderLengthBox.destroy(),this.leaderLengthBox=null),this.propertiesDialog&&(this.propertiesDialog.destroy(),this.propertiesDialog=null);var e=this.pdfViewerBase.getElement("_properties_window");e&&e.parentElement.removeChild(e)},o.prototype.refreshColorPicker=function(e){e.setProperties({value:e.value},!0),e.refresh()},o.prototype.createAppearanceTab=function(){var t=this,e=this.pdfViewer.element.id,i=[{text:this.pdfViewer.localeObj.getConstant("None")},{text:this.pdfViewer.localeObj.getConstant("Open Arrow")},{text:this.pdfViewer.localeObj.getConstant("Closed Arrow")},{text:this.pdfViewer.localeObj.getConstant("Round Arrow")},{text:this.pdfViewer.localeObj.getConstant("Square Arrow")},{text:this.pdfViewer.localeObj.getConstant("Diamond Arrow")}],n=G.createElement("div",{id:e+"_properties_appearance"}),o=G.createElement("div",{className:"e-pv-properties-line-style-prop"}),r=(n.appendChild(o),this.createInputElement(this.pdfViewer.localeObj.getConstant("Start Arrow"),o,"text","button",!0,"e-pv-properties-line-start",e+"_properties_line_start")),r=(this.startArrowDropDown=new P.DropDownButton({items:i,cssClass:"e-pv-properties-line-start",select:this.onStartArrowHeadStyleSelect.bind(this)},r),this.createInputElement(this.pdfViewer.localeObj.getConstant("End Arrow"),o,"text","button",!0,"e-pv-properties-line-end",e+"_properties_line_end")),o=G.createElement("div",{className:"e-pv-properties-border-style"}),i=(n.appendChild(o),this.endArrowDropDown=new P.DropDownButton({items:i,cssClass:"e-pv-properties-line-end",select:this.onEndArrowHeadStyleSelect.bind(this)},r),this.createInputElement(this.pdfViewer.localeObj.getConstant("Line Style"),o,"text","button",!0,"e-pv-properties-line-style",e+"_properties_line_style")),r=this.createStyleList(),r=(this.lineStyleDropDown=new P.DropDownButton({cssClass:"e-pv-properties-line-style",target:r},i),this.createInputElement(this.pdfViewer.localeObj.getConstant("Line Thickness"),o,"text","input",!0,"e-pv-properties-line-thickness",e+"_properties_thickness")),i=(this.thicknessBox=new T.NumericTextBox({value:0,format:"## pt",cssClass:"e-pv-properties-line-thickness",min:0,max:12},r),G.createElement("div",{className:"e-pv-properties-color-style"})),o=(n.appendChild(i),this.createInputElement(this.pdfViewer.localeObj.getConstant("Fill Color"),i,"color","button",!0,"e-pv-properties-line-fill-color",e+"_properties_fill_color")),r=(this.fillColorPicker=this.createColorPicker(e+"_properties_fill_color",!0),this.fillColorPicker.change=function(e){e=""===e.currentValue.hex?"#ffffff00":e.currentValue.hex;t.fillDropDown.toggle(),t.updateColorInIcon(t.fillDropDown.element,e)},this.fillDropDown=this.createDropDownButton(o,"e-pv-properties-fill-color-icon",this.fillColorPicker.element.parentElement),this.fillDropDown.beforeOpen=this.onFillDropDownBeforeOpen.bind(this),this.fillDropDown.open=function(){t.fillColorPicker.refresh()},this.createInputElement(this.pdfViewer.localeObj.getConstant("Line Color"),i,"color","button",!0,"e-pv-properties-line-stroke-color",e+"_properties_stroke_color")),o=(this.strokeColorPicker=this.createColorPicker(e+"_properties_stroke_color",!1),this.strokeColorPicker.change=function(e){e=""===e.currentValue.hex?"#ffffff00":e.currentValue.hex;t.strokeDropDown.toggle(),t.updateColorInIcon(t.strokeDropDown.element,e)},this.strokeDropDown=this.createDropDownButton(r,"e-pv-properties-stroke-color-icon",this.strokeColorPicker.element.parentElement),this.strokeDropDown.beforeOpen=this.onStrokeDropDownBeforeOpen.bind(this),this.strokeDropDown.open=function(){t.strokeColorPicker.refresh()},G.createElement("div",{className:"e-pv-properties-opacity-style"})),i=(n.appendChild(o),this.createInputElement(this.pdfViewer.localeObj.getConstant("Opacity"),o,"","div",!0,"e-pv-properties-line-opacity",e+"_properties_opacity"));return this.opacitySlider=new T.Slider({type:"MinRange",max:100,min:0,cssClass:"e-pv-properties-line-opacity",change:function(){t.updateOpacityIndicator()}},i),"Distance"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(r=this.createInputElement(this.pdfViewer.localeObj.getConstant("Leader Length"),o,"text","input",!0,"e-pv-properties-line-leader-length",e+"_properties_leader_length"),this.leaderLengthBox=new T.NumericTextBox({value:0,format:"## pt",cssClass:"e-pv-properties-line-leader-length",min:0,max:100},r)),n},o.prototype.createContent=function(e){var t=G.createElement("div",{className:"e-pv-properties-line-style-content"});return t.textContent=e,t},o.prototype.onStrokeDropDownBeforeOpen=function(){1===this.pdfViewer.selectedItems.annotations.length&&(this.strokeColorPicker.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeColor),this.strokeColorPicker.refresh()},o.prototype.onFillDropDownBeforeOpen=function(){1===this.pdfViewer.selectedItems.annotations.length&&(this.fillColorPicker.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeColor),this.fillColorPicker.refresh()},o.prototype.createStyleList=function(){var e=this,t=G.createElement("ul"),i=(document.body.appendChild(t),this.createListForStyle("solid")),i=(i.addEventListener("click",function(){e.setThickness("0","solid")}),t.appendChild(i),this.createListForStyle("dotted")),i=(i.addEventListener("click",function(){e.setThickness("2","dotted")}),t.appendChild(i),this.createListForStyle("dashed"));return i.addEventListener("click",function(){e.setThickness("3","dashed")}),t.appendChild(i),t},o.prototype.createColorPicker=function(e,t){e=G.createElement("input",{id:e+"_target"}),document.body.appendChild(e),t=new T.ColorPicker({inline:!0,mode:"Palette",enableOpacity:!1,value:"#000000",showButtons:!1,modeSwitcher:!1,noColor:t});return this.pdfViewer.enableRtl&&(t.enableRtl=!0),t.appendTo(e),t},o.prototype.createDropDownButton=function(e,t,i){t=new P.DropDownButton({iconCss:t+" e-pv-icon",target:i});return this.pdfViewer.enableRtl&&(t.enableRtl=!0),t.appendTo(e),t},o.prototype.updateColorInIcon=function(e,t){e.childNodes[0].style.borderBottomColor=t},o.prototype.onFillColorChange=function(e){var t=document.querySelector("#"+this.pdfViewer.element.id+"_properties_fill_color_button");"transparent"!==e&&(t.children[0].style.borderBottomColor=e)},o.prototype.onStrokeColorChange=function(e){var t=document.querySelector("#"+this.pdfViewer.element.id+"_properties_stroke_color_button");"transparent"!==e&&(t.children[0].style.borderBottomColor=e)},o.prototype.setThickness=function(e,t,i){i||(this.lineStyleDropDown.content=this.createDropDownContent(t).outerHTML),"0"===(this.selectedLineDashArray=e)?this.selectedLineStyle="Solid":"2"!==e&&"3"!==e||(this.selectedLineStyle="Dashed")},o.prototype.createDropDownContent=function(e){var t=G.createElement("div",{className:"e-pv-line-styles-content-container"}),e=G.createElement("span",{className:"e-pv-line-styles-content",styles:"border-bottom-style:"+e});return t.appendChild(e),t},o.prototype.createListForStyle=function(e){var t=G.createElement("li",{className:"e-menu-item"}),i=G.createElement("div",{className:"e-pv-line-styles-container"}),e=G.createElement("span",{className:"e-pv-line-styles-item",styles:"border-bottom-style:"+e});return i.appendChild(e),t.appendChild(i),t},o.prototype.onStartArrowHeadStyleSelect=function(e){this.startArrowDropDown.content=this.createContent(e.item.text).outerHTML},o.prototype.onEndArrowHeadStyleSelect=function(e){this.endArrowDropDown.content=this.createContent(e.item.text).outerHTML},o.prototype.createInputElement=function(e,t,i,n,o,r,a){var s=G.createElement("div",{id:a+"_container",className:r+"-container"}),r=(o&&((o=G.createElement("div",{id:a+"_label",className:r+"-label"})).textContent=e,s.appendChild(o)),this.pdfViewer.localeObj.getConstant("Opacity")===e&&(this.opacityIndicator=G.createElement("span",{className:"e-pv-properties-opacity-indicator"}),s.appendChild(this.opacityIndicator)),G.createElement(n,{id:a}));return"input"===n&&(r.type=i),s.appendChild(r),t.appendChild(s),r},o.prototype.updateOpacityIndicator=function(){this.opacityIndicator.textContent=this.opacitySlider.value+"%"},o.prototype.onOkClicked=function(e){G.isBlazor()?(a=document.querySelector("#"+this.pdfViewer.element.id+"_properties_line_start"),n=document.querySelector("#"+this.pdfViewer.element.id+"_properties_line_end"),o=document.querySelector("#"+this.pdfViewer.element.id+"_line_thickness"),s=document.querySelector("#"+this.pdfViewer.element.id+"_properties_style"),t=document.querySelector("#"+this.pdfViewer.element.id+"_properties_fill_color_button"),r=document.querySelector("#"+this.pdfViewer.element.id+"_properties_stroke_color_button"),i=document.querySelector("#"+this.pdfViewer.element.id+"_properties_opacity"),a=this.getArrowTypeFromDropDown(a.value,!0),n=this.getArrowTypeFromDropDown(n.value,!0),o=parseInt(o.value,10),r=""===(r=this.getValue(r.children[0].style.borderBottomColor,"hex"))?"#ffffff00":r,t=""===(t=this.getValue(t.children[0].style.borderBottomColor,"hex"))?"#ffffff00":t,i=e?e/100:i.value/100,s.value&&("Solid"===s.value?this.setThickness("0","solid",!0):"Dotted"===s.value?this.setThickness("2","dotted",!0):"Dashed"===s.value&&this.setThickness("3","dashed",!0))):(a=this.getArrowTypeFromDropDown(this.startArrowDropDown.content),n=this.getArrowTypeFromDropDown(this.endArrowDropDown.content),o=this.thicknessBox.value,r=""===(r=this.strokeColorPicker.getValue(this.strokeColorPicker.value,"hex"))?"#ffffff00":r,t=""===(t=this.fillColorPicker.getValue(this.fillColorPicker.value,"hex"))||"#transp"===t||"#ffffff00"===this.fillColorPicker.value?"#ffffff00":t,i=this.opacitySlider.value/100);var t,i,n,o,r,a,e=this.pdfViewer.selectedItems.annotations[0],s=M(e),l=M(e),A={},d=!1,p=!1,h=!1,c=!1,g=!1,u=!1,f=!1;a!==e.sourceDecoraterShapes&&(A.sourceDecoraterShapes=a,l.lineHeadStart=this.getArrowString(a),g=!0),n!==e.taregetDecoraterShapes&&(A.taregetDecoraterShapes=n,l.lineHeadEnd=this.getArrowString(n),u=!0),o!==e.wrapper.children[0].style.strokeWidth&&(A.thickness=o,l.thickness=o,h=!0),r!==e.wrapper.children[0].style.strokeColor&&(A.strokeColor=r,l.strokeColor=r,p=!0),t!==e.wrapper.children[0].style.fill&&(A.fillColor=t,l.fillColor=t,d=!0),i!==e.wrapper.children[0].style.opacity&&(A.opacity=i,l.opacity=i,c=!0),this.selectedLineDashArray!==e.wrapper.children[0].style.strokeDashArray&&(A.borderDashArray=this.selectedLineDashArray,A.borderStyle=this.selectedLineStyle,l.borderDashArray=A.borderDashArray,l.borderStyle=A.borderStyle,f=!0),G.isBlazor()?(a=document.querySelector("#"+this.pdfViewer.element.id+"_properties_leader_length"),"Distance"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&parseInt(a.value,10)!==this.pdfViewer.selectedItems.annotations[0].leaderHeight&&(A.leaderHeight=parseInt(a.value,10))):"Distance"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&this.leaderLengthBox.value!==this.pdfViewer.selectedItems.annotations[0].leaderHeight&&(A.leaderHeight=this.leaderLengthBox.value),this.pdfViewer.nodePropertyChange(this.pdfViewer.selectedItems.annotations[0],A),this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.fill=t,this.triggerAnnotationPropChange(this.pdfViewer.selectedItems.annotations[0],d,p,h,c,g,u,f),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"thickness"),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"stroke"),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"fill"),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"opacity"),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"dashArray"),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"startArrow"),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"endArrow"),"Distance"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"leaderLength"),this.pdfViewer.annotation.addAction(e.pageIndex,null,e,"Line properties change","",s,l),this.renderAnnotations(e.pageIndex,null,null,null),G.isBlazor()||this.propertiesDialog.hide()},o.prototype.onCancelClicked=function(){this.propertiesDialog.hide()},o.prototype.getArrowTypeFromDropDown=function(e,t){var i="None";switch(e=t?e:e.split("</div>")[0].split('">')[1]){case this.pdfViewer.localeObj.getConstant("None"):i="None";break;case this.pdfViewer.localeObj.getConstant("Open Arrow"):i="OpenArrow";break;case this.pdfViewer.localeObj.getConstant("Closed Arrow"):i="Arrow";break;case this.pdfViewer.localeObj.getConstant("Round Arrow"):i="Circle";break;case this.pdfViewer.localeObj.getConstant("Square Arrow"):i="Square";break;case this.pdfViewer.localeObj.getConstant("Diamond Arrow"):i="Diamond";break;case this.pdfViewer.localeObj.getConstant("Butt"):i="Butt"}return i},o.prototype.getArrowString=function(e){var t=this.pdfViewer.localeObj.getConstant("None");switch(e){case"Arrow":t=this.pdfViewer.localeObj.getConstant("Closed");break;case"OpenArrow":t=this.pdfViewer.localeObj.getConstant("Open Arrow");break;case"Circle":t=this.pdfViewer.localeObj.getConstant("Round");break;case"None":case"Square":case"Diamond":t=this.pdfViewer.localeObj.getConstant(e);break;case"Butt":t=this.pdfViewer.localeObj.getConstant("Butt")}return t},o.prototype.onAnnotationMouseUp=function(){var e;0!==this.pdfViewer.selectedItems.annotations.length?(this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule&&(this.enableBasedOnType(),this.pdfViewer.toolbar.annotationToolbarModule.selectAnnotationDeleteItem(!0),G.Browser.isDevice||this.pdfViewer.toolbar.annotationToolbarModule.updateAnnnotationPropertyItems()),this.pdfViewer.textSelectionModule&&!this.pdfViewer.textSelectionModule.isTextSelection&&this.pdfViewerBase.disableTextSelectionMode()):(!this.pdfViewer.textSelectionModule||this.pdfViewerBase.isPanMode||this.pdfViewer.designerMode||this.pdfViewer.textSelectionModule.enableTextSelectionMode(),this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule&&(!G.Browser.isDevice||this.pdfViewer.enableDesktopMode)&&(e=this.pdfViewer.toolbar.annotationToolbarModule.inkAnnotationSelected,!this.pdfViewer.annotation.freeTextAnnotationModule||this.pdfViewer.annotation.freeTextAnnotationModule.isInuptBoxInFocus||e||(this.pdfViewer.toolbar.annotationToolbarModule.enableAnnotationPropertiesTools(!1),this.pdfViewer.toolbar.annotationToolbarModule.enableFreeTextAnnotationPropertiesTools(!1)),this.pdfViewer.toolbar.annotationToolbarModule.updateAnnnotationPropertyItems(),this.pdfViewer.toolbar.annotationToolbarModule.selectAnnotationDeleteItem(!1)))},o.prototype.onShapesMouseup=function(e,t){e=G.isNullOrUndefined(this.pdfViewer.selectedItems.annotations[0])?e:this.pdfViewer.selectedItems.annotations[0];var i=!1;this.pdfViewerBase.prevPosition.x===this.pdfViewerBase.currentPosition.x&&this.pdfViewerBase.prevPosition.y===this.pdfViewerBase.currentPosition.y||(i=!0),e&&(this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.currentTextMarkupAnnotation&&(this.textMarkupAnnotationModule.currentTextMarkupAnnotation=null,this.textMarkupAnnotationModule.selectTextMarkupCurrentPage=null),(this.pdfViewerBase.tool instanceof pt||this.pdfViewerBase.tool instanceof mt)&&!this.pdfViewerBase.tool.dragging?(e.opacity,e.fillColor,e.strokeColor,e.thickness,e.author,e.subject,e.modifiedDate,this.getAnnotationIndex(e.pageIndex,e.id),this.pdfViewerBase.tool instanceof mt&&(this.getArrowString(e.sourceDecoraterShapes),this.getArrowString(e.taregetDecoraterShapes),e.borderDashArray),this.pdfViewerBase.isAnnotationAdded&&"Distance"!==e.measureType||(""===e.measureType||G.isNullOrUndefined(e.measureType)?this.shapeAnnotationModule.renderShapeAnnotations(e,this.pdfViewer.annotation.getEventPageNumber(t)):"Distance"!==e.measureType&&"Perimeter"!==e.measureType&&"Radius"!==e.measureType||this.measureAnnotationModule.renderMeasureShapeAnnotations(e,this.pdfViewer.annotation.getEventPageNumber(t))),this.pdfViewerBase.updateDocumentEditedProperty(!0)):this.pdfViewerBase.tool instanceof _e||this.pdfViewerBase.tool instanceof lt?(i&&this.pdfViewerBase.updateDocumentEditedProperty(!0),""===e.measureType||G.isNullOrUndefined(e.measureType)?"FreeText"===e.shapeAnnotationType?this.pdfViewer.annotation.freeTextAnnotationModule.modifyInCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(t),e):"HandWrittenSignature"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType?this.pdfViewerBase.signatureModule.modifySignatureCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(t),e):"Ink"===e.shapeAnnotationType?this.inkAnnotationModule.modifySignatureInkCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(t),e):("Stamp"===e.shapeAnnotationType||"Image"===e.shapeAnnotationType?this.stampAnnotationModule:this.pdfViewer.annotation.shapeAnnotationModule).modifyInCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(t),e,i):"Distance"!==e.measureType&&"Perimeter"!==e.measureType&&"Radius"!==e.measureType&&"Area"!==e.measureType&&"Volume"!==e.measureType||this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(t),e),this.pdfViewerBase.tool instanceof lt&&(e.formFieldAnnotationType||this.triggerAnnotationResize(e)),this.pdfViewerBase.tool instanceof _e&&("Select"===this.pdfViewerBase.action||e.formFieldAnnotationType||this.triggerAnnotationMove(e))):this.pdfViewerBase.tool instanceof rt&&(i&&this.pdfViewerBase.updateDocumentEditedProperty(!0),""===e.measureType||G.isNullOrUndefined(e.measureType)?"Line"!==e.shapeAnnotationType&&"LineWidthArrowHead"!==e.shapeAnnotationType&&"Polygon"!==e.shapeAnnotationType||this.pdfViewer.annotation.shapeAnnotationModule.modifyInCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(t),e,i):"Distance"!==e.measureType&&"Perimeter"!==e.measureType&&"Area"!==e.measureType&&"Volume"!==e.measureType||("Distance"===e.measureType&&this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("leaderLength",this.pdfViewer.annotation.getEventPageNumber(t),e),this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(t),e)),this.triggerAnnotationResize(e)),this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.annotationMenuObj&&this.pdfViewer.isSignatureEditable&&("HandWrittenSignature"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType)&&(this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export Annotations")],!0),this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export XFDF")],!0)),this.pdfViewer.toolbarModule)&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.enableAnnotationToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.clearTextMarkupMode(),""===e.measureType||G.isNullOrUndefined(e.measureType)?this.pdfViewer.toolbarModule.annotationToolbarModule.clearMeasureMode():"Distance"!==e.measureType&&"Perimeter"!==e.measureType&&"Area"!==e.measureType&&"Volume"!==e.measureType&&"Radius"!==e.measureType||this.pdfViewer.toolbarModule.annotationToolbarModule.clearShapeMode(),1===this.pdfViewer.selectedItems.annotations.length&&null===this.pdfViewer.selectedItems.annotations[0].formFieldAnnotationType&&this.pdfViewer.toolbarModule.annotationToolbarModule.enableAnnotationPropertiesTools(!0),G.isBlazor()||1!==this.pdfViewer.selectedItems.annotations.length||this.pdfViewer.designerMode||(this.pdfViewer.toolbarModule.annotationToolbarModule.selectAnnotationDeleteItem(!0),this.pdfViewer.toolbarModule.annotationToolbarModule.setCurrentColorInPicker(),this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden=!0,!this.pdfViewer.formDesignerModule&&""!=e.id&&null!=e.id&&"sign"!=e.id.slice(0,4)&&(t=(i=document.getElementById(e.id))&&i.disabled)?this.pdfViewer.annotation&&t&&this.pdfViewer.annotation.clearSelection():this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem),this.pdfViewer.isAnnotationToolbarVisible&&this.pdfViewer.isFormDesignerToolbarVisible&&(document.getElementById(this.pdfViewer.element.id+"_formdesigner_toolbar").style.display="none",this.pdfViewer.toolbarModule)&&(this.pdfViewer.toolbarModule.formDesignerToolbarModule.isToolbarHidden=!1,this.pdfViewer.toolbarModule.formDesignerToolbarModule.showFormDesignerToolbar(this.pdfViewer.toolbarModule.formDesignerItem),this.pdfViewer.toolbarModule.annotationToolbarModule.adjustViewer(!0))))},o.prototype.updateCalibrateValues=function(e,t){"Distance"===e.measureType?(e.notes=De(e,e.vertexPoints,this.measureAnnotationModule),!0===e.enableShapeLabel&&(e.labelContent=e.notes),this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("notes",e.pageIndex,e,t),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(e.annotName,e.notes),this.renderAnnotations(e.pageIndex,null,null,null,null)):"Radius"===e.measureType?(e.notes=xe(e,this.measureAnnotationModule),!0===e.enableShapeLabel&&(e.labelContent=e.notes),this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("notes",e.pageIndex,e,t),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(e.annotName,e.notes),this.renderAnnotations(e.pageIndex,null,null,null,null)):"Perimeter"===e.measureType?(e.notes=be(e,e.vertexPoints,this.measureAnnotationModule),!0===e.enableShapeLabel&&(e.labelContent=e.notes),this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("notes",e.pageIndex,e,t),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(e.annotName,e.notes),this.renderAnnotations(e.pageIndex,null,null,null,null)):"Area"===e.measureType?(e.notes=this.measureAnnotationModule.calculateArea(e.vertexPoints,e.id,e.pageIndex),!0===e.enableShapeLabel&&(e.labelContent=e.notes,Me(e)),this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("notes",e.pageIndex,e,t),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(e.annotName,e.notes),this.renderAnnotations(e.pageIndex,null,null,null,null)):"Volume"===e.measureType&&(e.notes=this.measureAnnotationModule.calculateVolume(e.vertexPoints,e.id,e.pageIndex),!0===e.enableShapeLabel&&(e.labelContent=e.notes,Me(e)),this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("notes",e.pageIndex,e,t),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(e.annotName,e.notes),this.renderAnnotations(e.pageIndex,null,null,null,null))},o.prototype.onAnnotationMouseDown=function(){var e;1===this.pdfViewer.selectedItems.annotations.length&&null===this.pdfViewer.selectedItems.annotations[0].formFieldAnnotationType&&this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule&&(G.isBlazor()||!G.Browser.isDevice||this.pdfViewer.enableDesktopMode||"none"===document.getElementById(this.pdfViewer.element.id+"_commantPanel").style.display&&(this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar&&!G.isNullOrUndefined(this.pdfViewer.annotationModule.textMarkupAnnotationModule)&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?this.pdfViewer.toolbarModule.annotationToolbarModule.createPropertyTools(""):this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar&&!this.pdfViewerBase.isAddComment&&(this.pdfViewer.toolbarModule.annotationToolbarModule.createAnnotationToolbarForMobile(),this.pdfViewer.toolbarModule.annotationToolbarModule.createPropertyTools(this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType),e=document.getElementById(this.pdfViewer.element.id+"_annotationIcon"))&&!e.parentElement.classList.contains("e-pv-select")&&e.parentElement.classList.add("e-pv-select")),this.enableBasedOnType(),this.pdfViewer.toolbar.annotationToolbarModule.selectAnnotationDeleteItem(!0))},o.prototype.enableBasedOnType=function(){var e=!1,t=this.pdfViewer.selectedItems.annotations[0];t&&t.annotationSettings&&(e=t.annotationSettings.isLock)&&this.checkAllowedInteractions("PropertyChange",t)&&(e=!1),!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?e||("Stamp"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"Image"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"StickyNotes"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?this.pdfViewer.toolbar.annotationToolbarModule.enableStampAnnotationPropertiesTools(!0):"Path"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureImage"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?this.pdfViewer.toolbar.annotationToolbarModule.enableAnnotationPropertiesTools(!1):"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?this.pdfViewer.toolbar.annotationToolbarModule.enableFreeTextAnnotationPropertiesTools(!0):"HandWrittenSignature"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"Ink"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?this.pdfViewer.toolbar.annotationToolbarModule.enableSignaturePropertiesTools(!0):1===this.pdfViewer.selectedItems.annotations.length&&null===this.pdfViewer.selectedItems.annotations[0].formFieldAnnotationType&&this.pdfViewer.toolbar.annotationToolbarModule.enableAnnotationPropertiesTools(!0)):G.isNullOrUndefined(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation||"annotations"===this.pdfViewer.selectedItems.annotations[0].propName||!G.Browser.isDevice||this.pdfViewer.enableDesktopMode||this.pdfViewer.toolbarModule.annotationToolbarModule.createMobileAnnotationToolbar(!0,!0)},o.prototype.getProperDate=function(e){var t=new Date(e.toString());return isNaN(t.getFullYear())&&(e=(e=e.slice(2,16)).slice(0,4)+"/"+e.slice(4,6)+"/"+e.slice(6,8)+" "+e.slice(8,10)+":"+e.slice(10,12)+":"+e.slice(12,14),t=new Date(e)),t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},o.prototype.getPageCollection=function(e,t){for(var i=null,n=0;n<e.length;n++)if(e[parseInt(n.toString(),10)].pageIndex===t){i=n;break}return i},o.prototype.getAnnotationWithId=function(e,t){for(var i,n=0;n<e.length;n++)t===e[parseInt(n.toString(),10)].id&&(i=e[parseInt(n.toString(),10)]);return i},o.prototype.getEventPageNumber=function(e){var t,i=e.target,n=e.target.parentElement;return i.classList.contains("e-pv-hyperlink")?i=n:n&&n.classList.contains("foreign-object")&&n.parentElement&&n.parentElement.parentElement&&n.parentElement.parentElement.parentElement?i=n.parentElement.parentElement.parentElement:i.classList.contains("e-pdfviewer-formFields")&&(i=n),i&&(t=i.id.split("_text_")[1]||i.id.split("_textLayer_")[1]||i.id.split("_annotationCanvas_")[1]||i.id.split("_pageDiv_")[1]),isNaN(parseInt(t,10))&&((i=(e=this.pdfViewerBase.annotationEvent&&this.pdfViewerBase.annotationEvent.target.id===i.id?this.pdfViewerBase.annotationEvent:e).target)&&i.id&&(t=i.id.split("_text_")[1]||i.id.split("_textLayer_")[1]||i.id.split("_annotationCanvas_")[1]||i.id.split("_pageDiv_")[1]),G.isNullOrUndefined(this.pdfViewerBase.annotationEvent)||G.isNullOrUndefined(this.pdfViewerBase.annotationEvent.target)||!G.isNullOrUndefined(t)||(t=this.pdfViewerBase.annotationEvent.target.id.split("_textLayer_")[1])),parseInt(t,10)},o.prototype.getAnnotationComments=function(e,t,i){var n=[];if(e&&0<e.length)for(var o=0;o<e.length;o++){var r=e[parseInt(o.toString(),10)],r={shapeAnnotationType:"sticky",author:r.Author,modifiedDate:r.ModifiedDate,note:r.Note,state:r.state,stateModel:r.stateModel,comments:[],review:{state:r.State,stateModel:r.StateModel,modifiedDate:r.ModifiedDate,author:r.Author},annotName:r.AnnotName,parentId:t.AnnotName,subject:r.Subject,isLock:r.IsLock};n[n.length]=r}return n},o.prototype.getRandomNumber=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){return(16*Math.random()|0).toString(16)})},o.prototype.createGUID=function(){return this.getRandomNumber()},o.prototype.createBlendAnnotationsIntoCanvas=function(e,t,i,n,o){var r=this.pdfViewerBase.getElement("_blendAnnotationsIntoCanvas_"+n);return r?(this.pdfViewerBase.updateCanvas(r,t,i,n),r):(r=G.createElement("canvas",{id:this.pdfViewer.element.id+"_blendAnnotationsIntoCanvas_"+n,className:"e-pv-annotation-canvas"}),this.pdfViewerBase.updateCanvas(r,t,i,n),r.style.mixBlendMode="multiply",e.appendChild(r),r)},o.prototype.resizeAnnotations=function(t,i,n){var o=this;["_annotationCanvas_","_blendAnnotationsIntoCanvas_"].forEach(function(e){e=o.pdfViewerBase.getElement(e+n);e&&(e.style.width=t+"px",e.style.height=i+"px",o.pdfViewerBase.applyElementStyles(e,n))})},o.prototype.clearAnnotationCanvas=function(n){var o=this,r=this.pdfViewerBase.getZoomFactor(),a=this.pdfViewerBase.getZoomRatio(r);["_annotationCanvas_","_blendAnnotationsIntoCanvas_"].forEach(function(e){var t,i,e=o.pdfViewerBase.getElement(e+n);e&&(t=o.pdfViewerBase.pageSize[parseInt(n.toString(),10)].width,i=o.pdfViewerBase.pageSize[parseInt(n.toString(),10)].height,e.width=t*a,e.height=i*a,e.style.width=t*r+"px",e.style.height=i*r+"px")})},o.prototype.renderAnnotations=function(e,t,i,n,o,r,a,s,l){if(this.clearAnnotationCanvas(e),this.shapeAnnotationModule&&(r?this.shapeAnnotationModule.renderShapeAnnotations(t,e,!0):this.shapeAnnotationModule.renderShapeAnnotations(t,e,null,a)),this.measureAnnotationModule&&(r?this.measureAnnotationModule.renderMeasureShapeAnnotations(i,e,!0):this.measureAnnotationModule.renderMeasureShapeAnnotations(i,e,null,a)),this.freeTextAnnotationModule&&(r?this.freeTextAnnotationModule.renderFreeTextAnnotations(s,e,!0):this.freeTextAnnotationModule.renderFreeTextAnnotations(s,e,null,a)),this.inkAnnotationModule&&(r?this.inkAnnotationModule.renderExistingInkSignature(l,e,!0):this.inkAnnotationModule.renderExistingInkSignature(l,e,null,a)),this.pdfViewer.drawing.refreshCanvasDiagramLayer(o,e),this.pdfViewerBase.getElement("_blendAnnotationsIntoCanvas_"+e)&&this.pdfViewer.drawing.refreshCanvasDiagramLayer(o,e),!this.pdfViewerBase.isInkAdded&&"Ink"===this.pdfViewer.tool&&this.pdfViewer.currentPageNumber-1===e){for(var t=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",this.pdfViewer.currentPageNumber-1),i=this.pdfViewerBase.getZoomFactor(),s=this.pdfViewerBase.getWindowDevicePixelRatio(),A=t.getContext("2d"),l=this.pdfViewer.inkAnnotationSettings.thickness||1,a=this.pdfViewer.inkAnnotationSettings.opacity||1,o=this.pdfViewer.inkAnnotationSettings.strokeColor||"#ff0000",t=((!G.Browser.isDevice||G.Browser.isDevice&&i<=.7)&&A.setTransform(s,0,0,s,0,0),A.beginPath(),A.lineJoin="round",A.lineCap="round",A.lineWidth=1<l*i?l*i:l,A.strokeStyle=o,A.globalAlpha=a,J.processPathData(this.pdfViewer.annotationModule.inkAnnotationModule.updateInkDataWithZoom())),d=J.splitArrayCollection(t),p=0;p<d.length;p++){var h=d[parseInt(p.toString(),10)];switch(h.command){case"M":A.moveTo(h.x,h.y);break;case"L":A.lineTo(h.x,h.y)}}A.stroke(),A.closePath(),G.isNullOrUndefined(this.pdfViewer.toolbarModule)||G.isNullOrUndefined(this.pdfViewer.toolbarModule.annotationToolbarModule)||(this.pdfViewer.toolbar.annotationToolbarModule.inkAnnotationSelected=!0)}this.textMarkupAnnotationModule&&(r?this.textMarkupAnnotationModule.renderTextMarkupAnnotationsInPage(n,e,!0):this.textMarkupAnnotationModule.renderTextMarkupAnnotationsInPage(n,e))},o.prototype.storeAnnotations=function(e,i,t){4500<F.sessionStorageManager.getWindowSessionStorageSize()&&(this.clearAnnotationStorage(),this.pdfViewerBase.isStorageExceed=!0,this.pdfViewerBase.isFormStorageExceed||this.pdfViewer.formFieldsModule&&this.pdfViewer.formFieldsModule.clearFormFieldStorage());var n,o,r=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+t),a=0;return r=(r=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+t]:r)?(this.storeAnnotationCollections(i,e),n=JSON.parse(r),this.pdfViewerBase.isStorageExceed||F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+t),null!=(o=this.pdfViewer.annotationModule.getPageCollection(n,e))&&n[parseInt(o.toString(),10)]?(n[parseInt(o.toString(),10)].annotations.filter(function(e,t){e.annotName===i.annotName&&n[parseInt(o.toString(),10)].annotations.splice(t,1)}),n[parseInt(o.toString(),10)].annotations.push(i),a=n[parseInt(o.toString(),10)].annotations.indexOf(i)):((r={pageIndex:e,annotations:[]}).annotations.push(i),a=r.annotations.indexOf(i),n.push(r)),JSON.stringify(n)):(this.storeAnnotationCollections(i,e),(r={pageIndex:e,annotations:[]}).annotations.push(i),a=r.annotations.indexOf(i),(e=[]).push(r),JSON.stringify(e)),this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+t]=r:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+t,r),a},o.prototype.getArrowType=function(e){var t="None";switch(e){case"ClosedArrow":case"Closed":t="Arrow";break;case"OpenArrow":case"Open":t="OpenArrow";break;case"Square":t="Square";break;case"Circle":case"Round":t="Circle";break;case"Diamond":t="Diamond";break;case"Butt":t="Butt"}return t},o.prototype.getArrowTypeForCollection=function(e){var t;switch(e){case"Arrow":t="ClosedArrow";break;case"OpenArrow":case"Square":case"Circle":case"Diamond":case"None":t=e.toString();break;case"Butt":t="Butt"}return t},o.prototype.getBounds=function(e,t){t=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)];return t?1===t.rotation?{left:e.top,top:t.width-(e.left+e.width),width:e.height,height:e.width}:2===t.rotation?{left:t.width-e.left-e.width,top:t.height-e.top-e.height,width:e.width,height:e.height}:3===t.rotation?{left:t.height-e.top-e.height,top:e.left,width:e.height,height:e.width}:e:e},o.prototype.getInkBounds=function(e,t){t=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)];return t?1===t.rotation?{x:e.y,y:t.width-(e.x+e.width),width:e.height,height:e.width}:2===t.rotation?{x:t.width-e.x-e.width,y:t.height-e.y-e.height,width:e.width,height:e.height}:3===t.rotation?{x:t.height-e.y-e.height,y:e.x,width:e.height,height:e.width}:e:e},o.prototype.getVertexPoints=function(e,t){if(e){var i=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)];if(1===i.rotation){for(var n=[],o=0;o<e.length;o++){var r={x:e[parseInt(o.toString(),10)].y,y:i.width-e[parseInt(o.toString(),10)].x};n.push(r)}return n}if(2===i.rotation){for(var a=[],o=0;o<e.length;o++){r={x:i.width-e[parseInt(o.toString(),10)].x,y:i.height-e[parseInt(o.toString(),10)].y};a.push(r)}return a}if(3!==i.rotation)return e;for(var s=[],o=0;o<e.length;o++){r={x:i.height-e[parseInt(o.toString(),10)].y,y:e[parseInt(o.toString(),10)].x};s.push(r)}return s}},o.prototype.getStoredAnnotations=function(e,t,i){var n=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+i);return(n=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+i]:n)&&(i=JSON.parse(n),null!=(n=this.pdfViewer.annotationModule.getPageCollection(i,e)))&&i[parseInt(n.toString(),10)]?i[parseInt(n.toString(),10)].annotations:null},o.prototype.triggerAnnotationPropChange=function(e,t,i,n,o,r,a,s,l,A,d){this.getAnnotationIndex(e.pageIndex,e.id);var p=this.getAnnotationType(e.shapeAnnotationType,e.measureType),e={name:"annotationPropertiesChange",pageIndex:e.pageIndex,annotationId:e.annotName,annotationType:p,isColorChanged:t,isOpacityChanged:o,isThicknessChanged:n,isStrokeColorChanged:i};l&&(e.isFreeTextChanged=l,e.previousText=A,e.currentText=d),r&&(e.isLineHeadStartStyleChanged=r),a&&(e.isLineHeadEndStyleChanged=a),s&&(e.isBorderDashArrayChanged=s),this.pdfViewer.trigger("annotationPropertiesChange",e)},o.prototype.triggerAnnotationAdd=function(e){var t,i={opacity:e.opacity,fillColor:e.fillColor,strokeColor:e.strokeColor,thickness:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate},n={left:e.wrapper.bounds.x,top:e.wrapper.bounds.y,width:e.wrapper.bounds.width,height:e.wrapper.bounds.height},o=this.getAnnotationType(e.shapeAnnotationType,e.measureType);"Line"!==o&&"Arrow"!==o&&"Distance"!==o&&"Perimeter"!==o||(i.lineHeadStartStyle=this.getArrowString(e.sourceDecoraterShapes),i.lineHeadEndStyle=this.getArrowString(e.taregetDecoraterShapes),i.borderDashArray=e.borderDashArray),this.pdfViewer.enableShapeLabel?(t={fontColor:e.fontColor,fontSize:e.fontSize,fontFamily:e.fontFamily,opacity:e.labelOpacity,labelContent:e.labelContent,fillColor:e.labelFillColor},this.pdfViewer.fireAnnotationAdd(e.pageIndex,e.annotName,o,n,i,null,null,null,t)):this.pdfViewer.fireAnnotationAdd(e.pageIndex,e.annotName,o,n,i)},o.prototype.triggerAnnotationResize=function(e){var t,i={opacity:e.opacity,fillColor:e.fillColor,strokeColor:e.strokeColor,thickness:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate},n=e.bounds,o={left:n.x,top:n.y,x:n.x,y:n.y,width:n.width,height:n.height},n={left:n.oldProperties.x,top:n.oldProperties.y,width:n.oldProperties.width,height:n.oldProperties.height},r=this.getAnnotationType(e.shapeAnnotationType,e.measureType);"Line"!==r&&"Arrow"!==r&&"Distance"!==r&&"Perimeter"!==r||(i.lineHeadStartStyle=this.getArrowString(e.sourceDecoraterShapes),i.lineHeadEndStyle=this.getArrowString(e.taregetDecoraterShapes),i.borderDashArray=e.borderDashArray),this.pdfViewer.enableShapeLabel&&"HandWrittenSignature"!==e.shapeAnnotationType?(t={fontColor:e.fontColor,fontSize:e.fontSize,fontFamily:e.fontFamily,opacity:e.labelOpacity,labelContent:e.labelContent,fillColor:e.labelFillColor,notes:e.notes},this.pdfViewer.fireAnnotationResize(e.pageIndex,e.annotName,r,o,i,null,null,null,t)):"HandWrittenSignature"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType?this.pdfViewer.fireSignatureResize(e.pageIndex,e.signatureName,e.shapeAnnotationType,e.opacity,e.strokeColor,e.thickness,o,n):this.pdfViewer.fireAnnotationResize(e.pageIndex,e.annotName,r,o,i)},o.prototype.triggerAnnotationMove=function(e,t){var i={opacity:e.opacity,fillColor:e.fillColor,strokeColor:e.strokeColor,thickness:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate},n=e.bounds,o={left:n.x,top:n.y,x:n.x,y:n.y,width:n.width,height:n.height},n={left:n.oldProperties.x||n.x,top:n.oldProperties.y||n.y,width:n.width,height:n.height},r=this.getAnnotationType(e.shapeAnnotationType,e.measureType);"Line"!==r&&"Arrow"!==r&&"Distance"!==r&&"Perimeter"!==r||(i.lineHeadStartStyle=this.getArrowString(e.sourceDecoraterShapes),i.lineHeadEndStyle=this.getArrowString(e.taregetDecoraterShapes),i.borderDashArray=e.borderDashArray),"HandWrittenSignature"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType?this.pdfViewer.fireSignatureMove(e.pageIndex,e.signatureName,e.shapeAnnotationType,e.opacity,e.strokeColor,e.thickness,n,o):t?this.pdfViewer.fireAnnotationMoving(e.pageIndex,e.annotName,r,i,n,o):this.pdfViewer.fireAnnotationMove(e.pageIndex,e.annotName,r,i,n,o)},o.prototype.annotationSelect=function(e,t,i,n,o,r){"textMarkup"===i.shapeAnnotationType?a={type:"TextMarkup",subType:i.subject,opacity:i.opacity,color:i.color,textMarkupContent:i.textMarkupContent,textMarkupStartIndex:i.textMarkupStartIndex,textMarkupEndIndex:i.textMarkupEndIndex,customData:i.customData}:"StickyNotes"===i.shapeAnnotationType?a={type:"StickyNotes",opacity:i.opacity,customData:i.customData}:"Stamp"===i.shapeAnnotationType||"Image"===i.shapeAnnotationType?a={type:"Stamp",opacity:i.opacity,customData:i.customData}:"Ink"===i.shapeAnnotationType?a={type:"Ink",opacity:i.opacity,strokeColor:i.strokeColor,thickness:i.thickness,modifiedDate:i.modifiedDate,width:i.bounds.width,height:i.bounds.height,left:i.bounds.x,top:i.bounds.y,data:i.data,customData:i.customData}:"FreeText"===i.shapeAnnotationType?a={type:"FreeText",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,content:i.dynamicText,fontFamily:i.fontFamily,fontSize:i.fontSize,fontColor:i.fontColor,textAlign:i.textAlign,fontStyle:this.updateFreeTextFontStyle(i.font),customData:i.customData}:""===i.measureType?"Line"===i.shapeAnnotationType?a={type:"Shape",subType:"Line",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,borderDashArray:i.borderDashArray,lineHeadStartStyle:i.sourceDecoraterShapes,lineHeadEndStyle:i.taregetDecoraterShapes,customData:i.customData}:"Arrow"===i.shapeAnnotationType||"LineWidthArrowHead"===i.shapeAnnotationType?a={type:"Shape",subType:"Arrow",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,borderDashArray:i.borderDashArray,lineHeadStartStyle:i.sourceDecoraterShapes,lineHeadEndStyle:i.taregetDecoraterShapes,customData:i.customData}:"Rectangle"===i.shapeAnnotationType?a={type:"Shape",subType:"Rectangle",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,customData:i.customData}:"Circle"===i.shapeAnnotationType||"Ellipse"===i.shapeAnnotationType?a={type:"Shape",subType:"Circle",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,customData:i.customData}:"Polygon"===i.shapeAnnotationType&&(a={type:"Shape",subType:"Polygon",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,customData:i.customData}):""!==i.measureType&&("Distance"===i.measureType?a={type:"Measure",subType:"Distance",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,borderDashArray:i.borderDashArray,lineHeadStartStyle:i.sourceDecoraterShapes,lineHeadEndStyle:i.taregetDecoraterShapes,customData:i.customData}:"Perimeter"===i.measureType?a={type:"Measure",subType:"Perimeter",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,borderDashArray:i.borderDashArray,lineHeadStartStyle:i.sourceDecoraterShapes,lineHeadEndStyle:i.taregetDecoraterShapes,customData:i.customData}:"Area"===i.measureType?a={type:"Measure",subType:"Area",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,customData:i.customData}:"Radius"===i.measureType?a={type:"Measure",subType:"Radius",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,customData:i.customData}:"Volume"===i.measureType&&(a={type:"Measure",subType:"Volume",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,calibrate:i.calibrate,annotationId:i.annotName,customData:i.customData}));var a,s=[],l=this.getOverlappedAnnotations(i,t);if(l&&this.overlappedCollections){for(var A=[],d=0;d<l.length;d++)if("textMarkup"!==l[parseInt(d.toString(),10)].shapeAnnotationType&&this.overlappedCollections||r){for(var p=0;p<this.overlappedCollections.length;p++)if(l[parseInt(d.toString(),10)].annotName===this.overlappedCollections[parseInt(p.toString(),10)].annotName){A.push(l[parseInt(d.toString(),10)]);break}}else A.push(l[parseInt(d.toString(),10)]);l=A}if(this.pdfViewer.enableMultiLineOverlap)for(d=0;d<l.length;d++)if("textMarkup"===l[parseInt(d.toString(),10)].shapeAnnotationType){for(var h=!1,p=0;p<l[parseInt(d.toString(),10)].bounds.length;p++){var c=this.orderTextMarkupBounds(l[parseInt(d.toString(),10)].bounds[parseInt(p.toString(),10)]),g=this.textMarkupAnnotationModule.annotationClickPosition;(!g||!g.x&&!g.y||c.left<=g.x&&c.left+c.width>=g.x&&c.top<=g.y&&c.top+c.height>=g.y)&&(h=!0)}h||l.splice(d,1)}if(l&&0<l.length){n=l;for(d=0;d<n.length;d++){var u=M(n[parseInt(d.toString(),10)]);u.annotationId=n[parseInt(d.toString(),10)].annotName,e===n[parseInt(d.toString(),10)].annotName&&i.measureType&&"Volume"===i.measureType&&(a.calibrate=n[parseInt(d.toString(),10)].calibrate),delete u.annotName,s.push(u)}}else s=null;this.addFreeTextProperties(i,a);var f=i.annotationAddMode;o?("Stamp"===i.shapeAnnotationType||"Image"===i.shapeAnnotationType)&&this.pdfViewerBase.isNewStamp||this.pdfViewer.fireAnnotationDoubleClick(e,t,a):"Stamp"===i.shapeAnnotationType||"Image"===i.shapeAnnotationType?!this.pdfViewerBase.isNewStamp&&this.annotationSelected&&(s?this.pdfViewer.fireAnnotationSelect(e,t,a,s,null,null,f):this.pdfViewer.fireAnnotationSelect(e,t,a,null,null,null,f)):((o=(o=this.textMarkupAnnotationModule)&&o.multiPageCollectionList(i))&&0===o.length&&(o=null),this.annotationSelected&&(s?this.pdfViewer.fireAnnotationSelect(e,t,a,s,o,r=!1,f):this.pdfViewer.fireAnnotationSelect(e,t,a,null,o,r=!0,f))),this.annotationSelected=!0},o.prototype.selectSignature=function(e,t,i){var n=i.bounds,n={height:n.height,width:n.width,x:n.x,y:n.y};this.pdfViewerBase.signatureAdded||"ink"===i.signatureName||(n={bounds:n,opacity:i.opacity,thickness:i.thickness,strokeColor:i.strokeColor},this.pdfViewer.fireSignatureSelect(e,t,n))},o.prototype.unselectSignature=function(e,t,i){var n=i.bounds,n={height:n.height,width:n.width,x:n.x,y:n.y};this.pdfViewerBase.signatureAdded||(n={bounds:n,opacity:i.opacity,thickness:i.thickness,strokeColor:i.strokeColor},this.pdfViewer.fireSignatureUnselect(e,t,n))},o.prototype.editSignature=function(e){var t,i,n=e.uniqueKey?this.pdfViewer.nameTable[e.uniqueKey]:this.pdfViewer.selectedItems.annotations[0],o=n.pageIndex;"HandWrittenSignature"!==n.shapeAnnotationType&&"SignatureText"!==n.shapeAnnotationType&&"SignatureImage"!==n.shapeAnnotationType||(t=M(n),i=M(n),G.isNullOrUndefined(e.opacity)&&n.opacity===e.opacity||(i.opacity=e.opacity,this.pdfViewer.nodePropertyChange(n,{opacity:e.opacity}),this.pdfViewer.fireSignaturePropertiesChange(n.pageIndex,n.signatureName,n.shapeAnnotationType,!1,!0,!1,t.opacity,i.opacity),this.pdfViewer.annotation.addAction(n.pageIndex,null,n,"Shape Opacity","",t,i)),n.strokeColor!==e.strokeColor&&(i.strokeColor=e.strokeColor,this.pdfViewer.nodePropertyChange(n,{strokeColor:e.strokeColor}),this.pdfViewer.fireSignaturePropertiesChange(n.pageIndex,n.signatureName,n.shapeAnnotationType,!0,!1,!1,t.strokeColor,i.strokeColor),this.pdfViewer.annotation.addAction(n.pageIndex,null,n,"Shape Stroke","",t,i)),n.thickness!==e.thickness&&(i.thickness=e.thickness,this.pdfViewer.nodePropertyChange(n,{thickness:e.thickness}),this.pdfViewer.fireSignaturePropertiesChange(n.pageIndex,n.signatureName,n.shapeAnnotationType,!1,!1,!0,t.thickness,i.thickness),this.pdfViewer.annotation.addAction(n.pageIndex,null,n,"Shape Thickness","",t,i)),n.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),this.pdfViewer.renderDrawing(),this.pdfViewerBase.signatureModule.modifySignatureCollection(null,o,n,!0))},o.prototype.deletComment=function(e){e.parentElement.firstChild===e?this.deleteAnnotation():this.pdfViewer.annotationModule.stickyNotesAnnotationModule.modifyCommentDeleteProperty(e.parentElement,e)},o.prototype.addReplyComments=function(e,t,i){if("add"===i){var n=document.getElementById(e.annotName);this.pdfViewer.annotationModule.stickyNotesAnnotationModule.createCommentDiv(n);for(var o=0;o<t.length;o++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveCommentDiv(n,t[parseInt(o.toString(),10)])}else"next"===i&&(n=document.getElementById(e.annotationId),this.selectAnnotation(e),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveCommentDiv(n,t))},o.prototype.editComments=function(e,t){document.getElementById(e).childNodes[1].ej2_instances[0].value=t},o.prototype.editAnnotation=function(e){var t,i,n,o=!1;if(!(l=G.isNullOrUndefined(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||G.isNullOrUndefined(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)?l:this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)||e.annotationId&&e.uniqueKey||e.annotationId!==l.annotName?this.pdfViewer.selectedItems.annotations[0]&&(t=(s=this.pdfViewer.selectedItems.annotations[0]).annotName,n=s.pageIndex):(t=(s=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation).annotName,n=this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage),void 0!==e.uniqueKey){if((s=this.pdfViewer.nameTable[e.uniqueKey])&&s.annotationSettings&&!G.isNullOrUndefined(s.annotationSettings.isLock)&&(s.annotationSettings.isLock=e.annotationSettings.isLock),t=s.annotName,n=s.pageIndex,G.isBlazor()&&e.allowedInteractions)for(var r=e.allowedInteractions.length,a=0;a<r;a++)0===e.allowedInteractions[parseInt(a.toString(),10)]&&(e.allowedInteractions[parseInt(a.toString(),10)]=v.AllowedInteraction.Select),1===e.allowedInteractions[parseInt(a.toString(),10)]&&(e.allowedInteractions[parseInt(a.toString(),10)]=v.AllowedInteraction.Move),2===e.allowedInteractions[parseInt(a.toString(),10)]&&(e.allowedInteractions[parseInt(a.toString(),10)]=v.AllowedInteraction.Resize),3===e.allowedInteractions[parseInt(a.toString(),10)]&&(e.allowedInteractions[parseInt(a.toString(),10)]=v.AllowedInteraction.Delete),4===e.allowedInteractions[parseInt(a.toString(),10)]&&(e.allowedInteractions[parseInt(a.toString(),10)]=v.AllowedInteraction.PropertyChange),5===e.allowedInteractions[parseInt(a.toString(),10)]&&(e.allowedInteractions[parseInt(a.toString(),10)]=v.AllowedInteraction.None);s.allowedInteractions=e.allowedInteractions||this.updateAnnotationAllowedInteractions(e)}if(s||"sticky"===e.shapeAnnotationType&&void 0!==e.annotationId&&(s=this.pdfViewer.nameTable[e.annotationId])&&(s.annotationSettings.isLock=e.annotationSettings.isLock,t=s.annotName,n=s.pageIndex),"textMarkup"===e.shapeAnnotationType)for(var s=this.pdfViewer.annotationModule.textMarkupAnnotationModule.getAnnotations(e.pageNumber,e),a=0;a<s.length;a++)if(e.annotationId===s[parseInt(a.toString(),10)].annotName){o=!0,(s=s[parseInt(a.toString(),10)]).isPrint=e.isPrint,this.textMarkupAnnotationModule.currentTextMarkupAnnotation=s,this.textMarkupAnnotationModule.selectTextMarkupCurrentPage=s.pageNumber,s.allowedInteractions=e.allowedInteractions,n=s.pageNumber,t=e.annotationId;break}if(s){var l=M(s),A=M(s);if("textMarkup"===e.shapeAnnotationType&&(i="textMarkup"),e&&!0===e.isCommentLock&&(s.isCommentLock=e.isCommentLock),e&&JSON.stringify(s.annotationSelectorSettings)!==JSON.stringify(e.annotationSelectorSettings)&&(!G.isNullOrUndefined(e.type)&&"TextMarkup"!==e.type||!G.isNullOrUndefined(e.shapeAnnotationType)&&"textMarkup"!==e.shapeAnnotationType)&&(s.annotationSelectorSettings=e.annotationSelectorSettings,A.annotationSelectorSettings=e.annotationSelectorSettings,this.pdfViewer.nodePropertyChange(s,{annotationSelectorSettings:e.annotationSelectorSettings}),this.triggerAnnotationPropChange(s,!1,!0,!1,!1)),e.comments)for(var d=0;d<e.comments.length;d++)!0===e.comments[parseInt(d.toString(),10)].isLock&&(i?(s.comments=e.comments,s.comments[parseInt(d.toString(),10)].isLock=e.comments[parseInt(d.toString(),10)].isLock):(s.properties.comments=e.comments,s.properties.comments[parseInt(d.toString(),10)].isLock=e.comments[parseInt(d.toString(),10)].isLock));if(e&&""!==e.note&&void 0!==e.note?i?(s.note=e.note,this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addTextToComments(s.annotName,s.note)):(s.notes=e.note,this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addTextToComments(s.annotName,s.notes)):e&&e.isCommentLock&&(e.type&&"FreeText"!==e.type||"FreeText"!==e.shapeAnnotationType)&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addTextToComments(s.annotName,"  "),e.commentId&&e.editComment&&"edit"===e.commentType&&this.editComments(e.commentId,e.editComment),e.replyComment&&"add"===e.commentType&&(this.addReplyComments(s,e.replyComment,e.commentType),this.pdfViewer.annotationCollection[0].note=e.note),e.nextComment&&"next"===e.commentType&&this.addReplyComments(e,e.nextComment,e.commentType),""===e.note&&"delete"===e.commentType&&(u=document.getElementById(e.annotationId),this.deletComment(u)),e.comments&&"delete"===e.commentType&&""!==e.note){var p=document.querySelectorAll(".e-pv-more-options-button");if(p)for(a=0;a<p.length;a++)if("visible"===p[parseInt(a.toString(),10)].style.visibility){var h=p[parseInt(a.toString(),10)].parentElement.nextSibling,c=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.checkIslockProperty(h);h&&!c&&this.deletComment(h.parentElement);break}}if("TextMarkup"===e.type||"textMarkup"===e.shapeAnnotationType)s.annotationSettings&&e.annotationSettings&&s.annotationSettings.isLock!==e.annotationSettings.isLock&&(f=this.textMarkupAnnotationModule.modifyAnnotationProperty("AnnotationSettings",e.annotationSettings.isLock,null),this.textMarkupAnnotationModule.manageAnnotations(f,this.textMarkupAnnotationModule.selectTextMarkupCurrentPage)),e&&JSON.stringify(s.annotationSelectorSettings)!==JSON.stringify(e.annotationSelectorSettings)&&(f=this.textMarkupAnnotationModule.modifyAnnotationProperty("AnnotationSelectorSettings",e.annotationSelectorSettings,null),this.textMarkupAnnotationModule.manageAnnotations(f,this.textMarkupAnnotationModule.selectTextMarkupCurrentPage)),s.opacity!==e.opacity&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyOpacityProperty(null,e.opacity),s.color!==e.color&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyColorProperty(e.color),JSON.stringify(s.bounds)!==JSON.stringify(e.bounds)&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyBoundsProperty(e.bounds),i="textMarkup",o&&(this.textMarkupAnnotationModule.selectTextMarkupCurrentPage=null);else if(e&&"image"===e.stampAnnotationType&&"stamp"===e.shapeAnnotationType&&e.stampAnnotationPath)i="stamp",s.data!==e.stampAnnotationPath&&(s.data=e.stampAnnotationPath,s.wrapper.children[0].imageSource=e.stampAnnotationPath,this.pdfViewer.renderDrawing(null,n)),G.isNullOrUndefined(e.opacity)||s.opacity===e.opacity||(A.opacity=e.opacity,this.annotationPropertyChange(s,e.opacity,"Shape Opacity",l,A)),this.calculateAnnotationBounds(s,e);else if("StickyNotes"===e.type||"Stamp"===e.type||"sticky"===e.shapeAnnotationType||"stamp"===e.shapeAnnotationType)G.isNullOrUndefined(e.opacity)||s.opacity===e.opacity||(A.opacity=e.opacity,this.annotationPropertyChange(s,e.opacity,"Shape Opacity",l,A)),this.calculateAnnotationBounds(s,e),i="StickyNotes"===e.type||"sticky"===e.shapeAnnotationType?"sticky":"stamp";else if("Ink"===e.type||"Shape"===e.type||"Measure"===e.type||"Line"===e.shapeAnnotationType||"Square"===e.shapeAnnotationType||"Circle"===e.shapeAnnotationType||"Polygon"===e.shapeAnnotationType||"Polyline"===e.shapeAnnotationType||"Ink"===e.shapeAnnotationType)"Square"!==e.shapeAnnotationType&&"Circle"!==e.shapeAnnotationType&&"Radius"!==e.shapeAnnotationType&&"Ink"!==e.shapeAnnotationType||this.calculateAnnotationBounds(s,e),G.isNullOrUndefined(e.opacity)||s.opacity===e.opacity||(A.opacity=e.opacity,this.annotationPropertyChange(s,e.opacity,"Shape Opacity",l,A)),e.fillColor&&s.fillColor!==e.fillColor&&(A.fillColor=e.fillColor,e.labelSettings&&e.labelSettings.fillColor&&(e.labelSettings.fillColor=e.fillColor),this.pdfViewer.nodePropertyChange(s,{fillColor:e.fillColor}),this.triggerAnnotationPropChange(s,!0,!1,!1,!1),this.pdfViewer.annotation.addAction(s.pageIndex,null,s,"Shape Fill","",l,A)),e.strokeColor&&s.strokeColor!==e.strokeColor&&(A.strokeColor=e.strokeColor,this.pdfViewer.nodePropertyChange(s,{strokeColor:e.strokeColor}),this.triggerAnnotationPropChange(s,!1,!0,!1,!1),this.pdfViewer.annotation.addAction(s.pageIndex,null,s,"Shape Stroke","",l,A)),e.leaderLength&&s.leaderHeight!==e.leaderLength&&(A.leaderHeight=e.leaderLength,this.pdfViewer.nodePropertyChange(s,{leaderHeight:e.leaderLength})),e.thickness&&s.thickness!==e.thickness&&(A.thickness=e.thickness,this.pdfViewer.nodePropertyChange(s,{thickness:e.thickness}),this.triggerAnnotationPropChange(s,!1,!1,!0,!1),this.pdfViewer.annotation.addAction(s.pageIndex,null,s,"Shape Thickness","",l,A)),s.author!==e.author&&(A.author=e.author,this.pdfViewer.nodePropertyChange(s,{author:e.author}),this.triggerAnnotationPropChange(s,!1,!0,!1,!1)),s.subject!==e.subject&&(A.subject=e.subject,this.pdfViewer.nodePropertyChange(s,{subject:e.subject}),this.triggerAnnotationPropChange(s,!1,!0,!1,!1)),s.modifiedDate!==e.modifiedDate&&(A.modifiedDate=e.modifiedDate,this.pdfViewer.nodePropertyChange(s,{modifiedDate:e.modifiedDate})),s.subject!==e.subject&&(A.subject=e.subject,this.pdfViewer.nodePropertyChange(s,{subject:e.subject}),this.triggerAnnotationPropChange(s,!1,!0,!1,!1),this.pdfViewer.annotation.addAction(s.pageIndex,null,s,"Shape Stroke","",l,A)),this.pdfViewer.enableShapeLabel&&s.fontColor!==e.fontColor&&(A.fontColor=e.fontColor,this.pdfViewer.nodePropertyChange(s,{fontColor:e.fontColor})),this.pdfViewer.enableShapeLabel&&e.labelSettings&&e.labelSettings.fillColor&&s.labelFillColor!==e.labelSettings.fillColor&&(A.labelFillColor=e.labelSettings.fillColor,this.pdfViewer.nodePropertyChange(s,{labelFillColor:e.labelSettings.fillColor})),"Line"!==e.shapeAnnotationType&&"Polyline"!==e.shapeAnnotationType&&"Polygon"!==e.shapeAnnotationType||JSON.stringify(s.vertexPoints)!==JSON.stringify(e.vertexPoints)&&(s.vertexPoints=e.vertexPoints,this.pdfViewer.nodePropertyChange(s,{vertexPoints:e.vertexPoints})),"Line"!==e.subType&&"Arrow"!==e.subType&&"Distance"!==e.subType&&"Perimeter"!==e.subType||(m=f=u=!1,l.lineHeadStart=s.sourceDecoraterShapes,l.lineHeadEnd=s.taregetDecoraterShapes,A.lineHeadStart=e.lineHeadStartStyle,A.lineHeadEnd=e.lineHeadEndStyle,A.borderDashArray=e.borderDashArray,s.taregetDecoraterShapes!==e.lineHeadEndStyle&&(f=!0),s.sourceDecoraterShapes!==e.lineHeadStartStyle&&(u=!0),s.borderDashArray!==e.borderDashArray&&(m=!0),this.pdfViewer.nodePropertyChange(s,{sourceDecoraterShapes:e.lineHeadStartStyle,taregetDecoraterShapes:e.lineHeadEndStyle,borderDashArray:e.borderDashArray}),this.triggerAnnotationPropChange(s,!1,!1,!1,!1,u,f,m),this.pdfViewer.annotation.addAction(s.pageIndex,null,s,"Line properties change","",l,A)),"Shape"!==e.type&&"Line"!==e.shapeAnnotationType&&"Square"!==e.shapeAnnotationType&&"Circle"!==e.shapeAnnotationType&&"Polygon"!==e.shapeAnnotationType||(i="shape"),"Ink"!==e.type&&"Ink"!==e.shapeAnnotationType||(i="ink"),"Measure"!==e.type&&"LineDimension"!==e.indent&&"PolyLineDimension"!==e.indent&&"PolygonDimension"!==e.indent&&"PolygonRadius"!==e.indent&&"PolygonVolume"!==e.indent||(i="shape_measure"),e.labelSettings&&this.pdfViewer.enableShapeLabel&&(this.updateFreeTextProperties(s),this.pdfViewer.nodePropertyChange(s,{labelOpacity:e.labelSettings.opacity,fontColor:e.labelSettings.fontColor,fontSize:e.labelSettings.fontSize,fontFamily:e.labelSettings.fontFamily,labelContent:s.notes,labelFillColor:e.labelSettings.fillColor})),this.pdfViewer.enableShapeLabel&&e.calibrate&&e.calibrate.depth&&this.pdfViewer.annotationModule.measureAnnotationModule.volumeDepth!==e.calibrate.depth&&(this.pdfViewer.annotationModule.measureAnnotationModule.volumeDepth=e.calibrate.depth,s.notes=this.pdfViewer.annotationModule.measureAnnotationModule.calculateVolume(s.vertexPoints,s.id,s.pageIndex),s.labelContent=s.notes,e.labelSettings&&e.labelSettings.labelContent&&(e.labelSettings.labelContent=s.notes),this.pdfViewer.nodePropertyChange(s,{labelContent:s.labelContent}),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addTextToComments(s.annotName,s.notes));else if("FreeText"===e.type||"FreeText"===e.shapeAnnotationType){if(i="freetext",this.pdfViewer.freeTextSettings.enableAutoFit&&s.dynamicText!==e.content){var g=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",s.pageIndex).getContext("2d"),u=e.fontSize,f=void 0,m=e.fontFamily,w=this.pdfViewerBase.getZoomFactor(),f=e.font.isBold?"bold "+u+"px "+m:u+"px "+m,B=(g.font=f,""),u=e.content||e.dynamicText;if(-1<u.indexOf("\n"))for(var C=u.split("\n"),d=0;d<C.length;d++){var S=g.measureText(C[parseInt(d.toString(),10)]),y=g.measureText(B);S.width>y.width&&(B=C[parseInt(d.toString(),10)])}else B=u;m=g.measureText(B);e.bounds.width=Math.ceil(m.width+18);f=this.pdfViewerBase.getElement("_pageDiv_"+e.pageIndex).clientWidth-e.bounds.left*w,u=(e.bounds.width>f&&(e.bounds.width=f/w),e.bounds.height);e.bounds.height=u>=s.bounds.height?u:s.bounds.height}this.calculateAnnotationBounds(s,e),e.opacity&&s.opacity!==e.opacity&&this.triggerAnnotationPropChange(s,!1,!1,!1,!0),e.fillColor&&s.fillColor!==e.fillColor&&(A.fillColor=e.fillColor,this.pdfViewer.annotation.addAction(s.pageIndex,null,s,"Shape Fill","",l,A),this.triggerAnnotationPropChange(s,!0,!1,!1,!1)),e.fontColor&&s.fontColor!==e.fontColor&&(A.fontColor=e.fontColor,this.pdfViewer.annotation.addAction(s.pageIndex,null,s,"fontColor","",l,A),this.triggerAnnotationPropChange(s,!1,!1,!1,!1)),e.strokeColor&&s.strokeColor!==e.strokeColor&&this.triggerAnnotationPropChange(s,!1,!0,!1,!1),e.thickness&&s.thickness!==e.thickness&&this.triggerAnnotationPropChange(s,!1,!1,!0,!1);m=s.isLock,f=(G.isNullOrUndefined(e.isLock)?G.isNullOrUndefined(e.annotationSettings.isLock)||(m=e.annotationSettings.isLock):m=e.isLock,s.annotationSettings.isLock=m,s.isLock=m,e.content=e.content&&e.content===e.dynamicText?e.content:e.dynamicText,e.content&&s.dynamicText!==e.content&&this.triggerAnnotationPropChange(s,!1,!1,!1,!1,!1,!1,!1,!0,s.dynamicText,e.content),this.pdfViewer.nodePropertyChange(s,{opacity:e.opacity,fontColor:e.fontColor,fontSize:e.fontSize,fontFamily:e.fontFamily,dynamicText:e.content,fillColor:e.fillColor,textAlign:e.textAlign,strokeColor:e.strokeColor,thickness:e.thickness,font:e.fontStyle?this.setFreeTextFontStyle(e.fontStyle):this.setFreeTextFontStyle(e.font),isReadonly:e.isReadonly}),e.content&&s&&this.updateAnnotationComments(s.annotName,e.content),document.getElementById(this.pdfViewer.element.id+"_commenttextbox_editor"));new N.InPlaceEditor({value:e.content}).appendTo(f)}s.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),s.customData!==e.customData&&(s.customData=e.customData),s.isPrint=e.isPrint,"TextMarkup"!==e.type&&"textMarkup"!==e.shapeAnnotationType&&this.pdfViewer.renderDrawing(),this.updateCollection(t,n,e,i)}},o.prototype.annotationPropertyChange=function(e,t,i,n,o){this.pdfViewer.nodePropertyChange(e,{opacity:t}),this.triggerAnnotationPropChange(e,!1,!1,!1,!0),this.pdfViewer.annotation.addAction(e.pageIndex,null,e,i,"",n,o)},o.prototype.calculateAnnotationBounds=function(e,t){var i=this.pdfViewerBase.convertBounds(e.wrapper.bounds),t=this.pdfViewerBase.convertBounds(t.bounds);i&&t&&(JSON.stringify(i)!==JSON.stringify(t)&&2<Math.abs(i.Y-t.Y)||2<Math.abs(i.X-t.X)||2<Math.abs(i.Width-t.Width)||2<Math.abs(i.Height-t.Height))&&(i={x:t.X+t.Width/2,y:t.Y+t.Height/2,width:t.Width,height:t.Height},this.pdfViewer.nodePropertyChange(e,{bounds:i}),this.triggerAnnotationPropChange(e,!1,!1,!1,!1),this.pdfViewer.renderSelector(e.pageIndex,this.pdfViewer.annotationSelectorSettings))},o.prototype.updateFreeTextProperties=function(e){e.labelSettings&&(e.labelSettings.fillColor&&(e.labelFillColor=e.labelSettings.fillColor),e.labelSettings.fontColor&&(e.fontColor=e.labelSettings.fontColor),e.labelSettings.fontSize&&(e.fontSize=e.labelSettings.fontSize),e.labelSettings.fontFamily&&(e.fontFamily=e.labelSettings.fontFamily),e.labelSettings.opacity&&(e.labelOpacity=e.labelSettings.opacity),e.labelSettings.labelContent)&&(e.labelContent=e.labelSettings.labelContent)},o.prototype.updateAnnotationComments=function(e,t){e=document.getElementById(e);e&&e.childNodes&&(e.childNodes[0].ej2_instances?e.childNodes[0].ej2_instances[0].value=t:e.childNodes[0].childNodes&&e.childNodes[0].childNodes[1].ej2_instances&&(e.childNodes[0].childNodes[1].ej2_instances[0].value=t))},o.prototype.addFreeTextProperties=function(e,t){this.pdfViewer.enableShapeLabel&&e&&t&&(t.labelSettings={fontColor:e.fontColor,fontSize:e.fontSize,fontFamily:e.fontFamily,opacity:e.labelOpacity,labelContent:e.labelContent,fillColor:e.labelFillColor})},o.prototype.updateMeasurementSettings=function(){var e;this.pdfViewer.enableAnnotation&&this.pdfViewer.enableMeasureAnnotation&&(e="1 "+this.pdfViewer.measurementSettings.conversionUnit+" = "+this.pdfViewer.measurementSettings.scaleRatio+" "+this.pdfViewer.measurementSettings.displayUnit,this.measureAnnotationModule.updateMeasureValues(e,this.pdfViewer.measurementSettings.displayUnit,this.pdfViewer.measurementSettings.conversionUnit,this.pdfViewer.measurementSettings.depth))},o.prototype.updateCollection=function(e,t,i,n){var o,r=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_"+n);if(r=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_"+n]:r){var r=JSON.parse(r),a=this.getPageCollection(r,t);if(null!=a&&r[parseInt(a.toString(),10)]&&null!==(o=r[parseInt(a.toString(),10)].annotations)){for(var s,l=0;l<o.length;l++)o[parseInt(l.toString(),10)].annotName===e&&(s=this.modifyAnnotationProperties(o[parseInt(l.toString(),10)],i,n),o[parseInt(l.toString(),10)]=s,this.storeAnnotationCollections(s,t));this.pdfViewerBase.isStorageExceed||F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_"+n),r[parseInt(a.toString(),10)]&&(r[parseInt(a.toString(),10)].annotations=o);a=JSON.stringify(r);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_"+n]=a:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_"+n,a)}}},o.prototype.modifyAnnotationProperties=function(e,t,i){var n,o=!1;if(t&&!0===t.isCommentLock&&(e.isCommentLock=t.isCommentLock),G.isNullOrUndefined(t)||G.isNullOrUndefined(t.annotationSettings)||!0!==t.annotationSettings.isLock||!0!==t.isCommentLock||(o=!0),t.comments)for(var r=0;r<t.comments.length;r++)G.isNullOrUndefined(t.comments[parseInt(r.toString(),10)].isLock)||G.isNullOrUndefined(e.comments[parseInt(r.toString(),10)])||(e.comments[parseInt(r.toString(),10)].isLock=t.comments[parseInt(r.toString(),10)].isLock);if(t&&""!==t.note&&void 0!==t.note&&(e.note=t.note),t.commentId&&t.editComment&&"edit"===t.commentType){var a=document.getElementById(t.commentId);t.annotationId===t.commentId&&(e.note=a.childNodes[1].ej2_instances[0].value);for(r=0;r<t.comments.length;r++)t.comments[parseInt(r.toString(),10)].annotName===t.commentId&&(e.comments[parseInt(r.toString(),10)].note=a.childNodes[1].ej2_instances[0].value)}return"textMarkup"===i?(e.opacity=t.opacity,e.color=t.color,e.allowedInteractions=t.allowedInteractions,e.annotationSettings=t.annotationSettings):"sticky"===i||"stamp"===i?(t.bounds&&(e.bounds=t.bounds),e.opacity=t.opacity,e.annotationSettings=t.annotationSettings,e.allowedInteractions=t.allowedInteractions,t.stampAnnotationPath&&(e.stampAnnotationPath=t.stampAnnotationPath)):"ink"===i?(t.bounds&&(e.bounds=t.bounds),e.opacity=t.opacity,e.strokeColor=t.strokeColor,e.thickness=t.thickness,e.annotationSettings=t.annotationSettings,e.allowedInteractions=t.allowedInteractions):"shape"===i||"shape_measure"===i?("Line"===t.subType||"Arrow"===t.subType||"Distance"===t.subType||"Perimeter"===t.subType?(t.bounds&&(e.bounds=t.bounds),t.vertexPoints&&(e.vertexPoints=t.vertexPoints),e.opacity=t.opacity,e.fillColor=t.fillColor,e.strokeColor=t.strokeColor,e.thickness=t.thickness,e.borderDashArray=t.borderDashArray,e.lineHeadStart=this.getArrowTypeForCollection(t.lineHeadStartStyle),e.lineHeadEnd=this.getArrowTypeForCollection(t.lineHeadEndStyle),e.annotationSettings=t.annotationSettings,e.allowedInteractions=t.allowedInteractions):(t.bounds&&(e.bounds=t.bounds),t.vertexPoints&&(e.vertexPoints=t.vertexPoints),e.opacity=t.opacity,e.fillColor=t.fillColor,e.strokeColor=t.strokeColor,e.thickness=t.thickness,e.annotationSettings=t.annotationSettings,e.allowedInteractions=t.allowedInteractions,t.calibrate&&e.annotName===t.annotationId&&e.calibrate.depth!==t.calibrate.depth&&(e.calibrate.depth=t.calibrate.depth,this.pdfViewer.annotationModule.measureAnnotationModule.volumeDepth=t.calibrate.depth,e.note=this.pdfViewer.annotationModule.measureAnnotationModule.calculateVolume(e.vertexPoints))),this.pdfViewer.enableShapeLabel&&t.labelSettings&&(n=t.labelSettings.labelContent,e.note=n,e.fontSize=t.labelSettings.fontSize,e.labelFillColor=t.labelSettings.fillColor,e.labelContent&&(e.labelContent=n),e.labelSettings&&(e.labelSettings=t.labelSettings),this.updateAnnotationComments(e.annotName,n))):"freetext"===i&&(t.bounds&&(e.bounds=t.bounds),e.opacity=t.opacity,e.strokeColor=t.strokeColor,e.thickness=t.thickness,t.content&&(e.dynamicText=t.content),e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontColor=t.fontColor,e.fillColor=t.fillColor,e.font=t.font||t.fontStyle,e.textAlign=t.textAlign,e.annotationSettings=t.annotationSettings,e.allowedInteractions=t.allowedInteractions,e.isReadonly=t.isReadonly),e.author=t.author,e.customData=t.customData,e.subject=t.subject,e.modifiedDate=o?t.modifiedDate:this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),e.isPrint=t.isPrint,t.annotationSettings&&!G.isNullOrUndefined(t.annotationSettings.isLock)&&(e.isLocked=t.annotationSettings.isLock),G.isNullOrUndefined(t.annotationSelectorSettings)||e.annotationSelectorSettings===t.annotationSelectorSettings||(e.annotationSelectorSettings=t.annotationSelectorSettings),e},o.prototype.updateAnnotationAuthor=function(e,t){var i;return"sticky"===e?"Guest"!==(i="Guest"!==this.pdfViewer.stickyNotesSettings.author?this.pdfViewer.stickyNotesSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"stamp"===e?"Guest"!==(i="Guest"!==this.pdfViewer.stampSettings.author?this.pdfViewer.stampSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"shape"===e?"Line"===t?"Guest"!==(i="Guest"!==this.pdfViewer.lineSettings.author?this.pdfViewer.lineSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"LineWidthArrowHead"===t||"Arrow"===t?"Guest"!==(i="Guest"!==this.pdfViewer.arrowSettings.author?this.pdfViewer.arrowSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"Circle"===t||"Ellipse"===t||"Oval"===t?"Guest"!==(i="Guest"!==this.pdfViewer.circleSettings.author?this.pdfViewer.circleSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"Rectangle"===t||"Square"===t?"Guest"!==(i="Guest"!==this.pdfViewer.rectangleSettings.author?this.pdfViewer.rectangleSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"Polygon"===t&&"Guest"!==(i="Guest"!==this.pdfViewer.polygonSettings.author?this.pdfViewer.polygonSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"measure"===e?"Distance"===t||"Distance calculation"===t?"Guest"!==(i="Guest"!==this.pdfViewer.distanceSettings.author?this.pdfViewer.distanceSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"Perimeter"===t||"Perimeter calculation"===t?"Guest"!==(i="Guest"!==this.pdfViewer.perimeterSettings.author?this.pdfViewer.perimeterSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"Radius"===t||"Radius calculation"===t?"Guest"!==(i="Guest"!==this.pdfViewer.radiusSettings.author?this.pdfViewer.radiusSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"Area"===t||"Area calculation"===t?"Guest"!==(i="Guest"!==this.pdfViewer.areaSettings.author?this.pdfViewer.areaSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"Volume"!==t&&"Volume calculation"!==t||"Guest"!==(i="Guest"!==this.pdfViewer.volumeSettings.author?this.pdfViewer.volumeSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"textMarkup"===e?"Highlight"===t?"Guest"!==(i="Guest"!==this.pdfViewer.highlightSettings.author?this.pdfViewer.highlightSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"Underline"===t?"Guest"!==(i="Guest"!==this.pdfViewer.underlineSettings.author?this.pdfViewer.underlineSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"Strikethrough"===t?"Guest"!==(i="Guest"!==this.pdfViewer.strikethroughSettings.author?this.pdfViewer.strikethroughSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):i=this.pdfViewer.annotationSettings.author:"freeText"===e?"Guest"!==(i="Guest"!==this.pdfViewer.freeTextSettings.author?this.pdfViewer.freeTextSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)):"ink"===e&&"Guest"!==(i="Guest"!==this.pdfViewer.inkAnnotationSettings.author?this.pdfViewer.inkAnnotationSettings.author:this.pdfViewer.annotationSettings.author||"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(i=G.SanitizeHtmlHelper.sanitize(i)),i=i||this.pdfViewer.annotationSettings.author},o.prototype.nameToHash=function(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",yellow:"#ffff00",yellowgreen:"#9acd32",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkred:"#8b0000",darksalmon:"#e9967a",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",indigo:"#4b0082",ivory:"#fffff0",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",pink:"#ffc0cb",plum:"#dda0dd",steelblue:"#4682b4",violet:"#ee82ee",powderblue:"#b0e0e6",purple:"#800080",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0"};return void 0!==t[e.toLowerCase()]?t[e.toLowerCase()]:""},o.prototype.updateFreeTextFontStyle=function(e){return 1===e.isBold?1:2===e.isItalic?2:4===e.isUnderline?4:8===e.isStrikeout?8:{isBold:e.isBold,isItalic:e.isItalic,isUnderline:e.isUnderline,isStrikeout:e.isStrikeout}},o.prototype.setFreeTextFontStyle=function(e){return 1===e?{isBold:!0}:2===e?{isItalic:!0}:4===e?{isUnderline:!0}:8===e?{isStrikeout:!0}:{isBold:e.isBold,isItalic:e.isItalic,isUnderline:e.isUnderline,isStrikeout:e.isStrikeout}},o.prototype.findAnnotationSettings=function(e,t){var i=this.pdfViewer.annotationSettings,n=(e&&("StickyNotes"===(n=e.shapeAnnotationType)&&this.pdfViewer.stickyNotesSettings?i=this.pdfViewer.stickyNotesSettings:"Stamp"===n||"Image"===n?(i=this.pdfViewer.stampSettings,"Image"===n&&(i=this.pdfViewer.customStampSettings)):"FreeText"===n?i=this.pdfViewer.freeTextSettings:""===e.measureType?"Line"===n?i=this.pdfViewer.lineSettings:"Arrow"===n||"LineWidthArrowHead"===n?i=this.pdfViewer.arrowSettings:"Rectangle"===n?i=this.pdfViewer.rectangleSettings:"Circle"===n||"Ellipse"===n?i=this.pdfViewer.circleSettings:"Polygon"===n&&this.pdfViewer.polygonSettings&&(i=this.pdfViewer.polygonSettings):""!==e.measureType&&("Distance"===e.measureType?i=this.pdfViewer.distanceSettings:"Perimeter"===e.measureType?i=this.pdfViewer.perimeterSettings:"Area"===e.measureType?i=this.pdfViewer.areaSettings:"Radius"===e.measureType?i=this.pdfViewer.radiusSettings:"Volume"===e.measureType&&(i=this.pdfViewer.volumeSettings))),e?e.annotationSettings:{});return n&&(n.minWidth||n.maxWidth||n.minHeight||n.maxHeight)?this.updateSettings(n):t?this.updateSettings(i):i},o.prototype.updateAnnotationSettings=function(e){var t=this.pdfViewer.annotationSettings;return"sticky"===e.AnnotType?t=this.pdfViewer.stickyNotesSettings:"stamp"===e.AnnotType||"image"===e.AnnotType||"Image"===e.AnnotType?(t=this.pdfViewer.stampSettings,"image"!==e.Subject&&"Image"!==e.Subject||(t=this.pdfViewer.customStampSettings)):"freeText"===e.AnnotType?t=this.pdfViewer.freeTextSettings:"ink"===e.AnnotType||"Ink"===e.AnnotationType?t=this.pdfViewer.inkAnnotationSettings:"shape"===e.AnnotType?"Line"===e.Subject?t=this.pdfViewer.lineSettings:"Arrow"===e.Subject||"LineWidthArrowHead"===e.Subject?t=this.pdfViewer.arrowSettings:"Rectangle"===e.Subject||"Square"===e.Subject?t=this.pdfViewer.rectangleSettings:"Circle"===e.Subject||"Ellipse"===e.Subject||"Oval"===e.Subject?t=this.pdfViewer.circleSettings:"Polygon"===e.Subject&&(t=this.pdfViewer.polygonSettings):"shape_measure"===e.AnnotType?"Distance"===e.Subject||"Distance calculation"===e.Subject?t=this.pdfViewer.distanceSettings:"Perimeter"===e.Subject||"Perimeter calculation"===e.Subject?t=this.pdfViewer.perimeterSettings:"Area"===e.Subject||"Area calculation"===e.Subject?t=this.pdfViewer.areaSettings:"Radius"===e.Subject||"Radius calculation"===e.Subject?t=this.pdfViewer.radiusSettings:"Volume"!==e.Subject&&"Volume calculation"!==e.Subject||(t=this.pdfViewer.volumeSettings):"textMarkup"===e.shapeAnnotationType&&("Highlight"===e.subject?t=this.pdfViewer.highlightSettings:"Underline"===e.subject?t=this.pdfViewer.underlineSettings:"Strikethrough"===e.subject&&(t=this.pdfViewer.strikethroughSettings)),this.updateSettings(t)},o.prototype.updateSettings=function(e){var t=0,i=0,n=0,o=0,r=this.pdfViewer.annotationSettings;return e.minWidth||e.maxWidth||e.minHeight||e.maxHeight?(t=e.maxHeight||2e3,i=e.maxWidth||2e3,n=e.minHeight||0,o=e.minWidth||0):(r.minWidth||r.maxWidth||r.minHeight||r.maxHeight)&&(t=r.maxHeight||2e3,i=r.maxWidth||2e3,n=r.minHeight||0,o=r.minWidth||0),{minWidth:o,maxWidth:i,minHeight:n,maxHeight:t,isLock:e.isLock||r.isLock||!1,isPrint:e.isPrint}},o.prototype.getOverlappedAnnotations=function(e,t){for(var i,n=this.getPageShapeAnnotations(t),o=0;o<n.length;o++)if(e.annotName===n[parseInt(o.toString(),10)].annotName){i=n[parseInt(o.toString(),10)];break}return this.findOverlappedAnnotations(i,n)},o.prototype.getPageShapeAnnotations=function(e){var t=[],i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_ink");if(i){i=JSON.parse(i);if(i)if(null!=(d=this.getPageCollection(i,e))&&i[parseInt(d.toString(),10)]){var n=i[parseInt(d.toString(),10)].annotations;if(n&&0<n.length)for(var o=0;o<n.length;o++)t.push(n[parseInt(o.toString(),10)])}}i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape");if(i){i=JSON.parse(i);if(i)if(null!=(d=this.getPageCollection(i,e))&&i[parseInt(d.toString(),10)]){var r=i[parseInt(d.toString(),10)].annotations;if(r&&0<r.length)for(o=0;o<r.length;o++)t.push(r[parseInt(o.toString(),10)])}}i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape_measure");if(i){i=JSON.parse(i);if(i)if(null!=(d=this.getPageCollection(i,e))&&i[parseInt(d.toString(),10)]){var a=i[parseInt(d.toString(),10)].annotations;if(a&&0<a.length)for(o=0;o<a.length;o++)t.push(a[parseInt(o.toString(),10)])}}i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp");if(i){i=JSON.parse(i);if(i)if(null!=(d=this.getPageCollection(i,e))&&i[parseInt(d.toString(),10)]){var s=i[parseInt(d.toString(),10)].annotations;if(s&&0<s.length)for(o=0;o<s.length;o++)t.push(s[parseInt(o.toString(),10)])}}i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_freetext");if(i){i=JSON.parse(i);if(i)if(null!=(d=this.getPageCollection(i,e))&&i[parseInt(d.toString(),10)]){var l=i[parseInt(d.toString(),10)].annotations;if(l&&0<l.length)for(o=0;o<l.length;o++)t.push(l[parseInt(o.toString(),10)])}}i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sticky");if(i){i=JSON.parse(i);if(i)if(null!=(d=this.getPageCollection(i,e))&&i[parseInt(d.toString(),10)]){var A=i[parseInt(d.toString(),10)].annotations;if(A&&0<A.length)for(o=0;o<A.length;o++)t.push(A[parseInt(o.toString(),10)])}}i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_textMarkup");if(i){var d,i=JSON.parse(i);if(i)if(null!=(d=this.getPageCollection(i,e))&&i[parseInt(d.toString(),10)]){var p=i[parseInt(d.toString(),10)].annotations;if(p&&0<p.length)for(o=0;o<p.length;o++)t.push(p[parseInt(o.toString(),10)])}}return t},o.prototype.findOverlappedAnnotations=function(e,t){if(this.overlappedAnnotations=[],e&&e.bounds)if("textMarkup"===e.shapeAnnotationType)for(var i=0;i<e.bounds.length;i++){var n=this.orderTextMarkupBounds(e.bounds[parseInt(i.toString(),10)]);this.calculateOverlappedAnnotationBounds(e,n,t)}else this.calculateOverlappedAnnotationBounds(e,e.bounds,t);return this.overlappedAnnotations},o.prototype.calculateOverlappedAnnotationBounds=function(e,t,i){for(var n=t,o=("Ink"===e.shapeAnnotationType&&(n={left:t.x,top:t.y,height:t.height,width:t.width}),parseInt(n.left,10)),r=parseInt(n.top,10),a=parseInt(n.top+n.height,10),s=parseInt(n.left+n.width,10),l=0;l<i.length;l++)if(e.annotName===i[parseInt(l.toString(),10)].annotName)this.checkOverlappedCollections(i[parseInt(l.toString(),10)],this.overlappedAnnotations);else{var A=1;"textMarkup"===i[parseInt(l.toString(),10)].shapeAnnotationType&&(A=i[parseInt(l.toString(),10)].bounds.length);for(var d=0;d<A;d++){var p=void 0,h=i[parseInt(l.toString(),10)].bounds;"Ink"===i[parseInt(l.toString(),10)].shapeAnnotationType&&(h={left:h.x,top:h.y,height:h.height,width:h.width}),(p="textMarkup"!==i[parseInt(l.toString(),10)].shapeAnnotationType&&1===A?h:this.orderTextMarkupBounds(h[parseInt(d.toString(),10)]))&&(h=!1,h=(h=(h=(h=o<=parseInt(p.left,10)&&s>=parseInt(p.left,10)||o<=parseInt(p.left+p.width,10)&&s>=parseInt(p.left+p.width,10)?!0:h)&&(r<=parseInt(p.top,10)&&a>=parseInt(p.top,10)||r<=parseInt(p.top+p.height,10)&&a>=parseInt(p.top+p.height,10)))||((h=(h=parseInt(p.left,10)<=o&&parseInt(p.left+p.width,10)>=o||s>=parseInt(p.left,10)&&s<=parseInt(p.left+p.width,10)?!0:h)&&(parseInt(p.top,10)<=r&&parseInt(p.top+p.height,10)>=r||a>=parseInt(p.top,10)&&a<=parseInt(p.top+p.height,10)))||(h=o<=parseInt(p.left,10)&&s>=parseInt(p.left,10)||o<=parseInt(p.left+p.width,10)&&s>=parseInt(p.left+p.width,10)?!0:h)&&(parseInt(p.top,10)<=r&&parseInt(p.top+p.height,10)>=r||a>=parseInt(p.top,10)&&a<=parseInt(p.top+p.height,10))))||(h=parseInt(p.left,10)<=o&&parseInt(p.left+p.width,10)>=o||s>=parseInt(p.left,10)&&s<=parseInt(p.left+p.width,10)?!0:h)&&(r<=parseInt(p.top,10)&&a>=parseInt(p.top,10)||r<=parseInt(p.top+p.height,10)&&a>=parseInt(p.top+p.height,10)))&&this.checkOverlappedCollections(i[parseInt(l.toString(),10)],this.overlappedAnnotations)}}},o.prototype.findAnnotationMode=function(e,t,i){t=this.pdfViewer.viewerBase.importedAnnotation[parseInt(t.toString(),10)];if(t){var n=void 0;if("shape"===i?n=t.shapeAnnotation:"shape_measure"===i?n=t.measureShapeAnnotation:"freeText"===i?n=t.freeTextAnnotation:"stamp"===i?n=t.stampAnnotations:"sticky"===i?n=t.stickyNotesAnnotation:"textMarkup"===i&&(n=t.textMarkupAnnotation),n)for(var o=0;o<n.length;o++)if(n[parseInt(o.toString(),10)].AnnotName===e.AnnotName)return"Imported Annotation"}return"Existing Annotation"},o.prototype.checkOverlappedCollections=function(e,t){if(0<t.length){for(var i=!1,n=0;n<t.length;n++)if(e.annotName===t[parseInt(n.toString(),10)].annotName&&e.bounds===t[parseInt(n.toString(),10)].bounds){i=!0;break}i||t.push(e)}else t.push(e)},o.prototype.orderTextMarkupBounds=function(e){return e.Left||e.Width?{left:e.Left,top:e.Top,height:e.Height,width:e.Width}:{left:e.left,top:e.top,height:e.height,width:e.width}},o.prototype.updateModifiedDate=function(e){if(e.modifiedDate&&(e.modifiedDate=this.setAnnotationModifiedDate(e.modifiedDate)),e.comments&&0<e.comments.length)for(var t=0;t<e.comments.length;t++)e.comments[parseInt(t.toString(),10)].modifiedDate&&(e.comments[parseInt(t.toString(),10)].modifiedDate=this.setAnnotationModifiedDate(e.comments[parseInt(t.toString(),10)].modifiedDate),e.comments[parseInt(t.toString(),10)].review)&&e.comments[parseInt(t.toString(),10)].review.modifiedDate&&(e.comments[parseInt(t.toString(),10)].review.modifiedDate=this.setAnnotationModifiedDate(e.comments[parseInt(t.toString(),10)].review.modifiedDate));e.review&&e.review.modifiedDate&&(e.review.modifiedDate=this.setAnnotationModifiedDate(e.review.modifiedDate))},o.prototype.setAnnotationModifiedDate=function(e){var t,i;return""!==e&&(t=parseInt(e.split(" ")[1].split(":")[0],10),t=3===e.split(" ").length?t+":"+e.split(" ")[1].split(":")[1]+":"+e.split(" ")[1].split(":")[2]+" "+e.split(" ")[2]:12<=t?12===t?t+":"+e.split(" ")[1].split(":")[1]+":"+e.split(" ")[1].split(":")[2]+" PM":t-12+":"+e.split(" ")[1].split(":")[1]+":"+e.split(" ")[1].split(":")[2]+" PM":t+":"+e.split(" ")[1].split(":")[1]+":"+e.split(" ")[1].split(":")[2]+" AM",i=e.split(" ")[0],e=1<e.split(",").length?i+" "+t:i+", "+t,/\u0041\u004D|\u0050\u004D/i.test(e))?new Date(e).toISOString():e},o.prototype.clear=function(){this.shapeAnnotationModule&&(this.shapeAnnotationModule.shapeCount=0),this.measureAnnotationModule&&(this.measureAnnotationModule.measureShapeCount=0),this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.clear(),this.stickyNotesAnnotationModule&&this.stickyNotesAnnotationModule.clear(),this.pdfViewer.refresh(),this.undoCommentsElement=[],this.redoCommentsElement=[],this.overlappedAnnotations=[],this.previousIndex=null,this.pdfViewer.annotation&&this.pdfViewer.annotation.stampAnnotationModule&&(this.pdfViewer.annotation.stampAnnotationModule.stampPageNumber=[]),this.pdfViewer.annotation&&this.pdfViewer.annotation.freeTextAnnotationModule&&(this.pdfViewer.annotation.freeTextAnnotationModule.freeTextPageNumbers=[],this.freeTextAnnotationModule.previousText="Type Here"),this.pdfViewer.annotation&&this.pdfViewer.annotation.inkAnnotationModule&&(this.pdfViewer.annotation.inkAnnotationModule.inkAnnotationindex=[]),F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_shape"),F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_shape_measure"),F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_stamp"),F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_sticky")},o.prototype.retrieveAnnotationCollection=function(){return this.pdfViewer.annotationCollection},o.prototype.checkAllowedInteractions=function(e,t){var i=this.updateAnnotationAllowedInteractions(t);if(i&&0<i.length)for(var n=0;n<i.length;n++)if("Select"===e){if("Move"===i[parseInt(n.toString(),10)]||"Resize"===i[parseInt(n.toString(),10)]||"Delete"===i[parseInt(n.toString(),10)]||"PropertyChange"===i[parseInt(n.toString(),10)]||"Select"===i[parseInt(n.toString(),10)])return!0}else if(i[parseInt(n.toString(),10)]===e)return!0;return!1},o.prototype.checkContextMenuDeleteItem=function(e){var t=this.findCurrentAnnotation();t&&t.annotationSettings&&(!t.annotationSettings.isLock||this.checkAllowedInteractions("Delete",t)?e.enableItems([this.pdfViewer.localeObj.getConstant("Delete Context")],!0):e.enableItems([this.pdfViewer.localeObj.getConstant("Delete Context")],!1))},o.prototype.isEnableDelete=function(){var e=this.findCurrentAnnotation();return!(!e||!e.annotationSettings||e.annotationSettings.isLock&&!this.checkAllowedInteractions("Delete",e))},o.prototype.findCurrentAnnotation=function(){return this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.currentTextMarkupAnnotation?this.textMarkupAnnotationModule.currentTextMarkupAnnotation:this.pdfViewer.selectedItems.annotations&&this.pdfViewer.selectedItems.annotations[0]?this.pdfViewer.selectedItems.annotations[0]:null},o.prototype.updateAnnotationAllowedInteractions=function(e){var t=["None"];return e&&("FreeText"===e.shapeAnnotationType&&this.pdfViewer.freeTextSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.freeTextSettings.allowedInteractions,e.allowedInteractions):"Ink"===e.shapeAnnotationType&&this.pdfViewer.inkAnnotationSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.inkAnnotationSettings.allowedInteractions,e.allowedInteractions):"StickyNotes"===e.shapeAnnotationType&&this.pdfViewer.stickyNotesSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.stickyNotesSettings.allowedInteractions,e.allowedInteractions):"Stamp"===e.shapeAnnotationType&&this.pdfViewer.stampSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.stampSettings.allowedInteractions,e.allowedInteractions):"Image"===e.shapeAnnotationType&&this.pdfViewer.customStampSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.customStampSettings.allowedInteractions,e.allowedInteractions):"textMarkup"===e.shapeAnnotationType?"Highlight"===e.textMarkupAnnotationType&&this.pdfViewer.highlightSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.highlightSettings.allowedInteractions,e.allowedInteractions):"Underline"===e.textMarkupAnnotationType&&this.pdfViewer.underlineSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.underlineSettings.allowedInteractions,e.allowedInteractions):"Strikethrough"===e.textMarkupAnnotationType&&this.pdfViewer.strikethroughSettings.allowedInteractions&&(t=this.checkAllowedInteractionSettings(this.pdfViewer.strikethroughSettings.allowedInteractions,e.allowedInteractions)):""!==e.measureType?"Distance"===e.measureType&&this.pdfViewer.distanceSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.distanceSettings.allowedInteractions,e.allowedInteractions):"Perimeter"===e.measureType&&this.pdfViewer.perimeterSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.perimeterSettings.allowedInteractions,e.allowedInteractions):"Radius"===e.measureType&&this.pdfViewer.radiusSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.radiusSettings.allowedInteractions,e.allowedInteractions):"Area"===e.measureType&&this.pdfViewer.areaSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.areaSettings.allowedInteractions,e.allowedInteractions):"Volume"===e.measureType&&this.pdfViewer.volumeSettings.allowedInteractions&&(t=this.checkAllowedInteractionSettings(this.pdfViewer.volumeSettings.allowedInteractions,e.allowedInteractions)):"Line"===e.shapeAnnotationType&&this.pdfViewer.lineSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.lineSettings.allowedInteractions,e.allowedInteractions):"Arrow"!==e.shapeAnnotationType&&"LineWidthArrowHead"!==e.shapeAnnotationType||!this.pdfViewer.arrowSettings.allowedInteractions?"Circle"!==e.shapeAnnotationType&&"Ellipse"!==e.shapeAnnotationType&&"Oval"!==e.shapeAnnotationType||!this.pdfViewer.circleSettings.allowedInteractions?"Rectangle"!==e.shapeAnnotationType&&"Square"!==e.shapeAnnotationType||!this.pdfViewer.rectangleSettings.allowedInteractions?"Polygon"===e.shapeAnnotationType&&this.pdfViewer.polygonSettings.allowedInteractions&&(t=this.checkAllowedInteractionSettings(this.pdfViewer.polygonSettings.allowedInteractions,e.allowedInteractions)):t=this.checkAllowedInteractionSettings(this.pdfViewer.rectangleSettings.allowedInteractions,e.allowedInteractions):t=this.checkAllowedInteractionSettings(this.pdfViewer.circleSettings.allowedInteractions,e.allowedInteractions):t=this.checkAllowedInteractionSettings(this.pdfViewer.arrowSettings.allowedInteractions,e.allowedInteractions)),t},o.prototype.checkIsLockSettings=function(e){var t=!1;return e&&("FreeText"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.freeTextSettings.isLock):"Ink"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.inkAnnotationSettings.isLock):"StickyNotes"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.stickyNotesSettings.isLock):"Stamp"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.stampSettings.isLock):"Image"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.customStampSettings.isLock):"textMarkup"===e.shapeAnnotationType?"Highlight"===e.textMarkupAnnotationType?t=this.checkLockSettings(this.pdfViewer.highlightSettings.isLock):"Underline"===e.textMarkupAnnotationType?t=this.checkLockSettings(this.pdfViewer.underlineSettings.isLock):"Strikethrough"===e.textMarkupAnnotationType&&(t=this.checkLockSettings(this.pdfViewer.strikethroughSettings.isLock)):""!==e.measureType?"Distance"===e.measureType?t=this.checkLockSettings(this.pdfViewer.distanceSettings.isLock):"Perimeter"===e.measureType?t=this.checkLockSettings(this.pdfViewer.perimeterSettings.isLock):"Radius"===e.measureType?t=this.checkLockSettings(this.pdfViewer.radiusSettings.isLock):"Area"===e.measureType?t=this.checkLockSettings(this.pdfViewer.areaSettings.isLock):"Volume"===e.measureType&&(t=this.checkLockSettings(this.pdfViewer.volumeSettings.isLock)):"Line"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.lineSettings.isLock):"Arrow"===e.shapeAnnotationType||"LineWidthArrowHead"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.arrowSettings.isLock):"Circle"===e.shapeAnnotationType||"Ellipse"===e.shapeAnnotationType||"Oval"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.circleSettings.isLock):"Rectangle"===e.shapeAnnotationType||"Square"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.rectangleSettings.isLock):"Polygon"===e.shapeAnnotationType&&(t=this.checkLockSettings(this.pdfViewer.polygonSettings.isLock))),t},o.prototype.checkLockSettings=function(e){var t=!1;return t=e||this.pdfViewer.annotationSettings.isLock?!0:t},o.prototype.restrictContextMenu=function(){var e=!1,t=this.findCurrentAnnotation();return e=t&&this.checkIsLockSettings(t)&&this.checkAllowedInteractions("Select",t)?!0:e},o.prototype.checkAllowedInteractionSettings=function(e,t){if(t){if(1!==t.length)return t;if("None"!==t[0])return t}if(e){if(1!==e.length)return e;if("None"!==e[0])return e}return this.pdfViewer.annotationSettings.allowedInteractions||["None"]},o.prototype.getValue=function(e,t){var i,n;return t=t?t.toLowerCase():"hex","r"===e[0]?(i=this.convertRgbToNumberArray(e),"hex"===t||"hexa"===t?(n=this.rgbToHex(i),"hex"===t?n.slice(0,7):n):"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i.slice(0,3))):"hsva"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i)):"null"):"h"===e[0]?(i=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e)),"rgba"===t?this.convertToRgbString(i):"hex"===t||"hexa"===t?(n=this.rgbToHex(i),"hex"===t?n.slice(0,7):n):"rgb"===t?this.convertToRgbString(i.slice(0,3)):"null"):(e=this.roundValue(e),n=this.hexToRgb(e),"rgb"!==t&&"hsv"!==t||(n=n.slice(0,3)),"rgba"===t||"rgb"===t?this.convertToRgbString(n):"hsva"===t||"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,n)):"hex"===t?e.slice(0,7):"a"===t?n[3].toString():"null")},o.prototype.convertRgbToNumberArray=function(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map(function(e,t){return 3!==t?parseInt(e,10):parseFloat(e)})},o.prototype.convertToRgbString=function(e){return e.length?4===e.length?"rgba("+e.join()+")":"rgb("+e.join()+")":""},o.prototype.convertToHsvString=function(e){return 4===e.length?"hsva("+e.join()+")":"hsv("+e.join()+")"},o.prototype.roundValue=function(e){if(!e)return"";var t=(e="#"!==e[0]?"#"+e:e).length;if(4===t&&(e+="f",t=5),5===t){for(var i="",n=1,o=e.length;n<o;n++)i+=e.charAt(n)+e.charAt(n);e="#"+i,t=9}return 7===t&&(e+="ff"),e},o.prototype.hexToRgb=function(e){if(!e)return[];9!==(e=e.trim()).length&&(e=this.roundValue(e));var t=Number((parseInt(e.slice(-2),16)/255).toFixed(2)),e=(e=e.slice(1,7),parseInt(e,16)),i=[];return i.push(e>>16&255),i.push(e>>8&255),i.push(255&e),i.push(t),i},o.prototype.rgbToHsv=function(e,t,i,n){e/=255,t/=255,i/=255;var o,r=Math.max(e,t,i),a=Math.min(e,t,i),s=r,l=r-a,A=0===r?0:l/r;if(r===a)o=0;else{switch(r){case e:o=(t-i)/l+(t<i?6:0);break;case t:o=(i-e)/l+2;break;case i:o=(e-t)/l+4}o/=6}a=[Math.round(360*o),Math.round(1e3*A)/10,Math.round(1e3*s)/10];return G.isNullOrUndefined(n)||a.push(n),a},o.prototype.hsvToRgb=function(e,t,i,n){var o,r,a;if(i/=100,0===(t/=100))return o=r=a=i,[Math.round(255*o),Math.round(255*r),Math.round(255*a),n];e/=60;var s=Math.floor(e),e=e-s,l=i*(1-t),A=i*(1-t*e),d=i*(1-t*(1-e));switch(s){case 0:o=i,r=d,a=l;break;case 1:o=A,r=i,a=l;break;case 2:o=l,r=i,a=d;break;case 3:o=l,r=A,a=i;break;case 4:o=d,r=l,a=i;break;default:o=i,r=l,a=A}t=[Math.round(255*o),Math.round(255*r),Math.round(255*a)];return G.isNullOrUndefined(n)||t.push(n),t},o.prototype.rgbToHex=function(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+(G.isNullOrUndefined(e[3])?"":0!==e[3]?(Math.round(255*e[3])+65536).toString(16).substr(-2):"00"):""},o.prototype.exportAnnotationsAsStream=function(i){var n=this;if(this.pdfViewer.annotationModule&&this.pdfViewer.viewerBase.updateExportItem())return new Promise(function(t,e){n.pdfViewer.viewerBase.createRequestForExportAnnotations(!0,i,!0).then(function(e){t(e)})});return null},o.prototype.hex=function(e){return G.isNullOrUndefined(e)?"0":("0"+e.toString(16)).slice(-2)},o.prototype.cloneObject=function(e){return JSON.parse(JSON.stringify(e))},o.prototype.destroy=function(){this.destroyPropertiesWindow(),this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.clear()},o.prototype.getModuleName=function(){return"Annotation"},o.prototype.getVertexPointsXY=function(e){for(var t=[],i=0;i<e.length;i++)t[parseInt(i.toString(),10)]={X:e[parseInt(i.toString(),10)].x,Y:e[parseInt(i.toString(),10)].y};return t},o.prototype.addAnnotation=function(e,t,i,n,o){var r={x:1,y:1},a=0,s=(t&&t.pageNumber&&0<t.pageNumber&&(a=t.pageNumber?t.pageNumber-1:0),null),l=[],s=(this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),"FreeText"===e?(l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.freeTextAnnotationModule.updateAddAnnotationDetails(t,r),this.pdfViewer.annotation.freeTextAnnotationModule.isAddAnnotationProgramatically=!0):"StickyNotes"===e?(l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.stickyNotesAnnotationModule.updateAddAnnotationDetails(t,r),this.pdfViewer.annotation.stickyNotesAnnotationModule.isAddAnnotationProgramatically=!0):"Highlight"===e||"Underline"===e||"Strikethrough"===e?("Highlight"!==e&&"Underline"!==e&&"Strikethrough"!==e||(s=t),l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.textMarkupAnnotationModule.updateAddAnnotationDetails(e,s),this.pdfViewer.annotation.textMarkupAnnotationModule.isAddAnnotationProgramatically=!0):"Line"===e||"Arrow"===e||"Rectangle"===e||"Circle"===e||"Polygon"===e?("Line"!==e&&"Arrow"!==e&&"Rectangle"!==e&&"Circle"!==e&&"Polygon"!==e||(s=t),l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.shapeAnnotationModule.updateAddAnnotationDetails(e,s,r),this.pdfViewer.annotation.shapeAnnotationModule.isAddAnnotationProgramatically=!0):"Distance"===e||"Perimeter"===e||"Area"===e||"Radius"===e||"Volume"===e?("Distance"!==e&&"Perimeter"!==e&&"Area"!==e&&"Radius"!==e&&"Volume"!==e||(s=t),l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.measureAnnotationModule.updateAddAnnotationDetails(e,s,r),this.pdfViewer.annotation.measureAnnotationModule.isAddAnnotationProgramatically=!0):"Stamp"===e?(t&&t.customStamps,l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.stampAnnotationModule.updateAddAnnotationDetails(t,r,a,i,n,o),this.pdfViewer.annotation.stampAnnotationModule.isAddAnnotationProgramatically=!0):"Ink"===e?(l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.inkAnnotationModule.updateAddAnnotationDetails(t,r,a),this.pdfViewer.annotation.inkAnnotationModule.isAddAnnotationProgramatically=!0):"HandWrittenSignature"!==e&&"Initial"!==e||(l[parseInt(a.toString(),10)]=this.pdfViewerBase.signatureModule.updateSignatureDetails(t,r,a),this.pdfViewerBase.signatureModule.isAddAnnotationProgramatically=!0),{pdfAnnotation:l});this.pdfViewerBase.isAddAnnotation=!0,this.pdfViewerBase.importAnnotations(s),this.pdfViewerBase.isAddAnnotation=!1},o.prototype.triggerAnnotationAddEvent=function(e){var t,i,n,o=e.shapeAnnotationType;"Stamp"===o||"Image"===o||"Path"===o||"FreeText"===o||"StickyNotes"===o||"Ink"===o?(t=void 0,t="FreeText"===o?{opacity:e.opacity,borderColor:e.strokeColor,borderWidth:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate,fillColor:e.fillColor,fontSize:e.fontSize,width:e.bounds.width,height:e.bounds.height,fontColor:e.fontColor,fontFamily:e.fontFamily,defaultText:e.dynamicText,fontStyle:e.font,textAlignment:e.textAlign}:{opacity:e.opacity,fillColor:e.fillColor,strokeColor:e.strokeColor,thickness:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate,data:e.data},i={left:e.bounds.x,top:e.bounds.y,width:e.bounds.width,height:e.bounds.height},n=this.getAnnotationType(e.shapeAnnotationType,e.measureType),this.pdfViewer.fireAnnotationAdd(e.pageIndex,e.annotName,n,i,t)):"SignatureText"===o||"SignatureImage"===o||"HandWrittenSignature"===o?(i={left:e.bounds.x,top:e.bounds.y,width:e.bounds.width,height:e.bounds.height},this.pdfViewer.fireSignatureAdd(e.pageIndex,e.signatureName,e.shapeAnnotationType,i,e.opacity,e.strokeColor,e.thickness,e.data)):(t={opacity:e.opacity,fillColor:e.fillColor,strokeColor:e.strokeColor,thickness:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate},i={left:e.bounds.x,top:e.bounds.y,width:e.bounds.width,height:e.bounds.height},o=void("Line"!==(n=this.getAnnotationType(e.shapeAnnotationType,e.measureType))&&"Arrow"!==n&&"Distance"!==n&&"Perimeter"!==n||(t.lineHeadStartStyle=this.getArrowString(e.sourceDecoraterShapes),t.lineHeadEndStyle=this.getArrowString(e.taregetDecoraterShapes),t.borderDashArray=e.borderDashArray)),this.pdfViewer.enableShapeLabel?(o={fontColor:e.fontColor,fontSize:e.fontSize,fontFamily:e.fontFamily,opacity:e.labelOpacity,labelContent:e.labelContent,fillColor:e.labelFillColor},this.pdfViewer.fireAnnotationAdd(e.pageIndex,e.annotName,n,i,t,null,null,null,o)):this.pdfViewer.fireAnnotationAdd(e.pageIndex,e.annotName,n,i,t))},o.prototype.triggerAnnotationUnselectEvent=function(){var e;this.pdfViewer.selectedItems.annotations&&this.pdfViewer.selectedItems.annotations[0]&&"HandWrittenSignature"!==(e=this.pdfViewer.selectedItems.annotations[0]).shapeAnnotationType&&"SignatureText"!==e.shapeAnnotationType&&"SignatureImage"!==e.shapeAnnotationType&&"Path"!==e.shapeAnnotationType&&(this.pdfViewer.fireAnnotationUnSelect(e.annotName,e.pageIndex,e),this.pdfViewer.clearSelection(e.pageIndex))},o.prototype.triggerSignatureUnselectEvent=function(){if(this.pdfViewer.selectedItems.annotations&&this.pdfViewer.selectedItems.annotations[0]){var e=this.pdfViewer.selectedItems;if(e.annotations.length)for(var t=0;t<e.annotations.length;t++){var i=e.annotations[parseInt(t.toString(),10)];this.pdfViewer.annotationModule.unselectSignature(i.signatureName,i.pageIndex,i),this.pdfViewer.clearSelection(i.pageIndex)}}},o.prototype.updateFontFamilyRenderSize=function(e,t){var i=this.freeTextAnnotationModule,n=(i.inputBoxElement.style.fontFamily=t,i.autoFitFreeText(),this.pdfViewerBase.getZoomFactor()),o=(parseFloat(i.inputBoxElement.style.paddingLeft),e.bounds.height*n),i=parseFloat(i.inputBoxElement.style.width)-8,n=(i/=n,(o/=n)-e.bounds.height),r=void 0,r=0<n?0<(r=e.wrapper.offsetY+n/2)?r:void 0:(n=Math.abs(n),0<(r=e.wrapper.offsetY-n/2)?r:void 0),n=i-e.bounds.width,a=void 0,a=0<n?0<(a=e.wrapper.offsetX+n/2)?a:void 0:(n=Math.abs(n),e.wrapper.offsetX-n/2);e.bounds.width=i,e.bounds.height=o,this.pdfViewer.nodePropertyChange(e,{fontFamily:t,bounds:{width:e.bounds.width,height:e.bounds.height,y:r,x:a}}),this.pdfViewer.renderSelector(e.pageIndex,this.pdfViewer.annotationSelectorSettings),this.modifyInCollections(e,"bounds")},o.prototype.calculateFontSize=function(e,t){for(var i=document.createElement("canvas").getContext("2d"),n=10,o=0;t.width>o;)i.font=n+"px Helvetica",o=i.measureText(e).width,n++;return n};e=o;function o(e,t){this.isUndoRedoAction=!1,this.isFreeTextFontsizeChanged=!1,this.isUndoAction=!1,this.annotationSelected=!0,this.isAnnotDeletionApiCall=!1,this.removedDocumentAnnotationCollection=[],this.nonRenderSelectedAnnotation=null,this.isShapeCopied=!1,this.actionCollection=[],this.redoCollection=[],this.isPopupNoteVisible=!1,this.undoCommentsElement=[],this.redoCommentsElement=[],this.selectAnnotationId=null,this.isAnnotationSelected=!1,this.annotationPageIndex=null,this.previousIndex=null,this.annotationType=null,this.overlappedAnnotations=[],this.overlappedCollections=[],this.isFormFieldShape=!1,this.removedAnnotationCollection=[],this.pdfViewer=e,this.pdfViewerBase=t,this.pdfViewer.enableTextMarkupAnnotation&&(this.textMarkupAnnotationModule=new _t(this.pdfViewer,this.pdfViewerBase)),this.pdfViewer.enableShapeAnnotation&&(this.shapeAnnotationModule=new qt(this.pdfViewer,this.pdfViewerBase)),this.pdfViewer.enableMeasureAnnotation&&(this.measureAnnotationModule=new Xt(this.pdfViewer,this.pdfViewerBase)),this.stampAnnotationModule=new ei(this.pdfViewer,this.pdfViewerBase),this.stickyNotesAnnotationModule=new ii(this.pdfViewer,this.pdfViewerBase),this.freeTextAnnotationModule=new kt(this.pdfViewer,this.pdfViewerBase),this.inputElementModule=new Nt(this.pdfViewer,this.pdfViewerBase),this.inkAnnotationModule=new ni(this.pdfViewer,this.pdfViewerBase)}function Lt(){}function Ut(){}function Ot(){}function zt(){}function Ht(){}function Yt(){}function Gt(){}function Jt(){}var jt=function(r,a,s,l){return new(s=s||Promise)(function(e,t){function i(e){try{o(l.next(e))}catch(e){t(e)}}function n(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,n)}o((l=l.apply(r,a||[])).next())})},Kt=function(n,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(i){return function(e){var t=[i,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(n,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Wt=(Zt.prototype.renderHyperlinkContent=function(e,t){var i,n;this.pdfViewer.enableHyperlink&&(i=e.hyperlinks,n=e.hyperlinkBounds,this.linkAnnotation=e.linkAnnotation,this.linkPage=e.linkPage,this.annotationY=e.annotationLocation,i&&0<i.length&&0<n.length&&this.renderWebLink(i,n,t),this.linkAnnotation)&&0<this.linkAnnotation.length&&0<this.linkPage.length&&this.renderDocumentLink(this.linkAnnotation,this.linkPage,this.annotationY,t)},Zt.prototype.disableHyperlinkNavigationUnderObjects=function(e,t,i){if(0<It(i,i.pdfViewer,t).length)t.target.classList.contains("e-pv-hyperlink")&&(e.style.cursor="move",e.style.pointerEvents="none",e.title="");else{var n=document.getElementsByClassName("e-pv-hyperlink");if(n&&0<n.length)for(var o=0;o<n.length;o++)"none"===n[parseInt(o.toString(),10)].style.pointerEvents&&(n[parseInt(o.toString(),10)].style.pointerEvents="all"),n[parseInt(o.toString(),10)].title||(n[parseInt(o.toString(),10)].title=n[parseInt(o.toString(),10)].href)}},Zt.prototype.renderWebLink=function(r,t,i){for(var a=this,s=this,l=!1,A=this,e=0;e<r.length;e++)!function(n){var o=G.createElement("a",{id:"weblinkdiv_"+n+"_"+i}),e=t[parseInt(n.toString(),10)],e=((o=A.setHyperlinkProperties(o,e,i)).title=r[parseInt(n.toString(),10)],r[parseInt(n.toString(),10)]&&1===r[parseInt(n.toString(),10)].split("http").length?(e="http://"+r[parseInt(n.toString(),10)],o.setAttribute("href",e)):o.setAttribute("href",r[parseInt(n.toString(),10)]),"CurrentTab"===A.pdfViewer.hyperlinkOpenState?(o.target="_self",o.onclick=function(i){return jt(a,void 0,void 0,function(){var t;return Kt(this,function(e){switch(e.label){case 0:return l?[3,4]:(i.preventDefault(),s.pdfViewerBase.tool instanceof mt||s.pdfViewerBase.tool instanceof gt?[2,!1]:[3,1]);case 1:return[4,s.pdfViewer.fireHyperlinkClick(r[parseInt(n.toString(),10)],o)];case 2:return(t=e.sent())&&0===this.pdfViewer.selectedItems.annotations.length&&0===this.pdfViewer.selectedItems.formFields.length&&(l=!0,o.click()),[2,t];case 3:return[3,5];case 4:return[2,!(l=!1)];case 5:return[2]}})})},o.onmouseover=function(){s.triggerHyperlinkEvent(o)}):"NewTab"===A.pdfViewer.hyperlinkOpenState?(o.target="_blank",o.onclick=function(i){return jt(a,void 0,void 0,function(){var t;return Kt(this,function(e){switch(e.label){case 0:return l?[3,4]:(i.preventDefault(),s.pdfViewerBase.tool instanceof mt||s.pdfViewerBase.tool instanceof gt?[2,!1]:[3,1]);case 1:return[4,s.pdfViewer.fireHyperlinkClick(r[parseInt(n.toString(),10)],o)];case 2:return(t=e.sent())&&0===this.pdfViewer.selectedItems.annotations.length&&0===this.pdfViewer.selectedItems.formFields.length&&(l=!0,o.click()),[2,t];case 3:return[3,5];case 4:return[2,!(l=!1)];case 5:return[2]}})})},o.onmouseover=function(){s.triggerHyperlinkEvent(o)}):"NewWindow"===A.pdfViewer.hyperlinkOpenState&&(o.onclick=function(t){return jt(a,void 0,void 0,function(){return Kt(this,function(e){switch(e.label){case 0:return(t.preventDefault(),s.pdfViewerBase.tool instanceof mt||s.pdfViewerBase.tool instanceof gt)?[2,!1]:[3,1];case 1:return[4,s.pdfViewer.fireHyperlinkClick(r[parseInt(n.toString(),10)],o)];case 2:return e.sent()&&0===this.pdfViewer.selectedItems.annotations.length&&0===this.pdfViewer.selectedItems.formFields.length&&window.open(o.href,"_blank","scrollbars=yes,resizable=yes"),[2,!1]}})})},o.onmouseover=function(){s.triggerHyperlinkEvent(o)}),document.getElementById(A.pdfViewer.element.id+"_pageDiv_"+i));G.isNullOrUndefined(e)||e.appendChild(o)}(e)},Zt.prototype.triggerHyperlinkEvent=function(e){return!(this.pdfViewerBase.tool instanceof mt||this.pdfViewerBase.tool instanceof gt||(this.pdfViewer.fireHyperlinkHover(e),0))},Zt.prototype.renderDocumentLink=function(n,l,A,d){for(var p=this,h=this,c=this,e=0;e<n.length;e++)!function(e){var o,r,a,t,s=G.createElement("a",{id:"linkdiv_"+e+"_"+d}),i=n[parseInt(e.toString(),10)],i=((s=c.setHyperlinkProperties(s,i,d)).setAttribute("href","javascript:void(0)"),l[parseInt(e.toString(),10)]);void 0!==i&&0<=i&&(o=c.pdfViewerBase.pageSize[parseInt(d.toString(),10)].height,t=c.pdfViewerBase.pageSize[parseInt(i.toString(),10)],void 0!==(a=t?0!==A.length?(r=A[parseInt(e.toString(),10)],t.top*c.pdfViewerBase.getZoomFactor()+(o-r)*c.pdfViewerBase.getZoomFactor()):t.top*c.pdfViewerBase.getZoomFactor():a)?(s.name=a.toString(),s.setAttribute("aria-label",a.toString())):G.isNullOrUndefined(t)&&i>c.pdfViewerBase.pageSize.length&&(s.dataset.annotationY=JSON.stringify(A),s.dataset.pageIndex=JSON.stringify(i),s.dataset.index=JSON.stringify(e)),s.onclick=function(){var e,t,i,n;return h.pdfViewerBase.tool instanceof mt||h.pdfViewerBase.tool instanceof gt||(s.name||(s.dataset.pageIndex&&(e=h.pdfViewerBase.pageSize[JSON.parse(s.dataset.pageIndex)],t=JSON.parse(s.dataset.annotationY),i=JSON.parse(s.dataset.index),n=p.pdfViewerBase.getZoomFactor(),a=t&&0<t.length?(r=A[parseInt(i.toString(),10)],e.top*n+(o-r)*n):e.top*n),s.name=a.toString(),s.setAttribute("aria-label",a.toString())),h.pdfViewerBase.viewerContainer.scrollTop=parseInt(s.name,10)),!1},t=document.getElementById(c.pdfViewer.element.id+"_pageDiv_"+d),G.isNullOrUndefined(t)||t.appendChild(s))}(e)},Zt.prototype.setHyperlinkProperties=function(e,t,i){return e.className="e-pv-hyperlink",e.style.background="transparent",e.style.position="absolute",e.style.left=t.Left*this.pdfViewerBase.getZoomFactor()+"px",e.style.top=t.Top*this.pdfViewerBase.getZoomFactor()+"px",e.style.width=t.Width*this.pdfViewerBase.getZoomFactor()+"px",t.Height<0?(e.style.height=-t.Height*this.pdfViewerBase.getZoomFactor()+"px",e.style.top=(t.Top+t.Height)*this.pdfViewerBase.getZoomFactor()+"px"):e.style.height=(t.Height<0?-t.Height:t.Height)*this.pdfViewerBase.getZoomFactor()+"px",e.style.color="transparent",this.pdfViewerBase.applyElementStyles(e,i),e},Zt.prototype.modifyZindexForTextSelection=function(e,t){if(0<this.pdfViewerBase.pageCount){e=this.pdfViewerBase.getElement("_pageDiv_"+e);if(e)for(var i=e.childNodes,n=0;n<i.length;n++){var o=i[parseInt(n.toString(),10)];"A"===o.tagName&&(t?o.classList.add("e-pv-onselection"):o.classList.remove("e-pv-onselection"))}}},Zt.prototype.modifyZindexForHyperlink=function(e,t){t?e.classList.add("e-pv-onselection"):e.classList.remove("e-pv-onselection")},Zt.prototype.destroy=function(){for(var e=0;e<this.pdfViewerBase.pageCount-1;e++){var t=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+e);if(t){var i=t.getElementsByTagName("a");if(0!==i.length)for(var n=i.length-1;0<=n;n--)i[parseInt(n.toString(),10)].parentNode.removeChild(i[parseInt(n.toString(),10)])}}},Zt.prototype.getModuleName=function(){return"LinkAnnotation"},Zt);function Zt(e,t){this.pdfViewer=e,this.pdfViewerBase=t}r.prototype.createAnnotationSelectElement=function(){this.dropDivAnnotationLeft=G.createElement("div",{id:this.pdfViewer.element.id+"_droplet_left",className:"e-pv-drop"}),this.dropDivAnnotationLeft.style.borderRight="2px solid",this.dropDivAnnotationRight=G.createElement("div",{id:this.pdfViewer.element.id+"_droplet_right",className:"e-pv-drop"}),this.dropDivAnnotationRight.style.borderLeft="2px solid",this.dropElementLeft=G.createElement("div",{className:"e-pv-droplet",id:this.pdfViewer.element.id+"_dropletspan_left"}),this.dropElementLeft.style.transform="rotate(0deg)",this.dropDivAnnotationLeft.appendChild(this.dropElementLeft),this.dropElementRight=G.createElement("div",{className:"e-pv-droplet",id:this.pdfViewer.element.id+"_dropletspan_right"}),this.dropElementRight.style.transform="rotate(-90deg)",this.dropDivAnnotationRight.appendChild(this.dropElementRight),this.pdfViewerBase.pageContainer.appendChild(this.dropDivAnnotationLeft),this.pdfViewerBase.pageContainer.appendChild(this.dropDivAnnotationRight),this.dropElementLeft.style.top="20px",this.dropElementRight.style.top="20px",this.dropElementRight.style.left="-8px",this.dropElementLeft.style.left="-8px",this.dropDivAnnotationLeft.style.display="none",this.dropDivAnnotationRight.style.display="none",this.dropDivAnnotationLeft.addEventListener("mousedown",this.maintainSelection),this.dropDivAnnotationLeft.addEventListener("mousemove",this.annotationLeftMove),this.dropDivAnnotationLeft.addEventListener("mouseup",this.selectionEnd),this.dropDivAnnotationRight.addEventListener("mousedown",this.maintainSelection),this.dropDivAnnotationRight.addEventListener("mousemove",this.annotationRightMove),this.dropDivAnnotationRight.addEventListener("mouseup",this.selectionEnd)},r.prototype.textSelect=function(e,t,i){var n,o,r,a;this.isLeftDropletClicked?(o=this.dropDivAnnotationRight.getBoundingClientRect(),n=this.dropDivAnnotationLeft.getBoundingClientRect(),r=t,a=i,e.classList.contains("e-pv-text")&&(n.top-25>o.top?this.pdfViewer.textSelectionModule.textSelectionOnDrag(e,r,a,!0):this.pdfViewer.textSelectionModule.textSelectionOnDrag(e,r,a,!1),this.updateLeftposition(r,a))):this.isRightDropletClicked&&(o=this.dropDivAnnotationLeft.getBoundingClientRect(),r=t,a=i,e.classList.contains("e-pv-text"))&&(a>=o.top?this.pdfViewer.textSelectionModule.textSelectionOnDrag(e,r,a,!0):this.pdfViewer.textSelectionModule.textSelectionOnDrag(e,r,a,!1),this.updatePosition(r,a))},r.prototype.showHideDropletDiv=function(e){var t=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode;this.isEnableTextMarkupResizer(t)&&this.dropDivAnnotationLeft&&this.dropDivAnnotationRight&&(e?(this.dropDivAnnotationLeft.style.display="none",this.dropDivAnnotationRight.style.display="none"):(this.dropDivAnnotationLeft.style.display="",this.dropDivAnnotationRight.style.display="",this.updateDropletStyles(t)))},r.prototype.isEnableTextMarkupResizer=function(e){var t=!1;return e?("Highlight"===e&&this.pdfViewer.highlightSettings.enableTextMarkupResizer||"Underline"===e&&this.pdfViewer.underlineSettings.enableTextMarkupResizer||"Strikethrough"===e&&this.pdfViewer.strikethroughSettings.enableTextMarkupResizer||this.pdfViewer.enableTextMarkupResizer)&&(t=!0):(this.pdfViewer.enableTextMarkupResizer||this.pdfViewer.highlightSettings.enableTextMarkupResizer||this.pdfViewer.underlineSettings.enableTextMarkupResizer||this.pdfViewer.strikethroughSettings.enableTextMarkupResizer)&&(t=!0),t},r.prototype.updateDropletStyles=function(e){this.isEnableTextMarkupResizer(e)&&this.dropDivAnnotationLeft&&0<this.dropDivAnnotationLeft.offsetWidth&&(this.dropDivAnnotationLeft.style.width=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropDivAnnotationRight.style.width=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropElementLeft.style.width=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropElementRight.style.width=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropDivAnnotationLeft.style.height=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropDivAnnotationRight.style.height=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropElementLeft.style.height=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropElementRight.style.height=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropElementLeft.style.top=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropElementRight.style.top=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px")},r.prototype.updateAnnotationBounds=function(){this.isSelectionMaintained=!1;var e=this.currentTextMarkupAnnotation;e&&e.isMultiSelect?(this.showHideDropletDiv(!0),this.updateMultiAnnotBounds(e)):e&&e.bounds&&(this.retreieveSelection(e,null),this.pdfViewer.textSelectionModule.maintainSelection(this.selectTextMarkupCurrentPage,!1),this.isSelectionMaintained=!0,window.getSelection().removeAllRanges())},r.prototype.updateMultiAnnotBounds=function(e){if(!e.annotpageNumbers&&(a=this.getAnnotations(e.pageNumber,null)))for(var t=0;t<a.length;t++)if(a[parseInt(t.toString(),10)].annotName===e.annotName){e=a[parseInt(t.toString(),10)];break}for(var i=e.annotpageNumbers[0],n=e.annotpageNumbers[0],o=0;o<e.annotpageNumbers.length;o++){var r=e.annotpageNumbers[parseInt(o.toString(),10)];n<=r&&(n=r),r<=i&&(i=r)}for(var a,s=i;s<=n;s++)if(a=this.getAnnotations(s,null))for(var l=0;l<e.annotNameCollection.length;l++)for(var A,d=e.annotNameCollection[parseInt(l.toString(),10)],t=0;t<a.length;t++)a[parseInt(t.toString(),10)].annotName===d&&(A=a[parseInt(t.toString(),10)],this.retreieveSelection(A,null),this.pdfViewer.textSelectionModule.maintainSelection(A.pageNumber,!1));this.isSelectionMaintained=!0,window.getSelection().removeAllRanges()},r.prototype.retreieveSelection=function(e,t){for(var i=0;i<e.bounds.length;i++){var n=e.bounds[parseInt(i.toString(),10)],o=(n.left||n.Left)*this.pdfViewerBase.getZoomFactor(),r=(n.top||n.Top)*this.pdfViewerBase.getZoomFactor(),n=(n.width||n.Width)*this.pdfViewerBase.getZoomFactor(),a=this.pdfViewerBase.getElement("_textLayer_"+e.pageNumber);if(a){for(var s=a.childNodes,l=0;l<s.length;l++)if(s[parseInt(l.toString(),10)]){var A=s[parseInt(l.toString(),10)].getBoundingClientRect(),d=this.getClientValueTop(A.top,e.pageNumber),p=A.left-this.pdfViewerBase.getElement("_pageDiv_"+e.pageNumber).getBoundingClientRect().left,A=p+A.width,h=parseInt(s[parseInt(l.toString(),10)].style.left,10),c=parseInt(s[parseInt(l.toString(),10)].style.top,10),p=this.pdfViewer.textSelectionModule.checkLeftBounds(p,h,A,o),h=this.pdfViewer.textSelectionModule.checkTopBounds(d,c,r);if(p&&h){t=s[parseInt(l.toString(),10)];break}}null!=t&&(a=this.pdfViewerBase.getElement("_textLayer_"+e.pageNumber).getBoundingClientRect(),this.pdfViewer.textSelectionModule.textSelectionOnMouseMove(t,o+a.left,r+a.top,!1),e.bounds.length-1===i)&&this.pdfViewer.textSelectionModule.textSelectionOnMouseMove(t,o+a.left+n,r+a.top,!1)}}},r.prototype.updatePosition=function(e,t,i){this.showHideDropletDiv(!1);var n=this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber-1].top,t=this.getClientValueTop(t,this.pdfViewerBase.currentPageNumber-1),o=document.getElementById(this.pdfViewer.element.id+"_droplet_right");o.style.top=i?t*this.pdfViewerBase.getZoomFactor()+n*this.pdfViewerBase.getZoomFactor()+"px":t+n*this.pdfViewerBase.getZoomFactor()+"px",o.style.left=e+this.pdfViewerBase.viewerContainer.scrollLeft-this.pdfViewerBase.viewerContainer.getBoundingClientRect().left+"px"},r.prototype.updateLeftposition=function(e,t,i){this.showHideDropletDiv(!1);var n=this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber-1].top,t=this.getClientValueTop(t,this.pdfViewerBase.currentPageNumber-1),o=document.getElementById(this.pdfViewer.element.id+"_droplet_left");o.style.display="",o.style.top=i?t*this.pdfViewerBase.getZoomFactor()+n*this.pdfViewerBase.getZoomFactor()+"px":t+n*this.pdfViewerBase.getZoomFactor()+"px",o.style.left=e+this.pdfViewerBase.viewerContainer.scrollLeft-this.pdfViewerBase.viewerContainer.getBoundingClientRect().left-this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px"},r.prototype.getClientValueTop=function(e,t){return this.pdfViewerBase.getElement("_pageDiv_"+t)?e-this.pdfViewerBase.getElement("_pageDiv_"+t).getBoundingClientRect().top:e},r.prototype.renderTextMarkupAnnotationsInPage=function(e,t,i,n){var o=e&&"Highlight"===e.textMarkupAnnotationType?"_blendAnnotationsIntoCanvas_":"_annotationCanvas_",o="_blendAnnotationsIntoCanvas_"==o?this.pdfViewerBase.getElement(o+t):this.pdfViewerBase.getAnnotationCanvas(o,t);i?(this.renderTextMarkupAnnotations(null,t,o,this.pdfViewerBase.getZoomFactor()),this.renderTextMarkupAnnotations(e,t,o,this.pdfViewerBase.getZoomFactor(),!0)):this.renderTextMarkupAnnotations(e,t,o,this.pdfViewerBase.getZoomFactor(),null,n)},r.prototype.renderTextMarkupAnnotations=function(e,t,i,n,o,r){var a=null;if(i){var s,l=i.getContext("2d");if(l.setTransform(1,0,0,1,0,0),l.setLineDash([]),s=o||r?e:this.getAnnotations(t,e),e&&e.forEach(function(t){s.some(function(e){return e.annotName===t.AnnotName})||s.push(t)}),s){for(var A=[],d=0;d<s.length;d++){for(var p=!1,h=0;h<A.length;h++)if(s[parseInt(d.toString(),10)].AnnotName===A[parseInt(h.toString(),10)].AnnotName&&s[parseInt(d.toString(),10)].annotName===A[parseInt(h.toString(),10)].annotName){p=!0;break}p||A.push(s[parseInt(d.toString(),10)])}s=A}if(s)for(d=0;d<s.length;d++){var c,g=s[parseInt(d.toString(),10)],u=null,f=void 0;if(g.TextMarkupAnnotationType){if(o&&this.pdfViewerBase.isJsonImported){for(var m=[],w=0;w<g.Bounds.length;w++)g.Bounds[parseInt(w.toString(),10)]=this.pdfViewerBase.importJsonForRotatedDocuments(g.Rotate,t,g.Bounds[parseInt(w.toString(),10)],g.AnnotationRotation),g.Bounds[parseInt(w.toString(),10)].left=g.Bounds[parseInt(w.toString(),10)].X,g.Bounds[parseInt(w.toString(),10)].top=g.Bounds[parseInt(w.toString(),10)].Y,m.push(g.Bounds[parseInt(w.toString(),10)]);g.Bounds=m,f=this.pdfViewerBase.isPageRotated}g.annotationAddMode=this.pdfViewer.annotationModule.findAnnotationMode(g,t,g.AnnotType),g.allowedInteractions=g.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(g),g.AnnotationSettings=g.AnnotationSettings||this.pdfViewer.annotationModule.updateAnnotationSettings(g),g.IsLocked&&(g.AnnotationSettings.isLock=g.IsLocked),u={textMarkupAnnotationType:g.TextMarkupAnnotationType,color:g.Color,allowedInteractions:g.allowedInteractions,opacity:g.Opacity,bounds:g.Bounds,author:g.Author,subject:g.Subject,modifiedDate:g.ModifiedDate,note:g.Note,rect:g.Rect,annotName:g.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(g.Comments,g,g.Author),review:{state:g.State,stateModel:g.StateModel,modifiedDate:g.ModifiedDate,author:g.Author},shapeAnnotationType:"textMarkup",pageNumber:t,textMarkupContent:g.TextMarkupContent,textMarkupStartIndex:0,textMarkupEndIndex:0,annotationSelectorSettings:this.getSettings(g),customData:this.pdfViewer.annotation.getCustomData(g),annotationAddMode:g.annotationAddMode,annotationSettings:g.AnnotationSettings,isLocked:g.IsLocked,isPrint:g.IsPrint,isCommentLock:g.IsCommentLock,isAnnotationRotated:f,annotationRotation:g.AnnotationRotation},g.IsMultiSelect&&(u.annotNameCollection=g.AnnotNameCollection,u.annotpageNumbers=g.AnnotpageNumbers,u.isMultiSelect=g.IsMultiSelect),g.textMarkupContent&&""!==g.textMarkupContent&&(u.textMarkupContent=g.textMarkupContent,u.textMarkupStartIndex=g.textMarkupStartIndex,u.textMarkupEndIndex=g.textMarkupEndIndex),G.isNullOrUndefined(g.TextMarkupContent)&&G.isNullOrUndefined(g.textMarkupContent)&&(f=g.Bounds,c=this.pdfViewerBase.getStoredData(t,!0),G.isNullOrUndefined(c)?this.pdfViewerBase.requestForTextExtraction(t,u):(c=c.pageText.split(""),B=this.pdfViewerBase.textLayer.characterBound[parseInt(t.toString(),10)],f=this.pdfViewerBase.textMarkUpContent(f,c,B),u.textMarkupContent=f)),this.pdfViewer.annotationModule.storeAnnotations(t,u,"_annotations_textMarkup"),this.isAddAnnotationProgramatically&&(c={opacity:u.opacity,author:g.author,subject:g.subject,modifiedDate:g.modifiedDate,width:u.bounds.width,height:u.bounds.height},this.pdfViewer.fireAnnotationAdd(u.pageNumber,u.annotName,g.TextMarkupAnnotationType,u.bounds,c))}var B=g.TextMarkupAnnotationType||g.textMarkupAnnotationType,C=g.Bounds||g.bounds,S=g.Opacity||g.opacity,y=g.Color||g.color,I=g.AnnotationRotation||g.annotationRotation,E=!0;switch(g.TextMarkupAnnotationType&&(E=g.IsPrint),g.textMarkupAnnotationType&&(E=g.isPrint),"Highlight"===B&&G.isNullOrUndefined(a)&&(a=this.getHighlightCanvasContext(this.isPrintCanvas(i),t)),B){case"Highlight":this.renderHighlightAnnotation(C,S,y,a.context,n,E,t);break;case"Strikethrough":this.renderStrikeoutAnnotation(C,S,y,l,n,t,E,I,g.textMarkupContent);break;case"Underline":this.renderUnderlineAnnotation(C,S,y,l,n,t,E,I)}}var Q=!1;if(this.currentTextMarkupAnnotation&&this.currentTextMarkupAnnotation.annotpageNumbers)for(var D=0;D<this.currentTextMarkupAnnotation.annotpageNumbers.length;D++)if(t===this.currentTextMarkupAnnotation.annotpageNumbers[parseInt(D.toString(),10)]){this.isAnnotationSelect=!(Q=!0);break}t!==this.selectTextMarkupCurrentPage&&!Q||(this.isAnnotationSelect?this.isAnnotationSelect=!1:this.maintainAnnotationSelection());r=void 0;return{annotImg:i.toDataURL(),highlightImg:r=a?a.canvas.toDataURL():r}}},r.prototype.getHighlightCanvasContext=function(e,t){e?(o=this.pdfViewerBase.getElement(this.pdfViewer.element.id+"_print_blendAnnotations_canvas_"+t),G.isNullOrUndefined(o)&&((o=G.createElement("canvas",{id:this.pdfViewer.element.id+"_print_blendAnnotations_canvas_"+t})).style.width="816px",o.style.height="1056px",i=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)].width,r=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)].height,n=void 0,n=e?1:this.pdfViewerBase.getZoomFactor(),e=this.pdfViewerBase.getZoomRatio(n),o.height=r*e,o.width=i*e)):(o=this.pdfViewerBase.getElement("_blendAnnotationsIntoCanvas_"+t),G.isNullOrUndefined(o)&&(n=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+t),o=this.pdfViewer.annotationModule.createBlendAnnotationsIntoCanvas(n,parseFloat(n.style.width),parseFloat(n.style.height),t)));var i,n,o,r=o.getContext("2d");return r.setTransform(1,0,0,1,0,0),r.setLineDash([]),{context:r,canvas:o}},r.prototype.isPrintCanvas=function(e){return!(!e||-1===e.id.indexOf("_print_annotation_layer_"))},r.prototype.getSettings=function(e){e=e.AnnotationSelectorSettings?"string"==typeof e.AnnotationSelectorSettings?JSON.parse(e.AnnotationSelectorSettings):e.AnnotationSelectorSettings:this.getSelector(e.TextMarkupAnnotationType);return e},r.prototype.drawTextMarkupAnnotations=function(e){var t,i=!1,n=(this.isTextMarkupAnnotationMode=!0,this.pdfViewer.annotationModule.isFormFieldShape=!1,this.currentTextMarkupAddMode=e,!0),o=(this.multiPageCollection=[],this.pdfViewer.textSelectionModule?this.pdfViewer.textSelectionModule.selectionRangeArray:[]),o=(0<o.length&&!this.isSelectionMaintained&&(i=!0,this.convertSelectionToTextMarkup(e,o,this.pdfViewerBase.getZoomFactor())),window.getSelection());if(o&&o.anchorNode&&(t=o.anchorNode.parentElement),this.isEnableTextMarkupResizer(e)&&this.isExtended&&window.getSelection().toString()){if((s=this.getDrawnBounds())[0]&&s[0].bounds)for(var r=this.currentTextMarkupAnnotation,a=0;a<s.length;a++)r&&r.pageNumber===s[parseInt(a.toString(),10)].pageIndex?(this.currentTextMarkupAnnotation=r,this.selectTextMarkupCurrentPage=s[parseInt(a.toString(),10)].pageIndex,this.updateTextMarkupAnnotationBounds(s,a)):(r&&""===e&&(e=r.textMarkupAnnotationType),r.isMultiSelect?r.isMultiSelect&&r.annotNameCollection&&this.modifyCurrentAnnotation(r,s,a):(l=!1,this.isMultiAnnotation(e)&&(this.multiPageCollection.push(r),l=!0),this.drawTextMarkups(e,s[parseInt(a.toString(),10)].bounds,s[parseInt(a.toString(),10)].pageIndex,s[parseInt(a.toString(),10)].rect,this.pdfViewerBase.getZoomFactor(),s[parseInt(a.toString(),10)].textContent,s[parseInt(a.toString(),10)].startIndex,s[parseInt(a.toString(),10)].endIndex,l,t)))}else if(window.getSelection().toString()&&!i){var s=this.getDrawnBounds(),l=this.isMultiPageAnnotations(s,e);if(0<s.length)for(var A=0;A<s.length;A++)""===e&&(n=!1),this.drawTextMarkups(e,s[parseInt(A.toString(),10)].bounds,s[parseInt(A.toString(),10)].pageIndex,s[parseInt(A.toString(),10)].rect,this.pdfViewerBase.getZoomFactor(),s[parseInt(A.toString(),10)].textContent,s[parseInt(A.toString(),10)].startIndex,s[parseInt(A.toString(),10)].endIndex,l,t)}if(this.multiPageCollection)for(var d=0;d<this.multiPageCollection.length;d++)this.updateAnnotationNames(this.multiPageCollection[parseInt(d.toString(),10)],this.multiPageCollection[parseInt(d.toString(),10)].pageNumber);this.isExtended=!1,this.isSelectionMaintained=!1,n&&this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.clearTextSelection(),this.isEnableTextMarkupResizer(e)&&this.updateAnnotationBounds()},r.prototype.isMultiPageAnnotations=function(e,t){for(var i=!1,n=0;n<e.length;n++)if(e[parseInt(n.toString(),10)].pageIndex!==e[0].pageIndex&&this.isMultiAnnotation(t)){i=!0;break}return i},r.prototype.isMultiAnnotation=function(e){var t=!1;return t="Highlight"===e&&this.pdfViewer.highlightSettings.enableMultiPageAnnotation||"Underline"===e&&this.pdfViewer.underlineSettings.enableMultiPageAnnotation||"Strikethrough"===e&&this.pdfViewer.strikethroughSettings.enableMultiPageAnnotation||this.pdfViewer.enableMultiPageAnnotation?!0:t},r.prototype.modifyCurrentAnnotation=function(e,t,i){for(var n=0;n<e.annotNameCollection.length;n++){var o=e.annotNameCollection[parseInt(n.toString(),10)],r=this.getAnnotations(t[parseInt(i.toString(),10)].pageIndex,null);if(r)for(var a=0;a<r.length;a++)if(r[parseInt(a.toString(),10)].annotName===o){this.currentTextMarkupAnnotation=r[parseInt(a.toString(),10)],this.selectTextMarkupCurrentPage=t[parseInt(i.toString(),10)].pageIndex,this.updateTextMarkupAnnotationBounds(t,i);break}}},r.prototype.drawAnnotationSelector=function(e,t,i){for(var n=[],o=0,r=0;r<e.bounds.length;r++)if(s=e.bounds[parseInt(r.toString(),10)].top?e.bounds[parseInt(r.toString(),10)].top:e.bounds[parseInt(r.toString(),10)].Top,l=G.isNullOrUndefined(e.bounds[r+1])?0:e.bounds[r+1].top||e.bounds[r+1].Top,this.pdfViewerBase.clientSideRendering&&(e.bounds[parseInt(r.toString(),10)].left?e.bounds[parseInt(r.toString(),10)].left:e.bounds[parseInt(r.toString(),10)].Left,G.isNullOrUndefined(e.bounds[r+1])||(e.bounds[r+1].left||e.bounds[r+1].Left),e.bounds[parseInt(r.toString(),10)].rotation,G.isNullOrUndefined(e.bounds[r+1])||e.bounds[r+1].rotation),1<e.bounds.length&&r<e.bounds.length-1&&s===l)n.push(e.bounds[parseInt(r.toString(),10)]);else if((r===e.bounds.length-1||1<=e.bounds.length)&&n.push(e.bounds[parseInt(r.toString(),10)]),1<=n.length){for(var a,s=n[0].left||n[0].Left,l=n[0].top||n[0].Top,A=n[0].height||n[0].Height,d=0;d<n.length;d++)(!isNaN(n[parseInt(d.toString(),10)].width)&&0<n[parseInt(d.toString(),10)].width||!isNaN(n[parseInt(d.toString(),10)].Width)&&0<n[parseInt(d.toString(),10)].Width)&&(o+=n[parseInt(d.toString(),10)].width?n[parseInt(d.toString(),10)].width:n[parseInt(d.toString(),10)].Width);i||(i="_blendAnnotationsIntoCanvas_"==(a="Highlight"===e.textMarkupAnnotationType?"_blendAnnotationsIntoCanvas_":"_annotationCanvas_")?this.pdfViewerBase.getElement(a+e.pageNumber):this.pdfViewerBase.getAnnotationCanvas(a,e.pageNumber)),this.drawAnnotationSelectRect(i,this.getMagnifiedValue(s-.5,this.pdfViewerBase.getZoomFactor()),this.getMagnifiedValue(l-.5,this.pdfViewerBase.getZoomFactor()),this.getMagnifiedValue(o+.5,this.pdfViewerBase.getZoomFactor()),this.getMagnifiedValue(A+.5,this.pdfViewerBase.getZoomFactor()),t),n=[],o=0}},r.prototype.selectMultiPageAnnotations=function(e){for(var t=0;t<e.annotNameCollection.length;t++){var i=e.annotNameCollection[parseInt(t.toString(),10)];if(i!==e.annotName)for(var n=0;n<e.annotpageNumbers.length;n++){var o=e.annotpageNumbers[parseInt(n.toString(),10)],r=this.getAnnotations(o,null);if(r)for(var a,s=0;s<r.length;s++)r[parseInt(s.toString(),10)].annotName===i&&(a=r[parseInt(s.toString(),10)],this.drawAnnotationSelector(a,e))}}},r.prototype.deletMultiPageAnnotation=function(e){for(var t=0;t<e.annotNameCollection.length;t++){var i=e.annotNameCollection[parseInt(t.toString(),10)];if(i!==e.annotName)for(var n=0;n<e.annotpageNumbers.length;n++){var o=e.annotpageNumbers[parseInt(n.toString(),10)],r=this.getAnnotations(o,null);if(r)for(var a,s,l=0;l<r.length;l++)r[parseInt(l.toString(),10)].annotName===i&&(a=r[parseInt(l.toString(),10)],s=null,s=r.splice(l,1)[0],this.pdfViewer.annotationModule.addAction(o,l,s,"Text Markup Deleted",null),this.currentAnnotationIndex=l,this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(s,"textMarkup"),(s=document.getElementById(s.annotName))&&(1===s.parentElement.childElementCount?this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAccordionContainer(s):s.remove()),this.pdfViewer.annotationModule.updateAnnotationCollection(a),this.manageAnnotations(r,o),this.pdfViewer.annotationModule.updateImportAnnotationCollection(a,a.pageNumber,"textMarkupAnnotation"),this.pdfViewer.annotationModule.renderAnnotations(o,null,null,null))}}},r.prototype.modifyMultiPageAnnotations=function(e,t,i){for(var n=0;n<e.annotNameCollection.length;n++){var o=e.annotNameCollection[parseInt(n.toString(),10)];if(o!==e.annotName)for(var r=0;r<e.annotpageNumbers.length;r++){var a=e.annotpageNumbers[parseInt(r.toString(),10)],s=this.getAnnotations(a,null);if(s)for(var l=0;l<s.length;l++)s[parseInt(l.toString(),10)].annotName===o&&("Color"===t?s[parseInt(l.toString(),10)].color=i:s[parseInt(l.toString(),10)].opacity=i,s[parseInt(l.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),this.currentAnnotationIndex=l,null!==status&&"changed"!==status||this.pdfViewer.annotationModule.addAction(s[parseInt(l.toString(),10)].pageNumber,l,s[parseInt(l.toString(),10)],"Text Markup Property modified",t),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationModifiedDate(s[parseInt(l.toString(),10)]),this.manageAnnotations(s,a),this.pdfViewer.annotationModule.renderAnnotations(a,null,null,null))}}},r.prototype.convertSelectionToTextMarkup=function(e,t,i){var n=!1;this.triggerAddEvent=!1,this.multiPageCollection=[];for(var o=0;o<t.length;o++){var r,a=t[parseInt(o.toString(),10)].textContent,s=void 0;if(s=t[parseInt(o.toString(),10)].startNode===t[parseInt(o.toString(),10)].endNode?(r=document.getElementById(t[parseInt(o.toString(),10)].startNode).textContent,this.getIndexNumbers(t[parseInt(o.toString(),10)].pageNumber,a,r)):this.getIndexNumbers(t[parseInt(o.toString(),10)].pageNumber,a),!n)for(var l=1;l<t.length;l++)if(t[parseInt(l.toString(),10)].pageNumber!==t[0].pageNumber&&this.isMultiAnnotation(e)){n=!0;break}this.isMultiAnnotation(e)&&t.length-1===o&&(this.triggerAddEvent=!0),this.drawTextMarkups(e,t[parseInt(o.toString(),10)].rectangleBounds,t[parseInt(o.toString(),10)].pageNumber,t[parseInt(o.toString(),10)].bound,i,a,s.startIndex,s.endIndex,n,document.getElementById(t[parseInt(o.toString(),10)].startNode))}},r.prototype.updateTextMarkupAnnotationBounds=function(e,t){if(this.currentTextMarkupAnnotation){var i=this.getAnnotations(e[parseInt(t.toString(),10)].pageIndex,null),n=null;if(i){for(var o,r,a=0;a<i.length;a++)JSON.stringify(this.currentTextMarkupAnnotation)===JSON.stringify(i[parseInt(a.toString(),10)])&&(i[parseInt(a.toString(),10)].bounds=e[parseInt(t.toString(),10)].bounds,i[parseInt(a.toString(),10)].textMarkupContent=e[parseInt(t.toString(),10)].textContent,i[parseInt(a.toString(),10)].textMarkupStartIndex=e[parseInt(t.toString(),10)].startIndex,i[parseInt(a.toString(),10)].textMarkupEndIndex=e[parseInt(t.toString(),10)].endIndex,i[parseInt(a.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),n=i[parseInt(a.toString(),10)]);this.manageAnnotations(i,e[parseInt(t.toString(),10)].pageIndex),this.currentTextMarkupAnnotation=null,this.pdfViewer.annotationModule.renderAnnotations(e[parseInt(t.toString(),10)].pageIndex,null,null,null),this.pdfViewerBase.updateDocumentEditedProperty(!0),n&&(o={opacity:n.opacity,color:n.color,author:n.author,subject:n.subject,modifiedDate:n.modifiedDate},0<(r=this.multiPageCollectionList(n)).length?e.length-1===t&&this.pdfViewer.fireAnnotationResize(e[parseInt(t.toString(),10)].pageIndex,n.annotName,n.textMarkupAnnotationType,n.bounds,o,n.textMarkupContent,n.textMarkupStartIndex,n.textMarkupEndIndex,null,r):this.pdfViewer.fireAnnotationResize(e[parseInt(t.toString(),10)].pageIndex,n.annotName,n.textMarkupAnnotationType,n.bounds,o,n.textMarkupContent,n.textMarkupStartIndex,n.textMarkupEndIndex,null)),this.currentAnnotationIndex=null,this.selectTextMarkupCurrentPage=null}}},r.prototype.multiPageCollectionList=function(e){var t=[];if(e.isMultiSelect&&e.annotNameCollection){t.push(e);for(var i=0;i<e.annotNameCollection.length;i++){var n=e.annotNameCollection[parseInt(i.toString(),10)];if(n!==e.annotName)for(var o=0;o<e.annotpageNumbers.length;o++){var r=e.annotpageNumbers[parseInt(o.toString(),10)],a=this.getAnnotations(r,null);if(a)for(var s=0;s<a.length;s++)a[parseInt(s.toString(),10)].annotName===n&&t.push(a[parseInt(s.toString(),10)])}}}return t},r.prototype.updateAnnotationNames=function(e,t){if(e){var i=this.getAnnotations(t,null);if(i){for(var n=0;n<i.length;n++)if(e.annotName===i[parseInt(n.toString(),10)].annotName){for(var o=[],r=[],a=0;a<this.multiPageCollection.length;a++)o.push(this.multiPageCollection[parseInt(a.toString(),10)].annotName),r.push(this.multiPageCollection[parseInt(a.toString(),10)].pageNumber);i[parseInt(n.toString(),10)].isMultiSelect=!0,i[parseInt(n.toString(),10)].annotNameCollection=o,i[parseInt(n.toString(),10)].annotpageNumbers=r,i[parseInt(n.toString(),10)]}this.manageAnnotations(i,t)}}},r.prototype.updateAnnotationContent=function(e,t){if(e){var i=this.getAnnotations(this.selectTextMarkupCurrentPage,null);if(i){for(var n=0;n<i.length;n++)JSON.stringify(this.currentTextMarkupAnnotation)===JSON.stringify(i[parseInt(n.toString(),10)])&&(i[parseInt(n.toString(),10)].textMarkupContent=t.textContent,i[parseInt(n.toString(),10)].textMarkupStartIndex=t.startIndex,i[parseInt(n.toString(),10)].textMarkupEndIndex=t.endIndex,i[parseInt(n.toString(),10)]),this.pdfViewer.annotationModule.storeAnnotationCollections(i[parseInt(n.toString(),10)],this.selectTextMarkupCurrentPage);this.manageAnnotations(i,this.selectTextMarkupCurrentPage)}}},r.prototype.drawTextMarkups=function(e,t,i,n,o,r,a,s,l,A){var d,p,h=null,c=(this.isNewAnnotation=!1,"Guest"),g="Highlight"===e?this.getPageContext(i,"_blendAnnotationsIntoCanvas_"):this.getPageContext(i,"_annotationCanvas_"),u=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),f=(this.highlightColor=this.highlightColor||this.pdfViewer.highlightSettings.color||"#FFDF56",this.underlineColor=this.underlineColor||this.pdfViewer.underlineSettings.color||"#00ff00",this.strikethroughColor=this.strikethroughColor||this.pdfViewer.strikethroughSettings.color||"#ff0000",this.highlightOpacity=this.highlightOpacity||this.pdfViewer.highlightSettings.opacity,this.underlineOpacity=this.underlineOpacity||this.pdfViewer.underlineSettings.opacity,this.strikethroughOpacity=this.strikethroughOpacity||this.pdfViewer.strikethroughSettings.opacity,this.annotationAddMode="UI Drawn Annotation",this.pdfViewerBase.pageSize[parseInt(i.toString(),10)]),m=0,w=this.pdfViewerBase.getAngle(f.rotation);if(G.isNullOrUndefined(g)&&(f=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+i),g=this.pdfViewer.annotationModule.createBlendAnnotationsIntoCanvas(f,parseFloat(f.style.width),parseFloat(f.style.height),i).getContext("2d")),g){switch(g.setLineDash([]),e){case"Highlight":this.isNewAnnotation=!0,d=""!==this.pdfViewer.highlightSettings.subject&&this.pdfViewer.highlightSettings.subject?this.pdfViewer.highlightSettings.subject:this.pdfViewer.annotationSettings.subject||"Highlight",c="Guest"!==this.pdfViewer.highlightSettings.author&&this.pdfViewer.highlightSettings.author?this.pdfViewer.highlightSettings.author:this.pdfViewer.annotationSettings.author||"Guest",p=this.pdfViewer.highlightSettings.allowedInteractions||["None"],G.isNullOrUndefined(this.highlightOpacity)&&(this.highlightOpacity=1),(h=this.getAddedAnnotation(e,this.highlightColor,this.highlightOpacity,t,c,d,u,"",!1,n,i,r,a,s,l,p,m))&&this.renderHighlightAnnotation(h.bounds,h.opacity,h.color,g,o,h.isPrint,i);break;case"Strikethrough":this.isNewAnnotation=!0,d=""!==this.pdfViewer.strikethroughSettings.subject&&this.pdfViewer.strikethroughSettings.subject?this.pdfViewer.strikethroughSettings.subject:this.pdfViewer.annotationSettings.subject||"Strikethrough",c="Guest"!==this.pdfViewer.strikethroughSettings.author&&this.pdfViewer.strikethroughSettings.author?this.pdfViewer.strikethroughSettings.author:this.pdfViewer.annotationSettings.author||"Guest",p=this.pdfViewer.strikethroughSettings.allowedInteractions||["None"],A&&""!==A.style.transform&&(m=A.style.transform.startsWith("rotate(90deg)")?Math.abs(w-90):A.style.transform.startsWith("rotate(180deg)")?Math.abs(w-180):A.style.transform.startsWith("rotate(-90deg)")?Math.abs(w-270):w),G.isNullOrUndefined(this.strikethroughOpacity)&&(this.strikethroughOpacity=1),(h=this.getAddedAnnotation(e,this.strikethroughColor,this.strikethroughOpacity,t,c,d,u,"",!1,n,i,r,a,s,l,p,m))&&this.renderStrikeoutAnnotation(h.bounds,h.opacity,h.color,g,o,i,h.isPrint,h.annotationRotation,h.textMarkupContent);break;case"Underline":this.isNewAnnotation=!0,d=""!==this.pdfViewer.underlineSettings.subject&&this.pdfViewer.underlineSettings.subject?this.pdfViewer.underlineSettings.subject:this.pdfViewer.annotationSettings.subject||"Underline",c="Guest"!==this.pdfViewer.underlineSettings.author&&this.pdfViewer.underlineSettings.author?this.pdfViewer.underlineSettings.author:this.pdfViewer.annotationSettings.author||"Guest",p=this.pdfViewer.underlineSettings.allowedInteractions||["None"],A&&""!==A.style.transform&&(m=A.style.transform.startsWith("rotate(90deg)")?Math.abs(w-90):A.style.transform.startsWith("rotate(180deg)")?Math.abs(w-180):A.style.transform.startsWith("rotate(-90deg)")?Math.abs(w-270):w),G.isNullOrUndefined(this.underlineOpacity)&&(this.underlineOpacity=1),(h=this.getAddedAnnotation(e,this.underlineColor,this.underlineOpacity,t,c,d,u,"",!1,n,i,r,a,s,l,p,m))&&this.renderUnderlineAnnotation(h.bounds,h.opacity,h.color,g,o,i,h.isPrint,h.annotationRotation)}this.isNewAnnotation=!1,h&&(this.pdfViewerBase.updateDocumentEditedProperty(!0),f={opacity:h.opacity,color:h.color,author:h.author,subject:h.subject,modifiedDate:h.modifiedDate},this.isMultiAnnotation(e)?this.triggerAddEvent&&this.pdfViewer.fireAnnotationAdd(i,h.annotName,e,h.bounds,f,r,a,s,null,this.multiPageCollection):this.pdfViewer.fireAnnotationAdd(i,h.annotName,e,h.bounds,f,r,a,s)),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar&&this.pdfViewer.toolbarModule.annotationToolbarModule.createPropertyTools(e)}},r.prototype.retreiveTextIndex=function(e){var t;return""===e.textMarkupContent&&(this.retreieveSelection(e,null),t=this.getDrawnBounds(),window.getSelection().removeAllRanges(),t[0])&&t[0].bounds&&(this.updateAnnotationContent(e,t[0]),e.textMarkupContent=t[0].textContent,e.textMarkupStartIndex=t[0].startIndex,e.textMarkupEndIndex=t[0].endIndex),e},r.prototype.renderHighlightAnnotation=function(e,t,i,n,o,r,a){for(var s=this.pdfViewerBase.getZoomRatio(o),l=0;l<e.length;l++){var A=e[parseInt(l.toString(),10)],d=(n.beginPath(),A.X||A.left),p=A.Y||A.top,h=A.Width||A.width,c=A.Height||A.height,g=A.Rotation||A.rotation,d=d||A.x,p=p||A.y;!this.pdfViewerBase.clientSideRendering||0===(g=0<=g?Math.abs(g)/90:g)||2===g?c-=1:1!==g&&3!==g||(h-=1),(n.canvas.id!==this.pdfViewer.element.id+"_print_annotation_layer_"+a&&n.canvas.id!==this.pdfViewer.element.id+"_print_blendAnnotations_canvas_"+a||r)&&(n.rect(d*s,p*s,h*s,c*s),n.globalAlpha=t,n.closePath(),n.fillStyle=i,n.msFillRule="nonzero",n.fill())}n.save()},r.prototype.renderStrikeoutAnnotation=function(e,t,i,n,o,r,a,s,l){for(var A=0;A<e.length;A++){var d,p=this.getProperBounds(e[parseInt(A.toString(),10)]),h=this.pdfViewerBase.pageSize[parseInt(r.toString(),10)],c=this.pdfViewerBase.getZoomRatio(o),h=h.rotation;(s||this.pdfViewerBase.clientSideRendering&&e[parseInt(A.toString(),10)].rotation)&&(d=this.pdfViewerBase.getAngle(h),h=this.pdfViewerBase.clientSideRendering?Math.abs(e[parseInt(A.toString(),10)].rotation)/90:Math.abs(s-d)/90),(n.canvas.id!==this.pdfViewer.element.id+"_print_annotation_layer_"+r||a)&&(1===h?this.drawLine(t,p.x+p.width/2,p.y,p.width,p.height,i,c,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(A.toString(),10)].rotation:s,l):2===h?this.drawLine(t,p.x,p.y+p.height/2,p.width,p.height,i,c,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(A.toString(),10)].rotation:s,l):3===h?this.drawLine(t,p.x,p.y,p.width/2,p.height,i,c,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(A.toString(),10)].rotation:s,l):this.drawLine(t,p.x,p.y,p.width,p.height/2,i,c,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(A.toString(),10)].rotation:s,l))}},r.prototype.renderUnderlineAnnotation=function(e,t,i,n,o,r,a,s){for(var l=0;l<e.length;l++){var A=this.getProperBounds(e[parseInt(l.toString(),10)]),d=this.pdfViewerBase.getZoomRatio(o);(n.canvas.id!==this.pdfViewer.element.id+"_print_annotation_layer_"+r||a)&&this.drawLine(t,A.x,A.y,A.width,A.height,i,d,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(l.toString(),10)].rotation:s)}},r.prototype.getProperBounds=function(e){var t=e.X||e.left,i=e.Y||e.top,n=e.Width||e.width,o=e.Height||e.height;return{x:t||e.x,y:i||e.y,width:n,height:o}},r.prototype.isChineseLanguage=function(e){return!!/[\u4e00-\u9fff]/.test(e)},r.prototype.drawLine=function(e,t,i,n,o,r,a,s,l,A,d){s.globalAlpha=e,G.isBlazor()&&(i-=1),this.isChineseLanguage(d)&&(o-=1.5),this.pdfViewerBase.clientSideRendering||this.isChineseLanguage(d)||(o-=1),s.beginPath();e=this.pdfViewerBase.pageSize[parseInt(l.toString(),10)].rotation;(A||this.pdfViewerBase.clientSideRendering&&0<=A)&&(d=this.pdfViewerBase.getAngle(e),e=this.pdfViewerBase.clientSideRendering?Math.abs(A)/90:Math.abs(A-d)/90),this.pdfViewerBase.clientSideRendering&&(0===e||2===e?o-=1:1!==e&&3!==e||(n-=1)),1===e?(s.moveTo(t*a,i*a),s.lineTo(t*a,(i+o)*a)):2===e?(s.moveTo(t*a,i*a),s.lineTo((n+t)*a,i*a)):(3===e?s.moveTo((n+t)*a,i*a):s.moveTo(t*a,(i+o)*a),s.lineTo((n+t)*a,(i+o)*a)),s.lineWidth=1,s.strokeStyle=r,s.closePath(),s.msFillRule="nonzero",s.stroke()},r.prototype.printAnnotationsInCanvas=function(e,t,i,n,o,r,a,s){var l=G.createElement("canvas",{id:this.pdfViewer.element.id+"_print_annotation_layer_"+t}),A=(l.style.width="816px",l.style.height="1056px",this.pdfViewerBase.pageSize[parseInt(t.toString(),10)].width),d=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)].height,p=this.pdfViewerBase.getZoomRatio(1),d=(l.height=d*p,l.width=A*p,this.getAnnotations(t,null,"_annotations_shape")),A=this.getAnnotations(t,null,"_annotations_shape_measure"),p=this.getAnnotations(t,null,"_annotations_stamp"),h=this.getAnnotations(t,null,"_annotations_sticky");return this.getAnnotations(t,null,"_annotations_ink")||p||d||h||A?(this.pdfViewer.renderDrawing(l,t),this.pdfViewer.annotation.renderAnnotations(t,null,null,null,l,null,null,a,s)):(this.pdfViewer.annotation.renderAnnotations(t,n,o,null,l,null,null,a,s),this.pdfViewer.annotation.stampAnnotationModule.renderStampAnnotations(i,t,l),this.pdfViewer.annotation.stickyNotesAnnotationModule.renderStickyNotesAnnotations(r,t,l)),this.renderTextMarkupAnnotations(null,t,l,1)},r.prototype.saveTextMarkupAnnotations=function(){for(var e=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_textMarkup"),t=(this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_textMarkup"]),[]),i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s=this,l=0;a.annotations.length>l;l++)!function(e){s.pdfViewer.annotationModule.updateModifiedDate(a.annotations[parseInt(e.toString(),10)]),s.pdfViewerBase.isJsonExported&&(a.annotations[parseInt(e.toString(),10)].isAnnotationRotated?a.annotations[parseInt(e.toString(),10)].bounds=s.getBoundsForSave(a.annotations[parseInt(e.toString(),10)].bounds,o):(i=s.pdfViewerBase.pageSize[a.pageIndex])&&(a.annotations[parseInt(e.toString(),10)].annotationRotation=i.rotation)),s.isChineseLanguage(a.annotations[parseInt(e.toString(),10)].textMarkupContent)&&0<a.annotations[parseInt(e.toString(),10)].bounds.length&&(t="Strikethrough"===a.annotations[parseInt(e.toString(),10)].textMarkupAnnotationType?s.strikeoutDifference:"Underline"===a.annotations[parseInt(e.toString(),10)].textMarkupAnnotationType?s.underlineDifference:0,a.annotations[parseInt(e.toString(),10)].bounds.forEach(function(e){e.height=e.height||e.Height,0<e.height&&(e.height+=t)})),a.annotations[parseInt(e.toString(),10)].bounds=JSON.stringify(s.getBoundsForSave(a.annotations[parseInt(e.toString(),10)].bounds,a.annotations[parseInt(e.toString(),10)].pageNumber));var t,i=a.annotations[parseInt(e.toString(),10)].color;a.annotations[parseInt(e.toString(),10)].color=JSON.stringify(s.getRgbCode(i)),a.annotations[parseInt(e.toString(),10)].rect=JSON.stringify(a.annotations[parseInt(e.toString(),10)].rect)}(l);r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},r.prototype.deleteTextMarkupAnnotation=function(){if(this.currentTextMarkupAnnotation){var e=!1;if(!(e=this.currentTextMarkupAnnotation.annotationSettings&&(e=this.currentTextMarkupAnnotation.annotationSettings.isLock,this.pdfViewer.annotationModule.checkAllowedInteractions("Delete",this.currentTextMarkupAnnotation))?!1:e)){var t=null,e=(this.showHideDropletDiv(!0),this.currentTextMarkupAnnotation),i=(this.currentTextMarkupAnnotation.isMultiSelect&&e.annotNameCollection&&this.deletMultiPageAnnotation(e),this.getAnnotations(this.selectTextMarkupCurrentPage,null));if(i){for(var n,o=0;o<i.length;o++)this.currentTextMarkupAnnotation.annotName===i[parseInt(o.toString(),10)].annotName&&(t=i.splice(o,1)[0],this.pdfViewer.annotationModule.addAction(this.selectTextMarkupCurrentPage,o,t,"Text Markup Deleted",null),this.currentAnnotationIndex=o,this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(t,"textMarkup"),n=document.getElementById(t.annotName))&&(1===n.parentElement.childElementCount?this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAccordionContainer(n):n.remove());this.pdfViewer.annotationModule.updateAnnotationCollection(this.currentTextMarkupAnnotation),this.manageAnnotations(i,this.selectTextMarkupCurrentPage),this.pdfViewer.annotationModule.updateImportAnnotationCollection(this.currentTextMarkupAnnotation,this.currentTextMarkupAnnotation.pageNumber,"textMarkupAnnotation");var r=this.currentTextMarkupAnnotation.annotName,a=this.currentTextMarkupAnnotation.bounds,e=(this.currentTextMarkupAnnotation=null,this.pdfViewer.annotationModule.renderAnnotations(this.selectTextMarkupCurrentPage,null,null,null),this.pdfViewerBase.updateDocumentEditedProperty(!0),this.multiPageCollectionList(e));0<e.length?(e.push(t),this.pdfViewer.fireAnnotationRemove(this.selectTextMarkupCurrentPage,r,t.textMarkupAnnotationType,a,t.textMarkupContent,t.textMarkupStartIndex,t.textMarkupEndIndex,e)):G.isNullOrUndefined(t)||this.pdfViewer.fireAnnotationRemove(this.selectTextMarkupCurrentPage,r,t.textMarkupAnnotationType,a,t.textMarkupContent,t.textMarkupStartIndex,t.textMarkupEndIndex),this.currentAnnotationIndex=null,this.selectTextMarkupCurrentPage=null,G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.pdfViewer.toolbarModule.annotationToolbarModule.hideMobileAnnotationToolbar(),this.pdfViewer.toolbarModule.showToolbar(!0))}}}},r.prototype.modifyBoundsProperty=function(e){var t;this.currentTextMarkupAnnotation&&(e=this.modifyAnnotationProperty("Bounds",e,null),this.manageAnnotations(e,this.selectTextMarkupCurrentPage),this.pdfViewer.annotationModule.renderAnnotations(this.selectTextMarkupCurrentPage,null,null,null),this.pdfViewerBase.updateDocumentEditedProperty(!0),e=this.currentTextMarkupAnnotation,0<(t=this.multiPageCollectionList(e)).length?this.pdfViewer.fireAnnotationPropertiesChange(this.selectTextMarkupCurrentPage,e.annotName,e.textMarkupAnnotationType,!1,!1,!1,!1,e.textMarkupContent,e.textMarkupStartIndex,e.textMarkupEndIndex,t):this.pdfViewer.fireAnnotationPropertiesChange(this.selectTextMarkupCurrentPage,e.annotName,e.textMarkupAnnotationType,!1,!1,!1,!1,e.textMarkupContent,e.textMarkupStartIndex,e.textMarkupEndIndex),this.currentAnnotationIndex=null)},r.prototype.modifyColorProperty=function(e){var t;this.currentTextMarkupAnnotation&&(e=this.modifyAnnotationProperty("Color",e,null),this.manageAnnotations(e,this.selectTextMarkupCurrentPage),this.pdfViewer.annotationModule.renderAnnotations(this.selectTextMarkupCurrentPage,null,null,null),this.pdfViewerBase.updateDocumentEditedProperty(!0),e=this.currentTextMarkupAnnotation,0<(t=this.multiPageCollectionList(e)).length?this.pdfViewer.fireAnnotationPropertiesChange(this.selectTextMarkupCurrentPage,e.annotName,e.textMarkupAnnotationType,!0,!1,!1,!1,e.textMarkupContent,e.textMarkupStartIndex,e.textMarkupEndIndex,t):this.pdfViewer.fireAnnotationPropertiesChange(this.selectTextMarkupCurrentPage,e.annotName,e.textMarkupAnnotationType,!0,!1,!1,!1,e.textMarkupContent,e.textMarkupStartIndex,e.textMarkupEndIndex),this.currentAnnotationIndex=null)},r.prototype.modifyOpacityProperty=function(e,t){var i;this.currentTextMarkupAnnotation&&(i=void 0,i=G.isNullOrUndefined(t)?this.modifyAnnotationProperty("Opacity",e.value/100,e.name):this.modifyAnnotationProperty("Opacity",t,"changed"))&&(this.manageAnnotations(i,this.selectTextMarkupCurrentPage),this.pdfViewer.annotationModule.renderAnnotations(this.selectTextMarkupCurrentPage,null,null,null),G.isNullOrUndefined(t)&&"changed"!==e.name||(this.pdfViewerBase.updateDocumentEditedProperty(!0),i=this.currentTextMarkupAnnotation,0<(t=this.multiPageCollectionList(i)).length?this.pdfViewer.fireAnnotationPropertiesChange(this.selectTextMarkupCurrentPage,i.annotName,i.textMarkupAnnotationType,!1,!0,!1,!1,i.textMarkupContent,i.textMarkupStartIndex,i.textMarkupEndIndex,t):this.pdfViewer.fireAnnotationPropertiesChange(this.selectTextMarkupCurrentPage,i.annotName,i.textMarkupAnnotationType,!1,!0,!1,!1,i.textMarkupContent,i.textMarkupStartIndex,i.textMarkupEndIndex),this.currentAnnotationIndex=null))},r.prototype.modifyAnnotationProperty=function(e,t,i,n){var o=this.currentTextMarkupAnnotation,r=(this.pdfViewer.annotationModule.isFormFieldShape=!1,o.isMultiSelect&&o.annotNameCollection&&this.modifyMultiPageAnnotations(o,e,t),this.getAnnotations(this.selectTextMarkupCurrentPage,null));if(r)for(var a=0;a<r.length;a++)JSON.stringify(this.currentTextMarkupAnnotation)===JSON.stringify(r[parseInt(a.toString(),10)])&&("Color"===e?r[parseInt(a.toString(),10)].color=t:"Opacity"===e?r[parseInt(a.toString(),10)].opacity=t:"AnnotationSettings"===e?r[parseInt(a.toString(),10)].annotationSettings={isLock:t}:"Bounds"===e?r[parseInt(a.toString(),10)].bounds=t:"AnnotationSelectorSettings"===e&&(r[parseInt(a.toString(),10)].annotationSelectorSettings=t),r[parseInt(a.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),this.currentAnnotationIndex=a,null!==i&&"changed"!==i||this.pdfViewer.annotationModule.addAction(this.selectTextMarkupCurrentPage,a,this.currentTextMarkupAnnotation,"Text Markup Property modified",e),this.currentTextMarkupAnnotation=r[parseInt(a.toString(),10)],this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationModifiedDate(r[parseInt(a.toString(),10)]),this.pdfViewer.annotationModule.storeAnnotationCollections(r[parseInt(a.toString(),10)],this.selectTextMarkupCurrentPage));return r},r.prototype.undoTextMarkupAction=function(e,t,i,n){var o,r=this.getAnnotations(t,null);r&&("Text Markup Added"===n?(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(r[parseInt(i.toString(),10)],"textMarkup",null,!0),(o=document.getElementById(r[parseInt(i.toString(),10)].annotName))&&(1===o.parentElement.childElementCount?this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAccordionContainer(o):o.parentElement.removeChild(o)),r.splice(i,1),this.pdfViewer.annotationCollection.splice(i,1)):"Text Markup Deleted"===n&&(this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addAnnotationComments(t,e.shapeAnnotationType,!0),r.splice(i,0,e))),this.clearCurrentAnnotation(),this.pdfViewerBase.updateDocumentEditedProperty(!0),this.manageAnnotations(r,t),this.pdfViewer.annotationModule.renderAnnotations(t,null,null,null)},r.prototype.undoRedoPropertyChange=function(e,t,i,n,o){var r=this.getAnnotations(t,null);return r&&("Color"===n?(n=r[parseInt(i.toString(),10)].color,r[parseInt(i.toString(),10)].color=e.color,e.color=n):(n=r[parseInt(i.toString(),10)].opacity,r[parseInt(i.toString(),10)].opacity=e.opacity,e.opacity=n),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationModifiedDate(e,null,!0),o)&&(e.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime()),this.clearCurrentAnnotation(),this.pdfViewerBase.updateDocumentEditedProperty(!0),this.manageAnnotations(r,t),this.pdfViewer.annotationModule.renderAnnotations(t,null,null,null),e},r.prototype.redoTextMarkupAction=function(e,t,i,n){var o=this.getAnnotations(t,null);o&&("Text Markup Added"===n?(this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addAnnotationComments(t,e.shapeAnnotationType,!1),o.push(e)):"Text Markup Deleted"===n&&(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(o[parseInt(i.toString(),10)],"textMarkup"),(e=document.getElementById(o[parseInt(i.toString(),10)].annotName))&&(1===e.parentElement.childElementCount?this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAccordionContainer(e):e.remove()),o.splice(i,1))),this.clearCurrentAnnotation(),this.pdfViewerBase.updateDocumentEditedProperty(!0),this.manageAnnotations(o,t),this.pdfViewer.annotationModule.renderAnnotations(t,null,null,null)},r.prototype.saveNoteContent=function(e,t){var i=this.getAnnotations(e,null);if(i)for(var n=0;n<i.length;n++)JSON.stringify(this.currentTextMarkupAnnotation)===JSON.stringify(i[parseInt(n.toString(),10)])&&(i[parseInt(n.toString(),10)].note=t);this.manageAnnotations(i,e),this.pdfViewerBase.updateDocumentEditedProperty(!0)},r.prototype.clearCurrentAnnotation=function(){var e;this.isExtended||(this.pdfViewer.isMaintainSelection&&!this.pdfViewer.textSelectionModule.isTextSelection||(this.selectTextMarkupCurrentPage=null,this.currentTextMarkupAnnotation=null),e=!1,e=!(!this.pdfViewer.annotation.freeTextAnnotationModule||!this.pdfViewer.annotation.freeTextAnnotationModule.isInuptBoxInFocus)||e)||this.enableAnnotationPropertiesTool(!1)},r.prototype.clearCurrentAnnotationSelection=function(e,t){this.isAnnotationSelect=!!t;for(var i=e+2<this.pdfViewerBase.pageCount?e+2:this.pdfViewerBase.pageCount-1,n=0<=e-2?e-2:0;n<=i;n++)this.clearAnnotationSelection(n)},r.prototype.getBoundsForSave=function(e,t){for(var i=[],n=0;n<e.length;n++){var o=this.getAnnotationBounds(e[parseInt(n.toString(),10)],t);i.push(o)}return i},r.prototype.getAnnotationBounds=function(e,t){var i=G.isNullOrUndefined(e.left)?e.Left:e.left,n=G.isNullOrUndefined(e.top)?e.Top:e.top,o=G.isNullOrUndefined(e.height)?e.Height:e.height,r=G.isNullOrUndefined(e.width)?e.Width:e.width,t=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)],i=i||e.x,n=n||e.y;return t?1===t.rotation?{left:n,top:t.width-(i+r),width:o,height:r}:2===t.rotation?{left:t.width-i-r,top:t.height-n-o,width:r,height:o}:3===t.rotation?{left:t.height-n-o,top:i,width:o,height:r}:{left:i,top:n,width:r,height:o}:{left:i,top:n,width:r,height:o}},r.prototype.getRgbCode=function(e){var t=(e=e.match(/#([a-z0-9]+)/gi)||e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)?e:this.pdfViewer.annotationModule.nameToHash(e)).split(","),e=(G.isNullOrUndefined(t[1])&&(t=(e=this.pdfViewer.annotationModule.getValue(e,"rgba")).split(",")),parseInt(t[0].split("(")[1],10)),i=parseInt(t[1],10),n=parseInt(t[2],10);return{a:parseInt(t[3],10),r:e,g:i,b:n}},r.prototype.getDrawnBounds=function(){var e=[],t=window.getSelection();if(null!==t.anchorNode){var i=document.createRange(),n=this.pdfViewerBase.textLayer.isBackWardSelection(t);if(t.anchorNode===t.focusNode){var o=this.pdfViewerBase.textLayer.getPageIndex(t.anchorNode);isNaN(o)||(y=this.pdfViewerBase.getElement("_pageDiv_"+o).getBoundingClientRect(),this.pdfViewerBase.isMixedSizeDocument&&(y=this.pdfViewerBase.getElement("_textLayer_"+o).getBoundingClientRect()),n?(i.setStart(t.focusNode,t.focusOffset),i.setEnd(t.anchorNode,t.anchorOffset)):t.anchorOffset<t.focusOffset?(t.anchorOffset,t.focusOffset,i.setStart(t.anchorNode,t.anchorOffset),i.setEnd(t.focusNode,t.focusOffset)):(t.focusOffset,t.anchorOffset,i.setStart(t.focusNode,t.focusOffset),i.setEnd(t.anchorNode,t.anchorOffset)),V=i.getBoundingClientRect(),b=0,this.pdfViewerBase.clientSideRendering&&(x=this.pdfViewerBase.pageSize[parseInt(o.toString(),10)],this.pdfViewerBase.getAngle(x.rotation),E=void 0,E=i.startContainer.parentElement||i.startContainer.parentNode)&&""!==E.style.transform&&(b=E.style.transform.startsWith("rotate(90deg)")?90:E.style.transform.startsWith("rotate(180deg)")?180:E.style.transform.startsWith("rotate(-90deg)")||E.style.transform.startsWith("rotate(270deg)")?270:0),k=this.getIndexNumbers(o,i.toString(),i.commonAncestorContainer.textContent.toString()),M={left:this.getDefaultValue(V.left-y.left),top:this.getDefaultValue(V.top-y.top),width:this.getDefaultValue(V.width),height:this.getDefaultValue(V.height),right:this.getDefaultValue(V.right-y.left),bottom:this.getDefaultValue(V.bottom-y.top),rotation:b},(r=[]).push(M),P={left:M.left,top:M.top,right:M.right,bottom:M.bottom,rotation:b},e.push({pageIndex:o,bounds:r,rect:P,startIndex:k.startIndex,endIndex:k.endIndex,textContent:i.toString()}))}else for(var o=void 0,r=void 0,a=void 0,s=void 0,s=n?(o=t.focusNode,a=t.focusOffset,r=t.anchorNode,t.anchorOffset):(o=t.anchorNode,a=t.anchorOffset,r=t.focusNode,t.focusOffset),l=this.pdfViewerBase.textLayer.getPageIndex(o),A=this.pdfViewerBase.textLayer.getTextIndex(o,l),d=this.pdfViewerBase.textLayer.getPageIndex(r),p=this.pdfViewerBase.textLayer.getTextIndex(r,d),h=0,c=0,g=0,u=l;u<=d;u++){var f=[],m=void 0,w=void 0,B=void 0,C=void 0,S=this.pdfViewerBase.getElement("_textLayer_"+u).childNodes,y=this.pdfViewerBase.getElement("_pageDiv_"+u).getBoundingClientRect();this.pdfViewerBase.isMixedSizeDocument&&(y=this.pdfViewerBase.getElement("_textLayer_"+u).getBoundingClientRect());for(var I=g=u===l?A:0;I<S.length;I++){var E=S[parseInt(I.toString(),10)];I===g?(m=g,B=u===l?a:0):(w=I,C=u===d?s:E.textContent.length);for(var h=I===A&&u===l?a:0,c=I===p&&u===d?s:E.textContent.length,Q=0;Q<E.childNodes.length;Q++){var D=E.childNodes[parseInt(Q.toString(),10)];i.setStart(D,h),i.setEnd(D,c)}var x,V=i.getBoundingClientRect(),b=0,M=(this.pdfViewerBase.clientSideRendering&&(x=this.pdfViewerBase.pageSize[parseInt(u.toString(),10)],this.pdfViewerBase.getAngle(x.rotation),E)&&""!==E.style.transform&&(b=E.style.transform.startsWith("rotate(90deg)")?90:E.style.transform.startsWith("rotate(180deg)")?180:E.style.transform.startsWith("rotate(-90deg)")||E.style.transform.startsWith("rotate(270deg)")?270:0),{left:this.getDefaultValue(V.left-y.left),top:this.getDefaultValue(V.top-y.top),width:this.getDefaultValue(V.width),height:this.getDefaultValue(V.height),right:this.getDefaultValue(V.right-y.left),bottom:this.getDefaultValue(V.bottom-y.top),rotation:b});if(f.push(M),i.detach(),u===d&&I===p)break}var w=w||m,C=C||c,v=this.pdfViewerBase.getElement("_text_"+u+"_"+m).childNodes[0],F=this.pdfViewerBase.getElement("_text_"+u+"_"+w).childNodes[0],T=document.createRange(),v=(T.setStart(v,B),T.setEnd(F,C),T.getBoundingClientRect()),F=T.toString(),k=this.getIndexNumbers(u,F),T={left:this.getDefaultValue(v.left-y.left),top:this.getDefaultValue(v.top-y.top),width:this.getDefaultValue(v.width),height:this.getDefaultValue(v.height),right:this.getDefaultValue(v.right-y.left),bottom:this.getDefaultValue(v.bottom-y.top)},P={left:T.left,top:T.top,right:T.right,bottom:T.bottom};e.push({pageIndex:u,bounds:f,rect:P,startIndex:k.startIndex,endIndex:k.endIndex,textContent:F})}}return t.removeAllRanges(),e},r.prototype.getIndexNumbers=function(e,t,i){var n,o=this.pdfViewerBase.clientSideRendering?this.pdfViewerBase.getLinkInformation(e):this.pdfViewerBase.getStoredData(e);if(o){for(var r,a=0,o=o.pageText,s=0;s<e;s++)if(this.pdfViewer.isExtractText){var l=this.pdfViewer.textSearchModule.documentTextCollection[parseInt(s.toString(),10)][parseInt(s.toString(),10)],l=l.pageText||l.PageText;if(this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.documentTextCollection&&this.pdfViewer.textSearchModule.isTextRetrieved)this.pdfViewer.textSearchModule.documentTextCollection[parseInt(s.toString(),10)]&&(a+=l.length);else if(this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.documentTextCollection){if(!(e<=this.pdfViewer.textSearchModule.documentTextCollection.length)){a=0;break}this.pdfViewer.textSearchModule.documentTextCollection[parseInt(s.toString(),10)]&&(a+=l.length)}}n=(r=G.isNullOrUndefined(i)?o.indexOf(t)+a:o.indexOf(i)+i.indexOf(t)+a)+(t.length-1)}return{startIndex:r,endIndex:n}},r.prototype.rerenderAnnotationsPinch=function(i){var n=this;["_annotationCanvas_","_blendAnnotationsIntoCanvas_"].forEach(function(e){var t,e=n.pdfViewerBase.getElement(e+i);e&&((t=n.pdfViewerBase.getElement("_old_annotationCanvas_"+i))&&(e?(t.id=e.id,e.parentElement.removeChild(e)):t.id=n.pdfViewer.element.id+"_annotationCanvas_"+i,e=t),e.style.width="",e.style.height="",n.pdfViewer.restrictZoomRequest?(e.style.width=n.pdfViewerBase.pageSize[parseInt(i.toString(),10)].width*n.pdfViewerBase.getZoomFactor()+"px",e.style.height=n.pdfViewerBase.pageSize[parseInt(i.toString(),10)].height*n.pdfViewerBase.getZoomFactor()+"px"):(e.width=n.pdfViewerBase.pageSize[parseInt(i.toString(),10)].width*n.pdfViewerBase.getZoomFactor(),e.height=n.pdfViewerBase.pageSize[parseInt(i.toString(),10)].height*n.pdfViewerBase.getZoomFactor()),n.renderTextMarkupAnnotations(null,i,e,n.pdfViewerBase.getZoomFactor()))})},r.prototype.rerenderAnnotations=function(e){for(var t=this,i=document.querySelectorAll("#"+this.pdfViewer.element.id+"_old_annotationCanvas_"+e),n=0;n<i.length;n++)i[parseInt(n.toString(),10)]&&i[parseInt(n.toString(),10)].parentElement.removeChild(i[parseInt(n.toString(),10)]);["_annotationCanvas_"+e,"_blendAnnotationsIntoCanvas_"+e].forEach(function(e){e=t.pdfViewerBase.getElement(e);e&&(e.style.display="block")})},r.prototype.onTextMarkupAnnotationMouseUp=function(e){var t,i,n,o,r=this.pdfViewer.annotationModule.getEventPageNumber(e);G.isNullOrUndefined(r)||isNaN(r)?this.pdfViewerBase.isClickedOnScrollBar(e,!0)||(this.clearCurrentAnnotation(),this.clearCurrentAnnotationSelection(r)):(t=this.pdfViewerBase.getElement("_annotationCanvas_"+r),i=this.pdfViewerBase.getElement("_blendAnnotationsIntoCanvas_"+r),this.currentTextMarkupAnnotation?this.selectedTextMarkup=this.currentTextMarkupAnnotation:this.selectedTextMarkup=null,this.clearCurrentSelectedAnnotation(),n=this.getCurrentMarkupAnnotation(e.clientX,e.clientY,r,t),o=this.getCurrentMarkupAnnotation(e.clientX,e.clientY,r,i),n&&!window.getSelection().toString()?this.onTextMarkupMouseUp(n,e,t,r):o&&!window.getSelection().toString()?this.onTextMarkupMouseUp(o,e,i,r):this.clearCurrentAnnotation(),(!this.pdfViewer.isMaintainSelection||this.pdfViewer.textSelectionModule.isTextSelection||n||o)&&this.clearCurrentAnnotationSelection(r))},r.prototype.onTextMarkupMouseUp=function(e,t,i,n){var o,r=!1,a=!1;e.annotationSettings&&e.annotationSettings.isLock&&(r=e.annotationSettings.isLock)&&this.pdfViewer.annotationModule.checkAllowedInteractions("Select",e)&&(r=!1,a=!this.pdfViewer.annotationModule.checkAllowedInteractions("PropertyChange",e)),r||(r=i.parentElement.getBoundingClientRect(),o=t.clientX-r.left,r=t.clientY-r.top,this.annotationClickPosition={x:o,y:r},this.selectAnnotation(e,i,n,t),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar&&this.pdfViewer.toolbarModule.annotationToolbarModule.createPropertyTools(this.currentTextMarkupAnnotation.textMarkupAnnotationType),this.currentTextMarkupAnnotation=e,this.selectTextMarkupCurrentPage=n,a||this.enableAnnotationPropertiesTool(!0),(o=document.getElementById(this.pdfViewer.element.id+"_commantPanel"))&&"block"===o.style.display&&((r=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+(n+1)))&&r.ej2_instances[0].expandItem(!0),i=document.getElementById(e.annotName))&&i.firstChild.click(),G.isBlazor())||this.pdfViewer.toolbarModule&&this.pdfViewer.enableAnnotationToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden=!0,this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem))},r.prototype.onTextMarkupAnnotationTouchEnd=function(e){var t,i,n,o,r=this.pdfViewer.annotationModule.getEventPageNumber(e);G.isNullOrUndefined(r)||isNaN(r)?null!=this.selectTextMarkupCurrentPage&&G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?(t=this.selectTextMarkupCurrentPage,this.selectTextMarkupCurrentPage=null,this.clearAnnotationSelection(t)):(this.clearCurrentAnnotation(),this.clearCurrentAnnotationSelection(r)):(this.currentTextMarkupAnnotation?this.selectedTextMarkup=this.currentTextMarkupAnnotation:this.selectedTextMarkup=null,this.clearCurrentAnnotationSelection(r),t=this.pdfViewerBase.getElement("_annotationCanvas_"+r),i=this.pdfViewerBase.getElement("_blendAnnotationsIntoCanvas_"+r),this.clearCurrentSelectedAnnotation(),n=this.getCurrentMarkupAnnotation(e.touches[0].clientX,e.touches[0].clientY,r,t),o=this.getCurrentMarkupAnnotation(e.touches[0].clientX,e.touches[0].clientY,r,i),n?this.onTextMarkupTouchEnd(n,t,e,r):o?this.onTextMarkupTouchEnd(o,i,e,r):this.clearCurrentAnnotation(),this.clearCurrentAnnotationSelection(r))},r.prototype.onTextMarkupTouchEnd=function(e,t,i,n){var o,r=!1;!(r=e.annotationSettings&&e.annotationSettings.isLock?e.annotationSettings.isLock:r)&&(r=t.parentElement.getBoundingClientRect(),o=i.touches[0].clientX-r.left,r=i.touches[0].clientY-r.top,this.annotationClickPosition={x:o,y:r},this.selectAnnotation(e,t,n,i),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar&&this.pdfViewer.toolbarModule.annotationToolbarModule.createPropertyTools(this.currentTextMarkupAnnotation.textMarkupAnnotationType),this.currentTextMarkupAnnotation=e,this.selectTextMarkupCurrentPage=n,this.enableAnnotationPropertiesTool(!0),(o=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+(n+1)))&&o.ej2_instances[0].expandItem(!0),r=document.getElementById(e.annotName))&&!G.Browser.isDevice&&r.firstChild.click()},r.prototype.clearCurrentSelectedAnnotation=function(){var e;this.currentTextMarkupAnnotation&&(this.clearAnnotationSelection(this.selectTextMarkupCurrentPage),e=this.currentTextMarkupAnnotation,this.pdfViewer.fireAnnotationUnSelect(e.annotName,e.pageNumber,e),this.currentTextMarkupAnnotation=null,this.clearCurrentAnnotation())},r.prototype.onTextMarkupAnnotationMouseMove=function(o){var r,a=this,s=o.target;parseInt(s.id.split("_text_")[1],10)||parseInt(s.id.split("_textLayer_")[1],10)||parseInt(s.id.split("_annotationCanvas_")[1],10);o.target&&(-1<s.id.indexOf("_text")||-1<s.id.indexOf("_annotationCanvas")||s.classList.contains("e-pv-hyperlink"))&&this.pdfViewer.annotation&&(r=this.pdfViewer.annotation.getEventPageNumber(o),["_annotationCanvas_","_blendAnnotationsIntoCanvas_"].forEach(function(e){var t,i,n,e=a.pdfViewerBase.getElement(e+r),e=a.getCurrentMarkupAnnotation(o.clientX,o.clientY,r,e);e?(o.target.style.cursor="pointer",i=a.pdfViewerBase.getMousePosition(o),t={left:(t=a.pdfViewerBase.relativePosition(o)).x,top:t.y},i={left:i.x,top:i.y},n={opacity:e.opacity,color:e.color,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate},a.pdfViewerBase.isMousedOver=!0,a.pdfViewer.fireAnnotationMouseover(e.annotName,e.pageNumber,e.textMarkupAnnotationType,e.bounds,n,i,t)):(a.pdfViewer.annotationModule.hidePopupNote(),a.pdfViewerBase.isPanMode&&!a.pdfViewerBase.getAnnotationToolStatus()&&(s.style.cursor="grab"),a.pdfViewerBase.isMousedOver&&!a.pdfViewerBase.isFormFieldMousedOver&&(a.pdfViewer.fireAnnotationMouseLeave(r),a.pdfViewerBase.isMousedOver=!1))}))},r.prototype.showPopupNote=function(e,t){t.note&&this.pdfViewer.annotationModule.showPopupNote(e,t.color,t.author,t.note,t.textMarkupAnnotationType)},r.prototype.getCurrentMarkupAnnotation=function(e,t,i,n){var o=[];if(n){var r=n.parentElement.getBoundingClientRect(),a=e-(r=n.clientWidth!==n.parentElement.clientWidth?n.getBoundingClientRect():r).left,s=t-r.top,l=this.getAnnotations(i,null),A=!1;if(l)for(var d=0;d<l.length;d++)for(var p=l[parseInt(d.toString(),10)],h=0;h<p.bounds.length;h++){var c=p.bounds[parseInt(h.toString(),10)],g=c.left||c.Left,u=c.top||c.Top,f=c.width||c.Width,c=c.height||c.Height;if(a>=this.getMagnifiedValue(g,this.pdfViewerBase.getZoomFactor())&&a<=this.getMagnifiedValue(g+f,this.pdfViewerBase.getZoomFactor())&&s>=this.getMagnifiedValue(u,this.pdfViewerBase.getZoomFactor())&&s<=this.getMagnifiedValue(u+c,this.pdfViewerBase.getZoomFactor()))o.push(p),A=!0;else if(A){A=!1;break}}e=null;return 1<o.length?e=this.compareCurrentAnnotations(o):1===o.length&&(e=o[0]),e}return null},r.prototype.compareCurrentAnnotations=function(e){for(var t,i=null,n=0;n<e.length&&n!==e.length-1;n++){var o=e[parseInt(n.toString(),10)].bounds,r=o[0].left||o[0].Left,o=o[0].top||o[0].Top,a=e[n+1].bounds,s=a[0].left||a[0].Left,a=a[0].top||a[0].Top,i=r<s||o<a?(t=s,e[n+1]):(t=r,e[parseInt(n.toString(),10)]);t&&n===e.length-2&&t===r&&t===s&&(t=s,i=e[n+1])}return i},r.prototype.clearAnnotationSelection=function(t){var i=this;["_annotationCanvas_"+t,"_blendAnnotationsIntoCanvas_"+t].forEach(function(e){e=i.pdfViewerBase.getElement(e);e&&(e.getContext("2d").setLineDash([]),i.pdfViewer.annotationModule.renderAnnotations(t,null,null,null))})},r.prototype.selectAnnotation=function(e,t,i,n,o){this.pdfViewer.selectedItems.annotations[0]&&(this.pdfViewer.clearSelection(this.pdfViewer.selectedItems.annotations[0].pageIndex),this.pdfViewer.clearSelection(this.selectTextMarkupCurrentPage));var r=!1;(r=e.annotationSettings&&e.annotationSettings.isLock&&(r=e.annotationSettings.isLock)&&this.pdfViewer.annotationModule.checkAllowedInteractions("Select",e)?!1:r)||(r=!1,this.currentTextMarkupAnnotation||(r=!0),this.selectedTextMarkup&&e&&!o&&(r=this.selectedTextMarkup.annotName!==e.annotName),isNaN(i)||(this.selectTextMarkupCurrentPage=i,this.currentTextMarkupAnnotation=e,e=this.retreiveTextIndex(e),this.currentTextMarkupAnnotation=e),this.isSelectedAnnotation&&this.pdfViewer.textSelectionModule&&(this.pdfViewerBase.isSelection=!0,this.updateAnnotationBounds()),o=n,this.isEnableTextMarkupResizer(e.textMarkupAnnotationType)&&e&&o&&!o.touches&&this.updateCurrentResizerPosition(e),this.drawAnnotationSelector(e,this.currentTextMarkupAnnotation,t),e.isMultiSelect&&e.annotNameCollection&&this.selectMultiPageAnnotations(e),""===e.annotName||this.isNewAnnotation||r&&(this.pdfViewer.annotationModule.annotationSelect(e.annotName,this.selectTextMarkupCurrentPage,e,null,!1,!o),this.selectedTextMarkup=null),e&&this.isEnableTextMarkupResizer(e.textMarkupAnnotationType)&&(this.isTextMarkupAnnotationMode=!0))},r.prototype.updateCurrentResizerPosition=function(e){var t,i,n;(e=e||this.currentTextMarkupAnnotation)&&this.isEnableTextMarkupResizer(e.textMarkupAnnotationType)&&e&&(t=this.pdfViewerBase.getElement("_textLayer_"+this.selectTextMarkupCurrentPage))&&(t=t.getBoundingClientRect(),n=e.bounds[0].left||e.bounds[0].Left,i=e.bounds[0].top||e.bounds[0].Top,this.updateLeftposition(n*this.pdfViewerBase.getZoomFactor()+t.left,t.top+i,!0),i=(n=e.bounds[e.bounds.length-1]).left||n.Left,e=n.top||n.Top,n=n.width||n.Width,this.updatePosition((i+n)*this.pdfViewerBase.getZoomFactor()+t.left,e+t.top,!0))},r.prototype.drawAnnotationSelectRect=function(e,t,i,n,o,r){var a,s,l=this.pdfViewerBase.getZoomRatio();e&&((e=e.getContext("2d")).setTransform(1,0,0,1,0,0),e.beginPath(),"string"==typeof r.annotationSelectorSettings?(2<(a=0===JSON.parse(r.annotationSelectorSettings).selectorLineDashArray.length?[4]:JSON.parse(r.annotationSelectorSettings).selectorLineDashArray).length&&(a=[a[0],a[1]]),e.setLineDash(a),e.globalAlpha=1,e.rect(t*l,i*l,n*l,o*l),e.closePath(),s=""===JSON.parse(r.annotationSelectorSettings).selectionBorderColor?"#0000ff":JSON.parse(r.annotationSelectorSettings).selectionBorderColor,e.strokeStyle=s,e.lineWidth=1===JSON.parse(r.annotationSelectorSettings).selectionBorderThickness?1:r.annotationSelectorSettings.selectionBorderThickness):(2<(a=0===r.annotationSelectorSettings.selectorLineDashArray.length?[4]:r.annotationSelectorSettings.selectorLineDashArray).length&&(a=[a[0],a[1]]),e.setLineDash(a),e.globalAlpha=1,e.rect(t*l,i*l,n*l,o*l),e.closePath(),s=""===r.annotationSelectorSettings.selectionBorderColor?"#0000ff":r.annotationSelectorSettings.selectionBorderColor,e.strokeStyle=s,e.lineWidth=r.annotationSelectorSettings.selectionBorderThickness&&1),e.stroke(),e.save())},r.prototype.enableAnnotationPropertiesTool=function(e){this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&(this.pdfViewer.toolbarModule.annotationToolbarModule.colorDropDownElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-color-container")),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&(G.Browser.isDevice||this.pdfViewer.toolbarModule.annotationToolbarModule.createMobileAnnotationToolbar(e)),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.isMobileAnnotEnabled&&0===this.pdfViewer.selectedItems.annotations.length&&this.pdfViewer.toolbarModule.annotationToolbarModule&&(this.pdfViewer.toolbarModule.annotationToolbarModule.selectAnnotationDeleteItem(e),e=e,this.isTextMarkupAnnotationMode&&(e=!0),this.pdfViewer.toolbarModule.annotationToolbarModule.enableTextMarkupAnnotationPropertiesTools(e),this.currentTextMarkupAnnotation?G.isBlazor()?this.pdfViewer.toolbarModule.annotationToolbarModule.updateColorInIcon(this.pdfViewer.toolbarModule.annotationToolbarModule.colorDropDownElementInBlazor,this.currentTextMarkupAnnotation.color):this.pdfViewer.toolbarModule.annotationToolbarModule.updateColorInIcon(this.pdfViewer.toolbarModule.annotationToolbarModule.colorDropDownElement,this.currentTextMarkupAnnotation.color):G.isNullOrUndefined(this.isTextMarkupAnnotationMode)||this.isTextMarkupAnnotationMode?this.pdfViewer.toolbarModule.annotationToolbarModule.setCurrentColorInPicker():G.isBlazor()?this.pdfViewer.toolbarModule.annotationToolbarModule.updateColorInIcon(this.pdfViewer.toolbarModule.annotationToolbarModule.colorDropDownElementInBlazor,"#000000"):this.pdfViewer.toolbarModule.annotationToolbarModule.updateColorInIcon(this.pdfViewer.toolbarModule.annotationToolbarModule.colorDropDownElement,"#000000"))},r.prototype.maintainAnnotationSelection=function(){var e;this.currentTextMarkupAnnotation&&(e="_blendAnnotationsIntoCanvas_"==(e="Highlight"===this.currentTextMarkupAnnotation.textMarkupAnnotationType?"_blendAnnotationsIntoCanvas_":"_annotationCanvas_")?this.pdfViewerBase.getElement(e+this.selectTextMarkupCurrentPage):this.pdfViewerBase.getAnnotationCanvas(e,this.selectTextMarkupCurrentPage))&&this.selectAnnotation(this.currentTextMarkupAnnotation,e,this.selectTextMarkupCurrentPage)},r.prototype.manageAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_textMarkup");(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_textMarkup"]:i)&&(i=JSON.parse(i),this.pdfViewerBase.isStorageExceed||F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_textMarkup"),null!=(t=this.pdfViewer.annotationModule.getPageCollection(i,t))&&i[parseInt(t.toString(),10)]&&(i[parseInt(t.toString(),10)].annotations=e),t=JSON.stringify(i),this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_textMarkup"]=t:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_textMarkup",t))},r.prototype.getAnnotations=function(e,t,i){var n=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+(i=null!=i&&void 0!==i?i:"_annotations_textMarkup"));return(n=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+i]:n)&&(i=JSON.parse(n),null!=(n=this.pdfViewer.annotationModule.getPageCollection(i,e)))&&i[parseInt(n.toString(),10)]?i[parseInt(n.toString(),10)].annotations:t},r.prototype.getAddedAnnotation=function(e,t,i,n,o,r,a,s,l,A,d,p,h,c,g,u,f){var a=a||this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),m=this.pdfViewer.annotation.createGUID(),w=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("textMarkup",d+1,e),w=(w&&(document.getElementById(w).id=m),this.pdfViewer.annotationSettings),B=this.getIsPrintValue(e),t={textMarkupAnnotationType:e,color:t,opacity:i,bounds:n,author:o,allowedInteractions:u,subject:r,modifiedDate:a,note:s,rect:A,annotName:m,comments:[],review:{state:"",stateModel:"",author:o,modifiedDate:a},shapeAnnotationType:"textMarkup",pageNumber:d,textMarkupContent:p,textMarkupStartIndex:h,textMarkupEndIndex:c,isMultiSelect:g,annotationSelectorSettings:this.getSelector(e),customData:this.pdfViewer.annotation.getTextMarkupData(r),annotationAddMode:this.annotationAddMode,annotationSettings:w,isPrint:B,isCommentLock:l,isAnnotationRotated:!1,annotationRotation:f,isLocked:!1},i=(t.annotationSettings=this.pdfViewer.annotationModule.updateAnnotationSettings(t),g&&this.multiPageCollection.push(t),!1),n=(g&&this.isExtended&&(i=!0),document.getElementById(m)&&!i&&document.getElementById(m).addEventListener("mouseup",this.annotationDivSelect(t,d)),this.pdfViewer.annotationModule.storeAnnotations(d,t,"_annotations_textMarkup"));return this.pdfViewer.annotationModule.addAction(d,n,t,"Text Markup Added",null),t},r.prototype.getSelector=function(e){var t=this.pdfViewer.annotationSelectorSettings;return"Highlight"===e&&this.pdfViewer.highlightSettings.annotationSelectorSettings?t=this.pdfViewer.highlightSettings.annotationSelectorSettings:"Underline"===e&&this.pdfViewer.underlineSettings.annotationSelectorSettings?t=this.pdfViewer.underlineSettings.annotationSelectorSettings:"Strikethrough"===e&&this.pdfViewer.strikethroughSettings.annotationSelectorSettings&&(t=this.pdfViewer.strikethroughSettings.annotationSelectorSettings),t},r.prototype.getIsPrintValue=function(e){var t=!0;return"Highlight"===e&&(t=this.pdfViewer.highlightSettings.isPrint),"Underline"===e&&(t=this.pdfViewer.underlineSettings.isPrint),"Strikethrough"===e&&(t=this.pdfViewer.strikethroughSettings.isPrint),t=G.isNullOrUndefined(t)?!0:t},r.prototype.annotationDivSelect=function(e,t){var i="Highlight"===e.textMarkupAnnotationType?"_blendAnnotationsIntoCanvas_":"_annotationCanvas_",i="_blendAnnotationsIntoCanvas_"==i?this.pdfViewerBase.getElement(i+t):this.pdfViewerBase.getAnnotationCanvas(i,t);this.selectAnnotation(e,i,t),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.enableAnnotationToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.clearShapeMode(),this.pdfViewer.toolbarModule.annotationToolbarModule.clearMeasureMode(),i=!1,(i=e.annotationSettings&&e.annotationSettings.isLock?e.annotationSettings.isLock:i)?(this.pdfViewer.annotationModule.checkAllowedInteractions("PropertyChange",e)&&(this.pdfViewer.toolbarModule.annotationToolbarModule.enableTextMarkupAnnotationPropertiesTools(!0),this.pdfViewer.toolbarModule.annotationToolbarModule.setCurrentColorInPicker()),this.pdfViewer.annotationModule.checkAllowedInteractions("Delete",e)&&this.pdfViewer.toolbarModule.annotationToolbarModule.selectAnnotationDeleteItem(!0)):(this.pdfViewer.toolbarModule.annotationToolbarModule.enableTextMarkupAnnotationPropertiesTools(!0),this.pdfViewer.toolbarModule.annotationToolbarModule.selectAnnotationDeleteItem(!0),this.pdfViewer.toolbarModule.annotationToolbarModule.setCurrentColorInPicker()),this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden=!0,G.isBlazor()||this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem))},r.prototype.getPageContext=function(e,t){t="_annotationCanvas_"===t?this.pdfViewerBase.getAnnotationCanvas(t,e):this.pdfViewerBase.getElement(t+e),e=null;return e=t?t.getContext("2d"):e},r.prototype.getDefaultValue=function(e){return e/this.pdfViewerBase.getZoomFactor()},r.prototype.getMagnifiedValue=function(e,t){return e*t},r.prototype.saveImportedTextMarkupAnnotations=function(e,t){e.Author=this.pdfViewer.annotationModule.updateAnnotationAuthor("textMarkup",e.Subject),e.allowedInteractions=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),e.AnnotationSettings=e.AnnotationSettings||this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),e={textMarkupAnnotationType:e.TextMarkupAnnotationType,color:e.Color,opacity:e.Opacity,allowedInteractions:e.allowedInteractions,bounds:e.Bounds,author:e.Author,subject:e.Subject,modifiedDate:e.ModifiedDate,note:e.Note,rect:e.Rect,annotName:e.AnnotName,isLocked:e.IsLocked,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},shapeAnnotationType:"textMarkup",pageNumber:t,textMarkupContent:"",textMarkupStartIndex:0,textMarkupEndIndex:0,annotationSelectorSettings:this.getSettings(e),customData:this.pdfViewer.annotation.getCustomData(e),isMultiSelect:e.IsMultiSelect,annotNameCollection:e.AnnotNameCollection,annotpageNumbers:e.AnnotpageNumbers,annotationAddMode:this.annotationAddMode,annotationSettings:e.AnnotationSettings,isPrint:e.IsPrint,isCommentLock:e.IsCommentLock,isAnnotationRotated:!1},this.pdfViewer.annotationModule.storeAnnotations(t,e,"_annotations_textMarkup")},r.prototype.updateTextMarkupAnnotationCollections=function(e,t){return e.allowedInteractions=e.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),e.AnnotationSettings=e.AnnotationSettings||this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked),{textMarkupAnnotationType:e.TextMarkupAnnotationType,allowedInteractions:e.allowedInteractions,color:e.Color,opacity:e.Opacity,bounds:e.Bounds,author:e.Author,subject:e.Subject,modifiedDate:e.ModifiedDate,note:e.Note,rect:e.Rect,annotationId:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},shapeAnnotationType:"textMarkup",pageNumber:t,isMultiSelect:e.IsMultiSelect,annotNameCollection:e.AnnotNameCollection,annotpageNumbers:e.AnnotpageNumbers,customData:this.pdfViewer.annotation.getCustomData(e),annotationSettings:e.AnnotationSettings,isLocked:e.IsLocked,isPrint:e.IsPrint,isCommentLock:e.IsCommentLock}},r.prototype.updateTextMarkupSettings=function(e){"highlightSettings"===e&&(this.highlightColor=this.pdfViewer.highlightSettings.color||this.highlightColor,this.highlightOpacity=this.pdfViewer.highlightSettings.opacity||this.highlightOpacity),"underlineSettings"===e&&(this.underlineColor=this.pdfViewer.underlineSettings.color||this.underlineColor,this.underlineOpacity=this.pdfViewer.underlineSettings.opacity||this.underlineOpacity),"strikethroughSettings"===e&&(this.strikethroughColor=this.pdfViewer.strikethroughSettings.color||this.strikethroughColor,this.strikethroughOpacity=this.pdfViewer.strikethroughSettings.opacity||this.strikethroughOpacity)},r.prototype.clear=function(){this.selectTextMarkupCurrentPage=null,this.currentTextMarkupAnnotation=null,this.annotationClickPosition=null,F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_textMarkup")},r.prototype.getOffsetPoints=function(e){for(var t=[],i=0;i<e.length;i++)t[parseInt(i.toString(),10)]={X:e[parseInt(i.toString(),10)].x,Y:e[parseInt(i.toString(),10)].y,Width:e[parseInt(i.toString(),10)].width,Height:e[parseInt(i.toString(),10)].height,Left:e[parseInt(i.toString(),10)].x,Top:e[parseInt(i.toString(),10)].y};return t},r.prototype.updateAddAnnotationDetails=function(e,t){t=t||{pageNumber:0};var i=null,n=null,o="",r=null,a="",s=[],l=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),A=this.pdfViewer.annotation.createGUID(),e=("Highlight"===e?(i=this.pdfViewer.highlightSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(i),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.highlightSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("textMarkup",e),n=this.pdfViewer.highlightSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,o="Highlight",a=t.color||"#FFDF56"):"Underline"===e?(i=this.pdfViewer.underlineSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(i),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.underlineSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("textMarkup",e),n=this.pdfViewer.underlineSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,o="Underline",a=t.color||"#00ff00"):"Strikethrough"===e&&(i=this.pdfViewer.strikethroughSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(i),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.strikethroughSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("textMarkup",e),n=this.pdfViewer.strikethroughSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,o="Strikethrough",a=t.color||"#ff0000"),r.isLock=t.isLock||r.isLock,s=t.bounds?this.getOffsetPoints(t.bounds):[{X:1,Y:1,Width:100,Height:14,Left:1,Top:1,Location:{X:1,Y:1},Size:{Height:14,IsEmpty:!1,Width:100}}],[]),n={AllowedInteractions:t.allowedInteractions||n,AnnotName:A,AnnotNameCollection:null,AnnotType:"textMarkup",AnnotationSelectorSettings:t.annotationSelectorSettings||i,AnnotationSettings:r,Author:t.author||"Guest",Bounds:s,Color:t.color||a,Comments:null,CreatedDate:l,CustomData:t.customData||null,ExistingCustomData:null,EnableMultiPageAnnotation:t.enableMultiPageAnnotation||!1,EnableTextMarkupResizer:t.enableTextMarkupResizer||!1,IsCommentLock:!1,IsMultiSelect:!1,IsLocked:t.isLock||!1,IsLock:t.isLock||!1,IsPrint:!!G.isNullOrUndefined(t.isPrint)||t.isPrint,ModifiedDate:"",Note:"",Opacity:t.opacity||1,Rect:{},State:"",StateModel:"",Subject:t.subject||o,TextMarkupAnnotationType:o};return e[0]=n,{textMarkupAnnotation:e}};var _t=r;function r(e,t){var i=this;this.currentTextMarkupAddMode="",this.selectTextMarkupCurrentPage=null,this.currentTextMarkupAnnotation=null,this.isAddAnnotationProgramatically=!1,this.currentAnnotationIndex=null,this.isAnnotationSelect=!1,this.isDropletClicked=!1,this.isRightDropletClicked=!1,this.isLeftDropletClicked=!1,this.isSelectionMaintained=!1,this.isExtended=!1,this.isNewAnnotation=!1,this.selectedTextMarkup=null,this.multiPageCollection=[],this.triggerAddEvent=!1,this.isSelectedAnnotation=!1,this.dropletHeight=20,this.strikeoutDifference=-3,this.underlineDifference=2,this.annotationClickPosition={},this.maintainSelection=function(){i.isDropletClicked=!0,i.pdfViewer.textSelectionModule.initiateSelectionByTouch(),i.isExtended=!0,i.pdfViewer.textSelectionModule.selectionRangeArray=[]},this.selectionEnd=function(){i.isDropletClicked&&(i.isDropletClicked=!1)},this.annotationLeftMove=function(){i.isDropletClicked&&(i.isLeftDropletClicked=!0)},this.annotationRightMove=function(){i.isDropletClicked&&(i.isRightDropletClicked=!0)},this.pdfViewer=e,this.pdfViewerBase=t}Object.defineProperty(a.prototype,"pixelToPointFactor",{get:function(){return.75},enumerable:!0,configurable:!0}),a.prototype.renderMeasureShapeAnnotations=function(e,t,i,n){if(e)if(1<=e.length){if(!this.pdfViewer.annotation.getStoredAnnotations(t,e,"_annotations_shape_measure")||i||n)for(var o=0;o<e.length;o++){var r=e[parseInt(o.toString(),10)],a=null,s=(this.measureShapeCount=this.measureShapeCount+1,r.annotationAddMode=this.pdfViewer.annotationModule.findAnnotationMode(r,t,r.AnnotType),void 0);if(r.ShapeAnnotationType){i&&this.pdfViewerBase.isJsonImported&&(r.Bounds=this.pdfViewerBase.importJsonForRotatedDocuments(r.Rotate,t,r.Bounds,r.AnnotationRotation),s=this.pdfViewerBase.isPageRotated);var l=null;if(r.VertexPoints)if(l=[],i&&this.pdfViewerBase.isJsonImported)l=this.pdfViewerBase.calculateVertexPoints(r.Rotate,t,r.VertexPoints,r.AnnotationRotation);else for(var A=0;A<r.VertexPoints.length;A++){var d=r.VertexPoints[parseInt(A.toString(),10)].X?r.VertexPoints[parseInt(A.toString(),10)].X:r.VertexPoints[parseInt(A.toString(),10)].x,p=r.VertexPoints[parseInt(A.toString(),10)].Y?r.VertexPoints[parseInt(A.toString(),10)].Y:r.VertexPoints[parseInt(A.toString(),10)].y;l.push({x:d,y:p})}r.Bounds&&!0===r.EnableShapeLabel&&(r.LabelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBoundsFromLoadedDocument(r.Bounds),r.LabelBorderColor=r.LabelBorderColor||r.StrokeColor,r.FontColor=r.FontColor||r.StrokeColor,r.LabelFillColor=r.LabelFillColor||r.FillColor,r.FontSize=r.FontSize||16,r.LabelSettings=r.LabelSettings||this.pdfViewer.shapeLabelSettings),r.AnnotationSettings=r.AnnotationSettings||this.pdfViewer.annotationModule.updateAnnotationSettings(r),r.IsLocked&&(r.AnnotationSettings.isLock=r.IsLocked),r.allowedInteractions=r.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(r);var h=r.IsPrint,c={ratio:r.Calibrate.Ratio,x:this.getNumberFormatArray(r.Calibrate.X),distance:this.getNumberFormatArray(r.Calibrate.Distance),area:this.getNumberFormatArray(r.Calibrate.Area),angle:this.getNumberFormatArray(r.Calibrate.Angle),volume:this.getNumberFormatArray(r.Calibrate.Volume),targetUnitConversion:r.Calibrate.TargetUnitConversion},g=(r.Calibrate.Depth&&(c.depth=r.Calibrate.Depth),r.Bounds.X||r.Bounds.x),u=r.Bounds.Y||r.Bounds.y,f=r.Bounds.Width||r.Bounds.width,m=r.Bounds.Height||r.Bounds.height,g=(a={id:"measure"+this.measureShapeCount,shapeAnnotationType:r.ShapeAnnotationType,author:r.Author,allowedInteractions:r.allowedInteractions,modifiedDate:r.ModifiedDate,subject:r.Subject,note:r.Note,strokeColor:r.StrokeColor,fillColor:r.FillColor,opacity:r.Opacity,thickness:r.Thickness,rectangleDifference:r.RectangleDifference,borderStyle:r.BorderStyle,borderDashArray:r.BorderDashArray,rotateAngle:r.RotateAngle,isCloudShape:r.IsCloudShape,cloudIntensity:r.CloudIntensity,vertexPoints:l,lineHeadStart:r.LineHeadStart,lineHeadEnd:r.LineHeadEnd,isLocked:r.IsLocked,bounds:{left:g,top:u,width:f,height:m,right:r.Bounds.Right,bottom:r.Bounds.Bottom},caption:r.Caption,captionPosition:r.CaptionPosition,calibrate:c,leaderLength:r.LeaderLength,leaderLineExtension:r.LeaderLineExtension,leaderLineOffset:r.LeaderLineOffset,indent:r.Indent,annotName:r.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(r.Comments,r,r.Author),review:{state:r.State,stateModel:r.StateModel,modifiedDate:r.ModifiedDate,author:r.Author},labelContent:r.LabelContent,enableShapeLabel:r.EnableShapeLabel,labelFillColor:r.LabelFillColor,fontColor:r.FontColor,labelBorderColor:r.LabelBorderColor,fontSize:r.FontSize,labelBounds:r.LabelBounds,annotationSelectorSettings:this.getSettings(r),labelSettings:r.LabelSettings,annotationSettings:r.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(r),isPrint:r.IsPrint,isCommentLock:r.IsCommentLock,isAnnotationRotated:s}).vertexPoints,u=(null==l&&(g=[]),"string"==typeof r.AnnotationSelectorSettings?JSON.parse(r.AnnotationSelectorSettings):r.AnnotationSelectorSettings),f=(G.isNullOrUndefined(r.AnnotationSelectorSettings)?this.pdfViewerBase.annotationSelectorSettingLoad(r):r.AnnotationSelectorSettings=u,r.allowedInteractions=r.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(r),{id:"measure"+this.measureShapeCount,shapeAnnotationType:this.getShapeType(a),author:a.author,allowedInteractions:r.allowedInteractions,modifiedDate:a.modifiedDate,subject:a.subject,notes:a.note,fillColor:a.fillColor,strokeColor:a.strokeColor,opacity:a.opacity,thickness:a.thickness,borderStyle:a.borderStyle,borderDashArray:a.borderDashArray.toString(),rotateAngle:parseFloat(a.rotateAngle.split("Angle")[1]),isCloudShape:a.isCloudShape,cloudIntensity:a.cloudIntensity,taregetDecoraterShapes:this.pdfViewer.annotation.getArrowType(a.lineHeadEnd),sourceDecoraterShapes:this.pdfViewer.annotation.getArrowType(a.lineHeadStart),vertexPoints:g,bounds:{x:a.bounds.left,y:a.bounds.top,width:a.bounds.width,height:a.bounds.height},leaderHeight:a.leaderLength,pageIndex:t,annotName:a.annotName,comments:a.comments,review:a.review,measureType:this.getMeasureType(a),labelContent:r.LabelContent,enableShapeLabel:r.EnableShapeLabel,labelFillColor:r.LabelFillColor,fontColor:r.FontColor,labelBorderColor:r.LabelBorderColor,fontSize:r.FontSize,labelBounds:r.LabelBounds,annotationSelectorSettings:r.AnnotationSelectorSettings,annotationSettings:a.annotationSettings,annotationAddMode:r.annotationAddMode,isPrint:h,isCommentLock:a.isCommentLock,customData:a.customData});this.pdfViewer.annotation.storeAnnotations(t,a,"_annotations_shape_measure"),this.pdfViewer.add(f),this.isAddAnnotationProgramatically&&(m={opacity:f.opacity,strokeColor:f.strokeColor,thickness:f.thickness,modifiedDate:f.modifiedDate,width:f.bounds.width,height:f.bounds.height},this.pdfViewer.fireAnnotationAdd(f.pageIndex,f.annotName,r.ShapeAnnotationType,f.bounds,m))}}}else e.shapeAnnotationType&&(a=this.createAnnotationObject(e),this.pdfViewer.annotationModule.isFormFieldShape=!1,this.pdfViewer.annotationModule.storeAnnotations(t,a,"_annotations_shape_measure"),e&&(e.customData=a.customData),this.pdfViewer.annotationModule.triggerAnnotationAdd(e))},a.prototype.getSettings=function(e){this.pdfViewer.annotationSelectorSettings;return e.AnnotationSelectorSettings?"string"==typeof e.AnnotationSelectorSettings?JSON.parse(e.AnnotationSelectorSettings):e.AnnotationSelectorSettings:this.getSelector(e.Subject)},a.prototype.setAnnotationType=function(e){var t="Guest",i="";switch(this.updateMeasureproperties(),this.pdfViewerBase.disableTextSelectionMode(),e){case"Distance":this.currentAnnotationMode="Distance";this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();var t="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.distanceSettings.author||"Guest",i=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.distanceSettings.subject||"Distance calculation":this.pdfViewer.annotationSettings.subject,n=G.isNullOrUndefined(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.distanceSettings.customData||null:this.pdfViewer.annotationSettings.customData;this.pdfViewer.drawingObject={sourceDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.distanceStartHead),taregetDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.distanceEndHead),measureType:"Distance",fillColor:this.distanceFillColor,notes:"",strokeColor:this.distanceStrokeColor,leaderHeight:this.leaderLength,opacity:this.distanceOpacity,thickness:this.distanceThickness,borderDashArray:this.distanceDashArray.toString(),shapeAnnotationType:"Distance",author:t,subject:i,isCommentLock:!1,customData:n},this.pdfViewer.tool="Distance";break;case"Perimeter":this.currentAnnotationMode="Perimeter";this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();t="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.perimeterSettings.author||"Guest",i=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.perimeterSettings.subject||"Perimeter calculation":this.pdfViewer.annotationSettings.subject,this.pdfViewer.drawingObject={shapeAnnotationType:"LineWidthArrowHead",fillColor:this.perimeterFillColor,notes:"",strokeColor:this.perimeterStrokeColor,opacity:this.perimeterOpacity,thickness:this.perimeterThickness,sourceDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.perimeterStartHead),taregetDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.perimeterEndHead),measureType:"Perimeter",borderDashArray:this.perimeterDashArray.toString(),author:t,subject:i,isCommentLock:!1,customData:n},this.pdfViewer.tool="Perimeter";break;case"Area":this.currentAnnotationMode="Area";var o=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();t="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.areaSettings.author||"Guest",i=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.areaSettings.subject||"Area calculation":this.pdfViewer.annotationSettings.subject,this.pdfViewer.drawingObject={shapeAnnotationType:"Polygon",fillColor:this.areaFillColor,notes:"",strokeColor:this.areaStrokeColor,thickness:this.areaThickness,opacity:this.areaOpacity,measureType:"Area",modifiedDate:o,borderStyle:"",borderDashArray:"0",author:t,subject:i,isCommentLock:!1,customData:n},this.pdfViewer.tool="Polygon";break;case"Radius":this.currentAnnotationMode="Radius";o=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();t="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.radiusSettings.author||"Guest",i=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.radiusSettings.subject||"Radius calculation":this.pdfViewer.annotationSettings.subject,n=G.isNullOrUndefined(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.radiusSettings.customData||null:this.pdfViewer.annotationSettings.customData,this.pdfViewer.drawingObject={shapeAnnotationType:"Radius",fillColor:this.radiusFillColor,notes:"",strokeColor:this.radiusStrokeColor,opacity:this.radiusOpacity,thickness:this.radiusThickness,measureType:"Radius",modifiedDate:o,borderStyle:"",borderDashArray:"0",author:t,subject:i,isCommentLock:!1,customData:n},this.pdfViewer.tool="DrawTool";break;case"Volume":this.currentAnnotationMode="Volume";o=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();t="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.volumeSettings.author||"Guest",i=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.volumeSettings.subject||"Volume calculation":this.pdfViewer.annotationSettings.subject,this.pdfViewer.drawingObject={shapeAnnotationType:"Polygon",notes:"",fillColor:this.volumeFillColor,strokeColor:this.volumeStrokeColor,opacity:this.volumeOpacity,thickness:this.volumeThickness,measureType:"Volume",modifiedDate:o,borderStyle:"",borderDashArray:"0",author:t,subject:i,isCommentLock:!1,customData:n},this.pdfViewer.tool="Polygon"}},a.prototype.updateMeasureproperties=function(){this.distanceFillColor=this.pdfViewer.distanceSettings.fillColor||"#ff0000",this.distanceStrokeColor=this.pdfViewer.distanceSettings.strokeColor||"#ff0000",this.distanceOpacity=this.pdfViewer.distanceSettings.opacity||1,this.distanceThickness=this.pdfViewer.distanceSettings.thickness||1,this.distanceDashArray=this.pdfViewer.distanceSettings.borderDashArray||0,this.leaderLength=null!=this.pdfViewer.distanceSettings.leaderLength?this.pdfViewer.distanceSettings.leaderLength:40,this.distanceStartHead=this.pdfViewer.distanceSettings.lineHeadStartStyle||"Closed",this.distanceEndHead=this.pdfViewer.distanceSettings.lineHeadEndStyle||"Closed",this.perimeterFillColor=this.pdfViewer.perimeterSettings.fillColor||"#ffffff00",this.perimeterStrokeColor=this.pdfViewer.perimeterSettings.strokeColor||"#ff0000",this.perimeterOpacity=this.pdfViewer.perimeterSettings.opacity||1,this.perimeterThickness=this.pdfViewer.perimeterSettings.thickness||1,this.perimeterDashArray=this.pdfViewer.perimeterSettings.borderDashArray||0,this.perimeterStartHead=this.pdfViewer.perimeterSettings.lineHeadStartStyle||"Open",this.perimeterEndHead=this.pdfViewer.perimeterSettings.lineHeadEndStyle||"Open",this.areaFillColor=this.pdfViewer.areaSettings.fillColor||"#ffffff00",this.areaStrokeColor=this.pdfViewer.areaSettings.strokeColor||"#ff0000",this.areaOpacity=this.pdfViewer.areaSettings.opacity||1,this.areaThickness=this.pdfViewer.areaSettings.thickness||1,this.radiusFillColor=this.pdfViewer.radiusSettings.fillColor||"#ffffff00",this.radiusStrokeColor=this.pdfViewer.radiusSettings.strokeColor||"#ff0000",this.radiusOpacity=this.pdfViewer.radiusSettings.opacity||1,this.radiusThickness=this.pdfViewer.radiusSettings.thickness||1,this.volumeFillColor=this.pdfViewer.volumeSettings.fillColor||"#ffffff00",this.volumeStrokeColor=this.pdfViewer.volumeSettings.strokeColor||"#ff0000",this.volumeOpacity=this.pdfViewer.volumeSettings.opacity||1,this.volumeThickness=this.pdfViewer.volumeSettings.thickness||1,this.unit=this.pdfViewer.measurementSettings.conversionUnit.toLowerCase(),this.displayUnit=this.pdfViewer.measurementSettings.displayUnit.toLowerCase(),!G.isNullOrUndefined(this.ratio)&&this.ratio===this.pdfViewer.measurementSettings.scaleRatio||(this.ratio=this.pdfViewer.measurementSettings.scaleRatio),this.volumeDepth=this.pdfViewer.measurementSettings.depth,this.scaleRatioString="1 "+this.unit+" = "+this.ratio.toString()+" "+this.displayUnit},a.prototype.createAnnotationObject=function(e){var t,i=this.pdfViewer.annotation.createGUID(),n=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("shape_measure",e.pageIndex+1,e.measureType),o=(n&&(document.getElementById(n).id=i),e.annotName=i,e.author=e&&"Guest"!=e.author?e.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e.subject),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(i,e.notes),n=e.wrapper.bounds?(t={left:e.wrapper.bounds.x,top:e.wrapper.bounds.y,height:e.wrapper.bounds.height,width:e.wrapper.bounds.width,right:e.wrapper.bounds.right,bottom:e.wrapper.bounds.bottom},this.pdfViewer.annotationModule.inputElementModule.calculateLabelBounds(e.wrapper.bounds)):(t={left:0,top:0,height:0,width:0,right:0,bottom:0},{left:0,top:0,height:0,width:0,right:0,bottom:0}),parseInt(e.borderDashArray,10)),o=isNaN(o)?0:o,r={ratio:this.scaleRatioString,x:[this.createNumberFormat("x")],distance:[this.createNumberFormat("d")],area:[this.createNumberFormat("a")]},a=("Volume"===e.measureType&&(r.depth=this.volumeDepth),this.pdfViewer.annotationModule.findAnnotationSettings(e,!0)),s=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),l=(e.isPrint=a.isPrint,this.pdfViewer.shapeLabelSettings),l={borderColor:e.strokeColor,fillColor:e.fillColor,fontColor:e.fontColor,fontSize:e.fontSize,labelContent:e.labelContent,labelHeight:l.labelHeight,labelWidth:l.labelMaxWidth,opacity:e.opacity};return{id:e.id,shapeAnnotationType:this.getShapeAnnotType(e.measureType),author:e.author,allowedInteractions:s,subject:e.subject,note:e.notes,strokeColor:e.strokeColor,fillColor:e.fillColor,opacity:e.opacity,thickness:e.thickness,borderStyle:e.borderStyle,borderDashArray:o,bounds:t,modifiedDate:this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),rotateAngle:"RotateAngle"+e.rotateAngle,isCloudShape:e.isCloudShape,cloudIntensity:e.cloudIntensity,vertexPoints:e.vertexPoints,lineHeadStart:this.pdfViewer.annotation.getArrowTypeForCollection(e.sourceDecoraterShapes),lineHeadEnd:this.pdfViewer.annotation.getArrowTypeForCollection(e.taregetDecoraterShapes),rectangleDifference:[],isLocked:a.isLock,leaderLength:e.leaderHeight,leaderLineExtension:2,leaderLineOffset:0,calibrate:r,caption:!0,captionPosition:"Top",indent:this.getIndent(e.measureType),annotName:i,comments:[],review:{state:"",stateModel:"",modifiedDate:this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),author:e.author},labelContent:e.labelContent,enableShapeLabel:e.enableShapeLabel,labelFillColor:e.labelFillColor,labelBorderColor:e.labelBorderColor,fontColor:e.fontColor,fontSize:e.fontSize,labelBounds:n,annotationSelectorSettings:this.getSelector(e.subject),labelSettings:l,annotationSettings:a,customData:this.pdfViewer.annotation.getMeasureData(e.subject),isPrint:e.isPrint,isCommentLock:e.isCommentLock,isAnnotationRotated:!1}},a.prototype.getSelector=function(e){var t=this.pdfViewer.annotationSelectorSettings;return"Distance calculation"===e&&this.pdfViewer.distanceSettings.annotationSelectorSettings?t=this.pdfViewer.distanceSettings.annotationSelectorSettings:"Perimeter calculation"===e&&this.pdfViewer.perimeterSettings.annotationSelectorSettings?t=this.pdfViewer.perimeterSettings.annotationSelectorSettings:"Area calculation"===e&&this.pdfViewer.areaSettings.annotationSelectorSettings?t=this.pdfViewer.areaSettings.annotationSelectorSettings:"Radius calculation"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?t=this.pdfViewer.radiusSettings.annotationSelectorSettings:"Volume calculation"===e&&this.pdfViewer.volumeSettings.annotationSelectorSettings&&(t=this.pdfViewer.volumeSettings.annotationSelectorSettings),t},a.prototype.getShapeAnnotType=function(e){var t;switch(e){case"Distance":t="Line";break;case"Perimeter":t="Polyline";break;case"Area":case"Volume":t="Polygon";break;case"Radius":t="Circle"}return t},a.prototype.getShapeType=function(e){var t;return"Line"===e.shapeAnnotationType?t="Distance":"Polyline"===e.shapeAnnotationType?t="LineWidthArrowHead":"Polygon"===e.shapeAnnotationType&&"PolygonDimension"===e.indent?t="Polygon":"Polygon"===e.shapeAnnotationType&&"PolygonRadius"===e.indent||"Circle"===e.shapeAnnotationType?t="Radius":"Polygon"===e.shapeAnnotationType&&"PolygonVolume"===e.indent&&(t="Polygon"),t},a.prototype.getMeasureType=function(e){var t;return"Line"===e.shapeAnnotationType?t="Distance":"Polyline"===e.shapeAnnotationType?t="Perimeter":"Polygon"===e.shapeAnnotationType&&"PolygonDimension"===e.indent?t="Area":"Polygon"===e.shapeAnnotationType&&"PolygonRadius"===e.indent||"Circle"===e.shapeAnnotationType?t="Radius":"Polygon"===e.shapeAnnotationType&&"PolygonVolume"===e.indent&&(t="Volume"),t},a.prototype.getIndent=function(e){var t;switch(e){case"Distance":t="LineDimension";break;case"Perimeter":t="PolyLineDimension";break;case"Area":t="PolygonDimension";break;case"Radius":t="PolygonRadius";break;case"Volume":t="PolygonVolume"}return t},a.prototype.getNumberFormatArray=function(e){var t=[];if(e)for(var i=0;i<e.length;i++)t[parseInt(i.toString(),10)]={unit:e[parseInt(i.toString(),10)].Unit,fractionalType:e[parseInt(i.toString(),10)].FractionalType,conversionFactor:e[parseInt(i.toString(),10)].ConversionFactor,denominator:e[parseInt(i.toString(),10)].Denominator,formatDenominator:e[parseInt(i.toString(),10)].FormatDenominator};return t},a.prototype.createNumberFormat=function(e){var t=1,i=this.displayUnit;return"x"===e&&(t=this.getFactor(this.unit)),{unit:i="a"===e?"sq "+this.displayUnit:i,fractionalType:"D",conversionFactor:t,denominator:100,formatDenominator:!1}},a.prototype.saveMeasureShapeAnnotations=function(){for(var e=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape_measure"),t=(this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape_measure"]),[]),i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s=0;a.annotations.length>s;s++){this.pdfViewer.annotationModule.updateModifiedDate(a.annotations[parseInt(s.toString(),10)]),this.pdfViewerBase.isJsonExported&&(a.annotations[parseInt(s.toString(),10)].isAnnotationRotated?(a.annotations[parseInt(s.toString(),10)].bounds=this.pdfViewer.annotation.getBounds(a.annotations[parseInt(s.toString(),10)].bounds,a.pageIndex),a.annotations[parseInt(s.toString(),10)].vertexPoints=this.pdfViewer.annotation.getVertexPoints(a.annotations[parseInt(s.toString(),10)].vertexPoints,a.pageIndex)):(A=this.pdfViewerBase.pageSize[a.pageIndex])&&(a.annotations[parseInt(s.toString(),10)].annotationRotation=A.rotation)),a.annotations[parseInt(s.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getBounds(a.annotations[parseInt(s.toString(),10)].bounds,a.pageIndex));var l,A=a.annotations[parseInt(s.toString(),10)].strokeColor,d=(a.annotations[parseInt(s.toString(),10)].strokeColor=JSON.stringify(this.getRgbCode(A)),a.annotations[parseInt(s.toString(),10)].fillColor);a.annotations[parseInt(s.toString(),10)].fillColor=JSON.stringify(this.getRgbCode(d)),a.annotations[parseInt(s.toString(),10)].vertexPoints=JSON.stringify(this.pdfViewer.annotation.getVertexPoints(a.annotations[parseInt(s.toString(),10)].vertexPoints,a.pageIndex)),null!==a.annotations[parseInt(s.toString(),10)].rectangleDifference&&(a.annotations[parseInt(s.toString(),10)].rectangleDifference=JSON.stringify(a.annotations[parseInt(s.toString(),10)].rectangleDifference)),a.annotations[parseInt(s.toString(),10)].calibrate=this.getStringifiedMeasure(a.annotations[parseInt(s.toString(),10)].calibrate),!0===a.annotations[parseInt(s.toString(),10)].enableShapeLabel&&(a.annotations[parseInt(s.toString(),10)].labelBounds=JSON.stringify(this.pdfViewer.annotationModule.inputElementModule.calculateLabelBounds(JSON.parse(a.annotations[parseInt(s.toString(),10)].bounds),a.pageIndex)),d=a.annotations[parseInt(s.toString(),10)].labelFillColor,a.annotations[parseInt(s.toString(),10)].labelFillColor=JSON.stringify(this.getRgbCode(d)),l=a.annotations[parseInt(s.toString(),10)].labelBorderColor,a.annotations[parseInt(s.toString(),10)].labelBorderColor=JSON.stringify(this.getRgbCode(l)),a.annotations[parseInt(s.toString(),10)].labelSettings.fillColor=d,l=a.annotations[parseInt(s.toString(),10)].labelSettings.fontColor,a.annotations[parseInt(s.toString(),10)].fontColor=JSON.stringify(this.getRgbCode(l)))}r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},a.prototype.createScaleRatioWindow=function(){var e,t,i=this;G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("OpenScaleRatioDialog"):(e=this.pdfViewer.element.id,e=G.createElement("div",{id:e+"_scale_ratio_window",className:"e-pv-scale-ratio-window"}),this.pdfViewerBase.pageContainer.appendChild(e),t=this.createRatioUI(),this.scaleRatioDialog=new k.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:this.pdfViewer.localeObj.getConstant("Scale Ratio"),target:this.pdfViewer.element,content:t,close:function(){i.sourceTextBox.destroy(),i.convertUnit.destroy(),i.destTextBox.destroy(),i.dispUnit.destroy(),i.scaleRatioDialog.destroy();var e=i.pdfViewerBase.getElement("_scale_ratio_window");e.parentElement.removeChild(e)}}),!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.scaleRatioDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.onOkClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.onCancelClicked.bind(this)}]:this.scaleRatioDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.onCancelClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.onOkClicked.bind(this)}],this.pdfViewer.enableRtl&&(this.scaleRatioDialog.enableRtl=!0),this.scaleRatioDialog.appendTo(e),this.convertUnit.content=this.createContent(this.pdfViewer.localeObj.getConstant(this.unit)).outerHTML,this.dispUnit.content=this.createContent(this.pdfViewer.localeObj.getConstant(this.displayUnit)).outerHTML,this.depthUnit.content=this.createContent(this.pdfViewer.localeObj.getConstant(this.displayUnit)).outerHTML)},a.prototype.createRatioUI=function(){var e=G.createElement("div"),t=this.pdfViewer.element.id,i=[{text:this.pdfViewer.localeObj.getConstant("pt"),label:"pt"},{text:this.pdfViewer.localeObj.getConstant("in"),label:"in"},{text:this.pdfViewer.localeObj.getConstant("mm"),label:"mm"},{text:this.pdfViewer.localeObj.getConstant("cm"),label:"cm"},{text:this.pdfViewer.localeObj.getConstant("p"),label:"p"},{text:this.pdfViewer.localeObj.getConstant("ft"),label:"ft"},{text:this.pdfViewer.localeObj.getConstant("ft_in"),label:"ft_in"},{text:this.pdfViewer.localeObj.getConstant("m"),label:"m"}],n=G.createElement("div",{id:t+"_scale_ratio_label",className:"e-pv-scale-ratio-text"}),n=(n.textContent=this.pdfViewer.localeObj.getConstant("Scale Ratio"),e.appendChild(n),G.createElement("div",{id:t+"_scale_src_container"})),o=(e.appendChild(n),this.createInputElement("input","e-pv-scale-ratio-src-input",t+"_src_input",n)),o=(this.sourceTextBox=new T.NumericTextBox({value:this.srcValue||1,format:"##",cssClass:"e-pv-scale-ratio-src-input",min:1,max:100},o),this.createInputElement("button","e-pv-scale-ratio-src-unit",t+"_src_unit",n)),n=(this.convertUnit=new P.DropDownButton({items:i,cssClass:"e-pv-scale-ratio-src-unit"},o),this.convertUnit.select=this.convertUnitSelect.bind(this),G.createElement("div",{id:t+"_scale_dest_container"})),o=this.createInputElement("input","e-pv-scale-ratio-dest-input",t+"_dest_input",n),o=(this.destTextBox=new T.NumericTextBox({value:this.destValue||1,format:"##",cssClass:"e-pv-scale-ratio-dest-input",min:1,max:100},o),this.createInputElement("button","e-pv-scale-ratio-dest-unit",t+"_dest_unit",n)),o=(this.dispUnit=new P.DropDownButton({items:i,cssClass:"e-pv-scale-ratio-dest-unit"},o),this.dispUnit.select=this.dispUnitSelect.bind(this),e.appendChild(n),G.createElement("div",{id:t+"_depth_label",className:"e-pv-depth-text"})),n=(o.textContent=this.pdfViewer.localeObj.getConstant("Depth"),e.appendChild(o),G.createElement("div",{id:t+"_depth_container"})),o=(e.appendChild(n),this.createInputElement("input","e-pv-depth-input",t+"_depth_input",n)),o=(this.depthTextBox=new T.NumericTextBox({value:this.volumeDepth,format:"##",cssClass:"e-pv-depth-input",min:1},o),this.createInputElement("button","e-pv-depth-unit",t+"_depth_unit",n));return this.depthUnit=new P.DropDownButton({items:i,cssClass:"e-pv-depth-unit"},o),this.depthUnit.select=this.depthUnitSelect.bind(this),e},a.prototype.convertUnitSelect=function(e){this.convertUnit.content=this.createContent(e.item.text).outerHTML},a.prototype.dispUnitSelect=function(e){this.dispUnit.content=this.createContent(e.item.text).outerHTML,this.depthUnit.content=this.createContent(e.item.text).outerHTML},a.prototype.depthUnitSelect=function(e){this.depthUnit.content=this.createContent(e.item.text).outerHTML},a.prototype.createContent=function(e){var t=G.createElement("div",{className:"e-pv-scale-unit-content"});return t.textContent=e,t},a.prototype.createInputElement=function(e,t,i,n){t=G.createElement("div",{id:i+"_container",className:t+"-container"}),i=G.createElement(e,{id:i});return"input"===e&&(i.type="text"),t.appendChild(i),n.appendChild(t),i},a.prototype.onOkClicked=function(){var e,t,i,n,o;G.isBlazor()?(n=document.querySelector("#"+this.pdfViewer.element.id+"_src_unit"),o=document.querySelector("#"+this.pdfViewer.element.id+"_dest_unit"),e=document.querySelector("#"+this.pdfViewer.element.id+"_ratio_input"),t=document.querySelector("#"+this.pdfViewer.element.id+"_dest_input"),i=document.querySelector("#"+this.pdfViewer.element.id+"_depth_input"),n&&o&&e&&t&&i&&(this.unit=n.value,this.displayUnit=o.value,this.ratio=parseInt(t.value,10)/parseInt(e.value,10),this.volumeDepth=parseInt(i.value,10)),this.scaleRatioString=parseInt(e.value,10)+" "+this.unit+" = "+parseInt(t.value,10)+" "+this.displayUnit,this.updateMeasureValues(this.scaleRatioString,this.displayUnit,this.unit,this.volumeDepth)):(this.unit=this.getContent(this.convertUnit.content),this.displayUnit=this.getContent(this.dispUnit.content),this.ratio=this.destTextBox.value/this.sourceTextBox.value,this.volumeDepth=this.depthTextBox.value,this.scaleRatioString=this.sourceTextBox.value+" "+this.unit+" = "+this.destTextBox.value+" "+this.displayUnit,this.scaleRatioDialog.hide(),n=this.restoreUnit(this.convertUnit),o=this.restoreUnit(this.dispUnit),this.updateMeasureValues(this.scaleRatioString,o,n,this.volumeDepth))},a.prototype.restoreUnit=function(e){for(var t,i=0;i<e.items.length;i++){var n=e.items[parseInt(i.toString(),10)];this.unit===n.text&&(t=n.label)}return t},a.prototype.updateMeasureValues=function(e,t,i,n){this.scaleRatioString=e,this.displayUnit=t,this.unit=i,this.volumeDepth=n;for(var o=0;o<this.pdfViewerBase.pageCount;o++){if(a=this.getAnnotations(o,null))for(var r=0;r<a.length;r++){var a,s=(a=this.getAnnotations(o,null))[parseInt(r.toString(),10)];s.annotationSettings.isLock||(s.calibrate.ratio=e,s.calibrate.x[0].unit=t,s.calibrate.distance[0].unit=t,s.calibrate.area[0].unit=t,s.calibrate.x[0].conversionFactor=this.getFactor(i),"PolygonVolume"===s.indent&&(s.calibrate.depth=n),a[parseInt(r.toString(),10)]=s,this.manageAnnotations(a,o),this.pdfViewer.annotation.updateCalibrateValues(this.getAnnotationBaseModel(s.id)))}this.pdfViewer.annotation.renderAnnotations(o,null,null,null,null,!1)}},a.prototype.getAnnotationBaseModel=function(e){for(var t=null,i=0;i<this.pdfViewer.annotations.length;i++)if(e===this.pdfViewer.annotations[parseInt(i.toString(),10)].id){t=this.pdfViewer.annotations[parseInt(i.toString(),10)];break}return t},a.prototype.getContent=function(e){return e.split("</div>")[0].split('">')[1]},a.prototype.setConversion=function(e,t){var t=t&&(i=t.pageIndex,"diagram_helper"===t.id&&(i=t.pageIndex||this.pdfViewerBase.activeElements.activePageID,t=this.getCurrentObject(i,null,t.annotName)),t)?this.getCurrentValues(t.id,i):this.getCurrentValues(),i=e*t.ratio;return this.convertPointToUnits(t.factor,i,t.unit)},a.prototype.onCancelClicked=function(){this.scaleRatioDialog.hide()},a.prototype.modifyInCollection=function(e,t,i,n){G.isNullOrUndefined(i.formFieldAnnotationType)||""===i.formFieldAnnotationType?this.pdfViewer.annotationModule.isFormFieldShape=!1:this.pdfViewer.annotationModule.isFormFieldShape=!0;var o=null,r=!1,a=this.getAnnotations(t,null);if(null!=a&&i){for(var s=0;s<a.length;s++)if(i.id===a[parseInt(s.toString(),10)].id){if("bounds"===e)this.pdfViewerBase.isBounds=this.pdfViewerBase.boundsCalculation(a[parseInt(s.toString(),10)].bounds,i.wrapper.bounds),this.pdfViewerBase.isBounds&&(this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationModifiedDate(i,!0),"Line"!==a[parseInt(s.toString(),10)].shapeAnnotationType&&"Polyline"!==a[parseInt(s.toString(),10)].shapeAnnotationType&&"Polygon"!==a[parseInt(s.toString(),10)].shapeAnnotationType||(a[parseInt(s.toString(),10)].vertexPoints=i.vertexPoints),a[parseInt(s.toString(),10)].bounds={left:i.bounds.x,top:i.bounds.y,width:i.bounds.width,height:i.bounds.height,right:i.bounds.right,bottom:i.bounds.bottom}),!0===a[parseInt(s.toString(),10)].enableShapeLabel&&i.wrapper&&(a[parseInt(s.toString(),10)].labelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBounds(i.wrapper.bounds));else if("fill"===e)a[parseInt(s.toString(),10)].fillColor=i.wrapper.children[0].style.fill,this.pdfViewer.enableShapeLabel&&(a[parseInt(s.toString(),10)].labelFillColor=i.wrapper.children[0].style.fill);else if("stroke"===e)a[parseInt(s.toString(),10)].strokeColor=i.wrapper.children[0].style.strokeColor;else if("opacity"===e)a[parseInt(s.toString(),10)].opacity=i.wrapper.children[0].style.opacity;else if("thickness"===e)a[parseInt(s.toString(),10)].thickness=i.wrapper.children[0].style.strokeWidth;else if("dashArray"===e)a[parseInt(s.toString(),10)].borderDashArray=i.wrapper.children[0].style.strokeDashArray,a[parseInt(s.toString(),10)].borderStyle=i.borderStyle;else if("startArrow"===e)a[parseInt(s.toString(),10)].lineHeadStart=this.pdfViewer.annotation.getArrowTypeForCollection(i.sourceDecoraterShapes);else if("endArrow"===e)a[parseInt(s.toString(),10)].lineHeadEnd=this.pdfViewer.annotation.getArrowTypeForCollection(i.taregetDecoraterShapes);else if("leaderLength"===e)a[parseInt(s.toString(),10)].leaderLength=i.leaderHeight;else if("notes"===e)a[parseInt(s.toString(),10)].note=i.notes,!0===a[parseInt(s.toString(),10)].enableShapeLabel&&(r=!0,a[parseInt(s.toString(),10)].labelContent=i.notes);else{if("delete"===e){o=a.splice(s,1)[0];break}if("labelContent"===e){a[parseInt(s.toString(),10)].note=i.labelContent,a[parseInt(s.toString(),10)].labelContent=i.labelContent;break}"fontColor"===e?a[parseInt(s.toString(),10)].fontColor=i.fontColor:"fontSize"===e&&(a[parseInt(s.toString(),10)].fontSize=i.fontSize)}this.pdfViewerBase.isBounds&&(a[parseInt(s.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime()),this.pdfViewer.annotationModule.storeAnnotationCollections(a[parseInt(s.toString(),10)],t)}this.manageAnnotations(a,t)}return!n&&r&&this.pdfViewerBase.updateDocumentEditedProperty(!0),o},a.prototype.addInCollection=function(e,t){var i=this.getAnnotations(e,null);i&&i.push(t),this.manageAnnotations(i,e)},a.prototype.manageAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape_measure");(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape_measure"]:i)&&(i=JSON.parse(i),this.pdfViewerBase.isStorageExceed||F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_shape_measure"),null!=(t=this.pdfViewer.annotationModule.getPageCollection(i,t))&&i[parseInt(t.toString(),10)]&&(i[parseInt(t.toString(),10)].annotations=e),t=JSON.stringify(i),this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape_measure"]=t:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_shape_measure",t))},a.prototype.getAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape_measure");return(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape_measure"]:i)&&(i=JSON.parse(i),null!=(e=this.pdfViewer.annotationModule.getPageCollection(i,e)))&&i[parseInt(e.toString(),10)]?i[parseInt(e.toString(),10)].annotations:t},a.prototype.getCurrentObject=function(e,t,i){var n=null,o=this.getAnnotations(e,null);if(null!=o)for(var r=0;r<o.length;r++)if(t){if(t===o[parseInt(r.toString(),10)].id){n=o[parseInt(r.toString(),10)];break}}else if(i&&i===o[parseInt(r.toString(),10)].annotName){n=o[parseInt(r.toString(),10)];break}return n},a.prototype.getCurrentValues=function(e,t){var i,n,o;return e=e&&!isNaN(t)&&(t=this.getCurrentObject(t,e))?(i=this.getCurrentRatio(t.calibrate.ratio),n=t.calibrate.x[0].unit,o=t.calibrate.x[0].conversionFactor,t.calibrate.depth):(i=this.ratio,n=this.displayUnit,o=this.getFactor(this.unit),this.volumeDepth),{ratio:i,unit:n,factor:o,depth:e}},a.prototype.getCurrentRatio=function(e){e=e.split(" ");return"="===e[3]?parseFloat(e[4])/parseFloat(e[0]):parseFloat(e[3])/parseFloat(e[0])},a.prototype.calculateArea=function(e,t,i){var n,t=this.getCurrentValues(t,i),i=this.getArea(e,t.factor,t.unit)*t.ratio;return"ft_in"===t.unit?12<=(e=Math.round(100*i)/100)?(e=(e=(Math.round(e/12*100)/100).toString()).split("."))[1]&&(n=0,n=e[1].charAt(1)?(n=parseInt(e[1].charAt(0),10)+"."+parseInt(e[1].charAt(1),10),Math.round(n)):e[1])?e[0]+" "+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant("ft")+" "+n+" "+this.pdfViewer.localeObj.getConstant("in"):e[0]+" "+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant("ft"):Math.round(100*i)/100+" "+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant("in"):"m"===t.unit?100*i/100+" "+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant(t.unit):Math.round(100*i)/100+" "+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant(t.unit)},a.prototype.getArea=function(e,t,i){for(var n=0,o=e.length-1,r=0;r<e.length;r++)n+=(e[parseInt(o.toString(),10)].x*this.pixelToPointFactor*t+e[parseInt(r.toString(),10)].x*this.pixelToPointFactor*t)*(e[parseInt(o.toString(),10)].y*this.pixelToPointFactor*t-e[parseInt(r.toString(),10)].y*this.pixelToPointFactor*t),o=r;return"ft_in"===i?Math.abs(2*n):Math.abs(n/2)},a.prototype.calculateVolume=function(e,t,i){var n,t=this.getCurrentValues(t,i),i=t.depth||this.volumeDepth,e=this.getArea(e,t.factor,t.unit)*(i*this.convertUnitToPoint(t.unit)*t.factor)*t.ratio;return"ft_in"===t.unit?12<=(i=Math.round(100*e)/100)?(i=(i=(Math.round(i/12*100)/100).toString()).split("."))[1]&&(n=0,n=i[1].charAt(1)?(n=parseInt(i[1].charAt(0),10)+"."+parseInt(i[1].charAt(1),10),Math.round(n)):i[1])?i[0]+" "+this.pdfViewer.localeObj.getConstant("cu")+" "+this.pdfViewer.localeObj.getConstant("ft")+" "+n+" "+this.pdfViewer.localeObj.getConstant("in"):i[0]+" "+this.pdfViewer.localeObj.getConstant("cu")+" "+this.pdfViewer.localeObj.getConstant("ft"):Math.round(100*e)/100+" "+this.pdfViewer.localeObj.getConstant("cu")+" "+this.pdfViewer.localeObj.getConstant("in"):Math.round(100*e)/100+" "+this.pdfViewer.localeObj.getConstant("cu")+" "+this.pdfViewer.localeObj.getConstant(t.unit)},a.prototype.calculatePerimeter=function(e){var t=J.Point.getLengthFromListOfPoints(e.vertexPoints);return this.setConversion(t*this.pixelToPointFactor,e)},a.prototype.getFactor=function(e){var t;switch(e){case"in":t=1/72;break;case"cm":t=1/28.346;break;case"mm":t=1/2.835;break;case"pt":t=1;break;case"p":t=1/12;break;case"ft":t=1/864;break;case"ft_in":t=1/72;break;case"m":t=1/2834.64567}return t},a.prototype.convertPointToUnits=function(e,t,i){var n,o;return"ft_in"===i?12<=(o=Math.round(t*e*100)/100)?(o=(o=(Math.round(o/12*100)/100).toString()).split("."))[1]&&(n=0,n=o[1].charAt(1)?(n=parseInt(o[1].charAt(0),10)+"."+parseInt(o[1].charAt(1),10),Math.round(n)):o[1])?o[0]+" "+this.pdfViewer.localeObj.getConstant("ft")+" "+n+" "+this.pdfViewer.localeObj.getConstant("in"):o[0]+" "+this.pdfViewer.localeObj.getConstant("ft"):Math.round(t*e*100)/100+" "+this.pdfViewer.localeObj.getConstant("in"):Math.round(t*e*100)/100+" "+this.pdfViewer.localeObj.getConstant(i)},a.prototype.convertUnitToPoint=function(e){var t;switch(e){case"in":t=72;break;case"cm":t=28.346;break;case"mm":t=2.835;break;case"pt":t=1;break;case"p":t=12;break;case"ft":t=864;break;case"ft_in":t=72;break;case"m":t=2834.64567}return t},a.prototype.getStringifiedMeasure=function(e){return G.isNullOrUndefined(e)||(e.angle=JSON.stringify(e.angle),e.area=JSON.stringify(e.area),e.distance=JSON.stringify(e.distance),e.volume=JSON.stringify(e.volume)),JSON.stringify(e)},a.prototype.getRgbCode=function(e){var t=(e=e.match(/#([a-z0-9]+)/gi)||e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)?e:this.pdfViewer.annotationModule.nameToHash(e)).split(",");return G.isNullOrUndefined(t[1])&&(t=(e=this.pdfViewer.annotationModule.getValue(e,"rgba")).split(",")),{r:parseInt(t[0].split("(")[1],10),g:parseInt(t[1],10),b:parseInt(t[2],10),a:parseInt(t[3],10)}},a.prototype.saveImportedMeasureAnnotations=function(e,t){var i=null;if(e.VertexPoints)for(var i=[],n=0;n<e.VertexPoints.length;n++){var o={x:e.VertexPoints[parseInt(n.toString(),10)].X,y:e.VertexPoints[parseInt(n.toString(),10)].Y};i.push(o)}var r={ratio:e.Calibrate.Ratio,x:this.getNumberFormatArray(e.Calibrate.X),distance:this.getNumberFormatArray(e.Calibrate.Distance),area:this.getNumberFormatArray(e.Calibrate.Area),angle:this.getNumberFormatArray(e.Calibrate.Angle),volume:this.getNumberFormatArray(e.Calibrate.Volume),targetUnitConversion:e.Calibrate.TargetUnitConversion};e.Calibrate.Depth&&(r.depth=e.Calibrate.Depth),e.Bounds&&!0===e.EnableShapeLabel&&(e.LabelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBoundsFromLoadedDocument(e.Bounds),e.LabelBorderColor=e.LabelBorderColor||e.StrokeColor,e.FontColor=e.FontColor||e.StrokeColor,e.LabelFillColor=e.LabelFillColor||e.FillColor,e.FontSize=e.FontSize||16,e.LabelSettings=e.LabelSettings||this.pdfViewer.shapeLabelSettings),e.allowedInteractions=e.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),e.AnnotationSettings=e.AnnotationSettings||this.pdfViewer.annotationModule.updateAnnotationSettings(e),e.Author=this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e.Subject),r={id:"measure",shapeAnnotationType:e.ShapeAnnotationType,author:e.Author,allowedInteractions:e.allowedInteractions,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,thickness:e.Thickness,rectangleDifference:e.RectangleDifference,borderStyle:e.BorderStyle,borderDashArray:e.BorderDashArray,rotateAngle:e.RotateAngle,isCloudShape:e.IsCloudShape,cloudIntensity:e.CloudIntensity,vertexPoints:i,lineHeadStart:e.LineHeadStart,lineHeadEnd:e.LineHeadEnd,isLocked:e.IsLocked,bounds:{left:e.Bounds.X,top:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height,right:e.Bounds.Right,bottom:e.Bounds.Bottom},caption:e.Caption,captionPosition:e.CaptionPosition,calibrate:r,leaderLength:e.LeaderLength,leaderLineExtension:e.LeaderLineExtension,leaderLineOffset:e.LeaderLineOffset,indent:e.Indent,annotName:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},labelContent:e.LabelContent,enableShapeLabel:e.EnableShapeLabel,labelFillColor:e.LabelFillColor,labelBorderColor:e.LabelBorderColor,fontColor:e.FontColor,fontSize:e.FontSize,labelBounds:e.LabelBounds,annotationSelectorSettings:this.getSettings(e),labelSettings:e.LabelSettings,annotationSettings:e.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.IsPrint,isCommentLock:e.IsCommentLock,isAnnotationRotated:!1},this.pdfViewer.annotationModule.storeAnnotations(t,r,"_annotations_shape_measure")},a.prototype.updateMeasureAnnotationCollections=function(e,t){var i=null;if(e.VertexPoints)for(var i=[],n=0;n<e.VertexPoints.length;n++){var o={x:e.VertexPoints[parseInt(n.toString(),10)].X,y:e.VertexPoints[parseInt(n.toString(),10)].Y};i.push(o)}var r,a={ratio:e.Calibrate.Ratio,x:this.getNumberFormatArray(e.Calibrate.X),distance:this.getNumberFormatArray(e.Calibrate.Distance),area:this.getNumberFormatArray(e.Calibrate.Area),angle:this.getNumberFormatArray(e.Calibrate.Angle),volume:this.getNumberFormatArray(e.Calibrate.Volume),targetUnitConversion:e.Calibrate.TargetUnitConversion};return e.Calibrate.Depth&&(a.depth=e.Calibrate.Depth),e.Bounds&&!0===e.EnableShapeLabel&&(e.LabelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBoundsFromLoadedDocument(e.Bounds),e.LabelBorderColor=e.LabelBorderColor||e.StrokeColor,e.FontColor=e.FontColor||e.StrokeColor,e.LabelFillColor=e.LabelFillColor||e.FillColor,e.FontSize=e.FontSize||16,r=this.pdfViewer.shapeLabelSettings,r={borderColor:e.StrokeColor,fillColor:e.FillColor,fontColor:e.FontColor,fontSize:e.FontSize,labelContent:e.LabelContent,labelHeight:r.labelHeight,labelWidth:r.labelWidth,opacity:e.Opacity},e.LabelSettings=e.LabelSettings||r),e.allowedInteractions=e.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),e.AnnotationSelectorSettings=e.AnnotationSelectorSettings||this.pdfViewerBase.annotationSelectorSettingLoad(e),e.AnnotationSettings=e.AnnotationSettings||this.pdfViewer.annotationModule.updateAnnotationSettings(e),e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked),{id:"measure",shapeAnnotationType:e.ShapeAnnotationType,author:e.Author,allowedInteractions:e.allowedInteractions,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,thickness:e.Thickness,rectangleDifference:e.RectangleDifference,borderStyle:e.BorderStyle,borderDashArray:e.BorderDashArray,rotateAngle:e.RotateAngle,isCloudShape:e.IsCloudShape,cloudIntensity:e.CloudIntensity,vertexPoints:i,lineHeadStart:e.LineHeadStart,lineHeadEnd:e.LineHeadEnd,isLocked:e.IsLocked,bounds:{left:e.Bounds.X,top:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height,right:e.Bounds.Right,bottom:e.Bounds.Bottom},caption:e.Caption,captionPosition:e.CaptionPosition,calibrate:a,leaderLength:e.LeaderLength,leaderLineExtension:e.LeaderLineExtension,leaderLineOffset:e.LeaderLineOffset,indent:e.Indent,annotationId:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},labelContent:e.LabelContent,enableShapeLabel:e.EnableShapeLabel,labelFillColor:e.LabelFillColor,labelBorderColor:e.LabelBorderColor,fontColor:e.FontColor,fontSize:e.FontSize,labelBounds:e.LabelBounds,pageNumber:t,annotationSelectorSettings:e.AnnotationSelectorSettings,labelSettings:e.labelSettings,annotationSettings:e.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.IsPrint,isCommentLock:e.IsCommentLock}},a.prototype.updateAddAnnotationDetails=function(e,t,i){i=t?t.offset||{x:10,y:10}:(t={offset:{x:10,y:10},pageNumber:0,width:void 0,height:void 0}).offset;var n=null,o=null,r=null,a="",s="",l="",A=!1,d=[],p=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),h=this.pdfViewer.annotation.createGUID();"Distance"===e?(n=this.pdfViewer.lineSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.lineSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e),o=this.pdfViewer.lineSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,a="LineDimension",s="Line",l=""!==this.pdfViewer.lineSettings.subject?this.pdfViewer.lineSettings.subject:""!==this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Distance calculation",A=!0,d=t.vertexPoints||[{x:i.x,y:i.y},{x:i.x+100,y:i.y}],t.width=t.width||1,t.height=t.height||1):"Perimeter"===e?(n=this.pdfViewer.arrowSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.arrowSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e),o=this.pdfViewer.arrowSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,a="PolyLineDimension",s="Polyline",l=""!==this.pdfViewer.arrowSettings.subject?this.pdfViewer.arrowSettings.subject:""!==this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Perimeter calculation",A=!0,d=t.vertexPoints||[{x:i.x,y:i.y},{x:i.x+85,y:i.y},{x:i.x+86,y:i.y+62}],t.width=t.width||1,t.height=t.height||1):"Area"===e?(n=this.pdfViewer.rectangleSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.rectangleSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e),o=this.pdfViewer.rectangleSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,a="PolygonDimension",s="Polygon",l=""!==this.pdfViewer.rectangleSettings.subject?this.pdfViewer.rectangleSettings.subject:""!==this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Area calculation",d=t.vertexPoints||[{x:i.x,y:i.y},{x:i.x+88,y:i.y-1},{x:i.x+89,y:i.y+53},{x:i.x,y:i.y}],t.width=t.width||1,t.height=t.height||1):"Radius"===e?(n=this.pdfViewer.circleSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.circleSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e),o=this.pdfViewer.circleSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,a="PolygonRadius",s="Circle",l=""!==this.pdfViewer.circleSettings.subject?this.pdfViewer.circleSettings.subject:""!==this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Radius calculation",t.width=t.width||100,t.height=t.height||100,d=null):"Volume"===e&&(n=this.pdfViewer.polygonSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.polygonSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e),o=this.pdfViewer.polygonSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,a="PolygonVolume",s="Polygon",l=""!==this.pdfViewer.polygonSettings.subject?this.pdfViewer.polygonSettings.subject:""!==this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Volume calculation",d=t.vertexPoints||[{x:i.x,y:i.y},{x:i.x,y:i.y+109},{x:i.x+120,y:i.y+109},{x:i.x+120,y:i.y-1},{x:i.x,y:i.y}],t.width=t.width||1,t.height=t.height||1),r.isLock=t.isLock||r.isLock,r.minHeight=t.minHeight||r.minHeight,r.minWidth=t.minWidth||r.minWidth,r.maxWidth=t.maxWidth||r.maxWidth,r.maxHeight=t.maxHeight||r.maxHeight;var c=96,g=.013888888888888888,u=1,f="in",m="";if(d||"Radius"===e||"Volume"===e)if("Distance"===e||"Perimeter"===e||"Radius"===e){var w=0;if("Radius"===e)w=t.width/2*this.pixelToPointFactor;else{for(var B=0;B<d.length-1;B++)w+=Math.sqrt(Math.pow(d[parseInt(B.toString(),10)].x-d[B+1].x,2)+Math.pow(d[parseInt(B.toString(),10)].y-d[B+1].y,2));w*=this.pixelToPointFactor}m=this.convertPointToUnits(g,w*u,f)}else if("Area"===e||"Volume"===e){for(var C=0,S=d.length-1,B=0;B<d.length;B++)C+=(d[parseInt(S.toString(),10)].x*this.pixelToPointFactor*g+d[parseInt(B.toString(),10)].x*this.pixelToPointFactor*g)*(d[parseInt(S.toString(),10)].y*this.pixelToPointFactor*g-d[parseInt(B.toString(),10)].y*this.pixelToPointFactor*g),S=B;C=Math.abs(C/2),m="Volume"===e?(C=C*(c*this.convertUnitToPoint(f)*g)*u,Math.round(100*C)/100+this.pdfViewer.localeObj.getConstant("cu")+" "+this.pdfViewer.localeObj.getConstant(f)):Math.round(100*C)/100+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant(f)}d=d&&this.pdfViewer.annotation.getVertexPointsXY(d),e=[],c={AllowedInteractions:t.allowedInteractions||o,AnnotName:h,AnnotType:"shape_measure",AnnotationSelectorSettings:t.annotationSelectorSettings||n,AnnotationSettings:r,Author:t.author||"Guest",BorderDashArray:t.borderDashArray||0,BorderStyle:"Solid",Bounds:{X:i.x,Y:i.y,Width:t.width,Height:t.height,Left:i.x,Top:i.y,Location:{X:i.x,Y:i.y},Size:{Height:t.height,IsEmpty:!1,Width:t.width}},Calibrate:{Area:[{ConversionFactor:1,Denominator:100,FormatDenominator:!1,FractionalType:"D",Unit:"sq in"}],Depth:t.depth||0,Distance:[{ConversionFactor:1,Denominator:100,FormatDenominator:!1,FractionalType:"D",Unit:"in"}],Ratio:"1 in = 1 in",TargetUnitConversion:0,Volume:null,X:[{ConversionFactor:.013888889,Denominator:100,FormatDenominator:!1,FractionalType:"D",Unit:"in"}]},Caption:!0,CaptionPosition:"Top",CloudIntensity:0,Comments:null,CustomData:t.customData||null,CreatedDate:p,EnableShapeLabel:!1,ExistingCustomData:null,FillColor:t.fillColor||"#ffffff00",FontColor:null,FontSize:0,Indent:a,IsCloudShape:!1,IsCommentLock:!1,IsLocked:t.isLock||!1,IsPrint:!!G.isNullOrUndefined(t.isPrint)||t.isPrint,LabelBorderColor:null,LabelBounds:{X:0,Y:0,Width:0,Height:0},LabelContent:null,LabelFillColor:null,LabelSettings:null,LeaderLength:t.leaderLength||0,LeaderLineExtension:0,LeaderLineOffset:0,LineHeadStart:t.lineHeadStartStyle||(A?"ClosedArrow":"None"),LineHeadEnd:t.lineHeadEndStyle||(A?"ClosedArrow":"None"),ModifiedDate:"",Note:m,Opacity:t.opacity||1,RectangleDifference:[],RotateAngle:"RotateAngle0",ShapeAnnotationType:s,State:"",StateModel:"",StrokeColor:t.strokeColor||"#ff0000",Subject:t.subject||l,Thickness:t.thickness||1,VertexPoints:d};return e[0]=c,{measureShapeAnnotation:e}};var Xt=a;function a(e,t){this.measureShapeCount=0,this.isAddAnnotationProgramatically=!1,this.pdfViewer=e,this.pdfViewerBase=t}$t.prototype.renderShapeAnnotations=function(e,t,i,n){if(e)if(1<=e.length){if(!this.pdfViewer.annotation.getStoredAnnotations(t,e,"_annotations_shape")||n||i)for(var o=0;o<e.length;o++){var r=e[parseInt(o.toString(),10)],a=(r.annotationAddMode=this.pdfViewer.annotationModule.findAnnotationMode(r,t,r.AnnotType),null),s=(this.shapeCount=this.shapeCount+1,void 0);if(r.ShapeAnnotationType){i&&this.pdfViewerBase.isJsonImported&&(r.Bounds=this.pdfViewerBase.importJsonForRotatedDocuments(r.Rotate,t,r.Bounds,r.AnnotationRotation),s=this.pdfViewerBase.isPageRotated);var l=null;if(r.VertexPoints)if(l=[],i&&this.pdfViewerBase.isJsonImported)l=this.pdfViewerBase.calculateVertexPoints(r.Rotate,t,r.VertexPoints,r.AnnotationRotation);else for(var A=0;A<r.VertexPoints.length;A++){var d=r.VertexPoints[parseInt(A.toString(),10)].X?r.VertexPoints[parseInt(A.toString(),10)].X:r.VertexPoints[parseInt(A.toString(),10)].x,p=r.VertexPoints[parseInt(A.toString(),10)].Y?r.VertexPoints[parseInt(A.toString(),10)].Y:r.VertexPoints[parseInt(A.toString(),10)].y;l.push({x:d,y:p})}r.Bounds&&!0===r.EnableShapeLabel&&(r.LabelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBoundsFromLoadedDocument(r.Bounds),r.LabelBorderColor=r.LabelBorderColor||r.StrokeColor,r.FontColor=r.FontColor||r.StrokeColor,r.LabelFillColor=r.LabelFillColor||r.FillColor,r.FontSize=r.FontSize||16,r.LabelSettings=r.LabelSettings||this.pdfViewer.shapeLabelSettings);var h="string"==typeof r.AnnotationSelectorSettings?JSON.parse(r.AnnotationSelectorSettings):r.AnnotationSelectorSettings,h=(G.isNullOrUndefined(h)?this.pdfViewerBase.annotationSelectorSettingLoad(r):r.AnnotationSelectorSettings=h,r.AnnotationSettings=r.AnnotationSettings||this.pdfViewer.annotationModule.updateAnnotationSettings(r),r.IsLocked&&(r.AnnotationSettings.isLock=r.IsLocked),r.allowedInteractions=r.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(r),r.Bounds.X||r.Bounds.x),c=r.Bounds.Y||r.Bounds.y,g=r.Bounds.Width||r.Bounds.width,u=r.Bounds.Height||r.Bounds.height,h=(a={id:"shape"+this.shapeCount,shapeAnnotationType:r.ShapeAnnotationType,author:r.Author,allowedInteractions:r.allowedInteractions,modifiedDate:r.ModifiedDate,subject:r.Subject,pageNumber:t,note:r.Note,strokeColor:r.StrokeColor,fillColor:r.FillColor,opacity:r.Opacity,thickness:r.Thickness,rectangleDifference:r.RectangleDifference,borderStyle:r.BorderStyle,borderDashArray:r.BorderDashArray,rotateAngle:r.RotateAngle,isCloudShape:r.IsCloudShape,cloudIntensity:r.CloudIntensity,vertexPoints:l,lineHeadStart:r.LineHeadStart,lineHeadEnd:r.LineHeadEnd,isLocked:r.IsLocked,comments:this.pdfViewer.annotationModule.getAnnotationComments(r.Comments,r,r.Author),review:{state:r.State,stateModel:r.StateModel,modifiedDate:r.ModifiedDate,author:r.Author},annotName:r.AnnotName,bounds:{left:h,top:c,width:g,height:u,right:r.Bounds.Right,bottom:r.Bounds.Bottom},labelContent:r.LabelContent,enableShapeLabel:r.EnableShapeLabel,labelFillColor:r.LabelFillColor,fontColor:r.FontColor,labelBorderColor:r.LabelBorderColor,fontSize:r.FontSize,labelBounds:r.LabelBounds,annotationSelectorSettings:this.getSettings(r),labelSettings:r.LabelSettings,annotationSettings:r.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(r),isPrint:r.IsPrint,isCommentLock:r.IsCommentLock,isAnnotationRotated:s}).vertexPoints,c=(null==l&&(h=[]),r.AnnotationSelectorSettings=r.AnnotationSelectorSettings?"string"==typeof r.AnnotationSelectorSettings?JSON.parse(r.AnnotationSelectorSettings):r.AnnotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,{id:"shape"+this.shapeCount,shapeAnnotationType:this.getShapeType(a),author:a.author,allowedInteractions:a.allowedInteractions,modifiedDate:a.modifiedDate,annotName:a.annotName,subject:a.subject,notes:a.note,fillColor:a.fillColor,strokeColor:a.strokeColor,opacity:a.opacity,thickness:a.thickness,borderStyle:a.borderStyle,borderDashArray:a.borderDashArray?a.borderDashArray.toString():"0",rotateAngle:parseFloat(a.rotateAngle.split("Angle")[1]),comments:a.comments,review:a.review,isCloudShape:a.isCloudShape,cloudIntensity:a.cloudIntensity,taregetDecoraterShapes:this.pdfViewer.annotation.getArrowType(a.lineHeadEnd),sourceDecoraterShapes:this.pdfViewer.annotation.getArrowType(a.lineHeadStart),vertexPoints:h,bounds:{x:a.bounds.left,y:a.bounds.top,width:a.bounds.width,height:a.bounds.height},pageIndex:a.pageNumber,labelContent:r.LabelContent,enableShapeLabel:r.EnableShapeLabel,labelFillColor:r.LabelFillColor,fontColor:r.FontColor,labelBorderColor:r.LabelBorderColor,fontSize:r.FontSize,labelBounds:r.LabelBounds,annotationSelectorSettings:r.AnnotationSelectorSettings,annotationSettings:a.annotationSettings,annotationAddMode:r.annotationAddMode,isPrint:r.IsPrint,isCommentLock:a.isCommentLock,customData:a.customData});this.pdfViewer.add(c);this.pdfViewer.annotationModule.storeAnnotations(t,a,"_annotations_shape"),this.isAddAnnotationProgramatically&&(g={opacity:c.opacity,strokeColor:c.strokeColor,thickness:c.thickness,modifiedDate:c.modifiedDate,width:c.bounds.width,height:c.bounds.height},this.pdfViewer.fireAnnotationAdd(c.pageIndex,c.annotName,r.ShapeAnnotationType,c.bounds,g))}}}else e.shapeAnnotationType&&(a=this.createAnnotationObject(e),G.isNullOrUndefined(e.formFieldAnnotationType)||""===e.formFieldAnnotationType?this.pdfViewer.annotationModule.isFormFieldShape=!1:this.pdfViewer.annotationModule.isFormFieldShape=!0,this.pdfViewer.annotationModule.storeAnnotations(t,a,"_annotations_shape"),e&&(e.customData=a.customData),this.pdfViewer.annotationModule.triggerAnnotationAdd(e))},$t.prototype.getSettings=function(e){this.pdfViewer.annotationSelectorSettings;return e.AnnotationSelectorSettings?"string"==typeof e.AnnotationSelectorSettings?JSON.parse(e.AnnotationSelectorSettings):e.AnnotationSelectorSettings:this.getSelector(e.ShapeAnnotationType,e.Subject)},$t.prototype.setAnnotationType=function(e){this.updateShapeProperties(),this.pdfViewerBase.disableTextSelectionMode();var t="Guest",i="";switch(e){case"Line":this.currentAnnotationMode="Line";var n=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),t="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.lineSettings.author||"Guest",i=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.lineSettings.subject||"Line":this.pdfViewer.annotationSettings.subject,o=G.isNullOrUndefined(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.lineSettings.customData||null:this.pdfViewer.annotationSettings.customData;this.pdfViewer.drawingObject={shapeAnnotationType:this.setShapeType("Line"),fillColor:this.lineFillColor,notes:"",strokeColor:this.lineStrokeColor,opacity:this.lineOpacity,thickness:this.lineThickness,modifiedDate:n,borderDashArray:this.lineDashArray.toString(),sourceDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.lineStartHead.toString()),taregetDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.lineEndHead.toString()),author:t,subject:i,lineHeadStart:this.lineStartHead,lineHeadEnd:this.lineEndHead,isCommentLock:!1,customData:o},this.pdfViewer.tool="Line";break;case"Arrow":this.currentAnnotationMode="Arrow";n=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();t="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.arrowSettings.author||"Guest",i=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.arrowSettings.subject||"Arrow":this.pdfViewer.annotationSettings.subject,o=G.isNullOrUndefined(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.arrowSettings.customData||null:this.pdfViewer.annotationSettings.customData,this.pdfViewer.drawingObject={shapeAnnotationType:this.setShapeType("Arrow"),opacity:this.arrowOpacity,sourceDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.arrowStartHead.toString()),taregetDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.arrowEndHead.toString()),fillColor:this.arrowFillColor,strokeColor:this.arrowStrokeColor,notes:"",thickness:this.arrowThickness,borderDashArray:this.arrowDashArray.toString(),author:t,subject:i,modifiedDate:n,lineHeadStart:this.arrowStartHead,lineHeadEnd:this.arrowEndHead,isCommentLock:!1,customData:o},this.pdfViewer.tool="Line";break;case"Rectangle":this.currentAnnotationMode="Rectangle";n=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();t="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.rectangleSettings.author||"Guest",i=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.rectangleSettings.subject||"Rectangle":this.pdfViewer.annotationSettings.subject,o=G.isNullOrUndefined(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.rectangleSettings.customData||null:this.pdfViewer.annotationSettings.customData,this.pdfViewer.drawingObject={shapeAnnotationType:this.setShapeType("Rectangle"),strokeColor:this.rectangleStrokeColor,fillColor:this.rectangleFillColor,opacity:this.rectangleOpacity,notes:"",thickness:this.rectangleThickness,borderDashArray:"0",modifiedDate:n,author:t,subject:i,isCommentLock:!1,customData:o},this.pdfViewer.tool="DrawTool";break;case"Circle":this.currentAnnotationMode="Circle";n=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();t="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.circleSettings.author||"Guest",i=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.circleSettings.subject||"Circle":this.pdfViewer.annotationSettings.subject,o=G.isNullOrUndefined(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.circleSettings.customData||null:this.pdfViewer.annotationSettings.customData,this.pdfViewer.drawingObject={shapeAnnotationType:this.setShapeType("Circle"),strokeColor:this.circleStrokeColor,fillColor:this.circleFillColor,opacity:this.circleOpacity,notes:"",thickness:this.circleThickness,borderDashArray:"0",modifiedDate:n,author:t,subject:i,isCommentLock:!1,customData:o},this.pdfViewer.tool="DrawTool";break;case"Polygon":this.currentAnnotationMode="Polygon";n=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();t="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.polygonSettings.author||"Guest",i=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.polygonSettings.subject||"Polygon":this.pdfViewer.annotationSettings.subject,o=G.isNullOrUndefined(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.polygonSettings.customData||null:this.pdfViewer.annotationSettings.customData,this.pdfViewer.drawingObject={strokeColor:this.polygonStrokeColor,fillColor:this.polygonFillColor,opacity:this.polygonOpacity,thickness:this.polygonThickness,borderDashArray:"0",notes:"",author:t,subject:i,modifiedDate:n,borderStyle:"",isCommentLock:!1,customData:o},this.pdfViewer.tool="Polygon"}},$t.prototype.updateShapeProperties=function(){this.lineFillColor=this.pdfViewer.lineSettings.fillColor||"#ffffff00",this.lineStrokeColor=this.pdfViewer.lineSettings.strokeColor||"#ff0000",this.lineThickness=this.pdfViewer.lineSettings.thickness||1,this.lineOpacity=this.pdfViewer.lineSettings.opacity||1,this.lineDashArray=this.pdfViewer.lineSettings.borderDashArray||0,this.lineStartHead=this.pdfViewer.lineSettings.lineHeadStartStyle||"None",this.lineEndHead=this.pdfViewer.lineSettings.lineHeadEndStyle||"None",this.arrowFillColor=this.pdfViewer.arrowSettings.fillColor||"#ffffff00",this.arrowStrokeColor=this.pdfViewer.arrowSettings.strokeColor||"#ff0000",this.arrowThickness=this.pdfViewer.arrowSettings.thickness||1,this.arrowOpacity=this.pdfViewer.arrowSettings.opacity||1,this.arrowDashArray=this.pdfViewer.arrowSettings.borderDashArray||0,this.arrowStartHead=this.pdfViewer.arrowSettings.lineHeadStartStyle||"Closed",this.arrowEndHead=this.pdfViewer.arrowSettings.lineHeadEndStyle||"Closed",this.rectangleFillColor=this.pdfViewer.rectangleSettings.fillColor||"#ffffff00",this.rectangleStrokeColor=this.pdfViewer.rectangleSettings.strokeColor||"#ff0000",this.rectangleThickness=this.pdfViewer.rectangleSettings.thickness||1,this.rectangleOpacity=this.pdfViewer.rectangleSettings.opacity||1,this.circleFillColor=this.pdfViewer.circleSettings.fillColor||"#ffffff00",this.circleStrokeColor=this.pdfViewer.circleSettings.strokeColor||"#ff0000",this.circleThickness=this.pdfViewer.circleSettings.thickness||1,this.circleOpacity=this.pdfViewer.circleSettings.opacity||1,this.polygonFillColor=this.pdfViewer.polygonSettings.fillColor||"#ffffff00",this.polygonStrokeColor=this.pdfViewer.polygonSettings.strokeColor||"#ff0000",this.polygonThickness=this.pdfViewer.polygonSettings.thickness||1,this.polygonOpacity=this.pdfViewer.polygonSettings.opacity||1},$t.prototype.setShapeType=function(e){var t;switch(e){case"Line":t="Line";break;case"Circle":t="Ellipse";break;case"Square":t="Rectangle";break;case"Polyline":t="Line";break;case"Arrow":t="LineWidthArrowHead"}return t},$t.prototype.getShapeType=function(e){var t;switch(e.shapeAnnotationType){case"Line":t="Line";break;case"Circle":t="Ellipse";break;case"Square":t="Rectangle";break;case"Polyline":t="Line";break;case"Polygon":t="Polygon"}return t="Line"!==e.shapeAnnotationType&&"Polyline"!==e.shapeAnnotationType||"None"===e.lineHeadStart&&"None"===e.lineHeadEnd?t:"LineWidthArrowHead"},$t.prototype.getShapeAnnotType=function(e){var t;switch(e){case"Line":case"LineWidthArrowHead":t="Line";break;case"Rectangle":t="Square";break;case"Ellipse":t="Circle";break;case"Polygon":t="Polygon"}return t},$t.prototype.modifyInCollection=function(e,t,i,n){G.isNullOrUndefined(i.formFieldAnnotationType)||""===i.formFieldAnnotationType?this.pdfViewer.annotationModule.isFormFieldShape=!1:this.pdfViewer.annotationModule.isFormFieldShape=!0,n&&this.pdfViewerBase.updateDocumentEditedProperty(!0);var o=null,r=(i&&"bounds"===e&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationModifiedDate(i,!0),this.getAnnotations(t,null));if(null!=r&&i){for(var a,s,l,A=0;A<r.length;A++)if(i.id===r[parseInt(A.toString(),10)].id){if("bounds"===e)this.pdfViewerBase.isBounds=this.pdfViewerBase.boundsCalculation(r[parseInt(A.toString(),10)].bounds,i.wrapper.bounds),this.pdfViewerBase.isBounds&&("Line"!==r[parseInt(A.toString(),10)].shapeAnnotationType&&"Polygon"!==r[parseInt(A.toString(),10)].shapeAnnotationType||(r[parseInt(A.toString(),10)].vertexPoints=i.vertexPoints),r[parseInt(A.toString(),10)].bounds={left:i.bounds.x,top:i.bounds.y,width:i.bounds.width,height:i.bounds.height,right:i.bounds.right,bottom:i.bounds.bottom}),!0===r[parseInt(A.toString(),10)].enableShapeLabel&&i.wrapper&&(l=s=a=0,i.wrapper.bounds.width&&(l=0<(l=i.wrapper.bounds.width/2)&&l<151?l:151),i.wrapper.bounds.left&&(s=i.wrapper.bounds.left+i.wrapper.bounds.width/2-l/2),i.wrapper.bounds.top&&(a=i.wrapper.bounds.top+i.wrapper.bounds.height/2-12.3),r[parseInt(A.toString(),10)].labelBounds={left:s,top:a,width:l,height:24.6,right:0,bottom:0});else if("fill"===e)r[parseInt(A.toString(),10)].fillColor=i.wrapper.children[0].style.fill;else if("stroke"===e)r[parseInt(A.toString(),10)].strokeColor=i.wrapper.children[0].style.strokeColor;else if("opacity"===e)r[parseInt(A.toString(),10)].opacity=i.wrapper.children[0].style.opacity;else if("thickness"===e)r[parseInt(A.toString(),10)].thickness=i.wrapper.children[0].style.strokeWidth;else if("dashArray"===e)r[parseInt(A.toString(),10)].borderDashArray=i.wrapper.children[0].style.strokeDashArray,r[parseInt(A.toString(),10)].borderStyle=i.borderStyle;else if("startArrow"===e)r[parseInt(A.toString(),10)].lineHeadStart=this.pdfViewer.annotation.getArrowTypeForCollection(i.sourceDecoraterShapes);else if("endArrow"===e)r[parseInt(A.toString(),10)].lineHeadEnd=this.pdfViewer.annotation.getArrowTypeForCollection(i.taregetDecoraterShapes);else if("notes"===e)r[parseInt(A.toString(),10)].note=i.notes;else{if("delete"===e){o=r.splice(A,1)[0];break}if("labelContent"===e){r[parseInt(A.toString(),10)].note=i.labelContent,r[parseInt(A.toString(),10)].labelContent=i.labelContent;break}"fontColor"===e?r[parseInt(A.toString(),10)].fontColor=i.fontColor:"fontSize"===e&&(r[parseInt(A.toString(),10)].fontSize=i.fontSize)}this.pdfViewerBase.isBounds&&(r[parseInt(A.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime()),this.pdfViewer.annotationModule.storeAnnotationCollections(r[parseInt(A.toString(),10)],t)}this.manageAnnotations(r,t)}return o},$t.prototype.addInCollection=function(e,t){var i=this.getAnnotations(e,null);i&&i.push(t),this.manageAnnotations(i,e)},$t.prototype.saveShapeAnnotations=function(){for(var e=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape"),t=(this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape"]),[]),i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s,l,A,d=0;a.annotations.length>d;d++)this.pdfViewerBase.checkFormFieldCollection(a.annotations[parseInt(d.toString(),10)].id)?a.annotations[parseInt(d.toString(),10)]="":(this.pdfViewer.annotationModule.updateModifiedDate(a.annotations[parseInt(d.toString(),10)]),this.pdfViewerBase.isJsonExported&&(a.annotations[parseInt(d.toString(),10)].isAnnotationRotated?(a.annotations[parseInt(d.toString(),10)].bounds=this.pdfViewer.annotation.getBounds(a.annotations[parseInt(d.toString(),10)].bounds,a.pageIndex),a.annotations[parseInt(d.toString(),10)].vertexPoints=this.pdfViewer.annotation.getVertexPoints(a.annotations[parseInt(d.toString(),10)].vertexPoints,a.pageIndex)):(s=this.pdfViewerBase.pageSize[a.pageIndex])&&(a.annotations[parseInt(d.toString(),10)].annotationRotation=s.rotation)),a.annotations[parseInt(d.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getBounds(a.annotations[parseInt(d.toString(),10)].bounds,a.pageIndex)),s=a.annotations[parseInt(d.toString(),10)].strokeColor,a.annotations[parseInt(d.toString(),10)].strokeColor=JSON.stringify(this.getRgbCode(s)),l=a.annotations[parseInt(d.toString(),10)].fillColor,G.isNullOrUndefined(l)?a.annotations[parseInt(d.toString(),10)].fillColor="transparent":a.annotations[parseInt(d.toString(),10)].fillColor=JSON.stringify(this.getRgbCode(l)),a.annotations[parseInt(d.toString(),10)].vertexPoints=JSON.stringify(this.pdfViewer.annotation.getVertexPoints(a.annotations[parseInt(d.toString(),10)].vertexPoints,a.pageIndex)),null!==a.annotations[parseInt(d.toString(),10)].rectangleDifference&&(a.annotations[parseInt(d.toString(),10)].rectangleDifference=JSON.stringify(a.annotations[parseInt(d.toString(),10)].rectangleDifference)),!0===a.annotations[parseInt(d.toString(),10)].enableShapeLabel&&(a.annotations[parseInt(d.toString(),10)].labelBounds=JSON.stringify(this.pdfViewer.annotationModule.inputElementModule.calculateLabelBounds(JSON.parse(a.annotations[parseInt(d.toString(),10)].bounds))),l=a.annotations[parseInt(d.toString(),10)].labelFillColor,a.annotations[parseInt(d.toString(),10)].labelFillColor=JSON.stringify(this.getRgbCode(l)),A=a.annotations[parseInt(d.toString(),10)].labelBorderColor,a.annotations[parseInt(d.toString(),10)].labelBorderColor=JSON.stringify(this.getRgbCode(A)),a.annotations[parseInt(d.toString(),10)].labelSettings.fillColor=l,A=a.annotations[parseInt(d.toString(),10)].labelSettings.fontColor,a.annotations[parseInt(d.toString(),10)].fontColor=JSON.stringify(this.getRgbCode(A))));a.annotations=a.annotations.filter(function(e){return e}),r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},$t.prototype.manageAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape");(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape"]:i)&&(i=JSON.parse(i),this.pdfViewerBase.isStorageExceed||F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_shape"),null!=(t=this.pdfViewer.annotationModule.getPageCollection(i,t))&&i[parseInt(t.toString(),10)]&&(i[parseInt(t.toString(),10)].annotations=e),t=JSON.stringify(i),this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape"]=t:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_shape",t))},$t.prototype.createAnnotationObject=function(e){var t,i,n=this.pdfViewer.annotation.createGUID(),o=(e.formFieldAnnotationType||(i=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("shape",e.pageIndex+1,e.shapeAnnotationType))&&(document.getElementById(i).id=n),e.annotName=n,i=e.wrapper.bounds?(t={left:e.wrapper.bounds.x,top:e.wrapper.bounds.y,height:e.wrapper.bounds.height,width:e.wrapper.bounds.width,right:e.wrapper.bounds.right,bottom:e.wrapper.bounds.bottom},this.pdfViewer.annotationModule.inputElementModule.calculateLabelBounds(e.wrapper.bounds)):(t={left:0,top:0,height:0,width:0,right:0,bottom:0},{left:0,top:0,height:0,width:0,right:0,bottom:0}),"Line"===e.subject&&"Polygon"===e.shapeAnnotationType?e.author=this.pdfViewer.annotationModule.updateAnnotationAuthor("shape","Polygon"):e.author=e&&"Guest"!=e.author?e.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e.subject),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(n,e.notes),parseInt(e.borderDashArray,10)),o=isNaN(o)?0:o,r=this.pdfViewer.annotationModule.findAnnotationSettings(e,!0),a=(e.isPrint=r.isPrint,this.pdfViewer.shapeLabelSettings),a={borderColor:e.strokeColor,fillColor:e.fillColor,fontColor:e.fontColor,fontSize:e.fontSize,labelContent:e.labelContent,labelHeight:a.labelHeight,labelWidth:a.labelMaxWidth,opacity:e.opacity};return{id:e.id,shapeAnnotationType:this.getShapeAnnotType(e.shapeAnnotationType),author:e.author,allowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),subject:e.subject,note:e.notes,strokeColor:e.strokeColor,annotName:n,comments:[],review:{state:"",stateModel:"",modifiedDate:this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),author:e.author},fillColor:e.fillColor,opacity:e.opacity,thickness:e.thickness,pageNumber:e.pageIndex,borderStyle:e.borderStyle,borderDashArray:o,bounds:t,modifiedDate:this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),rotateAngle:"RotateAngle"+e.rotateAngle,isCloudShape:e.isCloudShape,cloudIntensity:e.cloudIntensity,vertexPoints:e.vertexPoints,lineHeadStart:this.pdfViewer.annotation.getArrowTypeForCollection(e.sourceDecoraterShapes),lineHeadEnd:this.pdfViewer.annotation.getArrowTypeForCollection(e.taregetDecoraterShapes),rectangleDifference:[],isLocked:r.isLock,labelContent:e.labelContent,enableShapeLabel:e.enableShapeLabel,labelFillColor:e.labelFillColor,fontColor:e.fontColor,labelBorderColor:e.labelBorderColor,fontSize:e.fontSize,labelBounds:i,annotationSelectorSettings:this.getSelector(e.shapeAnnotationType,e.subject),labelSettings:a,annotationSettings:r,customData:this.pdfViewer.annotation.getShapeData(e.shapeAnnotationType,e.subject),isPrint:e.isPrint,isCommentLock:e.isCommentLock,isAnnotationRotated:!1}},$t.prototype.getSelector=function(e,t){var i=this.pdfViewer.annotationSelectorSettings;return"Line"===e&&"Arrow"!==t&&this.pdfViewer.lineSettings.annotationSelectorSettings?i=this.pdfViewer.lineSettings.annotationSelectorSettings:"LineWidthArrowHead"!==e&&"Arrow"!==t||!this.pdfViewer.lineSettings.annotationSelectorSettings?"Rectangle"!==e&&"Square"!==e||!this.pdfViewer.rectangleSettings.annotationSelectorSettings?"Ellipse"!==e&&"Circle"!==e||!this.pdfViewer.circleSettings.annotationSelectorSettings?"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings&&(i=this.pdfViewer.polygonSettings.annotationSelectorSettings):i=this.pdfViewer.circleSettings.annotationSelectorSettings:i=this.pdfViewer.rectangleSettings.annotationSelectorSettings:i=this.pdfViewer.arrowSettings.annotationSelectorSettings,i},$t.prototype.getAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape");return(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape"]:i)&&(i=JSON.parse(i),null!=(e=this.pdfViewer.annotationModule.getPageCollection(i,e)))&&i[parseInt(e.toString(),10)]?i[parseInt(e.toString(),10)].annotations:t},$t.prototype.getRgbCode=function(e){var t=(e=e.match(/#([a-z0-9]+)/gi)||e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)?e:this.pdfViewer.annotationModule.nameToHash(e)).split(",");return G.isNullOrUndefined(t[1])&&(t=(e=this.pdfViewer.annotationModule.getValue(e,"rgba")).split(",")),{r:parseInt(t[0].split("(")[1],10),g:parseInt(t[1],10),b:parseInt(t[2],10),a:parseFloat(t[3])}},$t.prototype.saveImportedShapeAnnotations=function(e,t){var i,n=null;if(e.Author=this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e.Subject),e.VertexPoints)for(var n=[],o=0;o<e.VertexPoints.length;o++){var r={x:e.VertexPoints[parseInt(o.toString(),10)].X,y:e.VertexPoints[parseInt(o.toString(),10)].Y};n.push(r)}e.Bounds&&!0===e.EnableShapeLabel&&(e.LabelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBoundsFromLoadedDocument(e.Bounds),e.LabelBorderColor=e.LabelBorderColor||e.StrokeColor,e.FontColor=e.FontColor||e.StrokeColor,e.LabelFillColor=e.LabelFillColor||e.FillColor,e.FontSize=e.FontSize||16,e.LabelSettings=e.LabelSettings||this.pdfViewer.shapeLabelSettings),e.AnnotationSettings=e.AnnotationSettings||this.pdfViewer.annotationModule.updateAnnotationSettings(e),e.allowedInteractions=e.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),i={id:"shape",shapeAnnotationType:e.ShapeAnnotationType,author:e.Author,allowedInteractions:e.allowedInteractions,modifiedDate:e.ModifiedDate,subject:e.Subject,pageNumber:t,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,thickness:e.Thickness,rectangleDifference:e.RectangleDifference,borderStyle:e.BorderStyle,borderDashArray:e.BorderDashArray,rotateAngle:e.RotateAngle,isCloudShape:e.IsCloudShape,cloudIntensity:e.CloudIntensity,vertexPoints:n,lineHeadStart:e.LineHeadStart,lineHeadEnd:e.LineHeadEnd,isLocked:e.IsLocked,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},annotName:e.AnnotName,bounds:{left:e.Bounds.X,top:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height,right:e.Bounds.Right,bottom:e.Bounds.Bottom},labelContent:e.LabelContent,enableShapeLabel:e.EnableShapeLabel,labelFillColor:e.LabelFillColor,labelBorderColor:e.LabelBorderColor,fontColor:e.FontColor,fontSize:e.FontSize,labelBounds:e.LabelBounds,annotationSelectorSettings:this.getSettings(e),labelSettings:e.LabelSettings,annotationSettings:e.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.IsPrint,isCommentLock:e.IsCommentLock,isAnnotationRotated:!1},this.pdfViewer.annotationModule.storeAnnotations(t,i,"_annotations_shape")},$t.prototype.updateShapeAnnotationCollections=function(e,t){var i,n=null;if(e.VertexPoints)for(var n=[],o=0;o<e.VertexPoints.length;o++){var r={x:e.VertexPoints[parseInt(o.toString(),10)].X,y:e.VertexPoints[parseInt(o.toString(),10)].Y};n.push(r)}return e.Bounds&&!0===e.EnableShapeLabel&&(e.LabelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBoundsFromLoadedDocument(e.Bounds),e.LabelBorderColor=e.LabelBorderColor||e.StrokeColor,e.FontColor=e.FontColor||e.StrokeColor,e.LabelFillColor=e.LabelFillColor||e.FillColor,e.FontSize=e.FontSize||16,i=this.pdfViewer.shapeLabelSettings,i={borderColor:e.StrokeColor,fillColor:e.FillColor,fontColor:e.FontColor,fontSize:e.FontSize,labelContent:e.LabelContent,labelHeight:i.labelHeight,labelWidth:i.labelWidth,opacity:e.Opacity},e.LabelSettings=e.LabelSettings||i),e.AnnotationSettings=e.AnnotationSettings||this.pdfViewer.annotationModule.updateAnnotationSettings(e),e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked),e.allowedInteractions=e.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),{id:"shape",shapeAnnotationType:e.ShapeAnnotationType,author:e.Author,allowedInteractions:e.allowedInteractions,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,thickness:e.Thickness,rectangleDifference:e.RectangleDifference,borderStyle:e.BorderStyle,borderDashArray:e.BorderDashArray,rotateAngle:e.RotateAngle,isCloudShape:e.IsCloudShape,cloudIntensity:e.CloudIntensity,vertexPoints:n,lineHeadStart:e.LineHeadStart,lineHeadEnd:e.LineHeadEnd,isLocked:e.IsLocked,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},annotationId:e.AnnotName,bounds:{left:e.Bounds.X,top:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height,right:e.Bounds.Right,bottom:e.Bounds.Bottom},labelContent:e.LabelContent,enableShapeLabel:e.EnableShapeLabel,labelFillColor:e.LabelFillColor,labelBorderColor:e.LabelBorderColor,fontColor:e.FontColor,fontSize:e.FontSize,labelBounds:e.LabelBounds,pageNumber:t,labelSettings:e.LabelSettings,annotationSettings:e.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.IsPrint,isCommentLock:e.IsCommentLock}},$t.prototype.updateAddAnnotationDetails=function(e,t,i){i=t?t.offset||{x:10,y:10}:(t={offset:{x:10,y:10},pageNumber:0,width:void 0,height:void 0}).offset;var n=null,o=null,r=null,a="",s=!1,l=null,A=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),d=this.pdfViewer.annotation.createGUID(),p=("Line"===e?(n=this.pdfViewer.lineSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.lineSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e),o=this.pdfViewer.lineSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,a="Line",l=t.vertexPoints||[{x:i.x,y:i.y},{x:i.x+100,y:i.y}],t.width=t.width||1,t.height=t.height||1):"Arrow"===e?(n=this.pdfViewer.arrowSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.arrowSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e),o=this.pdfViewer.arrowSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,a="Line",s=!0,l=t.vertexPoints||[{x:i.x,y:i.y},{x:i.x+100,y:i.y}],t.width=t.width||1,t.height=t.height||1):"Rectangle"===e?(n=this.pdfViewer.rectangleSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.rectangleSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e),o=this.pdfViewer.rectangleSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,a="Square",t.width=t.width||150,t.height=t.height||75):"Circle"===e?(n=this.pdfViewer.circleSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.circleSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e),o=this.pdfViewer.circleSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,a="Circle",t.width=t.width||100,t.height=t.height||90):"Polygon"===e&&(n=this.pdfViewer.polygonSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.polygonSettings),t.author=t.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e),o=this.pdfViewer.polygonSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,a="Polygon",l=t.vertexPoints||[{x:i.x,y:i.y},{x:i.x+42,y:i.y-29},{x:i.x+89,y:i.y-1},{x:i.x+78,y:i.y+42},{x:i.x+11,y:i.y+42},{x:i.x,y:i.y}],t.width=t.width||1,t.height=t.height||1),r.isLock=t.isLock||r.isLock,r.minHeight=t.minHeight||r.minHeight,r.minWidth=t.minWidth||r.minWidth,r.maxWidth=t.maxWidth||r.maxWidth,r.maxHeight=t.maxHeight||r.maxHeight,l=l&&this.pdfViewer.annotation.getVertexPointsXY(l),[]),o={AllowedInteractions:t.allowedInteractions||o,AnnotName:d,AnnotType:"shape",AnnotationSelectorSettings:t.annotationSelectorSettings||n,AnnotationSettings:r,Author:t.author||"Guest",BorderDashArray:t.borderDashArray||0,BorderStyle:"Solid",Bounds:{X:i.x,Y:i.y,Width:t.width,Height:t.height,Left:i.x,Top:i.y,Location:{X:i.x,Y:i.y},Size:{Height:t.height,IsEmpty:!1,Width:t.width}},CloudIntensity:0,Comments:null,CustomData:t.customData||null,CreatedDate:A,EnableShapeLabel:!1,ExistingCustomData:null,FillColor:t.fillColor||"#ffffff00",FontColor:null,FontSize:0,IsCloudShape:!1,IsCommentLock:!1,IsLocked:t.isLock||!1,IsPrint:!!G.isNullOrUndefined(t.isPrint)||t.isPrint,LabelBorderColor:null,LabelBounds:{X:0,Y:0,Width:0,Height:0},LabelContent:null,LabelFillColor:null,LabelSettings:null,LineHeadStart:t.lineHeadStartStyle||(s?"ClosedArrow":"None"),LineHeadEnd:t.lineHeadEndStyle||(s?"ClosedArrow":"None"),ModifiedDate:"",Note:"",Opacity:t.opacity||1,RectangleDifference:null,RotateAngle:"RotateAngle0",ShapeAnnotationType:a,State:"",StateModel:"",StrokeColor:t.strokeColor||"#ff0000",Subject:t.subject||e.toString(),Thickness:t.thickness||1,VertexPoints:l};return p[0]=o,{shapeAnnotation:p}};var qt=$t;function $t(e,t){this.shapeCount=0,this.isAddAnnotationProgramatically=!1,this.pdfViewer=e,this.pdfViewerBase=t}ti.prototype.renderStampAnnotations=function(g,u,f,m,o){var w=this;return new Promise(function(c){var e=!1;if(!m)for(var t=0;t<w.stampPageNumber.length;t++)if(w.stampPageNumber[parseInt(t.toString(),10)]===u){e=!0;break}if(m&&(e=!1),g&&(!e||o)){w.stampPageNumber.push(u);for(var i=function(e){var s=g[parseInt(e.toString(),10)],l=(s.annotationAddMode=w.pdfViewer.annotationModule.findAnnotationMode(s,u,s.AnnotType),s.Apperarance),A=s.Rect,d=s.Opacity,p=parseFloat(g[parseInt(e.toString(),10)].pageNumber),e=(isNaN(p)&&(p=g[parseInt(e.toString(),10)].PageNumber),s.IsDynamic),t=(s.AnnotationSettings=s.AnnotationSettings||w.pdfViewer.annotationModule.updateSettings(w.pdfViewer.stampSettings),s.IsLocked&&(s.AnnotationSettings.isLock=s.IsLocked),w.stampImageData(s));if(e&&s.IconName&&"Draft"!==s.IconName&&!t&&(G.isNullOrUndefined(s.template)||""===s.template)){w.retrieveDynamicStampAnnotation(s.IconName),w.isExistingStamp=!0;for(var i=w.calculateImagePosition(A,!0),n=s.RotateAngle,o=0;o<l.length;o++){var r,a=l[parseInt(o.toString(),10)];"string"===a.type&&void 0!==a.text&&(r=void 0,2===(r=!m&&1<a.text.split("(").length?a.text.split("(")[1].split(")")[0]:a.text).split("(").length?r.split("(")[1].split(")")[0].toLowerCase()!==s.IconName.toLowerCase()&&(w.dynamicText+=r.split("(")[1].split(")")[0]):r.toLowerCase()!==s.IconName.toLowerCase()&&(w.dynamicText+=r))}w.renderStamp(i.left,i.top,i.width,i.height,p,d,n,f,s,!0),c()}else if(!s.IconName||t||!G.isNullOrUndefined(s.template)&&""!==s.template){if(l){for(var h=0;h<l.length;h++)!function(e){var t,i,e=l[parseInt(e.toString(),10)],n=e.imagedata,o=e.CreationDate,r=e.ModifiedDate,a=e.RotateAngle;n&&(t=new Image,i=w,t.onload=function(){var e=i.calculateImagePosition(A,!0);s.AnnotationSettings=s.AnnotationSettings||i.pdfViewer.customStampSettings.annotationSettings,i.renderCustomImage(e,p,t,o,r,a,d,f,!0,s),"image"===i.pdfViewer.annotationModule.annotationType&&(i.pdfViewer.annotation.selectAnnotationFromCodeBehind(),i.pdfViewer.annotationModule.annotationType=null),c()},t.src=n)}(h);0===l.length&&c()}}else{w.retrievestampAnnotation(s.IconName),w.isExistingStamp=!0;i=w.calculateImagePosition(A,!0),n=s.RotateAngle;w.renderStamp(i.left,i.top,i.width,i.height,p,d,n,f,s),w.isExistingStamp=!1,c()}},n=0;n<g.length;n++)i(n);0===g.length&&c()}})},ti.prototype.renderStampAnnotImage=function(s,e,l,t,i,A,d){var p=s.Apperarance,h=s.Rect,c=s.Opacity,g=(s.AnnotationSelectorSettings,parseFloat(s.pageNumber));if(p)for(var u=this,n=0;n<p.length;n++)!function(e){var t,i,e=p[parseInt(e.toString(),10)],n=e.imagedata,o=e.CreationDate,r=e.ModifiedDate,a=e.RotateAngle;n&&(t=new Image,i=u,t.onload=function(){var e=i.calculateImagePosition(h,!0);s.AnnotationSettings=s.AnnotationSettings||i.pdfViewer.customStampSettings.annotationSettings,i.renderCustomImage(e,g,t,o,r,a,c,l,!0,s,null,A,d)},t.src=n)}(n)},ti.prototype.moveStampElement=function(e,t,i){var n,o=this.pdfViewerBase.getZoomFactor(),o=(e/=o,t/=o,G.isNullOrUndefined(this.pdfViewer.annotationSettings.author)||"Guest"===this.pdfViewer.annotationSettings.author?this.pdfViewer.stampSettings.author||"Guest":this.pdfViewer.annotationSettings.author),o=(this.pdfViewerBase.isDynamicStamp&&(this.pdfViewer.dateTimeFormat?(a=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTimeFormat(),this.dynamicText="By "+o+" at "+a+" "):(a=(new Date).toString().split(" ").splice(1,3).join(" "),r=(new Date).toLocaleTimeString(),this.dynamicText="By "+o+" at "+r+" , "+a+"   ")),this.currentStampAnnotation),r=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.stampSettings.subject||(G.isNullOrUndefined(o)?"":o.iconName):this.pdfViewer.annotationSettings.subject,a=this.pdfViewer.stampSettings.annotationSelectorSettings;return this.pdfViewerBase.updateSelectorSettings(a),o&&"Image"===o.shapeAnnotationType?n={id:"stamp"+this.pdfViewerBase.customStampCount,bounds:{x:e,y:t,width:o.bounds.width,height:o.bounds.height},pageIndex:i,data:o.data,modifiedDate:o.modifiedDate,shapeAnnotationType:"Image",opacity:o.opacity,rotateAngle:o.RotationAngle,annotName:o.annotationName,comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:o.author}}:o&&(n={id:"stamp"+this.pdfViewerBase.customStampCount,bounds:{x:e,y:t,width:o.width,height:o.height},pageIndex:i,data:o.pathdata,shapeAnnotationType:"Stamp",strokeColor:o.strokeColor,fillColor:o.fillColor,opacity:.5,stampFillColor:o.stampFillColor,stampStrokeColor:o.stampStrokeColor,rotateAngle:o.RotateAngle,isDynamicStamp:this.pdfViewerBase.isDynamicStamp,dynamicText:this.dynamicText,subject:r,annotationSelectorSettings:a,icon:o.iconName}),n=this.pdfViewerBase.currentSignatureAnnot?"SignatureText"===(o=this.pdfViewerBase.currentSignatureAnnot).shapeAnnotationType?{id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:e,y:t,width:o.bounds.width,height:o.bounds.height},pageIndex:i,data:o.data,modifiedDate:"",shapeAnnotationType:"SignatureText",thickness:o.thickness,strokeColor:o.strokeColor,opacity:o.opacity,signatureName:o.signatureName,fontFamily:o.fontFamily,fontSize:Math.floor(o.bounds.height/2)}:"SignatureImage"===o.shapeAnnotationType?{id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:e,y:t,width:o.bounds.width,height:o.bounds.height},pageIndex:i,data:o.data,modifiedDate:"",shapeAnnotationType:"SignatureImage",thickness:o.thickness,strokeColor:o.strokeColor,opacity:o.opacity,signatureName:o.signatureName}:{id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:e,y:t,width:o.bounds.width,height:o.bounds.height},pageIndex:i,data:o.data,shapeAnnotationType:"HandWrittenSignature",thickness:o.thickness,strokeColor:o.strokeColor,opacity:o.opacity,signatureName:o.signatureName}:n},ti.prototype.ConvertPointToPixel=function(e){return e*(96/72)},ti.prototype.calculateImagePosition=function(e,t){var i=parseFloat(G.isNullOrUndefined(e.x)?e.X:e.x),n=parseFloat(G.isNullOrUndefined(e.y)?e.Y:e.y),o=parseFloat(e.width||e.Width),e=parseFloat(e.height||e.Height);return t?{width:this.ConvertPointToPixel(o),height:this.ConvertPointToPixel(e),left:this.ConvertPointToPixel(i),top:this.ConvertPointToPixel(n)}:{width:o,height:e,left:i,top:n}},ti.prototype.createCustomStampAnnotation=function(e,n){var o=this,r=this.pdfViewerBase.currentPageNumber-1,a=new Image,s=this;a.onload=function(){var e=o.pdfViewer.customStampSettings,t=0<e.width?e.width:0,e=0<e.height?e.height:0,t={width:t=0<t||0<e?t:a.naturalHeight>=a.naturalWidth?(e=a.naturalHeight/a.naturalHeight*100,a.naturalWidth/a.naturalHeight*100):(e=a.naturalHeight/a.naturalWidth*100,a.naturalWidth/a.naturalWidth*100),height:e,left:o.pdfViewer.customStampSettings.left,top:o.pdfViewer.customStampSettings.top},e=(new Date).toLocaleDateString(),i=o.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();s.renderCustomImage(t,r,a,e,i,0,1,null,null,null,n)},a.src=e},ti.prototype.renderStamp=function(e,t,i,n,o,r,a,s,l,A){G.Browser.isDevice&&(this.pdfViewerBase.customStampCount+=1);var d,p,h,c="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.stampSettings.author||"Guest",c=(this.pdfViewerBase.isDynamicStamp&&(h=(new Date).toString().split(" ").splice(1,3).join(" "),d=(new Date).toLocaleTimeString(),this.dynamicText="By "+c+" at "+d+" , "+h+" "),A&&(this.dynamicText+=" ",this.pdfViewerBase.isDynamicStamp=!0),this.currentStampAnnotation);c&&(null!==i&&null!==n?(c.width=i,c.height=n,c.Opacity=r,c.RotateAngle=a,p=l.AnnotName,c.AnnotName=p,d=l.State,c.State=d,h=l.AnnotationSettings,c.AnnotationSettings=h||this.pdfViewer.annotationModule.updateAnnotationSettings(c),A="string"==typeof l.AnnotationSelectorSettings?JSON.parse(l.AnnotationSelectorSettings):l.AnnotationSelectorSettings,c.AnnotationSelectorSettings=A||this.pdfViewer.annotationSelectorSettings,i=l.ModifiedDate,c.ModifiedDate=i,n=l.StateNodel,c.StateModel=n,r=l.IsCommentLock,c.IsCommentLock=r,a=l.Note,c.Note=a,d=l.Author,c.Author=d,h=l.Subject,c.Subject=h,A=this.pdfViewer.annotation.getCustomData(l),c.allowedInteractions=l.AllowedInteractions||l.allowedInteractions||["None"],c.CustomData=A,i=!0,i=G.isNullOrUndefined(l.IsPrint)&&G.isNullOrUndefined(l.IsPrint)?l.AnnotationSettings.isPrint:l.IsPrint,c.isPrint=i,null===c.Author&&(c.Author="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.stampSettings.author||"Guest"),n=l.Comments,c.Comments=this.pdfViewer.annotationModule.getAnnotationComments(n,l,d)):(p=this.pdfViewer.annotation.createGUID(),(r=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("stamp",o+1))&&(document.getElementById(r).id=p),c.AnnotationSettings=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stampSettings),c.AnnotName=p,c.Comments=[],c.State="",c.StateModel="",c.Note="",c.Opacity=1,c.RotateAngle=0,c.ModifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),c.Author="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.stampSettings.author||"Guest",c.Subject=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.stampSettings.subject||c.iconName:this.pdfViewer.annotationSettings.subject),a=J.processPathData(c.pathdata),h=J.splitArrayCollection(a),A=l?l.annotationAddMode:"UI Drawn Annotation",c.AnnotationSelectorSettings=c.AnnotationSelectorSettings||this.pdfViewer.annotationSelectorSettings,i={id:"stamp"+this.pdfViewerBase.customStampCount,bounds:{x:e,y:t,width:c.width,height:c.height},pageIndex:o,data:c.pathdata,modifiedDate:c.ModifiedDate,shapeAnnotationType:"Stamp",strokeColor:c.strokeColor,fillColor:c.fillColor,opacity:c.Opacity,stampFillColor:c.stampFillColor,stampStrokeColor:c.stampStrokeColor,rotateAngle:c.RotateAngle,isDynamicStamp:this.pdfViewerBase.isDynamicStamp,dynamicText:this.dynamicText,annotName:c.AnnotName,notes:c.Note,comments:c.Comments,review:{state:c.State,stateModel:c.StateModel,modifiedDate:c.ModifiedDate,author:c.Author},subject:c.Subject,annotationSelectorSettings:c.AnnotationSelectorSettings,annotationSettings:c.AnnotationSettings,allowedInteractions:c.allowedInteractions,annotationAddMode:A,isPrint:c.isPrint,isCommentLock:c.IsCommentLock},n={stampAnnotationType:"path",author:c.Author,modifiedDate:c.ModifiedDate,subject:c.Subject,note:c.Note,strokeColor:c.strokeColor,fillColor:c.fillColor,opacity:c.Opacity,stampFillcolor:c.stampFillColor,rotateAngle:c.RotateAngle,creationDate:c.creationDate,pageNumber:o,icon:c.iconName,stampAnnotationPath:h,randomId:"stamp"+this.pdfViewerBase.customStampCount,isDynamicStamp:this.pdfViewerBase.isDynamicStamp,dynamicText:this.dynamicText,bounds:{left:e,top:t,width:c.width,height:c.height},annotName:c.AnnotName,comments:c.Comments,review:{state:c.State,stateModel:c.StateModel,author:c.Author,modifiedDate:c.ModifiedDate},shapeAnnotationType:"stamp",annotationSelectorSettings:this.getSettings(c),annotationSettings:c.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(c),allowedInteractions:c.allowedInteractions,isPrint:c.isPrint,isCommentLock:c.IsCommentLock,isMaskedImage:c.IsMaskedImage,customStampName:"",template:c?c.template:null,templateSize:c?c.templateSize:0},this.storeStampInSession(o,n),this.pdfViewer.add(i),this.isAddAnnotationProgramatically&&this.triggerAnnotationAdd(i,c),G.isNullOrUndefined(s)&&(s=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",o)),this.pdfViewer.renderDrawing(s,o),this.pdfViewerBase.stampAdded&&(this.triggerAnnotationAdd(i,c),this.pdfViewerBase.isNewStamp=!0,this.pdfViewer.annotation.addAction(o,null,i,"Addition","",i,i)),this.pdfViewerBase.stampAdded=!1,this.isExistingStamp||(c.creationDate=(new Date).toLocaleDateString(),c.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime())),this.resetAnnotation()},ti.prototype.getSettings=function(e){var t=this.pdfViewer.annotationSelectorSettings;return e.AnnotationSelectorSettings?t=e.AnnotationSelectorSettings:this.pdfViewer.stampSettings.annotationSelectorSettings&&(t=this.pdfViewer.stampSettings.annotationSelectorSettings),t},ti.prototype.resetAnnotation=function(){this.pdfViewerBase.isDynamicStamp=!1,this.dynamicText="",this.currentStampAnnotation=null,G.Browser.isDevice||(this.pdfViewerBase.customStampCount+=1)},ti.prototype.updateDeleteItems=function(e,t,i){this.pdfViewerBase.updateDocumentEditedProperty(!0);var n=null,o=!1,r=(t.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),t.author="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.stampSettings.author||"Guest",i&&(a=this.pdfViewer.annotation.createGUID(),(r=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("stamp",e+1))&&(document.getElementById(r).id=a),t.annotName=a,t.Comments=[],t.State="",t.StateModel="",t.Note="",t.Opacity=1,t.RotateAngle=0),"Stamp"===t.shapeAnnotationType&&(t.isPrint=this.pdfViewer.stampSettings.isPrint),this.pdfViewer.stampSettings.annotationSelectorSettings||this.pdfViewer.annotationSelectorSettings),a=this.pdfViewer.stampSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,n="Image"===t.shapeAnnotationType?(t.Author="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.customStampSettings.author||"Guest",t.Subject=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.customStampSettings.subject||"":this.pdfViewer.annotationSettings.subject,t.isPrint=this.pdfViewer.customStampSettings.isPrint,this.customStampName=this.customStampName||(this.currentStampAnnotation&&this.currentStampAnnotation.signatureName?this.currentStampAnnotation.signatureName:t.id),{stampAnnotationType:"image",author:t.author,modifiedDate:t.modifiedDate,subject:t.Subject,note:"",strokeColor:"",fillColor:"",opacity:i,rotateAngle:"0",creationDate:t.currentDate,pageNumber:e,icon:"",stampAnnotationPath:t.data,randomId:t.id,bounds:{left:t.bounds.x,top:t.bounds.y,width:t.bounds.width,height:t.bounds.height},stampFillcolor:"",isDynamicStamp:!1,annotName:t.annotName,comments:[],review:{state:"",stateModel:"",author:t.author,modifiedDate:t.modifiedDate},shapeAnnotationType:"stamp",annotationSelectorSettings:r,annotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),customData:this.pdfViewer.annotationModule.getData("image"),isPrint:t.isPrint,allowedInteractions:a,isCommentLock:!1,isMaskedImage:t.isMaskedImage,customStampName:this.customStampName,template:t?t.template:null,templateSize:t?t.templateSize:0}):t.stampAnnotationType?{stampAnnotationType:t.stampAnnotationType,author:t.author,modifiedDate:t.modifiedDate,subject:t.Subject,note:t.Note,strokeColor:t.strokeColor,fillColor:t.fillColor,opacity:t.opacity,stampFillcolor:t.stampFillcolor,rotateAngle:t.rotateAngle,creationDate:t.creationDate,pageNumber:t.pageNumber,icon:t.icon,stampAnnotationPath:t.stampAnnotationPath,randomId:t.randomId,isDynamicStamp:t.isDynamicStamp,dynamicText:t.dynamicText,bounds:{left:t.bounds.left,top:t.bounds.top,width:t.bounds.width,height:t.bounds.height},annotName:t.annotName,comments:t.Comments,review:{state:t.State,stateModel:t.StateModel,author:t.author,modifiedDate:t.ModifiedDate},shapeAnnotationType:"stamp",annotationSelectorSettings:r,annotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stampSettings),customData:this.pdfViewer.annotationModule.getData(t.stampAnnotationType),isPrint:t.isPrint,allowedInteractions:a,isCommentLock:t.isCommentLock,isMaskedImage:t.isMaskedImage,customStampName:"",template:t?t.template:null,templateSize:t?t.templateSize:0}:{stampAnnotationType:t.shapeAnnotationType,author:t.author,modifiedDate:t.modifiedDate,subject:t.subject,note:t.notes,strokeColor:t.strokeColor,fillColor:t.fillColor,opacity:t.opacity,stampFillcolor:t.stampFillColor,rotateAngle:t.rotateAngle,creationDate:t.creationDate,pageNumber:t.pageIndex,icon:t.icon,stampAnnotationPath:t.data,randomId:t.id,isDynamicStamp:t.isDynamicStamp,dynamicText:t.dynamicText,shapeAnnotationType:"stamp",bounds:{left:t.bounds.x,top:t.bounds.y,width:t.bounds.width,height:t.bounds.height},annotName:t.annotName,comments:t.Comments,review:{state:t.State,stateModel:t.StateModel,author:t.author,modifiedDate:t.ModifiedDate},annotationSelectorSettings:r,annotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stampSettings),customData:this.pdfViewer.annotationModule.getData(t.shapeAnnotationType),isPrint:t.isPrint,allowedInteractions:a,isCommentLock:t.isCommentLock,isMaskedImage:t.isMaskedImage,customStampName:"",template:t?t.template:null,templateSize:t?t.templateSize:0};i&&("Image"!==t.shapeAnnotationType&&(r=J.processPathData(t.data),a=J.splitArrayCollection(r),n.stampAnnotationPath=a),t.creationDate=(new Date).toLocaleDateString(),!G.Browser.isDevice&&t.wrapper&&(n.bounds.width=t.wrapper.actualSize.width,n.bounds.height=t.wrapper.actualSize.height,n.bounds.left=t.wrapper.bounds.x,n.bounds.top=t.wrapper.bounds.y),n.opacity=i,this.pdfViewerBase.stampAdded)&&(this.storeStampInSession(e,n),r={left:n.bounds.left,top:n.bounds.top,width:n.bounds.width,height:n.bounds.height},this.pdfViewerBase.updateDocumentEditedProperty(o=!0),a={opacity:n.opacity,author:n.author,modifiedDate:n.modifiedDate},"Image"===t.shapeAnnotationType?(this.pdfViewerBase.stampAdded=!1,this.pdfViewer.fireAnnotationAdd(n.pageNumber,n.annotName,"Image",r,a,null,null,null,null,null,this.customStampName),this.customStampName=null):this.pdfViewer.fireAnnotationAdd(n.pageNumber,n.annotName,"Stamp",r,a),this.pdfViewer.annotation.addAction(e,null,t,"Addition","",t,n)),o||this.storeStampInSession(e,n)},ti.prototype.renderCustomImage=function(e,t,i,n,o,r,a,s,l,A,d,p,h){var c,g,u,f,m,w=0<this.pdfViewer.customStampSettings.left&&0<this.pdfViewer.customStampSettings.top,B=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),C=this.pdfViewer.stampSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,S=!(G.isNullOrUndefined(A)||!A.template),y=(G.Browser.isDevice&&(this.pdfViewerBase.customStampCount+=1),l?(c=A.AnnotName,g=A.Author,u=A.Subject,f=A.IsCommentLock,B=A.AnnotationSettings||this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),C=A.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(A),null===g&&(g="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.customStampSettings.author||"Guest"),null===u&&(u=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.customStampSettings.subject||"":this.pdfViewer.annotationSettings.subject),A.IsLocked&&A.AnnotationSettings?A.AnnotationSettings.isLock=A.IsLocked:B.isLock=A.IsLocked):(c=this.pdfViewer.annotation.createGUID(),g="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.customStampSettings.author||"Guest",u=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.customStampSettings.subject||"":this.pdfViewer.annotationSettings.subject,f=!1),o=o||A.ModifiedDate||(new Date).toLocaleString(),A?A.annotationAddMode:"UI Drawn Annotation "),I=!0,r=(l?"Imported Annotation"===A.annotationAddMode?I=A.IsPrint:A.AnnotationSettings&&(I=A.AnnotationSettings.isPrint):I=this.pdfViewer.customStampSettings.isPrint,G.isNullOrUndefined(A)||G.isNullOrUndefined(A.AnnotationSelectorSettings)?(m=this.pdfViewer.stampSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(m)):m="string"==typeof A.AnnotationSelectorSettings?JSON.parse(A.AnnotationSelectorSettings):A.AnnotationSelectorSettings,{id:"stamp"+this.pdfViewerBase.customStampCount,allowedInteractions:C,bounds:{x:e.left,y:e.top,width:e.width,height:e.height},pageIndex:t,data:i.src,modifiedDate:o,shapeAnnotationType:"Image",opacity:a,rotateAngle:r,annotName:c,comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:g},annotationSettings:B,annotationSelectorSettings:m,annotationAddMode:y,signatureName:d,isPrint:I,isCommentLock:f,subject:u,template:S?A.template:null,templateSize:A?A.templateSize:0});this.currentStampAnnotation=r,(l||w)&&(!A&&(this.isStampAnnotSelected=!1,(A=r).Note="",A.State="",A.StateModel="",y=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("stamp",t+1))&&(document.getElementById(y).id=c),d={stampAnnotationType:"image",author:g,allowedInteractions:C,modifiedDate:o,subject:u,note:A.Note,strokeColor:"",fillColor:"",opacity:a,rotateAngle:"0",creationDate:n,pageNumber:t,icon:"",stampAnnotationPath:i.src,randomId:"stamp"+this.pdfViewerBase.customStampCount,bounds:{left:e.left,top:e.top,width:e.width,height:e.height},stampFillcolor:"",isDynamicStamp:!1,annotName:c,comments:this.pdfViewer.annotationModule.getAnnotationComments(A.Comments,A,A.Author),review:{state:A.State,stateModel:A.StateModel,author:g,modifiedDate:o},shapeAnnotationType:"stamp",annotationSelectorSettings:m,annotationSettings:B,customData:this.pdfViewer.annotation.getCustomData(A),isPrint:I,isCommentLock:f,isMaskedImage:A.IsMaskedImage,customStampName:A.CustomStampName,template:S?A.template:null,templateSize:A?A.templateSize:0},this.storeStampInSession(t,d,p,h),r.comments=this.pdfViewer.annotationModule.getAnnotationComments(A.Comments,A,A.Author),r.review={state:A.State,stateModel:A.StateModel,author:g,modifiedDate:o},this.pdfViewer.add(r),G.isNullOrUndefined(h)||this.adjustZIndexOrder(r,h),this.isAddAnnotationProgramatically&&(l={opacity:r.opacity,borderColor:r.strokeColor,borderWidth:r.thickness,author:A.author,subject:A.subject,modifiedDate:A.modifiedDate,fillColor:r.fillColor,fontSize:r.fontSize,width:r.bounds.width,height:r.bounds.height,fontColor:r.fontColor,fontFamily:r.fontFamily,defaultText:r.dynamicText,fontStyle:r.font,textAlignment:r.textAlign},this.customStampName=this.customStampName||this.currentStampAnnotation.signatureName||A.id,this.pdfViewer.fireAnnotationAdd(r.pageIndex,r.annotName,"Image",r.bounds,l,null,null,null,null,null,this.customStampName),this.customStampName=null),G.isNullOrUndefined(s)&&(s=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",t)),this.pdfViewer.renderDrawing(s,t),this.pdfViewerBase.stampAdded)&&this.pdfViewer.annotation.addAction(t,null,r,"Addition","",r,r),G.Browser.isDevice||(this.pdfViewerBase.customStampCount+=1)},ti.prototype.adjustZIndexOrder=function(e,t){var i;G.isNullOrUndefined(this.pdfViewer.zIndexTable[e.pageIndex])||(e=this.pdfViewer.zIndexTable[e.pageIndex].objects)&&0<e.length&&(i=e[e.length-1],e.splice(e.length-1),e.splice(t,0,i))},ti.prototype.retrieveDynamicStampAnnotation=function(e){var t;if(e){switch(e.trim()){case"Revised":t={iconName:"Revised",pathdata:"M19.68,21.22a3.94,3.94,0,0,1-1.1-1.9L16,11.87l-.21-.64a20.77,20.77,0,0,0,2.11-.58,7.24,7.24,0,0,0,2-1.09,5.65,5.65,0,0,0,1.72-2.12,5.4,5.4,0,0,0,.52-2.2A4.15,4.15,0,0,0,19.1,1.05a14.58,14.58,0,0,0-4.72-.6H5.31v.86a7,7,0,0,1,2,.33c.3.14.45.48.45,1a6.1,6.1,0,0,1-.14,1.08l-.21.8L3.31,19.32a3.35,3.35,0,0,1-.94,1.78,3.58,3.58,0,0,1-1.74.57v.86h9.83v-.86a6.22,6.22,0,0,1-2-.35c-.29-.15-.43-.52-.43-1.11,0-.1,0-.21,0-.31a2.36,2.36,0,0,1,0-.28l.28-1.14,1.95-6.86h.93l3.56,10.91h6.25v-.88A3.05,3.05,0,0,1,19.68,21.22ZM13.29,10.31a14,14,0,0,1-2.63.23l2-7.56a2.67,2.67,0,0,1,.52-1.17,1.4,1.4,0,0,1,1-.3,2.74,2.74,0,0,1,2.33.91,3.72,3.72,0,0,1,.69,2.3,6.4,6.4,0,0,1-.49,2.52,6.72,6.72,0,0,1-1.06,1.82A4.11,4.11,0,0,1,13.29,10.31ZM26,.45H43.74l-1.4,6.27-.88-.15a6,6,0,0,0-.78-3.4c-.84-1.12-2.54-1.69-5.11-1.69a2.9,2.9,0,0,0-1.68.32A2.34,2.34,0,0,0,33.26,3l-1.95,7.33a13.55,13.55,0,0,0,4.48-.56c.68-.32,1.44-1.3,2.27-2.92l.91.11-2.44,9-.91-.16a7.27,7.27,0,0,0,.09-.82q0-.35,0-.57a2.69,2.69,0,0,0-1-2.4A7.57,7.57,0,0,0,31,11.38l-2.17,8c0,.2-.09.38-.12.57a2.62,2.62,0,0,0,0,.43.92.92,0,0,0,.35.74,2.54,2.54,0,0,0,1.49.29,13.84,13.84,0,0,0,5.11-.84A9.85,9.85,0,0,0,40.73,16l.81.14-1.95,6.42h-18v-.9a3.43,3.43,0,0,0,1.42-.53A3.42,3.42,0,0,0,24,19.32L28,4.51c.1-.37.18-.72.25-1a4.23,4.23,0,0,0,.09-.78c0-.56-.15-.91-.44-1.06a6.85,6.85,0,0,0-2-.34ZM63.4,3.37,51,23.15H49.9L47.39,6.34a17.25,17.25,0,0,0-.93-4.24c-.25-.43-.93-.7-2.05-.79V.45h9.86v.86a5.47,5.47,0,0,0-1.72.19,1.14,1.14,0,0,0-.81,1.16,3,3,0,0,0,0,.31l0,.32L53.5,16.43l6.24-9.85c.49-.79.94-1.57,1.33-2.36a4.45,4.45,0,0,0,.6-1.85.88.88,0,0,0-.61-.9,6.11,6.11,0,0,0-1.52-.16V.45h6.34v.86a3.88,3.88,0,0,0-1.16.5A5.73,5.73,0,0,0,63.4,3.37ZM70.08,20c0,.11,0,.22,0,.31,0,.56.15.91.45,1.06a6.39,6.39,0,0,0,1.95.35v.86H62.63v-.86a3.58,3.58,0,0,0,1.74-.57,3.35,3.35,0,0,0,.94-1.78l4-14.81q.18-.63.27-1a3.78,3.78,0,0,0,.09-.75c0-.56-.16-.91-.47-1.06a7,7,0,0,0-2-.34V.45h9.83v.86a3.61,3.61,0,0,0-1.75.58,3.37,3.37,0,0,0-.91,1.78L70.4,18.48l-.26,1.14Zm19.26-7.23a6.37,6.37,0,0,1,1.07,3.62,6.58,6.58,0,0,1-2.06,4.71,7.54,7.54,0,0,1-5.65,2.1A10.15,10.15,0,0,1,80.89,23a11.42,11.42,0,0,1-1.8-.49l-.83-.3-.58-.2a2,2,0,0,0-.38,0,1,1,0,0,0-.78.26,3.89,3.89,0,0,0-.52.92H75l1.19-7.4,1,.07a14.63,14.63,0,0,0,.28,2.3,5.27,5.27,0,0,0,2.79,3.44,4.73,4.73,0,0,0,2.06.44,3.85,3.85,0,0,0,3.07-1.26,4.39,4.39,0,0,0,1.09-2.94q0-2.09-4.05-5.25c-2.7-2.22-4-4.26-4-6.14a6.31,6.31,0,0,1,1.78-4.53,6.51,6.51,0,0,1,5-1.87,9.67,9.67,0,0,1,1.82.18A6.54,6.54,0,0,1,88,.45l.84.28.56.13a2.59,2.59,0,0,0,.52.06,1.4,1.4,0,0,0,.88-.24,2.2,2.2,0,0,0,.53-.6h1L91,6.69l-.85-.12L90,5.49a6,6,0,0,0-1-2.62,3.82,3.82,0,0,0-3.38-1.73A3,3,0,0,0,82.9,2.53a3.6,3.6,0,0,0-.58,2,3.44,3.44,0,0,0,.59,2,6,6,0,0,0,1,1l2.85,2.33A12.75,12.75,0,0,1,89.34,12.72ZM110.27,16l.81.14-2,6.42H90.85v-.86a3.66,3.66,0,0,0,1.74-.57,3.42,3.42,0,0,0,.93-1.78l4-14.81c.1-.37.18-.72.25-1a4.23,4.23,0,0,0,.09-.78c0-.56-.14-.91-.44-1.06a6.85,6.85,0,0,0-2-.34V.45h17.77l-1.4,6.27L111,6.57a6,6,0,0,0-.78-3.4c-.84-1.12-2.54-1.69-5.1-1.69a2.92,2.92,0,0,0-1.69.32A2.34,2.34,0,0,0,102.8,3l-2,7.33a13.55,13.55,0,0,0,4.48-.56c.69-.32,1.44-1.3,2.27-2.92l.92.11-2.45,9-.91-.16a7.27,7.27,0,0,0,.09-.82q0-.35,0-.57a2.69,2.69,0,0,0-1-2.4,7.57,7.57,0,0,0-3.79-.64l-2.17,8c0,.2-.09.38-.12.57a2.62,2.62,0,0,0,0,.43.92.92,0,0,0,.35.74,2.54,2.54,0,0,0,1.49.29,13.84,13.84,0,0,0,5.11-.84A9.81,9.81,0,0,0,110.27,16Zm22.65-13Q130.39.45,125.52.45h-9.58v.86a7,7,0,0,1,2,.34c.31.15.47.5.47,1.06a3.61,3.61,0,0,1-.09.74c-.06.29-.15.64-.26,1.06L114,19.31a3.18,3.18,0,0,1-1.15,1.91,3.57,3.57,0,0,1-1.53.45v.86h9.47a14.87,14.87,0,0,0,10.95-4.14,12,12,0,0,0,3.75-8.77A8.94,8.94,0,0,0,132.92,2.94ZM129,15.36q-2.62,6.06-8.52,6.05a2.46,2.46,0,0,1-1.42-.29,1.05,1.05,0,0,1-.4-.93,2.24,2.24,0,0,1,0-.34,2.65,2.65,0,0,1,.08-.43l4.55-16.67a2,2,0,0,1,.54-.92,2.2,2.2,0,0,1,1.44-.35,4.74,4.74,0,0,1,4.47,2.22,7.9,7.9,0,0,1,.83,3.9A19.32,19.32,0,0,1,129,15.36Z",opacity:1,strokeColor:"",fillColor:"#192760",width:127.47,height:55.84601,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Reviewed":t={iconName:"Reviewed",pathdata:"M17.37,18.25a3.47,3.47,0,0,1-1-1.67L14.17,10c0-.07-.1-.26-.19-.56A14.71,14.71,0,0,0,15.83,9a6.08,6.08,0,0,0,1.76-1A4.92,4.92,0,0,0,19.1,6.14a4.71,4.71,0,0,0,.46-1.93A3.65,3.65,0,0,0,16.86.52,12.83,12.83,0,0,0,12.72,0h-8V.75a6.62,6.62,0,0,1,1.72.3c.26.12.39.41.39.88a4.56,4.56,0,0,1-.13.94c0,.2-.1.44-.17.7L3,16.58a2.87,2.87,0,0,1-.82,1.56,3.15,3.15,0,0,1-1.53.51v.75H9.27v-.75a5.88,5.88,0,0,1-1.74-.31c-.25-.13-.37-.46-.37-1a2.53,2.53,0,0,1,0-.28,1.44,1.44,0,0,1,0-.24l.24-1,1.71-6H10l3.13,9.59h5.49v-.77A2.71,2.71,0,0,1,17.37,18.25ZM11.75,8.67a12.06,12.06,0,0,1-2.3.19L11.2,2.22a2.2,2.2,0,0,1,.46-1,1.19,1.19,0,0,1,.87-.27,2.41,2.41,0,0,1,2.05.8,3.29,3.29,0,0,1,.6,2A5.63,5.63,0,0,1,14.75,6a6.06,6.06,0,0,1-.93,1.59A3.65,3.65,0,0,1,11.75,8.67ZM22.9,0H38.52L37.29,5.51l-.78-.13a5.34,5.34,0,0,0-.68-3c-.74-1-2.24-1.48-4.49-1.48a2.68,2.68,0,0,0-1.49.27,2.09,2.09,0,0,0-.54,1L27.59,8.67a12.08,12.08,0,0,0,3.94-.5,5.69,5.69,0,0,0,2-2.56l.81.1-2.16,7.93-.79-.15c0-.27.06-.51.08-.71s0-.37,0-.5a2.34,2.34,0,0,0-.85-2.11A6.61,6.61,0,0,0,27.3,9.6l-1.91,7.08a4.91,4.91,0,0,0-.1.5,2,2,0,0,0,0,.38.83.83,0,0,0,.31.65,2.29,2.29,0,0,0,1.31.25,12.21,12.21,0,0,0,4.49-.73,8.69,8.69,0,0,0,4.51-4.09l.71.12L34.86,19.4H19.05v-.79a2.88,2.88,0,0,0,1.28-.47,2.94,2.94,0,0,0,.82-1.56l3.56-13q.13-.49.21-.9A3.26,3.26,0,0,0,25,2q0-.73-.39-.93A6.44,6.44,0,0,0,22.9.75ZM55.79,2.57,44.86,20h-.93L41.72,5.17a16.05,16.05,0,0,0-.81-3.73c-.22-.37-.82-.6-1.81-.69V0h8.67V.75a5,5,0,0,0-1.52.17,1,1,0,0,0-.7,1,2.53,2.53,0,0,0,0,.28l0,.27L47.09,14l5.48-8.66C53,4.69,53.4,4,53.75,3.32a4,4,0,0,0,.52-1.63.78.78,0,0,0-.54-.8A5.88,5.88,0,0,0,52.4.75V0H58V.75a3.55,3.55,0,0,0-1,.44A5.18,5.18,0,0,0,55.79,2.57ZM62,18.34a6,6,0,0,0,1.71.31v.75H55.12v-.75a3.15,3.15,0,0,0,1.53-.51,2.94,2.94,0,0,0,.82-1.56L61,3.57c.1-.37.18-.68.23-.93A2.81,2.81,0,0,0,61.34,2c0-.49-.13-.8-.41-.93a6.61,6.61,0,0,0-1.71-.3V0h8.63V.75a3.17,3.17,0,0,0-1.53.51,3,3,0,0,0-.8,1.57l-3.58,13-.22,1a2.74,2.74,0,0,0,0,.28,1.41,1.41,0,0,0,0,.28C61.64,17.9,61.78,18.21,62,18.34ZM69.13,0H84.75L83.52,5.51l-.78-.13a5.34,5.34,0,0,0-.68-3c-.74-1-2.24-1.48-4.49-1.48a2.68,2.68,0,0,0-1.49.27,2.09,2.09,0,0,0-.54,1L73.82,8.67a12.08,12.08,0,0,0,3.94-.5,5.69,5.69,0,0,0,2-2.56l.81.1L78.4,13.64l-.79-.15c0-.27.07-.51.08-.71s0-.37,0-.5a2.34,2.34,0,0,0-.85-2.11,6.61,6.61,0,0,0-3.33-.57l-1.91,7.08a4.91,4.91,0,0,0-.1.5,2,2,0,0,0,0,.38.83.83,0,0,0,.31.65,2.29,2.29,0,0,0,1.31.25,12.21,12.21,0,0,0,4.49-.73,8.69,8.69,0,0,0,4.51-4.09l.71.12L81.1,19.4H65v-.75a3.15,3.15,0,0,0,1.53-.51,2.94,2.94,0,0,0,.82-1.56l3.56-13q.14-.49.21-.9A3.26,3.26,0,0,0,71.24,2q0-.73-.39-.93a6.44,6.44,0,0,0-1.72-.3Zm39.15,2.83L100,20h-.84L97.41,5.85,90.67,20h-.84L87.58,3.13A3.83,3.83,0,0,0,87,1.23,2.84,2.84,0,0,0,85.33.71V0h8.06V.75A2.55,2.55,0,0,0,92.27,1a1.33,1.33,0,0,0-.66,1.31c0,.06,0,.13,0,.19s0,.15,0,.26l1.15,10.16,4.32-9a1,1,0,0,0,0-.27,3.33,3.33,0,0,0-.64-2.38A2.5,2.5,0,0,0,95.06.71V0h7.78V.71a2.9,2.9,0,0,0-1.4.34c-.27.19-.41.6-.41,1.24,0,.13,0,.32,0,.55,0,.4.08.88.14,1.47l1,8.47,4.51-9.42a7.12,7.12,0,0,0,.29-.74,2.48,2.48,0,0,0,.14-.79.9.9,0,0,0-.48-.93,3.25,3.25,0,0,0-1.34-.19V0h5.41V.71a2.34,2.34,0,0,0-1.1.35A4.56,4.56,0,0,0,108.28,2.83Zm16.45,10.81.71.12-1.71,5.64H107.66v-.75a3.15,3.15,0,0,0,1.53-.51,2.87,2.87,0,0,0,.82-1.56l3.57-13q.12-.49.21-.9a3.17,3.17,0,0,0,.08-.69q0-.73-.39-.93a6.44,6.44,0,0,0-1.72-.3V0h15.62l-1.23,5.51-.78-.13a5.26,5.26,0,0,0-.68-3C124,1.4,122.46.91,120.2.91a2.64,2.64,0,0,0-1.48.27,2.09,2.09,0,0,0-.55,1l-1.72,6.45a12,12,0,0,0,3.94-.5,5.62,5.62,0,0,0,2-2.56l.81.1L121,13.64l-.79-.15c0-.27.06-.51.07-.71s0-.37,0-.5a2.34,2.34,0,0,0-.86-2.11,6.57,6.57,0,0,0-3.32-.57l-1.91,7.08a5,5,0,0,0-.11.5,3.14,3.14,0,0,0,0,.38.8.8,0,0,0,.31.65,2.25,2.25,0,0,0,1.3.25,12.26,12.26,0,0,0,4.5-.73A8.67,8.67,0,0,0,124.73,13.64ZM144.64,2.19Q142.41,0,138.14,0h-8.42V.75a6.61,6.61,0,0,1,1.71.3c.28.13.41.44.41.93a2.81,2.81,0,0,1-.08.66c0,.25-.12.56-.23.93l-3.56,13a2.78,2.78,0,0,1-1,1.68,3.44,3.44,0,0,1-1.35.4v.75h8.32a13.06,13.06,0,0,0,9.63-3.64,10.49,10.49,0,0,0,3.3-7.7A7.87,7.87,0,0,0,144.64,2.19ZM141.2,13.1q-2.31,5.32-7.48,5.32a2.27,2.27,0,0,1-1.26-.25,1,1,0,0,1-.34-.82,1.62,1.62,0,0,1,0-.3,2.16,2.16,0,0,1,.08-.38l4-14.65a1.63,1.63,0,0,1,.47-.81A2,2,0,0,1,138,.91a4.16,4.16,0,0,1,3.93,1.95,7,7,0,0,1,.72,3.42A16.82,16.82,0,0,1,141.2,13.1Z",opacity:1,strokeColor:"",fillColor:"#192760",width:127.70402,height:55.84601,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Received":t={iconName:"Received",pathdata:"M18.17,8.76a5,5,0,0,0,1.57-1.93,5,5,0,0,0,.47-2A3.76,3.76,0,0,0,17.42,1,13,13,0,0,0,13.13.48H4.89v.78a6.49,6.49,0,0,1,1.77.31c.27.12.41.43.41.91a5.87,5.87,0,0,1-.13,1c-.05.2-.12.44-.19.72L3.06,17.64a3,3,0,0,1-.84,1.61,3.36,3.36,0,0,1-1.59.53v.77H9.57v-.77a6.17,6.17,0,0,1-1.8-.32c-.26-.14-.39-.48-.39-1a2.46,2.46,0,0,1,0-.28,1.78,1.78,0,0,1,0-.26l.25-1,1.78-6.25h.84l3.24,9.92h5.66v-.8A2.76,2.76,0,0,1,18,19.36a3.57,3.57,0,0,1-1-1.72l-2.31-6.78c0-.07-.09-.27-.19-.58.87-.2,1.51-.38,1.92-.52A6.56,6.56,0,0,0,18.17,8.76Zm-2.93-2.1a6.19,6.19,0,0,1-1,1.65,3.85,3.85,0,0,1-2.14,1.14,12.92,12.92,0,0,1-2.39.2l1.81-6.87A2.5,2.5,0,0,1,12,1.72a1.27,1.27,0,0,1,.9-.27,2.5,2.5,0,0,1,2.12.83,3.35,3.35,0,0,1,.62,2.09A5.81,5.81,0,0,1,15.24,6.66ZM30.3,2.78,28.52,9.45a12.53,12.53,0,0,0,4.08-.51,5.91,5.91,0,0,0,2-2.66l.84.11-2.23,8.2-.82-.15c0-.28.07-.53.08-.74a5.17,5.17,0,0,0,0-.52A2.43,2.43,0,0,0,31.66,11a6.87,6.87,0,0,0-3.44-.58l-2,7.32a3.61,3.61,0,0,0-.11.51,2.31,2.31,0,0,0,0,.4.83.83,0,0,0,.32.67,2.32,2.32,0,0,0,1.35.26,12.58,12.58,0,0,0,4.65-.76,9,9,0,0,0,4.67-4.23l.73.13-1.77,5.83H19.8v-.83A2.83,2.83,0,0,0,21,19.25a3.09,3.09,0,0,0,.85-1.61L25.54,4.17c.09-.34.16-.65.22-.93a3.35,3.35,0,0,0,.09-.71c0-.5-.13-.82-.4-1a6.34,6.34,0,0,0-1.78-.31V.48H39.82l-1.27,5.7-.81-.13A5.44,5.44,0,0,0,37,3Q35.9,1.42,32.4,1.42a2.69,2.69,0,0,0-1.54.29A2.08,2.08,0,0,0,30.3,2.78ZM56.56,6.1c0-.07,0-.18,0-.33a4.89,4.89,0,0,0-1.12-3.53,3.75,3.75,0,0,0-2.82-1.16c-2.33,0-4.35,1.55-6.07,4.63a17.09,17.09,0,0,0-2.31,8.43c0,2.08.47,3.5,1.43,4.27a4.89,4.89,0,0,0,3.11,1.15,6.84,6.84,0,0,0,4.14-1.45A11.51,11.51,0,0,0,55,16l.91.66A10.08,10.08,0,0,1,52.26,20a9.33,9.33,0,0,1-4.34,1.11A8.56,8.56,0,0,1,42,19a7.25,7.25,0,0,1-2.35-5.67A13.53,13.53,0,0,1,43.22,4a11.19,11.19,0,0,1,8.56-4A12.34,12.34,0,0,1,55,.44,13.17,13.17,0,0,0,56.9.88a1,1,0,0,0,.71-.24A2.94,2.94,0,0,0,58.06,0H59L57.45,7l-.94-.18C56.54,6.42,56.55,6.17,56.56,6.1Zm18,8.49.74.13-1.78,5.83H56.87v-.77a3.31,3.31,0,0,0,1.58-.53,3.09,3.09,0,0,0,.85-1.61L63,4.17c.09-.34.16-.65.22-.93a3.35,3.35,0,0,0,.09-.71c0-.5-.14-.82-.4-1a6.34,6.34,0,0,0-1.78-.31V.48H77.26L76,6.18l-.81-.13A5.44,5.44,0,0,0,74.48,3q-1.14-1.54-4.64-1.54a2.69,2.69,0,0,0-1.54.29,2.08,2.08,0,0,0-.56,1.07L66,9.45A12.53,12.53,0,0,0,70,8.94a5.91,5.91,0,0,0,2-2.66l.84.11-2.23,8.2-.82-.15c0-.28.07-.53.08-.74a5.17,5.17,0,0,0,0-.52A2.43,2.43,0,0,0,69.1,11a6.87,6.87,0,0,0-3.44-.58l-2,7.32a3.61,3.61,0,0,0-.11.51,2.31,2.31,0,0,0,0,.4.83.83,0,0,0,.32.67,2.32,2.32,0,0,0,1.35.26,12.58,12.58,0,0,0,4.65-.76A8.91,8.91,0,0,0,74.52,14.59Zm31-11.45-11.31,18h-1L91,5.83A16.56,16.56,0,0,0,90.12,2c-.2-.34-.71-.56-1.51-.67a3,3,0,0,0-1.31.48,3.08,3.08,0,0,0-.82,1.62l-3.7,13.47-.24,1c0,.1,0,.2-.05.3s0,.2,0,.28c0,.51.14.83.41,1a6.21,6.21,0,0,0,1.77.32v.77H75.72v-.77a3.31,3.31,0,0,0,1.58-.53,3.09,3.09,0,0,0,.85-1.61L81.83,4.17c.11-.38.19-.7.25-.95a3.75,3.75,0,0,0,.08-.69c0-.5-.15-.82-.43-1A6.49,6.49,0,0,0,80,1.26V.48H97.22v.78a4.92,4.92,0,0,0-1.57.18,1,1,0,0,0-.73,1.05,2.81,2.81,0,0,0,0,.29l0,.28,1.56,12,5.67-9a24.21,24.21,0,0,0,1.21-2.14,4.07,4.07,0,0,0,.54-1.68.79.79,0,0,0-.55-.82A5.69,5.69,0,0,0,102,1.26V.48h5.76v.78a3.5,3.5,0,0,0-1,.46A5.16,5.16,0,0,0,105.52,3.14Zm16.83,11.45.73.13-1.77,5.83H104.69v-.77a3.31,3.31,0,0,0,1.58-.53,3,3,0,0,0,.85-1.61l3.69-13.47c.08-.34.16-.65.22-.93a4,4,0,0,0,.08-.71c0-.5-.13-.82-.4-1a6.34,6.34,0,0,0-1.78-.31V.48h16.16l-1.28,5.7-.8-.13A5.43,5.43,0,0,0,122.3,3q-1.14-1.54-4.64-1.54a2.67,2.67,0,0,0-1.53.29,2.16,2.16,0,0,0-.57,1.07l-1.78,6.67a12.53,12.53,0,0,0,4.08-.51,5.91,5.91,0,0,0,2.06-2.66l.83.11-2.22,8.2-.82-.15c0-.28.06-.53.08-.74s0-.38,0-.52a2.45,2.45,0,0,0-.88-2.18,6.9,6.9,0,0,0-3.44-.58l-2,7.32c-.05.18-.08.35-.11.51a3.58,3.58,0,0,0,0,.4.81.81,0,0,0,.32.67,2.28,2.28,0,0,0,1.35.26,12.62,12.62,0,0,0,4.65-.76A9,9,0,0,0,122.35,14.59ZM142.94,2.75Q140.63.48,136.21.48h-8.7v.78a6.66,6.66,0,0,1,1.77.31q.42.21.42,1a2.91,2.91,0,0,1-.08.68q-.08.39-.24,1L125.7,17.62a2.93,2.93,0,0,1-1,1.75,3.54,3.54,0,0,1-1.39.41v.77h8.61a13.5,13.5,0,0,0,10-3.76,10.84,10.84,0,0,0,3.41-8A8.14,8.14,0,0,0,142.94,2.75ZM139.38,14q-2.38,5.51-7.74,5.5a2.35,2.35,0,0,1-1.29-.26,1,1,0,0,1-.36-.85,1.78,1.78,0,0,1,0-.31,2.08,2.08,0,0,1,.08-.39l4.13-15.15a1.76,1.76,0,0,1,.49-.84A2,2,0,0,1,136,1.42a4.32,4.32,0,0,1,4.07,2A7.17,7.17,0,0,1,140.83,7,17.49,17.49,0,0,1,139.38,14Z",opacity:1,strokeColor:"",fillColor:"#192760",width:127.70402,height:55.84601,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Approved":t={iconName:"Approved",pathdata:"M19,20.22H10.55v-.71a4.26,4.26,0,0,0,1.79-.41,1.37,1.37,0,0,0,.53-1.29c0-.22,0-.75-.16-1.58,0-.17-.11-.89-.29-2.15H6.06l-1.72,3a4,4,0,0,0-.31.66,2,2,0,0,0-.14.69c0,.41.12.67.37.78a5.42,5.42,0,0,0,1.53.3v.71H0v-.71A4,4,0,0,0,1.21,19a5.68,5.68,0,0,0,1.28-1.56L13.45.07h.76L17,17a4.35,4.35,0,0,0,.7,2.08,2.4,2.4,0,0,0,1.31.44Zm-6.83-7.31L11.13,5.73,6.76,12.91Zm7.18,6.52a3,3,0,0,0,1.33-.49,3,3,0,0,0,.84-1.59L25.19,4.11c.07-.3.14-.6.2-.9a3.14,3.14,0,0,0,.1-.72,1,1,0,0,0-.58-1,5.68,5.68,0,0,0-1.57-.23V.48h8.47a9.68,9.68,0,0,1,3.57.57,4,4,0,0,1,2.71,4,4.93,4.93,0,0,1-2.2,4.22,9.53,9.53,0,0,1-5.69,1.58l-.85,0-1.71-.11L26,16.6l-.25,1a1,1,0,0,0-.05.3,2.83,2.83,0,0,0,0,.29c0,.5.14.81.4.94a6.31,6.31,0,0,0,1.76.31v.76H19.39Zm8.52-9.66.54.06h.48a5.81,5.81,0,0,0,2.3-.36,3.47,3.47,0,0,0,1.4-1.18,6.24,6.24,0,0,0,.86-2,8.94,8.94,0,0,0,.3-2,3.29,3.29,0,0,0-.58-2,2.3,2.3,0,0,0-2-.79,1.23,1.23,0,0,0-.93.28,2.71,2.71,0,0,0-.46,1Zm8,9.69a3.19,3.19,0,0,0,1.55-.52,3,3,0,0,0,.84-1.59L42,4.11c.07-.3.14-.6.2-.9a3.14,3.14,0,0,0,.1-.72,1,1,0,0,0-.58-1,5.68,5.68,0,0,0-1.57-.23V.48h8.47a9.68,9.68,0,0,1,3.57.57,4,4,0,0,1,2.71,4,4.93,4.93,0,0,1-2.2,4.22A9.53,9.53,0,0,1,47,10.87l-.85,0-1.71-.11L42.79,16.6l-.25,1a1.45,1.45,0,0,0,0,.3,2.83,2.83,0,0,0,0,.29c0,.5.14.81.4.94a6.31,6.31,0,0,0,1.76.31v.76h-8.7Zm8.74-9.69.54.06h.48A5.81,5.81,0,0,0,48,9.48a3.41,3.41,0,0,0,1.4-1.18,6.24,6.24,0,0,0,.86-2,9,9,0,0,0,.31-2,3.29,3.29,0,0,0-.59-2,2.3,2.3,0,0,0-2-.79,1.23,1.23,0,0,0-.93.28,2.88,2.88,0,0,0-.46,1Zm7.95,9.69a3.27,3.27,0,0,0,1.56-.52A3.06,3.06,0,0,0,55,17.35L58.64,4.11l.18-.71a4.72,4.72,0,0,0,.13-1c0-.47-.13-.77-.4-.9a6.74,6.74,0,0,0-1.74-.3V.48h8.11A13,13,0,0,1,69.14,1a3.7,3.7,0,0,1,2.74,3.75,4.8,4.8,0,0,1-.46,2,5,5,0,0,1-1.54,1.9,6.55,6.55,0,0,1-1.79,1,19.35,19.35,0,0,1-1.89.52c.1.3.16.49.2.57l2.27,6.66a3.49,3.49,0,0,0,1,1.7,3.08,3.08,0,0,0,1.6.41v.76H65.33l-3.19-9.76h-.83L59.57,16.6l-.25,1a1.87,1.87,0,0,0,0,.25,2.64,2.64,0,0,0,0,.28q0,.8.39,1a5.88,5.88,0,0,0,1.76.32v.76H52.62ZM63.94,9.3a3.79,3.79,0,0,0,2.11-1.13A6,6,0,0,0,67,6.55a5.84,5.84,0,0,0,.44-2.26,3.31,3.31,0,0,0-.61-2,2.47,2.47,0,0,0-2.09-.81,1.25,1.25,0,0,0-.88.26,2.34,2.34,0,0,0-.47,1.05L61.59,9.5A13.42,13.42,0,0,0,63.94,9.3ZM76.39,4.53Q80.26,0,85,0a7.34,7.34,0,0,1,5.23,1.92,6.76,6.76,0,0,1,2,5.19,13.9,13.9,0,0,1-3.62,9.07q-3.86,4.61-8.88,4.6a7.06,7.06,0,0,1-5.13-1.92,6.86,6.86,0,0,1-2-5.14A14,14,0,0,1,76.39,4.53ZM77.3,18a2.56,2.56,0,0,0,2.57,1.78A4.62,4.62,0,0,0,83,18.47,14.42,14.42,0,0,0,86,13.54a27.18,27.18,0,0,0,1.52-4.83,20.67,20.67,0,0,0,.54-4.11,4.38,4.38,0,0,0-.73-2.55A2.62,2.62,0,0,0,85,1q-3.68,0-6.19,6.54a24.29,24.29,0,0,0-1.9,8.26A5.91,5.91,0,0,0,77.3,18ZM102.23.48v.76a5.19,5.19,0,0,0-1.55.17,1,1,0,0,0-.72,1,2.46,2.46,0,0,0,0,.28L100,3l1.52,11.76L107.11,6c.44-.71.84-1.41,1.2-2.11a4.06,4.06,0,0,0,.53-1.66.79.79,0,0,0-.55-.81,6.11,6.11,0,0,0-1.35-.14V.48h5.67v.76a3.31,3.31,0,0,0-1,.45,5.33,5.33,0,0,0-1.18,1.4L99.26,20.78h-.94l-2.25-15A15.49,15.49,0,0,0,95.24,2c-.22-.39-.84-.62-1.83-.71V.48Zm7.35,19a3.19,3.19,0,0,0,1.55-.52,3,3,0,0,0,.84-1.59l3.62-13.24c.09-.34.16-.64.22-.92a3.27,3.27,0,0,0,.09-.7c0-.5-.14-.81-.4-.94a6.13,6.13,0,0,0-1.75-.31V.48h15.89l-1.25,5.6L127.6,6a5.32,5.32,0,0,0-.7-3q-1.12-1.52-4.56-1.51a2.61,2.61,0,0,0-1.51.28,2.12,2.12,0,0,0-.56,1.06L118.52,9.3a12.1,12.1,0,0,0,4-.51,5.8,5.8,0,0,0,2-2.61l.82.1-2.19,8.07-.81-.14c0-.28.07-.52.08-.73s0-.37,0-.51a2.4,2.4,0,0,0-.87-2.15,6.76,6.76,0,0,0-3.38-.57l-1.94,7.2a3.34,3.34,0,0,0-.11.51,3.67,3.67,0,0,0,0,.39.81.81,0,0,0,.32.66,2.3,2.3,0,0,0,1.33.26,12.39,12.39,0,0,0,4.57-.75A8.84,8.84,0,0,0,127,14.35l.72.13-1.74,5.74H109.58Zm18.27,0a3.27,3.27,0,0,0,1.37-.41,2.85,2.85,0,0,0,1-1.71l3.63-13.23c.1-.38.18-.69.23-1a3,3,0,0,0,.09-.67c0-.5-.15-.81-.42-.94A6.38,6.38,0,0,0,132,1.24V.48h8.57c2.9,0,5.1.74,6.62,2.22a8,8,0,0,1,2.26,6,10.72,10.72,0,0,1-3.35,7.84,13.3,13.3,0,0,1-9.8,3.7h-8.47ZM144.4,3.39a4.23,4.23,0,0,0-4-2,2,2,0,0,0-1.29.31,1.74,1.74,0,0,0-.48.83l-4.07,14.9a3.24,3.24,0,0,0-.07.39,1.69,1.69,0,0,0,0,.3,1,1,0,0,0,.36.84,2.27,2.27,0,0,0,1.27.26q5.26,0,7.62-5.42a17.25,17.25,0,0,0,1.43-6.94A7,7,0,0,0,144.4,3.39Z",opacity:1,strokeColor:"",fillColor:"#516c30",width:127.70402,height:55.84601,stampFillColor:"#e6eddf",stampStrokeColor:""};break;case"Confidential":t={iconName:"Confidential",pathdata:"M13.71,0,12.63,6.9,12,6.73c0-.41,0-.66,0-.73s0-.18,0-.32a6.16,6.16,0,0,0-.79-3.47,2.37,2.37,0,0,0-2-1.14c-1.64,0-3.07,1.51-4.29,4.55a22,22,0,0,0-1.64,8.29c0,2,.34,3.44,1,4.2A3,3,0,0,0,6.5,19.24a4.08,4.08,0,0,0,2.93-1.43,10.47,10.47,0,0,0,1.5-2.09l.64.65A8.84,8.84,0,0,1,9,19.72a5.24,5.24,0,0,1-3.08,1.09,5.16,5.16,0,0,1-4.21-2.08A8.68,8.68,0,0,1,0,13.16,16.5,16.5,0,0,1,2.55,3.92Q5.1,0,8.61,0a6.35,6.35,0,0,1,2.25.43,6.62,6.62,0,0,0,1.38.43.55.55,0,0,0,.5-.23A2.61,2.61,0,0,0,13.06,0ZM27.49,7.11a17.19,17.19,0,0,1-2.61,9.07q-2.77,4.61-6.39,4.6a4.42,4.42,0,0,1-3.7-1.92,8.47,8.47,0,0,1-1.43-5.14A17.31,17.31,0,0,1,16,4.53C17.88,1.51,20,0,22.25,0A4.53,4.53,0,0,1,26,1.92,8.27,8.27,0,0,1,27.49,7.11ZM24.42,4.6a5.71,5.71,0,0,0-.53-2.55A1.76,1.76,0,0,0,22.24,1q-2.65,0-4.45,6.54a31.93,31.93,0,0,0-1.37,8.26A8.15,8.15,0,0,0,16.67,18c.34,1.19,1,1.78,1.85,1.78a2.9,2.9,0,0,0,2.28-1.29,15.85,15.85,0,0,0,2.13-4.93A34.08,34.08,0,0,0,24,8.71,28.5,28.5,0,0,0,24.42,4.6ZM42.75,1.3l.3-.06V.48H38.69v.76a2.55,2.55,0,0,1,1.16.33,1.8,1.8,0,0,1,.51,1.48,10.11,10.11,0,0,1-.13,1.34c-.06.41-.14.87-.24,1.39l-1.65,8.34L33.73.48H29.45v.76a2.66,2.66,0,0,1,1,.24,1.88,1.88,0,0,1,.65,1.06l.09.3L28.81,15a20.72,20.72,0,0,1-1,3.61,1.61,1.61,0,0,1-1.19.9v.76h4.42v-.76a2.55,2.55,0,0,1-1.13-.32,1.67,1.67,0,0,1-.56-1.44,7.13,7.13,0,0,1,.05-.79c.06-.43.17-1.09.34-2L31.89,4.38l5.52,16.33h.52l3-15a22.58,22.58,0,0,1,.87-3.42A1.42,1.42,0,0,1,42.75,1.3ZM55.53.48H44.23v.76a3.63,3.63,0,0,1,1.26.3c.19.13.29.42.29.9a7.08,7.08,0,0,1-.09,1c0,.2-.08.44-.13.71L43,17.34a3.47,3.47,0,0,1-.59,1.58,1.91,1.91,0,0,1-1.13.54v.76h6.29v-.76a2.13,2.13,0,0,1-1-.19A1.23,1.23,0,0,1,46,18.1c0-.1,0-.21,0-.31s0-.23.05-.35l1.4-7.21a3.15,3.15,0,0,1,2.37.64A3.21,3.21,0,0,1,50.38,13c0,.11,0,.28,0,.49s0,.46-.06.75l.58.14,1.58-8.07-.59-.1a5.79,5.79,0,0,1-1.43,2.59,6.17,6.17,0,0,1-2.77.52l1.26-6.54a2.06,2.06,0,0,1,.42-1.08,1.39,1.39,0,0,1,1-.26c1.62,0,2.7.51,3.24,1.54a7.11,7.11,0,0,1,.49,3l.57.13Zm3.69,17.71c0-.08,0-.17,0-.27s0-.2,0-.3l.17-1L62.06,3.36a3.44,3.44,0,0,1,.59-1.6,2,2,0,0,1,1.12-.52V.48H57.44v.76a3.47,3.47,0,0,1,1.26.31c.2.13.3.44.3.94a4.25,4.25,0,0,1-.06.67c0,.26-.09.57-.17,1L56.16,17.35a3.52,3.52,0,0,1-.6,1.59,2,2,0,0,1-1.12.52v.76h6.33v-.76a3.3,3.3,0,0,1-1.26-.32C59.32,19,59.22,18.69,59.22,18.19Zm18-9.51a13,13,0,0,1-2.42,7.84,8.31,8.31,0,0,1-7,3.7H61.6v-.76a2,2,0,0,0,1-.41,3.14,3.14,0,0,0,.73-1.71L65.93,4.11c.08-.38.13-.69.17-1a4.36,4.36,0,0,0,.06-.67c0-.5-.1-.81-.3-.94a3.47,3.47,0,0,0-1.26-.31V.48h6.17A5.52,5.52,0,0,1,75.53,2.7,9.91,9.91,0,0,1,77.17,8.68ZM74,6.87a9.22,9.22,0,0,0-.53-3.48,2.91,2.91,0,0,0-2.87-2,1.12,1.12,0,0,0-.93.31,1.81,1.81,0,0,0-.35.83l-2.93,14.9a3,3,0,0,0-.05.39c0,.11,0,.21,0,.3a1.17,1.17,0,0,0,.25.84,1.3,1.3,0,0,0,.92.26q3.8,0,5.49-5.42A23.26,23.26,0,0,0,74,6.87Zm11.3,11.65a6.72,6.72,0,0,1-3.29.75,1.3,1.3,0,0,1-1-.26,1,1,0,0,1-.23-.66,3.28,3.28,0,0,1,0-.39,4.88,4.88,0,0,1,.08-.51l1.4-7.2a3.73,3.73,0,0,1,2.43.57A2.87,2.87,0,0,1,85.43,13c0,.14,0,.31,0,.51s0,.45-.06.73l.59.14,1.57-8.07-.59-.1a5.79,5.79,0,0,1-1.46,2.61,6.5,6.5,0,0,1-2.89.51l1.26-6.56a2.41,2.41,0,0,1,.41-1.06c.16-.19.52-.28,1.08-.28,1.65,0,2.75.5,3.29,1.51a7,7,0,0,1,.5,3l.57.13.9-5.6H79.14v.76a3.35,3.35,0,0,1,1.26.31c.19.13.29.44.29.94a5,5,0,0,1-.07.7c0,.28-.09.58-.15.92L77.86,17.35a3.52,3.52,0,0,1-.6,1.59,2,2,0,0,1-1.13.52v.76H87.91l1.25-5.74-.52-.13A7.69,7.69,0,0,1,85.34,18.52ZM105.8,1.24V.48h-4.37v.76a2.55,2.55,0,0,1,1.16.33,1.77,1.77,0,0,1,.52,1.48A10.58,10.58,0,0,1,103,4.39c-.06.41-.13.87-.23,1.39l-1.66,8.34L96.47.48H92.19v.76a2.61,2.61,0,0,1,1,.24,1.83,1.83,0,0,1,.65,1.06l.1.3L91.55,15a19,19,0,0,1-1,3.61,1.61,1.61,0,0,1-1.19.9v.76h4.42v-.76a2.59,2.59,0,0,1-1.13-.32,1.67,1.67,0,0,1-.56-1.44,7.13,7.13,0,0,1,0-.79c.06-.43.17-1.09.35-2L94.63,4.38l5.52,16.33h.53l2.95-15a22.93,22.93,0,0,1,.86-3.42,1.42,1.42,0,0,1,1-1Zm11.4,4.9L118,.48H106.28l-.82,5,.55.2a8,8,0,0,1,1.87-3.16,3.7,3.7,0,0,1,2.7-1.06l-3.12,15.85a2.94,2.94,0,0,1-.87,1.85,2.48,2.48,0,0,1-1.34.26v.76h7v-.76a4.24,4.24,0,0,1-1.43-.3c-.23-.13-.34-.45-.34-.95a2.26,2.26,0,0,1,0-.26c0-.09,0-.2,0-.33l.18-1,3-15.1a2.73,2.73,0,0,1,1.79.63c.75.7,1.13,2,1.17,3.94Zm3.57,12.05c0-.08,0-.17,0-.27s0-.2,0-.3l.17-1,2.62-13.24a3.44,3.44,0,0,1,.59-1.6,2,2,0,0,1,1.12-.52V.48H119v.76a3.47,3.47,0,0,1,1.26.31c.2.13.3.44.3.94a4.25,4.25,0,0,1-.06.67c0,.26-.09.57-.17,1l-2.61,13.24a3.52,3.52,0,0,1-.6,1.59,2,2,0,0,1-1.12.52v.76h6.33v-.76a3.36,3.36,0,0,1-1.26-.32C120.87,19,120.77,18.69,120.77,18.19Zm28.86-3.71-1.24,5.74H130.3v-.71a2.48,2.48,0,0,0,1.3-.41,1.64,1.64,0,0,0,.37-1.29c0-.22,0-.75-.11-1.58,0-.17-.08-.89-.21-2.15h-4.58l-1.24,3a5.1,5.1,0,0,0-.22.66,2.45,2.45,0,0,0-.1.69c0,.41.09.67.26.78a3.05,3.05,0,0,0,1.11.3v.71h-4.17v-.71a2.66,2.66,0,0,0,.87-.53,5.79,5.79,0,0,0,.92-1.56L132.39.07h.55L135,17a5.53,5.53,0,0,0,.5,2.08,1.67,1.67,0,0,0,1.14.46v0a1.93,1.93,0,0,0,1.12-.52,3.52,3.52,0,0,0,.6-1.6l2.61-13.23c.08-.38.13-.69.17-1a4.36,4.36,0,0,0,.06-.67c0-.5-.1-.81-.3-.94a3.47,3.47,0,0,0-1.26-.31V.48h6.73v.76a3.23,3.23,0,0,0-1.49.48,3.06,3.06,0,0,0-.64,1.64l-2.77,14.08c0,.16-.05.3-.07.44s0,.29,0,.47a.79.79,0,0,0,.31.71,1.55,1.55,0,0,0,.87.21,6.83,6.83,0,0,0,3.79-1,8.42,8.42,0,0,0,2.81-3.88ZM131.5,12.91l-.78-7.18-3.14,7.18Z",opacity:1,strokeColor:"",fillColor:"#192760",width:127.70402,height:55.84601,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"NotApproved":case"Not Approved":t={iconName:"Not Approved",pathdata:"M0,19.46a1.56,1.56,0,0,0,1.16-.9A19.84,19.84,0,0,0,2.1,15L4.42,2.84l-.09-.3a1.82,1.82,0,0,0-.64-1.06,2.41,2.41,0,0,0-1-.24V.48H6.88l4.49,13.64L13,5.78c.09-.52.17-1,.22-1.39a10.11,10.11,0,0,0,.13-1.34,1.83,1.83,0,0,0-.49-1.48,2.49,2.49,0,0,0-1.13-.33V.48H16v.76l-.29.06a1.42,1.42,0,0,0-1,1,23.7,23.7,0,0,0-.84,3.42L11,20.71h-.51L5.1,4.38,3,15c-.17.87-.28,1.53-.33,2a5.32,5.32,0,0,0,0,.79,1.69,1.69,0,0,0,.54,1.44,2.48,2.48,0,0,0,1.1.32v.76H0ZM17.73,4.53C19.54,1.51,21.55,0,23.79,0a4.4,4.4,0,0,1,3.66,1.92,8.52,8.52,0,0,1,1.43,5.19,17.56,17.56,0,0,1-2.53,9.07q-2.7,4.61-6.21,4.6a4.24,4.24,0,0,1-3.6-1.92,8.6,8.6,0,0,1-1.39-5.14A17.68,17.68,0,0,1,17.73,4.53ZM18.37,18c.33,1.19.93,1.78,1.8,1.78a2.83,2.83,0,0,0,2.22-1.29,16.41,16.41,0,0,0,2.06-4.93,35.53,35.53,0,0,0,1.06-4.83A28.26,28.26,0,0,0,25.9,4.6a5.86,5.86,0,0,0-.52-2.55A1.7,1.7,0,0,0,23.78,1Q21.2,1,19.45,7.53a33,33,0,0,0-1.33,8.26A8.15,8.15,0,0,0,18.37,18Zm11.08,1.48a2.34,2.34,0,0,0,1.3-.26,3,3,0,0,0,.85-1.85l3-15.85A3.54,3.54,0,0,0,32,2.56a8,8,0,0,0-1.82,3.16l-.53-.2.8-5H41.81l-.74,5.66-.54-.07c0-1.92-.41-3.24-1.13-3.94a2.6,2.6,0,0,0-1.74-.63L34.79,16.6l-.17,1a2.43,2.43,0,0,0,0,.33,2.26,2.26,0,0,0,0,.26c0,.5.11.82.33.95a3.94,3.94,0,0,0,1.39.3v.76H29.45Zm26.65.76H50.18v-.71a2.28,2.28,0,0,0,1.25-.41,1.64,1.64,0,0,0,.37-1.29c0-.22,0-.75-.11-1.58,0-.17-.08-.89-.2-2.15H47l-1.2,3c-.08.2-.15.42-.22.66a2.84,2.84,0,0,0-.09.69c0,.41.08.67.25.78a2.91,2.91,0,0,0,1.08.3v.71H42.79v-.71a2.44,2.44,0,0,0,.85-.53,5.59,5.59,0,0,0,.9-1.56L52.21.07h.53l2,16.88A5.46,5.46,0,0,0,55.2,19a1.36,1.36,0,0,0,.9.43Zm-4.76-7.31-.76-7.18-3,7.18Zm4.95,6.53a1.82,1.82,0,0,0,1-.5,3.56,3.56,0,0,0,.58-1.59L60.42,4.11c.06-.3.1-.6.15-.9a5.46,5.46,0,0,0,.06-.72c0-.52-.13-.86-.4-1a2.88,2.88,0,0,0-1.1-.23V.48h5.93a5,5,0,0,1,2.5.57c1.26.73,1.9,2.07,1.9,4a5.81,5.81,0,0,1-1.54,4.22,5.32,5.32,0,0,1-4,1.58l-.59,0-1.2-.11L61,16.6l-.17,1a2.72,2.72,0,0,0,0,.3,2.81,2.81,0,0,0,0,.29c0,.5.09.81.28.94a3.26,3.26,0,0,0,1.23.31v.76h-6Zm6-9.67.38.06H63a3,3,0,0,0,1.62-.36,2.87,2.87,0,0,0,1-1.18,7.28,7.28,0,0,0,.6-2,11.67,11.67,0,0,0,.22-2,4.4,4.4,0,0,0-.41-2,1.44,1.44,0,0,0-1.39-.79.71.71,0,0,0-.65.28,3.7,3.7,0,0,0-.32,1Zm5.61,9.69A1.86,1.86,0,0,0,69,18.94a3.54,3.54,0,0,0,.59-1.59L72.15,4.11q.09-.45.15-.9a5.73,5.73,0,0,0,.07-.72,1.1,1.1,0,0,0-.41-1,2.88,2.88,0,0,0-1.1-.23V.48h5.93a5,5,0,0,1,2.5.57c1.27.73,1.9,2.07,1.9,4a5.77,5.77,0,0,1-1.54,4.22,5.31,5.31,0,0,1-4,1.58l-.6,0-1.2-.11L72.74,16.6l-.17,1a2.72,2.72,0,0,0,0,.3c0,.1,0,.19,0,.29,0,.5.1.81.29.94a3.15,3.15,0,0,0,1.23.31v.76h-6.1Zm6.12-9.69.38.06h.33a3,3,0,0,0,1.62-.36,3,3,0,0,0,1-1.18,7.67,7.67,0,0,0,.59-2,11.67,11.67,0,0,0,.22-2,4.4,4.4,0,0,0-.41-2,1.43,1.43,0,0,0-1.38-.79.73.73,0,0,0-.66.28,3.7,3.7,0,0,0-.32,1Zm5.57,9.69a1.9,1.9,0,0,0,1.09-.52,3.56,3.56,0,0,0,.58-1.59L83.84,4.11c0-.27.09-.51.13-.71a7.08,7.08,0,0,0,.09-1c0-.47-.1-.77-.28-.9a3.53,3.53,0,0,0-1.22-.3V.48h5.68a6.57,6.57,0,0,1,3,.53q1.92,1,1.92,3.75a6.79,6.79,0,0,1-.32,2,5.23,5.23,0,0,1-1.08,1.9,4.56,4.56,0,0,1-1.25,1,11.62,11.62,0,0,1-1.33.52c.07.3.12.49.14.57l1.59,6.66a4.07,4.07,0,0,0,.69,1.7,1.72,1.72,0,0,0,1.13.41v.76H88.52l-2.23-9.76h-.58L84.49,16.6l-.17,1a1,1,0,0,0,0,.25,2.62,2.62,0,0,0,0,.28c0,.53.09.86.26,1a3.11,3.11,0,0,0,1.24.32v.76H79.63ZM87.55,9.3A2.59,2.59,0,0,0,89,8.17a7.24,7.24,0,0,0,.66-1.62A8.18,8.18,0,0,0,90,4.29a4.32,4.32,0,0,0-.43-2,1.5,1.5,0,0,0-1.45-.81.71.71,0,0,0-.62.26,2.78,2.78,0,0,0-.33,1.05L85.91,9.5A6.63,6.63,0,0,0,87.55,9.3Zm8.72-4.77Q99,0,102.32,0A4.37,4.37,0,0,1,106,1.92a8.46,8.46,0,0,1,1.44,5.19,17.58,17.58,0,0,1-2.54,9.07q-2.7,4.61-6.21,4.6a4.27,4.27,0,0,1-3.6-1.92,8.67,8.67,0,0,1-1.38-5.14A17.68,17.68,0,0,1,96.27,4.53ZM96.9,18c.33,1.19.93,1.78,1.8,1.78a2.83,2.83,0,0,0,2.22-1.29A16.63,16.63,0,0,0,103,13.54a37.1,37.1,0,0,0,1.06-4.83,29.49,29.49,0,0,0,.38-4.11,5.86,5.86,0,0,0-.51-2.55A1.71,1.71,0,0,0,102.31,1C100.6,1,99.15,3.17,98,7.53a33.42,33.42,0,0,0-1.33,8.26A8.57,8.57,0,0,0,96.9,18ZM114.35.48v.76a2.57,2.57,0,0,0-1.08.17,1.07,1.07,0,0,0-.5,1,2.53,2.53,0,0,0,0,.28,2.64,2.64,0,0,0,0,.28l1.07,11.76L117.77,6c.31-.71.59-1.41.84-2.11A5.25,5.25,0,0,0,119,2.19a.85.85,0,0,0-.38-.81,3.09,3.09,0,0,0-.95-.14V.48h4v.76a2.08,2.08,0,0,0-.73.45,5.35,5.35,0,0,0-.82,1.4l-7.79,17.69h-.66L110,5.74A22,22,0,0,0,109.46,2c-.16-.39-.58-.62-1.28-.71V.48Zm5.15,19a1.83,1.83,0,0,0,1.08-.52,3.42,3.42,0,0,0,.59-1.59l2.54-13.24c.06-.34.11-.64.15-.92a4.83,4.83,0,0,0,.06-.7c0-.5-.09-.81-.28-.94a3.14,3.14,0,0,0-1.22-.31V.48h11.12l-.87,5.6L132.11,6a7,7,0,0,0-.49-3c-.52-1-1.59-1.51-3.19-1.51-.55,0-.9.09-1.06.28A2.44,2.44,0,0,0,127,2.74L125.76,9.3a6.21,6.21,0,0,0,2.81-.51A6,6,0,0,0,130,6.18l.58.1L129,14.35l-.56-.14c0-.28,0-.52,0-.73s0-.37,0-.51a2.92,2.92,0,0,0-.61-2.15,3.55,3.55,0,0,0-2.37-.57l-1.36,7.2a4.79,4.79,0,0,0-.07.51,3.28,3.28,0,0,0,0,.39,1,1,0,0,0,.22.66,1.24,1.24,0,0,0,.93.26,6.43,6.43,0,0,0,3.21-.75,7.67,7.67,0,0,0,3.21-4.17l.5.13-1.22,5.74H119.5Zm12.79,0a1.87,1.87,0,0,0,1-.41,3.23,3.23,0,0,0,.71-1.71L136.5,4.11c.07-.38.13-.69.17-1a5.89,5.89,0,0,0,.05-.67c0-.5-.1-.81-.29-.94a3.32,3.32,0,0,0-1.22-.31V.48h6a5.35,5.35,0,0,1,4.63,2.22,10.11,10.11,0,0,1,1.58,6,13.3,13.3,0,0,1-2.34,7.84,8,8,0,0,1-6.86,3.7h-5.93ZM143.87,3.39a2.84,2.84,0,0,0-2.79-2,1.08,1.08,0,0,0-.91.31,1.93,1.93,0,0,0-.34.83L137,17.44a3.1,3.1,0,0,0-.06.39c0,.11,0,.21,0,.3a1.22,1.22,0,0,0,.24.84,1.26,1.26,0,0,0,.9.26q3.67,0,5.33-5.42a23.91,23.91,0,0,0,1-6.94A9.45,9.45,0,0,0,143.87,3.39Z",opacity:1,strokeColor:"",fillColor:"#8a251a",width:127.70402,height:55.84601,stampFillColor:"#f6dedd",stampStrokeColor:""}}if(t)return t.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),this.currentStampAnnotation=t}},ti.prototype.retrievestampAnnotation=function(e){if(e){var t=void 0;switch(e.trim()){case"Approved":t={iconName:"Approved",pathdata:"M19,20.22H10.55v-.71a4.26,4.26,0,0,0,1.79-.41,1.37,1.37,0,0,0,.53-1.29c0-.22,0-.75-.16-1.58,0-.17-.11-.89-.29-2.15H6.06l-1.72,3a4,4,0,0,0-.31.66,2,2,0,0,0-.14.69c0,.41.12.67.37.78a5.42,5.42,0,0,0,1.53.3v.71H0v-.71A4,4,0,0,0,1.21,19a5.68,5.68,0,0,0,1.28-1.56L13.45.07h.76L17,17a4.35,4.35,0,0,0,.7,2.08,2.4,2.4,0,0,0,1.31.44Zm-6.83-7.31L11.13,5.73,6.76,12.91Zm7.18,6.52a3,3,0,0,0,1.33-.49,3,3,0,0,0,.84-1.59L25.19,4.11c.07-.3.14-.6.2-.9a3.14,3.14,0,0,0,.1-.72,1,1,0,0,0-.58-1,5.68,5.68,0,0,0-1.57-.23V.48h8.47a9.68,9.68,0,0,1,3.57.57,4,4,0,0,1,2.71,4,4.93,4.93,0,0,1-2.2,4.22,9.53,9.53,0,0,1-5.69,1.58l-.85,0-1.71-.11L26,16.6l-.25,1a1,1,0,0,0-.05.3,2.83,2.83,0,0,0,0,.29c0,.5.14.81.4.94a6.31,6.31,0,0,0,1.76.31v.76H19.39Zm8.52-9.66.54.06h.48a5.81,5.81,0,0,0,2.3-.36,3.47,3.47,0,0,0,1.4-1.18,6.24,6.24,0,0,0,.86-2,8.94,8.94,0,0,0,.3-2,3.29,3.29,0,0,0-.58-2,2.3,2.3,0,0,0-2-.79,1.23,1.23,0,0,0-.93.28,2.71,2.71,0,0,0-.46,1Zm8,9.69a3.19,3.19,0,0,0,1.55-.52,3,3,0,0,0,.84-1.59L42,4.11c.07-.3.14-.6.2-.9a3.14,3.14,0,0,0,.1-.72,1,1,0,0,0-.58-1,5.68,5.68,0,0,0-1.57-.23V.48h8.47a9.68,9.68,0,0,1,3.57.57,4,4,0,0,1,2.71,4,4.93,4.93,0,0,1-2.2,4.22A9.53,9.53,0,0,1,47,10.87l-.85,0-1.71-.11L42.79,16.6l-.25,1a1.45,1.45,0,0,0,0,.3,2.83,2.83,0,0,0,0,.29c0,.5.14.81.4.94a6.31,6.31,0,0,0,1.76.31v.76h-8.7Zm8.74-9.69.54.06h.48A5.81,5.81,0,0,0,48,9.48a3.41,3.41,0,0,0,1.4-1.18,6.24,6.24,0,0,0,.86-2,9,9,0,0,0,.31-2,3.29,3.29,0,0,0-.59-2,2.3,2.3,0,0,0-2-.79,1.23,1.23,0,0,0-.93.28,2.88,2.88,0,0,0-.46,1Zm7.95,9.69a3.27,3.27,0,0,0,1.56-.52A3.06,3.06,0,0,0,55,17.35L58.64,4.11l.18-.71a4.72,4.72,0,0,0,.13-1c0-.47-.13-.77-.4-.9a6.74,6.74,0,0,0-1.74-.3V.48h8.11A13,13,0,0,1,69.14,1a3.7,3.7,0,0,1,2.74,3.75,4.8,4.8,0,0,1-.46,2,5,5,0,0,1-1.54,1.9,6.55,6.55,0,0,1-1.79,1,19.35,19.35,0,0,1-1.89.52c.1.3.16.49.2.57l2.27,6.66a3.49,3.49,0,0,0,1,1.7,3.08,3.08,0,0,0,1.6.41v.76H65.33l-3.19-9.76h-.83L59.57,16.6l-.25,1a1.87,1.87,0,0,0,0,.25,2.64,2.64,0,0,0,0,.28q0,.8.39,1a5.88,5.88,0,0,0,1.76.32v.76H52.62ZM63.94,9.3a3.79,3.79,0,0,0,2.11-1.13A6,6,0,0,0,67,6.55a5.84,5.84,0,0,0,.44-2.26,3.31,3.31,0,0,0-.61-2,2.47,2.47,0,0,0-2.09-.81,1.25,1.25,0,0,0-.88.26,2.34,2.34,0,0,0-.47,1.05L61.59,9.5A13.42,13.42,0,0,0,63.94,9.3ZM76.39,4.53Q80.26,0,85,0a7.34,7.34,0,0,1,5.23,1.92,6.76,6.76,0,0,1,2,5.19,13.9,13.9,0,0,1-3.62,9.07q-3.86,4.61-8.88,4.6a7.06,7.06,0,0,1-5.13-1.92,6.86,6.86,0,0,1-2-5.14A14,14,0,0,1,76.39,4.53ZM77.3,18a2.56,2.56,0,0,0,2.57,1.78A4.62,4.62,0,0,0,83,18.47,14.42,14.42,0,0,0,86,13.54a27.18,27.18,0,0,0,1.52-4.83,20.67,20.67,0,0,0,.54-4.11,4.38,4.38,0,0,0-.73-2.55A2.62,2.62,0,0,0,85,1q-3.68,0-6.19,6.54a24.29,24.29,0,0,0-1.9,8.26A5.91,5.91,0,0,0,77.3,18ZM102.23.48v.76a5.19,5.19,0,0,0-1.55.17,1,1,0,0,0-.72,1,2.46,2.46,0,0,0,0,.28L100,3l1.52,11.76L107.11,6c.44-.71.84-1.41,1.2-2.11a4.06,4.06,0,0,0,.53-1.66.79.79,0,0,0-.55-.81,6.11,6.11,0,0,0-1.35-.14V.48h5.67v.76a3.31,3.31,0,0,0-1,.45,5.33,5.33,0,0,0-1.18,1.4L99.26,20.78h-.94l-2.25-15A15.49,15.49,0,0,0,95.24,2c-.22-.39-.84-.62-1.83-.71V.48Zm7.35,19a3.19,3.19,0,0,0,1.55-.52,3,3,0,0,0,.84-1.59l3.62-13.24c.09-.34.16-.64.22-.92a3.27,3.27,0,0,0,.09-.7c0-.5-.14-.81-.4-.94a6.13,6.13,0,0,0-1.75-.31V.48h15.89l-1.25,5.6L127.6,6a5.32,5.32,0,0,0-.7-3q-1.12-1.52-4.56-1.51a2.61,2.61,0,0,0-1.51.28,2.12,2.12,0,0,0-.56,1.06L118.52,9.3a12.1,12.1,0,0,0,4-.51,5.8,5.8,0,0,0,2-2.61l.82.1-2.19,8.07-.81-.14c0-.28.07-.52.08-.73s0-.37,0-.51a2.4,2.4,0,0,0-.87-2.15,6.76,6.76,0,0,0-3.38-.57l-1.94,7.2a3.34,3.34,0,0,0-.11.51,3.67,3.67,0,0,0,0,.39.81.81,0,0,0,.32.66,2.3,2.3,0,0,0,1.33.26,12.39,12.39,0,0,0,4.57-.75A8.84,8.84,0,0,0,127,14.35l.72.13-1.74,5.74H109.58Zm18.27,0a3.27,3.27,0,0,0,1.37-.41,2.85,2.85,0,0,0,1-1.71l3.63-13.23c.1-.38.18-.69.23-1a3,3,0,0,0,.09-.67c0-.5-.15-.81-.42-.94A6.38,6.38,0,0,0,132,1.24V.48h8.57c2.9,0,5.1.74,6.62,2.22a8,8,0,0,1,2.26,6,10.72,10.72,0,0,1-3.35,7.84,13.3,13.3,0,0,1-9.8,3.7h-8.47ZM144.4,3.39a4.23,4.23,0,0,0-4-2,2,2,0,0,0-1.29.31,1.74,1.74,0,0,0-.48.83l-4.07,14.9a3.24,3.24,0,0,0-.07.39,1.69,1.69,0,0,0,0,.3,1,1,0,0,0,.36.84,2.27,2.27,0,0,0,1.27.26q5.26,0,7.62-5.42a17.25,17.25,0,0,0,1.43-6.94A7,7,0,0,0,144.4,3.39Z",opacity:1,strokeColor:"",fillColor:"#516c30",width:149.474,height:20.783,stampFillColor:"#e6eddf",stampStrokeColor:""};break;case"Confidential":t={iconName:"Confidential",pathdata:"M13.71,0,12.63,6.9,12,6.73c0-.41,0-.66,0-.73s0-.18,0-.32a6.16,6.16,0,0,0-.79-3.47,2.37,2.37,0,0,0-2-1.14c-1.64,0-3.07,1.51-4.29,4.55a22,22,0,0,0-1.64,8.29c0,2,.34,3.44,1,4.2A3,3,0,0,0,6.5,19.24a4.08,4.08,0,0,0,2.93-1.43,10.47,10.47,0,0,0,1.5-2.09l.64.65A8.84,8.84,0,0,1,9,19.72a5.24,5.24,0,0,1-3.08,1.09,5.16,5.16,0,0,1-4.21-2.08A8.68,8.68,0,0,1,0,13.16,16.5,16.5,0,0,1,2.55,3.92Q5.1,0,8.61,0a6.35,6.35,0,0,1,2.25.43,6.62,6.62,0,0,0,1.38.43.55.55,0,0,0,.5-.23A2.61,2.61,0,0,0,13.06,0ZM27.49,7.11a17.19,17.19,0,0,1-2.61,9.07q-2.77,4.61-6.39,4.6a4.42,4.42,0,0,1-3.7-1.92,8.47,8.47,0,0,1-1.43-5.14A17.31,17.31,0,0,1,16,4.53C17.88,1.51,20,0,22.25,0A4.53,4.53,0,0,1,26,1.92,8.27,8.27,0,0,1,27.49,7.11ZM24.42,4.6a5.71,5.71,0,0,0-.53-2.55A1.76,1.76,0,0,0,22.24,1q-2.65,0-4.45,6.54a31.93,31.93,0,0,0-1.37,8.26A8.15,8.15,0,0,0,16.67,18c.34,1.19,1,1.78,1.85,1.78a2.9,2.9,0,0,0,2.28-1.29,15.85,15.85,0,0,0,2.13-4.93A34.08,34.08,0,0,0,24,8.71,28.5,28.5,0,0,0,24.42,4.6ZM42.75,1.3l.3-.06V.48H38.69v.76a2.55,2.55,0,0,1,1.16.33,1.8,1.8,0,0,1,.51,1.48,10.11,10.11,0,0,1-.13,1.34c-.06.41-.14.87-.24,1.39l-1.65,8.34L33.73.48H29.45v.76a2.66,2.66,0,0,1,1,.24,1.88,1.88,0,0,1,.65,1.06l.09.3L28.81,15a20.72,20.72,0,0,1-1,3.61,1.61,1.61,0,0,1-1.19.9v.76h4.42v-.76a2.55,2.55,0,0,1-1.13-.32,1.67,1.67,0,0,1-.56-1.44,7.13,7.13,0,0,1,.05-.79c.06-.43.17-1.09.34-2L31.89,4.38l5.52,16.33h.52l3-15a22.58,22.58,0,0,1,.87-3.42A1.42,1.42,0,0,1,42.75,1.3ZM55.53.48H44.23v.76a3.63,3.63,0,0,1,1.26.3c.19.13.29.42.29.9a7.08,7.08,0,0,1-.09,1c0,.2-.08.44-.13.71L43,17.34a3.47,3.47,0,0,1-.59,1.58,1.91,1.91,0,0,1-1.13.54v.76h6.29v-.76a2.13,2.13,0,0,1-1-.19A1.23,1.23,0,0,1,46,18.1c0-.1,0-.21,0-.31s0-.23.05-.35l1.4-7.21a3.15,3.15,0,0,1,2.37.64A3.21,3.21,0,0,1,50.38,13c0,.11,0,.28,0,.49s0,.46-.06.75l.58.14,1.58-8.07-.59-.1a5.79,5.79,0,0,1-1.43,2.59,6.17,6.17,0,0,1-2.77.52l1.26-6.54a2.06,2.06,0,0,1,.42-1.08,1.39,1.39,0,0,1,1-.26c1.62,0,2.7.51,3.24,1.54a7.11,7.11,0,0,1,.49,3l.57.13Zm3.69,17.71c0-.08,0-.17,0-.27s0-.2,0-.3l.17-1L62.06,3.36a3.44,3.44,0,0,1,.59-1.6,2,2,0,0,1,1.12-.52V.48H57.44v.76a3.47,3.47,0,0,1,1.26.31c.2.13.3.44.3.94a4.25,4.25,0,0,1-.06.67c0,.26-.09.57-.17,1L56.16,17.35a3.52,3.52,0,0,1-.6,1.59,2,2,0,0,1-1.12.52v.76h6.33v-.76a3.3,3.3,0,0,1-1.26-.32C59.32,19,59.22,18.69,59.22,18.19Zm18-9.51a13,13,0,0,1-2.42,7.84,8.31,8.31,0,0,1-7,3.7H61.6v-.76a2,2,0,0,0,1-.41,3.14,3.14,0,0,0,.73-1.71L65.93,4.11c.08-.38.13-.69.17-1a4.36,4.36,0,0,0,.06-.67c0-.5-.1-.81-.3-.94a3.47,3.47,0,0,0-1.26-.31V.48h6.17A5.52,5.52,0,0,1,75.53,2.7,9.91,9.91,0,0,1,77.17,8.68ZM74,6.87a9.22,9.22,0,0,0-.53-3.48,2.91,2.91,0,0,0-2.87-2,1.12,1.12,0,0,0-.93.31,1.81,1.81,0,0,0-.35.83l-2.93,14.9a3,3,0,0,0-.05.39c0,.11,0,.21,0,.3a1.17,1.17,0,0,0,.25.84,1.3,1.3,0,0,0,.92.26q3.8,0,5.49-5.42A23.26,23.26,0,0,0,74,6.87Zm11.3,11.65a6.72,6.72,0,0,1-3.29.75,1.3,1.3,0,0,1-1-.26,1,1,0,0,1-.23-.66,3.28,3.28,0,0,1,0-.39,4.88,4.88,0,0,1,.08-.51l1.4-7.2a3.73,3.73,0,0,1,2.43.57A2.87,2.87,0,0,1,85.43,13c0,.14,0,.31,0,.51s0,.45-.06.73l.59.14,1.57-8.07-.59-.1a5.79,5.79,0,0,1-1.46,2.61,6.5,6.5,0,0,1-2.89.51l1.26-6.56a2.41,2.41,0,0,1,.41-1.06c.16-.19.52-.28,1.08-.28,1.65,0,2.75.5,3.29,1.51a7,7,0,0,1,.5,3l.57.13.9-5.6H79.14v.76a3.35,3.35,0,0,1,1.26.31c.19.13.29.44.29.94a5,5,0,0,1-.07.7c0,.28-.09.58-.15.92L77.86,17.35a3.52,3.52,0,0,1-.6,1.59,2,2,0,0,1-1.13.52v.76H87.91l1.25-5.74-.52-.13A7.69,7.69,0,0,1,85.34,18.52ZM105.8,1.24V.48h-4.37v.76a2.55,2.55,0,0,1,1.16.33,1.77,1.77,0,0,1,.52,1.48A10.58,10.58,0,0,1,103,4.39c-.06.41-.13.87-.23,1.39l-1.66,8.34L96.47.48H92.19v.76a2.61,2.61,0,0,1,1,.24,1.83,1.83,0,0,1,.65,1.06l.1.3L91.55,15a19,19,0,0,1-1,3.61,1.61,1.61,0,0,1-1.19.9v.76h4.42v-.76a2.59,2.59,0,0,1-1.13-.32,1.67,1.67,0,0,1-.56-1.44,7.13,7.13,0,0,1,0-.79c.06-.43.17-1.09.35-2L94.63,4.38l5.52,16.33h.53l2.95-15a22.93,22.93,0,0,1,.86-3.42,1.42,1.42,0,0,1,1-1Zm11.4,4.9L118,.48H106.28l-.82,5,.55.2a8,8,0,0,1,1.87-3.16,3.7,3.7,0,0,1,2.7-1.06l-3.12,15.85a2.94,2.94,0,0,1-.87,1.85,2.48,2.48,0,0,1-1.34.26v.76h7v-.76a4.24,4.24,0,0,1-1.43-.3c-.23-.13-.34-.45-.34-.95a2.26,2.26,0,0,1,0-.26c0-.09,0-.2,0-.33l.18-1,3-15.1a2.73,2.73,0,0,1,1.79.63c.75.7,1.13,2,1.17,3.94Zm3.57,12.05c0-.08,0-.17,0-.27s0-.2,0-.3l.17-1,2.62-13.24a3.44,3.44,0,0,1,.59-1.6,2,2,0,0,1,1.12-.52V.48H119v.76a3.47,3.47,0,0,1,1.26.31c.2.13.3.44.3.94a4.25,4.25,0,0,1-.06.67c0,.26-.09.57-.17,1l-2.61,13.24a3.52,3.52,0,0,1-.6,1.59,2,2,0,0,1-1.12.52v.76h6.33v-.76a3.36,3.36,0,0,1-1.26-.32C120.87,19,120.77,18.69,120.77,18.19Zm28.86-3.71-1.24,5.74H130.3v-.71a2.48,2.48,0,0,0,1.3-.41,1.64,1.64,0,0,0,.37-1.29c0-.22,0-.75-.11-1.58,0-.17-.08-.89-.21-2.15h-4.58l-1.24,3a5.1,5.1,0,0,0-.22.66,2.45,2.45,0,0,0-.1.69c0,.41.09.67.26.78a3.05,3.05,0,0,0,1.11.3v.71h-4.17v-.71a2.66,2.66,0,0,0,.87-.53,5.79,5.79,0,0,0,.92-1.56L132.39.07h.55L135,17a5.53,5.53,0,0,0,.5,2.08,1.67,1.67,0,0,0,1.14.46v0a1.93,1.93,0,0,0,1.12-.52,3.52,3.52,0,0,0,.6-1.6l2.61-13.23c.08-.38.13-.69.17-1a4.36,4.36,0,0,0,.06-.67c0-.5-.1-.81-.3-.94a3.47,3.47,0,0,0-1.26-.31V.48h6.73v.76a3.23,3.23,0,0,0-1.49.48,3.06,3.06,0,0,0-.64,1.64l-2.77,14.08c0,.16-.05.3-.07.44s0,.29,0,.47a.79.79,0,0,0,.31.71,1.55,1.55,0,0,0,.87.21,6.83,6.83,0,0,0,3.79-1,8.42,8.42,0,0,0,2.81-3.88ZM131.5,12.91l-.78-7.18-3.14,7.18Z",opacity:1,strokeColor:"",fillColor:"#192760",width:149.633,height:20.811,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Witness":t={iconName:"Witness",pathdata:"M19.63,2.67,12.77,16.84h-.69L10.63,5.17,5.05,16.84H4.36L2.5,2.92A3.13,3.13,0,0,0,2,1.35,2.38,2.38,0,0,0,.63.91V.33H7.3V1a2.27,2.27,0,0,0-.92.17A1.11,1.11,0,0,0,5.84,2.2v.16c0,.05,0,.13,0,.22L6.81,11l3.57-7.48a.79.79,0,0,0,0-.23,2.78,2.78,0,0,0-.53-2A2.23,2.23,0,0,0,8.68.91V.33h6.45V.91A2.42,2.42,0,0,0,14,1.2c-.23.16-.34.5-.34,1,0,.11,0,.26,0,.46s.07.73.12,1.21l.8,7L18.3,3.11c.09-.19.17-.4.25-.62a2.11,2.11,0,0,0,.11-.65.73.73,0,0,0-.4-.76,2.73,2.73,0,0,0-1.1-.17V.33h4.47V.91a1.92,1.92,0,0,0-.91.3A3.66,3.66,0,0,0,19.63,2.67ZM29.76.33H22.62V1A5.07,5.07,0,0,1,24,1.2c.23.11.34.36.34.77a2.86,2.86,0,0,1-.06.54c0,.21-.11.47-.19.77L21.17,14.05a2.47,2.47,0,0,1-.68,1.29,2.62,2.62,0,0,1-1.27.42v.62h7.15v-.62A5.09,5.09,0,0,1,25,15.51c-.22-.11-.33-.37-.33-.77a2,2,0,0,1,0-.23c0-.08,0-.16,0-.24l.19-.83,3-10.77a2.5,2.5,0,0,1,.66-1.3A2.76,2.76,0,0,1,29.76,1ZM41.9,4.88l.63,0,.86-4.6H30.2l-.93,4.1.62.16A6.6,6.6,0,0,1,32,2a5.22,5.22,0,0,1,3.06-.86L31.53,14.05a2.24,2.24,0,0,1-1,1.5,3.67,3.67,0,0,1-1.51.21v.62H37v-.62a6,6,0,0,1-1.62-.24c-.26-.1-.39-.36-.39-.77,0-.07,0-.14,0-.21s0-.16.05-.27l.2-.83L38.57,1.16a3.76,3.76,0,0,1,2,.52A3.69,3.69,0,0,1,41.9,4.88ZM59.24,1,59.58,1V.33H54.65V1A3.78,3.78,0,0,1,56,1.22a1.25,1.25,0,0,1,.58,1.2,6.26,6.26,0,0,1-.15,1.09c-.07.33-.16.71-.27,1.13l-1.87,6.79L49.05.33H44.21V1a3.51,3.51,0,0,1,1.13.2,1.51,1.51,0,0,1,.74.85l.1.25L43.49,12.1A13.5,13.5,0,0,1,42.4,15a1.87,1.87,0,0,1-1.35.72v.62h5v-.62a3.62,3.62,0,0,1-1.28-.26,1.19,1.19,0,0,1-.64-1.17,3.55,3.55,0,0,1,.06-.64q.11-.53.39-1.59L47,3.5,53.2,16.78h.59L57.13,4.6a15.29,15.29,0,0,1,1-2.78A1.51,1.51,0,0,1,59.24,1Zm7.26.31a2.11,2.11,0,0,1,1.23-.23c1.87,0,3.1.41,3.71,1.23A4.39,4.39,0,0,1,72,4.78l.64.11,1-4.56H60.75V1a5,5,0,0,1,1.42.25c.22.11.32.36.32.77a2.73,2.73,0,0,1-.07.57c0,.22-.1.47-.17.74l-3,10.77a2.47,2.47,0,0,1-.68,1.29,2.62,2.62,0,0,1-1.27.42v.62h13.3l1.42-4.66-.59-.11A7.1,7.1,0,0,1,67.75,15a10,10,0,0,1-3.72.61A1.86,1.86,0,0,1,63,15.4a.67.67,0,0,1-.26-.54,2.36,2.36,0,0,1,0-.32,3.38,3.38,0,0,1,.09-.41l1.58-5.86a5.48,5.48,0,0,1,2.75.47,2,2,0,0,1,.71,1.75c0,.11,0,.25,0,.41s0,.37-.06.6l.65.11L70.2,5.05,69.54,5a4.69,4.69,0,0,1-1.65,2.12,10.06,10.06,0,0,1-3.26.41l1.42-5.33A1.75,1.75,0,0,1,66.5,1.31ZM80.88.83a2.77,2.77,0,0,1,2.46,1.26A4.36,4.36,0,0,1,84,4l.08.78.62.08,1-4.8H85a1.77,1.77,0,0,1-.38.43A1,1,0,0,1,84,.67a2.76,2.76,0,0,1-.37,0l-.41-.1-.61-.2a4.78,4.78,0,0,0-.79-.2A6.71,6.71,0,0,0,80.46,0a4.76,4.76,0,0,0-3.62,1.36,4.61,4.61,0,0,0-1.29,3.29q0,2.05,2.94,4.47t2.94,3.82a3.19,3.19,0,0,1-.79,2.14,2.8,2.8,0,0,1-2.23.92,3.43,3.43,0,0,1-1.5-.33,3.82,3.82,0,0,1-2-2.5,10.33,10.33,0,0,1-.2-1.67L74,11.45l-.87,5.38h.73a2.85,2.85,0,0,1,.38-.67A.75.75,0,0,1,74.8,16a1.12,1.12,0,0,1,.27,0l.42.15.61.22a8.62,8.62,0,0,0,1.3.35,7.53,7.53,0,0,0,1.32.12,5.48,5.48,0,0,0,4.11-1.53,4.77,4.77,0,0,0,1.49-3.43,4.59,4.59,0,0,0-.77-2.63,9.31,9.31,0,0,0-1.87-2L79.61,5.5a4.31,4.31,0,0,1-.74-.77,2.55,2.55,0,0,1-.43-1.45,2.68,2.68,0,0,1,.42-1.44A2.23,2.23,0,0,1,80.88.83Zm12.31,0a2.8,2.8,0,0,1,2.47,1.26A4.49,4.49,0,0,1,96.35,4l.08.78.62.08,1-4.8h-.71a1.62,1.62,0,0,1-.39.43,1,1,0,0,1-.64.18,2.9,2.9,0,0,1-.38,0l-.41-.1-.61-.2a4.65,4.65,0,0,0-.78-.2A6.88,6.88,0,0,0,92.77,0a4.73,4.73,0,0,0-3.61,1.36,4.57,4.57,0,0,0-1.3,3.29q0,2.05,2.94,4.47c2,1.54,3,2.81,3,3.82a3.2,3.2,0,0,1-.8,2.14,2.78,2.78,0,0,1-2.23.92,3.36,3.36,0,0,1-1.49-.33A3.68,3.68,0,0,1,88,14.73a3.76,3.76,0,0,1-.81-1.56A10.6,10.6,0,0,1,87,11.5l-.7-.05-.86,5.38h.72a2.85,2.85,0,0,1,.38-.67.78.78,0,0,1,.57-.19,1.12,1.12,0,0,1,.27,0l.42.15.61.22a8.74,8.74,0,0,0,1.31.35,7.37,7.37,0,0,0,1.32.12,5.49,5.49,0,0,0,4.11-1.53,4.81,4.81,0,0,0,1.49-3.43,4.67,4.67,0,0,0-.77-2.63A9.57,9.57,0,0,0,94,7.2L91.93,5.5a4,4,0,0,1-.74-.77,2.48,2.48,0,0,1-.43-1.45,2.68,2.68,0,0,1,.42-1.44A2.2,2.2,0,0,1,93.19.83Z",opacity:1,strokeColor:"",fillColor:"#192760",width:97.39,height:16.84,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"InitialHere":case"Initial Here":t={iconName:"Initial Here",pathdata:"M6.36,15.51a5.09,5.09,0,0,0,1.42.25v.62H.63v-.62a2.62,2.62,0,0,0,1.27-.42,2.47,2.47,0,0,0,.68-1.29l3-10.77c.08-.3.15-.56.19-.77A2.86,2.86,0,0,0,5.78,2c0-.41-.11-.66-.34-.77A5.07,5.07,0,0,0,4,1V.33h7.14V1a2.76,2.76,0,0,0-1.27.42,2.5,2.5,0,0,0-.66,1.3l-3,10.77-.19.83c0,.08,0,.16,0,.24a2,2,0,0,0,0,.23C6,15.14,6.14,15.4,6.36,15.51ZM27,1,27.36,1V.33H22.43V1a3.78,3.78,0,0,1,1.31.27,1.25,1.25,0,0,1,.58,1.2,6.26,6.26,0,0,1-.15,1.09c-.07.33-.16.71-.27,1.13L22,11.43,16.83.33H12V1a3.49,3.49,0,0,1,1.12.2,1.51,1.51,0,0,1,.74.85l.11.25-2.7,9.85A13,13,0,0,1,10.18,15a1.85,1.85,0,0,1-1.35.72v.62h5v-.62a3.62,3.62,0,0,1-1.28-.26,1.19,1.19,0,0,1-.63-1.17,4.72,4.72,0,0,1,.05-.64q.1-.53.39-1.59l2.39-8.6L21,16.78h.6L24.91,4.6a15.29,15.29,0,0,1,1-2.78A1.51,1.51,0,0,1,27,1ZM35.78.33H28.64V1a5.16,5.16,0,0,1,1.41.25c.23.11.34.36.34.77a2.86,2.86,0,0,1-.06.54c0,.21-.11.47-.19.77L27.19,14.05a2.47,2.47,0,0,1-.68,1.29,2.66,2.66,0,0,1-1.27.42v.62h7.15v-.62A5.09,5.09,0,0,1,31,15.51c-.22-.11-.33-.37-.33-.77a2,2,0,0,1,0-.23,2,2,0,0,1,0-.24l.19-.83,3-10.77a2.5,2.5,0,0,1,.66-1.3A2.76,2.76,0,0,1,35.78,1Zm12.76,4.6.87-4.6H36.22l-.93,4.1.62.16A6.52,6.52,0,0,1,38,2a5.21,5.21,0,0,1,3-.86L37.55,14.05a2.24,2.24,0,0,1-1,1.5,3.7,3.7,0,0,1-1.51.21v.62H43v-.62a5.79,5.79,0,0,1-1.61-.24c-.26-.1-.39-.36-.39-.77a1.48,1.48,0,0,1,0-.21,2,2,0,0,1,0-.27l.2-.83L44.58,1.16a3.77,3.77,0,0,1,2,.52,3.74,3.74,0,0,1,1.31,3.2Zm4,9.81a.93.93,0,0,1,0-.23,2,2,0,0,1,0-.24l.18-.83,3-10.77a2.42,2.42,0,0,1,.67-1.3A2.72,2.72,0,0,1,57.72,1V.33H50.57V1A5.26,5.26,0,0,1,52,1.2c.23.11.34.36.34.77a2.28,2.28,0,0,1-.07.54,7.71,7.71,0,0,1-.19.77l-3,10.77a2.4,2.4,0,0,1-.68,1.29,2.58,2.58,0,0,1-1.26.42v.62h7.14v-.62a5.07,5.07,0,0,1-1.41-.25C52.69,15.4,52.58,15.14,52.58,14.74Zm32-3.13.57.11-1.4,4.66H63.34v-.57a3.65,3.65,0,0,0,1.46-.34c.29-.16.43-.51.43-1,0-.18,0-.61-.13-1.29,0-.14-.09-.73-.23-1.75H59.69l-1.4,2.44a3.38,3.38,0,0,0-.25.54,1.64,1.64,0,0,0-.11.56q0,.5.3.63a4.41,4.41,0,0,0,1.25.25v.57H54.76v-.57a3.36,3.36,0,0,0,1-.43,4.58,4.58,0,0,0,1-1.27L65.7,0h.62l2.3,13.72a3.49,3.49,0,0,0,.56,1.7,2.34,2.34,0,0,0,1.29.37v0a2.58,2.58,0,0,0,1.26-.42,2.46,2.46,0,0,0,.68-1.3L75.35,3.28c.09-.3.16-.56.2-.77A2.86,2.86,0,0,0,75.61,2c0-.41-.11-.66-.34-.77A5.17,5.17,0,0,0,73.85,1V.33h7.61V1a4.77,4.77,0,0,0-1.69.39A2.27,2.27,0,0,0,79,2.67L75.92,14.12c0,.13,0,.25-.07.36a2.21,2.21,0,0,0,0,.39.59.59,0,0,0,.35.57,2.33,2.33,0,0,0,1,.17,10.06,10.06,0,0,0,4.28-.84A7.67,7.67,0,0,0,84.6,11.61ZM64.7,10.44,63.81,4.6l-3.55,5.84Zm38,4.32a.71.71,0,0,1,0-.16s0-.16.07-.34l.2-.83L106,2.67a2.43,2.43,0,0,1,.79-1.39A2.78,2.78,0,0,1,107.9,1V.33h-7.15V1a4.45,4.45,0,0,1,1.27.19.81.81,0,0,1,.47.83,2.73,2.73,0,0,1-.07.57c0,.22-.1.47-.17.74l-1.14,4.16h-5.7L96.7,2.67a2.27,2.27,0,0,1,.73-1.33A4.77,4.77,0,0,1,99.12,1V.33H91.51V1a5.09,5.09,0,0,1,1.42.25c.22.11.33.36.33.77a2.93,2.93,0,0,1-.08.58c-.05.24-.1.48-.17.73L90.07,14a2.73,2.73,0,0,1-.65,1.29,2.47,2.47,0,0,1-1.3.43v.62h7.15v-.62a5.13,5.13,0,0,1-1.42-.24c-.21-.1-.31-.34-.31-.72a3.11,3.11,0,0,1,0-.57c0-.16.1-.43.19-.8L95.12,8.5h5.7L99.31,14a2.21,2.21,0,0,1-.74,1.33,4.36,4.36,0,0,1-1.69.39v.62h7.63v-.62a4.72,4.72,0,0,1-1.25-.17A.8.8,0,0,1,102.73,14.76Zm13.38.24a10.07,10.07,0,0,1-3.72.61,1.86,1.86,0,0,1-1.08-.21.67.67,0,0,1-.26-.54,2.36,2.36,0,0,1,0-.32,3.38,3.38,0,0,1,.09-.41l1.58-5.86a5.51,5.51,0,0,1,2.75.47,2,2,0,0,1,.7,1.75c0,.11,0,.25,0,.41s0,.37-.07.6l.66.11,1.78-6.56L117.89,5a4.63,4.63,0,0,1-1.65,2.12A10,10,0,0,1,113,7.5l1.43-5.33a1.6,1.6,0,0,1,.45-.86,2.07,2.07,0,0,1,1.23-.23c1.86,0,3.1.41,3.71,1.23a4.32,4.32,0,0,1,.56,2.47l.65.11,1-4.56H109.1V1a5.1,5.1,0,0,1,1.43.25c.21.11.32.36.32.77a3.63,3.63,0,0,1-.07.57c0,.22-.11.47-.18.74l-2.95,10.77a2.4,2.4,0,0,1-.68,1.29,2.58,2.58,0,0,1-1.26.42v.62H119l1.42-4.66-.58-.11A7.17,7.17,0,0,1,116.11,15ZM144.36,2.17,142.93,7.5a10.13,10.13,0,0,0,3.27-.41A4.69,4.69,0,0,0,147.84,5l.67.08-1.78,6.56-.66-.11c0-.23.06-.43.07-.6s0-.3,0-.41a2,2,0,0,0-.7-1.75,5.51,5.51,0,0,0-2.75-.47l-1.58,5.86a3.38,3.38,0,0,0-.09.41,2.36,2.36,0,0,0,0,.32.67.67,0,0,0,.26.54,1.86,1.86,0,0,0,1.08.21,10.07,10.07,0,0,0,3.72-.61,7.14,7.14,0,0,0,3.73-3.39l.58.11L149,16.38H131l-2.59-7.93h-.68l-1.42,5-.2.83,0,.2a1.77,1.77,0,0,0,0,.23c0,.43.1.7.31.81a4.87,4.87,0,0,0,1.43.25v.62h-7.14v-.62a2.58,2.58,0,0,0,1.26-.42,2.4,2.4,0,0,0,.68-1.29l3-10.77.15-.57a4.09,4.09,0,0,0,.1-.79c0-.38-.11-.62-.32-.72A4.8,4.8,0,0,0,124,1V.33h6.6a10.58,10.58,0,0,1,3.42.43,3,3,0,0,1,2.24,3.05,4,4,0,0,1-.38,1.6A4,4,0,0,1,134.66,7a5.47,5.47,0,0,1-1.45.8c-.33.11-.85.25-1.54.42a4.73,4.73,0,0,0,.16.46l1.85,5.42a2.81,2.81,0,0,0,.8,1.38,2.42,2.42,0,0,0,1.23.32,2.53,2.53,0,0,0,1.22-.41,2.47,2.47,0,0,0,.68-1.29l2.94-10.77c.07-.27.13-.52.18-.74A2.73,2.73,0,0,0,140.8,2c0-.41-.11-.66-.32-.77A5.1,5.1,0,0,0,139.05,1V.33H152l-1,4.56-.65-.11a4.32,4.32,0,0,0-.56-2.47c-.61-.82-1.85-1.23-3.71-1.23a2.07,2.07,0,0,0-1.23.23A1.67,1.67,0,0,0,144.36,2.17ZM131.54,6.59a5,5,0,0,0,.77-1.32,4.68,4.68,0,0,0,.36-1.84,2.74,2.74,0,0,0-.5-1.67,2,2,0,0,0-1.7-.66,1,1,0,0,0-.72.22,2,2,0,0,0-.38.85l-1.45,5.49a10.33,10.33,0,0,0,1.91-.16A3.07,3.07,0,0,0,131.54,6.59Z",opacity:1,strokeColor:"",fillColor:"#192760",width:151.345,height:16.781,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"SignHere":case"Sign Here":t={iconName:"Sign Here",pathdata:"M6.38,1.9A2.56,2.56,0,0,0,6,3.34a2.49,2.49,0,0,0,.44,1.45,3.9,3.9,0,0,0,.73.76l2.07,1.7a9.34,9.34,0,0,1,1.87,2.06,4.6,4.6,0,0,1,.78,2.63,4.78,4.78,0,0,1-1.5,3.43A5.46,5.46,0,0,1,6.23,16.9a7.34,7.34,0,0,1-1.31-.12,7.48,7.48,0,0,1-1.31-.36L3,16.2l-.42-.14a1.12,1.12,0,0,0-.27,0,.71.71,0,0,0-.57.19,2.85,2.85,0,0,0-.38.67H.63l.87-5.38.69,0a10.34,10.34,0,0,0,.2,1.68,3.82,3.82,0,0,0,2,2.5,3.42,3.42,0,0,0,1.5.32,2.76,2.76,0,0,0,2.23-.92A3.14,3.14,0,0,0,8.94,13c0-1-1-2.29-2.94-3.82S3.06,6.08,3.06,4.71A4.59,4.59,0,0,1,4.35,1.42,4.76,4.76,0,0,1,8,.06,6.71,6.71,0,0,1,9.29.19a4.78,4.78,0,0,1,.79.2l.61.2.41.1a2.76,2.76,0,0,0,.37,0,1,1,0,0,0,.65-.18A1.75,1.75,0,0,0,12.5.12h.72l-1,4.8-.62-.08-.09-.79a4.45,4.45,0,0,0-.69-1.91A2.78,2.78,0,0,0,8.39.89,2.2,2.2,0,0,0,6.38,1.9ZM22.8.39H15.66V1a4.71,4.71,0,0,1,1.41.25c.23.11.34.36.34.77a2.86,2.86,0,0,1-.06.54c0,.21-.11.47-.19.77L14.21,14.11a2.47,2.47,0,0,1-.68,1.29,2.62,2.62,0,0,1-1.27.42v.62h7.15v-.62A4.63,4.63,0,0,1,18,15.56c-.22-.1-.33-.36-.33-.77a1.8,1.8,0,0,1,0-.22c0-.08,0-.16,0-.24l.19-.83,3-10.77a2.5,2.5,0,0,1,.66-1.3A2.76,2.76,0,0,1,22.8,1ZM38.09,9.14V8.52H31.18v.62a5.05,5.05,0,0,1,1.44.28c.22.1.32.35.32.75a13.35,13.35,0,0,1-.54,2.54,19.13,19.13,0,0,1-.54,1.87A1.85,1.85,0,0,1,31,15.66a3.77,3.77,0,0,1-1.78.35A3.71,3.71,0,0,1,27,15.38c-1.09-.77-1.64-2.13-1.64-4.08a13.74,13.74,0,0,1,1.78-6.69q2.05-3.72,5-3.72a2.93,2.93,0,0,1,3,1.86,6.09,6.09,0,0,1,.4,2.48l.69.08L37.44,0h-.71a2.44,2.44,0,0,1-.41.53.82.82,0,0,1-.58.2A9.14,9.14,0,0,1,34.33.36,9.23,9.23,0,0,0,31.73,0a9.4,9.4,0,0,0-7.46,3.42,10.46,10.46,0,0,0-2.65,7,5.88,5.88,0,0,0,2.2,4.83,7.77,7.77,0,0,0,5,1.64A13.06,13.06,0,0,0,32,16.52a14.26,14.26,0,0,0,2.33-.75l.67-.3,1.2-4.36a4.15,4.15,0,0,1,.62-1.59A2.28,2.28,0,0,1,38.09,9.14ZM50.36,1a3.36,3.36,0,0,1,1.31.27,1.25,1.25,0,0,1,.58,1.2,6.26,6.26,0,0,1-.15,1.09c-.07.33-.16.7-.27,1.13L50,11.48,44.76.39H39.93V1a3.49,3.49,0,0,1,1.12.2,1.51,1.51,0,0,1,.74.85l.1.25L39.2,12.16a12.62,12.62,0,0,1-1.09,2.93,1.86,1.86,0,0,1-1.35.73v.62h5v-.62a3.62,3.62,0,0,1-1.28-.26,1.21,1.21,0,0,1-.63-1.17,4.72,4.72,0,0,1,0-.64q.1-.52.39-1.59l2.39-8.6,6.23,13.28h.6L52.84,4.66a15.29,15.29,0,0,1,1-2.78A1.52,1.52,0,0,1,55,1.05l.34,0V.39H50.36Zm22.33,13.8a.66.66,0,0,1,0-.15c0-.05,0-.16.07-.34l.2-.83L75.91,2.73a2.43,2.43,0,0,1,.79-1.39A2.78,2.78,0,0,1,77.86,1V.39H70.71V1A4.45,4.45,0,0,1,72,1.2a.81.81,0,0,1,.47.83,2.73,2.73,0,0,1-.07.57c0,.22-.1.47-.17.74L71.07,7.5h-5.7l1.29-4.77a2.27,2.27,0,0,1,.73-1.33A4.36,4.36,0,0,1,69.08,1V.39H61.47V1a4.73,4.73,0,0,1,1.42.25c.22.11.33.36.33.77a2.93,2.93,0,0,1-.08.58c0,.24-.1.48-.17.73L60,14.1a2.73,2.73,0,0,1-.65,1.29,2.47,2.47,0,0,1-1.3.43v.62h7.15v-.62a5.13,5.13,0,0,1-1.42-.24c-.21-.1-.31-.34-.31-.72a3,3,0,0,1,0-.57c0-.16.1-.43.19-.8l1.35-4.94h5.7L69.27,14.1a2.21,2.21,0,0,1-.74,1.33,4.77,4.77,0,0,1-1.69.39v.62h7.63v-.62a4.72,4.72,0,0,1-1.25-.17A.82.82,0,0,1,72.69,14.81Zm13.38.25a10.28,10.28,0,0,1-3.72.61,1.86,1.86,0,0,1-1.08-.21.67.67,0,0,1-.26-.54,2.23,2.23,0,0,1,0-.32,3.38,3.38,0,0,1,.09-.41l1.58-5.86a5.51,5.51,0,0,1,2.75.47,2,2,0,0,1,.7,1.75c0,.11,0,.24,0,.41s0,.37-.07.59l.66.12,1.78-6.56L87.85,5a4.75,4.75,0,0,1-1.64,2.12,10.13,10.13,0,0,1-3.27.41l1.43-5.33a1.56,1.56,0,0,1,.45-.86,2.07,2.07,0,0,1,1.23-.23c1.86,0,3.1.41,3.71,1.23a4.32,4.32,0,0,1,.56,2.47L91,5,92,.39H79.06V1a4.75,4.75,0,0,1,1.43.25c.21.11.32.36.32.77a2.73,2.73,0,0,1-.07.57c0,.22-.11.47-.18.74l-3,10.77a2.4,2.4,0,0,1-.68,1.29,2.58,2.58,0,0,1-1.26.42v.62H89l1.41-4.66-.58-.11A7.22,7.22,0,0,1,86.07,15.06ZM114.32,2.23l-1.43,5.33a10.13,10.13,0,0,0,3.27-.41A4.75,4.75,0,0,0,117.8,5l.67.08-1.78,6.56-.66-.12c0-.22.06-.42.07-.59s0-.3,0-.41a2,2,0,0,0-.71-1.75,5.51,5.51,0,0,0-2.75-.47l-1.58,5.86a3.38,3.38,0,0,0-.09.41,2.23,2.23,0,0,0,0,.32.67.67,0,0,0,.26.54,1.86,1.86,0,0,0,1.08.21,10.28,10.28,0,0,0,3.72-.61,7.22,7.22,0,0,0,3.73-3.39l.58.11-1.41,4.66h-18L98.33,8.51h-.68l-1.42,5-.2.83,0,.2a1.77,1.77,0,0,0,0,.23c0,.43.1.7.31.8a4.51,4.51,0,0,0,1.43.26v.62H90.59v-.62a2.58,2.58,0,0,0,1.26-.42,2.4,2.4,0,0,0,.68-1.29l3-10.77.15-.57a4.09,4.09,0,0,0,.1-.79c0-.38-.11-.62-.32-.73A5.3,5.3,0,0,0,94,1V.39h6.6A10.58,10.58,0,0,1,104,.82a3,3,0,0,1,2.24,3.05,4,4,0,0,1-.38,1.6A4.06,4.06,0,0,1,104.62,7a5.32,5.32,0,0,1-1.45.8c-.33.11-.84.25-1.54.42.08.24.13.4.16.46l1.85,5.42a2.81,2.81,0,0,0,.8,1.38,2.42,2.42,0,0,0,1.23.32,2.64,2.64,0,0,0,1.22-.41,2.47,2.47,0,0,0,.68-1.29l2.94-10.77c.07-.27.13-.52.18-.74a2.73,2.73,0,0,0,.07-.57c0-.41-.11-.66-.32-.77A4.75,4.75,0,0,0,109,1V.39h12.93l-1,4.56-.64-.11a4.39,4.39,0,0,0-.57-2.47c-.61-.82-1.85-1.23-3.71-1.23a2.07,2.07,0,0,0-1.23.23A1.7,1.7,0,0,0,114.32,2.23ZM101.5,6.64a4.76,4.76,0,0,0,.77-1.31,4.68,4.68,0,0,0,.36-1.84,2.72,2.72,0,0,0-.5-1.67,2,2,0,0,0-1.7-.66.94.94,0,0,0-.71.22,1.81,1.81,0,0,0-.39.85L97.88,7.72a10.33,10.33,0,0,0,1.91-.16A3,3,0,0,0,101.5,6.64Z",opacity:1,strokeColor:"",fillColor:"#192760",width:121.306,height:16.899,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Accepted":t={iconName:"Accepted",pathdata:"M22.409,0.000 C22.647,0.006 25.364,2.818 27.458,4.112 28.000,4.448 28.015,5.227 23.803,7.927 12.881,15.464 9.475,23.800 8.332,24.542 6.069,21.014 1.899,14.526 0.095,11.832 0.081,11.023 1.967,10.824 6.581,9.529 7.847,11.400 8.402,13.832 8.952,14.781 16.385,3.230 21.985,0.106 21.985,0.106 21.985,0.106 22.266,-0.003 22.409,0.00021190348 z",opacity:1,strokeColor:"",fillColor:"#516c30",width:27.873,height:24.346,stampFillColor:"#e6eddf",stampStrokeColor:""};break;case"Rejected":t={iconName:"Rejected",pathdata:"M3.8779989,0 L11.294,7.4140023 18.710001,0 22.588001,3.8779911 15.172998,11.293032 22.588001,18.707033 18.710001,22.586 11.294,15.169985 3.8779989,22.586 0,18.707033 7.4150017,11.293032 0,3.8779911 z",opacity:1,strokeColor:"",fillColor:"#8a251a",width:22.588,height:22.586,stampFillColor:"#f6dedd",stampStrokeColor:""};break;case"Rejected_with_border":t={iconName:"Rejected_with_border",pathdata:"M3.8779989,0 L11.294,7.4140023 18.710001,0 22.588001,3.8779911 15.172998,11.293032 22.588001,18.707033 18.710001,22.586 11.294,15.169985 3.8779989,22.586 0,18.707033 7.4150017,11.293032 0,3.8779911 z",opacity:1,strokeColor:"",fillColor:"#192760",width:22.588,height:24.346,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"NotApproved":case"Not Approved":t={iconName:"Not Approved",pathdata:"M0,19.46a1.56,1.56,0,0,0,1.16-.9A19.84,19.84,0,0,0,2.1,15L4.42,2.84l-.09-.3a1.82,1.82,0,0,0-.64-1.06,2.41,2.41,0,0,0-1-.24V.48H6.88l4.49,13.64L13,5.78c.09-.52.17-1,.22-1.39a10.11,10.11,0,0,0,.13-1.34,1.83,1.83,0,0,0-.49-1.48,2.49,2.49,0,0,0-1.13-.33V.48H16v.76l-.29.06a1.42,1.42,0,0,0-1,1,23.7,23.7,0,0,0-.84,3.42L11,20.71h-.51L5.1,4.38,3,15c-.17.87-.28,1.53-.33,2a5.32,5.32,0,0,0,0,.79,1.69,1.69,0,0,0,.54,1.44,2.48,2.48,0,0,0,1.1.32v.76H0ZM17.73,4.53C19.54,1.51,21.55,0,23.79,0a4.4,4.4,0,0,1,3.66,1.92,8.52,8.52,0,0,1,1.43,5.19,17.56,17.56,0,0,1-2.53,9.07q-2.7,4.61-6.21,4.6a4.24,4.24,0,0,1-3.6-1.92,8.6,8.6,0,0,1-1.39-5.14A17.68,17.68,0,0,1,17.73,4.53ZM18.37,18c.33,1.19.93,1.78,1.8,1.78a2.83,2.83,0,0,0,2.22-1.29,16.41,16.41,0,0,0,2.06-4.93,35.53,35.53,0,0,0,1.06-4.83A28.26,28.26,0,0,0,25.9,4.6a5.86,5.86,0,0,0-.52-2.55A1.7,1.7,0,0,0,23.78,1Q21.2,1,19.45,7.53a33,33,0,0,0-1.33,8.26A8.15,8.15,0,0,0,18.37,18Zm11.08,1.48a2.34,2.34,0,0,0,1.3-.26,3,3,0,0,0,.85-1.85l3-15.85A3.54,3.54,0,0,0,32,2.56a8,8,0,0,0-1.82,3.16l-.53-.2.8-5H41.81l-.74,5.66-.54-.07c0-1.92-.41-3.24-1.13-3.94a2.6,2.6,0,0,0-1.74-.63L34.79,16.6l-.17,1a2.43,2.43,0,0,0,0,.33,2.26,2.26,0,0,0,0,.26c0,.5.11.82.33.95a3.94,3.94,0,0,0,1.39.3v.76H29.45Zm26.65.76H50.18v-.71a2.28,2.28,0,0,0,1.25-.41,1.64,1.64,0,0,0,.37-1.29c0-.22,0-.75-.11-1.58,0-.17-.08-.89-.2-2.15H47l-1.2,3c-.08.2-.15.42-.22.66a2.84,2.84,0,0,0-.09.69c0,.41.08.67.25.78a2.91,2.91,0,0,0,1.08.3v.71H42.79v-.71a2.44,2.44,0,0,0,.85-.53,5.59,5.59,0,0,0,.9-1.56L52.21.07h.53l2,16.88A5.46,5.46,0,0,0,55.2,19a1.36,1.36,0,0,0,.9.43Zm-4.76-7.31-.76-7.18-3,7.18Zm4.95,6.53a1.82,1.82,0,0,0,1-.5,3.56,3.56,0,0,0,.58-1.59L60.42,4.11c.06-.3.1-.6.15-.9a5.46,5.46,0,0,0,.06-.72c0-.52-.13-.86-.4-1a2.88,2.88,0,0,0-1.1-.23V.48h5.93a5,5,0,0,1,2.5.57c1.26.73,1.9,2.07,1.9,4a5.81,5.81,0,0,1-1.54,4.22,5.32,5.32,0,0,1-4,1.58l-.59,0-1.2-.11L61,16.6l-.17,1a2.72,2.72,0,0,0,0,.3,2.81,2.81,0,0,0,0,.29c0,.5.09.81.28.94a3.26,3.26,0,0,0,1.23.31v.76h-6Zm6-9.67.38.06H63a3,3,0,0,0,1.62-.36,2.87,2.87,0,0,0,1-1.18,7.28,7.28,0,0,0,.6-2,11.67,11.67,0,0,0,.22-2,4.4,4.4,0,0,0-.41-2,1.44,1.44,0,0,0-1.39-.79.71.71,0,0,0-.65.28,3.7,3.7,0,0,0-.32,1Zm5.61,9.69A1.86,1.86,0,0,0,69,18.94a3.54,3.54,0,0,0,.59-1.59L72.15,4.11q.09-.45.15-.9a5.73,5.73,0,0,0,.07-.72,1.1,1.1,0,0,0-.41-1,2.88,2.88,0,0,0-1.1-.23V.48h5.93a5,5,0,0,1,2.5.57c1.27.73,1.9,2.07,1.9,4a5.77,5.77,0,0,1-1.54,4.22,5.31,5.31,0,0,1-4,1.58l-.6,0-1.2-.11L72.74,16.6l-.17,1a2.72,2.72,0,0,0,0,.3c0,.1,0,.19,0,.29,0,.5.1.81.29.94a3.15,3.15,0,0,0,1.23.31v.76h-6.1Zm6.12-9.69.38.06h.33a3,3,0,0,0,1.62-.36,3,3,0,0,0,1-1.18,7.67,7.67,0,0,0,.59-2,11.67,11.67,0,0,0,.22-2,4.4,4.4,0,0,0-.41-2,1.43,1.43,0,0,0-1.38-.79.73.73,0,0,0-.66.28,3.7,3.7,0,0,0-.32,1Zm5.57,9.69a1.9,1.9,0,0,0,1.09-.52,3.56,3.56,0,0,0,.58-1.59L83.84,4.11c0-.27.09-.51.13-.71a7.08,7.08,0,0,0,.09-1c0-.47-.1-.77-.28-.9a3.53,3.53,0,0,0-1.22-.3V.48h5.68a6.57,6.57,0,0,1,3,.53q1.92,1,1.92,3.75a6.79,6.79,0,0,1-.32,2,5.23,5.23,0,0,1-1.08,1.9,4.56,4.56,0,0,1-1.25,1,11.62,11.62,0,0,1-1.33.52c.07.3.12.49.14.57l1.59,6.66a4.07,4.07,0,0,0,.69,1.7,1.72,1.72,0,0,0,1.13.41v.76H88.52l-2.23-9.76h-.58L84.49,16.6l-.17,1a1,1,0,0,0,0,.25,2.62,2.62,0,0,0,0,.28c0,.53.09.86.26,1a3.11,3.11,0,0,0,1.24.32v.76H79.63ZM87.55,9.3A2.59,2.59,0,0,0,89,8.17a7.24,7.24,0,0,0,.66-1.62A8.18,8.18,0,0,0,90,4.29a4.32,4.32,0,0,0-.43-2,1.5,1.5,0,0,0-1.45-.81.71.71,0,0,0-.62.26,2.78,2.78,0,0,0-.33,1.05L85.91,9.5A6.63,6.63,0,0,0,87.55,9.3Zm8.72-4.77Q99,0,102.32,0A4.37,4.37,0,0,1,106,1.92a8.46,8.46,0,0,1,1.44,5.19,17.58,17.58,0,0,1-2.54,9.07q-2.7,4.61-6.21,4.6a4.27,4.27,0,0,1-3.6-1.92,8.67,8.67,0,0,1-1.38-5.14A17.68,17.68,0,0,1,96.27,4.53ZM96.9,18c.33,1.19.93,1.78,1.8,1.78a2.83,2.83,0,0,0,2.22-1.29A16.63,16.63,0,0,0,103,13.54a37.1,37.1,0,0,0,1.06-4.83,29.49,29.49,0,0,0,.38-4.11,5.86,5.86,0,0,0-.51-2.55A1.71,1.71,0,0,0,102.31,1C100.6,1,99.15,3.17,98,7.53a33.42,33.42,0,0,0-1.33,8.26A8.57,8.57,0,0,0,96.9,18ZM114.35.48v.76a2.57,2.57,0,0,0-1.08.17,1.07,1.07,0,0,0-.5,1,2.53,2.53,0,0,0,0,.28,2.64,2.64,0,0,0,0,.28l1.07,11.76L117.77,6c.31-.71.59-1.41.84-2.11A5.25,5.25,0,0,0,119,2.19a.85.85,0,0,0-.38-.81,3.09,3.09,0,0,0-.95-.14V.48h4v.76a2.08,2.08,0,0,0-.73.45,5.35,5.35,0,0,0-.82,1.4l-7.79,17.69h-.66L110,5.74A22,22,0,0,0,109.46,2c-.16-.39-.58-.62-1.28-.71V.48Zm5.15,19a1.83,1.83,0,0,0,1.08-.52,3.42,3.42,0,0,0,.59-1.59l2.54-13.24c.06-.34.11-.64.15-.92a4.83,4.83,0,0,0,.06-.7c0-.5-.09-.81-.28-.94a3.14,3.14,0,0,0-1.22-.31V.48h11.12l-.87,5.6L132.11,6a7,7,0,0,0-.49-3c-.52-1-1.59-1.51-3.19-1.51-.55,0-.9.09-1.06.28A2.44,2.44,0,0,0,127,2.74L125.76,9.3a6.21,6.21,0,0,0,2.81-.51A6,6,0,0,0,130,6.18l.58.1L129,14.35l-.56-.14c0-.28,0-.52,0-.73s0-.37,0-.51a2.92,2.92,0,0,0-.61-2.15,3.55,3.55,0,0,0-2.37-.57l-1.36,7.2a4.79,4.79,0,0,0-.07.51,3.28,3.28,0,0,0,0,.39,1,1,0,0,0,.22.66,1.24,1.24,0,0,0,.93.26,6.43,6.43,0,0,0,3.21-.75,7.67,7.67,0,0,0,3.21-4.17l.5.13-1.22,5.74H119.5Zm12.79,0a1.87,1.87,0,0,0,1-.41,3.23,3.23,0,0,0,.71-1.71L136.5,4.11c.07-.38.13-.69.17-1a5.89,5.89,0,0,0,.05-.67c0-.5-.1-.81-.29-.94a3.32,3.32,0,0,0-1.22-.31V.48h6a5.35,5.35,0,0,1,4.63,2.22,10.11,10.11,0,0,1,1.58,6,13.3,13.3,0,0,1-2.34,7.84,8,8,0,0,1-6.86,3.7h-5.93ZM143.87,3.39a2.84,2.84,0,0,0-2.79-2,1.08,1.08,0,0,0-.91.31,1.93,1.93,0,0,0-.34.83L137,17.44a3.1,3.1,0,0,0-.06.39c0,.11,0,.21,0,.3a1.22,1.22,0,0,0,.24.84,1.26,1.26,0,0,0,.9.26q3.67,0,5.33-5.42a23.91,23.91,0,0,0,1-6.94A9.45,9.45,0,0,0,143.87,3.39Z",opacity:1,strokeColor:"",fillColor:"#8a251a",width:147.425,height:20.783,stampFillColor:"#f6dedd",stampStrokeColor:""};break;case"Draft":t={iconName:"Draft",pathdata:"M24.92,3Q22,.46,16.4.46h-11v.87a9.38,9.38,0,0,1,2.24.35q.54.23.54,1.08a3.24,3.24,0,0,1-.1.76c-.07.29-.17.65-.31,1.08L3.08,19.69a3.26,3.26,0,0,1-1.32,1.95A4.67,4.67,0,0,1,0,22.1V23H10.91q7.8,0,12.61-4.22a11.56,11.56,0,0,0,4.32-8.94A8.58,8.58,0,0,0,24.92,3ZM20.41,15.66a10.18,10.18,0,0,1-9.8,6.18A3.18,3.18,0,0,1,9,21.54a1,1,0,0,1-.46-.95,2.47,2.47,0,0,1,0-.35,3,3,0,0,1,.1-.44l5.24-17a1.91,1.91,0,0,1,.62-.95,2.81,2.81,0,0,1,1.66-.35c2.44,0,4.15.76,5.15,2.27a7.29,7.29,0,0,1,.94,4A17.63,17.63,0,0,1,20.41,15.66ZM49.75,9.74a5.84,5.84,0,0,0,2-2.16,5.1,5.1,0,0,0,.59-2.24c0-2.1-1.18-3.53-3.54-4.27A18.67,18.67,0,0,0,43.36.46H32.92v.87a8.79,8.79,0,0,1,2.24.35c.35.14.52.48.52,1a5.36,5.36,0,0,1-.17,1.11c-.06.23-.14.5-.23.8L30.61,19.7a3.26,3.26,0,0,1-1.08,1.81,4.44,4.44,0,0,1-2,.59V23H38.85V22.1a8.54,8.54,0,0,1-2.28-.36c-.32-.15-.49-.53-.49-1.13,0-.11,0-.21,0-.32a1.15,1.15,0,0,1,.06-.28l.31-1.16,2.25-7h1.07L43.89,23h7.64V22.1a4.27,4.27,0,0,1-2.07-.47,3.91,3.91,0,0,1-1.27-1.93l-2.92-7.6a4.67,4.67,0,0,1-.25-.65c1.1-.23,1.91-.42,2.43-.59A8.49,8.49,0,0,0,49.75,9.74ZM46,7.39a6.73,6.73,0,0,1-1.21,1.84,5,5,0,0,1-2.72,1.29,19.56,19.56,0,0,1-3,.23L41.38,3A2.54,2.54,0,0,1,42,1.85a1.76,1.76,0,0,1,1.14-.31,3.38,3.38,0,0,1,2.69.93,3.52,3.52,0,0,1,.79,2.34A5.94,5.94,0,0,1,46,7.39Zm27.9,11.85L70.29,0h-1L55.21,19.78a6.61,6.61,0,0,1-1.66,1.78,5.3,5.3,0,0,1-1.55.6V23h7.45v-.81a8,8,0,0,1-2-.34.85.85,0,0,1-.47-.89,2,2,0,0,1,.17-.79,5.32,5.32,0,0,1,.4-.75L59.8,16H68c.22,1.44.35,2.25.37,2.45a16,16,0,0,1,.2,1.81,1.51,1.51,0,0,1-.67,1.47,6.38,6.38,0,0,1-2.31.46V23H77.1v-.81a4.28,4.28,0,0,1-2.28-.55A4.47,4.47,0,0,1,73.93,19.24ZM60.7,14.64l5.62-8.19,1.4,8.19ZM84,.46h20.2l-1.61,6.39-1-.15a5.61,5.61,0,0,0-.88-3.43Q99.2,1.52,94.86,1.51a3.56,3.56,0,0,0-1.76.3A2.05,2.05,0,0,0,92.34,3L90.1,10.5A16.53,16.53,0,0,0,95,9.91c.77-.33,1.62-1.32,2.56-3l1.06.12-2.82,9.2-1-.17c0-.33.08-.61.1-.85s0-.43,0-.56a2.76,2.76,0,0,0-1-2.38c-.66-.49-2.07-.73-4.23-.73l-2.5,8.22a3.56,3.56,0,0,0-.09.39,1.55,1.55,0,0,0,0,.37,1.32,1.32,0,0,0,1,1.33,5.52,5.52,0,0,0,1.78.21V23H78.58V22.1a4.35,4.35,0,0,0,2-.61,3.33,3.33,0,0,0,1.06-1.8L86.32,4.6c.09-.31.16-.58.23-.81a5.05,5.05,0,0,0,.16-1.1c0-.53-.17-.87-.52-1A8.7,8.7,0,0,0,84,1.33Zm24.1,0h20.89l-1.37,6.46-1-.08c-.07-2.2-.76-3.69-2.09-4.49a6.61,6.61,0,0,0-3.2-.72L116,18.84,115.7,20a2.63,2.63,0,0,0-.07.38,1.51,1.51,0,0,0,0,.3c0,.57.2.94.61,1.08a11.19,11.19,0,0,0,2.56.34V23H106.2V22.1a6.49,6.49,0,0,0,2.4-.3,3.19,3.19,0,0,0,1.56-2.1l5.58-18.07a9.07,9.07,0,0,0-4.83,1.2,9.52,9.52,0,0,0-3.34,3.61l-1-.23Z",opacity:1,strokeColor:"",fillColor:"#192760",width:128.941,height:22.97,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Final":t={iconName:"Final",pathdata:"M24.94,6l-1.06-.13a4.37,4.37,0,0,0-.91-3q-1.51-1.54-6-1.54a4.28,4.28,0,0,0-1.83.26,1.8,1.8,0,0,0-.78,1.08L12,9.21a20.26,20.26,0,0,0,5.15-.52A6.49,6.49,0,0,0,19.8,6.1l1.1.1L18,14.27l-1.09-.15a6.34,6.34,0,0,0,.11-.74c0-.22,0-.38,0-.5a2.26,2.26,0,0,0-1-2.09c-.68-.42-2.15-.63-4.39-.63L9,17.37a3.09,3.09,0,0,0-.1.34,1.22,1.22,0,0,0,0,.32,1.18,1.18,0,0,0,1,1.17,7,7,0,0,0,1.86.18v.77H0v-.77a5.14,5.14,0,0,0,2.11-.53,3,3,0,0,0,1.1-1.58L8.06,4c.09-.27.17-.5.23-.7a3.74,3.74,0,0,0,.18-1,.83.83,0,0,0-.55-.89,10.94,10.94,0,0,0-2.33-.3V.4h21Zm8.54,12.11a1.49,1.49,0,0,1,0-.28,2.46,2.46,0,0,1,.07-.29l.3-1L38.76,3.29a2.93,2.93,0,0,1,1.09-1.6A5.42,5.42,0,0,1,42,1.17V.4H30.17v.77a10.52,10.52,0,0,1,2.34.31.88.88,0,0,1,.56.94,2.58,2.58,0,0,1-.11.67c-.07.26-.18.57-.32,1L27.79,17.28a2.94,2.94,0,0,1-1.12,1.59,5.28,5.28,0,0,1-2.09.51v.77H36.36v-.77A10.22,10.22,0,0,1,34,19.07.89.89,0,0,1,33.48,18.12ZM66.19,2.24a2.53,2.53,0,0,1,1.87-1l.56-.06V.4H60.5v.77a8,8,0,0,1,2.16.33,1.47,1.47,0,0,1,1,1.48,5.61,5.61,0,0,1-.25,1.34c-.11.4-.25.87-.43,1.38l-3.08,8.35L51.26.4h-8v.77a8.44,8.44,0,0,1,1.86.24,2.26,2.26,0,0,1,1.22,1.05l.17.31L42.11,14.88a13.74,13.74,0,0,1-1.8,3.61,3.36,3.36,0,0,1-2.22.89v.77h8.23v-.77a7.75,7.75,0,0,1-2.1-.31,1.45,1.45,0,0,1-1-1.44,3.56,3.56,0,0,1,.1-.79,16.15,16.15,0,0,1,.64-2L47.85,4.31,58.11,20.64h1l5.5-15A15.48,15.48,0,0,1,66.19,2.24Zm23,17.13v.78H78.08v-.71A7.47,7.47,0,0,0,80.49,19a1.25,1.25,0,0,0,.7-1.29A13.26,13.26,0,0,0,81,16.16c0-.18-.16-.89-.39-2.15H72.06l-2.3,3a3.7,3.7,0,0,0-.42.66,1.54,1.54,0,0,0-.18.69.74.74,0,0,0,.49.78,10.28,10.28,0,0,0,2.06.3v.71H63.94v-.71a6.43,6.43,0,0,0,1.63-.53,6.63,6.63,0,0,0,1.72-1.56L82,0h1l3.78,16.88A3.69,3.69,0,0,0,87.7,19,3.53,3.53,0,0,0,89.24,19.37Zm-8.93-6.53L78.86,5.65,73,12.84Zm32.8,1.44a11.51,11.51,0,0,1-5.23,3.88,21.36,21.36,0,0,1-7,1A4.88,4.88,0,0,1,99.22,19a.74.74,0,0,1-.58-.71,2.33,2.33,0,0,1,0-.48c0-.13.08-.28.13-.43L104,3.29a2.72,2.72,0,0,1,1.19-1.64,9.4,9.4,0,0,1,2.79-.48V.4H95.4v.77a10.42,10.42,0,0,1,2.34.31.88.88,0,0,1,.56.94,2.58,2.58,0,0,1-.11.67c-.07.25-.17.57-.31.94L93,17.27a2.92,2.92,0,0,1-1.12,1.6,4.59,4.59,0,0,1-1.71.47v.81h21.55l2.32-5.74Z",opacity:1,strokeColor:"",fillColor:"#516c30",width:114.058,height:20.639,stampFillColor:"#e6eddf",stampStrokeColor:""};break;case"Completed":t={iconName:"Completed",pathdata:"M16.37,0,15.08,6.9l-.79-.17c0-.41,0-.66,0-.73a2.73,2.73,0,0,0,0-.32,5.33,5.33,0,0,0-.94-3.47A3,3,0,0,0,11,1.07c-2,0-3.68,1.51-5.13,4.55a18.84,18.84,0,0,0-2,8.29q0,3.06,1.2,4.2a3.82,3.82,0,0,0,2.64,1.13,5.3,5.3,0,0,0,3.51-1.43,10.75,10.75,0,0,0,1.78-2.09l.77.65a9.32,9.32,0,0,1-3.12,3.35A7,7,0,0,1,7,20.81a6.66,6.66,0,0,1-5-2.08,7.72,7.72,0,0,1-2-5.57A14.57,14.57,0,0,1,3.05,3.92Q6.1,0,10.29,0A8.92,8.92,0,0,1,13,.43a9.09,9.09,0,0,0,1.65.43.72.72,0,0,0,.6-.23A2.55,2.55,0,0,0,15.6,0ZM32.83,7.11a15.24,15.24,0,0,1-3.11,9.07q-3.31,4.61-7.63,4.6a5.63,5.63,0,0,1-4.42-1.92A7.47,7.47,0,0,1,16,13.72a15.27,15.27,0,0,1,3.18-9.19Q22.46,0,26.57,0a5.82,5.82,0,0,1,4.5,1.92A7.35,7.35,0,0,1,32.83,7.11ZM29.16,4.6a4.92,4.92,0,0,0-.63-2.55,2.14,2.14,0,0,0-2-1.06Q23.4,1,21.24,7.53a27.45,27.45,0,0,0-1.63,8.26A6.68,6.68,0,0,0,19.92,18a2.24,2.24,0,0,0,2.2,1.78,3.71,3.71,0,0,0,2.73-1.29,15,15,0,0,0,2.54-4.93,30.56,30.56,0,0,0,1.3-4.83A23,23,0,0,0,29.16,4.6Zm21.2,13.62a3.83,3.83,0,0,1,.08-.75,8.6,8.6,0,0,1,.19-.88L53.75,3.31a3,3,0,0,1,.85-1.67,2.72,2.72,0,0,1,1.21-.4V.48H50.42L42.66,14.39,41.21.48h-5.8v.76a4.65,4.65,0,0,1,1.45.21c.26.11.38.37.38.78a4.57,4.57,0,0,1-.08.75c-.06.28-.13.61-.23,1L34.34,15a16.85,16.85,0,0,1-1.16,3.65,1.9,1.9,0,0,1-1.42.86v.76h5.3v-.76a3.22,3.22,0,0,1-1.32-.29A1.48,1.48,0,0,1,35,17.74a8.32,8.32,0,0,1,.17-1.42c.07-.37.17-.82.3-1.37L38.06,4.23l1.71,16.38h.71L50,3.76l-3.2,13.58A2.84,2.84,0,0,1,46,19a4.06,4.06,0,0,1-1.76.49v.76h7.93v-.76a4.79,4.79,0,0,1-1.49-.31Q50.36,19,50.36,18.22ZM67.69,9.29a7.39,7.39,0,0,1-4.89,1.58l-.73,0-1.48-.11L59.21,16.6l-.21,1a1,1,0,0,0,0,.3,2.83,2.83,0,0,0,0,.29c0,.5.12.81.35.94a4.74,4.74,0,0,0,1.51.31v.76H53.31v-.76a2.52,2.52,0,0,0,1.33-.52,3.18,3.18,0,0,0,.72-1.59L58.48,4.11q.1-.45.18-.9a4.48,4.48,0,0,0,.08-.72,1,1,0,0,0-.49-1,4.36,4.36,0,0,0-1.36-.23V.48h7.29a7.29,7.29,0,0,1,3.07.57,4,4,0,0,1,2.33,4A5.22,5.22,0,0,1,67.69,9.29Zm-1.8-5a3.65,3.65,0,0,0-.51-2,1.85,1.85,0,0,0-1.7-.79,1,1,0,0,0-.8.28,3.27,3.27,0,0,0-.4,1l-1.66,7,.47.06h.41a4.37,4.37,0,0,0,2-.36,3.14,3.14,0,0,0,1.2-1.18,6.51,6.51,0,0,0,.74-2A9.87,9.87,0,0,0,65.89,4.25Zm16.9,10.1a8.71,8.71,0,0,1-3.35,3.88,9.36,9.36,0,0,1-4.53,1,2.15,2.15,0,0,1-1-.21.75.75,0,0,1-.37-.71,3.18,3.18,0,0,1,0-.47c0-.14,0-.28.08-.44l3.3-14.08a2.94,2.94,0,0,1,.77-1.64,4.47,4.47,0,0,1,1.79-.48V.48h-8v.76a4.8,4.8,0,0,1,1.5.31c.23.13.35.44.35.94a4.36,4.36,0,0,1-.06.67c0,.26-.12.57-.21,1L69.9,17.34a3.18,3.18,0,0,1-.72,1.6,2.53,2.53,0,0,1-1.34.52v.76H81.91l1.49-5.74ZM85.73,1.24a4.59,4.59,0,0,1,1.5.31c.23.13.34.44.34.94a3.84,3.84,0,0,1-.07.7c0,.28-.11.58-.19.92L84.2,17.35a3.18,3.18,0,0,1-.72,1.59,2.27,2.27,0,0,1-1.06.47h-.07v.8H96.2l1.5-5.74-.62-.13a8.14,8.14,0,0,1-3.94,4.17,9.39,9.39,0,0,1-3.94.75A1.75,1.75,0,0,1,88.06,19a.87.87,0,0,1-.27-.66,3.28,3.28,0,0,1,0-.39,5,5,0,0,1,.09-.51l1.67-7.2a5.16,5.16,0,0,1,2.91.57A2.58,2.58,0,0,1,93.24,13c0,.14,0,.31,0,.51s0,.45-.07.73l.7.14,1.88-8.07L95,6.18a5.62,5.62,0,0,1-1.74,2.61,9.05,9.05,0,0,1-3.45.51l1.51-6.56a2.23,2.23,0,0,1,.47-1.06,2,2,0,0,1,1.3-.28c2,0,3.29.5,3.93,1.51a6.13,6.13,0,0,1,.6,3l.68.13L99.4.48H85.73ZM114,6.14l.92-5.66h-14l-1,5,.66.2a7.81,7.81,0,0,1,2.23-3.16,4.91,4.91,0,0,1,3.23-1.06l-3.73,15.85a2.84,2.84,0,0,1-1,1.85,3.48,3.48,0,0,1-1.6.26v.76h8.4v-.76a5.82,5.82,0,0,1-1.71-.3c-.27-.13-.41-.45-.41-.95a2.26,2.26,0,0,1,0-.26c0-.09,0-.2,0-.33l.21-1,3.53-15.1a3.65,3.65,0,0,1,2.14.63c.89.7,1.35,2,1.39,3.94Zm9.44,12.38a9.39,9.39,0,0,1-3.94.75,1.77,1.77,0,0,1-1.14-.26.87.87,0,0,1-.27-.66,3.28,3.28,0,0,1,0-.39,5,5,0,0,1,.09-.51l1.67-7.2a5.12,5.12,0,0,1,2.91.57,2.58,2.58,0,0,1,.75,2.15c0,.14,0,.31,0,.51s0,.45-.07.73l.7.14L126,6.28l-.7-.1a5.78,5.78,0,0,1-1.74,2.61,9.16,9.16,0,0,1-3.46.51l1.51-6.56a2.14,2.14,0,0,1,.48-1.06,2,2,0,0,1,1.3-.28c2,0,3.28.5,3.92,1.51a6,6,0,0,1,.6,3l.68.13,1.08-5.6H116v.76a4.67,4.67,0,0,1,1.51.31c.22.13.34.44.34.94a4,4,0,0,1-.08.7c0,.28-.11.58-.18.92l-3.12,13.24a3.18,3.18,0,0,1-.72,1.59,2.56,2.56,0,0,1-1.34.52v.76h14.06l1.5-5.74-.62-.13A8.14,8.14,0,0,1,123.39,18.52Zm23.32-9.84a11.62,11.62,0,0,1-2.89,7.84,10.6,10.6,0,0,1-8.42,3.7h-7.29v-.76a2.58,2.58,0,0,0,1.18-.41,2.94,2.94,0,0,0,.88-1.71l3.11-13.23c.09-.38.16-.69.21-1a4.49,4.49,0,0,0,.07-.67c0-.5-.12-.81-.36-.94a4.8,4.8,0,0,0-1.5-.31V.48h7.36a7.16,7.16,0,0,1,5.69,2.22A8.72,8.72,0,0,1,146.71,8.68ZM143,6.87a8,8,0,0,0-.64-3.48,3.52,3.52,0,0,0-3.44-2,1.52,1.52,0,0,0-1.11.31,1.75,1.75,0,0,0-.41.83l-3.5,14.9c0,.14,0,.27-.07.39s0,.21,0,.3a1.06,1.06,0,0,0,.3.84,1.75,1.75,0,0,0,1.1.26q4.53,0,6.55-5.42A19.84,19.84,0,0,0,143,6.87Z",opacity:1,strokeColor:"",fillColor:"#516c30",width:146.706,height:20.811,stampFillColor:"#e6eddf",stampStrokeColor:""};break;case"ForPublicRelease":case"For Public Release":t={iconName:"For Public Release",pathdata:"M10.33.48l-.65,5.6L9.27,6a9.74,9.74,0,0,0-.36-3A2.27,2.27,0,0,0,6.57,1.4a.85.85,0,0,0-.71.26,2.67,2.67,0,0,0-.3,1.08L4.65,9.28a3.45,3.45,0,0,0,2-.52,6.65,6.65,0,0,0,1-2.59l.43.1L7,14.34l-.42-.14c0-.29,0-.54,0-.75s0-.38,0-.49a4.17,4.17,0,0,0-.39-2.09,1.91,1.91,0,0,0-1.71-.64l-1,7.21c0,.13,0,.24,0,.35s0,.21,0,.31a1.45,1.45,0,0,0,.38,1.17,1.17,1.17,0,0,0,.72.19v.76H0v-.76a1.31,1.31,0,0,0,.82-.54,4.39,4.39,0,0,0,.42-1.58L3.13,4.11c0-.27.06-.51.09-.71,0-.41.07-.73.07-1a1.34,1.34,0,0,0-.21-.9,2.13,2.13,0,0,0-.91-.3V.48ZM20.5,7.11a22.43,22.43,0,0,1-1.88,9.07q-2,4.61-4.62,4.6a3,3,0,0,1-2.67-1.92,10.91,10.91,0,0,1-1-5.14,22.46,22.46,0,0,1,1.92-9.19Q14.23,0,16.71,0a3.11,3.11,0,0,1,2.72,1.92A10.72,10.72,0,0,1,20.5,7.11ZM18.28,4.6a7.7,7.7,0,0,0-.38-2.55c-.26-.7-.65-1-1.19-1-1.28,0-2.35,2.17-3.22,6.53a43.69,43.69,0,0,0-1,8.26,10.72,10.72,0,0,0,.19,2.2c.24,1.18.69,1.77,1.33,1.77s1.16-.43,1.65-1.29a19.35,19.35,0,0,0,1.54-4.93A48.7,48.7,0,0,0,18,8.71,38.21,38.21,0,0,0,18.28,4.6Zm11.59.16a8.73,8.73,0,0,1-.24,2,5.64,5.64,0,0,1-.8,1.9,3.49,3.49,0,0,1-.93,1,7.31,7.31,0,0,1-1,.52c0,.3.08.49.1.57l1.18,6.66a4.54,4.54,0,0,0,.52,1.7,1.1,1.1,0,0,0,.83.41v.76H26.46l-1.65-9.76h-.43l-.91,6.14-.13,1a2,2,0,0,0,0,.25,2.62,2.62,0,0,0,0,.28,1.57,1.57,0,0,0,.2,1,1.77,1.77,0,0,0,.92.32v.76H19.86v-.76a1.33,1.33,0,0,0,.81-.52,4.35,4.35,0,0,0,.43-1.59L23,4.11c0-.27.07-.51.09-.71a8.23,8.23,0,0,0,.07-1,1.3,1.3,0,0,0-.21-.9,2.08,2.08,0,0,0-.91-.3V.48h4.22A3.79,3.79,0,0,1,28.44,1C29.4,1.66,29.87,2.91,29.87,4.76Zm-2.31-.47a5.77,5.77,0,0,0-.32-2,1.12,1.12,0,0,0-1.09-.81.5.5,0,0,0-.46.26,3.87,3.87,0,0,0-.24,1.05L24.52,9.5a3.73,3.73,0,0,0,1.22-.2,2.1,2.1,0,0,0,1.1-1.13,8.41,8.41,0,0,0,.49-1.62A10.75,10.75,0,0,0,27.56,4.29Zm14.92.78a7.06,7.06,0,0,1-1.14,4.22,3.5,3.5,0,0,1-3,1.58l-.44,0-.89-.11-.84,5.86-.12,1a1.45,1.45,0,0,0,0,.3,2.81,2.81,0,0,0,0,.29,1.38,1.38,0,0,0,.21.94,1.93,1.93,0,0,0,.91.31v.76H32.65v-.76a1.28,1.28,0,0,0,.8-.52,4.3,4.3,0,0,0,.44-1.59L35.77,4.11c0-.3.08-.6.11-.9a5.21,5.21,0,0,0,0-.72,1.29,1.29,0,0,0-.3-1,1.82,1.82,0,0,0-.81-.23V.48h4.4a3,3,0,0,1,1.86.57C42,1.78,42.48,3.12,42.48,5.07Zm-2.23-.82a5.74,5.74,0,0,0-.3-2,1.07,1.07,0,0,0-1-.79.5.5,0,0,0-.49.28,5.11,5.11,0,0,0-.24,1l-1,7,.28.06h.25a1.79,1.79,0,0,0,1.2-.36,2.88,2.88,0,0,0,.73-1.18,10.56,10.56,0,0,0,.44-2A15.74,15.74,0,0,0,40.25,4.25Zm12.91-3V.48H50v.76a1.46,1.46,0,0,1,.82.32A2,2,0,0,1,51.24,3a15,15,0,0,1-.14,1.57q0-.17-.15,1.17l-.89,6.16a29.63,29.63,0,0,1-1,4.77c-.55,1.63-1.31,2.44-2.28,2.44a1.59,1.59,0,0,1-1.38-.77,4.16,4.16,0,0,1-.5-2.23q0-.63.15-2c.06-.5.15-1.14.27-1.93l1.26-8.84a4.13,4.13,0,0,1,.46-1.66,1.66,1.66,0,0,1,1-.46V.48H43.34v.76a2,2,0,0,1,.9.3,1.3,1.3,0,0,1,.21.9,7.27,7.27,0,0,1,0,.75c0,.29-.07.59-.11.92l-1,7.24c-.16,1.14-.27,1.93-.32,2.38a19.16,19.16,0,0,0-.12,2,6.13,6.13,0,0,0,1,3.71,2.93,2.93,0,0,0,2.43,1.33c1.39,0,2.45-.9,3.17-2.69a29.58,29.58,0,0,0,1.23-5.61l1-6.74A24.45,24.45,0,0,1,52.3,2.1,1.22,1.22,0,0,1,53.16,1.24Zm7.14,9.82a5.87,5.87,0,0,1,.68,3,8.55,8.55,0,0,1-1,4.27,3.68,3.68,0,0,1-3.48,1.84H51.82v-.76a1.3,1.3,0,0,0,.72-.4,3.94,3.94,0,0,0,.52-1.71L55,4.1c0-.39.09-.72.12-1s0-.46,0-.6c0-.53-.07-.86-.23-1A1.64,1.64,0,0,0,54,1.24V.48h4.17a3.4,3.4,0,0,1,2.67,1,4.91,4.91,0,0,1,1,3.38,5.33,5.33,0,0,1-1.17,3.61,4.8,4.8,0,0,1-1.68,1.22A4.84,4.84,0,0,1,60.3,11.06Zm-1.66,2.45a3.81,3.81,0,0,0-.73-2.74,2.63,2.63,0,0,0-1.58-.52l-1,7.2a4,4,0,0,0-.05.4c0,.15,0,.32,0,.51a.9.9,0,0,0,.33.82,1.13,1.13,0,0,0,.59.12c1,0,1.67-.87,2.1-2.59A13.54,13.54,0,0,0,58.64,13.51Zm.12-5.29A5.92,5.92,0,0,0,59.4,6.1a12.74,12.74,0,0,0,.13-1.74,6.54,6.54,0,0,0-.29-2.11,1.11,1.11,0,0,0-1.13-.81.49.49,0,0,0-.49.32,3.52,3.52,0,0,0-.23,1l-.94,6.62A7.45,7.45,0,0,0,58,9,1.8,1.8,0,0,0,58.76,8.22Zm11.71,6.14a8.78,8.78,0,0,1-2,3.87,4,4,0,0,1-2.74,1,.89.89,0,0,1-.63-.21.93.93,0,0,1-.22-.7,3.4,3.4,0,0,1,0-.48c0-.14,0-.28,0-.44l2-14.08a3.8,3.8,0,0,1,.47-1.64,1.94,1.94,0,0,1,1.08-.48V.48H63.6v.76a2,2,0,0,1,.91.31,1.36,1.36,0,0,1,.22.94c0,.2,0,.42,0,.67s-.07.57-.13,1L62.68,17.34a4.31,4.31,0,0,1-.44,1.6,1.28,1.28,0,0,1-.8.52v.76h8.5l.9-5.74ZM76.89.48H72.32v.76a1.92,1.92,0,0,1,.9.31c.15.13.22.44.22.94a5.56,5.56,0,0,1,0,.67c0,.26-.07.57-.12,1L71.39,17.35A4.35,4.35,0,0,1,71,18.94a1.33,1.33,0,0,1-.81.52v.76h4.57v-.76a1.81,1.81,0,0,1-.91-.32,1.39,1.39,0,0,1-.21-.94c0-.09,0-.18,0-.28l0-.3.12-1L75.65,3.36a4.43,4.43,0,0,1,.43-1.6,1.3,1.3,0,0,1,.81-.52Zm8.46.15A.38.38,0,0,1,85,.87a4.12,4.12,0,0,1-1-.44A3.51,3.51,0,0,0,82.37,0Q79.84,0,78,3.92a21.42,21.42,0,0,0-1.84,9.24,11.15,11.15,0,0,0,1.2,5.57,3.51,3.51,0,0,0,3.05,2.08,3.15,3.15,0,0,0,2.21-1.09,8.92,8.92,0,0,0,1.89-3.35L84,15.72A11.08,11.08,0,0,1,83,17.81a2.71,2.71,0,0,1-2.12,1.43,2,2,0,0,1-1.59-1.13,8.33,8.33,0,0,1-.74-4.2A29.46,29.46,0,0,1,79.7,5.62Q81,1.08,82.8,1.07c.59,0,1.07.38,1.45,1.14a8,8,0,0,1,.57,3.47,2.73,2.73,0,0,1,0,.32c0,.08,0,.32,0,.73l.48.17L86.05,0h-.47A2.93,2.93,0,0,1,85.35.63Zm21.41,13.73.37.12-.9,5.74H94.72l-1.66-9.76h-.43l-.91,6.14-.13,1c0,.08,0,.16,0,.25s0,.19,0,.28a1.57,1.57,0,0,0,.2,1,1.81,1.81,0,0,0,.92.32v.76H88.11v-.76a1.3,1.3,0,0,0,.81-.52,4.35,4.35,0,0,0,.43-1.59L91.24,4.11c0-.27.07-.51.09-.71a8.23,8.23,0,0,0,.07-1,1.3,1.3,0,0,0-.21-.9,2.08,2.08,0,0,0-.91-.3V.48h4.23A3.81,3.81,0,0,1,96.7,1c1,.65,1.43,1.9,1.43,3.75a8.73,8.73,0,0,1-.24,2,5.66,5.66,0,0,1-.81,1.9,3.49,3.49,0,0,1-.93,1,6.73,6.73,0,0,1-1,.52c0,.3.09.49.1.57l1.18,6.66a4.74,4.74,0,0,0,.52,1.7,1,1,0,0,0,.78.39,1.23,1.23,0,0,0,.78-.5A4.3,4.3,0,0,0,99,17.35l1.88-13.24c.05-.34.09-.64.12-.92a6.28,6.28,0,0,0,0-.7,1.45,1.45,0,0,0-.2-.94,2,2,0,0,0-.91-.31V.48h8.26l-.65,5.6L107.1,6a9.57,9.57,0,0,0-.36-3,2.3,2.3,0,0,0-2.38-1.51c-.41,0-.67.09-.78.28a2.87,2.87,0,0,0-.29,1.06l-.91,6.56a3.57,3.57,0,0,0,2.08-.51,6.59,6.59,0,0,0,1.06-2.61l.42.1-1.14,8.08-.42-.15c0-.28,0-.52.05-.73s0-.37,0-.51a3.6,3.6,0,0,0-.46-2.15,2.14,2.14,0,0,0-1.75-.57l-1,7.2a4.7,4.7,0,0,0-.06.51c0,.16,0,.29,0,.39a1.12,1.12,0,0,0,.17.66.77.77,0,0,0,.69.26,3.77,3.77,0,0,0,2.37-.75A7.71,7.71,0,0,0,106.76,14.36ZM95.09,8.17a7.75,7.75,0,0,0,.49-1.62,10.75,10.75,0,0,0,.23-2.26,5.77,5.77,0,0,0-.32-2,1.11,1.11,0,0,0-1.08-.81.48.48,0,0,0-.46.26,3.44,3.44,0,0,0-.25,1.05L92.78,9.5A3.78,3.78,0,0,0,94,9.3,2.08,2.08,0,0,0,95.09,8.17Zm21.32,6.19a8.67,8.67,0,0,1-2,3.87,4,4,0,0,1-2.73,1,.89.89,0,0,1-.63-.21.93.93,0,0,1-.23-.7c0-.19,0-.35,0-.48s0-.28,0-.44l2-14.08a3.84,3.84,0,0,1,.46-1.64,2,2,0,0,1,1.08-.48V.48h-4.86v.76a2,2,0,0,1,.91.31,1.38,1.38,0,0,1,.21.94,5.56,5.56,0,0,1,0,.67c0,.26-.07.57-.12,1l-1.89,13.23a4.16,4.16,0,0,1-.43,1.6,1.27,1.27,0,0,1-.81.52v.76h8.51l.9-5.74Zm8.64,0a7.71,7.71,0,0,1-2.38,4.16,3.82,3.82,0,0,1-2.38.75.77.77,0,0,1-.69-.26,1.2,1.2,0,0,1-.17-.66c0-.1,0-.23,0-.39a4.7,4.7,0,0,1,.06-.51l1-7.2a2.17,2.17,0,0,1,1.76.57,3.69,3.69,0,0,1,.45,2.15c0,.14,0,.31,0,.51s0,.45,0,.73l.42.15,1.13-8.08-.42-.1a6.79,6.79,0,0,1-1,2.61,3.63,3.63,0,0,1-2.09.51l.91-6.56a2.87,2.87,0,0,1,.29-1.06c.12-.19.38-.28.78-.28A2.3,2.3,0,0,1,125,2.91a9.57,9.57,0,0,1,.36,3l.41.13.65-5.6h-8.26v.76a1.93,1.93,0,0,1,.91.31,1.45,1.45,0,0,1,.2.94,6.28,6.28,0,0,1,0,.7c0,.28-.07.58-.11.92l-1.89,13.24a4.35,4.35,0,0,1-.43,1.59,1.33,1.33,0,0,1-.81.52v.76h8.5l.91-5.74Zm10.29,5.15v.71h-4.65v-.71a1.44,1.44,0,0,0,.93-.41,2.08,2.08,0,0,0,.27-1.29c0-.22,0-.75-.08-1.58,0-.17-.06-.89-.15-2.15h-3.31l-.89,3a5.32,5.32,0,0,0-.16.66,3.4,3.4,0,0,0-.08.69,1.06,1.06,0,0,0,.2.78,1.68,1.68,0,0,0,.79.3v.71h-3v-.71a1.8,1.8,0,0,0,.63-.53,6.45,6.45,0,0,0,.67-1.56L132.19.07h.4L134.06,17a7.15,7.15,0,0,0,.36,2.08A1.13,1.13,0,0,0,135.34,19.51Zm-3.79-6.6L131,5.73l-2.27,7.18Zm9.6-4-1.32-2.09a4.57,4.57,0,0,1-.47-.94,5.12,5.12,0,0,1-.28-1.78,5.57,5.57,0,0,1,.27-1.77c.27-.83.7-1.24,1.29-1.24s1.21.51,1.57,1.54A8.78,8.78,0,0,1,142.65,5l.06,1,.39.1.63-5.91h-.46a2.09,2.09,0,0,1-.25.54.46.46,0,0,1-.41.21.57.57,0,0,1-.24-.05,1.23,1.23,0,0,1-.26-.12l-.39-.24a2.34,2.34,0,0,0-.5-.25,2.41,2.41,0,0,0-.85-.16,2.55,2.55,0,0,0-2.31,1.67,9.11,9.11,0,0,0-.83,4.05,10.47,10.47,0,0,0,1.88,5.5A9.21,9.21,0,0,1,141,16a6.49,6.49,0,0,1-.5,2.63,1.59,1.59,0,0,1-1.43,1.14,1.42,1.42,0,0,1-1-.4,3.55,3.55,0,0,1-.78-1.16,7.09,7.09,0,0,1-.52-1.92c-.05-.43-.1-1.12-.13-2.06l-.44-.06-.55,6.62h.46a4.11,4.11,0,0,1,.25-.82.36.36,0,0,1,.36-.23.47.47,0,0,1,.17,0,2.38,2.38,0,0,1,.27.18l.39.27a3.52,3.52,0,0,0,.84.43,2.48,2.48,0,0,0,.84.15,2.91,2.91,0,0,0,2.63-1.88,9.24,9.24,0,0,0,1-4.21,9.85,9.85,0,0,0-.49-3.24A12.1,12.1,0,0,0,141.15,8.92Zm7.75-7.24c.12-.19.38-.28.78-.28a2.3,2.3,0,0,1,2.38,1.51,9.57,9.57,0,0,1,.36,3l.41.13.65-5.6h-8.26v.76a1.93,1.93,0,0,1,.91.31c.14.13.2.44.2.94a6.28,6.28,0,0,1,0,.7c0,.28-.07.58-.11.92l-1.89,13.24a4.35,4.35,0,0,1-.43,1.59,1.33,1.33,0,0,1-.81.52v.76h8.5l.91-5.74-.38-.12a7.71,7.71,0,0,1-2.38,4.16,3.82,3.82,0,0,1-2.38.75.77.77,0,0,1-.69-.26,1.2,1.2,0,0,1-.17-.66c0-.1,0-.23,0-.39a4.7,4.7,0,0,1,.06-.51l1-7.2a2.17,2.17,0,0,1,1.76.57,3.69,3.69,0,0,1,.45,2.15c0,.14,0,.31,0,.51s0,.45,0,.73l.42.15,1.14-8.08-.43-.1a6.79,6.79,0,0,1-1.05,2.61,3.63,3.63,0,0,1-2.09.51l.91-6.56A2.87,2.87,0,0,1,148.9,1.68Z",opacity:1,strokeColor:"",fillColor:"#192760",width:153.485,height:20.812,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"NotForPublicRelease":case"Not For Public Release":t={iconName:"Not For Public Release",pathdata:"M9,2.35q-.21.9-.51,3.48L6.69,21.05H6.38L3.11,4.45,1.85,15.19c-.1.89-.17,1.56-.2,2s0,.55,0,.81A2.39,2.39,0,0,0,2,19.45a1.09,1.09,0,0,0,.67.33v.77H0v-.77a1.22,1.22,0,0,0,.71-.91,33.91,33.91,0,0,0,.57-3.68L2.7,2.88l-.06-.3a2.09,2.09,0,0,0-.39-1.07,1,1,0,0,0-.59-.25V.48H4.2L6.93,14.36l1-8.49c.06-.53.11-1,.14-1.4.06-.63.08-1.08.08-1.37a2.67,2.67,0,0,0-.3-1.5,1.07,1.07,0,0,0-.69-.34V.48H9.73v.78l-.18.06C9.29,1.41,9.09,1.75,9,2.35ZM16.74,2a13.19,13.19,0,0,1,.87,5.28,27.45,27.45,0,0,1-1.54,9.22q-1.65,4.66-3.79,4.67-1.35,0-2.19-1.95a13.31,13.31,0,0,1-.85-5.23A27.59,27.59,0,0,1,10.82,4.6C11.91,1.53,13.15,0,14.51,0,15.41,0,16.16.65,16.74,2Zm-.95,2.73a9.33,9.33,0,0,0-.31-2.59c-.21-.72-.54-1.08-1-1.08-1.05,0-1.92,2.21-2.64,6.64a54.69,54.69,0,0,0-.81,8.4,14.21,14.21,0,0,0,.15,2.23c.2,1.2.57,1.8,1.1,1.8s.95-.43,1.35-1.31a22.84,22.84,0,0,0,1.26-5c.28-1.55.49-3.19.65-4.91S15.79,5.74,15.79,4.68Zm2.3.93.32.21A10.7,10.7,0,0,1,19.52,2.6a1.87,1.87,0,0,1,1.6-1.08L19.27,17.63a4,4,0,0,1-.52,1.88,1,1,0,0,1-.79.27v.77h4.17v-.77a1.72,1.72,0,0,1-.85-.3,1.56,1.56,0,0,1-.2-1,2.44,2.44,0,0,1,0-.27c0-.08,0-.2,0-.33l.11-1L23,1.52A1.31,1.31,0,0,1,24,2.17a8.49,8.49,0,0,1,.69,4l.33.07L25.5.48H18.57ZM28.75.48v.78a1.39,1.39,0,0,1,.74.31,1.44,1.44,0,0,1,.18.9q0,.36-.06,1c0,.2-.05.44-.07.71L28,17.62a5.34,5.34,0,0,1-.35,1.61,1.05,1.05,0,0,1-.67.55v.77H30.7v-.77a.82.82,0,0,1-.6-.2,1.69,1.69,0,0,1-.31-1.18c0-.11,0-.22,0-.32l0-.35.83-7.33a1.42,1.42,0,0,1,1.4.64,5,5,0,0,1,.33,2.13c0,.12,0,.28,0,.5s0,.47,0,.76l.34.15.94-8.21-.35-.1a8.12,8.12,0,0,1-.85,2.64,2.42,2.42,0,0,1-1.64.52l.74-6.65a3.34,3.34,0,0,1,.25-1.1.64.64,0,0,1,.59-.26A1.91,1.91,0,0,1,34.28,3a11.32,11.32,0,0,1,.29,3.06l.34.13.54-5.7Zm15,6.75a27.46,27.46,0,0,1-1.55,9.22q-1.65,4.66-3.79,4.67-1.35,0-2.19-1.95a13.49,13.49,0,0,1-.85-5.23A27.59,27.59,0,0,1,37,4.6Q38.65,0,40.69,0c.91,0,1.65.65,2.23,2A13.17,13.17,0,0,1,43.8,7.23ZM42,4.68a9.3,9.3,0,0,0-.32-2.59c-.21-.72-.53-1.08-1-1.08Q39.12,1,38,7.65a54.69,54.69,0,0,0-.81,8.4,13,13,0,0,0,.16,2.23c.2,1.2.56,1.8,1.09,1.8s1-.43,1.35-1.31a23.28,23.28,0,0,0,1.27-5c.27-1.55.49-3.19.64-4.91S42,5.74,42,4.68ZM50.32,1c.78.66,1.17,1.93,1.17,3.8a11,11,0,0,1-.19,2,7.2,7.2,0,0,1-.66,1.93,3.45,3.45,0,0,1-.77,1,5.58,5.58,0,0,1-.8.52c0,.31.07.51.08.58l1,6.78a5.63,5.63,0,0,0,.42,1.72.85.85,0,0,0,.69.42v.77H48.69l-1.36-9.92H47l-.75,6.25-.1,1c0,.08,0,.16,0,.26v.28a1.94,1.94,0,0,0,.16,1,1.39,1.39,0,0,0,.75.32v.77H43.27v-.77a1.07,1.07,0,0,0,.66-.53,4.83,4.83,0,0,0,.36-1.61L45.84,4.18c0-.28.06-.52.08-.72,0-.42,0-.75,0-1a1.48,1.48,0,0,0-.17-.91,1.39,1.39,0,0,0-.74-.31V.48h3.46A2.67,2.67,0,0,1,50.32,1Zm-.73,3.34a7.2,7.2,0,0,0-.26-2.09c-.18-.55-.47-.83-.89-.83a.4.4,0,0,0-.38.27,4.46,4.46,0,0,0-.2,1.06L47.1,9.65a2.39,2.39,0,0,0,1-.2A2,2,0,0,0,49,8.31a10,10,0,0,0,.4-1.65A12.71,12.71,0,0,0,49.59,4.37Zm11.1-3.3c.77.74,1.16,2.1,1.16,4.09a8.51,8.51,0,0,1-.94,4.28A2.78,2.78,0,0,1,58.48,11h-.36l-.73-.12-.69,6-.11,1c0,.1,0,.2,0,.3s0,.2,0,.3a1.7,1.7,0,0,0,.17.95,1.47,1.47,0,0,0,.75.32v.77H53.77v-.77a1.07,1.07,0,0,0,.66-.53,4.83,4.83,0,0,0,.36-1.61L56.34,4.17l.09-.9c0-.31,0-.55,0-.74a1.58,1.58,0,0,0-.25-1,1.33,1.33,0,0,0-.67-.23V.48h3.62A2.11,2.11,0,0,1,60.69,1.07ZM60,4.32a7,7,0,0,0-.25-2.06c-.17-.53-.45-.8-.84-.8a.4.4,0,0,0-.4.29,6.14,6.14,0,0,0-.2,1L57.5,9.93l.23.06h.21a1.3,1.3,0,0,0,1-.36,3.17,3.17,0,0,0,.6-1.2,12.69,12.69,0,0,0,.36-2A19.64,19.64,0,0,0,60,4.32Zm10.6-3.06V.48H68v.78a1.17,1.17,0,0,1,.68.32A2.43,2.43,0,0,1,69,3.05c0,.32,0,.85-.11,1.6,0-.12,0,.27-.12,1.18l-.73,6.26a36.28,36.28,0,0,1-.8,4.86c-.45,1.65-1.07,2.47-1.87,2.47a1.27,1.27,0,0,1-1.13-.78,5.05,5.05,0,0,1-.41-2.27c0-.43,0-1.1.13-2,.05-.51.12-1.17.21-2l1-9a4.69,4.69,0,0,1,.38-1.69,1.24,1.24,0,0,1,.8-.47V.48H62.55v.78a1.39,1.39,0,0,1,.74.31,1.56,1.56,0,0,1,.17.91c0,.21,0,.47,0,.76s-.06.6-.1.94l-.85,7.36c-.14,1.15-.23,2-.27,2.42-.06.76-.1,1.44-.1,2a7.4,7.4,0,0,0,.81,3.78,2.35,2.35,0,0,0,2,1.35c1.14,0,2-.91,2.6-2.74a35.69,35.69,0,0,0,1-5.7l.79-6.85a30.83,30.83,0,0,1,.58-3.7A1.15,1.15,0,0,1,70.61,1.26Zm5.86,10a7.16,7.16,0,0,1,.56,3.1,10.31,10.31,0,0,1-.86,4.34,2.93,2.93,0,0,1-2.86,1.87h-3.8v-.77a1.07,1.07,0,0,0,.59-.41,4.64,4.64,0,0,0,.43-1.73L72.08,4.17c0-.4.08-.73.1-1s0-.46,0-.61a1.83,1.83,0,0,0-.19-1,1.22,1.22,0,0,0-.73-.28V.48h3.43a2.58,2.58,0,0,1,2.19,1.06A5.92,5.92,0,0,1,77.69,5a6.3,6.3,0,0,1-1,3.67,4.18,4.18,0,0,1-1.39,1.24A4.36,4.36,0,0,1,76.47,11.24Zm-1.36,2.49a4.59,4.59,0,0,0-.6-2.79,2,2,0,0,0-1.3-.52l-.84,7.32c0,.12,0,.25,0,.4s0,.33,0,.52a1.06,1.06,0,0,0,.27.84.77.77,0,0,0,.48.11c.8,0,1.38-.87,1.73-2.63A17.3,17.3,0,0,0,75.11,13.73Zm.1-5.38a7.33,7.33,0,0,0,.52-2.15,15,15,0,0,0,.11-1.77,7.89,7.89,0,0,0-.24-2.14c-.16-.55-.46-.83-.93-.83a.42.42,0,0,0-.4.33,4.42,4.42,0,0,0-.19,1l-.77,6.73a5.23,5.23,0,0,0,1.27-.36A1.77,1.77,0,0,0,75.21,8.35Zm9.61,6.24a9.73,9.73,0,0,1-1.66,3.94,2.93,2.93,0,0,1-2.25,1,.64.64,0,0,1-.51-.21,1,1,0,0,1-.19-.71c0-.19,0-.35,0-.49s0-.29,0-.44L81.91,3.41a4.53,4.53,0,0,1,.38-1.66,1.47,1.47,0,0,1,.88-.49V.48h-4v.78a1.39,1.39,0,0,1,.75.32,1.59,1.59,0,0,1,.18.95c0,.2,0,.43,0,.68s0,.58-.1,1L78.42,17.62a5.28,5.28,0,0,1-.35,1.63,1.12,1.12,0,0,1-.67.53v.77h7l.73-5.83ZM90.09,1.26V.48H86.34v.78a1.38,1.38,0,0,1,.74.32,1.59,1.59,0,0,1,.18.95q0,.3,0,.69c0,.25-.06.57-.11.95L85.58,17.64a5.41,5.41,0,0,1-.36,1.61,1.07,1.07,0,0,1-.66.53v.77h3.75v-.77a1.47,1.47,0,0,1-.75-.32,1.78,1.78,0,0,1-.17-1c0-.08,0-.18,0-.28s0-.2,0-.3l.1-1L89.07,3.41a5.68,5.68,0,0,1,.35-1.62A1.1,1.1,0,0,1,90.09,1.26Zm7-.62a.33.33,0,0,1-.3.24,3.1,3.1,0,0,1-.82-.44A2.5,2.5,0,0,0,94.59,0Q92.51,0,91,4a26.57,26.57,0,0,0-1.51,9.39,13.57,13.57,0,0,0,1,5.67c.66,1.41,1.49,2.11,2.5,2.11A2.46,2.46,0,0,0,94.79,20a9.66,9.66,0,0,0,1.55-3.4L96,16a12.68,12.68,0,0,1-.89,2.13c-.54,1-1.12,1.45-1.74,1.45-.47,0-.91-.39-1.31-1.15a10.33,10.33,0,0,1-.6-4.27,36.59,36.59,0,0,1,1-8.43c.72-3.08,1.57-4.63,2.54-4.63.48,0,.88.39,1.19,1.16a10,10,0,0,1,.47,3.53V6.1c0,.07,0,.32,0,.74L97,7l.64-7h-.38A4.28,4.28,0,0,1,97,.64Zm17.57,14,.31.13-.75,5.83h-9.45l-1.35-9.92H103l-.74,6.25-.11,1c0,.08,0,.16,0,.26v.28a1.94,1.94,0,0,0,.16,1,1.39,1.39,0,0,0,.75.32v.77H99.3v-.77a1.12,1.12,0,0,0,.67-.53,5.18,5.18,0,0,0,.35-1.61l1.55-13.46c0-.28.06-.52.08-.72,0-.42,0-.75,0-1a1.48,1.48,0,0,0-.17-.91,1.39,1.39,0,0,0-.74-.31V.48h3.46a2.64,2.64,0,0,1,1.8.55c.78.66,1.17,1.93,1.17,3.8a11,11,0,0,1-.19,2,6.57,6.57,0,0,1-.66,1.93,3.61,3.61,0,0,1-.76,1,6.48,6.48,0,0,1-.81.52c0,.31.07.51.08.58l1,6.78a5.63,5.63,0,0,0,.42,1.72.84.84,0,0,0,.65.4,1.06,1.06,0,0,0,.64-.51,5.41,5.41,0,0,0,.36-1.61l1.54-13.47c0-.34.07-.65.1-.92s0-.52,0-.72a1.61,1.61,0,0,0-.17-.95,1.31,1.31,0,0,0-.74-.32V.48h6.78l-.53,5.7-.34-.13a11.8,11.8,0,0,0-.3-3.09,1.92,1.92,0,0,0-2-1.54c-.33,0-.55.1-.64.29a3.46,3.46,0,0,0-.24,1.07L111,9.45a2.6,2.6,0,0,0,1.72-.51,7.79,7.79,0,0,0,.86-2.66l.35.11-.93,8.2-.35-.15c0-.28,0-.53,0-.74v-.52a4.42,4.42,0,0,0-.37-2.18,1.56,1.56,0,0,0-1.44-.58l-.83,7.32c0,.18,0,.35,0,.51s0,.3,0,.4a1.45,1.45,0,0,0,.13.67c.09.18.28.26.57.26a2.72,2.72,0,0,0,2-.76A8.33,8.33,0,0,0,114.61,14.59ZM105,8.31a9.81,9.81,0,0,0,.41-1.65,13.72,13.72,0,0,0,.18-2.29,6.87,6.87,0,0,0-.26-2.09c-.17-.55-.47-.83-.89-.83a.4.4,0,0,0-.38.27,5.05,5.05,0,0,0-.2,1.06l-.76,6.87a2.39,2.39,0,0,0,1-.2A2,2,0,0,0,105,8.31Zm17.51,6.28a9.86,9.86,0,0,1-1.67,3.94,2.93,2.93,0,0,1-2.25,1,.64.64,0,0,1-.51-.21,1.1,1.1,0,0,1-.19-.71c0-.19,0-.35,0-.49s0-.29,0-.44l1.64-14.32A4.53,4.53,0,0,1,120,1.75a1.47,1.47,0,0,1,.89-.49V.48h-4v.78a1.39,1.39,0,0,1,.75.32,1.59,1.59,0,0,1,.18.95c0,.2,0,.43,0,.68s0,.58-.1,1l-1.55,13.45a5.28,5.28,0,0,1-.35,1.63,1.1,1.1,0,0,1-.66.53v.77h7l.74-5.83Zm7.09,0a8.33,8.33,0,0,1-2,4.23,2.73,2.73,0,0,1-2,.76c-.29,0-.48-.08-.57-.26a1.45,1.45,0,0,1-.13-.67c0-.1,0-.23,0-.4s0-.33,0-.51l.83-7.32a1.58,1.58,0,0,1,1.44.58,4.42,4.42,0,0,1,.37,2.18c0,.14,0,.31,0,.52s0,.46,0,.74l.34.15.94-8.2-.35-.11a7.71,7.71,0,0,1-.87,2.66,2.56,2.56,0,0,1-1.71.51l.75-6.67A3.46,3.46,0,0,1,127,1.71c.09-.19.31-.29.64-.29a1.92,1.92,0,0,1,2,1.54,11.8,11.8,0,0,1,.3,3.09l.33.13.54-5.7H124v.78a1.31,1.31,0,0,1,.75.32,1.7,1.7,0,0,1,.17.95,6.75,6.75,0,0,1,0,.72c0,.27-.05.58-.09.92l-1.55,13.47a5.18,5.18,0,0,1-.35,1.61,1.12,1.12,0,0,1-.67.53v.77h7l.75-5.83Zm8.45,5.24v.72h-3.83v-.72a1.11,1.11,0,0,0,.77-.41,2.52,2.52,0,0,0,.23-1.31c0-.23,0-.77-.07-1.62,0-.17-.05-.9-.13-2.18h-2.71l-.74,3c0,.2-.09.43-.13.67a4.44,4.44,0,0,0-.06.71,1.27,1.27,0,0,0,.16.79,1.35,1.35,0,0,0,.65.3v.72h-2.47v-.72a1.66,1.66,0,0,0,.52-.54,7.25,7.25,0,0,0,.55-1.58L135.49.07h.33L137,17.23a8.87,8.87,0,0,0,.3,2.11A.9.9,0,0,0,138.08,19.83ZM135,13.12l-.47-7.3-1.86,7.3Zm7.88-4-1.09-2.13a6.38,6.38,0,0,1-.39-1,6.65,6.65,0,0,1-.23-1.82,6.93,6.93,0,0,1,.23-1.8q.33-1.26,1-1.26c.57,0,1,.53,1.3,1.57a10.87,10.87,0,0,1,.36,2.39l0,1,.33.1.51-6h-.38a2.26,2.26,0,0,1-.2.54.38.38,0,0,1-.34.22.54.54,0,0,1-.19-.05l-.22-.13-.32-.25a2.36,2.36,0,0,0-.41-.25,1.82,1.82,0,0,0-.7-.16c-.81,0-1.44.57-1.9,1.7a11.21,11.21,0,0,0-.68,4.12,12.36,12.36,0,0,0,1.55,5.58,10.74,10.74,0,0,1,1.54,4.78,7.8,7.8,0,0,1-.41,2.67c-.28.76-.67,1.15-1.17,1.15a1.07,1.07,0,0,1-.79-.4,3.78,3.78,0,0,1-.64-1.18,7.79,7.79,0,0,1-.42-1.95c-.05-.44-.08-1.14-.11-2.1l-.36-.06-.46,6.73h.38a6.32,6.32,0,0,1,.2-.83.31.31,0,0,1,.3-.24.21.21,0,0,1,.14,0,1.06,1.06,0,0,1,.22.18l.32.27a3,3,0,0,0,.69.44,1.72,1.72,0,0,0,.69.15c.92,0,1.64-.63,2.16-1.91a11.22,11.22,0,0,0,.78-4.28,12.2,12.2,0,0,0-.4-3.29A14.21,14.21,0,0,0,142.85,9.07Zm6.36-7.36c.09-.19.31-.29.64-.29a1.92,1.92,0,0,1,2,1.54,11.8,11.8,0,0,1,.3,3.09l.33.13L153,.48h-6.79v.78a1.31,1.31,0,0,1,.75.32,1.7,1.7,0,0,1,.17.95,6.75,6.75,0,0,1,0,.72c0,.27-.05.58-.09.92l-1.55,13.47a5.18,5.18,0,0,1-.35,1.61,1.12,1.12,0,0,1-.67.53v.77h7l.75-5.83-.31-.13a8.33,8.33,0,0,1-2,4.23,2.73,2.73,0,0,1-2,.76c-.29,0-.48-.08-.57-.26a1.45,1.45,0,0,1-.13-.67c0-.1,0-.23,0-.4s0-.33.05-.51l.83-7.32a1.58,1.58,0,0,1,1.44.58,4.42,4.42,0,0,1,.37,2.18c0,.14,0,.31,0,.52s0,.46,0,.74l.34.15.94-8.2-.35-.11a7.71,7.71,0,0,1-.87,2.66,2.56,2.56,0,0,1-1.71.51L149,2.78A3.46,3.46,0,0,1,149.21,1.71Z",opacity:1,strokeColor:"",fillColor:"#192760",width:152.969,height:21.152,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"ForComment":case"For Comment":t={iconName:"For Comment",pathdata:"M14.1.48l-.89,5.6L12.65,6a7.14,7.14,0,0,0-.48-3c-.54-1-1.6-1.54-3.19-1.54a1.37,1.37,0,0,0-1,.26,2.06,2.06,0,0,0-.42,1.08L6.35,9.28a6,6,0,0,0,2.73-.52,5.92,5.92,0,0,0,1.41-2.59l.58.1L9.52,14.34,9,14.2c0-.29,0-.54.05-.75s0-.38,0-.49a3.15,3.15,0,0,0-.55-2.09,3.07,3.07,0,0,0-2.32-.64L4.77,17.44c0,.13,0,.24-.06.35s0,.21,0,.31a1.23,1.23,0,0,0,.53,1.17,2,2,0,0,0,1,.19v.76H0v-.76a1.91,1.91,0,0,0,1.12-.54,3.56,3.56,0,0,0,.58-1.58L4.27,4.11c.05-.27.09-.51.12-.71a7.42,7.42,0,0,0,.1-1c0-.48-.1-.77-.29-.9A3.54,3.54,0,0,0,3,1.24V.48ZM28,7.11a17.42,17.42,0,0,1-2.57,9.07q-2.75,4.61-6.3,4.6a4.33,4.33,0,0,1-3.65-1.92,8.53,8.53,0,0,1-1.41-5.14,17.56,17.56,0,0,1,2.62-9.19Q19.43,0,22.82,0a4.48,4.48,0,0,1,3.72,1.92A8.46,8.46,0,0,1,28,7.11ZM25,4.6a5.72,5.72,0,0,0-.52-2.55,1.72,1.72,0,0,0-1.63-1c-1.74,0-3.2,2.17-4.39,6.53a32.66,32.66,0,0,0-1.35,8.26,8.24,8.24,0,0,0,.26,2.2c.33,1.18.94,1.77,1.82,1.77a2.88,2.88,0,0,0,2.25-1.29,16.48,16.48,0,0,0,2.1-4.93,37.09,37.09,0,0,0,1.07-4.83A28.26,28.26,0,0,0,25,4.6Zm15.83.16a6.49,6.49,0,0,1-.33,2,5.12,5.12,0,0,1-1.09,1.9,4.65,4.65,0,0,1-1.27,1,11.5,11.5,0,0,1-1.35.52c.07.3.12.49.14.57l1.62,6.66a3.79,3.79,0,0,0,.7,1.7,1.75,1.75,0,0,0,1.14.41v.76H36.13l-2.26-9.76h-.59L32,16.6l-.17,1,0,.25a2.62,2.62,0,0,0,0,.28q0,.8.27,1a3,3,0,0,0,1.25.32v.76H27.11v-.76a1.93,1.93,0,0,0,1.11-.52,3.54,3.54,0,0,0,.59-1.59L31.38,4.11c.06-.27.1-.51.13-.71a6,6,0,0,0,.1-1c0-.47-.1-.77-.29-.9a3.54,3.54,0,0,0-1.24-.3V.48h5.76a6.77,6.77,0,0,1,3,.53Q40.79,2,40.79,4.76Zm-3.16-.47a4.35,4.35,0,0,0-.44-2,1.54,1.54,0,0,0-1.48-.81.75.75,0,0,0-.63.26,2.78,2.78,0,0,0-.33,1.05L33.48,9.5a6.85,6.85,0,0,0,1.67-.2,2.55,2.55,0,0,0,1.49-1.13,6.37,6.37,0,0,0,.67-1.62A7.81,7.81,0,0,0,37.63,4.29ZM58.49,0a2.61,2.61,0,0,1-.32.63.55.55,0,0,1-.49.24A7,7,0,0,1,56.31.43,6.15,6.15,0,0,0,54.1,0q-3.47,0-6,3.92a16.73,16.73,0,0,0-2.51,9.24,8.73,8.73,0,0,0,1.64,5.57,5,5,0,0,0,7.19,1A8.89,8.89,0,0,0,57,16.37l-.64-.65a10.47,10.47,0,0,1-1.47,2.09A4,4,0,0,1,52,19.24a2.89,2.89,0,0,1-2.17-1.13c-.67-.75-1-2.15-1-4.2a22.2,22.2,0,0,1,1.62-8.29q1.8-4.54,4.23-4.55a2.33,2.33,0,0,1,2,1.14,6.16,6.16,0,0,1,.78,3.47c0,.14,0,.25,0,.32s0,.32,0,.73l.66.17L59.12,0ZM72.71,7.11a17.33,17.33,0,0,1-2.57,9.07c-1.82,3.07-3.93,4.6-6.3,4.6a4.34,4.34,0,0,1-3.65-1.92,8.53,8.53,0,0,1-1.4-5.14A17.55,17.55,0,0,1,61.4,4.53Q64.15,0,67.54,0a4.48,4.48,0,0,1,3.72,1.92A8.39,8.39,0,0,1,72.71,7.11Zm-3-2.51a5.72,5.72,0,0,0-.52-2.55,1.72,1.72,0,0,0-1.63-1c-1.74,0-3.2,2.17-4.39,6.53a32.66,32.66,0,0,0-1.35,8.26,8.24,8.24,0,0,0,.26,2.2c.33,1.18.94,1.77,1.82,1.77a2.85,2.85,0,0,0,2.25-1.29,16,16,0,0,0,2.1-4.93,34.08,34.08,0,0,0,1.07-4.83A28.26,28.26,0,0,0,69.68,4.6Zm17.5,13.62a4.63,4.63,0,0,1,.07-.75c0-.3.09-.59.15-.88L90,3.31a3.32,3.32,0,0,1,.7-1.67,2,2,0,0,1,1-.4V.48H87.23l-6.4,13.91L79.63.48H74.84v.76a3.29,3.29,0,0,1,1.2.21c.21.11.31.37.31.78a4.35,4.35,0,0,1-.07.75c0,.28-.11.61-.18,1L74,15a19.63,19.63,0,0,1-1,3.65,1.54,1.54,0,0,1-1.17.86v.76H76.2v-.76a2.31,2.31,0,0,1-1.09-.29,1.6,1.6,0,0,1-.58-1.43,8.8,8.8,0,0,1,.14-1.42c0-.37.14-.82.24-1.37L77,4.24l1.41,16.37H79L86.89,3.76,84.25,17.34A2.94,2.94,0,0,1,83.61,19a2.87,2.87,0,0,1-1.44.49v.76h6.54v-.76a3.39,3.39,0,0,1-1.23-.31Q87.18,19,87.18,18.22Zm17.73,0a4.63,4.63,0,0,1,.07-.75c0-.3.1-.59.16-.88l2.58-13.28a3.24,3.24,0,0,1,.69-1.67,2,2,0,0,1,1-.4V.48H105l-6.4,13.91L97.36.48H92.57v.76a3.29,3.29,0,0,1,1.2.21c.21.11.32.37.32.78A5.65,5.65,0,0,1,94,3c0,.28-.11.61-.19,1L91.69,15a19.63,19.63,0,0,1-1,3.65,1.54,1.54,0,0,1-1.17.86v.76h4.38v-.76a2.33,2.33,0,0,1-1.1-.29,1.6,1.6,0,0,1-.58-1.43,10.12,10.12,0,0,1,.14-1.42c.06-.37.14-.82.25-1.37L94.76,4.24l1.41,16.37h.59l7.86-16.85L102,17.34a3.1,3.1,0,0,1-.64,1.63,3,3,0,0,1-1.45.49v.76h6.55v-.76a3.46,3.46,0,0,1-1.24-.31Q104.91,19,104.91,18.22Zm11.52.3a6.56,6.56,0,0,1-3.25.75,1.27,1.27,0,0,1-.94-.26,1,1,0,0,1-.22-.66,3,3,0,0,1,0-.39,4.88,4.88,0,0,1,.08-.51l1.38-7.2a3.65,3.65,0,0,1,2.4.57,2.92,2.92,0,0,1,.62,2.15c0,.14,0,.31,0,.51s0,.45-.06.73l.58.15,1.55-8.08-.58-.1a5.92,5.92,0,0,1-1.44,2.61,6.32,6.32,0,0,1-2.85.51L115,2.74a2.44,2.44,0,0,1,.39-1.06,1.43,1.43,0,0,1,1.07-.28c1.63,0,2.71.5,3.25,1.51a7.37,7.37,0,0,1,.49,3l.56.13.89-5.6H110.31v.76a3.28,3.28,0,0,1,1.25.31c.19.13.28.44.28.94a4.83,4.83,0,0,1-.06.7c0,.28-.09.58-.16.92l-2.57,13.24a3.54,3.54,0,0,1-.59,1.59,1.93,1.93,0,0,1-1.11.52v.76H119l1.24-5.74-.51-.12A7.7,7.7,0,0,1,116.43,18.52ZM136.6,1.24V.48h-4.3v.76a2.5,2.5,0,0,1,1.14.33A1.8,1.8,0,0,1,134,3.05a10.58,10.58,0,0,1-.14,1.34c-.05.41-.13.87-.22,1.39L132,14.12,127.41.48h-4.22v.76a2.53,2.53,0,0,1,1,.24,1.82,1.82,0,0,1,.64,1.06l.1.3L122.55,15a19.54,19.54,0,0,1-1,3.61,1.59,1.59,0,0,1-1.18.9v.76h4.37v-.76a2.5,2.5,0,0,1-1.12-.32,1.67,1.67,0,0,1-.55-1.44,5.32,5.32,0,0,1,0-.79c0-.43.17-1.09.34-2l2.08-10.57L131,20.71h.52l2.91-15a24.72,24.72,0,0,1,.85-3.42,1.42,1.42,0,0,1,1-1Zm.48-.76-.81,5,.54.2a8.1,8.1,0,0,1,1.85-3.16,3.63,3.63,0,0,1,2.66-1.06l-3.08,15.85a3,3,0,0,1-.86,1.85,2.42,2.42,0,0,1-1.32.26v.76H143v-.76a4,4,0,0,1-1.41-.3c-.23-.13-.34-.45-.34-.95a2.26,2.26,0,0,1,0-.26c0-.09,0-.2,0-.33l.17-1,2.92-15.1a2.64,2.64,0,0,1,1.76.63c.74.7,1.12,2,1.15,3.94l.55.07L148.6.48Z",opacity:1,strokeColor:"",fillColor:"#192760",width:148.603,height:20.812,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Void":t={iconName:"Void",pathdata:"M27.88,1.72a6.53,6.53,0,0,0-1.81,1.42L9,21.12H7.54L4.09,5.83A11.83,11.83,0,0,0,2.82,2Q2.3,1.4,0,1.26V.48H13.54v.78a11,11,0,0,0-2.37.18q-1.11.27-1.11,1.05a1.43,1.43,0,0,0,0,.29c0,.09,0,.19,0,.28l2.35,12,8.56-9a25.11,25.11,0,0,0,1.83-2.14,3.15,3.15,0,0,0,.82-1.68c0-.41-.28-.69-.84-.82a12.57,12.57,0,0,0-2.08-.15V.48h8.7v.78A7.11,7.11,0,0,0,27.88,1.72ZM57.37,7.23q0,4.85-5.56,9.22a21.41,21.41,0,0,1-13.62,4.67,14.41,14.41,0,0,1-7.89-1.95,6,6,0,0,1-3-5.23q0-4.92,5.66-9.34A21.12,21.12,0,0,1,46.2,0a15,15,0,0,1,8,2A6,6,0,0,1,57.37,7.23ZM50.82,4.68a3.46,3.46,0,0,0-1.13-2.59A4.93,4.93,0,0,0,46.17,1q-5.64,0-9.49,6.64c-1.94,3.36-2.92,6.16-2.92,8.4a4.27,4.27,0,0,0,.56,2.23q1.08,1.8,3.93,1.8a9.24,9.24,0,0,0,4.87-1.31,15.24,15.24,0,0,0,4.54-5A21.81,21.81,0,0,0,50,8.85,14.23,14.23,0,0,0,50.82,4.68ZM66,18.49a1.49,1.49,0,0,1,0-.28c0-.1,0-.2.08-.3l.35-1L72,3.41a2.94,2.94,0,0,1,1.25-1.62,6.79,6.79,0,0,1,2.4-.53V.48H62.19v.78a13.27,13.27,0,0,1,2.67.32.88.88,0,0,1,.64.95,2.38,2.38,0,0,1-.12.69c-.08.25-.2.57-.36.95L59.45,17.64a3,3,0,0,1-1.28,1.61,6.84,6.84,0,0,1-2.39.53v.77H69.27v-.77a13.72,13.72,0,0,1-2.67-.32A.9.9,0,0,1,66,18.49Zm38.25-9.67q0,4.59-5.15,8-5.73,3.77-15,3.76h-13v-.77a7.4,7.4,0,0,0,2.1-.41,3.08,3.08,0,0,0,1.57-1.75L80.28,4.17c.16-.38.28-.7.37-1a2.27,2.27,0,0,0,.12-.68.89.89,0,0,0-.64-.95,13.41,13.41,0,0,0-2.68-.32V.48H90.6q6.68,0,10.15,2.27A6.92,6.92,0,0,1,104.23,8.82ZM97.58,7a5.28,5.28,0,0,0-1.13-3.54q-1.77-2-6.14-2a4.24,4.24,0,0,0-2,.32,1.77,1.77,0,0,0-.74.84L81.35,17.73a1.72,1.72,0,0,0-.12.39,1.89,1.89,0,0,0,0,.31.89.89,0,0,0,.54.85,5.1,5.1,0,0,0,2,.26q8.07,0,11.68-5.5A12.61,12.61,0,0,0,97.58,7Z",opacity:1,strokeColor:"",fillColor:"#8a251a",width:104.233,height:21.123,stampFillColor:"#f6dedd",stampStrokeColor:""};break;case"PreliminaryResults":case"Preliminary Results":t={iconName:"Preliminary Results",pathdata:"M9.23,5.08q0-3-1.32-4.08A2.6,2.6,0,0,0,6.17.41H2v.78a1.5,1.5,0,0,1,.76.23,1.39,1.39,0,0,1,.28,1c0,.19,0,.43,0,.73s-.07.61-.1.91L1.17,17.56a4.76,4.76,0,0,1-.41,1.62A1.18,1.18,0,0,1,0,19.7v.78H4.25V19.7a1.77,1.77,0,0,1-.86-.31,1.5,1.5,0,0,1-.2-1c0-.09,0-.19,0-.3a1.36,1.36,0,0,1,0-.29l.12-1,.78-6L5,11h.41a3.21,3.21,0,0,0,2.78-1.6A7.57,7.57,0,0,0,9.23,5.08ZM7,6.32a10,10,0,0,1-.42,2,3,3,0,0,1-.68,1.21,1.63,1.63,0,0,1-1.13.36H4.53l-.27-.06,1-7.15a4.75,4.75,0,0,1,.22-1,.45.45,0,0,1,.46-.29,1,1,0,0,1,1,.8,6.22,6.22,0,0,1,.29,2.06A18,18,0,0,1,7,6.32ZM23.4,18.75a3.35,3.35,0,0,1-2.23.76.68.68,0,0,1-.64-.26,1.27,1.27,0,0,1-.16-.68c0-.09,0-.23,0-.39s0-.34.05-.51l.95-7.33a1.92,1.92,0,0,1,1.65.59,4,4,0,0,1,.42,2.18c0,.14,0,.31,0,.52s0,.46,0,.74l.4.15,1.07-8.21-.4-.1a7,7,0,0,1-1,2.65,3.15,3.15,0,0,1-2,.52l.85-6.67a3,3,0,0,1,.28-1.08c.11-.19.35-.28.73-.28a2.16,2.16,0,0,1,2.23,1.54A10.27,10.27,0,0,1,26,6l.39.13L27,.41H19.2v.78a1.67,1.67,0,0,1,.86.31,1.52,1.52,0,0,1,.19,1,6.58,6.58,0,0,1,0,.71c0,.28-.07.59-.11.93L18.33,17.56a4.59,4.59,0,0,1-.4,1.62,1.22,1.22,0,0,1-.74.51,1,1,0,0,1-.73-.4A5.08,5.08,0,0,1,16,17.56l-1.1-6.77c0-.08,0-.27-.1-.58a5.14,5.14,0,0,0,.92-.53,3.23,3.23,0,0,0,.87-1,6,6,0,0,0,.76-1.93,9.63,9.63,0,0,0,.22-2c0-1.87-.44-3.14-1.34-3.81a3.4,3.4,0,0,0-2-.54h-4v.78a1.78,1.78,0,0,1,.85.3,1.4,1.4,0,0,1,.19.91c0,.24,0,.56-.06,1,0,.21-.05.45-.09.73L9.31,17.56a4.53,4.53,0,0,1-.41,1.62,1.15,1.15,0,0,1-.75.52v.78h4.28V19.7a1.62,1.62,0,0,1-.86-.32,1.72,1.72,0,0,1-.18-1v-.29c0-.09,0-.18,0-.25l.12-1,.86-6.24h.4l1.55,9.92h10.8L26,14.65l-.35-.13A7.9,7.9,0,0,1,23.4,18.75ZM13.67,9.38a3.35,3.35,0,0,1-1.15.2l.87-6.87a4,4,0,0,1,.23-1.06.45.45,0,0,1,.43-.27,1.05,1.05,0,0,1,1,.83,6.14,6.14,0,0,1,.3,2.08,11.74,11.74,0,0,1-.21,2.29,9,9,0,0,1-.47,1.65A2,2,0,0,1,13.67,9.38ZM35,14.65l-.84,5.83h-8V19.7a1.24,1.24,0,0,0,.76-.52,4.73,4.73,0,0,0,.4-1.63L29.15,4.1q.08-.57.12-1c0-.26,0-.48,0-.68a1.42,1.42,0,0,0-.21-1,1.67,1.67,0,0,0-.85-.31V.41h4.56v.78a1.67,1.67,0,0,0-1,.49,4.17,4.17,0,0,0-.44,1.66L29.49,17.65c0,.16,0,.31,0,.45a3.47,3.47,0,0,0,0,.48,1,1,0,0,0,.21.72.8.8,0,0,0,.59.21,3.54,3.54,0,0,0,2.56-1.05,9.24,9.24,0,0,0,1.91-3.94Zm2.79,4.73a1.61,1.61,0,0,0,.85.32v.78H34.39V19.7a1.18,1.18,0,0,0,.76-.52,4.76,4.76,0,0,0,.41-1.62L37.33,4.1c.05-.38.09-.7.11-1a5.83,5.83,0,0,0,0-.68,1.5,1.5,0,0,0-.2-1,1.71,1.71,0,0,0-.85-.31V.41h4.29v.78a1.22,1.22,0,0,0-.77.52,4.9,4.9,0,0,0-.39,1.63L37.78,16.8l-.11,1,0,.29c0,.11,0,.2,0,.29A1.52,1.52,0,0,0,37.83,19.38Zm12.2,0a1.81,1.81,0,0,0,.85.31v.78h-4.5V19.7a1.64,1.64,0,0,0,1-.49,4,4,0,0,0,.44-1.66l1.81-13.8-5.4,17.12h-.4l-1-16.64L41.39,15.12c-.07.56-.13,1-.17,1.39-.06.61-.09,1.09-.09,1.45a2,2,0,0,0,.4,1.45,1.19,1.19,0,0,0,.75.29v.78h-3V19.7a1.21,1.21,0,0,0,.81-.87,29.47,29.47,0,0,0,.66-3.71L42.21,4c0-.38.09-.71.12-1a5.41,5.41,0,0,0,.05-.75c0-.42-.07-.69-.21-.8a1.69,1.69,0,0,0-.83-.21V.41h3.29l.83,14.14L49.85.41h3.07v.78a1.12,1.12,0,0,0-.69.41,4.08,4.08,0,0,0-.48,1.69L50,16.79c0,.29-.08.59-.11.89s0,.56,0,.76A1.41,1.41,0,0,0,50,19.39Zm5,0a1.61,1.61,0,0,0,.85.32v.78H51.56V19.7a1.18,1.18,0,0,0,.76-.52,4.76,4.76,0,0,0,.41-1.62L54.5,4.1c0-.38.09-.7.11-1a5.83,5.83,0,0,0,0-.68,1.5,1.5,0,0,0-.2-1,1.71,1.71,0,0,0-.85-.31V.41h4.29v.78a1.22,1.22,0,0,0-.77.52,4.9,4.9,0,0,0-.39,1.63L55,16.8l-.11,1,0,.29c0,.11,0,.2,0,.29A1.52,1.52,0,0,0,55,19.38ZM66.13,5.75,64.13,21h-.36L60,4.38,58.6,15.12c-.12.89-.2,1.55-.23,2a7.32,7.32,0,0,0,0,.81,2.17,2.17,0,0,0,.38,1.46,1.32,1.32,0,0,0,.77.32v.78h-3V19.7a1.26,1.26,0,0,0,.81-.91,29,29,0,0,0,.65-3.67L59.56,2.81,59.5,2.5a2,2,0,0,0-.45-1.06,1.21,1.21,0,0,0-.67-.25V.41h2.9L64.4,14.28,65.52,5.8c.07-.53.12-1,.16-1.41.06-.62.09-1.08.09-1.36a2.45,2.45,0,0,0-.34-1.51,1.39,1.39,0,0,0-.79-.33V.41h3v.78l-.21.06c-.29.08-.52.43-.68,1A34.22,34.22,0,0,0,66.13,5.75ZM83.27,1A3.41,3.41,0,0,0,81.21.41h-4v.78a1.74,1.74,0,0,1,.85.3c.14.13.2.43.2.91,0,.24,0,.56-.06,1,0,.21-.06.45-.09.73L76.38,17.56A4.53,4.53,0,0,1,76,19.18a1.18,1.18,0,0,1-.76.52v0a1,1,0,0,1-.67-.45,8.11,8.11,0,0,1-.34-2.12L72.83,0h-.38L67.11,17.64a6.42,6.42,0,0,1-.63,1.58,1.84,1.84,0,0,1-.59.54v.72h2.83v-.72a1.68,1.68,0,0,1-.75-.31,1.16,1.16,0,0,1-.18-.79,3.46,3.46,0,0,1,.07-.7,5.16,5.16,0,0,1,.15-.67l.84-3H72c.08,1.28.13,2,.13,2.18.06.85.08,1.39.08,1.61a2.26,2.26,0,0,1-.25,1.31,1.43,1.43,0,0,1-.88.42v.72H79.5V19.7a1.58,1.58,0,0,1-.86-.32,1.7,1.7,0,0,1-.19-1c0-.1,0-.2,0-.29a1.81,1.81,0,0,1,0-.25l.12-1,.85-6.24h.41l1.55,9.92h2.9V19.7a1,1,0,0,1-.79-.41A5.15,5.15,0,0,1,83,17.56l-1.11-6.77c0-.08,0-.27-.09-.58a5.53,5.53,0,0,0,.92-.53,3.52,3.52,0,0,0,.87-1,6.16,6.16,0,0,0,.75-1.93,9.67,9.67,0,0,0,.23-2C84.61,2.89,84.16,1.62,83.27,1ZM69.19,13.05l2.13-7.3.53,7.3Zm13-6.47a8.39,8.39,0,0,1-.46,1.65,2,2,0,0,1-1,1.15,3.29,3.29,0,0,1-1.14.2l.87-6.87a3.61,3.61,0,0,1,.23-1.06.45.45,0,0,1,.43-.27,1.05,1.05,0,0,1,1,.83,6.14,6.14,0,0,1,.3,2.08A11,11,0,0,1,82.22,6.58ZM90.48.41h3v.78a1.07,1.07,0,0,0-.55.41,6.13,6.13,0,0,0-.77,1.62l-2.72,8-.72,5.55c0,.22-.07.51-.1.86a7.29,7.29,0,0,0-.06.73,1.46,1.46,0,0,0,.29,1.07,1.61,1.61,0,0,0,.83.25v.78H85V19.7a1.56,1.56,0,0,0,.93-.39,3.7,3.7,0,0,0,.53-1.76l.85-6.45-1.26-8a6.07,6.07,0,0,0-.36-1.47.81.81,0,0,0-.7-.4V.41h4v.78a1.32,1.32,0,0,0-.76.23c-.15.12-.23.4-.23.84a4.46,4.46,0,0,0,0,.48c0,.19,0,.39.07.6l1,6.54,1.88-5.55c.1-.29.18-.55.24-.79a4.68,4.68,0,0,0,.14-1.11,1.35,1.35,0,0,0-.31-1,1.14,1.14,0,0,0-.66-.2Zm18.61,1.22c.1-.19.35-.28.73-.28a2.16,2.16,0,0,1,2.23,1.54A10.27,10.27,0,0,1,112.39,6l.38.13.62-5.7h-7.76v.78a1.67,1.67,0,0,1,.86.31,1.59,1.59,0,0,1,.19,1,6.58,6.58,0,0,1,0,.71c0,.28-.07.59-.11.93l-1.77,13.46a4.53,4.53,0,0,1-.41,1.62,1.17,1.17,0,0,1-.73.51,1,1,0,0,1-.73-.4,5.08,5.08,0,0,1-.49-1.73l-1.1-6.77c0-.08,0-.27-.1-.58a5.14,5.14,0,0,0,.92-.53,3.4,3.4,0,0,0,.88-1,6.16,6.16,0,0,0,.75-1.93,9.63,9.63,0,0,0,.22-2c0-1.87-.44-3.14-1.34-3.81a3.38,3.38,0,0,0-2-.54h-4v.78a1.78,1.78,0,0,1,.85.3,1.4,1.4,0,0,1,.19.91c0,.24,0,.56-.06,1,0,.21,0,.45-.09.73L95.74,17.56a4.53,4.53,0,0,1-.41,1.62,1.15,1.15,0,0,1-.75.52v.78h4.28V19.7a1.62,1.62,0,0,1-.86-.32,1.72,1.72,0,0,1-.18-1v-.29c0-.09,0-.18,0-.25l.12-1,.86-6.24h.4l1.55,9.92h10.8l.85-5.83-.35-.13a7.9,7.9,0,0,1-2.24,4.23,3.35,3.35,0,0,1-2.23.76.71.71,0,0,1-.65-.26,1.37,1.37,0,0,1-.15-.68c0-.09,0-.23,0-.39s0-.34.05-.51l.95-7.33a1.92,1.92,0,0,1,1.65.59,4,4,0,0,1,.42,2.18c0,.14,0,.31,0,.52s0,.46,0,.74l.4.15,1.07-8.21-.41-.1a7,7,0,0,1-1,2.65,3.15,3.15,0,0,1-2,.52l.85-6.67A3,3,0,0,1,109.09,1.63Zm-9,7.75a3.35,3.35,0,0,1-1.15.2l.87-6.87a4,4,0,0,1,.23-1.06.45.45,0,0,1,.43-.27,1.05,1.05,0,0,1,1,.83,6.14,6.14,0,0,1,.3,2.08,11.74,11.74,0,0,1-.21,2.29,9,9,0,0,1-.47,1.65A2,2,0,0,1,100.1,9.38ZM120.18.07h.43l-.59,6-.37-.1-.05-1a10.11,10.11,0,0,0-.41-2.39c-.34-1-.83-1.57-1.48-1.57s-.95.42-1.21,1.26a6.17,6.17,0,0,0-.25,1.8,5.92,5.92,0,0,0,.26,1.82,5.23,5.23,0,0,0,.44,1L118.19,9a12.6,12.6,0,0,1,1.12,2.57,10.75,10.75,0,0,1,.47,3.29,10,10,0,0,1-.9,4.29,2.76,2.76,0,0,1-2.46,1.91,2.17,2.17,0,0,1-.79-.15,3.28,3.28,0,0,1-.79-.44l-.36-.28-.26-.18a.38.38,0,0,0-.16,0,.34.34,0,0,0-.34.23,5.5,5.5,0,0,0-.23.84h-.43l.52-6.73.41.06c0,1,.07,1.66.12,2.09a7.13,7.13,0,0,0,.49,1.95,3.52,3.52,0,0,0,.73,1.18,1.25,1.25,0,0,0,.9.41c.57,0,1-.39,1.34-1.15a7.13,7.13,0,0,0,.47-2.68,9.86,9.86,0,0,0-1.76-4.77,11.23,11.23,0,0,1-1.77-5.58,9.8,9.8,0,0,1,.78-4.12A2.41,2.41,0,0,1,117.46,0a2.06,2.06,0,0,1,.79.16,1.9,1.9,0,0,1,.47.25l.37.25a1.15,1.15,0,0,0,.25.12.47.47,0,0,0,.22,0A.44.44,0,0,0,120,.62,2.6,2.6,0,0,0,120.18.07Zm10,2a26.67,26.67,0,0,0-.66,3.7l-.9,6.85a32.12,32.12,0,0,1-1.16,5.7c-.68,1.83-1.67,2.74-3,2.74a2.7,2.7,0,0,1-2.28-1.36,6.67,6.67,0,0,1-.92-3.77,19.46,19.46,0,0,1,.11-2c0-.46.15-1.26.3-2.42l1-7.36c0-.33.08-.64.11-.93s0-.55,0-.77a1.38,1.38,0,0,0-.2-.91,1.74,1.74,0,0,0-.85-.3V.41h4.43v.78a1.39,1.39,0,0,0-.91.47,4.25,4.25,0,0,0-.44,1.68l-1.18,9c-.11.8-.19,1.46-.25,2q-.15,1.37-.15,2a4.41,4.41,0,0,0,.48,2.27,1.44,1.44,0,0,0,1.29.78c.91,0,1.62-.82,2.13-2.48a30.62,30.62,0,0,0,.91-4.85L129,5.76c.1-.91.14-1.3.13-1.19a14.64,14.64,0,0,0,.13-1.6,2.12,2.12,0,0,0-.38-1.46,1.35,1.35,0,0,0-.77-.32V.41H131v.78A1.18,1.18,0,0,0,130.23,2.06Zm8.41,12.59-.84,5.83h-8V19.7a1.24,1.24,0,0,0,.76-.52,4.73,4.73,0,0,0,.4-1.63L132.75,4.1q.08-.57.12-1c0-.26,0-.48,0-.68,0-.51-.06-.83-.2-1a1.67,1.67,0,0,0-.85-.31V.41h4.56v.78a1.67,1.67,0,0,0-1,.49A4.17,4.17,0,0,0,135,3.34l-1.87,14.31c0,.16,0,.31-.05.45s0,.3,0,.48a1,1,0,0,0,.21.72.8.8,0,0,0,.59.21,3.54,3.54,0,0,0,2.56-1.05,9.24,9.24,0,0,0,1.91-3.94Zm7.72-8.56a7.63,7.63,0,0,0-.79-4,1.53,1.53,0,0,0-1.21-.64l-2,15.35-.12,1a2.47,2.47,0,0,0,0,.34,2.35,2.35,0,0,0,0,.26c0,.52.08.84.23,1a2,2,0,0,0,1,.3v.78h-4.76V19.7a1.18,1.18,0,0,0,.9-.26,3.75,3.75,0,0,0,.6-1.88l2.11-16.11a2.17,2.17,0,0,0-1.83,1.08,9.57,9.57,0,0,0-1.27,3.21l-.37-.2.56-5.13h7.91l-.52,5.76Zm3.41-3.79a6.17,6.17,0,0,0-.25,1.8,5.63,5.63,0,0,0,.26,1.82,5.23,5.23,0,0,0,.44,1L151.46,9a13.19,13.19,0,0,1,1.13,2.57,11.08,11.08,0,0,1,.46,3.29,10,10,0,0,1-.9,4.29,2.76,2.76,0,0,1-2.46,1.91,2.21,2.21,0,0,1-.79-.15,3.28,3.28,0,0,1-.79-.44l-.36-.28-.26-.18a.38.38,0,0,0-.16,0,.34.34,0,0,0-.34.23,5.5,5.5,0,0,0-.23.84h-.43l.52-6.73.41.06c0,1,.07,1.66.12,2.09a7.13,7.13,0,0,0,.49,1.95,3.52,3.52,0,0,0,.73,1.18,1.25,1.25,0,0,0,.9.41c.57,0,1-.39,1.34-1.15a7.13,7.13,0,0,0,.47-2.68,9.86,9.86,0,0,0-1.76-4.77,11.23,11.23,0,0,1-1.77-5.58,9.8,9.8,0,0,1,.78-4.12A2.41,2.41,0,0,1,150.73,0a2.06,2.06,0,0,1,.79.16,1.9,1.9,0,0,1,.47.25l.37.25a1.34,1.34,0,0,0,.24.12.56.56,0,0,0,.23,0,.44.44,0,0,0,.39-.21,2.6,2.6,0,0,0,.23-.55h.43l-.59,6-.37-.1,0-1a10.11,10.11,0,0,0-.41-2.39c-.34-1-.83-1.57-1.48-1.57S150,1.46,149.77,2.3Z",opacity:1,strokeColor:"",fillColor:"#192760",width:153.879,height:21.051,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"InformationOnly":case"Information Only":t={iconName:"Information Only",pathdata:"M4,19.14a2,2,0,0,0,1,.32v.76H0v-.76a1.42,1.42,0,0,0,.87-.52,4,4,0,0,0,.47-1.59l2-13.24c.06-.38.1-.69.13-1a5.73,5.73,0,0,0,0-.67c0-.5-.08-.81-.24-.94a2.2,2.2,0,0,0-1-.31V.48H7.26v.76a1.48,1.48,0,0,0-.88.52,4.14,4.14,0,0,0-.45,1.6l-2,13.24-.13,1c0,.1,0,.19,0,.3a2.72,2.72,0,0,0,0,.28A1.32,1.32,0,0,0,4,19.14ZM18.17,1.3l.24-.06V.48H15v.76a1.66,1.66,0,0,1,.9.33,2.08,2.08,0,0,1,.4,1.48,12.85,12.85,0,0,1-.1,1.34c-.05.41-.11.87-.18,1.39l-1.29,8.34L11.15.48H7.83v.76a1.69,1.69,0,0,1,.77.24,1.9,1.9,0,0,1,.51,1.06l.07.3L7.33,15a24.86,24.86,0,0,1-.76,3.61,1.32,1.32,0,0,1-.92.9v.76H9.09v-.76a1.67,1.67,0,0,1-.88-.32,1.92,1.92,0,0,1-.44-1.44,7.09,7.09,0,0,1,0-.79c0-.43.13-1.09.27-2L9.72,4.38,14,20.71h.41l2.3-15a28.78,28.78,0,0,1,.67-3.42C17.57,1.72,17.83,1.38,18.17,1.3ZM19.33.48v.76a2.32,2.32,0,0,1,1,.3c.15.13.23.42.23.9,0,.23,0,.55-.07,1,0,.2-.06.44-.1.71l-2,13.23a4,4,0,0,1-.46,1.58,1.39,1.39,0,0,1-.88.54v.76h4.89v-.76a1.36,1.36,0,0,1-.78-.19,1.39,1.39,0,0,1-.41-1.17c0-.1,0-.21,0-.31s0-.22,0-.35l1.09-7.21a2.09,2.09,0,0,1,1.83.64A3.81,3.81,0,0,1,24.1,13c0,.11,0,.28,0,.49s0,.46,0,.75l.45.14,1.22-8.07-.46-.1a6.19,6.19,0,0,1-1.11,2.59A3.89,3.89,0,0,1,22,9.28l1-6.54a2.43,2.43,0,0,1,.33-1.08.93.93,0,0,1,.76-.26,2.45,2.45,0,0,1,2.52,1.54A9,9,0,0,1,27,6l.44.13.7-5.6ZM39.06,7.11a21,21,0,0,1-2,9.07q-2.16,4.61-5,4.6a3.28,3.28,0,0,1-2.88-1.92,10.29,10.29,0,0,1-1.11-5.14,21.08,21.08,0,0,1,2.07-9.19Q32.31,0,35,0a3.37,3.37,0,0,1,2.93,1.92A10.14,10.14,0,0,1,39.06,7.11ZM36.68,4.6a7,7,0,0,0-.42-2.55A1.37,1.37,0,0,0,35,1c-1.37,0-2.52,2.17-3.46,6.53a40.81,40.81,0,0,0-1.07,8.26,10,10,0,0,0,.21,2.2c.26,1.18.74,1.77,1.43,1.77s1.24-.43,1.78-1.29a18.75,18.75,0,0,0,1.65-4.93,43.28,43.28,0,0,0,.85-4.83A36.93,36.93,0,0,0,36.68,4.6ZM61,19.15a2.25,2.25,0,0,0,1,.31v.76H56.84v-.76A2,2,0,0,0,58,19a3.6,3.6,0,0,0,.5-1.63L60.56,3.76l-6.2,16.85H53.9L52.78,4.24,51.12,15c-.09.55-.15,1-.2,1.37a13,13,0,0,0-.11,1.42,1.8,1.8,0,0,0,.46,1.43,1.54,1.54,0,0,0,.86.29v.76H45.49l-1.78-9.76h-.47l-1,6.14-.13,1,0,.25c0,.09,0,.19,0,.28a1.47,1.47,0,0,0,.22,1,2,2,0,0,0,1,.32v.76H38.37v-.76a1.42,1.42,0,0,0,.88-.52,4.21,4.21,0,0,0,.46-1.59l2-13.24c0-.27.08-.51.11-.71a8.23,8.23,0,0,0,.07-1,1.23,1.23,0,0,0-.23-.9,2.32,2.32,0,0,0-1-.3V.48h4.54A4.34,4.34,0,0,1,47.62,1c1,.65,1.54,1.9,1.54,3.75a7.78,7.78,0,0,1-.26,2A5.56,5.56,0,0,1,48,8.62a3.87,3.87,0,0,1-1,1,8.06,8.06,0,0,1-1.06.52c.05.3.09.49.11.57l1.27,6.66a4.58,4.58,0,0,0,.55,1.7,1.23,1.23,0,0,0,.83.39,1.31,1.31,0,0,0,.86-.84A23,23,0,0,0,50.36,15L52.05,4c.06-.37.11-.7.15-1a7.42,7.42,0,0,0,0-.75c0-.41-.08-.67-.25-.78a2.09,2.09,0,0,0-.94-.21V.48h3.77l1,13.91,5-13.91h3.51v.76a1.46,1.46,0,0,0-.79.4A3.71,3.71,0,0,0,63,3.31L61,16.59c0,.29-.09.58-.13.88s-.05.55-.05.75Q60.79,19,61,19.15Zm-15.14-11a7.46,7.46,0,0,0,.53-1.62,9.54,9.54,0,0,0,.25-2.26,5.31,5.31,0,0,0-.35-2,1.18,1.18,0,0,0-1.16-.81.54.54,0,0,0-.5.26,3.37,3.37,0,0,0-.26,1.05l-1,6.76a4.28,4.28,0,0,0,1.31-.2A2.17,2.17,0,0,0,45.89,8.17ZM73.21,19.51v.71h-5v-.71a1.61,1.61,0,0,0,1-.41,1.92,1.92,0,0,0,.3-1.29c0-.22,0-.75-.09-1.58,0-.17-.06-.89-.16-2.15H65.68l-1,3c-.06.2-.12.42-.17.66a3.4,3.4,0,0,0-.08.69q0,.62.21.78a1.9,1.9,0,0,0,.86.3v.71H62.29v-.71A2,2,0,0,0,63,19a6.47,6.47,0,0,0,.72-1.56L69.82.07h.43L71.83,17A6.77,6.77,0,0,0,72.22,19,1.23,1.23,0,0,0,73.21,19.51Zm-4.08-6.6-.61-7.18-2.44,7.18ZM82.52,6.14l.6-5.66H74l-.63,5,.42.2a8.71,8.71,0,0,1,1.46-3.16,2.57,2.57,0,0,1,2.1-1.06L75,17.35a3.36,3.36,0,0,1-.68,1.85,1.57,1.57,0,0,1-1,.26v.76H78.7v-.76a2.69,2.69,0,0,1-1.11-.3c-.18-.13-.27-.45-.27-.95a2.26,2.26,0,0,1,0-.26c0-.09,0-.2,0-.33l.14-1L79.8,1.5a1.87,1.87,0,0,1,1.39.63c.58.7.88,2,.91,3.94ZM88.84.48H83.92v.76a2.31,2.31,0,0,1,1,.31c.15.13.23.44.23.94a5.56,5.56,0,0,1,0,.67c0,.26-.08.57-.14,1l-2,13.24a4,4,0,0,1-.47,1.59,1.36,1.36,0,0,1-.87.52v.76H86.5v-.76a2,2,0,0,1-1-.32,1.32,1.32,0,0,1-.23-.94c0-.09,0-.18,0-.28s0-.2,0-.3l.13-1,2-13.24A4.09,4.09,0,0,1,88,1.76a1.45,1.45,0,0,1,.87-.52ZM99.11,7.11a21,21,0,0,1-2,9.07q-2.16,4.61-5,4.6a3.28,3.28,0,0,1-2.88-1.92,10.29,10.29,0,0,1-1.11-5.14,21.08,21.08,0,0,1,2.07-9.19C91.63,1.51,93.25,0,95,0A3.36,3.36,0,0,1,98,1.92,10,10,0,0,1,99.11,7.11ZM96.72,4.6a7.18,7.18,0,0,0-.41-2.55c-.28-.7-.7-1-1.29-1-1.37,0-2.52,2.17-3.46,6.53a40.7,40.7,0,0,0-1.06,8.26,10,10,0,0,0,.2,2.2c.26,1.18.74,1.77,1.43,1.77a2.2,2.2,0,0,0,1.78-1.29,18.75,18.75,0,0,0,1.65-4.93,41.1,41.1,0,0,0,.85-4.83A34.65,34.65,0,0,0,96.72,4.6Zm11.1-3.36a1.66,1.66,0,0,1,.9.33,2.08,2.08,0,0,1,.4,1.48,12.85,12.85,0,0,1-.1,1.34c0,.41-.11.87-.18,1.39l-1.29,8.34L104,.48h-3.33v.76a1.7,1.7,0,0,1,.78.24,2,2,0,0,1,.51,1.06l.07.3L100.13,15a24,24,0,0,1-.75,3.61,1.35,1.35,0,0,1-.93.9v.76h3.45v-.76a1.67,1.67,0,0,1-.88-.32,1.88,1.88,0,0,1-.44-1.44,7.09,7.09,0,0,1,0-.79c0-.43.13-1.09.27-2l1.64-10.57,4.29,16.33h.41l2.3-15a28.78,28.78,0,0,1,.67-3.42c.18-.59.44-.93.78-1l.23-.06V.48h-3.39ZM125,7.11a21,21,0,0,1-2,9.07c-1.45,3.07-3.1,4.6-5,4.6a3.28,3.28,0,0,1-2.87-1.92A10.29,10.29,0,0,1,114,13.72a21.22,21.22,0,0,1,2.06-9.19Q118.22,0,120.91,0a3.36,3.36,0,0,1,2.92,1.92A10,10,0,0,1,125,7.11ZM122.59,4.6a7,7,0,0,0-.41-2.55,1.37,1.37,0,0,0-1.28-1c-1.37,0-2.53,2.17-3.46,6.53a40.11,40.11,0,0,0-1.07,8.26,10.65,10.65,0,0,0,.2,2.2q.39,1.77,1.44,1.77a2.2,2.2,0,0,0,1.77-1.29,18.29,18.29,0,0,0,1.66-4.93,45.71,45.71,0,0,0,.85-4.83A36.53,36.53,0,0,0,122.59,4.6Zm14.26-3.3.24-.06V.48h-3.4v.76a1.74,1.74,0,0,1,.91.33,2.13,2.13,0,0,1,.4,1.48c0,.28,0,.73-.11,1.34,0,.41-.11.87-.18,1.39l-1.29,8.34L129.83.48h-3.32v.76a1.69,1.69,0,0,1,.77.24,1.9,1.9,0,0,1,.51,1.06l.07.3L126,15a27,27,0,0,1-.75,3.61,1.35,1.35,0,0,1-.93.9v.76h3.44v-.76a1.67,1.67,0,0,1-.88-.32,1.92,1.92,0,0,1-.44-1.44c0-.26,0-.52,0-.79.05-.43.13-1.09.27-2l1.65-10.57,4.29,16.33h.41l2.29-15a31.07,31.07,0,0,1,.67-3.42C136.25,1.72,136.52,1.38,136.85,1.3Zm8.52,13.06a8.55,8.55,0,0,1-2.19,3.87,4.44,4.44,0,0,1-2.94,1,1,1,0,0,1-.68-.21.9.9,0,0,1-.24-.7,3.4,3.4,0,0,1,0-.48c0-.14,0-.28,0-.44l2.15-14.08a3.69,3.69,0,0,1,.5-1.64,2.22,2.22,0,0,1,1.16-.48V.48H138v.76a2.2,2.2,0,0,1,1,.31c.16.13.24.44.24.94a5.73,5.73,0,0,1-.05.67c0,.26-.07.57-.13,1l-2,13.23a4,4,0,0,1-.47,1.6,1.36,1.36,0,0,1-.87.52v.76h9.16l1-5.74ZM151.79.48v.76a1.52,1.52,0,0,1,.76.2,1.21,1.21,0,0,1,.37,1,4.09,4.09,0,0,1-.17,1.09c-.07.24-.16.5-.27.79L150.32,9.8l-1.18-6.44a4.51,4.51,0,0,1-.08-.6,4.37,4.37,0,0,1,0-.46c0-.43.09-.71.27-.83a1.75,1.75,0,0,1,.87-.23V.48h-4.63v.76a.94.94,0,0,1,.8.4,5.08,5.08,0,0,1,.42,1.44L148.2,11l-1,6.35a3.35,3.35,0,0,1-.61,1.73,1.91,1.91,0,0,1-1.06.39v.76h5.32v-.76a2,2,0,0,1-.95-.25,1.29,1.29,0,0,1-.33-1.05,7.29,7.29,0,0,1,.06-.73q.06-.51.12-.84l.82-5.46,3.12-7.89a5.54,5.54,0,0,1,.89-1.59,1.28,1.28,0,0,1,.63-.41V.48Z",opacity:1,strokeColor:"",fillColor:"#192760",width:155.237,height:20.783,stampFillColor:"#dce3ef",stampStrokeColor:""}}if(t)return t.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),this.currentStampAnnotation=t}},ti.prototype.saveStampAnnotations=function(){for(var e=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp"),t=(this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]),[]),i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s,l,A,d=0;a.annotations.length>d;d++)this.pdfViewer.annotationModule.updateModifiedDate(a.annotations[parseInt(d.toString(),10)]),this.pdfViewer.nameTable[a.annotations[parseInt(d.toString(),10)].randomId]&&(a.annotations[parseInt(d.toString(),10)].wrapperBounds=this.pdfViewer.nameTable[a.annotations[parseInt(d.toString(),10)].randomId].wrapper.bounds),!this.pdfViewerBase.clientSideRendering&&a.annotations[parseInt(d.toString(),10)].icon&&(s=a.annotations[parseInt(d.toString(),10)].bounds,l=this.pdfViewer.annotationModule.calculateFontSize(a.annotations[parseInt(d.toString(),10)].icon.toUpperCase(),s),a.annotations[parseInt(d.toString(),10)].iconFontSize=l,l=10,0!==(A=a.annotations[parseInt(d.toString(),10)].dynamicText).trim().length&&(l=this.pdfViewer.annotationModule.calculateFontSize(A,s)),a.annotations[parseInt(d.toString(),10)].textFontSize=l),a.annotations[parseInt(d.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getBounds(a.annotations[parseInt(d.toString(),10)].bounds,a.pageIndex));r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},ti.prototype.storeStampInSession=function(e,t,i,n){var o,r=F.sessionStorageManager.getWindowSessionStorageSize(),a=Math.round(JSON.stringify(t).length/1024),r=(this.pdfViewer.annotationModule.isFormFieldShape=!1,4500<r+a&&(this.pdfViewerBase.isStorageExceed=!0,this.pdfViewer.annotationModule.clearAnnotationStorage(),this.pdfViewerBase.isFormStorageExceed||this.pdfViewer.formFieldsModule.clearFormFieldStorage()),F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp")),a=0;return i=(r=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]:r)?(this.pdfViewer.annotationModule.storeAnnotationCollections(t,e,i,n),r=JSON.parse(r),this.pdfViewerBase.isStorageExceed||F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_stamp"),null!=(o=this.pdfViewer.annotationModule.getPageCollection(r,e))&&r[parseInt(o.toString(),10)]?(r[parseInt(o.toString(),10)].annotations.push(t),a=r[parseInt(o.toString(),10)].annotations.indexOf(t)):((o={pageIndex:e,annotations:[]}).annotations.push(t),a=o.annotations.indexOf(t),r.push(o)),JSON.stringify(r)):(this.pdfViewer.annotationModule.storeAnnotationCollections(t,e,i,n),(o={pageIndex:e,annotations:[]}).annotations.push(t),a=o.annotations.indexOf(t),(r=[]).push(o),JSON.stringify(r)),this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]=i:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_stamp",i),a},ti.prototype.updateSessionStorage=function(e,t,i){if(null!=t&&e.annotations)for(var n=0;n<e.annotations.length;n++)if(e.annotations[parseInt(n.toString(),10)].id===t){e=e.annotations[parseInt(n.toString(),10)];break}"Rotate"===i&&(e=e.annotations[0]);var o=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp");if(o=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]:o)for(var r=e.bounds,a=JSON.parse(o),s=0;s<a.length;s++)for(var l=a[parseInt(s.toString(),10)],A=0;A<l.annotations.length;A++)if(null!=a[parseInt(s.toString(),10)].annotations[parseInt(A.toString(),10)]&&a[parseInt(s.toString(),10)].annotations[parseInt(A.toString(),10)].randomId===e.id){this.pdfViewerBase.isStorageExceed||F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_stamp");var d=this.pdfViewer.annotationModule.getPageCollection(a,a[parseInt(s.toString(),10)].annotations[parseInt(A.toString(),10)].pageNumber),d=("delete"!==i?null!=d&&a[parseInt(d.toString(),10)]&&(e.wrapper.children[1]?a[parseInt(s.toString(),10)].annotations[parseInt(A.toString(),10)].opacity=e.wrapper.children[1].style.opacity:a[parseInt(s.toString(),10)].annotations[parseInt(A.toString(),10)].opacity=e.wrapper.children[0].style.opacity,a[parseInt(s.toString(),10)].annotations[parseInt(A.toString(),10)].rotateAngle=e.rotateAngle,a[parseInt(s.toString(),10)].annotations[parseInt(A.toString(),10)].bounds={left:r.x,top:r.y,width:e.wrapper.actualSize.width,height:e.wrapper.actualSize.height,right:r.right,bottom:r.bottom}):a[parseInt(s.toString(),10)].annotations.splice(A,1),JSON.stringify(a));this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]=d:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_stamp",d);break}},ti.prototype.saveImportedStampAnnotations=function(e,t){var i,n=null,o=!1,r=e.IsDynamic;e.AnnotationSettings=e.AnnotationSettings||this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stampSettings),e.allowedInteractions=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),e.IconName&&r?(i=this.retrieveDynamicStampAnnotation(e.IconName),o=!0):e.IconName&&(i=this.retrievestampAnnotation(e.IconName),"Accepted"!==e.IconName&&"Rejected"!==e.IconName||(r=J.processPathData(i.pathdata),i.pathdata=J.splitArrayCollection(r),o=!0)),i?(n={stampAnnotationType:"path",author:e.Author,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,strokeColor:i.strokeColor,fillColor:i.fillColor,opacity:e.Opacity,stampFillcolor:i.stampFillColor,rotateAngle:e.RotateAngle,creationDate:e.ModifiedDate,pageNumber:t,icon:i.iconName,stampAnnotationPath:i.pathdata,randomId:"stamp",isDynamicStamp:!1,dynamicText:this.dynamicText,bounds:this.calculateImagePosition(e.Rect,!0),annotName:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,author:e.Author,modifiedDate:e.ModifiedDate},shapeAnnotationType:"stamp",annotationSelectorSettings:this.getSettings(e),annotationSettings:e.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.isPrint,isCommentLock:e.IsCommentLock,isMaskedImage:e.IsMaskedImage,customStampName:"",template:e?e.template:null,templateSize:e?e.templateSize:0},o&&(n.dynamicText=this.findDynamicText(e.Apperarance,e.IconName),""===n.dynamicText&&(n.dynamicText="By "+n.author+" at "+n.creationDate),n.isDynamicStamp=!0)):(e.AnnotationSettings=e.AnnotationSettings||this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),n={stampAnnotationType:"image",author:e.Author,modifiedDate:e.ModifiedDate,subject:e.Subject,allowedInteractions:e.allowedInteractions,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,stampFillcolor:e.FillColor,rotateAngle:e.RotateAngle,creationDate:e.ModifiedDate,pageNumber:t,icon:"",stampAnnotationPath:this.findImageData(e.Apperarance),randomId:"image",isDynamicStamp:this.pdfViewerBase.isDynamicStamp,dynamicText:" ",bounds:this.calculateImagePosition(e.Rect,!0),annotName:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,author:e.Author,modifiedDate:e.ModifiedDate},shapeAnnotationType:"stamp",annotationSelectorSettings:this.getSettings(e),annotationSettings:e.annotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.isPrint,isCommentLock:e.IsCommentLock,isMaskedImage:e.IsMaskedImage,customStampName:e.CustomStampName,template:e?e.template:null,templateSize:e?e.templateSize:0}),this.pdfViewer.annotationModule.storeAnnotations(t,n,"_annotations_stamp")},ti.prototype.updateStampAnnotationCollections=function(e,t){var i,n=e.IsDynamic,o=(e.allowedInteractions=e.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),this.stampImageData(e));if(e.IconName&&n&&"Draft"!==e.IconName&&!o)i=this.retrieveDynamicStampAnnotation(e.IconName);else{if(!e.IconName||o)return e.AnnotationSettings=e.AnnotationSettings||this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked),{stampAnnotationType:"image",author:e.Author,bounds:{left:e.Rect.X,top:e.Rect.Y,width:e.Rect.Width,height:e.Rect.Height},modifiedDate:e.ModifiedDate,allowedInteractions:e.allowedInteractions,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,stampFillcolor:e.StampFillColor,rotateAngle:e.RotateAngle,pageNumber:t,randomId:"stamp",isDynamicStamp:this.pdfViewerBase.isDynamicStamp,dynamicText:this.dynamicText,annotationId:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,author:e.Author,modifiedDate:e.ModifiedDate},shapeAnnotationType:"stamp",annotationSettings:e.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.isPrint,isMaskedImage:e.IsMaskedImage,customStampName:e.CustomStampName,subject:e.Subject,template:e?e.template:null,templateSize:e?e.templateSize:0};i=this.retrievestampAnnotation(e.IconName)}if(i)return e.AnnotationSettings=e.AnnotationSettings||this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stampSettings),e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked),e.allowedInteractions=e.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),{stampAnnotationType:"path",author:e.Author,allowedInteractions:e.allowedInteractions,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,stampFillcolor:e.StampFillColor,rotateAngle:e.RotateAngle,creationDate:i.creationDate,pageNumber:t,icon:i.iconName,stampAnnotationPath:i.pathdata,randomId:"stamp",isDynamicStamp:this.pdfViewerBase.isDynamicStamp,dynamicText:this.dynamicText,bounds:{left:e.Rect.X,top:e.Rect.Y,width:e.Rect.Width,height:e.Rect.Height},annotationId:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,author:e.Author,modifiedDate:e.ModifiedDate},shapeAnnotationType:"stamp",customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.isPrint,isMaskedImage:e.IsMaskedImage,customStampName:"",template:e?e.template:null,templateSize:e?e.templateSize:0}},ti.prototype.stampImageData=function(e){var t=!1;if(e&&e.Apperarance)for(var i=0;i<e.Apperarance.length;i++)if(e.Apperarance[parseInt(i.toString(),10)].imagedata){t=!0;break}return t},ti.prototype.findImageData=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[parseInt(t.toString(),10)].imagedata;if(i)return i}return""},ti.prototype.findDynamicText=function(e,t){var i="";if(e)for(var n=0;n<e.length;n++){var o=e[parseInt(n.toString(),10)],r=o.type,a=o.isImport;"string"===r&&void 0!==o.text&&(r=void 0,(r=!a&&(a=o.text.split("("))[1]?a[1].split(")")[0]:o.text).toLowerCase()!==t.toLowerCase())&&(i+=r)}return i},ti.prototype.getAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp");return(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]:i)&&(i=JSON.parse(i),null!=(e=this.pdfViewer.annotationModule.getPageCollection(i,e)))&&i[parseInt(e.toString(),10)]?i[parseInt(e.toString(),10)].annotations:t},ti.prototype.modifyInCollection=function(e,t,i,n){G.isNullOrUndefined(i.formFieldAnnotationType)||""===i.formFieldAnnotationType?this.pdfViewer.annotationModule.isFormFieldShape=!1:this.pdfViewer.annotationModule.isFormFieldShape=!0,n&&this.pdfViewerBase.updateDocumentEditedProperty(!0);var o=null,r=this.getAnnotations(t,null);if(null!=r&&i){for(var a=0;a<r.length;a++)if(i.annotName===r[parseInt(a.toString(),10)].annotName){if("bounds"===e)this.pdfViewerBase.isBounds=this.pdfViewerBase.boundsCalculation(r[parseInt(a.toString(),10)].bounds,i.wrapper.bounds),this.pdfViewerBase.isBounds&&(r[parseInt(a.toString(),10)].bounds={left:i.wrapper.bounds.x,top:i.wrapper.bounds.y,width:i.wrapper.actualSize.width,height:i.wrapper.actualSize.height}),r[parseInt(a.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();else if("delete"===e){o=r.splice(a,1)[0];break}this.pdfViewer.annotationModule.storeAnnotationCollections(r[parseInt(a.toString(),10)],t)}this.manageAnnotations(r,t)}return o},ti.prototype.manageAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp");(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]:i)&&(i=JSON.parse(i),this.pdfViewerBase.isStorageExceed||F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_stamp"),null!=(t=this.pdfViewer.annotationModule.getPageCollection(i,t))&&i[parseInt(t.toString(),10)]&&(i[parseInt(t.toString(),10)].annotations=e),t=JSON.stringify(i),this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]=t:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_stamp",t))},ti.prototype.updateAddAnnotationDetails=function(e,t,i,n,o,r){t=e?e.offset||{x:10,y:10}:(e={offset:{x:10,y:10},pageNumber:0,width:void 0,height:void 0}).offset,n||o||r||(n=v.DynamicStampItem.Approved);var a,s=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),l=this.pdfViewer.annotation.createGUID(),A=[],d="",p="Stamp",h=[],c=!1,g=e.author||"Guest",u=this.pdfViewer.stampSettings.annotationSelectorSettings,f=(this.pdfViewerBase.updateSelectorSettings(u),this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stampSettings)),g=g||this.pdfViewer.annotationModule.updateAnnotationAuthor("stamp",f.annotationSubType),m=this.pdfViewer.stampSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,n=(f.isLock=e.isLock||f.isLock,f.minHeight=e.minHeight||f.minHeight,f.minWidth=e.minWidth||f.minWidth,f.maxWidth=e.maxWidth||f.maxWidth,f.maxHeight=e.maxHeight||f.maxHeight,e.customStamps&&e.customStamps[0].customStampName?(h[0]={imagedata:e.customStamps[0].customStampImageSource,isImport:!0},this.customStampName=e.customStamps[0].customStampName,this.pdfViewerBase.customStampCollection.push(e.customStamps[0]),p="Image",e.width=e.width||100,e.height=e.height||100):n?(a=[],a=s.split(" "),d=n.toString(),h[0]={baseFontName:"Helvetica-BoldOblique",currentFontname:"95b303ab-d397-438a-83af-e2ff8a9900f1",fontSize:10,isImport:!0,text:"By "+g+" at "+a[1]+a[2]+" , "+a[0],type:"string"},c=!0,e.width=e.width||170.33,e.height=e.height||56.88):o?(d=o.toString(),o===v.SignStampItem.Accepted||o===v.SignStampItem.Rejected?(e.width=e.width||35,e.height=e.height||35):o===v.SignStampItem.SignHere?(e.width=e.width||110,e.height=e.height||30):o===v.SignStampItem.Witness?(e.width=e.width||130,e.height=e.height||30):o===v.SignStampItem.InitialHere&&(e.width=e.width||90,e.height=e.height||30)):r&&(d=r.toString(),r===v.StandardBusinessStampItem.Final||r===v.StandardBusinessStampItem.Draft?e.width=e.width||110:r===v.StandardBusinessStampItem.Void?e.width=e.width||100:e.width=e.width||130,e.height=e.height||30),{AllowedInteractions:e.allowedInteractions||m,AnnotName:l,AnnotType:"stamp",AnnotationSelectorSettings:e.annotationSelectorSettings||u,AnnotationSettings:f,Apperarance:h||null,Author:g,Comments:null,CreatedDate:s,CustomData:e.customData||null,ExistingCustomData:null,FillColor:"#192760",Icon:0,IsCommentLock:!1,IsDynamic:c,IsLocked:e.isLock||!1,IsPrint:!!G.isNullOrUndefined(e.isPrint)||e.isPrint,ModifiedDate:"",Name:null,Note:"",Opacity:e.opacity||1,Rect:{X:t.x,Y:t.y,Width:e.width,Height:e.height,Left:t.x,Top:t.y,Location:{X:t.x,Y:t.y},Size:{Height:e.height,IsEmpty:!1,Width:e.width}},RotateAngle:0,StampAnnotationtype:p,State:"",StateModel:"",StrokeColor:"#dce3ef",IconName:d,Subject:e.subject||d,matrix:null,CustomStampName:this.customStampName||"",pageNumber:i});return A[0]=n,{stampAnnotations:A}},ti.prototype.triggerAnnotationAdd=function(e,t){t={opacity:e.opacity,borderColor:e.strokeColor,borderWidth:e.thickness,author:t.author,subject:t.subject,modifiedDate:t.modifiedDate,fillColor:e.fillColor,fontSize:e.fontSize,width:e.bounds.width,height:e.bounds.height,fontColor:e.fontColor,fontFamily:e.fontFamily,defaultText:e.dynamicText,fontStyle:e.font,textAlignment:e.textAlign};this.pdfViewer.fireAnnotationAdd(e.pageIndex,e.annotName,"Stamp",e.bounds,t)};var ei=ti;function ti(e,t){this.isStampAddMode=!1,this.stampPageNumber=[],this.isAddAnnotationProgramatically=!1,this.customStampName=null,this.dynamicText="",this.pdfViewer=e,this.pdfViewerBase=t}s.prototype.renderStickyNotesAnnotations=function(e,t,i){if(e&&0<e.length)for(var n=0;n<e.length;n++){var o,r,a,s,l=e[parseInt(n.toString(),10)],A=!1,d=this.getAnnotations(t,null,"sticky");if(null!==d)for(var p=0;p<d.length;p++){var h=l.annotName||l.AnnotName,c=d[parseInt(p.toString(),10)].annotName?d[parseInt(p.toString(),10)].annotName:d[parseInt(p.toString(),10)].AnnotName;if(c&&h&&c===h){A=!0;break}}A||(l.annotationAddMode=this.pdfViewer.annotationModule.findAnnotationMode(l,t,l.AnnotType),o=null,r=l.Bounds,a=l.Author,l.AnnotationSettings=l.AnnotationSettings||this.pdfViewer.annotationModule.updateAnnotationSettings(l),l.allowedInteractions=l.AllowedInteraction||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(l),s=!0,s="Imported Annotation"===l.annotationAddMode?l.IsPrint:l.AnnotationSettings.isPrint,(l.IsLock||l.IsLocked)&&(l.AnnotationSettings.isLock=l.IsLock||l.IsLocked),o={shapeAnnotationType:"sticky",author:a,modifiedDate:l.ModifiedDate,subject:l.Subject,note:l.Note,opacity:l.Opacity,state:l.State,stateModel:l.StateModel,pathData:"",comments:this.pdfViewer.annotationModule.getAnnotationComments(l.Comments,l,a),review:{state:l.State,stateModel:l.StateModel,modifiedDate:l.ModifiedDate,author:a},pageNumber:t,bounds:{left:l.Bounds.X,top:l.Bounds.Y,width:l.Bounds.Width,height:l.Bounds.Height,right:l.Bounds.Right,bottom:l.Bounds.Bottom},annotName:l.AnnotName,color:l.color,annotationSelectorSettings:this.getSettings(l),customData:this.pdfViewer.annotation.getCustomData(l),annotationSettings:l.AnnotationSettings,allowedInteractions:l.allowedInteractions,isPrint:s,isCommentLock:l.IsCommentLock},l.AnnotationSelectorSettings=l.AnnotationSelectorSettings||this.pdfViewer.annotationSelectorSettings,a={author:a,modifiedDate:o.modifiedDate,annotName:o.annotName,pageIndex:t,bounds:{x:r.Left,y:r.Top,width:r.Width,height:r.Height},strokeColor:"transparent",stampStrokeColor:"",data:this.setImageSource(),shapeAnnotationType:"StickyNotes",subject:o.subject,notes:o.note,opacity:o.opacity,id:o.annotName,fillColor:o.color,annotationSelectorSettings:l.AnnotationSelectorSettings,annotationSettings:o.annotationSettings,annotationAddMode:l.annotationAddMode,isPrint:s,isCommentLock:o.isCommentLock},i?this.drawStickyNotes(r.Left,r.Top,r.Width,r.Height,t,a,i):(this.pdfViewer.add(a),this.drawStickyNotes(r.Left,r.Top,r.Width,r.Height,t,a),this.pdfViewer.annotationModule.storeAnnotations(t,o,"_annotations_sticky")),this.isAddAnnotationProgramatically&&(s={opacity:a.opacity,borderColor:a.strokeColor,borderWidth:a.thickness,author:l.author,subject:l.subject,modifiedDate:l.modifiedDate,fillColor:a.fillColor,fontSize:a.fontSize,width:a.bounds.width,height:a.bounds.height,fontColor:a.fontColor,fontFamily:a.fontFamily,defaultText:a.dynamicText,fontStyle:a.font,textAlignment:a.textAlign},this.pdfViewer.fireAnnotationAdd(a.pageIndex,a.annotName,"StickyNotes",a.bounds,s)))}},s.prototype.getSettings=function(e){var t=this.pdfViewer.annotationSelectorSettings;return e.AnnotationSelectorSettings?t="string"==typeof e.AnnotationSelectorSettings?JSON.parse(e.AnnotationSelectorSettings):e.AnnotationSelectorSettings:this.pdfViewer.stickyNotesSettings.annotationSelectorSettings&&(t=this.pdfViewer.stickyNotesSettings.annotationSelectorSettings),t},s.prototype.drawStickyNotes=function(s,l,A,d,p,h,c){var g,u=this,f=null,m=new Image,w=this;m.onload=function(){var e,t,i,n,o=("Guest"!==u.pdfViewer.annotationSettings.author?u.pdfViewer.annotationSettings:u.pdfViewer.stickyNotesSettings).author,r=""===u.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(u.pdfViewer.annotationSettings.subject)?u.pdfViewer.stickyNotesSettings.subject||"Sticky Note":u.pdfViewer.annotationSettings.subject,a=u.pdfViewer.annotationModule.updateSettings(u.pdfViewer.stickyNotesSettings);h?g={author:h.author,modifiedDate:h.modifiedDate,annotName:h.annotName,annotationSettings:h.annotationSettings&&""!==h.annotationSettings?h.annotationSettings:a,data:m.src,bounds:{x:s,y:l,width:A,height:d},subject:h.subject,notes:h.notes,opacity:h.opacity,id:h.annotName,shapeAnnotationType:"StickyNotes",strokeColor:"transparent",stampStrokeColor:"",pageIndex:h.pageIndex,isPrint:h.isPrint}:(i=u.pdfViewer.annotation.createGUID(),(n=w.addComments("sticky",p+1))&&(document.getElementById(n).id=i),n=u.pdfViewer.stickyNotesSettings.annotationSelectorSettings||u.pdfViewer.annotationSelectorSettings,e=u.pdfViewer.stickyNotesSettings.isPrint,g={bounds:{x:s,y:l,width:A,height:d},pageIndex:p,data:m.src,modifiedDate:u.getDateAndTime(),annotationSettings:a,shapeAnnotationType:"StickyNotes",strokeColor:"transparent",stampStrokeColor:"",annotName:i,id:i,opacity:u.opacity,isPrint:e},a=u.pdfViewer.stickyNotesSettings.isLock||u.pdfViewer.annotationSettings.isLock,t=u.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(h),f={author:o,allowedInteractions:t,modifiedDate:u.getDateAndTime(),subject:r,shapeAnnotationType:"sticky",pageNumber:p,note:"",opacity:u.opacity,pathData:"",state:"",stateModel:"",color:"rgba(255,255,0)",comments:[],annotName:i,bounds:{left:s,top:l,width:A,height:d},review:{state:"",stateModel:"",modifiedDate:"",author:o},annotationSelectorSettings:n,customData:u.pdfViewer.annotationModule.getData("sticky"),annotationSettings:{isLock:a},isPrint:e,isCommentLock:!1}),h||(w.pdfViewer.annotation.addAction(p,null,g,"Addition","",g,g),w.pdfViewer.add(g),w.pdfViewer.annotationModule.storeAnnotations(p,f,"_annotations_sticky")),w.pdfViewerBase.isAddComment&&(t={left:g.bounds.x,top:g.bounds.y,width:g.bounds.width,height:g.bounds.height},u.pdfViewerBase.updateDocumentEditedProperty(!0),i={opacity:g.opacity,author:o,modifiedDate:g.modifiedDate,subject:r},u.pdfViewer.fireAnnotationAdd(g.pageIndex,g.annotName,"StickyNotes",t,i)),c?w.pdfViewer.renderDrawing(c,p):(n=u.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",p),w.pdfViewer.renderDrawing(n,p)),G.Browser.isDevice&&w.pdfViewer.select([g.id],g.annotationSelectorSettings),w.pdfViewerBase.isAddComment=!1},m.src=this.setImageSource()},s.prototype.setImageSource=function(){return"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgd2lkdGg9IjE2IgogICBoZWlnaHQ9IjE1IgogICB2aWV3Qm94PSIwIDAgNC4yMzMzMzMxIDMuOTY4NzQ5NyIKICAgdmVyc2lvbj0iMS4xIj4KICA8ZyBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBkPSJNIDMuODM4OSwwLjk0MTY3IEMgMy42NTM5LDAuNzAzNjcgMy40MTU5LDAuNTE3NjcgMy4xMjQ5LDAuMzg1NjcgMi44MDc5LDAuMjUzNjcgMi40ODk5LDAuMTczNjcgMi4xMTk5LDAuMTczNjcgMS43NDg5LDAuMTczNjcgMS40MzE5LDAuMjUzNjcgMS4xMTQyLDAuMzg1NjcgMC44MjMxNiwwLjUxNzY3IDAuNTg1MTYsMC43MDM2NyAwLjQwMDE2LDAuOTQxNjcgMC4yMTUxNiwxLjE3OTcgMC4xMzUxNiwxLjQxNzcgMC4xMzUxNiwxLjcwODcgMC4xMzUxNiwxLjk0NjcgMC4xODgxNiwyLjE1ODcgMC4zMjAxNiwyLjM0MzcgMC40NTMxNiwyLjU1NTcgMC42MTExNiwyLjcxMzcgMC44MjMxNiwyLjg0NjcgMC43OTIxNiwzLjE1NDcgMC42NTAxNiwzLjM4MjcgMC40NzkxNiwzLjU4NzcgMC40MjgxNiwzLjY2NzcgMC41MTcxNiwzLjc0MTcgMC42OTExNiwzLjcxOTcgMS4wODgyLDMuNjM5NyAxLjQwNDksMy40NTQ3IDEuNjQyOSwzLjE2MzcgMS44MDE5LDMuMTkwNyAxLjk2MDksMy4yMTY3IDIuMTE5OSwzLjIxNjcgMi40ODk5LDMuMjE2NyAyLjgwNzksMy4xMzc3IDMuMTI0OSwzLjAwNTcgMy40MTU5LDIuODcyNyAzLjY4MDksMi42ODc3IDMuODM4OSwyLjQ0OTcgNC4wMjQ5LDIuMjExNyA0LjEwMzksMS45NzM3IDQuMTAzOSwxLjY4MjcgNC4xMDM5LDEuNDE3NyA0LjAyNDksMS4xNTI3IDMuODM4OSwwLjk0MTY3IFoiCiAgICAgICBpZD0icGF0aDE1MjQiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmNzAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjI2NDU4MztzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gMy4wNDI5LDEuNDE2NyBIIDEuMTkxMiBDIDEuMTExMiwxLjQxNjcgMS4wNTkyLDEuMzYzNyAxLjA1OTIsMS4yODM3IDEuMDU5MiwxLjIwNDcgMS4xMTEyLDEuMTUxNyAxLjE5MTIsMS4xNTE3IEggMy4wNDI5IEMgMy4xMjE5LDEuMTUxNyAzLjE3NDksMS4yMDQ3IDMuMTc0OSwxLjI4MzcgMy4xNzQ5LDEuMzYzNyAzLjEyMTksMS40MTY3IDMuMDQyOSwxLjQxNjcgWiIKICAgICAgIGlkPSJwYXRoMTUzNiIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC4yNjQ1ODMiIC8+CiAgICA8cGF0aAogICAgICAgZD0iTSAzLjA0MjksMS45NDU3IEggMS4xOTEyIEMgMS4xMTEyLDEuOTQ1NyAxLjA1OTIsMS44OTI3IDEuMDU5MiwxLjgxMjcgMS4wNTkyLDEuNzMzNyAxLjExMTIsMS42ODA3IDEuMTkxMiwxLjY4MDcgSCAzLjA0MjkgQyAzLjEyMTksMS42ODA3IDMuMTc0OSwxLjczMzcgMy4xNzQ5LDEuODEyNyAzLjE3NDksMS44OTI3IDMuMTIxOSwxLjk0NTcgMy4wNDI5LDEuOTQ1NyBaIgogICAgICAgaWQ9InBhdGgxNTQwIgogICAgICAgc3R5bGU9InN0cm9rZS13aWR0aDowLjI2NDU4MyIgLz4KICA8L2c+Cjwvc3ZnPgo="},s.prototype.createRequestForComments=function(){var e,i=this,t=i.pdfViewerBase.pageCount,t=(i.isCommentsRendered||(20<t?t=20:i.isPageCommentsRendered=!0),this.isCommentsRendered?e={pageStartIndex:20..toString(),pageEndIndex:t.toString(),hashId:this.pdfViewerBase.hashId,action:"RenderAnnotationComments",elementId:this.pdfViewer.element.id,uniqueId:i.pdfViewerBase.documentId}:(e={pageStartIndex:0..toString(),pageEndIndex:t.toString(),hashId:this.pdfViewerBase.hashId,action:"RenderAnnotationComments",elementId:this.pdfViewer.element.id,uniqueId:i.pdfViewerBase.documentId},i.isCommentsRendered=!0),this.pdfViewerBase.jsonDocumentId&&(e.documentId=this.pdfViewerBase.jsonDocumentId),this.pdfViewer.serviceUrl+"/"+this.pdfViewer.serverActionSettings.renderComments);i.commentsRequestHandler=new Bn(i.pdfViewer),i.commentsRequestHandler.url=t,i.commentsRequestHandler.mode=!0,i.commentsRequestHandler.responseType="text",this.pdfViewerBase.clientSideRendering?(t=this.pdfViewer.pdfRendererModule.getAnnotationComments(e),this.renderCommentsOnSuccess(t,i)):(this.pdfViewerBase.requestCollection.push(this.commentsRequestHandler),i.commentsRequestHandler.send(e),i.commentsRequestHandler.onSuccess=function(t){var t=t.data,e=i.pdfViewerBase.checkRedirection(t);if(!e&&t){if("object"!=typeof t)try{"object"!=typeof(t="object"!=typeof(t=JSON.parse(t))?JSON.parse(t):t)&&(i.pdfViewerBase.onControlError(500,t,this.pdfViewer.serverActionSettings.renderComments),t=null)}catch(e){i.pdfViewerBase.onControlError(500,t,this.pdfViewer.serverActionSettings.renderComments),t=null}i.renderCommentsOnSuccess(t,i)}},i.commentsRequestHandler.onFailure=function(e){this.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText)},i.commentsRequestHandler.onError=function(e){i.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,i.pdfViewer.serverActionSettings.renderComments)})},s.prototype.renderCommentsOnSuccess=function(e,t){if(e){var i=!1;if(t.pdfViewerBase.annotationComments?t.pdfViewerBase.annotationComments=e.annotationDetails:(t.pdfViewerBase.annotationComments=e.annotationDetails,i=!0),e.annotationDetails&&e.uniqueId===t.pdfViewerBase.documentId){t.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.renderComments,e),t.isAnnotationRendered=!0;var n,o=void 0;o=t.pdfViewerBase.documentAnnotationCollections?t.updateAnnotationsInDocumentCollections(t.pdfViewerBase.annotationComments,t.pdfViewerBase.documentAnnotationCollections):(n=t.pdfViewerBase.createAnnotationsCollection(),t.updateAnnotationsInDocumentCollections(t.pdfViewerBase.annotationComments,n)),t.pdfViewerBase.annotationComments=o,t.pdfViewerBase.documentAnnotationCollections=o;for(var r=e.startPageIndex;r<e.endPageIndex;r++){var a=e.annotationDetails[parseInt(r.toString(),10)];t.pdfViewerBase.updateModifiedDateToLocalDate(a,"annotationOrder"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"freeTextAnnotation"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"measureShapeAnnotation"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"shapeAnnotation"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"signatureAnnotation"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"signatureInkAnnotation"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"stampAnnotations"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"stickyNotesAnnotation"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"textMarkupAnnotation")}for(var s=e.startPageIndex;s<e.endPageIndex;s++)e.annotationDetails[parseInt(s.toString(),10)]&&t.renderAnnotationCollections(e.annotationDetails[parseInt(s.toString(),10)],s,i);t.isPageCommentsRendered||(t.isPageCommentsRendered=!0,t.createRequestForComments())}}},s.prototype.updateAnnotationsInDocumentCollections=function(e,t){for(var i=0;i<this.pdfViewerBase.pageCount;i++)if(e[parseInt(i.toString(),10)]&&t[parseInt(i.toString(),10)]){if(e[parseInt(i.toString(),10)].textMarkupAnnotation&&0!==e[parseInt(i.toString(),10)].textMarkupAnnotation.length&&t[parseInt(i.toString(),10)].textMarkupAnnotation)for(var n=0;n<e[parseInt(i.toString(),10)].textMarkupAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].textMarkupAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].textMarkupAnnotation);if(e[parseInt(i.toString(),10)].shapeAnnotation&&0!==e[parseInt(i.toString(),10)].shapeAnnotation.length&&t[parseInt(i.toString(),10)].shapeAnnotation)for(n=0;n<e[parseInt(i.toString(),10)].shapeAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].shapeAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].shapeAnnotation);if(e[parseInt(i.toString(),10)].measureShapeAnnotation&&0!==e[parseInt(i.toString(),10)].measureShapeAnnotation.length&&t[parseInt(i.toString(),10)].measureShapeAnnotation)for(n=0;n<e[parseInt(i.toString(),10)].measureShapeAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].measureShapeAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].measureShapeAnnotation);if(e[parseInt(i.toString(),10)].stampAnnotations&&0!==e[parseInt(i.toString(),10)].stampAnnotations.length&&t[parseInt(i.toString(),10)].stampAnnotations)for(n=0;n<e[parseInt(i.toString(),10)].stampAnnotations.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].stampAnnotations[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].stampAnnotations);if(e[parseInt(i.toString(),10)].stickyNotesAnnotation&&0!==e[parseInt(i.toString(),10)].stickyNotesAnnotation.length&&t[parseInt(i.toString(),10)].stickyNotesAnnotation)for(n=0;n<e[parseInt(i.toString(),10)].stickyNotesAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].stickyNotesAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].stickyNotesAnnotation);if(e[parseInt(i.toString(),10)].freeTextAnnotation&&0!==e[parseInt(i.toString(),10)].freeTextAnnotation.length&&t[parseInt(i.toString(),10)].freeTextAnnotation)for(n=0;n<e[parseInt(i.toString(),10)].freeTextAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].freeTextAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].freeTextAnnotation);if(e[parseInt(i.toString(),10)].signatureAnnotation&&0!==e[parseInt(i.toString(),10)].signatureAnnotation.length&&t[parseInt(i.toString(),10)].signatureAnnotation)for(n=0;n<e[parseInt(i.toString(),10)].signatureAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].signatureAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].signatureAnnotation);if(e[parseInt(i.toString(),10)].signatureInkAnnotation&&0!==e[parseInt(i.toString(),10)].signatureInkAnnotation.length&&t[parseInt(i.toString(),10)].signatureInkAnnotation)for(n=0;n<e[parseInt(i.toString(),10)].signatureInkAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].signatureInkAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].signatureInkAnnotation)}return t},s.prototype.updateDocumentAnnotationCollections=function(e,t){if(0===t.length)t.push(e);else{for(var i=!1,n=0;n<t.length;n++)if(e.AnnotName&&t[parseInt(n.toString(),10)].AnnotName&&e.AnnotName===t[parseInt(n.toString(),10)].AnnotName){i=!0;break}i||t.push(e)}},s.prototype.renderAnnotationCollections=function(e,t,i){var n=[],o=e.annotationOrder;if(!G.isNullOrUndefined(o))for(var r=0;r<o.length;r++){var a=o[parseInt(r.toString(),10)],s=a.AnnotType||a.AnnotationType;switch(this.pdfViewer.dateTimeFormat&&(a.ModifiedDate=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.getDateAndTime(a.ModifiedDate)),n.push(a),s){case"textMarkup":G.isNullOrUndefined(this.pdfViewer.annotationModule)||G.isNullOrUndefined(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||this.updateCollections(this.pdfViewer.annotationModule.textMarkupAnnotationModule.updateTextMarkupAnnotationCollections(a,t));break;case"shape_measure":G.isNullOrUndefined(this.pdfViewer.annotationModule)||G.isNullOrUndefined(this.pdfViewer.annotationModule.measureAnnotationModule)||this.updateCollections(this.pdfViewer.annotationModule.measureAnnotationModule.updateMeasureAnnotationCollections(a,t));break;case"shape":G.isNullOrUndefined(this.pdfViewer.annotationModule)||G.isNullOrUndefined(this.pdfViewer.annotationModule.shapeAnnotationModule)||this.updateCollections(this.pdfViewer.annotationModule.shapeAnnotationModule.updateShapeAnnotationCollections(a,t));break;case"sticky":this.updateCollections(this.updateStickyNotesAnnotationCollections(a,t));break;case"stamp":G.isNullOrUndefined(this.pdfViewer.annotationModule)||G.isNullOrUndefined(this.pdfViewer.annotationModule.stampAnnotationModule)||this.updateCollections(this.pdfViewer.annotationModule.stampAnnotationModule.updateStampAnnotationCollections(a,t));break;case"Ink":G.isNullOrUndefined(this.pdfViewer.annotationModule)||G.isNullOrUndefined(this.pdfViewer.annotationModule.inkAnnotationModule)||this.updateCollections(this.pdfViewer.annotationModule.inkAnnotationModule.updateInkCollections(a,t));break;case"Text Box":G.isNullOrUndefined(this.pdfViewer.annotationModule)||G.isNullOrUndefined(this.pdfViewer.annotationModule.freeTextAnnotationModule)||this.updateCollections(this.pdfViewer.annotationModule.freeTextAnnotationModule.updateFreeTextAnnotationCollections(a,t))}}if(e.signatureAnnotation&&0!==e.signatureAnnotation.length)for(var l=0;l<e.signatureAnnotation.length;l++)this.pdfViewer.dateTimeFormat&&(e.signatureAnnotation[parseInt(l.toString(),10)].ModifiedDate=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.getDateAndTime(e.signatureAnnotation[parseInt(l.toString(),10)].ModifiedDate)),this.updateCollections(this.pdfViewerBase.signatureModule.updateSignatureCollections(e.signatureAnnotation[parseInt(l.toString(),10)],t),!0);if(this.pdfViewer.toolbarModule&&this.renderAnnotationComments(n,t),i)for(l=0;l<this.pdfViewerBase.renderedPagesList.length;l++)this.pdfViewerBase.renderedPagesList[parseInt(l.toString(),10)]===t&&this.pdfViewerBase.renderAnnotations(t,e,!1)},s.prototype.updateCollections=function(e,t){var i=!1,n=t?this.pdfViewer.signatureCollection:this.pdfViewer.annotationCollection;if(n&&e)for(var o=0;o<n.length;o++)if(t){if(n[parseInt(o.toString(),10)].signatureName===e.signatureName){i=!0;break}}else if(n[parseInt(o.toString(),10)].annotationId===e.annotationId){i=!0;break}!i&&e&&(t?this.pdfViewer.signatureCollection:this.pdfViewer.annotationCollection).push(e)},s.prototype.renderAnnotationComments=function(e,t){if(t+=1,e&&0!==e.length){(1!==e.length||"Signature"!==e[0].AnnotationType&&"signature"!==e[0].AnnotationType)&&this.createPageAccordion(t);for(var i=0;i<e.length;i++)e[parseInt(i.toString(),10)].AnnotName&&1===e[parseInt(i.toString(),10)].AnnotName.split("freeText").length&&this.createCommentControlPanel(e[parseInt(i.toString(),10)],t);var n=document.querySelectorAll(".e-pv-new-comments-div");if(n)for(var o=0;o<n.length;o++)n[parseInt(o.toString(),10)].style.display="none"}},s.prototype.initializeAcccordionContainer=function(){var t=G.createElement("div",{id:this.pdfViewer.element.id+"_commentsPanelText",className:"e-pv-comments-panel-text"});G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_NoCommentsYet").then(function(e){t.textContent=e}):t.textContent=this.pdfViewer.localeObj.getConstant("No Comments Yet"),this.updateCommentPanelTextTop(),this.pdfViewerBase.navigationPane.commentsContentContainer.appendChild(t),this.accordionContentContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_accordionContentContainer",className:"e-pv-accordion-content-container"}),this.pdfViewerBase.navigationPane.commentsContentContainer.appendChild(this.accordionContentContainer),this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export Annotations")],!1),this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export XFDF")],!1)},s.prototype.updateCommentPanelTextTop=function(){var e=document.getElementById(this.pdfViewer.element.id+"_commentsPanelText");this.pdfViewerBase.navigationPane.commentPanelContainer&&this.pdfViewerBase.navigationPane.commentPanelContainer.clientHeight&&"none"!==e.style.display&&(e.style.paddingTop=this.pdfViewerBase.navigationPane.commentPanelContainer.clientHeight/2-47+"px",e.style.paddingLeft=this.pdfViewerBase.navigationPane.commentPanelContainer.clientWidth/3+"px")},s.prototype.createPageAccordion=function(e){if(null===document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+e))return this.accordionContent=G.createElement("div",{id:this.pdfViewer.element.id+"_accordioncontent"+e}),this.accordionContent.style.zIndex="1000",this.accordionPageContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_accordionPageContainer"+e,className:"e-pv-accordion-page-container"}),this.accordionPageContainer.appendChild(this.accordionContent),this.pdfViewerBase.viewerMainContainer.appendChild(this.accordionPageContainer),this.accordionContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_accordionContainer"+e,className:"e-pv-accordion-container"}),new w.Accordion({items:[{header:this.pdfViewer.localeObj.getConstant("Page")+" "+e,expanded:!0,content:"#"+this.pdfViewer.element.id+"_accordioncontent"+e}]}).appendTo(this.accordionContainer),this.accordionContainer.style.order="pageIndex",this.alignAccordionContainer(this.accordionContainer,e),document.getElementById(this.pdfViewer.element.id+"_commentsPanelText")&&(this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export Annotations")],!0),this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export XFDF")],!0),document.getElementById(this.pdfViewer.element.id+"_commentsPanelText").style.display="none"),document.getElementById(this.pdfViewer.element.id+"_accordionContentContainer")&&(document.getElementById(this.pdfViewer.element.id+"_accordionContentContainer").style.display="block"),this.accordionContainer},s.prototype.alignAccordionContainer=function(e,t){var i=!0;if(this.accordionContentContainer){if(this.isAccordionContainer)this.accordionContentContainer.appendChild(e),i=!1;else for(var n=1;n<=this.pdfViewerBase.pageCount;n++){var o=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+n);if(o&&t<n){this.accordionContentContainer.insertBefore(e,o),i=!1;break}}i&&(this.accordionContentContainer.appendChild(e),i=!1),this.isAccordionContainer=!1}},s.prototype.updateCommentPanelScrollTop=function(e){var e=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+e);e&&(e=e.offsetTop+e.clientTop-35,this.pdfViewerBase.navigationPane.commentsContentContainer.scrollTop=e)},s.prototype.getButtonState=function(t,e){e.addEventListener("keyup",function(e){!t.element.querySelector(".e-btn-save")||""===e.srcElement.value&&""===e.srcElement.defaultValue||e.srcElement.defaultValue===e.srcElement.value||(t.element.querySelector(".e-btn-save").ej2_instances[0].disabled=!1)})},s.prototype.createCommentControlPanel=function(e,t,i,n,o){var r=document.getElementById(this.pdfViewer.element.id+"_accordioncontent"+t);if(r){var a=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+t),s=(a&&a.ej2_instances[0].expandItem(!0),this.commentsContainer=G.createElement("div",{id:this.pdfViewer.element.id+"commentscontainer_"+t+"_"+this.commentsCount,className:"e-pv-comments-container"}),this.commentsContainer.accessKey=t.toString()+"_"+this.commentsCount,!1);if(e){if(this.commentsContainer.id=e.AnnotName,e.AnnotName)for(var l=0;l<r.childElementCount;l++)if(r.children[parseInt(l.toString(),10)].id===e.AnnotName){s=!0;o&&(document.getElementById(r.children[parseInt(l.toString(),10)].id).remove(),s=!1);break}e.Name&&"freeText"===e.Name?this.commentsContainer.setAttribute("name","freeText"):this.commentsContainer.setAttribute("name",e.AnnotType)}i&&this.commentsContainer.setAttribute("name",i),this.commentsContainer.addEventListener("mousedown",this.commentsAnnotationSelect.bind(this));for(var a=G.createElement("div",{id:this.pdfViewer.element.id+"_commentdiv_"+t+"_"+this.commentsCount,className:"e-pv-comments-div"}),A=(this.commentsCount=this.commentsCount+1,this.commentsContainer.appendChild(a),this.updateCommentPanelScrollTop(t),s||r.appendChild(this.commentsContainer),void 0),A=(e?("null"===(A=this.commentsContainer.getAttribute("name"))&&(A=e.AnnotationType),this.createTitleContainer(a,A,t,e.Subject,e.ModifiedDate,e.Author)):(A=this.commentsContainer.getAttribute("name"),this.createTitleContainer(a,A,t,n)),G.createElement("div",{id:this.pdfViewer.element.id+"_commenttextbox_"+t+"_"+this.commentsCount,className:"e-pv-comment-textbox",attrs:{role:"textbox","aria-label":"comment textbox"}})),n=this.pdfViewer.enableAutoComplete?"on":"off",d=new N.InPlaceEditor({mode:"Inline",type:"Text",model:{placeholder:this.pdfViewer.localeObj.getConstant("Add a comment")+"..",htmlAttributes:{autocomplete:n}},emptyText:"",editableOn:"EditIconClick",saveButton:{content:this.pdfViewer.localeObj.getConstant("Post"),cssClass:"e-outline",disabled:!0},cancelButton:{content:this.pdfViewer.localeObj.getConstant("Cancel"),cssClass:"e-outline"},submitOnEnter:!0}),p=(!e||G.isNullOrUndefined(e.Note)&&G.isNullOrUndefined(e.Text)||(d.created=function(){setTimeout(function(){d.element.querySelector(".e-editable-value").innerText=G.isNullOrUndefined(e.Note)?G.isNullOrUndefined(e.Text)?"":e.Text:e.Note})},d.beginEdit=function(){d.value=d.valueEle.innerText}),d.appendTo(A),document.querySelectorAll(".e-editable-inline")),l=0;l<p.length;l++)p[parseInt(l.toString(),10)].style.display="none";if(e||"freeText"===i||(d.enableEditMode=!0),this.getButtonState(d,A),d.actionSuccess=this.createCommentDiv.bind(this,d),a.appendChild(A),e){if(d.value=G.isNullOrUndefined(e.Note)?G.isNullOrUndefined(e.Text)?"":e.Text:e.Note,this.checkIslockProperty(e)&&null==e.Comments&&this.createCommentDiv(this.commentsContainer),"freeText"===e.Name&&(d.value=e.MarkupText),e.State&&(t=G.createElement("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),n=G.createElement("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),i=G.createElement("span",{id:this.pdfViewer.element.id+"status_icon"}),n.appendChild(i),t.appendChild(n),a.appendChild(t),this.updateStatusContainer(e.State,i,n,t)),e.Comments){for(l=0;l<e.Comments.length;l++)this.renderComments(e.Comments[parseInt(l.toString(),10)],this.commentsContainer);" "!==e.Note&&""!==e.Note&&null!==e.Note&&this.createCommentDiv(this.commentsContainer),"Text Box"===e.AnnotType&&" "!==e.Text&&""!==e.Text&&null!==e.Text&&this.createCommentDiv(this.commentsContainer)}" "!==e.Note&&""!==e.Note&&null!==e.Note&&this.createCommentDiv(this.commentsContainer),"Text Box"===e.AnnotType&&" "!==e.Text&&""!==e.Text&&null!==e.Text&&this.createCommentDiv(this.commentsContainer)}return this.isNewcommentAdded=!0,a.addEventListener("click",this.commentsDivClickEvent.bind(this)),a.addEventListener("mouseover",this.commentDivMouseOver.bind(this)),a.addEventListener("mouseleave",this.commentDivMouseLeave.bind(this)),a.addEventListener("mouseout",this.commentDivMouseLeave.bind(this)),a.addEventListener("focusout",this.commentDivMouseLeave.bind(this)),A.addEventListener("dblclick",this.openEditorElement.bind(this)),A.addEventListener("focusin",this.commentDivFocus.bind(this)),this.commentsContainer.id}return""},s.prototype.commentDivFocus=function(e){var t,i;G.isNullOrUndefined(this.pdfViewer.freeTextSettings.defaultText)&&(this.pdfViewer.freeTextSettings.defaultText="Type here"),!G.isNullOrUndefined(e.target)&&!G.isNullOrUndefined(this.pdfViewer.freeTextSettings.defaultText)&&this.pdfViewer.selectedItems&&this.pdfViewer.selectedItems.annotations[0]&&"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&e.target.value===this.pdfViewer.freeTextSettings.defaultText&&e.target.select(),this.isNewcommentAdded?(i=(t=this).pdfViewerBase.currentPageNumber,setTimeout(function(){t.updateScrollPosition(i)},500)):null!==e.relatedTarget&&e.relatedTarget.id===this.pdfViewer.element.id+"_viewerContainer"&&(e.preventDefault(),e.target.blur())},s.prototype.updateScrollPosition=function(e){var t,i,e=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+e);e&&this.isNewcommentAdded&&(t=0,(i=document.querySelectorAll(".e-editable-inline"))[0]&&(t=i[0].getBoundingClientRect().height),i=e.offsetTop+e.clientTop+t,this.pdfViewerBase.navigationPane.commentsContentContainer.scrollTop<i&&(this.pdfViewerBase.navigationPane.commentsContentContainer.scrollTop=i),this.isNewcommentAdded=!1)},s.prototype.updateCommentsScrollTop=function(e){var t,i=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+this.pdfViewerBase.currentPageNumber),n=document.querySelector(".e-pv-comments-border"),o=0;i&&n&&(o=n.getBoundingClientRect().height,t=void 0,t=e?i.offsetTop+n.offsetTop+o/4:i.offsetTop+n.offsetTop-70,this.pdfViewerBase.navigationPane.commentsContentContainer.scrollTop=t)},s.prototype.createCommentDiv=function(t){var e,i,n=this,o=G.createElement("div",{id:this.pdfViewer.element.id+"_newcommentdiv_"+this.commentsCount+"_"+this.commentsreplyCount,className:"e-pv-new-comments-div"}),r=(t.localName?e=t:(e=t.valueEle.parentElement.parentElement.parentElement.parentElement,i=t.valueEle.parentElement.parentElement.previousSibling.childNodes[1]),this.pdfViewer.enableAutoComplete?"on":"off"),r=new N.InPlaceEditor({mode:"Inline",type:"Text",value:"",editableOn:"Click",model:{placeholder:this.pdfViewer.localeObj.getConstant("Add a reply")+"..",htmlAttributes:{autocomplete:r}},emptyText:this.pdfViewer.localeObj.getConstant("Add a reply"),saveButton:{content:this.pdfViewer.localeObj.getConstant("Post"),cssClass:"e-outline",disabled:!0},cancelButton:{content:this.pdfViewer.localeObj.getConstant("Cancel"),cssClass:"e-outline"},submitOnEnter:!0});if(r.appendTo(o),o.lastChild.firstChild.click(),this.getButtonState(r,o),t.valueEle){if(this.pdfViewer.enableHtmlSanitizer&&t.value&&(t.value=G.SanitizeHtmlHelper.sanitize(t.value)),null!==t.value&&""!==t.value&&" "!==t.value||""===t.value&&""!==t.prevValue){if(this.pdfViewer.selectedItems.annotations[0]&&"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType)this.modifyTextProperty(t.value,t.prevValue,t.valueEle.parentNode.parentNode.parentNode.parentNode.id);else try{this.modifyTextProperty(t.value,t.prevValue,t.valueEle.parentNode.parentNode.parentNode.parentNode.id)}catch(e){this.modifyTextProperty(t.value,t.prevValue)}t.prevValue!=t.value&&this.updateModifiedDate(i)}1===t.valueEle.parentElement.parentElement.parentElement.parentElement.childElementCount&&null!=t.value&&""!==t.value&&(e.appendChild(o),setTimeout(function(){n.updateCommentsScrollTop(!0)},50))}else e.appendChild(o),setTimeout(function(){n.updateCommentsScrollTop(!0)},50);r.actionSuccess=this.saveCommentDiv.bind(this,r)},s.prototype.saveCommentDiv=function(e,t){var i,n,o,r;this.pdfViewer.enableHtmlSanitizer&&e.value&&(e.value=G.SanitizeHtmlHelper.sanitize(e.value)),n=t.name&&""!==e.value?(i=e.valueEle.parentElement.parentElement.parentElement,o=e.valueEle.parentElement.parentElement,e.value):(o=(i=e).lastChild,t),i&&o&&(i.removeChild(o),e=G.createElement("div",{id:this.pdfViewer.element.id+"_replytextbox_"+this.commentsCount+"_"+this.commentsreplyCount}),this.commentsreplyCount=this.commentsreplyCount+1,(t=G.createElement("div",{id:this.pdfViewer.element.id+"replyDiv_"+this.commentsCount+"_"+this.commentsreplyCount,className:"e-pv-reply-div"})).id=this.pdfViewer.annotation.createGUID(),o=this.getAuthorName(this.pdfViewer.selectedItems.annotations[0],i),this.createReplyDivTitleContainer(t,null,o),t.addEventListener("mouseover",this.commentDivMouseOver.bind(this)),t.addEventListener("mouseleave",this.commentDivMouseLeave.bind(this)),t.addEventListener("click",this.commentDivOnSelect.bind(this)),e.addEventListener("dblclick",this.openEditorElement.bind(this)),t.style.border="1px",t.style.borderColor="black",t.style.zIndex=1002,o=this.pdfViewer.enableAutoComplete?"on":"off",(r=new N.InPlaceEditor({mode:"Inline",type:"Text",emptyText:"",editableOn:"EditIconClick",model:{placeholder:this.pdfViewer.localeObj.getConstant("Add a reply")+"..",htmlAttributes:{autocomplete:o}},value:n,saveButton:{content:this.pdfViewer.localeObj.getConstant("Post"),cssClass:"e-outline",disabled:!0},cancelButton:{content:this.pdfViewer.localeObj.getConstant("Cancel"),cssClass:"e-outline"}})).created=function(){setTimeout(function(){r.element.querySelector(".e-editable-value").innerText=n})},r.beginEdit=function(){r.value=r.valueEle.innerText},r.appendTo(e),r.actionSuccess=this.modifyProperty.bind(this,r),t.appendChild(e),t.style.paddingLeft="24px",i.appendChild(t),this.getButtonState(r,e),t.addEventListener("click",this.commentsDivClickEvent.bind(this)),t.addEventListener("dblclick",this.commentsDivDoubleClickEvent.bind(this)),this.createCommentDiv(t.parentElement),this.modifyCommentsProperty(n,t.id,i.id))},s.prototype.renderComments=function(e,t,i,n,o){var r,a,s=G.createElement("div",{id:this.pdfViewer.element.id+"_replytextbox_"+this.commentsCount+"_"+this.commentsreplyCount}),l=(this.commentsreplyCount=this.commentsreplyCount+1,G.createElement("div",{id:"replyDiv_"+this.commentsCount+"_"+this.commentsreplyCount,className:"e-pv-reply-div"})),A=i?(l.id=e.annotName,e.author):(l.id=e.AnnotName,e.Author),A=(l.style.border="1px",l.style.borderColor="black",A=A||t.getAttribute("author"),i?void 0!==e.modifiedDate?this.createReplyDivTitleContainer(l,e.modifiedDate,A):this.createReplyDivTitleContainer(l,null,A):this.createReplyDivTitleContainer(l,e.ModifiedDate,A),l.addEventListener("mouseover",this.commentDivMouseOver.bind(this)),l.addEventListener("mouseleave",this.commentDivMouseLeave.bind(this)),l.addEventListener("click",this.commentDivOnSelect.bind(this)),s.addEventListener("dblclick",this.openEditorElement.bind(this)),this.pdfViewer.enableAutoComplete?"on":"off"),d=new N.InPlaceEditor({mode:"Inline",type:"Text",emptyText:"",editableOn:"EditIconClick",model:{placeholder:this.pdfViewer.localeObj.getConstant("Add a reply")+"..",htmlAttributes:{autocomplete:A}},value:"",saveButton:{content:this.pdfViewer.localeObj.getConstant("Post"),cssClass:"e-outline",disabled:!0},cancelButton:{content:this.pdfViewer.localeObj.getConstant("Cancel"),cssClass:"e-outline"}});d.value=i?e.note:e.Note,d.created=function(){setTimeout(function(){d.element.querySelector(".e-editable-value").innerText=i?e?e.note:"":e?e.Note:""})},d.beginEdit=function(){d.value=d.valueEle.innerText},d.appendTo(s),l.appendChild(s),i&&(e.State=e.state),e.State&&(A=G.createElement("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),r=G.createElement("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),a=G.createElement("span",{id:this.pdfViewer.element.id+"status_icon"}),r.appendChild(a),A.appendChild(r),l.appendChild(A),this.updateStatusContainer(e.State,a,r,A)),l.style.paddingLeft="24px",this.getButtonState(d,s),!i||o?t.appendChild(l):(a=document.getElementById(n),e.position?a.insertBefore(l,a.childNodes[e.position]):a&&(1<a.childElementCount?a.insertBefore(l,a.childNodes[a.childElementCount-1]):t.appendChild(l))),l.addEventListener("click",this.commentsDivClickEvent.bind(this)),l.addEventListener("dblclick",this.commentsDivDoubleClickEvent.bind(this)),d.actionSuccess=this.modifyProperty.bind(this,d)},s.prototype.createCommentsContainer=function(e,t,i){for(var n,o=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+t),r=(!o&&((r=document.getElementById(this.pdfViewer.element.id+"_accordionPageContainer"+t))&&r.parentElement.removeChild(r),o=this.createPageAccordion(t))&&o.ej2_instances[0].expandItem(!0),document.getElementById(this.pdfViewer.element.id+"_accordioncontent"+t)),o=(this.commentsContainer=G.createElement("div",{id:this.pdfViewer.element.id+"commentscontainer_"+t+"_"+this.commentsCount,className:"e-pv-comments-container"}),this.commentsContainer.accessKey=t.toString()+"_"+this.commentsCount,e&&(this.commentsContainer.id=e.annotName||e.annotationId),this.commentsContainer.addEventListener("mousedown",this.commentsAnnotationSelect.bind(this)),G.createElement("div",{id:this.pdfViewer.element.id+"_commentdiv_"+t+"_"+this.commentsCount,className:"e-pv-comments-div"})),r=(this.commentsCount=this.commentsCount+1,this.commentsContainer.appendChild(o),this.updateCommentPanelScrollTop(t),e&&r&&(e.position||0===e.position?r.insertBefore(this.commentsContainer,r.children[e.position]):r.appendChild(this.commentsContainer)),e&&r&&(e.indent?(this.commentsContainer.setAttribute("name","shape_measure"),this.createTitleContainer(o,"shape_measure",t,e.subject,e.modifiedDate,e.author)):"sticky"===e.shapeAnnotationType||"stamp"===e.shapeAnnotationType?(r=this.createTitleContainer(o,e.shapeAnnotationType,t,null,e.modifiedDate,e.author),this.commentsContainer.setAttribute("name",r),"sticky"!==r||i||this.addStickyNotesAnnotations(t-1,e)):"textMarkup"===e.shapeAnnotationType?(this.commentsContainer.setAttribute("name","textMarkup"),this.createTitleContainer(o,"textMarkup",t,e.subject,e.modifiedDate,e.author)):"FreeText"===e.shapeAnnotationType?(e.note=e.dynamicText,this.commentsContainer.setAttribute("name","freetext"),this.createTitleContainer(o,"freeText",t,e.subject,e.modifiedDate)):"Ink"===e.shapeAnnotationType?(e.note=e.dynamicText,this.commentsContainer.setAttribute("name","ink"),this.createTitleContainer(o,"ink",t,e.subject,e.modifiedDate)):(this.commentsContainer.setAttribute("name","shape"),"Line"===e.shapeAnnotationType?this.createTitleContainer(o,"shape",t,e.subject,e.modifiedDate,e.author):this.createTitleContainer(o,"shape",t,e.shapeAnnotationType,e.modifiedDate,e.author))),G.createElement("div",{id:this.pdfViewer.element.id+"_commenttextbox_"+t+"_"+this.commentsCount,className:"e-pv-comment-textbox",attrs:{role:"textbox","aria-label":"comment textbox"}})),i=this.pdfViewer.enableAutoComplete?"on":"off",a=new N.InPlaceEditor({mode:"Inline",type:"Text",model:{placeholder:this.pdfViewer.localeObj.getConstant("Add a comment")+"..",htmlAttributes:{autocomplete:i}},emptyText:"",editableOn:"EditIconClick",saveButton:{content:this.pdfViewer.localeObj.getConstant("Post"),cssClass:"e-outline",disabled:!0},cancelButton:{content:this.pdfViewer.localeObj.getConstant("Cancel"),cssClass:"e-outline"},submitOnEnter:!0}),s=(a.appendTo(r),document.querySelectorAll(".e-editable-inline")),l=0;l<s.length;l++)s[parseInt(l.toString(),10)].style.display="none";if((r.addEventListener("keydown",function(e){a.element.querySelector(".e-btn-save")&&(""!==e.srcElement.value?a.element.querySelector(".e-btn-save").ej2_instances[0].disabled=!1:a.element.querySelector(".e-btn-save").ej2_instances[0].disabled=!0)}),a.actionSuccess=this.createCommentDiv.bind(this,a),o.appendChild(r),e)&&(a.value=e.note,e.state&&(t=G.createElement("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),i=G.createElement("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),n=G.createElement("span",{id:this.pdfViewer.element.id+"status_icon"}),i.appendChild(n),t.appendChild(i),o.appendChild(t),this.updateStatusContainer(e.state,n,i,t)),e.comments)){for(l=0;l<e.comments.length;l++)this.renderComments(e.comments[parseInt(l.toString(),10)],this.commentsContainer,!0,null,!0);0<e.comments.length&&this.createCommentDiv(this.commentsContainer)}return o.addEventListener("click",this.commentsDivClickEvent.bind(this)),o.addEventListener("mouseover",this.commentDivMouseOver.bind(this)),o.addEventListener("mouseleave",this.commentDivMouseLeave.bind(this)),o.addEventListener("mouseout",this.commentDivMouseLeave.bind(this)),o.addEventListener("focusout",this.commentDivMouseLeave.bind(this)),r.addEventListener("dblclick",this.openEditorElement.bind(this)),this.commentsContainer.id},s.prototype.modifyProperty=function(e){var t=e.element.parentElement.id,i=e.element.parentElement.parentElement.id,n=e.element.previousSibling.firstChild;this.updateModifiedDate(n),this.modifyCommentsProperty(e.value,t,i,e.prevValue)},s.prototype.createTitleContainer=function(e,t,i,n,o,r,a){var t=this.getAnnotationType(t),s=G.createElement("div",{id:this.pdfViewer.element.id+"_commentTitleConatiner_"+i+"_"+this.commentsCount,className:"e-pv-comment-title-container"}),l=G.createElement("span",{id:this.pdfViewer.element.id+"_commenttype_icon"+i+"_"+this.commentsCount}),l=(l.style.opacity="0.6",this.updateCommentIcon(l,t,n),r=(r=r||this.pdfViewer.annotationModule.updateAnnotationAuthor(t,n)).replace(/(\r\n|\n|\r)/gm,""),l.style.padding="8px",l.style.cssFloat="left",s.appendChild(l),G.createElement("div",{id:this.pdfViewer.element.id+"_commentTitle_"+i+"_"+this.commentsCount,className:"e-pv-comment-title"})),i=(l.textContent=o?r+" - "+this.convertUTCDateToLocalDate(o):r+" - "+this.setModifiedDate(),s.appendChild(l),this.moreButtonId=this.pdfViewer.element.id+"_more-options_"+this.commentsCount+"_"+this.commentsreplyCount,G.createElement("button",{id:this.moreButtonId,className:"e-pv-more-options-button e-btn",attrs:{tabindex:"-1"}})),o=(i.style.visibility="hidden",i.style.zIndex="1001",i.setAttribute("type","button"),i.setAttribute("aria-label","more button"),G.createElement("span",{id:this.pdfViewer.element.id+"_more-options_icon",className:"e-pv-more-icon e-pv-icon"})),r=(i.appendChild(o),o.style.opacity="0.87",s.appendChild(i),e.appendChild(s),e.parentElement);return r&&(o=this.pdfViewer.annotationModule.updateAnnotationAuthor(t,n),r.setAttribute("author",o)),this.isCreateContextMenu||this.createCommentContextMenu(),this.isCreateContextMenu=!0,l.parentElement&&0!==l.parentElement.clientWidth?l.style.maxWidth=l.parentElement.clientWidth-i.clientWidth+"px":l.style.maxWidth="237px",s.addEventListener("dblclick",this.openTextEditor.bind(this)),i.addEventListener("mouseup",this.moreOptionsClick.bind(this)),t},s.prototype.createReplyDivTitleContainer=function(e,t,i){var n=G.createElement("div",{id:this.pdfViewer.element.id+"_replyTitleConatiner_"+this.commentsCount+"_"+this.commentsreplyCount,className:"e-pv-reply-title-container"}),o=G.createElement("div",{id:this.pdfViewer.element.id+"_replyTitle_"+this.commentsCount+"_"+this.commentsreplyCount,className:"e-pv-reply-title"}),t=(i=i.replace(/(\r\n|\n|\r)/gm,""),o.textContent=t?i+" - "+this.setExistingAnnotationModifiedDate(t):i+" - "+this.setModifiedDate(),n.appendChild(o),this.moreButtonId=this.pdfViewer.element.id+"_more-options_"+this.commentsCount+"_"+this.commentsreplyCount,G.createElement("button",{id:this.moreButtonId,className:"e-pv-more-options-button e-btn",attrs:{tabindex:"-1"}})),i=(t.style.visibility="hidden",t.style.zIndex="1001",t.setAttribute("type","button"),t.setAttribute("aria-label","more button"),G.createElement("span",{id:this.pdfViewer.element.id+"_more-options_icon",className:"e-pv-more-icon e-pv-icon"})),i=(t.appendChild(i),i.style.opacity="0.87",n.appendChild(t),e.appendChild(n),document.querySelectorAll('[class="e-pv-comment-title"]')),e=document.querySelectorAll('[class="e-pv-more-options-button e-btn"]');i[0]&&e[0]&&i[0].parentElement&&0!==i[0].parentElement.clientWidth?o.style.maxWidth=i[0].parentElement.clientWidth-e[0].clientWidth+"px":o.style.maxWidth="237px",n.addEventListener("dblclick",this.openTextEditor.bind(this)),t.addEventListener("mouseup",this.moreOptionsClick.bind(this))},s.prototype.updateCommentIcon=function(e,t,i){"sticky"===t?e.className="e-pv-comment-icon e-pv-icon":"stamp"===t?e.className="e-pv-stamp-icon e-pv-icon":"shape"===t?e.className="Line"===i?"e-pv-shape-line-icon e-pv-icon":"LineWidthArrowHead"===i||"Arrow"===i?"e-pv-shape-arrow-icon e-pv-icon":"Circle"===i||"Ellipse"===i||"Oval"===i?"e-pv-shape-circle-icon e-pv-icon":"Rectangle"===i||"Square"===i?"e-pv-shape-rectangle-icon e-pv-icon":"Polygon"===i?"e-pv-shape-pentagon-icon e-pv-icon":"e-pv-annotation-shape-icon e-pv-icon":"measure"===t?e.className="Distance"===i||"Distance calculation"===i?"e-pv-calibrate-distance-icon e-pv-icon":"Perimeter"===i||"Perimeter calculation"===i?"e-pv-calibrate-perimeter-icon e-pv-icon":"Radius"===i||"Radius calculation"===i?"e-pv-calibrate-radius-icon e-pv-icon":"Area"===i||"Area calculation"===i?"e-pv-calibrate-area-icon e-pv-icon":"Volume"===i||"Volume calculation"===i?"e-pv-calibrate-volume-icon e-pv-icon":"e-pv-annotation-calibrate-icon e-pv-icon":"textMarkup"===t?e.className="Highlight"===i?"e-pv-highlight-icon e-pv-icon":"Underline"===i?"e-pv-underline-icon e-pv-icon":"Strikethrough"===i?"e-pv-strikethrough-icon e-pv-icon":"e-pv-annotation-icon e-pv-icon":"freeText"===t?e.className="e-pv-freetext-icon e-pv-icon":"ink"!==t&&"Ink"!==i||(e.className="e-pv-inkannotation-icon e-pv-icon")},s.prototype.updateStatusContainer=function(e,t,i,n){"Accepted"===e?(i.style.backgroundColor="rgb(24,169,85)",t.className="e-pv-accepted-icon"):"Completed"===e?(i.style.backgroundColor="rgb(0,122,255)",t.className="e-pv-completed-icon"):"Cancelled"===e?(i.style.backgroundColor="rgb(245,103,0)",t.className="e-pv-cancelled-icon"):"Rejected"===e?(i.style.backgroundColor="rgb(255,59,48)",t.className="e-pv-rejected-icon"):(t.className="",n.parentElement.removeChild(n))},s.prototype.updateAccordionContainer=function(e){e=parseInt(e.accessKey.split("_")[0],10),e=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+e),e&&e.parentElement.removeChild(e),e=document.getElementById(this.pdfViewer.element.id+"_accordionContentContainer");e&&0===e.childElementCount&&(e.style.display="none",document.getElementById(this.pdfViewer.element.id+"_commentsPanelText"))&&(this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export Annotations")],!1),this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export XFDF")],!1),document.getElementById(this.pdfViewer.element.id+"_commentsPanelText").style.display="block",this.updateCommentPanelTextTop())},s.prototype.createCommentContextMenu=function(){this.commentContextMenu=[{text:this.pdfViewer.localeObj.getConstant("Edit")},{text:this.pdfViewer.localeObj.getConstant("Delete Context")},{text:this.pdfViewer.localeObj.getConstant("Set Status"),items:[{text:this.pdfViewer.localeObj.getConstant("None")},{text:this.pdfViewer.localeObj.getConstant("Accepted")},{text:this.pdfViewer.localeObj.getConstant("Cancelled")},{text:this.pdfViewer.localeObj.getConstant("Completed")},{text:this.pdfViewer.localeObj.getConstant("Rejected")}]}];var e=G.createElement("ul",{id:this.pdfViewer.element.id+"_comment_context_menu"});this.pdfViewer.element.appendChild(e),this.commentMenuObj=new w.ContextMenu({target:"#"+this.moreButtonId,items:this.commentContextMenu,beforeOpen:this.contextMenuBeforeOpen.bind(this),select:this.commentMenuItemSelect.bind(this)}),this.pdfViewer.enableRtl&&(this.commentMenuObj.enableRtl=!0),this.commentMenuObj.appendTo(e),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?this.commentMenuObj.animationSettings.effect="ZoomIn":this.commentMenuObj.animationSettings.effect="SlideDown"},s.prototype.contextMenuBeforeOpen=function(e){var t,i=document.querySelectorAll(".e-pv-more-options-button");if(i)for(var n=0;n<i.length;n++)"visible"===i[parseInt(n.toString(),10)].style.visibility&&(t=i[parseInt(n.toString(),10)].parentElement.nextSibling);this.checkIslockProperty(t)?(this.commentMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Edit")],!1),this.commentMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Delete Context")],!1)):(this.commentMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Edit")],!0),this.commentMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Delete Context")],!0))},s.prototype.commentMenuItemSelect=function(e){var t,i=document.querySelectorAll(".e-pv-more-options-button");if(i){for(var n=0;n<i.length;n++)"visible"===i[parseInt(n.toString(),10)].style.visibility&&(t=i[parseInt(n.toString(),10)].parentElement.nextSibling);if(e.item)switch(e.item.text){case this.pdfViewer.localeObj.getConstant("Edit"):for(var o=document.querySelectorAll(".e-pv-new-comments-div"),n=0;n<o.length;n++)o[parseInt(n.toString(),10)].style.display="none";t.ej2_instances[0].enableEditMode=!0;break;case this.pdfViewer.localeObj.getConstant("Delete Context"):t.parentElement.parentElement.firstChild===t.parentElement?(r=this.getAnnotationById(t.parentElement.parentElement))&&(a=r.annotation,r.pageIndex,a)&&this.handleCommentDeletion(a):this.modifyCommentDeleteProperty(t.parentElement.parentElement,t.parentElement);break;case this.pdfViewer.localeObj.getConstant("Set Status"):break;case this.pdfViewer.localeObj.getConstant("Accepted"):t.parentElement.lastChild.id===this.pdfViewer.element.id+"status_container"&&t.parentElement.lastChild.remove();var r=G.createElement("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),a=G.createElement("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),s=G.createElement("span",{id:this.pdfViewer.element.id+"status_icon",className:"e-pv-accepted-icon"});a.style.backgroundColor="rgb(24,169,85)",a.appendChild(s),r.appendChild(a),t.parentElement.appendChild(r),this.modifyStatusProperty("Accepted",t.parentElement);break;case this.pdfViewer.localeObj.getConstant("Completed"):t.parentElement.lastChild.id===this.pdfViewer.element.id+"status_container"&&t.parentElement.lastChild.remove();s=G.createElement("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),a=G.createElement("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),r=G.createElement("span",{id:this.pdfViewer.element.id+"status_icon",className:"e-pv-completed-icon"});a.style.backgroundColor="rgb(0,122,255)",a.appendChild(r),s.appendChild(a),t.parentElement.appendChild(s),this.modifyStatusProperty("Completed",t.parentElement);break;case this.pdfViewer.localeObj.getConstant("Cancelled"):t.parentElement.lastChild.id===this.pdfViewer.element.id+"status_container"&&t.parentElement.lastChild.remove();r=G.createElement("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),a=G.createElement("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),s=G.createElement("span",{id:this.pdfViewer.element.id+"status_icon",className:"e-pv-cancelled-icon"});a.style.backgroundColor="rgb(245,103,0)",a.appendChild(s),r.appendChild(a),t.parentElement.appendChild(r),this.modifyStatusProperty("Cancelled",t.parentElement);break;case this.pdfViewer.localeObj.getConstant("Rejected"):t.parentElement.lastChild.id===this.pdfViewer.element.id+"status_container"&&t.parentElement.lastChild.remove();s=G.createElement("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),a=G.createElement("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),r=G.createElement("span",{id:this.pdfViewer.element.id+"status_icon",className:"e-pv-rejected-icon"});a.style.backgroundColor="rgb(255,59,48)",a.appendChild(r),s.appendChild(a),t.parentElement.appendChild(s),this.modifyStatusProperty("Rejected",t.parentElement);break;case this.pdfViewer.localeObj.getConstant("None"):t.parentElement.lastChild.id===this.pdfViewer.element.id+"status_container"&&t.parentElement.lastChild.remove(),this.modifyStatusProperty("None",t.parentElement)}}},s.prototype.handleCommentDeletion=function(e){G.isNullOrUndefined(e.note)||""===e.note||this.pdfViewer.fireCommentDelete(e.annotName,e.note,e),this.pdfViewer.annotationModule.deleteAnnotation()},s.prototype.getAnnotationById=function(t){var e=parseInt(t.accessKey.split("_")[0],10)-1,i=t.getAttribute("name"),i=this.getAnnotations(e,null,i);return i?{annotation:i.find(function(e){return e.annotName===t.id})||null,pageIndex:e}:null},s.prototype.moreOptionsClick=function(e,t){"block"!==document.getElementById(this.pdfViewer.element.id+"_comment_context_menu").style.display&&(this.pdfViewer.annotationModule.checkContextMenuDeleteItem(this.commentMenuObj),this.commentMenuObj.open(e.clientY,e.clientX,e.currentTarget)),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.inkAnnotationModule&&(e=parseInt(this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10),this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(e))},s.prototype.openTextEditor=function(e){for(var t=document.querySelectorAll(".e-pv-new-comments-div"),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].style.display="none";this.checkIslockProperty(e.currentTarget.nextSibling)?e.currentTarget.nextSibling.ej2_instances[0].enableEditMode=!1:e.currentTarget&&e.target&&this.checkAnnotationSettings(e.currentTarget.id)||(e.currentTarget.nextSibling.ej2_instances[0].enableEditMode=!0)},s.prototype.checkIslockProperty=function(e){var t,i=this.pdfViewer.annotationCollection;if(e.IsCommentLock)return!0;this.pdfViewer.annotationModule.textMarkupAnnotationModule&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?t=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation:this.pdfViewer.selectedItems.annotations[0]&&(t=this.pdfViewer.selectedItems.annotations[0]);for(var n=0;n<i.length;n++){i[parseInt(n.toString(),10)].annotationSettings=G.isNullOrUndefined(i[parseInt(n.toString(),10)].annotationSettings)?{}:i[parseInt(n.toString(),10)].annotationSettings;var o=G.isNullOrUndefined(i[parseInt(n.toString(),10)].note)?i[parseInt(n.toString(),10)].notes:i[parseInt(n.toString(),10)].note;if(i[parseInt(n.toString(),10)].annotationSettings.isLock&&(e.textContent===o||i[parseInt(n.toString(),10)].dynamicText===e.textContent))return!0;if(i[parseInt(n.toString(),10)].isCommentLock&&(this.pdfViewer.selectedItems.annotations[parseInt(n.toString(),10)]&&this.pdfViewer.selectedItems.annotations[parseInt(n.toString(),10)].isCommentLock||this.pdfViewer.annotationModule.textMarkupAnnotationModule&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation.isCommentLock))return!0;for(var r=0;r<i[parseInt(n.toString(),10)].comments.length;r++)if(t&&i[parseInt(n.toString(),10)].annotationId===t.annotName&&!0===i[parseInt(n.toString(),10)].comments[parseInt(r.toString(),10)].isLock&&e.textContent===i[parseInt(n.toString(),10)].comments[parseInt(r.toString(),10)].note)return!0}return!1},s.prototype.openEditorElement=function(e){for(var t=document.querySelectorAll(".e-pv-new-comments-div"),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].style.display="none";this.checkIslockProperty(e.currentTarget)?e.currentTarget.ej2_instances[0].enableEditMode=!1:e.currentTarget&&e.target?this.checkAnnotationSettings(e.currentTarget.id)||(!G.isNullOrUndefined(this.pdfViewer.selectedItems)&&this.pdfViewer.selectedItems.annotations[0]&&this.pdfViewer.selectedItems.annotations[0].isReadonly?e.currentTarget.ej2_instances[0].enableEditMode=!1:e.currentTarget.ej2_instances[0].enableEditMode=!0):e.currentTarget.ej2_instances[0].enableEditMode=!0},s.prototype.commentsDivClickEvent=function(e){var t=this.findAnnotationObject(e.currentTarget.parentElement.id);if(!(!G.isNullOrUndefined(t)&&(t.annotationSettings.isLock||t.isLock))){var i=!1;if(0===e.clientX&&0===e.clientY?this.isSetAnnotationType=!0:this.isSetAnnotationType=!1,"e-pv-more-icon e-pv-icon"===e.target.className)return null;for(var n=document.querySelectorAll(".e-pv-more-options-button"),o=0;o<n.length;o++)n[parseInt(o.toString(),10)].style.visibility="hidden";"none"===document.getElementById(this.pdfViewer.element.id+"_commantPanel").style.display&&this.pdfViewer.annotationModule.showCommentsPanel(),e.currentTarget.parentElement.classList.contains("e-pv-comments-border")&&(i=!0),e.currentTarget.firstChild.lastChild.style.visibility="visible";var r=document.querySelectorAll(".e-pv-comments-border");if(r)for(var a=0;a<r.length;a++)r[parseInt(a.toString(),10)].classList.remove("e-pv-comments-border");e.currentTarget.parentElement.classList.add("e-pv-comments-border");for(var s=document.querySelectorAll(".e-pv-new-comments-div"),o=0;o<s.length;o++)s[parseInt(o.toString(),10)].style.display="none";var l=e.currentTarget.parentElement.lastChild,A=e.currentTarget.parentElement;if(l){if(l.style.display="block",l.querySelector(".e-editable-inline")){this.isEditableElement||(l.querySelector(".e-editable-inline").style.display="block");for(o=0;o<A.childElementCount;o++){var d=A.childNodes[parseInt(o.toString(),10)].querySelector(".e-editable-inline");d&&""===d.style.display&&(l.style.display="none",l.querySelector(".e-editable-inline").style.display="none")}}!this.isSetAnnotationType||i||this.updateCommentsScrollTop()}1===e.currentTarget.parentElement.childElementCount&&(this.pdfViewer.enableShapeLabel&&(i=e.currentTarget.parentElement.getAttribute("name"),this.isSetAnnotationType)&&"shape"===i?e.currentTarget.childNodes[1].ej2_instances[0].enableEditMode=!1:e.currentTarget.childNodes[1].ej2_instances[0].enableEditMode=!0);i=void 0;e&&e.currentTarget&&e.currentTarget.childNodes[1]&&(i=e.currentTarget.childNodes[1].ej2_instances[0]),e.currentTarget&&e.currentTarget.id&&i&&(t&&t.isCommentLock&&(i.enableEditMode=!1,this.createCommentDiv(e.currentTarget)),this.pdfViewer.fireCommentSelect(e.currentTarget.id,e.currentTarget.childNodes[1].ej2_instances[0].value,t)),this.commentDivOnSelect(e),e.preventDefault()}},s.prototype.commentsDivDoubleClickEvent=function(e){for(var t=document.querySelectorAll(".e-pv-new-comments-div"),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].style.display="none";this.checkIslockProperty(e.currentTarget.children[1])?2===e.currentTarget.childElementCount?e.currentTarget.lastChild.ej2_instances[0].enableEditMode=!1:e.currentTarget.childNodes[1].ej2_instances[0].enableEditMode=!1:e.currentTarget&&e.target&&(this.checkAnnotationSettings(e.currentTarget.id)||(2===e.currentTarget.childElementCount?e.currentTarget.lastChild.ej2_instances[0].enableEditMode=!0:e.currentTarget.childNodes[1].ej2_instances[0].enableEditMode=!0))},s.prototype.commentDivOnSelect=function(e){for(var t=document.querySelectorAll(".e-pv-comments-select"),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].classList.remove("e-pv-comments-select");var n=document.getElementById(e.currentTarget.id);n&&(n.classList.remove("e-pv-comments-hover"),n.classList.remove("e-pv-comments-leave"),n.classList.add("e-pv-comments-select"),e.currentTarget.nextSibling)&&e.currentTarget.nextSibling.classList.contains("e-pv-new-comments-div")&&((n=document.getElementById(e.currentTarget.nextSibling.id)).classList.remove("e-pv-comments-hover"),n.classList.remove("e-pv-comments-leave"),n.classList.add("e-pv-comments-select"))},s.prototype.commentDivMouseOver=function(e){var t=document.getElementById(e.currentTarget.id);t&&(t.classList.remove("e-pv-comments-select"),t.classList.remove("e-pv-comments-leave"),t.classList.add("e-pv-comments-hover"),e.currentTarget.nextSibling)&&e.currentTarget.nextSibling.classList.contains("e-pv-new-comments-div")&&((t=document.getElementById(e.currentTarget.nextSibling.id)).classList.remove("e-pv-comments-select"),t.classList.remove("e-pv-comments-leave"),t.classList.add("e-pv-comments-hover"))},s.prototype.commentDivMouseLeave=function(e){var t=document.getElementById(e.currentTarget.id);t&&(t.classList.remove("e-pv-comments-hover"),t.classList.remove("e-pv-comments-select"),t.classList.add("e-pv-comments-leave"),e.currentTarget.nextSibling)&&e.currentTarget.nextSibling.classList.contains("e-pv-new-comments-div")&&((t=document.getElementById(e.currentTarget.nextSibling.id)).classList.remove("e-pv-comments-hover"),t.classList.remove("e-pv-comments-select"),t.classList.add("e-pv-comments-leave"))},s.prototype.drawIcons=function(e){var t,i,n;this.pdfViewerBase.isCommentIconAdded&&(t=this.pdfViewer.annotation.getEventPageNumber(e),n=this.pdfViewerBase.getElement("_pageDiv_"+t).getBoundingClientRect(),i=this.pdfViewerBase.getZoomFactor(),this.pdfViewer.annotationModule.isFormFieldShape=!1,this.pdfViewer.annotation.stickyNotesAnnotationModule.drawStickyNotes((e.clientX-n.left)/i,(e.clientY-n.top)/i,30,30,t,null),this.pdfViewerBase.isCommentIconAdded=!1,e=document.getElementById(this.pdfViewer.element.id+"_comment"),(e=G.isBlazor()?e.children[0]:e)&&e.classList.contains("e-pv-select")?e.classList.remove("e-pv-select"):(n=document.getElementById(this.pdfViewer.element.id+"_commentIcon"))&&(this.pdfViewer.enableRtl?n.className="e-pv-comment-icon e-pv-icon e-icon-left e-right":n.className="e-pv-comment-icon e-pv-icon e-icon-left"))},s.prototype.addComments=function(e,t,i){document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+t)||this.pdfViewer.annotation.stickyNotesAnnotationModule.createPageAccordion(t);t=this.pdfViewer.annotation.stickyNotesAnnotationModule.createCommentControlPanel(null,t,e,i);return t},s.prototype.commentsAnnotationSelect=function(e){var t=e.currentTarget;if(this.checkAnnotationSettings(t.id)){r=parseInt(t.accessKey.split("_")[0],10);this.pdfViewer.navigation&&this.pdfViewer.navigationModule.goToPage(r),"null"!==(o=t.getAttribute("name"))&&"Ink"!==o||(o="ink"),this.isCommentsSelected=!1,this.setAnnotationType(t.id,o,r),this.isCommentsSelected||(this.selectAnnotationObj={id:t.id,annotType:o,pageNumber:r})}else{if(t.classList.contains("e-pv-comments-border")){for(var i=document.querySelectorAll(".e-pv-comments-div"),n=0;n<i.length;n++)i[parseInt(n.toString(),10)].style.minHeight="60px";1===e.currentTarget.childElementCount&&e.currentTarget.childNodes[0].querySelector(".e-editable-inline")&&(e.currentTarget.childNodes[0].style.minHeight=e.currentTarget.childNodes[0].clientHeight)}if("e-pv-more-icon e-pv-icon"===e.target.className||"e-pv-more-options-button e-btn"===e.target.className)return e.preventDefault(),null;var o,r=parseInt(t.accessKey.split("_")[0],10);if(t.classList.contains("e-pv-comments-border"))this.isSetAnnotationType=!0;else{var a=document.querySelectorAll(".e-pv-comments-border");if(a)for(n=0;n<a.length;n++)a[parseInt(n.toString(),10)].classList.remove("e-pv-comments-border");(i=document.getElementById(t.id))&&(document.querySelectorAll('.e-pv-more-options-button[style*="visibility: visible"]').forEach(function(e){return e.style.visibility="hidden"}),"e-editable-value-wrapper"===e.target.className?e.target.parentElement.parentElement.firstChild.lastChild.style.visibility="visible":"e-pv-reply-title"===e.target.className||"e-pv-comment-title"===e.target.className?e.target.parentElement.lastChild.style.visibility="visible":"e-editable-value"===e.target.className&&(e.target.parentElement.parentElement.parentElement.firstChild.lastChild.style.visibility="visible"),i.classList.add("e-pv-comments-border"));for(var s,l=document.querySelectorAll(".e-pv-new-comments-div"),n=0;n<l.length;n++)l[parseInt(n.toString(),10)].style.display="none";i&&(s=i.querySelector(".e-pv-new-comments-div"))&&(s.style.display="block");var A=t.lastChild;if(this.isEditableElement=!1,A.querySelector(".e-editable-inline")){A.style.display="block",A.querySelector(".e-editable-inline").style.display="block";for(var d=0;d<t.childElementCount;d++){var p=t.childNodes[parseInt(d.toString(),10)].querySelector(".e-editable-inline");p&&""===p.style.display&&A.classList.contains("e-pv-new-comments-div")&&(this.isEditableElement=!0,A.style.display="none",A.querySelector(".e-editable-inline").style.display="none")}}this.isSetAnnotationType=!1,1===e.currentTarget.childElementCount&&(e.currentTarget.childNodes[0].childNodes[1].ej2_instances[0].enableEditMode=!0)}this.isSetAnnotationType||("null"!==(o=t.getAttribute("name"))&&"Ink"!==o||(o="ink"),this.isCommentsSelected=!1,this.setAnnotationType(t.id,o,r),this.isCommentsSelected||(this.selectAnnotationObj={id:t.id,annotType:o,pageNumber:r}),this.pdfViewer.navigation&&this.pdfViewer.navigationModule.goToPage(r))}this.isSetAnnotationType=!1},s.prototype.findAnnotationObject=function(e){if(this.pdfViewer.annotationModule.textMarkupAnnotationModule&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)return this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation;if(this.pdfViewer.selectedItems.annotations[0])return this.pdfViewer.selectedItems.annotations[0];if(i=this.pdfViewer.annotationCollection)for(var t=0;t<i.length;t++)if(i[parseInt(t.toString(),10)].annotationId&&i[parseInt(t.toString(),10)].annotationId===e){if("textMarkup"===i[parseInt(t.toString(),10)].shapeAnnotationType)return i[parseInt(t.toString(),10)];for(var i=this.pdfViewer.annotations,n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)].annotName&&i[parseInt(n.toString(),10)].annotName===e)return i[parseInt(n.toString(),10)]}},s.prototype.checkAnnotationSettings=function(t){var e=this.pdfViewer.annotationCollection;return!!e&&!(!((e=e.find(function(e){return e.annotationId===t}))&&e.annotationSettings&&e.annotationSettings.isLock)||(e.isCommentLock||0!==e.comments.length||!G.isNullOrUndefined(e.note)&&""!==e.note||"FreeText"===e.shapeAnnotationType)&&!(!G.isNullOrUndefined(e.comments)&&0<e.comments.length&&e.comments[0].isLock||e.isCommentLock))},s.prototype.updateCommentsContainerWidth=function(){var e=document.getElementById(this.pdfViewer.element.id+"_accordionContentContainer"),t=document.getElementById(this.pdfViewer.element.id+"_commentscontentcontainer");e.style.width=t.clientWidth+"px"},s.prototype.selectCommentsAnnotation=function(e){this.selectAnnotationObj&&!this.isCommentsSelected&&this.selectAnnotationObj.pageNumber-1===e&&(this.setAnnotationType(this.selectAnnotationObj.id,this.selectAnnotationObj.annotType,this.selectAnnotationObj.pageNumber),this.selectAnnotationObj=null,this.isCommentsSelected=!0)},s.prototype.setAnnotationType=function(e,t,i){var n="measure"===t?"shape_measure":t,o=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_"+(n="freeText"===n?"freetext":n));if(o=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_"+n]:o){var n=JSON.parse(o),r=this.pdfViewer.selectedItems.annotations[0],o=this.pdfViewer.annotationModule.getPageCollection(n,i-1);if(null!=o&&n[parseInt(o.toString(),10)])for(var a=n[parseInt(o.toString(),10)].annotations,s=0;s<a.length;s++){var l,A,d=a[parseInt(s.toString(),10)].annotationSelectorSettings;a[parseInt(s.toString(),10)].annotName===e&&(r&&(this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent()),this.pdfViewer.clearSelection(i-1),"textMarkup"===t?(this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearCurrentAnnotationSelection(i-1,!0),l=r&&"Highlight"===r.textMarkupAnnotationType?"_blendAnnotationsIntoCanvas_":"_annotationCanvas_",l=this.pdfViewerBase.getElement(l+(i-1)),this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectAnnotation(a[parseInt(s.toString(),10)],l,i-1),this.pdfViewer.annotation.textMarkupAnnotationModule.currentTextMarkupAnnotation=a[parseInt(s.toString(),10)],this.pdfViewer.annotation.textMarkupAnnotationModule.selectTextMarkupCurrentPage=i-1,this.pdfViewer.annotation.textMarkupAnnotationModule.enableAnnotationPropertiesTool(!0),this.pdfViewer.toolbarModule&&this.pdfViewer.enableAnnotationToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden=!0,this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem))):("stamp"===t?this.pdfViewer.select([a[parseInt(s.toString(),10)].randomId],d):"sticky"===t?this.pdfViewer.select([a[parseInt(s.toString(),10)].annotName],d):this.pdfViewer.select([a[parseInt(s.toString(),10)].id],d),this.pdfViewer.annotation.onAnnotationMouseDown()),"textMarkup"===t?(a[parseInt(s.toString(),10)].rect||a[parseInt(s.toString(),10)].bounds)&&(A=this.pdfViewerBase.pageSize[i-1].top*this.pdfViewerBase.getZoomFactor()+this.pdfViewer.annotationModule.getAnnotationTop(a[parseInt(s.toString(),10)])*this.pdfViewerBase.getZoomFactor())&&(l=(A-20).toString(),this.pdfViewerBase.viewerContainer.scrollTop=parseInt(l,10)):(d=a[parseInt(s.toString(),10)].bounds.top,"ink"===t&&(d=a[parseInt(s.toString(),10)].bounds.y),d=((A=this.pdfViewerBase.pageSize[i-1].top*this.pdfViewerBase.getZoomFactor()+d*this.pdfViewerBase.getZoomFactor())-20).toString(),this.pdfViewerBase.viewerContainer.scrollTop=parseInt(d,10)),this.isCommentsSelected=!0)}}},s.prototype.modifyTextProperty=function(e,t,i){var n,o=this.pdfViewer.annotationModule.textMarkupAnnotationModule;if((!(n=o&&o.currentTextMarkupAnnotation?this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation:n)||n.annotName!==i)&&(n=this.pdfViewer.selectedItems.annotations[0]),(G.isNullOrUndefined(n)&&i||!G.isNullOrUndefined(n)&&n.annotName!==i)&&(n=this.pdfViewer.annotationCollection.filter(function(e){return e.annotationId===i})[0]),i&&n.annotName!==i)for(var r=0;r<this.pdfViewer.annotations.length;r++)if(i===this.pdfViewer.annotations[parseInt(r.toString(),10)].annotName){n=this.pdfViewer.annotations[parseInt(r.toString(),10)];break}if(n){n.annotName=G.isNullOrUndefined(n.annotName)?n.annotationId:n.annotName;o=document.getElementById(n.annotName);if(o){var a=void 0,a=o.accessKey.split("_")[0]?parseInt(o.accessKey.split("_")[0],10):this.pdfViewerBase.currentPageNumber,o=o.getAttribute("name"),s=a-1,l=void 0,A=!1;if("FreeText"!==n.shapeAnnotationType&&(!this.pdfViewer.enableShapeLabel||"shape"!==o&&"shape_measure"!==o)||(a=!1,i&&n.annotName!==i&&(this.pdfViewer.annotation.modifyDynamicTextValue(e,i),a=!0),a)||("FreeText"===n.shapeAnnotationType?(n.dynamicText!==e&&(this.textFromCommentPanel=!0,this.pdfViewer.annotation.modifyDynamicTextValue(e,n.annotName)),n.dynamicText=e):(this.pdfViewer.annotation.modifyDynamicTextValue(e,n.annotName),n.labelContent=e,n.notes=e),this.pdfViewer.nodePropertyChange(n,{})),n.measureType&&""!==n.measureType?(l=this.getAnnotations(s,null,"shape_measure"),A=!0):l=this.getAnnotations(s,null,n.shapeAnnotationType),null!==l&&"FreeText"!==n.shapeAnnotationType)for(r=0;r<l.length;r++)if(l[parseInt(r.toString(),10)].annotName===n.annotName){var d=M(l[parseInt(r.toString(),10)]);if((!G.isNullOrUndefined(e)&&""!==e||!G.isNullOrUndefined(e)&&""===e&&""!==t)&&l[parseInt(r.toString(),10)].note!==e)return this.pdfViewer.annotation.addAction(s,r,l[parseInt(r.toString(),10)],"Text Property Added","",d,l[parseInt(r.toString(),10)]),(n=l[parseInt(r.toString(),10)]).note=e,n.enableShapeLabel&&(n.labelContent=e),n.modifiedDate=this.getDateAndTime(),A?this.updateUndoRedoCollections(n,s,"shape_measure"):this.updateUndoRedoCollections(n,s),t&&""!==t?this.pdfViewer.fireCommentEdit(n.annotName,n.note,n):this.pdfViewer.fireCommentAdd(n.annotName,n.note,n),n}}}},s.prototype.getDateAndTime=function(e){e=e||new Date,this.globalize=new G.Internationalization;return this.globalize.formatDate(new Date(e),{format:"M/d/yyyy h:mm:ss a",type:"dateTime"})},s.prototype.getDateAndTimeFormat=function(e){e=e||new Date,this.globalize=new G.Internationalization;var t={format:this.pdfViewer.dateTimeFormat,type:"dateTime"};return this.globalize.formatDate(new Date(e),t)},s.prototype.modifyCommentsProperty=function(e,t,i,n){var o=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation||this.pdfViewer.selectedItems.annotations[0];if(!o)for(var r=Object.keys(this.pdfViewer.nameTable),a=0;a<r.length;a++){var s=this.pdfViewer.nameTable[r[parseInt(a.toString(),10)]];if(i===s.annotName){o=s;break}}if(o){var l=document.getElementById(o.annotName),A=parseInt(l.accessKey.split("_")[0],10)-1,d=void 0,p=!1,l=this.getAuthorName(o,l);if(o.measureType&&""!==o.measureType?(d=this.getAnnotations(A,null,"shape_measure"),p=!0):d=this.getAnnotations(A,null,o.shapeAnnotationType),null!==d)for(a=0;a<d.length;a++)d[parseInt(a.toString(),10)].annotName===o.annotName&&(o=d[parseInt(a.toString(),10)]);var h=M(o);if(0<o.comments.length){for(var c,g=!1,u=0;u<o.comments.length;u++)o.comments[parseInt(u.toString(),10)].annotName===t&&(g=!0,o.comments[parseInt(u.toString(),10)].note=e,o.comments[parseInt(u.toString(),10)].modifiedDate=this.getDateAndTime());o.annotName===i&&(c={annotName:t,parentId:i,subject:o.subject,comments:[],author:l,note:e,shapeAnnotationType:"",state:"",stateModel:"",modifiedDate:this.getDateAndTime(),review:{state:"",stateModel:"",modifiedDate:this.getDateAndTime(),author:l},isLock:!1},g||(o.comments[o.comments.length]=c))}else o.annotName===i&&(c={annotName:t,parentId:i,subject:o.subject,comments:[],author:l,note:e,shapeAnnotationType:"",state:"",stateModel:"",modifiedDate:this.getDateAndTime(),review:{state:"",stateModel:"",modifiedDate:this.getDateAndTime(),author:l},isLock:!1},o.comments[o.comments.length]=c);this.pdfViewer.annotation.addAction(A,null,o,"Comments Property Added","",h,o),p?this.updateUndoRedoCollections(o,A,"shape_measure"):this.updateUndoRedoCollections(o,A)}void 0!==n?this.pdfViewer.fireCommentEdit(t,e,o):this.pdfViewer.fireCommentAdd(t,e,o)},s.prototype.modifyStatusProperty=function(e,t){var i=this.pdfViewer.annotation.textMarkupAnnotationModule.currentTextMarkupAnnotation||this.pdfViewer.selectedItems.annotations[0];if(i){var n=document.getElementById(i.annotName),o=parseInt(n.accessKey.split("_")[0],10)-1,r=void 0,a=!1,s=n.getAttribute("author");if(i.measureType&&""!==i.measureType?(r=this.getAnnotations(o,null,"shape_measure"),a=!0):r=this.getAnnotations(o,null,i.shapeAnnotationType),null!==r)for(var l=0;l<r.length;l++)r[parseInt(l.toString(),10)].annotName===i.annotName&&(i=r[parseInt(l.toString(),10)]);n=M(i);if(t.parentElement.firstChild.id===t.id)i.review={state:e,stateModel:"Review",author:s,modifiedDate:this.getDateAndTime(),annotId:t.id},i.state=e,i.stateModel="Review",this.pdfViewer.annotation.addAction(o,null,i,"Status Property Added","",n,i),this.pdfViewer.fireCommentStatusChanged(t.id,i.note,i,i.state);else for(var A,d=0;d<i.comments.length;d++)i.comments[parseInt(d.toString(),10)].annotName===t.id&&(A=M(i.comments[parseInt(d.toString(),10)]),i.comments[parseInt(d.toString(),10)].state=e,i.comments[parseInt(d.toString(),10)].stateModel="Review",i.comments[parseInt(d.toString(),10)].review={state:e,stateModel:"Review",author:s,modifiedDate:this.getDateAndTime(),annotId:t.id},this.pdfViewer.annotation.addAction(o,null,i,"Status Property Added","",A,i.comments[parseInt(d.toString(),10)]),this.pdfViewer.fireCommentStatusChanged(i.comments[parseInt(d.toString(),10)].annotName,i.comments[parseInt(d.toString(),10)].note,i,i.comments[parseInt(d.toString(),10)].state));a?this.updateUndoRedoCollections(i,o,"shape_measure"):this.updateUndoRedoCollections(i,o)}},s.prototype.modifyCommentDeleteProperty=function(e,t){var i=document.getElementById(e.id),e=this.getAnnotationById(e);if(i&&e){for(var n,o,r=e.annotation,e=e.pageIndex,a=void 0,s=void 0,l=1;l<i.childElementCount;l++)i.childNodes[parseInt(l.toString(),10)].id===t.id&&(o=r.comments[n=l-1],a=M(r),s=M(o),o.position=l,this.pdfViewer.fireCommentDelete(o.annotName,o.note,r),r.comments.splice(parseInt(n.toString(),10),1),t.remove());this.pdfViewer.annotation.addAction(e,null,a,"Comments Reply Deleted","",s,r),this.updateUndoRedoCollections(r,e)}},s.prototype.updateOpacityValue=function(e){var t=this.getAnnotations(e.pageIndex,null,e.shapeAnnotationType);if(this.pdfViewer.annotationModule.isFormFieldShape=!1,null!==t)for(var i=0;i<t.length;i++)t[parseInt(i.toString(),10)].annotName===e.annotName&&(t[parseInt(i.toString(),10)].opacity=e.opacity,this.updateUndoRedoCollections(t[parseInt(i.toString(),10)],e.pageIndex))},s.prototype.undoAction=function(e,t,i){var n;if("Text Property Added"===t){if(e&&(n=document.getElementById(e.annotName)))return r=parseInt(n.accessKey.split("_")[0],10)-1,a=M(e),n.firstChild.firstChild.nextSibling.ej2_instances[0].value=i.note,l=i.note,e.note=l,2===n.childElementCount&&(n.lastChild.style.display="block"),this.updateUndoRedoCollections(e,r),a}else if("Comments Property Added"===t){if(0<e.comments.length)return o=document.getElementById(e.annotName),r=this.pdfViewerBase.currentPageNumber-1,o&&(r=parseInt(o.accessKey.split("_")[0],10)-1),a=M(e),l=e.comments[e.comments.length-1],(l=document.getElementById(l.annotName))&&l.remove(),this.updateUndoRedoCollections(e=i,r),a}else if("Status Property Added"===t){if(e){var o=document.getElementById(e.annotName),r=this.pdfViewerBase.currentPageNumber-1,a=(o&&(r=parseInt(o.accessKey.split("_")[0],10)-1),M(e));if(e.annotName===i.annotName)e.review=i.review,e.state=i.state,e.stateModel=i.stateModel,this.pdfViewer.annotation.redoCommentsElement.push(e);else for(var s=0;s<e.comments.length;s++)if(e.comments[parseInt(s.toString(),10)].annotName===i.annotName){e.comments[parseInt(s.toString(),10)].state=i.state,e.comments[parseInt(s.toString(),10)].stateModel=i.stateModel,e.comments[parseInt(s.toString(),10)].review=i.review,this.pdfViewer.annotation.redoCommentsElement.push(e.comments[parseInt(s.toString(),10)]);break}var l=document.getElementById(i.annotName);return l.lastChild.id===this.pdfViewer.element.id+"status_container"?l.lastChild.remove():l.firstChild.lastChild.id===this.pdfViewer.element.id+"status_container"&&l.firstChild.lastChild.remove(),this.updateUndoRedoCollections(e,r),a}}else if("Comments Reply Deleted"===t){if(o=document.getElementById(e.annotName))return r=parseInt(o.accessKey.split("_")[0],10)-1,this.renderComments(i,o,!0,e.annotName),this.pdfViewer.annotation.redoCommentsElement.push(i),this.updateUndoRedoCollections(e,r),e}else if("dynamicText Change"===t)if(e)if(n=document.getElementById(e.annotName))return n.firstChild.firstChild.nextSibling.ej2_instances[0].value=i.dynamicText,e},s.prototype.redoAction=function(e,t,i){var n;if("Text Property Added"===t){if(n=document.getElementById(e.annotName))return s=parseInt(n.accessKey.split("_")[0],10)-1,n.firstChild.firstChild.nextSibling.ej2_instances[0].value=e.note,n.lastChild.style.display="block",this.updateUndoRedoCollections(e,s),e}else if("Comments Property Added"===t){var o=e.comments[e.comments.length-1],r=document.getElementById(e.annotName);if(r)return s=parseInt(r.accessKey.split("_")[0],10)-1,this.renderComments(o,r,!0,e.annotName),this.updateUndoRedoCollections(e,s),e}else{if("Status Property Added"===t){var a=this.pdfViewer.annotation.redoCommentsElement.pop(),s=this.pdfViewerBase.currentPageNumber-1;if(a){var l=G.createElement("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),A=G.createElement("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),d=G.createElement("span",{id:this.pdfViewer.element.id+"status_icon"});if(A.appendChild(d),l.appendChild(A),(g=document.getElementById(e.annotName))&&(s=parseInt(g.accessKey.split("_")[0],10)-1),e.annotName===a.annotName){this.updateStatusContainer(e.state,d,A,l);for(var p=0;p<g.firstChild.children.length;p++)g.firstChild.children[parseInt(p.toString(),10)].id===this.pdfViewer.element.id+"status_container"&&g.firstChild.children[parseInt(p.toString(),10)].parentElement.removeChild(g.firstChild.children[parseInt(p.toString(),10)]);g.firstChild.appendChild(l)}else for(p=0;p<e.comments.length;p++)if(e.comments[parseInt(p.toString(),10)].annotName===a.annotName){this.updateStatusContainer(e.comments[parseInt(p.toString(),10)].state,d,A,l);for(var h=document.getElementById(a.annotName),c=0;c<h.children.length;c++)h.children[parseInt(c.toString(),10)].id===this.pdfViewer.element.id+"status_container"&&h.children[parseInt(c.toString(),10)].parentElement.removeChild(h.children[parseInt(c.toString(),10)]);h&&h.appendChild(l)}}return this.updateUndoRedoCollections(e,s),e}if("Comments Reply Deleted"===t){for(var g,u,s=this.pdfViewerBase.currentPageNumber-1,a=((g=document.getElementById(e.annotName))&&(s=parseInt(g.accessKey.split("_")[0],10)-1),this.pdfViewer.annotation.redoCommentsElement.pop()),o=M(e),p=0;p<e.comments.length;p++)e.comments[parseInt(p.toString(),10)].annotName===a.annotName&&(u=document.getElementById(a.annotName),e.comments.splice(p,1),u.remove());return this.updateUndoRedoCollections(e,s),o}if("dynamicText Change"===t&&e&&(n=document.getElementById(e.annotName)))return n.firstChild.firstChild.nextSibling.ej2_instances[0].value=e.dynamicText,e}},s.prototype.updateUndoRedoCollections=function(e,t,i,n){var i=i||e.shapeAnnotationType,o=(e.indent&&""!==e.indent&&(i="shape_measure"),this.getAnnotations(t,null,i));if(null!==o){for(var r=0;r<o.length;r++)e.annotName===o[parseInt(r.toString(),10)].annotName&&(o[parseInt(r.toString(),10)]=e,this.pdfViewer.annotationModule.storeAnnotationCollections(o[parseInt(r.toString(),10)],t),n)&&(o.splice(r,1),this.deleteStickyNotesAnnotations(o,t));"shape_measure"===i?this.manageAnnotations(o,t,"shape_measure"):this.manageAnnotations(o,t,e.shapeAnnotationType)}},s.prototype.addAnnotationComments=function(e,t,i){var n=e+1,i=(i?this.pdfViewer.annotation.undoCommentsElement:this.pdfViewer.annotation.redoCommentsElement).pop();i&&(this.createCommentsContainer(i,n),this.updateUndoRedoCollections(i,e,t),this.pdfViewer.annotationModule.storeAnnotationCollections(i,n-1))},s.prototype.findPosition=function(e,t,i,n){var o,r=document.getElementById(e.annotName);if(r){for(var a=parseInt(r.accessKey.split("_")[0],10)-1,s=r.parentElement,l=0;l<s.childElementCount;l++)s.childNodes[parseInt(l.toString(),10)].id===e.annotName&&(o=l);"Stamp"===t||"Image"===t?t="stamp":"FreeText"===t?t="freetext":"StickyNotes"===t||"sticky"===t?t="sticky":"Ink"===t&&(t="ink");var A=this.getAnnotations(a,null,t);if(null!==A)for(var d,l=0;l<A.length;l++)A[parseInt(l.toString(),10)].annotName===e.annotName&&(d=M(A[parseInt(l.toString(),10)]),A[parseInt(l.toString(),10)].position=o,(n?this.pdfViewer.annotation.redoCommentsElement:this.pdfViewer.annotation.undoCommentsElement).push(A[parseInt(l.toString(),10)]),"sticky"===t)&&this.updateUndoRedoCollections(d,a,null,i)}},s.prototype.getAnnotations=function(e,t,i){var n=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_"+(i="Stamp"===i||"stamp"===i||"Image"===i?"stamp":"StickyNotes"===i||"sticky"===i?"sticky":"textMarkup"===i?"textMarkup":"shape"===i||"Line"===i||"Radius"===i||"Rectangle"===i||"Ellipse"===i||"Polygon"===i||"LineWidthArrowHead"===i||"Square"===i||"Circle"===i?"shape":"FreeText"===i||"freetext"===i||"freeText"===i?"freetext":"ink"===i||"Ink"===i?"ink":"shape_measure"));return(n=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_"+i]:n)&&(i=JSON.parse(n),null!=(n=this.pdfViewer.annotationModule.getPageCollection(i,e)))&&i[parseInt(n.toString(),10)]?i[parseInt(n.toString(),10)].annotations:t},s.prototype.manageAnnotations=function(e,t,i){var n=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_"+(i="Stamp"===i||"stamp"===i?"stamp":"Sticky"===i||"sticky"===i?"sticky":"textMarkup"===i?"textMarkup":"shape"===i||"Line"===i||"Radius"===i||"Rectangle"===i||"Ellipse"===i||"Polygon"===i||"LineWidthArrowHead"===i||"Square"===i||"Circle"===i?"shape":"FreeText"===i?"freetext":"ink"===i||"Ink"===i?"ink":"shape_measure"));(n=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_"+i]:n)&&(n=JSON.parse(n),this.pdfViewerBase.isStorageExceed||F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_"+i),null!=(t=this.pdfViewer.annotationModule.getPageCollection(n,t))&&n[parseInt(t.toString(),10)]&&(n[parseInt(t.toString(),10)].annotations=e),t=JSON.stringify(n),this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_"+i]=t:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_"+i,t))},s.prototype.updateStickyNotes=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sticky");if(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sticky"]:i)for(var n=e.bounds,o=JSON.parse(i),r=0;r<o.length;r++)for(var a=o[parseInt(r.toString(),10)],s=0;s<a.annotations.length;s++)if(o[parseInt(r.toString(),10)].annotations[parseInt(s.toString(),10)].annotName===e.annotName){this.pdfViewerBase.isStorageExceed||F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_sticky");this.pdfViewer.annotationModule.getPageCollection(o,0);o[parseInt(r.toString(),10)]&&(o[parseInt(r.toString(),10)].annotations[parseInt(s.toString(),10)].bounds={left:n.x,top:n.y,width:n.width,height:n.height,right:n.right,bottom:n.bottom});var l=JSON.stringify(o);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sticky"]=l:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_sticky",l);break}},s.prototype.saveStickyAnnotations=function(){for(var e=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sticky"),t=(this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sticky"]),[]),i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s=0;a.annotations.length>s;s++)this.pdfViewer.annotationModule.updateModifiedDate(a.annotations[parseInt(s.toString(),10)]),a.annotations[parseInt(s.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getBounds(a.annotations[parseInt(s.toString(),10)].bounds,a.pageIndex));r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},s.prototype.deleteStickyNotesAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sticky");(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sticky"]:i)&&(i=JSON.parse(i),this.pdfViewerBase.isStorageExceed||F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_sticky"),null!=(t=this.pdfViewer.annotationModule.getPageCollection(i,t))&&i[parseInt(t.toString(),10)]&&(i[parseInt(t.toString(),10)].annotations=e),t=JSON.stringify(i),this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sticky"]=t:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_sticky",t))},s.prototype.addStickyNotesAnnotations=function(e,t){var i=this.getAnnotations(e,null,"sticky");i&&i.push(t),this.manageAnnotations(i,e,"sticky")},s.prototype.addTextToComments=function(e,t){e=document.getElementById(e);e&&(e.firstChild.firstChild.nextSibling.ej2_instances[0].value=t)},s.prototype.updateAnnotationCollection=function(e,t,i){var n=this.findAnnotationType(t),o=this.getAnnotations(t.pageIndex,null,n);if(null!==(o=i?this.pdfViewer.annotationModule.removedAnnotationCollection:o))for(var r=0;r<o.length;r++)if(i&&!o[parseInt(r.toString(),10)].annotName&&(o[parseInt(r.toString(),10)].annotName=o[parseInt(r.toString(),10)].annotationId),o[parseInt(r.toString(),10)].annotName===t.annotName){var a=M(o[parseInt(r.toString(),10)]);a.annotName=e.annotName,"shape"!==n&&"shape_measure"!==n&&"freetext"!==n&&"ink"!==n||(a.id=e.id),"stamp"===n&&(a.randomId=e.id),"ink"===n?(a.bounds.x=e.bounds.x,a.bounds.y=e.bounds.y):(a.bounds.left=e.bounds.x,a.bounds.top=e.bounds.y,a.bounds.x=e.bounds.x,a.bounds.y=e.bounds.y,a.vertexPoints=e.vertexPoints),a.note=a.note||"",a.comments=[],a.review={state:"",stateModel:"",modifiedDate:a.ModifiedDate,author:a.author},a.state="",a.stateModel="",a.pageNumber=t.pageIndex,this.pdfViewer.annotationModule.storeAnnotations(t.pageIndex,a,"_annotations_"+n),this.createCommentsContainer(a,t.pageIndex+1,!0),i&&(this.pdfViewer.annotationModule.removedAnnotationCollection=[]);break}},s.prototype.findAnnotationType=function(e){e=""!==e.measureType?"shape_measure":"StickyNotes"===e.shapeAnnotationType?"sticky":"Stamp"===e.shapeAnnotationType||"Image"===e.shapeAnnotationType?"stamp":"FreeText"===e.shapeAnnotationType?"freetext":"Ink"===e.shapeAnnotationType?"ink":"shape";return e},s.prototype.setExistingAnnotationModifiedDate=function(e){e=""!==e?this.setModifiedDate(e):this.setModifiedDate();return e},s.prototype.updateModifiedTime=function(e,t){e=12<=e?12===e?e+":"+t+" PM":e-12+":"+t+" PM":e+":"+t+" AM";return e},s.prototype.setModifiedDate=function(e){var t,e=e?this.getDateAndTimeFormat(e):this.getDateAndTimeFormat(),i=new Date(e),e=e.toString().split(" ").splice(0,4).join(" ");return 2===i.toLocaleTimeString().split(" ").length?(i.toLocaleTimeString().split(" ")[0].split(":").splice(0,2).join(":"),i.toLocaleTimeString().split(" ")[1]):(t=parseInt(i.toLocaleTimeString().split(":")[0],10),i=i.toLocaleTimeString().split(":")[1],this.updateModifiedTime(t,i)),e},s.prototype.convertUTCDateToLocalDate=function(e){this.globalize=new G.Internationalization;var t={format:this.pdfViewer.dateTimeFormat,type:"dateTime"};return this.globalize.formatDate(new Date(e),t)},s.prototype.updateModifiedDate=function(e){var t=(e=e.id===this.pdfViewer.element.id+"_commenttype_icon"?e.nextSibling:e).textContent.split("-")[0];e.textContent=t+" - "+this.setModifiedDate()},s.prototype.updateAnnotationModifiedDate=function(e,t,i){if(e){var n=document.getElementById(e.annotName);if(n){if(t){var t=this.findAnnotationType(e),o=this.getAnnotations(e.pageIndex,null,t);if(null!==o&&e)for(var r=0;r<o.length;r++)e.annotName!==o[parseInt(r.toString(),10)].annotName||e.bounds.x===o[parseInt(r.toString(),10)].bounds.left&&e.bounds.y===o[parseInt(r.toString(),10)].bounds.top&&e.bounds.height===o[parseInt(r.toString(),10)].bounds.height&&e.bounds.width===o[parseInt(r.toString(),10)].bounds.width||(s=(a=n.firstChild.firstChild.childNodes[1]).textContent.split("-")[0],a.textContent=s+" - "+this.setModifiedDate()),"sticky"===o[parseInt(r.toString(),10)].shapeAnnotationType&&this.pdfViewer.annotationModule.storeAnnotationCollections(o[parseInt(r.toString(),10)],e.pageIndex)}else{var a,s=(a=n.firstChild.firstChild.childNodes[1]).textContent.split("-")[0];a.textContent=s+" - "+this.setModifiedDate()}i&&(a=n.firstChild.firstChild.childNodes[1],void 0!==e.modifiedDate)&&(s=a.textContent.split("-")[0],a.textContent=s+" - "+this.setExistingAnnotationModifiedDate(e.modifiedDate))}}},s.prototype.saveImportedStickyNotesAnnotations=function(e,t){e.Author||(e.Author=("Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings:this.pdfViewer.stickyNotesSettings).author);var i=this.pdfViewer.stickyNotesSettings.isLock||this.pdfViewer.annotationSettings.isLock,n=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),n={shapeAnnotationType:"sticky",author:e.Author,allowedInteractions:n,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,opacity:e.Opacity,state:e.State,stateModel:e.StateModel,pathData:"",comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},pageNumber:t,bounds:{left:e.Bounds.X,top:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height,right:e.Bounds.Right,bottom:e.Bounds.Bottom},annotName:e.AnnotName,color:e.color,annotationSelectorSettings:this.getSettings(e),customData:this.pdfViewer.annotation.getCustomData(e),annotationSettings:{isLock:i},isPrint:e.IsPrint,isCommentLock:e.IsCommentLock};this.pdfViewer.annotationModule.storeAnnotations(t,n,"_annotations_sticky")},s.prototype.updateStickyNotesAnnotationCollections=function(e,t){e.Author||(e.Author=("Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings:this.pdfViewer.stickyNotesSettings).author);var i=this.pdfViewer.stickyNotesSettings.isLock||this.pdfViewer.annotationSettings.isLock,n=e.AllowedInteraction||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e);return e.IsLock&&(i=e.isLock),{shapeAnnotationType:"sticky",author:e.Author,allowedInteractions:n,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,opacity:e.Opacity,state:e.State,stateModel:e.StateModel,pathData:"",comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},bounds:{left:e.Bounds.X,top:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height,right:e.Bounds.Right,bottom:e.Bounds.Bottom},annotationId:e.AnnotName,color:e.color,pageNumber:t,customData:this.pdfViewer.annotation.getCustomData(e),annotationSettings:{isLock:i},isPrint:e.IsPrint,isCommentLock:e.IsCommentLock}},s.prototype.clear=function(){this.commentsCount=0,this.commentsreplyCount=0,this.isAccordionContainer=!0,this.isEditableElement=!1,this.isCreateContextMenu=!1,this.isPageCommentsRendered=!1,this.isCommentsRendered=!1,this.isAnnotationRendered=!1,this.commentMenuObj&&this.commentMenuObj.destroy();var e=document.querySelectorAll(".e-pv-accordion-page-container");if(e)for(var t=0;t<e.length;t++)e[parseInt(t.toString(),10)].remove();this.commentsRequestHandler&&this.commentsRequestHandler.clear()},s.prototype.getModuleName=function(){return"StickyNotesAnnotation"},s.prototype.updateAddAnnotationDetails=function(e,t){t=e?e.offset||{x:1,y:1}:(e={offset:{x:1,y:1},pageNumber:0}).offset;var i=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),n=this.pdfViewer.annotation.createGUID(),o=this.pdfViewer.stickyNotesSettings.annotationSelectorSettings,r=(this.pdfViewerBase.updateSelectorSettings(o),this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stickyNotesSettings)),a=(e.author=e.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("sticky",r.annotationSubType),this.pdfViewer.stickyNotesSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions),s=(r.isLock=e.isLock||r.isLock,[]),a={AllowedInteractions:e.allowedInteractions||a,AnnotName:n,AnnotType:"sticky",AnnotationFlags:null,AnnotationSelectorSettings:e.annotationSelectorSettings||o,AnnotationSettings:r,Author:e.author||"Guest",Bounds:{X:t.x,Y:t.y,Width:30,Height:30,Left:t.x,Top:t.y,Location:{X:t.x,Y:t.y},Size:{Height:30,IsEmpty:!1,Width:30}},Color:{IsEmpty:!1,B:51,Blue:.2,C:0,G:255},Comments:null,CreatedDate:i,CustomData:e.customData||null,ExistingCustomData:null,Icon:"Comment",IsCommentLock:!1,IsLock:e.isLock||!1,IsPrint:!!G.isNullOrUndefined(e.isPrint)||e.isPrint,ModifiedDate:"",Note:"",Opacity:e.opacity||1,Reference:null,Size:{IsEmpty:!0,Width:0,Height:0},State:"",StateModel:"",StrokeColor:null,SubType:null,Subject:e.subject||"Sticky Note",Type:null};return s[0]=a,{stickyNotesAnnotation:s}},s.prototype.getAnnotationType=function(e){var t;return"stamp"===e||"Stamp"===e?t="stamp":"shape"===e||"Line"===e||"Radius"===e||"Rectangle"===e||"Ellipse"===e||"Polygon"===e||"LineWidthArrowHead"===e||"Square"===e||"Circle"===e?t="shape":"textMarkup"===e?t="textMarkup":"freeText"===e||"FreeText"===e?t="freeText":"sticky"===e||"StickyNotes"===e?t="sticky":"measure"===e||"shape_measure"===e?t="measure":"ink"!==e&&"Ink"!==e||(t="ink"),t},s.prototype.getAuthorName=function(e,t){var i;return e?(e=e.shapeAnnotationType,i=this.getAnnotationType(e),this.pdfViewer.annotationModule.updateAnnotationAuthor(i,e)):t.getAttribute("author")};var ii=s;function s(e,t){this.moreButtonId="",this.commentsCount=0,this.commentsreplyCount=0,this.commentContextMenu=[],this.isAccordionContainer=!0,this.isCreateContextMenu=!1,this.isCommentsSelected=!1,this.isAddAnnotationProgramatically=!1,this.isEditableElement=!1,this.isPageCommentsRendered=!1,this.isCommentsRendered=!1,this.isAnnotationRendered=!1,this.textFromCommentPanel=!1,this.pdfViewer=e,this.pdfViewerBase=t,this.opacity=this.pdfViewer.stickyNotesSettings.opacity||1}oi.prototype.drawInk=function(){this.pdfViewerBase.disableTextSelectionMode(),this.pdfViewer.tool="Ink"},oi.prototype.drawInkAnnotation=function(e){var t;this.pdfViewerBase.isToolbarInkClicked&&(this.pdfViewerBase.isInkAdded=!0,this.pdfViewer.annotationModule.isFormFieldShape=!1,e=isNaN(e)?this.pdfViewerBase.currentPageNumber-1:e,this.outputString&&""!==this.outputString||0<this.inkPathDataCollection.length?(t=this.addInk(e),this.pdfViewer.renderDrawing(void 0,e),this.pdfViewer.clearSelection(e),this.pdfViewer.select([t.id],t.annotationSelectorSettings),this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule&&this.pdfViewer.toolbar.annotationToolbarModule.enableSignaturePropertiesTools(!0),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar&&this.pdfViewer.toolbarModule.annotationToolbarModule.createPropertyTools("Ink")):(this.outputString="",this.newObject=[],this.pdfViewerBase.isToolbarInkClicked=!1,this.pdfViewer.tool="",this.inkPathDataCollection=[]),this.pdfViewerBase.isInkAdded=!1)},oi.prototype.updateInkDataWithZoom=function(){var e="";if(""!==this.outputString&&this.inkPathDataCollection.push({pathData:this.outputString,zoomFactor:this.inkAnnotationInitialZoom}),0<this.inkPathDataCollection.length)for(var t=0;t<this.inkPathDataCollection.length;t++)e+=this.updatePathDataWithZoom(this.inkPathDataCollection[parseInt(t.toString(),10)].pathData,this.inkPathDataCollection[parseInt(t.toString(),10)].zoomFactor);else e+=this.updatePathDataWithZoom(this.outputString,this.inkAnnotationInitialZoom);return e},oi.prototype.updatePathDataWithZoom=function(e,t){for(var i="",n=this.pdfViewerBase.getZoomFactor(),e=J.processPathData(e),o=J.splitArrayCollection(e),r=0;r<o.length;r++){var a=o[parseInt(r.toString(),10)];i+=a.command+a.x*(n/t)+","+a.y*(n/t)+" "}return i},oi.prototype.storePathData=function(){this.convertToPath(this.newObject),this.newObject=[]},oi.prototype.drawInkInCanvas=function(e,t){""!==this.currentPageNumber&&parseInt(this.currentPageNumber,10)!==t&&(this.drawInkAnnotation(parseInt(this.currentPageNumber,10)),this.pdfViewerBase.isToolbarInkClicked=!0,this.pdfViewer.tool="Ink");var i=this.pdfViewerBase.getZoomFactor(),n=(this.inkAnnotationInitialZoom=i,this.pdfViewerBase.getWindowDevicePixelRatio()),o=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",t).getContext("2d"),r=this.pdfViewer.inkAnnotationSettings.thickness||1,a=this.pdfViewer.inkAnnotationSettings.opacity||1,s=this.pdfViewer.inkAnnotationSettings.strokeColor||"#ff0000";(!G.Browser.isDevice||G.Browser.isDevice&&i<=.7)&&o.setTransform(n,0,0,n,0,0),o.beginPath(),o.lineJoin="round",o.lineCap="round",o.moveTo(e.prevPosition.x,e.prevPosition.y),o.lineTo(e.currentPosition.x,e.currentPosition.y),o.lineWidth=1<r*i?r*i:r,o.strokeStyle=s,o.globalAlpha=a,o.setLineDash([]),o.stroke(),o.arc(e.prevPosition.x,e.prevPosition.y,1,0,2*Math.PI,!0),o.closePath(),this.pdfViewerBase.prevPosition=e.currentPosition,this.newObject.push(e.currentPosition.x,e.currentPosition.y),this.currentPageNumber=t.toString()},oi.prototype.convertToPath=function(e){this.movePath(e[0],e[1]),this.linePath(e[0],e[1]);for(var t=2;t<e.length;t+=2)this.linePath(e[parseInt(t.toString(),10)],e[t+1])},oi.prototype.linePath=function(e,t){G.isNullOrUndefined(e)||G.isNullOrUndefined(t)||(this.outputString+="L"+e+","+t+" ")},oi.prototype.movePath=function(e,t){G.isNullOrUndefined(e)||G.isNullOrUndefined(t)||(this.outputString+="M"+e+","+t+" ")},oi.prototype.addInk=function(e){this.outputString=this.updateInkDataWithZoom();var t,i,n,o,r,a,s,l,A,d,p,h,c=this.calculateInkSize(this.outputString);return this.pdfViewerBase.isToolbarInkClicked&&(t=this.pdfViewer.annotation.createGUID(),i=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),e=isNaN(e)?this.pdfViewerBase.currentPageNumber-1:e,h=this.pdfViewer.inkAnnotationSettings.thickness||1,d=this.pdfViewer.inkAnnotationSettings.opacity||1,p=this.pdfViewer.inkAnnotationSettings.strokeColor||"#ff0000",n=this.pdfViewer.inkAnnotationSettings.isLock||this.pdfViewer.annotationSettings.isLock,o="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.inkAnnotationSettings.author||"Guest",r=""===this.pdfViewer.annotationSettings.subject||G.isNullOrUndefined(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.inkAnnotationSettings.subject||"Ink":this.pdfViewer.annotationSettings.subject,A=G.isNullOrUndefined(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.inkAnnotationSettings.customData||null:this.pdfViewer.annotationSettings.customData,a=this.pdfViewer.inkAnnotationSettings.isPrint,s=this.pdfViewer.inkAnnotationSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions,l=this.pdfViewer.annotationSettings||this.pdfViewer.annotationModule.updateAnnotationSettings(this.pdfViewer.inkAnnotationSettings),A={id:"ink"+this.pdfViewerBase.inkCount,bounds:{x:c.x,y:c.y,width:c.width,height:c.height},pageIndex:e,data:this.outputString,customData:A,shapeAnnotationType:"Ink",opacity:d,strokeColor:p,thickness:h,annotName:t,comments:[],author:o,subject:r,notes:"",review:{state:"",stateModel:"",modifiedDate:i,author:o},annotationSelectorSettings:this.getSelector("Ink",""),modifiedDate:i,annotationSettings:l,isPrint:a,allowedInteractions:s,isCommentLock:!1,isLocked:n},c=this.pdfViewer.add(A),d={left:A.bounds.x,top:A.bounds.y,width:A.bounds.width,height:A.bounds.height},p={opacity:A.opacity,strokeColor:A.strokeColor,thickness:A.thickness,modifiedDate:A.modifiedDate,width:A.bounds.width,height:A.bounds.height,data:this.outputString},this.pdfViewerBase.inkCount++,(h=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("ink",A.pageIndex+1,A.shapeAnnotationType))&&(document.getElementById(h).id=t),A.annotName=t,this.pdfViewer.annotation.addAction(e,null,c,"Addition","",c,c),this.pdfViewer.annotationModule.storeAnnotations(e,A,"_annotations_ink"),this.pdfViewer.fireAnnotationAdd(A.pageIndex,A.annotName,"Ink",d,p),this.pdfViewerBase.isInkAdded&&(this.outputString="",this.newObject=[],this.inkPathDataCollection=[]),this.pdfViewerBase.isToolbarInkClicked=!1,this.pdfViewer.tool=""),A},oi.prototype.setAnnotationMode=function(){this.pdfViewerBase.isToolbarInkClicked?this.drawInkAnnotation():(this.pdfViewerBase.isToolbarInkClicked=!0,this.drawInk())},oi.prototype.saveInkSignature=function(){for(var e=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_ink"),t=(this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_ink"]),[]),i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s=0;a.annotations.length>s;s++){this.pdfViewer.annotationModule.updateModifiedDate(a.annotations[parseInt(s.toString(),10)]);var l=a.annotations[parseInt(s.toString(),10)].strokeColor,l=(a.annotations[parseInt(s.toString(),10)].strokeColor=JSON.stringify(this.pdfViewerBase.signatureModule.getRgbCode(l)),a.annotations[parseInt(s.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getInkBounds(a.annotations[parseInt(s.toString(),10)].bounds,a.pageIndex)),J.processPathData(a.annotations[parseInt(s.toString(),10)].data)),l=J.splitArrayCollection(l);a.annotations[parseInt(s.toString(),10)].data=JSON.stringify(l)}r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},oi.prototype.addInCollection=function(e,t){var i;t&&((i=this.getAnnotations(e,null))&&i.push(t),this.manageInkAnnotations(i,e))},oi.prototype.calculateInkSize=function(e){for(var t=-1,i=-1,n=-1,o=-1,r=J.processPathData(e),e=this.pdfViewerBase.getZoomFactor(),a=0;a<r.length;a++){var s,l=r[parseInt(a.toString(),10)];-1===t?(t=l.x,n=l.x,i=l.y,o=l.y):((s=l.x)<=t&&(t=s),(l=l.y)<=i&&(i=l),n<=s&&(n=s),o<=l&&(o=l))}return{x:t/e,y:i/e,width:(n-t)/e,height:(o-i)/e}},oi.prototype.renderExistingInkSignature=function(e,t,i,n){var o=!1;if(!i)for(var r=0;r<this.inkAnnotationindex.length;r++)if(this.inkAnnotationindex[parseInt(r.toString(),10)]===t){o=!0;break}if(e&&(!o||n)){0<e.length&&-1===this.inkAnnotationindex.indexOf(t)&&this.inkAnnotationindex.push(t);for(var a=0;a<e.length;a++){var s,l,A,d,p,h,c,g,u,f=e[parseInt(a.toString(),10)];f&&(s=f.PathData,i&&s&&("object"==typeof s&&1<s.length?s=J.getPathString(s):f.IsPathData||s.split("command").length<=1||(s=J.getPathString(JSON.parse(s)))),this.outputString=s,A=this.calculateInkSize(this.outputString),this.outputString="",c=0,u=1,l=f.Bounds,A&&(A.height<1?(c=l.Height||l.height,u=l.Height||l.height):A.width<1&&(c=l.Width||l.width,u=l.Width||l.width)),A=G.isNullOrUndefined(l.X)?l.x+c/2:l.X+c/2,c=G.isNullOrUndefined(l.Y)?l.y+c/2:l.Y+c/2,g=l.Width?l.Width-(u-1):l.width-(u-1),u=l.Height?l.Height-(u-1):l.height-(u-1),!f.AnnotationSettings||f.AnnotationSettings.isLock,d=f.AnnotationSelectorSettings?"string"==typeof f.AnnotationSelectorSettings?JSON.parse(f.AnnotationSelectorSettings):f.AnnotationSelectorSettings:this.getSelector(f,"Ink"),p=this.pdfViewer.annotation.getCustomData(f),h=!0,h=(f.AnnotationSettings||this.pdfViewer.inkAnnotationSettings).isPrint,h=!!G.isNullOrUndefined(f.IsPrint)||f.IsPrint,f.IsLocked&&f.IsLocked,"Highlight"===f.Subject&&1===f.Opacity&&(f.Opacity=f.Opacity/2),f.allowedInteractions=f.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(f),f.AnnotationSettings=f.AnnotationSettings||this.pdfViewer.annotationModule.updateAnnotationSettings(f),A={id:"ink"+this.pdfViewerBase.inkCount,bounds:{x:A,y:c,width:g,height:u},pageIndex:t,data:s,shapeAnnotationType:"Ink",opacity:f.Opacity,strokeColor:f.StrokeColor,thickness:f.Thickness,annotName:f.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(f.Comments,f,f.Author),author:f.Author,allowedInteractions:f.allowedInteractions,subject:f.Subject,modifiedDate:f.ModifiedDate,review:{state:"",stateModel:"",modifiedDate:f.ModifiedDate,author:f.Author},notes:f.Note,annotationSettings:f.AnnotationSettings,annotationSelectorSettings:d,customData:p,isPrint:h,isCommentLock:f.IsCommentLock},this.pdfViewer.add(A),c=f.pageIndex||f.PageNumber,g=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",c),this.pdfViewer.renderDrawing(g,A.pageIndex),this.pdfViewer.annotationModule.storeAnnotations(A.pageIndex,A,"_annotations_ink"),this.isAddAnnotationProgramatically&&(u={opacity:A.opacity,strokeColor:A.strokeColor,thickness:A.thickness,modifiedDate:A.modifiedDate,width:A.bounds.width,height:A.bounds.height,data:this.outputString},this.pdfViewer.fireAnnotationAdd(A.pageIndex,A.annotName,"Ink",l,u)),this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.signatureCount++,this.pdfViewerBase.inkCount++,this.pdfViewerBase.navigationPane)&&this.pdfViewerBase.navigationPane.annotationMenuObj&&this.pdfViewer.isSignatureEditable&&(this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export Annotations")],!0),this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export XFDF")],!0))}}},oi.prototype.saveImportedInkAnnotation=function(e,t){var i=e.Bounds,i={x:i.X,y:i.Y,width:i.Width,height:i.Height},n=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),o=this.pdfViewer.annotation.getCustomData(e),r=this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),a={state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},s=e.AnnotationSettings||this.pdfViewer.annotationModule.updateAnnotationSettings(e),l=this.getSettings(e),A=e.PathData;"object"==typeof A&&1<A.length?A=J.getPathString(A):!e.IsPathData&&1<A.split("command").length&&(A=J.getPathString(JSON.parse(A))),n={allowedInteractions:n,annotName:e.AnnotName,annotationSelectorSettings:l,annotationSettings:s,author:e.Author,bounds:i,customData:o,comments:r,data:A,id:"Ink",isCommentLock:e.IsCommentLock,isLocked:e.IsLocked,isPrint:e.IsPrint,modifiedDate:e.ModifiedDate,note:e.Note,opacity:e.Opacity,pageIndex:t,review:a,shapeAnnotationType:e.AnnotationType,strokeColor:e.StrokeColor,subject:e.Subject,thickness:e.Thickness},this.pdfViewer.annotationModule.storeAnnotations(t,n,"_annotations_ink")},oi.prototype.getSettings=function(e){this.pdfViewer.annotationSelectorSettings;return e.AnnotationSelectorSettings||this.getSelector(e.ShapeAnnotationType,e.Subject)},oi.prototype.storeInkSignatureData=function(e,t){this.pdfViewer.annotation.addAction(t.pageIndex,null,t,"Addition","",t,t);var i=t.bounds.left||t.bounds.x,n=t.bounds.top||t.bounds.y,n=(t.wrapper&&t.wrapper.bounds&&(i=t.wrapper.bounds.left,n=t.wrapper.bounds.top),i={id:t.id,bounds:{x:i,y:n,width:t.bounds.width,height:t.bounds.height},shapeAnnotationType:"Ink",opacity:t.opacity,thickness:t.thickness,strokeColor:t.strokeColor,pageIndex:t.pageIndex,data:t.data,annotName:t.annotName,comments:t.comments,author:t.author,subject:t.subject,modifiedDate:t.modifiedDate,review:{state:"",stateModel:"",modifiedDate:t.modifiedDate,author:t.author},notes:t.notes,annotationSelectorSettings:this.getSelector(t,"Ink"),isCommentLock:t.isCommentLock},F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_ink"));e=n?(t=JSON.parse(n),F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_ink"),null!=(n=this.pdfViewer.annotationModule.getPageCollection(t,e))&&t[parseInt(n.toString(),10)]?(t[parseInt(n.toString(),10)].annotations.push(i),t[parseInt(n.toString(),10)].annotations.indexOf(i)):((n={pageIndex:e,annotations:[]}).annotations.push(i),n.annotations.indexOf(i),t.push(n)),JSON.stringify(t)):((n={pageIndex:e,annotations:[]}).annotations.push(i),n.annotations.indexOf(i),(t=[]).push(n),JSON.stringify(t)),F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_ink",e)},oi.prototype.getSelector=function(e,t){var i=this.pdfViewer.annotationSelectorSettings;return"Ink"!==e&&"Ink"!==t||!this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings||(i=this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(i)),i},oi.prototype.getAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_ink");return i&&(i=JSON.parse(i),null!=(e=this.pdfViewer.annotationModule.getPageCollection(i,e)))&&i[parseInt(e.toString(),10)]?i[parseInt(e.toString(),10)].annotations:t},oi.prototype.modifySignatureInkCollection=function(e,t,i){G.isNullOrUndefined(i.formFieldAnnotationType)||""===i.formFieldAnnotationType?this.pdfViewer.annotationModule.isFormFieldShape=!1:this.pdfViewer.annotationModule.isFormFieldShape=!0,this.pdfViewerBase.updateDocumentEditedProperty(!0);var n=null,o=this.getAnnotations(t,null);if(null!=o&&i){for(var r=0;r<o.length;r++)if(i.id===o[parseInt(r.toString(),10)].id){if("bounds"===e)this.pdfViewerBase.isBounds=this.pdfViewerBase.boundsCalculation(o[parseInt(r.toString(),10)].bounds,i.wrapper.bounds),this.pdfViewerBase.isBounds&&(o[parseInt(r.toString(),10)].bounds={x:i.wrapper.bounds.left,y:i.wrapper.bounds.top,width:i.bounds.width,height:i.bounds.height});else if("stroke"===e)o[parseInt(r.toString(),10)].strokeColor=i.wrapper.children[0].style.strokeColor;else if("opacity"===e)o[parseInt(r.toString(),10)].opacity=i.wrapper.children[0].style.opacity;else if("thickness"===e)o[parseInt(r.toString(),10)].thickness=i.wrapper.children[0].style.strokeWidth;else if("notes"===e)o[parseInt(r.toString(),10)].notes=i.notes;else if("delete"===e){n=o.splice(r,1)[0];break}this.pdfViewerBase.isBounds&&(o[parseInt(r.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime()),this.pdfViewer.annotationModule.storeAnnotationCollections(o[parseInt(r.toString(),10)],t)}this.manageInkAnnotations(o,t)}return n},oi.prototype.manageInkAnnotations=function(e,t){var i=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_ink");i&&(i=JSON.parse(i),F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_ink"),null!=(t=this.pdfViewer.annotationModule.getPageCollection(i,t))&&i[parseInt(t.toString(),10)]&&(i[parseInt(t.toString(),10)].annotations=e),t=JSON.stringify(i),F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_ink",t))},oi.prototype.updateInkCollections=function(e,t,i){var n,o,r,a,s,l,A;if(e)return n=(a=e.Bounds).X,o=a.Y,r=a.Width,a=a.Height,s=e.customData,l=e.isPrint,e.AllowedInteractions=e.AllowedInteractions||this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),e.AnnotationSettings=e.AnnotationSettings||this.pdfViewer.inkAnnotationSettings||this.pdfViewer.annotationSettings,e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked),A=e.PathData,i&&(A=J.getPathString(JSON.parse(e.PathData))),{id:"ink"+this.pdfViewerBase.signatureCount,bounds:{x:n,y:o,width:r,height:a},pageIndex:t,data:A,shapeAnnotationType:"Ink",opacity:e.Opacity,strokeColor:e.StrokeColor,thickness:e.Thickness,annotationId:e.AnnotName,customData:s,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),author:e.Author,allowedInteractions:e.AllowedInteractions,subject:e.Subject,modifiedDate:e.ModifiedDate,review:{state:"",stateModel:"",modifiedDate:e.ModifiedDate,author:e.Author},notes:e.Note,isPrint:l,isCommentLock:e.IsCommentLock,annotationSettings:e.AnnotationSettings,isLocked:e.AnnotationSettings.isLock}},oi.prototype.updateAddAnnotationDetails=function(e,t,i){t=e?e.offset||{x:10,y:10}:(e={offset:{x:10,y:10},pageNumber:0,width:void 0,height:void 0}).offset;var n=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),o=this.pdfViewer.annotation.createGUID(),r=this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings,a=(this.pdfViewerBase.updateSelectorSettings(r),this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.inkAnnotationSettings)),s=(e.author=e.author||this.pdfViewer.annotationModule.updateAnnotationAuthor("ink",a.AnnotationType),this.pdfViewer.inkAnnotationSettings.allowedInteractions||this.pdfViewer.annotationSettings.allowedInteractions),l=(a.isLock=e.isLock||a.isLock,e.width=e.width||150,e.height=e.height||60,e.path||""),A=(G.isNullOrUndefined(l)||(l="M"===l[0]||"L"===l[0]?(A=J.processPathData(l),A=J.splitArrayCollection(A),JSON.stringify(A)):J.getPathString(JSON.parse(l))),e.path=l,[]),l={AllowedInteractions:e.allowedInteractions||s,AnnotName:o,AnnotType:"ink",AnnotationFlags:null,AnnotationSelectorSettings:e.annotationSelectorSettings||r,AnnotationSettings:a,AnnotationType:"Ink",Author:e.author||"Guest",Bounds:{X:t.x,Y:t.y,Width:e.width,Height:e.height,Left:t.x,Top:t.y,Location:{X:t.x,Y:t.y},Size:{Height:e.height,IsEmpty:!1,Width:e.width}},Comments:null,CreatedDate:n,CustomData:e.customData||null,ExistingCustomData:null,IsCommentLock:!1,IsLock:e.isLock||!1,IsPrint:!!G.isNullOrUndefined(e.isPrint)||e.isPrint,ModifiedDate:"",Note:"",Opacity:e.opacity||1,PathData:e.path,PageNumber:i,State:"",StateModel:"",StrokeColor:e.strokeColor||"rgba(255,0,0,1)",SubType:null,Subject:e.subject||"Ink",Type:null,Thickness:e.thickness||1};return A[0]=l,{signatureInkAnnotation:A}};var ni=oi;function oi(e,t){this.newObject=[],this.outputString="",this.inkAnnotationindex=[],this.isAddAnnotationProgramatically=!1,this.currentPageNumber="",this.inkAnnotationInitialZoom=1,this.inkPathDataCollection=[],this.pdfViewer=e,this.pdfViewerBase=t}l.prototype.initializeNavigationPane=function(){!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.createNavigationPane():(this.commentPanelContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_commantPanel",className:"e-pv-mobile-comments-container"}),this.pdfViewerBase.mainContainer.appendChild(this.commentPanelContainer),this.pdfViewer.enableRtl?this.commentPanelContainer.style.left="0px":this.commentPanelContainer.style.right="0px",this.commentPanelContainer.style.bottom="0px",this.createCommentPanelTitleContainer(),this.commentPanelContainer.style.display="none",this.commentsContentContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_commentscontentcontainer",className:"e-pv-comments-content-container"}),this.commentPanelContainer.appendChild(this.commentsContentContainer),this.createFileElement(this.commentPanelContainer),this.createXFdfFileElement(this.commentPanelContainer))},l.prototype.createNavigationPane=function(){G.isBlazor()?(this.sideBarToolbar=this.pdfViewer.element.querySelector(".e-pv-sidebar-toolbar"),this.sideBarToolbarSplitter=this.pdfViewer.element.querySelector(".e-pv-sidebar-toolbar-splitter"),this.sideBarContentContainer=this.pdfViewer.element.querySelector(".e-pv-sidebar-content-container"),this.sideBarContentSplitter=this.pdfViewer.element.querySelector(".e-pv-sidebar-content-splitter"),this.sideBarContent=this.pdfViewer.element.querySelector(".e-pv-sidebar-content"),this.sideBarTitleContainer=this.pdfViewer.element.querySelector(".e-pv-sidebar-title-container"),this.sideBarTitle=this.pdfViewer.element.querySelector(".e-pv-sidebar-title"),this.sideBarResizer=this.pdfViewer.element.querySelector(".e-pv-sidebar-resizer")):(this.sideBarToolbar=G.createElement("div",{id:this.pdfViewer.element.id+"_sideBarToolbar",className:"e-pv-sidebar-toolbar",attrs:{role:"toolbar","aria-orientation":"vertical",tabindex:"-1","aria-label":"Sidebar Toolbar"}}),this.sideBarToolbarSplitter=G.createElement("div",{id:this.pdfViewer.element.id+"_sideBarToolbarSplitter",className:"e-pv-sidebar-toolbar-splitter"}),this.sideBarContentContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_sideBarContentContainer",className:"e-pv-sidebar-content-container"}),this.sideBarContentSplitter=G.createElement("div",{id:this.pdfViewer.element.id+"_sideBarContentSplitter",className:"e-pv-sidebar-content-splitter"}),this.sideBarContent=G.createElement("div",{id:this.pdfViewer.element.id+"_sideBarContent",className:"e-pv-sidebar-content"}),this.sideBarTitleContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_sideBarTitleContainer",className:"e-pv-sidebar-title-container"}),this.sideBarTitle=G.createElement("div",{id:this.pdfViewer.element.id+"_sideBarTitle",className:"e-pv-sidebar-title",attrs:{tabindex:"-1"}}),this.sideBarResizer=G.createElement("div",{id:this.pdfViewer.element.id+"_sideBarResizer",className:"e-pv-sidebar-resizer"})),this.pdfViewerBase.mainContainer.appendChild(this.sideBarToolbar),this.pdfViewer.enableRtl&&(this.sideBarToolbar.style.cssFloat="right",this.sideBarToolbar.style.right="1px",this.sideBarToolbar.style.position="relative"),this.pdfViewerBase.mainContainer.appendChild(this.sideBarToolbarSplitter),this.pdfViewer.enableRtl?this.sideBarToolbarSplitter.classList.add("e-right"):this.sideBarToolbarSplitter.classList.add("e-left"),this.pdfViewer.enableRtl?this.sideBarContentContainer.classList.add("e-right"):this.sideBarContentContainer.classList.add("e-left"),this.pdfViewerBase.mainContainer.appendChild(this.sideBarContentContainer),this.pdfViewer.enableRtl&&(this.sideBarContentSplitter.style.right="0px"),this.sideBarContentContainer.appendChild(this.sideBarContentSplitter),this.pdfViewer.enableRtl&&(this.sideBarContent.style.right="0px",this.sideBarContent.style.direction="rtl"),this.sideBarContentContainer.appendChild(this.sideBarContent),this.pdfViewer.enableRtl&&(this.sideBarTitleContainer.style.right="0px"),this.pdfViewer.enableRtl?this.sideBarTitle.classList.add("e-right"):this.sideBarTitle.classList.add("e-left"),this.sideBarTitleContainer.appendChild(this.sideBarTitle),this.sideBarContentContainer.appendChild(this.sideBarTitleContainer),this.sideBarResizer.addEventListener("mousedown",this.resizePanelMouseDown),this.pdfViewerBase.mainContainer.addEventListener("mousemove",this.resizePanelMouseMove),this.pdfViewerBase.mainContainer.addEventListener("mouseup",this.resizeViewerMouseLeave),this.pdfViewer.enableRtl?this.sideBarResizer.classList.add("e-right"):this.sideBarResizer.classList.add("e-left"),this.sideBarContentContainer.appendChild(this.sideBarResizer),this.createCommentPanel();var e=this.getViewerContainerLeft(),t=this.getViewerContainerRight();this.pdfViewer.enableRtl||(this.pdfViewerBase.viewerContainer.style.left=e+"px",this.pdfViewerBase.viewerContainer.style.right=t+"px"),this.pdfViewerBase.viewerContainer.style.width=this.pdfViewer.element.clientWidth-e-this.commentPanelContainer.clientWidth+"px",this.sideBarContentContainer.style.display="none",this.pdfViewer.enableNavigationToolbar||(this.pdfViewer.enableRtl?this.sideBarContentContainer.style.right="0px":this.sideBarContentContainer.style.left="0px"),this.createSidebarToolBar(),this.createSidebarTitleCloseButton(),this.createResizeIcon(),this.sideBarToolbar.addEventListener("mouseup",this.sideToolbarOnMouseup.bind(this)),this.sideBarContentContainer.addEventListener("mouseup",this.sideBarTitleOnMouseup.bind(this))},l.prototype.adjustPane=function(){var e,t,i,n,o;G.isBlazor()?(i=this.pdfViewer.element.querySelector(".e-pv-sidebar-toolbar-splitter"),e=this.pdfViewer.element.querySelector(".e-pv-sidebar-toolbar"),t=this.pdfViewer.element.querySelector(".e-pv-sidebar-content-container"),0===(o=(n=this.pdfViewer.element.querySelector(".e-pv-toolbar")).getBoundingClientRect().height)&&(o=parseFloat(window.getComputedStyle(n).height)+1),this.pdfViewer.enableToolbar||(o=0),e.style.top=o+"px",t.style.top=o+"px",i.style.top=o+"px",e.style.height=this.getSideToolbarHeight(o),t.style.height=this.getSideToolbarHeight(o),i.style.height=this.getSideToolbarHeight(o),this.pdfViewerBase.viewerContainer.style.height=this.getSideToolbarHeight(o)):(i=this.pdfViewerBase.getElement("_sideBarToolbarSplitter"),0===(o=(n=this.pdfViewerBase.getElement("_toolbarContainer")).clientHeight)&&(o=parseFloat(window.getComputedStyle(n).height)+1),this.sideBarToolbar.style.top=o+"px",this.sideBarContentContainer.style.top=o+"px",i.style.top=o+"px")},l.prototype.getSideToolbarHeight=function(e){var t=this.pdfViewer.element.getBoundingClientRect().height;return 0!==t?t-e+"px":""},l.prototype.createCommentPanel=function(){this.commentPanelContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_commantPanel",className:"e-pv-comment-panel"}),this.pdfViewerBase.mainContainer.appendChild(this.commentPanelContainer),this.pdfViewer.enableRtl?this.commentPanelContainer.style.left="0px":this.commentPanelContainer.style.right="0px",this.commentPanelContainer.style.bottom="0px",this.createCommentPanelTitleContainer(),this.commentPanelContainer.style.display="none",this.commentsContentContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_commentscontentcontainer",className:"e-pv-comments-content-container"}),this.commentPanelContainer.appendChild(this.commentsContentContainer),this.commentPanelResizer=G.createElement("div",{id:this.pdfViewer.element.id+"_commentPanelResizer",className:"e-pv-comment-panel-resizer"}),this.pdfViewer.enableRtl?this.commentPanelResizer.classList.add("e-left"):this.commentPanelResizer.classList.add("e-right"),this.commentPanelResizer.style.display="none",this.commentPanelResizer.addEventListener("mousedown",this.commentPanelMouseDown),this.pdfViewerBase.mainContainer.appendChild(this.commentPanelResizer),this.createCommentPanelResizeIcon(),this.createFileElement(this.commentPanelContainer),this.createXFdfFileElement(this.commentPanelContainer)},l.prototype.createCommentPanelTitleContainer=function(){var e,t=G.createElement("div",{id:this.pdfViewer.element.id+"_commentPanelTitleContainer",className:"e-pv-comment-panel-title-container"}),i=G.createElement("div",{id:this.pdfViewer.element.id+"_commentPanelTitle",className:"e-pv-comment-panel-title",attrs:{tabindex:"-1"}}),n=(G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_Comments").then(function(e){i.innerText=e}):i.innerText=this.pdfViewer.localeObj.getConstant("Comments"),G.createElement("button",{id:this.pdfViewer.element.id+"_annotations_btn"})),o=(n.setAttribute("aria-label","annotation button"),n.setAttribute("type","button"),n.className="e-btn e-pv-tbar-btn e-pv-comment-panel-title-close-div e-btn",G.createElement("span",{id:this.pdfViewer.element.id+"_annotation_more_icon",className:"e-pv-more-icon e-pv-icon"}));n.appendChild(o),!G.Browser.isDevice||this.pdfViewer.enableDesktopMode||G.isBlazor()||((o=G.createElement("button")).setAttribute("aria-label","annotation button"),o.setAttribute("type","button"),o.style.borderColor="transparent",o.style.paddingTop="11px",o.style.paddingBottom="11px",o.style.backgroundColor="transparent",o.addEventListener("click",this.closeCommentPanelContainer.bind(this)),i.style.left="37px",e=G.createElement("span",{className:"e-pv-annotation-tools-close-icon e-pv-icon"}),o.appendChild(e),t.appendChild(o)),t.appendChild(i),t.appendChild(n),this.commentPanelContainer.appendChild(t),this.createAnnotationContextMenu(),n.addEventListener("click",this.openAnnotationContextMenu.bind(this))},l.prototype.createCommentPanelResizeIcon=function(){this.commentPanelResizeIcon=G.createElement("div",{id:this.pdfViewer.element.id+"_commentPanel_resize",className:"e-pv-resize-icon e-pv-icon"}),this.setCommentPanelResizeIconTop(),this.commentPanelResizeIcon.style.position="absolute",this.commentPanelResizer.appendChild(this.commentPanelResizeIcon)},l.prototype.openAnnotationContextMenu=function(e){this.annotationMenuObj.open(e.clientY,e.clientX,e.currentTarget)},l.prototype.createAnnotationContextMenu=function(){this.annotationContextMenu=[{text:this.pdfViewer.localeObj.getConstant("Export Annotations")},{text:this.pdfViewer.localeObj.getConstant("Import Annotations")},{text:this.pdfViewer.localeObj.getConstant("Export XFDF")},{text:this.pdfViewer.localeObj.getConstant("Import XFDF")}];var e=G.createElement("ul",{id:this.pdfViewer.element.id+"_annotation_context_menu"});this.pdfViewer.element.appendChild(e),this.annotationMenuObj=new w.ContextMenu({target:"#"+this.pdfViewer.element.id+"_annotations_btn",items:this.annotationContextMenu,select:this.annotationMenuItemSelect.bind(this)}),this.pdfViewer.enableRtl&&(this.annotationMenuObj.enableRtl=!0),this.annotationMenuObj.appendTo(e),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?this.annotationMenuObj.animationSettings.effect="ZoomIn":this.annotationMenuObj.animationSettings.effect="SlideDown"},l.prototype.annotationMenuItemSelect=function(e){var t;if(this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.inkAnnotationModule&&(t=parseInt(this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10),this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(t)),e.item)switch(e.item.text){case this.pdfViewer.localeObj.getConstant("Export Annotations"):this.pdfViewerBase.exportAnnotations(v.AnnotationDataFormat.Json);break;case this.pdfViewer.localeObj.getConstant("Import Annotations"):this.importAnnotationIconClick(e);break;case this.pdfViewer.localeObj.getConstant("Export XFDF"):this.pdfViewerBase.exportAnnotations(v.AnnotationDataFormat.Xfdf);break;case this.pdfViewer.localeObj.getConstant("Import XFDF"):this.importXFdfAnnotationIconClick(e)}},l.prototype.createFileElement=function(e){this.annotationInputElement=G.createElement("input",{id:this.pdfViewer.element.id+"_annotationUploadElement",styles:"position:fixed; left:-100em",attrs:{type:"file","aria-label":"upload elements"}}),this.annotationInputElement.setAttribute("accept",".json"),e.appendChild(this.annotationInputElement),this.annotationInputElement.addEventListener("change",this.loadImportAnnotation)},l.prototype.createXFdfFileElement=function(e){this.annotationXFdfInputElement=G.createElement("input",{id:this.pdfViewer.element.id+"_annotationXFdfUploadElement",styles:"position:fixed; left:-100em",attrs:{type:"file","aria-label":"upload elements"}}),this.annotationXFdfInputElement.setAttribute("accept",".xfdf"),e.appendChild(this.annotationXFdfInputElement),this.annotationXFdfInputElement.addEventListener("change",this.loadImportAnnotation)},l.prototype.importAnnotationIconClick=function(e){this.annotationInputElement.click()},l.prototype.importXFdfAnnotationIconClick=function(e){this.annotationXFdfInputElement.click()},l.prototype.closeCommentPanelContainer=function(){var e=this,t=document.getElementById(this.pdfViewer.element.id+"_viewerContainer"),i=document.getElementById(this.pdfViewer.element.id+"_pageViewContainer"),n=document.getElementById(this.pdfViewer.element.id+"_commantPanel");n&&(n.style.display="none",e.commentPanelResizer&&(e.commentPanelResizer.style.display="none"),t&&(this.pdfViewer.enableRtl?t.style.left=e.getViewerContainerRight()+"px":t.style.right=e.getViewerContainerRight()+"px",t.style.width=e.pdfViewer.element.clientWidth-e.getViewerContainerLeft()-e.getViewerContainerRight()+"px",i.style.width=e.pdfViewerBase.viewerContainer.offsetWidth-e.getViewerContainerScrollbarWidth()+"px"),e.pdfViewerBase&&e.pdfViewerBase.updateZoomValue(),this.pdfViewer.annotation&&this.pdfViewer.annotation.textMarkupAnnotationModule&&this.pdfViewer.annotation.textMarkupAnnotationModule.showHideDropletDiv(!0),G.Browser.isDevice)&&!G.isBlazor()&&this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.element.style.display="block",this.pdfViewer.toolbarModule.annotationToolbarModule.propertyToolbar)&&(this.pdfViewer.toolbarModule.annotationToolbarModule.propertyToolbar.element.style.display="block")},l.prototype.createNavigationPaneMobile=function(e){var t,i,n=this;this.isNavigationToolbarVisible=!0,this.toolbarElement=G.createElement("div",{id:this.pdfViewer.element.id+"_navigationToolbar",className:"e-pv-nav-toolbar"}),this.pdfViewerBase.viewerMainContainer.insertBefore(this.toolbarElement,this.pdfViewerBase.viewerContainer),i="search"===e?(i='<div class="e-input-group e-pv-text-search-input-mobile" id="'+this.pdfViewer.element.id+'_search_input_container"><input class="e-input" type="text" placeholder="'+this.pdfViewer.localeObj.getConstant("Find in document")+'" id="'+this.pdfViewer.element.id+'_search_input"></input></div>',t='\n                <span class="e-pv-search-count" id="'+this.pdfViewer.element.id+'_search_count"></span>\n            ',[{prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)},{template:i},{prefixIcon:"e-pv-search-icon e-pv-icon",id:this.pdfViewer.element.id+"_search_box-icon",click:function(){var e=n.pdfViewerBase.getElement("_search_box-icon").firstElementChild;e.classList.contains("e-pv-search-close")&&n.enableSearchItems(!1),n.pdfViewer.textSearchModule.searchButtonClick(e,n.searchInput,!0),n.setSearchInputWidth()}},{template:t},{prefixIcon:this.pdfViewer.enableRtl?"e-pv-next-search-icon e-pv-icon":"e-pv-prev-search-icon e-pv-icon",id:this.pdfViewer.element.id+"_prev_occurrence",click:function(e){n.pdfViewer.textSearchModule.searchPrevious(),n.setSearchInputWidth()}},{prefixIcon:this.pdfViewer.enableRtl?"e-pv-prev-search-icon e-pv-icon":"e-pv-next-search-icon e-pv-icon",id:this.pdfViewer.element.id+"_next_occurrence",click:function(e){n.pdfViewer.textSearchModule.searchNext(),n.setSearchInputWidth()}}]):[{prefixIcon:"e-pv-backward-icon e-pv-icon",id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)},{text:this.pdfViewer.localeObj.getConstant("Bookmarks")}],this.toolbar=new w.Toolbar({items:i,width:"",height:"",overflowMode:"Popup"}),this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.toolbarElement),"search"===e?((t=this.pdfViewerBase.getElement("_toolbarContainer"))&&(0===(i=t.clientHeight)&&(i=parseFloat(window.getComputedStyle(t).height)+1),this.pdfViewerBase.toolbarHeight=i),this.initiateSearchBox()):this.initiateBookmarks()},l.prototype.initiateSearchBox=function(){var t=this;this.searchInput=this.pdfViewerBase.getElement("_search_input"),this.pdfViewer.textSearchModule.searchBtn=this.pdfViewerBase.getElement("_search_box-icon").firstElementChild,this.searchInput.addEventListener("keyup",function(e){t.enableSearchItems(!0);t.searchInput.value;13===e.which?(t.initiateTextSearch(),t.setSearchInputWidth()):t.pdfViewer.textSearchModule.resetVariables()});var e=document.getElementById(this.pdfViewer.element.id+"_search_count").parentElement;e&&(e.style.display="none"),this.pdfViewer.textSearchModule.searchInput=this.searchInput,this.setSearchInputWidth(),this.enableSearchItems(!1),this.searchInput.focus()},l.prototype.enableSearchItems=function(e){G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("EnableSearchItems",e):(this.toolbar.enableItems(this.pdfViewerBase.getElement("_prev_occurrence").parentElement,e),this.toolbar.enableItems(this.pdfViewerBase.getElement("_next_occurrence").parentElement,e))},l.prototype.initiateBookmarks=function(){if(G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode){this.pdfViewerBase.mobileScrollerContainer.style.display="none";for(var e=document.querySelectorAll(".e-pv-mobile-annotation-toolbar"),t=0;t<e.length;t++)e[parseInt(t.toString(),10)].style.display="none"}var i=G.createElement("div",{id:this.pdfViewer.element.id+"_bookmarks_container",className:"e-pv-bookmark-container"});i.style.width="100%",i.style.height=this.pdfViewerBase.viewerContainer.style.height,this.pdfViewerBase.getElement("_viewerMainContainer").appendChild(i),this.pdfViewerBase.viewerContainer.style.display="none",this.isBookmarkListOpen=!0,this.pdfViewer.bookmarkViewModule.renderBookmarkContentMobile()},l.prototype.initiateTextSearch=function(){var e=this.searchInput.value;this.pdfViewer.textSearchModule.initiateSearch(e,!0)},l.prototype.goBackToToolbar=function(){var e;this.isNavigationToolbarVisible=!1,(!G.isBlazor()||G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode)&&G.isBlazor()||this.pdfViewer.textSearchModule.cancelTextSearch(),this.searchInput=null,0!==this.pdfViewer.bookmarkViewModule.childNavigateCount?(this.pdfViewer.bookmarkViewModule.bookmarkList.back(),this.pdfViewer.bookmarkViewModule.childNavigateCount--):(null!=this.toolbar&&(this.toolbar.destroy(),this.toolbar=null),(e=this.pdfViewerBase.getElement("_bookmarks_container"))&&(e.parentElement.removeChild(e),G.Browser.isDevice)&&!this.pdfViewer.enableDesktopMode&&(this.pdfViewerBase.mobileScrollerContainer.style.display=""),this.toolbarElement&&null!=this.toolbarElement.parentElement&&this.toolbarElement.parentElement.removeChild(this.toolbarElement),this.pdfViewerBase.viewerContainer.style.display="block",this.isBookmarkListOpen=!1,G.isBlazor()?this.pdfViewerBase.onWindowResize():this.pdfViewer.toolbar.annotationToolbarModule.isMobileAnnotEnabled||this.pdfViewer.toolbarModule.showToolbar(!0))},l.prototype.setSearchInputWidth=function(){var e=this.searchInput.parentElement,t=window.getComputedStyle(e.parentElement,null).getPropertyValue("padding-left"),i=(G.isBlazor()&&G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.toolbarElement=this.pdfViewerBase.getElement("_navigationToolbar")),this.toolbarElement.clientWidth-this.getParentElementSearchBox("_backward").clientWidth-this.getParentElementSearchBox("_search_box-icon").clientWidth-this.getParentElementSearchBox("_prev_occurrence").clientWidth-this.getParentElementSearchBox("_next_occurrence").clientWidth-this.getParentElementSearchBox("_search_count").clientWidth-6);""!==t&&(i-=2*parseFloat(t)),e.style.width=i+"px"},l.prototype.getParentElementSearchBox=function(e){return this.pdfViewerBase.getElement(e).parentElement},l.prototype.createTooltipMobile=function(e){var t;this.isTooltipCreated?this.toastObject&&(this.toastObject.title=e,(t=this.pdfViewerBase.getElement("_container_tooltip").firstElementChild)?(t.style.width="auto",t.firstElementChild.firstElementChild.textContent=e):(this.isTooltipCreated=!1,t=this.pdfViewerBase.getElement("_container_tooltip"),this.toastObject&&this.toastObject.destroy(),t.parentElement.removeChild(t),this.toastObject=null,this.createMobileTooltip(e))):this.createMobileTooltip(e)},l.prototype.createMobileTooltip=function(e){var t=G.createElement("div",{className:"e-pv-container-tooltip",id:this.pdfViewer.element.id+"_container_tooltip"}),e=(this.pdfViewer.element.appendChild(t),this.toastObject=new R.Toast({title:e,target:this.pdfViewer.element,close:this.onTooltipClose.bind(this),position:{X:0,Y:0},animation:{hide:{duration:200,effect:"FadeOut"}}}),this.toastObject.appendTo(t),.65*this.pdfViewer.element.clientHeight),i=(this.pdfViewer.element.clientWidth-t.clientWidth)/2,i=(this.isTooltipCreated=!0,this.toastObject.show({position:{X:i,Y:e}}),t.firstElementChild);i&&(i.style.width="auto")},l.prototype.onTooltipClose=function(e){var t;this.pdfViewer.textSearchModule&&(this.isTooltipCreated=!1,t=this.pdfViewerBase.getElement("_container_tooltip"),this.pdfViewer.textSearchModule.isMessagePopupOpened=!1,this.toastObject&&this.toastObject.destroy(),t.parentElement.removeChild(t),this.toastObject=null)},l.prototype.toolbarResize=function(){this.searchInput&&(this.searchInput.style.width="auto",this.setSearchInputWidth())},l.prototype.createSidebarToolBar=function(){var e,t;G.isBlazor()?(this.thumbnailButton=this.pdfViewer.element.querySelector(".e-pv-thumbnail-view-button"),this.bookmarkButton=this.pdfViewer.element.querySelector(".e-pv-bookmark-button")):(e=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),this.thumbnailButton=G.createElement("button",{id:this.pdfViewer.element.id+"_thumbnail-view",attrs:{disabled:"disabled","aria-label":"Page Thumbnails",tabindex:"-1"}}),this.thumbnailButton.className="e-pv-tbar-btn e-pv-thumbnail-view-button e-btn",this.thumbnailButton.setAttribute("type","button"),t=G.createElement("span",{id:this.pdfViewer.element.id+"_thumbnail-view_icon",className:"e-pv-thumbnail-view-disable-icon e-pv-icon"}),this.thumbnailButton.appendChild(t),new k.Tooltip({content:G.initializeCSPTemplate(function(){return this.pdfViewer.localeObj.getConstant("Page Thumbnails")+(e?" (++1)":" (Ctrl+Alt+1)")},this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.thumbnailButton),this.bookmarkButton=G.createElement("button",{id:this.pdfViewer.element.id+"_bookmark",attrs:{disabled:"disabled","aria-label":"Bookmarks",tabindex:"-1"}}),this.bookmarkButton.setAttribute("type","button"),this.bookmarkButton.className="e-pv-tbar-btn e-pv-bookmark-button e-btn",t=G.createElement("span",{id:this.pdfViewer.element.id+"_bookmark_icon",className:"e-pv-bookmark-disable-icon e-pv-icon"}),this.bookmarkButton.appendChild(t),new k.Tooltip({content:G.initializeCSPTemplate(function(){return this.pdfViewer.localeObj.getConstant("Bookmarks")+(e?" (++2)":" (Ctrl+Alt+2)")},this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.bookmarkButton),this.organizePageButton=G.createElement("button",{id:this.pdfViewer.element.id+"_organize-view",attrs:{disabled:"disabled","aria-label":"Organize Pages",tabindex:"-1"}}),this.organizePageButton.className="e-pv-tbar-btn e-pv-organize-view-button e-btn",this.organizePageButton.setAttribute("type","button"),t=G.createElement("span",{id:this.pdfViewer.element.id+"_organize-view_icon",className:"e-pv-organize-view-disable-icon e-pv-icon"}),this.organizePageButton.appendChild(t),new k.Tooltip({content:G.initializeCSPTemplate(function(){return this.pdfViewer.localeObj.getConstant("Organize Pages")+(e?" (++3)":" (Ctrl+Alt+3)")},this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.organizePageButton),this.sideBarToolbar.appendChild(this.thumbnailButton),this.sideBarToolbar.appendChild(this.bookmarkButton),G.isNullOrUndefined(this.pdfViewer.pageOrganizer)||this.sideBarToolbar.appendChild(this.organizePageButton)),this.thumbnailButton.addEventListener("click",this.sideToolbarOnClick),this.bookmarkButton.addEventListener("click",this.bookmarkButtonOnClick),this.organizePageButton.addEventListener("click",this.organizeButtonOnClick)},l.prototype.onTooltipBeforeOpen=function(e){this.pdfViewer.toolbarSettings.showTooltip||(e.cancel=!0)},l.prototype.enableOrganizeButton=function(e){this.organizePageButton&&(e?(this.organizePageButton.removeAttribute("disabled"),this.organizePageButton.children[0].classList.remove("e-pv-organize-view-disable-icon"),this.organizePageButton.children[0].classList.add("e-pv-organize-view-icon"),this.organizePageButton.setAttribute("tabindex","0")):(this.organizePageButton.setAttribute("disabled","disabled"),this.organizePageButton.children[0].classList.remove("e-pv-organize-view-icon"),this.organizePageButton.children[0].classList.add("e-pv-organize-view-disable-icon"),this.organizePageButton.setAttribute("tabindex","-1")))},l.prototype.enableThumbnailButton=function(){this.thumbnailButton&&(this.thumbnailButton.removeAttribute("disabled"),this.thumbnailButton.children[0].classList.remove("e-pv-thumbnail-view-disable-icon"),this.thumbnailButton.children[0].classList.add("e-pv-thumbnail-view-icon"),this.thumbnailButton.setAttribute("tabindex","0"))},l.prototype.enableBookmarkButton=function(){this.bookmarkButton&&(this.bookmarkButton.removeAttribute("disabled"),this.bookmarkButton.children[0].classList.remove("e-pv-bookmark-disable-icon"),this.bookmarkButton.children[0].classList.add("e-pv-bookmark-icon"),this.bookmarkButton.setAttribute("tabindex","0"))},l.prototype.createSidebarTitleCloseButton=function(){this.closeDiv=G.createElement("button",{id:this.pdfViewer.element.id+"_close_btn"}),this.closeDiv.setAttribute("aria-label","close button"),this.closeDiv.setAttribute("type","button"),this.closeDiv.className="e-btn e-pv-tbar-btn e-pv-title-close-div e-btn",this.pdfViewer.enableRtl?this.closeDiv.style.left="8px":this.closeDiv.style.left=this.closeButtonLeft+"px";var e=G.createElement("span",{id:this.pdfViewer.element.id+"_close_icon",className:"e-pv-title-close-icon e-pv-icon"});this.closeDiv.appendChild(e),this.sideBarTitleContainer.appendChild(this.closeDiv),this.closeDiv.addEventListener("click",this.sideToolbarOnClose)},l.prototype.createResizeIcon=function(){this.resizeIcon=G.createElement("div",{id:this.pdfViewer.element.id+"_resize",className:"e-pv-resize-icon e-pv-icon"}),this.setResizeIconTop(),this.resizeIcon.style.position="absolute",this.resizeIcon.addEventListener("click",this.sideToolbarOnClose),this.resizeIcon.addEventListener("mouseover",this.resizeIconMouseOver),this.sideBarResizer.appendChild(this.resizeIcon)},l.prototype.setResizeIconTop=function(){this.sideBarToolbar&&this.sideBarToolbar.clientHeight&&""===this.resizeIcon.style.top&&(this.resizeIcon.style.top=this.sideBarToolbar.clientHeight/2+"px")},l.prototype.setCommentPanelResizeIconTop=function(){this.commentPanelContainer&&this.commentPanelContainer.clientHeight&&this.commentPanelResizeIcon&&""===this.commentPanelResizeIcon.style.top&&(this.commentPanelResizeIcon.style.top=this.commentPanelContainer.clientHeight/2+"px")},Object.defineProperty(l.prototype,"outerContainerWidth",{get:function(){return this.mainContainerWidth||(this.mainContainerWidth=this.pdfViewerBase.mainContainer.clientWidth),this.mainContainerWidth},enumerable:!0,configurable:!0}),l.prototype.getViewerContainerScrollbarWidth=function(){return this.pdfViewerBase.viewerContainer.offsetWidth+this.pdfViewerBase.viewerContainer.offsetLeft-(this.pdfViewerBase.viewerContainer.clientWidth+this.pdfViewerBase.viewerContainer.offsetLeft)},Object.defineProperty(l.prototype,"sideToolbarWidth",{get:function(){return this.sideBarToolbar?this.sideBarToolbar.clientWidth:0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"sideBarContentContainerWidth",{get:function(){return this.sideBarContentContainer?this.sideBarContentContainer.clientWidth:0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"commentPanelContainerWidth",{get:function(){return this.commentPanelContainer?this.commentPanelContainer.offsetWidth:0},enumerable:!0,configurable:!0}),l.prototype.updateViewerContainerOnClose=function(){var e;(e=this).sideBarContentContainer&&(e.sideBarContentContainer.style.display="none",this.pdfViewer.enableRtl?e.pdfViewerBase.viewerContainer.style.right=e.sideToolbarWidth+"px":e.pdfViewerBase.viewerContainer.style.left=e.sideToolbarWidth+"px",e.pdfViewerBase.viewerContainer.style.width=e.pdfViewer.element.clientWidth-e.sideToolbarWidth-e.getViewerContainerRight()+"px",e.pdfViewerBase.pageContainer.style.width=e.pdfViewerBase.viewerContainer.offsetWidth-e.getViewerContainerScrollbarWidth()+"px",this.restrictUpdateZoomValue)&&e.pdfViewerBase.updateZoomValue()},l.prototype.updateViewerContainerOnExpand=function(){var e;(e=this).sideBarContentContainer&&(G.isNullOrUndefined(this.pdfViewer.thumbnailViewModule)||this.pdfViewer.thumbnailViewModule.isThubmnailOpen||(e.sideBarContentContainer.style.display="block"),(e.pdfViewer.isBookmarkPanelOpen||this.isBookmarkOpen)&&(e.sideBarContentContainer.style.display="block"),this.pdfViewer.enableRtl?e.pdfViewerBase.viewerContainer.style.right=e.getViewerContainerLeft()+"px":e.pdfViewerBase.viewerContainer.style.left=e.getViewerContainerLeft()+"px",e.pdfViewerBase.viewerContainer.style.width=e.pdfViewer.element.clientWidth-this.getViewerContainerLeft()-this.getViewerContainerRight()+"px",e.pdfViewerBase.pageContainer.style.width=e.pdfViewerBase.viewerContainer.clientWidth+"px",e.pdfViewerBase.updateZoomValue(),e.pdfViewer.enableThumbnail)&&(e.pdfViewer.thumbnailViewModule.gotoThumbnailImage(e.pdfViewerBase.currentPageNumber-1),e.pdfViewer.thumbnailViewModule.renderViewPortThumbnailImage())},l.prototype.getViewerContainerLeft=function(){return this.sideToolbarWidth?this.sideToolbarWidth+this.sideBarContentContainerWidth:0!==this.sideToolbarWidth||this.pdfViewer.enableNavigationToolbar?0:this.sideBarContentContainerWidth},l.prototype.getViewerContainerRight=function(){return this.commentPanelResizer?this.commentPanelContainerWidth+this.commentPanelResizer.clientWidth:0!==this.sideToolbarWidth||this.pdfViewer.enableNavigationToolbar?0:this.sideBarContentContainerWidth},l.prototype.getViewerMainContainerWidth=function(){return this.pdfViewer.element.clientWidth-this.sideToolbarWidth},l.prototype.setThumbnailSelectionIconTheme=function(){this.thumbnailButton&&(this.thumbnailButton.children[0].classList.remove("e-pv-thumbnail-view-icon"),this.thumbnailButton.children[0].classList.add("e-pv-thumbnail-view-selection-icon"),this.thumbnailButton.classList.add("e-pv-thumbnail-view-button-selection"))},l.prototype.removeThumbnailSelectionIconTheme=function(){this.thumbnailButton&&this.thumbnailButton.children[0]&&(this.thumbnailButton.children[0].classList.add("e-pv-thumbnail-view-icon"),this.thumbnailButton.children[0].classList.remove("e-pv-thumbnail-view-selection-icon"),this.thumbnailButton.classList.remove("e-pv-thumbnail-view-button-selection"))},l.prototype.resetThumbnailIcon=function(){this.thumbnailButton&&this.thumbnailButton.children[0]&&(this.thumbnailButton.children[0].classList.remove("e-pv-thumbnail-view-icon"),this.thumbnailButton.children[0].classList.add("e-pv-thumbnail-view-disable-icon"))},l.prototype.resetThumbnailView=function(){this.sideBarContentContainer&&(this.sideBarContentContainer.style.display="none",this.pdfViewer.enableRtl?this.pdfViewerBase.viewerContainer.style.left="1px":this.pdfViewerBase.viewerContainer.style.left=this.sideToolbarWidth+"px",this.pdfViewerBase.viewerContainer.style.width=this.pdfViewer.element.clientWidth-this.sideToolbarWidth-this.getViewerContainerRight()+"px",this.pdfViewerBase.pageContainer&&(this.pdfViewerBase.pageContainer.style.width=this.pdfViewerBase.viewerContainer.clientWidth+"px"),this.thumbnailButton.setAttribute("disabled","disabled"),this.removeThumbnailSelectionIconTheme(),this.resetThumbnailIcon())},l.prototype.setBookmarkSelectionIconTheme=function(){this.bookmarkButton&&(this.bookmarkButton.children[0].classList.remove("e-pv-bookmark-icon"),this.bookmarkButton.children[0].classList.add("e-pv-bookmark-selection-icon"),this.bookmarkButton.classList.add("e-pv-bookmark-button-selection"))},l.prototype.removeBookmarkSelectionIconTheme=function(){this.bookmarkButton&&this.bookmarkButton.children[0]&&(this.bookmarkButton.children[0].classList.add("e-pv-bookmark-icon"),this.bookmarkButton.children[0].classList.remove("e-pv-bookmark-selection-icon"),this.bookmarkButton.classList.remove("e-pv-bookmark-button-selection"))},l.prototype.sideToolbarOnMouseup=function(e){e.target===this.sideBarToolbar&&this.pdfViewerBase.focusViewerContainer()},l.prototype.sideBarTitleOnMouseup=function(e){this.pdfViewerBase.focusViewerContainer()},l.prototype.openBookmarkcontentInitially=function(e){var t=this;document.getElementById(t.pdfViewer.element.id+"_thumbnail_view")&&(document.getElementById(t.pdfViewer.element.id+"_thumbnail_view").style.display="none"),t.removeThumbnailSelectionIconTheme(),t.sideBarTitle.textContent=t.pdfViewer.localeObj.getConstant("Bookmarks"),t.sideBarContent.setAttribute("aria-label","Bookmark View Panel"),t.sideBarContent.setAttribute("role","navigation"),t.pdfViewer.bookmarkViewModule.renderBookmarkcontent(),!t.sideBarContentContainer||!e&&t.isBookmarkOpenProgrammatically||("none"!==t.sideBarContentContainer.style.display?t.isThumbnailOpen?(t.setBookmarkSelectionIconTheme(),t.isBookmarkOpen=!0,t.updateViewerContainerOnExpand(),t.isThumbnail=!1,t.isThumbnailAddedProgrammatically=!1,t.isBookmarkOpenProgrammatically=!0,t.pdfViewer.isThumbnailViewOpen=!1):(t.removeBookmarkSelectionIconTheme(),t.isBookmarkOpen=!1,t.updateViewerContainerOnClose(),t.isBookmarkOpenProgrammatically=!1):(t.sideBarContent.focus(),t.setBookmarkSelectionIconTheme(),t.isBookmarkOpen=!0,t.updateViewerContainerOnExpand(),t.isBookmarkOpenProgrammatically=!0,t.pdfViewer.isThumbnailViewOpen=!1)),t.isThumbnailOpen=!1,t.pdfViewer.annotationModule&&t.pdfViewer.annotationModule.inkAnnotationModule&&(e=parseInt(t.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10),t.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(e))},l.prototype.disableBookmarkButton=function(){var e;this.sideBarContentContainer&&this.bookmarkButton&&this.bookmarkButton.children[0]&&((e=this.pdfViewer.element.querySelector(".e-pv-bookmark-view"))&&(e.style.display="none"),this.bookmarkButton.setAttribute("disabled","disabled"),this.bookmarkButton.children[0].classList.add("e-pv-bookmark-disable-icon"))},l.prototype.calculateCommentPanelWidth=function(){for(var e=document.getElementsByClassName("e-pv-comment-title"),t=document.getElementsByClassName("e-pv-more-options-button e-btn"),i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)],o=t[parseInt(i.toString(),10)];n.style.maxWidth=n.parentElement.clientWidth-o.clientWidth+"px"}for(var r=document.getElementsByClassName("e-pv-reply-title"),a=document.getElementsByClassName("e-pv-more-options-button e-btn"),s=0;s<r.length;s++){var l=r[parseInt(s.toString(),10)],A=a[parseInt(s.toString(),10)];l.style.maxWidth=l.parentElement.clientWidth-A.clientWidth+"px"}},l.prototype.clear=function(){G.Browser.isDevice||(this.removeBookmarkSelectionIconTheme(),this.removeThumbnailSelectionIconTheme(),this.closeCommentPanelContainer()),this.commentsContentContainer&&(this.commentsContentContainer.innerHTML="")},l.prototype.destroy=function(){var e=this.bookmarkButton,t=this.thumbnailButton,i=this.organizePageButton;e&&e.ej2_instances&&0<e.ej2_instances.length&&e.ej2_instances[0].destroy(),t&&t.ej2_instances&&0<t.ej2_instances.length&&t.ej2_instances[0].destroy(),i&&i.ej2_instances&&0<i.ej2_instances.length&&i.ej2_instances[0].destroy(),this.annotationMenuObj&&(e=this.annotationMenuObj.element)&&e.ej2_instances&&0<e.ej2_instances.length&&this.annotationMenuObj.destroy()},l.prototype.getModuleName=function(){return"NavigationPane"};var ri=l;function l(e,t){var a=this;this.thumbnailWidthMin=200,this.contentContainerScrollWidth=33,this.closeButtonLeft=170,this.isTooltipCreated=!1,this.annotationContextMenu=[],this.isCommentPanelShow=!1,this.commentPanelWidthMin=300,this.isThumbnail=!1,this.isThumbnailAddedProgrammatically=!1,this.isBookmarkOpenProgrammatically=!1,this.isNavigationToolbarVisible=!1,this.isBookmarkListOpen=!1,this.isNavigationPaneResized=!1,this.isBookmarkOpen=!1,this.isThumbnailOpen=!1,this.restrictUpdateZoomValue=!0,this.loadImportAnnotation=function(e){var t,i,n=e.target.files;null!==e.target.files[0]&&((n=n[0])&&(a.pdfViewer.fireImportStart(n),t=n.type,1<n.name.split(".json").length&&t.includes("json")?((i=new FileReader).readAsDataURL(n),i.onload=function(e){var t,i;e.currentTarget.result&&(e=e.currentTarget.result.split(",")[1],t=atob(e))&&(i=(t=JSON.parse(t)).pdfAnnotation[Object.keys(t.pdfAnnotation)[0]],1<=Object.keys(t.pdfAnnotation).length&&(i.textMarkupAnnotation||i.measureShapeAnnotation||i.freeTextAnnotation||i.stampAnnotations||i.signatureInkAnnotation||i.shapeAnnotation&&i.shapeAnnotation[0].Bounds)?(a.pdfViewerBase.isPDFViewerJson=!0,a.pdfViewerBase.importAnnotations(t,v.AnnotationDataFormat.Json)):(a.pdfViewerBase.isPDFViewerJson=!1,a.pdfViewerBase.clientSideRendering?a.pdfViewerBase.importAnnotations(j._decode(e),v.AnnotationDataFormat.Json):a.pdfViewerBase.importAnnotations(e,v.AnnotationDataFormat.Json)))}):1<n.name.split(".xfdf").length&&(t.includes("xfdf")||e.target.accept.includes("xfdf"))?(i=new FileReader,a.pdfViewerBase.clientSideRendering?i.readAsArrayBuffer(n):i.readAsDataURL(n),i.onload=function(e){var t;e.currentTarget.result&&(a.pdfViewerBase.clientSideRendering?(t=new Uint8Array(e.currentTarget.result))&&a.pdfViewerBase.importAnnotations(t,v.AnnotationDataFormat.Xfdf,!0):(t=e.currentTarget.result.split(",")[1],atob(t)&&a.pdfViewerBase.importAnnotations(t,v.AnnotationDataFormat.Xfdf,!0)))}):(a.pdfViewer.fireImportFailed(n,a.pdfViewer.localeObj.getConstant("Import Failed")),G.isBlazor()?a.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_ImportFailed").then(function(e){a.pdfViewerBase.openImportExportNotificationPopup(e)}):a.pdfViewerBase.openImportExportNotificationPopup(a.pdfViewer.localeObj.getConstant("Import Failed")))),e.target.value="")},this.resizeIconMouseOver=function(e){e.srcElement.style.cursor="e-resize"},this.resizePanelMouseDown=function(e){var t=null;(t=a).offset=[t.sideBarResizer.offsetLeft-e.clientX,t.sideBarResizer.offsetTop-e.clientY,t.sideBarResizer.offsetParent.clientWidth],a.previousX=e.clientX,t.isDown=!0,t.isNavigationPaneResized=!0,t.pdfViewerBase.viewerContainer.style.cursor="e-resize",t.sideBarContentContainer&&(t.sideBarContentContainer.style.cursor="e-resize")},this.resizeViewerMouseLeave=function(e){var t=null;(t=a).isDown&&setTimeout(function(){t.pdfViewerBase.onWindowResize()},200),t.isDown=!1,t.isNavigationPaneResized&&t.sideBarContentContainer&&(t.pdfViewerBase.viewerContainer.style.cursor="default",t.sideBarContentContainer.style.cursor="default",t.isNavigationPaneResized=!1),t.commentPanelContainer&&t.isCommentPanelShow&&(a.commentPanelMouseLeave(e),t.isCommentPanelShow=!1)},this.resizePanelMouseMove=function(e){var t,i,n,o=null,o=a;a.pdfViewerBase.getPopupNoteVisibleStatus()||(n=e.target,a.pdfViewerBase.skipPreventDefault(n)&&e.preventDefault(),o.isDown&&a.sideBarContentContainer?(a.pdfViewer.enableRtl?(t=a.previousX-e.clientX+o.offset[2],(t=(i=Math.floor(a.outerContainerWidth/2))<t?i:t)<a.thumbnailWidthMin&&(t=a.thumbnailWidthMin),o.sideBarResizer.style.right=t+"px",o.sideBarContentContainer.style.width=t+"px",o.sideBarContent.style.width=t+"px",o.sideBarContentSplitter.style.width=t+"px",o.sideBarTitleContainer.style.width=t+"px",o.pdfViewerBase.viewerContainer.style.right=o.getViewerContainerLeft()+"px",o.pdfViewerBase.viewerContainer.style.left=o.getViewerContainerRight()+"px"):(t=e.clientX+o.offset[0],(t=(i=Math.floor(a.outerContainerWidth/2))<t?i:t)<a.thumbnailWidthMin&&(t=a.thumbnailWidthMin),o.sideBarResizer.style.left=t+"px",o.closeDiv.style.left=t-o.contentContainerScrollWidth+"px",o.sideBarContentContainer.style.width=t+"px",o.sideBarContent.style.width=t+"px",o.sideBarContentSplitter.style.width=t+"px",o.sideBarTitleContainer.style.width=t+"px",o.pdfViewerBase.viewerContainer.style.left=o.getViewerContainerLeft()+"px",o.pdfViewerBase.viewerContainer.style.right=o.getViewerContainerRight()+"px"),n=o.pdfViewer.element.clientWidth-o.getViewerContainerLeft()-o.getViewerContainerRight(),o.pdfViewerBase.viewerContainer.style.width=n+"px",o.pdfViewerBase.pageContainer.style.width=o.pdfViewerBase.viewerContainer.clientWidth+"px",o.pdfViewer.thumbnailViewModule.gotoThumbnailImage(o.pdfViewerBase.currentPageNumber-1),o.pdfViewer.thumbnailViewModule.renderViewPortThumbnailImage(),o.pdfViewerBase.updateZoomValue(),o.bookmarkButton.children[0].classList.contains("e-pv-bookmark-disable-icon")||o.pdfViewer.bookmarkViewModule.setBookmarkContentHeight()):o.isCommentPanelShow&&a.commentPanelContainer&&a.updateCommentPanelContainer(e))},this.sideToolbarOnClose=function(e){var t=null;(t=a).removeThumbnailSelectionIconTheme(),t.removeBookmarkSelectionIconTheme(),t.updateViewerContainerOnClose(),t.isThumbnailAddedProgrammatically=!1,t.isBookmarkOpenProgrammatically=!1,t.isThumbnail=!1,t.isBookmarkOpen=!1},this.organizeButtonOnClick=function(e){G.isNullOrUndefined(a.pdfViewer.pageOrganizer)||a.pdfViewer.pageOrganizer.createOrganizeWindow()},this.sideToolbarOnClick=function(e){a.sideBarTitle.textContent=a.pdfViewer.localeObj.getConstant("Page Thumbnails"),a.sideBarContent.setAttribute("aria-label","Thumbnail View Panel");var t=null,t=a,i=document.getElementById(a.pdfViewer.element.id+"_bookmark_view");i&&(t.removeBookmarkSelectionIconTheme(),i.style.display="none"),document.getElementById(a.pdfViewer.element.id+"_thumbnail_view").style.display="flex",t.sideBarContentContainer&&("none"!==t.sideBarContentContainer.style.display?t.isBookmarkOpen?(t.isThumbnailOpen=!0,t.isThumbnail=!0,t.setThumbnailSelectionIconTheme(),t.updateViewerContainerOnExpand(),document.getElementById(t.pdfViewer.element.id+"_thumbnail_image_"+(t.pdfViewerBase.currentPageNumber-1)).focus(),t.isThumbnailAddedProgrammatically=!0):(t.isThumbnailOpen=!1,t.removeThumbnailSelectionIconTheme(),t.updateViewerContainerOnClose(),t.isThumbnailAddedProgrammatically=!1,t.isThumbnail=!1):(t.sideBarContent.focus(),t.isThumbnailOpen=!0,t.setThumbnailSelectionIconTheme(),t.updateViewerContainerOnExpand(),t.isThumbnail=!0,G.isNullOrUndefined(document.getElementById(t.pdfViewer.element.id+"_thumbnail_image_"+(t.pdfViewerBase.currentPageNumber-1)))||document.getElementById(t.pdfViewer.element.id+"_thumbnail_image_"+(t.pdfViewerBase.currentPageNumber-1)).focus(),t.isThumbnailAddedProgrammatically=!0)),t.isBookmarkOpen=!1,t.isBookmarkOpenProgrammatically=!1,a.pdfViewer.annotationModule&&a.pdfViewer.annotationModule.inkAnnotationModule&&(i=parseInt(a.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10),a.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(i))},this.openThumbnailPane=function(){var e=null,e=a,t=document.getElementById(a.pdfViewer.element.id+"_sideBarContent"),i=document.getElementById(a.pdfViewer.element.id+"_sideBarContentContainer"),n=document.getElementById(a.pdfViewer.element.id+"_viewerContainer"),o=document.getElementById(a.pdfViewer.element.id+"_pageViewContainer"),r=(document.getElementById(a.pdfViewer.element.id+"_thumbnail_view").style.display="block",document.getElementById(a.pdfViewer.element.id+"_sideBarResizer").style.display="none",e.sideBarTitle.textContent=a.pdfViewer.localeObj.getConstant("Page Thumbnails"),e.sideBarContent.setAttribute("aria-label","Thumbnail View Panel"),e.sideBarContent.setAttribute("tabindex","0"),document.getElementById(a.pdfViewer.element.id+"_bookmark_view"));r&&(e.removeBookmarkSelectionIconTheme(),r.style.display="none"),i&&!a.isThumbnailAddedProgrammatically&&(e.isThumbnail?(i.style.display="none",n.style.width=e.pdfViewer.element.clientWidth+"px",o.style.width=n.clientWidth+"px",n.style.left=i.clientWidth+"px",e.pdfViewerBase.updateZoomValue(),e.removeThumbnailSelectionIconTheme(),e.isThumbnail=!1):(t.focus(),e.setThumbnailSelectionIconTheme(),e.updateViewerContainerOnExpand(),e.isThumbnail=!0,e.pdfViewerBase.updateZoomValue(),G.isNullOrUndefined(e.pdfViewer.thumbnailViewModule)||e.pdfViewer.thumbnailViewModule.gotoThumbnailImage(e.pdfViewerBase.currentPageNumber-1),e.isThumbnailAddedProgrammatically=!0,e.isThumbnailOpen=!0,e.isBookmarkOpen=!1,e.isBookmarkOpenProgrammatically=!1)),a.pdfViewer.annotationModule&&a.pdfViewer.annotationModule.inkAnnotationModule&&(r=parseInt(a.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10),a.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(r))},this.closeThumbnailPane=function(){var e=null;((e=a).isThumbnail||e.isThumbnailAddedProgrammatically||e.pdfViewer.isThumbnailViewOpen)&&(e.sideBarContent.removeAttribute("tabindex"),e.removeThumbnailSelectionIconTheme(),e.isThumbnailOpen=!1,e.updateViewerContainerOnClose(),e.isThumbnailAddedProgrammatically=!1,e.isThumbnail=!1)},this.bookmarkButtonOnClick=function(e){a.openBookmarkcontentInitially(!0)},this.closeBookmarkPane=function(){var e=a;(e.isBookmarkOpen||e.isBookmarkOpenProgrammatically)&&(e.removeBookmarkSelectionIconTheme(),e.isBookmarkOpen=!1,e.updateViewerContainerOnClose(),e.isBookmarkOpenProgrammatically=!1,e.isBookmarkListOpen=!1)},this.commentPanelMouseDown=function(e){var t=null;(t=a).offset=[t.commentPanelResizer.offsetLeft-e.clientX,t.commentPanelResizer.offsetTop-e.clientY,t.getViewerContainerRight()],a.isCommentPanelShow=!0,a.previousX=e.clientX,t.pdfViewerBase.viewerContainer.style.cursor="e-resize",t.commentPanelResizer.style.cursor="e-resize"},this.updateCommentPanelContainer=function(e){var t,i,n=null,n=a,e=(a.pdfViewer.enableRtl?(t=e.clientX+n.offset[0],(t=(i=Math.floor(a.outerContainerWidth/2))<t?i:t)<a.commentPanelWidthMin&&(t=a.commentPanelWidthMin),n.commentPanelResizer.style.left=t+"px",n.commentPanelContainer.style.width=t+"px",n.pdfViewerBase.viewerContainer.style.left=n.getViewerContainerRight()+"px",n.pdfViewerBase.viewerContainer.style.right=n.getViewerContainerLeft()+"px"):(t=a.previousX-e.clientX+n.offset[2],(t=(i=Math.floor(a.outerContainerWidth/2))<t?i:t)<a.commentPanelWidthMin&&(t=a.commentPanelWidthMin),n.commentPanelResizer.style.right=t+"px",n.commentPanelContainer.style.width=t+"px",n.pdfViewerBase.viewerContainer.style.right=n.getViewerContainerRight()+"px",n.pdfViewerBase.viewerContainer.style.left=n.getViewerContainerLeft()+"px"),a.pdfViewer.annotation.stickyNotesAnnotationModule.updateCommentPanelTextTop(),n.pdfViewer.element.clientWidth-n.getViewerContainerLeft()-n.getViewerContainerRight());n.pdfViewerBase.viewerContainer.style.width=e+"px",n.pdfViewerBase.pageContainer.style.width=n.pdfViewerBase.viewerContainer.clientWidth+"px",n.calculateCommentPanelWidth(),n.pdfViewerBase.updateZoomValue()},this.commentPanelMouseLeave=function(e){var t=null;(t=a).commentPanelContainer&&(t.pdfViewerBase.viewerContainer.style.cursor="default",t.commentPanelContainer.style.cursor="default")},this.pdfViewer=e,this.pdfViewerBase=t}si.prototype.createContextMenu=function(){var e=document.getElementsByClassName(this.pdfViewer.element.id+"_context_menu");e&&(this.contextMenuElement=e[0],this.contextMenuElement.children)&&0<this.contextMenuElement.children.length&&((e=this.contextMenuElement.children[0]).className=e.className+" e-pv-context-menu")},si.prototype.open=function(e,t,i){this.pdfViewer._dotnetInstance.invokeMethodAsync("OpenContextMenu",e,t)},si.prototype.close=function(){this.pdfViewer._dotnetInstance.invokeMethodAsync("CloseContextMenu")},si.prototype.destroy=function(){this.previousAction="",this.contextMenuElement=null},si.prototype.OnItemSelected=function(e){"string"==typeof e?this.pdfViewerBase.OnItemSelected(e):this.pdfViewerBase.OnItemSelected(e[0])};var ai=si;function si(e,t){this.pdfViewer=e,this.pdfViewerBase=t}var li={},Ai=null,di=null,pi=30,hi=30,ci=30,gi=30,ui=36,fi=30,mi=30,wi="e-spin-show",Bi="e-spin-hide",Ci="e-spin-material",Si="e-spin-material3",yi="e-spin-fabric",Ii="e-spin-bootstrap",Ei="e-spin-bootstrap4",Qi="e-spin-bootstrap5",Di="e-spin-tailwind",xi="e-spin-fluent",Vi="e-spin-fluent2",bi="e-spin-tailwind3",Mi="e-spin-high-contrast",vi="e-spinner-pane",Fi="e-spinner-inner",Ti="e-path-circle",ki="e-path-arc",Pi="e-spin-label",Ni="e-spin-template";function Ri(e,t){var i,n,o;e.target&&(t=G.isNullOrUndefined(t)?G.createElement:t,i=e.target,(o=(n=t)("div",{})).classList.add(vi),(n=n("div",{})).classList.add(Fi),i.appendChild(o),o.appendChild(n),i={wrap:o,innerWrap:n},G.isNullOrUndefined(e.cssClass)||i.wrap.classList.add(e.cssClass),G.isNullOrUndefined(e.template)&&G.isNullOrUndefined(Ai)?(n=G.isNullOrUndefined(e.type)?(o=i.wrap,window.getComputedStyle(o,":after").getPropertyValue("content").replace(/['"]+/g,"")):e.type,o=function(e,t){var i;switch(t){case"Material":i=pi;break;case"Material3":i=hi;break;case"Fabric":i=ci;break;case"Fluent2":i=fi;break;case"Tailwind3":i=mi;break;case"Bootstrap4":i=ui;break;default:i=gi}return e=e?parseFloat(e+""):i,"Bootstrap"===t?e:e/2}(G.isNullOrUndefined(e.width)?void 0:e.width,n),Li(n,i.wrap,o,t),G.isNullOrUndefined(e.label)||(n=i.innerWrap,o=e.label,(t=(t=t)("div",{})).classList.add(Pi),t.textContent=o,n.appendChild(t))):(o=G.isNullOrUndefined(e.template)?Ai:e.template,i.wrap.classList.add(Ni),n=i.wrap,t=o,e=di,G.isNullOrUndefined(e)||n.classList.add(e),n.querySelector(".e-spinner-inner").innerHTML=t),i.wrap.classList.add(Bi))}function Li(e,t,i,n){var o,r,a,s,l,A,d,p,h,c,g,u,f,m,w,B,C,S,y,I=t.querySelector("."+Fi),t=I.querySelector("svg");switch(G.isNullOrUndefined(t)||I.removeChild(t),e){case"Material":B=I,C=i,S=n,y=zi(),li[""+y]={timeOut:0,type:"Material",radius:C},Yi(B,y,0,Ci),Ji(C,B,"Material",Ci);break;case"Material3":y=I,S=i,C=n,B=zi(),li[""+B]={timeOut:0,type:"Material3",radius:S},Yi(y,B,0,Si),Ji(S,y,"Material3",Si);break;case"Fabric":f=I,m=i,w=zi(),li[""+w]={timeOut:0,type:"Fabric",radius:m},Hi(f,w,yi),Zi(m,f,yi);break;case"Bootstrap":w=I,m=i,f=zi(),li[""+f]={timeOut:0,type:"Bootstrap",radius:m};var E=w,Q=f,D=document.createElementNS("http://www.w3.org/2000/svg","svg");D.setAttribute("id",Q),D.setAttribute("class",Ii),D.setAttribute("viewBox","0 0 64 64"),E.insertBefore(D,E.firstChild);for(var x=0;x<=7;x++){var V=document.createElementNS("http://www.w3.org/2000/svg","circle");V.setAttribute("class",Ti+"_"+x),V.setAttribute("r","2"),V.setAttribute("transform","translate(32,32)"),D.appendChild(V)}for(var Q=m,b=w.querySelector("svg.e-spin-bootstrap"),M=(b.style.width=b.style.height=Q+"px",90),v=0;v<=7;v++){var F=_i(0,0,24,M),T=b.querySelector("."+Ti+"_"+v);T.setAttribute("cx",F.x+""),T.setAttribute("cy",F.y+""),M=360<=M?0:M,M+=45}break;case"HighContrast":E=I,Q=i,u=zi(),li[""+u]={timeOut:0,type:"HighContrast",radius:Q},Hi(E,u,Mi),Zi(Q,E,Mi);break;case"Bootstrap4":u=I,h=i,c=n,g=zi(),li[""+g]={timeOut:0,type:"Bootstrap4",radius:h},Yi(u,g,0,Ei),Ji(h,u,"Bootstrap4",Ei);break;case"Bootstrap5":g=I,c=i,h=n,p=zi(),li[""+p]={timeOut:0,type:"Bootstrap5",radius:c},Yi(g,p,0,Qi),Ji(c,g,"Bootstrap5",Qi);break;case"Tailwind":p=I,A=i,d=zi(),li[""+d]={timeOut:0,type:"Tailwind",radius:A},Hi(p,d,Di),Zi(A,p,Di);break;case"Fluent":d=I,A=i,l=zi(),li[""+l]={timeOut:0,type:"Fluent",radius:A},Hi(d,l,xi),Zi(A,d,xi);break;case"Fluent2":l=I,a=i,s=zi(),li[""+s]={timeOut:0,type:"Fluent2",radius:a},Hi(l,s,Vi),Zi(a,l,Vi);break;case"Tailwind3":s=I,a=i,o=n,r=zi(),li[""+r]={timeOut:0,type:"Tailwind3",radius:a},Yi(s,r,0,bi),Ji(a,s,"Tailwind3",bi)}}function Ui(e,t){var i=[],n=e,o=t,r=!1,a=1;return function e(t){i.push(t);t===o&&1!==a||(t<=n&&1<t&&!r?t=parseFloat((t-.2).toFixed(2)):1===t?(t=7,t=parseFloat((t+.2).toFixed(2)),r=!0):t<8&&r?8===(t=parseFloat((t+.2).toFixed(2)))&&(r=!1):t<=8&&!r&&(t=parseFloat((t-.2).toFixed(2))),++a,e(t))}(n),i}function Oi(e){for(var t=e.querySelector("svg.e-spin-bootstrap").getAttribute("id"),i=1;i<=8;i++)!function(t,e,i,n){var o=0;function r(e){li[""+n].isAnimate&&(++o,t.setAttribute("r",e+""),o>=i.length&&(o=0),li[""+n].timeOut=setTimeout(r.bind(null,i[parseInt(o.toString(),10)]),18))}r(e)}(e.getElementsByClassName("e-path-circle_"+(8===i?0:i))[0],i,Ui(i,i),t)}function zi(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function Hi(e,t,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=(n.setAttribute("id",t),n.setAttribute("class",i),document.createElementNS("http://www.w3.org/2000/svg","path")),i=(t.setAttribute("class",Ti),document.createElementNS("http://www.w3.org/2000/svg","path"));i.setAttribute("class",ki),e.insertBefore(n,e.firstChild),n.appendChild(t),n.appendChild(i)}function Yi(e,t,i,n){var o=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=(o.setAttribute("class",n),o.setAttribute("id",t),document.createElementNS("http://www.w3.org/2000/svg","path"));n.setAttribute("class",Ti),e.insertBefore(o,e.firstChild),o.appendChild(n)}function Gi(e){var a=1,t=149,s=Wi,l=1333,A=(e.globalInfo[e.uniqueID].count,75),i=e,d=++i.globalInfo[i.uniqueID].previousId,p=(new Date).getTime(),h=t-a,c=function(e){return parseFloat(e)}(2*i.globalInfo[i.uniqueID].radius+""),g=ji(c),u=-90*(i.globalInfo[i.uniqueID].count||0);!G.isNullOrUndefined(li[i.uniqueID])&&li[i.uniqueID].timeOut&&(clearTimeout(li[i.uniqueID].timeOut),li[i.uniqueID].timeOut=null),function e(t){var i,n,o,r=Math.max(0,Math.min((new Date).getTime()-p,l));G.isNullOrUndefined(li[t.uniqueID])||G.isNullOrUndefined(li[t.uniqueID].timeOut)||(i=s(r,a,h,l),n=t.container,G.isNullOrUndefined(n.querySelector("svg.e-spin-material"))&&G.isNullOrUndefined(n.querySelector("svg.e-spin-material3"))||(o=void 0,G.isNullOrUndefined(n.querySelector("svg.e-spin-material"))||G.isNullOrUndefined(n.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))?G.isNullOrUndefined(n.querySelector("svg.e-spin-fluent2"))||G.isNullOrUndefined(n.querySelector("svg.e-spin-fluent2").querySelector("path.e-path-circle"))?G.isNullOrUndefined(n.querySelector("svg.e-spin-material3"))||G.isNullOrUndefined(n.querySelector("svg.e-spin-material3").querySelector("path.e-path-circle"))?G.isNullOrUndefined(n.querySelector("svg.e-spin-tailwind3"))||G.isNullOrUndefined(n.querySelector("svg.e-spin-tailwind3").querySelector("path.e-path-circle"))||(o=n.querySelector("svg.e-spin-tailwind3")):o=n.querySelector("svg.e-spin-material3"):o=n.querySelector("svg.e-spin-fluent2"):o=n.querySelector("svg.e-spin-material"),G.isNullOrUndefined(o))||((n=o.querySelector("path.e-path-circle")).setAttribute("stroke-dashoffset",Ki(c,g,i,A)+""),n.setAttribute("transform","rotate("+u+" "+c/2+" "+c/2+")")),d===t.globalInfo[t.uniqueID].previousId&&r<l?li[t.uniqueID].timeOut=requestAnimationFrame(function(){return e(t)}):(clearTimeout(li[t.uniqueID].timeOut),li[t.uniqueID].timeOut=null,Gi(t)))}(i),e.globalInfo[e.uniqueID].count=++e.globalInfo[e.uniqueID].count%4}function Ji(e,t,i,n){var e=2*e,t=t.querySelector("svg."+n),n=t.querySelector("path.e-path-circle"),o=ji(e),r=e/2+"px";t.setAttribute("viewBox","0 0 "+e+" "+e),t.style.width=t.style.height=e+"px",t.style.transformOrigin=r+" "+r+" "+r,n.setAttribute("d",function(e,t){e/=2,t/=2;return"M"+e+","+t+"A"+(e-t)+","+(e-t)+" 0 1 1 "+t+","+e}(e,o)),"Material"!==i&&"Material3"!==i||(n.setAttribute("stroke-width",o+""),n.setAttribute("stroke-dasharray",(e-o)*Math.PI*.75+""),n.setAttribute("stroke-dashoffset",Ki(e,o,1,75)+"")),"Tailwind3"===i&&n.setAttribute("stroke-width",o+"")}function ji(e){return.1*e}function Ki(e,t,i,n){return(e-t)*Math.PI*(3*n/100-i/100)}function Wi(e,t,i,n){n=(e/=n)*e,e*=n;return t+i*(6*e*n+-15*n*n+10*e)}function Zi(e,t,i){var n=e,o=e,r=2*e,t=t.querySelector("."+i),i=t.querySelector(".e-path-circle"),a=t.querySelector(".e-path-arc"),s=r/2+"px";i.setAttribute("d",["M",n,o,"m",-e,0,"a",e,e,0,1,0,2*e,0,"a",e,e,0,1,0,2*-e,0].join(" ")),a.setAttribute("d",function(e,t,i,n,o){o=_i(e,t,i,o),e=_i(e,t,i,n);return["M",o.x,o.y,"A",i,i,0,0,0,e.x,e.y].join(" ")}(n,o,e,315,45)),t.setAttribute("viewBox","0 0 "+r+" "+r),t.style.transformOrigin=s+" "+s+" "+s,t.style.width=t.style.height=r+"px"}function _i(e,t,i,n){n=(n-90)*Math.PI/180;return{x:e+i*Math.cos(n),y:t+i*Math.sin(n)}}function Xi(e){qi(e,!1)}function qi(e,t){var i,n,o,r,a;if(e&&(i=e.classList.contains(vi)?e:e.querySelector("."+vi)),e&&i){var s=i.querySelector("."+Fi);if(t?!i.classList.contains(Ni)&&!i.classList.contains(Bi):!i.classList.contains(Ni)&&!i.classList.contains(wi)){e=i.querySelector("svg");if(G.isNullOrUndefined(e))return;var l=e.getAttribute("id");switch(li[""+l].isAnimate=!t,li[""+l].type){case"Material":case"Material3":case"Fluent2":case"Tailwind3":t?clearTimeout(li[""+l].timeOut):(n=s,r=li[""+(o=l)].radius,a={},li[""+o].timeOut=0,a[""+o]={radius:r,count:0,previousId:0},Gi({uniqueID:o,container:n,globalInfo:a,timeOutVar:0}));break;case"Bootstrap":t?clearTimeout(li[""+l].timeOut):Oi(s)}}t?G.classList(i,[Bi],[wi]):G.classList(i,[wi],[Bi])}}function $i(e){qi(e,!0)}function en(e,t){for(var i,n,o,r,a,s=G.isNullOrUndefined(t)?G.createElement:t,l=(void 0!==e.template&&(Ai=e.template,void 0!==e.template)&&(di=e.cssClass),document.querySelectorAll("."+vi)),A=0;A<l.length;A++)if(i=e.template,n=l[parseInt(A.toString(),10)],o=e.type,r=e.cssClass,a=s,G.isNullOrUndefined(i)&&!n.classList.contains(Ni)){g=c=h=p=d=void 0;var d=n,p=o,h=r,c=a,h=(G.isNullOrUndefined(h)||d.classList.add(h),d.querySelector("svg")),g="Bootstrap"===p?parseFloat(h.style.height):parseFloat(h.style.height)/2;0<=h.getAttribute("class").split(/\s/).indexOf("e-spin-material")&&(h=h.getAttribute("id"),clearTimeout(li[""+h].timeOut)),Li(p,d,g,c),(n.classList.contains(wi)?(n.classList.remove(wi),Xi):(n.classList.remove(Bi),$i))(n)}else Ai=i,G.isNullOrUndefined(r)||(di=r)}nn.prototype.findToolbarElements=function(){this.totalPageElement=this.pdfViewerBase.getElement("_totalPage").children[0],this.currentPageBoxElementContainer=this.pdfViewerBase.getElement("_currentPageInput"),this.currentPageBoxElement=this.pdfViewerBase.getElement("_currentPageInput").children[0].children[0],this.firstPageElement=this.pdfViewerBase.getElement("_firstPage"),this.previousPageElement=this.pdfViewerBase.getElement("_previousPage"),this.nextPageElement=this.pdfViewerBase.getElement("_nextPage"),this.lastPageElement=this.pdfViewerBase.getElement("_lastPage"),this.zommOutElement=this.pdfViewerBase.getElement("_zoomOut"),this.zoomInElement=this.pdfViewerBase.getElement("_zoomIn"),this.zoomDropDownElement=this.pdfViewerBase.getElement("_zoomDropDown"),this.selectToolElement=this.pdfViewerBase.getElement("_selectTool"),this.handToolElement=this.pdfViewerBase.getElement("_handTool"),this.undoElement=this.pdfViewerBase.getElement("_undo"),this.redoElement=this.pdfViewerBase.getElement("_redo"),this.commentElement=this.pdfViewerBase.getElement("_comment"),this.submitFormButton=this.pdfViewerBase.getElement("_submitFormButton"),this.searchElement=this.pdfViewerBase.getElement("_search"),this.annotationElement=this.pdfViewerBase.getElement("_annotation"),this.editAnnotationButtonElement=this.annotationElement.children[0],this.editAnnotationButtonElement.classList.add("e-pv-tbar-btn"),this.printElement=this.pdfViewerBase.getElement("_print"),this.downloadElement=this.pdfViewerBase.getElement("_download"),this.highlightElement=this.pdfViewerBase.getElement("_highLight"),this.underlineElement=this.pdfViewerBase.getElement("_underline"),this.strikeThroughElement=this.pdfViewerBase.getElement("_strikethrough"),this.shapeElement=this.pdfViewerBase.getElement("_annotation_shapes"),this.calibrateElement=this.pdfViewerBase.getElement("_annotation_calibrate"),this.stampElement=this.pdfViewerBase.getElement("_annotation_stamp"),this.freeTextElement=this.pdfViewerBase.getElement("_annotation_freeTextEdit"),this.signatureElement=this.pdfViewerBase.getElement("_annotation_signature"),this.inkElement=this.pdfViewerBase.getElement("_annotation_ink"),this.annotationFontSizeInputElement=this.pdfViewerBase.getElement("_annotation_fontsize").children[0].children[0],this.annotationFontFamilyInputElement=this.pdfViewerBase.getElement("_annotation_fontname").children[0].children[0],this.annotationColorElement=this.pdfViewerBase.getElement("_annotation_color"),this.annotationStrokeColorElement=this.pdfViewerBase.getElement("_annotation_stroke"),this.annotationThicknessElement=this.pdfViewerBase.getElement("_annotation_thickness"),this.annotationOpacityElement=this.pdfViewerBase.getElement("_annotation_opacity"),this.annotationFontColorElement=this.pdfViewerBase.getElement("_annotation_textcolor"),this.annotationFontFamilyElement=this.pdfViewerBase.getElement("_annotation_fontname"),this.annotationFontSizeElement=this.pdfViewerBase.getElement("_annotation_fontsize"),this.annotationTextAlignElement=this.pdfViewerBase.getElement("_annotation_textalign"),this.annotationTextColorElement=this.pdfViewerBase.getElement("_annotation_textcolor"),this.annotationTextPropertiesElement=this.pdfViewerBase.getElement("_annotation_textproperties"),this.annotationDeleteElement=this.pdfViewerBase.getElement("_annotation_delete"),this.annotationCommentPanelElement=this.pdfViewerBase.getElement("_annotation_commentPanel"),this.annotationCloseElement=this.pdfViewerBase.getElement("_annotation_close"),this.mobileToolbarContainerElement=this.pdfViewerBase.getElement("_mobileToolbarContainer"),this.mobileSearchPreviousOccurenceElement=this.pdfViewerBase.getElement("_prev_occurrence"),this.mobileSearchNextOccurenceElement=this.pdfViewerBase.getElement("_next_occurrence")},nn.prototype.updateTotalPage=function(){this.totalPageElement.textContent=this.pdfViewer.localeObj.getConstant("of")+this.pdfViewerBase.pageCount.toString()},nn.prototype.updateCurrentPage=function(e){this.currentPageBoxElement.value=e.toString()},nn.prototype.loadDocument=function(){this.pdfViewer.enableNavigation&&(this.currentPageBoxElementContainer.classList.remove(this.cssClass),this.currentPageBoxElement.value="1",this.totalPageElement.textContent=this.pdfViewer.localeObj.getConstant("of")+this.pdfViewerBase.pageCount.toString(),this.isEnabled(this.firstPageElement)||(this.firstPageElement.className+=this.disableClass),this.isEnabled(this.previousPageElement)||(this.previousPageElement.className+=this.disableClass),this.nextPageElement.classList.remove(this.cssClass),this.lastPageElement.classList.remove(this.cssClass),1===this.pdfViewerBase.pageCount)&&(this.nextPageElement.classList.contains(this.cssClass)||(this.nextPageElement.className+=this.disableClass),this.lastPageElement.classList.contains(this.cssClass)||(this.lastPageElement.className+=this.disableClass)),this.pdfViewer.enableMagnification&&(this.zoomInElement.classList.remove(this.cssClass),this.zommOutElement.classList.remove(this.cssClass),this.zoomDropDownElement.classList.remove(this.cssClass)),this.pdfViewer.enableTextSelection&&(this.selectToolElement.classList.remove(this.cssClass),this.selectItem(this.pdfViewer.toolbar.SelectToolElement)),this.handToolElement.classList.remove(this.cssClass),this.pdfViewer.enableStickyNotesAnnotation&&this.commentElement.classList.remove(this.cssClass),this.pdfViewer.enableTextSearch&&this.searchElement.classList.remove(this.cssClass),this.pdfViewer.isFormFieldDocument&&this.submitFormButton.classList.remove(this.cssClass),this.pdfViewer.enableAnnotation&&this.pdfViewer.enableAnnotationToolbar&&this.annotationElement.classList.remove(this.cssClass),this.pdfViewer.enablePrint&&this.printElement.classList.remove(this.cssClass),this.pdfViewer.enableDownload&&this.downloadElement.classList.remove(this.cssClass),this.pdfViewer.enableAnnotation&&this.pdfViewer.enableTextMarkupAnnotation&&(this.highlightElement.classList.remove(this.cssClass),this.underlineElement.classList.remove(this.cssClass),this.strikeThroughElement.classList.remove(this.cssClass)),this.pdfViewer.enableAnnotation&&this.pdfViewer.enableShapeAnnotation&&this.shapeElement.classList.remove(this.cssClass),this.pdfViewer.enableAnnotation&&this.pdfViewer.enableMeasureAnnotation&&this.calibrateElement.classList.remove(this.cssClass),this.pdfViewer.enableAnnotation&&this.pdfViewer.enableStampAnnotations&&this.stampElement.classList.remove(this.cssClass),this.pdfViewer.enableFreeText&&this.freeTextElement.classList.remove(this.cssClass),this.pdfViewer.enableHandwrittenSignature&&this.signatureElement.classList.remove(this.cssClass),this.pdfViewer.enableInkAnnotation&&this.inkElement.classList.remove(this.cssClass),this.pdfViewer.enableCommentPanel&&this.annotationCommentPanelElement.classList.remove(this.cssClass)},nn.prototype.selectItem=function(e){e&&e.classList.add("e-pv-select")},nn.prototype.deselectItem=function(e){e&&e.classList.remove("e-pv-select")},nn.prototype.showAnnotationToolbar=function(e){this.pdfViewer.toolbar.annotationToolbarModule.adjustViewer(e[0]),e[0]?this.pdfViewer.toolbar.selectItem(this.editAnnotationButtonElement):(this.pdfViewer.toolbar.deSelectItem(this.editAnnotationButtonElement),this.pdfViewerBase.focusViewerContainer())},nn.prototype.closeAnnotationToolbar=function(){this.pdfViewer.toolbar.annotationToolbarModule.adjustViewer(!1),this.pdfViewer.toolbar.deSelectItem(this.editAnnotationButtonElement),this.pdfViewerBase.navigationPane.closeCommentPanelContainer()},nn.prototype.resetToolbar=function(){this.pdfViewer.enableToolbar&&(this.currentPageBoxElement.value="0",this.totalPageElement.textContent=this.pdfViewer.localeObj.getConstant("of")+"0",this.isEnabled(this.currentPageBoxElementContainer)||(this.currentPageBoxElementContainer.className+=this.disableClass),this.isEnabled(this.firstPageElement)||(this.firstPageElement.className+=this.disableClass),this.isEnabled(this.previousPageElement)||(this.previousPageElement.className+=this.disableClass),this.isEnabled(this.nextPageElement)||(this.nextPageElement.className+=this.disableClass),this.isEnabled(this.lastPageElement)||(this.lastPageElement.className+=this.disableClass),this.isEnabled(this.zoomInElement)||(this.zoomInElement.className+=this.disableClass),this.isEnabled(this.zommOutElement)||(this.zommOutElement.className+=this.disableClass),this.isEnabled(this.zoomDropDownElement)||(this.zoomDropDownElement.className+=this.disableClass),this.isEnabled(this.selectToolElement)||(this.selectToolElement.className+=this.disableClass),this.isEnabled(this.handToolElement)||(this.handToolElement.className+=this.disableClass),this.isEnabled(this.undoElement)||(this.undoElement.className+=this.disableClass),this.isEnabled(this.redoElement)||(this.redoElement.className+=this.disableClass),this.isEnabled(this.commentElement)||(this.commentElement.className+=this.disableClass),this.isEnabled(this.searchElement)||(this.searchElement.className+=this.disableClass),this.isEnabled(this.submitFormButton)||(this.submitFormButton.className+=this.disableClass),this.isEnabled(this.annotationElement)||(this.annotationElement.className+=this.disableClass),this.isEnabled(this.printElement)||(this.printElement.className+=this.disableClass),this.isEnabled(this.downloadElement)||(this.downloadElement.className+=this.disableClass)),this.pdfViewer.enableAnnotationToolbar&&(this.isEnabled(this.highlightElement)||(this.highlightElement.className+=this.disableClass),this.isEnabled(this.underlineElement)||(this.underlineElement.className+=this.disableClass),this.isEnabled(this.strikeThroughElement)||(this.strikeThroughElement.className+=this.disableClass),this.isEnabled(this.shapeElement)||(this.shapeElement.className+=this.disableClass),this.isEnabled(this.calibrateElement)||(this.calibrateElement.className+=this.disableClass),this.isEnabled(this.stampElement)||(this.stampElement.className+=this.disableClass),this.isEnabled(this.freeTextElement)||(this.freeTextElement.className+=this.disableClass),this.isEnabled(this.signatureElement)||(this.signatureElement.className+=this.disableClass),this.isEnabled(this.inkElement)||(this.inkElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextColorElement)||(this.annotationTextColorElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass),this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationDeleteElement)||(this.annotationDeleteElement.className+=this.disableClass),this.isEnabled(this.annotationCommentPanelElement)||(this.annotationCommentPanelElement.className+=this.disableClass))},nn.prototype.EnableDeleteOption=function(e){null!==this.annotationDeleteElement&&(e?this.annotationDeleteElement.classList.remove(this.cssClass):this.isEnabled(this.annotationDeleteElement)||(this.annotationDeleteElement.className+=this.disableClass))},nn.prototype.pageChanged=function(e){this.pdfViewer.enableNavigation&&(this.currentPageBoxElement.value=e.toString()),e===this.pdfViewer.pageCount&&(this.isEnabled(this.nextPageElement)||(this.nextPageElement.className+=this.disableClass),this.previousPageElement.classList.remove(this.cssClass),this.isEnabled(this.lastPageElement)||(this.lastPageElement.className+=this.disableClass),this.firstPageElement.classList.remove(this.cssClass)),e<this.pdfViewer.pageCount&&1!==e&&(this.firstPageElement.classList.remove(this.cssClass),this.previousPageElement.classList.remove(this.cssClass),this.nextPageElement.classList.remove(this.cssClass),this.lastPageElement.classList.remove(this.cssClass)),1===e&&(this.nextPageElement.classList.remove(this.cssClass),this.lastPageElement.classList.remove(this.cssClass),this.isEnabled(this.firstPageElement)||(this.firstPageElement.className+=this.disableClass),this.isEnabled(this.previousPageElement)||(this.previousPageElement.className+=this.disableClass))},nn.prototype.updateUndoRedoButton=function(e,t){"undo"===e&&(t?this.undoElement.classList.remove(this.cssClass):this.isEnabled(this.undoElement)||(this.undoElement.className+=this.disableClass)),"redo"===e&&(t?this.redoElement.classList.remove(this.cssClass):this.isEnabled(this.redoElement)||(this.redoElement.className+=this.disableClass))},nn.prototype.disableUndoRedoButton=function(){this.isEnabled(this.undoElement)||(this.undoElement.className+=this.disableClass),this.isEnabled(this.redoElement)||(this.redoElement.className+=this.disableClass)},nn.prototype.enableTextMarkupAnnotationPropertiesTools=function(e){e?(this.annotationColorElement.classList.remove(this.cssClass),this.annotationOpacityElement.classList.remove(this.cssClass)):(this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass)),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass)},nn.prototype.enableAnnotationPropertiesTool=function(e,t){t&&(e?(this.annotationColorElement.classList.remove(this.cssClass),this.annotationStrokeColorElement.classList.remove(this.cssClass),this.annotationThicknessElement.classList.remove(this.cssClass),this.annotationOpacityElement.classList.remove(this.cssClass),this.pdfViewer.enableShapeLabel&&(this.annotationFontColorElement.classList.remove(this.cssClass),this.annotationFontFamilyElement.classList.remove(this.cssClass),this.annotationFontSizeElement.classList.remove(this.cssClass)),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass)):(this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationDeleteElement)||(this.annotationDeleteElement.className+=this.disableClass)))},nn.prototype.enableFreeTextAnnotationPropertiesTools=function(e,t){t&&e&&(this.annotationColorElement.classList.remove(this.cssClass),this.annotationStrokeColorElement.classList.remove(this.cssClass),this.annotationThicknessElement.classList.remove(this.cssClass),this.annotationOpacityElement.classList.remove(this.cssClass),this.annotationFontColorElement.classList.remove(this.cssClass),this.annotationFontFamilyElement.classList.remove(this.cssClass),this.annotationFontSizeElement.classList.remove(this.cssClass),this.annotationTextAlignElement.classList.remove(this.cssClass),this.annotationTextPropertiesElement.classList.remove(this.cssClass),this.annotationDeleteElement.classList.remove(this.cssClass),this.annotationCommentPanelElement.classList.remove(this.cssClass))},nn.prototype.enableStampAnnotationPropertiesTools=function(e,t){e?(this.annotationOpacityElement.classList.remove(this.cssClass),this.annotationDeleteElement.classList.remove(this.cssClass),this.annotationCommentPanelElement.classList.remove(this.cssClass)):(this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationDeleteElement)||(this.annotationDeleteElement.className+=this.disableClass),this.isEnabled(this.annotationCommentPanelElement)||(this.annotationCommentPanelElement.className+=this.disableClass)),this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass)},nn.prototype.enableSignaturePropertiesTools=function(e,t){e?(this.annotationStrokeColorElement.classList.remove(this.cssClass),this.annotationThicknessElement.classList.remove(this.cssClass),this.annotationOpacityElement.classList.remove(this.cssClass),this.annotationDeleteElement.classList.remove(this.cssClass),this.annotationCommentPanelElement.classList.remove(this.cssClass)):(this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationDeleteElement)||(this.annotationDeleteElement.className+=this.disableClass),this.isEnabled(this.annotationCommentPanelElement)||(this.annotationCommentPanelElement.className+=this.disableClass)),this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass)},nn.prototype.annotationAdd=function(){this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass)},nn.prototype.annotationUnSelect=function(){this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass),this.isEnabled(this.annotationDeleteElement)||(this.annotationDeleteElement.className+=this.disableClass)},nn.prototype.annotationSelect=function(e){"FreeText"===e&&(this.annotationColorElement.classList.remove(this.cssClass),this.annotationStrokeColorElement.classList.remove(this.cssClass),this.annotationThicknessElement.classList.remove(this.cssClass),this.annotationOpacityElement.classList.remove(this.cssClass),this.annotationFontColorElement.classList.remove(this.cssClass),this.annotationFontFamilyElement.classList.remove(this.cssClass),this.annotationFontSizeElement.classList.remove(this.cssClass),this.annotationTextAlignElement.classList.remove(this.cssClass),this.annotationTextPropertiesElement.classList.remove(this.cssClass)),"Shape"!==e&&"Measure"!==e||(this.annotationColorElement.classList.remove(this.cssClass),this.annotationStrokeColorElement.classList.remove(this.cssClass),this.annotationThicknessElement.classList.remove(this.cssClass),this.annotationOpacityElement.classList.remove(this.cssClass),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement))||(this.annotationTextPropertiesElement.className+=this.disableClass),"TextMarkup"===e&&(this.annotationColorElement.classList.remove(this.cssClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.annotationOpacityElement.classList.remove(this.cssClass),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass)),this.annotationDeleteElement.classList.remove(this.cssClass),this.annotationCommentPanelElement.classList.remove(this.cssClass)},nn.prototype.updateFontFamilyInIcon=function(e){this.annotationFontFamilyInputElement.value=e},nn.prototype.updateFontSizeInIcon=function(e){e=e.toString()+"px";this.annotationFontSizeInputElement.value=e},nn.prototype.enableSearchItems=function(e){e?(this.mobileSearchPreviousOccurenceElement.classList.remove(this.cssClass),this.mobileSearchNextOccurenceElement.classList.remove(this.cssClass)):(this.isEnabled(this.mobileSearchPreviousOccurenceElement)||(this.mobileSearchPreviousOccurenceElement.className+=this.disableClass),this.isEnabled(this.mobileSearchNextOccurenceElement)||(this.mobileSearchNextOccurenceElement.className+=this.disableClass))},nn.prototype.tapOnMobileDevice=function(e){null!=this.mobileToolbarContainerElement&&(this.mobileToolbarContainerElement.style.display=e?"none":"block")},nn.prototype.isEnabled=function(e){return e.classList.contains(this.cssClass)};var tn=nn;function nn(e,t){this.pdfViewer=null,this.pdfViewerBase=null,this.totalPageElement=null,this.currentPageBoxElementContainer=null,this.currentPageBoxElement=null,this.firstPageElement=null,this.previousPageElement=null,this.nextPageElement=null,this.lastPageElement=null,this.zommOutElement=null,this.zoomInElement=null,this.zoomDropDownElement=null,this.selectToolElement=null,this.handToolElement=null,this.undoElement=null,this.redoElement=null,this.commentElement=null,this.submitFormButton=null,this.searchElement=null,this.annotationElement=null,this.printElement=null,this.downloadElement=null,this.highlightElement=null,this.underlineElement=null,this.strikeThroughElement=null,this.shapeElement=null,this.calibrateElement=null,this.stampElement=null,this.freeTextElement=null,this.signatureElement=null,this.inkElement=null,this.annotationFontSizeInputElement=null,this.annotationFontFamilyInputElement=null,this.annotationColorElement=null,this.annotationStrokeColorElement=null,this.annotationThicknessElement=null,this.annotationOpacityElement=null,this.annotationFontColorElement=null,this.annotationFontFamilyElement=null,this.annotationFontSizeElement=null,this.annotationTextAlignElement=null,this.annotationTextColorElement=null,this.annotationTextPropertiesElement=null,this.annotationDeleteElement=null,this.annotationCloseElement=null,this.annotationCommentPanelElement=null,this.mobileToolbarContainerElement=null,this.mobileSearchPreviousOccurenceElement=null,this.mobileSearchNextOccurenceElement=null,this.cssClass="e-overlay",this.disableClass=" e-overlay",this.editAnnotationButtonElement=null,this.pdfViewer=e,this.pdfViewerBase=t,this.findToolbarElements()}var on=function(r,a,s,l){return new(s=s||Promise)(function(e,t){function i(e){try{o(l.next(e))}catch(e){t(e)}}function n(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,n)}o((l=l.apply(r,a||[])).next())})},rn=function(n,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(i){return function(e){var t=[i,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(n,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},an=(sn.isSupportedFont=function(e,t){try{if(!G.isNullOrUndefined(e)&&!G.isNullOrUndefined(t)){for(var i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)];if(t._fontInternal._ttfReader._getGlyph(n),!t._fontInternal._ttfReader._isFontPresent&&" "!==n&&!this.hasEscapeSequences(n))return t._fontInternal._ttfReader._isFontPresent}return!0}}catch(e){}return!1},sn.hasEscapeSequences=function(e){return/[\0\b\t\n\v\f\r'"\\]/.test(e)},sn.processFontStream=function(e){return e instanceof Uint8Array?this.convertByteArrayToBase64(e):e},sn.fetchCustomFonts=function(e,a){var t=this,s={},e=e.map(function(n){var e=n.startsWith("http://")||n.startsWith("https://")?n:a+"/"+n,o=e.split("/"),r=o.pop()||"";return-1===Object.keys(s).indexOf(r)?t.fetchData(e).then(function(i){return on(t,void 0,void 0,function(){var t;return rn(this,function(e){return i?(s[-1!==o.indexOf("fallbackfonts")?"fallbackfonts_"+r.toLowerCase():r.toLowerCase()]=i,[2]):(t=a+"/fallbackfonts/"+n,[2,this.fetchData(t).then(function(e){e&&(s["fallbackfonts_"+r.toLowerCase()]=e)})])})})}):null});return Promise.all(e).then(function(){return s})},sn.tryGetFontFromKeys=function(e,t,i,n){for(var o=0,r=Object.keys(e);o<r.length;o++){var a=r[o],a=this.processFontStream(e[""+a]),a=new j.PdfTrueTypeFont(a,this.convertPixelToPoint(i),n||j.PdfFontStyle.regular);if(this.isSupportedFont(t,a))return a;0}return null},sn.getFontKey=function(e,t){if(e[""+t]||e[t+".ttf"])return e[""+t]?t:t+".ttf";var i,n=t.endsWith(".ttf")?t:t+".ttf";for(i in e)if(i.toLowerCase().endsWith(n.toLowerCase()))return i},sn.isHexRGBAAndTransparent=function(e){return!!/^#([A-Fa-f0-9]{8})$/.test(e)&&(e=e.slice(-2),0===parseInt(e,16))},sn.setTransparencyToHex=function(e){return e.includes("#")&&(8<e.length&&"#00000000"!==e?e=e.slice(0,-2)+"60":e+="60"),e},sn.removeAlphaValueFromHex=function(e){return e=e.includes("#")&&8<e.length?e.slice(0,-2):e},sn.fetchData=function(e){return fetch(e).then(function(e){return e.ok?e.arrayBuffer().then(function(e){return new Uint8Array(e)}):null}).catch(function(){return null})},sn.convertByteArrayToBase64=function(e){for(var t="",i=e.byteLength,n=0;n<i;n++)t+=String.fromCharCode(e[parseInt(n.toString(),10)]);return btoa(t)},sn.convertPixelToPoint=function(e){return 72*e/96},sn.cloneProxy=function(e){if(this.isProxy(e)){var t,i=Object.assign({},e);for(t in i)this.isProxy(i[t])&&(i[t]=this.cloneProxy(i[t]));return i}return e},sn.isProxy=function(e){return"[object Object]"===Object.prototype.toString.call(e)},sn.createGUID=function(){return this.getRandomNumber()},sn.getRandomNumber=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){return(16*Math.random()|0).toString(16)})},sn);function sn(){}dn.prototype.setItem=function(e,t){this.enableLocalStorage?this.localStorage[""+e]=t:window.sessionStorage.setItem(e,t)},dn.prototype.getItem=function(e){return this.enableLocalStorage?e in this.localStorage?this.localStorage[""+e]:null:window.sessionStorage.getItem(e)},dn.prototype.removeItem=function(e){this.enableLocalStorage?delete this.localStorage[""+e]:window.sessionStorage.removeItem(e)},dn.prototype.getSessionLength=function(){return(this.enableLocalStorage?Object.keys(this.localStorage):window.sessionStorage).length},dn.prototype.getKey=function(e){return this.enableLocalStorage?Object.keys(this.localStorage)[parseInt(e.toString(),10)]||null:window.sessionStorage.key(e)},dn.prototype.getWindowSessionStorageSize=function(){return Math.round(JSON.stringify(window.sessionStorage).length/1024)},dn.prototype.migrateToLocalStorage=function(e){if(this.enableLocalStorage=e,this.enableLocalStorage)for(var t=this.getRemovingItems(),i=0;i<t.length;i++){var n,o=t[parseInt(i.toString(),10)];o&&(n=window.sessionStorage.getItem(o),G.isNullOrUndefined(n)||""===this.documentId||-1===o.indexOf(this.documentId)||(this.localStorage[""+o]=n,window.sessionStorage.removeItem(o)))}},dn.prototype.clear=function(){if(this.enableLocalStorage)this.localStorage={};else for(var e=this.getRemovingItems(),t=0;t<e.length;t++){var i=e[parseInt(t.toString(),10)];-1!==i.indexOf("Sync_PdfViewer_")&&window.sessionStorage.removeItem(i)}},dn.prototype.getRemovingItems=function(){for(var e=[],t=0;t<window.sessionStorage.length;t++){var i=window.sessionStorage.key(t);i&&e.push(i)}return e};var ln,An=dn;function dn(e){this.localStorage={},this.enableLocalStorage=!0,this.documentId="",this.enableLocalStorage=e}(yn=ln=ln||{})[yn.High=1]="High",yn[yn.Medium=2]="Medium",yn[yn.Low=3]="Low";hn.prototype.addTask=function(e,t){"unloadFPDF"===e.message&&(this.taskQueue=[],this.functionManager={}),this.taskQueue.push({taskData:e,priority:t}),this.taskQueue.sort(function(e,t){return e.priority-t.priority}),this.processQueue()},hn.prototype.processQueue=function(){var e;this.isProcessing||0===this.taskQueue.length||(e=this.taskQueue.shift(),this.isProcessing=!0,e=this.pdfViewer.isVue3||this.pdfViewer.parent&&this.pdfViewer.parent.isVue3?an.cloneProxy(e.taskData):e.taskData,this.worker.postMessage(e))},hn.prototype.onMessage=function(e,t){var i=this;Object.prototype.hasOwnProperty.call(this.functionManager,e)||(this.functionManager[""+e]=t),this.worker.onmessage=function(e){if(""!==e.data.message)for(var t in i.functionManager)if(Object.prototype.hasOwnProperty.call(i.functionManager,t)&&t.includes(e.data.message)){i.functionManager[""+t](e);break}i.isProcessing=!1,i.processQueue()}},hn.prototype.terminate=function(){this.worker.terminate(),this.functionManager={}};var pn=hn;function hn(e,t){this.taskQueue=[],this.isProcessing=!1,this.functionManager={},this.worker=new Worker(e),this.taskQueue=[],this.isProcessing=!1,this.pdfViewer=t,this.functionManager={}}var cn=function(r,a,s,l){return new(s=s||Promise)(function(e,t){function i(e){try{o(l.next(e))}catch(e){t(e)}}function n(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,n)}o((l=l.apply(r,a||[])).next())})},gn=function(n,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(i){return function(e){var t=[i,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(n,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},F=(S.prototype.initializeComponent=function(){var e,t=document.getElementById(this.pdfViewer.element.id);t&&(this.blazorUIAdaptor=G.isBlazor()?new tn(this.pdfViewer,this):null,G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.element.classList.add("e-pv-mobile-view"),e=void 0,this.viewerMainContainer=G.isBlazor()?t.querySelector(".e-pv-viewer-main-container"):G.createElement("div",{id:this.pdfViewer.element.id+"_viewerMainContainer",className:"e-pv-viewer-main-container"}),this.viewerContainer=G.isBlazor()?t.querySelector(".e-pv-viewer-container"):G.createElement("div",{id:this.pdfViewer.element.id+"_viewerContainer",className:"e-pv-viewer-container"}),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.createMobilePageNumberContainer(),this.viewerContainer.tabIndex=-1,this.pdfViewer.enableRtl&&(this.viewerContainer.style.direction="rtl"),t.style.touchAction="pan-x pan-y",this.setMaximumHeight(t),this.mainContainer=G.isBlazor()?t.querySelector(".e-pv-main-container"):G.createElement("div",{id:this.pdfViewer.element.id+"_mainContainer",className:"e-pv-main-container"}),this.mainContainer.appendChild(this.viewerMainContainer),t.appendChild(this.mainContainer),this.applyViewerHeight(this.mainContainer),this.pdfViewer.toolbarModule?(this.navigationPane.initializeNavigationPane(),e=this.pdfViewer.toolbarModule.intializeToolbar("100%")):G.isBlazor()&&(this.navigationPane.initializeNavigationPane(),e=this.pdfViewer.element.querySelector(".e-pv-toolbar"),this.pdfViewer.enableToolbar||(this.toolbarHeight=0,e.style.display="none"),!this.pdfViewer.enableNavigationToolbar)&&(G.Browser.isDevice&&this.pdfViewer.enableDesktopMode||!G.Browser.isDevice)&&(this.navigationPane.sideBarToolbar.style.display="none",this.navigationPane.sideBarToolbarSplitter.style.display="none",this.navigationPane.isBookmarkOpen||this.navigationPane.isThumbnailOpen)&&this.navigationPane.updateViewerContainerOnClose(),this.viewerContainer.style.height=e?this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height,56):this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height,0),t=this.pdfViewer.element.clientWidth,G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(t=t-(this.navigationPane.sideBarToolbar?this.navigationPane.getViewerContainerLeft():0)-(this.navigationPane.commentPanelContainer?this.navigationPane.getViewerContainerRight():0)),this.viewerContainer.style.width=t+"px",this.viewerMainContainer.appendChild(this.viewerContainer),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.mobileScrollerContainer.style.left=t-parseFloat(this.mobileScrollerContainer.style.width)+"px",this.mobilePageNoContainer.style.left=t/2-parseFloat(this.mobilePageNoContainer.style.width)/2+"px",this.mobilePageNoContainer.style.top=this.pdfViewer.element.clientHeight/2+"px",this.mobilePageNoContainer.style.display="none",this.mobilePageNoContainer.appendChild(this.mobilecurrentPageContainer),this.mobilePageNoContainer.appendChild(this.mobilenumberContainer),this.mobilePageNoContainer.appendChild(this.mobiletotalPageContainer),this.viewerContainer.appendChild(this.mobilePageNoContainer),this.viewerMainContainer.appendChild(this.mobileScrollerContainer),this.mobileScrollerContainer.appendChild(this.mobileSpanContainer),this.pdfViewer.isAnnotationToolbarVisible)&&this.pdfViewer.toolbarModule&&this.pdfViewer.toolbar.showAnnotationToolbar(!0),this.pageContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_pageViewContainer",className:"e-pv-page-container",attrs:{role:"document"}}),this.pdfViewer.enableRtl&&(this.pageContainer.style.direction="ltr"),this.viewerContainer.appendChild(this.pageContainer),this.pageContainer.style.width=this.viewerContainer.clientWidth+"px",e&&this.pdfViewer.thumbnailViewModule&&(!G.Browser.isDevice||this.pdfViewer.enableDesktopMode)&&this.pdfViewer.thumbnailViewModule.createThumbnailContainer(),this.createPrintPopup(),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.createGoToPagePopup(),t=G.createElement("div",{id:this.pdfViewer.element.id+"_loadingIndicator"}),this.viewerContainer.appendChild(t),Ri({target:t,cssClass:"e-spin-center"}),this.setLoaderProperties(t),G.isBlazor()?(this.contextMenuModule=new ai(this.pdfViewer,this),(e=document.getElementsByClassName(this.pdfViewer.element.id+"_spinner"))&&e[0]&&!e[0].classList.contains("e-spin-hide")&&(e[0].classList.remove("e-spin-show"),e[0].classList.add("e-spin-hide"))):this.contextMenuModule=new mn(this.pdfViewer,this),this.contextMenuModule.createContextMenu(),this.createFileInputElement(),this.wireEvents(),!this.pdfViewer.textSearchModule||G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||this.pdfViewer.textSearchModule.createTextSearchBox(),this.pdfViewer.documentPath&&(this.pdfViewer.enableHtmlSanitizer&&(this.pdfViewer.documentPath=G.SanitizeHtmlHelper.sanitize(this.pdfViewer.documentPath)),G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("LoadDocumentFromClient",this.pdfViewer.documentPath):this.pdfViewer.load(this.pdfViewer.documentPath,null)),this.pdfViewer.annotationModule)&&this.pdfViewer.annotationModule.initializeCollection(),G.Browser.isDevice&&this.pdfViewer.enableDesktopMode&&this.pdfViewer.toolbarModule&&(this.pdfViewer.interactionMode="Pan")},S.prototype.createMobilePageNumberContainer=function(){this.mobilePageNoContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_mobilepagenoContainer",className:"e-pv-mobilepagenoscroll-container"}),this.mobilecurrentPageContainer=G.createElement("span",{id:this.pdfViewer.element.id+"_mobilecurrentpageContainer",className:"e-pv-mobilecurrentpage-container"}),this.mobilenumberContainer=G.createElement("span",{id:this.pdfViewer.element.id+"_mobiledashedlineContainer",className:"e-pv-mobiledashedline-container"}),this.mobiletotalPageContainer=G.createElement("span",{id:this.pdfViewer.element.id+"_mobiletotalpageContainer",className:"e-pv-mobiletotalpage-container"}),this.mobileScrollerContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_mobilescrollContainer",className:"e-pv-mobilescroll-container"}),this.mobileSpanContainer=G.createElement("span",{id:this.pdfViewer.element.id+"_mobilespanContainer",className:"e-pv-mobilespanscroll-container"}),this.mobileSpanContainer.innerHTML="1",this.mobilecurrentPageContainer.innerHTML="1",this.mobilenumberContainer.innerHTML="&#x2015;&#x2015;&#x2015;&#x2015;&#x2015;",this.mobileScrollerContainer.style.cssFloat="right",this.mobileScrollerContainer.style.width="40px",this.mobileScrollerContainer.style.height="32px",this.mobileScrollerContainer.style.zIndex="100",this.mobilePageNoContainer.style.width="120px",this.mobilePageNoContainer.style.height="100px",this.mobilePageNoContainer.style.zIndex="100",this.mobilePageNoContainer.style.position="fixed",this.mobileScrollerContainer.addEventListener("touchstart",this.mobileScrollContainerDown.bind(this)),this.mobileScrollerContainer.addEventListener("touchend",this.mobileScrollContainerEnd.bind(this)),this.mobileScrollerContainer.style.display="none"},S.prototype.initiatePageRender=function(a,s,l){var e,A=this;void 0===l&&(l=!0),this.isPasswordProtected=!G.isNullOrUndefined(s)&&""!==s,this.clientSideRendering&&this.pdfViewer.unload(),this.loadedData=a,this.documentId=this.createGUID(),S.sessionStorageManager.documentId=this.documentId,this.viewerContainer&&(this.viewerContainer.scrollTop=0),this.showLoadingIndicator(!0),this.hashId=" ",this.isFileName=!1,this.saveDocumentInfo(),"Pan"===this.pdfViewer.interactionMode&&this.initiatePanning(),a instanceof Uint8Array?(this.pdfViewer.fileByteArray=a,this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.uploadedDocumentName&&this.setFileName(),this.clientSideRendering&&null===this.pdfViewer.fileName&&"string"==typeof this.loadedData&&this.setDocumentName(this.loadedData),this.pdfViewer.downloadFileName?this.downloadFileName=this.pdfViewer.downloadFileName:this.downloadFileName=this.pdfViewer.fileName,e=this.constructJsonObject(a,s,!1),this.createAjaxRequest(e,a,s)):this.getPdfByteArray(a).then(function(e){var t,i=!1,n=!0,o=!1,r=("string"==typeof a&&(a.startsWith("http://")||a.startsWith("https://"))&&(i=!0),"string"==typeof a&&(a.includes("pdf;base64,")||a.startsWith("blob:"))&&(o=!0),!1);"string"==typeof A.loadedData&&(r=A.loadedData.includes("pdf;base64,")),(i||o)&&A.clientSideRendering?(A.pdfViewer.fileByteArray=e,A.pdfViewer.uploadedFileByteArray=e,a=e):i||a.includes("pdf;base64,")||!A.clientSideRendering?a=A.checkDocumentData(A.loadedData,l):(t="URL"===A.identifyDataType(a),(n=A.isValidPDFBase64(a)||t)?(a=A.convertBase64(e),A.pdfViewer.fileByteArray=a,o=!0):A.invalidFilePopup()),n&&((A.pdfViewer.toolbarModule&&A.pdfViewer.toolbarModule.uploadedDocumentName||o||!o&&!i&&!a.includes("pdf;base64,"))&&A.setFileName(),i&&A.clientSideRendering&&null===A.pdfViewer.fileName&&A.setDocumentName(A.loadedData),A.pdfViewer.downloadFileName?A.downloadFileName=A.pdfViewer.downloadFileName:A.downloadFileName=A.pdfViewer.fileName,t=A.constructJsonObject(a,s,r),A.createAjaxRequest(t,a,s))})},S.prototype.initiateLoadDocument=function(e,t,i){e&&(this.documentId=e,S.sessionStorageManager.documentId=this.documentId),this.viewerContainer&&(this.viewerContainer.scrollTop=0),this.showLoadingIndicator(!0),this.hashId=" ",this.isFileName=t,this.saveDocumentInfo(),"Pan"===this.pdfViewer.interactionMode&&this.initiatePanning(),this.setFileName(),null===this.pdfViewer.fileName&&(t&&i?(this.pdfViewer.fileName=i,this.jsonDocumentId=this.pdfViewer.fileName):(this.pdfViewer.fileName="undefined.pdf",this.jsonDocumentId=null)),this.pdfViewer.downloadFileName?this.downloadFileName=this.pdfViewer.downloadFileName:this.downloadFileName=this.pdfViewer.fileName},S.prototype.convertBase64=function(e){return new Uint8Array(atob(e).split("").map(function(e){return e.charCodeAt(0)}))},S.prototype.loadSuccess=function(e,t){var i=e;if(i){if("object"!=typeof i)try{i=JSON.parse(i)}catch(e){this.onControlError(500,i,this.pdfViewer.serverActionSettings.load),i=null}if(i){for(;"object"!=typeof i;)if(i=JSON.parse(i),"number"==typeof parseInt(i,10)&&!isNaN(parseInt(i,10))){i=parseInt(i,10);break}i.StatusText&&"File Does not Exist"===i.StatusText&&this.showLoadingIndicator(!1),i.uniqueId!==this.documentId&&("number"!=typeof parseInt(i,10)||isNaN(parseInt(i,10)))||(this.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.load,i),this.requestSuccess(i,null,t))}}},S.prototype.mobileScrollContainerDown=function(e){var t;this.ispageMoved=!1,this.isThumb=!0,this.isScrollerMoving=!1,this.isTextMarkupAnnotationModule()&&null!=this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage&&G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(t=this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage,this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage=null,this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearAnnotationSelection(t),this.pdfViewer.toolbar.showToolbar(!0)),this.mobileScrollerContainer.addEventListener("touchmove",this.viewerContainerOnScroll.bind(this),!0)},S.prototype.relativePosition=function(e){var t=this.viewerContainer.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},S.prototype.getAnnotationCanvas=function(e,t){var i,n,o,e=this.getElement(e+t);return e||this.isPrint||G.isNullOrUndefined(t)||(i=this.getElement("_pageDiv_"+t),n=this.pageSize[parseInt(t.toString(),10)].width,o=this.pageSize[parseInt(t.toString(),10)].height,i&&(e=this.createAnnotationLayer(i,n,o,t),this.isShapeBasedAnnotationsEnabled())&&e&&(Ft(e.getBoundingClientRect(),"position:absolute;top:0px;left:0px;overflow:hidden;pointer-events:none;z-index:1000",e,t,this.pdfViewer),this.pdfViewer.renderSelector(t,this.pdfViewer.annotationSelectorSettings))),e},S.prototype.createAnnotationLayer=function(e,t,i,n,o){var r=this.getElement("_annotationCanvas_"+n);return r?(this.updateCanvas(r,t,i,n),r):(r=G.createElement("canvas",{id:this.pdfViewer.element.id+"_annotationCanvas_"+n,className:"e-pv-annotation-canvas"}),this.updateCanvas(r,t,i,n),e.appendChild(r),r)},S.prototype.setMaximumHeight=function(e){var t=e.getBoundingClientRect();(!G.Browser.isDevice||this.pdfViewer.enableDesktopMode||t&&0===t.height)&&(e.style.minHeight="500px"),this.updateWidth(),this.updateHeight()},S.prototype.applyViewerHeight=function(e){var t=e.getBoundingClientRect();G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&t&&0===t.height&&(e.style.minHeight="500px")},S.prototype.updateCanvas=function(e,t,i,n){var o=this.getZoomFactor(),r=this.getZoomRatio(o);e.width=t*r,e.height=i*r,e.style.width=t*o+"px",e.style.height=i*o+"px",e.style.position="absolute",e.style.zIndex="1",this.applyElementStyles(e,n)},S.prototype.updateWidth=function(){"auto"!==this.pdfViewer.width.toString()&&(this.pdfViewer.element.style.width=this.pdfViewer.width)},S.prototype.updateHeight=function(){"auto"!==this.pdfViewer.height.toString()&&(this.pdfViewer.element.style.height=this.pdfViewer.height)},S.prototype.updateViewerContainer=function(){var e,t=this.getElement("_sideBarContentContainer"),t=(t&&"none"===t.style.display?this.navigationPane.updateViewerContainerOnClose():t&&"block"===t.style.display?this.navigationPane.updateViewerContainerOnExpand():this.updateViewerContainerSize(),this.pdfViewer.toolbarModule);G.isNullOrUndefined(this.viewerContainer)||G.isNullOrUndefined(t)||G.isNullOrUndefined(t.toolbarElement)||("none"==t.toolbarElement.style.display?this.viewerContainer.style.height=this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height,0):"block"==t.toolbarElement.style.display&&(e=document.getElementById(this.pdfViewer.element.id+"_toolbarContainer"))&&(e=e.getBoundingClientRect().height,this.viewerContainer.style.height=this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height,e)),this.navigationPane.sideBarToolbar&&(this.navigationPane.sideBarToolbar.style.height=this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height,0))),t&&(G.isBlazor()?(this.pdfViewer.enableToolbar||this.pdfViewer.enableAnnotationToolbar)&&this.pdfViewer._dotnetInstance.invokeMethodAsync("RefreshToolbarItems"):(this.pdfViewer.enableToolbar&&!G.isNullOrUndefined(t.toolbar)&&t.toolbar.refreshOverflow(),this.pdfViewer.enableAnnotationToolbar&&t.annotationToolbarModule&&(G.isNullOrUndefined(t.annotationToolbarModule)||G.isNullOrUndefined(t.annotationToolbarModule.toolbar)||t.annotationToolbarModule.toolbar.refreshOverflow())))},S.prototype.updateViewerContainerSize=function(){G.isNullOrUndefined(this.viewerContainer)||(this.viewerContainer.style.width=this.pdfViewer.element.clientWidth+"px"),G.isNullOrUndefined(this.pageContainer)||(this.pageContainer.style.width=this.viewerContainer.offsetWidth+"px"),this.updateZoomValue()},S.prototype.mobileScrollContainerEnd=function(e){this.ispageMoved||this.goToPagePopup.show(),this.isThumb=!1,this.ispageMoved=!1,this.isScrollerMoving=!1,this.pageViewScrollChanged(this.currentPageNumber),this.mobileScrollerContainer.removeEventListener("touchmove",this.viewerContainerOnScroll.bind(this),!0),this.mobilePageNoContainer.style.display="none"},S.prototype.checkRedirection=function(e){var t=!1;return e&&"object"==typeof e&&(e.redirectUrl||e.redirectUri||""===e.redirectUrl||""===e.redirectUri)?""===e.redirectUrl||""===e.redirectUri?t=!0:e.redirectUrl?window.location.href=e.redirectUrl:window.location.href=e.redirectUri:e&&"string"==typeof e&&(e.includes("redirectUrl")||e.includes("redirectUri"))&&(""===JSON.parse(e).redirectUrl||""===JSON.parse(e).redirectUri?t=!0:G.isNullOrUndefined(JSON.parse(e).redirectUrl)&&G.isNullOrUndefined(JSON.parse(e).redirectUri)||(e.includes("redirectUrl")?window.location.href=JSON.parse(e).redirectUrl:window.location.href=JSON.parse(e).redirectUri)),t},S.prototype.getPdfByteArray=function(e){return"string"==typeof e&&this.clientSideRendering&&(e.startsWith("http://")||e.startsWith("https://")||e.includes("pdf;base64,")||e.startsWith("blob:"))?fetch(e).then(function(e){if(e.ok)return e.arrayBuffer();throw console.error("Error fetching PDF:",e.statusText),new Error(e.statusText)}).then(function(e){return new Uint8Array(e)}).catch(function(e){throw console.error("Error fetching PDF:",e.message),e}):Promise.resolve(e)},S.prototype.getPdfBase64=function(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("blob:")?fetch(e).then(function(e){if(e.ok)return e.arrayBuffer();throw console.error("Error fetching PDF:",e.statusText),new Error(e.statusText)}).then(function(e){e=new Uint8Array(e).reduce(function(e,t){return e+String.fromCharCode(t)},"");return btoa(e)}).catch(function(e){throw console.error("Error fetching PDF:",e.message),e}):Promise.resolve(e)},S.prototype.isValidPDFBase64=function(e){if(e.length%4!=0||!/^[A-Za-z0-9+/]+={0,2}$/.test(e.replace(/\s/g,"")))return!1;try{return-1<atob(e).indexOf("%PDF-")}catch(e){return!1}},S.prototype.isUrl=function(e){try{return new URL(e),!0}catch(e){return!1}},S.prototype.isBase64=function(e){return/^[A-Za-z0-9+/=]+$/.test(e)},S.prototype.identifyDataType=function(e){return this.isUrl(e)?"URL":this.isBase64(e)?"Base64":"Unknown"},S.prototype.createAjaxRequest=function(t,i,n){this.corruptPopup&&this.closeCorruptPopup(),this.notifyDialog&&this.closeNotification();var o=this;if(this.pdfViewer.serverActionSettings)if(this.loadRequestHandler=new Bn(this.pdfViewer),this.loadRequestHandler.url=this.pdfViewer.serviceUrl+"/"+this.pdfViewer.serverActionSettings.load,this.loadRequestHandler.responseType="json",this.loadRequestHandler.mode=!0,t.action="Load",t.elementId=this.pdfViewer.element.id,this.clientSideRendering){var r=this.pdfViewer.pdfRendererModule.load(i,this.documentId,n,t);if(r){if("object"!=typeof r)try{r=JSON.parse(r)}catch(e){o.onControlError(500,r,this.pdfViewer.serverActionSettings.load),r=null}if(r){for(;"object"!=typeof r;)if(r=JSON.parse(r),"number"==typeof parseInt(r,10)&&!isNaN(parseInt(r,10))){r=parseInt(r,10);break}r.uniqueId!==o.documentId&&("number"!=typeof parseInt(r,10)||isNaN(parseInt(r,10)))||(o.updateFormFieldName(r),o.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.load,r),!G.isNullOrUndefined(r.isTaggedPdf)&&r.isTaggedPdf&&(o.isTaggedPdf=!0),o.requestSuccess(r,i,n))}}else o.invalidFilePopup()}else i.startsWith("blob:")?o.getPdfBase64(i).then(function(e){e&&(t.document=e,t.isFileName=!1),o.loadRequestHandler.send(t)}).catch(function(e){o.invalidFilePopup()}):o.loadRequestHandler.send(t),this.loadRequestHandler.onSuccess=function(e){var t=e.data;if(o.checkRedirection(t))o.showLoadingIndicator(!1);else if(t){if("object"!=typeof t)try{t=JSON.parse(t)}catch(e){o.onControlError(500,t,this.pdfViewer.serverActionSettings.load),t=null}if(t){for(;"object"!=typeof t;)if(t=JSON.parse(t),"number"==typeof parseInt(t,10)&&!isNaN(parseInt(t,10))){t=parseInt(t,10);break}t.uniqueId!==o.documentId&&("number"!=typeof parseInt(t,10)||isNaN(parseInt(t,10)))||(o.updateFormFieldName(t),o.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.load,t),!G.isNullOrUndefined(t.isTaggedPdf)&&t.isTaggedPdf&&(o.isTaggedPdf=!0),o.requestSuccess(t,i,n))}}else o.showLoadingIndicator(!1),o.openImportExportNotificationPopup(o.pdfViewer.localeObj.getConstant("Import PDF Failed"))},this.loadRequestHandler.onFailure=function(e){"4"===e.status.toString().split("")[0]?o.openNotificationPopup("Client error"):o.openNotificationPopup(),o.showLoadingIndicator(!1),o.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,o.pdfViewer.serverActionSettings.load)},this.loadRequestHandler.onError=function(e){o.openNotificationPopup(),o.showLoadingIndicator(!1),o.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,o.pdfViewer.serverActionSettings.load)}},S.prototype.invalidFilePopup=function(){this.showLoadingIndicator(!1),this.openImportExportNotificationPopup(this.pdfViewer.localeObj.getConstant("Import PDF Failed"))},S.prototype.updateFormFieldName=function(e){if(e&&e.PdfRenderedFormFields&&0<e.PdfRenderedFormFields.length)for(var t=void 0,i=0;i<e.PdfRenderedFormFields.length;i++)(t=e.PdfRenderedFormFields[parseInt(i.toString(),10)])&&(t.ActualFieldName&&(t.FieldName=t.ActualFieldName),G.isNullOrUndefined(t.Value))&&(t.Value="")},S.prototype.createNotificationPopup=function(e){var t,i=this;this.isMessageBoxOpen||(t=G.createElement("div",{id:this.pdfViewer.element.id+"_notify",className:"e-pv-notification-popup"}),(!G.isNullOrUndefined(this.pdfViewer.pageOrganizer)&&this.pdfViewer.pageOrganizer.dialogDivElement?this.pdfViewer.pageOrganizer.dialogDivElement:this.viewerContainer).appendChild(t),this.notifyDialog=new k.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:this.pdfViewer.localeObj.getConstant("PdfViewer"),buttons:[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.closeNotification.bind(this)}],content:'<div class="e-pv-notification-popup-content" tabindex = "0">'+e+"</div>",target:this.pdfViewer.element,beforeClose:function(){if(i.notifyDialog.destroy(),i.pdfViewer.pageOrganizerModule&&i.pdfViewer.pageOrganizerModule.showOrganizeLoadingIndicator(!1),i.pdfViewer.element)try{i.pdfViewer.element.removeChild(t)}catch(e){t.parentElement.removeChild(t)}i.pdfViewer.textSearchModule&&(i.pdfViewer.textSearch.isMessagePopupOpened=!1),i.isMessageBoxOpen=!1}}),this.pdfViewer.enableRtl&&(this.notifyDialog.enableRtl=!0),this.notifyDialog.appendTo(t),this.isMessageBoxOpen=!0)},S.prototype.openNotificationPopup=function(e){var t=this;this.pdfViewer.showNotificationDialog&&("Client error"===e?G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_Clienterror").then(function(e){t.createNotificationPopup(e)}):this.createNotificationPopup(this.pdfViewer.localeObj.getConstant("Client error")):G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_Servererror").then(function(e){t.createNotificationPopup(e)}):this.createNotificationPopup(this.pdfViewer.localeObj.getConstant("Server error")),this.getElement("_notify"))&&this.getElement("_notify").classList.add("e-pv-notification-large-content")},S.prototype.showNotificationPopup=function(e){this.pdfViewer.showNotificationDialog||""===e||(this.createNotificationPopup(e),this.getElement("_notify")&&this.getElement("_notify").classList.add("e-pv-notification-large-content"))},S.prototype.requestSuccess=function(e,t,i){this.clientSideRendering&&(e.isDigitalSignaturePresent&&!G.isNullOrUndefined(e.digitialSignatureFile)&&e.digitialSignatureFile&&this.pdfViewer.pdfRenderer.digitialByteArray&&0<this.pdfViewer.pdfRenderer.digitialByteArray.length?(this.pdfViewer.fileByteArray=this.pdfViewer.pdfRenderer.digitialByteArray,this.pdfViewer.pdfRenderer.digitialByteArray=null):G.isNullOrUndefined(this.pdfViewer.fileByteArray)&&this.pdfViewer.uploadedFileByteArray?(this.pdfViewer.fileByteArray=this.pdfViewer.uploadedFileByteArray,this.pdfViewer.uploadedFileByteArray=null):this.pdfViewer.fileByteArray||G.isNullOrUndefined(this.pdfViewer.toolbarModule)||!this.pdfViewer.toolbarModule.uploadedFile?!this.pdfViewer.fileByteArray&&e.documentData&&(this.pdfViewer.fileByteArray=this.convertBase64(e.documentData)):"string"==typeof this.pdfViewer.toolbarModule.uploadedFile&&(this.pdfViewer.fileByteArray=this.convertBase64(this.pdfViewer.toolbarModule.uploadedFile.replace(/^data:+[a-zA-Z]+\/[a-zA-Z]+;base64,/g,"")))),e&&void 0!==e.pageCount?(G.isBlazor()&&this.isPassword&&(this.isPassword=!1,this.isPasswordAvailable=!1,this.pdfViewer._dotnetInstance.invokeMethodAsync("ClosePasswordDialog")),i&&""!==i&&(this.passwordData=i),this.pdfViewer.allowServerDataBinding=!1,this.pageCount=e.pageCount,this.pdfViewer.pageCount=e.pageCount,this.hashId=e.hashId,this.documentLiveCount=e.documentLiveCount,this.isAnnotationCollectionRemoved=!1,this.saveDocumentHashData(),this.saveFormfieldsData(e),this.pdfViewer.allowServerDataBinding=!0,this.clientSideRendering?this.isDigitalSignaturePresent=e.isDigitalSignaturePresent:this.digitalSignaturePages=e.digitalSignaturePages,this.pageRender(e),n={pageCount:e.pageCount,pageSizes:e.pageSizes},S.sessionStorageManager.setItem(this.documentId+"_pagedata",JSON.stringify(n)),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.mobileScrollerContainer.style.display="",n=this.pdfViewer.toolbarModule?this.toolbarHeight:0,this.mobileScrollerContainer.style.top=n+"px"),this.restrictionList=e.RestrictionSummary,this.RestrictionEnabled(this.restrictionList,!1)):(this.pageCount=0,this.currentPageNumber=0,G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.mobileScrollerContainer.style.display="none"),4===e?G.isBlazor()||this.renderPasswordPopup(t,i,this.isImportDoc):3!==e||G.isBlazor()||this.renderCorruptPopup(this.isImportDoc),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.updateToolbarItems());var n=this.pdfViewer.annotationModule;n&&n.textMarkupAnnotationModule&&n.textMarkupAnnotationModule.isEnableTextMarkupResizer(n.textMarkupAnnotationModule.currentTextMarkupAddMode)&&n.textMarkupAnnotationModule.createAnnotationSelectElement()},S.prototype.RestrictionEnabled=function(e,t){if(e)for(var i=0;i<e.length;i++)this.EnableRestriction(e[parseInt(i.toString(),10)],t),G.isBlazor()?this.pdfViewer.toolbarModule&&this.pdfViewer._dotnetInstance.invokeMethodAsync("RestrictToolbarItems",e,t):this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.DisableToolbarItems(e[parseInt(i.toString(),10)],t)},S.prototype.EnableRestriction=function(e,t){switch(e){case"Print":this.pdfViewer.enablePrint=t;break;case"CopyContent":this.pdfViewer.enableTextSelection=t;break;case"FillFields":this.pdfViewer.enableFormFields=t,this.enableFormFieldButton(t);break;case"EditAnnotations":this.pdfViewer.annotationSettings.isLock=!0}},S.prototype.pageRender=function(e){this.document=null,this.passwordDialogReset(),this.passwordPopup&&this.passwordPopup.hide();this.initPageDiv(e),this.currentPageNumber=1,this.pdfViewer.currentPageNumber=1,this.previousZoomValue=this.pdfViewer.zoomValue;var t,i,e=!1;this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.isAutoZoom=!0,this.pdfViewer.zoomValue&&0<this.pdfViewer.zoomValue&&(100!==this.pdfViewer.zoomValue&&(e=!0),this.isInitialPageMode=!0,this.pdfViewer.magnification.zoomTo(this.pdfViewer.zoomValue)),"FitToWidth"===this.pdfViewer.zoomMode?(e=this.isInitialPageMode=!0,this.pdfViewer.magnificationModule.fitToWidth()):"FitToPage"===this.pdfViewer.zoomMode&&(e=this.isInitialPageMode=!0,this.pdfViewer.magnificationModule.fitToPage()),this.documentLoaded=!0,this.pdfViewer.magnificationModule.isInitialLoading=!0,this.onWindowResize(),this.documentLoaded=!1,this.pdfViewer.magnificationModule.isInitialLoading=!1),this.isDocumentLoaded=!0,this.clientSideRendering?(i=(t=this).pdfViewer.fileByteArray,!G.isNullOrUndefined(i)&&0<i.length?(this.pdfViewerRunner.addTask({uploadedFile:i,message:"LoadPageCollection",password:this.passwordData,pageIndex:0,isZoomMode:e},ln.High),i=null):this.renderCorruptPopup(!1),this.pdfViewerRunner.onMessage("PageLoaded,LoadedStampForFormFields,LoadedStamp",function(e){"PageLoaded"===e.data.message?t.initialPagesRendered(e.data.pageIndex,e.data.isZoomMode):"LoadedStampForFormFields"===e.data.message?t.initialPagesRenderedForSign(e.data):"LoadedStamp"===e.data.message&&t.pdfViewer.pdfRendererModule.renderer.initialPagesRendered(e.data)})):this.initialPagesRendered(0,e),this.showLoadingIndicator(!1),G.isBlazor()||this.pdfViewer.toolbarModule&&(this.pdfViewer.toolbarModule.uploadedDocumentName=null,this.pdfViewer.toolbarModule.updateCurrentPage(this.currentPageNumber),this.pdfViewer.toolbarModule.updateToolbarItems(),this.pdfViewer.toolbar)&&this.pdfViewer.toolbar.annotationToolbarModule&&this.pdfViewer.toolbar.annotationToolbarModule.enableAnnotationAddTools(!0),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.mobileSpanContainer.innerHTML=this.currentPageNumber.toString(),this.mobilecurrentPageContainer.innerHTML=this.currentPageNumber.toString())},S.prototype.initialPagesRenderedForSign=function(e){var t=document.createElement("canvas"),i=e.value,n=e.width,o=e.height,r=e.formFieldName,a=e.formFieldList,e=e.PageIndex,a=JSON.parse(a),s=(t.width=n,t.height=o,t.getContext("2d")),l=s.createImageData(n,o),i=(l.data.set(i),s.putImageData(l,0,0),t.toDataURL()),A=this.removeTrailingNumber(r),s=a.find(function(e){return e.FieldName===A}).LineBounds,l=Math.min(s.Height/this.pdfViewer.formFieldsModule.paddingDifferenceValue,s.Width/this.pdfViewer.formFieldsModule.paddingDifferenceValue),t=s.Height-l,a=s.Width-l,l=Math.min(a/n,t/o),a=n*l,t=o*l,n=s.X+(s.Width-a)/2,o=s.Y+(s.Height-t)/2,l=new os,s=(l.LineBounds={X:n,Y:o,Width:a,Height:t},l.Value=i,l.ActualFieldName=null,l.Name="SignatureImage",l.FieldName=r,l.PageIndex=e,this.pdfViewer.pdfRendererModule.formFieldsBase.PdfRenderedFormFields.push(l),JSON.stringify(this.pdfViewer.pdfRendererModule.formFieldsBase.PdfRenderedFormFields));this.setItemInSessionStorage(s,"_formfields")},S.prototype.removeTrailingNumber=function(e){return e.replace(/_\d+$/,"")},S.prototype.initialPagesRendered=function(e,t){if(-1===this.renderedPagesList.indexOf(e)&&!t){this.createRequestForRender(e);for(var i=e+1,n=this.pdfViewer.initialRenderPages<=this.pageCount?this.pdfViewer.initialRenderPages>this.pageRenderCount?this.pdfViewer.initialRenderPages:2:this.pageCount,o=1;o<n;o++)this.createRequestForRender(o),i+=1;if(this.pageSize[parseInt(i.toString(),10)])for(var r=this.getPageTop(i),a=this.viewerContainer.clientHeight;r<a&&this.pageSize[parseInt(i.toString(),10)];)this.renderPageElement(i),this.createRequestForRender(i),r=this.getPageTop(i),i+=1}},S.prototype.renderPasswordPopup=function(e,t,i){var n,o,r=this;G.isBlazor()?(n=document.getElementById(this.pdfViewer.element.id+"_prompt"),this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_EnterPassword").then(function(e){n.textContent=e}),(o=document.querySelector("#"+this.pdfViewer.element.id+"_password_input")).addEventListener("keyup",function(){""===o.value&&r.passwordDialogReset()}),o.addEventListener("focus",function(){o.parentElement.classList.add("e-input-focus")}),o.addEventListener("blur",function(){o.parentElement.classList.remove("e-input-focus")}),this.isPasswordAvailable?(this.pdfViewer.fireDocumentLoadFailed(!0,t),n.classList.add("e-pv-password-error"),this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_InvalidPassword").then(function(e){n.textContent=e}),n.focus(),this.isFileName?this.document=e:this.document="data:application/pdf;base64,"+e):(this.isFileName?this.document=e:this.document="data:application/pdf;base64,"+e,this.isPasswordAvailable=!0,this.pdfViewer.fireDocumentLoadFailed(!0,null)),this.pdfViewer._dotnetInstance.invokeMethodAsync("OpenPasswordDialog")):(this.isPasswordAvailable?(this.pdfViewer.fireDocumentLoadFailed(!0,t),this.promptElement.classList.add("e-pv-password-error"),this.promptElement.textContent=this.pdfViewer.localeObj.getConstant("Invalid Password"),this.promptElement.focus(),this.isFileName||e instanceof Uint8Array?this.document=e:this.document="data:application/pdf;base64,"+e):(this.isFileName||e instanceof Uint8Array?this.document=e:this.document="data:application/pdf;base64,"+e,this.isPasswordAvailable=!0,this.createPasswordPopup(i),this.pdfViewer.fireDocumentLoadFailed(!0,null)),this.passwordPopup.show())},S.prototype.renderCorruptPopup=function(e){this.pdfViewer.fireDocumentLoadFailed(!1,null),this.documentId=null,this.pdfViewer.showNotificationDialog&&(G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("OpenCorruptedDialog"):(this.createCorruptedPopup(e),this.corruptPopup.show()))},S.prototype.constructJsonObject=function(e,t,i){t=t?(this.isPasswordAvailable=!0,{document:e,password:this.passwordData=t,isClientsideLoading:i,zoomFactor:"1",isFileName:this.isFileName.toString(),uniqueId:this.documentId,showDigitalSignatureAppearance:this.pdfViewer.showDigitalSignatureAppearance}):(this.isPasswordAvailable=!1,this.passwordData="",{document:e,zoomFactor:"1",isClientsideLoading:i,isFileName:this.isFileName.toString(),uniqueId:this.documentId,hideEmptyDigitalSignatureFields:this.pdfViewer.hideEmptyDigitalSignatureFields,showDigitalSignatureAppearance:this.pdfViewer.showDigitalSignatureAppearance});return t},S.prototype.checkDocumentData=function(e,t){var i;return void 0===t&&(t=!0),void 0!==(i=this.isValidPDFBase64(e)?e:e.split("base64,")[1])&&this.isValidPDFBase64(i)?t&&(this.jsonDocumentId=null):(this.isFileName=!0,this.jsonDocumentId=e,null===this.pdfViewer.fileName&&(e.startsWith("http://")||e.startsWith("https://")||e.endsWith(".pdf"))?(this.setDocumentName(e),i=e):e.startsWith("blob:")&&(this.setFileName(),i=e)),i},S.prototype.setDocumentName=function(e){e=-1!==e.indexOf("\\")?e.split("\\"):e.split("/");this.pdfViewer.fileName=e[e.length-1],this.jsonDocumentId=this.pdfViewer.fileName},S.prototype.setFileName=function(){null===this.pdfViewer.fileName&&(this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.uploadedDocumentName?(this.pdfViewer.fileName=this.pdfViewer.toolbarModule.uploadedDocumentName,this.jsonDocumentId=this.pdfViewer.fileName):(this.pdfViewer.fileName="undefined.pdf",this.jsonDocumentId=null))},S.prototype.saveDocumentInfo=function(){S.sessionStorageManager.getWindowSessionStorageSize()+Math.round(JSON.stringify(this.documentId).length/1024)<5e3?(S.sessionStorageManager.setItem(this.documentId+"_currentDocument",this.documentId),S.sessionStorageManager.setItem(this.documentId+"_serviceURL",this.pdfViewer.serviceUrl),this.pdfViewer.serverActionSettings&&S.sessionStorageManager.setItem(this.documentId+"_unload",this.pdfViewer.serverActionSettings.unload)):(this.sessionStorage.push(this.documentId+"_currentDocument",this.documentId),this.sessionStorage.push(this.documentId+"_serviceURL",this.pdfViewer.serviceUrl),this.pdfViewer.serverActionSettings&&this.sessionStorage.push(this.documentId+"_unload",this.pdfViewer.serverActionSettings.unload))},S.prototype.saveDocumentHashData=function(){var e="",e=G.Browser.isIE||"edge"===G.Browser.info.name?encodeURI(this.hashId):this.hashId;S.sessionStorageManager.setItem(this.documentId+"_hashId",e),this.documentLiveCount&&S.sessionStorageManager.setItem(this.documentId+"_documentLiveCount",this.documentLiveCount.toString())},S.prototype.saveFormfieldsData=function(e){var t;if(this.clientSideRendering||(t=["ink","SignatureText","SignatureImage"],e.PdfRenderedFormFields=e.PdfRenderedFormFields.filter(function(e){return-1===t.indexOf(e.Name)}).concat(e.PdfRenderedFormFields.filter(function(e){return-1!==t.indexOf(e.Name)}))),this.pdfViewer.isFormFieldDocument=!1,this.enableFormFieldButton(!1),e&&e.PdfRenderedFormFields&&0<e.PdfRenderedFormFields.length){if(this.formfieldvalue)this.pdfViewer.formFieldsModule&&this.setItemInSessionStorage(this.formfieldvalue,"_formfields"),this.formfieldvalue=null;else if(this.pdfViewer.formFieldsModule){for(var i=0;i<e.PdfRenderedFormFields.length;i++)""===e.PdfRenderedFormFields[parseInt(i.toString(),10)].FieldName&&e.PdfRenderedFormFields.splice(i,1);this.setItemInSessionStorage(e.PdfRenderedFormFields,"_formfields")}this.pdfViewer.enableFormFields&&this.pdfViewer.formFieldsModule&&this.pdfViewer.formFieldsModule.formFieldCollections(),0<this.pdfViewer.formFieldCollections.length&&(this.pdfViewer.isFormFieldDocument=!0,this.enableFormFieldButton(!0))}},S.prototype.enableFormFieldButton=function(e){e&&(this.pdfViewer.isFormFieldDocument=!0),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.submitItem&&this.pdfViewer.toolbarModule.toolbar.enableItems(this.pdfViewer.toolbarModule.submitItem.parentElement,e)},S.prototype.updateWaitingPopup=function(e){var t,i;null!=this.pageSize[parseInt(e.toString(),10)].top&&(t=this.getElement("_pageDiv_"+e).getBoundingClientRect(),i=this.getElement("_pageDiv_"+e).firstChild.firstChild,t.top<0?this.toolbarHeight+this.viewerContainer.clientHeight/2-t.top<t.height?i.style.top=this.getElement("_pageDiv_"+e).clientHeight/2-this.getElement("_pageDiv_"+e).clientTop-this.toolbarHeight+"px":this.toolbarHeight+t.bottom/2-t.top<t.height&&(i.style.top=t.bottom/2-this.getElement("_pageDiv_"+e).clientTop-this.toolbarHeight+"px"):i.style.top=this.getElement("_pageDiv_"+e).clientHeight/2+"px",G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&t.width>this.viewerContainer.clientWidth?i.style.left=this.getElement("_pageDiv_"+e).clientWidth/2+this.viewerContainer.scrollLeft+"px":(1.25<this.getZoomFactor()&&(t.width,this.viewerContainer.clientWidth),i.style.left=this.getElement("_pageDiv_"+e).clientWidth/2+"px"))},S.prototype.getActivePage=function(e){return this.activeElements&&!G.isNullOrUndefined(this.activeElements.activePageID)?e?this.activeElements.activePageID+1:this.activeElements.activePageID:e?this.currentPageNumber:this.currentPageNumber-1},S.prototype.createWaitingPopup=function(e){e=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+e);e&&(Ri({target:e}),this.setLoaderProperties(e))},S.prototype.showLoadingIndicator=function(e){var t=this.getElement("_loadingIndicator");t&&(e?(t.style.display="block",Xi):(t.style.display="none",$i))(t)},S.prototype.spinnerPosition=function(e,t){var e=e.querySelector(".e-spinner-inner"),i=this.getZoomFactor(),n=this.pageSize[parseInt(t.toString(),10)].width*i,t=this.pageSize[parseInt(t.toString(),10)].height*i,t=(e.style.top=t/2+"px",e.style.left=n/2+"px",e.children[0]);i<=.2?(t.style.width="20px",t.style.height="20px",t.style.transformOrigin="10px 10px 10px"):i<=.45?(t.style.width="30px",t.style.height="30px",t.style.transformOrigin="15px 15px 15px"):(t.style.width="48px",t.style.height="48px",t.style.transformOrigin="24px 24px 24px")},S.prototype.showPageLoadingIndicator=function(e,t){var i=this.getElement("_pageDiv_"+e);null!=i&&(this.spinnerPosition(i,e),(t?Xi:$i)(i),G.isNullOrUndefined(this.pdfViewer.magnificationModule)||this.pdfViewer.magnificationModule.isWaitingPopupUpdated||this.updateWaitingPopup(e))},S.prototype.showPrintLoadingIndicator=function(e){var t=this.getElement("_printLoadingIndicator");null!=t&&(e?(this.printMainContainer.style.display="block",Xi):(this.printMainContainer.style.display="none",$i))(t)},S.prototype.setLoaderProperties=function(e){e=e.firstChild.firstChild.firstChild;e&&(e.style.height="48px",e.style.width="48px",e.style.transformOrigin="24px 24px 24px")},S.prototype.updateScrollTop=function(t,e){var i=this;if(null!=this.pageSize[parseInt(t.toString(),10)]){this.renderElementsVirtualScroll(t),G.isNullOrUndefined(e)&&(this.viewerContainer.scrollTop=this.getPageTop(t)),-1===this.renderedPagesList.indexOf(t)&&this.createRequestForRender(t);var n=t+1;if(n<this.pdfViewer.pageCount&&-1===this.renderedPagesList.indexOf(n)&&this.createRequestForRender(n),this.pageSize[parseInt(n.toString(),10)])for(var o=this.getPageTop(n),r=this.viewerContainer.clientHeight+this.getPageTop(n-1);o<r&&this.pageSize[parseInt(n.toString(),10)];)this.renderPageElement(n),-1===this.renderedPagesList.indexOf(n)&&this.createRequestForRender(n),o=this.getPageTop(n),n+=1;setTimeout(function(){var e=t+1;e!==i.currentPageNumber&&(i.pdfViewer.currentPageNumber=e,i.currentPageNumber=e,i.pdfViewer.toolbarModule)&&i.pdfViewer.toolbarModule.updateCurrentPage(e)},100)}},S.prototype.getZoomFactor=function(){return this.pdfViewer.magnificationModule?this.pdfViewer.magnificationModule.zoomFactor:1},S.prototype.getCustomZoomValues=function(){this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.isInitialCustomZoomValues=!1);var e,t,i=this.pdfViewer.minZoom,n=this.pdfViewer.maxZoom,o=[],r=[10,25,50,75,100,125,150,200,400];if(null!=i&&null!=n&&n<i&&(e=n,n=i,i=e),null!=i||null!=n){var a=0;null==i||o.some(function(e){return parseInt(e.id,10)===i})||(o.push({percent:i+"%",id:a.toString()}),this.customZoomValues.push(i),a++);for(var s=0;s<r.length;s++){var l=r[parseInt(s.toString(),10)];t=l,(null==i||i<=t)&&(null==n||t<=n)&&l!==i&&l!==n&&(o.push({percent:l+"%",id:a.toString()}),this.customZoomValues.push(l),a++)}null==n||o.some(function(e){return parseInt(e.id,10)===n})||n===i||(o.push({percent:n+"%",id:a.toString()}),this.customZoomValues.push(n),a++),o.sort(function(e,t){return parseInt(e.id,10)-parseInt(t.id,10)}),this.customZoomValues.sort(function(e,t){return parseInt(e.id,10)-parseInt(t.id,10)})}},S.prototype.getPinchZoomed=function(){return!!this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isPinchZoomed},S.prototype.getMagnified=function(){return!!this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isMagnified},S.prototype.getPinchScrolled=function(){return!!this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isPinchScrolled},S.prototype.getPagesPinchZoomed=function(){return!!this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isPagePinchZoomed},S.prototype.getPagesZoomed=function(){return!!this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isPagesZoomed},S.prototype.getRerenderCanvasCreated=function(){return!!this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isRerenderCanvasCreated},S.prototype.getDocumentId=function(){return this.documentId},S.prototype.download=function(){0<this.pageCount&&this.createRequestForDownload()},S.prototype.saveAsBlob=function(){var i=this;return 0<this.pageCount?new Promise(function(t,e){i.saveAsBlobRequest().then(function(e){t(e)})}):null},S.prototype.fireCustomCommands=function(e){var t,i=this.pdfViewer.commandManager,n=i.keyboardCommand.map(function(e){return{name:e.name,gesture:{pdfKeys:e.gesture.pdfKeys,modifierKeys:e.gesture.modifierKeys}}}),n=JSON.stringify(n);0!==Object.keys(i).length&&(i=JSON.parse(n),null!=(n=this.getModifiers(e)))&&e.keyCode&&(t={name:"",gesture:{pdfKeys:e.keyCode,modifierKeys:n}},null!=(e=i.find(function(e){return e.gesture&&e.gesture.pdfKeys===t.gesture.pdfKeys&&e.gesture.modifierKeys===t.gesture.modifierKeys})))&&(t.name=e.name,t.gesture.modifierKeys=e.gesture.modifierKeys,t.gesture.pdfKeys=e.gesture.pdfKeys,this.pdfViewer.fireKeyboardCustomCommands(t))},S.prototype.getModifiers=function(e){var t=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)&&e.metaKey,i=0;return(e.ctrlKey||t)&&(i|=1),e.altKey&&(i|=2),e.shiftKey&&(i|=4),e.metaKey&&(i|=8),i},S.prototype.saveAsBlobRequest=function(){var o=this,r=this;return new Promise(function(t,e){var i,n=r.constructJsonDownload();(r.clientSideRendering?r.isDigitalSignaturePresent:r.digitalSignaturePages&&0!==r.digitalSignaturePages.length)&&(r.pdfViewer.isDocumentEdited?n.digitalSignatureDocumentEdited=!0:n.digitalSignatureDocumentEdited=!1),G.isNullOrUndefined(o.pdfViewer.pageOrganizer)||G.isNullOrUndefined(o.pdfViewer.pageOrganizer.organizePagesCollection)||!o.pdfViewer.pageOrganizer.isDocumentModified||(n.organizePages=JSON.stringify(o.pdfViewer.pageOrganizer.organizePagesCollection)),o.dowonloadRequestHandler=new Bn(o.pdfViewer),o.dowonloadRequestHandler.url=r.pdfViewer.serviceUrl+"/"+r.pdfViewer.serverActionSettings.download,o.dowonloadRequestHandler.responseType="text",o.validateForm&&o.pdfViewer.enableFormFieldsValidation?(o.pdfViewer.fireValidatedFailed(r.pdfViewer.serverActionSettings.download),o.validateForm=!1):o.clientSideRendering?(i=o.pdfViewer.pdfRendererModule.getDocumentAsBase64(n),i=r.saveAsBlobFile(i,r),t(i)):o.dowonloadRequestHandler.send(n),o.dowonloadRequestHandler.onSuccess=function(e){e=e.data,e=r.saveAsBlobFile(e,r);t(e)},o.dowonloadRequestHandler.onFailure=function(e){r.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,r.pdfViewer.serverActionSettings.download)},o.dowonloadRequestHandler.onError=function(e){r.openNotificationPopup(),r.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,r.pdfViewer.serverActionSettings.download)}})},S.prototype.saveAsBlobFile=function(t,i){return this.clientSideRendering?new Promise(function(e){t&&("object"!=typeof t&&(i.onControlError(500,t,i.pdfViewer.serverActionSettings.download),t=null),t)&&(i.clientSideRendering||i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.download,t),e(new Blob([t],{type:"application/pdf"})))}):new Promise(function(e){t&&("object"!=typeof(t="object"==typeof t?JSON.parse(t):t)&&-1===t.indexOf("data:application/pdf")&&(i.onControlError(500,t,i.pdfViewer.serverActionSettings.download),t=null),t)&&(i.clientSideRendering||i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.download,t),e(i.createBlobUrl(t.split("base64,")[1],"application/pdf")))})},S.prototype.clear=function(e){var t=this,i=t.pdfViewer,n=i.printModule,o=i.textSearchModule,r=i.bookmarkViewModule,a=i.thumbnailView,s=i.annotation,l=i.magnificationModule,A=i.textSelectionModule,d=i.formFieldsModule,p=t.signatureModule,h=i.pageOrganizer;if(t.isPasswordAvailable=!1,t.isDocumentLoaded=!1,t.isInitialLoaded=!1,t.isImportAction=!1,t.navigationPane.isThumbnailAddedProgrammatically=!1,t.navigationPane.isThumbnail=!1,t.annotationPageList=[],t.annotationComments=null,i.annotationCollection=[],i.signatureCollection=[],i.formFieldCollection=[],i.customContextMenuItems=[],t.isAnnotationCollectionRemoved=!1,t.documentAnnotationCollections=null,t.isDrawnCompletely=!1,t.annotationRenderredList=[],t.isImportAction=!1,t.isImportedAnnotation=!1,t.importedAnnotation=[],t.isStorageExceed=!1,t.annotationStorage={},t.formFieldStorage={},t.downloadCollections={},t.annotationEvent=null,t.highestWidth=0,t.highestHeight=0,t.requestLists=[],t.tilerequestLists=[],t.isToolbarInkClicked=!1,i.formFieldCollections=[],t.passwordData="",t.isFocusField=!1,t.focusField=[],t.modifiedPageIndex=[],t.isInkAnnot=!1,t.updateDocumentEditedProperty(!1),i.clipboardData.clipObject={},i.pdfRendererModule&&t.clientSideRendering&&(t.pdfViewer.pdfRendererModule.pageRotationCollection=[]),i.toolbar&&(i.toolbar.uploadedFile=null),t.isTaggedPdf=!1,i.formDesignerModule&&(i.formDesignerModule.formFieldIndex=0,t.activeElements&&i.clearSelection(t.activeElements.activePageID),i.zIndexTable=[]),t.initiateTextSelectMode(),t.RestrictionEnabled(t.restrictionList,!0),t.restrictionList=null,G.Browser.isDevice&&!i.enableDesktopMode||t.navigationPane.sideBarToolbar&&t.navigationPane.clear(),(G.isBlazor()||!G.Browser.isDevice)&&i.enableDesktopMode||t.navigationPane.clear(),a&&a.clear(),r&&r.clear(),l&&(l.isMagnified=!1,l.isFormFieldPageZoomed=!1,l.clearIntervalTimer()),A&&A.clearTextSelection(),o&&o.resetTextSearch(!0),s&&(s.clear(),s.initializeCollection()),d&&(d.readOnlyCollection=[],d.signatureFieldCollection=[],d.renderedPageList=[],d.currentTarget=null),p&&(p.signAnnotationIndex=[]),h&&h.clear(),t.pageSize&&(t.pageSize=[]),t.renderedPagesList&&(t.renderedPagesList=[]),t.accessibilityTagsCollection&&(t.accessibilityTagsCollection=[]),t.pageRequestListForAccessibilityTags&&(t.pageRequestListForAccessibilityTags=[]),t.pageContainer)for(;t.pageContainer.hasChildNodes();)t.pageContainer.removeChild(t.pageContainer.lastChild);if(0<t.pageCount){if(t.unloadDocument(t),t.textLayer.characterBound=[],t.loadRequestHandler&&t.loadRequestHandler.clear(),t.requestCollection){for(var c=0;c<t.requestCollection.length;c++)t.requestCollection[parseInt(c.toString(),10)].clear();t.requestCollection=[]}t.virtualLoadRequestHandler&&t.virtualLoadRequestHandler.clear(),t.pageRequestHandler&&t.pageRequestHandler.clear(),t.dowonloadRequestHandler&&t.dowonloadRequestHandler.clear(),t.importAnnotationRequestHandler&&t.importAnnotationRequestHandler.clear(),t.exportAnnotationRequestHandler&&t.exportAnnotationRequestHandler.clear(),t.importFormFieldsRequestHandler&&t.importFormFieldsRequestHandler.clear(),t.exportFormFieldsRequestHandler&&t.exportFormFieldsRequestHandler.clear(),n&&n.printRequestHandler&&n.printRequestHandler.clear()}t.windowSessionStorageClear(),S.sessionStorageManager.clear(),t.pinchZoomStorage&&(t.pinchZoomStorage=[]),!t.previousZoomValue&&0!==t.previousZoomValue||t.previousZoomValue===i.zoomValue||(i.zoomValue=t.previousZoomValue),e&&0<t.pageCount&&i.fireDocumentUnload(this.pdfViewer.fileName),this.pdfViewer.fileName=null,window.customStampCollection instanceof Map&&window.customStampCollection.clear()},S.prototype.destroy=function(){var e;G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.element.classList.remove("e-pv-mobile-view"),this.unWireEvents(),this.clear(!1),this.pageContainer&&this.pageContainer.parentNode&&this.pageContainer.parentNode.removeChild(this.pageContainer),this.viewerContainer&&this.viewerContainer.parentNode&&this.viewerContainer.parentNode.removeChild(this.viewerContainer),this.contextMenuModule&&(e=this.contextMenuModule.contextMenuElement)&&e.ej2_instances&&0<e.ej2_instances.length&&this.contextMenuModule.destroy(),this.pdfViewer.toolbarModule&&this.navigationPane.destroy(),document.getElementById("measureElement")},S.prototype.unloadDocument=function(e){if(!this.clientSideRendering){var t="",i=S.sessionStorageManager.getItem(this.documentId+"_hashId"),n=S.sessionStorageManager.getItem(this.documentId+"_documentLiveCount"),o=S.sessionStorageManager.getItem(this.documentId+"_serviceURL");if(null!==(t=G.Browser.isIE||"edge"===G.Browser.info.name?decodeURI(i):e.hashId||i)){var r,a,i={hashId:t,documentLiveCount:n,action:"Unload",elementId:e.pdfViewer.element.id},t=S.sessionStorageManager.getItem(this.documentId+"_unload");if("undefined"===o||"null"===o||""===o||G.isNullOrUndefined(o))G.isBlazor()&&this.clearCache(t,i,e);else try{"keepalive"in new Request("")&&(r=this.setUnloadRequestHeaders(),a=this.pdfViewer.ajaxRequestSettings.withCredentials?"include":"omit",fetch(o+"/"+t,{method:"POST",credentials:a,headers:r,body:JSON.stringify(i)}))}catch(e){this.unloadRequestHandler=new Bn(this.pdfViewer),this.unloadRequestHandler.send(i)}}}this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.zoomFactor=1),this.formFieldCollection=[],this.textrequestLists=[],!e.pdfViewer.textSearchModule||G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.pdfViewer.textSearchModule.showSearchBox(!1),this.pdfViewer.textSearchModule.isDocumentTextCollectionReady=!1),S.sessionStorageManager.clear()},S.prototype.clearCache=function(t,e,i){this.unloadRequestHandler=new Bn(this.pdfViewer),this.unloadRequestHandler.url=S.sessionStorageManager.getItem(this.documentId+"_serviceURL")+"/"+t,this.unloadRequestHandler.mode=!1,this.unloadRequestHandler.responseType=null,this.unloadRequestHandler.send(e),this.unloadRequestHandler.onSuccess=function(e){e=e.data;e&&("object"!=typeof e&&-1===e.indexOf("Document")&&(i.onControlError(500,e,t),e=null),e)&&i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.unload,e)},this.unloadRequestHandler.onFailure=function(e){i.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,t)},this.unloadRequestHandler.onError=function(e){i.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,t)}},S.prototype.setUnloadRequestHeaders=function(){var e=new Headers;if(e.append("Content-Type","application/json;charset=UTF-8"),!G.isNullOrUndefined(this.pdfViewer.ajaxRequestSettings)&&!G.isNullOrUndefined(this.pdfViewer.ajaxRequestSettings.ajaxHeaders))for(var t=0;t<this.pdfViewer.ajaxRequestSettings.ajaxHeaders.length;t++)e.append(this.pdfViewer.ajaxRequestSettings.ajaxHeaders[parseInt(t.toString(),10)].headerName,this.pdfViewer.ajaxRequestSettings.ajaxHeaders[parseInt(t.toString(),10)].headerValue);return e},S.prototype.windowSessionStorageClear=function(){S.sessionStorageManager.removeItem(this.documentId+"_currentDocument"),S.sessionStorageManager.removeItem(this.documentId+"_serviceURL"),S.sessionStorageManager.removeItem(this.documentId+"_unload");for(var e=0;e<this.sessionStorage.length;e++)S.sessionStorageManager.removeItem(this.sessionStorage[parseInt(e.toString(),10)])},S.prototype.updateCommentPanel=function(){for(var e=document.querySelectorAll(".e-pv-more-options-button"),t=0;t<e.length;t++)e[parseInt(t.toString(),10)].style.visibility="hidden";for(var i=document.querySelectorAll(".e-pv-new-comments-div"),n=0;n<i.length;n++)i[parseInt(n.toString(),10)].style.display="none";for(var o=document.querySelectorAll(".e-pv-comments-border"),n=0;n<o.length;n++)o[parseInt(n.toString(),10)].classList.remove("e-pv-comments-border");for(var r=document.querySelectorAll(".e-editable-inline"),n=0;n<r.length;n++)r[parseInt(n.toString(),10)].style.display="none";for(var a=document.querySelectorAll(".e-pv-comments-select"),s=0;s<a.length;s++)a[parseInt(s.toString(),10)].classList.remove("e-pv-comments-select");for(var l=document.querySelectorAll(".e-pv-comments-div"),n=0;n<l.length;n++)l[parseInt(n.toString(),10)].style.minHeight="60px"},S.prototype.focusViewerContainer=function(e){var t=window.scrollX,i=window.scrollY,n=this.getScrollParent(this.viewerContainer),o=0,r=0;null!==n&&(o=n.scrollLeft,r=n.scrollTop),this.isgetFocused||this.viewerContainer.focus(),this.isgetFocused=!1,this.pdfViewer.annotation&&this.pdfViewer.annotation.stickyNotesAnnotationModule.accordionContainer&&this.updateCommentPanel(),(-1!==navigator.userAgent.indexOf("MSIE")||-1<navigator.appVersion.indexOf("Trident/")||-1!==navigator.userAgent.indexOf("Edge"))&&null!==n?(n.scrollLeft=o,n.scrollTop=r):null!==n&&n.scrollTo(o,r),window.scrollTo(t,i)},S.prototype.getScrollParent=function(e){var t;return null===e||"HTML"===e.nodeName?null:(t=getComputedStyle(e),this.viewerContainer.id===e.id||"scroll"!==t.overflowY&&"auto"!==t.overflowY?this.getScrollParent(e.parentNode):e)},S.prototype.createCorruptedPopup=function(t){var i=this,e=G.createElement("div",{id:this.pdfViewer.element.id+"_corrupted_popup",className:"e-pv-corrupted-popup"});(t?this.pdfViewer.pageOrganizerModule.dialogDivElement:this.pageContainer).appendChild(e),this.corruptPopup=new k.Dialog({showCloseIcon:!0,closeOnEscape:!0,isModal:!0,header:'<div class="e-pv-corrupted-popup-header"> '+this.pdfViewer.localeObj.getConstant("File Corrupted")+"</div>",visible:!1,buttons:[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.closeCorruptPopup.bind(this)}],target:this.pdfViewer.element,beforeClose:function(){i.corruptPopup.destroy(),i.getElement("_corrupted_popup").remove(),i.corruptPopup=null;var e=i.getElement("_loadingIndicator");t&&null!=i.pdfViewer.pageOrganizerModule.waitingPopup?$i(i.pdfViewer.pageOrganizerModule.waitingPopup):null!=e&&$i(e)}}),this.pdfViewer.enableRtl?(this.corruptPopup.content='<div id="e-pv-corrupted-templatertl" class="e-pv-notification-icon-rtl"> <div class="e-pv-corrupted-popup-content-rtl" tabindex="0">'+this.pdfViewer.localeObj.getConstant("File Corrupted Content")+"</div></div>",this.corruptPopup.enableRtl=!0):this.corruptPopup.content='<div id="e-pv-corrupted-template" class="e-pv-notification-icon"> <div class="e-pv-corrupted-popup-content" tabindex="0">'+this.pdfViewer.localeObj.getConstant("File Corrupted Content")+"</div></div>",this.corruptPopup.appendTo(e)},S.prototype.hideLoadingIndicator=function(){var e=this.getElement("_loadingIndicator");null!==e&&$i(e)},S.prototype.closeCorruptPopup=function(){this.corruptPopup.hide();var e=this.getElement("_loadingIndicator");this.isImportDoc&&null!=this.pdfViewer.pageOrganizerModule.waitingPopup?$i(this.pdfViewer.pageOrganizerModule.waitingPopup):null!=e&&$i(e)},S.prototype.createPrintPopup=function(){var e=document.getElementById(this.pdfViewer.element.id),e=(this.printMainContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_printcontainer",className:"e-pv-print-popup-container"}),e.appendChild(this.printMainContainer),this.printMainContainer.style.display="none",G.createElement("div",{id:this.pdfViewer.element.id+"_printLoadingIndicator",className:"e-pv-print-loading-container"}));this.printMainContainer.appendChild(e),Ri({target:e,cssClass:"e-spin-center"}),this.setLoaderProperties(e)},S.prototype.createGoToPagePopup=function(){var t=this,e=G.createElement("div",{id:this.pdfViewer.element.id+"_goTopage_popup",className:"e-pv-gotopage-popup"}),i=(this.goToPageElement=G.createElement("span",{id:this.pdfViewer.element.id+"_prompt"}),this.goToPageElement.textContent=this.pdfViewer.localeObj.getConstant("Enter pagenumber"),e.appendChild(this.goToPageElement),G.createElement("span",{className:"e-pv-text-input"}));this.goToPageInput=G.createElement("input",{id:this.pdfViewer.element.id+"_page_input",className:"e-input"}),this.goToPageInput.type="text",this.goToPageInput.style.maxWidth="80%",this.pageNoContainer=G.createElement("span",{className:".e-pv-number-ofpages"}),i.appendChild(this.goToPageInput),i.appendChild(this.pageNoContainer),e.appendChild(i),this.pageContainer.appendChild(e),this.goToPagePopup=new k.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:this.pdfViewer.localeObj.getConstant("GoToPage"),visible:!1,buttons:[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.GoToPageCancelClick.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Apply"),disabled:!0,cssClass:"e-pv-gotopage-apply-btn",isPrimary:!0},click:this.GoToPageApplyClick.bind(this)}],close:this.closeGoToPagePopUp.bind(this)}),this.pdfViewer.enableRtl&&(this.goToPagePopup.enableRtl=!0),this.goToPagePopup.appendTo(e),G.isBlazor()||new T.NumericTextBox({format:"##",showSpinButton:!1}).appendTo(this.goToPageInput),this.goToPageInput.addEventListener("keyup",function(){var e=t.goToPageInput.value;""!==e&&0<parseFloat(e)&&t.pdfViewer.pageCount+1>parseFloat(e)?t.EnableApplyButton():t.DisableApplyButton()})},S.prototype.closeGoToPagePopUp=function(){this.goToPageInput.value="",this.DisableApplyButton()},S.prototype.EnableApplyButton=function(){document.getElementsByClassName("e-pv-gotopage-apply-btn")[0].removeAttribute("disabled")},S.prototype.DisableApplyButton=function(){document.getElementsByClassName("e-pv-gotopage-apply-btn")[0].setAttribute("disabled",!0)},S.prototype.GoToPageCancelClick=function(){this.goToPagePopup.hide()},S.prototype.GoToPageApplyClick=function(){this.goToPagePopup.hide();var e=this.goToPageInput.value;this.pdfViewer.navigation.goToPage(e),this.updateMobileScrollerPosition()},S.prototype.updateMobileScrollerPosition=function(){var e,t;G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.mobileScrollerContainer&&(e=(this.viewerContainer.scrollHeight-this.viewerContainer.clientHeight)/(this.viewerContainer.clientHeight-56),e=this.viewerContainer.scrollTop/e,t=this.pdfViewer.toolbarModule?this.toolbarHeight:0,this.mobileScrollerContainer.style.top=t+e+"px")},S.prototype.createPasswordPopup=function(t){var i=this,e=G.createElement("div",{id:this.pdfViewer.element.id+"_password_popup",className:"e-pv-password-popup",attrs:{tabindex:"-1"}}),n=(this.promptElement=G.createElement("span",{id:this.pdfViewer.element.id+"_prompt",attrs:{tabindex:"-1"}}),this.promptElement.textContent=this.pdfViewer.localeObj.getConstant("Enter Password"),e.appendChild(this.promptElement),G.createElement("span",{className:"e-input-group e-pv-password-input"}));this.passwordInput=G.createElement("input",{id:this.pdfViewer.element.id+"_password_input",className:"e-input"}),this.passwordInput.type="password",this.passwordInput.name="Required",n.appendChild(this.passwordInput),e.appendChild(n),(t?this.pdfViewer.pageOrganizerModule.dialogDivElement:this.pageContainer).appendChild(e),this.passwordPopup=new k.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:this.pdfViewer.localeObj.getConstant("Password Protected"),visible:!1,close:this.passwordCancel.bind(this),target:this.pdfViewer.element,beforeClose:function(){i.passwordPopup.destroy(),i.getElement("_password_popup").remove(),i.passwordPopup=null;var e=i.getElement("_loadingIndicator");t&&null!=i.pdfViewer.pageOrganizerModule.waitingPopup?$i(i.pdfViewer.pageOrganizerModule.waitingPopup):null!=e&&$i(e)}}),!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.passwordPopup.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.applyPassword.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.passwordCancelClick.bind(this)}]:this.passwordPopup.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.passwordCancelClick.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.applyPassword.bind(this)}],this.pdfViewer.enableRtl&&(this.passwordPopup.enableRtl=!0),this.passwordPopup.appendTo(e),this.passwordInput.addEventListener("keyup",function(){""===i.passwordInput.value&&i.passwordDialogReset()}),this.passwordInput.addEventListener("focus",function(){i.passwordInput.parentElement.classList.add("e-input-focus")}),this.passwordInput.addEventListener("blur",function(){i.passwordInput.parentElement.classList.remove("e-input-focus")})},S.prototype.passwordCancel=function(e){e.isInteraction&&(this.isImportDoc||this.pdfViewer.pageOrganizerModule||this.clear(!1),this.passwordDialogReset(),this.passwordInput.value="");e=this.getElement("_loadingIndicator");this.isImportDoc&&null!=this.pdfViewer.pageOrganizerModule.waitingPopup?$i(this.pdfViewer.pageOrganizerModule.waitingPopup):null!==e&&$i(e)},S.prototype.passwordCancelClick=function(){this.isImportDoc||this.pdfViewer.pageOrganizerModule||this.clear(!1),this.passwordDialogReset(),this.passwordPopup.hide();var e=this.getElement("_loadingIndicator");this.isImportDoc&&null!=this.pdfViewer.pageOrganizerModule.waitingPopup?$i(this.pdfViewer.pageOrganizerModule.waitingPopup):null!==e&&$i(e)},S.prototype.passwordDialogReset=function(){G.isBlazor()||this.promptElement&&(this.promptElement.classList.remove("e-pv-password-error"),this.promptElement.textContent=this.pdfViewer.localeObj.getConstant("Enter Password"),this.passwordInput.value="")},S.prototype.applyPassword=function(){var e;G.isBlazor()||(e=this.passwordInput.value,!G.isNullOrUndefined(e)&&0<e.length&&(this.isImportDoc&&this.pdfViewer.pageOrganizerModule?this.pdfViewer.pageOrganizerModule.loadImportDoc(this.pdfViewer.pageOrganizerModule.importedDocumentData,e,!0):(this.pdfViewer.load(this.document,e),this.focusViewerContainer())))},S.prototype.createFileInputElement=function(){this.pdfViewer.enableAnnotationToolbar&&this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.createCustomStampElement(),this.signatureModule&&this.signatureModule.createSignatureFileElement()},S.prototype.wireEvents=function(){var e=this;this.isDeviceiOS=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,this.isMacSafari=-1<navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&!this.isDeviceiOS,this.isWebkitMobile=/Chrome/.test(navigator.userAgent)||/Google Inc/.test(navigator.vendor)||-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("WebKit"),this.viewerContainer.addEventListener("scroll",this.viewerContainerOnScroll,!0),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.viewerContainer.addEventListener("touchmove",this.viewerContainerOnScroll,!0),this.viewerContainer.addEventListener("mousedown",this.viewerContainerOnMousedown),this.viewerContainer.addEventListener("mouseup",this.viewerContainerOnMouseup),this.viewerContainer.addEventListener("wheel",this.detectTouchPad,!1),this.viewerContainer.addEventListener("wheel",this.viewerContainerOnMouseWheel),this.isMacSafari&&(window.addEventListener("gesturestart",function(e){return e.preventDefault()}),window.addEventListener("gesturechange",function(e){return e.preventDefault()}),window.addEventListener("gestureend",function(e){return e.preventDefault()}),this.viewerContainer.addEventListener("gesturestart",this.handleMacGestureStart,!1),this.viewerContainer.addEventListener("gesturechange",this.handleMacGestureChange,!1),this.viewerContainer.addEventListener("gestureend",this.handleMacGestureEnd,!1)),this.viewerContainer.addEventListener("mousemove",this.viewerContainerOnMousemove),this.viewerContainer.addEventListener("mouseleave",this.viewerContainerOnMouseLeave),this.viewerContainer.addEventListener("mouseenter",this.viewerContainerOnMouseEnter),this.viewerContainer.addEventListener("mouseover",this.viewerContainerOnMouseOver),this.viewerContainer.addEventListener("click",this.viewerContainerOnClick),this.viewerContainer.addEventListener("dblclick",this.viewerContainerOnClick),this.viewerContainer.addEventListener("dragstart",this.viewerContainerOnDragStart),this.pdfViewer.element.addEventListener("keydown",this.viewerContainerOnKeyDown),window.addEventListener("keydown",this.onWindowKeyDown),window.addEventListener("mouseup",this.onWindowMouseUp),window.addEventListener("touchend",this.onWindowTouchEnd),this.unload=function(){null!==e.pdfViewerRunner&&void 0!==e.pdfViewerRunner&&e.pdfViewerRunner.terminate()},this.unloadDocument(this),window.addEventListener("unload",this.unload),window.addEventListener("beforeunload",this.clearSessionStorage),window.addEventListener("resize",this.onWindowResize),-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Edge")||-1!==navigator.userAgent.indexOf("Trident")?(this.viewerContainer.addEventListener("pointerdown",this.viewerContainerOnPointerDown),this.viewerContainer.addEventListener("pointermove",this.viewerContainerOnPointerMove),this.viewerContainer.addEventListener("pointerup",this.viewerContainerOnPointerEnd),this.viewerContainer.addEventListener("pointerleave",this.viewerContainerOnPointerEnd)):(this.viewerContainer.addEventListener("touchstart",this.viewerContainerOnTouchStart),this.isWebkitMobile&&this.isDeviceiOS&&this.viewerContainer.addEventListener("touchmove",function(e){G.isNullOrUndefined(e.scale)||1===e.scale||e.preventDefault()},{passive:!1}),this.viewerContainer.addEventListener("touchmove",this.viewerContainerOnTouchMove),this.viewerContainer.addEventListener("touchend",this.viewerContainerOnTouchEnd),this.viewerContainer.addEventListener("touchleave",this.viewerContainerOnTouchEnd),this.viewerContainer.addEventListener("touchcancel",this.viewerContainerOnTouchEnd))},S.prototype.unWireEvents=function(){this.viewerContainer&&(this.viewerContainer.removeEventListener("scroll",this.viewerContainerOnScroll,!0),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.viewerContainer.removeEventListener("touchmove",this.viewerContainerOnScroll,!0),this.viewerContainer.removeEventListener("mousedown",this.viewerContainerOnMousedown),this.viewerContainer.removeEventListener("mouseup",this.viewerContainerOnMouseup),this.viewerContainer.removeEventListener("wheel",this.detectTouchPad,!1),this.viewerContainer.removeEventListener("wheel",this.viewerContainerOnMouseWheel),this.isMacSafari&&(window.removeEventListener("gesturestart",function(e){return e.preventDefault()}),window.removeEventListener("gesturechange",function(e){return e.preventDefault()}),window.removeEventListener("gestureend",function(e){return e.preventDefault()}),this.viewerContainer.removeEventListener("gesturestart",this.handleMacGestureStart,!1),this.viewerContainer.removeEventListener("gesturechange",this.handleMacGestureChange,!1),this.viewerContainer.removeEventListener("gestureend",this.handleMacGestureEnd,!1)),this.viewerContainer.removeEventListener("mousemove",this.viewerContainerOnMousemove),this.viewerContainer.removeEventListener("mouseleave",this.viewerContainerOnMouseLeave),this.viewerContainer.removeEventListener("mouseenter",this.viewerContainerOnMouseEnter),this.viewerContainer.removeEventListener("mouseover",this.viewerContainerOnMouseOver),this.viewerContainer.removeEventListener("click",this.viewerContainerOnClick),this.viewerContainer.removeEventListener("dragstart",this.viewerContainerOnDragStart),this.viewerContainer.removeEventListener("contextmenu",this.viewerContainerOnContextMenuClick),this.pdfViewer.element.removeEventListener("keydown",this.viewerContainerOnKeyDown),window.addEventListener("keydown",this.onWindowKeyDown),window.removeEventListener("mouseup",this.onWindowMouseUp),window.removeEventListener("unload",this.unload),window.removeEventListener("resize",this.onWindowResize),-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Edge")||-1!==navigator.userAgent.indexOf("Trident")?(this.viewerContainer.removeEventListener("pointerdown",this.viewerContainerOnPointerDown),this.viewerContainer.removeEventListener("pointermove",this.viewerContainerOnPointerMove),this.viewerContainer.removeEventListener("pointerup",this.viewerContainerOnPointerEnd),this.viewerContainer.removeEventListener("pointerleave",this.viewerContainerOnPointerEnd)):(this.viewerContainer.removeEventListener("touchstart",this.viewerContainerOnTouchStart),this.isWebkitMobile&&this.isDeviceiOS&&this.viewerContainer.removeEventListener("touchmove",function(e){G.isNullOrUndefined(e.scale)||1===e.scale||e.preventDefault()},!1),this.viewerContainer.removeEventListener("touchmove",this.viewerContainerOnTouchMove),this.viewerContainer.removeEventListener("touchend",this.viewerContainerOnTouchEnd),this.viewerContainer.removeEventListener("touchleave",this.viewerContainerOnTouchEnd),this.viewerContainer.removeEventListener("touchcancel",this.viewerContainerOnTouchEnd)))},S.prototype.updateZoomValue=function(){this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.isAutoZoom?this.pdfViewer.magnificationModule.fitToAuto():"FitToWidth"!==this.pdfViewer.zoomMode&&"fitToWidth"===this.pdfViewer.magnificationModule.fitType?this.pdfViewer.magnificationModule.fitToWidth():"FitToPage"!==this.pdfViewer.zoomMode&&"fitToPage"===this.pdfViewer.magnificationModule.fitType&&this.pdfViewer.magnificationModule.fitToPage());for(var e=0;e<this.pageCount;e++)this.applyLeftPosition(e)},S.prototype.updateFreeTextProperties=function(e){this.pdfViewer.enableShapeLabel&&(this.pdfViewer.shapeLabelSettings.fillColor&&(e.labelFillColor=this.pdfViewer.shapeLabelSettings.fillColor),this.pdfViewer.shapeLabelSettings.fontColor&&(e.fontColor=this.pdfViewer.shapeLabelSettings.fontColor),this.pdfViewer.shapeLabelSettings.fontSize&&(e.fontSize=this.pdfViewer.shapeLabelSettings.fontSize),this.pdfViewer.shapeLabelSettings.fontFamily&&(e.fontFamily=this.pdfViewer.shapeLabelSettings.fontFamily),this.pdfViewer.shapeLabelSettings.opacity&&(e.labelOpacity=this.pdfViewer.shapeLabelSettings.opacity),this.pdfViewer.shapeLabelSettings.labelContent)&&(e.labelContent=this.pdfViewer.shapeLabelSettings.labelContent)},S.prototype.mouseDownHandler=function(e){var t,i=!1,n=[],o=[],i=(e&&e.target&&(this.mouseDownEvent=e,this.contextMenuModule.currentTarget=e.target),(i=this.pdfViewer.annotationModule?this.pdfViewer.annotationModule.isEnableDelete():i)||o.push("DeleteContext"),"None"!==this.pdfViewer.contextMenuOption&&(this.pdfViewer.textSelectionModule||this.isShapeBasedAnnotationsEnabled())?(e?(i=this.isClickWithinSelectionBounds(e),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus?(this.isFreeTextContextMenu=!0,this.pdfViewer.annotation.freeTextAnnotationModule&&!this.pdfViewer.annotation.freeTextAnnotationModule.isTextSelected&&(o.push("Cut"),o.push("Copy")),this.pdfViewer.annotation.freeTextAnnotationModule&&""===this.pdfViewer.annotation.freeTextAnnotationModule.selectedText&&o.push("Paste"),n.push("HighlightContext"),n.push("UnderlineContext"),n.push("StrikethroughContext"),n.push("ScaleRatio"),n.push("Properties"),n.push("Comment"),n.push("DeleteContext")):i&&this.pdfViewer.textSelectionModule?(!e.target.classList.contains("e-pv-maintaincontent")&&e.target.classList.contains("e-pv-text")||e.target.classList.contains("e-pv-text-layer")?this.checkIsNormalText()&&(t=!0):(G.Browser.isIE||"edge"===G.Browser.info.name)&&e.target.classList.contains("e-pv-page-container")&&(t=!0),n.push("Cut"),n.push("Paste"),n.push("DeleteContext"),n.push("ScaleRatio"),n.push("Comment"),n.push("Properties")):0===this.pdfViewer.selectedItems.annotations.length||"HandWrittenSignature"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureText"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureImage"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?0!==this.pdfViewer.selectedItems.annotations.length&&"Path"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?this.shapeMenuItems(n,o,!0):this.pdfViewer.annotation&&this.pdfViewer.annotation.isShapeCopied&&(e.target.classList.contains("e-pv-text-layer")||e.target.classList.contains("e-pv-text"))&&!this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?(n.push("Properties"),this.shapeMenuItems(n,o,!1)):this.isCalibrateAnnotationModule()&&this.pdfViewer.annotationModule.measureAnnotationModule.currentAnnotationMode?(n.push("HighlightContext"),n.push("UnderlineContext"),n.push("StrikethroughContext"),n.push("Properties"),o.push("Cut"),o.push("Copy"),o.push("Paste"),o.push("DeleteContext"),o.push("Comment")):this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?(n.push("HighlightContext"),n.push("UnderlineContext"),n.push("StrikethroughContext"),n.push("Properties"),n.push("Cut"),n.push("Copy"),n.push("Paste"),n.push("ScaleRatio")):t=!0:this.shapeMenuItems(n,o,!1,!0)):this.pdfViewer.textSelectionModule&&"MouseUp"===this.pdfViewer.contextMenuOption?(n.push("Cut"),n.push("Paste"),n.push("DeleteContext"),n.push("ScaleRatio"),n.push("Comment"),n.push("Properties")):0===this.pdfViewer.selectedItems.annotations.length&&(n.push("Cut"),n.push("Paste"),n.push("DeleteContext"),n.push("ScaleRatio"),n.push("Properties")),this.pdfViewer.enableCommentPanel||o.push("Comment")):t=!0,{hidenItems:n,disabledItems:o,isCancel:t});this.pdfViewer._dotnetInstance.invokeMethodAsync("MouseDownHandler",i)},S.prototype.OnItemSelected=function(e){var t=this.contextMenuModule.currentTarget,i=document.getElementById(this.pdfViewer.element.id+"_commantPanel"),n=!(!i||"block"!==i.style.display);switch(e){case this.pdfViewer.localeObj.getConstant("Copy"):this.CopyItemSelected();break;case this.pdfViewer.localeObj.getConstant("Highlight context"):this.TextMarkUpSelected("Highlight"),n||this.focusViewerContainer();break;case this.pdfViewer.localeObj.getConstant("Underline context"):this.TextMarkUpSelected("Underline"),n||this.focusViewerContainer();break;case this.pdfViewer.localeObj.getConstant("Strikethrough context"):this.TextMarkUpSelected("Strikethrough"),n||this.focusViewerContainer();break;case this.pdfViewer.localeObj.getConstant("Properties"):this.PropertiesItemSelected();break;case this.pdfViewer.localeObj.getConstant("Cut"):this.CutItemSelected(t),this.focusViewerContainer();break;case this.pdfViewer.localeObj.getConstant("Paste"):this.pasteItemSelected(t);break;case this.pdfViewer.localeObj.getConstant("Delete Context"):this.DeleteItemSelected(),this.focusViewerContainer();break;case this.pdfViewer.localeObj.getConstant("Scale Ratio"):this.ScaleRatioSelected();break;case this.pdfViewer.localeObj.getConstant("Comment"):this.CommentItemSelected()}},S.prototype.CommentItemSelected=function(){var e,t;this.pdfViewer.annotation&&(this.pdfViewer.annotation.showCommentsPanel(),0===this.pdfViewer.selectedItems.annotations.length&&!this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation||(e=void 0,e=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation||this.pdfViewer.selectedItems.annotations[0],(t=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+this.pdfViewer.currentPageNumber))&&t.ej2_instances[0].expandItem(!0),(t=document.getElementById(e.annotName))&&!t.classList.contains("e-pv-comments-border")&&t.firstChild.click()))},S.prototype.ScaleRatioSelected=function(){this.isCalibrateAnnotationModule()&&this.pdfViewer.annotation.measureAnnotationModule.createScaleRatioWindow()},S.prototype.DeleteItemSelected=function(){this.pdfViewer.formDesignerModule&&0!==this.pdfViewer.selectedItems.formFields.length?this.pdfViewer.formDesignerModule.deleteFormField(this.pdfViewer.selectedItems.formFields[0].id):this.pdfViewer.annotation&&this.pdfViewer.annotation.deleteAnnotation()},S.prototype.pasteItemSelected=function(e){this.isFreeTextContextMenu||this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus&&e&&"free-text-input"===e.className&&"TEXTAREA"===e.tagName?(this.pdfViewer.annotation.freeTextAnnotationModule.pasteSelectedText(e),this.contextMenuModule.close()):(this.pdfViewer.paste(),this.contextMenuModule.previousAction="Paste")},S.prototype.CutItemSelected=function(e){this.isFreeTextContextMenu||this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus&&e&&"free-text-input"===e.className&&"TEXTAREA"===e.tagName?(this.pdfViewer.annotation.freeTextAnnotationModule.cutSelectedText(e),this.contextMenuModule.close()):1===this.pdfViewer.selectedItems.annotations.length?(this.pdfViewer.selectedItems.annotations[0].pageIndex,this.pdfViewer.cut(),this.contextMenuModule.previousAction="Cut"):1===this.pdfViewer.selectedItems.formFields.length&&(this.pdfViewer.cut(),this.contextMenuModule.previousAction="Cut")},S.prototype.CopyItemSelected=function(){var e=!1;this.isFreeTextContextMenu||this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus?(this.pdfViewer.annotation.freeTextAnnotationModule.copySelectedText(),this.contextMenuModule.close(),e=!0):this.pdfViewer.textSelectionModule&&(this.pdfViewer.textSelectionModule.copyText(),this.contextMenuModule.close()),(this.pdfViewer.selectedItems.annotations.length&&!e||0<this.pdfViewer.selectedItems.formFields.length)&&(this.pdfViewer.copy(),this.contextMenuModule.previousAction="Copy")},S.prototype.PropertiesItemSelected=function(){0===this.pdfViewer.selectedItems.annotations.length||"Line"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"LineWidthArrowHead"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Distance"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?0!==this.pdfViewer.selectedItems.formFields.length&&this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&this.pdfViewer.formDesigner.createPropertiesWindow():this.pdfViewer.annotation.createPropertiesWindow()},S.prototype.TextMarkUpSelected=function(e){this.pdfViewer.annotation&&this.pdfViewer.annotation.textMarkupAnnotationModule&&(this.pdfViewer.annotation.textMarkupAnnotationModule.isSelectionMaintained=!1,this.pdfViewer.annotation.textMarkupAnnotationModule.drawTextMarkupAnnotations(e),this.pdfViewer.annotation.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1,this.pdfViewer.annotation.textMarkupAnnotationModule.currentTextMarkupAddMode="",this.pdfViewer.annotation.textMarkupAnnotationModule.isSelectionMaintained=!0)},S.prototype.shapeMenuItems=function(e,t,i,n){this.pdfViewer.annotation&&!this.pdfViewer.annotation.isShapeCopied&&t.push("Paste"),e.push("HighlightContext"),e.push("UnderlineContext"),e.push("StrikethroughContext"),e.push("ScaleRatio"),i?"Line"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"LineWidthArrowHead"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Distance"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&e.push("Properties"):(n?e.push("Properties"):(e.push("Cut"),e.push("Copy"),e.push("DeleteContext")),e.push("Comment"))},S.prototype.checkIsRtlText=function(e){return new RegExp("^[^A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF\\u2C00-\\uFB1C\\uFDFE-\\uFE6F\\uFEFD-\\uFFFF]*[\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC]").test(e)},S.prototype.isClickWithinSelectionBounds=function(e){var t,i=!1,n=this.currentPageNumber-5<0?0:this.currentPageNumber-5,o=this.currentPageNumber-5>this.pageCount?this.pageCount:this.currentPageNumber+5;if(this.pdfViewer.textSelectionModule){for(var r=n;r<o;r++)if(0<=r&&(t=this.pdfViewer.textSelectionModule.getCurrentSelectionBounds(r))){var a=t;if(this.getHorizontalValue(a.left,r)<e.clientX&&this.getHorizontalValue(a.right,r)>e.clientX&&this.getVerticalValue(a.top,r)<e.clientY&&this.getVerticalValue(a.bottom,r)>e.clientY||1===this.pdfViewer.textSelectionModule.selectionRangeArray[0].rectangleBounds.length&&0!==e.clientX&&!this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode){i=!0;break}}(G.Browser.isDevice&&this.pdfViewer.textSelectionModule.selectionRangeArray&&1===this.pdfViewer.textSelectionModule.selectionRangeArray.length||(G.Browser.isIE||"edge"===G.Browser.info.name)&&t||this.pdfViewer.textSelectionModule.isTouchSelection)&&0<this.pdfViewer.textSelectionModule.selectionRangeArray.length&&!this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation&&(i=!0)}return i},S.prototype.getHorizontalClientValue=function(e){return e-this.getElement("_pageDiv_"+(this.currentPageNumber-1)).getBoundingClientRect().left},S.prototype.getVerticalClientValue=function(e){return e-this.getElement("_pageDiv_"+(this.currentPageNumber-1)).getBoundingClientRect().top},S.prototype.getHorizontalValue=function(e,t){t=this.getElement("_pageDiv_"+(t||this.currentPageNumber-1)).getBoundingClientRect();return e*this.getZoomFactor()+t.left},S.prototype.getVerticalValue=function(e,t){t=this.getElement("_pageDiv_"+(t||this.currentPageNumber-1)).getBoundingClientRect();return e*this.getZoomFactor()+t.top},S.prototype.checkIsNormalText=function(){var e=!0,t="",i=this.pdfViewer.textSelectionModule;return i&&i.selectionRangeArray&&1===i.selectionRangeArray.length?t=i.selectionRangeArray[0].textContent:window.getSelection()&&window.getSelection().anchorNode&&(t=window.getSelection().toString()),e=""!==t&&this.checkIsRtlText(t)?!1:e},S.prototype.isTextSearchBoxOpen=function(){var e,t=document.getElementById(this.pdfViewer.element.id+"_search_box");return e=t?"none"!==t.style.display:e},S.prototype.isTargetClassNameValid=function(e){return"e-pv-formfield-input"!==e.target.className&&"e-pv-formfield-textarea"!==e.target.className&&"e-pv-properties-name-edit-input e-input e-lib e-textbox e-control"!==e.target.className&&"e-pv-properties-value-input e-input e-lib e-textbox e-control"!==e.target.className&&e.target.id!==this.pdfViewer.element.id+"_search_input"&&"e-input-group e-pv-search-input e-input-focus"!==e.target.className&&"e-pdfviewer-formFields"!==e.target.className},S.prototype.DeleteKeyPressed=function(e){var t,i,n=document.getElementById(this.pdfViewer.element.id+"_search_box");n&&(t="none"!==n.style.display),this.pdfViewer.formDesignerModule&&!this.pdfViewer.formDesigner.isPropertyDialogOpen&&this.pdfViewer.designerMode&&0!==this.pdfViewer.selectedItems.formFields.length&&!t?this.pdfViewer.formDesignerModule.deleteFormField(this.pdfViewer.selectedItems.formFields[0].id):this.pdfViewer.annotation&&!this.pdfViewer.designerMode&&e.srcElement.parentElement.classList&&!e.srcElement.parentElement.classList.contains("e-input-focus")&&(!this.isTextMarkupAnnotationModule()||this.getPopupNoteVisibleStatus()||t||this.pdfViewer.annotationModule.deleteAnnotation(),0<this.pdfViewer.selectedItems.annotations.length)&&(n=!0,"Path"!==(i=(t=this.pdfViewer.selectedItems.annotations[0]).shapeAnnotationType)&&"SignatureField"!==t.formFieldAnnotationType&&"InitialField"!==t.formFieldAnnotationType&&"HandWrittenSignature"!==i&&"SignatureText"!==i&&"SignatureImage"!==i||(i=document.getElementById(t.id))&&i.disabled&&(n=!0),n||t.annotationSettings&&t.annotationSettings.isLock&&!this.pdfViewer.annotationModule.checkAllowedInteractions("Delete",t)||(this.pdfViewer.remove(t),this.pdfViewer.renderSelector(this.pdfViewer.annotation.getEventPageNumber(e))))},S.prototype.initiatePanning=function(){this.isPanMode=!0,this.textLayer.modifyTextCursor(!1),this.disableTextSelectionMode(),this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule&&this.pdfViewer.toolbar.annotationToolbarModule.deselectAllItems()},S.prototype.initiateTextSelectMode=function(){this.isPanMode=!1,this.viewerContainer&&(this.viewerContainer.style.cursor="auto",this.pdfViewer.textSelectionModule&&(this.textLayer.modifyTextCursor(!0),this.pdfViewer.textSelectionModule.enableTextSelectionMode()),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||G.isBlazor()||this.enableAnnotationAddTools(!0))},S.prototype.initiateTextSelection=function(){this.pdfViewer.toolbar&&!this.pdfViewer.toolbar.isSelectionToolDisabled&&(this.initiateTextSelectMode(),this.pdfViewer.toolbar.updateInteractionTools(!0))},S.prototype.enableAnnotationAddTools=function(e){this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.enableAnnotationAddTools(e)},S.prototype.applySelection=function(){null!==window.getSelection().anchorNode&&this.pdfViewer.textSelectionModule.applySpanForSelection(),this.isViewerContainerDoubleClick=!1},S.prototype.isDesignerMode=function(e){var t=!1;return(0!==this.pdfViewer.selectedItems.annotations.length&&("HandWrittenSignature"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureImage"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType)||0!==this.pdfViewer.selectedItems.annotations.length&&"Path"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||0!==this.pdfViewer.selectedItems.formFields.length&&this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&this.pdfViewer.designerMode||this.pdfViewer.annotation&&this.pdfViewer.annotation.isShapeCopied&&(e.classList.contains("e-pv-text-layer")||e.classList.contains("e-pv-text"))&&!this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation||this.pdfViewer.formDesigner&&this.pdfViewer.formDesigner.isShapeCopied&&(e.classList.contains("e-pv-text-layer")||e.classList.contains("e-pv-text")))&&(t=!0),this.designerModetarget=e,t},S.prototype.handleTaps=function(e,t){var i,n=this;this.isDeviceiOS?(t=yt(t,this,this.pdfViewer),i=!G.isNullOrUndefined(this.pdfViewer.annotation)&&!G.isNullOrUndefined(this.pdfViewer.annotation.freeTextAnnotationModule)&&!this.pdfViewer.annotation.freeTextAnnotationModule.isNewFreeTextAnnot&&(!t||!this.pdfViewer.selectedItems.annotations[0]||t.id!==this.pdfViewer.selectedItems.annotations[0].id)&&document.activeElement.classList.contains("free-text-input")&&this.isFreeTextAnnotation(this.pdfViewer.selectedItems.annotations),this.singleTapTimer?this.pdfViewer.enablePinchZoom&&(this.tapCount++,2<this.tapCount&&(this.tapCount=2),clearTimeout(this.singleTapTimer),this.singleTapTimer=null,this.onDoubleTap(e)):(this.singleTapTimer=setTimeout(function(){!i||G.isNullOrUndefined(n.pdfViewer.selectedItems)||G.isNullOrUndefined(n.pdfViewer.selectedItems.annotations[0])||(n.pdfViewer.clearSelection(n.pdfViewer.selectedItems.annotations[0].pageIndex),n.focusViewerContainer(!0)),n.onSingleTap(e)},300),this.tapCount++)):this.singleTapTimer?this.pdfViewer.enablePinchZoom&&(this.tapCount++,2<this.tapCount&&(this.tapCount=2),clearTimeout(this.singleTapTimer),this.singleTapTimer=null,this.onDoubleTap(e)):(this.singleTapTimer=setTimeout(function(){n.onSingleTap(e)},300),this.tapCount++)},S.prototype.handleTextBoxTaps=function(e){var t=this;setTimeout(function(){t.inputTapCount=0},300),this.inputTapCount++,this.isDeviceiOS?this.onTextBoxDoubleTap(e):setTimeout(function(){t.onTextBoxDoubleTap(e)},200),2<this.inputTapCount&&(this.inputTapCount=0)},S.prototype.onTextBoxDoubleTap=function(e){var t;e[0].target;2===this.inputTapCount&&0!==this.pdfViewer.selectedItems.annotations.length&&(this.pdfViewer.annotationModule&&(e=this.pdfViewer.selectedItems.annotations[0],this.isDeviceiOS&&document.activeElement.classList.contains("free-text-input")&&this.isFreeTextAnnotation(this.pdfViewer.selectedItems.annotations)&&this.focusViewerContainer(!0),this.pdfViewer.annotationModule.annotationSelect(e.annotName,e.pageIndex,e,null,!0)),this.isFreeTextAnnotation(this.pdfViewer.selectedItems.annotations)&&!this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus?((t={}).x=this.pdfViewer.selectedItems.annotations[0].bounds.x,e=void(t.y=this.pdfViewer.selectedItems.annotations[0].bounds.y),e="diagram_helper"===this.pdfViewer.selectedItems.annotations[0].id?this.pdfViewer.nameTable[this.eventArgs.source.id]:this.pdfViewer.selectedItems.annotations[0],this.pdfViewer.annotation.freeTextAnnotationModule.addInuptElemet(t,e)):this.pdfViewer.selectedItems.annotations[0]&&this.pdfViewer.selectedItems.annotations[0].enableShapeLabel&&!this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus&&((t={}).x=this.pdfViewer.selectedItems.annotations[0].bounds.x,t.y=this.pdfViewer.selectedItems.annotations[0].bounds.y,this.pdfViewer.annotation.inputElementModule.editLabel(t,this.pdfViewer.selectedItems.annotations[0])))},S.prototype.onSingleTap=function(e){var t=e[0].target,i=!1;this.singleTapTimer=null,t&&(t.classList.contains("e-pdfviewer-formFields")||t.classList.contains("e-pdfviewer-ListBox")||t.classList.contains("e-pdfviewer-signatureformfields"))&&(i=!0),this.isLongTouchPropagated||this.navigationPane.isNavigationToolbarVisible||i||this.pdfViewer.toolbarModule&&(this.touchClientX>=e[0].clientX-10&&this.touchClientX<=e[0].clientX+10&&this.touchClientY>=e[0].clientY-10&&this.touchClientY<=e[0].clientY+10&&(this.isTapHidden?G.isBlazor()&&(this.viewerContainer.scrollTop+=this.pdfViewer.element.querySelector(".e-pv-mobile-toolbar").clientHeight*this.getZoomFactor()):(G.isBlazor()&&(this.viewerContainer.scrollTop-=this.pdfViewer.element.querySelector(".e-pv-mobile-toolbar").clientHeight*this.getZoomFactor()),this.pdfViewer.toolbar.moreDropDown&&(t=this.getElement("_more_option-popup")).firstElementChild&&(t.classList.remove("e-popup-open"),t.classList.add("e-popup-close"),t.removeChild(t.firstElementChild))),this.isTapHidden&&G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?(this.mobileScrollerContainer.style.display="",this.updateMobileScrollerPosition()):G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&null==this.getSelectTextMarkupCurrentPage()&&(this.mobileScrollerContainer.style.display="none"),null==this.getSelectTextMarkupCurrentPage())&&(G.isBlazor()?this.blazorUIAdaptor.tapOnMobileDevice(this.isTapHidden):this.pdfViewer.enableToolbar&&this.pdfViewer.toolbarModule.showToolbar(!0),this.isTapHidden=!this.isTapHidden),this.tapCount=0)},S.prototype.onDoubleTap=function(e){var t=e[0].target,i=!1;t&&(t.classList.contains("e-pdfviewer-formFields")||t.classList.contains("e-pdfviewer-ListBox")||t.classList.contains("e-pdfviewer-signatureformfields"))&&(i=!0),2!==this.tapCount||i||(this.tapCount=0,this.touchClientX>=parseInt((e[0].clientX-10).toString(),10)&&this.touchClientX<=e[0].clientX+10&&this.touchClientY>=e[0].clientY-10&&this.touchClientY<=e[0].clientY+30&&(this.pdfViewer.magnification&&1!==this.pdfViewer.selectedItems.annotations.length&&this.pdfViewer.magnification.onDoubleTapMagnification(),this.viewerContainer.style.height=this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height,this.toolbarHeight),this.isTapHidden=!1,clearTimeout(this.singleTapTimer),this.singleTapTimer=null))},S.prototype.preventTouchEvent=function(e){!this.pdfViewer.textSelectionModule||this.isPanMode||!this.pdfViewer.enableTextSelection||this.isTextSelectionDisabled||null!=this.getSelectTextMarkupCurrentPage()||this.isWebkitMobile&&G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(e.preventDefault(),e.stopPropagation())},S.prototype.renderStampAnnotation=function(e){var t,i,n,o,r,a;this.pdfViewer.annotation&&(t=this.getZoomFactor(),i=this.pdfViewer.annotation.getEventPageNumber(e),n=this.getElement("_pageDiv_"+i),this.pdfViewer.enableStampAnnotations&&((o=this.pdfViewer.annotationModule.stampAnnotationModule)&&o.isStampAnnotSelected&&n&&(a=n.getBoundingClientRect(),"touchend"===e.type&&"Image"===this.pdfViewer.annotationModule.stampAnnotationModule.currentStampAnnotation.shapeAnnotationType?((r=this.pdfViewer.annotationModule.stampAnnotationModule.currentStampAnnotation).pageIndex=i,r.bounds.x=(e.changedTouches[0].clientX-a.left)/t,r.bounds.y=(e.changedTouches[0].clientY-a.top)/t,o.updateDeleteItems(i,r,r.opacity),this.pdfViewer.add(r),r=this.getAnnotationCanvas("_annotationCanvas_",i),this.pdfViewer.renderDrawing(r,i)):o.renderStamp((e.changedTouches[0].clientX-a.left)/t,(e.changedTouches[0].clientY-a.top)/t,null,null,i,null,null,null,null),o.isStampAnnotSelected=!1),this.pdfViewer.annotation.onAnnotationMouseDown()),this.pdfViewer.enableHandwrittenSignature&&this.isSignatureAdded&&n&&(a=n.getBoundingClientRect(),this.currentSignatureAnnot.pageIndex=i,this.signatureModule.renderSignature((e.changedTouches[0].clientX-a.left)/t,(e.changedTouches[0].clientY-a.top)/t),this.isSignatureAdded=!1),1===e.touches.length)&&this.isTextMarkupAnnotationModule()&&!this.getPopupNoteVisibleStatus()&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationTouchEnd(e)},S.prototype.focusOnViewerContainer=function(){var e=document.activeElement;return document.querySelector(".e-pv-viewer-container").contains(e)},S.prototype.initPageDiv=function(e){if(G.isBlazor()||this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.updateTotalPage(),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.mobiletotalPageContainer&&(this.mobiletotalPageContainer.innerHTML=this.pageCount.toString(),this.pageNoContainer.innerHTML="(1-"+this.pageCount.toString()+")"),0<this.pageCount){for(var t=0,i=0,n=(this.isMixedSizeDocument=!1,100<this.pageCount?this.pageLimit=i=100:i=this.pageCount,!1),o=!1,r=!1,a=0;a<i;a++){l="object"!=typeof e.pageSizes[parseInt(a.toString(),10)]?(l=e.pageSizes[parseInt(a.toString(),10)].split(","),t=null!==e.pageSizes[a-1]&&0!==a?(s=e.pageSizes[a-1].split(","),this.pageGap+parseFloat(s[1])+t):this.pageGap,{width:parseFloat(l[0]),height:parseFloat(l[1]),top:t,rotation:!G.isNullOrUndefined(e.pageRotation)&&(!G.isNullOrUndefined(e.pageRotation.length)&&0<e.pageRotation.length||!G.isNullOrUndefined(Object.keys(e.pageRotation).length)&&0<Object.keys(e.pageRotation).length)?e.pageRotation[parseInt(a.toString(),10)]:0}):(t=null!==e.pageSizes[a-1]&&0!==a?(s=e.pageSizes[a-1],this.pageGap+(parseFloat(s.height)?parseFloat(s.height):parseFloat(s.Height))+t):this.pageGap,{width:e.pageSizes[parseInt(a.toString(),10)].width?e.pageSizes[parseInt(a.toString(),10)].width:e.pageSizes[parseInt(a.toString(),10)].Width,height:e.pageSizes[parseInt(a.toString(),10)].height?e.pageSizes[parseInt(a.toString(),10)].height:e.pageSizes[parseInt(a.toString(),10)].Height,top:t,rotation:!G.isNullOrUndefined(e.pageRotation)&&(!G.isNullOrUndefined(e.pageRotation.length)&&0<e.pageRotation.length||!G.isNullOrUndefined(Object.keys(e.pageRotation).length)&&0<Object.keys(e.pageRotation).length)?e.pageRotation[parseInt(a.toString(),10)]:0}),this.pageSize.push(l),this.pageSize[parseInt(a.toString(),10)].height>this.pageSize[parseInt(a.toString(),10)].width&&(n=!0),this.pageSize[parseInt(a.toString(),10)].width>this.pageSize[parseInt(a.toString(),10)].height&&(o=!0),0<a&&this.pageSize[parseInt(a.toString(),10)].width!==this.pageSize[a-1].width&&(r=!0);var s,l,A=this.pageSize[parseInt(a.toString(),10)].width,A=(A>this.highestWidth&&(this.highestWidth=A),this.pageSize[parseInt(a.toString(),10)].height);A>this.highestHeight&&(this.highestHeight=A)}(n&&o||r)&&(this.isMixedSizeDocument=!0);for(var d=void 0,d=10<this.pdfViewer.initialRenderPages?100<this.pdfViewer.initialRenderPages?i:this.pdfViewer.initialRenderPages<=this.pageCount?this.pdfViewer.initialRenderPages:this.pageCount:this.pageCount<10?this.pageCount:10,a=0;a<d;a++)this.renderPageContainer(a,this.getPageWidth(a),this.getPageHeight(a),this.getPageTop(a));this.pageContainer.style.height=this.getPageTop(this.pageSize.length-1)+this.getPageHeight(this.pageSize.length-1)+"px",this.pageContainer.style.position="relative",100===this.pageLimit&&null===this.getElement("_pageDiv_"+this.pageLimit)&&this.pageLimit<this.pageCount&&Promise.all([this.renderPagesVirtually()])}},S.prototype.renderElementsVirtualScroll=function(e){var t=e+(this.pageStopValue<=200?4:2);t>this.pageCount&&(t=this.pageCount);for(var i=e-1;i<=t;i++)-1!==i&&this.renderPageElement(i);var n=e-3;n<0&&(n=0);for(i=e-1;n<=i;i--)-1!==i&&this.renderPageElement(i);for(var o,r,a,s,l,A=0;A<this.pageCount;A++)n<=A&&A<=t||(o=this.getElement("_pageDiv_"+A),r=this.getElement("_pageCanvas_"+A),a=this.getElement("_textLayer_"+A),s=this.pdfViewer.initialRenderPages>this.pageRenderCount?this.pdfViewer.initialRenderPages<=this.pageCount?this.pdfViewer.initialRenderPages-1:this.pageCount:-1,r&&s<A&&(r.onload=null,r.onerror=null,r.parentNode.removeChild(r),a&&(this.pdfViewer.textSelectionModule&&0!==a.childNodes.length&&!this.isTextSelectionDisabled&&this.pdfViewer.textSelectionModule.maintainSelectionOnScroll(A,!0),a.parentNode.removeChild(a)),-1!==(l=this.renderedPagesList.indexOf(A)))&&this.renderedPagesList.splice(l,1),o&&s<A&&(o.parentNode.removeChild(o),-1!==(l=this.renderedPagesList.indexOf(A)))&&this.renderedPagesList.splice(l,1));G.isBlazor()&&this.pdfViewer._dotnetInstance.invokeMethodAsync("UpdateCurrentPageNumber",this.currentPageNumber)},S.prototype.renderPageElement=function(e){var t=this.getElement("_pageDiv_"+e);null==this.getElement("_pageCanvas_"+e)&&null==t&&e<this.pageSize.length&&this.renderPageContainer(e,this.getPageWidth(e),this.getPageHeight(e),this.getPageTop(e))},S.prototype.renderPagesVirtually=function(){return cn(this,void 0,void 0,function(){var t,i=this;return gn(this,function(e){return t=this,setTimeout(function(){i.initiateRenderPagesVirtually(t)},500),[2]})})},S.prototype.initiateRenderPagesVirtually=function(i){var e,t={hashId:i.hashId,isClientsideLoading:this.clientSideRendering,isCompletePageSizeNotReceived:!0,action:"VirtualLoad",elementId:i.pdfViewer.element.id,uniqueId:i.documentId,password:i.passwordData};i.jsonDocumentId&&(t.documentId=i.jsonDocumentId),this.virtualLoadRequestHandler=new Bn(this.pdfViewer),this.virtualLoadRequestHandler.url=i.pdfViewer.serviceUrl+"/"+i.pdfViewer.serverActionSettings.load,this.virtualLoadRequestHandler.responseType="json",this.virtualLoadRequestHandler.mode=!0,this.clientSideRendering?(e=this.pdfViewer.pdfRendererModule.load(null,this.documentId,null,t),this.viritualload(JSON.parse(e),this)):this.virtualLoadRequestHandler.send(t),this.virtualLoadRequestHandler.onSuccess=function(e){var t=e.data;if(t&&"object"!=typeof t)try{t=JSON.parse(t)}catch(e){i.onControlError(500,t,"VirtualLoad")}if(t){for(;"object"!=typeof t;)t=JSON.parse(t);i.viritualload(t,i)}},this.virtualLoadRequestHandler.onFailure=function(e){i.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText)},this.virtualLoadRequestHandler.onError=function(e){i.openNotificationPopup(),i.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText)}},S.prototype.viritualload=function(e,t){if(t.documentId===e.uniqueId){t.pdfViewer.fireAjaxRequestSuccess("VirtualLoad",e);var i=e;if(t.pageSize[t.pageLimit-1]){for(var n,o,r=t.pageSize[t.pageLimit-1].top,a=t.pageLimit;a<t.pageCount;a++)o="object"!=typeof i.pageSizes[parseInt(a.toString(),10)]?(o=i.pageSizes[parseInt(a.toString(),10)].split(","),null!==t.pageSize[a-1]&&0!==a&&(n=t.pageSize[a-1].height,r=t.pageGap+parseFloat(n)+r),{width:parseFloat(o[0]),height:parseFloat(o[1]),top:r,rotation:!G.isNullOrUndefined(i.pageRotation)&&(!G.isNullOrUndefined(i.pageRotation.length)&&0<i.pageRotation.length||!G.isNullOrUndefined(Object.keys(i.pageRotation).length)&&0<Object.keys(i.pageRotation).length)?i.pageRotation[parseInt(a.toString(),10)]:0}):(null!==t.pageSize[a-1]&&0!==a&&(n=t.pageSize[a-1].height,r=t.pageGap+parseFloat(n)+r),{width:parseFloat(i.pageSizes[parseInt(a.toString(),10)].width)?parseFloat(i.pageSizes[parseInt(a.toString(),10)].width):parseFloat(i.pageSizes[parseInt(a.toString(),10)].Width),height:parseFloat(i.pageSizes[parseInt(a.toString(),10)].height)?parseFloat(i.pageSizes[parseInt(a.toString(),10)].height):parseFloat(i.pageSizes[parseInt(a.toString(),10)].Height),top:r,rotation:!G.isNullOrUndefined(i.pageRotation)&&(!G.isNullOrUndefined(i.pageRotation.length)&&0<i.pageRotation.length||!G.isNullOrUndefined(Object.keys(i.pageRotation).length)&&0<Object.keys(i.pageRotation).length)?i.pageRotation[parseInt(a.toString(),10)]:0}),t.pageSize.push(o);t.pageContainer.style.height=t.getPageTop(t.pageSize.length-1)+t.getPageHeight(t.pageSize.length-1)+"px";e=S.sessionStorageManager.getItem(t.documentId+"_pagedata");if(100<t.pageCount){if(100<this.pdfViewer.initialRenderPages)for(var s=this.pdfViewer.initialRenderPages<=t.pageCount?this.pdfViewer.initialRenderPages:t.pageCount,a=100;a<s;a++)t.renderPageContainer(a,t.getPageWidth(a),t.getPageHeight(a),t.getPageTop(a)),t.createRequestForRender(a);t.pdfViewer.fireDocumentLoad(e);e=t.pdfViewer.linkAnnotationModule;e&&e.linkAnnotation&&0<e.linkAnnotation.length&&0<e.linkPage.length&&e.renderDocumentLink(e.linkAnnotation,e.linkPage,e.annotationY,t.currentPageNumber-1)}}}},S.prototype.tileRenderPage=function(r,a){var s=this,l=null,l=this;if(r&&this.pageSize[parseInt(a.toString(),10)]){var e=this.getPageWidth(a),t=this.getPageHeight(a),A=this.getElement("_pageCanvas_"+a),d=this.getElement("_pageDiv_"+a),i=r.tileX||0,n=r.tileY||0,e=(d&&(d.style.width=e+"px",d.style.height=t+"px",d.style.background="#fff",d.style.top=this.getPageTop(a)+"px",this.pdfViewer.enableRtl?d.style.right=this.updateLeftPosition(a)+"px":d.style.left=this.updateLeftPosition(a)+"px"),A&&(A.style.background="#fff"),r.image),t=this.retrieveCurrentZoomFactor(),p=document.querySelectorAll('img[id*="'+l.pdfViewer.element.id+"_tileimg_"+a+'_"]');if(0===p.length&&(this.isReRenderRequired=!0),this.isReRenderRequired){r.zoomFactor&&(t=r.zoomFactor);var o,h,c,g,u=this.documentId+"_"+a+"_"+t+"_"+r.tileX+"_"+r.tileY,u=(this.tilerequestLists.push(u),r.transformationMatrix),f=r.width;e&&(o=r.tileX||0,h=r.tileY||0,c=G.isNullOrUndefined(r.scaleFactor)?1.5:r.scaleFactor,(g=document.getElementById(this.pdfViewer.element.id+"_tileimg_"+a+"_"+this.getZoomFactor()+"_"+o+"_"+h))||((g=new Image).id=this.pdfViewer.element.id+"_tileimg_"+a+"_"+this.getZoomFactor()+"_"+o+"_"+h,g.style.userSelect="none",d&&d.append(g)),d)&&(g.src=e,g.setAttribute("alt",""),g.onload=function(){var e;if(l.showPageLoadingIndicator(a,!1),l.tileRenderCount=l.tileRenderCount+1,0===o&&0===h&&0===a&&s.isDocumentLoaded&&(l.renderPDFInformations(),l.isInitialLoaded=!0,e=S.sessionStorageManager.getItem(l.documentId+"_pagedata"),l.pageCount<=100&&l.pdfViewer.fireDocumentLoad(e),l.isDocumentLoaded=!1,!l.pdfViewer.textSearch||(!l.clientSideRendering||l.pdfViewer.thumbnailViewModule||l.pdfViewer.pageOrganizer)&&l.clientSideRendering||l.pdfViewer.textSearchModule.getPDFDocumentTexts()),l.tileRenderCount===l.tileRequestCount&&r.uniqueId===l.documentId){l.isTextMarkupAnnotationModule()&&l.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotations(a),A&&(A.style.display="none",A.src="#");for(var t=document.querySelectorAll('img[id*="'+l.pdfViewer.element.id+'_oldCanvas"]'),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].onload=null,t[parseInt(i.toString(),10)].onerror=null,d.removeChild(t[parseInt(i.toString(),10)]);l.isTileImageRendered=!1,l.tileRenderCount=0,l.pdfViewer.magnificationModule&&l.pdfViewer.magnificationModule.rerenderCountIncrement(),l.isDrawnCompletely=!0,l.pdfViewer.firePageRenderComplete(r)}g.setAttribute("alt","Page "+(a+1))},e=f*this.getZoomFactor()/t/c,u=(f=u?u.Elements||u.Values:[1,0,0,1,1,1])[5]*this.getZoomFactor()/t/c,f=f[4]*this.getZoomFactor()/t/c,g.width=e,g.style.width=e+"px",g.style.top=u+"px",g.style.left=f+"px",g.style.position="absolute"),0===i&&0===n&&this.onPageRender(r,a,d)}else{for(var m=this,w=0;w<p.length;w++)!function(e){var n,t=p[parseInt(e.toString(),10)].id.split("_"),i=l.retrieveCurrentZoomFactor(),o=void 0;(o=m.clientSideRendering?JSON.parse(l.getStoredTileImageDetails(a,parseFloat(t[t.length-2]),parseFloat(t[t.length-1]),i)):JSON.parse(l.getWindowSessionStorageTile(a,parseFloat(t[t.length-2]),parseFloat(t[t.length-1]),i)))&&o.zoomFactor&&o.zoomFactor,parseFloat(t[t.length-4])===a&&(n=p[parseInt(e.toString(),10)]).nodeType===Node.ELEMENT_NODE&&(n.onload=function(){var e;if(l.showPageLoadingIndicator(a,!1),l.tileRenderCount=l.tileRenderCount+1,0===B&&0===C&&0===a&&s.isDocumentLoaded&&(s.renderPDFInformations(),s.isInitialLoaded=!0,e=S.sessionStorageManager.getItem(l.documentId+"_pagedata"),l.pageCount<=100&&l.pdfViewer.fireDocumentLoad(e),l.isDocumentLoaded=!1,!l.pdfViewer.textSearch||(!l.clientSideRendering||l.pdfViewer.thumbnailViewModule||l.pdfViewer.pageOrganizer)&&l.clientSideRendering||l.pdfViewer.textSearchModule.getPDFDocumentTexts()),l.tileRenderCount===l.tileRequestCount&&r.uniqueId===l.documentId){A.style.display="none",A.src="#",l.isTextMarkupAnnotationModule()&&l.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotations(a);for(var t=document.querySelectorAll('img[id*="'+l.pdfViewer.element.id+'_oldCanvas"]'),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].onload=null,t[parseInt(i.toString(),10)].onerror=null,d.removeChild(t[parseInt(i.toString(),10)]);l.isTileImageRendered=!1,l.tileRenderCount=0,l.pdfViewer.magnificationModule&&l.pdfViewer.magnificationModule.rerenderCountIncrement(),l.isDrawnCompletely=!0,l.pdfViewer.firePageRenderComplete(r)}n.setAttribute("alt","Page "+(a+1))},o)&&(n.src=o.image)}(w);var B=r.tileX||0,C=r.tileY||0;0===B&&0===C&&this.onPageRender(r,a,d)}}},S.prototype.renderTileCanvas=function(e,t,i,n,o,r){var a=this.getElement("_pageTileCanvas_"+i);return a||((a=G.createElement("canvas",{id:this.pdfViewer.element.id+"_pageTileCanvas_"+i,className:"e-pv-pageTile-canvas"})).style.width=e+"px",a.style.height=t+"px",a.style.display="none",a.style.backgroundColor="#fff",this.isMixedSizeDocument&&0<this.highestWidth&&(a.style.marginLeft="auto",a.style.marginRight="auto"),n.appendChild(a)),a},S.prototype.calculateImageWidth=function(e,t,i,n){e=e/this.getZoomFactor()*t*i;return n=(n=parseInt(n.toString(),10)===parseInt(e.toString(),10)?e:n)*this.getZoomFactor()/t},S.prototype.renderPage=function(e,a,t){var i,s,l,n,A=this,d=this;e&&this.pageSize[parseInt(a.toString(),10)]&&(i=this.getPageWidth(a),n=this.getPageHeight(a),s=this.getElement("_pageCanvas_"+a),(l=this.getElement("_pageDiv_"+a))&&(l.style.width=i+"px",l.style.height=n+"px",l.style.top=this.getPageTop(a)+"px",this.pdfViewer.enableRtl?l.style.right=this.updateLeftPosition(a)+"px":l.style.left=this.updateLeftPosition(a)+"px"),s)&&(s.style.background="#fff",s.style.display="block",s.style.width=i+"px",s.style.height=n+"px",i<parseFloat(l.style.width)&&(l.style.boxShadow="none"),(n=this.renderThumbnailImages&&!this.clientSideRendering?t:e.image)&&(s.onload=function(){for(var e=document.querySelectorAll('img[id*="'+d.pdfViewer.element.id+'_tileimg_"]'),t=d.getElement("_pageDiv_"+a),i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)].id.split("_");parseFloat(n[n.length-3])!==d.getZoomFactor()&&(a!==parseInt(n[n.length-4],10)?(e[parseInt(i.toString(),10)].onload=null,e[parseInt(i.toString(),10)].onerror=null,d.getElement("_pageDiv_"+n[n.length-4])):(e[parseInt(i.toString(),10)].onload=null,e[parseInt(i.toString(),10)].onerror=null,t)).removeChild(e[parseInt(i.toString(),10)])}for(var o,r=document.querySelectorAll('img[id*="'+d.pdfViewer.element.id+'_oldCanvas"]'),i=0;i<r.length;i++)r[parseInt(i.toString(),10)].onload=null,r[parseInt(i.toString(),10)].onerror=null,l.removeChild(r[parseInt(i.toString(),10)]);A.pdfViewer.magnificationModule&&A.pdfViewer.magnificationModule.rerenderCountIncrement(),A.showPageLoadingIndicator(a,!1),0===a&&A.isDocumentLoaded&&(A.renderPDFInformations(),A.isInitialLoaded=!0,o=S.sessionStorageManager.getItem(A.documentId+"_pagedata"),A.pageCount<=100&&A.pdfViewer.fireDocumentLoad(o),A.isDocumentLoaded=!1,!A.pdfViewer.textSearch||(!A.clientSideRendering||A.pdfViewer.thumbnailViewModule||A.pdfViewer.pageOrganizer)&&A.clientSideRendering||A.pdfViewer.textSearchModule.getPDFDocumentTexts()),A.pdfViewer.magnificationModule&&A.pdfViewer.magnificationModule.pushImageObjects(s),s.setAttribute("alt","Page "+(a+1))},s.src=n),this.onPageRender(e,a,l))},S.prototype.updateAnnotationsAndState=function(e,t,i,n){return!!t&&(e.shapeAnnotation=t.shapeAnnotation,e.measureShapeAnnotation=t.measureShapeAnnotation,e.textMarkupAnnotation=t.textMarkupAnnotation,e.freeTextAnnotation=t.freeTextAnnotation,e.stampAnnotations=t.stampAnnotations,e.stickyNotesAnnotation=t.stickyNotesAnnotation,e.signatureInkAnnotation=t.signatureInkAnnotation,n.push(i),!0)},S.prototype.isNeedToRenderAnnotations=function(e,t){return new Set(e.map(function(e){return G.isNullOrUndefined(e.pageNumber)?e.pageIndex:e.pageNumber})).has(t)},S.prototype.isFormFieldsNeedtoRender=function(e,t){return e.some(function(e){return e.FormField.pageNumber===t+1})},S.prototype.onPageRender=function(e,t,i){var n=i&&i.getElementsByTagName("a"),i=!1,o=this.isNeedToRenderAnnotations(this.pdfViewer.annotationCollection,t),r=this.isNeedToRenderAnnotations(this.pdfViewer.signatureCollection,t),a=this.isFormFieldsNeedtoRender(this.formFieldCollection,t);if(n&&0!==n.length)for(var s=n.length-1;0<=s;s--)n[parseInt(s.toString(),10)].parentNode.removeChild(n[parseInt(s.toString(),10)]);if((this.pdfViewer.textSearchModule||this.pdfViewer.textSelectionModule||this.pdfViewer.annotationModule)&&this.renderTextContent(e,t),!this.pdfViewer.formFieldsModule||this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isFormFieldPageZoomed||(this.pdfViewer.viewerBase.existingFieldImport?this.pdfViewer.formFieldsModule.renderFormFields(t,!1):this.pdfViewer.formFieldsModule.renderFormFields(t,!0)),this.pdfViewer.accessibilityTagsModule&&this.pdfViewer.enableAccessibilityTags&&this.isTaggedPdf&&(this.accessibilityTagsCollection[t.toString()]?this.renderAccessibilityTags(t,this.accessibilityTagsCollection[t.toString()]):-1===this.pageRequestListForAccessibilityTags.indexOf(t)&&this.createRequestForAccessibilityTags(t)),this.pdfViewer.formDesignerModule&&!this.isDocumentLoaded&&this.pdfViewer.formDesignerModule.rerenderFormFields(t),!this.pdfViewer.formFieldsModule||this.isDocumentLoaded||this.pdfViewer.formDesignerModule||this.pdfViewer.formFieldsModule.renderFormFields(t,!1),this.pdfViewer.formDesignerModule&&this.isDocumentLoaded&&(!this.pdfViewer.magnificationModule||this.pdfViewer.magnificationModule.isFormFieldPageZoomed)&&this.pdfViewer.formFieldsModule&&(this.pdfViewer.formFieldsModule.renderFormFields(t,!1),this.pdfViewer.magnificationModule)&&(this.pdfViewer.magnificationModule.isFormFieldPageZoomed=!1),this.pdfViewer.enableHyperlink&&this.pdfViewer.linkAnnotationModule&&this.pdfViewer.linkAnnotationModule.renderHyperlinkContent(e,t),this.pdfViewer.textSelectionModule&&!this.isTextSelectionDisabled&&this.pdfViewer.textSelectionModule.applySelectionRangeOnScroll(t),this.documentAnnotationCollections){for(var l,A=!1,d=0;d<this.annotationRenderredList.length;d++)this.annotationRenderredList[parseInt(d.toString(),10)]===t&&(A=!0);(l=this.documentAnnotationCollections[parseInt(t.toString(),10)])&&!A&&(e.shapeAnnotation=l.shapeAnnotation,e.measureShapeAnnotation=l.measureShapeAnnotation,e.textMarkupAnnotation=l.textMarkupAnnotation,e.freeTextAnnotation=l.freeTextAnnotation,e.stampAnnotations=l.stampAnnotations,e.stickyNotesAnnotation=l.stickyNotesAnnotation,e.signatureAnnotation=l.signatureAnnotation,e.signatureInkAnnotation=l.signatureInkAnnotation,this.annotationRenderredList.push(t))}this.isImportAction&&(l=this.checkDocumentCollectionData(t),this.drawPageAnnotations(this.importedAnnotation[parseInt(t.toString(),10)],t),l)&&(e.shapeAnnotation=l.shapeAnnotation,e.measureShapeAnnotation=l.measureShapeAnnotation,e.textMarkupAnnotation=l.textMarkupAnnotation,e.freeTextAnnotation=l.freeTextAnnotation,e.stampAnnotations=l.stampAnnotations,e.stickyNotesAnnotation=l.stickyNotesAnnotation,e.signatureInkAnnotation=l.signatureInkAnnotation,this.annotationRenderredList.push(t),i=!0),this.isImportAction||(A=!1,(l=this.checkDocumentCollectionData(t))&&!A&&(i=this.updateAnnotationsAndState(e,l,t,this.annotationRenderredList)),this.pdfViewer.annotationModule&&(this.isTextMarkupAnnotationModule()||this.isShapeBasedAnnotationsEnabled())&&(this.isStampAnnotationModule()&&(l=e.stampAnnotations,i?this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotations(l,t,null,!0):this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotations(l,t)),i&&(0<e.shapeAnnotation.length||0<e.measureShapeAnnotation.length||0<e.textMarkupAnnotation.length||0<this.pdfViewer.signatureCollection.length&&r||0<this.formFieldCollection.length&&a)?this.pdfViewer.annotationModule.renderAnnotations(t,e.shapeAnnotation,e.measureShapeAnnotation,e.textMarkupAnnotation,null,!0):(!G.isNullOrUndefined(e.shapeAnnotation)&&0<e.shapeAnnotation.length||!G.isNullOrUndefined(e.measureShapeAnnotation)&&0<e.measureShapeAnnotation.length||!G.isNullOrUndefined(e.textMarkupAnnotation)&&0<e.textMarkupAnnotation.length||0<this.pdfViewer.annotationCollection.length&&o)&&this.pdfViewer.annotationModule.renderAnnotations(t,e.shapeAnnotation,e.measureShapeAnnotation,e.textMarkupAnnotation),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderStickyNotesAnnotations(e.stickyNotesAnnotation,t)),this.isFreeTextAnnotationModule()&&e.freeTextAnnotation&&0<e.freeTextAnnotation.length&&(i?this.pdfViewer.annotationModule.freeTextAnnotationModule.renderFreeTextAnnotations(e.freeTextAnnotation,t,!0):this.pdfViewer.annotationModule.freeTextAnnotationModule.renderFreeTextAnnotations(e.freeTextAnnotation,t)),this.isInkAnnotationModule()&&e&&e.signatureInkAnnotation&&0<e.signatureInkAnnotation.length&&(this.pdfViewer.isSignatureEditable||(e.signatureInkAnnotation=this.canUpdateSignCollection(e.signatureInkAnnotation)),e.signatureInkAnnotation)&&this.pdfViewer.annotationModule.inkAnnotationModule.renderExistingInkSignature(e.signatureInkAnnotation,t,i)),this.pdfViewer.formDesignerModule&&!this.pdfViewer.annotationModule&&this.pdfViewer.formDesignerModule.updateCanvas(t),this.pdfViewer.textSearchModule&&(this.pdfViewer.textSearchModule.isDocumentTextCollectionReady?this.pdfViewer.textSearchModule.isTextSearch&&0!==this.pdfViewer.textSearchModule.currentOccurrence?this.pdfViewer.textSearchModule.highlightOtherOccurrences(t):this.pdfViewer.textSearchModule.programaticalSearch||this.pdfViewer.textSearchModule.isFiltering||this.pdfViewer.textSearchModule.highlightAfterComplete():this.pdfViewer.textSearchModule.isTextSearchHandled&&0!==this.pdfViewer.textSearchModule.currentOccurrence?this.pdfViewer.textSearchModule.hightlightSearchedTexts(this.pdfViewer.textSearchModule.searchPageIndex,!0):this.pdfViewer.textSearchModule.programaticalSearch||this.pdfViewer.textSearchModule.isFiltering||this.pdfViewer.textSearchModule.hightlightSearchedTexts(void 0,!0,!0)),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.selectCommentsAnnotation(t),e&&e.signatureAnnotation&&0<e.signatureAnnotation.length&&this.signatureModule&&(this.pdfViewer.isSignatureEditable||(e.signatureAnnotation=this.canUpdateSignCollection(e.signatureAnnotation)),e.signatureAnnotation)&&this.signatureModule.renderExistingSignature(e.signatureAnnotation,t,!1),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.isAnnotationSelected&&this.pdfViewer.annotationModule.annotationPageIndex===t&&"image"!==this.pdfViewer.annotationModule.annotationType&&this.pdfViewer.annotationModule.selectAnnotationFromCodeBehind(),this.isLoadedFormFieldAdded=!1},S.prototype.removeInkFromAnnotCollection=function(e){for(var t=this.pdfViewer.annotationCollection,i=0;i<t.length;i++){var n,o=e.Bounds;"Ink"!==t[parseInt(i.toString(),10)].shapeAnnotationType&&"ink"!==t[parseInt(i.toString(),10)].shapeAnnotationType||(n=t[parseInt(i.toString(),10)].bounds,Math.round(o.X)===Math.round(n.x)&&Math.round(o.Y)===Math.round(n.y)&&Math.round(o.Width)===Math.round(n.width)&&Math.round(o.Height)===Math.round(n.height)&&this.pdfViewer.annotationCollection.splice(i,1))}},S.prototype.canReduse=function(e,t,i){return e===t?i:i-1},S.prototype.isBoundsAreEqual=function(e,t){return Math.round(t.X)===Math.round(e.X)&&Math.round(t.Y)===Math.round(e.Y)&&Math.round(t.Width)===Math.round(e.Width)&&Math.round(t.Height)===Math.round(e.Height)},S.prototype.removeAnnotFromDoc=function(e,t){var i=e.Bounds,e=this.documentAnnotationCollections[parseInt(e.PageNumber.toString(),10)],n=e.signatureInkAnnotation,o=e.signatureAnnotation,r=0!==n.length?n:o;if(0!==n.length&&o.length)for(var a=0;a<n.length;a++)this.isBoundsAreEqual(n[0].Bounds,i)||(r=o);for(var s=0;s<r.length;s++){var l=r.length,A=r[parseInt(s.toString(),10)].Bounds;this.isBoundsAreEqual(A,i)&&(this.removeInkFromAnnotCollection(r[parseInt(s.toString(),10)]),r.splice(s,1),s=this.canReduse(l,r.length,s),t=r)}return t},S.prototype.isGroupedSignatureFields=function(t){var e=this.pdfViewer.retrieveFormFields(),i=!1;return i=G.isNullOrUndefined(t)?i:1<e.filter(function(e){return e.name===t}).length},S.prototype.isSignatureWithInRect=function(e,t){e=e[0],t=t[0];var i=e.x+e.width,n=t.x+t.width,o=e.y+e.height,r=t.y+t.height;return e.x-10<=t.x&&n<=i+10&&e.y-10<=t.y&&r<=o+10},S.prototype.canvasRectArray=function(e){var t,i,n,o=[];return e&&(n=G.isNullOrUndefined(e.x)?G.isNullOrUndefined(e.X)?G.isNullOrUndefined(e.left)?e.Left:e.left:e.X:e.x,t=G.isNullOrUndefined(e.y)?G.isNullOrUndefined(e.Y)?G.isNullOrUndefined(e.top)?e.Top:e.top:e.Y:e.y,i=G.isNullOrUndefined(e.width)?e.Width:e.width,e=G.isNullOrUndefined(e.height)?e.Height:e.height,n=new J.Rect(n+10,t+10,i-10,e-10),o.push(n)),o},S.prototype.isFormFieldSignature=function(e,t){var i=t;if(!this.pdfViewer.isSignatureEditable)for(var n=this.pdfViewer.retrieveFormFields(),o=0;o<n.length;o++)if("SignatureField"===n[parseInt(o.toString(),10)].type||"InitialField"===n[parseInt(o.toString(),10)].type){var r=n[parseInt(o.toString(),10)].bounds,a=n[parseInt(o.toString(),10)].name;if(this.isSignatureWithInRect(this.canvasRectArray(r),this.canvasRectArray(e.Bounds))&&!this.isGroupedSignatureFields(a)){i=t?this.removeAnnotFromDoc(e,t):this.removeAnnotFromDoc(e);""===n[parseInt(o.toString(),10)].value&&(r=G.isNullOrUndefined(e.PageNumber)?e.pageNumber:e.PageNumber,-1===this.modifiedPageIndex.indexOf(r)&&this.modifiedPageIndex.push(r),n[parseInt(o.toString(),10)].value=e.PathData,n[parseInt(o.toString(),10)].signatureType="Draw",a={x:e.Bounds.X,y:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height},n[parseInt(o.toString(),10)].signatureBounds=a,this.pdfViewer.updateFormFieldsValue(n[parseInt(o.toString(),10)])),this.isInkAnnot=!0;break}}return i},S.prototype.canUpdateSignCollection=function(e){for(var t=0;t<e.length;t++){var i=e.length;e=this.isFormFieldSignature(e[parseInt(t.toString(),10)],e),t=this.canReduse(i,e.length,t)}return e},S.prototype.renderAnnotations=function(l,A,e){return cn(this,void 0,void 0,function(){var t,i,n,o,r,a,s;return gn(this,function(e){switch(e.label){case 0:if(t={},this.documentAnnotationCollections){for(i=!1,n=0;n<this.annotationRenderredList.length;n++)this.annotationRenderredList[parseInt(n.toString(),10)]===l&&(i=!0);(o=this.documentAnnotationCollections[parseInt(l.toString(),10)])&&!i&&(t.shapeAnnotation=o.shapeAnnotation,t.measureShapeAnnotation=o.measureShapeAnnotation,t.textMarkupAnnotation=o.textMarkupAnnotation,t.freeTextAnnotation=o.freeTextAnnotation,t.stampAnnotations=o.stampAnnotations,t.stickyNotesAnnotation=o.stickyNotesAnnotation,t.signatureAnnotation=o.signatureAnnotation,t.signatureInkAnnotation=o.signatureInkAnnotation,this.annotationRenderredList.push(l))}if(this.isAnnotationCollectionRemoved&&(t.shapeAnnotation=[],t.measureShapeAnnotation=[],t.textMarkupAnnotation=[],t.freeTextAnnotation=[],t.stampAnnotations=[],t.stickyNotesAnnotation=[],t.signatureInkAnnotation=[]),this.isImportAction){for(i=!1,n=0;n<this.annotationPageList.length;n++)this.annotationPageList[parseInt(n.toString(),10)]===l&&(i=!0);i||this.importedAnnotation&&(this.drawPageAnnotations(this.importedAnnotation,l,!0),this.annotationPageList[this.annotationPageList.length]=l)}if(o=[],r=A.annotationOrder,G.isNullOrUndefined(r))return[3,13];a=0,e.label=1;case 1:if(!(a<r.length))return[3,13];switch(this.isInkAnnot=!1,s=r[parseInt(a.toString(),10)].AnnotType?r[parseInt(a.toString(),10)].AnnotType:r[parseInt(a.toString(),10)].AnnotationType,o.push(r[parseInt(a.toString(),10)]),s){case"textMarkup":return[3,2];case"shape_measure":return[3,3];case"shape":return[3,4];case"sticky":return[3,5];case"stamp":return[3,6];case"Ink":return[3,8];case"Text Box":return[3,9]}return[3,10];case 2:return G.isNullOrUndefined(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||this.pdfViewer.annotationModule.textMarkupAnnotationModule.renderTextMarkupAnnotationsInPage(o,l,null,!0),[3,11];case 3:return this.pdfViewer.annotationModule.renderAnnotations(l,null,o,null,null,null,!0),[3,11];case 4:return this.pdfViewer.annotationModule.renderAnnotations(l,o,null,null,null,null,!0),[3,11];case 5:return this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderStickyNotesAnnotations(o,l),[3,11];case 6:return[4,this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotations(o,l,null,null,!0)];case 7:return e.sent(),[3,11];case 8:return this.pdfViewer.isSignatureEditable||this.isFormFieldSignature(o[0]),this.isInkAnnot||this.pdfViewer.annotationModule.inkAnnotationModule.renderExistingInkSignature(o,l,!1,!0),[3,11];case 9:return this.pdfViewer.annotationModule.freeTextAnnotationModule.renderFreeTextAnnotations(o,l,void 0,!0),[3,11];case 10:return[3,11];case 11:o=[],e.label=12;case 12:return a++,[3,1];case 13:return t&&t.signatureAnnotation&&(this.pdfViewer.isSignatureEditable||(t.signatureAnnotation=this.canUpdateSignCollection(t.signatureAnnotation)),t.signatureAnnotation)&&this.signatureModule.renderExistingSignature(t.signatureAnnotation,l,!1),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.isAnnotationSelected&&this.pdfViewer.annotationModule.selectAnnotationFromCodeBehind(),[2]}})})},S.prototype.renderTextContent=function(e,t){var i=e.textContent,n=e.textBounds,o=e.rotation,e=e.documentTextCollection?this.checkIsRtlText(e.documentTextCollection[0][parseInt(t.toString(),10)].PageText):this.checkIsRtlText(e.pageText),r=this.getElement("_textLayer_"+t);(r=r||this.textLayer.addTextLayer(t,this.getPageWidth(t),this.getPageHeight(t),this.getElement("_pageDiv_"+t)))&&i&&n&&(r.style.display="block",0===r.childNodes.length?this.textLayer.renderTextContents(t,i,n,o,e):this.textLayer.resizeTextContents(t,i,n,o,!0))},S.prototype.renderAccessibilityTags=function(e,t){this.accessibilityTags.renderAccessibilityTags(e,t)},S.prototype.returnPageListForAccessibilityTags=function(e){var t=[];if(!this.enableAccessibilityMultiPageRequest)return[e];for(var i=e+4<this.pageCount-1?e+4:this.pageCount-1,n=0<e-2?e-2:0;n<=i;n++)void 0===this.accessibilityTagsCollection[parseInt(n.toString(),10)]?t.push(parseInt(n.toString(),10)):i=i+1<this.pageCount-1?i+1:this.pageCount-1;return this.pageRequestListForAccessibilityTags=t},S.prototype.createRequestForAccessibilityTags=function(o){var r=this,e={action:"RenderTaggedContent",elementId:this.pdfViewer.element.id,hashId:this.hashId,uniqueId:this.documentId,pageList:JSON.stringify(this.returnPageListForAccessibilityTags(o))},t=(this.jsonDocumentId&&(e.document=this.jsonDocumentId),this.pdfViewer.serviceUrl+"/RenderTaggedContent");this.accessibilityTagsHandler=new Bn(this.pdfViewer),this.accessibilityTagsHandler.url=t,this.accessibilityTagsHandler.mode=!0,this.accessibilityTagsHandler.responseType="text",this.accessibilityTagsHandler.send(e),this.accessibilityTagsHandler.onSuccess=function(e){for(var t,i=JSON.parse(e.data),n=0;n<i.length;n++)t=i[parseInt(n.toString(),10)],r.accessibilityTagsCollection[t[0]]=t[1];r.pageRequestListForAccessibilityTags=[],r.accessibilityTagsCollection[parseInt(o.toString(),10)]&&r.renderAccessibilityTags(o,r.accessibilityTagsCollection[parseInt(o.toString(),10)]),r.accessibilityTagsCollection[o-1<=0?parseInt((o-1).toString(),10):0]&&r.renderAccessibilityTags(o-1<=0?o-1:0,r.accessibilityTagsCollection[o-1<=0?parseInt((o-1).toString(),10):0])}},S.prototype.renderPageContainer=function(e,t,i,n){var o=G.createElement("div",{id:this.pdfViewer.element.id+"_pageDiv_"+e,className:"e-pv-page-div",attrs:{tabindex:"-1"}});G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&o.classList.add("e-pv-text-selection-none"),o.style.width=t+"px",o.style.height=i+"px",this.pdfViewer.enableRtl?o.style.right=this.updateLeftPosition(e)+"px":o.style.left=this.updateLeftPosition(e)+"px",o.style.top=n+"px",this.pageContainer.appendChild(o),this.pageContainer.style.width=this.isMixedSizeDocument&&this.highestWidth*this.getZoomFactor()>this.viewerContainer.clientWidth?this.highestWidth*this.getZoomFactor()+"px":this.viewerContainer.clientWidth+"px",this.createWaitingPopup(e),this.orderPageDivElements(o,e),this.renderPageCanvas(o,t,i,e,"block"),!G.Browser.isDevice||this.pdfViewer.enableDesktopMode||this.isThumb||this.updateMobileScrollerPosition()},S.prototype.renderPDFInformations=function(){!this.pdfViewer.thumbnailViewModule||G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?!G.isNullOrUndefined(this.pdfViewer.pageOrganizer)&&this.pdfViewer.enablePageOrganizer&&this.pdfViewer.pageOrganizer.createRequestForPreview():this.pdfViewer.thumbnailViewModule.createRequestForThumbnails(),this.pdfViewer.bookmarkViewModule&&this.pdfViewer.bookmarkViewModule.createRequestForBookmarks(),this.pdfViewer.annotationModule&&(this.pdfViewer.toolbarModule&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.initializeAcccordionContainer(),this.pdfViewer.isCommandPanelOpen&&this.pdfViewer.annotation.showCommentsPanel(),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.createRequestForComments())},S.prototype.orderPageDivElements=function(e,t){t=this.getElement("_pageDiv_"+(t+1));this.pageContainer&&e&&(t?this.pageContainer.insertBefore(e,t):this.pageContainer.appendChild(e))},S.prototype.renderPageCanvas=function(e,t,i,n,o){var r;if(e)return(r=this.getElement("_pageCanvas_"+n))?(r.width=t,r.height=i,r.style.display="block",this.isMixedSizeDocument&&0<this.highestWidth&&(r.style.marginLeft="auto",r.style.marginRight="auto")):((r=G.createElement("img",{id:this.pdfViewer.element.id+"_pageCanvas_"+n,className:"e-pv-page-canvas"})).width=t,r.height=i,r.style.display=o,r.style.userSelect="none",this.isMixedSizeDocument&&0<this.highestWidth&&(r.style.marginLeft="auto",r.style.marginRight="auto"),e.appendChild(r)),r.setAttribute("alt",""),(this.pdfViewer.textSearchModule||this.pdfViewer.textSelectionModule||this.pdfViewer.formFieldsModule||this.pdfViewer.annotationModule)&&this.textLayer.addTextLayer(n,t,i,e),r},S.prototype.applyElementStyles=function(e,t){var i;this.isMixedSizeDocument&&e&&(i=document.getElementById(this.pdfViewer.element.id+"_pageCanvas_"+t),t=document.getElementById(this.pdfViewer.element.id+"_oldCanvas_"+t),e&&i&&0<i.offsetLeft?(e.style.marginLeft=i.offsetLeft+"px",e.style.marginRight=i.offsetLeft+"px"):t&&0<t.offsetLeft?(e.style.marginLeft=t.offsetLeft+"px",e.style.marginRight=t.offsetLeft+"px"):(e.style.marginLeft="auto",e.style.marginRight="auto"))},S.prototype.updateLeftPosition=function(e){var t,i,n=this.viewerContainer.getBoundingClientRect().width;return 0===n&&(n=parseFloat(this.pdfViewer.width.toString())),this.isMixedSizeDocument&&0<this.highestWidth?(t=0<this.viewerContainer.clientWidth?(this.viewerContainer.clientWidth-this.highestWidth*this.getZoomFactor())/2:(n-this.highestWidth*this.getZoomFactor())/2,i=(this.highestWidth*this.getZoomFactor()-this.getPageWidth(e))/2,0<t?t+=i:t=i,this.pageContainer.style.width=this.highestWidth*this.getZoomFactor()>this.viewerContainer.clientWidth?this.highestWidth*this.getZoomFactor()+"px":this.viewerContainer.clientWidth+"px"):t=0<this.viewerContainer.clientWidth?(this.viewerContainer.clientWidth-this.getPageWidth(e))/2:(n-this.getPageWidth(e))/2,this.pageSize[parseInt(e.toString(),10)].width,this.pageSize[parseInt(e.toString(),10)].height,(t<0||this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.isAutoZoom&&this.getZoomFactor()<1||"fitToWidth"===this.pdfViewer.magnificationModule.fitType))&&0<(t=0<(i=t)&&G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?i:this.pageLeft)&&this.isMixedSizeDocument&&0<i&&(t=i),this.viewerContainer.clientHeight>=this.viewerContainer.scrollHeight&&0<this.previousScrollbarWidth&&(n=this.navigationPane.getViewerContainerScrollbarWidth(),t-=(this.previousScrollbarWidth-n)/2),t},S.prototype.applyLeftPosition=function(e){var t,i;this.pageSize[parseInt(e.toString(),10)]&&(this.isMixedSizeDocument&&0<this.highestWidth?(t=0<this.viewerContainer.clientWidth?(this.viewerContainer.clientWidth-this.highestWidth*this.getZoomFactor())/2:(this.viewerContainer.getBoundingClientRect().width-this.highestWidth*this.getZoomFactor())/2,i=(this.highestWidth*this.getZoomFactor()-this.getPageWidth(e))/2,0<t?t+=i:t=i):t=0<this.viewerContainer.clientWidth?(this.viewerContainer.clientWidth-this.pageSize[parseInt(e.toString(),10)].width*this.getZoomFactor())/2:(this.viewerContainer.getBoundingClientRect().width-this.pageSize[parseInt(e.toString(),10)].width*this.getZoomFactor())/2,this.pageSize[parseInt(e.toString(),10)].width,this.pageSize[parseInt(e.toString(),10)].height,(t<0||this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.isAutoZoom&&this.getZoomFactor()<1||"fitToWidth"===this.pdfViewer.magnificationModule.fitType))&&(i=t,t=this.pageLeft,0<i)&&this.isMixedSizeDocument&&(t=i),i=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+e))&&(this.pdfViewer.enableRtl?i.style.right=t+"px":i.style.left=t+"px")},S.prototype.updatePageHeight=function(e,t){return(e-t)/e*100+"%"},S.prototype.getPageNumberFromClientPoint=function(e){for(var t=e.x+this.viewerContainer.scrollLeft,i=e.y+this.viewerContainer.scrollTop,n=0;n<this.pageCount;n++){var o=this.pageSize[parseInt(n.toString(),10)].height+this.viewerContainer.scrollTop;if(i<this.pageSize[parseInt(n.toString(),10)].top+o){var r=this.getElement("_pageViewContainer").getBoundingClientRect(),r=(r.width-this.pageSize[parseInt(n.toString(),10)].width)/2+r.x,a=0,a=i>this.pageSize[parseInt(n.toString(),10)].top?i-this.pageSize[parseInt(n.toString(),10)].top:this.pageSize[parseInt(n.toString(),10)].top-i;if(0<a&&null!=this.pageSize[parseInt(n.toString(),10)]){this.getPageHeight(n);if(0<=r&&(t<r||t>r+this.pageSize[parseInt(n.toString(),10)].width))return-1;if(a<=this.getPageTop(n)+o)return n+1}}}return-1},S.prototype.convertClientPointToPagePoint=function(e,t){var i;return-1!==t?(i=((i=this.getElement("_pageViewContainer").getBoundingClientRect()).width-this.pageSize[t-1].width)/2+i.x,{x:e.x+this.viewerContainer.scrollLeft-i,y:e.y+this.viewerContainer.scrollTop-this.pageSize[t-1].top}):null},S.prototype.convertPagePointToClientPoint=function(e,t){var i;return-1!==t?(i=((i=this.getElement("_pageViewContainer").getBoundingClientRect()).width-this.pageSize[t-1].width)/2+i.x,{x:e.x+i,y:e.y+this.pageSize[t-1].top}):null},S.prototype.convertPagePointToScrollingPoint=function(e,t){return-1!==t?{x:e.x+this.viewerContainer.scrollLeft,y:e.y+this.viewerContainer.scrollTop}:null},S.prototype.initiatePageViewScrollChanged=function(){this.scrollHoldTimer&&clearTimeout(this.scrollHoldTimer),this.scrollHoldTimer=null,this.scrollPosition*this.getZoomFactor()!==this.viewerContainer.scrollTop&&(this.scrollPosition=this.viewerContainer.scrollTop,this.pageViewScrollChanged(this.currentPageNumber))},S.prototype.renderCountIncrement=function(){this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.renderCountIncrement()},S.prototype.pageViewScrollChanged=function(e){this.isPanMode&&-1!==this.renderedPagesList.indexOf(e-1)||(this.reRenderedCount=0);var t=e-1;if(e!==this.previousPage&&e<=this.pageCount&&(i=!1,this.clientSideRendering?this.getLinkInformation(t):this.getStoredData(t),this.isDataExits&&!this.getStoredData(t)&&(i=!0),-1!==this.renderedPagesList.indexOf(t)||this.getMagnified()||i||this.isScrollerMoving||(this.renderCountIncrement(),this.createRequestForRender(t))),!this.getMagnified()&&!this.getPagesPinchZoomed()){var e=t-1,i=!1,n=this.getElement("_pageCanvas_"+e),o=(this.clientSideRendering?this.getLinkInformation(e):this.getStoredData(e),this.isDataExits&&!this.getStoredData(e)&&(i=!0),null===n||i||-1!==this.renderedPagesList.indexOf(e)||this.getMagnified()||this.isScrollerMoving||(this.renderCountIncrement(),this.createRequestForRender(e)),this.isMinimumZoom&&this.renderPreviousPagesInScroll(e),1+t),r=0;if(o<this.pageCount){r=this.getPageHeight(o);if((this.isMinimumZoom||-1===this.renderedPagesList.indexOf(o))&&!this.getMagnified()&&r)if(this.isDocumentLoaded&&this.pdfViewer.initialRenderPages>this.pageRenderCount&&this.getPageHeight(this.pdfViewer.initialRenderPages-1)+this.getPageTop(this.pdfViewer.initialRenderPages-1)>this.viewerContainer.clientHeight)for(var a=this.pdfViewer.initialRenderPages<=this.pageCount?this.pdfViewer.initialRenderPages:this.pageCount,s=1;s<a;s++)this.createRequestForRender(s);else if(!this.isScrollerMoving)for(this.createRequestForRender(o),this.renderCountIncrement();this.viewerContainer.clientHeight>r&&(o+=1)<this.pageCount;)this.renderPageElement(o),this.createRequestForRender(o),r+=this.getPageHeight(o),this.renderCountIncrement()}}},S.prototype.renderPreviousPagesInScroll=function(e){var e=e-1,t=e-1;0<e&&(-1!==this.renderedPagesList.indexOf(e)||this.getMagnified()||(this.createRequestForRender(e),this.renderCountIncrement()),0<t)&&(-1!==this.renderedPagesList.indexOf(t)||this.getMagnified()||(this.createRequestForRender(t),this.renderCountIncrement()))},S.prototype.downloadDocument=function(e){e=(URL||webkitURL).createObjectURL(e);var t,i=G.createElement("a");i.click?(i.href=e,i.target="_parent","download"in i&&(G.isNullOrUndefined(this.downloadFileName)?i.download="Default.pdf":this.downloadFileName.endsWith(".pdf")?i.download=this.downloadFileName:(t=this.downloadFileName.split(".pdf")[0]+".pdf",i.download=t)),(document.body||document.documentElement).appendChild(i),i.click(),i.parentNode.removeChild(i)):(window.top===window&&e.split("#")[0]===window.location.href.split("#")[0]&&(t=-1===e.indexOf("?")?"?":"&",e=e.replace(/#|$/,t+"$&")),window.open(e,"_parent"))},S.prototype.downloadExportFormat=function(e,t,i,n){var o="Json"===t||"Json"===i,t=o?".json":"Fdf"===i?".fdf":"Xml"===i?".xml":"Xfdf"===t||"Xfdf"===i?".xfdf":null;G.isNullOrUndefined(t)||(e=(URL||webkitURL).createObjectURL(e),(i=G.createElement("a")).click?(i.href=e,i.target="_parent","download"in i&&(null!==this.pdfViewer.exportAnnotationFileName?i.download=this.pdfViewer.exportAnnotationFileName.split(".")[0]+t:i.download=this.pdfViewer.fileName.split(".")[0]+t),(document.body||document.documentElement).appendChild(i),i.click(),i.parentNode.removeChild(i),n?this.pdfViewer.fireFormExportSuccess(e,i.download):this.pdfViewer.fireExportSuccess(e,i.download)):o&&(window.top===window&&e.split("#")[0]===window.location.href.split("#")[0]&&(i=-1===e.indexOf("?")?"?":"&",e=e.replace(/#|$/,i+"$&")),window.open(e,"_parent"),n?this.pdfViewer.fireFormExportSuccess(e,this.pdfViewer.fileName.split(".")[0]+t):this.pdfViewer.fireExportSuccess(e,this.pdfViewer.fileName.split(".")[0]+t)))},S.prototype.exportFormFields=function(e,t){this.createRequestForExportFormfields(!1,t,e)},S.prototype.importFormFields=function(e,t){this.createRequestForImportingFormfields(e,t)},S.prototype.createRequestForExportFormfields=function(r,a,s){var l=this,A=this,e=new Promise(function(i,e){var t,n=A.createFormfieldsJsonData(),o=!1;"Json"!==a&&"Fdf"!==a&&"Xfdf"!==a&&"Xml"!==a||(n.formFieldDataFormat=a,o=A.pdfViewer.fireFormExportStarted(n)),o&&(n.action="ExportFormFields",n.hashId=A.hashId,n.fileName=A.pdfViewer.fileName,s&&""!==s&&!r&&(n.filePath=s),n.elementId=l.pdfViewer.element.id,A.jsonDocumentId&&(n.document=A.jsonDocumentId),o=l.getFormFieldsPageList(n.formDesigner),n.formFieldsPageList=JSON.stringify(o),n.isFormFieldAnnotationsExist=l.isAnnotationsExist(n.formDesigner)||l.isFieldsDataExist(n.fieldsData)||0<o.length,o=A.pdfViewer.serviceUrl+"/"+A.pdfViewer.serverActionSettings.exportFormFields,A.exportFormFieldsRequestHandler=new Bn(l.pdfViewer),A.exportFormFieldsRequestHandler.url=o,A.exportFormFieldsRequestHandler.mode=!0,A.exportFormFieldsRequestHandler.responseType="text",A.validateForm&&A.pdfViewer.enableFormFieldsValidation?(A.pdfViewer.fireValidatedFailed(A.pdfViewer.serverActionSettings.download),A.validateForm=!1):A.clientSideRendering?(o=A.pdfViewer.pdfRendererModule.exportFormFields(n,r),t=new TextDecoder("utf-8").decode(o),r?(t=l.getDataOnSuccess(t),i(t)):A.exportFileDownload(o,A,a,n,r)):A.exportFormFieldsRequestHandler.send(n),A.exportFormFieldsRequestHandler.onSuccess=function(e){var t,e=e.data;A.checkRedirection(e)||e&&(r?(t=A.exportFileDownload(e,A,a,n,r),i(t)):A.exportFileDownload(e,A,a,n,r))},A.exportFormFieldsRequestHandler.onFailure=function(e){A.pdfViewer.fireFormExportFailed(n.pdfAnnotation,e.statusText)},A.exportFormFieldsRequestHandler.onError=function(e){A.pdfViewer.fireFormExportFailed(n.pdfAnnotation,e.statusText)})});return!r||e},S.prototype.exportFileDownload=function(t,i,n,o,r){return this.clientSideRendering?new Promise(function(e){t&&(i.clientSideRendering||i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.exportFormFields,t),r?(e(e=decodeURIComponent(escape(atob(t.split(",")[1])))),i.pdfViewer.fireFormExportSuccess(e,i.pdfViewer.fileName)):t&&"string"!=typeof t&&(e=new Blob([t],{type:"application/json"}),G.Browser.isIE||"edge"===G.Browser.info.name?window.navigator.msSaveOrOpenBlob(e,i.pdfViewer.fileName.split(".")[0]+".json"):"Json"!==o.formFieldDataFormat&&"Fdf"!==o.formFieldDataFormat&&"Xfdf"!==o.formFieldDataFormat&&"Xml"!==o.formFieldDataFormat||i.downloadExportFormat(e,null,n,!0)))}):new Promise(function(e){t&&(i.clientSideRendering||i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.exportFormFields,t),r?(e(e=decodeURIComponent(escape(atob(t.split(",")[1])))),i.pdfViewer.fireFormExportSuccess(e,i.pdfViewer.fileName)):t.split("base64,")[1]&&(e=i.createBlobUrl(t.split("base64,")[1],"application/json"),G.Browser.isIE||"edge"===G.Browser.info.name?window.navigator.msSaveOrOpenBlob(e,i.pdfViewer.fileName.split(".")[0]+".json"):"Json"!==o.formFieldDataFormat&&"Fdf"!==o.formFieldDataFormat&&"Xfdf"!==o.formFieldDataFormat&&"Xml"!==o.formFieldDataFormat||i.downloadExportFormat(e,null,n,!0)))})},S.prototype.getLastIndexValue=function(e,t){return e.slice(e.lastIndexOf(t)+1)},S.prototype.createRequestForImportingFormfields=function(n,e){var o=this,t={},i=this.getLastIndexValue(n,"."),i=("object"==typeof n||"json"!==i&&"fdf"!==i&&"xfdf"!==i&&"xml"!==i?(t.formFieldDataFormat=e,t.data="Json"===e?JSON.stringify(n):n):(t.data=n,t.fileName=o.pdfViewer.fileName,t.formFieldDataFormat=e),o.pdfViewer.fireFormImportStarted(n),t.hashId=o.hashId,t.elementId=this.pdfViewer.element.id,o.jsonDocumentId&&(t.document=o.jsonDocumentId),(t=Object.assign(t,this.constructJsonDownload())).action="ImportFormFields",o.pdfViewer.serviceUrl+"/"+o.pdfViewer.serverActionSettings.importFormFields);o.importFormFieldsRequestHandler=new Bn(this.pdfViewer),o.importFormFieldsRequestHandler.url=i,o.importFormFieldsRequestHandler.mode=!0,o.importFormFieldsRequestHandler.responseType="text",o.clientSideRendering?(e=o.pdfViewer.pdfRendererModule.importFormFields(t),this.importClientSideFormFields(e,n)):o.importFormFieldsRequestHandler.send(t),o.importFormFieldsRequestHandler.onSuccess=function(e){var t=e.data;if(!o.checkRedirection(t))if(t&&"null"!==t){if("object"!=typeof t)try{"object"!=typeof(t=JSON.parse(t))&&(o.onControlError(500,t,o.pdfViewer.serverActionSettings.importFormFields),o.pdfViewer.fireFormImportFailed(n,e.statusText),t=null)}catch(e){o.pdfViewer.fireFormImportFailed(n,o.pdfViewer.localeObj.getConstant("File not found")),G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_FileNotFound").then(function(e){o.openImportExportNotificationPopup(e)}):o.openImportExportNotificationPopup(o.pdfViewer.localeObj.getConstant("File not found")),o.onControlError(500,t,o.pdfViewer.serverActionSettings.importFormFields),t=null}o.pdfViewer.fireAjaxRequestSuccess(o.pdfViewer.serverActionSettings.importFormFields,t),o.pdfViewer.fireFormImportSuccess(n),S.sessionStorageManager.removeItem(this.documentId+"_formfields"),this.pdfViewer.formFieldsModule.removeExistingFormFields(),S.sessionStorageManager.removeItem(this.documentId+"_formDesigner"),o.saveFormfieldsData(t);for(var i=0;i<o.renderedPagesList.length;i++)this.pdfViewer.formFieldsModule.renderFormFields(o.renderedPagesList[parseInt(i.toString(),10)],!0)}else o.pdfViewer.fireFormImportFailed(n,e.statusText),G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_FileNotFound").then(function(e){o.openImportExportNotificationPopup(e)}):o.openImportExportNotificationPopup(o.pdfViewer.localeObj.getConstant("File not found"))},o.importFormFieldsRequestHandler.onFailure=function(e){o.pdfViewer.fireFormImportFailed(n,e.statusText)},o.importFormFieldsRequestHandler.onError=function(e){o.pdfViewer.fireFormImportFailed(n,e.statusText)}},S.prototype.importClientSideFormFields=function(e,t){if(G.isNullOrUndefined(e))this.pdfViewer.fireFormImportFailed(t,null),this.openImportExportNotificationPopup(this.pdfViewer.localeObj.getConstant("File not found"));else{this.pdfViewer.fireFormImportSuccess(t),this.pdfViewer.viewerBase.existingFieldImport=!1,S.sessionStorageManager.removeItem(this.documentId+"_formfields"),this.pdfViewer.formFieldsModule.removeExistingFormFields(),S.sessionStorageManager.removeItem(this.documentId+"_formDesigner"),this.saveFormfieldsData(e);for(var i=0;i<this.renderedPagesList.length;i++)this.pdfViewer.formFieldsModule.renderFormFields(this.renderedPagesList[parseInt(i.toString(),10)],!0)}},S.prototype.createFormfieldsJsonData=function(){var e,t={};return this.pdfViewer.formDesignerModule?(e=this.pdfViewer.formDesignerModule.downloadFormDesigner(),t.formDesigner=e):this.pdfViewer.formFieldsModule&&(e=this.pdfViewer.formFieldsModule.downloadFormFieldsData(),t.fieldsData=e),t},S.prototype.constructJsonDownload=function(){var e,t={hashId:this.hashId},i=(this.jsonDocumentId&&(t.documentId=this.jsonDocumentId),t.uniqueId=this.documentId,this.importPageList=[],this.pdfViewer.annotationModule&&this.saveImportedAnnotations(),this.isTextMarkupAnnotationModule()&&(this.isJsonExported=!1,i=this.pdfViewer.annotationModule.textMarkupAnnotationModule.saveTextMarkupAnnotations(),t.textMarkupAnnotations=i),this.isShapeAnnotationModule()&&(this.isJsonExported=!1,i=this.pdfViewer.annotationModule.shapeAnnotationModule.saveShapeAnnotations(),t.shapeAnnotations=i),this.isCalibrateAnnotationModule()&&(this.isJsonExported=!1,i=this.pdfViewer.annotationModule.measureAnnotationModule.saveMeasureShapeAnnotations(),t.measureShapeAnnotations=i),this.isStampAnnotationModule()&&(i=this.pdfViewer.annotationModule.stampAnnotationModule.saveStampAnnotations(),t.stampAnnotations=i),this.isCommentAnnotationModule()&&(i=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveStickyAnnotations(),t.stickyNotesAnnotation=i),this.isImportAction&&(i=JSON.stringify(this.importPageList),t.importPageList=i),this.pdfViewer.formDesignerModule&&(e=this.pdfViewer.formDesignerModule.downloadFormDesigner(),t.formDesigner=e),this.pdfViewer.formFieldsModule&&G.isNullOrUndefined(t.formDesigner)&&(e=this.pdfViewer.formFieldsModule.downloadFormFieldsData(),t.fieldsData=e),this.signatureModule.saveSignature());return t.signatureData=i,this.pdfViewer.isSignatureEditable&&(t.isSignatureEdited=this.pdfViewer.isSignatureEditable),this.isFreeTextAnnotationModule()&&(e=this.pdfViewer.annotationModule.freeTextAnnotationModule.saveFreeTextAnnotations(),t.freeTextAnnotation=e),this.isInkAnnotationModule()&&(i=this.pdfViewer.annotationModule.inkAnnotationModule.saveInkSignature(),t.inkSignatureData=i),t.action="Download",t.elementId=this.pdfViewer.element.id,this.pdfViewer.annotationModule&&(e=this.getAnnotationsPageList(),t.isAnnotationsExist=this.isAnnotationsExist(t.textMarkupAnnotations)||this.isAnnotationsExist(t.shapeAnnotations)||this.isAnnotationsExist(t.measureShapeAnnotations)||this.isAnnotationsExist(t.stampAnnotations)||this.isAnnotationsExist(t.stickyNotesAnnotation)||this.isAnnotationsExist(t.signatureData)||this.isAnnotationsExist(t.freeTextAnnotation)||this.isAnnotationsExist(t.inkSignatureData)||0<e.length,t.annotationsPageList=JSON.stringify(e)),(this.pdfViewer.formDesignerModule||this.pdfViewer.formFieldsModule)&&(i=this.getFormFieldsPageList(t.formDesigner),t.isFormFieldAnnotationsExist=this.isAnnotationsExist(t.formDesigner)||this.isFieldsDataExist(t.fieldsData)||0<i.length,t.formFieldsPageList=JSON.stringify(i)),this.pdfViewer.annotationCollection&&(t.annotationCollection=JSON.stringify(this.pdfViewer.annotationCollection)),t},S.prototype.isAnnotationsExist=function(e){return!G.isNullOrUndefined(e)&&0<JSON.parse(e).flat(1).length},S.prototype.isFieldsDataExist=function(e){return!G.isNullOrUndefined(e)&&0!==Object.entries(JSON.parse(e)).length},S.prototype.getAnnotationsPageList=function(){var e=this.pdfViewer.annotationCollection.map(function(e){return e.pageNumber}),t=this.pdfViewer.annotationModule.actionCollection.filter(function(e){return"formFields"!==e.annotation.propName&&G.isNullOrUndefined(e.annotation.formFieldAnnotationType)}).map(function(e){return e.pageIndex});return e.concat(t,this.modifiedPageIndex).filter(function(e,t,i){return i.indexOf(e)===t&&void 0!==e})},S.prototype.getFormFieldsPageList=function(e){var t,i=this.pdfViewer.formFieldCollection.map(function(e){return G.isNullOrUndefined(e.properties)?e.pageNumber+1:e.properties.pageNumber}),n=G.isNullOrUndefined(this.pdfViewer.annotationModule)?[]:this.pdfViewer.annotationModule.actionCollection.filter(function(e){return"formFields"===e.annotation.propName||!G.isNullOrUndefined(e.annotation.formFieldAnnotationType)}).map(function(e){return e.pageIndex}),i=i.concat(n);return G.isNullOrUndefined(e)||(t=JSON.parse(e).map(function(e){return e.FormField.pageNumber})),i.concat(t).filter(function(e,t,i){return i.indexOf(e)===t&&!G.isNullOrUndefined(e)})},S.prototype.checkFormFieldCollection=function(e){var t,i=!1;if(t=this.getItemFromSessionStorage("_formDesigner"))for(var n=JSON.parse(t),o=0;o<n.length;o++)if("RadioButton"===n[parseInt(o.toString(),10)].FormField.formFieldAnnotationType){for(var r=0;r<n[parseInt(o.toString(),10)].FormField.radiobuttonItem.length;r++)if(e===n[parseInt(o.toString(),10)].FormField.radiobuttonItem[parseInt(r.toString(),10)].id.split("_")[0]){i=!0;break}}else if(n[parseInt(o.toString(),10)].Key.split("_")[0]===e){i=!0;break}return i},S.prototype.isFreeTextAnnotationModule=function(){return!!this.pdfViewer.annotation&&!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.freeTextAnnotationModule)},S.prototype.createRequestForDownload=function(){var t,e,i;(t=this).pdfViewer.fireDownloadStart(t.downloadFileName)&&(e=this.constructJsonDownload(),(t.clientSideRendering?t.isDigitalSignaturePresent:t.digitalSignaturePages&&0!==t.digitalSignaturePages.length)&&(t.pdfViewer.isDocumentEdited?e.digitalSignatureDocumentEdited=!0:e.digitalSignatureDocumentEdited=!1),G.isNullOrUndefined(this.pdfViewer.pageOrganizer)||G.isNullOrUndefined(this.pdfViewer.pageOrganizer.organizePagesCollection)||!this.pdfViewer.pageOrganizer.isDocumentModified||(e.organizePages=JSON.stringify(this.pdfViewer.pageOrganizer.organizePagesCollection)),this.dowonloadRequestHandler=new Bn(this.pdfViewer),this.dowonloadRequestHandler.url=t.pdfViewer.serviceUrl+"/"+t.pdfViewer.serverActionSettings.download,this.dowonloadRequestHandler.responseType="text",this.validateForm&&this.pdfViewer.enableFormFieldsValidation?(this.pdfViewer.fireValidatedFailed(t.pdfViewer.serverActionSettings.download),this.validateForm=!1):this.clientSideRendering?(i=this.pdfViewer.pdfRendererModule.getDocumentAsBase64(e),this.fileDownload(i,this)):this.dowonloadRequestHandler.send(e),this.dowonloadRequestHandler.onSuccess=function(e){e=e.data;t.checkRedirection(e)||(e?t.fileDownload(e,t):t.pdfViewer.fireDownloadEnd(t.downloadFileName,"PDF Document saved in server side successfully"))},this.dowonloadRequestHandler.onFailure=function(e){t.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,t.pdfViewer.serverActionSettings.download)},this.dowonloadRequestHandler.onError=function(e){t.openNotificationPopup(),t.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,t.pdfViewer.serverActionSettings.download)})},S.prototype.fileDownload=function(e,t,i){var n;void 0===i&&(i=!1),this.clientSideRendering?e&&("object"!=typeof e&&(t.onControlError(500,e,t.pdfViewer.serverActionSettings.download),e=null),e&&(t.pdfViewer.downloadFileName&&t.pdfViewer.downloadFileName!==t.downloadFileName&&(t.downloadFileName=t.pdfViewer.downloadFileName),this.pdfViewer.enableHtmlSanitizer&&t.pdfViewer.downloadFileName&&(t.pdfViewer.downloadFileName=G.SanitizeHtmlHelper.sanitize(t.pdfViewer.downloadFileName)),t.clientSideRendering&&!i&&t.pdfViewer.fireAjaxRequestSuccess(t.pdfViewer.serverActionSettings.download,e),n=new Blob([e],{type:"application/pdf"}),G.Browser.isIE||"edge"===G.Browser.info.name?window.navigator.msSaveOrOpenBlob(n,t.downloadFileName):t.downloadDocument(n),i||t.pdfViewer.fireDownloadEnd(t.downloadFileName,e)),i||t.updateDocumentAnnotationCollections()):e&&("object"!=typeof e&&-1===e.indexOf("data:application/pdf")&&(t.onControlError(500,e,t.pdfViewer.serverActionSettings.download),e=null),(e="object"==typeof e?JSON.parse(e):e)&&(t.pdfViewer.downloadFileName&&t.pdfViewer.downloadFileName!==t.downloadFileName&&(t.downloadFileName=t.pdfViewer.downloadFileName),this.pdfViewer.enableHtmlSanitizer&&t.pdfViewer.downloadFileName&&(t.pdfViewer.downloadFileName=G.SanitizeHtmlHelper.sanitize(t.pdfViewer.downloadFileName)),t.clientSideRendering&&!i&&t.pdfViewer.fireAjaxRequestSuccess(t.pdfViewer.serverActionSettings.download,e),n=t.createBlobUrl(e.split("base64,")[1],"application/pdf"),G.Browser.isIE||"edge"===G.Browser.info.name?window.navigator.msSaveOrOpenBlob(n,t.downloadFileName):t.downloadDocument(n),i||t.pdfViewer.fireDownloadEnd(t.downloadFileName,e)),i||t.updateDocumentAnnotationCollections())},S.prototype.getTileCount=function(e,t){var i;return e&&"number"==typeof e&&(i=1,i=2<this.getZoomFactor()&&e<=1200?2:e/816,!((e=Math.ceil(i))<=0))&&this.pdfViewer.tileRenderingSettings.enableTileRendering?e:1},S.prototype.createRequestForRender=function(e){var t,i,I,n=(I=this).getElement("_pageCanvas_"+e),o=I.getElement("_oldCanvas_"+e);if(this.pageSize&&this.pageSize[parseInt(e.toString(),10)]){var E=this.pageSize[parseInt(e.toString(),10)].width,r=this.pageSize[parseInt(e.toString(),10)].height,Q=(this.getElement("_pageCanvas_"+e),1200),a=0<I.pdfViewer.element.clientHeight?I.pdfViewer.element.clientHeight:I.pdfViewer.element.style.height,s=(Q=parseInt(Q,10),a=parseInt(a,10)?parseInt(a,10):500,void 0),l=void 0,A=void 0,d=new Object,p=document.getElementById(this.pdfViewer.element.id+"_thumbnail_Selection_Ring_"+e),h=(this.isMinimumZoom&&p&&p.children[0]&&!G.isNullOrUndefined(p.children[0].src)&&""!==p.children[0].src?(this.renderThumbnailImages=!0,A=p.children[0].src):this.renderThumbnailImages=!1,this.getTileCount(E,r));if(n){isNaN(parseFloat(n.style.width))&&!o||I.isInitialLoaded&&I.showPageLoadingIndicator(e,!1);var c=I.getStoredData(e),s=l=h,p=I.pdfViewer.tileRenderingSettings,r=(p.enableTileRendering&&0<p.x&&0<p.y&&(Q<E||2<this.getZoomFactor())&&(s=p.x,l=p.y),I.tileRequestCount=s*l,this.retrieveCurrentZoomFactor()),o=void 0;if(1===h?(c=I.getStoredData(e),o=I.pageRequestSent(e,0,0)):(p=JSON.parse(I.getWindowSessionStorageTile(e,0,0,r)),1<h&&(c=p)),c&&c.uniqueId===I.documentId&&(c.image||this.isMinimumZoom)){if(n.style.backgroundColor="#fff",I.pdfViewer.magnification&&I.pdfViewer.magnification.isPinchZoomed||!this.pageSize[parseInt(e.toString(),10)])return;var g=this.retrieveCurrentZoomFactor(),Q=2<g&&E<=1200?700:1200;if(I.pdfViewer.tileRenderingSettings.enableTileRendering||(Q=1200),(E<=Q||!I.pdfViewer.tileRenderingSettings.enableTileRendering)&&1===h)this.renderThumbnailImages&&1===h?I.renderPage(c,e,A):I.renderPage(c,e);else if(I.isTileImageRendered=!0,I.tileRenderCount=0,this.renderThumbnailImages&&1===h)I.renderPage(c,e,A);else{I.tileRenderPage(c,e);for(var u=0;u<s;u++)for(var f=0;f<l;f++)0===u&&0===f||(c=this.clientSideRendering?JSON.parse(this.getStoredTileImageDetails(e,u,f,g)):JSON.parse(this.getWindowSessionStorageTile(e,u,f,g)))&&I.tileRenderPage(c,e)}c=null}else if(null===c||!o){if(this.renderThumbnailImages||(this.getPagesPinchZoomed()?I.showPageLoadingIndicator(e,!1):I.showPageLoadingIndicator(e,!0),I.getPagesZoomed()&&I.isInitialLoaded&&I.showPageLoadingIndicator(e,!1)),I.pdfViewer.magnification&&I.pdfViewer.magnification.isPinchZoomed)return;I.pdfViewer.tileRenderingSettings.enableTileRendering&&!this.renderThumbnailImages||(l=s=1),I.tileRenderCount=0,I.isTileImageRendered=!0;for(var m=0;m<s;m++)for(var w=0;w<l;w++){var B,C,S,y,D,x=null,V=this.retrieveCurrentZoomFactor();Q=2<V&&E<=1200?700:1200,I.pdfViewer.tileRenderingSettings.enableTileRendering||(Q=1200),this.renderThumbnailImages&&!this.clientSideRendering?(I.renderPage(d,e,A),-1===this.textrequestLists.indexOf(e)&&(x={pageStartIndex:e,pageEndIndex:e+1,documentId:I.getDocumentId(),hashId:I.hashId,action:"RenderPdfTexts",elementId:I.pdfViewer.element.id,uniqueId:I.documentId},this.jsonDocumentId&&(x.documentId=this.jsonDocumentId),this.textRequestHandler=new Bn(this.pdfViewer),this.textRequestHandler.url=this.pdfViewer.serviceUrl+"/"+this.pdfViewer.serverActionSettings.renderTexts,this.textRequestHandler.responseType="json",this.clientSideRendering||((i=JSON.parse(JSON.stringify(x))).action="pageRenderInitiate",I.pdfViewer.firePageRenderInitiate(i),this.textRequestHandler.send(x)),this.textrequestLists.push(e),I.textRequestHandler.onSuccess=function(t){if(!(I.pdfViewer.magnification&&I.pdfViewer.magnification.isPinchZoomed||!I.pageSize[parseInt(e.toString(),10)])){t=t.data;if(t&&"object"!=typeof t)try{t=JSON.parse(t)}catch(e){I.onControlError(500,t,I.pdfViewer.serverActionSettings.renderTexts),t=null}t&&I.pageTextRequestOnSuccess(t,I,e)}},this.textRequestHandler.onFailure=function(e){I.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,I.pdfViewer.serverActionSettings.renderTexts)},this.textRequestHandler.onError=function(e){I.openNotificationPopup(),I.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,I.pdfViewer.serverActionSettings.renderTexts)},this.clientSideRendering)&&this.pdfViewer.pdfRendererModule.getDocumentText(x,"pageTextRequest")):(x={xCoordinate:m.toString(),yCoordinate:w.toString(),viewPortWidth:Q.toString(),viewPortHeight:a.toString(),pageNumber:e.toString(),hashId:I.hashId,tilecount:h.toString(),tileXCount:s.toString(),tileYCount:l.toString(),zoomFactor:V.toString(),action:"RenderPdfPages",uniqueId:this.documentId,elementId:I.pdfViewer.element.id,digitalSignaturePresent:I.digitalSignaturePresent(e)},this.jsonDocumentId&&(x.documentId=this.jsonDocumentId),I.pageRequestHandler=new Bn(this.pdfViewer),I.pageRequestHandler.url=I.pdfViewer.serviceUrl+"/"+I.pdfViewer.serverActionSettings.renderPages,I.pageRequestHandler.responseType="json",G.isNullOrUndefined(I.hashId)||(0==x.xCoordinate&&0==x.yCoordinate&&((i=JSON.parse(JSON.stringify(x))).action="pageRenderInitiate",this.clientSideRendering||I.pdfViewer.firePageRenderInitiate(i)),this.requestCollection.push(this.pageRequestHandler),this.clientSideRendering)||I.pageRequestHandler.send(x),I.requestLists.push(I.documentId+"_"+e+"_"+m+"_"+w+"_"+V),I.pageRequestHandler.onSuccess=function(t){if(!(I.pdfViewer.magnification&&I.pdfViewer.magnification.isPinchZoomed||!I.pageSize[parseInt(e.toString(),10)])){t=t.data;if(I.checkRedirection(t))I.showLoadingIndicator(!1);else{if(t&&"object"!=typeof t)try{t=JSON.parse(t)}catch(e){I.onControlError(500,t,I.pdfViewer.serverActionSettings.renderPages),t=null}t&&I.pageRequestOnSuccess(t,I,Q,E,e)}}},this.pageRequestHandler.onFailure=function(e){I.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,I.pdfViewer.serverActionSettings.renderPages)},this.pageRequestHandler.onError=function(e){I.openNotificationPopup(),I.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,I.pdfViewer.serverActionSettings.renderPages)},this.clientSideRendering&&(B=I.documentId+"_"+e+"_textDetails",C=!I.pageTextDetails||!I.pageTextDetails[B],S=this.pdfViewer.pdfRenderer.loadedDocument.getPage(e),y=new J.Rect(0,0,0,0),D=new J.Rect(0,0,0,0),S&&S._pageDictionary&&S._pageDictionary._map&&S._pageDictionary._map.CropBox&&(t=S._pageDictionary._map.CropBox,y.x=t[0],y.y=t[1],y.width=t[2],y.height=t[3]),S&&S._pageDictionary&&S._pageDictionary._map&&S._pageDictionary._map.MediaBox&&(t=S._pageDictionary._map.MediaBox,D.x=t[0],D.y=t[1],D.width=t[2],D.height=t[3]),E<=Q||!I.pdfViewer.tileRenderingSettings.enableTileRendering?((i=JSON.parse(JSON.stringify(x))).action="pageRenderInitiate",I.pdfViewer.firePageRenderInitiate(i),this.pdfViewerRunner.addTask({pageIndex:e,message:"renderPage",zoomFactor:V,isTextNeed:C,textDetailsId:B,cropBoxRect:y,mediaBoxRect:D},ln.High)):(this.showPageLoadingIndicator(e,!0),0==x.xCoordinate&&0==x.yCoordinate&&((i=JSON.parse(JSON.stringify(x))).action="pageRenderInitiate",I.pdfViewer.firePageRenderInitiate(i)),this.pdfViewerRunner.addTask({pageIndex:e,message:"renderImageAsTile",zoomFactor:V,tileX:m,tileY:w,tileXCount:s,tileYCount:l,isTextNeed:C,textDetailsId:B,cropBoxRect:y,mediaBoxRect:D},ln.High)),this.pdfViewerRunner.onMessage("imageRendered,renderTileImage,renderThumbnail,renderPreviewTileImage,printImage,textSearched",function(e){switch(e.data.message){case"imageRendered":"imageRendered"===e.data.message&&(h=document.createElement("canvas"),m=(l=e.data).value,d=l.width,p=l.height,l=l.pageIndex,h.width=d,h.height=p,(d=(A=h.getContext("2d")).createImageData(d,p)).data.set(m),A.putImageData(d,0,0),p=h.toDataURL(),I.releaseCanvas(h),h=e.data.textBounds,c=e.data.textContent,g=e.data.pageText,u=e.data.rotation,f=e.data.characterBounds,t=I.pdfViewer.pdfRendererModule.getHyperlinks(l),t={image:p,pageNumber:l,uniqueId:I.documentId,pageWidth:e.data.pageWidth,zoomFactor:e.data.zoomFactor,hyperlinks:t.hyperlinks,hyperlinkBounds:t.hyperlinkBounds,linkAnnotation:t.linkAnnotation,linkPage:t.linkPage,annotationLocation:t.annotationLocation,characterBounds:f},e.data.isTextNeed?(t.textBounds=h,t.textContent=c,t.rotation=u,I.storeTextDetails(l,h,c,t.pageText=g,u,f)):(B=JSON.parse(I.pageTextDetails[""+e.data.textDetailsId]),t.textBounds=B.textBounds,t.textContent=B.textContent,t.rotation=B.rotation,t.pageText=B.pageText,t.characterBounds=B.characterBounds),t)&&t.image&&!G.isNullOrUndefined(t.image.split("base64,")[1])&&t.uniqueId===I.documentId&&(I.pdfViewer.fireAjaxRequestSuccess(I.pdfViewer.serverActionSettings.renderPages,t),w=void 0!==t.pageNumber?t.pageNumber:l,C=I.createBlobUrl(t.image.split("base64,")[1],"image/png"),y={image:S=(URL||webkitURL).createObjectURL(C),width:t.pageWidth,uniqueId:t.uniqueId,zoomFactor:t.zoomFactor},I.storeImageData(w,y),I.pageRequestOnSuccess(t,I,Q,E,l));break;case"renderTileImage":var t,i,n,o,r,a,s,l,A,d,p,h,c,g,u,f,m,w,B,C,S,y;"renderTileImage"===e.data.message&&(t=document.createElement("canvas"),m=(l=e.data).value,i=l.w,n=l.h,o=l.noTileX,r=l.noTileY,a=l.x,s=l.y,l=l.pageIndex,t.setAttribute("height",n),t.setAttribute("width",i),t.width=i,t.height=n,(d=(A=t.getContext("2d")).createImageData(i,n)).data.set(m),A.putImageData(d,0,0),p=t.toDataURL(),I.releaseCanvas(t),h=e.data.textBounds,c=e.data.textContent,g=e.data.pageText,u=e.data.rotation,f=e.data.characterBounds,m={image:p,noTileX:o,noTileY:r,pageNumber:l,tileX:a,tileY:s,uniqueId:I.documentId,pageWidth:E,width:i,transformationMatrix:{Values:[1,0,0,1,i*a,n*s,0,0,0]},zoomFactor:e.data.zoomFactor,characterBounds:f,isTextNeed:e.data.isTextNeed,textDetailsId:e.data.textDetailsId,textBounds:h,textContent:c,pageText:g})&&m.image&&m.uniqueId===I.documentId&&(m.pageWidth&&0<m.pageWidth&&m.pageWidth,I.pdfViewer.fireAjaxRequestSuccess(I.pdfViewer.serverActionSettings.renderPages,m),w=void 0!==m.pageNumber?m.pageNumber:l,y=0===a&&0===s?(C=I.createBlobUrl(m.image.split("base64,")[1],"image/png"),S=(URL||webkitURL).createObjectURL(C),m.isTextNeed?(m.textBounds=h,m.textContent=c,m.rotation=u,m.pageText=g,I.storeTextDetails(l,h,c,g,u,f)):(B=JSON.parse(I.pageTextDetails[""+m.textDetailsId]),m.textBounds=B.textBounds,m.textContent=B.textContent,m.rotation=B.rotation,m.pageText=B.pageText,m.characterBounds=B.characterBounds),{image:S,width:m.width,uniqueId:m.uniqueId,tileX:m.tileX,tileY:m.tileY,zoomFactor:m.zoomFactor,transformationMatrix:m.transformationMatrix,pageText:m.pageText,textContent:m.textContent,textBounds:m.textBounds}):(C=I.createBlobUrl(m.image.split("base64,")[1],"image/png"),{image:S=(URL||webkitURL).createObjectURL(C),width:m.width,uniqueId:m.uniqueId,tileX:m.tileX,tileY:m.tileY,zoomFactor:m.zoomFactor,transformationMatrix:m.transformationMatrix}),I.storeImageData(w,y,m.tileX,m.tileY),I.pageRequestOnSuccess(m,I,Q,E,l,!0));break;case"renderThumbnail":I.clientSideRendering&&(I.pdfViewer.thumbnailViewModule.thumbnailOnMessage(e),I.pdfViewer.textSearch)&&I.pdfViewer.pdfRendererModule.textExtractionOnmessage(e);break;case"renderPreviewTileImage":I.pdfViewer.pageOrganizer.previewOnMessage(e),I.pdfViewer.textSearch&&I.pdfViewer.pdfRendererModule.textExtractionOnmessage(e);break;case"printImage":I.pdfViewer.printModule.printOnMessage(e);break;case"textSearched":I.pdfViewer.textSearchModule.searchTextAfteresult(e.data.resultPages,e.data.totalSearchCount,e.data.searchWord,e.data.matchCase,e.data.isRequestsend,e.data.isCompletedSearch,e.data.endIndex)}})))}}-1===this.renderedPagesList.indexOf(e)&&I.renderedPagesList.push(e)}}},S.prototype.pageRequestOnSuccess=function(e,t,i,n,o,r){for(;"object"!=typeof e;)e=JSON.parse(e);e.image&&e.uniqueId===t.documentId&&(n=e.pageWidth&&0<e.pageWidth?e.pageWidth:n,t.pdfViewer.fireAjaxRequestSuccess(t.pdfViewer.serverActionSettings.renderPages,e),o=G.isNullOrUndefined(e.pageNumber)?o:e.pageNumber,e.pageNumber=o+1,!(n<=i)&&t.pdfViewer.tileRenderingSettings.enableTileRendering||r?t.storeWinData(e,o,e.tileX,e.tileY):t.storeWinData(e,o),!(n<=i)&&t.pdfViewer.tileRenderingSettings.enableTileRendering||r?t.tileRenderPage(e,o):(t.renderPage(e,o),t.pdfViewer.firePageRenderComplete(e)))},S.prototype.pageTextRequestSuccess=function(e,t){this.pageTextRequestOnSuccess(e,this,t)},S.prototype.pageTextRequestOnSuccess=function(e,t,i){for(;"object"!=typeof e;)e=JSON.parse(e);var n;e.documentTextCollection&&e.uniqueId===t.documentId&&(t.pdfViewer.fireAjaxRequestSuccess(t.pdfViewer.serverActionSettings.renderTexts,e),t.pdfViewer.firePageRenderComplete(e),n=void 0!==e.pageNumber?e.pageNumber:i,t.storeWinData(e,n),t.renderPage(e,i))},S.prototype.requestForTextExtraction=function(e,i){var n=this,t={pageStartIndex:e,pageEndIndex:e+1,documentId:n.getDocumentId(),hashId:n.hashId,action:"RenderPdfTexts",elementId:n.pdfViewer.element.id,uniqueId:n.documentId};this.jsonDocumentId&&(t.documentId=this.jsonDocumentId),this.textRequestHandler=new Bn(this.pdfViewer),this.textRequestHandler.url=this.pdfViewer.serviceUrl+"/"+this.pdfViewer.serverActionSettings.renderTexts,this.textRequestHandler.responseType="json",this.clientSideRendering||this.textRequestHandler.send(t),this.textrequestLists.push(e),n.textRequestHandler.onSuccess=function(t){if(!(n.pdfViewer.magnification&&n.pdfViewer.magnification.isPinchZoomed||!n.pageSize[parseInt(e.toString(),10)])){t=t.data;if(!n.checkRedirection(t)){if(t&&"object"!=typeof t)try{t=JSON.parse(t)}catch(e){n.onControlError(500,t,n.pdfViewer.serverActionSettings.renderTexts),t=null}t&&n.textRequestOnSuccess(t,n,e,i)}}},this.textRequestHandler.onFailure=function(e){n.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,n.pdfViewer.serverActionSettings.renderTexts)},this.textRequestHandler.onError=function(e){n.openNotificationPopup(),n.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,n.pdfViewer.serverActionSettings.renderTexts)},this.clientSideRendering&&this.pdfViewer.pdfRendererModule.getDocumentText(t,"textRequest",i)},S.prototype.textRequestSuccess=function(e,t,i){this.textRequestOnSuccess(e,this,t,i)},S.prototype.textRequestOnSuccess=function(e,t,i,n){for(;"object"!=typeof e;)e=JSON.parse(e);var o,r,a;e.documentTextCollection&&e.uniqueId===t.documentId&&(t.pdfViewer.fireAjaxRequestSuccess(t.pdfViewer.serverActionSettings.renderTexts,e),o=void 0!==e.pageNumber?e.pageNumber:i,t.storeWinData(e,o),G.isNullOrUndefined(n)?t.renderPage(e,i):(o=n.bounds,r=e.documentTextCollection[0][parseInt(i.toString(),10)].PageText.split(""),a=e.characterBounds,t=t.textMarkUpContent(o,r,a),n.textMarkupContent=t,this.pdfViewer.annotationModule.storeAnnotations(i,n,"_annotations_textMarkup")))},S.prototype.textMarkUpContent=function(e,t,i){for(var n="",o=0;o<e.length;o++)for(var r=0;r<i.length;r++)i[parseInt(r.toString(),10)].Y>=e[parseInt(o.toString(),10)].Y-.5&&i[parseInt(r.toString(),10)].X>=e[parseInt(o.toString(),10)].X-.5&&i[parseInt(r.toString(),10)].Y<=e[parseInt(o.toString(),10)].Y+e[parseInt(o.toString(),10)].Height+.5&&i[parseInt(r.toString(),10)].X<=e[parseInt(o.toString(),10)].X+e[parseInt(o.toString(),10)].Width+.5&&(n+=t[parseInt(r.toString(),10)]);return n.replace(/(\r\n)/gm,"")},S.prototype.digitalSignaturePresent=function(e){var t=!1;return t=this.digitalSignaturePages&&0!==this.digitalSignaturePages.length&&-1!==this.digitalSignaturePages.indexOf(e)?!0:t},S.prototype.pageRequestSent=function(e,t,i){var n=this.retrieveCurrentZoomFactor(),e=this.documentId+"_"+e+"_"+t+"_"+i+"_"+n;return!!(this.requestLists&&-1<this.requestLists.indexOf(e))},S.prototype.onControlError=function(e,t,i){this.openNotificationPopup(),this.pdfViewer.fireAjaxRequestFailed(e,t,i)},S.prototype.getStoredData=function(e,t){var i=this.retrieveCurrentZoomFactor(),n=(this.pdfViewer.restrictZoomRequest&&!this.pdfViewer.tileRenderingSettings.enableTileRendering&&(i=this.initialZoomValue[parseInt(e.toString(),10)]),this.getWindowSessionStorage(e,i)?this.getWindowSessionStorage(e,i):this.getPinchZoomPage(e)),i=(!n&&t&&((t=this.clientSideRendering?this.getStoredTileImageDetails(e,0,0,i):this.getWindowSessionStorageTile(e,0,0,i))&&(n=t),t=JSON.parse(t))&&G.isNullOrUndefined(t.pageText)&&G.isNullOrUndefined(t.textContent)&&(e=JSON.parse(this.getWindowSessionStorageTile(e,0,0,i)),G.isNullOrUndefined(e)||e.uniqueId!==t.uniqueId||(n=JSON.stringify(e))),null);return n&&(i=n,this.isPinchZoomStorage||(i=JSON.parse(n)),this.isPinchZoomStorage=!1),i},S.prototype.storeWinData=function(e,t,i,n){var o,r;e.image?(o=this.createBlobUrl(e.image.split("base64,")[1],"image/png"),o=(URL||webkitURL).createObjectURL(o),isNaN(i)&&isNaN(n)||0===i&&0===n?(r={image:o,transformationMatrix:e.transformationMatrix,hyperlinks:e.hyperlinks,hyperlinkBounds:e.hyperlinkBounds,linkAnnotation:e.linkAnnotation,linkPage:e.linkPage,annotationLocation:e.annotationLocation,textContent:e.textContent,width:e.width,textBounds:e.textBounds,pageText:e.pageText,rotation:e.rotation,scaleFactor:e.scaleFactor,uniqueId:e.uniqueId,zoomFactor:e.zoomFactor,tileX:i,tileY:n},this.pageSize[parseInt(t.toString(),10)]&&(this.pageSize[parseInt(t.toString(),10)].rotation=parseFloat(e.rotation)),this.textLayer.characterBound[parseInt(t.toString(),10)]=e.characterBounds):r={image:o,transformationMatrix:e.transformationMatrix,tileX:i,tileY:n,width:e.width,zoomFactor:e.zoomFactor}):(o=e.documentTextCollection[0][parseInt(t.toString(),10)],r={textContent:e.textContent,textBounds:e.textBounds,pageText:o.PageText,rotation:e.rotation,uniqueId:e.uniqueId},this.pageSize[parseInt(t.toString(),10)]&&(this.pageSize[parseInt(t.toString(),10)].rotation=parseFloat(e.rotation)),this.textLayer.characterBound[parseInt(t.toString(),10)]=e.characterBounds);this.pageSize[parseInt(t.toString(),10)]&&this.pageSize[parseInt(t.toString(),10)].width,this.manageSessionStorage(t,r,i,n)},S.prototype.setCustomAjaxHeaders=function(e){for(var t=0;t<this.pdfViewer.ajaxRequestSettings.ajaxHeaders.length;t++)e.setRequestHeader(this.pdfViewer.ajaxRequestSettings.ajaxHeaders[parseInt(t.toString(),10)].headerName,this.pdfViewer.ajaxRequestSettings.ajaxHeaders[parseInt(t.toString(),10)].headerValue)},S.prototype.getPinchZoomPage=function(e){for(var t in this.pinchZoomStorage)if(Object.prototype.hasOwnProperty.call(this.pinchZoomStorage,t)&&this.pinchZoomStorage[t].index===e)return this.isPinchZoomStorage=!0,this.pinchZoomStorage[t].pinchZoomStorage;return null},S.prototype.getWindowSessionStorage=function(e,t){return S.sessionStorageManager.getItem(this.documentId+"_"+e+"_"+t)},S.prototype.getWindowSessionStorageTile=function(e,t,i,n){return S.sessionStorageManager.getItem(this.documentId+"_"+e+"_"+t+"_"+i+"_"+n)},S.prototype.getStoredTileImageDetails=function(e,t,i,n){return this.pageImageDetails[this.documentId+"_"+e+"_"+t+"_"+i+"_"+n+"_imageUrl"]||null},S.prototype.retrieveCurrentZoomFactor=function(){var e=this.getZoomFactor();return this.pdfViewer.enableZoomOptimization?(e<=1?e=1:1<e&&e<=2?e=2:2<e&&e<=3?e=3:3<e&&e<=4&&(e=4),e):e<=0?1:e},S.prototype.storeTextDetails=function(e,t,i,n,o,r){t={textBounds:t,textContent:i,rotation:o,pageText:n,characterBounds:r};this.pageSize[parseInt(e.toString(),10)]&&(this.pageSize[parseInt(e.toString(),10)].rotation=o),this.textLayer.characterBound[parseInt(e.toString(),10)]=r,this.pageTextDetails[this.documentId+"_"+e+"_textDetails"]=JSON.stringify(t)},S.prototype.storeImageData=function(e,t,i,n){var o=G.isNullOrUndefined(t.zoomFactor)?this.retrieveCurrentZoomFactor():t.zoomFactor;isNaN(i)&&isNaN(n)?this.pageImageDetails[this.documentId+"_"+e+"_"+o+"_imageUrl"]=JSON.stringify(t):this.pageImageDetails[this.documentId+"_"+e+"_"+i+"_"+n+"_"+o+"_imageUrl"]=JSON.stringify(t)},S.prototype.manageSessionStorage=function(e,t,i,n){var o=S.sessionStorageManager.getWindowSessionStorageSize()+Math.round(JSON.stringify(t).length/1024),r=5e3,a=200;if((this.isDeviceiOS||this.isMacSafari)&&(r=2e3,a=80),r<=o){if(!this.isStorageExceed){for(var s=[],l=[],A=0;A<S.sessionStorageManager.getSessionLength();A++)S.sessionStorageManager.getKey(A)&&S.sessionStorageManager.getKey(A).split("_")[3]&&("annotations"===S.sessionStorageManager.getKey(A).split("_")[3]?(this.annotationStorage[S.sessionStorageManager.getKey(A)]=S.sessionStorageManager.getItem(S.sessionStorageManager.getKey(A)),s.push(S.sessionStorageManager.getKey(A))):"formfields"!==S.sessionStorageManager.getKey(A).split("_")[3]&&"formDesigner"!==S.sessionStorageManager.getKey(A).split("_")[3]||(this.formFieldStorage[S.sessionStorageManager.getKey(A)]=S.sessionStorageManager.getItem(S.sessionStorageManager.getKey(A)),l.push(S.sessionStorageManager.getKey(A))));if(s)for(A=0;A<s.length;A++)S.sessionStorageManager.removeItem(s[parseInt(A.toString(),10)]);if(l)for(A=0;A<l.length;A++)S.sessionStorageManager.removeItem(l[parseInt(A.toString(),10)])}if(this.isStorageExceed=!0,r<=(o=S.sessionStorageManager.getWindowSessionStorageSize())){var d=S.sessionStorageManager.getSessionLength();a<d&&(d=a);for(A=0;A<d;A++)S.sessionStorageManager.getKey(A)&&S.sessionStorageManager.getKey(A).split("_")[3]&&"annotations"!==S.sessionStorageManager.getKey(A).split("_")[3]&&(S.sessionStorageManager.removeItem(S.sessionStorageManager.getKey(A)),d-=1,A-=1)}}a=this.retrieveCurrentZoomFactor();this.initialZoomValue[parseInt(e.toString(),10)]=a,isNaN(i)&&isNaN(n)?(o<r&&S.sessionStorageManager.setItem(this.documentId+"_"+e+"_"+a,JSON.stringify(t)),this.sessionStorage.push(this.documentId+"_"+e+"_"+a)):(this.sessionStorage.push(this.documentId+"_"+e+"_"+i+"_"+n+"_"+a),o<r&&S.sessionStorageManager.setItem(this.documentId+"_"+e+"_"+i+"_"+n+"_"+a,JSON.stringify(t)))},S.prototype.createBlobUrl=function(e,t){for(var i=atob(e),n=[],o=0;o<i.length;o+=512){for(var r=i.slice(o,o+512),a=new Array(r.length),s=0;s<r.length;s++)a[parseInt(s.toString(),10)]=r.charCodeAt(s);var l=new Uint8Array(a);n.push(l)}return new Blob(n,{type:t})},S.prototype.getRandomNumber=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){return(16*Math.random()|0).toString(16)})},S.prototype.createGUID=function(){return"Sync_PdfViewer_"+this.getRandomNumber()},S.prototype.isClickedOnScrollBar=function(e,t){var i=!1;return t&&this.setScrollDownValue(e.type,!1),this.viewerContainer.clientWidth+this.viewerContainer.offsetLeft<e.clientX&&e.clientX<this.viewerContainer.offsetWidth+this.viewerContainer.offsetLeft&&(i=!0,t)&&this.setScrollDownValue(e.type,!0),this.viewerContainer.clientHeight+this.viewerContainer.offsetTop<e.clientY&&e.clientY<this.viewerContainer.offsetHeight+this.viewerContainer.offsetTop&&(i=!0,t)&&this.setScrollDownValue(e.type,!0),i},S.prototype.setScrollDownValue=function(e,t){"mousedown"===e&&(this.isScrollbarMouseDown=t)},S.prototype.disableTextSelectionMode=function(){this.isTextSelectionDisabled=!0,G.isNullOrUndefined(this.viewerContainer)||this.viewerContainer.classList.remove("e-enable-text-selection"),this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.clearTextSelection(),G.isNullOrUndefined(this.viewerContainer)||(this.viewerContainer.classList.add("e-disable-text-selection"),this.viewerContainer.addEventListener("selectstart",function(){return!1}))},S.prototype.getElement=function(e){return document.getElementById(this.pdfViewer.element.id+e)},S.prototype.getPageWidth=function(e){return this.pageSize[parseInt(e.toString(),10)]?this.pageSize[parseInt(e.toString(),10)].width*this.getZoomFactor():0},S.prototype.getPageHeight=function(e){return this.pageSize[parseInt(e.toString(),10)]?this.pageSize[parseInt(e.toString(),10)].height*this.getZoomFactor():0},S.prototype.getPageTop=function(e){return this.pageSize[parseInt(e.toString(),10)]?this.pageSize[parseInt(e.toString(),10)].top*this.getZoomFactor():0},S.prototype.isAnnotationToolbarHidden=function(){return!this.pdfViewer.toolbarModule.annotationToolbarModule||this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden},S.prototype.isFormDesignerToolbarHidded=function(){var e=this.pdfViewer.toolbarModule.formDesignerToolbarModule;return!e||e.isToolbarHidden},S.prototype.getTextMarkupAnnotationMode=function(){return!!this.isTextMarkupAnnotationModule()&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode},S.prototype.isNewFreeTextAnnotation=function(){return!this.pdfViewer.annotationModule||!this.pdfViewer.annotationModule.freeTextAnnotationModule||!this.pdfViewer.annotationModule.freeTextAnnotationModule.isNewFreeTextAnnot},S.prototype.getCurrentTextMarkupAnnotation=function(){return!!this.isTextMarkupAnnotationModule()&&!!this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation},S.prototype.getSelectTextMarkupCurrentPage=function(){return this.isTextMarkupAnnotationModule()?this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage:null},S.prototype.getAnnotationToolStatus=function(){return!!this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.isAnnotationButtonsEnabled()},S.prototype.getPopupNoteVisibleStatus=function(){return!!this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.isPopupNoteVisible},S.prototype.isTextMarkupAnnotationModule=function(){return this.pdfViewer.annotationModule?this.pdfViewer.annotationModule.textMarkupAnnotationModule:null},S.prototype.isShapeAnnotationModule=function(){return!!this.pdfViewer.annotation&&!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.shapeAnnotationModule)},S.prototype.isFormDesignerModule=function(){return!!this.pdfViewer.formDesignerModule},S.prototype.isFormFieldsModule=function(){return!!this.pdfViewer.formFieldsModule},S.prototype.isCalibrateAnnotationModule=function(){return!!this.pdfViewer.annotation&&!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.measureAnnotationModule)},S.prototype.isStampAnnotationModule=function(){return!!this.pdfViewer.annotation&&!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.stampAnnotationModule)},S.prototype.isInkAnnotationModule=function(){return!!this.pdfViewer.annotation&&!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.inkAnnotationModule)},S.prototype.isCommentAnnotationModule=function(){return!!this.pdfViewer.annotation&&!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.stickyNotesAnnotationModule)},S.prototype.isShapeBasedAnnotationsEnabled=function(){return!!(this.isShapeAnnotationModule()||this.isCalibrateAnnotationModule()||this.isStampAnnotationModule()||this.isCommentAnnotationModule()||this.isFormDesignerModule()||this.isFormFieldsModule())},S.prototype.getMousePosition=function(e){var t=e.target.parentElement;if(-1!==e.type.indexOf("touch")){var i,n,o,r=e;(this.pdfViewer.annotation||this.isDeviceiOS)&&(i=this.pdfViewer.currentPageNumber-1,this.pdfViewer.annotation&&!isNaN(this.pdfViewer.annotation.getEventPageNumber(e))&&(i=this.pdfViewer.annotation.getEventPageNumber(e)),isNaN(i)&&this.pdfViewer.formDesignerModule&&(i=this.pdfViewer.formDesignerModule.getEventPageNumber(e)),i=this.getElement("_pageDiv_"+i))&&(i=i.getBoundingClientRect(),n=r.changedTouches[0].clientX-i.left,o=r.changedTouches[0].clientY-i.top)}else if(e.target.classList.contains("e-pv-hyperlink"))n=e.offsetX+e.target.offsetLeft,o=e.offsetY+e.target.offsetTop;else if(e.target.classList.contains("e-pv-text")&&t){var a=t.getBoundingClientRect();n=e.clientX-a.left,o=e.clientY-a.top}else if(e.target&&e&&e.path&&t&&(t.classList.contains("foreign-object")||t.parentElement.classList.contains("foreign-object"))){var a=void 0;if("e-pv-page-div"===e.path[4].className)a=e.path[4].getBoundingClientRect();else for(var s=0;s<e.path.length;s++)if("e-pv-page-div"===e.path[parseInt(s.toString(),10)].className){a=e.path[parseInt(s.toString(),10)].getBoundingClientRect();break}n=e.clientX-a.left,o=e.clientY-a.top}else o=e.target&&t&&t.classList.contains("foreign-object")||e.target.classList.contains("e-pv-checkbox-div")?(a=void 0,a=(e.target.classList.contains("e-pv-checkbox-div")?e.target.offsetParent:e.target).offsetParent.offsetParent.offsetParent.getBoundingClientRect(),n=e.clientX-a.left,e.clientY-a.top):(n=e.offsetX,e.offsetY);return{x:n,y:o}},S.prototype.getMouseEventArgs=function(e,t,i,n){var o,r;return t.position=e,(o=n||"Drag"!==this.action&&"ConnectorSourceEnd"!==this.action&&"SegmentEnd"!==this.action&&"OrthoThumb"!==this.action&&"BezierSourceThumb"!==this.action&&"BezierTargetThumb"!==this.action&&"ConnectorTargetEnd"!==this.action&&-1===this.action.indexOf("Rotate")&&-1===this.action.indexOf("Resize")||(o=this.pdfViewer.selectedItems,"Drag"===this.action&&o&&0<this.pdfViewer.selectedItems.annotations.length)||"Drag"===this.action&&o&&0<this.pdfViewer.selectedItems.formFields.length?yt(i,this,this.pdfViewer):o)&&(r=o.wrapper),n?(t.target=o,t.targetWrapper=r):(t.source=o,t.sourceWrapper=r),t.actualObject=this.eventArgs.actualObject,t},S.prototype.findToolToActivate=function(e,t){t={x:t.x/this.getZoomFactor(),y:t.y/this.getZoomFactor()};var i=this.pdfViewer.selectedItems.wrapper;if(i&&e){var n=i.bounds,n=new J.Rect(n.x,n.y,n.width,n.height);if("Line"===e.shapeAnnotationType||"LineWidthArrowHead"===e.shapeAnnotationType||"Distance"===e.shapeAnnotationType||"Polygon"===e.shapeAnnotationType){var o=this.pdfViewer.selectedItems.annotations[0];if(o)for(var r=0;r<o.vertexPoints.length;r++)if(J.contains(t,o.vertexPoints[parseInt(r.toString(),10)],10)&&0!==o.leaderHeight)return"ConnectorSegmentPoint_"+r}if("Distance"===e.shapeAnnotationType){var a=0,s=void 0;if(e&&e.wrapper)for(r=0;r<e.wrapper.children.length;r++){var l=J.Point.findAngle(e.sourcePoint,e.targetPoint);if(-1<e.wrapper.children[parseInt(r.toString(),10)].id.indexOf("leader")){var A=e.wrapper.children[0].bounds.center,A=0===a?(s={x:e.sourcePoint.x,y:e.sourcePoint.y-e.leaderHeight},e.sourcePoint):(s={x:e.targetPoint.x,y:e.targetPoint.y-e.leaderHeight},e.targetPoint),d=J.identityMatrix(),l=(J.rotateMatrix(d,l,A.x,A.y),J.transformPointByMatrix(d,{x:s.x,y:s.y}));if(J.contains(t,l,10))return"Leader"+a;a++}}}var p=this.pdfViewer.touchPadding,h=(this.getZoomFactor()<=1.5&&(p/=this.getZoomFactor()),J.identityMatrix()),c=(J.rotateMatrix(h,e.rotateAngle+i.parentTransform,i.offsetX,i.offsetY),i.offsetX-i.pivot.x*i.actualSize.width),g=i.offsetY-i.pivot.y*i.actualSize.height,u={x:c+(.5===i.pivot.x?2*i.pivot.x:i.pivot.x)*i.actualSize.width/2,y:g-30/this.getZoomFactor()},u=J.transformPointByMatrix(h,u);if("Stamp"===e.shapeAnnotationType&&J.contains(t,u,p))return"Rotate";if((n=this.inflate(p,n)).containsPoint(t,0)){u=this.checkResizeHandles(this.pdfViewer,i,t,h,c,g);if(u)return u}return-1<this.pdfViewer.selectedItems.annotations.indexOf(e)?"Drag":-1<this.pdfViewer.selectedItems.formFields.indexOf(e)&&this.pdfViewer.designerMode?"Drag":"Select"}return this.pdfViewer.tool||"Select"},S.prototype.inflate=function(e,t){return t.x-=e,t.y-=e,t.width+=2*e,t.height+=2*e,t},S.prototype.checkResizeHandles=function(e,t,i,n,o,r){var a=a||this.checkForResizeHandles(e,t,i,n,o,r);return a||null},S.prototype.checkForResizeHandles=function(e,t,i,n,o,r){var a=+this.pdfViewer.touchPadding,e=(2<=this.getZoomFactor()&&!G.Browser.isDevice&&(a/=this.getZoomFactor()/1.9),(t.actualSize.width<40||t.actualSize.height<40&&G.Browser.isDevice)&&(a=a/2*this.getZoomFactor()),e.selectedItems,!1),s=!1,l=!1,A=!1,d=this.pdfViewer.annotationSelectorSettings.resizerLocation;if((d<1||3<d)&&(d=3),!this.pdfViewer.selectedItems.annotations[0]||"Stamp"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"FreeText"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Image"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"HandWrittenSignature"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureText"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureImage"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||(e=!0),this.pdfViewer.selectedItems.annotations[0]&&"StickyNotes"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(s=!0),this.pdfViewer.selectedItems.annotations[0]&&"Ink"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(A=!0),!this.pdfViewer.selectedItems.annotations[0]||"Ellipse"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Radius"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Rectangle"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||(l=!0),!s){if(A||e||this.pdfViewer.selectedItems.annotations[0]&&("HandWrittenSignature"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureImage"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType)||40<=t.actualSize.width&&40<=t.actualSize.height&&l&&(1===d||3===d)){if(J.contains(i,J.transformPointByMatrix(n,{x:o+t.actualSize.width,y:r+t.actualSize.height}),a))return"ResizeSouthEast";if(J.contains(i,J.transformPointByMatrix(n,{x:o,y:r+t.actualSize.height}),a))return"ResizeSouthWest";if(J.contains(i,J.transformPointByMatrix(n,{x:o+t.actualSize.width,y:r}),a))return"ResizeNorthEast";if(J.contains(i,J.transformPointByMatrix(n,{x:o,y:r}),a))return"ResizeNorthWest"}if(A||!l||l&&(2===d||3===d||!(40<=t.actualSize.width&&40<=t.actualSize.height)&&1===d)){if(J.contains(i,J.transformPointByMatrix(n,{x:o+t.actualSize.width,y:r+t.actualSize.height/2}),a)&&!e)return"ResizeEast";if(J.contains(i,J.transformPointByMatrix(n,{x:o,y:r+t.actualSize.height/2}),a)&&!e)return"ResizeWest";if(J.contains(i,J.transformPointByMatrix(n,{x:o+t.actualSize.width/2,y:r+t.actualSize.height}),a)&&!e)return"ResizeSouth";if(J.contains(i,J.transformPointByMatrix(n,{x:o+t.actualSize.width/2,y:r}),a)&&!e)return"ResizeNorth"}}return null},S.prototype.checkSignatureFormField=function(e){var t=!1,e=(this.pdfViewer.formDesignerModule&&(e=e.split("_")[0]),this.pdfViewer.nameTable[""+e]);return t=!e||"SignatureField"!==e.formFieldAnnotationType&&"InitialField"!==e.formFieldAnnotationType&&"SignatureField"!==e.annotName?t:!0},S.prototype.diagramMouseMove=function(e){var t,i,n,o,r,a=this.pdfViewer.allowServerDataBinding,s=this.getElement("_pageDiv_"+(this.currentPageNumber-1)),l=(this.pdfViewer.enableServerDataBinding(!1),this.currentPosition=this.getMousePosition(e),this.pdfViewer.firePageMouseover(this.currentPosition.x,this.currentPosition.y),this.pdfViewer.annotation?this.activeElements.activePageID=this.pdfViewer.annotation.getEventPageNumber(e):this.pdfViewer.formDesignerModule&&(this.activeElements.activePageID=this.pdfViewer.formDesignerModule.getEventPageNumber(e)),yt(e,this,this.pdfViewer)),A=((this.tool instanceof pt||this.tool instanceof mt)&&(l=this.pdfViewer.drawingObject),0<this.pdfViewer.selectedItems.annotations.length&&this.checkSignatureFormField(this.pdfViewer.selectedItems.annotations[0].id));!1!==J.Point.equals(this.currentPosition,this.prevPosition)&&!this.inAction||(!1===this.isMouseDown?(this.eventArgs={},l&&(this.tool=this.getTool(this.action),l.wrapper)&&l.wrapper.children[0]&&(i=l),t=e.target,this.action=this.findToolToActivate(l,this.currentPosition),l&&l.annotationSettings&&l.annotationSettings.isLock&&("Select"!==this.action||this.pdfViewer.annotationModule.checkAllowedInteractions("Select",l)||(this.action=""),"Drag"!==this.action||this.pdfViewer.annotationModule.checkAllowedInteractions("Move",l)||(this.action="Select"),"ResizeSouthEast"!==this.action&&"ResizeNorthEast"!==this.action&&"ResizeNorthWest"!==this.action&&"ResizeSouthWest"!==this.action&&"ResizeNorth"!==this.action&&"ResizeWest"!==this.action&&"ResizeEast"!==this.action&&"ResizeSouth"!==this.action&&!this.action.includes("ConnectorSegmentPoint")&&!this.action.includes("Leader")||this.pdfViewer.annotationModule.checkAllowedInteractions("Resize",l)||(this.action="Select")),this.pdfViewer.designerMode||(G.isNullOrUndefined(i)||G.isNullOrUndefined(i.formFieldAnnotationType))&&!A||("ResizeSouthEast"===this.action||"ResizeNorthEast"===this.action||"ResizeNorthWest"===this.action||"ResizeSouthWest"===this.action||"ResizeNorth"===this.action||"Drag"===this.action||"ResizeWest"===this.action||"ResizeEast"===this.action||"ResizeSouth"===this.action||this.action.includes("ConnectorSegmentPoint")||this.action.includes("Leader"))&&(this.action=""),this.tool=this.getTool(this.action),this.setCursor(t,e),this.pdfViewer.linkAnnotationModule&&0!==this.pdfViewer.selectedItems.annotations.length&&0!==this.pdfViewer.selectedItems.formFields.length&&this.pdfViewer.linkAnnotationModule.disableHyperlinkNavigationUnderObjects(t,e,this)):(!this.tool&&this.action&&"Rotate"===this.action&&(this.tool=this.getTool(this.action),e.target)&&this.setCursor(e.target,e),this.pdfViewer.designerMode||(G.isNullOrUndefined(i)||G.isNullOrUndefined(i.formFieldAnnotationType))&&!A||("ResizeSouthEast"===this.action||"ResizeNorthEast"===this.action||"ResizeNorthWest"===this.action||"ResizeSouthWest"===this.action||"ResizeNorth"===this.action||"Drag"===this.action||"ResizeWest"===this.action||"ResizeEast"===this.action||"ResizeSouth"===this.action||this.action.includes("ConnectorSegmentPoint")||this.action.includes("Leader"))&&(this.action="",this.tool=null),this.eventArgs&&this.eventArgs.source?(t=e.target,this.updateDefaultCursor(this.eventArgs.source,t,e)):this.setCursor(e.target,e),this.diagramMouseActionHelper(e),this.tool&&(l&&"FreeText"===l.shapeAnnotationType&&this.pdfViewer.freeTextSettings.allowEditTextOnly&&"Ink"!==this.action&&this.eventArgs.source&&"FreeText"===this.eventArgs.source.shapeAnnotationType&&((t=event.target).style.cursor="default",this.tool=null),null!=this.tool)&&(i={ctrlKey:e.ctrlKey,shiftKey:e.shiftKey},this.eventArgs.info=i,this.tool.mouseMove(this.eventArgs))),this.pdfViewer.drawingObject&&this.pdfViewer.drawingObject.formFieldAnnotationType&&"Drag"!==this.action&&(this.tool instanceof lt||(this.tool=this.getTool(this.action),this.tool instanceof pt&&(A=this.pdfViewer.drawingObject,l=this.pdfViewer.formDesignerModule.updateFormFieldInitialSize(A,A.formFieldAnnotationType),t=this.pageContainer.firstElementChild.clientWidth-l.width,i=this.pageContainer.firstElementChild.clientHeight-l.height,this.pdfViewer.formDesignerModule&&A.formFieldAnnotationType&&this.currentPosition.x<t&&this.currentPosition.y<i?(o=document.getElementById("FormField_helper_html_element"))?(n=o.parentElement.id.split("_text_")[1]||o.parentElement.id.split("_textLayer_")[1]||o.parentElement.id.split("_annotationCanvas_")[1]||o.parentElement.id.split("_pageDiv_")[1],parseInt(n,10)!==this.activeElements.activePageID?o.remove("FormField_helper_html_element"):(r=this.getMousePosition(event),"Checkbox"===A.formFieldAnnotationType&&o.firstElementChild.firstElementChild.lastElementChild?o.firstElementChild.firstElementChild.lastElementChild.style.visibility="visible":"SignatureField"===A.formFieldAnnotationType||"InitialField"===A.formFieldAnnotationType?(o.firstElementChild.firstElementChild.style.visibility="visible",o.firstElementChild.lastElementChild.style.visibility="visible"):o.firstElementChild.firstElementChild.style.visibility="visible",o.setAttribute("style","height:"+l.height+"px; width:"+l.width+"px;left:"+r.x+"px; top:"+r.y+"px;position:absolute;opacity: 0.5;"))):this.pdfViewer.formDesignerModule.drawHelper(A.formFieldAnnotationType,A,e):(this.currentPosition.x>t||this.currentPosition.y>i)&&((o=document.getElementById("FormField_helper_html_element"))?(r=this.getMousePosition(event),o.setAttribute("style","height:"+l.height+"px; width:"+l.width+"px;left:"+r.x+"px; top:"+r.y+"px;position:absolute;opacity: 0.5;"),this.currentPosition.x+parseInt(o.style.width,10)>parseInt(s.style.width,10)?"Checkbox"===A.formFieldAnnotationType&&o.firstElementChild.firstElementChild.lastElementChild?o.firstElementChild.firstElementChild.lastElementChild.style.visibility="hidden":"SignatureField"===A.formFieldAnnotationType||"InitialField"===A.formFieldAnnotationType?(o.firstElementChild.firstElementChild.style.visibility="hidden",o.firstElementChild.lastElementChild.style.visibility="hidden"):o.firstElementChild.firstElementChild.style.visibility="hidden":"Checkbox"===A.formFieldAnnotationType&&o.firstElementChild.firstElementChild.lastElementChild?o.firstElementChild.firstElementChild.lastElementChild.style.visibility="visible":"SignatureField"===A.formFieldAnnotationType||"InitialField"===A.formFieldAnnotationType?(o.firstElementChild.firstElementChild.style.visibility="visible",o.firstElementChild.lastElementChild.style.visibility="visible"):o.firstElementChild.firstElementChild.style.visibility="visible"):this.pdfViewer.formDesignerModule.drawHelper(A.formFieldAnnotationType,A,e))))),this.prevPosition=this.currentPosition),this.pdfViewer.enableServerDataBinding(a,!0)},S.prototype.updateDefaultCursor=function(e,t,i){e&&void 0!==e.pageIndex&&e.pageIndex!==this.activeElements.activePageID&&t?this.isPanMode?t.style.cursor="grab":t.style.cursor="default":this.setCursor(t,i)},S.prototype.diagramMouseLeave=function(e){this.currentPosition=this.getMousePosition(e),this.pdfViewer.annotation&&(this.activeElements.activePageID=this.pdfViewer.annotation.getEventPageNumber(e)),isNaN(this.activeElements.activePageID)&&this.pdfViewer.formDesignerModule&&(this.activeElements.activePageID=this.pdfViewer.formDesignerModule.getEventPageNumber(e));var t=yt(e,this,this.pdfViewer);!1!==J.Point.equals(this.currentPosition,this.prevPosition)&&!this.inAction||(!1===this.isMouseDown?(this.eventArgs={},t&&t.wrapper.children[0]):(this.diagramMouseActionHelper(e),this.tool&&"Drag"!==this.action&&"Stamp"!==this.pdfViewer.tool&&this.tool.currentElement&&"Stamp"!==this.tool.currentElement.shapeAnnotationType&&(this.tool.mouseLeave(this.eventArgs),this.tool=null,this.pdfViewer.annotation)&&this.pdfViewer.annotationModule.renderAnnotations(this.previousPage,null,null,null)),this.prevPosition=this.currentPosition)},S.prototype.diagramMouseActionHelper=function(e){this.eventArgs.position=this.currentPosition,"Drag"===this.action&&this.eventArgs.source instanceof se&&this.getMouseEventArgs(this.currentPosition,this.eventArgs,e),this.getMouseEventArgs(this.currentPosition,this.eventArgs,e,this.eventArgs.source),this.inAction=!0,this.initialEventArgs=null},S.prototype.setCursor=function(e,t){var i,n=this.pdfViewer.annotationModule?this.pdfViewer.annotationModule.freeTextAnnotationModule:null;if(this.tool instanceof lt)"ResizeNorthWest"===this.tool.corner?(h=this.setResizerCursorType(),e.style.cursor=G.isNullOrUndefined(h)?"nw-resize":h):"ResizeNorthEast"===this.tool.corner?(h=this.setResizerCursorType(),e.style.cursor=G.isNullOrUndefined(h)?"ne-resize":h):"ResizeSouthWest"===this.tool.corner?(h=this.setResizerCursorType(),e.style.cursor=G.isNullOrUndefined(h)?"sw-resize":h):"ResizeSouthEast"===this.tool.corner?(h=this.setResizerCursorType(),e.style.cursor=G.isNullOrUndefined(h)?"se-resize":h):"ResizeNorth"===this.tool.corner?(h=this.setResizerCursorType(),e.style.cursor=G.isNullOrUndefined(h)?"n-resize":h):"ResizeWest"===this.tool.corner?(h=this.setResizerCursorType(),e.style.cursor=G.isNullOrUndefined(h)?"w-resize":h):"ResizeEast"===this.tool.corner?(h=this.setResizerCursorType(),e.style.cursor=G.isNullOrUndefined(h)?"e-resize":h):"ResizeSouth"===this.tool.corner&&(h=this.setResizerCursorType(),e.style.cursor=G.isNullOrUndefined(h)?"s-resize":h);else if(this.isCommentIconAdded&&this.isAddComment)e.style.cursor="crosshair";else if(this.pdfViewer.enableHandwrittenSignature&&this.isNewSignatureAdded&&this.tool instanceof $e)e.style.cursor="crosshair";else if(this.tool instanceof _e)e.style.cursor="move";else if(this.tool instanceof pt||this.tool instanceof mt||this.tool instanceof gt||n&&n.isNewAddedAnnot||this.tool instanceof it)e.style.cursor="crosshair";else if(this.tool instanceof rt)this.tool.endPoint&&this.tool.endPoint.indexOf("Leader0")?(h=this.setResizerCursorType(),e.style.cursor=G.isNullOrUndefined(h)?"nw-resize":h):this.tool.endPoint&&this.tool.endPoint.indexOf("Leader1")?(h=this.setResizerCursorType(),e.style.cursor=G.isNullOrUndefined(h)?"ne-resize":h):this.tool.endPoint&&this.tool.endPoint.indexOf("ConnectorSegmentPoint")&&(e.style.cursor="sw-resize");else if(e.classList.contains("e-pv-text"))e.style.cursor="text";else if(e.classList.contains("e-pv-hyperlink"))e.style.cursor="pointer";else if(this.isPanMode)this.isViewerMouseDown&&"mousemove"===t.type?e.style.cursor="grabbing":(i=yt(t,this,this.pdfViewer))&&"mousemove"===t.type?(e.style.cursor="pointer",o=i,r=this.getMousePosition(t),a={left:(p=this.relativePosition(t)).x,top:p.y},s={left:r.x,top:r.y},l={opacity:o.opacity,fillColor:o.fillColor,strokeColor:o.strokeColor,thicknes:o.thickness,author:o.author,subject:o.subject,modifiedDate:o.modifiedDate},this.isMousedOver=!0,A=this.checkSignatureFormField(o.id),o.formFieldAnnotationType?(this.isFormFieldMousedOver=!0,g={id:o.id,name:o.name,value:o.value,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,color:o.color,backgroundColor:o.backgroundColor,borderColor:o.borderColor,thickness:o.thickness,alignment:o.alignment,isReadonly:o.isReadonly,visibility:o.visibility,maxLength:o.maxLength,isRequired:o.isRequired,isPrint:o.isPrint,rotation:o.rotateAngle,tooltip:o.tooltip,options:o.options,isChecked:o.isChecked,isSelected:o.isSelected},this.pdfViewer.fireFormFieldMouseoverEvent("formFieldMouseover",g,o.pageIndex,p.x,p.y,r.x,r.y)):A||this.pdfViewer.fireAnnotationMouseover(o.annotName,o.pageIndex,o.shapeAnnotationType,o.bounds,l,s,a)):(e.style.cursor="grab",this.isMousedOver&&(d=void 0,d=(this.pdfViewer.formDesignerModule||this.pdfViewer.annotation).getEventPageNumber(t),this.isFormFieldMousedOver?this.pdfViewer.fireFormFieldMouseLeaveEvent("formFieldMouseLeave",null,d):this.pdfViewer.fireAnnotationMouseLeave(d),this.isMousedOver=!1,this.isFormFieldMousedOver=!1));else if((i=yt(t,this,this.pdfViewer))&&0===this.pdfViewer.selectedItems.annotations.length&&"mousemove"===t.type){var o=i,n=this.pdfViewer.nameTable[o.id],r=("HandWrittenSignature"!==n.shapeAnnotationType&&"Ink"!==n.shapeAnnotationType&&n.annotationSettings&&void 0!==n.annotationSettings.isLock&&(n.annotationSettings.isLock=JSON.parse(n.annotationSettings.isLock)),n.annotationSettings&&n.annotationSettings.isLock?e.style.cursor="default":e.style.cursor="pointer",this.getMousePosition(t)),a={left:(p=this.relativePosition(t)).x,top:p.y},s={left:r.x,top:r.y},l={opacity:o.opacity,fillColor:o.fillColor,strokeColor:o.strokeColor,thicknes:o.thickness,author:o.author,subject:o.subject,modifiedDate:o.modifiedDate},A=(this.isMousedOver=!0,this.checkSignatureFormField(o.id));o.formFieldAnnotationType?(this.isFormFieldMousedOver=!0,g={id:o.id,name:o.name,value:o.value,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,color:o.color,backgroundColor:o.backgroundColor,borderColor:o.borderColor,thickness:o.thickness,alignment:o.alignment,isReadonly:o.isReadonly,visibility:o.visibility,maxLength:o.maxLength,isRequired:o.isRequired,isPrint:o.isPrint,rotation:o.rotateAngle,tooltip:o.tooltip,options:o.options,isChecked:o.isChecked,isSelected:o.isSelected},this.fromTarget=o,this.pdfViewer.fireFormFieldMouseoverEvent("formFieldMouseover",g,o.pageIndex,p.x,p.y,r.x,r.y)):A||this.pdfViewer.fireAnnotationMouseover(o.annotName,o.pageIndex,o.shapeAnnotationType,o.bounds,l,s,a)}else if(!this.pdfViewer.formDesignerModule&&t.target.classList.contains("e-pdfviewer-formFields")){for(var d=void 0,r=(this.pdfViewer.annotation&&(d=this.pdfViewer.annotation.getEventPageNumber(t)),this.getMousePosition(t)),p=this.relativePosition(t),h=this.getItemFromSessionStorage("_formfields"),c=JSON.parse(h),g=void 0,u=0;u<c.length;u++)c[parseInt(u.toString(),10)].FieldName===t.target.name&&(g={name:c[parseInt(u.toString(),10)].FieldName,id:c[parseInt(u.toString(),10)].uniqueID});this.isMousedOver=!0,this.isFormFieldMousedOver=!0,this.pdfViewer.fireFormFieldMouseoverEvent("formFieldMouseover",g,d,p.x,p.y,r.x,r.y)}else this.isMousedOver&&(d=void 0,this.pdfViewer.formDesignerModule?d=this.pdfViewer.formDesignerModule.getEventPageNumber(t):this.pdfViewer.annotation&&(d=this.pdfViewer.annotation.getEventPageNumber(t)),this.isFormFieldMousedOver?this.fromTarget?(g={name:this.fromTarget.name,id:this.fromTarget.id,value:this.fromTarget.value,fontFamily:this.fromTarget.fontFamily,fontSize:this.fromTarget.fontSize,fontStyle:this.fromTarget.fontStyle,color:this.fromTarget.color,backgroundColor:this.fromTarget.backgroundColor,borderColor:this.fromTarget.borderColor,thickness:this.fromTarget.thickness,alignment:this.fromTarget.alignment,isReadonly:this.fromTarget.isReadonly,visibility:this.fromTarget.visibility,maxLength:this.fromTarget.maxLength,isRequired:this.fromTarget.isRequired,isPrint:this.fromTarget.isPrint,rotation:this.fromTarget.rotateAngle,tooltip:this.fromTarget.tooltip,options:this.fromTarget.options,isChecked:this.fromTarget.isChecked,isSelected:this.fromTarget.isSelected},this.pdfViewer.fireFormFieldMouseLeaveEvent("formFieldMouseLeave",g,d)):this.pdfViewer.fireFormFieldMouseLeaveEvent("formFieldMouseLeave",null,d):this.pdfViewer.fireAnnotationMouseLeave(d),this.isMousedOver=!1,this.isFormFieldMousedOver=!1,e.style.cursor="default"),i&&1===this.pdfViewer.selectedItems.annotations.length&&"mousemove"===t.type?e.style.cursor="pointer":e.style.cursor="default"},S.prototype.setResizerCursorType=function(){var e;return this.pdfViewer.selectedItems.annotations[0]&&G.isNullOrUndefined(this.pdfViewer.selectedItems.annotations[0].annotationSelectorSettings.resizerCursorType)?"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=G.isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings)?null:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerCursorType:"Stamp"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=G.isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings)?null:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerCursorType:"HandWrittenSignature"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureImage"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)?null:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerCursorType:"Ink"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=G.isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)?null:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerCursorType:this.pdfViewer.selectedItems.annotations[0].measureType?this.pdfViewer.selectedItems.annotations[0].measureType&&("Distance calculation"===this.pdfViewer.selectedItems.annotations[0].subject?e=G.isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings)?null:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerCursorType:"Perimeter calculation"===this.pdfViewer.selectedItems.annotations[0].subject?e=G.isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings)?null:this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerCursorType:"Area calculation"===this.pdfViewer.selectedItems.annotations[0].subject?e=G.isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings)?null:this.pdfViewer.areaSettings.annotationSelectorSettings.resizerCursorType:"Radius calculation"===this.pdfViewer.selectedItems.annotations[0].subject?e=G.isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings)?null:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerCursorType:"Volume calculation"===this.pdfViewer.selectedItems.annotations[0].subject&&(e=G.isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings)?null:this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerCursorType)):"Line"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=G.isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings)?null:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerCursorType:"LineWidthArrowHead"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=G.isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings)?null:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerCursorType:"Rectangle"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=G.isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings)?null:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerCursorType:"Ellipse"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=G.isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings)?null:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerCursorType:"Polygon"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(e=G.isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings)?null:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerCursorType):this.pdfViewer.selectedItems.annotations[0]&&(e=this.pdfViewer.selectedItems.annotations[0].annotationSelectorSettings.resizerCursorType),e=e||this.pdfViewer.annotationSelectorSettings.resizerCursorType},S.prototype.getTool=function(e){switch(e){case"Select":return new Ke(this.pdfViewer,this);case"Drag":return new _e(this.pdfViewer,this);case"ResizeSouthEast":case"ResizeSouthWest":case"ResizeNorthEast":case"ResizeNorthWest":case"ResizeSouth":case"ResizeNorth":case"ResizeWest":case"ResizeEast":return new lt(this.pdfViewer,this,e);case"ConnectorSourceEnd":case"ConnectorTargetEnd":case"Leader":case"ConnectorSegmentPoint":return new rt(this.pdfViewer,this,e);case"DrawTool":return new pt(this.pdfViewer,this,this.pdfViewer.drawingObject);case"Polygon":return new gt(this.pdfViewer,this,"Polygon");case"Distance":return new mt(this.pdfViewer,this,"Leader1",void 0);case"Line":return new mt(this.pdfViewer,this,"ConnectorSegmentPoint_1",this.pdfViewer.drawingObject);case"Perimeter":return new gt(this.pdfViewer,this,"Perimeter");case"Rotate":return new Ct(this.pdfViewer,this);case"Stamp":return new $e(this.pdfViewer,this);case"Ink":return new it(this.pdfViewer,this,this.pdfViewer.drawingObject)}return-1<e.indexOf("ConnectorSegmentPoint")||-1<e.indexOf("Leader")?new rt(this.pdfViewer,this,e):null},S.prototype.diagramMouseUp=function(e){var t,i=this.pdfViewer.allowServerDataBinding,n=(this.pdfViewer.enableServerDataBinding(!1),this.action.toLowerCase().includes("resize")||this.action.toLowerCase().includes("connectorsegmentpoint")),n="Drag"===this.action||n||(this.tool instanceof pt||this.tool instanceof mt||this.tool instanceof gt)&&this.tool.dragging&&this.tool.drawingObject,o=(this.tool&&(this.inAction||3===e.which||"Drag"===this.action&&(this.action="Select",t=yt(e,this,this.pdfViewer)),this.tool instanceof gt||this.tool instanceof mt||this.tool instanceof pt||(this.inAction=!1,this.isMouseDown=!1),this.currentPosition=this.getMousePosition(e),this.tool)&&(this.eventArgs.position=this.currentPosition,this.getMouseEventArgs(this.currentPosition,this.eventArgs,e,this.eventArgs.source),this.isMetaKey(e),o={ctrlKey:e.ctrlKey,shiftKey:e.shiftKey},this.eventArgs.info=o,this.eventArgs.clickCount=e.detail,"touchend"===e.type?this.eventArgs.isTouchMode=!0:this.eventArgs.isTouchMode=!1,this.tool.mouseUp(this.eventArgs),this.isAnnotationMouseDown=!1,this.isFormFieldMouseDown=!1,(this.tool instanceof pt||this.tool instanceof mt||this.tool instanceof gt)&&!this.tool.dragging&&(this.inAction=!1,this.isMouseDown=!1),n&&(t=yt(e,this,this.pdfViewer),this.isShapeAnnotationModule()||this.isCalibrateAnnotationModule())&&this.pdfViewer.annotation.onShapesMouseup(t,e),this.isAnnotationDrawn=!1),e.target);e.cancelable&&(!this.isDeviceiOS||this.pdfViewer.annotationModule)&&this.skipPreventDefault(o)&&e.preventDefault(),this.eventArgs={},this.pdfViewer.enableServerDataBinding(i,!0),"MouseUp"===this.pdfViewer.contextMenuSettings.contextMenuAction&&this.pdfViewer.selectedItems&&(this.pdfViewer.selectedItems.annotations&&0<this.pdfViewer.selectedItems.annotations.length||this.pdfViewer.selectedItems.formFields&&0<this.pdfViewer.selectedItems.formFields.length)&&this.contextMenuModule.open(this.mouseY,this.mouseX,this.viewerContainer)},S.prototype.skipPreventDefault=function(e){var t=!1,i=!1;return this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus&&(i=!0),t=!e.parentElement||"foreign-object"===e.parentElement.className||e.classList.contains("e-pv-radio-btn")||e.classList.contains("e-pv-radiobtn-span")||e.classList.contains("e-pv-checkbox-div")||e.classList.contains("e-pdfviewer-formFields")||e.classList.contains("e-pdfviewer-ListBox")||e.classList.contains("e-pdfviewer-signatureformfields")||"free-text-input"===e.className&&"TEXTAREA"===e.tagName||i||"e-pv-hyperlink"===e.className||!(0<e.parentElement.classList.length)||e.parentElement.classList.contains("e-editable-elements")||this.isAddComment?t:!0},S.prototype.isMetaKey=function(e){return navigator.platform.match("Mac")?e.metaKey:e.ctrlKey},S.prototype.diagramMouseDown=function(e){var t,i=this,n=(this.tool instanceof _e&&!(this.tool instanceof $e)&&this.tool.inAction&&(this.diagramMouseUp(e),1===e.which)&&(this.preventContextmenu=!0,setTimeout(function(){i.preventContextmenu=!1},200)),this.pdfViewer.allowServerDataBinding),o=(this.pdfViewer.enableServerDataBinding(!1),e.touches),r=(this.isMouseDown=!0,this.isAnnotationAdded=!1,this.currentPosition=this.prevPosition=this.getMousePosition(e),!(this.eventArgs={})),a=("Stamp"===this.pdfViewer.tool&&(r=!(this.pdfViewer.tool="")),this.pdfViewer.annotation&&(a=this.pdfViewer.annotation.getEventPageNumber(e),this.activeElements.activePageID=0<=a?a:this.pdfViewer.currentPageNumber-1),yt(e,this,this.pdfViewer));if(G.isNullOrUndefined(a)&&(s=e.target,G.isNullOrUndefined(s)||G.isNullOrUndefined(s.id)||(s=s.id.split("_")[0],a=this.pdfViewer.nameTable[""+s])),G.isNullOrUndefined(a)||"SignatureField"!==a.formFieldAnnotationType&&"InitialField"!==a.formFieldAnnotationType&&"SignatureField"!==a.annotName&&"InitialField"!==a.annotName?this.isSignInitialClick=!1:this.isSignInitialClick=!0,!G.Browser.isDevice||this.pdfViewer.enableDesktopMode||!a||a instanceof ie||e.preventDefault(),this.pdfViewer.annotation&&this.pdfViewer.enableStampAnnotations){var s=this.pdfViewer.annotationModule.stampAnnotationModule;if(s&&s.isNewStampAnnot){var l=a;if(l=!l&&this.pdfViewer.selectedItems.annotations[0]?this.pdfViewer.selectedItems.annotations[0]:l){this.isViewerMouseDown=!1,l.opacity=this.pdfViewer.stampSettings.opacity,this.isNewStamp=!0;var A=void 0,A=("Image"===l.shapeAnnotationType?this.pdfViewer.customStampSettings:this.pdfViewer.stampSettings).opacity;if(this.pdfViewer.nodePropertyChange(l,{opacity:A}),this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!1,"Image"===l.shapeAnnotationType&&!this.isAlreadyAdded){this.stampAdded=!0;for(var d=l.id,p=(s.currentStampAnnotation&&s.currentStampAnnotation.signatureName&&(d=s.currentStampAnnotation.signatureName),!1),h=0;h<this.customStampCollection.length;h++)if(this.customStampCollection[parseInt(h.toString(),10)].customStampName===d){p=!0;break}p&&(d=l.id),d=s.customStampName||s.currentStampAnnotation.signatureName,this.customStampCollection.push({customStampName:d,customStampImageSource:l.data}),G.isBlazor()&&this.pdfViewer._dotnetInstance.invokeMethodAsync("UpdateCustomStampCollection",d,l.data)}this.pdfViewer.customStampSettings.enableCustomStamp&&this.pdfViewer.customStampSettings.isAddToMenu&&(this.stampAdded=!0),this.isAlreadyAdded=!1,s.updateDeleteItems(l.pageIndex,l,l.opacity),s.resetAnnotation(),s.isNewStampAnnot=!1}}}this.isNewSignatureAdded&&(this.signatureCount++,this.currentSignatureAnnot=null,A=a,(A=G.isNullOrUndefined(A)&&this.pdfViewer.selectedItems.annotations[0]?this.pdfViewer.selectedItems.annotations[0]:A)&&(this.signatureAdded=!(l=""),this.signatureModule.storeSignatureData(A.pageIndex,A),s={left:A.bounds.x,top:A.bounds.y,width:A.bounds.width,height:A.bounds.height},l="Draw"===this.signatureModule.signaturetype?this.signatureModule.saveImageString:A.data,this.pdfViewer.fireSignatureAdd(A.pageIndex,A.signatureName,A.shapeAnnotationType,s,A.opacity,A.strokeColor,A.thickness,l)),this.isNewSignatureAdded=!1),this.pdfViewer.annotationModule&&!0===(s=this.pdfViewer.annotationModule.freeTextAnnotationModule).isNewFreeTextAnnot&&(A=void 0,e.target&&(-1<e.target.id.indexOf("_text")||-1<e.target.id.indexOf("_annotationCanvas")||e.target.classList.contains("e-pv-hyperlink"))&&this.pdfViewer.annotation&&(t=this.pdfViewer.annotation.getEventPageNumber(e),l=this.getAnnotationCanvas("_annotationCanvas_",t))&&(g=(l=l.getBoundingClientRect()).x||l.left,c=l.y||l.top,A=new J.Rect(g+5,c+5,l.width-10,l.height-10)),o&&(this.mouseX=o[0].clientX,this.mouseY=o[0].clientY),A)&&A.containsPoint({x:this.mouseX,y:this.mouseY})&&s.isNewAddedAnnot&&(t=this.pdfViewer.annotation.getEventPageNumber(e),this.pdfViewer.freeTextSettings.enableAutoFit||(g=this.getZoomFactor(),c=this.currentPosition.x+s.defautWidth*g,(l=this.getPageWidth(t))<=c&&(this.currentPosition.x=l-s.defautWidth*g,this.currentPosition.x<=0&&(this.currentPosition.x=5),s.defautWidth=s.defautWidth*g>=l?l-10:s.defautWidth)),s.addInuptElemet(this.currentPosition,null,t),this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule&&(o=this.pdfViewer.toolbar.annotationToolbarModule,G.isBlazor()||o.primaryToolbar.deSelectItem(o.freeTextEditItem)),e.preventDefault(),s.isNewAddedAnnot=!1);a&&a.wrapper.children[0],this.tool&&(!this.tool||this.tool.drawingObject)||(r?(this.action="Select",this.tool=this.getTool(this.action)):(this.action=this.findToolToActivate(a,this.currentPosition),a&&a.annotationSettings&&a.annotationSettings.isLock&&("Select"!==this.action||this.pdfViewer.annotationModule.checkAllowedInteractions("Select",a)||(this.action=""),"Drag"!==this.action||this.pdfViewer.annotationModule.checkAllowedInteractions("Move",a)||(this.action="Select"),"Rotate"===this.action&&(this.action="Select"),"ResizeSouthEast"!==this.action&&"ResizeNorthEast"!==this.action&&"ResizeNorthWest"!==this.action&&"ResizeSouthWest"!==this.action&&"ResizeSouth"!==this.action&&"ResizeNorth"!==this.action&&"ResizeWest"!==this.action&&"ResizeEast"!==this.action&&!this.action.includes("ConnectorSegmentPoint")&&!this.action.includes("Leader")||this.pdfViewer.annotationModule.checkAllowedInteractions("Resize",a)||(this.action="Select")),this.tool=this.getTool(this.action),this.tool||(this.action=this.pdfViewer.tool||"Select",this.tool=this.getTool(this.action)))),this.getMouseEventArgs(this.currentPosition,this.eventArgs,e),this.eventArgs.position=this.currentPosition,this.tool&&(this.isAnnotationMouseDown=!1,this.isFormFieldMouseDown=!1,this.isAnnotationMouseMove=!1,this.isFormFieldMouseMove=!1,G.isNullOrUndefined(a)||"annotations"===a.propName||(this.eventArgs.source=a),this.tool.mouseDown(this.eventArgs),this.isAnnotationDrawn=!0,this.signatureAdded=!0),this.pdfViewer.annotation&&this.pdfViewer.annotation.onAnnotationMouseDown(),!this.pdfViewer.selectedItems||1!==this.pdfViewer.selectedItems.formFields.length||G.isNullOrUndefined(this.pdfViewer.toolbar)||G.isNullOrUndefined(this.pdfViewer.toolbar.formDesignerToolbarModule)||this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(!0);var c,g,u=(u=1===this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.nameTable[this.pdfViewer.selectedItems.annotations[0].id.split("_")[0]+"_content"]:null)||(1===this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.nameTable[this.pdfViewer.selectedItems.annotations[0].id]:null);this.eventArgs&&this.eventArgs.source&&(this.eventArgs.source.formFieldAnnotationType||u)&&!this.pdfViewer.designerMode&&(A=void 0,A=(A=u?this.pdfViewer.nameTable[this.pdfViewer.selectedItems.annotations[0].id.split("_")[0]]:this.eventArgs.source)||this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===u.id})])&&(c={name:A.name,id:A.id,fontFamily:A.fontFamily,fontSize:A.fontSize,fontStyle:A.fontStyle,color:A.color,value:A.value,type:A.formFieldAnnotationType||A.type,backgroundColor:A.backgroundColor,alignment:A.alignment,bounds:A.bounds},g=(g=document.getElementById(A.id))||(document.getElementById(A.id+"_content_html_element")?document.getElementById(A.id+"_content_html_element").children[0].children[0]:null))&&(this.currentTarget=g,this.pdfViewer.fireFormFieldClickEvent("formFieldClicked",c,!1,0===e.button)),this.initialEventArgs={source:this.eventArgs.source,sourceWrapper:this.eventArgs.sourceWrapper},this.initialEventArgs.position=this.currentPosition,this.initialEventArgs.info=this.eventArgs.info,this.pdfViewer.enableServerDataBinding(n,!0)},S.prototype.exportAnnotationsAsObject=function(i){var n=this;if(this.pdfViewer.annotationModule&&this.updateExportItem())return new Promise(function(t,e){n.createRequestForExportAnnotations(!0,i).then(function(e){t(e)})})},S.prototype.getItemFromSessionStorage=function(e){return this.isStorageExceed?this.formFieldStorage[this.documentId+e]:S.sessionStorageManager.getItem(this.documentId+e)},S.prototype.setStyleToTextDiv=function(e,t,i,n,o,r,a){var s=this.getZoomFactor();a&&(s=1,e.style.position="absolute"),e.style.left=t*s+"px",e.style.top=i*s+"px",e.style.height=r*s+"px",e.style.width=o*s+"px",e.style.margin="0px",0<n&&(e.style.fontSize=n*s+"px")},S.prototype.ConvertPointToPixel=function(e){return e*(96/72)},S.prototype.getAngle=function(e){var t=0;if(e)switch(e){case 0:t=0;break;case 1:t=90;break;case 2:t=180;break;case 3:t=270}return t},S.prototype.setItemInSessionStorage=function(e,t){var i=Math.round(JSON.stringify(e).length/1024),n=S.sessionStorageManager.getWindowSessionStorageSize();4500<i&&(this.isStorageExceed=!0,this.pdfViewer.formFieldsModule)&&!this.isFormStorageExceed&&(this.pdfViewer.formFieldsModule.clearFormFieldStorage(),this.isFormStorageExceed=!0),this.isStorageExceed?this.formFieldStorage[this.documentId+t]=JSON.stringify(e):4500<i+n?(this.isStorageExceed=!0,this.pdfViewer.formFieldsModule&&this.pdfViewer.formFieldsModule.clearFormFieldStorage(),this.isFormStorageExceed=!0,this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.clearAnnotationStorage(),this.formFieldStorage[this.documentId+t]=JSON.stringify(e)):S.sessionStorageManager.setItem(this.documentId+t,JSON.stringify(e))},S.prototype.exportFormFieldsAsObject=function(i){var n=this;if(this.pdfViewer.formFieldsModule)return new Promise(function(t,e){n.createRequestForExportFormfields(!0,i).then(function(e){t(e)})})},S.prototype.importAnnotations=function(e,t,i){this.pdfViewer.annotationModule&&this.createRequestForImportAnnotations(e,t,i)},S.prototype.exportAnnotations=function(e){this.pdfViewer.annotationModule&&this.updateExportItem()&&this.createRequestForExportAnnotations(!1,e)},S.prototype.createRequestForExportAnnotations=function(o,r,a){var s=this,l=this,e=new Promise(function(t,e){var i,n=s.constructJsonDownload();n.annotationDataFormat=r,n.action="ExportAnnotations",l.pdfViewer.fireExportStart(n)&&(l.jsonDocumentId&&(n.document=l.jsonDocumentId),i=l.pdfViewer.serviceUrl+"/"+l.pdfViewer.serverActionSettings.exportAnnotations,l.exportAnnotationRequestHandler=new Bn(s.pdfViewer),l.exportAnnotationRequestHandler.url=i,l.exportAnnotationRequestHandler.mode=!0,l.exportAnnotationRequestHandler.responseType="text",s.clientSideRendering?(i=s.pdfViewer.pdfRendererModule.exportAnnotation(n,o),o?l.exportAnnotationFileDownload(i,l,r,n,o,a).then(function(e){t(e)}):l.exportAnnotationFileDownload(i,l,r,n,o,a).then(function(e){t(e)})):l.exportAnnotationRequestHandler.send(n),l.exportAnnotationRequestHandler.onSuccess=function(e){var e=e.data;l.checkRedirection(e)||(e?o?l.exportAnnotationFileDownload(e,l,r,n,o,a).then(function(e){t(e)}):l.exportAnnotationFileDownload(e,l,r,n,o,a).then(function(e){t(e)}):(e=void 0,e=null!==l.pdfViewer.exportAnnotationFileName?l.pdfViewer.exportAnnotationFileName:l.pdfViewer.fileName,l.pdfViewer.fireExportSuccess("Exported data saved in server side successfully",e)))},l.exportAnnotationRequestHandler.onFailure=function(e){l.pdfViewer.fireExportFailed(n.pdfAnnotation,e.statusText)},l.exportAnnotationRequestHandler.onError=function(e){l.pdfViewer.fireExportFailed(n.pdfAnnotation,e.statusText)})});return!o&&!a||e},S.prototype.handleServerSideExport=function(r,a,s,l,A,d){var p=this;return new Promise(function(e){if(r){if(r="object"==typeof r?JSON.parse(r):r){var t,i,n=a.pdfViewer.fireAjaxRequestSuccess(a.pdfViewer.serverActionSettings.exportAnnotations,r);if(A||d&&!G.isBlazor())r.split("base64,")[1]?(t=r,i=atob(r.split(",")[1]),A&&(t="Json"===l.annotationDataFormat?(i=a.getSanitizedString(i),JSON.parse(i)):i),null!==a.pdfViewer.exportAnnotationFileName?a.pdfViewer.fireExportSuccess(t,a.pdfViewer.exportAnnotationFileName):a.pdfViewer.fireExportSuccess(t,a.pdfViewer.fileName),a.updateDocumentAnnotationCollections(),e(d?r:i)):a.pdfViewer.fireExportFailed(l.pdfAnnotation,a.pdfViewer.localeObj.getConstant("Export Failed"));else if("Json"===s)if(r.split("base64,")[1]){if(n)return r;var o=a.createBlobUrl(r.split("base64,")[1],"application/json");G.Browser.isIE||"edge"===G.Browser.info.name?null!==a.pdfViewer.exportAnnotationFileName?window.navigator.msSaveOrOpenBlob(o,a.pdfViewer.exportAnnotationFileName.split(".")[0]+".json"):window.navigator.msSaveOrOpenBlob(o,a.pdfViewer.fileName.split(".")[0]+".json"):a.downloadExportFormat(o,s),a.updateDocumentAnnotationCollections()}else G.isBlazor()?p.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_ExportFailed").then(function(e){a.openImportExportNotificationPopup(e)}):a.openImportExportNotificationPopup(a.pdfViewer.localeObj.getConstant("Export Failed")),a.pdfViewer.fireExportFailed(l.pdfAnnotation,a.pdfViewer.localeObj.getConstant("Export Failed"));else if(r.split("base64,")[1]){if(n)return r;o=a.createBlobUrl(r.split("base64,")[1],"application/vnd.adobe.xfdf");G.Browser.isIE||"edge"===G.Browser.info.name?window.navigator.msSaveOrOpenBlob(o,a.pdfViewer.fileName.split(".")[0]+".xfdf"):a.downloadExportFormat(o,s),a.updateDocumentAnnotationCollections()}else G.isBlazor()?p.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_ExportFailed").then(function(e){a.openImportExportNotificationPopup(e)}):a.openImportExportNotificationPopup(a.pdfViewer.localeObj.getConstant("Export Failed")),a.pdfViewer.fireExportFailed(l,a.pdfViewer.localeObj.getConstant("Export Failed"))}if("string"!=typeof r)try{"string"==typeof r&&(a.onControlError(500,r,a.pdfViewer.serverActionSettings.exportAnnotations),r=null)}catch(e){a.pdfViewer.fireExportFailed(l.pdfAnnotation,a.pdfViewer.localeObj.getConstant("Export Failed")),a.onControlError(500,r,a.pdfViewer.serverActionSettings.exportAnnotations),r=null}}return""})},S.prototype.handleClientSideExport=function(r,a,s,l,A,d){var p=this;return new Promise(function(e){if(r){var t,i,n=a.pdfViewer.fireAjaxRequestSuccess(a.pdfViewer.serverActionSettings.exportAnnotations,r);if(A||d&&!G.isBlazor())r&&"string"!=typeof r?(t=r,i=new TextDecoder("utf-8").decode(r),A&&(t="Json"===l.annotationDataFormat?(i=a.getSanitizedString(i),JSON.parse(i)):i),null!==a.pdfViewer.exportAnnotationFileName?a.pdfViewer.fireExportSuccess(t,a.pdfViewer.exportAnnotationFileName):a.pdfViewer.fireExportSuccess(t,a.pdfViewer.fileName),a.updateDocumentAnnotationCollections(),e(d?r:i)):a.pdfViewer.fireExportFailed(l.pdfAnnotation,a.pdfViewer.localeObj.getConstant("Export Failed"));else if("Json"===s)if(r&&"string"!=typeof r){if(n)return r;var o=new Blob([r],{type:"application/json"});G.Browser.isIE||"edge"===G.Browser.info.name?null!==a.pdfViewer.exportAnnotationFileName?window.navigator.msSaveOrOpenBlob(o,a.pdfViewer.exportAnnotationFileName.split(".")[0]+".json"):window.navigator.msSaveOrOpenBlob(o,a.pdfViewer.fileName.split(".")[0]+".json"):a.downloadExportFormat(o,s),a.updateDocumentAnnotationCollections()}else G.isBlazor()?p.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_ExportFailed").then(function(e){a.openImportExportNotificationPopup(e)}):a.openImportExportNotificationPopup(a.pdfViewer.localeObj.getConstant("Export Failed")),a.pdfViewer.fireExportFailed(l.pdfAnnotation,a.pdfViewer.localeObj.getConstant("Export Failed"));else if(r&&"string"!=typeof r){if(n)return r;o=new Blob([r],{type:"application/vnd.adobe.xfdf"});G.Browser.isIE||"edge"===G.Browser.info.name?window.navigator.msSaveOrOpenBlob(o,a.pdfViewer.fileName.split(".")[0]+".xfdf"):a.downloadExportFormat(o,s),a.updateDocumentAnnotationCollections()}else G.isBlazor()?p.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_ExportFailed").then(function(e){a.openImportExportNotificationPopup(e)}):a.openImportExportNotificationPopup(a.pdfViewer.localeObj.getConstant("Export Failed")),a.pdfViewer.fireExportFailed(l,a.pdfViewer.localeObj.getConstant("Export Failed"))}else try{"string"==typeof r&&(a.onControlError(500,r,a.pdfViewer.serverActionSettings.exportAnnotations),r=null)}catch(e){a.pdfViewer.fireExportFailed(l.pdfAnnotation,a.pdfViewer.localeObj.getConstant("Export Failed")),a.onControlError(500,r,a.pdfViewer.serverActionSettings.exportAnnotations),r=null}return""})},S.prototype.exportAnnotationFileDownload=function(e,t,i,n,o,r){return this.clientSideRendering?this.handleClientSideExport(e,t,i,n,o,r):this.handleServerSideExport(e,t,i,n,o,r)},S.prototype.getDataOnSuccess=function(i){var n=this;return new Promise(function(e){var t=null;(t=n).pdfViewer.fireExportSuccess(i,t.pdfViewer.fileName),t.updateDocumentAnnotationCollections(),e(i)})},S.prototype.updateModifiedDateToLocalDate=function(e,t){if(e[""+t]&&0<e[""+t].length){var i=e[""+t];if(i)for(var n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)].ModifiedDate=this.convertUTCDateTimeToLocalDateTime(i[parseInt(n.toString(),10)].ModifiedDate),i[parseInt(n.toString(),10)].Comments)for(var o=0;o<i[parseInt(n.toString(),10)].Comments.length;o++)i[parseInt(n.toString(),10)].Comments[parseInt(o.toString(),10)].ModifiedDate=this.convertUTCDateTimeToLocalDateTime(i[parseInt(n.toString(),10)].Comments[parseInt(o.toString(),10)].ModifiedDate)}},S.prototype.convertUTCDateTimeToLocalDateTime=function(e){return this.globalize=new G.Internationalization(this.pdfViewer.locale),e=null!=e&&""!==e?this.clientSideRendering?new Date(e):new Date(Date.parse(e+" UTC")):(e=new Date,e=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()),new Date(e)),this.globalize.formatDate(e,{format:"M/d/yyyy h:mm:ss a",type:"dateTime"})},S.prototype.createRequestForImportAnnotations=function(r,e,t){var a=this;if(!t&&a.isPDFViewerJson?this.isJsonImported=!0:this.isJsonImported=!1,"object"!=typeof r||r instanceof Uint8Array){a.pdfViewer.fireImportStart(r),t="Json"===e&&a.isPDFViewerJson?{fileName:r,action:"ImportAnnotations",elementId:a.pdfViewer.element.id,hashId:a.hashId,uniqueId:a.documentId,annotationDataFormat:e}:{importedData:r,action:"ImportAnnotations",elementId:a.pdfViewer.element.id,hashId:a.hashId,uniqueId:a.documentId,annotationDataFormat:e},(t=Object.assign(t,this.constructJsonDownload())).action="ImportAnnotations",a.jsonDocumentId&&(t.documentId&&delete t.documentId,t.document=a.jsonDocumentId);var e=a.pdfViewer.serviceUrl+"/"+a.pdfViewer.serverActionSettings.importAnnotations;a.importAnnotationRequestHandler=new Bn(a.pdfViewer),a.importAnnotationRequestHandler.url=e,a.importAnnotationRequestHandler.mode=!0,a.importAnnotationRequestHandler.responseType="text",this.clientSideRendering?(e=this.pdfViewer.pdfRendererModule.importAnnotations(t))&&this.addAnnotationOnImport(e,r):a.importAnnotationRequestHandler.send(t),a.importAnnotationRequestHandler.onSuccess=function(e){var t=e.data,e=a.checkRedirection(t);if(!e&&t){if("object"!=typeof t)try{"object"!=typeof(t=JSON.parse(t))&&(a.onControlError(500,t,a.pdfViewer.serverActionSettings.importAnnotations),t=null)}catch(e){a.pdfViewer.fireImportFailed(r,a.pdfViewer.localeObj.getConstant("File not found")),G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_FileNotFound").then(function(e){a.openImportExportNotificationPopup(e)}):a.openImportExportNotificationPopup(a.pdfViewer.localeObj.getConstant("File not found")),a.onControlError(500,t,a.pdfViewer.serverActionSettings.importAnnotations),t=null}if(t&&(a.pdfViewer.fireAjaxRequestSuccess(a.pdfViewer.serverActionSettings.importAnnotations,t),t.pdfAnnotation)){for(var i,n=Object.keys(t.pdfAnnotation),o=0;o<Object.keys(t.pdfAnnotation).length;o++)i=t.pdfAnnotation[n[parseInt(o.toString(),10)]],a.updateModifiedDateToLocalDate(i,"annotationOrder"),a.updateModifiedDateToLocalDate(i,"freeTextAnnotation"),a.updateModifiedDateToLocalDate(i,"measureShapeAnnotation"),a.updateModifiedDateToLocalDate(i,"shapeAnnotation"),a.updateModifiedDateToLocalDate(i,"signatureAnnotation"),a.updateModifiedDateToLocalDate(i,"signatureInkAnnotation"),a.updateModifiedDateToLocalDate(i,"stampAnnotations"),a.updateModifiedDateToLocalDate(i,"stickyNotesAnnotation"),a.updateModifiedDateToLocalDate(i,"textMarkupAnnotation");a.reRenderAnnotations(t.pdfAnnotation),a.isImportedAnnotation=!0,a.updateDocumentEditedProperty(!0),a.pdfViewer.fireImportSuccess(t.pdfAnnotation)}}},a.importAnnotationRequestHandler.onFailure=function(e){a.pdfViewer.fireImportFailed(r,e.statusText)},a.importAnnotationRequestHandler.onError=function(e){a.pdfViewer.fireImportFailed(r,e.statusText)}}else{if(r&&r.pdfAnnotation)for(var i=Object.keys(r.pdfAnnotation),n=0;n<i.length;n++){var o=r.pdfAnnotation[i[parseInt(n.toString(),10)]];this.updateModifiedDateToLocalDate(o,"freeTextAnnotation"),this.updateModifiedDateToLocalDate(o,"measureShapeAnnotation"),this.updateModifiedDateToLocalDate(o,"shapeAnnotation"),this.updateModifiedDateToLocalDate(o,"signatureAnnotation"),this.updateModifiedDateToLocalDate(o,"signatureInkAnnotation"),this.updateModifiedDateToLocalDate(o,"stampAnnotations"),this.updateModifiedDateToLocalDate(o,"stickyNotesAnnotation"),this.updateModifiedDateToLocalDate(o,"textMarkupAnnotation")}a.reRenderAnnotations(r.pdfAnnotation),a.isImportedAnnotation=!0,a.updateDocumentEditedProperty(!0),this.isAddAnnotation||a.pdfViewer.fireImportSuccess(r.pdfAnnotation)}},S.prototype.addAnnotationOnImport=function(e,t){var i=this;if(e)if(i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.importAnnotations,e),e.pdfAnnotation){for(var n,o=Object.keys(e.pdfAnnotation),r=0;r<Object.keys(e.pdfAnnotation).length;r++)n=e.pdfAnnotation[o[parseInt(r.toString(),10)]],i.updateModifiedDateToLocalDate(n,"annotationOrder"),i.updateModifiedDateToLocalDate(n,"freeTextAnnotation"),i.updateModifiedDateToLocalDate(n,"measureShapeAnnotation"),i.updateModifiedDateToLocalDate(n,"shapeAnnotation"),i.updateModifiedDateToLocalDate(n,"signatureAnnotation"),i.updateModifiedDateToLocalDate(n,"signatureInkAnnotation"),i.updateModifiedDateToLocalDate(n,"stampAnnotations"),i.updateModifiedDateToLocalDate(n,"stickyNotesAnnotation"),i.updateModifiedDateToLocalDate(n,"textMarkupAnnotation");i.reRenderAnnotations(e.pdfAnnotation),i.isImportedAnnotation=!0,i.updateDocumentEditedProperty(!0),i.pdfViewer.fireImportSuccess(e.pdfAnnotation)}else i.pdfViewer.fireImportFailed(t,i.pdfViewer.localeObj.getConstant("File not found"))},S.prototype.openImportExportNotificationPopup=function(e){this.pdfViewer.showNotificationDialog&&this.createNotificationPopup(e)},S.prototype.reRenderAnnotations=function(e){if(e){this.isImportAction=!0;var t=0;this.isImportedAnnotation?this.importedAnnotation=this.combineImportedData(this.importedAnnotation,e):0<this.pageCount&&(this.importedAnnotation=e),this.isImportedAnnotation||(t=0);for(var i,n=0;n<this.pageCount;n++)if(e[parseInt(n.toString(),10)]){var o=[],r=S.sessionStorageManager.getItem(this.documentId+"_annotations_textMarkup"),a=S.sessionStorageManager.getItem(this.documentId+"_annotations_shape"),s=S.sessionStorageManager.getItem(this.documentId+"_annotations_shape_measure"),l=S.sessionStorageManager.getItem(this.documentId+"_annotations_stamp"),A=S.sessionStorageManager.getItem(this.documentId+"_annotations_sticky"),d=S.sessionStorageManager.getItem(this.documentId+"_annotations_freetext"),p=S.sessionStorageManager.getItem(this.documentId+"_annotations_sign"),h=S.sessionStorageManager.getItem(this.documentId+"_annotations_ink");if(this.isStorageExceed&&(r=this.annotationStorage[this.documentId+"_annotations_textMarkup"],a=this.annotationStorage[this.documentId+"_annotations_shape"],s=this.annotationStorage[this.documentId+"_annotations_shape_measure"],l=this.annotationStorage[this.documentId+"_annotations_stamp"],A=this.annotationStorage[this.documentId+"_annotations_sticky"],d=this.annotationStorage[this.documentId+"_annotations_freetext"],h=this.annotationStorage[this.documentId+"_annotations_ink"]),this.drawPageAnnotations(e[parseInt(n.toString(),10)],n),this.isImportedAnnotation){for(var c=!1,g=0;g<this.annotationPageList.length;g++)this.annotationPageList[parseInt(g.toString(),10)]===n&&(c=!0);c&&(this.annotationPageList[parseInt(t.toString(),10)]=n,t+=1)}else this.annotationPageList[parseInt(t.toString(),10)]=n,t+=1;if(e[parseInt(n.toString(),10)].textMarkupAnnotation&&0!==e[parseInt(n.toString(),10)].textMarkupAnnotation.length&&(r&&(B=JSON.parse(r),e[parseInt(n.toString(),10)].textMarkupAnnotation=this.checkAnnotationCollections(B,e[parseInt(n.toString(),10)].textMarkupAnnotation,n)),e[parseInt(n.toString(),10)].textMarkupAnnotation=this.checkAnnotationCommentsCollections(e[parseInt(n.toString(),10)].textMarkupAnnotation,n),o.textMarkupAnnotation=e[parseInt(n.toString(),10)].textMarkupAnnotation),e[parseInt(n.toString(),10)].shapeAnnotation&&0!==e[parseInt(n.toString(),10)].shapeAnnotation.length&&(a&&(B=JSON.parse(a),e[parseInt(n.toString(),10)].shapeAnnotation=this.checkAnnotationCollections(B,e[parseInt(n.toString(),10)].shapeAnnotation,n)),e[parseInt(n.toString(),10)].shapeAnnotation=this.checkAnnotationCommentsCollections(e[parseInt(n.toString(),10)].shapeAnnotation,n),o.shapeAnnotation=e[parseInt(n.toString(),10)].shapeAnnotation),e[parseInt(n.toString(),10)].measureShapeAnnotation&&0!==e[parseInt(n.toString(),10)].measureShapeAnnotation.length&&(s&&(B=JSON.parse(s),e[parseInt(n.toString(),10)].measureShapeAnnotation=this.checkAnnotationCollections(B,e[parseInt(n.toString(),10)].measureShapeAnnotation,n)),e[parseInt(n.toString(),10)].measureShapeAnnotation=this.checkAnnotationCommentsCollections(e[parseInt(n.toString(),10)].measureShapeAnnotation,n),o.measureShapeAnnotation=e[parseInt(n.toString(),10)].measureShapeAnnotation),e[parseInt(n.toString(),10)].stampAnnotations&&0!==e[parseInt(n.toString(),10)].stampAnnotations.length&&(l&&(B=JSON.parse(l),e[parseInt(n.toString(),10)].stampAnnotations=this.checkAnnotationCollections(B,e[parseInt(n.toString(),10)].stampAnnotations,n)),e[parseInt(n.toString(),10)].stampAnnotations=this.checkAnnotationCommentsCollections(e[parseInt(n.toString(),10)].stampAnnotations,n),o.stampAnnotations=e[parseInt(n.toString(),10)].stampAnnotations),e[parseInt(n.toString(),10)].stickyNotesAnnotation&&0!==e[parseInt(n.toString(),10)].stickyNotesAnnotation.length&&(A&&(B=JSON.parse(A),e[parseInt(n.toString(),10)].stickyNotesAnnotation=this.checkAnnotationCollections(B,e[parseInt(n.toString(),10)].stickyNotesAnnotation,n)),e[parseInt(n.toString(),10)].stickyNotesAnnotation=this.checkAnnotationCommentsCollections(e[parseInt(n.toString(),10)].stickyNotesAnnotation,n),o.stickyNotesAnnotation=e[parseInt(n.toString(),10)].stickyNotesAnnotation),e[parseInt(n.toString(),10)].freeTextAnnotation&&0!==e[parseInt(n.toString(),10)].freeTextAnnotation.length&&(d&&(B=JSON.parse(d),e[parseInt(n.toString(),10)].freeTextAnnotation=this.checkAnnotationCollections(B,e[parseInt(n.toString(),10)].freeTextAnnotation,n)),e[parseInt(n.toString(),10)].freeTextAnnotation=this.checkAnnotationCommentsCollections(e[parseInt(n.toString(),10)].freeTextAnnotation,n),o.freeTextAnnotation=e[parseInt(n.toString(),10)].freeTextAnnotation),e[parseInt(n.toString(),10)].signatureAnnotation&&0!==e[parseInt(n.toString(),10)].signatureAnnotation.length&&(p&&(B=JSON.parse(p),e[parseInt(n.toString(),10)].signatureAnnotation=this.checkSignatureCollections(B,e[parseInt(n.toString(),10)].signatureAnnotation,n)),o.signatureAnnotation=e[parseInt(n.toString(),10)].signatureAnnotation),e[parseInt(n.toString(),10)].signatureInkAnnotation&&0!==e[parseInt(n.toString(),10)].signatureInkAnnotation.length&&(h&&(B=JSON.parse(h),e[parseInt(n.toString(),10)].signatureInkAnnotation=this.checkAnnotationCollections(B,e[parseInt(n.toString(),10)].signatureInkAnnotation,n)),e[parseInt(n.toString(),10)].signatureInkAnnotation=this.checkAnnotationCommentsCollections(e[parseInt(n.toString(),10)].signatureInkAnnotation,n),o.signatureInkAnnotation=e[parseInt(n.toString(),10)].signatureInkAnnotation),e[parseInt(n.toString(),10)].annotationOrder)for(var u=e[parseInt(n.toString(),10)].annotationOrder,f=[],m=0;m<u.length;m++){var w=u[parseInt(m.toString(),10)].AnnotType?u[parseInt(m.toString(),10)].AnnotType:u[parseInt(m.toString(),10)].AnnotationType,B=(f.push(u[parseInt(m.toString(),10)]),void 0);switch(w){case"textMarkup":if(0!==e[parseInt(n.toString(),10)].textMarkupAnnotation.length||0!==f.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(f,n);for(g=0;g<f.length;g++)G.isNullOrUndefined(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.textMarkupAnnotationModule.updateTextMarkupAnnotationCollections(u[parseInt(m.toString(),10)],n))}break;case"shape":if(0!==e[parseInt(n.toString(),10)].shapeAnnotation.length||0!==f.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(f,n);for(g=0;g<f.length;g++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.shapeAnnotationModule.updateShapeAnnotationCollections(u[parseInt(m.toString(),10)],n))}break;case"shape_measure":if(0!==e[parseInt(n.toString(),10)].measureShapeAnnotation.length||0!==f.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(f,n);for(g=0;g<f.length;g++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.measureAnnotationModule.updateMeasureAnnotationCollections(u[parseInt(m.toString(),10)],n))}break;case"stamp":if(0!==e[parseInt(n.toString(),10)].stampAnnotations.length||0!==f.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(f,n);for(g=0;g<f.length;g++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.stampAnnotationModule.updateStampAnnotationCollections(u[parseInt(m.toString(),10)],n))}break;case"Text Box":case"freeText":if(0!==e[parseInt(n.toString(),10)].freeTextAnnotation.length||0!==f.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(f,n);for(g=0;g<f.length;g++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.freeTextAnnotationModule.updateFreeTextAnnotationCollections(u[parseInt(m.toString(),10)],n))}break;case"sticky":if(0!==e[parseInt(n.toString(),10)].stickyNotesAnnotation.length||0!==f.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(f,n);for(g=0;g<f.length;g++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateStickyNotesAnnotationCollections(u[parseInt(m.toString(),10)],n))}break;case"signature":if(0!==e[parseInt(n.toString(),10)].signatureAnnotation.length||0!==f.length)for(g=0;g<f.length;g++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.signatureModule.updateSignatureCollections(u[parseInt(m.toString(),10)],n),!0);break;case"Ink":case"ink":if(0!==e[parseInt(n.toString(),10)].signatureInkAnnotation.length||0!==f.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(f,n);for(g=0;g<e[parseInt(n.toString(),10)].annotationOrder[parseInt(m.toString(),10)].length;g++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.inkAnnotationModule.updateInkCollections(u[parseInt(m.toString(),10)],n))}}f=[]}this.updateImportedAnnotationsInDocumentCollections(o,n)}0<this.pageCount&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule&&!this.pdfViewer.annotationModule.stickyNotesAnnotationModule.isAnnotationRendered&&(i=this.createAnnotationsCollection())&&(this.documentAnnotationCollections=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationsInDocumentCollections(this.importedAnnotation,i))}this.isImportAction=!1},S.prototype.updateImportedAnnotationsInDocumentCollections=function(e,t){if(this.documentAnnotationCollections){var i=this.documentAnnotationCollections[parseInt(t.toString(),10)];if(i){if(e.textMarkupAnnotation&&0!==e.textMarkupAnnotation.length)for(var n=0;n<e.textMarkupAnnotation.length;n++)i.textMarkupAnnotation.push(e.textMarkupAnnotation[parseInt(n.toString(),10)]);if(e.shapeAnnotation&&0!==e.shapeAnnotation.length)for(n=0;n<e.shapeAnnotation.length;n++)i.shapeAnnotation.push(e.shapeAnnotation[parseInt(n.toString(),10)]);if(e.measureShapeAnnotation&&0!==e.measureShapeAnnotation.length)for(n=0;n<e.measureShapeAnnotation.length;n++)i.measureShapeAnnotation.push(e.measureShapeAnnotation[parseInt(n.toString(),10)]);if(e.stampAnnotations&&0!==e.stampAnnotations.length)for(n=0;n<e.stampAnnotations.length;n++)i.stampAnnotations.push(e.stampAnnotations[parseInt(n.toString(),10)]);if(e.stickyNotesAnnotation&&0!==e.stickyNotesAnnotation.length)for(n=0;n<e.stickyNotesAnnotation.length;n++)i.stickyNotesAnnotation.push(e.stickyNotesAnnotation[parseInt(n.toString(),10)]);if(e.freeTextAnnotation&&0!==e.freeTextAnnotation.length)for(n=0;n<e.freeTextAnnotation.length;n++)i.freeTextAnnotation.push(e.freeTextAnnotation[parseInt(n.toString(),10)]);if(e.signatureAnnotation&&0!==e.signatureAnnotation.length)for(n=0;n<e.signatureAnnotation.length;n++)i.signatureAnnotation.push(e.signatureAnnotation[parseInt(n.toString(),10)]);if(e.signatureInkAnnotation&&0!==e.signatureInkAnnotation.length)for(n=0;n<e.signatureInkAnnotation.length;n++)i.signatureInkAnnotation.push(e.signatureInkAnnotation[parseInt(n.toString(),10)]);this.documentAnnotationCollections[parseInt(t.toString(),10)]=i}}},S.prototype.checkDocumentCollectionData=function(e,t){var i,n,o,r,a,s,l,A,d;if(t?i=t:this.documentAnnotationCollections&&(t=this.documentAnnotationCollections[parseInt(e.toString(),10)])&&(i=M(t)),i)return t=S.sessionStorageManager.getItem(this.documentId+"_annotations_textMarkup"),n=S.sessionStorageManager.getItem(this.documentId+"_annotations_shape"),o=S.sessionStorageManager.getItem(this.documentId+"_annotations_shape_measure"),r=S.sessionStorageManager.getItem(this.documentId+"_annotations_stamp"),a=S.sessionStorageManager.getItem(this.documentId+"_annotations_sticky"),s=S.sessionStorageManager.getItem(this.documentId+"_annotations_freetext"),l=S.sessionStorageManager.getItem(this.documentId+"_annotations_ink"),A=S.sessionStorageManager.getItem(this.documentId+"_annotations_sign"),this.isStorageExceed&&(t=this.annotationStorage[this.documentId+"_annotations_textMarkup"],n=this.annotationStorage[this.documentId+"_annotations_shape"],o=this.annotationStorage[this.documentId+"_annotations_shape_measure"],r=this.annotationStorage[this.documentId+"_annotations_stamp"],a=this.annotationStorage[this.documentId+"_annotations_sticky"],s=this.annotationStorage[this.documentId+"_annotations_freetext"],l=this.annotationStorage[this.documentId+"_annotations_ink"],A=this.annotationStorage[this.documentId+"_annotations_sign"]),i.textMarkupAnnotation&&0!==i.textMarkupAnnotation.length&&t&&(d=JSON.parse(t))&&(i.textMarkupAnnotation=this.findImportedAnnotations(d,i.textMarkupAnnotation,e)),i.shapeAnnotation&&0!==i.shapeAnnotation.length&&n&&(d=JSON.parse(n))&&(i.shapeAnnotation=this.findImportedAnnotations(d,i.shapeAnnotation,e)),i.measureShapeAnnotation&&0!==i.measureShapeAnnotation.length&&o&&(d=JSON.parse(o))&&(i.measureShapeAnnotation=this.findImportedAnnotations(d,i.measureShapeAnnotation,e)),i.stampAnnotations&&0!==i.stampAnnotations.length&&r&&(d=JSON.parse(r))&&(i.stampAnnotations=this.findImportedAnnotations(d,i.stampAnnotations,e)),i.stickyNotesAnnotation&&0!==i.stickyNotesAnnotation.length&&a&&(d=JSON.parse(a))&&(i.stickyNotesAnnotation=this.findImportedAnnotations(d,i.stickyNotesAnnotation,e)),i.freeTextAnnotation&&0!==i.freeTextAnnotation.length&&s&&(d=JSON.parse(s))&&(i.freeTextAnnotation=this.findImportedAnnotations(d,i.freeTextAnnotation,e)),i.signatureInkAnnotation&&0!==i.signatureInkAnnotation.length&&l&&(d=JSON.parse(l))&&(i.signatureInkAnnotation=this.findImportedAnnotations(d,i.signatureInkAnnotation,e)),i.signatureAnnotation&&0!==i.signatureAnnotation.length&&A&&(d=JSON.parse(l))&&(i.signatureAnnotation=this.findImportedAnnotations(d,i.signatureAnnotation,e)),i},S.prototype.findImportedAnnotations=function(e,t,i){for(var n=null,o=0;o<e.length;o++)e[parseInt(o.toString(),10)].pageIndex===i&&(n=e[parseInt(o.toString(),10)].annotations);if(n)for(var r=0;r<n.length;r++)for(var a=0;a<t.length;a++)n[parseInt(r.toString(),10)].annotName===t[parseInt(a.toString(),10)].AnnotName&&(t.splice(a,1),a-=1);return n=null,t},S.prototype.setAnnotationSettings=function(e){G.isNullOrUndefined(e)||(e.AnnotationSettings=e.AnnotationSettings||this.pdfViewer.annotationModule.updateAnnotationSettings(e),e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked))},S.prototype.drawPageAnnotations=function(t,i,e){var n=this;if((t=e?t[parseInt(i.toString(),10)]:t)&&!t.annotationOrder&&(e=["freeTextAnnotation","measureShapeAnnotation","shapeAnnotation","signatureAnnotation","signatureInkAnnotation","stampAnnotations","stickyNotesAnnotation","textMarkupAnnotation"].find(function(e){if(t[""+e]&&0!==t[""+e].length)return t[""+e]}))&&(t.annotationOrder=t[""+e]),t){var o=t.annotationOrder,r=[],a=!0;if(!G.isNullOrUndefined(o))for(var s=0;s<o.length;s++){var l=o[parseInt(s.toString(),10)].AnnotType?o[parseInt(s.toString(),10)].AnnotType:o[parseInt(s.toString(),10)].AnnotationType,A=(r.push(o[parseInt(s.toString(),10)]),void 0),d=void 0;switch(l){case"textMarkup":a=!1,A=S.sessionStorageManager.getItem(this.documentId+"_annotations_textMarkup"),(r=(A=this.isStorageExceed?this.annotationStorage[this.documentId+"_annotations_textMarkup"]:A)&&(d=JSON.parse(A))?this.checkAnnotationCollections(d,r,i):r)&&this.setAnnotationSettings(r[0]),t.textMarkupAnnotation=this.checkAnnotationCommentsCollections(t.textMarkupAnnotation,i),this.pdfViewer.annotationModule.renderAnnotations(i,null,null,r,null,!0);break;case"shape":a=!1,A=S.sessionStorageManager.getItem(this.documentId+"_annotations_shape"),(A=this.isStorageExceed?this.annotationStorage[this.documentId+"_annotations_shape"]:A)&&(d=JSON.parse(A),r=this.checkAnnotationCollections(d,r,i)),r&&this.setAnnotationSettings(r[0]),t.shapeAnnotation=this.checkAnnotationCommentsCollections(t.shapeAnnotation,i),this.pdfViewer.annotationModule.renderAnnotations(i,r,null,null,null,!0);break;case"shape_measure":a=!1,A=S.sessionStorageManager.getItem(this.documentId+"_annotations_shape_measure"),(A=this.isStorageExceed?this.annotationStorage[this.documentId+"_annotations_shape_measure"]:A)&&(d=JSON.parse(A),r=this.checkAnnotationCollections(d,r,i)),r&&this.setAnnotationSettings(r[0]),t.measureShapeAnnotation=this.checkAnnotationCommentsCollections(t.measureShapeAnnotation,i),this.pdfViewer.annotationModule.renderAnnotations(i,null,r,null,null,!0);break;case"stamp":A=S.sessionStorageManager.getItem(this.documentId+"_annotations_stamp"),(A=this.isStorageExceed?this.annotationStorage[this.documentId+"_annotations_stamp"]:A)&&(d=JSON.parse(A),r=this.checkAnnotationCollections(d,r,i)),r&&this.setAnnotationSettings(r[0]),t.stampAnnotations=this.checkAnnotationCommentsCollections(t.stampAnnotations,i),this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotations(r,i,null,!0);break;case"Text Box":case"freeText":A=S.sessionStorageManager.getItem(this.documentId+"_annotations_freetext"),(A=this.isStorageExceed?this.annotationStorage[this.documentId+"_annotations_freetext"]:A)&&(d=JSON.parse(A),r=this.checkAnnotationCollections(d,r,i)),r&&this.setAnnotationSettings(r[0]),t.freeTextAnnotation=this.checkAnnotationCommentsCollections(t.freeTextAnnotation,i),this.pdfViewer.annotationModule.freeTextAnnotationModule.renderFreeTextAnnotations(r,i,!0);break;case"sticky":A=S.sessionStorageManager.getItem(this.documentId+"_annotations_sticky"),(A=this.isStorageExceed?this.annotationStorage[this.documentId+"_annotations_sticky"]:A)&&(d=JSON.parse(A),r=this.checkAnnotationCollections(d,r,i)),r&&this.setAnnotationSettings(r[0]),t.stickyNotesAnnotation=this.checkAnnotationCommentsCollections(t.stickyNotesAnnotation,i),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderStickyNotesAnnotations(r,i);break;case"signature":case"Signature":case"SignatureText":case"SignatureImage":A=S.sessionStorageManager.getItem(this.documentId+"_annotations_sign"),d=JSON.parse(A),r&&this.setAnnotationSettings(r[0]),d&&(t.signatureAnnotation=this.checkSignatureCollections(d,r,i)),this.signatureModule.renderExistingSignature(r,i,!0);break;case"Ink":case"ink":A=S.sessionStorageManager.getItem(this.documentId+"_annotations_ink"),(A=this.isStorageExceed?this.annotationStorage[this.documentId+"_annotations_ink"]:A)&&(d=JSON.parse(A),r=this.checkAnnotationCollections(d,r,i)),r&&this.setAnnotationSettings(r[0]),t.signatureInkAnnotation=this.checkAnnotationCommentsCollections(t.signatureInkAnnotation,i),this.pdfViewer.annotationModule.inkAnnotationModule.renderExistingInkSignature(r,i,!0)}r=[]}a&&["_annotationCanvas_"+i,"_blendAnnotationsIntoCanvas_"+i].forEach(function(e){e=n.getElement(e);e&&n.pdfViewer.drawing.refreshCanvasDiagramLayer(e,i)})}},S.prototype.checkSignatureCollections=function(e,t,i){for(var n=null,o=0;o<e.length;o++)e[parseInt(o.toString(),10)].pageIndex===i&&(n=e[parseInt(o.toString(),10)].annotations);if(n)for(var r=0;r<n.length;r++)for(var a=0;a<t.length;a++)n[parseInt(r.toString(),10)].signatureName===t[parseInt(a.toString(),10)].SignatureName&&(t.splice(a,1),a-=1);return n=null,t},S.prototype.checkAnnotationCollections=function(e,t,i){for(var n=null,o=0;o<e.length;o++)e[parseInt(o.toString(),10)].pageIndex===i&&(n=e[parseInt(o.toString(),10)].annotations);if(n)for(var r=0;r<n.length;r++)for(var a=0;a<t.length;a++)n[parseInt(r.toString(),10)].annotName===t[parseInt(a.toString(),10)].AnnotName&&(t.splice(a,1),a-=1);return n=null,t},S.prototype.checkAnnotationCommentsCollections=function(e,t){if(this.annotationComments){var i=this.annotationComments[parseInt(t.toString(),10)];if(i=this.selectAnnotationCollections(i))for(var n=0;n<i.length;n++)for(var o=0;o<e.length;o++)i[parseInt(n.toString(),10)].AnnotName===e[parseInt(o.toString(),10)].AnnotName&&(e.splice(o,1),o-=1);i=null}return e},S.prototype.selectAnnotationCollections=function(e){var t=[];if(e){if(e.textMarkupAnnotation&&0!==e.textMarkupAnnotation.length)for(var i=0;i<e.textMarkupAnnotation.length;i++)t.push(e.textMarkupAnnotation[parseInt(i.toString(),10)]);if(e.shapeAnnotation&&0!==e.shapeAnnotation.length)for(i=0;i<e.shapeAnnotation.length;i++)t.push(e.shapeAnnotation[parseInt(i.toString(),10)]);if(e.measureShapeAnnotation&&0!==e.measureShapeAnnotation.length)for(i=0;i<e.measureShapeAnnotation.length;i++)t.push(e.measureShapeAnnotation[parseInt(i.toString(),10)]);if(e.stampAnnotations&&0!==e.stampAnnotations.length)for(i=0;i<e.stampAnnotations.length;i++)t.push(e.stampAnnotations[parseInt(i.toString(),10)]);if(e.stickyNotesAnnotation&&0!==e.stickyNotesAnnotation.length)for(i=0;i<e.stickyNotesAnnotation.length;i++)t.push(e.stickyNotesAnnotation[parseInt(i.toString(),10)]);if(e.freeTextAnnotation&&0!==e.freeTextAnnotation.length)for(i=0;i<e.freeTextAnnotation.length;i++)t.push(e.freeTextAnnotation[parseInt(i.toString(),10)]);if(e.signatureInkAnnotation&&0!==e.signatureInkAnnotation.length)for(i=0;i<e.signatureInkAnnotation.length;i++)t.push(e.signatureInkAnnotation[parseInt(i.toString(),10)])}return t},S.prototype.saveImportedAnnotations=function(){var e=S.sessionStorageManager.getItem(this.documentId+"_annotations_textMarkup"),t=S.sessionStorageManager.getItem(this.documentId+"_annotations_shape"),i=S.sessionStorageManager.getItem(this.documentId+"_annotations_shape_measure"),n=S.sessionStorageManager.getItem(this.documentId+"_annotations_stamp"),o=S.sessionStorageManager.getItem(this.documentId+"_annotations_sticky"),r=S.sessionStorageManager.getItem(this.documentId+"_annotations_freetext"),a=S.sessionStorageManager.getItem(this.documentId+"_annotations_ink"),s=S.sessionStorageManager.getItem(this.documentId+"_annotations_sign");if(this.isStorageExceed&&(e=this.annotationStorage[this.documentId+"_annotations_textMarkup"],t=this.annotationStorage[this.documentId+"_annotations_shape"],i=this.annotationStorage[this.documentId+"_annotations_shape_measure"],n=this.annotationStorage[this.documentId+"_annotations_stamp"],o=this.annotationStorage[this.documentId+"_annotations_sticky"],r=this.annotationStorage[this.documentId+"_annotations_freetext"],a=this.annotationStorage[this.documentId+"_annotations_ink"],s=this.annotationStorage[this.documentId+"_annotations_sign"]),this.downloadCollections={textMarkupObject:e,shapeObject:t,measureShapeObject:i,stampObject:n,stickyObject:o,freeTextObject:r,inkObject:a,signatureObject:s},this.documentAnnotationCollections)for(var l,A=0;A<this.pageCount;A++)this.documentAnnotationCollections[parseInt(A.toString(),10)]&&(l=M(this.documentAnnotationCollections[parseInt(A.toString(),10)]),l=this.checkDocumentCollectionData(A,l),this.savePageAnnotations(l,A))},S.prototype.savePageAnnotations=function(e,t){if(0!==e.textMarkupAnnotation.length)for(var i=0;i<e.textMarkupAnnotation.length;i++)G.isNullOrUndefined(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||this.pdfViewer.annotationModule.textMarkupAnnotationModule.saveImportedTextMarkupAnnotations(e.textMarkupAnnotation[parseInt(i.toString(),10)],t);if(0!==e.shapeAnnotation.length)for(i=0;i<e.shapeAnnotation.length;i++)this.pdfViewer.annotationModule.shapeAnnotationModule.saveImportedShapeAnnotations(e.shapeAnnotation[parseInt(i.toString(),10)],t);if(0!==e.measureShapeAnnotation.length)for(i=0;i<e.measureShapeAnnotation.length;i++)this.pdfViewer.annotationModule.measureAnnotationModule.saveImportedMeasureAnnotations(e.measureShapeAnnotation[parseInt(i.toString(),10)],t);if(0!==e.stampAnnotations.length)for(i=0;i<e.stampAnnotations.length;i++)this.pdfViewer.annotationModule.stampAnnotationModule.saveImportedStampAnnotations(e.stampAnnotations[parseInt(i.toString(),10)],t);if(0!==e.stickyNotesAnnotation.length)for(i=0;i<e.stickyNotesAnnotation.length;i++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveImportedStickyNotesAnnotations(e.stickyNotesAnnotation[parseInt(i.toString(),10)],t);if(0!==e.freeTextAnnotation.length)for(i=0;i<e.freeTextAnnotation.length;i++)this.pdfViewer.annotationModule.freeTextAnnotationModule.saveImportedFreeTextAnnotations(e.freeTextAnnotation[parseInt(i.toString(),10)],t);if(0!==e.signatureInkAnnotation.length){this.pdfViewer.isSignatureEditable||(e.signatureInkAnnotation=this.canUpdateSignCollection(e.signatureInkAnnotation));for(i=0;i<e.signatureInkAnnotation.length;i++)this.pdfViewer.annotationModule.inkAnnotationModule.saveImportedInkAnnotation(e.signatureInkAnnotation[parseInt(i.toString(),10)],t)}0===e.signatureAnnotation.length||this.pdfViewer.isSignatureEditable||(e.signatureAnnotation=this.canUpdateSignCollection(e.signatureAnnotation))},S.prototype.updateDocumentAnnotationCollections=function(){S.sessionStorageManager.removeItem(this.documentId+"_annotations_textMarkup"),S.sessionStorageManager.removeItem(this.documentId+"_annotations_shape"),S.sessionStorageManager.removeItem(this.documentId+"_annotations_shape_measure"),S.sessionStorageManager.removeItem(this.documentId+"_annotations_stamp"),S.sessionStorageManager.removeItem(this.documentId+"_annotations_sticky"),S.sessionStorageManager.removeItem(this.documentId+"_annotations_freetext"),S.sessionStorageManager.removeItem(this.documentId+"_annotations_ink"),this.downloadCollections&&(this.isStorageExceed?(this.annotationStorage[this.documentId+"_annotations_textMarkup"]=this.downloadCollections.textMarkupObject,this.annotationStorage[this.documentId+"_annotations_shape"]=this.downloadCollections.shapeObject,this.annotationStorage[this.documentId+"_annotations_shape_measure"]=this.downloadCollections.measureShapeObject,this.annotationStorage[this.documentId+"_annotations_stamp"]=this.downloadCollections.stampObject,this.annotationStorage[this.documentId+"_annotations_sticky"]=this.downloadCollections.stickyObject,this.annotationStorage[this.documentId+"_annotations_freetext"]=this.downloadCollections.freeTextObject,this.annotationStorage[this.documentId+"_annotations_ink"]=this.downloadCollections.inkObject):(this.downloadCollections.textMarkupObject&&S.sessionStorageManager.setItem(this.documentId+"_annotations_textMarkup",this.downloadCollections.textMarkupObject),this.downloadCollections.shapeObject&&S.sessionStorageManager.setItem(this.documentId+"_annotations_shape",this.downloadCollections.shapeObject),this.downloadCollections.measureShapeObject&&S.sessionStorageManager.setItem(this.documentId+"_annotations_shape_measure",this.downloadCollections.measureShapeObject),this.downloadCollections.stampObject&&S.sessionStorageManager.setItem(this.documentId+"_annotations_stamp",this.downloadCollections.stampObject),this.downloadCollections.stickyObject&&S.sessionStorageManager.setItem(this.documentId+"_annotations_sticky",this.downloadCollections.stickyObject),this.downloadCollections.freeTextObject&&S.sessionStorageManager.setItem(this.documentId+"_annotations_freetext",this.downloadCollections.freeTextObject),this.downloadCollections.inkObject&&S.sessionStorageManager.setItem(this.documentId+"_annotations_ink",this.downloadCollections.inkObject)))},S.prototype.createAnnotationJsonData=function(){var e,t,i,n,o,r,a,s,l={};if(this.saveImportedAnnotations(),this.isTextMarkupAnnotationModule()&&(this.isJsonExported=!0,e=this.pdfViewer.annotationModule.textMarkupAnnotationModule.saveTextMarkupAnnotations()),this.isShapeAnnotationModule()&&(this.isJsonExported=!0,t=this.pdfViewer.annotationModule.shapeAnnotationModule.saveShapeAnnotations()),this.isCalibrateAnnotationModule()&&(this.isJsonExported=!0,i=this.pdfViewer.annotationModule.measureAnnotationModule.saveMeasureShapeAnnotations()),this.isStampAnnotationModule()&&(n=this.pdfViewer.annotationModule.stampAnnotationModule.saveStampAnnotations()),this.isCommentAnnotationModule()&&(o=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveStickyAnnotations()),this.isFreeTextAnnotationModule()&&(r=this.pdfViewer.annotationModule.freeTextAnnotationModule.saveFreeTextAnnotations()),this.isInkAnnotationModule()&&(s=this.pdfViewer.annotationModule.inkAnnotationModule.saveInkSignature()),this.pdfViewer.isSignatureEditable)a=this.signatureModule.saveSignature();else{for(var A=[],d=0;d<this.pageCount;d++)A[parseInt(d.toString(),10)]=[];a=JSON.stringify(A)}for(var p=0;p<this.pageCount;p++){var h={textMarkupAnnotation:JSON.parse(e)[parseInt(p.toString(),10)],shapeAnnotation:JSON.parse(t)[parseInt(p.toString(),10)],measureShapeAnnotation:JSON.parse(i)[parseInt(p.toString(),10)],stampAnnotations:JSON.parse(n)[parseInt(p.toString(),10)],stickyNotesAnnotation:JSON.parse(o)[parseInt(p.toString(),10)],freeTextAnnotation:JSON.parse(r)[parseInt(p.toString(),10)],signatureAnnotation:JSON.parse(a)[parseInt(p.toString(),10)],signatureInkAnnotation:JSON.parse(s)[parseInt(p.toString(),10)]};l[parseInt(p.toString(),10)]=h}return JSON.stringify(l)},S.prototype.combineImportedData=function(e,t){for(var i,n=0;n<this.pageCount;n++)t[parseInt(n.toString(),10)]&&(e[parseInt(n.toString(),10)]?(t[parseInt(n.toString(),10)].textMarkupAnnotation&&0!==t[parseInt(n.toString(),10)].textMarkupAnnotation.length&&(e[parseInt(n.toString(),10)].textMarkupAnnotation?(t[parseInt(n.toString(),10)].textMarkupAnnotation=this.checkImportedData(e[parseInt(n.toString(),10)].textMarkupAnnotation,t[parseInt(n.toString(),10)].textMarkupAnnotation,n),0!==t[parseInt(n.toString(),10)].textMarkupAnnotation.length&&(e[parseInt(n.toString(),10)].textMarkupAnnotation=e[parseInt(n.toString(),10)].textMarkupAnnotation.concat(t[parseInt(n.toString(),10)].textMarkupAnnotation))):e[parseInt(n.toString(),10)].textMarkupAnnotation=t[parseInt(n.toString(),10)].textMarkupAnnotation),t[parseInt(n.toString(),10)].shapeAnnotation&&0!==t[parseInt(n.toString(),10)].shapeAnnotation.length&&(e[parseInt(n.toString(),10)].shapeAnnotation?(t[parseInt(n.toString(),10)].shapeAnnotation=this.checkImportedData(e[parseInt(n.toString(),10)].shapeAnnotation,t[parseInt(n.toString(),10)].shapeAnnotation,n),0!==t[parseInt(n.toString(),10)].shapeAnnotation.length&&(e[parseInt(n.toString(),10)].shapeAnnotation=e[parseInt(n.toString(),10)].shapeAnnotation.concat(t[parseInt(n.toString(),10)].shapeAnnotation))):e[parseInt(n.toString(),10)].shapeAnnotation=t[parseInt(n.toString(),10)].shapeAnnotation),t[parseInt(n.toString(),10)].measureShapeAnnotation&&0!==t[parseInt(n.toString(),10)].measureShapeAnnotation.length&&(e[parseInt(n.toString(),10)].measureShapeAnnotation?(t[parseInt(n.toString(),10)].measureShapeAnnotation=this.checkImportedData(e[parseInt(n.toString(),10)].measureShapeAnnotation,t[parseInt(n.toString(),10)].measureShapeAnnotation,n),0!==t[parseInt(n.toString(),10)].measureShapeAnnotation.length&&(e[parseInt(n.toString(),10)].measureShapeAnnotation=e[parseInt(n.toString(),10)].measureShapeAnnotation.concat(t[parseInt(n.toString(),10)].measureShapeAnnotation))):e[parseInt(n.toString(),10)].measureShapeAnnotation=t[parseInt(n.toString(),10)].measureShapeAnnotation),t[parseInt(n.toString(),10)].stampAnnotations&&0!==t[parseInt(n.toString(),10)].stampAnnotations.length&&(e[parseInt(n.toString(),10)].stampAnnotations?(t[parseInt(n.toString(),10)].stampAnnotations=this.checkImportedData(e[parseInt(n.toString(),10)].stampAnnotations,t[parseInt(n.toString(),10)].stampAnnotations,n),0!==t[parseInt(n.toString(),10)].stampAnnotations.length&&(e[parseInt(n.toString(),10)].stampAnnotations=e[parseInt(n.toString(),10)].stampAnnotations.concat(t[parseInt(n.toString(),10)].stampAnnotations))):e[parseInt(n.toString(),10)].stampAnnotations=t[parseInt(n.toString(),10)].stampAnnotations),t[parseInt(n.toString(),10)].stickyNotesAnnotation&&0!==t[parseInt(n.toString(),10)].stickyNotesAnnotation.length&&(e[parseInt(n.toString(),10)].stickyNotesAnnotation?(t[parseInt(n.toString(),10)].stickyNotesAnnotation=this.checkImportedData(e[parseInt(n.toString(),10)].stickyNotesAnnotation,t[parseInt(n.toString(),10)].stickyNotesAnnotation,n),0!==t[parseInt(n.toString(),10)].stickyNotesAnnotation.length&&(e[parseInt(n.toString(),10)].stickyNotesAnnotation=e[parseInt(n.toString(),10)].stickyNotesAnnotation.concat(t[parseInt(n.toString(),10)].stickyNotesAnnotation))):e[parseInt(n.toString(),10)].stickyNotesAnnotation=t[parseInt(n.toString(),10)].stickyNotesAnnotation),t[parseInt(n.toString(),10)].freeTextAnnotation&&0!==t[parseInt(n.toString(),10)].freeTextAnnotation.length&&(e[parseInt(n.toString(),10)].freeTextAnnotation?(t[parseInt(n.toString(),10)].freeTextAnnotation=this.checkImportedData(e[parseInt(n.toString(),10)].freeTextAnnotation,t[parseInt(n.toString(),10)].freeTextAnnotation,n),0!==t[parseInt(n.toString(),10)].freeTextAnnotation.length&&(e[parseInt(n.toString(),10)].freeTextAnnotation=e[parseInt(n.toString(),10)].freeTextAnnotation.concat(t[parseInt(n.toString(),10)].freeTextAnnotation))):e[parseInt(n.toString(),10)].freeTextAnnotation=t[parseInt(n.toString(),10)].freeTextAnnotation),t[parseInt(n.toString(),10)].signatureInkAnnotation&&0!==t[parseInt(n.toString(),10)].signatureInkAnnotation.length&&(e[parseInt(n.toString(),10)].signatureInkAnnotation?(t[parseInt(n.toString(),10)].signatureInkAnnotation=this.checkImportedData(e[parseInt(n.toString(),10)].signatureInkAnnotation,t[parseInt(n.toString(),10)].signatureInkAnnotation,n),0!==t[parseInt(n.toString(),10)].signatureInkAnnotation.length&&(e[parseInt(n.toString(),10)].signatureInkAnnotation=e[parseInt(n.toString(),10)].signatureInkAnnotation.concat(t[parseInt(n.toString(),10)].signatureInkAnnotation))):e[parseInt(n.toString(),10)].signatureInkAnnotation=t[parseInt(n.toString(),10)].signatureInkAnnotation)):(i={textMarkupAnnotation:t[parseInt(n.toString(),10)].textMarkupAnnotation,shapeAnnotation:t[parseInt(n.toString(),10)].shapeAnnotation,measureShapeAnnotation:t[parseInt(n.toString(),10)].measureShapeAnnotation,stampAnnotations:t[parseInt(n.toString(),10)].stampAnnotations,stickyNotesAnnotation:t[parseInt(n.toString(),10)].stickyNotesAnnotation,freeTextAnnotation:t[parseInt(n.toString(),10)].freeTextAnnotation,signatureInkAnnotation:t[parseInt(n.toString(),10)].signatureInkAnnotation},e[parseInt(n.toString(),10)]=i));return e},S.prototype.updateExportItem=function(){var e=S.sessionStorageManager.getItem(this.documentId+"_annotations_shape"),t=S.sessionStorageManager.getItem(this.documentId+"_annotations_shape_measure"),i=S.sessionStorageManager.getItem(this.documentId+"_annotations_stamp"),n=S.sessionStorageManager.getItem(this.documentId+"_annotations_sticky"),o=S.sessionStorageManager.getItem(this.documentId+"_annotations_textMarkup"),r=S.sessionStorageManager.getItem(this.documentId+"_annotations_freetext"),a=!1,s=S.sessionStorageManager.getItem(this.documentId+"_annotations_ink");return this.pdfViewer.isSignatureEditable&&S.sessionStorageManager.getItem(this.documentId+"_annotations_sign")&&(a=!0),!!(this.checkExportAnnotations(e)||this.checkExportAnnotations(t)||this.checkExportAnnotations(i)||this.checkExportAnnotations(n)||this.checkExportAnnotations(o)||this.checkExportAnnotations(r)||this.isImportAction||this.isStorageExceed||a||this.checkExportAnnotations(s))},S.prototype.checkExportAnnotations=function(e){return!!e&&0<JSON.parse(e).filter(function(e){return 0<e.annotations.length}).length},S.prototype.isFreeTextAnnotation=function(e){var t=!1;return t=e&&0<e.length?e.some(function(e){return"FreeText"===e.shapeAnnotationType&&!G.isNullOrUndefined(e.subject)}):t},S.prototype.checkImportedData=function(e,t,i){for(var n=0;n<e.length;n++)for(var o=0;o<t.length;o++)if(e[parseInt(n.toString(),10)].AnnotName===t[parseInt(o.toString(),10)].AnnotName){for(var r=this.pdfViewer.annotationCollection.length,a=0;a<r;a++)if(this.pdfViewer.annotationCollection[parseInt(a.toString(),10)].annotationId===t[parseInt(o.toString(),10)].AnnotName){this.pdfViewer.annotationCollection[parseInt(a.toString(),10)].comments=this.pdfViewer.annotationModule.getAnnotationComments(t[parseInt(o.toString(),10)].Comments,t[parseInt(o.toString(),10)],t[parseInt(o.toString(),10)].Author),this.pdfViewer.annotationCollection[parseInt(a.toString(),10)].review={state:t[parseInt(o.toString(),10)].State,stateModel:t[parseInt(o.toString(),10)].StateModel,modifiedDate:t[parseInt(o.toString(),10)].ModifiedDate,author:t[parseInt(o.toString(),10)].Author},this.pdfViewer.annotationCollection[parseInt(a.toString(),10)].note=t[parseInt(o.toString(),10)].Note;var s=this.pdfViewer.annotationCollection[parseInt(a.toString(),10)];"shape"===e[parseInt(n.toString(),10)].AnnotType&&this.pdfViewer.annotationModule.shapeAnnotationModule?(this.documentAnnotationCollections[parseInt(i.toString(),10)].shapeAnnotation[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_shape")):"textMarkup"===e[parseInt(n.toString(),10)].AnnotType&&this.pdfViewer.annotationModule.textMarkupAnnotationModule?(this.documentAnnotationCollections[parseInt(i.toString(),10)].textMarkupAnnotation[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_textMarkup")):"shape_measure"===e[parseInt(n.toString(),10)].AnnotType&&this.pdfViewer.annotationModule.measureAnnotationModule?(this.documentAnnotationCollections[parseInt(i.toString(),10)].measureShapeAnnotation[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_shape_measure")):"stamp"===e[parseInt(n.toString(),10)].AnnotType&&this.pdfViewer.annotationModule.stampAnnotationModule?(this.documentAnnotationCollections[parseInt(i.toString(),10)].stampAnnotations[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_stamp")):"freeText"===e[parseInt(n.toString(),10)].AnnotType&&this.pdfViewer.annotationModule.freeTextAnnotationModule?(this.documentAnnotationCollections[parseInt(i.toString(),10)].freeTextAnnotation[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_freetext")):"ink"===e[parseInt(n.toString(),10)].AnnotType&&this.pdfViewer.annotationModule.inkAnnotationModule?(this.documentAnnotationCollections[parseInt(i.toString(),10)].signatureInkAnnotation[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_ink")):"sticky"===e[parseInt(n.toString(),10)].AnnotType&&(this.documentAnnotationCollections[parseInt(i.toString(),10)].stickyNotesAnnotation[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_sticky"));break}this.pdfViewer.annotationModule.stickyNotesAnnotationModule.createCommentControlPanel(t[parseInt(o.toString(),10)],i+1,null,null,!0),t.splice(o,1),o-=1}if(this.annotationComments){var l=this.annotationComments[parseInt(i.toString(),10)];if(l=this.selectAnnotationCollections(l))for(n=0;n<l.length;n++)for(o=0;o<t.length;o++)l[parseInt(n.toString(),10)].AnnotName===t[parseInt(o.toString(),10)].AnnotName&&(t.splice(o,1),o-=1)}return t},S.prototype.updateAnnotationsInSessionStorage=function(e,t,i){var n=S.sessionStorageManager.getItem(this.documentId+i),o=JSON.parse(n);if(o){for(var r=0;r<o.length;r++)if(o[parseInt(r.toString(),10)].annotations)for(var a=0;a<o[parseInt(r.toString(),10)].annotations.length;a++)if(o[parseInt(r.toString(),10)].annotations[parseInt(a.toString(),10)].annotName===e.AnnotName){o[parseInt(r.toString(),10)].annotations[parseInt(a.toString(),10)].comments=t.comments,o[parseInt(r.toString(),10)].annotations[parseInt(a.toString(),10)].review=t.review,o[parseInt(r.toString(),10)].annotations[parseInt(a.toString(),10)].note=t.note;break}S.sessionStorageManager.setItem(this.documentId+i,JSON.stringify(o))}},S.prototype.checkAnnotationWidth=function(e){for(var t,i,n,o,r=0;r<e.length;r++)t?(t>e[parseInt(r.toString(),10)].x?t=e[parseInt(r.toString(),10)].x:i<e[parseInt(r.toString(),10)].x&&(i=e[parseInt(r.toString(),10)].x),n>e[parseInt(r.toString(),10)].y?n=e[parseInt(r.toString(),10)].y:o<e[parseInt(r.toString(),10)].y&&(o=e[parseInt(r.toString(),10)].y)):(t=e[parseInt(r.toString(),10)].x,i=e[parseInt(r.toString(),10)].x,n=e[parseInt(r.toString(),10)].y,o=e[parseInt(r.toString(),10)].y);return{width:i-t,height:o-n}},S.prototype.deleteAnnotations=function(){if(this.pdfViewer.annotationModule){this.updateAnnotationsUndoRedo(),this.updateSignatureUndoRedo(),this.pdfViewer.annotations=[],this.pdfViewer.zIndexTable=[],this.pdfViewer.annotationCollection=[],this.pdfViewer.signatureCollection=[];var e=this.createAnnotationsCollection();this.annotationComments=e,this.documentAnnotationCollections=e,this.annotationRenderredList=[];for(var t=0;t<this.pageCount;t++){this.pdfViewer.annotationModule.renderAnnotations(t,null,null,null),this.pdfViewer.renderDrawing(void 0,t),this.pdfViewer.clearSelection(t);var i=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+(t+1)),i=(i&&i.remove(),document.getElementById(this.pdfViewer.element.id+"_accordionContentContainer"));i&&0===i.childElementCount&&(i.style.display="none",document.getElementById(this.pdfViewer.element.id+"_commentsPanelText"))&&(this.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export Annotations")],!1),document.getElementById(this.pdfViewer.element.id+"_commentsPanelText").style.display="block")}this.isImportedAnnotation=!1,this.isImportAction=!1,this.importedAnnotation=[],this.annotationPageList=[],this.pdfViewer.annotationModule.freeTextAnnotationModule.freeTextPageNumbers=[],this.pdfViewer.annotationModule.stampAnnotationModule.stampPageNumber=[],this.pdfViewer.annotation.inkAnnotationModule.inkAnnotationindex=[],this.isAnnotationCollectionRemoved=!0}else this.getModuleWarningMessage("Annotation")},S.prototype.updateAnnotationsUndoRedo=function(){for(var l=this,e=0;e<this.pdfViewer.annotationCollection.length;e++)!function(t){var e=null,i=l;if("textMarkup"===i.pdfViewer.annotationCollection[parseInt(t.toString(),10)].shapeAnnotationType){var e=i.pdfViewer.annotationCollection[parseInt(t.toString(),10)],n=i.pdfViewer.annotation.textMarkupAnnotationModule.getAnnotations(e.pageNumber,null);if(n)for(var o,r=0;r<n.length;r++)e.annotationId===n[parseInt(r.toString(),10)].annotName&&(o=n.splice(parseInt(r.toString(),10),1)[0],i.pdfViewer.annotation.addAction(e.pageNumber,parseInt(r.toString(),10),o,"Text Markup Deleted",null),i.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(o,"textMarkup"),o=document.getElementById(o.annotName))&&(1===o.parentElement.childElementCount?i.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAccordionContainer(o):o.remove());i.pdfViewer.annotation.textMarkupAnnotationModule.manageAnnotations(n,e.pageNumber)}else{e=i.pdfViewer.annotations.filter(function(e){return e.annotName===i.pdfViewer.annotationCollection[parseInt(t.toString(),10)].annotationId})[0],G.isNullOrUndefined(e)&&((e=new ee(l.pdfViewer,"annotations",i.pdfViewer.annotationCollection[parseInt(t.toString(),10)],!0)).id=i.pdfViewer.annotationCollection[parseInt(t.toString(),10)].uniqueId,e.annotName=i.pdfViewer.annotationCollection[parseInt(t.toString(),10)].annotationId,e.annotationId=null);var a=i.pdfViewer.annotation.modifyInCollections(e,"delete");if(G.isNullOrUndefined(a)&&((a=i.pdfViewer.annotationCollection[parseInt(t.toString(),10)]).annotName=i.pdfViewer.annotationCollection[parseInt(t.toString(),10)].annotationId,delete a.annotationId),i.pdfViewer.annotation.undoCommentsElement.push(a),i.pdfViewer.annotation.addAction(e.pageIndex,null,e,"Delete","",a,e),"Square"===e.shapeAnnotationType||"Line"===e.shapeAnnotationType||"Circle"===e.shapeAnnotationType||"Polygon"===e.shapeAnnotationType||"Polyline"===e.shapeAnnotationType)(e.calibrate?i.pdfViewer.annotation.measureAnnotationModule:i.pdfViewer.annotation.shapeAnnotationModule).manageAnnotations(e,e.pageNumber);else if("Stamp"===e.shapeAnnotationType||"Image"===e.shapeAnnotationType)i.pdfViewer.annotation.stampAnnotationModule.manageAnnotations(e,e.pageNumber);else if("FreeText"===e.shapeAnnotationType)i.pdfViewer.annotation.freeTextAnnotationModule.manageAnnotations(e,e.pageNumber);else if("Ink"===e.shapeAnnotationType)i.pdfViewer.annotation.inkAnnotationModule.manageInkAnnotations(e,e.pageNumber);else if("StickyNotes"===e.shapeAnnotationType){for(var s=i.pdfViewer.annotation.stickyNotesAnnotationModule.getAnnotations(e.pageIndex,null,"sticky"),r=0;r<s.length;r++)if(s[parseInt(r.toString(),10)].annotName===e.annotName){s.splice(r,1);break}i.pdfViewer.annotation.stickyNotesAnnotationModule.manageAnnotations(s,e.pageIndex,"sticky")}}}(e)},S.prototype.updateSignatureUndoRedo=function(){for(var e=0;e<this.pdfViewer.signatureCollection.length;e++){var t=this,i=void 0;if("HandWrittenSignature"===t.pdfViewer.signatureCollection[parseInt(e.toString(),10)].shapeAnnotationType||"SignatureText"===t.pdfViewer.signatureCollection[parseInt(e.toString(),10)].shapeAnnotationType||"SignatureImage"===t.pdfViewer.signatureCollection[parseInt(e.toString(),10)].shapeAnnotationType){for(var i=t.pdfViewer.signatureCollection[parseInt(e.toString(),10)],n=0,o=t.signatureModule.getAnnotations(i.pageNumber,null);n<o.length;n++){var r=o[n];if(r.id===i.uniqueKey){i=r;break}}var a=t.pdfViewer.annotation.modifyInCollections(i,"delete");G.isNullOrUndefined(a)&&((a=t.pdfViewer.signatureCollection[parseInt(e.toString(),10)]).annotName=t.pdfViewer.signatureCollection[parseInt(e.toString(),10)].annotationId,delete a.annotationId),t.pdfViewer.annotation.undoCommentsElement.push(a),t.pdfViewer.annotation.addAction(i.pageIndex,null,i,"Delete","",a,i),"HandWrittenSignature"!==i.shapeAnnotationType&&"SignatureText"!==i.shapeAnnotationType&&"SignatureImage"!==i.shapeAnnotationType||t.signatureModule.manageAnnotations(i,i.pageNumber)}e--}},S.prototype.createAnnotationsCollection=function(e,t){var i=[];if(t){o={textMarkupAnnotation:[],shapeAnnotation:[],measureShapeAnnotation:[],stampAnnotations:[],stickyNotesAnnotation:[],freeTextAnnotation:[],signatureAnnotation:[],signatureInkAnnotation:[]};(i={})[parseInt(e.toString(),10)]=o}else for(var n=0;n<this.pageCount;n++){var o={textMarkupAnnotation:[],shapeAnnotation:[],measureShapeAnnotation:[],stampAnnotations:[],stickyNotesAnnotation:[],freeTextAnnotation:[],signatureAnnotation:[],signatureInkAnnotation:[]};i.push(o)}return i},S.prototype.addAnnotation=function(e){var t={};if(e){for(var i=!1,n=1,o=!e.shapeAnnotationType&&!e.author&&e.length?(n=e.length,this.createAnnotationsCollection()):this.createAnnotationsCollection(e.pageNumber,i=!0),r=0;r<n;r++){var a,s,l,A=void 0,A=i?e:e[parseInt(r.toString(),10)],d={};if(d.ShapeAnnotationType=A.shapeAnnotationType,d.AnnotationAddMode=A.annotationAddMode,d.Author=A.author,d.AnnotationSelectorSettings=A.annotationSelectorSettings,d.AnnotationSettings=A.annotationSettings,d.PageNumber=A.pageNumber,d.ModifiedDate=A.modifiedDate,d.Subject=A.subject,d.Note=A.note,d.AnnotName=A.annotationId,d.IsCommentLock=A.isCommentLock,d.Comments=A.comments,A.comments&&0<A.comments.length){for(var p=[],h=0;h<A.comments.length;h++)p.push(this.updateComments(A,A.comments[parseInt(h.toString(),10)]));d.Comments=p}if(A.review&&(d.State=A.review.state,d.StateModel=A.review.stateModel),d.CustomData=A.customData,d.Opacity=A.opacity,"textMarkup"===A.shapeAnnotationType){if(d.AnnotType="textMarkup",d.Color=A.color,d.IsMultiSelect=A.isMultiSelect,d.TextMarkupAnnotationType=A.textMarkupAnnotationType,d.TextMarkupContent=A.textMarkupContent,d.TextMarkupStartIndex=A.textMarkupStartIndex,d.TextMarkupEndIndex=A.textMarkupEndIndex,A.rect&&(d.Rect=this.convertBounds(A.rect,!0)),A.bounds&&1<=A.bounds.length){for(var c=[],h=0;h<A.bounds.length;h++)c.push(this.convertBounds(A.bounds[parseInt(h.toString(),10)]));d.Bounds=c}o[A.pageNumber].textMarkupAnnotation.push(d)}else if("sticky"===A.shapeAnnotationType)d.AnnotType="sticky",d.Icon="Comment",d.Bounds=this.convertBounds(A.bounds),d.StrokeColor=A.strokeColor,d.Color=A.color,o[A.pageNumber].stickyNotesAnnotation.push(d);else if("FreeText"===A.shapeAnnotationType)d.AnnotType="freeText",d.Name=A.annotationId,d.MarkupText=A.dynamicText,d.Text=A.dynamicText,d.Note=A.dynamicText,d.TextAlign=A.textAlign,d.Thickness=A.thicknes,d.StrokeColor=A.strokeColor,d.FillColor=A.fillColor,d.FontColor=A.fontColor,d.FontSize=A.fontSize,d.FontFamily=A.fontFamily,d.Rotate=A.rotateAngle,d.Bounds=this.convertBounds(A.bounds),d.Font={Name:A.fontFamily,Size:A.fontSize,Bold:A.font.isBold,Italic:A.font.isItalic,Strikeout:A.font.isStrikeout,Underline:A.font.isUnderline},o[A.pageNumber].freeTextAnnotation.push(d);else if("stamp"===A.shapeAnnotationType)d.AnnotType="stamp",d.Icon=A.icon,d.isDynamic=!1,d.Rect=this.convertBounds(A.bounds,!1,!0),d.RotateAngle=A.rotateAngle,d.FillColor=A.fillColor,d.StrokeColor=A.strokeColor,d.StampAnnotationType=A.stampAnnotationType,d.CreationDate=A.creationDate,"image"===A.stampAnnotationType&&(s={imagedata:A.stampAnnotationPath},(a=[]).push(s),d.Apperarance=a),A.isDynamicStamp&&(d.IsDynamic=!0,d.StrokeColor=A.stampFillcolor,s={type:"string",text:A.dynamicText,currentFontname:"95b303ab-d397-438a-83af-e2ff8a9900f1",baseFontName:"Helvetica-BoldOblique",fontSize:10,isImport:!0},(a=[]).push(s),d.Apperarance=a),o[A.pageNumber].stampAnnotations.push(d);else if("Ink"===A.shapeAnnotationType||"Signature"===A.shapeAnnotationType)d.StrokeColor=A.strokeColor,d.FillColor=A.fillColor,d.Thickness=A.thickness,d.Bounds=this.convertBounds(A.bounds),d.PathData=A.data,d.pageIndex=A.pageNumber,"Ink"===A.shapeAnnotationType&&(d.AnnotType="Ink",d.IsPathData=!0,o[A.pageNumber].signatureInkAnnotation.push(d)),"Signature"===A.shapeAnnotationType&&(d.AnnotType="Signature",d.SignatureName=A.annotationId,d.IsSignature=!0,o[A.pageNumber].signatureAnnotation.push(d));else if("Line"===A.shapeAnnotationType||"LineWidthArrowHead"===A.shapeAnnotationType||"Polyline"===A.shapeAnnotationType||"Polygon"===A.shapeAnnotationType||"Polyline"===A.shapeAnnotationType||"Circle"===A.shapeAnnotationType||"Oval"===A.shapeAnnotationType||"Rectangle"===A.shapeAnnotationType||"Square"===A.shapeAnnotationType||"Ellipse"===A.shapeAnnotationType){if(d.AnnotType="shape",d.StrokeColor=A.strokeColor,d.FillColor=A.fillColor,d.Thickness=A.thickness,d.BorderStyle=A.borderStyle,d.BorderDashArray=A.borderDashArray,d.RotateAngle=A.rotateAngle,d.IsCloudShape=A.isCloudShape,d.CloudIntensity=A.cloudIntensity,d.RectangleDifference=A.rectangleDifference,d.LineHeadStart=A.lineHeadStart,d.LineHeadEnd=A.lineHeadEnd,d.IsLocked=A.isLocked,d.EnableShapeLabel=A.enableShapeLabel,d.LabelContent=A.labelContent,d.LabelFillColor=A.labelFillColor,d.LabelBorderColor=A.labelBorderColor,d.FontColor=A.fontColor,d.FontSize=A.fontSize,d.LabelBounds=this.convertBounds(A.labelBounds),d.LabelSettings=A.labelSettings,d.Bounds=this.convertBounds(A.bounds),d.LeaderLength=A.leaderLength,d.LeaderLineExtenstion=A.leaderLineExtension,A.vertexPoints&&1<=A.vertexPoints.length){for(var g=[],h=0;h<A.vertexPoints.length;h++)g.push(this.convertVertexPoints(A.vertexPoints[parseInt(h.toString(),10)]));d.VertexPoints=g}d.EnableShapeLabel=A.enableShapeLabel,("Distance calculation"===A.subject||"Perimeter calculation"===A.subject||"Area calculation"===A.subject||"Radius calculation"===A.subject||"Volume calculation"===A.subject?(d.AnnotType="shape_measure",(l=A.calibrate)&&(d.Calibrate={Ratio:l.ratio,X:[{Unit:l.x[0].unit,ConversionFactor:l.x[0].conversionFactor,FractionalType:l.x[0].fractionalType,Denominator:l.x[0].denominator,FormatDenominator:l.x[0].formatDenominator}],Distance:[{Unit:l.distance[0].unit,ConversionFactor:l.distance[0].conversionFactor,FractionalType:l.distance[0].fractionalType,Denominator:l.distance[0].denominator,FormatDenominator:l.distance[0].formatDenominator}],Area:[{Unit:l.area[0].unit,ConversionFactor:l.area[0].conversionFactor,FractionalType:l.area[0].fractionalType,Denominator:l.area[0].denominator,FormatDenominator:l.area[0].formatDenominator}],Angle:null,Volume:null,TargetUnitConversion:l.targetUnitConversion,Depth:l.depth}),d.Indent=A.indent,d.Caption=A.caption,d.CaptionPosition=A.captionPosition,d.LeaderLineExtension=A.leaderLineExtension,d.LeaderLength=A.leaderLength,d.LeaderLineOffset=A.leaderLineOffset,o[A.pageNumber].measureShapeAnnotation):o[A.pageNumber].shapeAnnotation).push(d)}}t.pdfAnnotation=o,this.pdfViewer.importAnnotation(t)}},S.prototype.convertBounds=function(e,t,i){var n,o;return e?t?{left:e.left||e.Left||0,right:e.right||e.Right||0,bottom:e.bottom||e.Bottom||0,top:e.top||e.Top||0}:(t=e.x||e.left||e.Left||0,n=e.y||e.top||e.Top||0,o=e.width||e.Width||0,e=e.height||e.Height||0,i?{X:this.ConvertPixelToPoint(t),Y:this.ConvertPixelToPoint(n),Left:this.ConvertPixelToPoint(t),Top:this.ConvertPixelToPoint(n),Height:this.ConvertPixelToPoint(e),Width:this.ConvertPixelToPoint(o)}:{X:t,Y:n,Left:t,Top:n,Height:e,Width:o}):null},S.prototype.ConvertPixelToPoint=function(e){return.75*e},S.prototype.convertVertexPoints=function(e){var t;if(e)return{X:t=e.x||e.X||0,Y:e=e.y||e.Y||0,Left:t,Top:e}},S.prototype.updateComments=function(e,t){var i;if(e&&t)return(i={}).ShapeAnnotationType=e.shapeAnnotationType,i.Author=t.author,i.AnnotationSelectorSettings=e.annotationSelectorSettings,i.AnnotationSettings=e.annotationSettings,i.PageNumber=e.pageNumber,i.ModifiedDate=t.modifiedDate,i.Subject=e.subject,i.Note=t.note,i.AnnotName=t.annotName,i.Comments=t.comments,i.State=t.review.state,i.StateModel=t.review.stateModel,i.CustomData=e.customData,i.IsLock=t.isLock,i},S.prototype.removeFocus=function(){var e;G.isBlazor()&&(e=this.pdfViewer.element.querySelector("#"+this.pdfViewer.element.id+"_totalPage"))&&e.firstElementChild&&e.firstElementChild.firstElementChild&&e.firstElementChild.firstElementChild.blur()},S.prototype.updateDocumentEditedProperty=function(e){this.pdfViewer.allowServerDataBinding=!0,this.pdfViewer.isDocumentEdited=e,this.pdfViewer.allowServerDataBinding=!1},S.prototype.getWindowDevicePixelRatio=function(){var e=window.devicePixelRatio;return G.Browser.isDevice?2:e},S.prototype.getZoomRatio=function(e){var t=this.getZoomFactor(),e=e||1,i=this.getWindowDevicePixelRatio(),t=!G.Browser.isDevice||G.Browser.isDevice&&t<=.7?e*i:e;return t},S.prototype.importJsonForRotatedDocuments=function(e,t,i,n){var e=Math.abs(e),o=this.pageSize[parseInt(t.toString(),10)];return n!==o.rotation?(e=this.getRotationAngle(n,t),this.isPageRotated=!0):(e=0,this.isPageRotated=!1),1===e?{X:o.width-i.Y-i.Height,Y:i.X,Height:i.Width,Width:i.Height}:2===e?{X:o.width-i.X-i.Width,Y:o.height-i.Y-i.Height,Height:i.Height,Width:i.Width}:3===e?{X:i.Y,Y:o.height-i.X-i.Width,Height:i.Width,Width:i.Height}:i},S.prototype.getRotationAngle=function(e,t){t=this.pageSize[parseInt(t.toString(),10)];return 0===(e=Math.abs(e))?t.rotation:1===e||90===e?0===t.rotation?3:2===t.rotation?1:3===t.rotation?2:void 0:2===e||180===e?0===t.rotation?2:1===t.rotation?3:3===t.rotation?1:void 0:3===e||270===e?0===t.rotation?1:2===t.rotation?3:1===t.rotation?2:void 0:void 0},S.prototype.calculateVertexPoints=function(e,t,i,n){for(var o,r,a=Math.abs(e),s=[],l=this.pageSize[parseInt(t.toString(),10)],a=n!==l.rotation?this.getRotationAngle(n,t):0,A=0;A<i.length;A++)1===a?(o=i[parseInt(A.toString(),10)].Y?l.width-i[parseInt(A.toString(),10)].Y:l.width-i[parseInt(A.toString(),10)].y,r=i[parseInt(A.toString(),10)].X?i[parseInt(A.toString(),10)].X:i[parseInt(A.toString(),10)].x,s.push({x:o,y:r})):2===a?(o=i[parseInt(A.toString(),10)].X?l.width-i[parseInt(A.toString(),10)].X:l.width-i[parseInt(A.toString(),10)].x,r=i[parseInt(A.toString(),10)].Y?l.height-i[parseInt(A.toString(),10)].Y:l.height-i[parseInt(A.toString(),10)].y,s.push({x:o,y:r})):3===a?(o=i[parseInt(A.toString(),10)].Y?i[parseInt(A.toString(),10)].Y:i[parseInt(A.toString(),10)].y,r=i[parseInt(A.toString(),10)].X?l.height-i[parseInt(A.toString(),10)].X:l.height-i[parseInt(A.toString(),10)].x,s.push({x:o,y:r})):(o=i[parseInt(A.toString(),10)].X?i[parseInt(A.toString(),10)].X:i[parseInt(A.toString(),10)].x,r=i[parseInt(A.toString(),10)].Y?i[parseInt(A.toString(),10)].Y:i[parseInt(A.toString(),10)].y,s.push({x:o,y:r}));return s},S.prototype.isSignaturePathData=function(e){return/^([Mm]\s*\d+(\.\d+)?\s*,\s*\d+(\.\d+)?(\s+[Ll]\s*\d+(\.\d+)?\s*,\s*\d+(\.\d+)?)*\s*)+$/.test(e)},S.prototype.isSignatureImageData=function(e){return/^data:image\/([a-z]+);base64,/.test(e)},S.prototype.getSanitizedString=function(e){return e.replace(/[\x00-\x1F\x7F]/g,function(e){return"\\u"+e.charCodeAt(0).toString(16).padStart(4,"0")})},S.prototype.getLinkInformation=function(e,t){var i=this.retrieveCurrentZoomFactor(),n=(this.pdfViewer.restrictZoomRequest&&!this.pdfViewer.tileRenderingSettings.enableTileRendering&&(i=1),this.documentId+"_"+e),o=this.pageImageDetails&&this.pageImageDetails[n+"_"+i+"_imageUrl"]||this.getPinchZoomPage(e),r=this.hyperlinkAndLinkAnnotation&&this.hyperlinkAndLinkAnnotation[n+"_hyperlinkAndLinkAnnotation"]||this.getPinchZoomPage(e),n=this.pageTextDetails&&this.pageTextDetails[n+"_textDetails"]||this.getPinchZoomPage(e),i=(o||(e=this.getStoredTileImageDetails(e,0,0,i))&&(o=e),null);return o&&r&&(e=JSON.parse(o),o=JSON.parse(r),r=JSON.parse(n),i=Object.assign({},e,o,r),this.isPinchZoomStorage=!1),i},S.prototype.releaseCanvas=function(e){e.width=1,e.height=1;e=e.getContext("2d");e&&e.clearRect(0,0,1,1)},S.prototype.getModuleWarningMessage=function(e){console.warn("[WARNING] :: Module '"+e+"' is not available in PDF Viewer component! You either misspelled the module name or forgot to load it.")},S.prototype.updateSelectorSettings=function(e){this.pdfViewer.annotationSelectorSettings&&"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor&&(e.resizerFillColor=this.pdfViewer.annotationSelectorSettings.resizerFillColor),this.pdfViewer.annotationSelectorSettings&&"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor&&(e.resizerBorderColor=this.pdfViewer.annotationSelectorSettings.resizerBorderColor),this.pdfViewer.annotationSelectorSettings&&""!==this.pdfViewer.annotationSelectorSettings.selectionBorderColor&&(e.selectionBorderColor=this.pdfViewer.annotationSelectorSettings.selectionBorderColor),this.pdfViewer.annotationSelectorSettings&&8!==this.pdfViewer.annotationSelectorSettings.resizerSize&&(e.resizerSize=this.pdfViewer.annotationSelectorSettings.resizerSize),this.pdfViewer.annotationSelectorSettings&&"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape&&(e.resizerShape=this.pdfViewer.annotationSelectorSettings.resizerShape),this.pdfViewer.annotationSelectorSettings&&null!==this.pdfViewer.annotationSelectorSettings.resizerCursorType&&(e.resizerCursorType=this.pdfViewer.annotationSelectorSettings.resizerCursorType),this.pdfViewer.annotationSelectorSettings&&1!==this.pdfViewer.annotationSelectorSettings.selectionBorderThickness&&(e.selectionBorderThickness=this.pdfViewer.annotationSelectorSettings.selectionBorderThickness),this.pdfViewer.annotationSelectorSettings&&0!==this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length&&(e.selectorLineDashArray=this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)},S.prototype.annotationSelectorSettingLoad=function(e){"shape"===e.AnnotationType&&("Line"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.lineSettings.annotationSelectorSettings||this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Arrow"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.arrowSettings.annotationSelectorSettings||this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Rectangle"===e.ShapeAnnotationType||"Square"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.rectangleSettings.annotationSelectorSettings||this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Circle"===e.ShapeAnnotationType||"Ellipse"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.circleSettings.annotationSelectorSettings||this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Polygon"===e.ShapeAnnotationType&&(e.AnnotationSelectorSettings=this.pdfViewer.polygonSettings.annotationSelectorSettings||this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings))),"shape_measure"===e.AnnotType&&("Circle"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.radiusSettings.annotationSelectorSettings||this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Line"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.distanceSettings.annotationSelectorSettings||this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Polyline"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.perimeterSettings.annotationSelectorSettings||this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Polygon"===e.ShapeAnnotationType&&"PolygonVolume"===e.Indent?(e.AnnotationSelectorSettings=this.pdfViewer.volumeSettings.annotationSelectorSettings||this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Polygon"===e.ShapeAnnotationType&&(e.AnnotationSelectorSettings=this.pdfViewer.areaSettings.annotationSelectorSettings||this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)))},S.prototype.boundsCalculation=function(e,t){var i,n,o,r,a,s;return!(G.isNullOrUndefined(e)&&G.isNullOrUndefined(t.x)&&G.isNullOrUndefined(t.y)&&G.isNullOrUndefined(t.width)&&G.isNullOrUndefined(t.height)&&G.isNullOrUndefined(t)&&G.isNullOrUndefined(t.x)&&G.isNullOrUndefined(t.y)&&G.isNullOrUndefined(t.height)&&G.isNullOrUndefined(t.width))&&(i=parseFloat(t.x.toFixed(10)),n=parseFloat(t.y.toFixed(10)),o=parseFloat(t.width.toFixed(10)),t=parseFloat(t.height.toFixed(10)),r=e.x?parseFloat(e.x.toFixed(10)):parseFloat(e.left.toFixed(10)),a=e.y?parseFloat(e.y.toFixed(10)):parseFloat(e.top.toFixed(10)),s=parseFloat(e.width.toFixed(10)),e=parseFloat(e.height.toFixed(10)),i!==r||n!==a||o!==s||t!==e)},S.sessionStorageManager=new An(!1),S);function S(e){var p=this;this.hyperlinkAndLinkAnnotation={},this.pageTextDetails={},this.pageImageDetails={},this.pageSize=[],this.existingFieldImport=!0,this.pageCount=0,this.customZoomValues=[],this.isReRenderRequired=!0,this.currentPageNumber=0,this.initialZoomValue={},this.activeElements=new Mt,this.mouseDownEvent=null,this.pngData=[],this.isDocumentLoaded=!1,this.renderedPagesList=[],this.pageGap=8,this.signatureAdded=!1,this.isSignInitialClick=!1,this.isFreeTextSelected=!1,this.pageLeft=5,this.sessionLimit=1e3,this.pageStopValue=300,this.toolbarHeight=56,this.pageLimit=0,this.previousPage=0,this.isViewerMouseDown=!1,this.isViewerMouseWheel=!1,this.scrollPosition=0,this.sessionStorage=[],this.isLoadedFormFieldAdded=!1,this.isInkAnnot=!1,this.modifiedPageIndex=[],this.pointerCount=0,this.pointersForTouch=[],this.isPasswordAvailable=!1,this.isBounds=!1,this.isImportDoc=!1,this.passwordData="",this.reRenderedCount=0,this.mouseX=0,this.mouseY=0,this.mouseLeft=0,this.mouseTop=0,this.touchClientX=0,this.touchClientY=0,this.previousTime=0,this.currentTime=0,this.isTouchScrolled=!1,this.isgetFocused=!1,this.isLongTouchPropagated=!1,this.longTouchTimer=null,this.isViewerContainerDoubleClick=!1,this.dblClickTimer=null,this.pinchZoomStorage=[],this.isTextSelectionDisabled=!1,this.isPanMode=!1,this.dragX=0,this.dragY=0,this.isScrollbarMouseDown=!1,this.scrollX=0,this.scrollY=0,this.ispageMoved=!1,this.isThumb=!1,this.isTapHidden=!1,this.singleTapTimer=null,this.tapCount=0,this.inputTapCount=0,this.isInitialLoaded=!1,this.annotationPageList=[],this.importPageList=[],this.isImportAction=!1,this.isImportedAnnotation=!1,this.isAnnotationCollectionRemoved=!1,this.tool=null,this.action="Select",this.eventArgs=null,this.inAction=!1,this.isMouseDown=!1,this.isStampMouseDown=!1,this.stampAdded=!1,this.customStampCount=0,this.isDynamicStamp=!1,this.isMixedSizeDocument=!1,this.highestWidth=0,this.highestHeight=0,this.customStampCollection=[],this.isAlreadyAdded=!1,this.isWebkitMobile=!1,this.isFreeTextContextMenu=!1,this.isSelection=!1,this.isAddAnnotation=!1,this.annotationComments=null,this.isToolbarSignClicked=!1,this.signatureCount=0,this.isSignatureAdded=!1,this.isNewSignatureAdded=!1,this.isInitialPageMode=!1,this.documentAnnotationCollections=null,this.annotationRenderredList=[],this.annotationStorage={},this.formFieldStorage={},this.isStorageExceed=!1,this.isFormStorageExceed=!1,this.isNewStamp=!1,this.downloadCollections={},this.isAnnotationAdded=!1,this.annotationEvent=null,this.isAnnotationDrawn=!1,this.isAnnotationSelect=!1,this.isAnnotationMouseDown=!1,this.isAnnotationMouseMove=!1,this.validateForm=!1,this.isMinimumZoom=!1,this.documentLoaded=!1,this.tileRenderCount=0,this.tileRequestCount=0,this.isTileImageRendered=!1,this.isDataExits=!1,this.requestLists=[],this.tilerequestLists=[],this.textrequestLists=[],this.renderThumbnailImages=!1,this.pageRenderCount=2,this.isInkAdded=!1,this.inkCount=0,this.isAddedSignClicked=!1,this.imageCount=0,this.isMousedOver=!1,this.isFormFieldSelect=!1,this.isFormFieldMouseDown=!1,this.isFormFieldMouseMove=!1,this.isFormFieldMousedOver=!1,this.isPassword=!1,this.digitalSignaturePages=[],this.isDigitalSignaturePresent=!1,this.isDrawnCompletely=!1,this.isAddComment=!1,this.drawSignatureWithTool=!1,this.formFieldCollection=[],this.requestCollection=[],this.nonFillableFields={},this.isInitialField=!1,this.isTouchDesignerMode=!1,this.isPrint=!1,this.isPDFViewerJson=!1,this.isJsonImported=!1,this.isJsonExported=!1,this.isPageRotated=!1,this.downloadFileName="",this.isFocusField=!1,this.isTouchPad=!1,this.isMacGestureActive=!1,this.macGestureStartScale=0,this.zoomInterval=5,this.isTaggedPdf=!1,this.accessibilityTagsHandler=null,this.accessibilityTagsCollection=[],this.pageRequestListForAccessibilityTags=[],this.enableAccessibilityMultiPageRequest=!0,this.clientSideRendering=!1,this.focusField=[],this.isSkipDocumentPath=!1,this.isScrollerMoving=!1,this.isScrollerMovingTimer=null,this.previousScrollbarWidth=0,this.closeNotification=function(){p.notifyDialog.hide()},this.clearSessionStorage=function(){var e,t,i,n,o;p.clientSideRendering||(o="",t=S.sessionStorageManager.getItem(p.documentId+"_hashId"),i=S.sessionStorageManager.getItem(p.documentId+"_documentLiveCount"),e=S.sessionStorageManager.getItem(p.documentId+"_serviceURL"),null!=(o=G.Browser.isIE||"edge"===G.Browser.info.name?decodeURI(t):t)&&(t={hashId:o,documentLiveCount:i,action:"Unload",elementId:p.pdfViewer.element.id},o=S.sessionStorageManager.getItem(p.documentId+"_unload"),G.isNullOrUndefined(e)?G.isBlazor()&&p.clearCache(o,t,p):"keepalive"in new Request("")&&(i=p.setUnloadRequestHeaders(),n=p.pdfViewer.ajaxRequestSettings.withCredentials?"include":"omit",fetch(e+"/"+o,{method:"POST",credentials:n,headers:i,body:JSON.stringify(t)})))),S.sessionStorageManager.clear()},this.onWindowResize=function(e){var t=null,t=p;p.pdfViewer.enableRtl?(t.viewerContainer.style.right=(t.navigationPane.sideBarToolbar?t.navigationPane.getViewerContainerLeft():0)+"px",t.viewerContainer.style.left=(t.navigationPane.commentPanelContainer?t.navigationPane.commentPanelContainer.offsetWidth:0)+"px"):(t.viewerContainer.style.left=(t.navigationPane.sideBarToolbar?t.navigationPane.getViewerContainerLeft():0)+"px",t.viewerContainer.style.right=(t.navigationPane.commentPanelContainer?t.navigationPane.commentPanelContainer.offsetWidth:0)+"px");var i,n,o,r=(0<t.pdfViewer.element.clientWidth?t.pdfViewer.element.clientWidth:t.pdfViewer.element.style.width)-(t.navigationPane.sideBarToolbar?t.navigationPane.getViewerContainerLeft():0)-(t.navigationPane.commentPanelContainer?t.navigationPane.getViewerContainerRight():0);t.viewerContainer.style.width=r+"px",t.pdfViewer.toolbarModule?(o=i=0,(n=G.isBlazor()?t.pdfViewer.element.querySelector(".e-pv-toolbar"):t.getElement("_toolbarContainer"))&&(i=n.getBoundingClientRect().height),t.isAnnotationToolbarHidden()||G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode?(0===i&&p.navigationPane.isNavigationToolbarVisible&&(i=t.getElement("_navigationToolbar").getBoundingClientRect().height),t.isFormDesignerToolbarHidded()||(o=(n=t.getElement("_formdesigner_toolbar"))?n.getBoundingClientRect().height:0),t.viewerContainer.style.height=t.updatePageHeight(t.pdfViewer.element.getBoundingClientRect().height,i+o)):(n=0,(o=G.isBlazor()?t.pdfViewer.element.querySelector(".e-pv-annotation-toolbar"):t.getElement("_annotation_toolbar"))&&(n=o.getBoundingClientRect().height),t.viewerContainer.style.height=t.updatePageHeight(t.pdfViewer.element.getBoundingClientRect().height,i+n))):t.viewerContainer.style.height=t.updatePageHeight(t.pdfViewer.element.getBoundingClientRect().height,0),t.pdfViewer.bookmarkViewModule&&G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode&&(o=t.getElement("_bookmarks_container"))&&(o.style.height=t.updatePageHeight(t.pdfViewer.element.getBoundingClientRect().height,0)),"0px"===t.viewerContainer.style.height&&("auto"===t.pdfViewer.height.toString()?(t.pdfViewer.height=500,t.viewerContainer.style.height=t.pdfViewer.height+"px"):t.viewerContainer.style.height=t.pdfViewer.element.style.height),"0px"===t.viewerContainer.style.width&&("auto"===t.pdfViewer.width.toString()?(t.pdfViewer.width=500,t.viewerContainer.style.width=t.pdfViewer.width+"px"):t.viewerContainer.style.width=t.pdfViewer.element.style.width),t.pageContainer.style.width=t.viewerContainer.clientWidth+"px",0===t.viewerContainer.clientWidth&&(t.pageContainer.style.width=t.pdfViewer.element.style.width),G.isBlazor()||t.pdfViewer.toolbarModule&&t.pdfViewer.toolbarModule.onToolbarResize(t.navigationPane.sideBarToolbar?t.navigationPane.getViewerMainContainerWidth():t.pdfViewer.element.clientWidth),p.pdfViewer.enableToolbar&&p.pdfViewer.thumbnailViewModule&&(t.pdfViewer.thumbnailViewModule.gotoThumbnailImage(t.currentPageNumber-1),t.navigationPane.sideBarToolbar)&&t.navigationPane.sideBarContentContainer&&(t.navigationPane.sideBarContentContainer.style.height=t.viewerContainer.style.height),!t.pdfViewer.textSearchModule||G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode||t.pdfViewer.textSearchModule.textSearchBoxOnResize(),0==r||t.navigationPane.isBookmarkListOpen||t.updateZoomValue(),G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode?(t.mobileScrollerContainer.style.left=r-parseFloat(t.mobileScrollerContainer.style.width)+"px",t.mobilePageNoContainer.style.left=r/2-parseFloat(t.mobilePageNoContainer.style.width)/2+"px",t.mobilePageNoContainer.style.top=t.pdfViewer.element.clientHeight/2+"px",t.updateMobileScrollerPosition()):(t.navigationPane.setResizeIconTop(),t.navigationPane.setCommentPanelResizeIconTop(),e&&"resize"===e.type&&t.signatureModule.updateCanvasSize()),t.navigationPane.sideBarToolbar&&(t.navigationPane.sideBarToolbar.style.height=t.viewerContainer.style.height)},this.viewerContainerOnMousedown=function(e){var t,i=p.isFreeTextContextMenu=!1,n=(p.isSelection=!0,e.target);0!==e.button||p.getPopupNoteVisibleStatus()||p.isClickedOnScrollBar(e,!1)||(p.isViewerMouseDown=!0,1===e.detail&&"e-pdfviewer-formFields"!==n.className&&"free-text-input"!==n.className&&p.focusViewerContainer(i=!0),p.scrollPosition=p.viewerContainer.scrollTop/p.getZoomFactor(),p.mouseX=e.clientX,p.mouseY=e.clientY,p.mouseLeft=e.clientX,p.mouseTop=e.clientY,t=!!document.documentMode,!p.pdfViewer.textSelectionModule)||p.isClickedOnScrollBar(e,!0)||p.isTextSelectionDisabled||(t||"e-pdfviewer-formFields"===n.className||"e-pdfviewer-ListBox"===n.className||-1!==n.className.indexOf("e-pv-formfield-dropdown")||"e-pv-formfield-listbox"===n.className||"e-pv-formfield-input"===n.className||"e-pv-formfield-textarea"===n.className||e.preventDefault(),"e-pv-droplet"!==n.className&&p.pdfViewer.textSelectionModule.clearTextSelection()),p.isClickedOnScrollBar(e,!1)&&(p.isViewerMouseDown=!0),p.isPanMode&&(p.dragX=e.pageX,p.dragY=e.pageY,p.viewerContainer.contains(e.target))&&e.target!==p.viewerContainer&&e.target!==p.pageContainer&&p.isPanMode&&(p.viewerContainer.style.cursor="grabbing"),!p.isShapeBasedAnnotationsEnabled()||!p.isAnnotationDrawn&&("e-pv-page-container"===n.className||"foreign-object"===n.className&&isNaN(p.activeElements.activePageID))||p.diagramMouseDown(e),p.pdfViewer.annotation&&p.pdfViewer.annotation.stickyNotesAnnotationModule.accordionContainer&&(i||(p.pdfViewer.annotationModule.stickyNotesAnnotationModule.isEditableElement=!1,p.updateCommentPanel(),i=!0)),G.isBlazor()&&p.mouseDownHandler(e)},this.viewerContainerOnMouseup=function(e){var t,i,n,o,r,a;p.getPopupNoteVisibleStatus()||(p.isViewerMouseDown&&(p.scrollHoldTimer&&(clearTimeout(p.scrollHoldTimer),p.scrollHoldTimer=null),p.scrollPosition*p.getZoomFactor()!==p.viewerContainer.scrollTop)&&p.pageViewScrollChanged(p.currentPageNumber),r=!1,(r=e.target&&("e-pv-show-designer-name"===e.target.className&&""!==e.target.id.split("_",1)&&(r=document.getElementById(e.target.id.split("_",1)).disabled),"foreign-object"===e.target.className)&&e.target.children[0]?e.target.children[0].disabled:r)&&p.pdfViewer.annotation&&p.pdfViewer.annotation.clearSelection(),!p.isShapeBasedAnnotationsEnabled()||r||!p.isAnnotationDrawn&&"DrawTool"===p.action||(p.diagramMouseUp(e),p.pdfViewer.annotation&&p.pdfViewer.annotation.onAnnotationMouseUp()),0<p.pdfViewer.selectedItems.formFields.length?G.isNullOrUndefined(p.pdfViewer.toolbar)||G.isNullOrUndefined(p.pdfViewer.toolbar.formDesignerToolbarModule)||G.Browser.isDevice||p.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(!0):G.isNullOrUndefined(p.pdfViewer.toolbar)||G.isNullOrUndefined(p.pdfViewer.toolbar.formDesignerToolbarModule)||G.Browser.isDevice||p.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(!1),p.isSelection=!1,(r=document.getElementById(p.pdfViewer.element.id+"_commantPanel"))&&"block"===r.style.display&&p.pdfViewer.selectedItems&&0!==p.pdfViewer.selectedItems.annotations.length&&((r=document.getElementById(p.pdfViewer.element.id+"_accordionContainer"+p.pdfViewer.currentPageNumber))&&r.ej2_instances[0].expandItem(!0),r=document.getElementById(p.pdfViewer.selectedItems.annotations[0].annotName))&&!r.classList.contains("e-pv-comments-border")&&r.firstChild.click(),0!==e.button||p.isClickedOnScrollBar(e,!1)||(t=e.target,r=e.clientX,a=e.clientY,i=p.getZoomFactor(),n=p.currentPageNumber,t&&(o=t.id.split("_text_")[1]||t.id.split("_textLayer_")[1]||t.id.split("_annotationCanvas_")[1]||t.id.split("_pageDiv_")[1]||t.id.split("_freeText_")[1]||t.id.split("_")[1],n=parseInt(o,10),isNaN(n))&&p.pdfViewer.formFieldCollection&&0<(o=p.pdfViewer.formFieldCollection.filter(function(e){return e.id===t.id||e.id===t.id.split("_")[0]})).length&&(n=o[0].pageIndex),(o=p.getElement("_pageDiv_"+n))&&(o=o.getBoundingClientRect(),r=(e.clientX-o.left)/i,a=(e.clientY-o.top)/i),t&&t.classList&&!t.classList.contains("e-pv-hyperlink")&&!t.classList.contains("e-pv-page-container")&&(p.pdfViewer.firePageClick(r,a,n+1),p.pdfViewer.formFieldsModule)&&!p.pdfViewer.formDesignerModule&&p.signatureModule.removeFocus(),p.isTextMarkupAnnotationModule()&&!p.isToolbarInkClicked&&p.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationMouseUp(e),p.pdfViewer.formDesignerModule&&!p.pdfViewer.annotationModule&&p.pdfViewer.formDesignerModule.updateCanvas(n),p.viewerContainer.contains(e.target)&&e.target!==p.viewerContainer&&e.target!==p.pageContainer&&p.isPanMode&&(p.viewerContainer.style.cursor="move",p.viewerContainer.style.cursor="-webkit-grab",p.viewerContainer.style.cursor="-moz-grab",p.viewerContainer.style.cursor="grab")),p.isViewerMouseDown=!1)},this.detectTouchPad=function(e){p.isTouchPad=e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||Math.abs(e.deltaY)<60:0===e.deltaMode},this.handleMacGestureStart=function(e){e.preventDefault(),e.stopPropagation(),p.macGestureStartScale=p.pdfViewer.magnification.zoomFactor},this.handleMacGestureChange=function(e){e.preventDefault(),e.stopPropagation();var t=e.clientX,i=e.clientY,e=Number((p.macGestureStartScale*e.scale).toFixed(2));p.isMacGestureActive||(p.isMacGestureActive=!0,p.pdfViewer.magnification.initiateMouseZoom(t,i,100*e),setTimeout(function(){p.isMacGestureActive=!1},50))},this.handleMacGestureEnd=function(e){e.preventDefault(),e.stopPropagation()},this.viewerContainerOnMouseWheel=function(e){var t;p.isViewerMouseWheel=!0,p.getRerenderCanvasCreated()&&e.preventDefault(),e.ctrlKey&&(t=25,(p.pdfViewer.magnificationModule?p.pdfViewer.magnification.zoomFactor:p.pdfViewer.zoomValue<1)&&(t=10),(p.pdfViewer.magnificationModule?p.pdfViewer.magnification.zoomFactor:2<=p.pdfViewer.zoomValue)&&(t=50),p.isTouchPad&&!p.isMacSafari&&(t/=p.zoomInterval),p.pdfViewer.magnificationModule&&(0<e.wheelDelta?p.pdfViewer.magnification.initiateMouseZoom(e.x,e.y,100*p.pdfViewer.magnification.zoomFactor+t):p.pdfViewer.magnification.initiateMouseZoom(e.x,e.y,100*p.pdfViewer.magnification.zoomFactor-t)),p.isTouchPad=!1),p.pdfViewer.magnificationModule&&(p.pdfViewer.magnificationModule.pageRerenderOnMouseWheel(),e.ctrlKey&&e.preventDefault(),p.pdfViewer.magnificationModule.fitPageScrollMouseWheel(e)),p.pdfViewer.textSelectionModule&&!p.isTextSelectionDisabled&&p.isViewerMouseDown&&!e.target.classList.contains("e-pv-text")&&p.pdfViewer.textSelectionModule.textSelectionOnMouseWheel(p.currentPageNumber-1)},this.onWindowKeyDown=function(e){var t,i,n,o=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)&&e.metaKey;if(!(p.isFreeTextAnnotationModule()&&p.pdfViewer.annotationModule&&(!0===p.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus||!0===p.pdfViewer.annotationModule.inputElementModule.isInFocus)||e.ctrlKey&&o))switch(e.keyCode){case 46:var r=document.activeElement;"INPUT"===r.tagName||"TEXTAREA"===r.tagName||r.isContentEditable||p.DeleteKeyPressed(e);break;case 27:p.pdfViewer.toolbar&&(p.pdfViewer.toolbar.addInkAnnotation(),p.pdfViewer.toolbar.deSelectCommentAnnotation(),p.pdfViewer.toolbar.updateStampItems(),p.pdfViewer.toolbar.annotationToolbarModule&&(G.isBlazor()?p.pdfViewer.toolbar.annotationToolbarModule.deselectAllItemsInBlazor():p.pdfViewer.toolbar.annotationToolbarModule.deselectAllItems()),p.pdfViewer.isFormDesignerToolbarVisible&&document.getElementById("FormField_helper_html_element")&&(r=document.getElementById("FormField_helper_html_element"))&&r.remove(),p.pdfViewer.tool="",p.focusViewerContainer());break;case 13:if(p.pdfViewer.formDesignerModule&&"keydown"===e.type&&13===e.keyCode&&e.target&&(e.target.id||e.target.tabIndex)&&p.pdfViewer.formFieldCollections)for(var a=void 0,a=(e.target,(e.target.tabIndex&&!e.target.id?e.target.parentElement.id.split("_content_html_element"):e.target.id.split("_"))[0]),s=0;s<p.pdfViewer.formFieldCollections.length;s++){var l=p.pdfViewer.formFieldCollections[parseInt(s.toString(),10)];a!==l.id||"SignatureField"!==l.type&&"InitialField"!==l.type||(p.pdfViewer.fireFormFieldClickEvent("formFieldClicked",p.pdfViewer.formFieldCollections[parseInt(s.toString(),10)]),e.preventDefault())}break;case 32:if(p.pdfViewer.formDesignerModule&&"keydown"===e.type&&32===e.keyCode&&e.target&&e.target.id&&p.pdfViewer.formFields)for(s=0;s<p.pdfViewer.formFields.length;s++){var A=p.pdfViewer.formFields[parseInt(s.toString(),10)];if(e.target.id.split("_")[0]===A.id&&"Checkbox"===A.formFieldAnnotationType){p.pdfViewer.formDesignerModule.setCheckBoxState(e),e.preventDefault();break}}break;case 9:if(e.target&&(e.target.id||e.target.tabIndex)&&p.pdfViewer.formFieldCollections&&("e-pv-formfield-input"!==e.target.className&&"foreign-object"!==e.target.className&&e.target.id!==p.pdfViewer.element.id+"_viewerContainer"||(t=r=void 0,i=e.target,n=(e.target.tabIndex&&!e.target.id?(i=e.target.parentElement).id.split("_content_html_element"):(i=e.target).id.split("_input"))[0],p.pdfViewer.formDesignerModule&&(r=e.shiftKey&&"Tab"===e.key?0<(t=p.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===n}))?p.pdfViewer.formFieldCollections[t-1]:p.pdfViewer.formFieldCollections[p.pdfViewer.formFieldCollections.length-1]:(t=p.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===n}))+1<p.pdfViewer.formFieldCollections.length?p.pdfViewer.formFieldCollections[t+1]:p.pdfViewer.formFieldCollections[0],p.pdfViewer.focusFormField(r),e.preventDefault()),p.pdfViewer.formDesigner)||"e-pdfviewer-formFields"!==i.className&&(r=e.shiftKey&&"Tab"===e.key?0<(t=p.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===i.id}))?p.pdfViewer.formFieldCollections[t-1]:p.pdfViewer.formFieldCollections[p.pdfViewer.formFieldCollections.length-1]:(t=p.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===i.id}))+1<p.pdfViewer.formFieldCollections.length?p.pdfViewer.formFieldCollections[t+1]:p.pdfViewer.formFieldCollections[0],p.pdfViewer.focusFormField(r),e.preventDefault())),e.target&&e.target.id&&p.pdfViewer.formFields)for(s=0;s<p.pdfViewer.formFields.length;s++){var d,A=p.pdfViewer.formFields[parseInt(s.toString(),10)];e.target.id===A.id&&(d={value:A.value,fontFamily:A.fontFamily,fontSize:A.fontSize,fontStyle:A.fontStyle,color:A.color,backgroundColor:A.backgroundColor,alignment:A.alignment,isReadonly:A.isReadonly,visibility:A.visibility,maxLength:A.maxLength,isRequired:A.isRequired,isPrint:A.isPrint,rotation:A.rotateAngle,tooltip:A.tooltip,options:A.options,isChecked:A.isChecked,isSelected:A.isSelected},p.pdfViewer.fireFocusOutFormField(d,A.pageIndex))}}},this.viewerContainerOnKeyDown=function(e){var t,i=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),n=i&&e.metaKey,o=p.pdfViewer.commandManager;if(0!==Object.keys(o).length&&p.fireCustomCommands(e),(!p.pdfViewer.pageOrganizerModule||p.pdfViewer.pageOrganizerModule&&(!p.pdfViewer.pageOrganizerModule.isOrganizeWindowOpen||(e.ctrlKey||e.metaKey)&&e.altKey&&51===e.keyCode&&!e.shiftKey))&&(!p.isFreeTextAnnotationModule()||!p.pdfViewer.annotationModule||!0!==p.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus&&!0!==p.pdfViewer.annotationModule.inputElementModule.isInFocus)){if(e.shiftKey&&!(e.target.classList.contains("e-pv-formfield-input")||e.target.classList.contains("e-textbox")||e.target.classList.contains("e-pdfviewer-formFields")||e.target.classList.contains("e-pv-formfield-textarea")||e.target.id===p.pdfViewer.element.id+"_search_input"))switch(e.keyCode){case 72:e.preventDefault(),p.pdfViewer.toolbarModule&&p.pdfViewer.enableToolbar&&-1!==p.pdfViewer.toolbarSettings.toolbarItems.indexOf("PanTool")&&(p.pdfViewer.interactionMode="Pan",p.focusViewerContainer());break;case 86:e.preventDefault(),p.pdfViewer.toolbarModule&&p.pdfViewer.enableToolbar&&-1!==p.pdfViewer.toolbarSettings.toolbarItems.indexOf("SelectionTool")&&(p.pdfViewer.interactionMode="TextSelection",p.focusViewerContainer())}if(e.ctrlKey||n){if(e.shiftKey&&!i||i&&!e.shiftKey)switch(e.keyCode){case 38:case 33:e.preventDefault(),1!==p.currentPageNumber&&p.updateScrollTop(0);break;case 40:case 34:e.preventDefault(),p.currentPageNumber!==p.pageCount&&p.updateScrollTop(p.pageCount-1)}switch(e.keyCode){case 79:p.pdfViewer.toolbarModule&&p.pdfViewer.enableToolbar&&-1!==p.pdfViewer.toolbarSettings.toolbarItems.indexOf("OpenOption")?p.pdfViewer.toolbarModule.openFileDialogBox(e):e.preventDefault();break;case 67:p.pdfViewer.textSelectionModule&&p.pdfViewer.enableTextSelection&&!p.isTextSelectionDisabled&&p.isTargetClassNameValid(e)&&(e.preventDefault(),p.pdfViewer.textSelectionModule.copyText()),(p.pdfViewer.selectedItems.annotations.length||p.pdfViewer.selectedItems.formFields.length)&&(p.pdfViewer.copy(),p.contextMenuModule.previousAction="Copy");break;case 70:p.pdfViewer.textSearchModule&&p.pdfViewer.enableTextSearch&&(e.preventDefault(),p.pdfViewer.toolbarModule.textSearchButtonHandler());break;case 80:p.pdfViewer.printModule&&p.pdfViewer.enablePrint&&(e.preventDefault(),p.pdfViewer.firePrintStart());break;case 83:e.preventDefault(),p.pdfViewer.download();break;case 90:p.pdfViewer.textSearchModule&&p.isTextSearchBoxOpen()||p.pdfViewer.annotationModule&&p.focusOnViewerContainer()&&(!G.isNullOrUndefined(p.pdfViewer.annotationModule)&&p.pdfViewer.toolbarModule.annotationToolbarModule.inkAnnotationSelected&&p.pdfViewer.annotationModule.setAnnotationMode("None"),p.pdfViewer.annotationModule.undo());break;case 88:(p.pdfViewer.selectedItems.annotations.length||p.pdfViewer.selectedItems.formFields.length)&&(p.pdfViewer.cut(),p.contextMenuModule.previousAction="Cut");break;case 89:p.pdfViewer.textSearchModule&&p.isTextSearchBoxOpen()||p.pdfViewer.annotationModule&&p.focusOnViewerContainer()&&p.pdfViewer.annotationModule.redo();break;case 86:(p.pdfViewer.annotation&&p.pdfViewer.annotation.isShapeCopied||p.pdfViewer.formFields&&p.pdfViewer.formDesigner&&p.pdfViewer.formDesigner.isShapeCopied)&&(t=void 0,!(t=(r=document.getElementById(p.pdfViewer.element.id+"_search_box"))?"none"!==r.style.display:t))&&p.pdfViewer.formDesigner&&p.isTargetClassNameValid(e)&&"e-pv-properties-tooltip-prop-input e-input e-lib e-textbox e-control"!==e.target.className&&(p.pdfViewer.paste(),p.contextMenuModule.previousAction="Paste");break;case 71:e.preventDefault();var r=document.querySelector(".e-control.e-numerictextbox.e-lib.e-input");p.pdfViewer.toolbarModule&&p.pdfViewer.enableToolbar&&null!=r&&"none"!==r.style.display&&(r.blur(),r.focus());break;case 48:e.altKey&&(e.preventDefault(),t=document.getElementById(p.pdfViewer.element.id+"_commantPanel"),0<p.pageCount&&"none"===t.style.display?p.pdfViewer.annotationModule.showCommentsPanel():p.navigationPane.closeCommentPanelContainer());break;case 49:e.altKey&&(e.preventDefault(),0<p.pageCount)&&p.pdfViewer.enableThumbnail&&(e.preventDefault(),p.navigationPane.sideToolbarOnClick(e),p.focusViewerContainer());break;case 50:e.altKey&&(e.preventDefault(),0<p.pageCount)&&p.pdfViewer.enableBookmark&&(p.navigationPane.bookmarkButtonOnClick(e),p.focusViewerContainer());break;case 51:e.altKey&&(e.preventDefault(),!G.isNullOrUndefined(p.pdfViewer.pageOrganizer))&&0<p.pageCount&&p.pdfViewer.enablePageOrganizer&&(p.pdfViewer.pageOrganizer.switchPageOrganizer(),p.focusViewerContainer());break;case 65:e.shiftKey&&(e.preventDefault(),0<p.pageCount&&p.pdfViewer.enableAnnotationToolbar&&p.pdfViewer.toolbarModule&&p.pdfViewer.toolbarModule.annotationToolbarModule&&(p.pdfViewer.toolbarModule.initiateAnnotationMode(null,!0),p.focusViewerContainer()),r=document.getElementById(p.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.items[0].id))&&r.focus()}}else p.pdfViewer.annotationModule&&!p.pdfViewer.textSearchModule&&"Delete"===e.key&&(o=document.activeElement,"e-pdfviewer-formFields"===e.target.className||"INPUT"===o.tagName||"TEXTAREA"===o.tagName||o.isContentEditable||p.DeleteKeyPressed(e));p.pdfViewer.magnificationModule&&p.pdfViewer.magnificationModule.magnifyBehaviorKeyDown(e)}},this.viewerContainerOnMousemove=function(e){p.mouseX=e.clientX,p.mouseY=e.clientY;var t,i,n,o,r=!!document.documentMode,a=e.target;"Drag"===p.action&&e.preventDefault(),p.isViewerMouseDown&&"Perimeter"!==p.action&&"Polygon"!==p.action&&"Line"!==p.action&&"DrawTool"!==p.action&&"Distance"!==p.action&&(p.pdfViewer.textSelectionModule&&p.pdfViewer.enableTextSelection&&!p.isTextSelectionDisabled&&!p.getPopupNoteVisibleStatus()?r?(r=window.getSelection()).type||r.isCollapsed||null===r.anchorNode||(p.pdfViewer.textSelectionModule.isTextSelection=!0):("e-pdfviewer-formFields"!==e.target.className&&e.preventDefault(),p.mouseX=e.clientX,p.mouseY=e.clientY,(r=p.pdfViewer.annotationModule)&&r.textMarkupAnnotationModule&&r.textMarkupAnnotationModule.isDropletClicked&&r.textMarkupAnnotationModule.isEnableTextMarkupResizer(r.textMarkupAnnotationModule.currentTextMarkupAddMode)?r.textMarkupAnnotationModule.textSelect(e.target,p.mouseX,p.mouseY):p.pdfViewer.textSelectionModule.textSelectionOnMouseMove(e.target,p.mouseX,p.mouseY)):p.skipPreventDefault(a)&&e.preventDefault()),p.isTextMarkupAnnotationModule()&&!p.getPopupNoteVisibleStatus()&&p.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationMouseMove(e),p.isPanMode&&p.panOnMouseMove(e),p.isShapeBasedAnnotationsEnabled()&&(r=void 0,e.target&&(-1<e.target.id.indexOf("_text")||e.target.parentElement.classList.contains("foreign-object")||-1<e.target.id.indexOf("_annotationCanvas")||e.target.classList.contains("e-pv-hyperlink"))&&p.pdfViewer.annotation||e.target.classList.contains("e-pdfviewer-formFields")||e.target.classList.contains("e-pv-text-layer")?(o=void 0,o=p.pdfViewer.annotation?p.pdfViewer.annotation.getEventPageNumber(e):(a=e.target.id.match(/\d+/))?parseInt(a[0],10):p.pdfViewer.currentPageNumber-1,(t=document.getElementById(p.pdfViewer.element.id+"_pageDiv_"+o))&&(n=(i=t.getBoundingClientRect()).x||i.left,a=i.y||i.top,r=p.pdfViewer.annotationModule&&p.pdfViewer.annotationModule.stampAnnotationModule.currentStampAnnotation&&"Image"===p.pdfViewer.annotationModule.stampAnnotationModule.currentStampAnnotation.shapeAnnotationType?new J.Rect(n,a,i.width-10,i.height-10):new J.Rect(n+1,a+1,i.width-3,i.height-3))):!p.pdfViewer.annotationModule&&p.pdfViewer.formDesignerModule&&(o=p.pdfViewer.formDesignerModule.getEventPageNumber(e),t=p.getAnnotationCanvas("_annotationCanvas_",o))&&(n=(i=t.getBoundingClientRect()).x||i.left,a=i.y||i.top,r=new J.Rect(n+10,a+10,i.width-10,i.height-10)),o=p.pdfViewer.annotationModule?p.pdfViewer.annotationModule.stampAnnotationModule:null,!r||!r.containsPoint({x:p.mouseX,y:p.mouseY})||o&&o.isStampAnnotSelected?(p.diagramMouseLeave(e),p.isAnnotationDrawn&&!p.pdfViewer.isFormDesignerToolbarVisible&&(p.diagramMouseUp(e),p.isAnnotationAdded=!0)):(p.diagramMouseMove(e),p.annotationEvent=e),p.pdfViewer.enableStampAnnotations&&o&&o.isStampAnnotSelected&&(p.pdfViewer.tool="Stamp",p.tool=new $e(p.pdfViewer,p),p.isMouseDown=!0,o.isStampAnnotSelected=!1,o.isNewStampAnnot=!0),p.isSignatureAdded)&&p.pdfViewer.enableHandwrittenSignature&&(p.pdfViewer.tool="Stamp",p.tool=new $e(p.pdfViewer,p),p.isMouseDown=!0,p.isSignatureAdded=!1,p.isNewSignatureAdded=!0)},this.panOnMouseMove=function(e){var t,i=!1;"Ink"!==p.action&&"Line"!==p.action&&"Perimeter"!==p.action&&"Polygon"!==p.action&&"DrawTool"!==p.action&&"Drag"!==p.action&&-1===p.action.indexOf("Rotate")&&-1===p.action.indexOf("Resize")||(i=!0),p.viewerContainer.contains(e.target)&&e.target!==p.viewerContainer&&e.target!==p.pageContainer&&!i?p.isViewerMouseDown?(i=p.dragX-e.pageX,t=p.dragY-e.pageY,p.viewerContainer.scrollTop=p.viewerContainer.scrollTop+t,p.viewerContainer.scrollLeft=p.viewerContainer.scrollLeft+i,p.viewerContainer.style.cursor="move",p.viewerContainer.style.cursor="-webkit-grabbing",p.viewerContainer.style.cursor="-moz-grabbing",p.viewerContainer.style.cursor="grabbing",p.dragX=e.pageX,p.dragY=e.pageY):p.navigationPane.isNavigationPaneResized||(p.viewerContainer.style.cursor="move",p.viewerContainer.style.cursor="-webkit-grab",p.viewerContainer.style.cursor="-moz-grab",p.viewerContainer.style.cursor="grab"):p.navigationPane.isNavigationPaneResized||(p.viewerContainer.style.cursor="auto")},this.viewerContainerOnMouseLeave=function(e){p.isViewerMouseDown&&p.pdfViewer.textSelectionModule&&!p.isTextSelectionDisabled&&p.pdfViewer.textSelectionModule.textSelectionOnMouseLeave(e),p.pdfViewer.textSelectionModule&&p.pdfViewer.textSelectionModule.isTextSelection&&e.preventDefault(),"Ink"===p.action&&(p.diagramMouseUp(e),p.isAnnotationAdded=!0)},this.viewerContainerOnMouseEnter=function(e){p.pdfViewer.textSelectionModule&&!p.isTextSelectionDisabled&&p.pdfViewer.textSelectionModule.clear()},this.viewerContainerOnMouseOver=function(e){var t=!!document.documentMode;p.isViewerMouseDown&&!t&&e.preventDefault()},this.viewerContainerOnClick=function(e){var t,i,n,o,r;"dblclick"===e.type?(!p.pdfViewer.textSelectionModule||p.isTextSelectionDisabled||p.getCurrentTextMarkupAnnotation()?p.getCurrentTextMarkupAnnotation():e.target.classList.contains("e-pv-text")&&(p.isViewerContainerDoubleClick=!0,p.getTextMarkupAnnotationMode()||(t=parseFloat(e.target.id.split("_")[2]),p.pdfViewer.fireTextSelectionStart(t+1)),p.pdfViewer.textSelectionModule.selectAWord(e.target,e.clientX,e.clientY,!1),"MouseUp"===p.pdfViewer.contextMenuSettings.contextMenuAction&&p.pdfViewer.textSelectionModule.calculateContextMenuPosition(e.clientY,e.clientX),p.getTextMarkupAnnotationMode()?p.isTextMarkupAnnotationModule()&&p.getTextMarkupAnnotationMode()&&p.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations(p.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode):(p.pdfViewer.textSelectionModule.maintainSelectionOnZoom(!0,!1),p.dblClickTimer=setTimeout(function(){p.applySelection()},100),p.pdfViewer.textSelectionModule.fireTextSelectEnd())),p.action&&("Perimeter"===p.action||"Polygon"===p.action)&&p.tool&&(p.eventArgs.position=p.currentPosition,p.getMouseEventArgs(p.currentPosition,p.eventArgs,e,p.eventArgs.source),p.isMetaKey(e),t={ctrlKey:e.ctrlKey,shiftKey:e.shiftKey},p.eventArgs.info=t,p.eventArgs.clickCount=e.detail,p.eventArgs.isTouchMode=!1,p.tool.mouseUp(p.eventArgs,!0)),(p.pdfViewer.selectedItems||p.pdfViewer.annotation&&p.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)&&!p.pdfViewer.annotationSettings.isLock&&(t=p.pdfViewer.selectedItems.annotations[0],0===p.pdfViewer.selectedItems.annotations.length||t.annotationSettings.isLock||t.isLock?(n=p.pdfViewer.annotation,r=p.pdfViewer.annotationModule,n&&r.textMarkupAnnotationModule&&r.textMarkupAnnotationModule.currentTextMarkupAnnotation&&(n=p.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation,p.pdfViewer.annotationModule.annotationSelect(n.annotName,p.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage,n,null,!0),(i=document.getElementById(p.pdfViewer.element.id+"_accordionContainer"+p.currentPageNumber))&&i.ej2_instances[0].expandItem(!0),r=document.getElementById(n.annotName))&&r.firstChild.click()):p.pdfViewer.annotationModule&&!t.formFieldAnnotationType&&(p.pdfViewer.annotationModule.annotationSelect(t.annotName,t.pageIndex,t,null,!0),!1===p.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus)&&(!0!==p.isFreeTextAnnotation(p.pdfViewer.selectedItems.annotations)||p.pdfViewer.selectedItems.annotations[0].isLock?!0===p.pdfViewer.selectedItems.annotations[0].enableShapeLabel?((o={}).x=p.pdfViewer.selectedItems.annotations[0].bounds.x,o.y=p.pdfViewer.selectedItems.annotations[0].bounds.y,p.pdfViewer.annotation.inputElementModule.editLabel(o,p.pdfViewer.selectedItems.annotations[0])):((i=document.getElementById(p.pdfViewer.element.id+"_accordionContainer"+p.pdfViewer.currentPageNumber))&&i.ej2_instances[0].expandItem(!0),p.pdfViewer.toolbarModule&&p.pdfViewer.isFormDesignerToolbarVisible&&p.pdfViewer.enableAnnotationToolbar&&!p.pdfViewer.isAnnotationToolbarVisible&&!G.isNullOrUndefined(p.pdfViewer.toolbarModule.annotationToolbarModule)&&p.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(p.pdfViewer.toolbarModule.annotationItem),(n=document.getElementById(p.pdfViewer.selectedItems.annotations[0].annotName))&&!n.classList.contains("e-pv-comments-border")&&n.firstChild.click()):((o={}).x=p.pdfViewer.selectedItems.annotations[0].bounds.x,o.y=p.pdfViewer.selectedItems.annotations[0].bounds.y,p.pdfViewer.annotation.freeTextAnnotationModule.addInuptElemet(o,p.pdfViewer.selectedItems.annotations[0])))),p.pdfViewer.designerMode&&0<p.pdfViewer.selectedItems.formFields.length&&(r={name:"formFieldDoubleClick",field:p.pdfViewer.selectedItems.formFields[0],cancel:!1},p.pdfViewer.fireFormFieldDoubleClickEvent(r),r.cancel||p.pdfViewer.formDesigner.createPropertiesWindow())):3===e.detail&&(p.isViewerContainerDoubleClick&&(clearTimeout(p.dblClickTimer),p.isViewerContainerDoubleClick=!1),!p.pdfViewer.textSelectionModule||p.isTextSelectionDisabled||p.getTextMarkupAnnotationMode()||(p.pdfViewer.textSelectionModule.selectEntireLine(e),p.pdfViewer.textSelectionModule.maintainSelectionOnZoom(!0,!1),p.pdfViewer.textSelectionModule.fireTextSelectEnd(),p.applySelection()))},this.viewerContainerOnDragStart=function(e){!document.documentMode&&e.preventDefault()},this.viewerContainerOnContextMenuClick=function(e){p.isViewerMouseDown=!1},this.onWindowMouseUp=function(e){p.isFreeTextContextMenu=!1,p.isNewStamp=!1,p.signatureAdded=!1;var t,i=p.pdfViewer.annotationModule;if(i&&i.textMarkupAnnotationModule&&i.textMarkupAnnotationModule.isEnableTextMarkupResizer(i.textMarkupAnnotationModule.currentTextMarkupAddMode)&&((i=i.textMarkupAnnotationModule).isLeftDropletClicked=!1,i.isDropletClicked=!1,i.isRightDropletClicked=!1,i.currentTextMarkupAnnotation||null!==window.getSelection().anchorNode?i.currentTextMarkupAnnotation||""!==i.currentTextMarkupAddMode||(i.isTextMarkupAnnotationMode=!1):i.showHideDropletDiv(!0)),!p.getPopupNoteVisibleStatus())return 0===e.button?p.isNewFreeTextAnnotation()&&(!p.pdfViewer.textSelectionModule||p.isTextSelectionDisabled||p.getTextMarkupAnnotationMode()?p.getTextMarkupAnnotationMode()&&(i=p.pdfViewer.element,t=e.target,i)&&t&&i.id.split("_")[0]===t.id.split("_")[0]&&"commenttextbox"!==t.id.split("_")[1]&&p.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations(p.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode):(1!==e.detail||p.viewerContainer.contains(e.target)||p.contextMenuModule.contextMenuElement.contains(e.target)||null!==window.getSelection().anchorNode&&p.pdfViewer.textSelectionModule.textSelectionOnMouseup(e),i=e.target,p.viewerContainer.contains(e.target)&&"e-pdfviewer-formFields"!==i.className&&"e-pv-formfield-input"!==i.className&&"e-pv-formfield-textarea"!==i.className&&(p.isClickedOnScrollBar(e,!0)||p.isScrollbarMouseDown?null!==window.getSelection().anchorNode&&p.pdfViewer.textSelectionModule.applySpanForSelection():p.pdfViewer.textSelectionModule.textSelectionOnMouseup(e)))):2===e.button&&p.viewerContainer.contains(e.target)&&p.skipPreventDefault(e.target)&&p.checkIsNormalText()&&window.getSelection().removeAllRanges(),!p.isViewerMouseDown||(p.isViewerMouseDown=!1,p.pdfViewer.textSelectionModule&&!p.isTextSelectionDisabled&&(p.pdfViewer.textSelectionModule.clear(),p.pdfViewer.textSelectionModule.selectionStartPage=null),e.preventDefault(),e.stopPropagation(),!1)},this.onWindowTouchEnd=function(e){p.signatureAdded=!1,p.pdfViewer.element.contains(e.target)||p.contextMenuModule.contextMenuElement.contains(e.target)||p.pdfViewer.textSelectionModule&&!p.isTextSelectionDisabled&&p.pdfViewer.textSelectionModule.clearTextSelection()},this.viewerContainerOnTouchStart=function(e){var t=e.touches,i=(p.pdfViewer.magnificationModule&&p.pdfViewer.magnificationModule.setTouchPoints(t[0].clientX,t[0].clientY),e.target),t=(1===t.length&&!i.classList.contains("e-pv-hyperlink")&&p.skipPreventDefault(i)&&p.preventTouchEvent(e),1!==e.touches.length||!p.isTextMarkupAnnotationModule()||p.getPopupNoteVisibleStatus()||p.isToolbarInkClicked||p.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationTouchEnd(e),p.touchClientX=t[0].clientX,p.touchClientY=t[0].clientY,p.scrollY=t[0].clientY,p.previousTime=(new Date).getTime(),p.diagramMouseDown(e),1!==t.length||e.target.classList.contains("e-pv-touch-select-drop")||e.target.classList.contains("e-pv-touch-ellipse")||(G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode&&0<p.pageCount&&!p.isThumb&&!e.target.classList.contains("e-pv-hyperlink")&&p.handleTaps(t,e),G.isBlazor()&&G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode||p.handleTextBoxTaps(t),p.isDesignerMode(i)?(p.contextMenuModule.close(),p.isLongTouchPropagated||(p.longTouchTimer=setTimeout(function(){p.isMoving||(p.isTouchDesignerMode=!0,p.contextMenuModule.open(p.touchClientY,p.touchClientX,p.viewerContainer))},1e3)),p.isLongTouchPropagated=!0,p.isMoving=!1):p.pdfViewer.textSelectionModule&&!p.isTextSelectionDisabled?(p.pdfViewer.textSelectionModule.clearTextSelection(),p.contextMenuModule.close(),p.isLongTouchPropagated||(p.longTouchTimer=setTimeout(function(){p.viewerContainerOnLongTouch(e)},1e3)),p.isLongTouchPropagated=!0):p.contextMenuModule.close()),p.pdfViewer.toolbarModule?p.pdfViewer.toolbarModule.annotationToolbarModule:"null");!i.classList.contains("e-pv-text")||t&&t.textMarkupToolbarElement&&0!==t.textMarkupToolbarElement.children.length||i.classList.add("e-pv-text-selection-none"),G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode&&i.classList.remove("e-enable-text-selection"),"Perimeter"!==p.action&&"Distance"!==p.action&&"Line"!==p.action&&"Polygon"!==p.action&&"DrawTool"!==p.action&&"Drag"!==p.action&&-1===p.action.indexOf("Rotate")&&-1===p.action.indexOf("Resize")||e.preventDefault()},this.viewerContainerOnLongTouch=function(e){var t;p.touchClientX=e.touches[0].clientX,p.touchClientY=e.touches[0].clientY,e.preventDefault(),p.pdfViewer.textSelectionModule&&((t=e.target).classList.contains("e-pv-text-selection-none")&&t.classList.contains("e-pv-text")&&(t.classList.remove("e-pv-text-selection-none"),G.Browser.isDevice)&&!p.pdfViewer.enableDesktopMode&&t.classList.add("e-enable-text-selection"),p.pdfViewer.textSelectionModule.initiateTouchSelection(e,p.touchClientX,p.touchClientY),G.Browser.isDevice)&&!p.pdfViewer.enableDesktopMode&&(clearTimeout(p.singleTapTimer),p.tapCount=0)},this.viewerContainerOnPointerDown=function(e){"touch"===e.pointerType&&(p.pointerCount++,p.pointerCount<=2)&&(e.preventDefault(),p.pointersForTouch.push(e),2===p.pointerCount&&(p.pointerCount=0),p.pdfViewer.magnificationModule)&&p.pdfViewer.magnificationModule.setTouchPoints(e.clientX,e.clientY)},this.viewerContainerOnTouchMove=function(e){"Drag"===p.action&&(p.isMoving=!0),G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode&&(clearTimeout(p.singleTapTimer),p.singleTapTimer=null,p.tapCount=0),p.preventTouchEvent(e),p.isToolbarInkClicked&&e.preventDefault();var t,i,n=e.touches;p.pdfViewer.magnificationModule&&(p.isTouchScrolled=!0,1<n.length&&0<p.pageCount?(G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode&&(p.isTouchScrolled=!1),p.pdfViewer.enablePinchZoom&&p.pdfViewer.magnificationModule.initiatePinchMove(n[0].clientX,n[0].clientY,n[1].clientX,n[1].clientY)):1===n.length&&p.getPagesPinchZoomed()&&(G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode&&(p.isTouchScrolled=!1),p.pdfViewer.magnificationModule.pinchMoveScroll())),p.mouseX=n[0].clientX,p.mouseY=n[0].clientY,e.target&&(-1<e.target.id.indexOf("_text")||-1<e.target.id.indexOf("_annotationCanvas")||e.target.classList.contains("e-pv-hyperlink"))&&p.pdfViewer.annotation&&(n=p.pdfViewer.annotation.getEventPageNumber(e),n=p.getAnnotationCanvas("_annotationCanvas_",n))&&(i=(n=n.getBoundingClientRect()).x||n.left,t=n.y||n.top,i=new J.Rect(i+10,t+10,n.width-10,n.height-10)),i&&i.containsPoint({x:p.mouseX,y:p.mouseY})||"Ink"===p.action?(p.diagramMouseMove(e),p.annotationEvent=e):(p.diagramMouseLeave(e),p.isAnnotationDrawn&&(p.diagramMouseUp(e),p.isAnnotationAdded=!0))},this.viewerContainerOnPointerMove=function(e){if("touch"===e.pointerType&&0<p.pageCount&&(e.preventDefault(),2===p.pointersForTouch.length)){for(var t=0;t<p.pointersForTouch.length;t++)if(e.pointerId===p.pointersForTouch[parseInt(t.toString(),10)].pointerId){p.pointersForTouch[parseInt(t.toString(),10)]=e;break}p.pdfViewer.magnificationModule&&p.pdfViewer.enablePinchZoom&&p.pdfViewer.magnificationModule.initiatePinchMove(p.pointersForTouch[0].clientX,p.pointersForTouch[0].clientY,p.pointersForTouch[1].clientX,p.pointersForTouch[1].clientY)}},this.viewerContainerOnTouchEnd=function(e){var t,i,n;p.pdfViewer.magnificationModule&&p.pdfViewer.magnificationModule.pinchMoveEnd(),e.cancelable&&!e.target.classList.contains("e-pv-touch-ellipse")&&p.pdfViewer.textSelectionModule&&p.pdfViewer.textSelectionModule.isTextSelection&&e.preventDefault(),p.isLongTouchPropagated=!1,clearInterval(p.longTouchTimer),p.longTouchTimer=null,G.Browser.isDevice&&!p.isDeviceiOS&&!p.pdfViewer.enableDesktopMode&&p.isTouchScrolled&&(p.currentTime=(new Date).getTime(),t=p.currentTime-p.previousTime,i=(n=p.scrollY-e.changedTouches[0].pageY)/t,1.5<Math.abs(i))&&0<(n=n+t*i)&&(p.viewerContainer.scrollTop+=n,p.updateMobileScrollerPosition()),p.diagramMouseUp(e),0!==p.pdfViewer.selectedItems.annotations.length?p.disableTextSelectionMode():p.pdfViewer.textSelectionModule&&p.pdfViewer.textSelectionModule.enableTextSelectionMode(),p.renderStampAnnotation(e),G.Browser.isDevice||(p.isgetFocused=!0,p.focusViewerContainer())},this.viewerContainerOnPointerEnd=function(e){"touch"===e.pointerType&&(e.preventDefault(),p.pdfViewer.magnificationModule&&p.pdfViewer.magnificationModule.pinchMoveEnd(),p.pointersForTouch=[],p.pointerCount=0)},this.viewerContainerOnScroll=function(e){for(var t=null,i=(t=p).pdfViewer.allowServerDataBinding,n=(t.pdfViewer.enableServerDataBinding(!1),0),o=0,r=(e.touches&&G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode&&(A=(p.viewerContainer.scrollHeight-p.viewerContainer.clientHeight)/(p.viewerContainer.clientHeight-p.toolbarHeight),p.isThumb?(p.ispageMoved=!0,e.preventDefault(),p.isScrollerMoving=!0,p.mobilePageNoContainer.style.display="block",n=e.touches[0].pageX-p.scrollX,o=e.touches[0].pageY-p.viewerContainer.offsetTop,G.isNullOrUndefined(p.isScrollerMovingTimer)&&(p.isScrollerMovingTimer=setTimeout(function(){p.isScrollerMoving=!1,p.pageViewScrollChanged(p.currentPageNumber)},300)),10<Math.abs(p.viewerContainer.scrollTop-o*A)&&(clearTimeout(p.isScrollerMovingTimer),p.isScrollerMovingTimer=null),p.viewerContainer.scrollTop=o*A,A=e.touches[0].pageY,r=p.pdfViewer.toolbarModule?0:50,0!==p.viewerContainer.scrollTop&&A<=p.viewerContainer.clientHeight-r&&(p.mobileScrollerContainer.style.top=A+"px")):"e-pv-touch-ellipse"!==e.touches[0].target.className&&(p.isWebkitMobile&&G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode||(p.mobilePageNoContainer.style.display="none",o=p.touchClientY-e.touches[0].pageY,n=p.touchClientX-e.touches[0].pageX,p.viewerContainer.scrollTop=p.viewerContainer.scrollTop+o,p.viewerContainer.scrollLeft=p.viewerContainer.scrollLeft+n),p.updateMobileScrollerPosition(),p.touchClientY=e.touches[0].pageY,p.touchClientX=e.touches[0].pageX)),p.scrollHoldTimer&&clearTimeout(p.scrollHoldTimer),p.currentPageNumber),a=(p.scrollHoldTimer=null,p.contextMenuModule.close(),p.viewerContainer.scrollTop),s=0;s<p.pageCount;s++)if(null!=p.pageSize[parseInt(s.toString(),10)]){var l=p.getPageHeight(s);if(p.pageStopValue=l<150?75:150<=l&&l<300?125:300<=l&&l<500?200:300,a+p.pageStopValue<=p.getPageTop(s)+l){p.currentPageNumber=s+1,p.pdfViewer.currentPageNumber=s+1;break}}p.pdfViewer.magnificationModule&&"fitToPage"===p.pdfViewer.magnificationModule.fitType&&0<p.currentPageNumber&&p.pageSize[p.currentPageNumber-1]&&!p.isPanMode&&!G.Browser.isDevice&&p.pdfViewer.enableDesktopMode&&(p.viewerContainer.scrollTop=p.pageSize[p.currentPageNumber-1].top*p.getZoomFactor()),p.renderElementsVirtualScroll(p.currentPageNumber),p.pdfViewer.toolbarModule&&(G.isBlazor()||p.pdfViewer.toolbarModule.updateCurrentPage(p.currentPageNumber),G.isBlazor()||G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode||p.pdfViewer.toolbarModule.updateNavigationButtons()),G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode&&(p.mobileSpanContainer.innerHTML=p.currentPageNumber.toString(),p.mobilecurrentPageContainer.innerHTML=p.currentPageNumber.toString()),r!==p.currentPageNumber&&(!t.pdfViewer.thumbnailViewModule||G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode||(t.pdfViewer.thumbnailViewModule.gotoThumbnailImage(t.currentPageNumber-1),t.pdfViewer.thumbnailViewModule.isThumbnailClicked=!1),p.pdfViewer.firePageChange(r)),p.pdfViewer.magnificationModule&&!p.isPanMode&&!G.Browser.isDevice&&p.pdfViewer.enableDesktopMode&&p.pdfViewer.magnificationModule.updatePagesForFitPage(p.currentPageNumber-1);var A=p.getElement("_pageDiv_"+(p.currentPageNumber-1));A&&(A.style.visibility="visible"),!p.isViewerMouseDown&&(p.isViewerMouseDown||p.getPinchZoomed()||p.getPinchScrolled()||p.getPagesPinchZoomed())&&!p.isViewerMouseWheel||(p.getRerenderCanvasCreated()&&!p.isPanMode&&p.pdfViewer.magnificationModule.clearIntervalTimer(),(p.clientSideRendering?p.getLinkInformation(p.currentPageNumber):p.getStoredData(p.currentPageNumber))?(p.isDataExits=!0,p.initiatePageViewScrollChanged(),p.isDataExits=!1):(o=p.pdfViewer.scrollSettings.delayPageRequestTimeOnScroll||100,p.scrollHoldTimer=setTimeout(function(){p.initiatePageViewScrollChanged()},o))),p.pdfViewer.annotation&&p.navigationPane.commentPanelContainer&&p.pdfViewer.annotation.stickyNotesAnnotationModule.updateCommentPanelScrollTop(p.currentPageNumber),G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode&&e.touches&&"e-pv-touch-ellipse"!==e.touches[0].target.className&&setTimeout(function(){p.updateMobileScrollerPosition()},500),t.pdfViewer.enableServerDataBinding(i,!0)},this.pdfViewer=e,this.navigationPane=new ri(this.pdfViewer,this),this.textLayer=new un(this.pdfViewer,this),this.accessibilityTags=new Ga(this.pdfViewer,this),this.signatureModule=new Sn(this.pdfViewer,this)}fn.prototype.addTextLayer=function(e,t,i,n){var o;return document.getElementById(this.pdfViewer.element.id+"_textLayer_"+e)||((o=G.createElement("div",{id:this.pdfViewer.element.id+"_textLayer_"+e,className:"e-pv-text-layer"})).style.width=t+"px",o.style.height=i+"px",G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&o.classList.add("e-pv-text-selection-none"),n&&n.appendChild(o)),this.pdfViewerBase.applyElementStyles(o,e),o},fn.prototype.renderTextContents=function(e,t,i,n,o){var r,a,s,l=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+e),A=G.createElement("canvas"),d=(this.pdfViewerBase.clientSideRendering&&(r=!1),[]),p=[],h=(1<i.length&&(s=(0===i[0].Width&&2<i.length?(a=i[1].Y,i[1]):(a=i[0].Y,i[0])).Height),0);if(A&&l&&0===l.childNodes.length){for(var c=0;c<t.length;c++)if(t[parseInt(c.toString(),10)].includes("\r\n")||t[parseInt(c.toString(),10)].includes("")||c===i.length-1||0!==n||o){d.push(i[parseInt(c.toString(),10)]),p.push(t[parseInt(c.toString(),10)]),a>i[parseInt(c.toString(),10)].Y&&0!==i[parseInt(c.toString(),10)].Width&&(a=i[parseInt(c.toString(),10)].Y),s<i[parseInt(c.toString(),10)].Height&&0!==i[parseInt(c.toString(),10)].Width&&(s=i[parseInt(c.toString(),10)].Height);for(var g=0;g<d.length;g++){var u=d[parseInt(g.toString(),10)],f=G.createElement("div",{id:this.pdfViewer.element.id+"_text_"+e+"_"+h,className:"e-pv-text",attrs:{tabindex:"-1"}}),m=p[parseInt(g.toString(),10)];" "===m&&g!==d.length-1&&0!==g&&(u.Height=d[g-1].Height,u.Y=d[g-1].Y),f.textContent=m.replace(/&nbsp;/g," ");" "!==p[parseInt(g.toString(),10)].replace(/  +/g," ")&&(f.style.whiteSpace="pre"),this.pdfViewerBase.clientSideRendering&&(" "===m&&(f.style.whiteSpace="pre"),G.isNullOrUndefined(f.textContent)||" "===m||(r=this.pdfViewerBase.checkIsRtlText(f.textContent)),f.style.direction=r?"rtl":"ltr"),0===u.Width&&g!==d.length-1&&0!==g&&d[g+1].X-(d[g-1].X+d[g-1].Width)<30&&!p[g-1].includes("\r\n")&&!t[parseInt(g.toString(),10)].includes("")&&(u.Width=d[g+1].X-(d[g-1].X+d[g-1].Width),u.X=d[g-1].X+d[g-1].Width,u.Width<0?u.Width=0:f.style.whiteSpace="pre"),(0!==g||d.length-1==0||20<u.Y-a&&0!==u.Width)&&0!==h&&(11<i[h-1].Y-i[parseInt(h.toString(),10)].Y||11<i[parseInt(h.toString(),10)].Y-i[h-1].Y)&&" "!==p[parseInt(g.toString(),10)]&&(a=d[parseInt(g.toString(),10)].Y,s=d[parseInt(g.toString(),10)].Height),u&&(270!==u.Rotation&&(u.Y=a,u.Height=s),this.setStyleToTextDiv(f,u.X,u.Y,u.Bottom,u.Width,u.Height,u.Rotation)),this.setTextElementProperties(f);var w,m=A.getContext("2d"),m=(m.font=f.style.fontSize+" "+f.style.fontFamily,m.measureText(p[parseInt(g.toString(),10)].replace(/(\r\n|\n|\r)/gm,"")).width);u&&(w=void 0,w=90===u.Rotation||this.pdfViewerBase.clientSideRendering&&270===u.Rotation?u.Height*this.pdfViewerBase.getZoomFactor()/m:u.Width*this.pdfViewerBase.getZoomFactor()/m,this.applyTextRotation(w,f,n,u.Rotation,u)),l.appendChild(f),this.resizeExcessDiv(l,f),this.pdfViewer.textSelectionModule&&this.pdfViewer.enableTextSelection&&!this.pdfViewerBase.isTextSelectionDisabled&&"e-pdfviewer-formFields"!==f.className&&"e-pdfviewer-signatureformfields"!==f.className&&"e-pdfviewer-signatureformfields-signature"!==f.className&&f.classList.add("e-pv-cursor"),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&f.classList.add("e-enable-text-selection"),h++}d=[],p=[],c<i.length-1&&(s=(0!==i[c+1].Width||G.isNullOrUndefined(i[c+2])?(a=i[c+1].Y,i[c+1]):(a=i[c+2].Y,i[c+2])).Height)}else d.push(i[parseInt(c.toString(),10)]),p.push(t[parseInt(c.toString(),10)]),a>i[parseInt(c.toString(),10)].Y&&0!==i[parseInt(c.toString(),10)].Width&&(a=i[parseInt(c.toString(),10)].Y),s<i[parseInt(c.toString(),10)].Height&&0!==i[parseInt(c.toString(),10)].Width&&(s=i[parseInt(c.toString(),10)].Height);this.pdfViewerBase.releaseCanvas(A)}},fn.prototype.resizeTextContents=function(e,t,i,n,o){var r=this.pdfViewerBase.getElement("_textLayer_"+e),a=G.createElement("canvas");if(a){for(var s=0;s<r.childNodes.length;s++){var l=void 0,A=this.pdfViewerBase.getElement("_text_"+e+"_"+s);if(G.isNullOrUndefined(A))break;i&&(l=i[parseInt(s.toString(),10)])&&this.setStyleToTextDiv(A,l.X,l.Y,l.Bottom,l.Width,l.Height,l.Rotation),this.setTextElementProperties(A);var d,p=a.getContext("2d"),h=(p.font=A.style.fontSize+" "+A.style.fontFamily,void 0);t?(d=t[parseInt(s.toString(),10)])&&(h=p.measureText(d.replace(/(\r\n|\n|\r)/gm,"")).width):h=p.measureText(A.textContent.replace(/(\r\n|\n|\r)/gm,"")).width,l&&(d=void 0,d=90===l.Rotation||this.pdfViewerBase.clientSideRendering&&270===l.Rotation?l.Height*this.pdfViewerBase.getZoomFactor()/h:l.Width*this.pdfViewerBase.getZoomFactor()/h,this.applyTextRotation(d,A,n,l.Rotation,l)),this.resizeExcessDiv(r,A)}this.pdfViewerBase.releaseCanvas(a)}else r.parentElement.removeChild(r);this.pdfViewer.textSearch&&!o&&this.pdfViewer.textSearch.resizeSearchElements(e)},fn.prototype.applyTextRotation=function(e,t,i,n,o){var r,e="scaleX("+e+")";this.pdfViewerBase.clientSideRendering?0===i?0===n?t.style.transform=e:90===n?(t.style.left=(o.X+o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=o.Y*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+n+"deg) "+e):180===n?(t.style.left=(o.X+o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y+o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+n+"deg) "+e):270===n?(t.style.left=o.X*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y+o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+n+"deg) "+e):t.style.transform=e:1===i?(360<=(r=n+90)&&(r-=360),0===n?t.style.transform="rotate(90deg) "+e:90===n?(t.style.left=o.X*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y+o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+r+"deg) "+e):180===n?(t.style.left=(o.X-o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y+o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+r+"deg) "+e):270===n?(t.style.left=(o.X-o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=o.Y*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+r+"deg) "+e):t.style.transform="rotate(90deg) "+e):2===i?(360<=(r=n+180)&&(r-=360),0===n?t.style.transform="rotate(180deg) "+e:90===n?(t.style.left=(o.X-o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=o.Y*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+r+"deg) "+e):180===n?(t.style.left=(o.X-o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y-o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+r+"deg) "+e):270===n?(t.style.left=o.X*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y-o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+r+"deg) "+e):t.style.transform="rotate(180deg) "+e):3===i&&(360<=(r=n+270)&&(r-=360),0===n?t.style.transform="rotate(270deg) "+e:90===n?(t.style.left=o.X*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y-o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+r+"deg) "+e):180===n?(t.style.left=(o.X+o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y-o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+r+"deg) "+e):270===n?(t.style.left=(o.X+o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=o.Y*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+r+"deg) "+e):t.style.transform="rotate(270deg) "+e):0===i?0<=n&&n<90?t.style.transform=e:(90!==n&&270!==n||(270===n?(t.style.left=o.X*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y+o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.height=o.Height*this.pdfViewerBase.getZoomFactor()+"px",t.style.fontSize=o.Height*this.pdfViewerBase.getZoomFactor()+"px"):(t.style.left=(o.X+o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=o.Y*this.pdfViewerBase.getZoomFactor()+"px",t.style.height=o.Width*this.pdfViewerBase.getZoomFactor()+"px",t.style.fontSize=o.Width*this.pdfViewerBase.getZoomFactor()+"px",t.style.transformOrigin="0% 0%")),t.style.transform="rotate("+n+"deg) "+e):1===i?t.style.transform=0===n?"rotate(90deg) "+e:-90===n?e:"rotate("+(n+=90)+"deg) "+e:2===i?t.style.transform=0===n?"rotate(180deg) "+e:180===n?e:"rotate("+n+"deg) "+e:3===i&&(t.style.transform=0===n?"rotate(-90deg) "+e:90===n?e:"rotate("+n+"deg) "+e)},fn.prototype.setTextElementProperties=function(e){e.style.fontFamily="serif",e.style.transformOrigin=this.pdfViewerBase.clientSideRendering?"0% 0%":"0%"},fn.prototype.resizeTextContentsOnZoom=function(t){var e,i=F.sessionStorageManager.getItem(this.pdfViewerBase.getDocumentId()+"_"+t+"_"+this.getPreviousZoomFactor()),n=[],o=[];i&&(n=(i=JSON.parse(i)).textBounds,o=i.textContent,e=i.rotation),0!==n.length?(this.textBoundsArray.push({pageNumber:t,textBounds:n}),this.resizeTextContents(t,o,n,e)):(i=this.textBoundsArray.filter(function(e){return e.pageNumber===t}))&&0!==i.length&&(n=i[0].textBounds,this.resizeTextContents(t,null,n,e))},fn.prototype.resizeExcessDiv=function(e,t){},fn.prototype.clearTextLayers=function(e){for(var t,i=0<(i=this.pdfViewerBase.currentPageNumber-3)?i:0,n=(n=this.pdfViewerBase.currentPageNumber+1)<this.pdfViewerBase.pageCount?n:this.pdfViewerBase.pageCount-1,o=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+'_textLayer_"]'),r=0;r<o.length;r++)o[parseInt(r.toString(),10)].style.display="block",this.pdfViewerBase.getMagnified()&&(this.getTextSelectionStatus()||this.getTextSearchStatus())?1+i<=(t=parseInt(o[parseInt(r.toString(),10)].id.split("_textLayer_")[1],10))&&t<=n-1||this.removeElement(o[parseInt(r.toString(),10)],e):(this.pdfViewerBase.getPinchZoomed(),this.removeElement(o[parseInt(r.toString(),10)],e))},fn.prototype.removeElement=function(e,t){t?this.removeForeignObjects(e):G.Browser.isIE?e.parentElement?e.parentElement.removeChild(e):e.parentNode&&e.parentNode.removeChild(e):e.remove()},fn.prototype.removeForeignObjects=function(e){var t=e.getElementsByClassName("foreign-object");if(t)for(var i=0;i<t.length;i++){var n,o=t[parseInt(i.toString(),10)],r=o.parentElement;G.Browser.isDevice?r.classList.contains("e-pv-text-layer")&&"e-pv-checkbox-outer-div"!==r.className?(e.removeChild(o),i--):"e-pv-checkbox-outer-div"===r.className&&(n=document.getElementById(o.id))&&(n.remove(),i--):"e-pv-text-layer"===r.className&&(e.removeChild(o),i--)}},fn.prototype.convertToSpan=function(e,t,i,n,o,r,a){var e=this.pdfViewerBase.getElement("_text_"+e+"_"+t),t=o.substring(i,n),i=document.createTextNode(t);r?((t=G.createElement("span")).className=r+" e-pv-text",this.pdfViewerBase.clientSideRendering&&a&&(n===o.length?(t.style.left="0px",t.style.top="0px"):"rtl"===e.style.direction&&(r=e.textContent,e.textContent=o.substring(n,o.length),a=e.getBoundingClientRect(),t.style.left=a.width+"px",t.style.top="0px",e.textContent=r)),t.style.height=e.style.height,t.appendChild(i),e.appendChild(t)):e.appendChild(i)},fn.prototype.applySpanForSelection=function(e,t,i,n,o,r){if(this.pdfViewer.textSelectionModule)for(var a=e;a<=t;a++){var s=void 0,l=(this.pdfViewerBase.clientSideRendering&&(d=JSON.parse(this.pdfViewerBase.pageTextDetails[this.pdfViewerBase.documentId+"_"+a+"_textDetails"]).pageText,s=this.pdfViewerBase.checkIsRtlText(d)),void 0),A=void 0,d=this.pdfViewerBase.getElement("_textLayer_"+a).childNodes,A=a===e?(l=i,d.length-1):a===t?(l=0,n):(l=0,d.length-1);e===t&&(l=i,A=n);for(var p=l;p<=A;p++){var h,c=this.pdfViewerBase.getElement("_text_"+a+"_"+p),g=void 0,u=void 0,f=void 0;c&&c.textContent&&(f=c.textContent.length,h=c.textContent,c.textContent="",p===l?(u=f,this.convertToSpan(a,p,0,g=a===e?o:0,h,null,s)):u=p===A&&a===t?(g=0,r):(g=0,f),l===A&&e===t&&(g=o,u=r),this.convertToSpan(a,p,g,u,h,"e-pv-maintaincontent",s),p===A)&&a===t&&this.convertToSpan(a,p,u,h.length,h,null,s)}}},fn.prototype.clearDivSelection=function(){for(var e=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+'_textLayer_"]'),t=0;t<e.length;t++)for(var i=e[parseInt(t.toString(),10)].childNodes,n=0;n<i.length;n++){var o,r=i[parseInt(n.toString(),10)];"e-pdfviewer-formFields"!==r.className&&"e-pdfviewer-signatureformfields"!==r.className&&"e-pdfviewer-signatureformfields-signature"!==r.className&&(o=r.textContent,1<r.childNodes.length||1===r.childNodes.length&&"SPAN"===r.childNodes[0].tagName)&&(r.textContent="",r.textContent=o)}},fn.prototype.setStyleToTextDiv=function(e,t,i,n,o,r,a){e.style.left=t*this.pdfViewerBase.getZoomFactor()+"px",e.style.top=i*this.pdfViewerBase.getZoomFactor()+"px",t=90===a||this.pdfViewerBase.clientSideRendering&&270===a?o*this.pdfViewerBase.getZoomFactor():r*this.pdfViewerBase.getZoomFactor(),e.style.height=t+"px",e.style.fontSize=t+"px"},fn.prototype.getTextSelectionStatus=function(){return!!this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.isTextSelection},fn.prototype.modifyTextCursor=function(e){for(var t=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+'_textLayer_"]'),i=0;i<t.length;i++)for(var n=t[parseInt(i.toString(),10)].childNodes,o=0;o<n.length;o++){var r=n[parseInt(o.toString(),10)];e&&"e-pdfviewer-formFields"!==r.className&&"e-pdfviewer-signatureformfields"!==r.className&&"e-pdfviewer-signatureformfields-signature"!==r.className?r.classList.add("e-pv-cursor"):r.classList.remove("e-pv-cursor")}},fn.prototype.isBackWardSelection=function(e){var t=e.anchorNode.compareDocumentPosition(e.focusNode),i=!1;return i=!t&&e.anchorOffset>e.focusOffset||t===Node.DOCUMENT_POSITION_PRECEDING?!0:i},fn.prototype.getPageIndex=function(e){var t=e.parentElement,e="e-pv-text-layer"===(t=t||e.parentNode).className?parseInt(e.id.split("_text_")[1],10):parseInt(t.id.split("_text_")[1],10);return e},fn.prototype.getTextIndex=function(e,t){var i=e.parentElement,e="e-pv-text-layer"===(i=i||e.parentNode).className?parseInt(e.id.split("_text_"+t+"_")[1],10):parseInt(i.id.split("_text_"+t+"_")[1],10);return e},fn.prototype.getPreviousZoomFactor=function(){return this.pdfViewer.magnificationModule?this.pdfViewer.magnificationModule.previousZoomFactor:1},fn.prototype.getTextSearchStatus=function(){return!!this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.isTextSearch};var un=fn;function fn(e,t){this.textBoundsArray=[],this.characterBound=[],this.pdfViewer=e,this.pdfViewerBase=t}wn.prototype.createContextMenu=function(){this.contextMenuElement=G.createElement("ul",{id:this.pdfViewer.element.id+"_context_menu",className:"e-pv-context-menu"}),this.pdfViewer.element.appendChild(this.contextMenuElement),this.contextMenuObj=new w.ContextMenu({target:"#"+this.pdfViewerBase.viewerContainer.id,items:this.copyContextMenu,beforeOpen:this.contextMenuOnBeforeOpen.bind(this),select:this.onMenuItemSelect.bind(this),created:this.contextMenuOnCreated.bind(this)}),this.pdfViewer.enableRtl&&(this.contextMenuObj.enableRtl=!0),this.contextMenuObj.appendTo(this.contextMenuElement),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?this.contextMenuObj.animationSettings.effect="ZoomIn":this.contextMenuObj.animationSettings.effect="SlideDown"},wn.prototype.contextMenuOnCreated=function(e){var t=[this.defaultHighlightId,this.defaultUnderlineId,this.defaultStrikethroughId];this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.textMarkupAnnotationModule||this.contextMenuObj.enableItems(t,!1,!0)},wn.prototype.setTarget=function(e){var t=null;return e.event&&e.event.target&&(t=e.event.target,this.currentTarget=t),t},wn.prototype.contextMenuOnBeforeOpen=function(e){var t,i,n=this,o=(this.pdfViewerBase.preventContextmenu&&(e.cancel=!0),this.copyContextMenu.length===this.defaultLength?((o=this.customMenuItems).push.apply(o,this.pdfViewer.customContextMenuItems),this.addCustomContextMenuItems()):this.copyContextMenu.length!==this.defaultLength&&this.copyShowCustomContextMenuBottom!==this.pdfViewer.showCustomContextMenuBottom&&(this.customMenuItems.forEach(function(t){var e=n.copyContextMenu.findIndex(function(e){return e.id===t.id});-1!==e&&n.copyContextMenu.splice(e,1)}),this.addCustomContextMenuItems()),this.setTarget(e)),r=0!==this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.selectedItems.annotations[0].annotationSettings:null,o=(this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus&&o&&"free-text-input"===o.className&&"TEXTAREA"===o.tagName&&(this.pdfViewerBase.isFreeTextContextMenu=!0),this.defaultContextMenuItems=[this.pdfViewer.localeObj.getConstant("Cut"),this.pdfViewer.localeObj.getConstant("Copy"),this.pdfViewer.localeObj.getConstant("Highlight context"),this.pdfViewer.localeObj.getConstant("Underline context"),this.pdfViewer.localeObj.getConstant("Strikethrough context"),this.pdfViewer.localeObj.getConstant("Paste"),this.pdfViewer.localeObj.getConstant("Delete Context"),this.pdfViewer.localeObj.getConstant("Scale Ratio"),this.pdfViewer.localeObj.getConstant("Comment"),this.pdfViewer.localeObj.getConstant("Properties")],0<this.customMenuItems.length?this.contextMenuObj.items.slice(this.pdfViewer.showCustomContextMenuBottom?-this.customMenuItems.length:0,(this.pdfViewer.showCustomContextMenuBottom?this.contextMenuObj.items:this.customMenuItems).length).map(function(e){return e.text}):[]);this.contextMenuObj.showItems(this.pdfViewer.showCustomContextMenuBottom?this.defaultContextMenuItems.concat(o):o.concat(this.defaultContextMenuItems)),this.pdfViewerBase.getElement("_context_menu_separator").classList.remove("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.remove("e-menu-hide"),this.contextMenuObj.enableItems([this.defaultCutId,this.defaultCopyId,this.defaultPasteId,this.defaultDeleteId],!0,!0),G.isNullOrUndefined(o)||0===this.customMenuItems.length||(o=[],o=e.items.length<this.defaultLength?e.items.map(function(e){return e.id}):this.customMenuItems.map(function(e){return e.id}),this.filteredCustomItemsIds=o.filter(function(e){return!G.isNullOrUndefined(e)}),this.pdfViewer.firecustomContextMenuBeforeOpen(this.filteredCustomItemsIds)),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.checkContextMenuDeleteItem(this.contextMenuObj),this.pdfViewer.textSelectionModule||this.pdfViewerBase.isShapeBasedAnnotationsEnabled()?(e.event||this.pdfViewerBase.isTouchDesignerMode?(o=this.pdfViewerBase.isClickWithinSelectionBounds(e.event),this.pdfViewerBase.isFreeTextContextMenu?(this.contextMenuObj.hideItems([this.defaultHighlightId,this.defaultUnderlineId,this.defaultStrikethroughId,this.defaultPropertiesId,this.defaultCommentId,this.defaultScaleratioId,this.defaultDeleteId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide"),this.pdfViewer.annotation.freeTextAnnotationModule&&this.pdfViewer.annotation.freeTextAnnotationModule.isTextSelected?(this.contextMenuObj.enableItems([this.defaultCopyId],!0,!0),this.contextMenuObj.enableItems([this.defaultCutId],!0,!0)):(this.contextMenuObj.enableItems([this.defaultCopyId],!1,!0),this.contextMenuObj.enableItems([this.defaultCutId],!1,!0),window.getSelection().removeAllRanges()),this.pdfViewer.annotation.freeTextAnnotationModule&&""!==this.pdfViewer.annotation.freeTextAnnotationModule.selectedText?this.contextMenuObj.enableItems([this.defaultPasteId],!0,!0):this.contextMenuObj.enableItems([this.defaultPasteId],!1,!0)):o&&this.pdfViewer.textSelectionModule||this.pdfViewer.textSelectionModule&&0<this.pdfViewer.textSelectionModule.selectionRangeArray.length&&"MouseUp"===this.pdfViewer.contextMenuSettings.contextMenuAction?(!e.event.target.classList.contains("e-pv-maintaincontent")&&e.event.target.classList.contains("e-pv-text")||e.event.target.classList.contains("e-pv-text-layer")?this.pdfViewerBase.checkIsNormalText()&&(e.cancel=!0):(G.Browser.isIE||"edge"===G.Browser.info.name)&&e.event.target.classList.contains("e-pv-page-container")&&(e.cancel=!0),this.contextMenuObj.hideItems([this.defaultCutId,this.defaultPasteId,this.defaultDeleteId,this.defaultScaleratioId,this.defaultCommentId,this.defaultPropertiesId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide")):0===this.pdfViewer.selectedItems.annotations.length||"HandWrittenSignature"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureText"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureImage"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Path"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?0===this.pdfViewer.selectedItems.annotations.length||"Path"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||r.isLock?0!==this.pdfViewer.selectedItems.annotations.length&&"Path"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&r.isLock?this.hideDefaultContextMenu():0!==this.pdfViewer.selectedItems.formFields.length&&this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&this.pdfViewer.designerMode?(this.onOpeningForShape(!0),G.isNullOrUndefined(this.pdfViewer.toolbar)||G.isNullOrUndefined(this.pdfViewer.toolbar.formDesignerToolbarModule)||this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(!0)):(t=this.pdfViewerBase.designerModetarget,i=this.pdfViewer.annotationModule,e.event&&e.event.target&&(t=e.event.target),this.pdfViewer.annotation&&this.pdfViewer.annotation.isShapeCopied&&(t.classList.contains("e-pv-text-layer")||t.classList.contains("e-pv-text")||t.classList.contains("e-pv-viewer-container"))&&!this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation||this.pdfViewer.formDesigner&&this.pdfViewer.formDesigner.isShapeCopied&&(t.classList.contains("e-pv-text-layer")||t.classList.contains("e-pv-text"))?this.onOpeningForShape(!1):this.pdfViewerBase.isCalibrateAnnotationModule()&&this.pdfViewer.annotationModule.measureAnnotationModule.currentAnnotationMode&&!r?(this.contextMenuObj.hideItems([this.defaultHighlightId,this.defaultUnderlineId,this.defaultStrikethroughId,this.defaultPropertiesId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.remove("e-menu-hide"),this.contextMenuObj.enableItems([this.defaultCutId,this.defaultCopyId,this.defaultPasteId,this.defaultDeleteId,this.defaultCommentId],!1,!0)):i&&i.textMarkupAnnotationModule&&i.textMarkupAnnotationModule.currentTextMarkupAnnotation&&!i.textMarkupAnnotationModule.currentTextMarkupAnnotation.annotationSettings.isLock?(this.contextMenuObj.hideItems([this.defaultHighlightId,this.defaultUnderlineId,this.defaultStrikethroughId,this.defaultPropertiesId,this.defaultCutId,this.defaultCopyId,this.defaultPasteId,this.defaultScaleratioId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.remove("e-menu-hide"),this.contextMenuObj.showItems([this.defaultDeleteId,this.defaultCommentId],!0)):e.items&&0<e.items.length&&this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.isTextSelection&&o?(this.contextMenuObj.hideItems([this.defaultCutId,this.defaultPasteId,this.defaultDeleteId,this.defaultScaleratioId,this.defaultCommentId,this.defaultPropertiesId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide")):e.cancel=!0):this.onOpeningForShape(!0):this.onOpeningForShape(!1,!0)):this.pdfViewer.textSelectionModule&&"MouseUp"===this.pdfViewer.contextMenuOption?(this.contextMenuObj.hideItems([this.defaultCutId,this.defaultPasteId,this.defaultDeleteId,this.defaultScaleratioId,this.defaultCommentId,this.defaultPropertiesId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide")):this.hideContextItems(),this.enableCommentPanelItem()):e.cancel=!0,"None"===this.pdfViewer.contextMenuOption?e.cancel=!0:this.contextMenuItems(e),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.restrictContextMenu()&&(e.cancel=!0),!0===this.pdfViewer.disableDefaultContextMenu&&this.hideDefaultContextMenu(),this.pdfViewerBase.isTouchDesignerMode=!1},wn.prototype.contextMenuItems=function(e){if(this.pdfViewer.contextMenuSettings.contextMenuItems.length){for(var t=[],i=(this.contextMenuCollection(),this.contextMenuObj.getRootElement()),n=0;n<this.pdfViewer.contextMenuSettings.contextMenuItems.length;n++)for(var o=0;o<this.contextMenuList.length;o++){var r=this.contextMenuList[parseInt(o.toString(),10)].text;switch(r){case"Highlight":r="Highlight context";break;case"Underline":r="Underline context";break;case"Strikethrough":r="Strikethrough context";break;case"Delete":r="Delete Context";break;case"Scale Ratio":r="Scale Ratio";break;case"Comment":this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide");break;case"Properties":this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide")}var a=this.contextMenuList[parseInt(o.toString(),10)].text;if(0===n&&a!==v.ContextMenuItem[this.pdfViewer.contextMenuSettings.contextMenuItems[parseInt(n.toString(),10)]]&&t.push(a),0<n&&a===v.ContextMenuItem[this.pdfViewer.contextMenuSettings.contextMenuItems[parseInt(n.toString(),10)]])for(var s=0;s<t.length;s++)if(t[parseInt(s.toString(),10)]===a)if(this.pdfViewer.disableContextMenuItems&&0<this.pdfViewer.disableContextMenuItems.length){for(var l=!1,A=0;A<this.pdfViewer.disableContextMenuItems.length;A++)t[parseInt(s.toString(),10)]===v.ContextMenuItem[this.pdfViewer.disableContextMenuItems[parseInt(A.toString(),10)]]&&(l=!0);l||t.splice(s,1)}else t.splice(s,1)}var d=this.processLocaleContent(t);this.contextMenuObj.hideItems(d),0===this.getEnabledItemCount(i)&&(e.cancel=!0)}},wn.prototype.processLocaleContent=function(e){var t=[];if(0<e.length)for(var i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)];switch(n){case"Highlight":n="Highlight context";break;case"Underline":n="Underline context";break;case"Strikethrough":n="Strikethrough context";break;case"Delete":n="Delete Context";break;case"ScaleRatio":n="Scale Ratio"}t.push(this.pdfViewer.localeObj.getConstant(n))}return t},wn.prototype.contextMenuCollection=function(){return this.contextMenuList=[{text:"Cut"},{text:"Copy"},{text:"Highlight"},{text:"Underline"},{text:"Strikethrough"},{text:"Paste"},{text:"Delete"},{text:"ScaleRatio"},{text:"Comment"},{text:"Properties"}]},wn.prototype.getEnabledItemCount=function(e){for(var t=this.copyContextMenu.length,i=e.children,n=0;n<i.length;n++){var o=i[parseInt(n.toString(),10)];(o.classList.contains("e-menu-hide")||o.classList.contains("e-disabled"))&&(t-=1)}return t},wn.prototype.hideContextItems=function(){0===this.pdfViewer.selectedItems.annotations.length&&(this.contextMenuObj.hideItems([this.defaultCutId,this.defaultPasteId,this.defaultDeleteId,this.defaultScaleratioId,this.defaultPropertiesId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"))},wn.prototype.enableCommentPanelItem=function(){this.pdfViewer.enableCommentPanel?this.contextMenuObj.enableItems([this.defaultCommentId],!0,!0):this.contextMenuObj.enableItems([this.defaultCommentId],!1,!0),0!==this.pdfViewer.selectedItems.formFields.length&&this.contextMenuObj.enableItems([this.defaultCommentId],!1,!0)},wn.prototype.onOpeningForShape=function(e,t){this.pdfViewer.annotation&&this.pdfViewer.annotation.isShapeCopied||this.pdfViewer.formDesigner&&this.pdfViewer.formDesigner.isShapeCopied?this.contextMenuObj.enableItems([this.defaultPasteId],!0,!0):this.contextMenuObj.enableItems([this.defaultPasteId],!1,!0),this.contextMenuObj.hideItems([this.defaultHighlightId,this.defaultUnderlineId,this.defaultStrikethroughId,this.defaultScaleratioId],!0),e?0===this.pdfViewer.selectedItems.annotations.length||"Line"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"LineWidthArrowHead"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Distance"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?0!==this.pdfViewer.selectedItems.formFields.length&&this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?(this.contextMenuObj.hideItems([this.defaultCommentId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.contextMenuObj.showItems([this.defaultPropertiesId],!0)):(G.isNullOrUndefined(t)&&"Image"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&!this.pdfViewer.selectedItems.annotations[0].id.startsWith("stamp")?(this.contextMenuObj.hideItems([this.defaultPropertiesId,this.defaultCommentId,this.defaultCutId,this.defaultCopyId,this.defaultPasteId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator")):(this.contextMenuObj.hideItems([this.defaultPropertiesId],!0),this.pdfViewerBase.getElement("_context_menu_separator"))).classList.add("e-menu-hide"):this.contextMenuObj.showItems([this.defaultPropertiesId],!0):(t?"SignatureField"===this.pdfViewer.selectedItems.annotations[0].annotName||"InitialField"===this.pdfViewer.selectedItems.annotations[0].annotName||"SignatureText"===this.pdfViewer.selectedItems.annotations[0].annotName?this.contextMenuObj.hideItems([this.defaultPropertiesId,this.defaultCommentId,this.defaultCutId,this.defaultCopyId,this.defaultPasteId],!0):this.contextMenuObj.hideItems([this.defaultPropertiesId,this.defaultCommentId],!0):this.contextMenuObj.hideItems([this.defaultCutId,this.defaultCopyId,this.defaultDeleteId,this.defaultPropertiesId,this.defaultCommentId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide"))},wn.prototype.OnItemSelected=function(e){this.pdfViewerBase.OnItemSelected(e)},wn.prototype.onMenuItemSelect=function(t){var e=this.filteredCustomItemsIds.find(function(e){return e===t.item.id}),e=G.isNullOrUndefined(e)?void 0:e.toString();e?this.pdfViewer.firecustomContextMenuSelect(e):this.pdfViewerBase.OnItemSelected(t.item.text)},wn.prototype.destroy=function(){this.contextMenuObj&&(this.previousAction="",this.contextMenuObj.destroy())},wn.prototype.close=function(){this.contextMenuObj.close()},wn.prototype.open=function(e,t,i){this.contextMenuObj.open(e,t,i)},wn.prototype.addCustomContextMenuItems=function(){var t=new Set,e=(this.customMenuItems=this.customMenuItems.reverse().filter(function(e){return!t.has(e.id)&&t.add(e.id)}).reverse(),this.customMenuItems.length);if(0<e){if(!0===this.pdfViewer.showCustomContextMenuBottom)for(var i=0;i<e;i++)this.copyContextMenu.push(this.customMenuItems[parseInt(i.toString(),10)]);else for(i=e-1;0<=i;i--)this.copyContextMenu.unshift(this.customMenuItems[parseInt(i.toString(),10)]);this.contextMenuObj.items=this.copyContextMenu,this.contextMenuObj.dataBind()}this.copyShowCustomContextMenuBottom=this.pdfViewer.showCustomContextMenuBottom},wn.prototype.hideDefaultContextMenu=function(){this.contextMenuObj.hideItems(this.defaultContextMenuItems),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide")};var mn=wn;function wn(e,t){this.copyContextMenu=[],this.contextMenuList=[],this.customMenuItems=[],this.filteredCustomItemsIds=[],this.defaultContextMenuItems=[],this.pdfViewer=e,this.pdfViewerBase=t,this.defaultCutId=this.pdfViewer.element.id+"_contextmenu_cut",this.defaultCopyId=this.pdfViewer.element.id+"_contextmenu_copy",this.defaultPasteId=this.pdfViewer.element.id+"_contextmenu_paste",this.defaultDeleteId=this.pdfViewer.element.id+"_contextmenu_delete",this.defaultCommentId=this.pdfViewer.element.id+"_contextmenu_comment",this.defaultUnderlineId=this.pdfViewer.element.id+"_contextmenu_underline",this.defaultHighlightId=this.pdfViewer.element.id+"_contextmenu_highlight",this.defaultStrikethroughId=this.pdfViewer.element.id+"_contextmenu_strikethrough",this.defaultScaleratioId=this.pdfViewer.element.id+"_contextmenu_scaleratio",this.defaultPropertiesId=this.pdfViewer.element.id+"_contextmenu_properties",this.copyContextMenu=[{text:this.pdfViewer.localeObj.getConstant("Cut"),iconCss:"e-pv-cut-icon",id:this.defaultCutId},{text:this.pdfViewer.localeObj.getConstant("Copy"),iconCss:"e-pv-copy-icon",id:this.defaultCopyId},{text:this.pdfViewer.localeObj.getConstant("Highlight context"),iconCss:"e-pv-highlight-icon",id:this.defaultHighlightId},{text:this.pdfViewer.localeObj.getConstant("Underline context"),iconCss:"e-pv-underline-icon",id:this.defaultUnderlineId},{text:this.pdfViewer.localeObj.getConstant("Strikethrough context"),iconCss:"e-pv-strikethrough-icon",id:this.defaultStrikethroughId},{text:this.pdfViewer.localeObj.getConstant("Paste"),iconCss:"e-pv-paste-icon",id:this.defaultPasteId},{text:this.pdfViewer.localeObj.getConstant("Delete Context"),iconCss:"e-pv-delete-icon",id:this.defaultDeleteId},{text:this.pdfViewer.localeObj.getConstant("Scale Ratio"),iconCss:"e-pv-scale-ratio-icon",id:this.defaultScaleratioId},{separator:!0,id:this.pdfViewer.element.id+"_context_menu_comment_separator"},{text:this.pdfViewer.localeObj.getConstant("Comment"),iconCss:"e-pv-comment-icon",id:this.defaultCommentId},{separator:!0,id:this.pdfViewer.element.id+"_context_menu_separator"},{text:this.pdfViewer.localeObj.getConstant("Properties"),iconCss:"e-pv-property-icon",id:this.defaultPropertiesId}],this.defaultLength=this.copyContextMenu.length}Cn.prototype.send=function(i){var n=this;this.httpRequest=new XMLHttpRequest,this.httpRequest.timeout=this.retryTimeout,this.mode?this.sendRequest(i):setTimeout(function(){n.sendRequest(i)}),this.httpRequest.onreadystatechange=function(){var e=!1,t=n.pdfViewer.viewerBase;t&&t.isPasswordAvailable&&""===t.passwordData&&(e=!0,n.retryCount=0),(e=0<n.retryCount?n.resendRequest(n,i,!1):e)||n.stateChange(n)},this.httpRequest.ontimeout=function(){var e=!1,t=n.pdfViewer.viewerBase;t&&t.isPasswordAvailable&&""===t.passwordData&&(e=!0,n.retryCount=0),(e=0<n.retryCount?n.resendRequest(n,i,!0):e)||n.stateChange(n)},this.httpRequest.onerror=function(){n.error(n)}},Cn.prototype.clear=function(){this.httpRequest&&this.httpRequest.abort(),this.onSuccess=null,this.onFailure=null,this.onError=null},Cn.prototype.resendRequest=function(e,t,i){var n=!1,o=e.httpRequest.status,r=-1!==this.retryStatusCodes.indexOf(o);if(4===e.httpRequest.readyState&&200===o){var a=void 0,a=null!==this.responseType?e.httpRequest.response:e.httpRequest.responseText;if(a&&"object"!=typeof a)try{a=JSON.parse(a)}catch(e){"Document stream does not exist in the cache"!==a&&"Document Reference pointer does not exist in the cache"!==a||(n=!0)}}return(r||n||i)&&(n=!0,this.retryCount--,e.pdfViewer.fireAjaxRequestFailed(o,e.httpRequest.statusText,t.action,!0),e.send(t)),n},Cn.prototype.sendRequest=function(e){this.httpRequest.open(this.type,this.url,this.mode),this.httpRequest.withCredentials=this.pdfViewer.ajaxRequestSettings.withCredentials,this.httpRequest.setRequestHeader("Content-Type",this.contentType),e=this.addExtraData(e),this.setCustomAjaxHeaders(),null!==this.responseType&&(this.httpRequest.responseType=this.responseType),this.httpRequest.send(JSON.stringify(e))},Cn.prototype.addExtraData=function(e){return this.pdfViewer.viewerBase.ajaxData="",this.pdfViewer.fireAjaxRequestInitiate(e),e=this.pdfViewer.viewerBase.ajaxData&&""!==this.pdfViewer.viewerBase.ajaxData?this.pdfViewer.viewerBase.ajaxData:e},Cn.prototype.stateChange=function(e){var t,i=e.httpRequest.status,n=i.toString().split("")[0];4===e.httpRequest.readyState&&200===i?(t={name:"onSuccess",data:null!==this.responseType?e.httpRequest.response:e.httpRequest.responseText,readyState:e.httpRequest.readyState,status:e.httpRequest.status},e.successHandler(t)):4!==e.httpRequest.readyState||"4"!==n&&"5"!==n||(t={name:"onFailure",status:e.httpRequest.status,statusText:e.httpRequest.statusText},e.failureHandler(t))},Cn.prototype.error=function(e){var t={name:"onError",status:this.httpRequest.status,statusText:this.httpRequest.statusText};e.errorHandler(t)},Cn.prototype.successHandler=function(e){return this.onSuccess&&this.onSuccess(e),e},Cn.prototype.failureHandler=function(e){return this.onFailure&&this.onFailure(e),e},Cn.prototype.errorHandler=function(e){return this.onError&&this.onError(e),e},Cn.prototype.setCustomAjaxHeaders=function(){if(!G.isNullOrUndefined(this.pdfViewer.ajaxRequestSettings)&&!G.isNullOrUndefined(this.pdfViewer.ajaxRequestSettings.ajaxHeaders))for(var e=0;e<this.pdfViewer.ajaxRequestSettings.ajaxHeaders.length;e++)this.httpRequest.setRequestHeader(this.pdfViewer.ajaxRequestSettings.ajaxHeaders[parseInt(e.toString(),10)].headerName,this.pdfViewer.ajaxRequestSettings.ajaxHeaders[parseInt(e.toString(),10)].headerValue)};var Bn=Cn;function Cn(e){this.type="POST",this.mode=!0,this.contentType="application/json;charset=UTF-8",this.retryTimeout=0,this.pdfViewer=e,this.retryCount=e.retryCount,this.retryStatusCodes=e.retryStatusCodes,this.retryTimeout=1e3*e.retryTimeout}A.prototype.createSignaturePanel=function(){var e,t,i,n=this;this.imageSignatureDataUrl="",this.drawSignatureDataUrl="",G.isBlazor()?((i=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"))&&(this.pdfViewerBase.pageContainer.querySelector(".e-pv-signature-window")||(e=this.pdfViewer.element.id,(t=G.createElement("div",{id:e+"_signature_window",className:"e-pv-signature-window"})).style.display="block",this.pdfViewerBase.pageContainer.appendChild(t)),i.addEventListener("mousedown",this.signaturePanelMouseDown.bind(this)),i.addEventListener("mousemove",this.signaturePanelMouseMove.bind(this)),i.addEventListener("mouseup",this.signaturePanelMouseUp.bind(this)),i.addEventListener("mouseleave",this.signaturePanelMouseUp.bind(this)),i.addEventListener("touchstart",this.signaturePanelMouseDown.bind(this)),i.addEventListener("touchmove",this.signaturePanelMouseMove.bind(this)),i.addEventListener("touchend",this.signaturePanelMouseUp.bind(this)),this.clearSignatureCanvas()),this.pdfViewer._dotnetInstance.invokeMethodAsync("OpenSignaturePanel",this.pdfViewerBase.isToolbarSignClicked)):(e=this.pdfViewer.element.id,(t=G.createElement("div",{id:e+"_signature_window",className:"e-pv-signature-window"})).style.display="block",this.pdfViewerBase.pageContainer.appendChild(t),i=this.createSignatureCanvas(),e=void 0,e=this.pdfViewerBase.isToolbarSignClicked?this.pdfViewerBase.isInitialField?this.pdfViewer.localeObj.getConstant("InitialFieldDialogHeaderText"):this.pdfViewer.localeObj.getConstant("SignatureFieldDialogHeaderText"):this.pdfViewerBase.isInitialField?this.pdfViewer.localeObj.getConstant("HandwrittenInitialDialogHeaderText"):this.pdfViewer.localeObj.getConstant("HandwrittenSignatureDialogHeaderText"),this.signatureDialog?this.signatureDialog.content=i:(this.signatureDialog=new k.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:e,cssClass:"e-pv-signature-dialog-height",target:this.pdfViewerBase.mainContainer,content:i,width:"750px",visible:!0,allowDragging:!0,beforeClose:function(){n.clearSignatureCanvas(),n.signatureDialog.destroy(),n.signatureDialog=null,n.tabObj&&n.tabObj.destroy();var e=document.getElementById(n.pdfViewer.element.id+"_signature_window");e&&(e.parentNode||e.parentElement).removeChild(e),n.pdfViewerBase.isToolbarSignClicked||n.pdfViewerBase.drawSignatureWithTool||G.isNullOrUndefined(n.pdfViewer.formFieldsModule.currentTarget)||n.pdfViewer.fireFocusOutFormField(n.pdfViewer.formFieldsModule.currentTarget.name,""),n.pdfViewerBase.isToolbarSignClicked=!1,n.setFocus()}}),this.signatureDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Clear"),disabled:!0,cssClass:"e-pv-clearbtn"},click:this.clearSignatureCanvas.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel"),cssClass:"e-pv-cancelbtn"},click:this.closeSignaturePanel.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Create"),isPrimary:!0,disabled:!0,cssClass:"e-pv-createbtn"},click:this.addSignatureInPage.bind(this)}],this.signatureDialog.appendTo(t)),this.pdfViewer.element.offsetWidth<750&&this.updateCanvasSize(),this.pdfViewer.enableRtl&&(this.signatureDialog.enableRtl=this.pdfViewer.enableRtl),"DRAW"===(e=this.signatureDialog.content.ej2_instances[0].items[0]).header.label?(i=document.getElementById("checkbox"),this.hideSignatureCheckbox(i)):"TYPE"===e.header.label?(t=document.getElementById("checkbox1"),this.hideSignatureCheckbox(t)):(i=document.getElementById("checkbox2"),this.hideSignatureCheckbox(i)),this.setSignatureCanvasWidth()),this.drawSavedSignature()},A.prototype.setSignatureCanvasWidth=function(){var e,t=document.getElementById(this.pdfViewer.element.id+"Signature_appearance");t&&(t=t.clientWidth,(e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"))&&(e.width=t,e.style.width=t+"px"),(e=document.getElementById(this.pdfViewer.element.id+"_signatureuploadCanvas_"))&&(e.width=t,e.style.width=t+"px"),e=document.getElementById(this.pdfViewer.element.id+"_font_appearance"))&&(e.width=t,e.style.width=t+"px")},A.prototype.drawSavedSignature=function(){var e,t,i;this.pdfViewerBase.isToolbarSignClicked||!this.isSaveSignature&&!this.isSaveInitial||(!this.pdfViewerBase.isInitialField&&this.isSaveSignature?this.outputString=this.saveSignatureString:this.pdfViewerBase.isInitialField&&this.isSaveInitial&&(this.outputString=this.saveInitialString),e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_").getContext("2d"),(t=new Image).onload=function(){e.drawImage(t,0,0)},!this.pdfViewerBase.isInitialField&&this.isSaveSignature?t.src=this.signatureDrawString:this.pdfViewerBase.isInitialField&&this.isSaveInitial&&(t.src=this.initialDrawString),(i=document.getElementById(this.pdfViewer.element.id+"_signatureCheckBox"))&&(i.checked=!0),this.enableCreateButton(!1),this.enableClearbutton(!1))},A.prototype.drawSavedTypeSignature=function(){var e="";return e=this.pdfViewerBase.isToolbarSignClicked||!this.issaveTypeSignature&&!this.issaveTypeInitial?e:!this.pdfViewerBase.isInitialField&&this.issaveTypeSignature?this.saveSignatureTypeString:this.saveInitialTypeString},A.prototype.drawSavedImageSignature=function(){var e="";return e=this.pdfViewerBase.isToolbarSignClicked||!this.issaveImageSignature&&!this.issaveImageInitial?e:!this.pdfViewerBase.isInitialField&&this.issaveImageSignature?this.saveSignatureUploadString:this.saveInitialUploadString},A.prototype.hideSignatureCheckbox=function(e){this.pdfViewerBase.isToolbarSignClicked?this.pdfViewerBase.isInitialField?this.pdfViewer.handWrittenSignatureSettings.initialDialogSettings&&this.pdfViewer.handWrittenSignatureSettings.initialDialogSettings.hideSaveSignature&&this.hideCheckboxParent(e):this.pdfViewer.handWrittenSignatureSettings.signatureDialogSettings&&this.pdfViewer.handWrittenSignatureSettings.signatureDialogSettings.hideSaveSignature&&this.hideCheckboxParent(e):this.pdfViewerBase.isInitialField?this.pdfViewer.initialFieldSettings.initialDialogSettings&&this.pdfViewer.initialFieldSettings.initialDialogSettings.hideSaveSignature&&this.hideCheckboxParent(e):this.pdfViewer.signatureFieldSettings.signatureDialogSettings&&this.pdfViewer.signatureFieldSettings.signatureDialogSettings.hideSaveSignature&&this.hideCheckboxParent(e)},A.prototype.saveSignatureCheckbox=function(){return!this.pdfViewerBase.isToolbarSignClicked&&(this.pdfViewerBase.isInitialField?(!this.pdfViewer.initialFieldSettings.initialDialogSettings||!this.pdfViewer.initialFieldSettings.initialDialogSettings.hideSaveSignature)&&this.isInitialFiledSaveSignature:(!this.pdfViewer.signatureFieldSettings.signatureDialogSettings||!this.pdfViewer.signatureFieldSettings.signatureDialogSettings.hideSaveSignature)&&this.isSignatureFieldsSaveSignature)},A.prototype.hideCheckboxParent=function(e){e&&(e.parentElement.style.display="none")},A.prototype.saveSignatureImage=function(){var e=document.getElementById(this.pdfViewer.element.id+"_signatureCheckBox");e&&e.checked?""!==this.outputString&&(this.pdfViewerBase.isInitialField?(this.isSaveInitial=!0,this.saveInitialString=this.outputString):(this.isSaveSignature=!0,this.saveSignatureString=this.outputString),e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"),this.saveImageString=e.toDataURL(),this.pdfViewerBase.isInitialField?this.initialImageString=this.saveImageString:this.signatureImageString=this.saveImageString):(this.isSaveSignature&&!this.pdfViewerBase.isInitialField?(this.isSaveSignature=!1,this.saveSignatureString="",this.saveImageString="",this.signatureImageString=""):this.isSaveInitial&&this.pdfViewerBase.isInitialField&&(this.isSaveInitial=!1,this.saveInitialString="",this.saveImageString="",this.initialImageString=""),this.clearSignatureCanvas())},A.prototype.addSignature=function(e){var t,i,n,o,r,a,s;this.pdfViewerBase.isToolbarSignClicked?(t=this.pdfViewer.annotation.createGUID(),this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.isSignatureAdded=!0,o=this.pdfViewerBase.currentPageNumber-1,i=this.pdfViewer.handWrittenSignatureSettings.thickness||1,r=this.pdfViewer.handWrittenSignatureSettings.opacity||1,a=this.pdfViewer.handWrittenSignatureSettings.strokeColor||"#000000",n=this.updateSignatureAspectRatio(this.outputString,!0),s=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"),this.saveImageString=s.toDataURL(),this.pdfViewerBase.isInitialField?this.initialImageString=this.saveImageString:this.signatureImageString=this.saveImageString,n={id:"sign"+this.pdfViewerBase.signatureCount,bounds:n,pageIndex:o,data:this.outputString,fontFamily:"Helvetica",fontSize:16,shapeAnnotationType:"HandWrittenSignature",opacity:r,strokeColor:a,thickness:i,signatureName:t},o=void(this.pdfViewerBase.currentSignatureAnnot=n),(o=G.isBlazor()?document.getElementById(this.pdfViewer.element.id+"_signatureCheckBox"):document.getElementById("checkbox"))&&o.checked&&this.addSignatureCollection(),this.hideSignaturePanel(),this.pdfViewerBase.isToolbarSignClicked=!1):(o=document.getElementById("checkbox"),r=document.getElementById("checkbox1"),a=document.getElementById("checkbox2"),s=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"),this.saveImageString=s.toDataURL(),o&&(o.checked?(this.pdfViewerBase.isInitialField?(this.isSaveInitial=!0,this.initialDrawString=this.saveImageString,this.saveInitialString=this.outputString):(this.isSaveSignature=!0,this.signatureDrawString=this.saveImageString,this.saveSignatureString=this.outputString),this.checkSaveFiledSign(this.pdfViewerBase.isInitialField,!0)):(this.pdfViewerBase.isInitialField?(this.isSaveInitial=!1,this.saveInitialString=""):(this.isSaveSignature=!1,this.saveSignatureString=""),this.checkSaveFiledSign(this.pdfViewerBase.isInitialField,!1))),this.saveTypeSignature(r),this.saveUploadSignature(a),this.pdfViewerBase.isInitialField?this.initialImageString=this.saveImageString:this.signatureImageString=this.saveImageString,this.pdfViewer.formFieldsModule.drawSignature(null,null,this.pdfViewerBase.currentTarget,null))},A.prototype.updateSignatureAspectRatio=function(e,t,i,n){for(var e=J.processPathData(e),o=J.splitArrayCollection(e),r=-1,a=-1,s=-1,l=-1,e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"),A=0;A<o.length;A++){var d,p=o[parseInt(A.toString(),10)];-1===r?(r=parseFloat(p.x.toString()),s=parseFloat(p.x.toString()),a=parseFloat(p.y.toString()),l=parseFloat(p.y.toString())):((d=parseFloat(p.x.toString()))<=r&&(r=d),(p=parseFloat(p.y.toString()))<=a&&(a=p),s<=d&&(s=d),l<=p&&(l=p))}var h=e?e.clientWidth:650,e=e?e.clientHeight:300,h=this.calculateSignatureBounds(h,e,s-r,l-a,t,i,n);return t?(e=this.pdfViewerBase.getZoomFactor(),i=this.pdfViewerBase.currentPageNumber-1,n=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+i),{x:(parseFloat(n.style.width)/2-h.currentWidth/2)/e,y:(parseFloat(n.style.height)/2-h.currentHeight/2)/e,width:h.currentWidth,height:h.currentHeight}):{left:h.currentLeftDiff,top:h.currentTopDiff,width:h.currentWidth,height:h.currentHeight}},A.prototype.calculateSignatureBounds=function(e,t,i,n,o,r,a){var s,l,A,d=i/e,p=n/t,h=this.pdfViewerBase.getZoomFactor(),c=0,g=0,u=!1,f=!1,m=0,w=0,B=(o?(c=this.pdfViewer.handWrittenSignatureSettings.width||150,g=this.pdfViewer.handWrittenSignatureSettings.height||100):(o=r?"100%"===r.style.width?r.clientWidth:parseFloat(r.style.width):this.ConvertPointToPixel(a.LineBounds.Width),B=(s=r?"100%"===r.style.height?r.clientHeight:parseFloat(r.style.height):this.ConvertPointToPixel(a.LineBounds.Height))/o,C=t/e,r=r?r.offsetParent.offsetParent.style.transform||r.style.transform:a.RotationAngle,(a=e/t)<(l=o/s)||a<B||Math.abs(l-B)<=1?(A=0,A=a<B||Math.abs(l-B)<=1?(f=!0,B/C):(u=!0,l/a),"rotate(90deg)"===r||"rotate(270deg)"===r?(c=s/h,g=o/h):(u&&(m=o/h,c=o/A/h,g=s/h),f&&(w=s/h,c=o/h,g=s/A/h))):g="rotate(90deg)"===r||"rotate(270deg)"===r?(c=s/h,o/h):(c=o/h,s/h)),(e-i)/2),C=(t-n)/2;return u?(B=B/e*m,B+=(m*d-c*d)/2,C=C/t*g):f?(B=B/e*c,C=C/t*w,C+=(w*p-g*p)/2):(B=B/e*c,C=C/t*g),"Stretch"!==this.pdfViewer.signatureFitMode&&(c*=d,g*=p),{currentLeftDiff:B,currentTopDiff:C,currentWidth:c,currentHeight:g}},A.prototype.setFocus=function(e){e?(this.removeFocus(),document.getElementById(e).classList.add("e-pv-signature-focus")):this.currentTarget&&document.getElementById(this.currentTarget.id).focus()},A.prototype.removeFocus=function(){if(this.signatureFieldCollection){0===this.signatureFieldCollection.length&&this.getSignField();for(var e=0;e<this.signatureFieldCollection.length;e++){var t=(this.pdfViewer.formDesignerModule?this.signatureFieldCollection[parseInt(e.toString(),10)].FormField:this.signatureFieldCollection[parseInt(e.toString(),10)]).uniqueID,t=document.getElementById(t);t&&t.classList.remove("e-pv-signature-focus")}this.pdfViewer.formFieldsModule.currentTarget&&this.pdfViewer.formFieldsModule.currentTarget.classList.remove("e-pv-signature-focus")}},A.prototype.getSignField=function(){return this.pdfViewer.formDesignerModule?this.signatureFieldCollection=this.pdfViewer.formDesignerModule.getFormDesignerSignField(this.signatureFieldCollection):this.signatureFieldCollection=this.getFormFieldSignField(),this.signatureFieldCollection},A.prototype.getFormFieldSignField=function(){var e,t=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(t)for(var i=JSON.parse(t),n=0;n<i.length;n++)"SignatureField"!==(e=i[parseInt(n.toString(),10)]).Name&&"InitialField"!==e.Name||(e.uniqueID=this.pdfViewer.element.id+"input_"+e.PageIndex+"_"+n,this.signatureFieldCollection.push(i[parseInt(n.toString(),10)]));return this.signatureFieldCollection},A.prototype.checkSaveFiledSign=function(e,t){e?this.isInitialFiledSaveSignature=t:this.isSignatureFieldsSaveSignature=t},A.prototype.addSignatureInPage=function(){"Draw"===this.signaturetype?this.addSignature():"Type"===this.signaturetype?this.typeAddSignature():this.imageAddSignature(),this.drawOutputString="",this.imageOutputString=""},A.prototype.typeAddSignature=function(e){var t,i,n,o,r,a,s,l,A,d,p,h;this.pdfViewerBase.isToolbarSignClicked?(l=this.pdfViewerBase.getZoomFactor(),t=null,i=this.pdfViewer.annotation.createGUID(),this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.isSignatureAdded=!0,n=this.pdfViewerBase.currentPageNumber-1,p=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+n),o=this.pdfViewer.handWrittenSignatureSettings.thickness||1,r=this.pdfViewer.handWrittenSignatureSettings.opacity||1,a=this.pdfViewer.handWrittenSignatureSettings.strokeColor||"#000000",d=A=0,s=65,h=200,G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.height)||"Stretch"!==this.pdfViewer.signatureFitMode||(s=this.pdfViewer.handWrittenSignatureSettings.height),G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.width)||"Stretch"!==this.pdfViewer.signatureFitMode||(h=this.pdfViewer.handWrittenSignatureSettings.width),A=(parseFloat(p.style.width)/2-h/2)/l,d=(parseFloat(p.style.height)/2-s/2)/l,p=this.pdfViewerBase.getZoomFactor(),this.signtypevalue||this.updateSignatureTypeValue(!0),l=this.signtypevalue,this.pdfViewer.enableHtmlSanitizer&&this.outputString&&(this.outputString=G.SanitizeHtmlHelper.sanitize(this.outputString)),t={id:"Typesign"+this.pdfViewerBase.signatureCount,bounds:{left:A/p,top:d/p,x:A/p,y:d/p,width:h,height:s},pageIndex:n,dynamicText:l,data:this.pdfViewerBase.signatureModule.outputString,shapeAnnotationType:"SignatureText",opacity:r,strokeColor:a,thickness:o,fontSize:16,fontFamily:this.fontName,signatureName:i},A=void(this.pdfViewerBase.currentSignatureAnnot=t),(A=G.isBlazor()?document.getElementById(this.pdfViewer.element.id+"_signatureCheckBox"):document.getElementById("checkbox1"))&&A.checked&&this.addSignatureCollection(),this.signtypevalue="",this.hideSignaturePanel(),this.pdfViewerBase.isToolbarSignClicked=!1):(A=document.getElementById("checkbox"),d=document.getElementById("checkbox1"),p=document.getElementById("checkbox2"),this.saveDrawSignature(A),this.saveUploadSignature(p),(h=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"))&&(this.saveTypeString=h.toDataURL()),this.updateSignatureTypeValue(),this.pdfViewer.enableHtmlSanitizer&&this.textValue&&(this.textValue=G.SanitizeHtmlHelper.sanitize(this.textValue)),d&&d.checked?this.pdfViewerBase.isInitialField?(this.isSaveInitial=!0,this.initialImageString=this.saveTypeString,this.saveInitialTypeString=this.textValue,this.issaveTypeInitial=!0):(this.isSaveSignature=!0,this.signatureImageString=this.saveTypeString,this.saveSignatureTypeString=this.textValue,this.issaveTypeSignature=!0):this.pdfViewerBase.isInitialField?(this.isSaveInitial=!1,this.saveInitialTypeString="",this.issaveTypeInitial=!1):(this.isSaveSignature=!1,this.saveSignatureTypeString="",this.issaveTypeSignature=!1),this.pdfViewerBase.isInitialField?this.initialTypeString=this.saveTypeString:this.signatureTypeString=this.saveTypeString,this.pdfViewer.formFieldsModule.drawSignature("Type",this.textValue,this.pdfViewerBase.currentTarget),this.hideSignaturePanel())},A.prototype.imageAddSignature=function(e){var t,i,n,o,r,a,s,l,A,d,p,h;this.pdfViewerBase.isToolbarSignClicked?(s=this.pdfViewerBase.getZoomFactor(),l=null,t=this.pdfViewer.annotation.createGUID(),this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.isSignatureAdded=!0,i=this.pdfViewerBase.currentPageNumber-1,p=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+i),n=this.pdfViewer.handWrittenSignatureSettings.thickness||1,o=this.pdfViewer.handWrittenSignatureSettings.opacity||1,r=this.pdfViewer.handWrittenSignatureSettings.strokeColor||"#000000",h=a=d=A=0,this.pdfViewer.enableHtmlSanitizer&&this.outputString&&(this.outputString=G.SanitizeHtmlHelper.sanitize(this.outputString)),a=G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.height)||"Stretch"!==this.pdfViewer.signatureFitMode?this.signatureImageHeight>=this.signatureImageWidth?this.signatureImageHeight/this.signatureImageHeight*100:this.signatureImageHeight/this.signatureImageWidth*100:this.pdfViewer.handWrittenSignatureSettings.height,h=G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.width)||"Stretch"!==this.pdfViewer.signatureFitMode?this.signatureImageHeight>=this.signatureImageWidth?this.signatureImageWidth/this.signatureImageHeight*100:this.signatureImageWidth/this.signatureImageWidth*100:this.pdfViewer.handWrittenSignatureSettings.width,A=(parseFloat(p.style.width)/2-h/2)/s,d=(parseFloat(p.style.height)/2-a/2)/s,p=this.pdfViewerBase.getZoomFactor(),s=this.signtypevalue,l={id:"Typesign"+this.pdfViewerBase.signatureCount,bounds:{left:A/p,top:d/p,x:A/p,y:d/p,width:h,height:a},pageIndex:i,dynamicText:s,data:this.pdfViewerBase.signatureModule.outputString,shapeAnnotationType:"SignatureImage",opacity:o,strokeColor:r,thickness:n,fontSize:16,fontFamily:this.fontName,signatureName:t},A=void(this.pdfViewerBase.currentSignatureAnnot=l),(A=G.isBlazor()?document.getElementById(this.pdfViewer.element.id+"_signatureCheckBox"):document.getElementById("checkbox2"))&&A.checked&&this.addSignatureCollection(),this.hideSignaturePanel(),this.pdfViewerBase.isToolbarSignClicked=!1):(A=document.getElementById("checkbox"),d=document.getElementById("checkbox1"),p=document.getElementById("checkbox2"),this.saveDrawSignature(A),this.saveTypeSignature(d),(h=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"))&&(this.saveUploadString=h.toDataURL()),this.pdfViewer.enableHtmlSanitizer&&this.outputString&&(this.outputString=G.SanitizeHtmlHelper.sanitize(this.outputString)),p&&p.checked?this.pdfViewerBase.isInitialField?(this.isSaveInitial=!0,this.initialImageString=this.saveUploadString,this.saveInitialUploadString=this.outputString,this.issaveImageInitial=!0):(this.isSaveSignature=!0,this.signatureImageString=this.saveUploadString,this.saveSignatureUploadString=this.outputString,this.issaveImageSignature=!0):this.pdfViewerBase.isInitialField?(this.isSaveInitial=!1,this.saveInitialUploadString="",this.issaveImageInitial=!1):(this.isSaveSignature=!1,this.saveSignatureUploadString="",this.issaveImageSignature=!1),this.pdfViewerBase.isInitialField?this.initialUploadString=this.saveUploadString:this.signatureUploadString=this.saveUploadString,this.pdfViewer.formFieldsModule.drawSignature("Image","",this.pdfViewerBase.currentTarget),this.hideSignaturePanel())},A.prototype.saveDrawSignature=function(e){e&&(e.checked?""!==this.drawOutputString&&(e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"),this.saveImageString=e.toDataURL(),this.pdfViewerBase.isInitialField?(this.saveInitialString=this.drawOutputString,this.initialDrawString=this.saveImageString):(this.saveSignatureString=this.drawOutputString,this.signatureDrawString=this.saveImageString),this.checkSaveFiledSign(this.pdfViewerBase.isInitialField,!0)):(this.pdfViewerBase.isInitialField?this.saveInitialString="":this.saveSignatureString="",this.checkSaveFiledSign(this.pdfViewerBase.isInitialField,!1)))},A.prototype.saveTypeSignature=function(e){e&&(e.checked?(this.updateSignatureTypeValue(),""!==this.textValue&&(this.pdfViewerBase.isInitialField?(this.issaveTypeInitial=!0,this.saveInitialTypeString=this.textValue):(this.issaveTypeSignature=!0,this.saveSignatureTypeString=this.textValue))):this.pdfViewerBase.isInitialField?(this.saveInitialTypeString="",this.issaveTypeInitial=!1):(this.saveSignatureTypeString="",this.issaveTypeSignature=!1))},A.prototype.saveUploadSignature=function(e){e&&(e.checked?(e=document.getElementById(this.pdfViewer.element.id+"_signatureuploadCanvas_").toDataURL(),""!==(e="hidden"===document.getElementById(this.pdfViewer.element.id+"_e-pv-upload-button").style.visibility?e:"")&&(this.pdfViewerBase.isInitialField?(this.issaveImageInitial=!0,this.saveInitialUploadString=e):(this.issaveImageSignature=!0,this.saveSignatureUploadString=e))):this.pdfViewerBase.isInitialField?(this.saveInitialUploadString="",this.issaveImageInitial=!1):(this.saveSignatureUploadString="",this.issaveImageSignature=!1))},A.prototype.updateSignatureTypeValue=function(e){var t=document.querySelectorAll(".e-pv-font-sign");if(t)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)]&&"red"===t[parseInt(i.toString(),10)].style.borderColor){this.pdfViewerBase.isToolbarSignClicked?(e&&(this.signtypevalue=t[parseInt(i.toString(),10)].textContent),this.outputString=t[parseInt(i.toString(),10)].textContent):(e&&(this.signtypevalue=t[parseInt(i.toString(),10)].textContent),this.textValue=t[parseInt(i.toString(),10)].textContent);try{this.fontName=JSON.parse(t[parseInt(i.toString(),10)].style.fontFamily)}catch(e){this.fontName=t[parseInt(i.toString(),10)].style.fontFamily}}},A.prototype.hideSignaturePanel=function(){this.signatureDialog&&this.signatureDialog.hide()},A.prototype.bindTypeSignatureClickEvent=function(){if(G.isBlazor())for(var e=0;e<4;e++){var t=document.querySelector("#"+this.pdfViewer.element.id+"_font_signature"+e);t&&t.addEventListener("click",this.typeSignatureclicked.bind(this))}},A.prototype.bindDrawSignatureClickEvent=function(){var e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_");e&&(e.addEventListener("mousedown",this.signaturePanelMouseDown.bind(this)),e.addEventListener("mousemove",this.signaturePanelMouseMove.bind(this)),e.addEventListener("mouseup",this.signaturePanelMouseUp.bind(this)),e.addEventListener("mouseleave",this.signaturePanelMouseUp.bind(this)),e.addEventListener("touchstart",this.signaturePanelMouseDown.bind(this)),e.addEventListener("touchmove",this.signaturePanelMouseMove.bind(this)),e.addEventListener("touchend",this.signaturePanelMouseUp.bind(this)))},A.prototype.typeSignatureclicked=function(t){t=t.target;if(t){for(var e=0;e<4;e++){var i=document.querySelector("#"+this.pdfViewer.element.id+"_font_signature"+e);i&&(i.style.borderColor="")}t.style.borderColor="red",this.outputString=t.textContent;try{this.fontName=JSON.parse(t.style.fontFamily)}catch(e){this.fontName=t.style.fontFamily}this.enableCreateButton(!1)}},A.prototype.createSignatureCanvas=function(){var e,t,i,n,o=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"),r=document.getElementById(this.pdfViewer.element.id+"Signature_appearance"),a=(o&&o.remove(),r&&r.remove(),305),o=this.pdfViewer.element.clientHeight,r=(o<=500?a=250:500<o&&o<=750&&(a=275),G.createElement("div",{id:this.pdfViewer.element.id+"Signature_appearance",className:"e-pv-signature-apperance",styles:"margin-top:30px"})),o=G.createElement("canvas",{id:this.pdfViewer.element.id+"_signatureCanvas_",className:"e-pv-signature-canvas"}),s=(o.classList.add("e-pv-canvas-signature"),o.height=a,o.style.height=a+"px",o.style.border="1px dotted #bdbdbd",o.style.backgroundColor="white",o.style.boxSizing="border-box",o.style.borderRadius="2px",o.addEventListener("mousedown",this.signaturePanelMouseDown.bind(this)),o.addEventListener("mousemove",this.signaturePanelMouseMove.bind(this)),o.addEventListener("mouseup",this.signaturePanelMouseUp.bind(this)),o.addEventListener("mouseleave",this.signaturePanelMouseLeave.bind(this)),o.addEventListener("touchstart",this.signaturePanelMouseDown.bind(this)),o.addEventListener("touchmove",this.signaturePanelMouseMove.bind(this)),o.addEventListener("touchend",this.signaturePanelMouseUp.bind(this)),r.appendChild(o),o=(!this.pdfViewerBase.isToolbarSignClicked||this.pdfViewerBase.isInitialField)&&this.pdfViewerBase.isInitialField?this.pdfViewer.localeObj.getConstant("Save Initial"):this.pdfViewer.localeObj.getConstant("Save Signature"),this.pdfViewer.hideSaveSignature||((t=document.createElement("input")).type="checkbox",t.id="checkbox",r.appendChild(t),(e=new L.CheckBox({label:o,disabled:!1,checked:!1})).appendTo(t)),this.pdfViewerBase.isInitialField?this.isSaveInitial=this.saveSignatureCheckbox():this.isSaveSignature=this.saveSignatureCheckbox(),(this.isSaveSignature&&!this.pdfViewerBase.isInitialField||this.isSaveInitial&&this.pdfViewerBase.isInitialField)&&(e.checked=!0),G.createElement("div",{id:this.pdfViewer.element.id+"type_appearance",className:"e-pv-signature-apperance",styles:"margin-top:6px"})),l=document.createElement("input"),A=((!this.pdfViewerBase.isInitialField&&this.issaveTypeSignature&&!this.pdfViewerBase.isToolbarSignClicked||this.pdfViewerBase.isInitialField&&this.issaveTypeInitial&&!this.pdfViewerBase.isToolbarSignClicked)&&(l.value=this.drawSavedTypeSignature()),l.type="text",l.id=this.pdfViewer.element.id+"_e-pv-Signtext-box",s.appendChild(l),new T.TextBox({placeholder:this.pdfViewer.localeObj.getConstant("Enter Signature as Name"),floatLabelType:"Auto"})),l=(A.appendTo(l),G.createElement("div",{id:this.pdfViewer.element.id+"_font_appearance",className:"e-pv-font-appearance-style"})),l=(l.classList.add("e-pv-canvas-signature"),l.style.height=a-35+"px",l.style.border="1px dotted #bdbdbd",l.style.boxSizing="border-box",l.style.borderRadius="2px",l.style.backgroundColor="white",l.style.color="black",l.style.marginTop="8px",l.style.paddingRight="0px",s.appendChild(l),(t=document.createElement("input")).type="checkbox",t.id="checkbox1",s.appendChild(t),(e=new L.CheckBox({label:o,disabled:!1,checked:!1})).appendTo(t),(this.issaveTypeSignature&&!this.pdfViewerBase.isInitialField&&!this.pdfViewerBase.isToolbarSignClicked||this.issaveTypeInitial&&this.pdfViewerBase.isInitialField&&!this.pdfViewerBase.isToolbarSignClicked)&&(e.checked=!0),A.addEventListener("input",this.renderSignatureText.bind(this)),this.enableCreateButton(!0),G.createElement("div",{id:this.pdfViewer.element.id+"Signature_tab"})),A=G.createElement("div",{id:this.pdfViewer.element.id+"upload_appearance",className:"e-pv-signature-apperance",styles:"padding-top:30px"}),d=document.createElement("div"),p=(d.id=this.pdfViewer.element.id+"_e-pv-upload-button",A.appendChild(d),new L.Button({cssClass:"e-pv-sign-upload",content:this.pdfViewer.localeObj.getConstant("Browse Signature Image")})),h=(p.appendTo(d),p.element.style.position="absolute",G.createElement("canvas",{id:this.pdfViewer.element.id+"_signatureuploadCanvas_",className:"e-pv-signature-uploadcanvas"})),c=(750<this.pdfViewer.element.offsetWidth?h.width=714:h.width=this.pdfViewer.element.offsetWidth-35,h.classList.add("e-pv-canvas-signature"),h.height=a,h.style.height=a+"px",p.element.style.left=h.width/2-50+"px",p.element.style.top=parseFloat(h.style.height)/2+20+"px",h.style.border="1px dotted #bdbdbd",h.style.backgroundColor="transparent",h.style.boxSizing="border-box",h.style.borderRadius="2px",h.style.zIndex="0",""),g=(""===(c=!this.pdfViewerBase.isInitialField&&this.issaveImageSignature&&!this.pdfViewerBase.isToolbarSignClicked||this.pdfViewerBase.isInitialField&&this.issaveImageInitial&&!this.pdfViewerBase.isToolbarSignClicked?this.drawSavedImageSignature():c)||this.pdfViewerBase.isToolbarSignClicked||(this.clearUploadString=!1,i=h.getContext("2d"),(n=new Image).src=c,n.onload=function(){i.drawImage(n,0,0,h.width,h.height)},p.element.style.display="hidden"),A.appendChild(h),(t=document.createElement("input")).type="checkbox",t.id="checkbox2",A.appendChild(t),(e=new L.CheckBox({label:o,disabled:!1,checked:!1})).appendTo(t),(this.issaveImageSignature&&!this.pdfViewerBase.isInitialField&&!this.pdfViewerBase.isToolbarSignClicked||this.issaveImageInitial&&this.pdfViewerBase.isInitialField&&!this.pdfViewerBase.isToolbarSignClicked)&&(e.checked=!0),d.addEventListener("click",this.uploadSignatureImage.bind(this)),this.signfontStyle=[{FontName:"Helvetica"},{FontName:"Times New Roman"},{FontName:"Courier"},{FontName:"Symbol"}],[]);if(this.pdfViewerBase.isToolbarSignClicked&&!G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.typeSignatureFonts))for(var u=0;u<4;u++)G.isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.typeSignatureFonts[parseInt(u.toString(),10)])||(this.signfontStyle[parseInt(u.toString(),10)].FontName=this.pdfViewer.handWrittenSignatureSettings.typeSignatureFonts[parseInt(u.toString(),10)]);this.setCustomFonts();for(var f=0;f<this.signfontStyle.length;f++)g[parseInt(f.toString(),10)]=document.createElement("div"),g[parseInt(f.toString(),10)].id="_font_signature"+f,g[parseInt(f.toString(),10)].classList.add("e-pv-font-sign"),275===a?(g[parseInt(f.toString(),10)].style.fontSize="13px",g[parseInt(f.toString(),10)].style.paddingTop="30px",g[parseInt(f.toString(),10)].style.height="78px"):250===a&&(g[parseInt(f.toString(),10)].style.fontSize="12px",g[parseInt(f.toString(),10)].style.paddingTop="25px",g[parseInt(f.toString(),10)].style.height="68px");this.fontsign=g;var m=this,c=[],c=this.pdfViewerBase.isToolbarSignClicked?this.pdfViewerBase.isInitialField?this.showHideSignatureTab((this.pdfViewer.handWrittenSignatureSettings.initialDialogSettings||this.pdfViewer.initialDialogSettings)&&(this.pdfViewer.handWrittenSignatureSettings.initialDialogSettings?this.pdfViewer.handWrittenSignatureSettings:this.pdfViewer).initialDialogSettings.displayMode,r,s,A):this.showHideSignatureTab((this.pdfViewer.handWrittenSignatureSettings.signatureDialogSettings||this.pdfViewer.signatureDialogSettings)&&(this.pdfViewer.handWrittenSignatureSettings.signatureDialogSettings?this.pdfViewer.handWrittenSignatureSettings:this.pdfViewer).signatureDialogSettings.displayMode,r,s,A):this.pdfViewerBase.isInitialField?this.showHideSignatureTab(this.pdfViewer.initialFieldSettings.initialDialogSettings?this.pdfViewer.initialFieldSettings.initialDialogSettings.displayMode:7,r,s,A):this.showHideSignatureTab(this.pdfViewer.signatureFieldSettings.signatureDialogSettings?this.pdfViewer.signatureFieldSettings.signatureDialogSettings.displayMode:7,r,s,A);return this.tabObj=new w.Tab({selected:function(e){m.handleSelectEvent(e)},selecting:function(e){m.select(e)},items:c}),this.tabObj.appendTo(l),"DRAW"===c[0].header.label?this.signaturetype="Draw":"TYPE"===c[0].header.label?this.signaturetype="Type":this.signaturetype="Image",l},A.prototype.setCustomFonts=function(){if(!this.pdfViewerBase.isToolbarSignClicked&&!G.isNullOrUndefined(this.pdfViewer.signatureFieldSettings.typeSignatureFonts)&&!this.pdfViewerBase.isInitialField)for(var e=0;e<4;e++)G.isNullOrUndefined(this.pdfViewer.signatureFieldSettings.typeSignatureFonts[parseInt(e.toString(),10)])||(this.signfontStyle[parseInt(e.toString(),10)].FontName=this.pdfViewer.signatureFieldSettings.typeSignatureFonts[parseInt(e.toString(),10)]);if(!this.pdfViewerBase.isToolbarSignClicked&&!G.isNullOrUndefined(this.pdfViewer.initialFieldSettings.typeInitialFonts)&&this.pdfViewerBase.isInitialField)for(e=0;e<4;e++)G.isNullOrUndefined(this.pdfViewer.initialFieldSettings.typeInitialFonts[parseInt(e.toString(),10)])||(this.signfontStyle[parseInt(e.toString(),10)].FontName=this.pdfViewer.initialFieldSettings.typeInitialFonts[parseInt(e.toString(),10)])},A.prototype.handleSelectEvent=function(e){var t,i,n="",o=document.getElementById(this.pdfViewer.element.id+"Signature_tab").ej2_instances[0];if(o&&0<o.items.length)for(var r=0;r<o.items.length;r++)o.items[parseInt(r.toString(),10)].header.text===e.selectedItem.textContent&&(n=o.items[parseInt(r.toString(),10)].header.label);this.clearSignatureCanvas(e),"draw"===n.toLocaleLowerCase()?(this.signaturetype="Draw",this.enableCreateSignatureButton(),t=document.getElementById("checkbox"),this.hideSignatureCheckbox(t)):"type"===n.toLocaleLowerCase()?((i=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"))&&(this.drawSignatureDataUrl=i.toDataURL()),this.updateSignatureTypeValue(),this.signaturetype="Type",this.enableCreateSignatureButton(),t=document.getElementById("checkbox1"),this.hideSignatureCheckbox(t),t=document.getElementById(this.pdfViewer.element.id+"_e-pv-Signtext-box"),(!this.pdfViewerBase.isInitialField&&""!==this.saveSignatureTypeString&&""!==t.value&&!this.pdfViewerBase.isToolbarSignClicked||this.pdfViewerBase.isInitialField&&""!==this.saveInitialTypeString&&""!==t.value&&!this.pdfViewerBase.isToolbarSignClicked)&&this.renderSignatureText()):"upload"===n.toLocaleLowerCase()&&((i=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"))&&(this.drawSignatureDataUrl=i.toDataURL()),this.signaturetype="Image",this.enableCreateSignatureButton(),t=document.getElementById("checkbox2"),this.hideSignatureCheckbox(t),i=document.getElementById(this.pdfViewer.element.id+"_e-pv-upload-button"),""===this.saveSignatureUploadString||this.pdfViewerBase.isInitialField||this.clearUploadString||this.pdfViewerBase.isToolbarSignClicked||(this.enableCreateButton(!1),i.style.visibility="hidden",this.outputString=this.saveSignatureUploadString),""===this.saveInitialUploadString||!this.pdfViewerBase.isInitialField||this.clearUploadString||this.pdfViewerBase.isToolbarSignClicked||(this.enableCreateButton(!1),i.style.visibility="hidden",this.outputString=this.saveInitialUploadString)),this.pdfViewer.element.offsetWidth<750&&this.updateCanvasSize(),this.drawSignOnTabSwitch(),"upload"===n.toLocaleLowerCase()&&this.imageSignatureDataUrl&&this.imageSignOnTabSwitch()},A.prototype.enableCreateSignatureButton=function(){this.pdfViewerBase.isToolbarSignClicked||"Type"!==this.signaturetype?""!==this.outputString?this.enableCreateButton(!1):this.enableCreateButton(!0):""!==this.textValue?this.enableCreateButton(!1):this.enableCreateButton(!0)},A.prototype.showHideSignatureTab=function(e,t,i,n){var o=[];return e&v.DisplayMode.Draw&&o.push({header:{text:this.pdfViewer.localeObj.getConstant("Draw-hand Signature"),label:"DRAW"},content:t}),e&v.DisplayMode.Text&&o.push({header:{text:this.pdfViewer.localeObj.getConstant("Type Signature"),label:"TYPE"},content:i}),e&v.DisplayMode.Upload&&o.push({header:{text:this.pdfViewer.localeObj.getConstant("Upload Signature"),label:"UPLOAD"},content:n}),o},A.prototype.createSignatureFileElement=function(){var e=G.createElement("input",{id:this.pdfViewer.element.id+"_signElement",attrs:{type:"file"}});e.setAttribute("accept",".jpg,.jpeg,.png"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.visibility="hidden",document.body.appendChild(e),e.addEventListener("change",this.addStampImage)},A.prototype.uploadSignatureImage=function(){var e=document.getElementById(this.pdfViewer.element.id+"_signElement");G.isNullOrUndefined(e)&&(this.createSignatureFileElement(),e=document.getElementById(this.pdfViewer.element.id+"_signElement")),e&&e.click()},A.prototype.renderSignatureText=function(){for(var e,t=document.getElementById(this.pdfViewer.element.id+"_font_appearance"),i=document.getElementById(this.pdfViewer.element.id+"_e-pv-Signtext-box"),n=0;n<this.signfontStyle.length;n++)this.fontsign[parseInt(n.toString(),10)].innerHTML=i.value,this.fontsign[parseInt(n.toString(),10)].style.fontFamily=this.signfontStyle[parseInt(n.toString(),10)].FontName,(""!==this.fontName&&this.signfontStyle[parseInt(n.toString(),10)].FontName===this.fontName||G.isNullOrUndefined(this.fontName)&&!G.isNullOrUndefined(this.signfontStyle[parseInt(n.toString(),10)].FontName)&&0===n)&&(this.fontsign[parseInt(n.toString(),10)].classList.add("e-pv-selected-fontdiv"),this.fontsign[parseInt(n.toString(),10)].style.borderColor="red"),t.appendChild(this.fontsign[parseInt(n.toString(),10)]);for(n=0;n<this.signfontStyle.length;n++)document.getElementById("_font_signature"+n).addEventListener("click",this.typeSignatureclick.bind(this));e=""===i.value.trim(),this.enableCreateButton(e),this.enableClearbutton(e),this.pdfViewer.element.offsetWidth<750&&this.updateCanvasSize(),this.drawSignOnTabSwitch()},A.prototype.typeSignatureclick=function(){var t=event.target;if(""!==t.textContent.trim()){document.getElementsByClassName("e-pv-createbtn")[0].disabled=!1;for(var e=0;e<4;e++){var i=document.getElementById("_font_signature"+e);i&&(i.style.borderColor="",i.classList.remove("e-pv-selected-fontdiv"))}t.classList.add("e-pv-selected-fontdiv"),t.style.borderColor="red",this.outputString=t.textContent;try{this.fontName=JSON.parse(t.style.fontFamily)}catch(e){this.fontName=t.style.fontFamily}}},A.prototype.addSignatureCollection=function(e,t){var i=-1,n=-1,o=-1,r=-1,a=J.processPathData(this.outputString),s=document.createElement("canvas"),l=s.getContext("2d"),A=this.pdfViewerBase.currentSignatureAnnot.shapeAnnotationType;if("HandWrittenSignature"===A){if(0!==a.length){for(var d=0;d<a.length;d++){var p=a[parseInt(d.toString(),10)];-1===i?(i=p.x,o=p.x,n=p.y,r=p.y):((B=p.x)<=i&&(i=B),(C=p.y)<=n&&(n=C),o<=B&&(o=B),r<=C&&(r=C))}var h=o-i,c=r-n,g=h/100,u=c/100,f=0,m=0;e?(s.width=t.currentWidth,s.height=t.currentHeight,g=h/e.width,u=c/e.height,f=e.x-t.currentLeft,m=e.y-t.currentTop):(s.width=100,s.height=100),l.beginPath();for(var w=0;w<a.length;w++){var B=((p=a[parseInt(w.toString(),10)]).x-i)/g+f,C=(p.y-n)/u+m;"M"===p.command?l.moveTo(B,C):"L"===p.command&&l.lineTo(B,C)}l.stroke(),l.closePath(),h=s.toDataURL()}}else h=this.outputString;e?this.saveImageString=h:((c={})["sign_"+this.pdfViewerBase.imageCount]=this.outputString,this.outputcollection.push(c),(t={}).height=this.pdfViewerBase.currentSignatureAnnot.bounds.height,t.width=this.pdfViewerBase.currentSignatureAnnot.bounds.width,(s=[]).push({id:"sign_"+this.pdfViewerBase.imageCount,imageData:h,signatureType:A,fontFamily:this.pdfViewerBase.currentSignatureAnnot.fontFamily,bounds:t}),this.signaturecollection.push({image:s,isInitial:this.pdfViewerBase.isInitialField}),this.pdfViewerBase.imageCount++)},A.prototype.getSaveLimit=function(e){return e>this.maxSaveLimit?e=this.maxSaveLimit:e<1&&(e=1),e},A.prototype.RenderSavedSignature=function(){this.pdfViewerBase.signatureCount++;var e=this.pdfViewerBase.getZoomFactor();if(this.pdfViewerBase.isAddedSignClicked){for(var t=this.pdfViewer.annotation.createGUID(),i=(this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.isSignatureAdded=!0,this.pdfViewerBase.currentPageNumber-1),n=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+i),o=this.pdfViewer.handWrittenSignatureSettings.width||100,r=this.pdfViewer.handWrittenSignatureSettings.height||100,a=this.pdfViewer.handWrittenSignatureSettings.thickness||1,s=this.pdfViewer.handWrittenSignatureSettings.opacity||1,l=this.pdfViewer.handWrittenSignatureSettings.strokeColor||"#000000",A=(parseFloat(n.style.width)/2-o/2)/e,n=(parseFloat(n.style.height)/2-r/2)/e,d="",p=void 0,h=void 0,c=void 0,g=0;g<this.outputcollection.length;g++){var u=this.outputcollection[parseInt(g.toString(),10)];if((m=event.target)&&m.id==="sign_"+g||m&&m.id==="sign_border"+g){d=u["sign_"+g];break}}for(var f=0;f<this.signaturecollection.length;f++){var m=event.target,w=this.signaturecollection[parseInt(f.toString(),10)].image[0].id.split("_")[1];if(m&&m.id==="sign_"+w||m&&m.id==="sign_border"+w){p=this.signaturecollection[parseInt(f.toString(),10)].image[0].signatureType,h=this.signaturecollection[parseInt(f.toString(),10)].image[0].fontFamily,c=this.signaturecollection[parseInt(f.toString(),10)].image[0].bounds;break}}r="HandWrittenSignature"!==p||(e=this.updateSignatureAspectRatio(d,!0),c.width!==e.width&&c.height!==e.height)?(o=c.width,c.height):(o=e.width||o,e.height||r),e={id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:A,y:n,width:o,height:r},pageIndex:i,data:d,shapeAnnotationType:p,opacity:s,fontFamily:h,strokeColor:l,thickness:a,signatureName:t},this.pdfViewerBase.currentSignatureAnnot=e,this.pdfViewerBase.isAddedSignClicked=!1}else this.pdfViewer.formFieldsModule.drawSignature()},A.prototype.updateCanvasSize=function(){var e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"),e=(this.setTabItemWidth(e),document.getElementById(this.pdfViewer.element.id+"_signatureuploadCanvas_")),e=(this.setTabItemWidth(e),document.getElementById(this.pdfViewer.element.id+"_font_appearance"));this.setTabItemWidth(e)},A.prototype.setTabItemWidth=function(e){var t,i,n=2,o=document.querySelector(".e-dlg-content"),r=(o&&(o=getComputedStyle(o),n=n+parseInt(o.paddingLeft,10)+parseInt(o.paddingRight,10)),e&&this.signatureDialog&&this.signatureDialog.visible&&("DIV"!==e.tagName&&(t=e.getContext("2d"),o=e.toDataURL(),(i=new Image).src=o,i.onload=function(){t.drawImage(i,0,0,e.width,e.height)}),750<this.pdfViewer.element.parentElement.clientWidth?(e.width=714,e.style.width="714px"):(e.width=this.pdfViewer.element.parentElement.clientWidth-n,e.style.width=e.width+"px")),document.getElementsByClassName("e-pv-font-sign"));if(e&&r&&0<r.length)for(var a=0;a<r.length;a++)r[parseInt(a.toString(),10)].style.width=e.width/2-50+"px"},A.prototype.drawSignOnTabSwitch=function(){var t=this,i=new Image;i.onload=function(){var e=document.getElementById(t.pdfViewer.element.id+"_signatureCanvas_");e&&e.getContext("2d").drawImage(i,0,0)},i.src=this.drawSignatureDataUrl},A.prototype.imageSignOnTabSwitch=function(){var i=this,n=new Image;n.onload=function(){var e,t=document.getElementById(i.pdfViewer.element.id+"_signatureuploadCanvas_");t&&(e=t.getContext("2d"),document.getElementById(i.pdfViewer.element.id+"_e-pv-upload-button").style.visibility="hidden",e.drawImage(n,0,0,t.width,t.height),i.enableCreateButton(!1),i.signatureImageHeight=n.naturalHeight,i.signatureImageWidth=n.naturalWidth)},n.src=this.imageSignatureDataUrl},A.prototype.signaturePanelMouseDown=function(e){"contextmenu"!==e.type&&(e.preventDefault(),this.findMousePosition(e),this.mouseDetection=!0,this.oldX=this.mouseX,this.oldY=this.mouseY,this.newObject=[],this.drawMousePosition(e),this.mouseMoving=!0)},A.prototype.enableCreateButton=function(e){var t=document.getElementsByClassName("e-pv-createbtn")[0];t&&(t.disabled=e),this.enableClearbutton(e)},A.prototype.enableClearbutton=function(e){var t=document.getElementsByClassName("e-pv-clearbtn")[0];t&&(t.disabled=e)},A.prototype.signaturePanelMouseMove=function(e){this.mouseDetection&&"Draw"===this.signaturetype&&(this.findMousePosition(e),this.enableCreateButton(!1),this.drawMousePosition(e))},A.prototype.findMousePosition=function(e){var t;-1!==e.type.indexOf("touch")?(t=e.target.getBoundingClientRect(),this.mouseX=e.changedTouches[0].clientX-t.left,this.mouseY=e.changedTouches[0].clientY-t.top):(this.mouseX=e.offsetX,this.mouseY=e.offsetY)},A.prototype.drawMousePosition=function(e){this.mouseDetection&&(this.drawSignatureInCanvas(),this.oldX=this.mouseX,this.oldY=this.mouseY)},A.prototype.drawSignatureInCanvas=function(){var e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_").getContext("2d");e.beginPath(),e.moveTo(this.oldX,this.oldY),e.lineTo(this.mouseX,this.mouseY),e.stroke(),e.lineWidth=2,e.arc(this.oldX,this.oldY,1,0,2*Math.PI,!0),e.closePath(),this.newObject.push(this.mouseX,this.mouseY)},A.prototype.signaturePanelMouseUp=function(){this.mouseDetection&&this.convertToPath(this.newObject),this.mouseDetection=!1,"touchend"===event.type&&(this.canvasTouched=!0)},A.prototype.signaturePanelMouseLeave=function(){this.mouseDetection&&this.convertToPath(this.newObject),this.mouseDetection=!1,this.mouseMoving=!1},A.prototype.convertToPath=function(e){this.movePath(e[0],e[1]),this.linePath(e[0],e[1]);for(var t=2;t<e.length;t+=2)this.linePath(e[parseInt(t.toString(),10)],e[t+1])},A.prototype.linePath=function(e,t){this.outputString+="L"+e+","+t+" "},A.prototype.movePath=function(e,t){this.outputString+="M"+e+","+t+" "},A.prototype.clearSignatureCanvas=function(e){var t,i=!0,n=[],n=(!e||G.isNullOrUndefined(e.previousIndex)||G.isNullOrUndefined(e.selectedIndex)?(this.outputString="",this.newObject=[]):(i=!1,0===e.previousIndex?(this.drawOutputString=this.outputString,n=this.newObject):2===e.previousIndex&&(this.imageOutputString=this.outputString),this.outputString="",this.newObject=[],0===e.selectedIndex?(this.outputString=this.drawOutputString,this.newObject=n):2===e.selectedIndex&&(this.outputString=this.imageOutputString)),!1),o=!1,r=!1,e=(e&&e.currentTarget&&e.currentTarget.classList.contains("e-pv-clearbtn")&&(i=!1,"Draw"===this.signaturetype?(n=!0,t=document.getElementById("checkbox"),a=document.getElementById("checkbox"),t&&a.nextElementSibling&&(a.nextElementSibling.classList.remove("e-check"),t.checked=!1)):"Type"===this.signaturetype?(o=!0,t=document.getElementById("checkbox1"),a=document.getElementById("checkbox1"),t&&a.nextElementSibling&&(a.nextElementSibling.classList.remove("e-check"),t.checked=!1,this.textValue="")):(this.clearUploadString=r=!0,t=document.getElementById("checkbox2"),a=document.getElementById("checkbox2"),t&&a.nextElementSibling&&(a.nextElementSibling.classList.remove("e-check"),t.checked=!1))),document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_")),a=((e&&i||n)&&e.getContext("2d").clearRect(0,0,e.width,e.height),document.getElementById(this.pdfViewer.element.id+"_signatureuploadCanvas_")),n=((a&&i||r)&&(a.getContext("2d").clearRect(0,0,a.width,a.height),t=document.getElementById(this.pdfViewer.element.id+"_e-pv-upload-button"))&&(t.style.visibility=""),document.getElementById(this.pdfViewer.element.id+"_font_appearance")),e=document.getElementById(this.pdfViewer.element.id+"_e-pv-Signtext-box");(n&&e&&i||o)&&(e.value="",G.isBlazor()||(n.innerHTML="")),this.enableCreateButton(!0)},A.prototype.closeSignaturePanel=function(){this.pdfViewerBase.currentTarget&&(this.pdfViewerBase.drawSignatureWithTool=!0),this.clearSignatureCanvas(),G.isBlazor()||this.signatureDialog.hide(),this.pdfViewerBase.isToolbarSignClicked=!1,this.pdfViewerBase.drawSignatureWithTool=!1,this.drawOutputString="",this.imageOutputString=""},A.prototype.saveSignature=function(){for(var e=null,e=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sign"]:F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sign"),t=[],i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s=0;a.annotations.length>s;s++){this.pdfViewer.isSignatureEditable&&(l=this.pdfViewer.handWrittenSignatureSettings,c=this.pdfViewer.annotationSettings,l="Guest"!==l.author?l.author:c.author||"Guest",a.annotations[parseInt(s.toString(),10)].author=l);var l,A,d,p,h,c=a.annotations[parseInt(s.toString(),10)].strokeColor?a.annotations[parseInt(s.toString(),10)].strokeColor:"black";a.annotations[parseInt(s.toString(),10)].strokeColor=JSON.stringify(this.getRgbCode(c)),a.annotations[parseInt(s.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getBounds(a.annotations[parseInt(s.toString(),10)].bounds,a.pageIndex)),"HandWrittenSignature"===a.annotations[parseInt(s.toString(),10)].shapeAnnotationType||"ink"===a.annotations[parseInt(s.toString(),10)].signatureName?(l=J.processPathData(a.annotations[parseInt(s.toString(),10)].data),A=J.splitArrayCollection(l),a.annotations[parseInt(s.toString(),10)].data=JSON.stringify(A)):"SignatureText"!==a.annotations[parseInt(s.toString(),10)].shapeAnnotationType||this.checkDefaultFont(a.annotations[parseInt(s.toString(),10)].fontFamily)?a.annotations[parseInt(s.toString(),10)].data=JSON.stringify(a.annotations[parseInt(s.toString(),10)].data):(A=G.createElement("canvas"),d=JSON.parse(a.annotations[parseInt(s.toString(),10)].bounds),A.width=d&&d.width||150,A.height=d&&d.height||2*a.annotations[parseInt(s.toString(),10)].fontSize,d=A.getContext("2d"),p=A.width/2,h=A.height/2+a.annotations[parseInt(s.toString(),10)].fontSize/2-10,d.textAlign="center",d.font=a.annotations[parseInt(s.toString(),10)].fontSize+"px "+a.annotations[parseInt(s.toString(),10)].fontFamily,d.fillText(a.annotations[parseInt(s.toString(),10)].data,p,h),a.annotations[parseInt(s.toString(),10)].data=JSON.stringify(A.toDataURL("image/png")),a.annotations[parseInt(s.toString(),10)].shapeAnnotationType="SignatureImage")}r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},A.prototype.checkDefaultFont=function(e){return"Helvetica"===e||"Times New Roman"===e||"Courier"===e||"Symbol"===e},A.prototype.getRgbCode=function(e){var t=(e=e.match(/#([a-z0-9]+)/gi)||e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)?e:this.pdfViewer.annotationModule.nameToHash(e)).split(",");return G.isNullOrUndefined(t[1])&&(t=(e=this.pdfViewer.annotationModule.getValue(e,"rgba")).split(",")),{r:parseInt(t[0].split("(")[1],10),g:parseInt(t[1],10),b:parseInt(t[2],10),a:parseInt(t[3],10)}},A.prototype.renderSignature=function(e,t){var i,n="",o=this.pdfViewerBase.currentSignatureAnnot,r=o.signatureName;""!==r&&!G.isNullOrUndefined(r)||(r=this.pdfViewer.annotation.createGUID()),o&&("HandWrittenSignature"===this.pdfViewerBase.currentSignatureAnnot.shapeAnnotationType&&(i={id:o.id,bounds:{x:e,y:t,width:o.bounds.width,height:o.bounds.height},pageIndex:o.pageIndex,data:o.data,shapeAnnotationType:"HandWrittenSignature",opacity:o.opacity,fontFamily:o.fontFamily,fontSize:o.fontSize,strokeColor:o.strokeColor,thickness:o.thickness,signatureName:r}),"SignatureText"===this.pdfViewerBase.currentSignatureAnnot.shapeAnnotationType?i={id:o.id,bounds:{x:e,y:t,width:o.bounds.width,height:o.bounds.height},pageIndex:o.pageIndex,data:o.data,shapeAnnotationType:"SignatureText",opacity:o.opacity,fontFamily:o.fontFamily,fontSize:o.fontSize,strokeColor:o.strokeColor,thickness:o.thickness,signatureName:r}:"SignatureImage"===this.pdfViewerBase.currentSignatureAnnot.shapeAnnotationType&&(i={id:o.id,bounds:{x:e,y:t,width:o.bounds.width,height:o.bounds.height},pageIndex:o.pageIndex,data:o.data,shapeAnnotationType:"SignatureImage",opacity:o.opacity,fontFamily:o.fontFamily,fontSize:o.fontSize,strokeColor:o.strokeColor,thickness:o.thickness,signatureName:r}),e=this.pdfViewer.add(i),t=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",o.pageIndex),this.pdfViewer.renderDrawing(t,o.pageIndex),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.select([e.id]),this.pdfViewerBase.signatureAdded=!0,this.storeSignatureData(o.pageIndex,i),n="Draw"===this.signaturetype?this.saveImageString:o.data,this.pdfViewer.fireSignatureAdd(o.pageIndex,r,o.shapeAnnotationType,o.bounds,o.opacity,o.strokeColor,o.thickness,n),this.pdfViewer.annotation&&this.pdfViewer.annotation.onAnnotationMouseDown(),this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.signatureCount++)},A.prototype.renderExistingSignature=function(e,t,i){var n=!1;if(!i)for(var o=0;o<this.signAnnotationIndex.length;o++)if(this.signAnnotationIndex[parseInt(o.toString(),10)]===t){n=!0;break}if(e&&!n){0<e.length&&-1===this.signAnnotationIndex.indexOf(t)&&this.signAnnotationIndex.push(t);for(var r=0;r<e.length;r++){var a,s,l,A,d=e[parseInt(r.toString(),10)],p=(d&&(a=d.PathData,i&&(a=d.IsSignature?d.PathData:"SignatureImage"===d.AnnotationType||"SignatureText"===d.AnnotationType?JSON.parse(JSON.stringify(d.PathData)):a.includes("command")?J.getPathString(JSON.parse(d.PathData)):d.PathData),this.outputString=a,p=this.pdfViewer.annotationModule.inkAnnotationModule.calculateInkSize(this.outputString),this.outputString="",h=0,A=1,l=d.Bounds,!p||"Ink"!==d.AnnotationType&&"signature"!==d.AnnotationType&&"Signature"!==d.AnnotationType||(p.height<1?(h=l.Height||l.height,A=l.Height||l.height):p.width<1&&(h=l.Width||l.width,A=l.Width||l.width)),p=G.isNullOrUndefined(l.X)?l.x+h/2:l.X+h/2,h=G.isNullOrUndefined(l.Y)?l.y+h/2:l.Y+h/2,s=l.Width?l.Width-(A-1):l.width-(A-1),l=l.Height?l.Height-(A-1):l.height-(A-1),A="SignatureText"===d.AnnotationType?{id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:p,y:h,width:s,height:l},pageIndex:t,data:a,fontFamily:d.FontFamily,fontSize:d.FontSize,shapeAnnotationType:"SignatureText",opacity:d.Opacity,strokeColor:d.StrokeColor,thickness:d.Thickness,signatureName:d.SignatureName}:"SignatureImage"===d.AnnotationType?{id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:p,y:h,width:s,height:l},pageIndex:t,data:a,shapeAnnotationType:"SignatureImage",opacity:d.Opacity,strokeColor:d.StrokeColor,thickness:d.Thickness,signatureName:d.SignatureName}:{id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:p,y:h,width:s,height:l},pageIndex:t,data:a,shapeAnnotationType:"HandWrittenSignature",opacity:d.Opacity,strokeColor:d.StrokeColor,thickness:d.Thickness,signatureName:d.SignatureName||"ink"}),this.pdfViewer.add(A),this.isAddAnnotationProgramatically&&this.pdfViewer.fireSignatureAdd(A.pageIndex,A.signatureName,A.shapeAnnotationType,A.bounds,A.opacity,A.strokeColor,A.thickness,A.data),d.pageIndex||d.PageNumber),h=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",p);this.pdfViewer.renderDrawing(h,A.pageIndex),this.storeSignatureData(A.pageIndex,A),this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.signatureCount++}}},A.prototype.storeSignatureData=function(e,t){this.pdfViewer.annotation.addAction(G.isNullOrUndefined(t.pageIndex)?t.PageIndex:t.pageIndex,null,t,"Addition","",t,t);var i,n,o,r,a=null,s=this.pdfViewerBase.getZoomFactor(),l=t.bounds?(i=t.bounds.left||t.bounds.x,n=t.bounds.top||t.bounds.y,o=t.bounds.width,r=t.bounds.height,t.pageIndex):(i=t.Bounds.left||t.Bounds.x,n=t.Bounds.top||t.Bounds.y,o=t.LineBounds.Width,r=t.LineBounds.Height,t.PageIndex),a=(t.wrapper&&t.wrapper.bounds&&(i=t.wrapper.bounds.left,n=t.wrapper.bounds.top),"SignatureText"===t.shapeAnnotationType&&t.wrapper&&t.wrapper.children&&1<t.wrapper.children.length&&t.wrapper.children[1]&&(i=i+t.wrapper.pivot.x+(this.signatureTextContentLeft-this.signatureTextContentTop*(s-s/this.signatureTextContentLeft)),n=n+(t.wrapper.children[1].bounds.y-n-(t.wrapper.children[1].bounds.y-n)/3)+t.wrapper.pivot.y+this.signatureTextContentTop*s),{id:t.id||null,bounds:{left:i,top:n,width:o,height:r},shapeAnnotationType:t.shapeAnnotationType||"ink",opacity:t.opacity||1,thickness:t.thickness||1,strokeColor:t.strokeColor||null,pageIndex:l,data:t.data||t.Value,fontSize:t.fontSize||null,fontFamily:t.fontFamily||null,signatureName:t.signatureName||t.Name}),s=(4500<F.sessionStorageManager.getWindowSessionStorageSize()+Math.round(JSON.stringify(a).length/1024)&&(this.pdfViewerBase.isStorageExceed=!0,this.pdfViewer.annotationModule.clearAnnotationStorage(),this.pdfViewerBase.isFormStorageExceed||this.pdfViewer.formFieldsModule.clearFormFieldStorage()),F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sign"));t=s?(this.storeSignatureCollections(a,e),i=JSON.parse(s),F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_sign"),n=this.pdfViewer.annotationModule.getPageCollection(i,e),!G.isNullOrUndefined(n)&&i[parseInt(n.toString(),10)]?(i[parseInt(n.toString(),10)].annotations.push(a),i[parseInt(n.toString(),10)].annotations.indexOf(a)):((o={pageIndex:e,annotations:[]}).annotations.push(a),o.annotations.indexOf(a),i.push(o)),JSON.stringify(i)):(this.storeSignatureCollections(a,e),(r={pageIndex:e,annotations:[]}).annotations.push(a),r.annotations.indexOf(a),(l=[]).push(r),JSON.stringify(l)),this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sign"]=t:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_sign",t)},A.prototype.modifySignatureCollection=function(e,t,i,n){this.pdfViewerBase.updateDocumentEditedProperty(!0);var o=null,r=this.getAnnotations(t,null),a=this.pdfViewerBase.getZoomFactor();if(null!=r&&i){for(var s=0;s<r.length;s++)if(i.id===r[parseInt(s.toString(),10)].id){if("bounds"===e){var l,A;"SignatureText"===i.shapeAnnotationType&&i.wrapper&&i.wrapper.children[1]?(l=i.wrapper.children[0].bounds.y,A=i.wrapper.children[0].bounds.x+i.wrapper.pivot.x+(this.signatureTextContentLeft-this.signatureTextContentTop*(a-a/this.signatureTextContentLeft)),l=l+(i.wrapper.children[1].bounds.y-l-(i.wrapper.children[1].bounds.y-l)/3)+i.wrapper.pivot.y+this.signatureTextContentTop*a,r[parseInt(s.toString(),10)].bounds={left:A,top:l,width:i.bounds.width,height:i.bounds.height}):r[parseInt(s.toString(),10)].bounds={left:i.wrapper.bounds.left,top:i.wrapper.bounds.top,width:i.bounds.width,height:i.bounds.height},r[parseInt(s.toString(),10)].fontSize=i.fontSize}else if("stroke"===e)r[parseInt(s.toString(),10)].strokeColor=i.wrapper.children[0].style.strokeColor;else if("opacity"===e)r[parseInt(s.toString(),10)].opacity=i.wrapper.children[0].style.opacity;else if("thickness"===e)r[parseInt(s.toString(),10)].thickness=i.wrapper.children[0].style.strokeWidth;else if("delete"===e){this.updateSignatureCollection(r[parseInt(s.toString(),10)]),o=r.splice(s,1)[0];break}if(e&&"delete"!==e&&this.storeSignatureCollections(r[parseInt(s.toString(),10)],t),n){r[parseInt(s.toString(),10)].opacity=i.wrapper.children[0].style.opacity,r[parseInt(s.toString(),10)].strokeColor=i.wrapper.children[0].style.strokeColor,r[parseInt(s.toString(),10)].thickness=i.wrapper.children[0].style.strokeWidth,this.storeSignatureCollections(r[parseInt(s.toString(),10)],t);break}}this.manageAnnotations(r,t)}return o},A.prototype.storeSignatureCollections=function(e,t){var i=this.checkSignatureCollection(e),n=M(e);n.annotationId=e.signatureName,n.pageNumber=t,delete n.annotName,e.id&&(n.uniqueKey=e.id,delete n.id),i.isExisting?this.pdfViewer.signatureCollection.splice(i.position,0,n):this.pdfViewer.signatureCollection.push(n)},A.prototype.checkSignatureCollection=function(e){var t=this.pdfViewer.signatureCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].annotationId===e.signatureName)return this.pdfViewer.signatureCollection.splice(i,1),{isExisting:!0,position:i};return{isExisting:!1,position:null}},A.prototype.updateSignatureCollection=function(e){var t=this.pdfViewer.signatureCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].annotationId===e.signatureName){this.pdfViewer.signatureCollection.splice(i,1);break}},A.prototype.addInCollection=function(e,t){var i;t&&(this.storeSignatureCollections(t,e),(i=this.getAnnotations(e,null))&&i.push(t),this.manageAnnotations(i,e))},A.prototype.getAnnotations=function(e,t){var i=null;return(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sign"]:F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sign"))&&(i=JSON.parse(i),e=this.pdfViewer.annotationModule.getPageCollection(i,e),!G.isNullOrUndefined(e))&&i[parseInt(e.toString(),10)]?i[parseInt(e.toString(),10)].annotations:t},A.prototype.manageAnnotations=function(e,t){var i=null;(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sign"]:F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sign"))&&(i=JSON.parse(i),F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_sign"),null!=(t=this.pdfViewer.annotationModule.getPageCollection(i,t))&&i[parseInt(t.toString(),10)]&&(i[parseInt(t.toString(),10)].annotations=e),t=JSON.stringify(i),this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sign"]=t:F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_sign",t))},A.prototype.showSignatureDialog=function(e){e&&this.createSignaturePanel()},A.prototype.setAnnotationMode=function(){this.pdfViewerBase.isToolbarSignClicked=!0,this.pdfViewerBase.isInitialField=!1,this.showSignatureDialog(!0)},A.prototype.setInitialMode=function(){this.pdfViewerBase.isToolbarSignClicked=!0,this.pdfViewerBase.isInitialField=!0,this.showSignatureDialog(!0)},A.prototype.ConvertPointToPixel=function(e){return e*(96/72)},A.prototype.updateSignatureCollections=function(e,t,i){var n,o,r,a,s;if(e)return n=(a=e.Bounds).X,o=a.Y,r=a.Width,a=a.Height,s=e.PathData,i&&(s=J.getPathString(JSON.parse(e.PathData))),{id:"sign"+e.SignatureName,bounds:{x:n,y:o,width:r,height:a},pageIndex:t,data:s,shapeAnnotationType:"HandWrittenSignature",opacity:e.Opacity,strokeColor:e.StrokeColor,thickness:e.Thickness,signatureName:e.SignatureName}},A.prototype.destroy=function(){F.sessionStorageManager.removeItem("_annotations_sign");var e=document.getElementById(this.pdfViewer.element.id+"_signElement");e&&(e.removeEventListener("change",this.addStampImage),e.parentElement)&&e.parentElement.removeChild(e),this.signatureDialog&&this.signatureDialog.destroy()},A.prototype.updateSignatureDetails=function(e,t,i){t=e?e.offset||{x:10,y:10}:(e={offset:{x:10,y:10},pageNumber:0,width:void 0,height:void 0}).offset;var n,o,r,a=this.pdfViewer.annotation.createGUID(),s=this.pdfViewer.annotation.updateSettings(this.pdfViewer.handWrittenSignatureSettings),l=this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings,A=(this.pdfViewerBase.updateSelectorSettings(l),e.width=e.width||this.pdfViewer.handWrittenSignatureSettings.width||150,e.height=e.height||this.pdfViewer.handWrittenSignatureSettings.height||100,e.thickness=e.thickness||this.pdfViewer.handWrittenSignatureSettings.thickness||1,e.opacity=e.opacity||this.pdfViewer.handWrittenSignatureSettings.opacity||1,e.strokeColor=e.strokeColor||this.pdfViewer.handWrittenSignatureSettings.strokeColor||"#000000",e.path=e.path||this.pdfViewer.handWrittenSignatureSettings.path||"",e.canSave=e.canSave||!1,e.signatureItem=e.signatureItem||["Signature"],e.fontFamily=e.fontFamily||"Helvetica","Initial"===e.signatureItem[0]?(n=e.initialDialogSettings.displayMode||1,A=e.saveInitialLimit||this.pdfViewer.handWrittenSignatureSettings.saveInitialLimit,this.pdfViewer.handWrittenSignatureSettings.saveInitialLimit=this.pdfViewer.handWrittenSignatureSettings.saveInitialLimit<A?A:this.pdfViewer.handWrittenSignatureSettings.saveInitialLimit):(n=e.signatureDialogSettings.displayMode||1,A=e.saveSignatureLimit||this.pdfViewer.handWrittenSignatureSettings.saveSignatureLimit,this.pdfViewer.handWrittenSignatureSettings.saveSignatureLimit=this.pdfViewer.handWrittenSignatureSettings.saveSignatureLimit<A?A:this.pdfViewer.handWrittenSignatureSettings.saveSignatureLimit),[]),d=(1===n&&(o="signature",r=e.path||"",G.isNullOrUndefined(r)||(r="M"===r[0]||"L"===r[0]?(d=J.processPathData(r),d=J.splitArrayCollection(d),JSON.stringify(d)):J.getPathString(JSON.parse(r))),e.path=r),2===n&&(e.height=65,o="SignatureText"),{SignatureName:a,AnnotationSettings:s,AnnotationType:o=4===n?"SignatureImage":o,AnnotationSelectorSettings:e.annotationSelectorSettings||l,Opacity:e.opacity,PathData:e.path,PageNumber:i,FontFamily:e.fontFamily,FontSize:32,StrokeColor:e.strokeColor,Thickness:e.thickness,Bounds:{x:t.x,y:t.y,width:e.width,height:e.height}});return A[0]=d,e.canSave&&(r={x:t.x,y:t.y,width:e.width,height:e.height},this.pdfViewerBase.currentSignatureAnnot=null,this.outputString=e.path,s=void(this.pdfViewerBase.isInitialField="Initial"===e.signatureItem[0]),1===n?s={id:"sign"+this.pdfViewerBase.signatureCount,bounds:r,pageIndex:e.pageNumber,data:this.outputString,shapeAnnotationType:"HandWrittenSignature",opacity:e.opacity,strokeColor:e.strokeColor,thickness:e.thickness,signatureName:a}:2===n?s={id:"sign"+this.pdfViewerBase.signatureCount,bounds:r,pageIndex:e.pageNumber,data:this.outputString,fontFamily:e.fontFamily,fontSize:32,shapeAnnotationType:"SignatureText",signatureName:a}:4===n&&(s={id:"sign"+this.pdfViewerBase.signatureCount,bounds:r,pageIndex:e.pageNumber,data:this.outputString,shapeAnnotationType:"SignatureImage",signatureName:a}),this.pdfViewerBase.currentSignatureAnnot=s,this.addSignatureCollection(),this.outputString=""),{signatureAnnotation:A}};var Sn=A;function A(e,t){var r=this;this.mouseMoving=!0,this.canvasTouched=!1,this.imageSignatureDataUrl="",this.drawSignatureDataUrl="",this.newObject=[],this.outputString="",this.drawOutputString="",this.imageOutputString="",this.signaturecollection=[],this.outputcollection=[],this.signAnnotationIndex=[],this.fontsign=[],this.signfontStyle=[],this.isSaveSignature=!1,this.isSaveInitial=!1,this.isInitialFiledSaveSignature=!1,this.isSignatureFieldsSaveSignature=!1,this.issaveTypeSignature=!1,this.issaveImageSignature=!1,this.issaveTypeInitial=!1,this.issaveImageInitial=!1,this.saveSignatureTypeString="",this.saveInitialTypeString="",this.saveTypeString="",this.signatureTypeString="",this.initialTypeString="",this.saveUploadString="",this.saveSignatureUploadString="",this.saveInitialUploadString="",this.signatureUploadString="",this.initialUploadString="",this.clearUploadString=!1,this.textValue="",this.signatureDrawString="",this.initialDrawString="",this.signatureTextContentTop=.2,this.signatureTextContentLeft=.7,this.saveSignatureString="",this.saveInitialString="",this.saveImageString="",this.signatureFieldCollection=[],this.signatureImageString="",this.initialImageString="",this.maxSaveLimit=5,this.select=function(e){this.canvasTouched&&(this.mouseMoving=!0,this.canvasTouched=!1),e.isSwiped&&"Draw"===this.signaturetype&&this.mouseMoving&&(e.cancel=!0,this.mouseMoving=!1)},this.addStampImage=function(e){var t,i=e.target.files;null!==e.target.files[0]&&"image"===(i=i[0]).type.split("/")[0]&&((t=new FileReader).onload=function(e){var t=document.getElementById(r.pdfViewer.element.id+"_signatureuploadCanvas_"),i=t.getContext("2d"),n=new Image,o=r;n.onload=function(){document.getElementById(r.pdfViewer.element.id+"_e-pv-upload-button").style.visibility="hidden",i.drawImage(n,0,0,t.width,t.height),o.enableCreateButton(!1),o.outputString=n.src,o.signatureImageHeight=n.naturalHeight,o.signatureImageWidth=n.naturalWidth},n.src=e.currentTarget.result,o.outputString=e.currentTarget.result,o.switchTabImageSignature=e.currentTarget.result},t.readAsDataURL(i)),e.target.value="",e.currentTarget.value=""},this.pdfViewer=e,this.pdfViewerBase=t}d.prototype.zoomTo=function(e){var t,i=400,n=10,o=this.pdfViewer.minZoom,r=this.pdfViewer.maxZoom;null!=o&&null!=r&&r<o&&(t=r,r=o,o=t),null!=o||null!=r?(null!=o&&void 0!==o&&(n=o),null!=r&&void 0!==r&&(i=r)):(i=400,n=10),e<n?e=n:i<e&&(e=i),this.fitType=null,this.isNotPredefinedZoom=!1,this.isAutoZoom&&this.isInitialLoading?this.pdfViewerBase.onWindowResize():(this.isAutoZoom=!1,this.onZoomChanged(e)),this.isInitialLoading=!1},d.prototype.zoomIn=function(){var e,t;(this.fitType||this.isNotPredefinedZoom)&&(G.isNullOrUndefined(this.lowerZoomLevel)||(this.zoomLevel=this.lowerZoomLevel),this.fitType=null),this.isNotPredefinedZoom=!1,null!=this.pdfViewer.minZoom||null!=this.pdfViewer.maxZoom?((e=this.pdfViewerBase.customZoomValues.length)<=(t=this.zoomLevel)?t=e:t++,this.zoomLevel=t):8<=this.zoomLevel?this.zoomLevel=8:this.zoomLevel++,this.isAutoZoom=!1,null!=this.pdfViewer.minZoom||null!=this.pdfViewer.maxZoom?this.onZoomChanged(this.pdfViewerBase.customZoomValues[this.zoomLevel]):this.onZoomChanged(this.zoomPercentages[this.zoomLevel])},d.prototype.zoomOut=function(){(this.fitType||this.isNotPredefinedZoom)&&(G.isNullOrUndefined(this.higherZoomLevel)||(this.zoomLevel=this.higherZoomLevel),this.fitType=null),this.isNotPredefinedZoom=!1,this.zoomLevel<=0?this.zoomLevel=0:this.zoomLevel--,this.isAutoZoom=!1,null!=this.pdfViewer.minZoom||null!=this.pdfViewer.maxZoom?this.onZoomChanged(this.pdfViewerBase.customZoomValues[this.zoomLevel]):this.onZoomChanged(this.zoomPercentages[this.zoomLevel])},d.prototype.fitToWidth=function(){this.isAutoZoom=!1;var e=this.calculateFitZoomFactor("fitToWidth");this.onZoomChanged(e)},d.prototype.fitToAuto=function(){this.isAutoZoom=!0;var e=this.calculateFitZoomFactor("fitToWidth");this.onZoomChanged(e)},d.prototype.fitToPage=function(){var e=this.calculateFitZoomFactor("fitToPage");null!==e&&(this.isAutoZoom=!1,this.onZoomChanged(e),!G.Browser.isDevice||this.pdfViewer.enableDesktopMode||this.pdfViewerBase.isWebkitMobile?this.pdfViewerBase.viewerContainer.style.overflowY="auto":this.pdfViewerBase.viewerContainer.style.overflowY="hidden",this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber-1])&&(this.pdfViewerBase.viewerContainer.scrollTop=this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber-1].top*this.zoomFactor)},d.prototype.calculateFitZoomFactor=function(e){var t,i=this.pdfViewerBase.viewerContainer.getBoundingClientRect().width,n=this.pdfViewerBase.viewerContainer.getBoundingClientRect().height;return 0===i&&0===n&&(i=parseFloat(this.pdfViewer.width.toString()),n=parseFloat(this.pdfViewer.height.toString())),isNaN(n)||isNaN(i)?null:(this.fitType=e,"fitToWidth"===this.fitType?(t=(i-this.scrollWidth)/this.pdfViewerBase.highestWidth,this.isAutoZoom&&(this.fitType=null,1===(t=Math.min(1,t)))&&(this.zoomLevel=2),parseInt((100*t).toString(),10)):(this.isFitToPageMode=!0,e=0,(t=(i-this.scrollWidth-10)/this.pdfViewerBase.highestWidth)<(e=!this.pdfViewerBase.pageSize||1!==this.pdfViewerBase.pageSize.length||G.isNullOrUndefined(this.pdfViewerBase.pageSize[0].top)||this.isPinchZoomed?n/this.pdfViewerBase.highestHeight:(n-this.pdfViewerBase.pageSize[0].top)/this.pdfViewerBase.highestHeight)&&(e=t,this.isFitToPageMode=!1),parseInt((100*e).toString(),10)))},d.prototype.initiateMouseZoom=function(e,t,i){e=this.positionInViewer(e,t);this.mouseCenterX=e.x,this.mouseCenterY=e.y,this.zoomTo(i)},d.prototype.pinchIn=function(){this.fitType=null;var e=this.zoomFactor-this.pinchStep;(e=e<4&&2<e?this.zoomFactor-this.pinchStep:e)<=1.5&&(e=this.zoomFactor-this.pinchStep/1.5),null!=this.pdfViewer.minZoom&&e<this.pdfViewer.minZoom/100?e=this.pdfViewer.minZoom/100:e<.25&&(e=.25),this.isPinchZoomed=!0,this.onZoomChanged(100*e),this.isTapToFitZoom=!0,G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&100*this.zoomFactor==50&&(e=this.calculateFitZoomFactor("fitToWidth"),this.fitType=null,e<=50)&&this.fitToWidth()},d.prototype.pinchOut=function(){this.fitType=null;var e=this.zoomFactor+this.pinchStep;G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||2<e&&(e-=this.pinchStep),null!=this.pdfViewer.maxZoom&&e>this.pdfViewer.maxZoom/100?e=this.pdfViewer.maxZoom/100:4<e&&(e=4),this.isTapToFitZoom=!0,this.isPinchZoomed=!0,this.onZoomChanged(100*e)},d.prototype.getZoomLevel=function(e){if(null!=this.pdfViewer.minZoom||null!=this.pdfViewer.maxZoom)for(var t=0,i=this.pdfViewerBase.customZoomValues,n=i.length-1;t<=n;){var o=Math.floor((t+n)/2);if(i[parseInt(o.toString(),10)]===e)return o;i[parseInt(o.toString(),10)]<e?t=o+1:n=o-1}else for(t=0,n=this.zoomPercentages.length-1;t<=n&&(0!==t||0!==n);){o=Math.round((t+n)/2);this.zoomPercentages[parseInt(o.toString(),10)]<=e?t=o+1:this.zoomPercentages[parseInt(o.toString(),10)]>=e&&(n=o-1)}return this.higherZoomLevel=t,this.lowerZoomLevel=n},d.prototype.checkZoomFactor=function(){return-1<this.zoomPercentages.indexOf(100*this.zoomFactor)},d.prototype.onZoomChanged=function(e){this.isInitialCustomZoomValues&&this.pdfViewerBase.getCustomZoomValues(),e&&(this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.closePopupMenu(),this.previousZoomFactor=this.zoomFactor,this.zoomLevel=this.getZoomLevel(e),this.zoomFactor=this.getZoomFactor(e),this.zoomFactor<=.25?this.pdfViewerBase.isMinimumZoom=!0:this.pdfViewerBase.isMinimumZoom=!1,G.isNullOrUndefined(this.pdfViewerBase.viewerContainer)||(!G.Browser.isDevice||this.pdfViewer.enableDesktopMode||this.pdfViewerBase.isWebkitMobile?this.pdfViewerBase.viewerContainer.style.overflowY="auto":this.pdfViewerBase.viewerContainer.style.overflowY="hidden"),0<this.pdfViewerBase.pageCount&&(this.previousZoomFactor===this.zoomFactor&&!this.pdfViewerBase.isInitialPageMode||(this.isPinchZoomed?(G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.pdfViewerBase.mobilePageNoContainer.style.left=this.pdfViewer.element.clientWidth/2-parseFloat(this.pdfViewerBase.mobilePageNoContainer.style.width)/2+"px"),this.responsivePages()):this.magnifyPages()),G.isBlazor()||this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.updateZoomButtons(),this.isInitialLoading||this.previousZoomFactor!==this.zoomFactor&&(this.pdfViewer.zoomValue=parseInt((100*this.zoomFactor).toString(),10),this.pdfViewer.fireZoomChange())),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.updateZoomPercentage(this.zoomFactor),this.isInitialLoading||this.previousZoomFactor!==this.zoomFactor&&(this.pdfViewer.zoomValue=parseInt((100*this.zoomFactor).toString(),10),this.pdfViewer.fireZoomChange()),G.Browser.isDevice)&&!this.pdfViewer.enableDesktopMode&&this.isPinchZoomed&&(e=parseInt((100*this.zoomFactor).toString(),10)+"%",this.pdfViewerBase.navigationPane.createTooltipMobile(e))},d.prototype.setTouchPoints=function(e,t){e=this.positionInViewer(e,t);this.touchCenterX=e.x,this.touchCenterY=e.y},d.prototype.initiatePinchMove=function(e,t,i,n){this.isPinchScrolled=!1,this.isMagnified=!1,this.reRenderPageNumber=this.pdfViewerBase.currentPageNumber;var o=this.positionInViewer((e+i)/2,(t+n)/2);this.touchCenterX=o.x,this.touchCenterY=o.y,this.zoomOverPages(e,t,i,n)},d.prototype.magnifyPages=function(){var e=this,t=(this.clearRerenderTimer(),document.querySelectorAll(".e-pv-page-div")),i=t[0].id.split("_pageDiv_")[1],n=t[t.length-1].id.split("_pageDiv_")[1];if(this.previousZoomFactor!==this.zoomFactor||this.pdfViewerBase.isInitialPageMode)for(var o=i;o<=n;o++)this.pdfViewerBase.showPageLoadingIndicator(o,!1);for(o=i;o<=n;o++)this.pdfViewerBase.showPageLoadingIndicator(o,!0);this.isWaitingPopupUpdated=!0,this.isPagesZoomed||(this.reRenderPageNumber=this.pdfViewerBase.currentPageNumber),this.pdfViewerBase.documentLoaded||this.pdfViewerBase.isInitialPageMode||(this.isPagesZoomed=!0);var r,t=this.pdfViewerBase.viewerContainer.scrollTop,i=(this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.maintainSelectionOnZoom(!1,!0),!this.pdfViewer.formDesignerModule||this.pdfViewerBase.documentLoaded||this.pdfViewerBase.isDocumentLoaded||(this.isFormFieldPageZoomed=!0),this.isInitialLoading||(this.isMagnified=!0),this.updatePageLocation(),this.resizeCanvas(this.reRenderPageNumber),this.calculateScrollValuesOnMouse(t),this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.resizeTouchElements(),this.pdfViewer.annotationModule);i&&i.textMarkupAnnotationModule&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.updateCurrentResizerPosition(),0<this.pdfViewerBase.pageSize.length&&(this.pdfViewerBase.pageContainer.style.height=this.topValue+this.pdfViewerBase.getPageHeight(this.pdfViewerBase.pageSize.length-1)+"px",(r=this).pdfViewerBase.renderedPagesList=[],this.pdfViewerBase.pinchZoomStorage=[],this.pdfViewerBase.documentLoaded||(this.magnifyPageRerenderTimer=setTimeout(function(){r.rerenderMagnifiedPages(),e.pdfViewerBase.showPageLoadingIndicator(e.pdfViewerBase.currentPageNumber-1,!1)},800)))},d.prototype.updatePageLocation=function(){this.topValue=0;for(var e=1;e<this.pdfViewerBase.pageSize.length;e++)this.topValue+=(this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height+this.pdfViewerBase.pageGap)*this.zoomFactor;for(var t=10<this.pdfViewer.initialRenderPages?this.pdfViewer.initialRenderPages<=this.pdfViewerBase.pageCount?this.pdfViewer.initialRenderPages:this.pdfViewerBase.pageCount:this.pdfViewerBase.pageCount<10?this.pdfViewerBase.pageCount:10,e=0;e<t;e++)this.updatePageContainer(e,this.pdfViewerBase.getPageWidth(e),this.pdfViewerBase.getPageHeight(e),this.pdfViewerBase.getPageTop(e),!0)},d.prototype.updatePageContainer=function(e,t,i,n,o){var r,a=this.pdfViewerBase.getElement("_pageDiv_"+e);a&&(a.style.width=t+"px",a.style.height=i+"px",(r=this.pdfViewerBase.getElement("_textLayer_"+e))&&(r.style.width=t+"px",r.style.height=i+"px"),a.style.width=t+"px",a.style.height=i+"px",this.pdfViewer.enableRtl?a.style.right=this.pdfViewerBase.updateLeftPosition(e)+"px":a.style.left=this.pdfViewerBase.updateLeftPosition(e)+"px",a.style.top=n+"px",this.pdfViewerBase.pageContainer.style.width=this.pdfViewerBase.viewerContainer.clientWidth+"px",this.pdfViewerBase.renderPageCanvas(a,t,i,e,"block"))},d.prototype.clearRerenderTimer=function(){clearTimeout(this.rerenderOnScrollTimer),clearTimeout(this.magnifyPageRerenderTimer),this.clearIntervalTimer(),this.isPinchScrolled=!1},d.prototype.clearIntervalTimer=function(){clearInterval(this.rerenderInterval),this.rerenderInterval=null,this.clearRendering();for(var e=document.querySelectorAll('canvas[id*="'+this.pdfViewer.element.id+'_oldCanvas_"]'),t=0;t<e.length;t++){var i=parseInt(e[parseInt(t.toString(),10)].id.split("_oldCanvas_")[1],10),n=this.pdfViewerBase.getElement("_pageCanvas_"+i);n?(e[parseInt(t.toString(),10)].id=n.id,n.parentElement.removeChild(n)):e[parseInt(t.toString(),10)].id=this.pdfViewer.element.id+"_pageCanvas_"+i,this.pdfViewerBase.isTextMarkupAnnotationModule()&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotationsPinch(t)}this.isRerenderCanvasCreated=!1},d.prototype.pushImageObjects=function(e){G.isNullOrUndefined(this.imageObjects)||this.imageObjects&&this.imageObjects.push(e)},d.prototype.clearRendering=function(){if(this.imageObjects){for(var e=0;e<this.imageObjects.length;e++)this.imageObjects[parseInt(e.toString(),10)]&&(this.imageObjects[parseInt(e.toString(),10)].onload=null,this.imageObjects[parseInt(e.toString(),10)].onerror=null);this.imageObjects=[]}},d.prototype.rerenderMagnifiedPages=function(){!this.pdfViewerBase.isInitialLoaded&&!this.pdfViewerBase.isDocumentLoaded||this.pdfViewerBase.isInitialPageMode?this.pdfViewerBase.isInitialPageMode&&(this.pageRerenderCount=0,this.pdfViewerBase.renderedPagesList=[],this.pdfViewerBase.pinchZoomStorage=[],this.isMagnified=!1,this.pdfViewerBase.pageViewScrollChanged(this.reRenderPageNumber),this.pdfViewerBase.isInitialPageMode=!1):(this.renderInSeparateThread(this.reRenderPageNumber),this.isPagesZoomed=!1)},d.prototype.renderInSeparateThread=function(e){var t=this,i=(this.designNewCanvas(e),this.pageRerenderCount=0,this.pdfViewerBase.renderedPagesList=[],this.pdfViewerBase.pinchZoomStorage=[],this.isMagnified=!1,this.pdfViewerBase.pageViewScrollChanged(this.pdfViewerBase.currentPageNumber),this);this.rerenderInterval=setInterval(function(){t.initiateRerender(i)},1)},d.prototype.responsivePages=function(){this.isPagesZoomed=!0,this.clearRerenderTimer(),this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.clearTextSelection(),this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.clearAllOccurrences();var e,t=this.pdfViewerBase.viewerContainer.scrollTop;this.isAutoZoom=!1,this.updatePageLocation(),this.pdfViewerBase.pageContainer.style.height=this.topValue+this.pdfViewerBase.pageSize[this.pdfViewerBase.pageSize.length-1].height*this.zoomFactor+"px",this.resizeCanvas(this.pdfViewerBase.currentPageNumber),this.pdfViewerBase.textLayer&&this.pdfViewer.formDesignerModule&&this.pdfViewerBase.textLayer.clearTextLayers(!0),this.isPinchZoomed&&this.calculateScrollValues(t),this.pdfViewerBase.renderedPagesList=[],this.pdfViewerBase.pinchZoomStorage=[],!this.pdfViewer.formFieldsModule||this.pdfViewer.formDesignerModule||(e=this).pdfViewerBase.documentLoaded||(this.magnifyPageRerenderTimer=setTimeout(function(){e.rerenderMagnifiedPages()},800))},d.prototype.calculateScrollValues=function(e){var t,i,n,o=this.pdfViewerBase.currentPageNumber-1,o=this.pdfViewerBase.getElement("_pageDiv_"+o);o&&(n=void 0,o=o.getBoundingClientRect(),t=(n=this.pdfViewer.enableRtl&&!this.isDoubleTapZoom?this.positionInViewer(o.right,o.top):this.positionInViewer(o.left,o.top)).x,i=(n=n.y)*this.previousZoomFactor,e=e+this.touchCenterY,n=n*this.zoomFactor+(e-i<0?e-i:(e-i)*(this.zoomFactor/this.previousZoomFactor)),e=0<this.zoomFactor-this.previousZoomFactor?-this.pdfViewerBase.pageGap*(this.zoomFactor/this.previousZoomFactor):this.pdfViewerBase.pageGap*(this.previousZoomFactor/this.zoomFactor),this.pdfViewerBase.viewerContainer.scrollTop=n-this.touchCenterY+e/this.pdfViewerBase.zoomInterval,i=o.width*this.previousZoomFactor/o.width,n=this.zoomFactor/i-1,e=this.touchCenterX-t,this.pdfViewerBase.isMixedSizeDocument&&this.pdfViewerBase.highestWidth*this.pdfViewerBase.getZoomFactor()>this.pdfViewerBase.viewerContainer.clientWidth?this.pdfViewerBase.viewerContainer.scrollLeft=(this.pdfViewerBase.pageContainer.offsetWidth-this.pdfViewerBase.viewerContainer.clientWidth)/2:this.pdfViewerBase.viewerContainer.scrollLeft+=e*n)},d.prototype.calculateScrollValuesOnMouse=function(e){var t,i,n,o=this.pdfViewerBase.currentPageNumber-1,o=this.pdfViewerBase.getElement("_pageDiv_"+o);o&&(n=void 0,o=o.getBoundingClientRect(),t=(n=this.pdfViewer.enableRtl?this.positionInViewer(o.right,o.top):this.positionInViewer(o.left,o.top)).x,i=(n=n.y)*this.previousZoomFactor,e=e+this.mouseCenterY,n=n*this.zoomFactor+(e-i)*(this.zoomFactor/this.previousZoomFactor),e=this.pdfViewerBase.pageGap*(this.zoomFactor/this.previousZoomFactor),this.pdfViewerBase.isTouchPad&&!this.pdfViewerBase.isMacSafari&&(e/=this.pdfViewerBase.zoomInterval),this.pdfViewerBase.viewerContainer.scrollTop=n-this.mouseCenterY+(e=0==n?0:e),i=o.width*this.previousZoomFactor/o.width,n=this.zoomFactor/i-1,e=this.mouseCenterX-t,!(this.pdfViewerBase.isMixedSizeDocument&&this.pdfViewerBase.highestWidth*this.pdfViewerBase.getZoomFactor()>this.pdfViewerBase.viewerContainer.clientWidth)&&(o=document.getElementById(this.pdfViewerBase.pageContainer.id))&&o.children&&o.children[0].clientWidth>this.pdfViewer.viewerBase.viewerContainer.clientWidth?this.pdfViewerBase.viewerContainer.scrollLeft+=e*n:this.pdfViewerBase.viewerContainer.scrollLeft=(this.pdfViewerBase.pageContainer.offsetWidth-this.pdfViewerBase.viewerContainer.clientWidth)/2)},d.prototype.rerenderOnScroll=function(){var e=this;if(this.isPinchZoomed=!1,this.isPinchScrolled){this.rerenderOnScrollTimer=null,this.isPinchScrolled=!1,this.reRenderPageNumber=this.pdfViewerBase.currentPageNumber,this.pdfViewerBase.renderedPagesList=[],this.pdfViewerBase.pinchZoomStorage=[];for(var t=document.querySelectorAll('img[id*="'+this.pdfViewer.element.id+'_pageCanvas_"]'),i=0;i<t.length;i++){var n=parseInt(t[parseInt(i.toString(),10)].id.split("_pageCanvas_")[1],10),o=this.pdfViewerBase.pageSize[parseInt(n.toString(),10)].width;816<o&&this.pdfViewer.tileRenderingSettings.enableTileRendering&&(this.pdfViewer.restrictZoomRequest,t[parseInt(i.toString(),10)].style.width=o*this.pdfViewerBase.getZoomFactor()+"px",t[parseInt(i.toString(),10)].style.height=this.pdfViewerBase.pageSize[parseInt(n.toString(),10)].height*this.pdfViewerBase.getZoomFactor()+"px")}if(this.pdfViewerBase.textLayer)for(var r=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+'_textLayer_"]'),i=0;i<r.length;i++)r[parseInt(i.toString(),10)].style.display="none";if(this.pdfViewerBase.isTextMarkupAnnotationModule())for(var a=document.querySelectorAll('canvas[id*="'+this.pdfViewer.element.id+'_annotationCanvas_"]'),s=0;s<a.length;s++){n=a[parseInt(s.toString(),10)].id.split("_annotationCanvas_")[1];this.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotationsPinch(parseInt(n,10))}if(G.Browser.isDevice)if(this.pdfViewer.formDesignerModule)for(var l=this.pdfViewer.currentPageNumber,A=this.pdfViewer.formFieldCollection.filter(function(e){return e.pageNumber===l}),i=0;i<A.length;i++)document.querySelectorAll("[id^="+A[parseInt(i.toString(),10)].id+"]").forEach(function(e){return e.style.display="none"});else document.querySelectorAll('[id^="pdfViewerinput_"]').forEach(function(e){return e.parentElement.style.display="none"});if(this.pdfViewerBase.pageViewScrollChanged(this.reRenderPageNumber),this.isPagePinchZoomed=!1,this.rerenderOnScrollTimer=setTimeout(function(){e.pdfViewerBase.pageViewScrollChanged(e.reRenderPageNumber)},300),this.pdfViewerBase.textLayer)for(r=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+'_textLayer_"]'),i=0;i<r.length;i++)r[parseInt(i.toString(),10)].style.display="block"}},d.prototype.pinchMoveScroll=function(){var e=this;this.isRerenderCanvasCreated&&this.clearIntervalTimer(),(this.isPagesZoomed||!this.isRerenderCanvasCreated&&this.isPagePinchZoomed)&&(this.clearRendering(),this.isPagesZoomed=!1,clearTimeout(this.magnifyPageRerenderTimer),this.isPinchScrolled=!0,this.isFormFieldPageZoomed=!0,this.rerenderOnScrollTimer=setTimeout(function(){e.rerenderOnScroll()},100))},d.prototype.initiateRerender=function(e){var t=!1;(this.previousZoomFactor<.4||this.pdfViewerBase.isMinimumZoom)&&(t=!0),e.pageRerenderCount!==e.pdfViewerBase.reRenderedCount&&!t||0===e.pageRerenderCount||0===e.pdfViewerBase.reRenderedCount||(e.reRenderAfterPinch(this.reRenderPageNumber),e.isFormFieldPageZoomed=!1)},d.prototype.reRenderAfterPinch=function(e){this.pageRerenderCount=0;var t=e-3,i=e+1;this.pdfViewerBase.isMinimumZoom&&(t=e-4,i=e+4);for(var t=0<t?t:0,i=i<this.pdfViewerBase.pageCount?i:this.pdfViewerBase.pageCount-1,n=t;n<=i;n++){var o=this.pdfViewerBase.getElement("_pageDiv_"+n),r=this.pdfViewerBase.getElement("_oldCanvas_"+n);r&&(r.onload=null,r.onerror=null,r.parentNode.removeChild(r)),this.pdfViewerBase.isTextMarkupAnnotationModule()?this.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotations(n):this.pdfViewer.formDesignerModule&&(this.rerenderAnnotations(n),this.pdfViewer.renderDrawing(void 0,e)),o&&(o.style.visibility="visible")}this.isRerenderCanvasCreated=!1,this.isPagePinchZoomed=!1,0!==this.pdfViewerBase.reRenderedCount&&(this.pdfViewerBase.reRenderedCount=0,this.pageRerenderCount=0,clearInterval(this.rerenderInterval),this.rerenderInterval=null),this.imageObjects=[]},d.prototype.rerenderAnnotations=function(t){for(var i=this,e=document.querySelectorAll("#"+this.pdfViewer.element.id+"_old_annotationCanvas_"+t),n=0;n<e.length;n++)e[parseInt(n.toString(),10)]&&e[parseInt(n.toString(),10)].parentElement.removeChild(e[parseInt(n.toString(),10)]);["_annotationCanvas_","_blendAnnotationsIntoCanvas_"].forEach(function(e){i.pdfViewerBase.getElement(""+e+t).style.setProperty("display","block")})},d.prototype.designNewCanvas=function(e){this.pdfViewerBase.textLayer&&this.pdfViewerBase.textLayer.clearTextLayers();var t=e-3,i=e+1;this.pdfViewerBase.isMinimumZoom&&(t=e-4,i=e+4);for(var n,o,r,t=0<t?t:0,i=i<this.pdfViewerBase.pageCount?i:this.pdfViewerBase.pageCount-1,a=t;a<=i;a++)this.pdfViewerBase.pageSize[parseInt(a.toString(),10)]&&(n=this.pdfViewerBase.getElement("_pageCanvas_"+a),o=this.pdfViewerBase.pageSize[parseInt(a.toString(),10)].width*this.zoomFactor,r=this.pdfViewerBase.pageSize[parseInt(a.toString(),10)].height*this.zoomFactor,(!n||this.pdfViewer.restrictZoomRequest)&&this.pdfViewer.restrictZoomRequest||this.pdfViewerBase.renderPageCanvas(this.pdfViewerBase.getElement("_pageDiv_"+a),o,r,a,"none"));this.isRerenderCanvasCreated=!0},d.prototype.pageRerenderOnMouseWheel=function(){var e=this;this.isRerenderCanvasCreated&&(this.clearIntervalTimer(),clearTimeout(this.magnifyPageRerenderTimer),this.isPinchScrolled||(this.isPinchScrolled=!0,this.rerenderOnScrollTimer=setTimeout(function(){e.rerenderOnScroll()},100)))},d.prototype.renderCountIncrement=function(){this.isRerenderCanvasCreated&&this.pageRerenderCount++},d.prototype.rerenderCountIncrement=function(){0<this.pageRerenderCount&&this.pdfViewerBase.reRenderedCount++},d.prototype.resizeCanvas=function(e){var t,i=this.pdfViewer.annotationModule,n=(i&&i.inkAnnotationModule&&""!==i.inkAnnotationModule.outputString&&(i.inkAnnotationModule.inkPathDataCollection.push({pathData:i.inkAnnotationModule.outputString,zoomFactor:i.inkAnnotationModule.inkAnnotationInitialZoom}),i.inkAnnotationModule.outputString=""),i&&i.freeTextAnnotationModule&&(t={x:i.freeTextAnnotationModule.currentPosition[0],y:i.freeTextAnnotationModule.currentPosition[1],width:i.freeTextAnnotationModule.currentPosition[2],height:i.freeTextAnnotationModule.currentPosition[3]},i.freeTextAnnotationModule.addInputInZoom(t)),e-3),o=e+3;this.pdfViewerBase.isMinimumZoom&&(n=e-4,o=e+4);for(var o=this.pdfViewer.initialRenderPages>this.pdfViewerBase.pageRenderCount?(n=0,o<this.pdfViewer.initialRenderPages?this.pdfViewer.initialRenderPages<=this.pdfViewerBase.pageCount?this.pdfViewer.initialRenderPages:this.pdfViewerBase.pageCount:o<this.pdfViewerBase.pageCount?o:this.pdfViewerBase.pageCount-1):(n=0<n?n:0,o<this.pdfViewerBase.pageCount?o:this.pdfViewerBase.pageCount-1),r=n;r<=o;r++){var a=this.pdfViewerBase.getElement("_pageDiv_"+r);document.getElementById(this.pdfViewer.element.id+"_textLayer_"+r);if(a&&n<=r&&r<=o)if(this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.isSelectionAvailableOnScroll(r),null!=this.pdfViewerBase.pageSize[parseInt(r.toString(),10)]){var s=this.pdfViewerBase.pageSize[parseInt(r.toString(),10)].width*this.zoomFactor,l=this.pdfViewerBase.pageSize[parseInt(r.toString(),10)].height*this.zoomFactor,A=(a.style.width=s+"px",a.style.height=l+"px",a.style.top=this.pdfViewerBase.pageSize[parseInt(r.toString(),10)].top*this.zoomFactor+"px",this.pdfViewer.enableRtl?a.style.right=this.pdfViewerBase.updateLeftPosition(r)+"px":a.style.left=this.pdfViewerBase.updateLeftPosition(r)+"px",this.pdfViewerBase.getElement("_pageCanvas_"+r)),d=(A&&(A.style.width=s+"px",A.style.height=l+"px",this.pdfViewer.annotation?this.pdfViewer.annotationModule.resizeAnnotations(s,l,r):this.pdfViewer.formDesignerModule&&this.pdfViewer.formDesignerModule.resizeAnnotations(s,l,r)),this.pdfViewerBase.retrieveCurrentZoomFactor()),p=void 0,h=void 0,p=h=this.pdfViewerBase.getTileCount(this.pdfViewerBase.pageSize[parseInt(r.toString(),10)].width,this.pdfViewerBase.pageSize[parseInt(r.toString(),10)].height),c=this.pdfViewer.tileRenderingSettings;if(c.enableTileRendering&&0<c.x&&0<c.y&&(1200<this.pdfViewerBase.pageSize[parseInt(r.toString(),10)].width||2<this.pdfViewerBase.getZoomFactor())&&(p=c.x,h=c.y),1==p*h){c=void 0;if(c=this.pdfViewerBase.clientSideRendering?this.pdfViewerBase.getWindowSessionStorage(r,d)?this.pdfViewerBase.getWindowSessionStorage(r,d):this.pdfViewerBase.getPinchZoomPage(r):this.pdfViewerBase.getLinkInformation(r)?this.pdfViewerBase.getLinkInformation(r):this.pdfViewerBase.getWindowSessionStorage(r,d)){if(D=(c=this.pdfViewerBase.clientSideRendering&&"object"==typeof c?c:JSON.parse(c)).image){A.src=D,A.style.display="block";for(var g=document.querySelectorAll('img[id*="'+this.pdfViewer.element.id+"_tileimg_"+r+'_"]'),u=this.pdfViewerBase.getElement("_pageDiv_"+r),f=0;f<g.length;f++){var m=g[parseInt(f.toString(),10)].id.split("_");parseFloat(m[m.length-3])!==this.pdfViewerBase.getZoomFactor()&&(g[parseInt(f.toString(),10)].onload=null,g[parseInt(f.toString(),10)].onerror=null,u.removeChild(g[parseInt(f.toString(),10)]))}for(var w=document.querySelectorAll('img[id*="'+this.pdfViewer.element.id+'_oldCanvas"]'),B=0;B<w.length;B++)w[parseInt(B.toString(),10)].onload=null,w[parseInt(B.toString(),10)].onerror=null,a.removeChild(w[parseInt(B.toString(),10)])}this.pdfViewerBase.isReRenderRequired=!1}else this.pdfViewerBase.isReRenderRequired=!0}else{for(var g=document.querySelectorAll('img[id*="'+this.pdfViewer.element.id+"_tileimg_"+r+'_"]'),C=0;C<g.length;C++){var S,y,I,E,Q,D,m=g[parseInt(C.toString(),10)].id.split("_"),x=parseFloat(m[m.length-2]),V=parseFloat(m[m.length-1]),b=this.pdfViewerBase.clientSideRendering?JSON.parse(this.pdfViewerBase.getStoredTileImageDetails(r,x,V,d)):JSON.parse(this.pdfViewerBase.getWindowSessionStorageTile(r,x,V,d));b&&b.zoomFactor&&(d=b.zoomFactor),parseFloat(m[m.length-4])===r&&(A.style.display="none",(S=g[parseInt(C.toString(),10)]).nodeType===Node.ELEMENT_NODE)&&(y=1.5,G.isNullOrUndefined(b)||(y=G.isNullOrUndefined(b.scaleFactor)?1.5:b.scaleFactor),E=this.pdfViewerBase.pageSize[parseInt(r.toString(),10)].width*d*y/p,Q=this.pdfViewerBase.pageSize[parseInt(r.toString(),10)].height*d*y/h,I=E,E=parseFloat(m[m.length-2])*E,Q=parseFloat(m[m.length-1])*Q,S.width=I*this.pdfViewerBase.getZoomFactor()/d/y,S.style.width=I*this.pdfViewerBase.getZoomFactor()/d/y+"px",S.style.left=E*this.pdfViewerBase.getZoomFactor()/d/y+"px",S.style.top=Q*this.pdfViewerBase.getZoomFactor()/d/y+"px",S.id=this.pdfViewer.element.id+"_tileimg_"+r+"_"+this.pdfViewerBase.getZoomFactor()+"_"+x+"_"+V,b?((D=b.image)&&(S.src=D),this.pdfViewerBase.isReRenderRequired=!1):this.pdfViewerBase.isReRenderRequired=!0)}0===g.length&&(this.pdfViewerBase.isReRenderRequired=!0)}var M,c=J.getDiagramElement(this.pdfViewer.element.id+"_textLayer_"+r);c&&((M=J.getDiagramElement(this.pdfViewer.element.id+r+"_diagramAdorner_svg"))&&(M.style.width=s+"px",M.style.height=l+"px"),(M=J.getDiagramElement(this.pdfViewer.element.id+r+"_diagramAdornerLayer"))&&(M.style.width=s+"px",M.style.height=l+"px"),c.style.width=s+"px",c.style.height=l+"px",this.pdfViewer.renderSelector(r,this.pdfViewer.annotationSelectorSettings),this.pdfViewerBase.applyElementStyles(M,r))}}},d.prototype.zoomOverPages=function(e,t,i,n){e=Math.sqrt(Math.pow(e-i,2)+Math.pow(t-n,2));-1<this.previousTouchDifference&&(e>this.previousTouchDifference?(this.pinchStep=this.getPinchStep(e,this.previousTouchDifference),this.pinchOut()):e<this.previousTouchDifference&&(this.pinchStep=this.getPinchStep(this.previousTouchDifference,e),this.pinchIn())),this.previousTouchDifference=e},d.prototype.pinchMoveEnd=function(){this.touchCenterX=0,this.touchCenterY=0,this.previousTouchDifference=-1,this.isPinchZoomed&&(this.isPinchScrolled=!1,this.isPagePinchZoomed=!0,this.pinchMoveScroll())},d.prototype.fitPageScrollMouseWheel=function(e){"fitToPage"===this.fitType&&(this.isMagnified=!1,e.preventDefault(),0<e.deltaY?this.downwardScrollFitPage(this.pdfViewerBase.currentPageNumber-1):this.upwardScrollFitPage(this.pdfViewerBase.currentPageNumber-1))},d.prototype.magnifyBehaviorKeyDown=function(e){var t=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)&&e.metaKey;switch((e.ctrlKey||t)&&"Equal"===e.code&&(e.preventDefault(),this.zoomIn()),(e.ctrlKey||t)&&"Minus"===e.code&&(e.preventDefault(),this.zoomOut()),e.keyCode){case 37:e.ctrlKey||t?(e.preventDefault(),this.pdfViewerBase.updateScrollTop(0)):this.focusOnViewerContainer()&&this.formElementcheck()&&(e.preventDefault(),this.upwardScrollFitPage(this.pdfViewerBase.currentPageNumber-1));break;case 38:case 33:e.ctrlKey||t?(e.preventDefault(),this.pdfViewerBase.updateScrollTop(0)):"fitToPage"!==this.fitType||(e.ctrlKey||t)&&e.shiftKey||(e.preventDefault(),this.upwardScrollFitPage(this.pdfViewerBase.currentPageNumber-1));break;case 39:e.ctrlKey||t?(e.preventDefault(),this.pdfViewerBase.updateScrollTop(this.pdfViewerBase.pageCount-1)):this.focusOnViewerContainer()&&this.formElementcheck()&&(e.preventDefault(),this.downwardScrollFitPage(this.pdfViewerBase.currentPageNumber-1));break;case 40:case 34:e.ctrlKey||t?(e.preventDefault(),this.pdfViewerBase.updateScrollTop(this.pdfViewerBase.pageCount-1)):"fitToPage"!==this.fitType||(e.ctrlKey||t)&&e.shiftKey||(e.preventDefault(),this.downwardScrollFitPage(this.pdfViewerBase.currentPageNumber-1));break;case 48:!e.ctrlKey&&!t||e.shiftKey||e.altKey||(e.preventDefault(),this.fitToPage());break;case 49:!e.ctrlKey&&!t||e.shiftKey||e.altKey||(e.preventDefault(),this.zoomTo(100))}},d.prototype.formElementcheck=function(){var e=event.target;return e.offsetParent&&0<e.offsetParent.classList.length&&!e.offsetParent.classList.contains("foreign-object")},d.prototype.focusOnViewerContainer=function(){var e=document.activeElement;return document.querySelector(".e-pv-viewer-container").contains(e)},d.prototype.upwardScrollFitPage=function(e){var t;0<e&&(t=this.pdfViewerBase.getElement("_pageDiv_"+(e-1)))&&(t.style.visibility="visible",this.pdfViewerBase.viewerContainer.scrollTop=this.pdfViewerBase.pageSize[e-1].top*this.zoomFactor,this.isFitToPageMode)&&(t=this.pdfViewerBase.getElement("_pageDiv_"+e))&&(t.style.visibility="hidden")},d.prototype.updatePagesForFitPage=function(e){"fitToPage"===this.fitType&&this.isFitToPageMode&&(0<e&&this.pdfViewerBase.getElement("_pageDiv_"+(e-1))&&(this.pdfViewerBase.getElement("_pageDiv_"+(e-1)).style.visibility="hidden"),e<this.pdfViewerBase.pageCount-1)&&this.pdfViewerBase.getElement("_pageDiv_"+(e+1))&&(this.pdfViewerBase.getElement("_pageDiv_"+(e+1)).style.visibility="hidden")},d.prototype.onDoubleTapMagnification=function(){var e,t=this,i=(this.pdfViewer.toolbarModule&&G.isBlazor()&&this.pdfViewer.toolbarModule.showToolbar(!0),this.pdfViewerBase.viewerContainer.scrollTop);this.pdfViewer.selectedItems.annotations[0]?G.isBlazor()&&this.pdfViewer.selectedItems.annotations[0]&&"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&((e={}).x=this.pdfViewer.selectedItems.annotations[0].bounds.x,e.y=this.pdfViewer.selectedItems.annotations[0].bounds.y,this.pdfViewer.annotation.freeTextAnnotationModule.addInuptElemet(e,this.pdfViewer.selectedItems.annotations[0])):(this.isDoubleTapZoom=!0,!this.isTapToFitZoom&&this.zoomFactor<2?this.zoomTo(200):this.fitToWidth(),this.calculateScrollValues(i),this.isTapToFitZoom=!this.isTapToFitZoom,setTimeout(function(){t.isMagnified=!1},500),this.isDoubleTapZoom=!1)},d.prototype.downwardScrollFitPage=function(e){var t,i;e!==this.pdfViewerBase.pageCount-1&&((t=this.pdfViewerBase.getElement("_pageDiv_"+(e+1)))&&(t.style.visibility="visible"),this.pdfViewerBase.viewerContainer.scrollTop=this.pdfViewerBase.pageSize[e+1].top*this.zoomFactor,this.isFitToPageMode)&&(t=this.pdfViewerBase.getElement("_pageDiv_"+e),i=this.pdfViewerBase.getElement("_pageDiv_"+(e+2)),e+1===this.pdfViewerBase.pageCount-1?t&&(t.style.visibility="hidden"):i&&(i.style.visibility="hidden"))},d.prototype.getMagnifiedValue=function(e){return e/this.previousZoomFactor*this.zoomFactor},d.prototype.destroy=function(){this.imageObjects=void 0},d.prototype.getZoomFactor=function(e){return e/100},d.prototype.getModuleName=function(){return"Magnification"},d.prototype.getPinchStep=function(e,t){e=(e-t)/100;return e<.02?e=.02:1<e&&(e=.1),e},d.prototype.zoomToRect=function(e){var t,i,n,o,r,a=this.pdfViewerBase,s=a.viewerContainer,l=this.pdfViewer;0<e.width&&0<e.height&&(t={x:e.x,y:e.y},0<(t=l.getPageNumberFromClientPoint(t)))&&(r=(r=s.getBoundingClientRect().width/e.width)<(o=s.getBoundingClientRect().height/e.height)?r:o,o=100*a.getZoomFactor(),i=s.scrollTop,n=s.scrollLeft,this.zoomTo(o*r),s.scrollTop=i,s.scrollLeft=n,o=a.getZoomFactor(),r={x:e.x,y:e.y},r=l.convertClientPointToPagePoint(r,t),a.updateScrollTop(t-1),s.scrollLeft=(r.x-n)*o,s.scrollTop=(r.y+a.pageSize[t-1].top-i)*o)},d.prototype.positionInViewer=function(e,t){var i=this.pdfViewerBase.mainContainer.getBoundingClientRect();return{x:e-i.left,y:t-i.top}};var yn=d;function d(e,t){this.zoomFactor=1,this.previousZoomFactor=1,this.scrollWidth=25,this.zoomPercentages=[10,25,50,75,100,125,150,200,400],this.isNotPredefinedZoom=!1,this.pinchStep=0,this.reRenderPageNumber=0,this.magnifyPageRerenderTimer=null,this.rerenderOnScrollTimer=null,this.rerenderInterval=null,this.touchCenterX=0,this.touchCenterY=0,this.mouseCenterX=0,this.mouseCenterY=0,this.pageRerenderCount=0,this.imageObjects=[],this.topValue=0,this.isTapToFitZoom=!1,this.isWaitingPopupUpdated=!1,this.isInitialCustomZoomValues=!0,this.fitType=null,this.isPinchZoomed=!1,this.isPagePinchZoomed=!1,this.isRerenderCanvasCreated=!1,this.isMagnified=!1,this.isPagesZoomed=!1,this.isPinchScrolled=!1,this.isAutoZoom=!1,this.isDoubleTapZoom=!1,this.isFormFieldPageZoomed=!1,this.isWebkitMobile=!1,this.isFitToPageMode=!0,this.pdfViewer=e,this.pdfViewerBase=t,this.zoomLevel=2}In.prototype.goToNextPage=function(){this.pageNumber=this.pdfViewerBase.currentPageNumber,this.pageNumber++,this.pageNumber<=this.pdfViewerBase.pageCount&&this.pdfViewerBase.updateScrollTop(this.pageNumber-1)},In.prototype.goToPreviousPage=function(){this.pageNumber=this.pdfViewerBase.currentPageNumber,this.pageNumber--,0<this.pageNumber&&this.pdfViewerBase.updateScrollTop(this.pageNumber-1)},In.prototype.goToPage=function(e){0<e&&e<=this.pdfViewerBase.pageCount&&this.pdfViewerBase.currentPageNumber!==e&&(this.pdfViewerBase.updateScrollTop(e-1),this.pdfViewer.enableThumbnail)&&this.pdfViewer.thumbnailViewModule&&this.pdfViewer.thumbnailViewModule.updateScrollTopForThumbnail(e-1),this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.resizeCanvas(e);e=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(e-1));e&&(e.style.display="block")},In.prototype.goToFirstPage=function(){this.pageNumber=0,this.pdfViewerBase.updateScrollTop(this.pageNumber)},In.prototype.goToLastPage=function(){this.pageNumber=this.pdfViewerBase.pageCount-1,this.pdfViewerBase.updateScrollTop(this.pageNumber)},In.prototype.destroy=function(){this.pageNumber=0},In.prototype.getModuleName=function(){return"Navigation"};An=In;function In(e,t){this.pdfViewer=e,this.pdfViewerBase=t}p.prototype.createThumbnailContainer=function(){this.thumbnailView=G.createElement("div",{id:this.pdfViewer.element.id+"_thumbnail_view",className:"e-pv-thumbnail-view e-pv-thumbnail-row"}),this.pdfViewerBase.navigationPane.sideBarContent.appendChild(this.thumbnailView),this.pdfViewerBase.navigationPane.sideBarContent.addEventListener("scrollend",this.thumbnailOnScroll)},p.prototype.openThumbnailPane=function(){this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.openThumbnailPane()},p.prototype.closeThumbnailPane=function(){this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.closeThumbnailPane()},p.prototype.createRequestForThumbnails=function(){for(var e,t=this,i=t.thumbnailLimit=0;i<t.pdfViewer.pageCount;i++)t.renderThumbnailEmptyPage(i);t.pdfViewer.isThumbnailViewOpen&&(this.isThubmnailOpen=!0,t.pdfViewerBase.navigationPane&&t.pdfViewerBase.navigationPane.sideBarTitle&&(t.pdfViewerBase.navigationPane.sideBarTitle.textContent=t.pdfViewer.localeObj.getConstant("Page Thumbnails")),document.getElementById(t.pdfViewer.element.id+"_thumbnail_view")&&(document.getElementById(t.pdfViewer.element.id+"_thumbnail_view").style.display="flex"),(e=t.pdfViewer.element.querySelector(".e-pv-bookmark-view"))&&(e.style.display="none"),t.pdfViewerBase.navigationPane.updateViewerContainerOnExpand(),this.isThubmnailOpen=!1,t.pdfViewerBase.navigationPane.isBookmarkOpen=!1),this.createRequestForThumbnailImages()},p.prototype.isThumbnailViewOpen=function(){var e=this;e.pdfViewer.isThumbnailViewOpen&&(e.pdfViewerBase.navigationPane.setThumbnailSelectionIconTheme(),e.pdfViewerBase.navigationPane.isThumbnailOpen=!0,this.pdfViewerBase.navigationPane.sideBarContentContainer.style.display="block",this.pdfViewer.enableRtl?e.pdfViewerBase.viewerContainer.style.right=this.pdfViewerBase.navigationPane.getViewerContainerLeft()+"px":e.pdfViewerBase.viewerContainer.style.left=this.pdfViewerBase.navigationPane.getViewerContainerLeft()+"px",e.pdfViewerBase.viewerContainer.style.width=e.pdfViewer.element.clientWidth-this.pdfViewerBase.navigationPane.getViewerContainerLeft()-this.pdfViewerBase.navigationPane.getViewerContainerRight()+"px",e.pdfViewerBase.pageContainer.style.width=e.pdfViewerBase.viewerContainer.clientWidth+"px",e.pdfViewerBase.updateZoomValue())},p.prototype.thumbnailsRequestedForPage=function(e){for(var t=0,i=this.list;t<i.length;t++)if(e===i[t])return!0;return!1},p.prototype.updateScrollTopForThumbnail=function(e){var t=this,i=this.thumbnailRequestsBatch,e=Math.floor((e+1)/i)*i;[e,e-i,e+i,this.pdfViewer.thumbnailViewModule.thumbnailLimit].forEach(function(e){e<0||t.thumbnailsRequestedForPage(e)||t.renderThumbnailImage(null,e)})},p.prototype.renderThumbnailEmptyPage=function(e){var t,i,n,o;this.thumbnailView&&(t=G.createElement("a",{id:"page_"+e,attrs:{"aria-label":"Thumbnail of Page"+(e+1),tabindex:"-1",role:"link"},className:"e-pv-thumbnail-anchor-node"}),i=G.createElement("div",{id:this.pdfViewer.element.id+"_thumbnail_"+e,className:"e-pv-thumbnail e-pv-thumbnail-column"}),this.thumbnailSelectionRing=G.createElement("div",{id:this.pdfViewer.element.id+"_thumbnail_Selection_Ring_"+e,className:"e-pv-thumbnail-selection-ring"}),i.appendChild(this.thumbnailSelectionRing),(o=G.createElement("div",{id:this.pdfViewer.element.id+"_thumbnail_pagenumber_"+e,className:"e-pv-thumbnail-number"})).textContent=(e+1).toString(),i.appendChild(o),n=180,this.thumbnailImage=G.createElement("img",{id:this.pdfViewer.element.id+"_thumbnail_image_"+e,className:"e-pv-thumbnail-image"}),this.pdfViewerBase.pageSize[parseInt(e.toString(),10)]&&this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height<this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width&&(this.thumbnailImage.style.height="86px",this.thumbnailImage.style.width="126px",i.style.height="100px",i.style.width="140px",o.style.left="18px",t.style.marginRight="41px",i.style.marginLeft="-5px",i.style.marginRight="0px",n=140),o=(0!==e&&(this.thumbnailTop=this.thumbnailPageSize[e-1].top+this.thumbnailPageSize[e-1].height),{height:n,top:this.thumbnailTop}),this.thumbnailPageSize[parseInt(e.toString(),10)]=o,this.thumbnailSelectionRing.appendChild(this.thumbnailImage),t.appendChild(i),this.thumbnailView.appendChild(t),this.wireUpEvents(),0===e&&this.setMouseFocusToFirstPage(),this.pdfViewerBase.navigationPane.enableThumbnailButton())},p.prototype.renderViewPortThumbnailImage=function(e){var t=e||this;if(t.startIndex=t.thumbnailLimit,this.list.push(t.startIndex),this.pdfViewerBase.pageSize.length!==this.pdfViewerBase.pageCount||this.isRendered||this.renderDiv(),t.thumbnailLimit=t.startIndex+t.thumbnailThreshold<t.pdfViewer.pageCount?t.startIndex+t.thumbnailThreshold:t.pdfViewer.pageCount,this.pdfViewerBase.clientSideRendering){for(var i=t.startIndex;i<t.thumbnailLimit;i++){var n=this.getThumbnailImageElement(i),o={documentId:t.pdfViewerBase.getDocumentId(),hashId:t.pdfViewerBase.hashId,elementId:t.pdfViewer.element.id,uniqueId:t.pdfViewerBase.documentId},r=!!t.pdfViewer.textSearch,a=this.pdfViewer.extractTextOption===v.ExtractTextOption.None||this.pdfViewer.extractTextOption===v.ExtractTextOption.TextOnly;(n&&""===n.src||G.isNullOrUndefined(n)&&!G.isNullOrUndefined(this.pdfViewer.pageOrganizer))&&this.pdfViewerBase.pdfViewerRunner.addTask({pageIndex:i,message:"renderThumbnail",isTextNeed:r,jsonObject:o,isRenderText:r,requestType:r?"pdfTextSearchRequest":"",isSkipCharacterBounds:a},ln.Low)}this.isThumbnailViewOpen()}else{for(var s=!1,l=t.startIndex;l<t.thumbnailLimit;l++)t.pdfViewerBase.digitalSignaturePresent(l)&&(s=!0);var e="",o=(s&&(e=t.pdfViewerBase.digitalSignaturePages.toString()),{startPage:t.startIndex.toString(),endPage:t.thumbnailLimit.toString(),sizeX:"99.7",sizeY:"141",hashId:t.pdfViewerBase.hashId,action:"RenderThumbnailImages",elementId:t.pdfViewer.element.id,uniqueId:t.pdfViewerBase.documentId,digitalSignaturePresent:s,digitalSignaturePageList:e});this.pdfViewerBase.jsonDocumentId&&(o.documentId=this.pdfViewerBase.jsonDocumentId),this.thumbnailRequestHandler=new Bn(this.pdfViewer),this.thumbnailRequestHandler.url=t.pdfViewer.serviceUrl+"/"+t.pdfViewer.serverActionSettings.renderThumbnail,this.thumbnailRequestHandler.responseType="json",t.startIndex.toString()!==t.thumbnailLimit.toString()&&0<t.thumbnailLimit&&!G.isNullOrUndefined(t.pdfViewerBase.hashId)&&(this.pdfViewerBase.requestCollection.push(this.thumbnailRequestHandler),this.thumbnailRequestHandler.send(o)),this.thumbnailRequestHandler.onSuccess=function(e){e=e.data;t.pdfViewerBase.checkRedirection(e)||t.updateThumbnailCollection(e)},this.thumbnailRequestHandler.onFailure=function(e){t.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,t.pdfViewer.serverActionSettings.renderThumbnail)},this.thumbnailRequestHandler.onError=function(e){t.pdfViewerBase.openNotificationPopup(),t.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,t.pdfViewer.serverActionSettings.renderThumbnail)}}},p.prototype.thumbnailOnMessage=function(e){var t,i,n,o,r;"renderThumbnail"===e.data.message&&(t=document.createElement("canvas"),o=(e=e.data).value,i=e.width,n=e.height,e=e.pageIndex,t.width=i,t.height=n,(i=(r=t.getContext("2d")).createImageData(i,n)).data.set(o),r.putImageData(i,0,0),n=t.toDataURL(),this.pdfViewerBase.releaseCanvas(t),(o=this.getThumbnailImageElement(e))&&(o.src=n),r={thumbnailImage:n,startPage:this.startIndex,endPage:this.thumbnailLimit,uniqueId:this.pdfViewerBase.documentId,pageIndex:e},!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.updateThumbnailCollection(r):G.isNullOrUndefined(this.pdfViewer.pageOrganizer)||this.pdfViewer.pageOrganizer.updatePreviewCollection(r))},p.prototype.updateThumbnailCollection=function(t){if(t){if("object"!=typeof t)try{t=JSON.parse(t)}catch(e){this.pdfViewerBase.onControlError(500,t,this.pdfViewer.serverActionSettings.renderThumbnail),t=null}t&&t.uniqueId===this.pdfViewerBase.documentId&&(this.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.renderThumbnail,t),this.renderThumbnailImage(t))}},p.prototype.renderDiv=function(e){if(!(this.pdfViewerBase.pageSize.length!==this.pdfViewerBase.pageCount&&G.isNullOrUndefined(e)||this.isRendered)){for(var t=100;t<this.pdfViewer.pageCount;t++){var i=document.getElementById(this.pdfViewer.element.id+"_thumbnail_"+t),n=document.getElementById("page_"+t),o=document.getElementById(this.pdfViewer.element.id+"_thumbnail_pagenumber_"+t),r=this.getThumbnailImageElement(t),a=180;(this.pdfViewerBase.pageSize[parseInt(t.toString(),10)]&&this.pdfViewerBase.pageSize[parseInt(t.toString(),10)].height<this.pdfViewerBase.pageSize[parseInt(t.toString(),10)].width||e&&(1===e.pageRotation[parseInt(t.toString(),10)]||3===e.pageRotation[parseInt(t.toString(),10)]))&&(r.style.height="86px",r.style.width="126px",i.style.height="100px",i.style.width="140px",o.style.left="18px",n.style.marginRight="41px",i.style.marginLeft="-5px",i.style.marginRight="0px",a=140),0<this.thumbnailPageSize.length&&(this.thumbnailTop=this.thumbnailPageSize[t-1].top+this.thumbnailPageSize[t-1].height,r={height:a,top:this.thumbnailTop},this.thumbnailPageSize[parseInt(t.toString(),10)]=r)}this.isRendered=!0}},p.prototype.gotoThumbnailImage=function(e){var t,i,n=this.checkThumbnailScroll(e);this.thumbnailView&&(t=this.thumbnailView.children[parseInt(e.toString(),10)])&&(t=t.children[0],i=void 0,n&&(this.pdfViewerBase.pageSize.length!==this.pdfViewerBase.pageCount||this.isRendered||this.renderDiv(),i=t.offsetTop<=0?t.parentElement.offsetTop+t.clientTop-this.thumbnailTopMargin:t.offsetTop+t.clientTop-this.thumbnailTopMargin,this.pdfViewerBase.navigationPane.sideBarContent.scrollTop=i),this.isThumbnailClicked||(this.previousElement&&(this.previousElement.classList.remove("e-pv-thumbnail-selection"),this.previousElement.classList.remove("e-pv-thumbnail-focus"),this.previousElement.classList.remove("e-pv-thumbnail-hover"),this.previousElement.classList.add("e-pv-thumbnail-selection-ring")),this.setFocusStyle(t,e)),this.previousElement=t.children[0])},p.prototype.determineThumbnailsRequest=function(e){var t=this.pdfViewer.pageCount,i=this.thumbnailRequestsBatch,n=Math.ceil(t/i);if(this.list.length===n)return t;for(var o=0;o<this.list.length;o++)e===this.list[parseInt(o.toString(),10)]&&(e+=i,o=-1);return void 0!==e&&e<t?e:t},p.prototype.checkThumbnailScroll=function(i){var e,t,n,o=!1;return this.thumbnailView&&0<(n=(e=this.getVisibleThumbs()).views.length)&&(t=this.getPageNumberFromID(e.first.id),n=1<n?this.getPageNumberFromID(e.last.id):t,i<=t||n<=i?o=!0:e.views.some(function(e){var t=e.id.split("_"),t=t[t.length-1];return parseInt(t,10)===i&&(o=e.percent<100&&e.view.offsetWidth>e.view.offsetHeight&&e.percent<97,!0)})),o},p.prototype.getPageNumberFromID=function(e){e=e.split("_"),e=e[e.length-1];return parseInt(e,10)},p.prototype.setFocusStyle=function(e,t){e.children[0].id===this.pdfViewer.element.id+"_thumbnail_Selection_Ring_"+t&&this.setMouseFocusStyle(e.children[0])},p.prototype.renderThumbnailImage=function(e,t){this.thumbnailView&&e&&(this.pdfViewerBase.clientSideRendering?this.renderClientThumbnailImage(e):this.renderServerThumbnailImage(e)),G.isNullOrUndefined(e)||G.isNullOrUndefined(this.pdfViewer.pageOrganizer)||this.pdfViewer.pageOrganizer.getData(e,this.pdfViewerBase.clientSideRendering),this.thumbnailLimit=this.determineThumbnailsRequest(G.isNullOrUndefined(t)?this.thumbnailLimit:t),this.thumbnailLimit===this.pdfViewerBase.pageCount||!this.thumbnailView&&G.isNullOrUndefined(this.pdfViewer.pageOrganizer)||(!!document.documentMode?this.createRequestForThumbnailImages():Promise.all([this.createRequestForThumbnailImages()]))},p.prototype.createRequestForThumbnailImages=function(){var i=this;return!!document.documentMode?(this.renderViewPortThumbnailImage(i),null):new Promise(function(e,t){i.renderViewPortThumbnailImage(i)})},p.prototype.renderServerThumbnailImage=function(e){for(var t=G.isNullOrUndefined(e&&e.startPage)?this.startIndex:e.startPage,i=G.isNullOrUndefined(e&&e.endPage)?this.thumbnailLimit:e.endPage,n=t;n<i;n++)this.thumbnailImageRender(n,e);this.isThumbnailViewOpen()},p.prototype.renderClientThumbnailImage=function(e){var t=e.pageIndex;this.thumbnailImageRender(t,e)},p.prototype.thumbnailImageRender=function(e,t){!G.isNullOrUndefined(t.pageRotation)&&0<Object.keys(t.pageRotation).length&&!this.isRendered&&this.renderDiv(t);var i=document.getElementById(this.pdfViewer.element.id+"_thumbnail_"+e),n=document.getElementById("page_"+e),o=document.getElementById(this.pdfViewer.element.id+"_thumbnail_pagenumber_"+e),r=this.getThumbnailImageElement(e);G.isNullOrUndefined(i)||G.isNullOrUndefined(r)||(r.src=this.pdfViewerBase.clientSideRendering||"string"==typeof t.thumbnailImage||t.thumbnailImage instanceof String?t.thumbnailImage:t.thumbnailImage[parseInt(e.toString(),10)],r.alt=this.pdfViewer.element.id+"_thumbnail_page_"+e,n.setAttribute("aria-label","Thumbnail of Page "+(e+1)),this.pdfViewerBase.pageSize[parseInt(e.toString(),10)]&&this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height<this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width&&(r.style.height="86px",r.style.width="126px",i.style.height="100px",i.style.width="140px",o.style.left="18px",n.style.marginRight="41px",i.style.marginLeft="-5px",i.style.marginRight="0px"),0===e&&(this.pdfViewerBase.navigationPane.enableThumbnailButton(),this.isThumbnailViewOpen()))},p.prototype.wireUpEvents=function(){this.thumbnailSelectionRing&&(this.thumbnailSelectionRing.addEventListener("click",this.thumbnailClick),this.thumbnailImage.addEventListener("keydown",this.thumbnailKeydown),this.thumbnailSelectionRing.addEventListener("mouseover",this.thumbnailMouseOver),this.thumbnailSelectionRing.addEventListener("mouseleave",this.thumbnailMouseLeave))},p.prototype.unwireUpEvents=function(){this.thumbnailSelectionRing&&this.thumbnailImage&&(this.thumbnailSelectionRing.removeEventListener("click",this.thumbnailClick),this.thumbnailImage.removeEventListener("keydown",this.thumbnailKeydown),this.thumbnailSelectionRing.removeEventListener("mouseover",this.thumbnailMouseOver),this.thumbnailSelectionRing.removeEventListener("mouseleave",this.thumbnailMouseLeave))},p.prototype.goToThumbnailPage=function(e){0<e&&e<=this.pdfViewerBase.pageCount&&this.pdfViewerBase.currentPageNumber!==e?this.pdfViewerBase.updateScrollTop(e-1):this.isThumbnailClicked=!1},p.prototype.setSelectionStyle=function(e){e.classList.remove("e-pv-thumbnail-selection-ring"),e.classList.remove("e-pv-thumbnail-hover"),e.classList.remove("e-pv-thumbnail-focus"),e.classList.add("e-pv-thumbnail-selection")},p.prototype.setMouseOverStyle=function(e){e.classList.contains("e-pv-thumbnail-selection")||(e.classList.remove("e-pv-thumbnail-selection-ring"),e.classList.contains("e-pv-thumbnail-focus"))||e.classList.add("e-pv-thumbnail-hover")},p.prototype.setMouseLeaveStyle=function(e){e.classList.contains("e-pv-thumbnail-selection")?e.classList.contains("e-pv-thumbnail-selection")||(e.classList.remove("e-pv-thumbnail-selection"),e.classList.add("e-pv-thumbnail-focus")):(e.classList.contains("e-pv-thumbnail-focus")||e.classList.add("e-pv-thumbnail-selection-ring"),e.classList.remove("e-pv-thumbnail-hover"))},p.prototype.setMouseFocusStyle=function(e){e.classList.remove("e-pv-thumbnail-selection"),e.classList.remove("e-pv-thumbnail-hover"),e.classList.add("e-pv-thumbnail-focus")},p.prototype.setMouseFocusToFirstPage=function(){var e=this.thumbnailView.children[0];e&&(e=e.children[0].children[0],this.setMouseFocusStyle(e),this.previousElement=e)},p.prototype.clear=function(){if(this.startIndex=0,this.thumbnailLimit=0,this.list=[],this.thumbnailPageSize=[],this.thumbnailTop=0,this.isRendered=!1,this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.sideBarContentContainer&&(this.pdfViewerBase.navigationPane.sideBarContentContainer.style.display="block",this.pdfViewerBase.navigationPane.sideBarContent.scrollTop=0,this.pdfViewerBase.navigationPane.sideBarContentContainer.style.display="none"),this.thumbnailView)for(;this.thumbnailView.hasChildNodes();)this.thumbnailView.removeChild(this.thumbnailView.lastChild);this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.resetThumbnailView(),this.thumbnailRequestHandler&&this.thumbnailRequestHandler.clear(),this.unwireUpEvents()},p.prototype.getVisibleThumbs=function(){return this.getVisibleElements(this.pdfViewerBase.navigationPane.sideBarContent,this.thumbnailView.children)},p.prototype.getVisibleElements=function(e,t){var i=e.scrollTop,n=i+e.clientHeight,o=e.scrollLeft,r=o+e.clientWidth;for(var a,s,l,A,d,p,h,c=[],e=0===t.length?0:this.binarySearchFirstItem(t,function(e){return e=e.offsetTop+e.clientTop+e.clientHeight,i<e}),g=-1,u=e=0<t.length?this.backtrackBeforeAllVisibleElements(e,t,i):e,f=t.length;u<f;u++){if(d=(a=this.getThumbnailElement(u)).offsetLeft+a.clientLeft,s=a.offsetTop+a.clientTop,h=d+(p=a.clientWidth),A=s+(l=a.clientHeight),-1===g)n<=A&&(g=A);else if(g<s)break;A<=i||n<=s||h<=o||r<=d||(A=Math.max(0,i-s)+Math.max(0,A-n),h=Math.max(0,o-d)+Math.max(0,h-r),c.push({id:a.id,x:d,y:s,view:a,percent:(l-A)*(p-h)*100/l/p|0}))}return{first:c[0],last:c[c.length-1],views:c}},p.prototype.binarySearchFirstItem=function(e,t){var i=0,n=e.length-1;if(0===e.length||!t(this.getThumbnailElement(n)))return e.length-1;if(!t(this.getThumbnailElement(i)))for(;i<n;){var o=i+n>>1;t(this.getThumbnailElement(o))?n=o:i=1+o}return i},p.prototype.backtrackBeforeAllVisibleElements=function(e,t,i){if(!(e<2)){var n=this.getThumbnailElement(e),o=n.offsetTop+n.clientTop;i<=o&&(o=(n=this.getThumbnailElement(e-1)).offsetTop+n.clientTop);for(var r=e-2;0<=r&&!((n=this.getThumbnailElement(r)).offsetTop+n.clientTop+n.clientHeight<=o);--r)e=r}return e},p.prototype.getThumbnailElement=function(e){return this.thumbnailView.children[parseInt(e.toString(),10)].children[0]},p.prototype.getThumbnailLinkElement=function(e){return this.thumbnailView.children[parseInt(e.toString(),10)]},p.prototype.getThumbnailImageElement=function(e){return!G.isNullOrUndefined(this.thumbnailView)&&(e=this.thumbnailView.children[parseInt(e.toString(),10)])?e.children[0].children[0].children[0]:null},p.prototype.destroy=function(){this.clear()},p.prototype.getModuleName=function(){return"ThumbnailView"};var En=p;function p(e,t){var o=this;this.thumbnailLimit=30,this.thumbnailThreshold=5,this.thumbnailRequestsBatch=5,this.thumbnailTopMargin=10,this.thumbnailTop=8,this.isRendered=!1,this.list=[],this.thumbnailPageSize=[],this.isThubmnailOpen=!1,this.isThumbnailClicked=!1,this.thumbnailOnScroll=function(e){for(var t=0;t<o.thumbnailPageSize.length&&"break"!==function(){var t=o.pdfViewerBase.navigationPane.sideBarContent.scrollTop,e=o.thumbnailPageSize.findIndex(function(e){return e.top>=t});if(-1!==e)return e=Math.floor(e/o.thumbnailRequestsBatch)*o.thumbnailRequestsBatch,o.updateScrollTopForThumbnail(e),"break"}();t++);},this.thumbnailClick=function(e,t){var i=o,e=e.target,n=i.getPageNumberFromID(e.id);i.previousElement&&(i.previousElement.classList.remove("e-pv-thumbnail-selection"),i.previousElement.classList.remove("e-pv-thumbnail-focus"),i.previousElement.classList.add("e-pv-thumbnail-selection-ring")),e.parentElement.id===i.pdfViewer.element.id+"_thumbnail_Selection_Ring_"+n?(i.setSelectionStyle(e.parentElement),i.previousElement=e.parentElement):e.id===i.pdfViewer.element.id+"_thumbnail_Selection_Ring_"+n&&(i.setSelectionStyle(e),i.previousElement=e),i.pdfViewer.fireThumbnailClick(n+1),i.isThumbnailClicked=!0,i.goToThumbnailPage(n+1),t||i.pdfViewerBase.focusViewerContainer(),o.pdfViewer.annotationModule&&o.pdfViewer.annotationModule.inkAnnotationModule&&(e=parseInt(o.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10),o.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(e))},this.thumbnailKeydown=function(e){(e&&"Enter"===e.key||" "===e.key)&&(o.thumbnailClick(e,!0),e.preventDefault(),e.stopPropagation())},this.thumbnailMouseOver=function(e){var t=o,e=e.target,i=t.getPageNumberFromID(e.id);e.id===t.pdfViewer.element.id+"_thumbnail_Selection_Ring_"+i?t.setMouseOverStyle(e):e.id===t.pdfViewer.element.id+"_thumbnail_image_"+i&&t.setMouseOverStyle(e.parentElement)},this.thumbnailMouseLeave=function(e){var t=o,e=e.target,i=t.getPageNumberFromID(e.id);e.parentElement.id===t.pdfViewer.element.id+"_thumbnail_view"?t.setMouseLeaveStyle(e.children[0].children[0]):e.parentElement.id===t.pdfViewer.element.id+"_thumbnail_"+i&&t.setMouseLeaveStyle(e.parentElement.children[0])},this.pdfViewer=e,this.pdfViewerBase=t}h.prototype.initializeFormDesignerToolbar=function(){this.toolbarElement=G.createElement("div",{id:this.pdfViewer.element.id+"_formdesigner_toolbar",className:"e-pv-formdesigner-toolbar"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement),this.toolbar=new w.Toolbar({width:"",height:"",overflowMode:"Popup",items:this.createToolbarItems(),clicked:this.onToolbarClicked.bind(this)}),this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.toolbar.appendTo(this.toolbarElement),this.afterToolbarCreation(),this.createSignContainer(),this.applyFormDesignerToolbarSettings(),this.showFormDesignerToolbar(null,!0)},h.prototype.resetFormDesignerToolbar=function(){this.pdfViewer.isFormDesignerToolbarVisible?(this.pdfViewer.designerMode=!0,this.pdfViewer.formDesignerModule.setMode("designer"),this.adjustViewer(!1),this.toolbarElement.style.display="",this.isToolbarHidden=!1,this.adjustViewer(!0),this.primaryToolbar.selectItem(this.primaryToolbar.formDesignerItem),this.pdfViewer.isFormDesignerToolbarVisible=!0):(this.toolbarElement.style.display="none",this.isToolbarHidden=!0,this.pdfViewer.isAnnotationToolbarVisible||this.adjustViewer(!0),this.primaryToolbar.deSelectItem(this.primaryToolbar.formDesignerItem),this.pdfViewer.isFormDesignerToolbarVisible=!1)},h.prototype.showFormDesignerToolbar=function(e,t){var i;this.isToolbarHidden?(i=this.toolbarElement.style.display,this.toolbarElement.style.display="block",this.pdfViewer.designerMode=!0,this.pdfViewer.formDesignerModule.setMode("designer"),t||(this.pdfViewer.isFormDesignerToolbarVisible=!0),e?this.primaryToolbar.selectItem(e):this.pdfViewer.enableToolbar&&this.primaryToolbar.selectItem(this.primaryToolbar.formDesignerItem),"none"===i&&this.adjustViewer(!0),this.pdfViewer.formFieldCollection&&this.pdfViewer.formFieldCollection.filter(function(e){return"Textbox"===e.formFieldAnnotationType&&e.isMultiline}).forEach(function(e){e=document.getElementById(e.id);e&&(e.style.pointerEvents="auto",e.style.resize="auto")})):(e?this.primaryToolbar.deSelectItem(e):this.pdfViewer.enableToolbar&&this.primaryToolbar.deSelectItem(this.primaryToolbar.formDesignerItem),this.adjustViewer(!1),this.pdfViewer.formFieldCollection&&this.pdfViewer.formFieldCollection.filter(function(e){return"Textbox"===e.formFieldAnnotationType&&e.isMultiline}).forEach(function(e){e=document.getElementById(e.id);e&&(e.style.pointerEvents="none",e.style.resize="none")}),this.toolbarElement.style.display="none",this.pdfViewer.formDesignerModule.setMode("edit"),this.pdfViewer.designerMode=!1,t||(this.pdfViewer.isFormDesignerToolbarVisible=!1)),this.pdfViewer.magnification&&"fitToPage"===this.pdfViewer.magnification.fitType&&this.pdfViewer.magnification.fitToPage(),this.isToolbarHidden=!this.isToolbarHidden},h.prototype.adjustViewer=function(e){i=G.isBlazor()?(t=this.pdfViewer.element.querySelector(".e-pv-sidebar-toolbar-splitter"),n=this.pdfViewer.element.querySelector(".e-pv-toolbar"),i=this.pdfViewer.element.querySelector(".e-pv-formDesigner-toolbar"),this.getToolbarHeight(i)):(t=this.pdfViewerBase.getElement("_sideBarToolbarSplitter"),n=this.pdfViewerBase.getElement("_toolbarContainer"),this.getToolbarHeight(this.toolbarElement));var t,i,n=this.getToolbarHeight(n),o=this.pdfViewerBase.navigationPane.sideBarToolbar,r=this.pdfViewerBase.navigationPane.sideBarContentContainer,a=this.pdfViewerBase.navigationPane.commentPanelContainer,s=this.pdfViewerBase.navigationPane.commentPanelResizer,l="";e?(this.pdfViewer.enableToolbar?(o.style.top=n+i+"px",r.style.top=n+i+"px",t.style.top=n+i+"px",a.style.top=n+i+"px"):(o.style.top=i+"px",r.style.top=i+"px",t.style.top=i+"px",a.style.top=i+"px"),s.style.top=n+i+"px",this.pdfViewer.enableToolbar||(n=0),this.pdfViewerBase.viewerContainer.style.height=this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),i+n)+"px",l=this.getNavigationToolbarHeight(i+n),o.style.height=l,t.style.height=l,s.style.height=l,r.style.height=l):(this.pdfViewer.enableToolbar?(o.style.top=n+"px",r.style.top=n+"px",t.style.top=n+"px",a.style.top=n+"px",s.style.top=n+"px"):(o.style.top="1px",o.style.height="100%",r.style.top="1px",r.style.height="100%",t.style.top="1px",t.style.height="100%",a.style.top="1px",a.style.height="100%",s.style.top="1px",s.style.height="100%"),this.pdfViewer.enableToolbar||(n=0),this.pdfViewerBase.viewerContainer.style.height=this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),i)+"px",l=this.getNavigationToolbarHeight(n),o.style.height=l,t.style.height=l,s.style.height=l,r.style.height=l,"0px"===this.pdfViewerBase.viewerContainer.style.height&&(this.pdfViewerBase.viewerContainer.style.height=parseInt(this.pdfViewer.element.style.height,10)-parseInt(o.style.top,10)+"px"))},h.prototype.getElementHeight=function(e){try{return e.getBoundingClientRect().height}catch(e){return 0}},h.prototype.updateViewerHeight=function(e,t){return this.getElementHeight(this.pdfViewer.element)-t},h.prototype.resetViewerHeight=function(e,t){return e+t},h.prototype.getNavigationToolbarHeight=function(e){var t=this.pdfViewer.element.getBoundingClientRect().height;return 0!==t?t-e+"px":""},h.prototype.updateContentContainerHeight=function(e,t){t=t?(t=this.pdfViewer.element.querySelector(".e-pv-formDesigner-toolbar"),this.getToolbarHeight(t)):this.getToolbarHeight(this.toolbarElement);var i=this.pdfViewerBase.navigationPane.sideBarContentContainer.getBoundingClientRect();0!==i.height&&(this.pdfViewerBase.navigationPane.sideBarContentContainer.style.height=e?i.height-t+"px":i.height+t+"px")},h.prototype.getToolbarHeight=function(e){var t=e.getBoundingClientRect().height;return t=0===t&&e===this.pdfViewerBase.getElement("_toolbarContainer")?parseFloat(window.getComputedStyle(e).height)+this.toolbarBorderHeight:t},h.prototype.createToolbarItems=function(){var e=this.getTemplate("button","_formfield_signature","e-pv-annotation-handwritten-container"),t=[];return t.push({prefixIcon:"e-pv-textbox-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_formdesigner_textbox",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-password-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_formdesigner_passwordfield",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-checkbox-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_formdesigner_checkbox",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-radiobutton-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_formdesigner_radiobutton",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-dropdown-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_formdesigner_dropdown",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-listbox-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_formdesigner_listbox",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({template:e,align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({type:"Separator",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-annotation-delete-icon e-pv-icon",className:"e-pv-annotation-delete-container",id:this.pdfViewer.element.id+"_formdesigner_delete",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-annotation-tools-close-icon e-pv-icon",className:"e-pv-annotation-tools-close-container",id:this.pdfViewer.element.id+"_formdesigner_close",align:"Right",attr:{tabindex:0,"data-tabindex":0}}),t},h.prototype.createSignContainer=function(){var i=this,e=(this.handWrittenSignatureItem=this.pdfViewerBase.getElement("_formfield_signature"),this.handWrittenSignatureItem.setAttribute("tabindex","0"),this.handWrittenSignatureItem.setAttribute("data-tabindex","0"),this.primaryToolbar.createTooltip(this.pdfViewerBase.getElement("_formfield_signature"),this.pdfViewer.localeObj.getConstant("HandwrittenSignatureDialogHeaderText")),new P.DropDownButton({items:[{text:"ADD SIGNATURE"},{separator:!0},{text:"ADD INITIAL"}],iconCss:"e-pv-handwritten-icon e-pv-icon",cssClass:"e-pv-handwritten-popup",beforeItemRender:function(e){var t;i.pdfViewer.clearSelection(i.pdfViewerBase.currentPageNumber-1),e.element&&-1!==e.element.className.indexOf("e-separator")&&(e.element.style.margin="8px 0",e.element.setAttribute("role","menuitem"),e.element.setAttribute("aria-label","separator")),"ADD SIGNATURE"===e.item.text&&(e.element.innerHTML="",(t=G.createElement("button")).classList.add("e-control","e-btn","e-lib","e-outline","e-primary"),t.textContent=i.pdfViewer.localeObj.getConstant("SignatureFieldDialogHeaderText"),"en-US"===i.pdfViewer.locale?t.style.width="130px":t.style.width="auto",t.style.height="36px",t.addEventListener("click",i.clickSignature.bind(i)),e.element.appendChild(t),e.element.addEventListener("mouseover",i.hoverInitialBtn.bind(i)),e.element.style.width="206px",e.element.style.display="flex",e.element.style.flexDirection="column",e.element.style.height="auto",e.element.style.alignItems="center",e.element.setAttribute("role","menuitem")),"ADD INITIAL"===e.item.text&&(e.element.innerHTML="",(t=G.createElement("button")).classList.add("e-control","e-btn","e-lib","e-outline","e-primary"),t.textContent=i.pdfViewer.localeObj.getConstant("InitialFieldDialogHeaderText"),"en-US"===i.pdfViewer.locale?t.style.width="130px":t.style.width="auto",t.style.height="36px",t.addEventListener("click",i.clickInitial.bind(i)),e.element.appendChild(t),e.element.addEventListener("mouseover",i.hoverInitialBtn.bind(i)),e.element.style.width="206px",e.element.style.display="flex",e.element.style.flexDirection="column",e.element.style.height="auto",e.element.style.alignItems="center",e.element.setAttribute("role","menuitem"))}}));this.pdfViewer.enableRtl&&(e.enableRtl=this.pdfViewer.enableRtl),e.appendTo(this.handWrittenSignatureItem)},h.prototype.hoverInitialBtn=function(e){var t=e.target,e=(G.isNullOrUndefined(e.path)?e.composedPath():e.path)[0].id;e!=="sign_"+e.split("_")[1]&&e!=="delete_"+e.split("_")[1]&&(e=document.getElementById(t.id),null==(e=G.isNullOrUndefined(e)?document.getElementById(t.parentElement.id):e)||t.id==="sign_"+t.id.split("_")[1]&&t.id==="sign_border_"+t.id.split("_")[2]?null==e.parentElement||t.id==="sign_"+t.id.split("_")[1]&&t.id==="sign_border_"+t.id.split("_")[2]||(e.parentElement.style.background="transparent",e.parentElement.style.cursor="default"):(e.style.background="transparent",e.style.cursor="default"))},h.prototype.getTemplate=function(e,t,i){e=G.createElement(e,{id:this.pdfViewer.element.id+t});return i&&(e.className=i),e.outerHTML},h.prototype.onToolbarClicked=function(e){e&&e.item&&(-1!==e.item.id.indexOf("textbox")?this.pdfViewer.formDesignerModule.setFormFieldMode("Textbox"):-1!==e.item.id.indexOf("passwordfield")?this.pdfViewer.formDesignerModule.setFormFieldMode("Password"):-1!==e.item.id.indexOf("checkbox")?this.pdfViewer.formDesignerModule.setFormFieldMode("CheckBox"):-1!==e.item.id.indexOf("radiobutton")?this.pdfViewer.formDesignerModule.setFormFieldMode("RadioButton"):-1!==e.item.id.indexOf("dropdown")?this.pdfViewer.formDesignerModule.setFormFieldMode("DropDown"):-1!==e.item.id.indexOf("listbox")?this.pdfViewer.formDesignerModule.setFormFieldMode("ListBox"):-1!==e.item.id.indexOf("signature")?this.pdfViewer.formDesignerModule.setFormFieldMode("SignatureField"):-1!==e.item.id.indexOf("close")?this.pdfViewer.toolbarModule.formDesignerToolbarModule.showFormDesignerToolbar(this.pdfViewer.toolbarModule.formDesignerItem):-1!==e.item.id.indexOf("delete")&&(this.pdfViewer.formDesignerModule.deleteFormField(this.pdfViewer.selectedItems.formFields[0]),this.showHideDeleteIcon(!1)),0<this.pdfViewer.selectedItems.formFields.length)&&this.pdfViewer.clearSelection(this.pdfViewer.selectedItems.formFields[0].pageIndex)},h.prototype.clickSignature=function(e){this.pdfViewer.formDesignerModule.setFormFieldMode("SignatureField")},h.prototype.clickInitial=function(e){this.pdfViewer.isInitialFieldToolbarSelection=!0,this.pdfViewer.formDesignerModule.setFormFieldMode("InitialField"),this.pdfViewer.isInitialFieldToolbarSelection=!1},h.prototype.afterToolbarCreation=function(){this.textboxItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_textbox","e-pv-formdesigner-textbox",this.pdfViewer.localeObj.getConstant("Textbox")),this.textboxItem.setAttribute("tabindex","0"),this.textboxItem.setAttribute("data-tabindex","0"),this.passwordItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_passwordfield","e-pv-formdesigner-passwordfield",this.pdfViewer.localeObj.getConstant("Password")),this.passwordItem.setAttribute("tabindex","0"),this.passwordItem.setAttribute("data-tabindex","0"),this.checkboxItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_checkbox","e-pv-formdesigner-checkbox",this.pdfViewer.localeObj.getConstant("Check Box")),this.checkboxItem.setAttribute("tabindex","0"),this.checkboxItem.setAttribute("data-tabindex","0"),this.radioButtonItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_radiobutton","e-pv-formdesigner-radiobutton",this.pdfViewer.localeObj.getConstant("Radio Button")),this.radioButtonItem.setAttribute("tabindex","0"),this.radioButtonItem.setAttribute("data-tabindex","0"),this.dropdownItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_dropdown","e-pv-formdesigner-dropdown",this.pdfViewer.localeObj.getConstant("Dropdown")),this.dropdownItem.setAttribute("tabindex","0"),this.dropdownItem.setAttribute("data-tabindex","0"),this.listboxItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_listbox","e-pv-formdesigner-listbox",this.pdfViewer.localeObj.getConstant("List Box")),this.listboxItem.setAttribute("tabindex","0"),this.listboxItem.setAttribute("data-tabindex","0"),this.deleteItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_delete","e-pv-formdesigner-delete",this.pdfViewer.localeObj.getConstant("Delete FormField")),this.closeItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_close","e-pv-annotation-tools-close",null),this.closeItem.setAttribute("tabindex","0"),this.closeItem.setAttribute("data-tabindex","0"),this.showHideDeleteIcon(!1)},h.prototype.showHideDeleteIcon=function(e){this.toolbar&&(this.toolbar.enableItems(this.deleteItem.parentElement,e),this.deleteItem.setAttribute("tabindex",e?"0":"-1"),this.deleteItem.setAttribute("data-tabindex",e?"0":"-1"))},h.prototype.applyFormDesignerToolbarSettings=function(){this.pdfViewer.toolbarSettings.formDesignerToolbarItems&&(-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("TextboxTool")?this.showTextboxTool(!0):this.showTextboxTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("PasswordTool")?this.showPasswordTool(!0):this.showPasswordTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("CheckBoxTool")?this.showCheckboxTool(!0):this.showCheckboxTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("RadioButtonTool")?this.showRadioButtonTool(!0):this.showRadioButtonTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("DropdownTool")?this.showDropdownTool(!0):this.showDropdownTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("ListboxTool")?this.showListboxTool(!0):this.showListboxTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("DrawSignatureTool")?this.showDrawSignatureTool(!0):this.showDrawSignatureTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("DeleteTool")?this.showDeleteTool(!0):this.showDeleteTool(!1),this.showSeparator())},h.prototype.showTextboxTool=function(e){this.isTextboxBtnVisible=e,this.applyHideToToolbar(e,0,0)},h.prototype.showPasswordTool=function(e){this.isPasswordBtnVisible=e,this.applyHideToToolbar(e,1,1)},h.prototype.showCheckboxTool=function(e){this.isCheckboxBtnVisible=e,this.applyHideToToolbar(e,2,2)},h.prototype.showRadioButtonTool=function(e){this.isRadiobuttonBtnVisible=e,this.applyHideToToolbar(e,3,3)},h.prototype.showDropdownTool=function(e){this.isDropdownBtnVisible=e,this.applyHideToToolbar(e,4,4)},h.prototype.showListboxTool=function(e){this.isListboxBtnVisible=e,this.applyHideToToolbar(e,5,5)},h.prototype.showDrawSignatureTool=function(e){this.isSignatureBtnVisible=e,this.applyHideToToolbar(e,6,6)},h.prototype.showDeleteTool=function(e){this.isDeleteBtnVisible=e,this.applyHideToToolbar(e,8,8)},h.prototype.showSeparator=function(){this.isSignatureBtnVisible||this.isDeleteBtnVisible||this.applyHideToToolbar(!1,7,7)},h.prototype.applyHideToToolbar=function(e,t,i){for(var n=!e,o=t;o<=i;o++)this.toolbar.hideItem(o,n)},h.prototype.destroy=function(){for(var e=[this.textboxItem,this.passwordItem,this.checkboxItem,this.radioButtonItem,this.listboxItem,this.dropdownItem,this.handWrittenSignatureItem,this.deleteItem],t=0;t<e.length;t++)e[parseInt(t.toString(),10)]&&this.destroyDependentComponent(e[parseInt(t.toString(),10)])},h.prototype.destroyDependentComponent=function(e){if(e.ej2_instances)for(var t=e.ej2_instances.length-1;0<=t;t--)e.ej2_instances[parseInt(t.toString(),10)].destroy()};var Qn=h;function h(e,t,i){this.isToolbarHidden=!1,this.isTextboxBtnVisible=!0,this.isPasswordBtnVisible=!0,this.isCheckboxBtnVisible=!0,this.isRadiobuttonBtnVisible=!0,this.isDropdownBtnVisible=!0,this.isListboxBtnVisible=!0,this.isSignatureBtnVisible=!0,this.isDeleteBtnVisible=!0,this.toolbarBorderHeight=1,this.pdfViewer=e,this.pdfViewerBase=t,this.primaryToolbar=i}c.prototype.intializeToolbar=function(e){var t;return G.isBlazor()?G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(t=this.pdfViewer.element.querySelector(".e-pv-toolbar"),this.toolbarElement=t):t=this.createToolbar(e),!document.documentMode||(G.isBlazor()?this.pdfViewerBase.blazorUIAdaptor.totalPageElement.classList.add("e-pv-total-page-ms"):G.Browser.isDevice||this.totalPageItem.classList.add("e-pv-total-page-ms")),this.createFileElement(t),this.wireEvent(),G.isBlazor()?(G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.initialEnableItems(),this.pdfViewerBase.navigationPane.adjustPane(),this.pdfViewer.enableToolbar&&this.bindOpenIconEvent()),this.PanElement=document.getElementById(this.pdfViewer.element.id+"_handTool").children[0],this.PanElement.classList.add("e-pv-tbar-btn"),this.SelectToolElement=document.getElementById(this.pdfViewer.element.id+"_selectTool").children[0],this.SelectToolElement.classList.add("e-pv-tbar-btn"),this.CommentElement=document.getElementById(this.pdfViewer.element.id+"_comment").children[0],this.CommentElement.classList.add("e-pv-tbar-btn"),this.annotationToolbarModule=new xn(this.pdfViewer,this.pdfViewerBase,this),(this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar||this.pdfViewer.enableDesktopMode&&G.Browser.isDevice)&&this.annotationToolbarModule.afterAnnotationToolbarCreationInBlazor()):(this.updateToolbarItems(),!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?(this.applyToolbarSettings(),this.initialEnableItems(),this.pdfViewerBase.navigationPane.adjustPane()):this.initialEnableItems(),this.pdfViewer.annotationModule&&(this.annotationToolbarModule=new xn(this.pdfViewer,this.pdfViewerBase,this),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||this.annotationToolbarModule.initializeAnnotationToolbar()),this.pdfViewer.formDesignerModule&&(this.formDesignerToolbarModule=new Qn(this.pdfViewer,this.pdfViewerBase,this),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||this.formDesignerToolbarModule.initializeFormDesignerToolbar())),t},c.prototype.bindOpenIconEvent=function(){var e=document.getElementById(this.pdfViewer.element.id+"_open");e&&e.addEventListener("click",this.openFileDialogBox.bind(this))},c.prototype.InitializeMobileToolbarInBlazor=function(){var e=this.pdfViewer.element.querySelector(".e-pv-mobile-toolbar");this.createFileElement(e),this.wireEvent()},c.prototype.showToolbar=function(e){var t,i,n;G.isNullOrUndefined(this.toolbarElement)||(t=this.toolbarElement),e?(G.isNullOrUndefined(t)||this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.isNavigationToolbarVisible||(t.style.display="block"),(i=this.pdfViewerBase.getElement("_toolbarContainer"))&&(0===(n=i.clientHeight)&&(n=parseFloat(window.getComputedStyle(i).height)+1),this.pdfViewerBase.toolbarHeight=n),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.hideMobileAnnotationToolbar()):(this.pdfViewerBase.toolbarHeight=0,e&&(G.Browser.isDevice&&this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar&&(this.annotationToolbarModule.toolbarCreated=!1,this.annotationToolbarModule.adjustMobileViewer(),this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.element.style.display="none"),G.Browser.isDevice)&&this.annotationToolbarModule.propertyToolbar&&(this.annotationToolbarModule.propertyToolbar.element.style.display="none"),G.isNullOrUndefined(t)||(t.style.display="none"))},c.prototype.showNavigationToolbar=function(e){var t,i;G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(t=this.pdfViewerBase.navigationPane.sideBarToolbar,i=this.pdfViewerBase.navigationPane.sideBarToolbarSplitter,e?(G.isNullOrUndefined(t)||(t.style.display="block"),G.isNullOrUndefined(i)||(i.style.display="block"),(this.pdfViewerBase.navigationPane.isBookmarkOpen||this.pdfViewerBase.navigationPane.isThumbnailOpen)&&this.pdfViewerBase.navigationPane.clear()):(G.isNullOrUndefined(t)||(t.style.display="none"),G.isNullOrUndefined(i)||(i.style.display="none"),(this.pdfViewerBase.navigationPane.isBookmarkOpen||this.pdfViewerBase.navigationPane.isThumbnailOpen)&&this.pdfViewerBase.navigationPane.updateViewerContainerOnClose()))},c.prototype.showAnnotationToolbar=function(e){e?(this.annotationToolbarModule.isToolbarHidden=!0,this.annotationToolbarModule.showAnnotationToolbar(null,!1,!0)):(this.annotationToolbarModule.isToolbarHidden=!1,this.annotationToolbarModule.showAnnotationToolbar(null,!1,!1))},c.prototype.showToolbarItem=function(e,t){for(var i=0;i<e.length;i++)switch(e[parseInt(i.toString(),10)]){case"OpenOption":this.showOpenOption(t);break;case"PageNavigationTool":this.showPageNavigationTool(t);break;case"MagnificationTool":this.showMagnificationTool(t);break;case"SelectionTool":this.showSelectionTool(t);break;case"PanTool":this.showScrollingTool(t);break;case"DownloadOption":this.showDownloadOption(t);break;case"PrintOption":this.showPrintOption(t);break;case"SearchOption":this.showSearchOption(t);break;case"UndoRedoTool":this.showUndoRedoTool(t);break;case"AnnotationEditTool":this.showAnnotationEditTool(t);break;case"FormDesignerEditTool":this.showFormDesignerEditTool(t);break;case"CommentTool":this.showCommentOption(t);break;case"SubmitForm":this.showSubmitForm(t)}!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?(this.applyHideToToolbar(!0,this.itemsIndexArray[0].endIndex+1,this.itemsIndexArray[0].endIndex+1),this.applyHideToToolbar(!0,this.itemsIndexArray[1].endIndex+1,this.itemsIndexArray[1].endIndex+1),this.applyHideToToolbar(!0,this.itemsIndexArray[2].endIndex+1,this.itemsIndexArray[2].endIndex+1),this.applyHideToToolbar(!0,this.itemsIndexArray[4].endIndex+1,this.itemsIndexArray[4].endIndex+1),this.applyHideToToolbar(!0,this.itemsIndexArray[5].endIndex+1,this.itemsIndexArray[5].endIndex+1)):(this.applyHideToToolbar(!0,1,1),this.applyHideToToolbar(!0,8,8),this.applyHideToToolbar(!0,12,12),this.applyHideToToolbar(!0,15,15)),this.showSeparator(e)},c.prototype.enableToolbarItem=function(e,t){for(var i=0;i<e.length;i++)switch(e[parseInt(i.toString(),10)]){case"OpenOption":this.enableOpenOption(t);break;case"PageNavigationTool":this.isPageNavigationToolDisabled=t,this.enablePageNavigationTool(t);break;case"MagnificationTool":this.isMagnificationToolDisabled=t,this.enableMagnificationTool(t);break;case"SelectionTool":this.isSelectionToolDisabled=t,this.enableSelectionTool(t);break;case"PanTool":this.isScrollingToolDisabled=t,this.enableScrollingTool(t);break;case"DownloadOption":this.enableDownloadOption(t);break;case"PrintOption":this.enablePrintOption(t);break;case"SearchOption":this.enableSearchOption(t);break;case"UndoRedoTool":this.enableUndoRedoTool(t);break;case"AnnotationEditTool":this.enableAnnotationEditTool(t);break;case"FormDesignerEditTool":this.enableFormDesignerEditTool(t);break;case"CommentTool":this.enableCommentsTool(t);break;case"OrganizePagesTool":this.enableOrganizePagesButton(t)}},c.prototype.DisableToolbarItems=function(e,t){switch(e){case"Print":this.enablePrintOption(t);break;case"CopyContent":this.isSelectionToolDisabled=t,this.enableSelectionTool(t),t?this.pdfViewerBase.initiateTextSelectMode():this.pdfViewerBase.initiatePanning(),this.updateInteractionTools(t);break;case"EditAnnotations":this.enableAnnotationEditTool(t),this.annotationToolbarModule&&!this.annotationToolbarModule.isToolbarHidden&&this.annotationToolbarModule.showAnnotationToolbar()}},c.prototype.showOpenOption=function(e){this.isOpenBtnVisible=e,this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[0])?0:this.itemsIndexArray[0].startIndex,G.isNullOrUndefined(this.itemsIndexArray[0])?0:this.itemsIndexArray[0].endIndex)},c.prototype.showPageNavigationTool=function(e){this.isNavigationToolVisible=e,this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[1])?2:this.itemsIndexArray[1].startIndex,G.isNullOrUndefined(this.itemsIndexArray[1])?7:this.itemsIndexArray[1].endIndex)},c.prototype.showMagnificationTool=function(e){this.isMagnificationToolVisible=e,this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[2])?9:this.itemsIndexArray[2].startIndex,G.isNullOrUndefined(this.itemsIndexArray[2])?11:this.itemsIndexArray[2].endIndex)},c.prototype.showSelectionTool=function(e){this.isSelectionBtnVisible=e,this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[3])?13:this.itemsIndexArray[3].startIndex,G.isNullOrUndefined(this.itemsIndexArray[3])?13:this.itemsIndexArray[3].endIndex)},c.prototype.showScrollingTool=function(e){this.isScrollingBtnVisible=e,this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[4])?14:this.itemsIndexArray[4].startIndex,G.isNullOrUndefined(this.itemsIndexArray[4])?14:this.itemsIndexArray[4].endIndex)},c.prototype.showDownloadOption=function(e){this.isDownloadBtnVisible=e,!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[12])?26:this.itemsIndexArray[12].startIndex,G.isNullOrUndefined(this.itemsIndexArray[12])?26:this.itemsIndexArray[12].endIndex):this.applyHideToToolbar(e,6,6)},c.prototype.showPageOrganizerToolbar=function(e){G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.applyHideToToolbar(e,4,4)},c.prototype.showPrintOption=function(e){this.isPrintBtnVisible=e,this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[11])?25:this.itemsIndexArray[11].startIndex,G.isNullOrUndefined(this.itemsIndexArray[11])?25:this.itemsIndexArray[11].endIndex)},c.prototype.showSearchOption=function(e){this.isSearchBtnVisible=e,!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[8])?22:this.itemsIndexArray[8].startIndex,G.isNullOrUndefined(this.itemsIndexArray[8])?22:this.itemsIndexArray[8].endIndex):this.applyHideToToolbar(e,6,6)},c.prototype.showUndoRedoTool=function(e){this.isUndoRedoBtnsVisible=e,!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[5])?16:this.itemsIndexArray[5].startIndex,G.isNullOrUndefined(this.itemsIndexArray[5])?17:this.itemsIndexArray[5].endIndex):this.applyHideToToolbar(e,2,3)},c.prototype.showCommentOption=function(e){this.pdfViewer.enableStickyNotesAnnotation?(this.isCommentBtnVisible=e,this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[6])?18:this.itemsIndexArray[6].startIndex,G.isNullOrUndefined(this.itemsIndexArray[6])?19:this.itemsIndexArray[6].endIndex)):(this.isCommentBtnVisible=e,this.applyHideToToolbar(this.pdfViewer.enableStickyNotesAnnotation,G.isNullOrUndefined(this.itemsIndexArray[6])?18:this.itemsIndexArray[6].startIndex,G.isNullOrUndefined(this.itemsIndexArray[6])?19:this.itemsIndexArray[6].endIndex))},c.prototype.showAnnotationEditTool=function(e){this.isAnnotationEditBtnVisible=e,!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[9])?23:this.itemsIndexArray[9].startIndex,G.isNullOrUndefined(this.itemsIndexArray[9])?23:this.itemsIndexArray[9].endIndex):this.applyHideToToolbar(e,5,5)},c.prototype.showFormDesignerEditTool=function(e){this.isFormDesignerEditBtnVisible=e,this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[10])?24:this.itemsIndexArray[10].startIndex,G.isNullOrUndefined(this.itemsIndexArray[10])?24:this.itemsIndexArray[10].endIndex)},c.prototype.showSubmitForm=function(e){this.isSubmitbtnvisible=e,this.applyHideToToolbar(e,G.isNullOrUndefined(this.itemsIndexArray[7])?20:this.itemsIndexArray[7].startIndex,G.isNullOrUndefined(this.itemsIndexArray[7])?21:this.itemsIndexArray[7].endIndex)},c.prototype.enableOpenOption=function(e){this.enableItems(this.openDocumentItem.parentElement,e)},c.prototype.enablePageNavigationTool=function(e){this.enableItems(this.firstPageItem.parentElement,e),this.enableItems(this.previousPageItem.parentElement,e),this.enableItems(this.nextPageItem.parentElement,e),this.enableItems(this.lastPageItem.parentElement,e),this.currentPageBox.readonly=!e},c.prototype.enableMagnificationTool=function(e){this.enableItems(this.zoomInItem.parentElement,e),this.enableItems(this.zoomOutItem.parentElement,e),this.zoomDropDown.readonly=!e},c.prototype.enableSelectionTool=function(e){this.textSelectItem&&this.textSelectItem.parentElement&&this.enableItems(this.textSelectItem.parentElement,e)},c.prototype.enableScrollingTool=function(e){this.enableItems(this.panItem.parentElement,e)},c.prototype.enableDownloadOption=function(e){this.enableItems(this.downloadItem.parentElement,e)},c.prototype.enablePrintOption=function(e){this.enableItems(this.printItem.parentElement,e)},c.prototype.enableSearchOption=function(e){this.enableItems(this.textSearchItem.parentElement,e)},c.prototype.enableUndoRedoTool=function(e){this.enableItems(this.undoItem.parentElement,e),this.enableItems(this.redoItem.parentElement,e)},c.prototype.enableAnnotationEditTool=function(e){this.enableItems(this.annotationItem.parentElement,e)},c.prototype.enableFormDesignerEditTool=function(e){this.enableItems(this.formDesignerItem.parentElement,e)},c.prototype.enableCommentsTool=function(e){this.pdfViewer.enableStickyNotesAnnotation&&this.enableItems(this.annotationItem.parentElement,e)},c.prototype.enableOrganizePagesButton=function(e){G.isNullOrUndefined(this.organizePageItem)||G.isNullOrUndefined(this.organizePageItem.parentElement)||!this.pdfViewer.enablePageOrganizer||this.enableItems(this.organizePageItem.parentElement,e)},c.prototype.resetToolbar=function(){var e;G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(G.isNullOrUndefined(this.currentPageBox)||(this.currentPageBox.min=0,this.currentPageBox.value=0),this.updateTotalPage(),this.updateToolbarItems(),this.pdfViewer.toolbarModule&&this.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.updateFontSizeInIcon(16),this.annotationToolbarModule?this.annotationToolbarModule.clear():this.annotationToolbarModule&&(this.annotationToolbarModule.propertyToolbar&&this.annotationToolbarModule.propertyToolbar.destroy(),e=document.getElementById(this.pdfViewer.element.id+"_commentscontentcontainer"))&&(e.innerHTML=""))},c.prototype.updateToolbarItems=function(){var e;!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.toolbar&&(0===this.pdfViewerBase.pageCount?(this.enableItems(this.downloadItem.parentElement,!1),this.enableItems(this.printItem.parentElement,!1),this.enableItems(this.commentItem.parentElement,!1),this.updateUndoRedoButtons(),this.updateNavigationButtons(),this.enableItems(this.zoomInItem.parentElement,!1),this.enableItems(this.zoomOutItem.parentElement,!1),this.pdfViewer.magnificationModule&&(this.zoomDropDown.readonly=!0),this.enableItems(this.submitItem.parentElement,!1),this.toolbar.enableItems(this.pdfViewerBase.getElement("_currentPageInputContainer"),!1),this.enableItems(this.pdfViewerBase.getElement("_zoomDropDownContainer"),!1),this.enableItems(this.textSelectItem.parentElement,!1),this.enableItems(this.annotationItem.parentElement,!1),this.enableItems(this.formDesignerItem.parentElement,!1),this.enableItems(this.panItem.parentElement,!1),this.enableItems(this.textSearchItem.parentElement,!1),this.deSelectItem(this.annotationItem),this.annotationToolbarModule&&this.annotationToolbarModule.resetToolbar(),this.deSelectItem(this.formDesignerItem),this.formDesignerToolbarModule&&this.formDesignerToolbarModule.resetFormDesignerToolbar()):0<this.pdfViewerBase.pageCount&&this.pdfViewerBase.getElement("_currentPageInputContainer")&&(this.enableItems(this.downloadItem.parentElement,!0),this.enableItems(this.printItem.parentElement,!0),this.toolbar.enableItems(this.pdfViewerBase.getElement("_currentPageInputContainer"),!0),this.enableItems(this.pdfViewerBase.getElement("_zoomDropDownContainer"),!0),this.updateUndoRedoButtons(),this.updateNavigationButtons(),this.updateZoomButtons(),this.pdfViewer.magnificationModule&&(this.zoomDropDown.readonly=!1),this.updateInteractionItems(),this.pdfViewer.annotationModule&&this.pdfViewer.enableAnnotation&&this.enableItems(this.annotationItem.parentElement,!0),this.pdfViewer.formDesignerModule&&this.pdfViewer.enableFormDesigner&&this.enableItems(this.formDesignerItem.parentElement,!0),this.pdfViewer.textSearchModule&&this.pdfViewer.enableTextSearch&&this.enableItems(this.textSearchItem.parentElement,!0),this.pdfViewer.annotationModule)&&this.pdfViewer.enableStickyNotesAnnotation&&this.enableItems(this.commentItem.parentElement,!0),!this.pdfViewer.toolbarSettings.annotationToolbarItems||0!==this.pdfViewer.toolbarSettings.annotationToolbarItems.length&&this.pdfViewer.annotationModule&&this.pdfViewer.enableAnnotationToolbar||this.enableToolbarItem(["AnnotationEditTool"],!1),!this.pdfViewer.toolbarSettings.formDesignerToolbarItems||0!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.length&&this.pdfViewer.formDesignerModule&&this.pdfViewer.enableFormDesignerToolbar||this.enableToolbarItem(["FormDesignerEditTool"],!1),this.pdfViewer.enableDownload||this.enableDownloadOption(!1),this.pdfViewer.enablePrint||this.enablePrintOption(!1)):0===this.pdfViewerBase.pageCount?(this.enableItems(this.textSearchItem.parentElement,!1),this.enableItems(this.moreOptionItem.parentElement,!1),this.enableItems(this.annotationItem.parentElement,!1)):0<this.pdfViewerBase.pageCount&&(this.enableItems(this.textSearchItem.parentElement,!0),this.enableItems(this.moreOptionItem.parentElement,!0),this.pdfViewer.annotationModule&&this.pdfViewer.enableAnnotation&&this.enableItems(this.annotationItem.parentElement,!0),this.pdfViewer.annotationModule&&this.pdfViewer.enableAnnotationToolbar||this.enableToolbarItem(["AnnotationEditTool"],!1),this.updateUndoRedoButtons(),this.pdfViewer)&&this.pdfViewer.element&&this.pdfViewer.element.id&&this.pdfViewer.isAnnotationToolbarOpen&&(e=this.pdfViewer.element.id+"_annotationIcon",this.annotationToolbarModule.createAnnotationToolbarForMobile(e))},c.prototype.updateNavigationButtons=function(){this.pdfViewer.navigationModule&&!this.isPageNavigationToolDisabled?0===this.pdfViewerBase.pageCount||1===this.pdfViewerBase.currentPageNumber&&1===this.pdfViewerBase.pageCount?(this.enableItems(this.firstPageItem.parentElement,!1),this.enableItems(this.previousPageItem.parentElement,!1),this.enableItems(this.nextPageItem.parentElement,!1),this.enableItems(this.lastPageItem.parentElement,!1)):1===this.pdfViewerBase.currentPageNumber&&0<this.pdfViewerBase.pageCount?(this.enableItems(this.firstPageItem.parentElement,!1),this.enableItems(this.previousPageItem.parentElement,!1),this.enableItems(this.nextPageItem.parentElement,!0),this.enableItems(this.lastPageItem.parentElement,!0)):this.pdfViewerBase.currentPageNumber===this.pdfViewerBase.pageCount&&0<this.pdfViewerBase.pageCount?(this.enableItems(this.firstPageItem.parentElement,!0),this.enableItems(this.previousPageItem.parentElement,!0),this.enableItems(this.nextPageItem.parentElement,!1),this.enableItems(this.lastPageItem.parentElement,!1)):1<this.pdfViewerBase.currentPageNumber&&this.pdfViewerBase.currentPageNumber<this.pdfViewerBase.pageCount&&(this.enableItems(this.firstPageItem.parentElement,!0),this.enableItems(this.previousPageItem.parentElement,!0),this.enableItems(this.nextPageItem.parentElement,!0),this.enableItems(this.lastPageItem.parentElement,!0)):(this.enableItems(this.firstPageItem.parentElement,!1),this.enableItems(this.previousPageItem.parentElement,!1),this.enableItems(this.nextPageItem.parentElement,!1),this.enableItems(this.lastPageItem.parentElement,!1),this.currentPageBox.readonly=!0)},c.prototype.updateZoomButtons=function(){!this.pdfViewer.magnificationModule||this.isMagnificationToolDisabled||G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(null!=this.pdfViewer.minZoom||null!=this.pdfViewer.maxZoom?this.pdfViewer.magnificationModule.zoomFactor<=this.pdfViewer.minZoom/100?(this.enableItems(this.zoomInItem.parentElement,!0),this.enableItems(this.zoomOutItem.parentElement,!1)):(this.pdfViewer.magnificationModule.zoomFactor>=this.pdfViewer.maxZoom/100?this.enableItems(this.zoomInItem.parentElement,!1):this.enableItems(this.zoomInItem.parentElement,!0),this.enableItems(this.zoomOutItem.parentElement,!0)):this.pdfViewer.magnificationModule.zoomFactor<=.1?(this.enableItems(this.zoomInItem.parentElement,!0),this.enableItems(this.zoomOutItem.parentElement,!1)):(4<=this.pdfViewer.magnificationModule.zoomFactor?this.enableItems(this.zoomInItem.parentElement,!1):this.enableItems(this.zoomInItem.parentElement,!0),this.enableItems(this.zoomOutItem.parentElement,!0)))},c.prototype.updateUndoRedoButtons=function(){this.pdfViewer.annotationModule&&0<this.pdfViewerBase.pageCount?G.isBlazor()?(this.enableCollectionAvailableInBlazor(this.pdfViewer.annotationModule.actionCollection,"undo"),this.enableCollectionAvailableInBlazor(this.pdfViewer.annotationModule.redoCollection,"redo")):(G.isNullOrUndefined(this.undoItem)||G.isNullOrUndefined(this.undoItem.parentElement)||this.enableCollectionAvailable(this.pdfViewer.annotationModule.actionCollection,this.undoItem.parentElement),G.isNullOrUndefined(this.redoItem)||G.isNullOrUndefined(this.redoItem.parentElement)||this.enableCollectionAvailable(this.pdfViewer.annotationModule.redoCollection,this.redoItem.parentElement)):G.isBlazor()?this.pdfViewerBase.blazorUIAdaptor.disableUndoRedoButton():this.disableUndoRedoButtons()},c.prototype.enableCollectionAvailable=function(e,t){0<e.length?this.toolbar.enableItems(t,!0):this.toolbar.enableItems(t,!1)},c.prototype.enableCollectionAvailableInBlazor=function(e,t){0<e.length?this.pdfViewerBase.blazorUIAdaptor.updateUndoRedoButton(t,!0):this.pdfViewerBase.blazorUIAdaptor.updateUndoRedoButton(t,!1)},c.prototype.disableUndoRedoButtons=function(){this.enableItems(this.undoItem.parentElement,!1),this.enableItems(this.redoItem.parentElement,!1)},c.prototype.destroy=function(){G.isBlazor()||(this.unWireEvent(),this.destroyComponent(),this.moreDropDown&&this.moreDropDown.destroy(),this.annotationToolbarModule&&this.annotationToolbarModule.destroy(),this.formDesignerToolbarModule&&this.formDesignerToolbarModule.destroy(),this.toolbar&&this.toolbar.destroy(),this.toolbarElement&&this.toolbarElement.parentElement.removeChild(this.toolbarElement))},c.prototype.destroyComponent=function(){for(var e=[this.openDocumentItem,this.firstPageItem,this.previousPageItem,this.nextPageItem,this.lastPageItem,this.currentPageBoxElement,this.zoomOutItem,this.zoomInItem,this.zoomDropdownItem,this.textSelectItem,this.panItem,this.submitItem,this.undoItem,this.redoItem,this.commentItem,this.textSearchItem,this.annotationItem,this.formDesignerItem,this.printItem,this.downloadItem],t=0;t<e.length;t++)e[parseInt(t.toString(),10)]&&this.destroyDependentComponent(e[parseInt(t.toString(),10)])},c.prototype.destroyDependentComponent=function(e){if(e.ej2_instances)for(var t=e.ej2_instances.length-1;0<=t;t--)e.ej2_instances[parseInt(t.toString(),10)].destroy()},c.prototype.updateCurrentPage=function(e){!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?(G.isBlazor()?this.pdfViewerBase.blazorUIAdaptor.pageChanged(e):G.isNullOrUndefined(this.currentPageBox)||(this.currentPageBox.value===e&&(this.currentPageBoxElement.value=e.toString()),this.currentPageBox.value=e),this.pdfViewerBase.currentPageNumber=e,this.pdfViewer.currentPageNumber=e):(this.pdfViewerBase.mobileSpanContainer.innerHTML=e.toString(),this.pdfViewerBase.mobilecurrentPageContainer.innerHTML=e.toString())},c.prototype.updateTotalPage=function(){G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(0<this.pdfViewerBase.pageCount&&(G.isNullOrUndefined(this.currentPageBox)||(this.currentPageBox.min=1)),G.isNullOrUndefined(this.totalPageItem))||(this.totalPageItem.textContent=this.pdfViewer.localeObj.getConstant("of")+this.pdfViewerBase.pageCount.toString())},c.prototype.openFileDialogBox=function(e){e.preventDefault(),this.fileInputElement.click()},c.prototype.createToolbar=function(e){var t=this;return this.toolbarElement=G.createElement("div",{id:this.pdfViewer.element.id+"_toolbarContainer",className:"e-pv-toolbar"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement),!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?(this.toolbar=new w.Toolbar({clicked:this.toolbarClickHandler,width:"",height:"",overflowMode:"Popup",cssClass:"e-pv-toolbar-scroll",items:this.createToolbarItems(),created:function(){t.createZoomDropdown(),t.createNumericTextBox(),t.toolbar.refreshOverflow()}}),this.toolbar.isStringTemplate=!0,this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.toolbar.appendTo(this.toolbarElement),this.applyToolbarSettings(),this.afterToolbarCreation(),this.updateTotalPage(),this.toolbarElement.addEventListener("keydown",this.onToolbarKeydown),this.toolbarElement.setAttribute("aria-label","Toolbar")):(this.createToolbarItemsForMobile(),this.afterToolbarCreationInMobile(),this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.applyToolbarSettingsForMobile(),this.disableUndoRedoButtons()),this.toolbarElement},c.prototype.createCustomItem=function(e){G.isNullOrUndefined(this.pdfViewer.toolbarSettings)||(G.isNullOrUndefined(this.pdfViewer.toolbarSettings.toolbarItems)&&(this.pdfViewer.toolbarSettings.toolbarItems=["OpenOption","PageNavigationTool","MagnificationTool","SelectionTool","PanTool","UndoRedoTool","CommentTool","SubmitForm","SearchOption","AnnotationEditTool","FormDesignerEditTool","PrintOption","DownloadOption"]),G.isNullOrUndefined(this.pdfViewer.toolbarSettings.annotationToolbarItems)&&(this.pdfViewer.toolbarSettings.annotationToolbarItems=["HighlightTool","UnderlineTool","StrikethroughTool","ColorEditTool","OpacityEditTool","AnnotationDeleteTool","StampAnnotationTool","HandWrittenSignatureTool","InkAnnotationTool","ShapeTool","CalibrateTool","StrokeColorEditTool","ThicknessEditTool","FreeTextAnnotationTool","FontFamilyAnnotationTool","FontSizeAnnotationTool","FontStylesAnnotationTool","FontAlignAnnotationTool","FontColorAnnotationTool","CommentPanelTool"]),G.isNullOrUndefined(this.pdfViewer.toolbarSettings.formDesignerToolbarItems)&&(this.pdfViewer.toolbarSettings.formDesignerToolbarItems=["TextboxTool","PasswordTool","CheckBoxTool","RadioButtonTool","DropdownTool","ListboxTool","DrawSignatureTool","DeleteTool"]),G.isNullOrUndefined(this.pdfViewer.toolbarSettings.showTooltip)&&(this.pdfViewer.toolbarSettings.showTooltip=!1));for(var t=e;t<this.pdfViewer.toolbarSettings.toolbarItems.length&&"object"==typeof this.pdfViewer.toolbarSettings.toolbarItems[parseInt(t.toString(),10)];t++){var i,n=this.pdfViewer.toolbarSettings.toolbarItems[parseInt(t.toString(),10)];G.isNullOrUndefined(n.prefixIcon)||""===n.prefixIcon||(n.prefixIcon+=" e-pv-icon"),(G.isNullOrUndefined(n.prefixIcon)||""===n.prefixIcon)&&G.isNullOrUndefined(n.template)&&(i=G.isNullOrUndefined(n.text)?"Custom Toolbar Item":n.text,n.template='<button id="Custom" class="e-tbar-btn" style="font-size:14px"><span>'+i+"</span></button>"),this.toolItems.push(n),!G.isNullOrUndefined(n.align)&&"left"!==n.align&&"Left"!==n.align||this.toolItems.push({type:"Separator",align:"Left"})}},c.prototype.createToolbarItems=function(){for(var e=this.createCurrentPageInputTemplate(),t=this.createTotalPageTemplate(),i=this.createZoomDropdownElement(),n='<button id="'+this.pdfViewer.element.id+'_submitForm" class="e-tbar-btn" style="font-size:15px"><span id="'+this.pdfViewer.element.id+'_submitFormSpan" class="e-tbar-btn-text e-pv-submitform-text">'+this.pdfViewer.localeObj.getConstant("SubmitForm")+"</span></button>",o=["OpenOption","PageNavigationTool","MagnificationTool","SelectionTool","PanTool","UndoRedoTool","CommentTool","SubmitForm","SearchOption","AnnotationEditTool","FormDesignerEditTool","PrintOption","DownloadOption"],r=0;r<o.length;r++){switch(0===r&&this.createCustomItem(r),r){case 0:this.itemsIndexArray.push({item:"OpenOption",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-open-document-icon e-pv-icon",cssClass:"e-pv-open-document-container",id:this.pdfViewer.element.id+"_open",text:this.pdfViewer.localeObj.getConstant("Open text"),align:"Left"}),this.toolItems.push({type:"Separator",align:"Left",cssClass:"e-pv-open-separator-container"});break;case 1:this.pdfViewer.enableRtl?(this.toolItems.push({prefixIcon:"e-pv-last-page-navigation-icon e-pv-icon",cssClass:"e-pv-last-page-navigation-container",id:this.pdfViewer.element.id+"_firstPage",text:this.pdfViewer.localeObj.getConstant("First text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-next-page-navigation-icon e-pv-icon",cssClass:"e-pv-next-page-navigation-container",id:this.pdfViewer.element.id+"_previousPage",text:this.pdfViewer.localeObj.getConstant("Previous text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-previous-page-navigation-icon e-pv-icon",cssClass:"e-pv-previous-page-navigation-container",id:this.pdfViewer.element.id+"_nextPage",text:this.pdfViewer.localeObj.getConstant("Next text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-first-page-navigation-icon e-pv-icon",cssClass:"e-pv-first-page-navigation-container",id:this.pdfViewer.element.id+"_lastPage",text:this.pdfViewer.localeObj.getConstant("Last text"),align:"Left"}),this.toolItems.push({template:t,align:"Left",cssClass:"e-pv-total-page-container"}),this.toolItems.push({template:e,align:"Left",cssClass:"e-pv-current-page-container"})):(this.itemsIndexArray.push({item:"PageNavigationTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length+5}),this.toolItems.push({prefixIcon:"e-pv-first-page-navigation-icon e-pv-icon",cssClass:"e-pv-first-page-navigation-container",id:this.pdfViewer.element.id+"_firstPage",text:this.pdfViewer.localeObj.getConstant("First text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-previous-page-navigation-icon e-pv-icon",cssClass:"e-pv-previous-page-navigation-container",id:this.pdfViewer.element.id+"_previousPage",text:this.pdfViewer.localeObj.getConstant("Previous text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-next-page-navigation-icon e-pv-icon",cssClass:"e-pv-next-page-navigation-container",id:this.pdfViewer.element.id+"_nextPage",text:this.pdfViewer.localeObj.getConstant("Next text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-last-page-navigation-icon e-pv-icon",cssClass:"e-pv-last-page-navigation-container",id:this.pdfViewer.element.id+"_lastPage",text:this.pdfViewer.localeObj.getConstant("Last text"),align:"Left"}),this.toolItems.push({template:e,align:"Left",cssClass:"e-pv-current-page-container"}),this.toolItems.push({template:t,align:"Left",cssClass:"e-pv-total-page-container"})),this.toolItems.push({type:"Separator",align:"Left",cssClass:"e-pv-navigation-separator-container"});break;case 2:this.itemsIndexArray.push({item:"MagnificationTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length+2}),this.toolItems.push({prefixIcon:"e-pv-zoom-out-icon e-pv-icon",cssClass:"e-pv-zoom-out-container",id:this.pdfViewer.element.id+"_zoomOut",text:this.pdfViewer.localeObj.getConstant("Zoom out text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-zoom-in-icon e-pv-icon",cssClass:"e-pv-zoom-in-container",id:this.pdfViewer.element.id+"_zoomIn",text:this.pdfViewer.localeObj.getConstant("Zoom in text"),align:"Left"}),this.toolItems.push({template:i,cssClass:"e-pv-zoom-drop-down-container",align:"Left"}),this.toolItems.push({type:"Separator",align:"Left",cssClass:"e-pv-magnification-separator-container"});break;case 3:this.itemsIndexArray.push({item:"SelectionTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-text-select-tool-icon e-pv-icon",cssClass:"e-pv-text-select-tool-container",id:this.pdfViewer.element.id+"_selectTool",text:this.pdfViewer.localeObj.getConstant("Selection text")});break;case 4:this.itemsIndexArray.push({item:"PanTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-pan-tool-icon e-pv-icon",cssClass:"e-pv-pan-tool-container",id:this.pdfViewer.element.id+"_handTool",text:this.pdfViewer.localeObj.getConstant("Pan text")}),this.toolItems.push({type:"Separator",align:"Left",cssClass:"e-pv-pan-separator-container"});break;case 5:this.itemsIndexArray.push({item:"UndoRedoTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length+1}),this.toolItems.push({prefixIcon:"e-pv-undo-icon e-pv-icon",cssClass:"e-pv-undo-container",id:this.pdfViewer.element.id+"_undo",text:this.pdfViewer.localeObj.getConstant("Undo"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-redo-icon e-pv-icon",cssClass:"e-pv-redo-container",id:this.pdfViewer.element.id+"_redo",text:this.pdfViewer.localeObj.getConstant("Redo"),align:"Left"}),this.toolItems.push({type:"Separator",align:"Left",cssClass:"e-pv-undo-separator-container"});break;case 6:this.itemsIndexArray.push({item:"CommentTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length+1}),this.toolItems.push({prefixIcon:"e-pv-comment-icon e-pv-icon",cssClass:"e-pv-comment-container",id:this.pdfViewer.element.id+"_comment",text:this.pdfViewer.localeObj.getConstant("Add Comments"),align:"Left"}),this.toolItems.push({type:"Separator",align:"Left",cssClass:"e-pv-comment-separator-container"});break;case 7:this.itemsIndexArray.push({item:"SubmitForm",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({template:n,cssClass:"e-pv-submit",align:"Left"});break;case 8:this.itemsIndexArray.push({item:"SearchOption",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-text-search-icon e-pv-icon",cssClass:"e-pv-text-search-container",id:this.pdfViewer.element.id+"_search",text:this.pdfViewer.localeObj.getConstant("Search text"),align:"Right"});break;case 9:this.itemsIndexArray.push({item:"AnnotationEditTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-annotation-icon e-pv-icon",cssClass:"e-pv-annotation-container",id:this.pdfViewer.element.id+"_annotation",text:this.pdfViewer.localeObj.getConstant("Annotation Edit text"),align:"Right"});break;case 10:this.itemsIndexArray.push({item:"FormDesignerEditTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-formdesigner-icon e-pv-icon",cssClass:"e-pv-formdesigner-container",id:this.pdfViewer.element.id+"_formdesigner",text:this.pdfViewer.localeObj.getConstant("FormDesigner Edit text"),align:"Right"});break;case 11:this.itemsIndexArray.push({item:"PrintOption",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-print-document-icon e-pv-icon",cssClass:"e-pv-print-document-container",id:this.pdfViewer.element.id+"_print",text:this.pdfViewer.localeObj.getConstant("Print text"),align:"Right"});break;case 12:this.itemsIndexArray.push({item:"DownloadOption",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-download-document-icon e-pv-icon",cssClass:"e-pv-download-document-container",id:this.pdfViewer.element.id+"_download",text:this.pdfViewer.localeObj.getConstant("Download"),align:"Right"})}for(var a=0;a<this.pdfViewer.toolbarSettings.toolbarItems.length;a++)if(o[parseInt(r.toString(),10)]===this.pdfViewer.toolbarSettings.toolbarItems[parseInt(a.toString(),10)]){if("object"!=typeof this.pdfViewer.toolbarSettings.toolbarItems[a+1])break;this.createCustomItem(a+1)}}return this.toolItems},c.prototype.afterToolbarCreationInMobile=function(){this.itemsContainer=this.toolbar.element.childNodes[0],this.itemsContainer.id=this.pdfViewer.element.id+"_toolbarItemsContainer",this.openDocumentItem=this.addClassToolbarItem("_open","e-pv-open-document",this.pdfViewer.localeObj.getConstant("Open")),this.undoItem=this.addClassToolbarItem("_undo","e-pv-undo",this.pdfViewer.localeObj.getConstant("Undo")),this.redoItem=this.addClassToolbarItem("_redo","e-pv-redo",this.pdfViewer.localeObj.getConstant("Redo")),this.annotationItem=this.addClassToolbarItem("_annotation","e-pv-annotation",this.pdfViewer.localeObj.getConstant("Annotation")),this.textSearchItem=this.addClassToolbarItem("_search","e-pv-text-search",this.pdfViewer.localeObj.getConstant("Text Search"))},c.prototype.afterToolbarCreation=function(){var e=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);this.itemsContainer=this.toolbar.element.childNodes[0],this.itemsContainer.id=this.pdfViewer.element.id+"_toolbarItemsContainer",this.openDocumentItem=this.addClassToolbarItem("_open","e-pv-open-document",this.pdfViewer.localeObj.getConstant("Open")+(e?" (+O)":" (Ctrl+O)")),this.undoItem=this.addClassToolbarItem("_undo","e-pv-undo",this.pdfViewer.localeObj.getConstant("Undo")+(e?" (+Z)":" (Ctrl+Z)")),this.redoItem=this.addClassToolbarItem("_redo","e-pv-redo",this.pdfViewer.localeObj.getConstant("Redo")+(e?" (+Y)":" (Ctrl+Y)")),this.pdfViewer.enableRtl?(this.firstPageItem=this.addClassToolbarItem("_firstPage","e-pv-last-page-navigation",this.pdfViewer.localeObj.getConstant("Go To First Page")+(e?" (+ or +)":" (Ctrl+ or Ctrl+)")),this.previousPageItem=this.addClassToolbarItem("_previousPage","e-pv-next-page-navigation",this.pdfViewer.localeObj.getConstant("Previous Page")+" ()"),this.nextPageItem=this.addClassToolbarItem("_nextPage","e-pv-previous-page-navigation",this.pdfViewer.localeObj.getConstant("Next Page")+" ()"),this.lastPageItem=this.addClassToolbarItem("_lastPage","e-pv-first-page-navigation",this.pdfViewer.localeObj.getConstant("Go To Last Page")+(e?" (+ or +)":" (Ctrl+ or Ctrl+)"))):(this.firstPageItem=this.addClassToolbarItem("_firstPage","e-pv-first-page-navigation",this.pdfViewer.localeObj.getConstant("Go To First Page")+(e?" (+ or +)":" (Ctrl+ or Ctrl+)")),this.previousPageItem=this.addClassToolbarItem("_previousPage","e-pv-previous-page-navigation",this.pdfViewer.localeObj.getConstant("Previous Page")+" ()"),this.nextPageItem=this.addClassToolbarItem("_nextPage","e-pv-next-page-navigation",this.pdfViewer.localeObj.getConstant("Next Page")+" ()"),this.lastPageItem=this.addClassToolbarItem("_lastPage","e-pv-last-page-navigation",this.pdfViewer.localeObj.getConstant("Go To Last Page")+(e?" (+ or +)":" (Ctrl+ or Ctrl+)"))),this.zoomOutItem=this.addClassToolbarItem("_zoomOut","e-pv-zoom-out",this.pdfViewer.localeObj.getConstant("Zoom Out")+(e?" (+Minus)":" (Ctrl+Minus)")),this.zoomInItem=this.addClassToolbarItem("_zoomIn","e-pv-zoom-in",this.pdfViewer.localeObj.getConstant("Zoom In")+(e?" (+Plus)":" (Ctrl+Plus)")),this.textSelectItem=this.addClassToolbarItem("_selectTool","e-pv-text-select-tool",this.pdfViewer.localeObj.getConstant("Text Selection")+(e?" (+V)":" (Shift+V)")),this.panItem=this.addClassToolbarItem("_handTool","e-pv-pan-tool",this.pdfViewer.localeObj.getConstant("Panning")+(e?" (+H)":" (Shift+H)")),this.commentItem=this.addClassToolbarItem("_comment","e-pv-comment",this.pdfViewer.localeObj.getConstant("Add Comments")),this.textSearchItem=this.addClassToolbarItem("_search","e-pv-text-search",this.pdfViewer.localeObj.getConstant("Text Search")+(e?" (+F)":" (Ctrl+F)")),this.textSearchItem.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Search text")),this.annotationItem=this.addClassToolbarItem("_annotation","e-pv-annotation",this.pdfViewer.localeObj.getConstant("Annotation")+(e?" (++A)":" (Ctrl+Shift+A)")),this.annotationItem.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Annotation Edit text")),this.formDesignerItem=this.addClassToolbarItem("_formdesigner","e-pv-formdesigner",this.pdfViewer.localeObj.getConstant("FormDesigner")),this.printItem=this.addClassToolbarItem("_print","e-pv-print-document",this.pdfViewer.localeObj.getConstant("Print")+(e?" (+P)":" (Ctrl+P)")),this.downloadItem=this.addClassToolbarItem("_download","e-pv-download-document",this.pdfViewer.localeObj.getConstant("Download file")+(e?" (+S)":" (Ctrl+S)")),this.zoomDropdownItem=this.pdfViewerBase.getElement("_zoomDropDown"),this.createTooltip(this.zoomDropdownItem,this.pdfViewer.localeObj.getConstant("Zoom")),this.zoomDropdownItem.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Zoom")),this.addPropertiesToolItemContainer(this.zoomDropdownItem.parentElement.parentElement,null,"_zoomDropDownContainer"),this.createTooltip(this.currentPageBoxElement,this.pdfViewer.localeObj.getConstant("Page Number")+(e?" (+G)":" (Ctrl+G)")),this.currentPageBoxElement.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Page Number")),this.submitItem=this.pdfViewerBase.getElement("_submitForm"),this.addPropertiesToolItemContainer(this.submitItem.parentElement,"e-pv-submit","_submitFormContainer"),this.createTooltip(this.submitItem,this.pdfViewer.localeObj.getConstant("SubmitForm")),this.submitItem.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("SubmitForm")),this.addPropertiesToolItemContainer(this.currentPageBoxElement.parentElement.parentElement,"e-pv-current-page-container","_currentPageInputContainer"),this.pdfViewerBase.getElement("_currentPageInputContainer").style.minWidth="20px",this.totalPageItem=this.pdfViewerBase.getElement("_totalPage"),this.addPropertiesToolItemContainer(this.totalPageItem.parentElement,"e-pv-total-page-container","_totalPageContainer")},c.prototype.addClassToolbarItem=function(e,t,i){var n=this.pdfViewerBase.getElement(e);return n.classList.add(t),n.classList.add("e-pv-tbar-btn"),n.setAttribute("aria-label",i),n.parentElement.classList.add(t+"-container"),n.parentElement.classList.add("e-popup-text"),n.parentElement.id=this.pdfViewer.element.id+e+"Container",0<n.childNodes.length&&((t=n.childNodes[0]).id=this.pdfViewer.element.id+e+"Icon",t.classList.remove("e-icons"),t.classList.remove("e-btn-icon"),this.pdfViewer.enableRtl&&t.classList.add("e-right"),t=n.childNodes[1])&&t.classList.contains("e-tbar-btn-text")&&(t.id=this.pdfViewer.element.id+e+"Text"),n.style.width="",this.createTooltip(n,i),n},c.prototype.addPropertiesToolItemContainer=function(e,t,i){null!==t&&e.classList.add(t),e.classList.add("e-popup-text"),e.id=this.pdfViewer.element.id+i},c.prototype.createZoomDropdownElement=function(){return this.createToolbarItem("input",this.pdfViewer.element.id+"_zoomDropDown",null).outerHTML},c.prototype.createZoomDropdown=function(){var e,t,i=this,n=i.pdfViewer.minZoom,o=i.pdfViewer.maxZoom,r=[],a=[10,25,50,75,100,125,150,200,400];if(null!=n&&null!=o&&o<n&&(e=o,o=n,n=e),null!=n||null!=o){var s=0;null==n||r.some(function(e){return parseInt(e.id,10)===n})||(r.push({percent:n+"%",id:s.toString()}),s++);for(var l=0;l<a.length;l++){var A=a[parseInt(l.toString(),10)];t=A,(null==n||n<=t)&&(null==o||t<=o)&&A!==n&&A!==o&&(r.push({percent:A+"%",id:s.toString()}),s++)}null==o||r.some(function(e){return parseInt(e.id,10)===o})||o===n||(r.push({percent:o+"%",id:s.toString()}),s++),r.sort(function(e,t){return parseInt(e.id,10)-parseInt(t.id,10)})}else r.push({percent:"10%",id:"0"},{percent:"35%",id:"1"},{percent:"50%",id:"2"},{percent:"75%",id:"3"},{percent:"100%",id:"4"},{percent:"125%",id:"5"},{percent:"150%",id:"6"},{percent:"200%",id:"7"},{percent:"400%",id:"8"});r.push({percent:i.pdfViewer.localeObj.getConstant("Fit Page"),id:"fitPage"},{percent:i.pdfViewer.localeObj.getConstant("Fit Width"),id:"fitWidth"},{percent:i.pdfViewer.localeObj.getConstant("Automatic"),id:"automatic"}),i.pdfViewer.enableRtl?i.zoomDropDown=new U.ComboBox({dataSource:r,text:"100%",enableRtl:!0,fields:{text:"percent",value:"id"},readonly:!0,cssClass:"e-pv-zoom-drop-down-rtl",popupHeight:"450px",showClearButton:!1,open:i.openZoomDropdown.bind(i),select:function(e){"keydown"===e.e.type&&e.itemData.percent!==i.zoomDropDown.element.value&&(i.zoomDropDownChange(i.zoomDropDown.element.value),e.cancel=!0)}}):i.zoomDropDown=new U.ComboBox({dataSource:r,text:"100%",fields:{text:"percent",value:"id"},readonly:!0,cssClass:"e-pv-zoom-drop-down",popupHeight:"450px",showClearButton:!1,open:i.openZoomDropdown.bind(i),select:function(e){"keydown"===e.e.type&&e.itemData.percent!==i.zoomDropDown.element.value&&(i.zoomDropDownChange(i.zoomDropDown.element.value),e.cancel=!0)}}),i.zoomDropDown.appendTo(i.pdfViewerBase.getElement("_zoomDropDown"))},c.prototype.createCurrentPageInputTemplate=function(){return this.createToolbarItem("input",this.pdfViewer.element.id+"_currentPageInput",null).outerHTML},c.prototype.createTotalPageTemplate=function(){return this.createToolbarItem("span",this.pdfViewer.element.id+"_totalPage","e-pv-total-page").outerHTML},c.prototype.createNumericTextBox=function(){this.currentPageBox=new T.NumericTextBox({value:0,format:"##",cssClass:"e-pv-current-page-box",showSpinButton:!1}),this.currentPageBoxElement=this.pdfViewerBase.getElement("_currentPageInput"),this.currentPageBox.appendTo(this.currentPageBoxElement)},c.prototype.createToolbarItemsForMobile=function(){this.toolbarElement.classList.add("e-pv-mobile-toolbar");var e='<button id="'+this.pdfViewer.element.id+'_more_option" class="e-tbar-btn"></button>';this.toolbar=new w.Toolbar({items:[{prefixIcon:"e-pv-open-document-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Open"),id:this.pdfViewer.element.id+"_open"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-undo-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Undo"),id:this.pdfViewer.element.id+"_undo"},{prefixIcon:"e-pv-redo-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Redo"),id:this.pdfViewer.element.id+"_redo"},{tooltipText:"Organize PDF",id:this.pdfViewer.element.id+"_menu_organize",prefixIcon:"e-pv-organize-view-icon e-pv-icon",align:"Right",disabled:!0},{prefixIcon:"e-pv-annotation-icon e-pv-icon",cssClass:"e-pv-annotation-container",tooltipText:this.pdfViewer.localeObj.getConstant("Annotation"),id:this.pdfViewer.element.id+"_annotation",align:"Right"},{prefixIcon:"e-pv-text-search-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Text Search"),id:this.pdfViewer.element.id+"_search",align:"Right"},{template:e,align:"Right"}],clicked:this.toolbarClickHandler,width:"",height:"",overflowMode:"Popup"}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.toolbarElement),this.openDocumentItem=this.pdfViewerBase.getElement("_open"),this.openDocumentItem.classList.add("e-pv-open-document"),this.openDocumentItem.firstElementChild.id=this.pdfViewer.element.id+"_openIcon",this.annotationItem=this.pdfViewerBase.getElement("_annotation"),this.annotationItem.classList.add("e-pv-annotation"),this.annotationItem.firstElementChild.id=this.pdfViewer.element.id+"_annotationIcon",this.organizePageItem=this.pdfViewerBase.getElement("_menu_organize"),this.organizePageItem.classList.add("e-pv-organize-view"),this.annotationItem.firstElementChild.id=this.pdfViewer.element.id+"_organize-view_icon",this.textSearchItem=this.pdfViewerBase.getElement("_search"),this.textSearchItem.classList.add("e-pv-text-search"),this.textSearchItem.firstElementChild.id=this.pdfViewer.element.id+"_searchIcon",this.undoItem=this.pdfViewerBase.getElement("_undo"),this.undoItem.classList.add("e-pv-undo"),this.redoItem=this.pdfViewerBase.getElement("_redo"),this.redoItem.classList.add("e-pv-redo"),this.redoItem.firstElementChild.id=this.pdfViewer.element.id+"_redoIcon",this.undoItem.firstElementChild.id=this.pdfViewer.element.id+"_undoIcon",this.createMoreOption(this.pdfViewer.element.id+"_more_option")},c.prototype.createMoreOption=function(e){var i=this,t=(this.moreOptionItem=document.getElementById(e),[{text:this.pdfViewer.localeObj.getConstant("Download"),id:this.pdfViewer.element.id+"_menu_download",iconCss:"e-icons e-pv-download-document-icon e-pv-icon"},{text:this.pdfViewer.localeObj.getConstant("Bookmarks"),id:this.pdfViewer.element.id+"_menu_bookmarks",iconCss:"e-icons e-pv-bookmark-icon e-pv-icon"}]);this.moreDropDown=new P.DropDownButton({items:t,iconCss:"e-pv-more-icon e-pv-icon",cssClass:"e-caret-hide",open:function(e){var t=i.moreDropDown.element.getBoundingClientRect();i.pdfViewer.enableRtl||(e.element.parentElement.style.left=t.left+t.width-e.element.parentElement.offsetWidth+"px")},select:function(e){switch(e.item.id){case i.pdfViewer.element.id+"_menu_download":i.pdfViewerBase.download();break;case i.pdfViewer.element.id+"_menu_bookmarks":i.showToolbar(!1),i.pdfViewerBase.navigationPane.createNavigationPaneMobile("bookmarks")}},beforeItemRender:function(e){e.item.id===i.pdfViewer.element.id+"_menu_bookmarks"?i.pdfViewer.bookmarkViewModule&&i.pdfViewer.bookmarkViewModule.bookmarks?e.element.classList.remove("e-disabled"):e.element.classList.add("e-disabled"):e.item.id===i.pdfViewer.element.id+"_menu_download"&&(i.pdfViewer.enableDownload?e.element.classList.remove("e-disabled"):e.element.classList.add("e-disabled"))},close:function(e){i.moreOptionItem.blur(),i.pdfViewerBase.focusViewerContainer()}}),this.moreDropDown.appendTo("#"+e)},c.prototype.createToolbarItem=function(e,t,i){var n=G.createElement(e,{id:t});return null!==i&&(n.className=i),"input"===e&&t!==this.pdfViewer.element.id+"_zoomDropDown"&&(n.type="text"),n},c.prototype.createTooltip=function(e,t){null!==t&&new k.Tooltip({content:G.initializeCSPTemplate(function(){return t}),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(e)},c.prototype.onTooltipBeforeOpen=function(e){!this.pdfViewer.toolbarSettings.showTooltip&&this.toolbarElement.contains(e.target)&&(e.cancel=!0),this.annotationToolbarModule&&!this.pdfViewer.toolbarSettings.showTooltip&&(this.annotationToolbarModule.toolbarElement&&this.annotationToolbarModule.toolbarElement.contains(e.target)||this.annotationToolbarModule.shapeToolbarElement&&this.annotationToolbarModule.shapeToolbarElement.contains(e.target))&&(e.cancel=!0),this.formDesignerToolbarModule&&!this.pdfViewer.toolbarSettings.showTooltip&&this.formDesignerToolbarModule.toolbarElement&&this.formDesignerToolbarModule.toolbarElement.contains(e.target)&&(e.cancel=!0)},c.prototype.createFileElement=function(e){e&&(G.isBlazor()?this.fileInputElement=this.pdfViewer.element.querySelector(".e-pv-fileupload-element"):(this.fileInputElement=G.createElement("input",{id:this.pdfViewer.element.id+"_fileUploadElement",styles:"position:fixed; left:-100em",attrs:{type:"file"}}),this.fileInputElement.setAttribute("accept",".pdf"),this.fileInputElement.setAttribute("aria-label","file upload element"),this.fileInputElement.setAttribute("tabindex","-1")),e)&&e.appendChild(this.fileInputElement)},c.prototype.wireEvent=function(){this.fileInputElement&&this.fileInputElement.addEventListener("change",this.loadDocument),G.isBlazor()||G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.toolbarElement.addEventListener("mouseup",this.toolbarOnMouseup.bind(this)),this.currentPageBoxElement.addEventListener("focusout",this.textBoxFocusOut),this.currentPageBoxElement.addEventListener("keypress",this.navigateToPage),this.zoomDropDown.change=this.zoomPercentSelect.bind(this),this.zoomDropDown.element.addEventListener("keypress",this.onZoomDropDownInput.bind(this)),this.zoomDropDown.element.addEventListener("click",this.onZoomDropDownInputClick.bind(this)))},c.prototype.unWireEvent=function(){this.fileInputElement&&this.fileInputElement.removeEventListener("change",this.loadDocument),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||G.isBlazor()||(G.isNullOrUndefined(this.toolbarElement)||this.toolbarElement.removeEventListener("mouseup",this.toolbarOnMouseup.bind(this)),G.isNullOrUndefined(this.currentPageBoxElement)||(this.currentPageBoxElement.removeEventListener("focusout",this.textBoxFocusOut),this.currentPageBoxElement.removeEventListener("keypress",this.navigateToPage)),G.isNullOrUndefined(this.zoomDropDown))||(this.zoomDropDown.removeEventListener("change",this.zoomPercentSelect),this.zoomDropDown.element.removeEventListener("keypress",this.onZoomDropDownInput),this.zoomDropDown.element.removeEventListener("click",this.onZoomDropDownInputClick))},c.prototype.onToolbarResize=function(e){G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?this.pdfViewerBase.navigationPane.toolbarResize():G.isNullOrUndefined(this.toolbar)||this.toolbar.refreshOverflow()},c.prototype.toolbarOnMouseup=function(e){e.target!==this.itemsContainer&&e.target!==this.toolbarElement||this.pdfViewerBase.focusViewerContainer()},c.prototype.applyHideToToolbar=function(e,t,i){for(var n,o=!e,r=t;r<=i;r++)!G.isNullOrUndefined(this.toolbar)&&this.toolbar.items[parseInt(r.toString(),10)]&&((n=this.toolbar.items[parseInt(r.toString(),10)].cssClass)&&""!==n?(n=this.toolbar.element.querySelector("."+n))&&this.toolbar.hideItem(n,o):this.toolbar.hideItem(r,o))},c.prototype.handleOpenIconClick=function(e,t){this.fileInputElement.click(),!G.Browser.isDevice||this.pdfViewer.enableDesktopMode||t||(G.isBlazor()||e.originalEvent.target.blur(),this.pdfViewerBase.focusViewerContainer())},c.prototype.handleToolbarBtnClick=function(e,t){switch(this.addInkAnnotation(),this.deSelectCommentAnnotation(),e.originalEvent.target.id||!G.isNullOrUndefined(e.item)&&e.item.id){case this.pdfViewer.element.id+"_open":case this.pdfViewer.element.id+"_openIcon":case this.pdfViewer.element.id+"_openText":this.handleOpenIconClick(e,t);break;case this.pdfViewer.element.id+"_download":case this.pdfViewer.element.id+"_downloadIcon":case this.pdfViewer.element.id+"_downloadText":this.pdfViewerBase.download();break;case this.pdfViewer.element.id+"_print":case this.pdfViewer.element.id+"_printIcon":case this.pdfViewer.element.id+"_printText":this.pdfViewer.printModule&&this.pdfViewer.firePrintStart();break;case this.pdfViewer.element.id+"_undo":case this.pdfViewer.element.id+"_undoIcon":case this.pdfViewer.element.id+"_undoText":this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.undo();break;case this.pdfViewer.element.id+"_redo":case this.pdfViewer.element.id+"_redoIcon":case this.pdfViewer.element.id+"_redoText":this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.redo();break;case this.pdfViewer.element.id+"_firstPage":case this.pdfViewer.element.id+"_firstPageIcon":case this.pdfViewer.element.id+"_firstPageText":this.pdfViewer.navigationModule&&this.pdfViewer.navigationModule.goToFirstPage();break;case this.pdfViewer.element.id+"_previousPage":case this.pdfViewer.element.id+"_previousPageIcon":case this.pdfViewer.element.id+"_previousPageText":this.pdfViewer.navigationModule&&this.pdfViewer.navigationModule.goToPreviousPage();break;case this.pdfViewer.element.id+"_nextPage":case this.pdfViewer.element.id+"_nextPageIcon":case this.pdfViewer.element.id+"_nextPageText":this.pdfViewer.navigationModule&&this.pdfViewer.navigationModule.goToNextPage();break;case this.pdfViewer.element.id+"_lastPage":case this.pdfViewer.element.id+"_lastPageIcon":case this.pdfViewer.element.id+"_lastPageText":this.pdfViewer.navigationModule&&this.pdfViewer.navigationModule.goToLastPage();break;case this.pdfViewer.element.id+"_zoomIn":case this.pdfViewer.element.id+"_zoomInIcon":case this.pdfViewer.element.id+"_zoomInText":this.pdfViewer.magnificationModule.zoomIn();break;case this.pdfViewer.element.id+"_zoomOut":case this.pdfViewer.element.id+"_zoomOutIcon":case this.pdfViewer.element.id+"_zoomOutText":this.pdfViewer.magnificationModule.zoomOut();break;case this.pdfViewer.element.id+"_selectTool":case this.pdfViewer.element.id+"_selectToolIcon":case this.pdfViewer.element.id+"_selectToolText":this.isSelectionToolDisabled||(this.pdfViewerBase.initiateTextSelectMode(),this.updateInteractionTools(!0));break;case this.pdfViewer.element.id+"_handTool":case this.pdfViewer.element.id+"_handToolIcon":case this.pdfViewer.element.id+"_handToolText":this.isScrollingToolDisabled||this.getStampMode()||(this.pdfViewerBase.initiatePanning(),this.updateInteractionTools(!1));break;case this.pdfViewer.element.id+"_search":case this.pdfViewer.element.id+"_searchIcon":case this.pdfViewer.element.id+"_searchText":this.textSearchButtonHandler();break;case this.pdfViewer.element.id+"_annotation":case this.pdfViewer.element.id+"_annotationIcon":case this.pdfViewer.element.id+"_annotationText":this.initiateAnnotationMode(e.originalEvent.target.id,t);break;case this.pdfViewer.element.id+"_formdesigner":case this.pdfViewer.element.id+"_formdesignerIcon":case this.pdfViewer.element.id+"_formdesignerText":this.initiateFormDesignerMode(t),this.formDesignerToolbarModule.showHideDeleteIcon(!1);break;case this.pdfViewer.element.id+"_comment":case this.pdfViewer.element.id+"_commentIcon":case this.pdfViewer.element.id+"_commentText":this.pdfViewerBase.isAddComment=!0,this.pdfViewerBase.isCommentIconAdded=!0,this.annotationToolbarModule.deselectAllItems(),this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent(),this.addComments(e.originalEvent.target);break;case this.pdfViewer.element.id+"_submitForm":case this.pdfViewer.element.id+"_submitFormSpan":this.pdfViewerBase.exportFormFields(void 0,v.FormFieldDataFormat.Json);break;case this.pdfViewer.element.id+"_menu_organize":G.isNullOrUndefined(this.pdfViewer.pageOrganizer)||this.pdfViewer.pageOrganizer.createOrganizeWindowForMobile();break;default:this.pdfViewer.fireCustomToolbarClickEvent(e)}},c.prototype.addInkAnnotation=function(){var e;this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.inkAnnotationModule&&(e=parseInt(this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10),this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(e)),this.annotationToolbarModule&&(this.pdfViewer.toolbar.annotationToolbarModule.deselectInkAnnotation(),this.annotationToolbarModule.inkAnnotationSelected=!1)},c.prototype.deSelectCommentAnnotation=function(){G.isBlazor()?this.pdfViewer.toolbar.deSelectItem(this.CommentElement):this.pdfViewer.toolbar.deSelectItem(this.commentItem),this.pdfViewerBase.isCommentIconAdded=!1},c.prototype.addComments=function(e){G.isBlazor()?(this.pdfViewerBase.isCommentIconAdded=!0,this.pdfViewerBase.isAddComment=!0,this.annotationToolbarModule.deselectAllItemsInBlazor(),this.CommentElement.classList.add("e-pv-select")):e.id===this.pdfViewer.element.id+"_comment"||e.id===this.pdfViewer.element.id+"_commentIcon"||e.id===this.pdfViewer.element.id+"_commentText"?(e.id!==this.pdfViewer.element.id+"_commentIcon"&&e.id!==this.pdfViewer.element.id+"_commentText"||!e.parentElement?e:e.parentElement).classList.add("e-pv-select"):this.pdfViewer.enableRtl?e.className="e-pv-comment-selection-icon e-pv-icon e-icon-left e-right":e.className="e-pv-comment-selection-icon e-pv-icon e-icon-left",this.updateStampItems(),document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+(this.pdfViewerBase.currentPageNumber-1)).addEventListener("mousedown",this.pdfViewer.annotationModule.stickyNotesAnnotationModule.drawIcons.bind(this))},c.prototype.openZoomDropdown=function(){var e,t,i=this;document.fullscreen&&(G.isBlazor()?(e=document.fullscreenElement)&&"BODY"!==e.tagName&&"HTML"!==e.tagName&&setTimeout(function(){var e=document.getElementById(i.pdfViewer.element.id+"_zoomCombo_popup"),t=document.getElementById(i.toolbarElement.id);e&&t&&e.ej2_instances&&(t.appendChild(e),e.ej2_instances[0].refreshPosition())},100):(e=document.getElementById(this.pdfViewer.element.id+"_zoomDropDown_popup"),t=document.getElementById(this.toolbarElement.id),e&&t.appendChild(e)))},c.prototype.onZoomDropDownInput=function(e){return(e.which<48||57<e.which)&&8!==e.which&&13!==e.which&&32!==e.which?(e.preventDefault(),!1):(13===e.which&&(e.preventDefault(),e=this.zoomDropDown.element.value.trim(),this.zoomDropDownChange(e)),!0)},c.prototype.onZoomDropDownInputClick=function(){this.zoomDropDown.element.select()},c.prototype.zoomPercentSelect=function(e){0<this.pdfViewerBase.pageCount&&(e.isInteracted?e.itemData&&(e=e.itemData.percent,this.zoomDropDownChange(e)):this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor))},c.prototype.zoomDropDownChange=function(e){e!==this.pdfViewer.localeObj.getConstant("Fit Width")&&e!==this.pdfViewer.localeObj.getConstant("Fit Page")&&e!==this.pdfViewer.localeObj.getConstant("Automatic")?(this.pdfViewer.magnificationModule.isAutoZoom=!1,this.pdfViewerBase.previousScrollbarWidth=this.pdfViewerBase.navigationPane.getViewerContainerScrollbarWidth(),this.pdfViewer.magnificationModule.zoomTo(parseFloat(e)),this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor),this.zoomDropDown.focusOut()):e===this.pdfViewer.localeObj.getConstant("Fit Width")?(this.pdfViewer.magnificationModule.isAutoZoom=!1,this.pdfViewer.magnificationModule.fitToWidth(),this.zoomDropDown.focusOut()):e===this.pdfViewer.localeObj.getConstant("Fit Page")?(this.pdfViewer.magnificationModule.fitToPage(),this.zoomDropDown.focusOut()):e===this.pdfViewer.localeObj.getConstant("Automatic")&&(this.pdfViewer.magnificationModule.isAutoZoom=!0,this.pdfViewer.magnificationModule.fitToAuto(),this.zoomDropDown.focusOut())},c.prototype.updateZoomPercentage=function(e){var t,i;G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(t=parseInt((100*e).toString(),10)+"%",G.isBlazor()?(i=this.pdfViewerBase.getElement("_zoomDropDown"))&&0<i.children.length&&(i.children[0].children[0].value=t):G.isNullOrUndefined(this.zoomDropDown)||(this.zoomDropDown.text===t&&(this.zoomDropDown.element.value=t),11===this.zoomDropDown.index&&(this.zoomDropDown.value=4),this.pdfViewerBase.isMinimumZoom=e<=.25,this.zoomDropDown.text=t))},c.prototype.updateInteractionItems=function(){this.pdfViewer.textSelectionModule&&this.pdfViewer.enableTextSelection?this.enableItems(this.textSelectItem.parentElement,!0):this.enableItems(this.textSelectItem.parentElement,!1),this.enableItems(this.panItem.parentElement,!0),"TextSelection"===this.pdfViewer.interactionMode&&this.pdfViewer.enableTextSelection?(this.selectItem(this.textSelectItem),this.textSelectItem.setAttribute("tabindex","-1"),this.deSelectItem(this.panItem),this.panItem.setAttribute("tabindex","0")):(this.selectItem(this.panItem),this.panItem.setAttribute("tabindex","-1"),this.deSelectItem(this.textSelectItem),this.textSelectItem.setAttribute("tabindex","0"),this.pdfViewerBase.initiatePanning())},c.prototype.textSearchButtonHandler=function(e){var t;!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.pdfViewer.textSearchModule&&0<this.pdfViewerBase.pageCount&&(this.isTextSearchBoxDisplayed=!this.isTextSearchBoxDisplayed,this.pdfViewer.textSearchModule.showSearchBox(this.isTextSearchBoxDisplayed),this.isTextSearchBoxDisplayed?(G.isBlazor()||(this.selectItem(this.textSearchItem),this.textSearchItem.setAttribute("tabindex","0")),(t=document.getElementById(this.pdfViewer.element.id+"_search_input")).select(),t.focus()):G.isBlazor()?(t=this.pdfViewerBase.getElement("_search"),e?t.firstElementChild.focus():(t.firstElementChild.blur(),this.pdfViewerBase.focusViewerContainer())):(this.deSelectItem(this.textSearchItem),this.textSearchItem.blur())):(this.showToolbar(!1),this.pdfViewerBase.navigationPane.createNavigationPaneMobile("search"))},c.prototype.initiateAnnotationMode=function(e,t){!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.annotationToolbarModule&&this.pdfViewer.enableAnnotationToolbar&&(this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem),this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.refreshOverflow(),(t||0<this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.items.length)&&document.getElementById(this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.items[0].id).focus(),this.pdfViewer.isAnnotationToolbarVisible)&&this.pdfViewer.isFormDesignerToolbarVisible&&(document.getElementById(this.pdfViewer.element.id+"_formdesigner_toolbar").style.display="none",this.formDesignerToolbarModule.isToolbarHidden=!1,this.formDesignerToolbarModule.showFormDesignerToolbar(this.formDesignerItem),this.annotationToolbarModule.adjustViewer(!0)):G.isBlazor()||(e===this.pdfViewer.element.id+"_annotation"&&(e=this.pdfViewer.element.id+"_annotationIcon"),this.annotationToolbarModule.createAnnotationToolbarForMobile(e))},c.prototype.initiateFormDesignerMode=function(e){var t;this.formDesignerToolbarModule&&this.pdfViewer.enableFormDesignerToolbar&&(this.formDesignerToolbarModule.showFormDesignerToolbar(this.formDesignerItem),this.pdfViewer.isAnnotationToolbarVisible&&this.pdfViewer.isFormDesignerToolbarVisible&&(document.getElementById(this.pdfViewer.element.id+"_annotation_toolbar").style.display="none",t=document.getElementById(this.pdfViewer.element.id+"_commantPanel"),G.isNullOrUndefined(t)||G.isNullOrUndefined(this.pdfViewerBase.navigationPane)||"block"===t.style.display&&this.pdfViewerBase.navigationPane.closeCommentPanelContainer(),this.annotationToolbarModule.isToolbarHidden=!1,this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem),this.formDesignerToolbarModule.adjustViewer(!0)),e)&&0<this.pdfViewer.toolbarModule.formDesignerToolbarModule.toolbar.items.length&&document.getElementById(this.pdfViewer.toolbarModule.formDesignerToolbarModule.toolbar.items[0].id).focus()},c.prototype.DisableInteractionTools=function(){this.deSelectItem(this.textSelectItem),this.deSelectItem(this.panItem)},c.prototype.selectItem=function(e){e&&e.classList.add("e-pv-select")},c.prototype.deSelectItem=function(e){e&&e.classList.remove("e-pv-select")},c.prototype.updateInteractionTools=function(e){var t=G.isBlazor();e?t?(this.selectItem(this.SelectToolElement),this.deSelectItem(this.PanElement)):(this.selectItem(this.textSelectItem),G.isNullOrUndefined(this.textSelectItem)||this.textSelectItem.setAttribute("tabindex","-1"),this.deSelectItem(this.panItem),G.isNullOrUndefined(this.panItem)||this.panItem.setAttribute("tabindex","0")):t?(this.selectItem(this.PanElement),this.deSelectItem(this.SelectToolElement)):(this.selectItem(this.panItem),G.isNullOrUndefined(this.panItem)||this.panItem.setAttribute("tabindex","-1"),this.deSelectItem(this.textSelectItem),G.isNullOrUndefined(this.textSelectItem)||this.textSelectItem.setAttribute("tabindex","0"))},c.prototype.initialEnableItems=function(){this.pdfViewer.enableToolbar?this.showToolbar(!0):this.showToolbar(!1),this.pdfViewer.enableNavigationToolbar?this.showNavigationToolbar(!0):this.showNavigationToolbar(!1),this.pdfViewer.pageOrganizer?this.showPageOrganizerToolbar(!0):this.showPageOrganizerToolbar(!1),G.isBlazor()||(this.isPrintBtnVisible?this.showPrintOption(!0):this.showPrintOption(!1),this.isDownloadBtnVisible?this.showDownloadOption(!0):this.showDownloadOption(!1),this.isSearchBtnVisible?this.showSearchOption(!0):this.showSearchOption(!1),this.isCommentBtnVisible?this.showCommentOption(!0):this.showCommentOption(!1))},c.prototype.showSeparator=function(e){this.isOpenBtnVisible&&(this.isNavigationToolVisible||this.isMagnificationToolVisible||this.isSelectionBtnVisible||this.isScrollingBtnVisible||this.isUndoRedoBtnsVisible)||this.applyHideToToolbar(!1,G.isNullOrUndefined(this.itemsIndexArray[0])?1:this.itemsIndexArray[0].endIndex+1,G.isNullOrUndefined(this.itemsIndexArray[0])?1:this.itemsIndexArray[0].endIndex+1),(this.isNavigationToolVisible||this.isMagnificationToolVisible||this.isOpenBtnVisible)&&(!this.isOpenBtnVisible||this.isNavigationToolVisible)&&(this.isOpenBtnVisible||this.isNavigationToolVisible)&&(this.isMagnificationToolVisible||this.isScrollingBtnVisible||this.isSelectionBtnVisible)||this.applyHideToToolbar(!1,G.isNullOrUndefined(this.itemsIndexArray[1])?8:this.itemsIndexArray[1].endIndex+1,G.isNullOrUndefined(this.itemsIndexArray[1])?8:this.itemsIndexArray[1].endIndex+1),(this.isMagnificationToolVisible||this.isSelectionBtnVisible||this.isScrollingBtnVisible)&&(!this.isMagnificationToolVisible||this.isSelectionBtnVisible||this.isScrollingBtnVisible)&&(this.isMagnificationToolVisible||!this.isSelectionBtnVisible&&!this.isScrollingBtnVisible)||this.applyHideToToolbar(!1,G.isNullOrUndefined(this.itemsIndexArray[2])?12:this.itemsIndexArray[2].endIndex+1,G.isNullOrUndefined(this.itemsIndexArray[2])?12:this.itemsIndexArray[2].endIndex+1),(this.isMagnificationToolVisible||this.isNavigationToolVisible||this.isScrollingBtnVisible||this.isSelectionBtnVisible||!this.isUndoRedoBtnsVisible)&&this.isUndoRedoBtnsVisible||this.applyHideToToolbar(!1,G.isNullOrUndefined(this.itemsIndexArray[4])?15:this.itemsIndexArray[4].endIndex+1,G.isNullOrUndefined(this.itemsIndexArray[4])?15:this.itemsIndexArray[4].endIndex+1),this.isUndoRedoBtnsVisible&&(!this.isUndoRedoBtnsVisible||this.isCommentBtnVisible||this.isSubmitbtnvisible)||G.isNullOrUndefined(this.itemsIndexArray[5])||this.applyHideToToolbar(!1,this.itemsIndexArray[5].endIndex+1,this.itemsIndexArray[5].endIndex+1)},c.prototype.applyToolbarSettings=function(){var e=this.pdfViewer.toolbarSettings.toolbarItems;e&&(-1!==e.indexOf("OpenOption")?this.showOpenOption(!0):this.showOpenOption(!1),-1!==e.indexOf("PageNavigationTool")?this.showPageNavigationTool(!0):this.showPageNavigationTool(!1),-1!==e.indexOf("MagnificationTool")?this.showMagnificationTool(!0):this.showMagnificationTool(!1),-1!==e.indexOf("SelectionTool")?this.showSelectionTool(!0):this.showSelectionTool(!1),-1!==e.indexOf("PanTool")?this.showScrollingTool(!0):this.showScrollingTool(!1),-1!==e.indexOf("PrintOption")?this.showPrintOption(!0):this.showPrintOption(!1),-1!==e.indexOf("DownloadOption")?this.showDownloadOption(!0):this.showDownloadOption(!1),-1!==e.indexOf("SearchOption")?this.showSearchOption(!0):this.showSearchOption(!1),-1!==e.indexOf("UndoRedoTool")?this.showUndoRedoTool(!0):this.showUndoRedoTool(!1),-1!==e.indexOf("AnnotationEditTool")?this.showAnnotationEditTool(!0):this.showAnnotationEditTool(!1),-1!==e.indexOf("FormDesignerEditTool")?this.showFormDesignerEditTool(!0):this.showFormDesignerEditTool(!1),-1!==e.indexOf("CommentTool")?this.showCommentOption(!0):this.showCommentOption(!1),-1!==e.indexOf("SubmitForm")?this.showSubmitForm(!0):this.showSubmitForm(!1),this.showSeparator(e))},c.prototype.applyToolbarSettingsForMobile=function(){var e=this.pdfViewer.toolbarSettings.toolbarItems;e&&(-1!==e.indexOf("OpenOption")?this.showOpenOption(!0):this.showOpenOption(!1),-1!==e.indexOf("UndoRedoTool")?this.showUndoRedoTool(!0):this.showUndoRedoTool(!1),-1!==e.indexOf("AnnotationEditTool")?this.showAnnotationEditTool(!0):this.showAnnotationEditTool(!1),-1!==e.indexOf("SearchOption")?this.showSearchOption(!0):this.showSearchOption(!1))},c.prototype.getStampMode=function(){return!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.stampAnnotationModule)&&this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode},c.prototype.stampBeforeOpen=function(e){if(this.annotationToolbarModule.resetFreeTextAnnot(),""===e.ParentItem.Text&&this.pdfViewer.customStampSettings.isAddToMenu&&0<e.Items.length){for(var t=null,i=0;i<e.Items.length;i++)if("Custom Stamp"===e.Items[parseInt(i.toString(),10)].Text){e.Items[parseInt(i.toString(),10)].Items=[],t=e.Items[parseInt(i.toString(),10)];break}var n=this.pdfViewerBase.customStampCollection,o=this.pdfViewer.customStampSettings.customStamps;if(0===n.length&&o&&0<o.length)for(var r=0;r<o.length;r++)n.push({customStampName:o[parseInt(r.toString(),10)].customStampName,customStampImageSource:o[parseInt(r.toString(),10)].customStampImageSource});for(var a=0;a<n.length;a++)null!=t&&t.Items.push({text:n[parseInt(a.toString(),10)].customStampName})}},c.prototype.stampBeforeClose=function(e,t){e.ParentItem&&"Custom Stamp"!==e.ParentItem.Text&&"Standard Business"!==e.ParentItem.Text&&"Dynamic"!==e.ParentItem.Text&&"Sign Here"!==e.ParentItem.Text||e.ParentItem},c.prototype.updateStampItems=function(){this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.stampAnnotationModule&&this.pdfViewer.annotationModule.stampAnnotationModule.isNewStampAnnot&&(this.pdfViewer.selectedItems.annotations[0]&&(this.pdfViewer.remove(this.pdfViewer.selectedItems.annotations[0]),this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber-1),this.pdfViewer.renderDrawing(),this.pdfViewerBase.tool=null),this.pdfViewerBase.isAlreadyAdded=!1,this.pdfViewer.annotationModule.stampAnnotationModule.isNewStampAnnot=!1)},c.prototype.stampSelect=function(e,t){if(this.pdfViewerBase.isAlreadyAdded=!1,this.updateStampItems(),"Custom Stamp"===e.Item.Text){this.annotationToolbarModule.checkStampAnnotations(),this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0;var i=G.createElement("input",{id:this.pdfViewer.element.id+"_stampElement",attrs:{type:"file"}});i.setAttribute("accept",".jpg,.jpeg,.png"),i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.visibility="hidden",document.body.appendChild(i),i.click(),i.addEventListener("change",this.annotationToolbarModule.addStampImage),document.body.removeChild(i)}else if("Custom Stamp"===t&&""!==e.Item.Text)for(var n=this.pdfViewerBase.customStampCollection,o=0;o<n.length;o++)n[parseInt(o.toString(),10)].customStampName===e.Item.Text&&(this.pdfViewer.annotationModule.stampAnnotationModule.customStampName=e.Item.Text,this.annotationToolbarModule.checkStampAnnotations(),this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0,this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,this.pdfViewerBase.stampAdded=!0,this.pdfViewerBase.isAlreadyAdded=!0,this.pdfViewer.annotationModule.stampAnnotationModule.createCustomStampAnnotation(n[parseInt(o.toString(),10)].customStampImageSource),this.pdfViewerBase.stampAdded=!1);else"Dynamic"===e.Item.Text||""===e.Item.Text||"Standard Business"===e.Item.Text||"Sign Here"!==t&&"Sign Here"===e.Item.Text||(this.annotationToolbarModule.checkStampAnnotations(),this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0,this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,this.pdfViewerBase.stampAdded=!0,"Dynamic"===t?(this.pdfViewerBase.isDynamicStamp=!0,this.pdfViewer.annotationModule.stampAnnotationModule.retrieveDynamicStampAnnotation(e.Item.Text)):(this.pdfViewerBase.isDynamicStamp=!1,this.pdfViewer.annotationModule.stampAnnotationModule.retrievestampAnnotation(e.Item.Text)))},c.prototype.enableItems=function(e,t){this.toolbar.enableItems(e,t),e&&e.id===this.pdfViewer.element.id+"_zoomDropDownContainer"?(this.pdfViewerBase.getElement("_zoomDropDown").setAttribute("tabindex",t?"0":"-1"),this.pdfViewerBase.getElement("_zoomDropDown").setAttribute("data-tabindex",t?"0":"-1")):e.firstElementChild&&e.id!==this.pdfViewer.element.id+"_zoomDropDownContainer"&&(e.firstElementChild.setAttribute("tabindex",t?"0":"-1"),e.firstElementChild.setAttribute("data-tabindex",t?"0":"-1"))},c.prototype.getModuleName=function(){return"Toolbar"};var Dn=c;function c(e,t){var o=this;this.isPageNavigationToolDisabled=!1,this.isMagnificationToolDisabled=!1,this.isSelectionToolDisabled=!1,this.isScrollingToolDisabled=!1,this.isOpenBtnVisible=!0,this.isNavigationToolVisible=!0,this.isMagnificationToolVisible=!0,this.isSelectionBtnVisible=!0,this.isScrollingBtnVisible=!0,this.isDownloadBtnVisible=!0,this.isPrintBtnVisible=!0,this.isSearchBtnVisible=!0,this.isTextSearchBoxDisplayed=!1,this.isUndoRedoBtnsVisible=!0,this.isAnnotationEditBtnVisible=!0,this.isFormDesignerEditBtnVisible=!0,this.isCommentBtnVisible=!0,this.isSubmitbtnvisible=!0,this.toolItems=[],this.itemsIndexArray=[],this.onToolbarKeydown=function(e){var t="Tab"===e.key||!0===e.shiftKey||"Enter"===e.key||" "===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key,i=e.target.id,n=o.toolItems.filter(function(e){return e.id===i});i===o.pdfViewer.element.id+"_currentPageInput"||i===o.pdfViewer.element.id+"_zoomDropDown"||0<n.length||t||(e.preventDefault(),e.stopPropagation())},this.toolbarClickHandler=function(t){var e=t.originalEvent&&"mouse"!==t.originalEvent.pointerType&&"touch"!==t.originalEvent.pointerType,i=(G.Browser.isDevice&&!o.pdfViewer.enableDesktopMode||(t.originalEvent.target===o.zoomDropdownItem.parentElement.childNodes[1]||t.originalEvent.target===o.zoomDropdownItem.parentElement.childNodes[2]?t.cancel=!0:t.originalEvent.target.id===o.pdfViewer.element.id+"_openIcon"&&(i=t.originalEvent.target.parentElement.dataset)&&i.tooltipId&&(i=document.getElementById(i.tooltipId))&&(i.style.display="none")),o.handleToolbarBtnClick(t,e),t.originalEvent.target),n=[];G.isNullOrUndefined(t.item)||(n=o.toolItems.filter(function(e){return e.id===t.item.id})),(!G.Browser.isDevice||o.pdfViewer.enableDesktopMode)&&(t.originalEvent.target===o.zoomDropdownItem.parentElement.childNodes[1]||t.originalEvent.target===o.zoomDropdownItem.parentElement.childNodes[2]||t.originalEvent.target===o.currentPageBoxElement||t.originalEvent.target===o.textSearchItem.childNodes[0]||0<n.length||e||i.parentElement.id===o.pdfViewer.element.id+"_toolbarContainer_nav"||i.id===o.pdfViewer.element.id+"_toolbarContainer_nav")||(t.originalEvent.target.blur(),o.pdfViewerBase.focusViewerContainer())},this.loadDocument=function(t){var e,i=t.target.files;null!==t.target.files[0]&&(i=i[0])&&(o.uploadedDocumentName=i.name,e=new FileReader,o.pdfViewerBase.clientSideRendering?e.readAsArrayBuffer(i):e.readAsDataURL(i),e.onload=function(e){t.target.value=null;e=e.currentTarget.result;o.pdfViewer.uploadedFileByteArray=new Uint8Array(e),G.isBlazor()?o.pdfViewer._dotnetInstance.invokeMethodAsync("LoadDocumentFromClient",e):(o.pdfViewerBase.clientSideRendering?(o.uploadedFile=o.pdfViewer.uploadedFileByteArray,o.pdfViewer.load(o.pdfViewer.uploadedFileByteArray,null),o.pdfViewerBase.isSkipDocumentPath=!0,o.pdfViewer.documentPath=o.pdfViewer.uploadedFileByteArray):(o.uploadedFile=e,o.pdfViewer.load(e,null),o.pdfViewerBase.isSkipDocumentPath=!0,o.pdfViewer.documentPath=e),o.pdfViewerBase.documentPathByteArray=o.pdfViewer.documentPath),G.isNullOrUndefined(o.fileInputElement)||(o.fileInputElement.value="")})},this.navigateToPage=function(e){13===e.which&&(null!==(e=parseInt(o.currentPageBoxElement.value,10))&&0<e&&e<=o.pdfViewerBase.pageCount?o.pdfViewer.navigationModule&&o.pdfViewer.navigationModule.goToPage(e):o.updateCurrentPage(o.pdfViewerBase.currentPageNumber),o.currentPageBoxElement.blur(),o.pdfViewerBase.focusViewerContainer())},this.textBoxFocusOut=function(){(null===o.currentPageBox.value||o.currentPageBox.value>=o.pdfViewerBase.pageCount||o.currentPageBox.value!==o.pdfViewerBase.currentPageNumber)&&o.updateCurrentPage(o.pdfViewerBase.currentPageNumber)},this.pdfViewer=e,this.pdfViewerBase=t}g.prototype.initializeAnnotationToolbar=function(){var e=this;this.toolbarElement=G.createElement("div",{id:this.pdfViewer.element.id+"_annotation_toolbar",className:"e-pv-annotation-toolbar"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement),this.toolbar=new w.Toolbar({width:"",height:"",overflowMode:"Popup",cssClass:"e-pv-toolbar-scroll",items:this.createToolbarItems(),clicked:this.onToolbarClicked.bind(this),created:function(){e.createDropDowns()}}),this.toolbar.isStringTemplate=!0,this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.toolbar.appendTo(this.toolbarElement),this.afterToolbarCreation(),this.createStampContainer(),this.createSignContainer(),this.applyAnnotationToolbarSettings(),this.updateToolbarItems(),this.showAnnotationToolbar(null,!0),this.toolbarElement.setAttribute("aria-label","Annotation Toolbar")},g.prototype.createMobileAnnotationToolbar=function(e,t){var i=this;G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?null==this.toolbarElement&&e?(this.isMobileAnnotEnabled=!0,this.toolbarElement=G.createElement("div",{id:this.pdfViewer.element.id+"_annotation_toolbar",className:"e-pv-annotation-toolbar"}),this.pdfViewerBase.viewerMainContainer.insertBefore(this.toolbarElement,this.pdfViewerBase.viewerContainer),this.toolbar=new w.Toolbar({width:"",height:"",overflowMode:"Popup",items:this.createMobileToolbarItems(t),clicked:this.onToolbarClicked.bind(this),created:function(){i.createDropDowns(t)}}),this.toolbar.isStringTemplate=!0,this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.pdfViewerBase.navigationPane.goBackToToolbar(),this.pdfViewer.toolbarModule.showToolbar(!1),this.toolbar.appendTo(this.toolbarElement),this.deleteItem=this.pdfViewerBase.getElement("_annotation_delete"),this.deleteItem.firstElementChild.id=this.pdfViewer.element.id+"_annotation_delete"):null!=this.toolbarElement&&(e?(this.isMobileAnnotEnabled=!0,this.pdfViewerBase.navigationPane.goBackToToolbar(),this.pdfViewer.toolbarModule.showToolbar(!1),this.toolbarElement.style.display="block"):(this.isMobileAnnotEnabled=!1,this.pdfViewer.toolbarModule.showToolbar(!0),this.hideMobileAnnotationToolbar())):this.isMobileAnnotEnabled=!0},g.prototype.hideMobileAnnotationToolbar=function(){var e;null!=this.toolbarElement?(0<this.pdfViewer.selectedItems.annotations.length||!G.isNullOrUndefined(this.pdfViewer.annotationModule.textMarkupAnnotationModule)&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?this.propertyToolbar&&0<this.propertyToolbar.element.children.length&&(this.propertyToolbar.element.style.display="block",this.toolbarCreated=!0):(0<this.toolbar.element.children.length?this.toolbarCreated=!0:this.toolbarCreated=!1,this.propertyToolbar&&"none"!==this.propertyToolbar.element.style.display&&(this.propertyToolbar.element.style.display="none",this.toolbarCreated||(e=document.getElementById(this.pdfViewer.element.id+"_annotationIcon"))&&e.parentElement.classList.contains("e-pv-select")&&this.createAnnotationToolbarForMobile())),0<this.toolbarElement.children.length&&(this.toolbarElement.style.display="block"),this.adjustMobileViewer()):this.toolbarCreated&&this.propertyToolbar&&0<this.propertyToolbar.element.children.length&&(this.propertyToolbar.element.style.display="none",this.adjustMobileViewer(),this.toolbarCreated=!1)},g.prototype.FreeTextForMobile=function(){var e=this,t=(this.hideExistingTool(),this.freetextToolbarElement=G.createElement("div",{id:this.pdfViewer.element.id+"_freeTextToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.freetextToolbarElement),this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_color","e-pv-annotation-color-container")),i=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_stroke","e-pv-annotation-stroke-container"),n=this.getTemplate("span","_annotation_thickness","e-pv-annotation-thickness-container"),o=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),r=this.getTemplate("input","_annotation_fontname","e-pv-annotation-fontname-container"),a=this.getTemplate("input","_annotation_fontsize","e-pv-annotation-fontsize-container"),s=this.getTemplate("span","_annotation_textcolor","e-pv-annotation-textcolor-container"),l=this.getTemplate("span","_annotation_textalign","e-pv-annotation-textalign-container"),A=this.getTemplate("span","_annotation_textproperties","e-pv-annotation-textprop-container"),r=[{prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)},{type:"Separator",align:"Left",cssClass:"e-pv-hightlight-separator-container"},{template:r},{template:a},{template:s},{template:l},{template:A},{template:t},{template:i},{template:n},{template:o}];this.toolbar=new w.Toolbar({items:r,width:"",height:"",overflowMode:"Scrollable",created:function(){e.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(e.pdfViewer.element.id+"_annotation_freeTextEdit")}}),this.toolbar.appendTo(this.freetextToolbarElement),this.showFreeTextPropertiesTool()},g.prototype.createPropertyTools=function(e){var t,i,n,o=this;""!==e&&(this.propertyToolbar&&this.propertyToolbar.destroy(),this.toolbar&&this.toolbar.destroy(),n=void 0,(n=document.getElementById(this.pdfViewer.element.id+"_propertyToolbar"))&&n.parentElement.removeChild(n),n=G.createElement("div",{id:this.pdfViewer.element.id+"_propertyToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(n),(i=new w.Toolbar({items:this.createPropertyToolbarForMobile(e),width:"",height:"",overflowMode:"Scrollable",created:function(){t=!G.isNullOrUndefined(o.pdfViewer.annotationModule.textMarkupAnnotationModule)&&o.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?o.pdfViewer.element.id+"_underlineIcon":G.isNullOrUndefined(o.pdfViewer.selectedItems.annotations[0])?"Highlight"===e||"Underline"===e||"Strikethrough"===e?o.pdfViewer.element.id+"_highlightIcon":o.pdfViewer.element.id+"_annotation_shapesIcon":"FreeText"===o.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?o.pdfViewer.element.id+"_annotation_freeTextEdit":"Stamp"===o.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"StickyNotes"===o.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"Image"===o.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?o.pdfViewer.element.id+"_annotation_stamp":"HandWrittenSignature"===o.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureText"===o.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?o.pdfViewer.element.id+"_annotation_handwrittenSign":"SignatureImage"===o.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?o.pdfViewer.element.id+"_annotation_handwrittenImage":"Ink"===o.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"Path"===o.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?o.pdfViewer.element.id+"_annotation_inkIcon":"Highlight"===e||"Underline"===e||"Strikethrough"===e?o.pdfViewer.element.id+"_highlightIcon":o.pdfViewer.element.id+"_annotation_shapesIcon",o.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(t)}})).isStringTemplate=!0,i.appendTo(n),G.isNullOrUndefined(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation||("Line"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&this.enableItems(this.colorDropDownElement.parentElement,!1),"HandWrittenSignature"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(n=document.getElementById(this.pdfViewer.element.id+"_annotation_commentPanel"),this.enableItems(n.parentElement,!1))),this.showPropertyTool(i,t))},g.prototype.showPropertyTool=function(e,t){this.toolbar&&this.toolbar.destroy(),this.propertyToolbar=e,this.applyProperiesToolSettings(t),this.pdfViewer.selectedItems.annotations[0]&&("SignatureText"!==(e=this.pdfViewer.selectedItems.annotations[0]).shapeAnnotationType&&"HandWrittenSignature"!==e.shapeAnnotationType&&"Stamp"!==e.shapeAnnotationType&&"Image"!==e.shapeAnnotationType&&"Ink"!==e.shapeAnnotationType&&"Path"!==e.shapeAnnotationType&&"StickyNotes"!==e.shapeAnnotationType?(this.updateColorInIcon(this.colorDropDownElement,this.pdfViewer.selectedItems.annotations[0].fillColor),this.updateColorInIcon(this.strokeDropDownElement,this.pdfViewer.selectedItems.annotations[0].strokeColor),"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(this.fontFamilyElement.ej2_instances[0].value=this.pdfViewer.selectedItems.annotations[0].fontFamily,this.fontColorElement.children[0].style.borderBottomColor=this.pdfViewer.selectedItems.annotations[0].fontColor,this.pdfViewer.annotation.modifyTextAlignment(this.pdfViewer.selectedItems.annotations[0].textAlign),this.updateTextAlignInIcon(this.pdfViewer.selectedItems.annotations[0].textAlign))):this.strokeDropDownElement&&this.updateColorInIcon(this.strokeDropDownElement,this.pdfViewer.selectedItems.annotations[0].strokeColor)),this.toolbarCreated=!0,this.adjustMobileViewer()},g.prototype.stampToolMobileForMobile=function(e){var t=this;this.hideExistingTool(),this.stampToolbarElement&&this.stampToolbarElement.parentElement.removeChild(this.stampToolbarElement),this.stampToolbarElement=G.createElement("div",{id:this.pdfViewer.element.id+"_stampToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.stampToolbarElement),this.toolbar=new w.Toolbar({items:this.createStampToolbarItemsForMobile(),width:"",height:"",overflowMode:"Scrollable",clicked:this.onShapeToolbarClicked.bind(this),created:function(){t.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(e)}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.stampToolbarElement),this.showStampPropertiesTool()},g.prototype.shapeToolMobile=function(e){var t=this;this.hideExistingTool(),this.shapeToolbarElement&&this.shapeToolbarElement.parentElement.removeChild(this.shapeToolbarElement),this.shapeToolbarElement=G.createElement("div",{id:this.pdfViewer.element.id+"_shapeToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.shapeToolbarElement),this.toolbar=new w.Toolbar({items:this.createShapeToolbarItemsForMobile(),width:"",height:"",overflowMode:"Scrollable",clicked:this.onShapeToolbarClicked.bind(this),created:function(){t.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(e.originalEvent.target.id)}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.shapeToolbarElement),this.afterShapeToolbarCreationForMobile(),this.showShapeTool()},g.prototype.calibrateToolMobile=function(e){var t=this;this.hideExistingTool(),this.calibrateToolbarElement&&this.calibrateToolbarElement.parentElement.removeChild(this.calibrateToolbarElement),this.calibrateToolbarElement=G.createElement("div",{id:this.pdfViewer.element.id+"_calibrateToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.calibrateToolbarElement),this.toolbar=new w.Toolbar({items:this.createCalibrateToolbarItemsForMobile(),width:"",height:"",overflowMode:"Scrollable",clicked:this.onCalibrateToolbarClicked.bind(this),created:function(){t.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(e.originalEvent.target.id)}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.calibrateToolbarElement),this.afterCalibrateToolbarCreationForMobile(),this.showShapeTool()},g.prototype.textMarkupForMobile=function(e){var t=this,i=(this.hideExistingTool(),this.textMarkupToolbarElement&&this.textMarkupToolbarElement.parentElement.removeChild(this.textMarkupToolbarElement),this.textMarkupToolbarElement=G.createElement("div",{id:this.pdfViewer.element.id+"_mobileAnnotationToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.textMarkupToolbarElement),this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_color","e-pv-annotation-color-container")),n=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),i=[{prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)},{type:"Separator",align:"Left",cssClass:"e-pv-hightlight-separator-container"},{template:i,align:"left"},{template:n,align:"left"}];this.propertyToolbar=new w.Toolbar({items:i,width:"",height:"",overflowMode:"Scrollable",created:function(){t.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(e.originalEvent.target.id)}}),this.propertyToolbar.isStringTemplate=!0,this.propertyToolbar.appendTo(this.textMarkupToolbarElement),this.showTextMarkupPropertiesTool()},g.prototype.showShapeTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("ColorEditTool")?this.showColorEditTool(!0,7,7):this.showColorEditTool(!1,7,7),-1!==e.indexOf("StrokeColorEditTool")?this.showStrokeColorEditTool(!0,8,8):this.showStrokeColorEditTool(!1,8,8),-1!==e.indexOf("ThicknessEditTool")?this.showThicknessEditTool(!0,9,9):this.showThicknessEditTool(!1,9,9),-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,10,10):this.showOpacityEditTool(!1,10,10))},g.prototype.signatureInkForMobile=function(){var e=this,t=(this.hideExistingTool(),this.signatureInkToolbarElement&&this.signatureInkToolbarElement.parentElement.removeChild(this.signatureInkToolbarElement),this.signatureInkToolbarElement=G.createElement("div",{id:this.pdfViewer.element.id+"_mobileAnnotationToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.signatureInkToolbarElement),this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container")),i=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_stroke","e-pv-annotation-stroke-container"),n=this.getTemplate("span","_annotation_thickness","e-pv-annotation-thickness-container"),t=[{prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)},{template:t,align:"left"},{template:i,aign:"left"},{template:n,align:"left"}];this.toolbar=new w.Toolbar({items:t,width:"",height:"",overflowMode:"Scrollable",created:function(){e.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(e.pdfViewer.element.id+"_annotation_inkIcon")}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.signatureInkToolbarElement)},g.prototype.hideExistingTool=function(){this.toolbar&&!this.pdfViewer.enableDesktopMode&&this.toolbar.destroy(),this.propertyToolbar&&!this.pdfViewer.enableDesktopMode&&this.propertyToolbar.destroy();var e=document.getElementById(this.pdfViewer.element.id+"_mobileAnnotationToolbar");e&&(e.style.display="none")},g.prototype.applyProperiesToolSettings=function(e){switch(e){case this.pdfViewer.element.id+"_underlineIcon":case this.pdfViewer.element.id+"_highlightIcon":this.showTextMarkupPropertiesTool();break;case this.pdfViewer.element.id+"_annotation_freeTextEdit":this.showFreeTextPropertiesTool();break;case this.pdfViewer.element.id+"_annotation_shapesIcon":this.shapePropertiesTool();break;case"stampTool":case this.pdfViewer.element.id+"_annotation_stamp":this.showStampPropertiesTool();break;case this.pdfViewer.element.id+"_annotation_handwrittenSign":case this.pdfViewer.element.id+"_annotation_inkIcon":this.showInkPropertiesTool();break;case this.pdfViewer.element.id+"_annotation_handwrittenImage":this.showImagePropertyTool()}},g.prototype.showImagePropertyTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,0,0):this.showOpacityEditTool(!1,0,0),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,1,1):this.showCommentPanelTool(!1,1,1),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,2,2):this.showAnnotationDeleteTool(!1,2,2))},g.prototype.showFreeTextPropertiesTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("FontFamilyAnnotationTool")?this.showFontFamilyAnnotationTool(!0,2,2):this.showFontFamilyAnnotationTool(!1,2,2),-1!==e.indexOf("FontSizeAnnotationTool")?this.showFontSizeAnnotationTool(!0,3,3):this.showFontSizeAnnotationTool(!1,3,3),-1!==e.indexOf("FontColorAnnotationTool")?this.showFontColorAnnotationTool(!0,4,4):this.showFontColorAnnotationTool(!1,4,4),-1!==e.indexOf("FontAlignAnnotationTool")?this.showFontAlignAnnotationTool(!0,5,5):this.showFontAlignAnnotationTool(!1,5,5),-1!==e.indexOf("FontStylesAnnotationTool")?this.showFontStylesAnnotationTool(!0,6,6):this.showFontStylesAnnotationTool(!1,6,6),-1!==e.indexOf("ColorEditTool")?this.showColorEditTool(!0,7,7):this.showColorEditTool(!1,7,7),-1!==e.indexOf("StrokeColorEditTool")?this.showStrokeColorEditTool(!0,8,8):this.showStrokeColorEditTool(!1,8,8),-1!==e.indexOf("ThicknessEditTool")?this.showThicknessEditTool(!0,9,9):this.showThicknessEditTool(!1,9,9),-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,10,10):this.showOpacityEditTool(!1,10,10),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,11,11):this.showCommentPanelTool(!1,11,11),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,12,12):this.showAnnotationDeleteTool(!1,12,12),-1!==e.indexOf("FreeTextAnnotationTool")?this.showFreeTextAnnotationTool(!0,0,0):(this.showFreeTextAnnotationTool(!1,0,0),this.applyHideToToolbar(!1,1,1)))},g.prototype.shapePropertiesTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("ColorEditTool")?this.showColorEditTool(!0,2,2):this.showColorEditTool(!1,2,2),-1!==e.indexOf("StrokeColorEditTool")?this.showStrokeColorEditTool(!0,3,3):this.showStrokeColorEditTool(!1,3,3),-1!==e.indexOf("ThicknessEditTool")?this.showThicknessEditTool(!0,4,4):this.showThicknessEditTool(!1,4,4),-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,5,5):this.showOpacityEditTool(!1,5,5),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,6,6):this.showCommentPanelTool(!1,6,6),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,7,7):this.showAnnotationDeleteTool(!1,7,7),-1!==e.indexOf("ShapeTool")?this.showShapeAnnotationTool(!0,0,0):(this.showShapeAnnotationTool(!1,0,0),this.applyHideToToolbar(!1,1,1)))},g.prototype.showStampPropertiesTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,2,2):this.showOpacityEditTool(!1,2,2),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,3,3):this.showCommentPanelTool(!1,3,3),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,4,4):this.showAnnotationDeleteTool(!1,4,4),-1!==e.indexOf("StampAnnotationTool")?this.showStampAnnotationTool(!0,0,0):(this.showStampAnnotationTool(!1,0,0),this.applyHideToToolbar(!1,1,1)))},g.prototype.showTextMarkupPropertiesTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("ColorEditTool")?this.showColorEditTool(!0,2,2):this.showColorEditTool(!1,2,2),-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,3,3):this.showOpacityEditTool(!1,3,3),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,4,4):this.showCommentPanelTool(!1,4,4),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,5,5):this.showAnnotationDeleteTool(!1,5,5),e.includes("HighlightTool")||e.includes("UnderlineTool")||e.includes("StrikethroughTool")?this.applyHideToToolbar(!0,0,0):(this.applyHideToToolbar(!1,0,0),this.applyHideToToolbar(!1,1,1)))},g.prototype.showInkPropertiesTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("StrokeColorEditTool")?this.showStrokeColorEditTool(!0,2,2):this.showStrokeColorEditTool(!1,2,2),-1!==e.indexOf("ThicknessEditTool")?this.showThicknessEditTool(!0,3,3):this.showThicknessEditTool(!1,3,3),-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,4,4):this.showOpacityEditTool(!1,4,4),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,5,5):this.showCommentPanelTool(!1,5,5),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,6,6):this.showAnnotationDeleteTool(!1,6,6),-1!==e.indexOf("HandWrittenSignatureTool")?this.showSignatureTool(!0,0,0):(this.showSignatureTool(!1,0,0),this.applyHideToToolbar(!1,1,1)))},g.prototype.createAnnotationToolbarForMobile=function(e){var t,i;return e&&((e=document.getElementById(e)).parentElement.classList.contains("e-pv-select")?(t=!0,e.parentElement.classList.remove("e-pv-select")):(t=!1,this.pdfViewer.toolbarModule.selectItem(e.parentElement))),t?(this.toolbarCreated=!1,this.adjustMobileViewer(),this.toolbar&&(this.toolbar.destroy(),this.deselectAllItemsForMobile()),this.propertyToolbar&&this.propertyToolbar.destroy(),(e=document.getElementById(this.pdfViewer.element.id+"_mobileAnnotationToolbar"))&&(e.style.display="none"),this.pdfViewer.isAnnotationToolbarVisible=!t,[]):(this.isToolbarCreated=!0,this.propertyToolbar&&this.propertyToolbar.destroy(),this.toolbarElement&&this.toolbarElement.parentElement.removeChild(this.toolbarElement),this.toolbarElement=G.createElement("div",{id:this.pdfViewer.element.id+"_mobileAnnotationToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left;"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement),e=this.getTemplate("span","_annotation_stamp","e-pv-annotation-stamp-container"),i=this.getTemplate("span","_annotation_signature","e-pv-annotation-handwritten-container"),e=[{prefixIcon:"e-pv-comment-icon e-pv-icon",className:"e-pv-comment-container",id:this.pdfViewer.element.id+"_comment"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-highlight-icon e-pv-icon",className:"e-pv-highlight-container",id:this.pdfViewer.element.id+"_highlight"},{prefixIcon:"e-pv-underline-icon e-pv-icon",className:"e-pv-underline-container",id:this.pdfViewer.element.id+"_underline"},{prefixIcon:"e-pv-strikethrough-icon e-pv-icon",className:"e-pv-strikethrough-container",id:this.pdfViewer.element.id+"_strikethrough"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-annotation-shape-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_annotation_shapes"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-annotation-calibrate-icon e-pv-icon",className:"e-pv-annotation-calibrate-container",id:this.pdfViewer.element.id+"_annotation_calibrate"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-freetext-icon e-pv-icon",className:"e-pv-annotation-freetextedit-container",id:this.pdfViewer.element.id+"_annotation_freeTextEdit"},{type:"Separator",align:"Left"},{template:e},{type:"Separator",align:"Left"},{template:i,align:"Left"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-inkannotation-icon e-pv-icon",className:"e-pv-annotation-ink-container",id:this.pdfViewer.element.id+"_annotation_ink",align:"Left"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-comment-panel-icon e-pv-icon",className:"e-pv-comment-panel-icon-container",id:this.pdfViewer.element.id+"_annotation_commentPanel",align:"Right"}],this.toolbarCreated&&this.toolbar?(this.toolbar.destroy(),this.toolbarCreated=!1):(this.toolbar=new w.Toolbar({items:e,width:"",height:"",overflowMode:"Scrollable",clicked:this.onToolbarClicked.bind(this)}),this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.toolbarElement),this.afterMobileToolbarCreation(),this.createStampContainer(),this.createSignContainer(),this.applyMobileAnnotationToolbarSettings(),this.toolbarCreated=!0),this.adjustMobileViewer(),this.pdfViewerBase.isTextSelectionDisabled||(this.isMobileHighlightEnabled?(this.primaryToolbar.selectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem)):this.isMobileUnderlineEnabled?(this.primaryToolbar.selectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem)):this.isMobileStrikethroughEnabled&&(this.primaryToolbar.selectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem))),this.pdfViewer.isAnnotationToolbarVisible=!t,e)},g.prototype.adjustMobileViewer=function(){this.toolbarElement&&(e=this.toolbarElement.clientHeight);var e,t=!1;this.toolbarElement&&0===this.toolbarElement.children.length&&this.propertyToolbar&&0<this.propertyToolbar.element.children.length?(e=this.propertyToolbar.element.clientHeight,"none"!==this.pdfViewer.toolbarModule.toolbarElement.style.display||this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.isNavigationToolbarVisible||(this.pdfViewer.toolbarModule.toolbarElement.style.display="block")):this.freetextToolbarElement&&0<this.freetextToolbarElement.children.length?e=this.freetextToolbarElement.clientHeight:0===e&&this.pdfViewer.toolbarModule.toolbar?(e=this.pdfViewer.toolbarModule.toolbarElement.clientHeight,t=!0):!e&&this.propertyToolbar&&0<this.propertyToolbar.element.children.length&&(e=this.propertyToolbar.element.clientHeight),this.pdfViewer.enableToolbar&&this.toolbarCreated?this.pdfViewerBase.viewerContainer.style.height=this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),e+e)+"px":t||(1<this.pdfViewerBase.viewerContainer.style.height.split("%").length?this.pdfViewerBase.viewerContainer.style.height=this.resetViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),-e)+"px":this.pdfViewerBase.viewerContainer.style.height=this.resetViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),e)+"px")},g.prototype.showToolbar=function(e){var t=this.toolbarElement;e?(t.style.display="block",G.Browser.isDevice&&this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.hideMobileAnnotationToolbar()):t.style.display="none"},g.prototype.createMobileToolbarItems=function(e){var t=this.getTemplate("span","_annotation_color","e-pv-annotation-color-container"),i=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),n=[];return n.push({prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)}),e||(n.push({template:t,align:"right"}),n.push({template:i,align:"right"}),n.push({type:"Separator",align:"right"})),n.push({prefixIcon:"e-pv-annotation-delete-icon e-pv-icon",className:"e-pv-annotation-delete-container",id:this.pdfViewer.element.id+"_annotation_delete",align:"right"}),n},g.prototype.goBackToToolbar=function(e){this.isMobileAnnotEnabled=!1,!G.Browser.isDevice&&this.pdfViewer.enableDesktopMode||"Polygon"===this.pdfViewerBase.action&&this.pdfViewerBase.tool.mouseUp(e,!0,!0),0<this.toolbarElement.children.length?this.toolbarElement.style.display="block":(this.toolbarCreated=!1,this.toolbar.destroy(),this.createAnnotationToolbarForMobile());e=this.pdfViewerBase.getSelectTextMarkupCurrentPage();e&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage=null,this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearAnnotationSelection(e))},g.prototype.createToolbarItems=function(){var e=this.getTemplate("button","_annotation_color","e-pv-annotation-color-container"),t=this.getTemplate("button","_annotation_stroke","e-pv-annotation-stroke-container"),i=this.getTemplate("button","_annotation_thickness","e-pv-annotation-thickness-container"),n=this.getTemplate("button","_annotation_opacity","e-pv-annotation-opacity-container"),o=this.getTemplate("button","_annotation_shapes","e-pv-annotation-shapes-container"),r=this.getTemplate("button","_annotation_calibrate","e-pv-annotation-calibrate-container"),a=this.getTemplate("span","_annotation_stamp","e-pv-annotation-stamp-container"),s=this.getTemplate("button","_annotation_fontname","e-pv-annotation-fontname-container"),l=this.getTemplate("button","_annotation_fontsize","e-pv-annotation-fontsize-container"),A=this.getTemplate("button","_annotation_textcolor","e-pv-annotation-textcolor-container"),d=this.getTemplate("button","_annotation_textalign","e-pv-annotation-textalign-container"),p=this.getTemplate("button","_annotation_textproperties","e-pv-annotation-textprop-container"),h=this.getTemplate("button","_annotation_signature","e-pv-annotation-handwritten-container"),c=[];return c.push({prefixIcon:"e-pv-highlight-icon e-pv-icon",className:"e-pv-highlight-container",id:this.pdfViewer.element.id+"_highlight",align:"Left"}),c.push({prefixIcon:"e-pv-underline-icon e-pv-icon",className:"e-pv-underline-container",id:this.pdfViewer.element.id+"_underline",align:"Left"}),c.push({prefixIcon:"e-pv-strikethrough-icon e-pv-icon",className:"e-pv-strikethrough-container",id:this.pdfViewer.element.id+"_strikethrough",align:"Left"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-hightlight-separator-container"}),c.push({template:o,align:"Left",cssClass:"e-pv-shape-template-container"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-shape-separator-container"}),c.push({template:r,align:"Left",cssClass:"e-pv-calibrate-template-container"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-calibrate-separator-container"}),c.push({prefixIcon:"e-pv-freetext-icon e-pv-icon",className:"e-pv-annotation-freetextedit-container",id:this.pdfViewer.element.id+"_annotation_freeTextEdit",align:"Left"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-freetext-separator-container"}),c.push({template:a,align:"Left",cssClass:"e-pv-stamp-template-container"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-stamp-separator-container"}),c.push({template:h,align:"Left",cssClass:"e-pv-sign-template-container"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-sign-separator-container"}),c.push({prefixIcon:"e-pv-inkannotation-icon e-pv-icon",className:"e-pv-annotation-ink-container",id:this.pdfViewer.element.id+"_annotation_ink",align:"Left"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-ink-separator-container"}),c.push({template:s,align:"Left",cssClass:"e-pv-fontfamily-container"}),c.push({template:l,align:"Left",cssClass:"e-pv-fontsize-container"}),c.push({template:A,align:"Left",cssClass:"e-pv-text-color-container"}),c.push({template:d,align:"Left",cssClass:"e-pv-alignment-container"}),c.push({template:p,align:"Left",cssClass:"e-pv-text-properties-container"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-text-separator-container"}),c.push({template:e,align:"Left",cssClass:"e-pv-color-template-container"}),c.push({template:t,align:"Left",cssClass:"e-pv-stroke-template-container"}),c.push({template:i,align:"Left",cssClass:"e-pv-thickness-template-container"}),c.push({template:n,align:"Left",cssClass:"e-pv-opacity-template-container"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-opacity-separator-container"}),c.push({prefixIcon:"e-pv-annotation-delete-icon e-pv-icon",className:"e-pv-annotation-delete-container",id:this.pdfViewer.element.id+"_annotation_delete",align:"Left"}),c.push({prefixIcon:"e-pv-comment-panel-icon e-pv-icon",className:"e-pv-comment-panel-icon-container",id:this.pdfViewer.element.id+"_annotation_commentPanel",align:"Right"}),c.push({prefixIcon:"e-pv-annotation-tools-close-icon e-pv-icon",className:"e-pv-annotation-tools-close-container",id:this.pdfViewer.element.id+"_annotation_close",align:"Right"}),c},g.prototype.createSignContainer=function(){var d=this,t=(this.handWrittenSignatureItem=this.pdfViewerBase.getElement("_annotation_signature"),this.primaryToolbar.createTooltip(this.pdfViewerBase.getElement("_annotation_signature"),this.pdfViewer.localeObj.getConstant("SignatureFieldDialogHeaderText")),this.handWrittenSignatureItem.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("SignatureFieldDialogHeaderText")),this),e=[],e=this.pdfViewer.handWrittenSignatureSettings||0===this.pdfViewer.handWrittenSignatureSettings.signatureItem.length||2===this.pdfViewer.handWrittenSignatureSettings.signatureItem.length?[{text:"ADD SIGNATURE"},{separator:!0},{text:"ADD INITIAL"}]:"Signature"===this.pdfViewer.handWrittenSignatureSettings.signatureItem[0]?[{text:"ADD SIGNATURE"}]:[{text:"ADD INITIAL"}],e=new P.DropDownButton({items:e,iconCss:"e-pv-handwritten-icon e-pv-icon",cssClass:"e-pv-handwritten-popup",open:function(e){t.openSignature()},beforeItemRender:function(e){if(d.pdfViewer.annotation.triggerAnnotationUnselectEvent(),d.pdfViewer.annotation.triggerSignatureUnselectEvent(),d.pdfViewer.clearSelection(d.pdfViewerBase.currentPageNumber-1),e.element&&-1!==e.element.className.indexOf("e-separator")&&(e.element.style.margin="8px 0",e.element.setAttribute("role","menuitem"),e.element.setAttribute("aria-label","separator")),"ADD SIGNATURE"===e.item.text){e.element.innerHTML="",d.saveSignatureCount=0;for(var t=d.pdfViewerBase.signatureModule.signaturecollection.length;0<t;t--)d.saveSignatureCount<d.pdfViewerBase.signatureModule.getSaveLimit(d.pdfViewer.handWrittenSignatureSettings.saveSignatureLimit)&&(e.element.style.display="block",n=(i=d.pdfViewerBase.signatureModule.signaturecollection[t-1]).image[0].imageData,o=i.image[0].id.split("_")[1],i.isInitial||""===n||((r=G.createElement("div")).id="s"+o,r.style.display="block",r.style.paddingBottom="10px",(a=G.createElement("span")).id="sign_border_"+o,s=void a.classList.add("e-pv-align-border"),"SignatureText"===i.image[0].signatureType?((s=G.createElement("div")).classList.add("e-pv-align-border-div"),s.innerText=n,s.style.fontFamily=i.image[0].fontFamily,s.style.fontSize="15px",s.style.display="inline-flex",s.style.alignItems="center",s.style.position="relative",s.id="sign_"+o,s.style.width="80px",s.style.height="53px",s.style.overflow="hidden",s.style.textOverflow="ellipsis",s.style.paddingLeft="11px"):((s=G.createElement("img")).id="sign_"+o,s.src=n,s.width=80,s.height=32,s.classList.add("e-pv-signatureimage"),s.style.paddingLeft="20px",s.style.paddingRight="18px",s.style.paddingTop="12px",s.style.paddingBottom="12px",s.style.boxSizing="content-box",s.setAttribute("alt","Saved Signature")),s.addEventListener("mouseover",d.hoverSignatureImage.bind(d)),s.addEventListener("mouseleave",d.leaveSignatureImage.bind(d)),(l=G.createElement("span")).id="delete_"+o,l.classList.add("e-pv-delete"),l.classList.add("e-pv-align"),a.append(s),a.append(l),r.append(a),e.element.appendChild(r),e.element.style.pointerEvents="auto",e.element.style.background="none",d.pdfViewerBase.getElement("_annotation_signature-popup").style.width="206px",d.saveSignatureCount++));(A=G.createElement("button")).classList.add("e-control","e-btn","e-lib","e-outline","e-primary"),A.textContent=d.pdfViewer.localeObj.getConstant("HandwrittenSignatureDialogHeaderText"),"en-US"===d.pdfViewer.locale&&(A.style.minWidth="130px"),A.style.width="auto",A.style.height="36px",A.addEventListener("click",d.clickSignature.bind(d)),e.element.appendChild(A),e.element.addEventListener("mouseover",d.hoverInitialBtn.bind(d)),e.element.style.minWidth="206px",e.element.style.width="auto",e.element.style.display="flex",e.element.style.flexDirection="column",e.element.style.height="auto",e.element.style.alignItems="center",e.element.setAttribute("role","menuitem")}if("ADD INITIAL"===e.item.text){d.saveInitialCount=0,e.element.innerHTML="";for(var i,n,o,r,a,s,l,A,t=d.pdfViewerBase.signatureModule.signaturecollection.length;0<t;t--)d.saveInitialCount<d.pdfViewerBase.signatureModule.getSaveLimit(d.pdfViewer.handWrittenSignatureSettings.saveInitialLimit)&&(n=(i=d.pdfViewerBase.signatureModule.signaturecollection[t-1]).image[0].imageData,o=i.image[0].id.split("_")[1],i.isInitial)&&""!==n&&((r=G.createElement("div")).id="s"+o,r.style.display="block",r.style.paddingBottom="10px",(a=G.createElement("span")).id="sign_border_"+o,s=void a.classList.add("e-pv-align-border"),"SignatureText"===i.image[0].signatureType?((s=G.createElement("div")).classList.add("e-pv-align-border-div"),s.innerText=n,s.style.fontFamily=i.image[0].fontFamily,s.style.fontSize="15px",s.style.display="inline-flex",s.style.alignItems="center",s.style.position="relative",s.id="sign_"+o,s.style.width="80px",s.style.height="53px",s.style.overflow="hidden",s.style.textOverflow="ellipsis",s.style.paddingLeft="11px"):((s=G.createElement("img")).id="sign_"+o,s.src=n,s.width=80,s.height=32,s.classList.add("e-pv-signatureimage"),s.style.paddingLeft="20px",s.style.paddingRight="18px",s.style.paddingTop="12px",s.style.paddingBottom="12px",s.style.boxSizing="content-box",s.setAttribute("alt","Saved Initial")),s.addEventListener("mouseover",d.hoverSignatureImage.bind(d)),s.addEventListener("mouseleave",d.leaveSignatureImage.bind(d)),s.width=80,s.height=32,(l=G.createElement("span")).id="delete_"+o,l.classList.add("e-pv-delete"),l.classList.add("e-pv-align"),a.append(s),a.append(l),r.append(a),e.element.appendChild(r),e.element.style.pointerEvents="auto",e.element.style.background="none",d.pdfViewerBase.getElement("_annotation_signature-popup").style.width="206px",d.saveInitialCount++);d.isSignatureIteam=!1,(A=G.createElement("button")).classList.add("e-control","e-btn","e-lib","e-outline","e-primary"),A.textContent=d.pdfViewer.localeObj.getConstant("HandwrittenInitialDialogHeaderText"),"en-US"===d.pdfViewer.locale&&(A.style.minWidth="130px"),A.style.width="auto",A.style.height="36px",A.addEventListener("click",d.clickInitial.bind(d)),e.element.appendChild(A),e.element.addEventListener("mouseover",d.hoverInitialBtn.bind(d)),e.element.style.minWidth="206px",e.element.style.width="auto",e.element.style.display="flex",e.element.style.flexDirection="column",e.element.style.height="auto",e.element.style.alignItems="center",e.element.setAttribute("role","menuitem")}},select:function(e){d.pdfViewer.clearSelection(d.pdfViewerBase.currentPageNumber-1)}});this.pdfViewer.enableRtl&&(e.enableRtl=this.pdfViewer.enableRtl),e.appendTo(this.handWrittenSignatureItem)},g.prototype.updateSignatureCount=function(){this.openSignaturePopup=!1;for(var e=this.pdfViewerBase.signatureModule.signaturecollection,t=0;t<e.length;t++)e[parseInt(t.toString(),10)].image[0].imageData},g.prototype.openSignature=function(){this.saveInitialCount=0,this.saveSignatureCount=0;for(var e=this.pdfViewerBase.signatureModule.signaturecollection.length;0<e;e--)this.saveSignatureCount<this.pdfViewerBase.signatureModule.getSaveLimit(this.pdfViewer.handWrittenSignatureSettings.saveSignatureLimit)&&(""===(t=this.pdfViewerBase.signatureModule.signaturecollection[e-1]).image[0].imageData||t.isInitial||(this.saveSignatureCount++,i=document.getElementById("sign_border_"+t.image[0].id.split("_")[1]),(n=document.getElementById("delete_"+t.image[0].id.split("_")[1])).style.backgroundClip="content-box",i.addEventListener("click",this.renderAddedSignature.bind(this)),n.addEventListener("click",this.deleteSavedSign.bind(this)),n.addEventListener("mouseover",this.hoverSignatureDelete.bind(this)),n.addEventListener("mouseleave",this.leaveSignatureDelete.bind(this)),i.addEventListener("mouseover",this.hoverSignatureDelete.bind(this)),i.addEventListener("mouseleave",this.leaveSignatureDelete.bind(this))));for(var t,i,n,e=this.pdfViewerBase.signatureModule.signaturecollection.length;0<e;e--)this.saveInitialCount<this.pdfViewerBase.signatureModule.getSaveLimit(this.pdfViewer.handWrittenSignatureSettings.saveInitialLimit)&&""!==(t=this.pdfViewerBase.signatureModule.signaturecollection[e-1]).image[0].imageData&&t.isInitial&&(this.saveInitialCount++,i=document.getElementById("sign_border_"+t.image[0].id.split("_")[1]),(n=document.getElementById("delete_"+t.image[0].id.split("_")[1])).style.backgroundClip="content-box",i.addEventListener("click",this.renderAddedSignature.bind(this)),n.addEventListener("click",this.deleteSavedSign.bind(this)),n.addEventListener("mouseover",this.hoverSignatureDelete.bind(this)),n.addEventListener("mouseleave",this.leaveSignatureDelete.bind(this)),i.addEventListener("mouseover",this.hoverSignatureDelete.bind(this)),i.addEventListener("mouseleave",this.leaveSignatureDelete.bind(this)))},g.prototype.hoverSignatureDelete=function(){var e=event.target;e.id!=="sign_"+e.id.split("_")[1]&&!e.classList.contains("e-pv-delete")||(e.classList.add("e-pv-signaturehover"),e.style.cursor="pointer")},g.prototype.hoverInitialBtn=function(e){var t=e.target,i="";(i=(-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")?t:(G.isNullOrUndefined(e.path)?e.composedPath():e.path)[0]).id)!=="sign_"+i.split("_")[1]&&i!=="delete_"+i.split("_")[1]&&(e=document.getElementById(t.id),null==(e=G.isNullOrUndefined(e)?document.getElementById(t.parentElement.id):e)||t.id==="sign_"+t.id.split("_")[1]&&t.id==="sign_border_"+t.id.split("_")[2]?null==e.parentElement||t.id==="sign_"+t.id.split("_")[1]&&t.id==="sign_border_"+t.id.split("_")[2]||(e.parentElement.style.background="transparent",e.parentElement.style.cursor="default"):(e.style.background="transparent",e.style.cursor="default"))},g.prototype.hoverSignatureImage=function(){var e=event.target;e.id!=="sign_"+e.id.split("_")[1]&&!e.classList.contains("e-pv-delete")||(e.classList.add("e-pv-signaturehover"),e.classList.remove("e-pv-signatureimage"),e.style.cursor="pointer")},g.prototype.leaveSignatureDelete=function(){var e=event.target;e.id!=="sign_"+e.id.split("_")[1]&&!e.classList.contains("e-pv-delete")||(e.classList.remove("e-pv-signaturehover"),e.children[0]&&"IMG"===e.children[0].tagName&&e.children[0].classList.remove("e-pv-signaturehover"),e.style.cursor="default")},g.prototype.clickSignature=function(){this.pdfViewerBase.isInitialField=!1,this.addSignature()},g.prototype.clickInitial=function(){this.pdfViewerBase.isInitialField=!0,this.addSignature()},g.prototype.leaveSignatureImage=function(){var e=event.target;e.id!=="sign_"+e.id.split("_")[1]&&!e.classList.contains("e-pv-delete")||(e.classList.remove("e-pv-signaturehover"),"IMG"===e.tagName&&e.classList.add("e-pv-signatureimage"),e.children[0]&&"IMG"===e.children[0].tagName&&(e.children[0].classList.remove("e-pv-signaturehover"),e.children[0].classList.add("e-pv-signatureimage")),e.style.cursor="default")},g.prototype.addSignature=function(){this.deselectAllItems(),this.deselectAllItemsForMobile(),this.showSignaturepanel()},g.prototype.renderAddedSignature=function(){this.pdfViewerBase.isAddedSignClicked=!0,this.isSavedSignatureClicked=!0,this.pdfViewerBase.signatureModule.RenderSavedSignature()},g.prototype.deleteSavedSign=function(e){e.stopPropagation();for(var t=this.pdfViewerBase.signatureModule.signaturecollection,i=t.length;0<i;i--)if(e.target.parentElement.children[0].id==="sign_"+t[i-1].image[0].id.split("_")[1]){t[i-1].image[0].imageData="",this.pdfViewerBase.signatureModule.signaturecollection.splice(i-1,1);break}e.target.parentElement.remove()},g.prototype.getTemplate=function(e,t,i){e=G.createElement(e,{id:this.pdfViewer.element.id+t});return i&&(e.className=i),e.outerHTML},g.prototype.createStampContainer=function(){var i,n,o,A=this,e=(this.stampElement=this.pdfViewerBase.getElement("_annotation_stamp"),this.primaryToolbar.createTooltip(this.pdfViewerBase.getElement("_annotation_stamp"),this.pdfViewer.localeObj.getConstant("Add Stamp")),this.stampElement.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Add Stamp")),this.stampElement.setAttribute("role","combobox"),this.stampElement.setAttribute("aria-expanded","false"),G.createElement("ul",{id:this.pdfViewer.element.id+"contextMenuElement"})),t=(this.pdfViewerBase.getElement("_annotation_stamp").appendChild(e),[]),t=(this.pdfViewer.stampSettings&&(!G.isNullOrUndefined(this.pdfViewer.stampSettings.dynamicStamps)&&0!==this.pdfViewer.stampSettings.dynamicStamps.length||(this.pdfViewer.stampSettings.dynamicStamps=[v.DynamicStampItem.Revised,v.DynamicStampItem.Reviewed,v.DynamicStampItem.Received,v.DynamicStampItem.Confidential,v.DynamicStampItem.Approved,v.DynamicStampItem.NotApproved]),this.pdfViewer.stampSettings.dynamicStamps&&0<this.pdfViewer.stampSettings.dynamicStamps.length&&(i=[],t.push({text:this.pdfViewer.localeObj.getConstant("Dynamic"),label:"Dynamic",items:i}),this.pdfViewer.stampSettings.dynamicStamps.forEach(function(e,t){e=v.DynamicStampItem[e];i.push({text:A.pdfViewer.localeObj.getConstant(e="NotApproved"===e?"Not Approved":e),label:e})})),!G.isNullOrUndefined(this.pdfViewer.stampSettings.signStamps)&&0!==this.pdfViewer.stampSettings.signStamps.length||(this.pdfViewer.stampSettings.signStamps=[v.SignStampItem.Witness,v.SignStampItem.InitialHere,v.SignStampItem.SignHere,v.SignStampItem.Accepted,v.SignStampItem.Rejected]),this.pdfViewer.stampSettings.signStamps&&0<this.pdfViewer.stampSettings.signStamps.length&&(n=[],t.push({text:this.pdfViewer.localeObj.getConstant("Sign Here"),label:"Sign Here",items:n}),this.pdfViewer.stampSettings.signStamps.forEach(function(e,t){var i=v.SignStampItem[e];switch(i){case"InitialHere":i="Initial Here";break;case"SignHere":i="Sign Here"}n.push({text:A.pdfViewer.localeObj.getConstant(i),label:i})})),!G.isNullOrUndefined(this.pdfViewer.stampSettings.standardBusinessStamps)&&0!==this.pdfViewer.stampSettings.standardBusinessStamps.length||(this.pdfViewer.stampSettings.standardBusinessStamps=[v.StandardBusinessStampItem.Approved,v.StandardBusinessStampItem.NotApproved,v.StandardBusinessStampItem.Draft,v.StandardBusinessStampItem.Final,v.StandardBusinessStampItem.Completed,v.StandardBusinessStampItem.Confidential,v.StandardBusinessStampItem.ForPublicRelease,v.StandardBusinessStampItem.NotForPublicRelease,v.StandardBusinessStampItem.ForComment,v.StandardBusinessStampItem.Void,v.StandardBusinessStampItem.PreliminaryResults,v.StandardBusinessStampItem.InformationOnly]),this.pdfViewer.stampSettings.standardBusinessStamps)&&0<this.pdfViewer.stampSettings.standardBusinessStamps.length&&(o=[],t.push({text:this.pdfViewer.localeObj.getConstant("Standard Business"),label:"Standard Business",items:o}),this.pdfViewer.stampSettings.standardBusinessStamps.forEach(function(e,t){var i=v.StandardBusinessStampItem[e];switch(i){case"NotApproved":i="Not Approved";break;case"ForPublicRelease":i="For Public Release";break;case"NotForPublicRelease":i="Not For Public Release";break;case"ForComment":i="For Comment";break;case"PreliminaryResults":i="Preliminary Results";break;case"InformationOnly":i="Information Only"}o.push({text:A.pdfViewer.localeObj.getConstant(i),label:i})})),G.isNullOrUndefined(this.pdfViewer.customStampSettings)||!this.pdfViewer.customStampSettings.enableCustomStamp&&!G.isNullOrUndefined(this.pdfViewer.customStampSettings.enableCustomStamp)||(0<t.length&&t.push({separator:!0}),t.push({text:this.pdfViewer.localeObj.getConstant("Custom Stamp"),label:"Custom Stamp",items:[]}),this.pdfViewerBase.customStampCollection=this.pdfViewer.customStampSettings.customStamps||[]),this.stampMenu=[{iconCss:"e-pv-stamp-icon e-pv-icon",items:t}],{items:this.stampMenu,cssClass:"e-custom-scroll",showItemOnClick:!0,enableScrolling:!0,beforeOpen:function(e){if(A.resetFreeTextAnnot(),""===e.parentItem.text&&A.pdfViewer.customStampSettings.isAddToMenu&&0<e.items.length){for(var t=null,i=0;i<e.items.length;i++)if(e.items[parseInt(i.toString(),10)].text===A.pdfViewer.localeObj.getConstant("Custom Stamp")){e.items[parseInt(i.toString(),10)].items=[],t=e.items[parseInt(i.toString(),10)];break}var n=A.pdfViewerBase.customStampCollection,o=A.pdfViewer.customStampSettings.customStamps;if(0===n.length&&o&&0<o.length)for(var r=0;r<o.length;r++)n.push({customStampName:o[parseInt(r.toString(),10)].customStampName,customStampImageSource:o[parseInt(r.toString(),10)].customStampImageSource});for(var a=0;a<n.length;a++)if(null!=t){t.items.push({text:n[parseInt(a.toString(),10)].customStampName});for(var s,l,i=0;i<e.items.length;i++)e.items[parseInt(i.toString(),10)].text===A.pdfViewer.localeObj.getConstant("Custom Stamp")&&(s=e.element.children[parseInt(i.toString(),10)])&&!s.childElementCount&&((l=document.createElement("span")).className="e-icons e-caret e-menu-caret-icon",s.appendChild(l),s.setAttribute("aria-haspopup","true"),s.setAttribute("aria-expanded","false"))}}e.parentItem.text===A.pdfViewer.localeObj.getConstant("Custom Stamp")&&(o=A.pdfViewer.customStampSettings.customStamps)&&10<o.length&&(G.closest(e.element,".e-menu-wrapper").style.height="350px"),A.stampParentID=e.parentItem.text,A.menuItems.showItemOnClick=!1},beforeClose:function(e){(e.parentItem&&e.parentItem.text!==A.pdfViewer.localeObj.getConstant("Custom Stamp")&&"Standard Business"!==e.parentItem.text&&"Dynamic"!==e.parentItem.text&&"Sign Here"!==e.parentItem.text||!e.parentItem)&&(A.menuItems.showItemOnClick=!0)},select:function(e){if(A.pdfViewerBase.isAlreadyAdded=!1,e.item.text===A.pdfViewer.localeObj.getConstant("Custom Stamp")){A.updateInteractionTools(),A.checkStampAnnotations(),A.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0;var t=document.getElementById(A.pdfViewer.element.id+"_stampElement");t&&t.click(),A.pdfViewer.annotation.triggerAnnotationUnselectEvent(),A.pdfViewer.annotation.triggerSignatureUnselectEvent()}else if(A.stampParentID===A.pdfViewer.localeObj.getConstant("Custom Stamp")&&""!==e.item.text)for(var i=A.pdfViewerBase.customStampCollection,n=0;n<i.length;n++)i[parseInt(n.toString(),10)].customStampName===e.item.text&&(A.pdfViewer.annotationModule.stampAnnotationModule.customStampName=e.item.text,A.checkStampAnnotations(),A.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0,A.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,A.pdfViewerBase.stampAdded=!0,A.pdfViewerBase.isAlreadyAdded=!0,A.pdfViewer.annotationModule.stampAnnotationModule.createCustomStampAnnotation(i[parseInt(n.toString(),10)].customStampImageSource),A.pdfViewerBase.stampAdded=!1);else e.item.text===A.pdfViewer.localeObj.getConstant("Dynamic")||""===e.item.text||"Standard Business"===e.item.text||"Sign Here"!==A.stampParentID&&"Sign Here"===e.item.text||(A.updateInteractionTools(),A.checkStampAnnotations(),A.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0,A.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,A.pdfViewerBase.stampAdded=!0,A.pdfViewer.annotation.triggerAnnotationUnselectEvent(),A.pdfViewer.annotation.triggerSignatureUnselectEvent(),A.stampParentID===A.pdfViewer.localeObj.getConstant("Dynamic")?(A.pdfViewerBase.isDynamicStamp=!0,A.pdfViewer.annotationModule.stampAnnotationModule.retrieveDynamicStampAnnotation(e.item.label)):(A.pdfViewerBase.isDynamicStamp=!1,A.pdfViewer.annotationModule.stampAnnotationModule.retrievestampAnnotation(e.item.label)),G.Browser.isDevice&&A.stampToolMobileForMobile(A.pdfViewer.element.id+"_annotation_stamp"))}});return this.menuItems=new w.Menu(t,"#"+this.pdfViewer.element.id+"contextMenuElement"),e.parentElement.classList.add("e-pv-stamp"),this.pdfViewer.enableRtl&&(this.menuItems.enableRtl=!0),e},g.prototype.createCustomStampElement=function(){var e=G.createElement("input",{id:this.pdfViewer.element.id+"_stampElement",attrs:{type:"file"}});e.setAttribute("accept",".jpg,.jpeg,.png"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.visibility="hidden",document.body.appendChild(e),e.addEventListener("change",this.addStampImage)},g.prototype.checkStampAnnotations=function(){if(this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode&&this.pdfViewer.selectedItems&&this.pdfViewer.selectedItems.annotations)for(var e=0;e<this.pdfViewer.selectedItems.annotations.length;e++){var t=this.pdfViewer.selectedItems.annotations[parseInt(e.toString(),10)];!t||t.annotName||t.author||"Shape"===t.shapeAnnotationType&&"Image"===t.shapeAnnotationType||(this.pdfViewer.remove(t),this.pdfViewer.annotation.renderAnnotations(t.pageIndex,null,null,null),this.pdfViewer.clearSelection(t.pageIndex))}},g.prototype.createDropDowns=function(e){var t,i=this;G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.shapeElement=this.pdfViewerBase.getElement("_annotation_shapes"),t=this.createShapeOptions(this.shapeElement.id,!0),this.shapeDropDown=this.createDropDownButton(this.shapeElement,"e-pv-annotation-shape-icon",t.element,this.pdfViewer.localeObj.getConstant("Add Shapes")),this.calibrateElement=this.pdfViewerBase.getElement("_annotation_calibrate"),t=this.createShapeOptions(this.calibrateElement.id,!1),this.calibrateDropDown=this.createDropDownButton(this.calibrateElement,"e-pv-annotation-calibrate-icon",t.element,this.pdfViewer.localeObj.getConstant("Calibrate"))),e||(this.colorDropDownElement=this.pdfViewerBase.getElement("_annotation_color"),this.colorPalette=this.createColorPicker(this.colorDropDownElement.id),this.colorPalette.change=this.onColorPickerChange.bind(this),this.colorDropDown=this.createDropDownButton(this.colorDropDownElement,"e-pv-annotation-color-icon",this.colorPalette.element.parentElement,this.pdfViewer.localeObj.getConstant("Color edit")),this.colorDropDown.beforeOpen=this.colorDropDownBeforeOpen.bind(this),this.colorDropDown.open=this.colorDropDownOpen.bind(this),this.pdfViewerBase.getElement("_annotation_color-popup").addEventListener("click",this.onColorPickerCancelClick.bind(this))),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.strokeDropDownElement=this.pdfViewerBase.getElement("_annotation_stroke"),this.strokeColorPicker=this.createColorPicker(this.strokeDropDownElement.id),this.strokeColorPicker.change=this.onStrokePickerChange.bind(this),this.strokeDropDown=this.createDropDownButton(this.strokeDropDownElement,"e-pv-annotation-stroke-icon",this.strokeColorPicker.element.parentElement,this.pdfViewer.localeObj.getConstant("Stroke edit")),this.strokeDropDown.beforeOpen=this.strokeDropDownBeforeOpen.bind(this),this.strokeDropDown.open=this.strokeDropDownOpen.bind(this),this.pdfViewerBase.getElement("_annotation_stroke-popup").addEventListener("click",this.onStrokePickerCancelClick.bind(this)),this.thicknessElement=this.pdfViewerBase.getElement("_annotation_thickness"),t=this.createThicknessSlider(this.thicknessElement.id),this.thicknessDropDown=this.createDropDownButton(this.thicknessElement,"e-pv-annotation-thickness-icon",t,this.pdfViewer.localeObj.getConstant("Change thickness")),this.thicknessDropDown.beforeOpen=this.thicknessDropDownBeforeOpen.bind(this),this.thicknessSlider.change=this.thicknessChange.bind(this),this.thicknessSlider.changed=this.thicknessChange.bind(this),this.pdfViewer.enableRtl)||(this.thicknessDropDown.open=this.thicknessDropDownOpen.bind(this)),e||(this.opacityDropDownElement=this.pdfViewerBase.getElement("_annotation_opacity"),t=this.createSlider(this.opacityDropDownElement.id),this.opacityDropDown=this.createDropDownButton(this.opacityDropDownElement,"e-pv-annotation-opacity-icon",t,this.pdfViewer.localeObj.getConstant("Opacity edit")),this.opacityDropDown.beforeOpen=this.opacityDropDownBeforeOpen.bind(this),this.opacitySlider.change=this.opacityChange.bind(this),this.opacitySlider.changed=this.opacityChange.bind(this),this.pdfViewer.enableRtl)||(this.opacityDropDown.open=this.opacityDropDownOpen.bind(this)),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.fontFamilyElement=this.pdfViewerBase.getElement("_annotation_fontname"),this.createDropDownListForFamily(this.fontFamilyElement),this.fontFamilyElement.addEventListener("change",function(){i.onFontFamilyChange.bind(i)}),this.fontSizeElement=this.pdfViewerBase.getElement("_annotation_fontsize"),this.createDropDownListForSize(this.fontSizeElement),this.fontColorElement=this.pdfViewerBase.getElement("_annotation_textcolor"),this.fontColorPalette=this.createColorPicker(this.fontColorElement.id),this.fontColorPalette.change=this.onFontColorChange.bind(this),this.fontColorDropDown=this.createDropDownButton(this.fontColorElement,"e-pv-annotation-textcolor-icon",this.fontColorPalette.element.parentElement,this.pdfViewer.localeObj.getConstant("Font color")),this.textAlignElement=this.pdfViewerBase.getElement("_annotation_textalign"),this.alignmentToolbar=this.createShapeOptions(this.textAlignElement.id,void 0,!0),this.textAlignDropDown=this.createDropDownButton(this.textAlignElement,"e-pv-annotation-textalign-icon",this.alignmentToolbar.element,this.pdfViewer.localeObj.getConstant("Text Align")),this.textAlignDropDown.beforeOpen=this.textAlignDropDownBeforeOpen.bind(this),this.textPropElement=this.pdfViewerBase.getElement("_annotation_textproperties"),this.propertiesToolbar=this.createShapeOptions(this.textPropElement.id,void 0,!1,!0),this.textPropertiesDropDown=this.createPropDropDownButton(this.textPropElement,"e-pv-annotation-textprop-icon",this.propertiesToolbar.element,this.pdfViewer.localeObj.getConstant("Text Properties")),this.textPropertiesDropDown.beforeOpen=this.textPropertiesDropDownBeforeOpen.bind(this))},g.prototype.mobileColorpicker=function(e){var t=this,i=(this.opacityDropDownElement=this.pdfViewerBase.getElement("_annotation_opacity"),this.createSlider(this.opacityDropDownElement.id));this.opacityDropDown=this.createDropDownButton(this.opacityDropDownElement,"e-pv-annotation-opacity-icon",i,this.pdfViewer.localeObj.getConstant("Opacity edit")),this.opacityDropDown.beforeOpen=this.opacityDropDownBeforeOpen.bind(this),this.opacitySlider.change=this.opacityChange.bind(this),this.opacitySlider.changed=this.opacityChange.bind(this),this.pdfViewer.enableRtl||(this.opacityDropDown.open=this.opacityDropDownOpen.bind(this)),e===this.pdfViewer.element.id+"_annotation_shapes"?e=this.pdfViewer.element.id+"_annotation_shapesIcon":e===this.pdfViewer.element.id+"_annotation_calibrate"?e=this.pdfViewer.element.id+"_annotation_calibrateIcon":e===this.pdfViewer.element.id+"_highlight"?e=this.pdfViewer.element.id+"_highlightIcon":e===this.pdfViewer.element.id+"_underline"?e=this.pdfViewer.element.id+"_underlineIcon":e===this.pdfViewer.element.id+"_strikethrough"&&(e=this.pdfViewer.element.id+"_strikethroughIcon"),e!==this.pdfViewer.element.id+"_annotation_shapesIcon"&&e!==this.pdfViewer.element.id+"_annotation_calibrateIcon"&&e!==this.pdfViewer.element.id+"_annotation_freeTextEdit"&&e!==this.pdfViewer.element.id+"_highlightIcon"&&e!==this.pdfViewer.element.id+"_underlineIcon"&&e!==this.pdfViewer.element.id+"_strikethroughIcon"&&e!==this.pdfViewer.element.id+"_annotation_inkIcon"&&e!==this.pdfViewer.element.id+"_annotation_handwrittenSign"||(e!==this.pdfViewer.element.id+"_annotation_handwrittenSign"&&e!==this.pdfViewer.element.id+"_annotation_inkIcon"&&(this.colorDropDownElement=this.pdfViewerBase.getElement("_annotation_color"),this.colorPalette=this.createColorPicker(this.colorDropDownElement.id),this.colorPalette.change=this.onColorPickerChange.bind(this),this.colorDropDown=this.createDropDownButton(this.colorDropDownElement,"e-pv-annotation-color-icon",this.colorPalette.element.parentElement,this.pdfViewer.localeObj.getConstant("Color edit")),this.colorDropDown.beforeOpen=this.colorDropDownBeforeOpen.bind(this),this.colorDropDown.open=this.colorDropDownOpen.bind(this),this.pdfViewerBase.getElement("_annotation_color-popup").addEventListener("click",this.onColorPickerCancelClick.bind(this))),e===this.pdfViewer.element.id+"_annotation_freeTextEdit"&&(this.fontFamilyElement=this.pdfViewerBase.getElement("_annotation_fontname"),this.createDropDownListForFamily(this.fontFamilyElement),this.fontFamilyElement.style.textAlign="left",this.fontFamilyElement.addEventListener("change",function(){t.onFontFamilyChange.bind(t)}),this.fontSizeElement=this.pdfViewerBase.getElement("_annotation_fontsize"),this.createDropDownListForSize(this.fontSizeElement),this.fontColorElement=this.pdfViewerBase.getElement("_annotation_textcolor"),this.fontColorPalette=this.createColorPicker(this.fontColorElement.id),this.fontColorPalette.change=this.onFontColorChange.bind(this),this.fontColorDropDown=this.createDropDownButton(this.fontColorElement,"e-pv-annotation-textcolor-icon",this.fontColorPalette.element.parentElement,this.pdfViewer.localeObj.getConstant("Font color")),this.textAlignElement=this.pdfViewerBase.getElement("_annotation_textalign"),this.alignmentToolbar=this.createShapeOptions(this.textAlignElement.id,void 0,!0),this.textAlignDropDown=this.createDropDownButton(this.textAlignElement,"e-pv-annotation-textalign-icon",this.alignmentToolbar.element,this.pdfViewer.localeObj.getConstant("Text Align")),this.textAlignDropDown.beforeOpen=this.textAlignDropDownBeforeOpen.bind(this),this.textPropElement=this.pdfViewerBase.getElement("_annotation_textproperties"),this.propertiesToolbar=this.createShapeOptions(this.textPropElement.id,void 0,!1,!0),this.textPropertiesDropDown=this.createPropDropDownButton(this.textPropElement,"e-pv-annotation-textprop-icon",this.propertiesToolbar.element,this.pdfViewer.localeObj.getConstant("Text Properties")),this.textPropertiesDropDown.beforeOpen=this.textPropertiesDropDownBeforeOpen.bind(this)),e!==this.pdfViewer.element.id+"_annotation_shapesIcon"&&e!==this.pdfViewer.element.id+"_annotation_calibrateIcon"&&e!==this.pdfViewer.element.id+"_annotation_freeTextEdit"&&e!==this.pdfViewer.element.id+"_annotation_inkIcon"&&e!==this.pdfViewer.element.id+"_annotation_handwrittenSign")||(this.thicknessElement=this.pdfViewerBase.getElement("_annotation_thickness"),i=this.createThicknessSlider(this.thicknessElement.id),this.thicknessDropDown=this.createDropDownButton(this.thicknessElement,"e-pv-annotation-thickness-icon",i,this.pdfViewer.localeObj.getConstant("Change thickness")),this.thicknessDropDown.beforeOpen=this.thicknessDropDownBeforeOpen.bind(this),this.thicknessSlider.change=this.thicknessChange.bind(this),this.thicknessSlider.changed=this.thicknessChange.bind(this),this.pdfViewer.enableRtl||(this.thicknessDropDown.open=this.thicknessDropDownOpen.bind(this)),this.strokeDropDownElement=this.pdfViewerBase.getElement("_annotation_stroke"),this.strokeColorPicker=this.createColorPicker(this.strokeDropDownElement.id),this.strokeColorPicker.change=this.onStrokePickerChange.bind(this),this.strokeDropDown=this.createDropDownButton(this.strokeDropDownElement,"e-pv-annotation-stroke-icon",this.strokeColorPicker.element.parentElement,this.pdfViewer.localeObj.getConstant("Stroke edit")),this.strokeDropDown.beforeOpen=this.strokeDropDownBeforeOpen.bind(this),this.strokeDropDown.open=this.strokeDropDownOpen.bind(this),this.pdfViewerBase.getElement("_annotation_stroke-popup").addEventListener("click",this.onStrokePickerCancelClick.bind(this)))},g.prototype.opacityDropDownOpen=function(e){G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?(e.element.parentElement.style.left="0px",e.element.parentElement.style.top=this.pdfViewerBase.viewerContainer.clientHeight+"px"):this.calculateToolbarPosition(e)},g.prototype.onColorPickerCancelClick=function(e){e.target.classList.contains("e-cancel")&&this.colorDropDown.toggle()},g.prototype.onStrokePickerCancelClick=function(e){e.target.classList.contains("e-cancel")&&this.strokeDropDown.toggle()},g.prototype.colorDropDownBeforeOpen=function(e){this.colorPalette.noColor=!1,this.pdfViewer.annotationModule.textMarkupAnnotationModule&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?this.colorPalette.value=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation.color:this.setCurrentColorInPicker()),1===this.pdfViewer.selectedItems.annotations.length?(this.colorPalette.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.fill,this.colorPalette.noColor=!0):this.setCurrentColorInPicker(),this.colorPalette.refresh(),this.updateColorInIcon(this.colorDropDownElement,this.colorPalette.value)},g.prototype.setCurrentColorInPicker=function(){if(!G.isBlazor()){if(this.pdfViewer.annotationModule.textMarkupAnnotationModule)switch(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode){case"Highlight":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightColor);break;case"Underline":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineColor);break;case"Strikethrough":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughColor)}if(this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotationModule.shapeAnnotationModule.currentAnnotationMode){case"Line":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.shapeAnnotationModule.lineFillColor);break;case"Arrow":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.shapeAnnotationModule.arrowFillColor);break;case"Rectangle":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.shapeAnnotationModule.rectangleFillColor);break;case"Circle":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.shapeAnnotationModule.circleFillColor);break;case"Polygon":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.shapeAnnotationModule.polygonFillColor)}this.colorDropDownElement&&this.updateColorInIcon(this.colorDropDownElement,this.colorPalette.value)}},g.prototype.colorDropDownOpen=function(e){G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(e.element.parentElement.style.top=this.pdfViewerBase.viewerContainer.clientHeight/2+"px"),this.popupPosition(e,this.colorDropDownElement),this.colorPalette.refresh()},g.prototype.strokeDropDownBeforeOpen=function(e){1===this.pdfViewer.selectedItems.annotations.length?this.strokeColorPicker.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeColor:this.setCurrentStrokeColorInPicker(),this.strokeColorPicker.refresh(),this.updateColorInIcon(this.strokeDropDownElement,this.strokeColorPicker.value),this.updateInkannotationItems()},g.prototype.setCurrentStrokeColorInPicker=function(){if(!G.isBlazor()&&this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotationModule.shapeAnnotationModule.currentAnnotationMode){case"Line":this.setColorInPicker(this.strokeColorPicker,this.pdfViewer.annotationModule.shapeAnnotationModule.lineStrokeColor);break;case"Arrow":this.setColorInPicker(this.strokeColorPicker,this.pdfViewer.annotationModule.shapeAnnotationModule.arrowStrokeColor);break;case"Rectangle":this.setColorInPicker(this.strokeColorPicker,this.pdfViewer.annotationModule.shapeAnnotationModule.rectangleStrokeColor);break;case"Circle":this.setColorInPicker(this.strokeColorPicker,this.pdfViewer.annotationModule.shapeAnnotationModule.circleStrokeColor);break;case"Polygon":this.setColorInPicker(this.strokeColorPicker,this.pdfViewer.annotationModule.shapeAnnotationModule.polygonStrokeColor)}},g.prototype.strokeDropDownOpen=function(e){G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(e.element.parentElement.style.top=this.pdfViewerBase.viewerContainer.clientHeight/2+"px"),this.popupPosition(e,this.strokeDropDownElement),this.strokeColorPicker.refresh()},g.prototype.onFontColorChange=function(e){e=G.isBlazor()?e[0]:""===e.currentValue.hex?"#ffffff00":e.currentValue.hex;1===this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.annotation.modifyFontColor(e):(this.pdfViewer.freeTextSettings.fontColor=e,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties()),G.isBlazor()?(this.fontColorElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-textcolor-container"),this.updateColorInIcon(this.fontColorElementInBlazor,e)):(this.updateColorInIcon(this.fontColorElement,e),this.fontColorDropDown.toggle())},g.prototype.onFontFamilyChange=function(e){e=G.isBlazor()?e:e&&e.fontFamily&&e.fontFamily.value?e.fontFamily.value:"";1===this.pdfViewer.selectedItems.annotations.length&&e?this.pdfViewer.annotation.modifyFontFamily(e):(this.pdfViewer.freeTextSettings.fontFamily=e,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties())},g.prototype.onFontSizeChange=function(e,t){var i,e=G.isBlazor()?e:e&&e.fontSize&&e.fontSize.value?e.fontSize.value:"",n=parseFloat(e);1===this.pdfViewer.selectedItems.annotations.length&&e?(i=this.pdfViewer.selectedItems.annotations[0].id,(e=this.pdfViewer.annotationCollection.filter(function(e){return e.uniqueKey===i})[0])&&e.fontSize!==n&&this.pdfViewer.annotation.modifyFontSize(n,t)):(this.pdfViewer.freeTextSettings.fontSize=n,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties())},g.prototype.textAlignDropDownBeforeOpen=function(e){if(1===this.pdfViewer.selectedItems.annotations.length&&e.element.getElementsByTagName("button")&&0<e.element.getElementsByTagName("button").length)for(var t=e.element.getElementsByTagName("button"),i=this.pdfViewer.selectedItems.annotations[0],n=0;n<t.length;n++)t[parseInt(n.toString(),10)]&&(t[parseInt(n.toString(),10)].classList.remove("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_left_align"&&"Left"===i.textAlign&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_right_align"&&"Right"===i.textAlign&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_center_align"&&"Center"===i.textAlign&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_justify_align")&&"Justify"===i.textAlign&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active")},g.prototype.textPropertiesDropDownBeforeOpen=function(e){if(1===this.pdfViewer.selectedItems.annotations.length&&e.element.getElementsByTagName("button")&&0<e.element.getElementsByTagName("button").length)for(var t=e.element.getElementsByTagName("button"),i=this.pdfViewer.selectedItems.annotations[0],n=0;n<t.length;n++)t[parseInt(n.toString(),10)]&&(t[parseInt(n.toString(),10)].classList.remove("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_bold"&&i.font.isBold&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_italic"&&i.font.isItalic&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_strikeout"&&i.font.isStrikeout&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_underline_textinput")&&i.font.isUnderline&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active")},g.prototype.onClickTextAlignment=function(e){var t=G.isBlazor()?e[0]:e&&e.item&&e.item.value?e.item.value:"";1===this.pdfViewer.selectedItems.annotations.length&&t?this.pdfViewer.annotation.modifyTextAlignment(t):(this.pdfViewer.freeTextSettings.textAlignment=e.item.value,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties()),this.updateTextAlignInIcon(t)},g.prototype.onClickTextProperties=function(e){var t,e=G.isBlazor()?e[0]:e&&e.item&&e.item.value?e.item.value:"";1===this.pdfViewer.selectedItems.annotations.length&&e?(t={isBold:void 0,isItalic:void 0,isStrikeout:void 0,isUnderline:void 0},"bold"===e?t.isBold=!this.pdfViewer.selectedItems.annotations[0].font.isBold:"italic"===e?t.isItalic=!this.pdfViewer.selectedItems.annotations[0].font.isItalic:"underline"===e?t.isUnderline=!this.pdfViewer.selectedItems.annotations[0].font.isUnderline:"strikeout"===e&&(t.isStrikeout=!this.pdfViewer.selectedItems.annotations[0].font.isStrikeout),this.pdfViewer.annotation.modifyTextProperties(t,e)):"bold"===e?this.pdfViewer.annotationModule.freeTextAnnotationModule.isBold?this.pdfViewer.annotationModule.freeTextAnnotationModule.isBold=!1:(this.pdfViewer.freeTextSettings.fontStyle=1,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties()):"italic"===e?this.pdfViewer.annotationModule.freeTextAnnotationModule.isItalic?this.pdfViewer.annotationModule.freeTextAnnotationModule.isItalic=!1:(this.pdfViewer.freeTextSettings.fontStyle=2,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties()):"underline"===e?this.pdfViewer.annotationModule.freeTextAnnotationModule.isUnderline?this.pdfViewer.annotationModule.freeTextAnnotationModule.isUnderline=!1:(this.pdfViewer.freeTextSettings.fontStyle=4,this.pdfViewer.annotationModule.freeTextAnnotationModule.isStrikethrough=!1,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties()):"strikeout"===e&&(this.pdfViewer.annotationModule.freeTextAnnotationModule.isStrikethrough?this.pdfViewer.annotationModule.freeTextAnnotationModule.isStrikethrough=!1:(this.pdfViewer.freeTextSettings.fontStyle=8,this.pdfViewer.annotationModule.freeTextAnnotationModule.isUnderline=!1,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties())),this.updateTextPropertySelection(e)},g.prototype.opacityChange=function(e){var t=1,t=e&&1===e.length?e[0]:e.value;if(this.pdfViewer.annotationModule.textMarkupAnnotationModule)if(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)G.isBlazor()?this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyOpacityProperty(null,t):this.isCurrentAnnotationOpacitySet&&"changed"===e.name?this.isCurrentAnnotationOpacitySet=!1:this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyOpacityProperty(e);else switch(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode){case"Highlight":this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightOpacity=t/100;break;case"Underline":this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineOpacity=t/100;break;case"Strikethrough":this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughOpacity=t/100}if(1===this.pdfViewer.selectedItems.annotations.length){var i,n=this.pdfViewer.selectedItems.annotations[0];null==n||"Stamp"!==n.shapeAnnotationType&&"Image"!==n.shapeAnnotationType?G.isBlazor()?this.pdfViewer.annotation.modifyOpacity(t,!0):"changed"===e.name&&e.value!==e.previousValue&&this.pdfViewer.annotation.modifyOpacity(e):(e=M(n),(i=M(n)).opacity=t/100,this.pdfViewer.nodePropertyChange(n,{opacity:t/100}),this.pdfViewer.annotation.triggerAnnotationPropChange(n,!1,!1,!1,!0),this.pdfViewer.annotation.addAction(this.pdfViewer.selectedItems.annotations[0].pageIndex,null,this.pdfViewer.selectedItems.annotations[0],"stampOpacity","",e,i),this.pdfViewer.annotation.stampAnnotationModule.updateSessionStorage(this.pdfViewer.selectedItems.annotations[0],null,"opacity"))}else{if(this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode){case"Line":this.pdfViewer.annotation.shapeAnnotationModule.lineOpacity=t/100;break;case"Arrow":this.pdfViewer.annotation.shapeAnnotationModule.arrowOpacity=t/100;break;case"Rectangle":this.pdfViewer.annotation.shapeAnnotationModule.rectangleOpacity=t/100;break;case"Circle":this.pdfViewer.annotation.shapeAnnotationModule.circleOpacity=t/100;break;case"Polygon":this.pdfViewer.annotation.shapeAnnotationModule.polygonOpacity=t/100}n=this.pdfViewer.annotation;n&&n.inkAnnotationModule&&(this.pdfViewer.inkAnnotationSettings.opacity=t/100),this.pdfViewer.drawingObject&&(this.pdfViewer.drawingObject.opacity=t/100,"FreeText"===this.pdfViewer.drawingObject.shapeAnnotationType)&&(this.pdfViewer.annotation.freeTextAnnotationModule.opacity=t/100)}G.isBlazor()||this.updateOpacityIndicator()},g.prototype.opacityDropDownBeforeOpen=function(e){if(this.pdfViewer.annotationModule.textMarkupAnnotationModule)if(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)this.isCurrentAnnotationOpacitySet=!0,this.opacitySlider.value=100*this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation.opacity;else switch(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode){case"Highlight":this.opacitySlider.value=100*this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightOpacity;break;case"Underline":this.opacitySlider.value=100*this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineOpacity;break;case"Strikethrough":this.opacitySlider.value=100*this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughOpacity}if(1===this.pdfViewer.selectedItems.annotations.length)this.opacitySlider.value=100*this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.opacity;else if(this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode){case"Line":this.opacitySlider.value=100*this.pdfViewer.annotation.shapeAnnotationModule.lineOpacity;break;case"Arrow":this.opacitySlider.value=100*this.pdfViewer.annotation.shapeAnnotationModule.arrowOpacity;break;case"Rectangle":this.opacitySlider.value=100*this.pdfViewer.annotation.shapeAnnotationModule.rectangleOpacity;break;case"Circle":this.opacitySlider.value=100*this.pdfViewer.annotation.shapeAnnotationModule.circleOpacity;break;case"Polygon":this.opacitySlider.value=100*this.pdfViewer.annotation.shapeAnnotationModule.polygonOpacity}this.updateOpacityIndicator(),this.updateInkannotationItems()},g.prototype.thicknessDropDownBeforeOpen=function(){if(1===this.pdfViewer.selectedItems.annotations.length)this.thicknessSlider.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeWidth;else if(this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode){case"Line":this.thicknessSlider.value=this.pdfViewer.annotation.shapeAnnotationModule.lineThickness;break;case"Arrow":this.thicknessSlider.value=this.pdfViewer.annotation.shapeAnnotationModule.arrowThickness;break;case"Rectangle":this.thicknessSlider.value=this.pdfViewer.annotation.shapeAnnotationModule.rectangleThickness;break;case"Circle":this.thicknessSlider.value=this.pdfViewer.annotation.shapeAnnotationModule.circleThickness;break;case"Polygon":this.thicknessSlider.value=this.pdfViewer.annotation.shapeAnnotationModule.polygonThickness}this.updateThicknessIndicator(),this.updateInkannotationItems()},g.prototype.thicknessDropDownOpen=function(e){G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?(e.element.parentElement.style.left="0px",e.element.parentElement.style.top=this.pdfViewerBase.viewerContainer.clientHeight+"px"):this.calculateToolbarPosition(e)},g.prototype.calculateToolbarPosition=function(e){var t,i;e.element&&e.element.parentElement&&(t=parseFloat(e.element.parentElement.style.left))+(i=e.element.parentElement.offsetWidth)<this.pdfViewer.element.offsetWidth+10&&(e.element.parentElement.style.left=t-i+"px")},g.prototype.thicknessChangeInBlazor=function(e){1===this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.annotation.modifyThickness(e[0]):this.ShapeThickness(e[0])},g.prototype.thicknessChange=function(e){var t,i;1===this.pdfViewer.selectedItems.annotations.length?"changed"===e.name&&(this.pdfViewer.annotation.modifyThickness(e.value),G.isBlazor()||this.updateThicknessIndicator(),t=this.pdfViewer.annotation,i=this.pdfViewer.selectedItems.annotations[0],t)&&t.inkAnnotationModule&&i&&"Ink"===i.shapeAnnotationType&&(this.pdfViewer.inkAnnotationSettings.thickness=e.value):this.ShapeThickness(e.value)},g.prototype.ShapeThickness=function(e){if(this.pdfViewer.annotation.shapeAnnotationModule){switch(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode){case"Line":this.pdfViewer.annotation.shapeAnnotationModule.lineThickness=e;break;case"Arrow":this.pdfViewer.annotation.shapeAnnotationModule.arrowThickness=e;break;case"Rectangle":this.pdfViewer.annotation.shapeAnnotationModule.rectangleThickness=e;break;case"Circle":this.pdfViewer.annotation.shapeAnnotationModule.circleThickness=e;break;case"Polygon":this.pdfViewer.annotation.shapeAnnotationModule.polygonThickness=e}var t=this.pdfViewer.annotation;t&&t.inkAnnotationModule&&(this.pdfViewer.inkAnnotationSettings.thickness=e.value),this.pdfViewer.drawingObject&&(this.pdfViewer.drawingObject.thickness=e.value),this.pdfViewer.drawingObject&&"FreeText"===this.pdfViewer.drawingObject.shapeAnnotationType&&(this.pdfViewer.annotation.freeTextAnnotationModule.borderWidth=e.value)}t=this.pdfViewer.annotation;t&&t.inkAnnotationModule&&(this.pdfViewer.inkAnnotationSettings.thickness=e),this.pdfViewer.drawingObject&&(this.pdfViewer.drawingObject.thickness=e),this.pdfViewer.drawingObject&&"FreeText"===this.pdfViewer.drawingObject.shapeAnnotationType&&(this.pdfViewer.annotation.freeTextAnnotationModule.borderWidth=e),G.isBlazor()||this.updateThicknessIndicator()},g.prototype.createDropDownButton=function(e,t,i,n){t=new P.DropDownButton({iconCss:t+" e-pv-icon",target:i});return this.pdfViewer.enableRtl&&(t.enableRtl=!0),t.appendTo(e),this.primaryToolbar.createTooltip(e,n),e.setAttribute("aria-label",n),t},g.prototype.createShapeOptions=function(e,t,i,n){var o,r=G.createElement("div",{id:e+"_target",className:"e-pv-shapes-toolbar"});return document.body.appendChild(r),i?((o=new w.Toolbar({items:this.textAlignmentToolbarItems(),overflowMode:"MultiRow"},r)).isStringTemplate=!0,this.afterAlignmentToolbarCreation()):n?((o=new w.Toolbar({items:this.textPropertiesToolbarItems(),overflowMode:"MultiRow"},r)).isStringTemplate=!0,this.afterPropertiesToolbarCreation()):t?!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?((o=new w.Toolbar({items:this.createShapeToolbarItems(),overflowMode:"MultiRow",clicked:this.onShapeToolbarClicked.bind(this)},r)).isStringTemplate=!0,this.afterShapeToolbarCreation()):(this.toolbarElement=G.createElement("div",{id:e+"_target",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement),(o=new w.Toolbar({items:this.createShapeToolbarItemsForMobile(),overflowMode:"Scrollable",clicked:this.onShapeToolbarClicked.bind(this)},this.toolbarElement)).isStringTemplate=!0,this.afterShapeToolbarCreationForMobile()):((o=new w.Toolbar({items:this.createCalibrateToolbarItems(),overflowMode:"MultiRow",clicked:this.onCalibrateToolbarClicked.bind(this)},r)).isStringTemplate=!0,this.afterCalibrateToolbarCreation()),o},g.prototype.createPropertyToolbarForMobile=function(e){var t=this,i=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_color","e-pv-annotation-color-container"),n=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_stroke","e-pv-annotation-stroke-container"),o=this.getTemplate("span","_annotation_thickness","e-pv-annotation-thickness-container"),r=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),a=this.getTemplate("input","_annotation_fontname","e-pv-annotation-fontname-container"),s=this.getTemplate("input","_annotation_fontsize","e-pv-annotation-fontsize-container"),l=this.getTemplate("span","_annotation_textcolor","e-pv-annotation-textcolor-container"),A=this.getTemplate("span","_annotation_textalign","e-pv-annotation-textalign-container"),d=this.getTemplate("span","_annotation_textproperties","e-pv-annotation-textprop-container"),p=[];return"Polygon"===e||"Rectangle"===e||"Ellipse"===e||"Line"===e||"LineWidthArrowHead"===e||"Distance"===e||"Perimeter"===e||"Radius"===e||"FreeText"===e?("FreeText"===e&&(p.push({prefixIcon:"e-pv-freetext-icon e-pv-icon",className:"e-pv-annotation-freetextedit-container"}),p.push({type:"Separator",align:"Left"}),p.push({template:a}),p.push({template:s}),p.push({template:l}),p.push({template:A}),p.push({template:d})),"Polygon"===e?("Area"===this.pdfViewer.selectedItems.annotations[0].measureType?p.push({prefixIcon:"e-pv-calibrate-area-icon e-pv-icon"}):"Volume"===this.pdfViewer.selectedItems.annotations[0].measureType?p.push({prefixIcon:"e-pv-calibrate-volume-icon e-pv-icon"}):p.push({prefixIcon:"e-pv-shape-pentagon-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})):"Rectangle"===e?(p.push({prefixIcon:"e-pv-shape-rectangle-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})):"Ellipse"===e?(p.push({prefixIcon:"e-pv-shape-circle-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})):"Line"===e?("Perimeter"===this.pdfViewer.selectedItems.annotations[0].measureType?p.push({prefixIcon:"e-pv-calibrate-perimeter-icon e-pv-icon"}):p.push({prefixIcon:"e-pv-shape-line-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})):"LineWidthArrowHead"===e?(p.push({prefixIcon:"e-pv-shape-arrow-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})):"Distance"===e?(p.push({prefixIcon:"e-pv-calibrate-distance-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})):"Perimeter"===e?(p.push({prefixIcon:"e-pv-calibrate-perimeter-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})):"Radius"===e&&(p.push({prefixIcon:"e-pv-calibrate-radius-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})),p.push({template:i}),p.push({template:n}),p.push({template:o})):"Path"===e||"Ink"===e||"HandWrittenSignature"===e||"SignatureText"===e?("Path"===e||"Ink"===e?(p.push({prefixIcon:"e-pv-inkannotation-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})):"HandWrittenSignature"!==e&&"SignatureText"!==e||(p.push({prefixIcon:"e-pv-handwritten-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})),p.push({template:n}),p.push({template:o})):"Underline"===e||"Highlight"===e||"Strikethrough"===e?("Highlight"===e?(p.push({prefixIcon:"e-pv-highlight-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})):"Underline"===e?(p.push({prefixIcon:"e-pv-underline-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})):"Strikethrough"===e&&(p.push({prefixIcon:"e-pv-strikethrough-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})),p.push({template:i})):"Stamp"===e||"Image"===e?(p.push({prefixIcon:"e-pv-stamp-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})):"StickyNotes"===e&&(p.push({prefixIcon:"e-pv-comment-icon e-pv-icon"}),p.push({type:"Separator",align:"Left"})),p.push({template:r}),p.push({prefixIcon:"e-pv-comment-panel-icon e-pv-icon",className:"e-pv-comment-panel-icon-container",id:this.pdfViewer.element.id+"_annotation_commentPanel",align:"Right",click:function(e){t.pdfViewer.annotationModule.showCommentsPanel()}}),p.push({prefixIcon:"e-pv-annotation-delete-icon e-pv-icon",className:"e-pv-annotation-delete-container",id:this.pdfViewer.element.id+"_annotation_delete",align:"Right",click:function(e){t.pdfViewer.annotationModule.deleteAnnotation(),t.propertyToolbar.destroy(),t.toolbarCreated=!1,t.createAnnotationToolbarForMobile(),t.adjustMobileViewer()}}),p},g.prototype.createStampToolbarItemsForMobile=function(){var e=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),t=[];return t.push({prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)}),t.push({type:"Separator",align:"Left"}),t.push({template:e}),t},g.prototype.createShapeToolbarItemsForMobile=function(){var e=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_color","e-pv-annotation-color-container"),t=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_stroke","e-pv-annotation-stroke-container"),i=this.getTemplate("span","_annotation_thickness","e-pv-annotation-thickness-container"),n=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),o=[];return o.push({prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)}),o.push({prefixIcon:"e-pv-shape-line-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_line",text:this.pdfViewer.localeObj.getConstant("Line Shape"),align:"Left"}),o.push({prefixIcon:"e-pv-shape-arrow-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_arrow",text:this.pdfViewer.localeObj.getConstant("Arrow Shape"),align:"Left"}),o.push({prefixIcon:"e-pv-shape-rectangle-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_rectangle",text:this.pdfViewer.localeObj.getConstant("Rectangle Shape"),align:"Left"}),o.push({prefixIcon:"e-pv-shape-circle-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_circle",text:this.pdfViewer.localeObj.getConstant("Circle Shape"),align:"Left"}),o.push({prefixIcon:"e-pv-shape-pentagon-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_pentagon",text:this.pdfViewer.localeObj.getConstant("Pentagon Shape"),align:"Left"}),o.push({type:"Separator",align:"Left"}),o.push({template:e}),o.push({template:t}),o.push({template:i}),o.push({template:n}),o},g.prototype.createCalibrateToolbarItemsForMobile=function(){var e=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_color","e-pv-annotation-color-container"),t=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_stroke","e-pv-annotation-stroke-container"),i=this.getTemplate("span","_annotation_thickness","e-pv-annotation-thickness-container"),n=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),o=[];return o.push({prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)}),o.push({prefixIcon:"e-pv-calibrate-distance-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_distance",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),o.push({prefixIcon:"e-pv-calibrate-perimeter-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_perimeter",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),o.push({prefixIcon:"e-pv-calibrate-area-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_area",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),o.push({prefixIcon:"e-pv-calibrate-radius-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_radius",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),o.push({prefixIcon:"e-pv-calibrate-volume-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_volume",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),o.push({type:"Separator",align:"Left"}),o.push({template:e}),o.push({template:t}),o.push({template:i}),o.push({template:n}),o},g.prototype.handleShapeTool=function(e){if(!G.isBlazor()&&G.Browser.isDevice)for(var t=document.querySelectorAll(".e-pv-select"),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].id!==e&&t[parseInt(i.toString(),10)].id!==this.pdfViewer.element.id+"_annotation"&&t[parseInt(i.toString(),10)].classList.remove("e-pv-select")},g.prototype.createPropDropDownButton=function(e,t,i,n){t=new P.DropDownButton({iconCss:t+" e-pv-icon",target:i,cssClass:"e-caret-hide"});return this.pdfViewer.enableRtl&&(t.enableRtl=!0),t.appendTo(e),this.primaryToolbar.createTooltip(e,n),e.setAttribute("aria-label",n),t},g.prototype.textAlignmentToolbarItems=function(){var e=[];return e.push({prefixIcon:"e-pv-left-align-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_left_align",align:"Left",value:"Left",click:this.onClickTextAlignment.bind(this)}),e.push({prefixIcon:"e-pv-center-align-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_center_align",align:"Left",value:"Center",click:this.onClickTextAlignment.bind(this)}),e.push({prefixIcon:"e-pv-right-align-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_right_align",align:"Left",value:"Right",click:this.onClickTextAlignment.bind(this)}),e.push({prefixIcon:"e-pv-justfiy-align-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_justify_align",align:"Left",value:"Justify",click:this.onClickTextAlignment.bind(this)}),e},g.prototype.afterAlignmentToolbarCreation=function(){this.alignLeftElement=this.primaryToolbar.addClassToolbarItem("_left_align","e-pv-left-align",this.pdfViewer.localeObj.getConstant("Align left")),this.alignRightElement=this.primaryToolbar.addClassToolbarItem("_right_align","e-pv-right-align",this.pdfViewer.localeObj.getConstant("Align right")),this.alignCenterElement=this.primaryToolbar.addClassToolbarItem("_center_align","e-pv-center-align",this.pdfViewer.localeObj.getConstant("Center")),this.alignJustifyElement=this.primaryToolbar.addClassToolbarItem("_justify_align","e-pv-justfiy-align",this.pdfViewer.localeObj.getConstant("Justify"))},g.prototype.afterPropertiesToolbarCreation=function(){this.boldElement=this.primaryToolbar.addClassToolbarItem("_bold","e-pv-bold",this.pdfViewer.localeObj.getConstant("Bold")),this.italicElement=this.primaryToolbar.addClassToolbarItem("_italic","e-pv-italic",this.pdfViewer.localeObj.getConstant("Italic")),this.fontStyleStrikethroughItem=this.primaryToolbar.addClassToolbarItem("_strikeout","e-pv-strikeout",this.pdfViewer.localeObj.getConstant("Strikethroughs")),this.fontStyleUnderlineItem=this.primaryToolbar.addClassToolbarItem("_underline_textinput","e-pv-underlinetext",this.pdfViewer.localeObj.getConstant("Underlines"))},g.prototype.createDropDownListForSize=function(e){var t=this,i=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","28px","36px","48px","72px","96px"];this.pdfViewer.enableRtl?this.fontSize=new U.ComboBox({dataSource:i,cssClass:"e-pv-prop-dropdown-rtl",allowCustom:!0,showClearButton:!1,width:"80px",popupWidth:"100px",enableRtl:!0}):this.fontSize=new U.ComboBox({dataSource:i,cssClass:"e-pv-prop-dropdown",allowCustom:!0,showClearButton:!1,width:"80px",popupWidth:"100px"}),this.fontSize.value="16px",G.isNullOrUndefined(e)||(this.fontSize.appendTo(e),i=e.parentElement||e,this.primaryToolbar.createTooltip(i,this.pdfViewer.localeObj.getConstant("Font size")),e.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Font size"))),this.fontSize.addEventListener("change",function(e){e=e.isInteracted;t.onFontSizeChange(t,e)})},g.prototype.createDropDownListForFamily=function(e){var t=this,i=[{FontName:"Helvetica"},{FontName:"Courier"},{FontName:"Symbol"},{FontName:"Times New Roman"}];this.pdfViewer.enableRtl?this.fontFamily=new U.ComboBox({dataSource:i,query:(new O.Query).select(["FontName"]),fields:{text:"FontName",value:"FontName"},cssClass:"e-pv-prop-dropdown-rtl",itemTemplate:G.initializeCSPTemplate(function(e){return'<span style="font-family: '+e.FontName+';">'+e.FontName+"</span>"}),allowCustom:!0,showClearButton:!1,width:"110px",popupWidth:"190px",enableRtl:!0}):this.fontFamily=new U.ComboBox({dataSource:i,query:(new O.Query).select(["FontName"]),fields:{text:"FontName",value:"FontName"},cssClass:"e-pv-prop-dropdown",itemTemplate:G.initializeCSPTemplate(function(e){return'<span style="font-family: '+e.FontName+';">'+e.FontName+"</span>"}),allowCustom:!0,showClearButton:!1,width:"110px",popupWidth:"190px"}),this.fontFamily.isStringTemplate=!0,this.fontFamily.value="Helvetica",G.isNullOrUndefined(e)||(this.fontFamily.appendTo(e),i=e.parentElement||e,this.primaryToolbar.createTooltip(i,this.pdfViewer.localeObj.getConstant("Font family")),e.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Font family"))),this.fontFamily.addEventListener("change",function(){t.onFontFamilyChange(t)})},g.prototype.textPropertiesToolbarItems=function(){var e=[];return e.push({prefixIcon:"e-pv-bold-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_bold",align:"Left",value:"bold",click:this.onClickTextProperties.bind(this)}),e.push({prefixIcon:"e-pv-italic-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_italic",align:"Left",value:"italic",click:this.onClickTextProperties.bind(this)}),e.push({prefixIcon:"e-pv-strikeout-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_strikeout",align:"Left",value:"strikeout",click:this.onClickTextProperties.bind(this)}),e.push({prefixIcon:"e-pv-underlinetext-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_underline_textinput",align:"Left",value:"underline",click:this.onClickTextProperties.bind(this)}),e},g.prototype.createShapeToolbarItems=function(){var e=[];return e.push({prefixIcon:"e-pv-shape-line-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_line",text:this.pdfViewer.localeObj.getConstant("Line Shape"),align:"Left"}),e.push({prefixIcon:"e-pv-shape-arrow-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_arrow",text:this.pdfViewer.localeObj.getConstant("Arrow Shape"),align:"Left"}),e.push({prefixIcon:"e-pv-shape-rectangle-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_rectangle",text:this.pdfViewer.localeObj.getConstant("Rectangle Shape"),align:"Left"}),e.push({prefixIcon:"e-pv-shape-circle-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_circle",text:this.pdfViewer.localeObj.getConstant("Circle Shape"),align:"Left"}),e.push({prefixIcon:"e-pv-shape-pentagon-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_pentagon",text:this.pdfViewer.localeObj.getConstant("Pentagon Shape"),align:"Left"}),e},g.prototype.createCalibrateToolbarItems=function(){var e=[];return e.push({prefixIcon:"e-pv-calibrate-distance-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_distance",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),e.push({prefixIcon:"e-pv-calibrate-perimeter-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_perimeter",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),e.push({prefixIcon:"e-pv-calibrate-area-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_area",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),e.push({prefixIcon:"e-pv-calibrate-radius-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_radius",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),e.push({prefixIcon:"e-pv-calibrate-volume-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_volume",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),e},g.prototype.onCalibrateToolbarClicked=function(e){var t,i=this.pdfViewer.element.id,n=this.pdfViewer.annotation.measureAnnotationModule;switch(this.deselectAllItems(),this.deselectAllItemsForMobile(),this.resetFreeTextAnnot(),G.Browser.isDevice&&!G.isBlazor()&&(t=e.originalEvent.target,this.pdfViewer.toolbarModule.selectItem(t.parentElement)),e.originalEvent.target.id){case i+"_calibrate_distance":case i+"_calibrate_distanceIcon":n.setAnnotationType("Distance"),this.onShapeDrawSelection(!1),this.updateColorInIcon(this.colorDropDownElement,n.distanceFillColor),this.updateColorInIcon(this.strokeDropDownElement,n.distanceStrokeColor),this.handleShapeTool(i+"_calibrate_distance");break;case i+"_calibrate_perimeter":case i+"_calibrate_perimeterIcon":n.setAnnotationType("Perimeter"),this.onShapeDrawSelection(!1),this.updateColorInIcon(this.colorDropDownElement,n.perimeterFillColor),this.updateColorInIcon(this.strokeDropDownElement,n.perimeterStrokeColor),this.handleShapeTool(i+"_calibrate_perimeter");break;case i+"_calibrate_area":case i+"_calibrate_areaIcon":n.setAnnotationType("Area"),this.onShapeDrawSelection(!1),this.updateColorInIcon(this.colorDropDownElement,n.areaFillColor),this.updateColorInIcon(this.strokeDropDownElement,n.areaStrokeColor),this.handleShapeTool(i+"_calibrate_area");break;case i+"_calibrate_radius":case i+"_calibrate_radiusIcon":n.setAnnotationType("Radius"),this.onShapeDrawSelection(!1),this.updateColorInIcon(this.colorDropDownElement,n.radiusFillColor),this.updateColorInIcon(this.strokeDropDownElement,n.radiusStrokeColor),this.handleShapeTool(i+"_calibrate_radius");break;case i+"_calibrate_volume":case i+"_calibrate_volumeIcon":n.setAnnotationType("Volume"),this.onShapeDrawSelection(!1),this.updateColorInIcon(this.colorDropDownElement,n.volumeFillColor),this.updateColorInIcon(this.strokeDropDownElement,n.volumeStrokeColor),this.handleShapeTool(i+"_calibrate_volume")}},g.prototype.onShapeDrawSelection=function(e){G.Browser.isDevice||(this.updateInteractionTools(),this.enableAnnotationPropertiesTools(!0),(e?this.shapeDropDown:this.calibrateDropDown).toggle()),this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent()},g.prototype.afterCalibrateToolbarCreationForMobile=function(){this.primaryToolbar.addClassToolbarItem("_calibrate_distance","e-pv-calibrate-distance",this.pdfViewer.localeObj.getConstant("Calibrate Distance")),this.primaryToolbar.addClassToolbarItem("_calibrate_perimeter","e-pv-calibrate-perimeter",this.pdfViewer.localeObj.getConstant("Calibrate Perimeter")),this.primaryToolbar.addClassToolbarItem("_calibrate_area","e-pv-calibrate-area",this.pdfViewer.localeObj.getConstant("Calibrate Area")),this.primaryToolbar.addClassToolbarItem("_calibrate_radius","e-pv-calibrate-radius",this.pdfViewer.localeObj.getConstant("Calibrate Radius")),this.primaryToolbar.addClassToolbarItem("_calibrate_volume","e-pv-calibrate-volume",this.pdfViewer.localeObj.getConstant("Calibrate Volume"))},g.prototype.afterShapeToolbarCreationForMobile=function(){this.primaryToolbar.addClassToolbarItem("_annotation_color","e-pv-annotation-color-container",this.pdfViewer.localeObj.getConstant("Change Color")),this.primaryToolbar.addClassToolbarItem("_annotation_stroke","e-pv-annotation-stroke-container",this.pdfViewer.localeObj.getConstant("Change Stroke Color")),this.primaryToolbar.addClassToolbarItem("_annotation_thickness","e-pv-annotation-thickness-container",this.pdfViewer.localeObj.getConstant("Chnage Border Thickness")),this.primaryToolbar.addClassToolbarItem("_annotation_opacity","e-annotation-opacity-container",this.pdfViewer.localeObj.getConstant("Change Opacity")),this.primaryToolbar.addClassToolbarItem("_shape_line","e-pv-shape-line",this.pdfViewer.localeObj.getConstant("Add line")),this.primaryToolbar.addClassToolbarItem("_shape_arrow","e-pv-shape-arrow",this.pdfViewer.localeObj.getConstant("Add arrow")),this.primaryToolbar.addClassToolbarItem("_shape_rectangle","e-pv-shape-rectangle",this.pdfViewer.localeObj.getConstant("Add rectangle")),this.primaryToolbar.addClassToolbarItem("_shape_circle","e-pv-shape-circle",this.pdfViewer.localeObj.getConstant("Add circle")),this.primaryToolbar.addClassToolbarItem("_shape_pentagon","e-pv-shape-pentagon",this.pdfViewer.localeObj.getConstant("Add polygon"))},g.prototype.afterShapeToolbarCreation=function(){this.lineElement=this.primaryToolbar.addClassToolbarItem("_shape_line","e-pv-shape-line",this.pdfViewer.localeObj.getConstant("Add line")),this.arrowElement=this.primaryToolbar.addClassToolbarItem("_shape_arrow","e-pv-shape-arrow",this.pdfViewer.localeObj.getConstant("Add arrow")),this.rectangleElement=this.primaryToolbar.addClassToolbarItem("_shape_rectangle","e-pv-shape-rectangle",this.pdfViewer.localeObj.getConstant("Add rectangle")),this.circleElement=this.primaryToolbar.addClassToolbarItem("_shape_circle","e-pv-shape-circle",this.pdfViewer.localeObj.getConstant("Add circle")),this.polygonElement=this.primaryToolbar.addClassToolbarItem("_shape_pentagon","e-pv-shape-pentagon",this.pdfViewer.localeObj.getConstant("Add polygon"))},g.prototype.afterCalibrateToolbarCreation=function(){this.calibrateDistance=this.primaryToolbar.addClassToolbarItem("_calibrate_distance","e-pv-calibrate-distance",this.pdfViewer.localeObj.getConstant("Calibrate Distance")),this.calibratePerimeter=this.primaryToolbar.addClassToolbarItem("_calibrate_perimeter","e-pv-calibrate-perimeter",this.pdfViewer.localeObj.getConstant("Calibrate Perimeter")),this.calibrateArea=this.primaryToolbar.addClassToolbarItem("_calibrate_area","e-pv-calibrate-area",this.pdfViewer.localeObj.getConstant("Calibrate Area")),this.calibrateRadius=this.primaryToolbar.addClassToolbarItem("_calibrate_radius","e-pv-calibrate-radius",this.pdfViewer.localeObj.getConstant("Calibrate Radius")),this.calibrateVolume=this.primaryToolbar.addClassToolbarItem("_calibrate_volume","e-pv-calibrate-volume",this.pdfViewer.localeObj.getConstant("Calibrate Volume"))},g.prototype.afterMobileToolbarCreation=function(){var e=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);this.highlightItem=this.primaryToolbar.addClassToolbarItem("_highlight","e-pv-highlight",this.pdfViewer.localeObj.getConstant("Highlight")),this.underlineItem=this.primaryToolbar.addClassToolbarItem("_underline","e-pv-underline",this.pdfViewer.localeObj.getConstant("Underline")),this.strikethroughItem=this.primaryToolbar.addClassToolbarItem("_strikethrough","e-pv-strikethrough",this.pdfViewer.localeObj.getConstant("Strikethrough")),this.shapesItem=this.primaryToolbar.addClassToolbarItem("_annotation_shapes","e-pv-annotation-shapes",this.pdfViewer.localeObj.getConstant("Add Shapes")),this.calibrateItem=this.primaryToolbar.addClassToolbarItem("_annotation_calibrate","e-pv-annotation-calibrate",this.pdfViewer.localeObj.getConstant("Calibrate")),this.freeTextEditItem=this.primaryToolbar.addClassToolbarItem("_annotation_freeTextEdit","e-pv-annotation-freeTextEdit",this.pdfViewer.localeObj.getConstant("Free Text")),this.commentItem=this.primaryToolbar.addClassToolbarItem("_comment","e-pv-comment",this.pdfViewer.localeObj.getConstant("Add Comments")),this.commentItem=this.primaryToolbar.addClassToolbarItem("_annotation_commentPanel","e-pv-annotation-comment-panel",this.pdfViewer.localeObj.getConstant("Comment Panel")+(e?" (++0)":" (Ctrl+Alt+0)")),this.inkAnnotationItem=this.primaryToolbar.addClassToolbarItem("_annotation_ink","e-pv-annotation-ink",this.pdfViewer.localeObj.getConstant("Draw Ink")),this.selectAnnotationDeleteItem(!1),this.enableCommentPanelTool(this.pdfViewer.enableCommentPanel)},g.prototype.createColorPicker=function(e){var t=document.getElementById(e+"_target"),t=t||G.createElement("input",{id:e+"_target"}),e=(document.body.appendChild(t),new T.ColorPicker({inline:!0,mode:"Palette",cssClass:"e-show-value",enableOpacity:!1,value:"#000000",showButtons:!1,modeSwitcher:!1}));return this.pdfViewer.enableRtl&&(e.enableRtl=!0),e.appendTo(t),e},g.prototype.onColorPickerChange=function(e){var t=G.isBlazor()?e[0]:""===e.currentValue.hex?"#ffffff00":e.currentValue.hex;if(this.pdfViewer.annotationModule.textMarkupAnnotationModule)if(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyColorProperty(t);else switch(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode){case"Highlight":this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightColor=t;break;case"Underline":this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineColor=t;break;case"Strikethrough":this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughColor=t}if(1===this.pdfViewer.selectedItems.annotations.length)G.isBlazor()?e[0]!==e[1]&&this.pdfViewer.annotation.modifyFillColor(t):e.currentValue.hex!==e.previousValue.hex&&this.pdfViewer.annotation.modifyFillColor(t);else{if(this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode){case"Line":this.pdfViewer.annotation.shapeAnnotationModule.lineFillColor=t;break;case"Arrow":this.pdfViewer.annotation.shapeAnnotationModule.arrowFillColor=t;break;case"Rectangle":this.pdfViewer.annotation.shapeAnnotationModule.rectangleFillColor=t;break;case"Circle":this.pdfViewer.annotation.shapeAnnotationModule.circleFillColor=t;break;case"Polygon":this.pdfViewer.annotation.shapeAnnotationModule.polygonFillColor=t}this.pdfViewer.drawingObject&&(this.pdfViewer.drawingObject.fillColor=t,"FreeText"===this.pdfViewer.drawingObject.shapeAnnotationType)&&(this.pdfViewer.annotation.freeTextAnnotationModule.fillColor=t)}G.isBlazor()?(this.colorDropDownElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-color-container"),this.updateColorInIcon(this.colorDropDownElementInBlazor,t)):(this.updateColorInIcon(this.colorDropDownElement,t),this.colorDropDown.toggle())},g.prototype.onStrokePickerChange=function(e){var t=G.isBlazor()?e[0]:""===e.currentValue.hex?"#ffffff00":e.currentValue.hex;if(1===this.pdfViewer.selectedItems.annotations.length)G.isBlazor()?e[0]!==e[1]&&this.pdfViewer.annotation.modifyStrokeColor(t):e.currentValue.hex!==e.previousValue.hex&&this.pdfViewer.annotation.modifyStrokeColor(t);else{if(this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode){case"Line":this.pdfViewer.annotation.shapeAnnotationModule.lineStrokeColor=t;break;case"Arrow":this.pdfViewer.annotation.shapeAnnotationModule.arrowStrokeColor=t;break;case"Rectangle":this.pdfViewer.annotation.shapeAnnotationModule.rectangleStrokeColor=t;break;case"Circle":this.pdfViewer.annotation.shapeAnnotationModule.circleStrokeColor=t;break;case"Polygon":this.pdfViewer.annotation.shapeAnnotationModule.polygonStrokeColor=t}e=this.pdfViewer.annotation;e&&e.inkAnnotationModule&&(this.pdfViewer.inkAnnotationSettings.strokeColor=t),this.pdfViewer.drawingObject&&(this.pdfViewer.drawingObject.strokeColor=t),this.pdfViewer.drawingObject&&"FreeText"===this.pdfViewer.drawingObject.shapeAnnotationType&&(this.pdfViewer.annotation.freeTextAnnotationModule.borderColor=t)}G.isBlazor()?(this.strokeDropDownElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-stroke-container"),this.updateColorInIcon(this.strokeDropDownElementInBlazor,t)):(this.updateColorInIcon(this.strokeDropDownElement,t),this.strokeDropDown.toggle())},g.prototype.updateColorInIcon=function(e,t){G.isBlazor()?e&&(e.children[0].style.borderBottomColor=t):e&&e.childNodes[0]&&(e.childNodes[0].style.borderBottomColor=t)},g.prototype.updateTextPropertySelection=function(e){"bold"===e?document.getElementById(this.pdfViewer.element.id+"_bold").classList.toggle("textprop-option-active"):"italic"===e?document.getElementById(this.pdfViewer.element.id+"_italic").classList.toggle("textprop-option-active"):"underline"===e?(document.getElementById(this.pdfViewer.element.id+"_underline_textinput").classList.toggle("textprop-option-active"),document.getElementById(this.pdfViewer.element.id+"_strikeout").classList.remove("textprop-option-active")):"strikeout"===e&&(document.getElementById(this.pdfViewer.element.id+"_strikeout").classList.toggle("textprop-option-active"),document.getElementById(this.pdfViewer.element.id+"_underline_textinput").classList.remove("textprop-option-active"))},g.prototype.updateFontFamilyInIcon=function(e){this.fontFamily.value=e},g.prototype.updateTextAlignInIcon=function(e){var t="e-btn-icon e-pv-left-align-icon e-pv-icon",i=document.getElementById(this.pdfViewer.element.id+"_left_align"),n=document.getElementById(this.pdfViewer.element.id+"_right_align"),o=document.getElementById(this.pdfViewer.element.id+"_center_align"),r=document.getElementById(this.pdfViewer.element.id+"_justify_align");G.isBlazor()||(i.classList.remove("textprop-option-active"),n.classList.remove("textprop-option-active"),o.classList.remove("textprop-option-active"),r.classList.remove("textprop-option-active")),"Left"===e?i.classList.add("textprop-option-active"):"Right"===e?(t="e-btn-icon e-pv-right-align-icon e-pv-icon",n.classList.add("textprop-option-active")):"Center"===e?(t="e-btn-icon e-pv-center-align-icon e-pv-icon",o.classList.add("textprop-option-active")):"Justify"===e&&(t="e-btn-icon e-pv-justfiy-align-icon e-pv-icon",r.classList.add("textprop-option-active")),document.getElementById(this.pdfViewer.element.id+"_annotation_textalign").children[0].className=t},g.prototype.updateFontSizeInIcon=function(e){G.isNullOrUndefined(this.fontSize)&&this.pdfViewer.annotationModule?this.pdfViewer.annotationModule.handleFontSizeUpdate(e):this.fontSize.value=e+"px"},g.prototype.updateOpacityIndicator=function(){this.opacityIndicator.textContent=parseInt(Math.round(this.opacitySlider.value).toString(),10)+"%"},g.prototype.updateThicknessIndicator=function(){this.thicknessIndicator.textContent=this.thicknessSlider.value+" pt"},g.prototype.createSlider=function(e){var t=G.createElement("div",{className:"e-pv-annotation-opacity-popup-container"}),i=(document.body.appendChild(t),G.createElement("span",{id:e+"_label",className:"e-pv-annotation-opacity-label"})),n=(i.textContent=this.pdfViewer.localeObj.getConstant("Opacity"),G.createElement("div",{id:e+"_slider"}));return this.opacitySlider=new T.Slider({type:"MinRange",cssClass:"e-pv-annotation-opacity-slider",max:100,min:0}),this.opacityIndicator=G.createElement("div",{id:e+"_opacity_indicator",className:"e-pv-annotation-opacity-indicator"}),this.opacityIndicator.textContent="100%",this.pdfViewer.enableRtl?(t.appendChild(this.opacityIndicator),t.appendChild(n),this.opacitySlider.enableRtl=!0,this.opacitySlider.appendTo(n),this.opacitySlider.element.parentElement.classList.add("e-pv-annotation-opacity-slider-container"),t.appendChild(i)):(t.appendChild(i),t.appendChild(n),this.opacitySlider.appendTo(n),this.opacitySlider.element.parentElement.classList.add("e-pv-annotation-opacity-slider-container"),t.appendChild(this.opacityIndicator)),t},g.prototype.createThicknessSlider=function(e){var t=G.createElement("div",{className:"e-pv-annotation-thickness-popup-container"}),i=(document.body.appendChild(t),G.createElement("span",{id:e+"_label",className:"e-pv-annotation-thickness-label"})),n=(i.textContent=this.pdfViewer.localeObj.getConstant("Line Thickness"),G.createElement("div",{id:e+"_slider"}));return this.thicknessSlider=new T.Slider({type:"MinRange",cssClass:"e-pv-annotation-thickness-slider",max:12,min:0}),this.thicknessIndicator=G.createElement("div",{id:e+"_thickness_indicator",className:"e-pv-annotation-thickness-indicator"}),this.thicknessIndicator.textContent="0 pt",this.pdfViewer.enableRtl?(t.appendChild(this.thicknessIndicator),t.appendChild(n),this.thicknessSlider.enableRtl=!0,this.thicknessSlider.appendTo(n),t.appendChild(i)):(t.appendChild(i),t.appendChild(n),this.thicknessSlider.appendTo(n),t.appendChild(this.thicknessIndicator)),this.thicknessSlider.element.parentElement.classList.add("e-pv-annotation-thickness-slider-container"),t},g.prototype.afterToolbarCreation=function(){var e=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);this.highlightItem=this.primaryToolbar.addClassToolbarItem("_highlight","e-pv-highlight",this.pdfViewer.localeObj.getConstant("Highlight")),this.underlineItem=this.primaryToolbar.addClassToolbarItem("_underline","e-pv-underline",this.pdfViewer.localeObj.getConstant("Underline")),this.strikethroughItem=this.primaryToolbar.addClassToolbarItem("_strikethrough","e-pv-strikethrough",this.pdfViewer.localeObj.getConstant("Strikethrough")),this.deleteItem=this.primaryToolbar.addClassToolbarItem("_annotation_delete","e-pv-annotation-delete",this.pdfViewer.localeObj.getConstant("Delete")+" (delete)"),this.freeTextEditItem=this.primaryToolbar.addClassToolbarItem("_annotation_freeTextEdit","e-pv-annotation-freeTextEdit",this.pdfViewer.localeObj.getConstant("Free Text")),this.inkAnnotationItem=this.primaryToolbar.addClassToolbarItem("_annotation_ink","e-pv-annotation-ink",this.pdfViewer.localeObj.getConstant("Draw Ink")),this.pdfViewerBase.getElement("_annotation_shapes").setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Add Shapes")),this.pdfViewerBase.getElement("_annotation_calibrate").setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Calibrate")),this.pdfViewerBase.getElement("_comment").setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Add Comments")),this.commentItem=this.primaryToolbar.addClassToolbarItem("_annotation_commentPanel","e-pv-annotation-comment-panel",this.pdfViewer.localeObj.getConstant("Comment Panel")+(e?" (++0)":" (Ctrl+Alt+0)")),this.closeItem=this.primaryToolbar.addClassToolbarItem("_annotation_close","e-pv-annotation-tools-close",null),this.pdfViewerBase.getElement("_annotation_close").setAttribute("aria-label","Close Annotation Toolbar"),this.selectAnnotationDeleteItem(!1),this.enableTextMarkupAnnotationPropertiesTools(!1),this.enableCommentPanelTool(this.pdfViewer.enableCommentPanel)},g.prototype.onToolbarClicked=function(e){var t=this.pdfViewer.selectedItems.annotations[0],i=(e.originalEvent.target.id&&this.pdfViewer.toolbarModule.updateStampItems(),e.originalEvent&&"mouse"!==e.originalEvent.pointerType&&"touch"!==e.originalEvent.pointerType);switch(this.pdfViewer.toolbarModule.deSelectCommentAnnotation(),e.originalEvent.target.id){case this.pdfViewer.element.id+"_highlight":case this.pdfViewer.element.id+"_highlightIcon":this.pdfViewer.tool="",G.Browser.isDevice?this.isMobileHighlightEnabled?(this.deselectAllItemsForMobile(),this.pdfViewer.annotationModule.setAnnotationMode("None")):(this.pdfViewer.annotationModule.setAnnotationMode("Highlight"),this.primaryToolbar.selectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.textMarkupForMobile(e),this.isMobileHighlightEnabled=!0,this.isMobileUnderlineEnabled=!1,this.isMobileStrikethroughEnabled=!1):(this.pdfViewer.tool="",this.resetFreeTextAnnot(),this.handleHighlight()),this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent();break;case this.pdfViewer.element.id+"_underline":case this.pdfViewer.element.id+"_underlineIcon":this.pdfViewer.tool="",G.Browser.isDevice?this.isMobileUnderlineEnabled?(this.deselectAllItemsForMobile(),this.pdfViewer.annotationModule.setAnnotationMode("None")):(this.pdfViewer.annotationModule.setAnnotationMode("Underline"),this.primaryToolbar.selectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.textMarkupForMobile(e),this.isMobileUnderlineEnabled=!0,this.isMobileHighlightEnabled=!1,this.isMobileStrikethroughEnabled=!1):(this.pdfViewer.tool="",this.resetFreeTextAnnot(),this.handleUnderline()),this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent();break;case this.pdfViewer.element.id+"_strikethrough":case this.pdfViewer.element.id+"_strikethroughIcon":this.pdfViewer.tool="",G.Browser.isDevice?this.isMobileStrikethroughEnabled?(this.deselectAllItemsForMobile(),this.pdfViewer.annotationModule.setAnnotationMode("None")):(this.pdfViewer.annotationModule.setAnnotationMode("Strikethrough"),this.primaryToolbar.selectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.textMarkupForMobile(e),this.isMobileStrikethroughEnabled=!0,this.isMobileUnderlineEnabled=!1,this.isMobileHighlightEnabled=!1):(this.pdfViewer.tool="",this.resetFreeTextAnnot(),this.handleStrikethrough()),this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent();break;case this.pdfViewer.element.id+"_annotation_delete":case this.pdfViewer.element.id+"_annotation_deleteIcon":this.pdfViewer.annotationModule.deleteAnnotation(),this.resetFreeTextAnnot();break;case this.pdfViewer.element.id+"_annotation_commentPanel":case this.pdfViewer.element.id+"_annotation_commentPanelIcon":this.inkAnnotationSelected=!1;var n=document.getElementById(this.pdfViewer.element.id+"_commantPanel");this.pdfViewer.annotation&&this.pdfViewer.annotation.textMarkupAnnotationModule&&this.pdfViewer.annotation.textMarkupAnnotationModule.showHideDropletDiv(!0),"block"===n.style.display?this.pdfViewerBase.navigationPane.closeCommentPanelContainer():(this.pdfViewer.annotationModule.showCommentsPanel(),i&&!G.isNullOrUndefined(n.firstElementChild)&&!G.isNullOrUndefined(n.firstElementChild.lastElementChild)&&n.firstElementChild.lastElementChild instanceof HTMLButtonElement&&n.firstElementChild.lastElementChild.focus());break;case this.pdfViewer.element.id+"_annotation_close":case this.pdfViewer.element.id+"_annotation_closeIcon":this.inkAnnotationSelected=!1,"block"===document.getElementById(this.pdfViewer.element.id+"_commantPanel").style.display&&this.pdfViewerBase.navigationPane.closeCommentPanelContainer(),this.showAnnotationToolbar(this.primaryToolbar.annotationItem);break;case this.pdfViewer.element.id+"_annotation_freeTextEdit":case this.pdfViewer.element.id+"_annotation_freeTextEditIcon":G.Browser.isDevice?(this.pdfViewer.annotationModule.setAnnotationMode("FreeText"),this.FreeTextForMobile()):(this.resetFreeTextAnnot(),this.handleFreeTextEditor());break;case this.pdfViewer.element.id+"_annotation_signature":case this.pdfViewer.element.id+"_annotation_signatureIcon":this.inkAnnotationSelected=!1,this.updateSignatureCount();break;case this.pdfViewer.element.id+"_annotation_ink":case this.pdfViewer.element.id+"_annotation_inkIcon":t&&(this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent()),this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber-1),this.pdfViewer.annotationModule.inkAnnotationModule&&(G.Browser.isDevice||this.updateInteractionTools(),n=this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber)&&""!==n&&(this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(parseInt(n,10)),this.primaryToolbar.deSelectItem(this.inkAnnotationItem)),this.inkAnnotationSelected?this.inkAnnotationSelected=!1:(this.deselectAllItems(),this.deselectAllItemsForMobile(),this.drawInkAnnotation());break;case this.pdfViewer.element.id+"_annotation_shapesIcon":case this.pdfViewer.element.id+"_annotation_shapes":G.Browser.isDevice&&this.shapeToolMobile(e);break;case this.pdfViewer.element.id+"_annotation_calibrateIcon":case this.pdfViewer.element.id+"_annotation_calibrate":G.Browser.isDevice&&this.calibrateToolMobile(e);break;case this.pdfViewer.element.id+"_commentIcon":case this.pdfViewer.element.id+"_comment":this.pdfViewerBase.isAddComment=!0,this.pdfViewerBase.isCommentIconAdded=!0;n=document.getElementById(this.pdfViewer.element.id+"_comment");this.deselectAllItemsForMobile(),n.classList.add("e-pv-select"),this.pdfViewer.toolbarModule.addComments(e)}},g.prototype.addInkAnnotation=function(){var e;this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber-1),this.pdfViewer.annotationModule.inkAnnotationModule&&(e=this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber)&&""!==e&&(this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(parseInt(e,10)),G.isBlazor()?(this.primaryToolbar.deSelectItem(this.InkAnnotationElement),this.pdfViewerBase.focusViewerContainer()):this.primaryToolbar.deSelectItem(this.inkAnnotationItem)),this.inkAnnotationSelected?this.inkAnnotationSelected=!1:(this.deselectAllItemsInBlazor(),this.drawInkAnnotation())},g.prototype.deselectInkAnnotation=function(){G.isBlazor()?(this.primaryToolbar.deSelectItem(this.InkAnnotationElement),this.pdfViewerBase.focusViewerContainer()):this.primaryToolbar.deSelectItem(this.inkAnnotationItem)},g.prototype.drawInkAnnotation=function(){this.inkAnnotationSelected=!0,G.isBlazor()?this.primaryToolbar.selectItem(this.InkAnnotationElement):this.primaryToolbar.selectItem(this.inkAnnotationItem),this.enableSignaturePropertiesTools(!0),this.pdfViewerBase.isToolbarInkClicked=!0,this.pdfViewer.annotationModule.inkAnnotationModule.drawInk()},g.prototype.resetFreeTextAnnot=function(){var e;this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule&&(this.pdfViewer.annotation.freeTextAnnotationModule.isNewFreeTextAnnot=!1,this.pdfViewer.annotation.freeTextAnnotationModule.isNewAddedAnnot=!1,G.Browser.isDevice||(this.freeTextEditItem&&!G.isBlazor()?this.primaryToolbar.deSelectItem(this.freeTextEditItem):G.isBlazor()&&this.primaryToolbar.deSelectItem(this.FreeTextElement),this.enableFreeTextAnnotationPropertiesTools(!1))),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.inkAnnotationModule&&(e=this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber)&&""!==e&&(this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(parseInt(e,10)),G.isBlazor()?this.primaryToolbar.deSelectItem(this.InkAnnotationElement):this.primaryToolbar.deSelectItem(this.inkAnnotationItem)),this.inkAnnotationSelected=!1},g.prototype.updateInkannotationItems=function(){var e;this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.inkAnnotationModule&&this.inkAnnotationSelected&&(e=this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber)&&""!==e&&(this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(parseInt(e,10)),this.pdfViewerBase.isToolbarInkClicked=!0,this.pdfViewer.tool="Ink",this.pdfViewer.clearSelection(e))},g.prototype.showSignaturepanel=function(){this.pdfViewerBase.isToolbarSignClicked=!0,this.pdfViewerBase.signatureModule.showSignatureDialog(!0)},g.prototype.handleFreeTextEditor=function(){var e=this.pdfViewer.selectedItems.annotations[0],e=(this.enableFreeTextAnnotationPropertiesTools(!0),e&&(this.pdfViewer.fireAnnotationUnSelect(e.annotName,e.pageIndex,e),this.pdfViewer.fireSignatureUnselect(e.annotName,e.pageIndex,e)),this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber-1),this.pdfViewer.annotationModule.textMarkupAnnotationModule&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1),this.isStrikethroughEnabled=!1,this.isHighlightEnabled=!1,this.isUnderlineEnabled=!1,this.pdfViewer.annotation.freeTextAnnotationModule);e.setAnnotationType("FreeText"),e.isNewFreeTextAnnot=!0,e.isNewAddedAnnot=!0,this.updateInteractionTools(),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.selectItem(this.freeTextEditItem),this.updateColorInIcon(this.colorDropDownElement,this.pdfViewer.annotationModule.freeTextAnnotationModule.fillColor),this.updateColorInIcon(this.strokeDropDownElement,this.pdfViewer.annotationModule.freeTextAnnotationModule.borderColor),this.updateColorInIcon(this.fontColorElement,this.pdfViewer.annotationModule.freeTextAnnotationModule.fontColor),this.updateFontFamilyInIcon(this.pdfViewer.annotationModule.freeTextAnnotationModule.fontFamily),this.updateFontSizeInIcon(this.pdfViewer.annotationModule.freeTextAnnotationModule.fontSize),this.updateTextAlignInIcon(this.pdfViewer.annotationModule.freeTextAnnotationModule.textAlign),this.updateFontFamily()},g.prototype.updateFontFamily=function(){this.pdfViewer.annotationModule.freeTextAnnotationModule.isBold?this.updateFontFamilyIcon("_bold",!0):this.updateFontFamilyIcon("_bold",!1),this.pdfViewer.annotationModule.freeTextAnnotationModule.isItalic?this.updateFontFamilyIcon("_italic",!0):this.updateFontFamilyIcon("_italic",!1),this.pdfViewer.annotationModule.freeTextAnnotationModule.isUnderline?(this.updateFontFamilyIcon("_underline_textinput",!0),this.updateFontFamilyIcon("_strikeout",!1)):this.updateFontFamilyIcon("_underline_textinput",!1),this.pdfViewer.annotationModule.freeTextAnnotationModule.isStrikethrough?(this.updateFontFamilyIcon("_strikeout",!0),this.updateFontFamilyIcon("_underline_textinput",!1)):this.updateFontFamilyIcon("_strikeout",!1)},g.prototype.updateFontFamilyIcon=function(e,t){e=document.getElementById(this.pdfViewer.element.id+e);t?e.classList.add("textprop-option-active"):e.classList.remove("textprop-option-active")},g.prototype.showAnnotationToolbar=function(e,t,i){var n;!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?(this.isToolbarHidden?(n=void 0,this.toolbarElement&&(n=this.toolbarElement.style.display,this.toolbarElement.style.display="block"),t||(this.pdfViewer.isAnnotationToolbarVisible=!0),e?this.primaryToolbar.selectItem(e):this.pdfViewer.enableToolbar&&this.primaryToolbar.selectItem(this.primaryToolbar.annotationItem),"none"===n&&this.adjustViewer(!0)):(n=this.pdfViewer.annotationModule,e?this.primaryToolbar.deSelectItem(e):this.pdfViewer.enableToolbar&&this.primaryToolbar.deSelectItem(this.primaryToolbar.annotationItem),this.adjustViewer(!1),n&&n.textMarkupAnnotationModule&&n.textMarkupAnnotationModule.currentTextMarkupAnnotation?this.enablePropertiesTool(n):(this.deselectAllItems(),this.deselectAllItemsForMobile()),this.toolbarElement.style.display="none",t||(this.pdfViewer.isAnnotationToolbarVisible=!1),this.pdfViewerBase.isPanMode?this.primaryToolbar.updateInteractionTools(!1):this.primaryToolbar.updateInteractionTools(!0)),this.pdfViewer.magnification&&"fitToPage"===this.pdfViewer.magnification.fitType&&this.pdfViewer.magnification.fitToPage(),this.enableAnnotationAddTools(!0),this.isToolbarHidden=!this.isToolbarHidden):(e=this.pdfViewer.element.id+"_annotationIcon",((n=document.getElementById(e)).parentElement.classList.contains("e-pv-select")&&!i||!n.parentElement.classList.contains("e-pv-select")&&i)&&(this.createAnnotationToolbarForMobile(e),this.pdfViewer.isAnnotationToolbarVisible=i))},g.prototype.enablePropertiesTool=function(e){this.isHighlightEnabled=!1,this.isUnderlineEnabled=!1,this.isStrikethroughEnabled=!1,this.pdfViewerBase.isTextMarkupAnnotationModule()&&(e.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.enableTextMarkupAnnotationPropertiesTools(!0),this.updateColorInIcon(this.colorDropDownElement,e.textMarkupAnnotationModule.currentTextMarkupAnnotation.color),this.selectAnnotationDeleteItem(!0)},g.prototype.applyAnnotationToolbarSettings=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("HighlightTool")?this.showHighlightTool(!0,0,0):this.showHighlightTool(!1,0,0),-1!==e.indexOf("UnderlineTool")?this.showUnderlineTool(!0,1,1):this.showUnderlineTool(!1,1,1),-1!==e.indexOf("StrikethroughTool")?this.showStrikethroughTool(!0,2,2):this.showStrikethroughTool(!1,2,2),-1!==e.indexOf("ShapeTool")?this.showShapeAnnotationTool(!0,4,4):this.showShapeAnnotationTool(!1,4,4),-1!==e.indexOf("CalibrateTool")?this.showCalibrateAnnotationTool(!0,6,6):this.showCalibrateAnnotationTool(!1,6,6),-1!==e.indexOf("ColorEditTool")?this.showColorEditTool(!0,22,22):this.showColorEditTool(!1,22,22),-1!==e.indexOf("StrokeColorEditTool")?this.showStrokeColorEditTool(!0,23,23):this.showStrokeColorEditTool(!1,23,23),-1!==e.indexOf("ThicknessEditTool")?this.showThicknessEditTool(!0,24,24):this.showThicknessEditTool(!1,24,24),-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,25,25):this.showOpacityEditTool(!1,25,25),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,27,27):this.showAnnotationDeleteTool(!1,27,27),-1!==e.indexOf("StampAnnotationTool")?this.showStampAnnotationTool(!0,10,10):this.showStampAnnotationTool(!1,10,10),-1!==e.indexOf("HandWrittenSignatureTool")?this.showSignatureTool(!0,12,12):this.showSignatureTool(!1,12,12),-1!==e.indexOf("FreeTextAnnotationTool")?this.showFreeTextAnnotationTool(!0,8,8):this.showFreeTextAnnotationTool(!1,8,8),-1!==e.indexOf("FontFamilyAnnotationTool")?this.showFontFamilyAnnotationTool(!0,16,16):this.showFontFamilyAnnotationTool(!1,16,16),-1!==e.indexOf("FontSizeAnnotationTool")?this.showFontSizeAnnotationTool(!0,17,17):this.showFontSizeAnnotationTool(!1,17,17),-1!==e.indexOf("FontStylesAnnotationTool")?this.showFontStylesAnnotationTool(!0,20,20):this.showFontStylesAnnotationTool(!1,20,20),-1!==e.indexOf("FontAlignAnnotationTool")?this.showFontAlignAnnotationTool(!0,19,19):this.showFontAlignAnnotationTool(!1,19,19),-1!==e.indexOf("FontColorAnnotationTool")?this.showFontColorAnnotationTool(!0,18,18):this.showFontColorAnnotationTool(!1,18,18),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,28,28):this.showCommentPanelTool(!1,28,28),this.showInkAnnotationTool(),this.showSeparator())},g.prototype.applyMobileAnnotationToolbarSettings=function(){var e,t=this.pdfViewer.toolbarSettings.annotationToolbarItems;t&&(-1!==t.indexOf("HighlightTool")?this.showHighlightTool(!0,2,2):this.showHighlightTool(!1,2,2),-1!==t.indexOf("UnderlineTool")?this.showUnderlineTool(!0,3,3):this.showUnderlineTool(!1,3,3),-1!==t.indexOf("StrikethroughTool")?this.showStrikethroughTool(!0,4,4):this.showStrikethroughTool(!1,4,4),-1!==t.indexOf("ShapeTool")?this.showShapeAnnotationTool(!0,6,6):this.showShapeAnnotationTool(!1,6,6),-1!==t.indexOf("CalibrateTool")?this.showCalibrateAnnotationTool(!0,8,8):this.showCalibrateAnnotationTool(!1,8,8),(e=this.pdfViewer.toolbarSettings.toolbarItems)&&-1!==e.indexOf("CommentTool")?this.showStickyNoteToolInMobile(!0):this.showStickyNoteToolInMobile(!1),-1!==t.indexOf("StampAnnotationTool")?this.showStampAnnotationTool(!0,12,12):this.showStampAnnotationTool(!1,12,12),-1!==t.indexOf("HandWrittenSignatureTool")?this.showSignatureTool(!0,14,14):this.showSignatureTool(!1,14,14),-1!==t.indexOf("FreeTextAnnotationTool")?this.showFreeTextAnnotationTool(!0,10,10):this.showFreeTextAnnotationTool(!1,10,10),-1!==t.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,18,18):this.showCommentPanelTool(!1,18,18),-1!==t.indexOf("InkAnnotationTool")?this.showInkTool(!0,16,16):this.showInkTool(!1,16,16),this.showSeparatorInMobile())},g.prototype.showStickyNoteToolInMobile=function(e){this.isCommentBtnVisible=e,this.applyHideToToolbar(e,0,0)},g.prototype.showSeparatorInMobile=function(){this.isCommentBtnVisible||this.applyHideToToolbar(!1,1,1),this.isHighlightBtnVisible||this.isUnderlineBtnVisible||this.isStrikethroughBtnVisible||this.applyHideToToolbar(!1,5,5),this.isShapeBtnVisible||this.applyHideToToolbar(!1,7,7),this.isCalibrateBtnVisible||this.applyHideToToolbar(!1,9,9),this.isFreeTextBtnVisible||this.applyHideToToolbar(!1,11,11),this.isStampBtnVisible||this.applyHideToToolbar(!1,13,13),this.isSignatureBtnVisible||this.applyHideToToolbar(!1,15,15),this.isInkBtnVisible||this.applyHideToToolbar(!1,17,17)},g.prototype.showInkAnnotationTool=function(){-1!==this.pdfViewer.toolbarSettings.annotationToolbarItems.indexOf("InkAnnotationTool")?this.showInkTool(!0,14,14):this.showInkTool(!1,14,14)},g.prototype.showSeparator=function(){this.isHighlightBtnVisible||this.isUnderlineBtnVisible||this.isStrikethroughBtnVisible||this.applyHideToToolbar(!1,3,3),this.isShapeBtnVisible||this.applyHideToToolbar(!1,5,5),this.isCalibrateBtnVisible||this.applyHideToToolbar(!1,7,7),this.isFreeTextBtnVisible||this.applyHideToToolbar(!1,9,9),this.isStampBtnVisible||this.applyHideToToolbar(!1,11,11),this.isSignatureBtnVisible||this.applyHideToToolbar(!1,13,13),this.isInkBtnVisible||this.applyHideToToolbar(!1,15,15),this.isFontFamilyToolVisible||this.isFontSizeToolVisible||this.isFontColorToolVisible||this.isFontAlignToolVisible||this.isFontStylesToolVisible||this.applyHideToToolbar(!1,21,21),(this.isColorToolVisible||this.isStrokeColorToolVisible||this.isThicknessToolVisible||this.isOpacityToolVisible)&&this.isDeleteAnnotationToolVisible||this.applyHideToToolbar(!1,26,26)},g.prototype.showHighlightTool=function(e,t,i){this.isHighlightBtnVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showUnderlineTool=function(e,t,i){this.isUnderlineBtnVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showStrikethroughTool=function(e,t,i){this.isStrikethroughBtnVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showShapeAnnotationTool=function(e,t,i){this.isShapeBtnVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showCalibrateAnnotationTool=function(e,t,i){this.isCalibrateBtnVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showFreeTextAnnotationTool=function(e,t,i){this.isFreeTextBtnVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showStampAnnotationTool=function(e,t,i){this.isStampBtnVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showSignatureTool=function(e,t,i){this.isSignatureBtnVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showInkTool=function(e,t,i){this.isInkBtnVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showFontFamilyAnnotationTool=function(e,t,i){this.isFontFamilyToolVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showFontSizeAnnotationTool=function(e,t,i){this.isFontSizeToolVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showFontAlignAnnotationTool=function(e,t,i){this.isFontAlignToolVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showFontColorAnnotationTool=function(e,t,i){this.isFontColorToolVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showFontStylesAnnotationTool=function(e,t,i){this.isFontStylesToolVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showColorEditTool=function(e,t,i){this.isColorToolVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showStrokeColorEditTool=function(e,t,i){this.isStrokeColorToolVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showThicknessEditTool=function(e,t,i){this.isThicknessToolVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showOpacityEditTool=function(e,t,i){this.isOpacityToolVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showAnnotationDeleteTool=function(e,t,i){this.isDeleteAnnotationToolVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.showCommentPanelTool=function(e,t,i){this.isCommentPanelBtnVisible=e,this.applyHideToToolbar(e,t,i)},g.prototype.applyHideToToolbar=function(e,t,i){for(var n=!e,o=t;o<=i;o++){var r=void 0,a=this.propertyToolbar&&this.propertyToolbar.element?this.propertyToolbar.element:null,s=this.toolbar&&this.toolbar.element?this.toolbar.element:null;s&&s.children&&0<s.children.length?r=this.toolbar:G.Browser.isDevice&&a&&a.children&&0<a.children.length&&(r=this.propertyToolbar),r&&r.items[parseInt(o.toString(),10)]&&((s=r.items[parseInt(o.toString(),10)].cssClass)&&""!==s?(a=r.element.querySelector("."+s))&&this.toolbar.hideItem(a,n):r.hideItem(o,n))}},g.prototype.adjustViewer=function(e){i=G.isBlazor()?(t=this.pdfViewer.element.querySelector(".e-pv-sidebar-toolbar-splitter"),n=this.pdfViewer.element.querySelector(".e-pv-toolbar"),i=this.pdfViewer.element.querySelector(".e-pv-annotation-toolbar"),this.getToolbarHeight(i)):(t=this.pdfViewerBase.getElement("_sideBarToolbarSplitter"),n=this.pdfViewerBase.getElement("_toolbarContainer"),this.getToolbarHeight(this.toolbarElement));var t,i,n=this.getToolbarHeight(n),o=this.pdfViewerBase.navigationPane.sideBarToolbar,r=this.pdfViewerBase.navigationPane.sideBarContentContainer,a=this.pdfViewerBase.navigationPane.commentPanelContainer,s=this.pdfViewerBase.navigationPane.commentPanelResizer,l="";e?(this.pdfViewer.enableToolbar?(G.isNullOrUndefined(o)||(o.style.top=n+i+"px"),G.isNullOrUndefined(r)||(r.style.top=n+i+"px"),G.isNullOrUndefined(t)||(t.style.top=n+i+"px"),G.isNullOrUndefined(a)||(a.style.top=n+i+"px"),G.isNullOrUndefined(s)||(s.style.top=n+i+"px")):(o.style.top=i+"px",r.style.top=i+"px",t.style.top=i+"px",a.style.top=i+"px",s.style.top=n+i+"px"),this.pdfViewer.enableToolbar||(n=0),this.pdfViewerBase.viewerContainer.style.height=this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),i+n)+"px",l=this.getNavigationToolbarHeight(i+n),G.isNullOrUndefined(o)||(o.style.height=l),G.isNullOrUndefined(t)||(t.style.height=l),G.isNullOrUndefined(s)||(s.style.height=l),G.isNullOrUndefined(r)||(r.style.height=l)):(this.pdfViewer.enableToolbar?(o.style.top=n+"px",r.style.top=n+"px",t.style.top=n+"px",a.style.top=n+"px",s.style.top=n+"px"):(o.style.top="1px",o.style.height="100%",r.style.top="1px",r.style.height="100%",t.style.top="1px",t.style.height="100%",a.style.top="1px",a.style.height="100%",s.style.top="1px",s.style.height="100%"),this.pdfViewer.enableToolbar||(n=0),this.pdfViewerBase.viewerContainer.style.height=this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),i)+"px",l=this.getNavigationToolbarHeight(n),G.isNullOrUndefined(o)||(o.style.height=l),G.isNullOrUndefined(t)||(t.style.height=l),G.isNullOrUndefined(s)||(s.style.height=l),G.isNullOrUndefined(r)||(r.style.height=l),"0px"===this.pdfViewerBase.viewerContainer.style.height&&(this.pdfViewerBase.viewerContainer.style.height=parseInt(this.pdfViewer.element.style.height,10)-parseInt(o.style.top,10)+"px"))},g.prototype.updateContentContainerHeight=function(e,t){t=t?(t=this.pdfViewer.element.querySelector(".e-pv-annotation-toolbar"),this.getToolbarHeight(t)):this.getToolbarHeight(this.toolbarElement);var i=this.pdfViewerBase.navigationPane.sideBarContentContainer.getBoundingClientRect();0!==i.height&&(this.pdfViewerBase.navigationPane.sideBarContentContainer.style.height=e?i.height-t+"px":i.height+t+"px")},g.prototype.getToolbarHeight=function(e){var t;return G.isNullOrUndefined(e)?null:0===(t=e.getBoundingClientRect().height)&&e===this.pdfViewerBase.getElement("_toolbarContainer")?parseFloat(window.getComputedStyle(e).height)+this.toolbarBorderHeight:t},g.prototype.getNavigationToolbarHeight=function(e){var t=this.pdfViewer.element.getBoundingClientRect().height;return 0!==t?t-e+"px":""},g.prototype.handleHighlight=function(){this.isHighlightEnabled?this.deselectAllItems():(this.updateInteractionTools(),this.clearShapeMode(),this.clearMeasureMode(),this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations("Highlight"),this.primaryToolbar.selectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.enableTextMarkupAnnotationPropertiesTools(!0),this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightColor=null,this.setCurrentColorInPicker(),this.updateColorInIcon(this.colorDropDownElement,this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightColor),this.isHighlightEnabled=!0,this.isUnderlineEnabled=!1,this.isStrikethroughEnabled=!1)},g.prototype.handleUnderline=function(){this.isUnderlineEnabled?this.deselectAllItems():(this.updateInteractionTools(),this.clearShapeMode(),this.clearMeasureMode(),this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations("Underline"),this.primaryToolbar.selectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.enableTextMarkupAnnotationPropertiesTools(!0),this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineColor=null,this.setCurrentColorInPicker(),this.updateColorInIcon(this.colorDropDownElement,this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineColor),this.isUnderlineEnabled=!0,this.isHighlightEnabled=!1,this.isStrikethroughEnabled=!1)},g.prototype.handleStrikethrough=function(){this.isStrikethroughEnabled?this.deselectAllItems():(this.updateInteractionTools(),this.clearShapeMode(),this.clearMeasureMode(),this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations("Strikethrough"),this.primaryToolbar.selectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.enableTextMarkupAnnotationPropertiesTools(!0),this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughColor=null,this.setCurrentColorInPicker(),this.updateColorInIcon(this.colorDropDownElement,this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughColor),this.isStrikethroughEnabled=!0,this.isHighlightEnabled=!1,this.isUnderlineEnabled=!1)},g.prototype.deselectAllItemsInBlazor=function(){this.pdfViewerBase.isTextMarkupAnnotationModule()&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1,this.pdfViewer.annotationModule.textMarkupAnnotationModule.showHideDropletDiv(!0)),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.primaryToolbar.deSelectItem(this.HighlightElement),this.primaryToolbar.deSelectItem(this.UnderlineElement),this.primaryToolbar.deSelectItem(this.StrikethroughElement),this.primaryToolbar.deSelectItem(this.FreeTextElement),this.primaryToolbar.deSelectItem(this.InkAnnotationElement),this.pdfViewer._dotnetInstance.invokeMethodAsync("UpdateTextMarkupButtons",!1,!1,!1)),this.resetFreeTextAnnot(),this.clearTextMarkupMode(),this.clearShapeMode(),this.clearMeasureMode(),this.pdfViewer.tool="",G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.enableTextMarkupAnnotationPropertiesTools(!1),this.enableFreeTextAnnotationPropertiesTools(!1),this.updateColorInIcon(this.colorDropDownElement,"#000000"),this.updateColorInIcon(this.strokeDropDownElement,"#000000"),this.updateColorInIcon(this.fontColorElement,"#000000"),this.selectAnnotationDeleteItem(!1)),this.pdfViewer.annotationModule&&(this.pdfViewer.annotationModule.freeTextAnnotationModule.isNewFreeTextAnnot=!1)},g.prototype.deselectAllItemsForMobile=function(){!G.Browser.isDevice&&this.pdfViewer.enableDesktopMode||(G.isBlazor(),this.isMobileHighlightEnabled=!1,this.isMobileUnderlineEnabled=!1,this.isMobileStrikethroughEnabled=!1,this.pdfViewerBase.isTextMarkupAnnotationModule()&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1,this.pdfViewer.annotationModule.textMarkupAnnotationModule.showHideDropletDiv(!0)),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.resetFreeTextAnnot(),this.clearTextMarkupMode(),this.clearShapeMode(),this.clearMeasureMode(),this.pdfViewer.tool="",this.selectAnnotationDeleteItem(!1),this.pdfViewer.annotationModule&&(this.pdfViewer.annotationModule.freeTextAnnotationModule.isNewFreeTextAnnot=!1))},g.prototype.deselectAllItems=function(){var e=G.isBlazor();this.isHighlightEnabled=!1,this.isUnderlineEnabled=!1,this.isStrikethroughEnabled=!1,this.pdfViewerBase.isTextMarkupAnnotationModule()&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1,this.pdfViewer.annotationModule.textMarkupAnnotationModule.showHideDropletDiv(!0)),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(e?(this.primaryToolbar.deSelectItem(this.pdfViewer.toolbar.SelectToolElement),this.primaryToolbar.selectItem(this.pdfViewer.toolbar.PanElement),this.primaryToolbar.deSelectItem(this.HighlightElement),this.primaryToolbar.deSelectItem(this.UnderlineElement),this.primaryToolbar.deSelectItem(this.StrikethroughElement),this.primaryToolbar.deSelectItem(this.FreeTextElement),this.primaryToolbar.deSelectItem(this.InkAnnotationElement)):(this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem))),this.resetFreeTextAnnot(),this.clearTextMarkupMode(),this.clearShapeMode(),this.clearMeasureMode(),this.pdfViewer.tool="",G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.enableTextMarkupAnnotationPropertiesTools(!1),this.enableFreeTextAnnotationPropertiesTools(!1),this.updateColorInIcon(this.colorDropDownElement,"#000000"),this.updateColorInIcon(this.strokeDropDownElement,"#000000"),this.updateColorInIcon(this.fontColorElement,"#000000"),this.selectAnnotationDeleteItem(!1)),this.pdfViewer.annotationModule&&(this.pdfViewer.annotationModule.freeTextAnnotationModule.isNewFreeTextAnnot=!1)},g.prototype.updateInteractionTools=function(){this.pdfViewer.enableTextSelection?(this.pdfViewerBase.initiateTextSelectMode(),G.Browser.isDevice||this.pdfViewer.toolbar.updateInteractionTools(!0)):G.Browser.isDevice||this.pdfViewer.toolbar.updateInteractionTools(!1)},g.prototype.selectAnnotationDeleteItem=function(e,t){var i;G.isBlazor()||G.Browser.isDevice?G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(e?(i=this.pdfViewer.annotationModule.findCurrentAnnotation())&&(i.annotationSettings&&i.annotationSettings.isLock?this.pdfViewer.annotationModule.checkAllowedInteractions("Delete",i)?this.pdfViewerBase.blazorUIAdaptor.EnableDeleteOption(e):this.pdfViewerBase.blazorUIAdaptor.EnableDeleteOption(!1):this.pdfViewerBase.blazorUIAdaptor&&this.pdfViewerBase.blazorUIAdaptor.EnableDeleteOption(e)):this.pdfViewerBase.blazorUIAdaptor&&this.pdfViewerBase.blazorUIAdaptor.EnableDeleteOption(e),t&&this.pdfViewerBase.focusViewerContainer()):this.toolbar&&(e?(i=this.pdfViewer.annotationModule.findCurrentAnnotation())&&(!i.annotationSettings||!i.annotationSettings.isLock||this.pdfViewer.annotationModule.checkAllowedInteractions("Delete",i)?this.enableItems(this.deleteItem.parentElement,e):this.enableItems(this.deleteItem.parentElement,!1)):this.enableItems(this.deleteItem.parentElement,e))},g.prototype.enableTextMarkupAnnotationPropertiesTools=function(e){G.Browser.isDevice||(G.isBlazor()?this.pdfViewerBase.blazorUIAdaptor.enableTextMarkupAnnotationPropertiesTools(e):(this.enableItems(this.colorDropDownElement.parentElement,e),this.enableItems(this.opacityDropDownElement.parentElement,e),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.enableItems(this.strokeDropDownElement.parentElement,!1),this.enableItems(this.thicknessElement.parentElement,!1),this.enableItems(this.fontFamilyElement.parentElement,!1),this.enableItems(this.fontSizeElement.parentElement,!1),this.enableItems(this.fontColorElement.parentElement,!1),this.enableItems(this.textAlignElement.parentElement,!1),this.enableItems(this.textPropElement.parentElement,!1))))},g.prototype.checkAnnotationPropertiesChange=function(){var e=this.pdfViewer.selectedItems.annotations[0];if(e&&e.annotationSettings&&e.annotationSettings.isLock)return!!this.pdfViewer.annotationModule.checkAllowedInteractions("PropertyChange",e);return!0},g.prototype.enableAnnotationPropertiesTools=function(e){var t;G.Browser.isDevice||(t=this.checkAnnotationPropertiesChange(),e||(t=!0),G.isBlazor()?this.pdfViewerBase.blazorUIAdaptor.enableAnnotationPropertiesTool(e,t):t&&(this.pdfViewer.selectedItems.annotations[0]&&"Line"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?this.enableItems(this.colorDropDownElement.parentElement,!1):this.enableItems(this.colorDropDownElement.parentElement,e),this.enableItems(this.opacityDropDownElement.parentElement,e),this.enableItems(this.strokeDropDownElement.parentElement,e),this.enableItems(this.thicknessElement.parentElement,e),this.pdfViewer.enableShapeLabel&&(this.enableItems(this.fontFamilyElement.parentElement,e),this.enableItems(this.fontSizeElement.parentElement,e),this.enableItems(this.fontColorElement.parentElement,e)),this.enableItems(this.textAlignElement.parentElement,!1),this.enableItems(this.textPropElement.parentElement,!1)))},g.prototype.enableSignaturePropertiesTools=function(e){var t;G.Browser.isDevice||(t=this.checkAnnotationPropertiesChange(),e||(t=!0),G.isBlazor()?this.pdfViewerBase.blazorUIAdaptor.enableSignaturePropertiesTools(e,t):t&&(this.enableItems(this.colorDropDownElement.parentElement,!1),this.enableItems(this.opacityDropDownElement.parentElement,e),this.enableItems(this.strokeDropDownElement.parentElement,e),this.enableItems(this.thicknessElement.parentElement,e),this.enableItems(this.textAlignElement.parentElement,!1),this.enableItems(this.textPropElement.parentElement,!1),this.enableItems(this.fontFamilyElement.parentElement,!1),this.enableItems(this.fontSizeElement.parentElement,!1),this.enableItems(this.fontColorElement.parentElement,!1),this.enableItems(this.textAlignElement.parentElement,!1)))},g.prototype.enableStampAnnotationPropertiesTools=function(e){var t=this.checkAnnotationPropertiesChange();e||(t=!0),G.isBlazor()?this.pdfViewerBase.blazorUIAdaptor.enableStampAnnotationPropertiesTools(e,t):t&&(this.enableItems(this.opacityDropDownElement.parentElement,e),this.enableItems(this.colorDropDownElement.parentElement,!1),this.enableItems(this.strokeDropDownElement.parentElement,!1),this.enableItems(this.thicknessElement.parentElement,!1),this.enableItems(this.fontFamilyElement.parentElement,!1),this.enableItems(this.fontSizeElement.parentElement,!1),this.enableItems(this.fontColorElement.parentElement,!1),this.enableItems(this.textAlignElement.parentElement,!1),this.enableItems(this.textPropElement.parentElement,!1))},g.prototype.enableFreeTextAnnotationPropertiesTools=function(e){var t=this.checkAnnotationPropertiesChange();e||(t=!0),G.isBlazor()?this.pdfViewerBase.blazorUIAdaptor.enableFreeTextAnnotationPropertiesTools(e,t):t&&(this.enableItems(this.opacityDropDownElement.parentElement,e),this.enableItems(this.colorDropDownElement.parentElement,e),this.enableItems(this.strokeDropDownElement.parentElement,e),this.enableItems(this.thicknessElement.parentElement,e),this.enableItems(this.fontFamilyElement.parentElement,e),this.enableItems(this.fontSizeElement.parentElement,e),this.enableItems(this.fontColorElement.parentElement,e),this.enableItems(this.textAlignElement.parentElement,e),this.enableItems(this.textPropElement.parentElement,e))},g.prototype.enableAnnotationAddTools=function(e){this.toolbar&&!G.Browser.isDevice&&(this.pdfViewer.enableTextMarkupAnnotation&&(this.enableItems(this.highlightItem.parentElement,e),this.enableItems(this.underlineItem.parentElement,e),this.enableItems(this.strikethroughItem.parentElement,e)),this.pdfViewer.enableShapeAnnotation&&this.enableItems(this.shapeElement.parentElement,e),this.pdfViewer.enableStampAnnotations&&this.toolbar.enableItems(this.stampElement.parentElement,e),this.pdfViewer.enableMeasureAnnotation&&this.pdfViewerBase.isCalibrateAnnotationModule()&&this.enableItems(this.calibrateElement.parentElement,e),this.pdfViewer.enableFreeText&&this.enableItems(this.freeTextEditItem.parentElement,e),this.pdfViewer.enableHandwrittenSignature&&this.enableItems(this.handWrittenSignatureItem.parentElement,e),this.pdfViewer.enableInkAnnotation&&this.enableItems(this.inkAnnotationItem.parentElement,e),this.pdfViewer.enableCommentPanel)&&this.enableCommentPanelTool(e)},g.prototype.isAnnotationButtonsEnabled=function(){var e=!1;return e=this.isHighlightEnabled||this.isUnderlineEnabled||this.isStrikethroughEnabled?!0:e},g.prototype.enableCommentPanelTool=function(e){this.toolbar&&this.enableItems(this.commentItem.parentElement,e)},g.prototype.updateToolbarItems=function(){this.pdfViewer.enableTextMarkupAnnotation?this.enableTextMarkupAddTools(!0):this.enableTextMarkupAddTools(!1),this.enableItems(this.shapeElement.parentElement,this.pdfViewer.enableShapeAnnotation),this.toolbar.enableItems(this.stampElement.parentElement,this.pdfViewer.enableStampAnnotations),this.enableItems(this.calibrateElement.parentElement,this.pdfViewer.enableMeasureAnnotation),this.enableItems(this.freeTextEditItem.parentElement,this.pdfViewer.enableFreeText),this.enableItems(this.handWrittenSignatureItem.parentElement,this.pdfViewer.enableHandwrittenSignature),this.enableItems(this.inkAnnotationItem.parentElement,this.pdfViewer.enableInkAnnotation),this.closeItem.setAttribute("tabindex","0")},g.prototype.enableTextMarkupAddTools=function(e){this.enableItems(this.highlightItem.parentElement,e),this.enableItems(this.underlineItem.parentElement,e),this.enableItems(this.strikethroughItem.parentElement,e)},g.prototype.updateAnnnotationPropertyItems=function(){G.isBlazor()?(this.colorDropDownElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-color-container"),this.strokeDropDownElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-stroke-container"),this.fontColorElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-textcolor-container"),1===this.pdfViewer.selectedItems.annotations.length?(this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.colorDropDownElementInBlazor,this.getColorHexValue(this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.fill,"fillColor")),this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.strokeDropDownElementInBlazor,this.getColorHexValue(this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeColor,"strokeColor")),"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.fontColorElementInBlazor,this.getColorHexValue(this.pdfViewer.selectedItems.annotations[0].fontColor,"fontColor")),this.pdfViewerBase.blazorUIAdaptor.updateFontFamilyInIcon(this.pdfViewer.selectedItems.annotations[0].fontFamily),this.pdfViewerBase.blazorUIAdaptor.updateFontSizeInIcon(this.pdfViewer.selectedItems.annotations[0].fontSize))):(this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.colorDropDownElementInBlazor,"#000000"),this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.strokeDropDownElementInBlazor,"#000000"),this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.fontColorElementInBlazor,"#000000"))):1===this.pdfViewer.selectedItems.annotations.length?(this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.colorDropDownElement,this.getColorHexValue(this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.fill,"fillColor")),this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.strokeDropDownElement,this.getColorHexValue(this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeColor,"strokeColor")),"FreeText"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||this.pdfViewer.selectedItems.annotations[0].isLock||(this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.fontColorElement,this.getColorHexValue(this.pdfViewer.selectedItems.annotations[0].fontColor,"fontColor")),this.pdfViewer.toolbar.annotationToolbarModule.updateFontFamilyInIcon(this.pdfViewer.selectedItems.annotations[0].fontFamily),this.pdfViewer.toolbar.annotationToolbarModule.updateFontSizeInIcon(this.pdfViewer.selectedItems.annotations[0].fontSize),this.pdfViewer.toolbar.annotationToolbarModule.updateTextAlignInIcon(this.pdfViewer.selectedItems.annotations[0].textAlign))):(this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.colorDropDownElement,"#000000"),this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.strokeDropDownElement,"#000000"),this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.fontColorElement,"#000000"))},g.prototype.getColorHexValue=function(e,t){return"transparent"!==(e="red"===(e="#ffffff00"===e?"#ffffff":e).toLowerCase()?"#FF0000":e)?G.isBlazor()?e:this.colorPalette.getValue(e,"hex"):"fontColor"===t||"strokeColor"===t?"#000000":"#ffffff"},g.prototype.setColorInPicker=function(e,t){e&&e.setProperties({value:t},!0)},g.prototype.resetToolbar=function(){this.updateToolbarItems(),(this.pdfViewer.isAnnotationToolbarOpen||this.pdfViewer.isAnnotationToolbarVisible)&&this.pdfViewer.enableAnnotationToolbar?(this.adjustViewer(!1),this.toolbarElement.style.display="",this.isToolbarHidden=!1,this.adjustViewer(!0),this.primaryToolbar.selectItem(this.primaryToolbar.annotationItem),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.refreshOverflow(),this.pdfViewer.isAnnotationToolbarVisible=!0):(this.toolbarElement.style.display="none",this.isToolbarHidden=!0,this.pdfViewer.isAnnotationToolbarVisible=!1)},g.prototype.clearTextMarkupMode=function(){this.pdfViewerBase.isTextMarkupAnnotationModule()&&(G.isBlazor()&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1),this.pdfViewer.annotation.textMarkupAnnotationModule.currentTextMarkupAddMode="")},g.prototype.clearShapeMode=function(){this.pdfViewerBase.isShapeAnnotationModule()&&(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode="")},g.prototype.clearMeasureMode=function(){this.pdfViewerBase.isCalibrateAnnotationModule()&&(this.pdfViewer.annotation.measureAnnotationModule.currentAnnotationMode="")},g.prototype.clear=function(){this.deselectAllItems(),this.deselectAllItemsForMobile()},g.prototype.destroy=function(){this.destroyComponent(),this.shapeDropDown&&this.shapeDropDown.destroy(),this.calibrateDropDown&&this.calibrateDropDown.destroy(),this.fontColorDropDown&&this.fontColorDropDown.destroy(),this.textAlignDropDown&&this.textAlignDropDown.destroy(),this.colorDropDown&&this.colorDropDown.destroy(),this.strokeDropDown&&this.strokeDropDown.destroy(),this.thicknessDropDown&&this.thicknessDropDown.destroy(),this.opacityDropDown&&this.opacityDropDown.destroy(),this.textPropertiesDropDown&&this.textPropertiesDropDown.destroy(),this.toolbar&&this.toolbar.destroy();var e=document.getElementById(this.pdfViewer.element.id+"_stampElement");e&&e.parentElement.removeChild(e)},g.prototype.destroyComponent=function(){for(var e=[this.highlightItem,this.underlineItem,this.strikethroughItem,this.lineElement,this.arrowElement,this.rectangleElement,this.circleElement,this.polygonElement,this.calibrateDistance,this.calibrateArea,this.calibrateRadius,this.calibrateVolume,this.calibratePerimeter,this.freeTextEditItem,this.stampElement,this.handWrittenSignatureItem,this.inkAnnotationItem,this.fontFamilyElement,this.fontSizeElement,this.alignLeftElement,this.alignRightElement,this.alignCenterElement,this.alignJustifyElement,this.boldElement,this.italicElement,this.fontStyleStrikethroughItem,this.fontStyleUnderlineItem,this.deleteItem,this.commentItem,this.shapeDropDown?this.shapeDropDown.activeElem[0]:null,this.calibrateDropDown?this.calibrateDropDown.activeElem[0]:null,this.fontColorDropDown?this.fontColorDropDown.activeElem[0]:null,this.textAlignDropDown?this.textAlignDropDown.activeElem[0]:null,this.colorDropDown?this.colorDropDown.activeElem[0]:null,this.strokeDropDown?this.strokeDropDown.activeElem[0]:null,this.thicknessDropDown?this.thicknessDropDown.activeElem[0]:null,this.opacityDropDown?this.opacityDropDown.activeElem[0]:null,this.textPropertiesDropDown?this.textPropertiesDropDown.activeElem[0]:null],t=0;t<e.length;t++)e[parseInt(t.toString(),10)]&&this.destroyDependentComponent(e[parseInt(t.toString(),10)])},g.prototype.destroyDependentComponent=function(e){if(e.ej2_instances)for(var t=e.ej2_instances.length-1;0<=t;t--)e.ej2_instances[parseInt(t.toString(),10)].destroy()},g.prototype.getElementHeight=function(e){try{return e.getBoundingClientRect().height}catch(e){return 0}},g.prototype.updateViewerHeight=function(e,t){return this.getElementHeight(this.pdfViewer.element)-t},g.prototype.resetViewerHeight=function(e,t){return e+t},g.prototype.afterAnnotationToolbarCreationInBlazor=function(){this.HighlightElement=document.getElementById(this.pdfViewer.element.id+"_highLight").children[0],this.UnderlineElement=document.getElementById(this.pdfViewer.element.id+"_underline").children[0],this.StrikethroughElement=document.getElementById(this.pdfViewer.element.id+"_strikethrough").children[0],this.InkAnnotationElement=document.getElementById(this.pdfViewer.element.id+"_annotation_ink").children[0],this.InkAnnotationElement.classList.add("e-pv-tbar-btn"),this.FreeTextElement=document.getElementById(this.pdfViewer.element.id+"_annotation_freeTextEdit").children[0],this.HighlightElement=this.addClassToToolbarInBlazor(this.HighlightElement,"e-pv-highlight","_highLight"),this.UnderlineElement=this.addClassToToolbarInBlazor(this.UnderlineElement,"e-pv-underline","_underline"),this.StrikethroughElement=this.addClassToToolbarInBlazor(this.StrikethroughElement,"e-pv-strikethrough","_strikethrough")},g.prototype.addClassToToolbarInBlazor=function(e,t,i){return e.classList.add(t),e.classList.add("e-pv-tbar-btn"),0<e.childNodes.length&&(t=e.childNodes[0])&&t.classList&&(t.id=this.pdfViewer.element.id+i+"Icon",t.classList.remove("e-icons"),t.classList.remove("e-btn-icon"),this.pdfViewer.enableRtl)&&t.classList.add("e-right"),e},g.prototype.handleHighlightInBlazor=function(){this.HighlightElement.classList.contains("e-pv-select")?this.primaryToolbar.deSelectItem(this.HighlightElement):this.HighlightElement.classList.contains("e-pv-select")||this.primaryToolbar.selectItem(this.HighlightElement),this.StrikethroughElement.classList.contains("e-pv-select")&&this.primaryToolbar.deSelectItem(this.StrikethroughElement),this.UnderlineElement.classList.contains("e-pv-select")&&this.primaryToolbar.deSelectItem(this.UnderlineElement)},g.prototype.handleUnderlineInBlazor=function(){this.UnderlineElement.classList.contains("e-pv-select")?this.primaryToolbar.deSelectItem(this.UnderlineElement):this.UnderlineElement.classList.contains("e-pv-select")||this.primaryToolbar.selectItem(this.UnderlineElement),this.StrikethroughElement.classList.contains("e-pv-select")&&this.primaryToolbar.deSelectItem(this.StrikethroughElement),this.HighlightElement.classList.contains("e-pv-select")&&this.primaryToolbar.deSelectItem(this.HighlightElement)},g.prototype.handleStrikethroughInBlazor=function(){this.StrikethroughElement.classList.contains("e-pv-select")?this.primaryToolbar.deSelectItem(this.StrikethroughElement):this.StrikethroughElement.classList.contains("e-pv-select")||this.primaryToolbar.selectItem(this.StrikethroughElement),this.HighlightElement.classList.contains("e-pv-select")&&this.primaryToolbar.deSelectItem(this.HighlightElement),this.UnderlineElement.classList.contains("e-pv-select")&&this.primaryToolbar.deSelectItem(this.UnderlineElement)},g.prototype.AnnotationSliderOpened=function(){var e,t;this.pdfViewer.selectedItems.annotations&&0<this.pdfViewer.selectedItems.annotations.length&&this.pdfViewer.selectedItems.annotations[0]&&this.pdfViewer.selectedItems.annotations[0].wrapper&&this.pdfViewer.selectedItems.annotations[0].wrapper.children[0]&&(e=100*this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.opacity,t=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeWidth,this.pdfViewer._dotnetInstance.invokeMethodAsync("UpdateAnnotationSlider",e,t))},g.prototype.DropDownOpened=function(e){var t,i;e&&e[0].element&&(t=e[0].element.getBoundingClientRect(),i=(i=this.pdfViewerBase.navigationPane.sideBarToolbar)?i.getBoundingClientRect().width:0,t.left>this.pdfViewerBase.viewerContainer.clientWidth+t.width+i)&&(e[0].element.style.left=t.left-this.pdfViewerBase.viewerContainer.clientHeight/2+"px")},g.prototype.enableItems=function(e,t){this.toolbar.enableItems(e,t),e.firstElementChild&&(e.firstElementChild.setAttribute("tabindex",t?"0":"-1"),e.firstElementChild.setAttribute("data-tabindex",t?"0":"-1"))};var xn=g;function g(e,t,i){var o=this;this.toolbarBorderHeight=1,this.isToolbarHidden=!1,this.isMobileAnnotEnabled=!1,this.isHighlightEnabled=!1,this.isMobileHighlightEnabled=!1,this.isUnderlineEnabled=!1,this.isMobileUnderlineEnabled=!1,this.isStrikethroughEnabled=!1,this.isMobileStrikethroughEnabled=!1,this.isHighlightBtnVisible=!0,this.isCommentBtnVisible=!0,this.isUnderlineBtnVisible=!0,this.isStrikethroughBtnVisible=!0,this.isColorToolVisible=!0,this.isOpacityToolVisible=!0,this.isDeleteAnnotationToolVisible=!0,this.isCurrentAnnotationOpacitySet=!1,this.isStampBtnVisible=!1,this.isShapeBtnVisible=!1,this.isSignatureBtnVisible=!1,this.isInkBtnVisible=!1,this.isFontFamilyToolVisible=!1,this.isFontSizeToolVisible=!1,this.isFontAlignToolVisible=!1,this.isFontColorToolVisible=!1,this.isFontStylesToolVisible=!1,this.isCommentPanelBtnVisible=!1,this.isFreeTextBtnVisible=!1,this.isCalibrateBtnVisible=!1,this.isStrokeColorToolVisible=!1,this.isThicknessToolVisible=!1,this.stampMenu=[],this.stampParentID="",this.inkAnnotationSelected=!1,this.openSignaturePopup=!1,this.isSavedSignatureClicked=!1,this.saveSignatureCount=0,this.saveInitialCount=0,this.isToolbarCreated=!1,this.addStampImage=function(e){var t,i=o,n=e.target.files;null!==e.target.files[0]&&(n=n[0],o.pdfViewer.annotationModule.stampAnnotationModule.customStampName=n.name.split(".")[0],"image"===n.type.split("/")[0])&&((t=new FileReader).onload=function(e){e=e.currentTarget.result;i.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0,i.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,i.pdfViewerBase.stampAdded=!0,o.pdfViewer.annotationModule.stampAnnotationModule.createCustomStampAnnotation(e),i.pdfViewerBase.stampAdded=!1},t.readAsDataURL(n)),e.target.value="",e.currentTarget.value=""},this.popupPosition=function(e,t){var i,n;e&&e.element&&(t=t.getBoundingClientRect(),i=e.element.getElementsByClassName("e-container e-color-palette")[0].getElementsByClassName("e-palette")[0].getBoundingClientRect(),n=this.pdfViewerBase.mainContainer.getBoundingClientRect(),i.left+i.width>n.width&&(e.element.parentElement.style.left=i.left-i.width+t.width+"px"),i.left-i.width+t.width<0)&&(e.element.parentElement.style.left=n.left+t.width+"px")},this.onShapeToolbarClicked=function(e){var t,i=o.pdfViewer.element.id,n=o.pdfViewer.annotation.shapeAnnotationModule;switch(!G.Browser.isDevice&&o.pdfViewer.enableDesktopMode||"Polygon"===o.pdfViewerBase.action&&o.pdfViewerBase.tool.mouseUp(e,!0,!0),G.Browser.isDevice?(t=e.originalEvent.target,o.pdfViewer.toolbarModule.selectItem(t.parentElement),o.deselectAllItemsForMobile()):(o.deselectAllItems(),o.resetFreeTextAnnot()),e.originalEvent.target.id){case i+"_shape_line":case i+"_shape_lineIcon":n.setAnnotationType("Line"),o.onShapeDrawSelection(!0),o.updateColorInIcon(o.colorDropDownElement,n.lineFillColor),o.updateColorInIcon(o.strokeDropDownElement,n.lineStrokeColor),o.handleShapeTool(i+"_shape_line");break;case i+"_shape_arrow":case i+"_shape_arrowIcon":n.setAnnotationType("Arrow"),o.onShapeDrawSelection(!0),o.updateColorInIcon(o.colorDropDownElement,n.arrowFillColor),o.updateColorInIcon(o.strokeDropDownElement,n.arrowStrokeColor),o.handleShapeTool(i+"_shape_arrow");break;case i+"_shape_rectangle":case i+"_shape_rectangleIcon":n.setAnnotationType("Rectangle"),o.onShapeDrawSelection(!0),o.updateColorInIcon(o.colorDropDownElement,n.rectangleFillColor),o.updateColorInIcon(o.strokeDropDownElement,n.rectangleStrokeColor),o.handleShapeTool(i+"_shape_rectangle");break;case i+"_shape_circle":case i+"_shape_circleIcon":n.setAnnotationType("Circle"),o.onShapeDrawSelection(!0),o.updateColorInIcon(o.colorDropDownElement,n.circleFillColor),o.updateColorInIcon(o.strokeDropDownElement,n.circleStrokeColor),o.handleShapeTool(i+"_shape_circle");break;case i+"_shape_pentagon":case i+"_shape_pentagonIcon":n.setAnnotationType("Polygon"),o.onShapeDrawSelection(!0),o.updateColorInIcon(o.colorDropDownElement,n.polygonFillColor),o.updateColorInIcon(o.strokeDropDownElement,n.polygonStrokeColor),o.handleShapeTool(i+"_shape_pentagon")}},this.pdfViewer=e,this.pdfViewerBase=t,this.primaryToolbar=i}Vn=function(e,t){return(Vn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Vn,bn,u=function(e,t){function i(){this.constructor=e}Vn(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},f=function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;0<=s;s--)(o=e[s])&&(a=(r<3?o(a):3<r?o(t,i,a):o(t,i))||a);return 3<r&&a&&Object.defineProperty(t,i,a),a},Mn=function(r,a,s,l){return new(s=s||Promise)(function(e,t){function i(e){try{o(l.next(e))}catch(e){t(e)}}function n(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,n)}o((l=l.apply(r,a||[])).next())})},vn=function(n,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(i){return function(e){var t=[i,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(n,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Fn=(bn=G.ChildProperty,u(Tn,bn),f([G.Property(!0)],Tn.prototype,"showTooltip",void 0),f([G.Property()],Tn.prototype,"toolbarItems",void 0),f([G.Property()],Tn.prototype,"annotationToolbarItems",void 0),f([G.Property()],Tn.prototype,"formDesignerToolbarItems",void 0),Tn);function Tn(){return null!==bn&&bn.apply(this,arguments)||this}kn=G.ChildProperty,u(Nn,kn),f([G.Property("")],Nn.prototype,"prefixIcon",void 0),f([G.Property("")],Nn.prototype,"tooltipText",void 0),f([G.Property("")],Nn.prototype,"id",void 0),f([G.Property("")],Nn.prototype,"text",void 0),f([G.Property("")],Nn.prototype,"cssClass",void 0),f([G.Property("left")],Nn.prototype,"align",void 0),f([G.Property("")],Nn.prototype,"template",void 0),f([G.Property("Button")],Nn.prototype,"type",void 0);var kn,Pn=Nn;function Nn(){return null!==kn&&kn.apply(this,arguments)||this}Rn=G.ChildProperty,u(Un,Rn),f([G.Property()],Un.prototype,"ajaxHeaders",void 0),f([G.Property(!1)],Un.prototype,"withCredentials",void 0);var Rn,Ln=Un;function Un(){return null!==Rn&&Rn.apply(this,arguments)||this}On=G.ChildProperty,u(Hn,On),f([G.Property("")],Hn.prototype,"customStampName",void 0),f([G.Property("")],Hn.prototype,"customStampImageSource",void 0);var On,zn=Hn;function Hn(){return null!==On&&On.apply(this,arguments)||this}Yn=G.ChildProperty,u(Jn,Yn),f([G.Property(!0)],Jn.prototype,"showTooltip",void 0),f([G.Property()],Jn.prototype,"annotationToolbarItem",void 0);var Yn,Gn=Jn;function Jn(){return null!==Yn&&Yn.apply(this,arguments)||this}jn=G.ChildProperty,u(Wn,jn),f([G.Property(!0)],Wn.prototype,"showTooltip",void 0),f([G.Property()],Wn.prototype,"formDesignerToolbarItem",void 0);var jn,Kn=Wn;function Wn(){return null!==jn&&jn.apply(this,arguments)||this}Zn=G.ChildProperty,u(Xn,Zn),f([G.Property({x:0,y:0,width:0,height:0})],Xn.prototype,"bounds",void 0),f([G.Property("")],Xn.prototype,"name",void 0),f([G.Property(!1)],Xn.prototype,"isReadOnly",void 0),f([G.Property("visible")],Xn.prototype,"visibility",void 0),f([G.Property(!1)],Xn.prototype,"isRequired",void 0),f([G.Property(!1)],Xn.prototype,"isPrint",void 0),f([G.Property("")],Xn.prototype,"tooltip",void 0),f([G.Property(1)],Xn.prototype,"thickness",void 0),f([G.Property(0)],Xn.prototype,"pageNumber",void 0),f([G.Property()],Xn.prototype,"signatureDialogSettings",void 0),f([G.Property()],Xn.prototype,"signatureIndicatorSettings",void 0),f([G.Property(null)],Xn.prototype,"customData",void 0),f([G.Property()],Xn.prototype,"typeSignatureFonts",void 0);var Zn,_n=Xn;function Xn(){return null!==Zn&&Zn.apply(this,arguments)||this}qn=G.ChildProperty,u(eo,qn),f([G.Property({x:0,y:0,width:0,height:0})],eo.prototype,"bounds",void 0),f([G.Property("")],eo.prototype,"name",void 0),f([G.Property(!1)],eo.prototype,"isReadOnly",void 0),f([G.Property("visible")],eo.prototype,"visibility",void 0),f([G.Property(!1)],eo.prototype,"isRequired",void 0),f([G.Property(!1)],eo.prototype,"isPrint",void 0),f([G.Property("")],eo.prototype,"tooltip",void 0),f([G.Property(1)],eo.prototype,"thickness",void 0),f([G.Property(0)],eo.prototype,"pageNumber",void 0),f([G.Property(!1)],eo.prototype,"isInitialField",void 0),f([G.Property()],eo.prototype,"initialDialogSettings",void 0),f([G.Property()],eo.prototype,"initialIndicatorSettings",void 0),f([G.Property(null)],eo.prototype,"customData",void 0),f([G.Property()],eo.prototype,"typeInitialFonts",void 0);var qn,$n=eo;function eo(){return null!==qn&&qn.apply(this,arguments)||this}to=G.ChildProperty,u(no,to),f([G.Property(1)],no.prototype,"opacity",void 0),f([G.Property("orange")],no.prototype,"backgroundColor",void 0),f([G.Property(19)],no.prototype,"width",void 0),f([G.Property(10)],no.prototype,"height",void 0),f([G.Property(10)],no.prototype,"fontSize",void 0),f([G.Property(null)],no.prototype,"text",void 0),f([G.Property("black")],no.prototype,"color",void 0);var to,io=no;function no(){return null!==to&&to.apply(this,arguments)||this}oo=G.ChildProperty,u(ao,oo),f([G.Property(v.DisplayMode.Draw|v.DisplayMode.Text|v.DisplayMode.Upload)],ao.prototype,"displayMode",void 0),f([G.Property(!1)],ao.prototype,"hideSaveSignature",void 0);var oo,ro=ao;function ao(){return null!==oo&&oo.apply(this,arguments)||this}so=G.ChildProperty,u(Ao,so),f([G.Property("Load")],Ao.prototype,"load",void 0),f([G.Property("Unload")],Ao.prototype,"unload",void 0),f([G.Property("RenderPdfPages")],Ao.prototype,"renderPages",void 0),f([G.Property("RenderPdfPages")],Ao.prototype,"print",void 0),f([G.Property("Download")],Ao.prototype,"download",void 0),f([G.Property("RenderThumbnailImages")],Ao.prototype,"renderThumbnail",void 0),f([G.Property("RenderAnnotationComments")],Ao.prototype,"renderComments",void 0),f([G.Property("ImportAnnotations")],Ao.prototype,"importAnnotations",void 0),f([G.Property("ExportAnnotations")],Ao.prototype,"exportAnnotations",void 0),f([G.Property("ImportFormFields")],Ao.prototype,"importFormFields",void 0),f([G.Property("ExportFormFields")],Ao.prototype,"exportFormFields",void 0),f([G.Property("RenderPdfTexts")],Ao.prototype,"renderTexts",void 0),f([G.Property("ValidatePassword")],Ao.prototype,"validatePassword",void 0);var so,lo=Ao;function Ao(){return null!==so&&so.apply(this,arguments)||this}po=G.ChildProperty,u(co,po),f([G.Property(1)],co.prototype,"pageNumber",void 0),f([G.Property(1)],co.prototype,"opacity",void 0),f([G.Property("#ff0000")],co.prototype,"color",void 0),f([G.Property("Guest")],co.prototype,"author",void 0),f([G.Property("")],co.prototype,"annotationSelectorSettings",void 0),f([G.Property(null)],co.prototype,"customData",void 0),f([G.Property(!1)],co.prototype,"isLock",void 0),f([G.Property(!1)],co.prototype,"enableMultiPageAnnotation",void 0),f([G.Property(!1)],co.prototype,"enableTextMarkupResizer",void 0),f([G.Property(["None"])],co.prototype,"allowedInteractions",void 0),f([G.Property(!0)],co.prototype,"isPrint",void 0),f([G.Property("")],co.prototype,"subject",void 0);var po,ho=co;function co(){return null!==po&&po.apply(this,arguments)||this}go=G.ChildProperty,u(fo,go),f([G.Property(1)],fo.prototype,"pageNumber",void 0),f([G.Property(1)],fo.prototype,"opacity",void 0),f([G.Property("#00ff00")],fo.prototype,"color",void 0),f([G.Property("Guest")],fo.prototype,"author",void 0),f([G.Property("")],fo.prototype,"annotationSelectorSettings",void 0),f([G.Property(null)],fo.prototype,"customData",void 0),f([G.Property(!1)],fo.prototype,"isLock",void 0),f([G.Property(!1)],fo.prototype,"enableMultiPageAnnotation",void 0),f([G.Property(!1)],fo.prototype,"enableTextMarkupResizer",void 0),f([G.Property(["None"])],fo.prototype,"allowedInteractions",void 0),f([G.Property(!0)],fo.prototype,"isPrint",void 0),f([G.Property("")],fo.prototype,"subject",void 0);var go,uo=fo;function fo(){return null!==go&&go.apply(this,arguments)||this}mo=G.ChildProperty,u(Bo,mo),f([G.Property(1)],Bo.prototype,"pageNumber",void 0),f([G.Property(1)],Bo.prototype,"opacity",void 0),f([G.Property("#FFDF56")],Bo.prototype,"color",void 0),f([G.Property("Guest")],Bo.prototype,"author",void 0),f([G.Property("")],Bo.prototype,"annotationSelectorSettings",void 0),f([G.Property(null)],Bo.prototype,"customData",void 0),f([G.Property(!1)],Bo.prototype,"isLock",void 0),f([G.Property(!1)],Bo.prototype,"enableMultiPageAnnotation",void 0),f([G.Property(!1)],Bo.prototype,"enableTextMarkupResizer",void 0),f([G.Property(["None"])],Bo.prototype,"allowedInteractions",void 0),f([G.Property(!0)],Bo.prototype,"isPrint",void 0),f([G.Property("")],Bo.prototype,"subject",void 0);var mo,wo=Bo;function Bo(){return null!==mo&&mo.apply(this,arguments)||this}Co=G.ChildProperty,u(yo,Co),f([G.Property({x:0,y:0})],yo.prototype,"offset",void 0),f([G.Property(1)],yo.prototype,"pageNumber",void 0),f([G.Property(1)],yo.prototype,"opacity",void 0),f([G.Property("#ffffff00")],yo.prototype,"fillColor",void 0),f([G.Property("#ff0000")],yo.prototype,"strokeColor",void 0),f([G.Property("Guest")],yo.prototype,"author",void 0),f([G.Property("1")],yo.prototype,"thickness",void 0),f([G.Property("None")],yo.prototype,"lineHeadStartStyle",void 0),f([G.Property("None")],yo.prototype,"lineHeadEndStyle",void 0),f([G.Property(0)],yo.prototype,"borderDashArray",void 0),f([G.Property("")],yo.prototype,"annotationSelectorSettings",void 0),f([G.Property(0)],yo.prototype,"minHeight",void 0),f([G.Property(0)],yo.prototype,"minWidth",void 0),f([G.Property(0)],yo.prototype,"maxHeight",void 0),f([G.Property(0)],yo.prototype,"maxWidth",void 0),f([G.Property(!1)],yo.prototype,"isLock",void 0),f([G.Property(null)],yo.prototype,"customData",void 0),f([G.Property(["None"])],yo.prototype,"allowedInteractions",void 0),f([G.Property(!0)],yo.prototype,"isPrint",void 0),f([G.Property("")],yo.prototype,"subject",void 0);var Co,So=yo;function yo(){return null!==Co&&Co.apply(this,arguments)||this}Io=G.ChildProperty,u(Qo,Io),f([G.Property({x:0,y:0})],Qo.prototype,"offset",void 0),f([G.Property(1)],Qo.prototype,"pageNumber",void 0),f([G.Property(1)],Qo.prototype,"opacity",void 0),f([G.Property("#ffffff00")],Qo.prototype,"fillColor",void 0),f([G.Property("#ff0000")],Qo.prototype,"strokeColor",void 0),f([G.Property("Guest")],Qo.prototype,"author",void 0),f([G.Property("1")],Qo.prototype,"thickness",void 0),f([G.Property("None")],Qo.prototype,"lineHeadStartStyle",void 0),f([G.Property("None")],Qo.prototype,"lineHeadEndStyle",void 0),f([G.Property(0)],Qo.prototype,"borderDashArray",void 0),f([G.Property("")],Qo.prototype,"annotationSelectorSettings",void 0),f([G.Property(0)],Qo.prototype,"minHeight",void 0),f([G.Property(0)],Qo.prototype,"minWidth",void 0),f([G.Property(0)],Qo.prototype,"maxHeight",void 0),f([G.Property(0)],Qo.prototype,"maxWidth",void 0),f([G.Property(!1)],Qo.prototype,"isLock",void 0),f([G.Property(null)],Qo.prototype,"customData",void 0),f([G.Property(["None"])],Qo.prototype,"allowedInteractions",void 0),f([G.Property(!0)],Qo.prototype,"isPrint",void 0),f([G.Property("")],Qo.prototype,"subject",void 0);var Io,Eo=Qo;function Qo(){return null!==Io&&Io.apply(this,arguments)||this}Do=G.ChildProperty,u(Vo,Do),f([G.Property({x:0,y:0})],Vo.prototype,"offset",void 0),f([G.Property(1)],Vo.prototype,"pageNumber",void 0),f([G.Property(100)],Vo.prototype,"width",void 0),f([G.Property(50)],Vo.prototype,"height",void 0),f([G.Property(1)],Vo.prototype,"opacity",void 0),f([G.Property("#ffffff00")],Vo.prototype,"fillColor",void 0),f([G.Property("#ff0000")],Vo.prototype,"strokeColor",void 0),f([G.Property("Guest")],Vo.prototype,"author",void 0),f([G.Property("1")],Vo.prototype,"thickness",void 0),f([G.Property("")],Vo.prototype,"annotationSelectorSettings",void 0),f([G.Property(0)],Vo.prototype,"minHeight",void 0),f([G.Property(0)],Vo.prototype,"minWidth",void 0),f([G.Property(0)],Vo.prototype,"maxHeight",void 0),f([G.Property(0)],Vo.prototype,"maxWidth",void 0),f([G.Property(!1)],Vo.prototype,"isLock",void 0),f([G.Property(null)],Vo.prototype,"customData",void 0),f([G.Property(["None"])],Vo.prototype,"allowedInteractions",void 0),f([G.Property(!0)],Vo.prototype,"isPrint",void 0),f([G.Property("")],Vo.prototype,"subject",void 0);var Do,xo=Vo;function Vo(){return null!==Do&&Do.apply(this,arguments)||this}bo=G.ChildProperty,u(vo,bo),f([G.Property({x:0,y:0})],vo.prototype,"offset",void 0),f([G.Property(1)],vo.prototype,"pageNumber",void 0),f([G.Property(100)],vo.prototype,"width",void 0),f([G.Property(100)],vo.prototype,"height",void 0),f([G.Property(1)],vo.prototype,"opacity",void 0),f([G.Property("#ffffff00")],vo.prototype,"fillColor",void 0),f([G.Property("#ff0000")],vo.prototype,"strokeColor",void 0),f([G.Property("Guest")],vo.prototype,"author",void 0),f([G.Property("1")],vo.prototype,"thickness",void 0),f([G.Property("")],vo.prototype,"annotationSelectorSettings",void 0),f([G.Property(0)],vo.prototype,"minHeight",void 0),f([G.Property(0)],vo.prototype,"minWidth",void 0),f([G.Property(0)],vo.prototype,"maxHeight",void 0),f([G.Property(0)],vo.prototype,"maxWidth",void 0),f([G.Property(!1)],vo.prototype,"isLock",void 0),f([G.Property(null)],vo.prototype,"customData",void 0),f([G.Property(["None"])],vo.prototype,"allowedInteractions",void 0),f([G.Property(!0)],vo.prototype,"isPrint",void 0),f([G.Property("")],vo.prototype,"subject",void 0);var bo,Mo=vo;function vo(){return null!==bo&&bo.apply(this,arguments)||this}Fo=G.ChildProperty,u(ko,Fo),f([G.Property(1)],ko.prototype,"opacity",void 0),f([G.Property("#ffffff00")],ko.prototype,"fillColor",void 0),f([G.Property("#000")],ko.prototype,"fontColor",void 0),f([G.Property(16)],ko.prototype,"fontSize",void 0),f([G.Property("Helvetica")],ko.prototype,"fontFamily",void 0),f([G.Property("Label")],ko.prototype,"labelContent",void 0),f([G.Property("")],ko.prototype,"notes",void 0);var Fo,To=ko;function ko(){return null!==Fo&&Fo.apply(this,arguments)||this}Po=G.ChildProperty,u(Ro,Po),f([G.Property({x:0,y:0})],Ro.prototype,"offset",void 0),f([G.Property(1)],Ro.prototype,"pageNumber",void 0),f([G.Property(1)],Ro.prototype,"opacity",void 0),f([G.Property("#ffffff00")],Ro.prototype,"fillColor",void 0),f([G.Property("#ff0000")],Ro.prototype,"strokeColor",void 0),f([G.Property("Guest")],Ro.prototype,"author",void 0),f([G.Property("1")],Ro.prototype,"thickness",void 0),f([G.Property("")],Ro.prototype,"annotationSelectorSettings",void 0),f([G.Property(0)],Ro.prototype,"minHeight",void 0),f([G.Property(0)],Ro.prototype,"minWidth",void 0),f([G.Property(0)],Ro.prototype,"maxHeight",void 0),f([G.Property(0)],Ro.prototype,"maxWidth",void 0),f([G.Property(!1)],Ro.prototype,"isLock",void 0),f([G.Property(null)],Ro.prototype,"customData",void 0),f([G.Property(["None"])],Ro.prototype,"allowedInteractions",void 0),f([G.Property(!0)],Ro.prototype,"isPrint",void 0),f([G.Property("")],Ro.prototype,"subject",void 0);var Po,No=Ro;function Ro(){return null!==Po&&Po.apply(this,arguments)||this}Lo=G.ChildProperty,u(Oo,Lo),f([G.Property({x:0,y:0})],Oo.prototype,"offset",void 0),f([G.Property(1)],Oo.prototype,"pageNumber",void 0),f([G.Property(150)],Oo.prototype,"width",void 0),f([G.Property(50)],Oo.prototype,"height",void 0),f([G.Property(1)],Oo.prototype,"opacity",void 0),f([G.Property("Guest")],Oo.prototype,"author",void 0),f([G.Property("")],Oo.prototype,"annotationSelectorSettings",void 0),f([G.Property(0)],Oo.prototype,"minHeight",void 0),f([G.Property(0)],Oo.prototype,"minWidth",void 0),f([G.Property(0)],Oo.prototype,"maxHeight",void 0),f([G.Property(0)],Oo.prototype,"maxWidth",void 0),f([G.Property(!1)],Oo.prototype,"isLock",void 0),f([G.Property(null)],Oo.prototype,"customData",void 0),f([G.Property([])],Oo.prototype,"dynamicStamps",void 0),f([G.Property([])],Oo.prototype,"signStamps",void 0),f([G.Property([])],Oo.prototype,"standardBusinessStamps",void 0),f([G.Property(["None"])],Oo.prototype,"allowedInteractions",void 0),f([G.Property(!0)],Oo.prototype,"isPrint",void 0),f([G.Property("")],Oo.prototype,"subject",void 0);var Lo,Uo=Oo;function Oo(){return null!==Lo&&Lo.apply(this,arguments)||this}zo=G.ChildProperty,u(Yo,zo),f([G.Property({x:0,y:0})],Yo.prototype,"offset",void 0),f([G.Property(1)],Yo.prototype,"pageNumber",void 0),f([G.Property(1)],Yo.prototype,"opacity",void 0),f([G.Property("Guest")],Yo.prototype,"author",void 0),f([G.Property(0)],Yo.prototype,"width",void 0),f([G.Property(0)],Yo.prototype,"height",void 0),f([G.Property(0)],Yo.prototype,"left",void 0),f([G.Property(0)],Yo.prototype,"top",void 0),f([G.Property(!1)],Yo.prototype,"isAddToMenu",void 0),f([G.Property(0)],Yo.prototype,"minHeight",void 0),f([G.Property(0)],Yo.prototype,"minWidth",void 0),f([G.Property(0)],Yo.prototype,"maxHeight",void 0),f([G.Property(0)],Yo.prototype,"maxWidth",void 0),f([G.Property(!1)],Yo.prototype,"isLock",void 0),f([G.Property("")],Yo.prototype,"customStamps",void 0),f([G.Property(!0)],Yo.prototype,"enableCustomStamp",void 0),f([G.Property(["None"])],Yo.prototype,"allowedInteractions",void 0),f([G.Property(!0)],Yo.prototype,"isPrint",void 0),f([G.Property("")],Yo.prototype,"subject",void 0);var zo,Ho=Yo;function Yo(){return null!==zo&&zo.apply(this,arguments)||this}Go=G.ChildProperty,u(jo,Go),f([G.Property({x:0,y:0})],jo.prototype,"offset",void 0),f([G.Property(1)],jo.prototype,"pageNumber",void 0),f([G.Property(1)],jo.prototype,"opacity",void 0),f([G.Property("#ff0000")],jo.prototype,"fillColor",void 0),f([G.Property("#ff0000")],jo.prototype,"strokeColor",void 0),f([G.Property("Guest")],jo.prototype,"author",void 0),f([G.Property("1")],jo.prototype,"thickness",void 0),f([G.Property("None")],jo.prototype,"lineHeadStartStyle",void 0),f([G.Property("None")],jo.prototype,"lineHeadEndStyle",void 0),f([G.Property(0)],jo.prototype,"borderDashArray",void 0),f([G.Property("")],jo.prototype,"annotationSelectorSettings",void 0),f([G.Property(0)],jo.prototype,"minHeight",void 0),f([G.Property(0)],jo.prototype,"minWidth",void 0),f([G.Property(0)],jo.prototype,"maxHeight",void 0),f([G.Property(0)],jo.prototype,"maxWidth",void 0),f([G.Property(!1)],jo.prototype,"isLock",void 0),f([G.Property(null)],jo.prototype,"customData",void 0),f([G.Property(40)],jo.prototype,"leaderLength",void 0),f([G.Property(v.CursorType.move)],jo.prototype,"resizeCursorType",void 0),f([G.Property(["None"])],jo.prototype,"allowedInteractions",void 0),f([G.Property(!0)],jo.prototype,"isPrint",void 0),f([G.Property("")],jo.prototype,"subject",void 0);var Go,Jo=jo;function jo(){return null!==Go&&Go.apply(this,arguments)||this}Ko=G.ChildProperty,u(Zo,Ko),f([G.Property({x:0,y:0})],Zo.prototype,"offset",void 0),f([G.Property(1)],Zo.prototype,"pageNumber",void 0),f([G.Property(1)],Zo.prototype,"opacity",void 0),f([G.Property("#ffffff00")],Zo.prototype,"fillColor",void 0),f([G.Property("#ff0000")],Zo.prototype,"strokeColor",void 0),f([G.Property("Guest")],Zo.prototype,"author",void 0),f([G.Property("1")],Zo.prototype,"thickness",void 0),f([G.Property("None")],Zo.prototype,"lineHeadStartStyle",void 0),f([G.Property("None")],Zo.prototype,"lineHeadEndStyle",void 0),f([G.Property(0)],Zo.prototype,"borderDashArray",void 0),f([G.Property(0)],Zo.prototype,"minHeight",void 0),f([G.Property(0)],Zo.prototype,"minWidth",void 0),f([G.Property(0)],Zo.prototype,"maxHeight",void 0),f([G.Property(0)],Zo.prototype,"maxWidth",void 0),f([G.Property(!1)],Zo.prototype,"isLock",void 0),f([G.Property("")],Zo.prototype,"annotationSelectorSettings",void 0),f([G.Property(["None"])],Zo.prototype,"allowedInteractions",void 0),f([G.Property(!0)],Zo.prototype,"isPrint",void 0),f([G.Property("")],Zo.prototype,"subject",void 0);var Ko,Wo=Zo;function Zo(){return null!==Ko&&Ko.apply(this,arguments)||this}_o=G.ChildProperty,u(qo,_o),f([G.Property({x:0,y:0})],qo.prototype,"offset",void 0),f([G.Property(1)],qo.prototype,"pageNumber",void 0),f([G.Property(1)],qo.prototype,"opacity",void 0),f([G.Property("#ffffff00")],qo.prototype,"fillColor",void 0),f([G.Property("#ff0000")],qo.prototype,"strokeColor",void 0),f([G.Property("Guest")],qo.prototype,"author",void 0),f([G.Property("1")],qo.prototype,"thickness",void 0),f([G.Property(0)],qo.prototype,"minHeight",void 0),f([G.Property(0)],qo.prototype,"minWidth",void 0),f([G.Property(0)],qo.prototype,"maxHeight",void 0),f([G.Property(0)],qo.prototype,"maxWidth",void 0),f([G.Property(!1)],qo.prototype,"isLock",void 0),f([G.Property("")],qo.prototype,"annotationSelectorSettings",void 0),f([G.Property(["None"])],qo.prototype,"allowedInteractions",void 0),f([G.Property(!0)],qo.prototype,"isPrint",void 0),f([G.Property("")],qo.prototype,"subject",void 0);var _o,Xo=qo;function qo(){return null!==_o&&_o.apply(this,arguments)||this}$o=G.ChildProperty,u(tr,$o),f([G.Property({x:0,y:0})],tr.prototype,"offset",void 0),f([G.Property(1)],tr.prototype,"pageNumber",void 0),f([G.Property(100)],tr.prototype,"width",void 0),f([G.Property(90)],tr.prototype,"height",void 0),f([G.Property(1)],tr.prototype,"opacity",void 0),f([G.Property("#ffffff00")],tr.prototype,"fillColor",void 0),f([G.Property("#ff0000")],tr.prototype,"strokeColor",void 0),f([G.Property("Guest")],tr.prototype,"author",void 0),f([G.Property("1")],tr.prototype,"thickness",void 0),f([G.Property("")],tr.prototype,"annotationSelectorSettings",void 0),f([G.Property(0)],tr.prototype,"minHeight",void 0),f([G.Property(0)],tr.prototype,"minWidth",void 0),f([G.Property(0)],tr.prototype,"maxHeight",void 0),f([G.Property(0)],tr.prototype,"maxWidth",void 0),f([G.Property(!1)],tr.prototype,"isLock",void 0),f([G.Property(null)],tr.prototype,"customData",void 0),f([G.Property(["None"])],tr.prototype,"allowedInteractions",void 0),f([G.Property(!0)],tr.prototype,"isPrint",void 0),f([G.Property("")],tr.prototype,"subject",void 0);var $o,er=tr;function tr(){return null!==$o&&$o.apply(this,arguments)||this}ir=G.ChildProperty,u(or,ir),f([G.Property({x:0,y:0})],or.prototype,"offset",void 0),f([G.Property(1)],or.prototype,"pageNumber",void 0),f([G.Property(1)],or.prototype,"opacity",void 0),f([G.Property("#ffffff00")],or.prototype,"fillColor",void 0),f([G.Property("#ff0000")],or.prototype,"strokeColor",void 0),f([G.Property("Guest")],or.prototype,"author",void 0),f([G.Property("1")],or.prototype,"thickness",void 0),f([G.Property(0)],or.prototype,"minHeight",void 0),f([G.Property(0)],or.prototype,"minWidth",void 0),f([G.Property(0)],or.prototype,"maxHeight",void 0),f([G.Property(0)],or.prototype,"maxWidth",void 0),f([G.Property(!1)],or.prototype,"isLock",void 0),f([G.Property("")],or.prototype,"annotationSelectorSettings",void 0),f([G.Property(["None"])],or.prototype,"allowedInteractions",void 0),f([G.Property(!0)],or.prototype,"isPrint",void 0),f([G.Property("")],or.prototype,"subject",void 0);var ir,nr=or;function or(){return null!==ir&&ir.apply(this,arguments)||this}rr=G.ChildProperty,u(sr,rr),f([G.Property({x:0,y:0})],sr.prototype,"offset",void 0),f([G.Property(1)],sr.prototype,"pageNumber",void 0),f([G.Property(0)],sr.prototype,"width",void 0),f([G.Property(0)],sr.prototype,"height",void 0),f([G.Property(0)],sr.prototype,"path",void 0),f([G.Property(1)],sr.prototype,"opacity",void 0),f([G.Property("#ff0000")],sr.prototype,"strokeColor",void 0),f([G.Property(1)],sr.prototype,"thickness",void 0),f([G.Property("")],sr.prototype,"annotationSelectorSettings",void 0),f([G.Property(!1)],sr.prototype,"isLock",void 0),f([G.Property("Guest")],sr.prototype,"author",void 0),f([G.Property(["None"])],sr.prototype,"allowedInteractions",void 0),f([G.Property(null)],sr.prototype,"customData",void 0),f([G.Property(!0)],sr.prototype,"isPrint",void 0),f([G.Property("")],sr.prototype,"subject",void 0);var rr,ar=sr;function sr(){return null!==rr&&rr.apply(this,arguments)||this}lr=G.ChildProperty,u(dr,lr),f([G.Property({x:0,y:0})],dr.prototype,"offset",void 0),f([G.Property(1)],dr.prototype,"pageNumber",void 0),f([G.Property("Guest")],dr.prototype,"author",void 0),f([G.Property(1)],dr.prototype,"opacity",void 0),f([G.Property("")],dr.prototype,"annotationSelectorSettings",void 0),f([G.Property(null)],dr.prototype,"customData",void 0),f([G.Property(!1)],dr.prototype,"isLock",void 0),f([G.Property(["None"])],dr.prototype,"allowedInteractions",void 0),f([G.Property(!0)],dr.prototype,"isPrint",void 0),f([G.Property("")],dr.prototype,"subject",void 0);var lr,Ar=dr;function dr(){return null!==lr&&lr.apply(this,arguments)||this}pr=G.ChildProperty,u(cr,pr),f([G.Property(1)],cr.prototype,"scaleRatio",void 0),f([G.Property("in")],cr.prototype,"conversionUnit",void 0),f([G.Property("in")],cr.prototype,"displayUnit",void 0),f([G.Property(96)],cr.prototype,"depth",void 0);var pr,hr=cr;function cr(){return null!==pr&&pr.apply(this,arguments)||this}gr=G.ChildProperty,u(m,gr),f([G.Property({x:0,y:0})],m.prototype,"offset",void 0),f([G.Property(1)],m.prototype,"pageNumber",void 0),f([G.Property(1)],m.prototype,"opacity",void 0),f([G.Property("#ffffff00")],m.prototype,"borderColor",void 0),f([G.Property(1)],m.prototype,"borderWidth",void 0),f([G.Property("solid")],m.prototype,"borderStyle",void 0),f([G.Property("Guest")],m.prototype,"author",void 0),f([G.Property("#ffffff00")],m.prototype,"fillColor",void 0),f([G.Property(16)],m.prototype,"fontSize",void 0),f([G.Property(151)],m.prototype,"width",void 0),f([G.Property(24.6)],m.prototype,"height",void 0),f([G.Property("#000")],m.prototype,"fontColor",void 0),f([G.Property("Helvetica")],m.prototype,"fontFamily",void 0),f([G.Property("TypeHere")],m.prototype,"defaultText",void 0),f([G.Property("None")],m.prototype,"fontStyle",void 0),f([G.Property("Left")],m.prototype,"textAlignment",void 0),f([G.Property(!1)],m.prototype,"allowEditTextOnly",void 0),f([G.Property("")],m.prototype,"annotationSelectorSettings",void 0),f([G.Property(0)],m.prototype,"minHeight",void 0),f([G.Property(0)],m.prototype,"minWidth",void 0),f([G.Property(0)],m.prototype,"maxHeight",void 0),f([G.Property(0)],m.prototype,"maxWidth",void 0),f([G.Property(!1)],m.prototype,"isLock",void 0),f([G.Property(null)],m.prototype,"customData",void 0),f([G.Property(["None"])],m.prototype,"allowedInteractions",void 0),f([G.Property(!0)],m.prototype,"isPrint",void 0),f([G.Property(!1)],m.prototype,"isReadonly",void 0),f([G.Property(!1)],m.prototype,"enableAutoFit",void 0),f([G.Property("")],m.prototype,"subject",void 0);var gr,ur=m;function m(){return null!==gr&&gr.apply(this,arguments)||this}fr=G.ChildProperty,u(wr,fr),f([G.Property("")],wr.prototype,"selectionBorderColor",void 0),f([G.Property("black")],wr.prototype,"resizerBorderColor",void 0),f([G.Property("#FF4081")],wr.prototype,"resizerFillColor",void 0),f([G.Property(8)],wr.prototype,"resizerSize",void 0),f([G.Property(1)],wr.prototype,"selectionBorderThickness",void 0),f([G.Property("Square")],wr.prototype,"resizerShape",void 0),f([G.Property("")],wr.prototype,"selectorLineDashArray",void 0),f([G.Property(v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges)],wr.prototype,"resizerLocation",void 0),f([G.Property(null)],wr.prototype,"resizerCursorType",void 0);var fr,mr=wr;function wr(){return null!==fr&&fr.apply(this,arguments)||this}Br=G.ChildProperty,u(Sr,Br),f([G.Property("#fdd835")],Sr.prototype,"searchHighlightColor",void 0),f([G.Property("#8b4c12")],Sr.prototype,"searchColor",void 0);var Br,Cr=Sr;function Sr(){return null!==Br&&Br.apply(this,arguments)||this}yr=G.ChildProperty,u(Er,yr),f([G.Property(0)],Er.prototype,"pageIndex",void 0),f([G.Property(0)],Er.prototype,"width",void 0),f([G.Property(0)],Er.prototype,"height",void 0),f([G.Property(0)],Er.prototype,"rotation",void 0);var yr,Ir=Er;function Er(){return null!==yr&&yr.apply(this,arguments)||this}Qr=G.ChildProperty,u(xr,Qr),f([G.Property(1)],xr.prototype,"opacity",void 0),f([G.Property("#000000")],xr.prototype,"strokeColor",void 0),f([G.Property(1)],xr.prototype,"thickness",void 0),f([G.Property(150)],xr.prototype,"width",void 0),f([G.Property(100)],xr.prototype,"height",void 0),f([G.Property(1)],xr.prototype,"saveSignatureLimit",void 0),f([G.Property(1)],xr.prototype,"saveInitialLimit",void 0),f([G.Property([])],xr.prototype,"signatureItem",void 0),f([G.Property()],xr.prototype,"typeSignatureFonts",void 0),f([G.Property("")],xr.prototype,"annotationSelectorSettings",void 0),f([G.Property()],xr.prototype,"signatureDialogSettings",void 0),f([G.Property()],xr.prototype,"initialDialogSettings",void 0),f([G.Property({x:0,y:0})],xr.prototype,"offset",void 0),f([G.Property(1)],xr.prototype,"pageNumber",void 0),f([G.Property("")],xr.prototype,"path",void 0),f([G.Property("Helvetica")],xr.prototype,"fontFamily",void 0),f([G.Property(!1)],xr.prototype,"canSave",void 0);var Qr,Dr=xr;function xr(){return null!==Qr&&Qr.apply(this,arguments)||this}Vr=G.ChildProperty,u(Mr,Vr),f([G.Property("Guest")],Mr.prototype,"author",void 0),f([G.Property(0)],Mr.prototype,"minHeight",void 0),f([G.Property(0)],Mr.prototype,"minWidth",void 0),f([G.Property(0)],Mr.prototype,"maxHeight",void 0),f([G.Property(0)],Mr.prototype,"maxWidth",void 0),f([G.Property(!1)],Mr.prototype,"isLock",void 0),f([G.Property(!1)],Mr.prototype,"skipPrint",void 0),f([G.Property(!1)],Mr.prototype,"skipDownload",void 0),f([G.Property(null)],Mr.prototype,"customData",void 0),f([G.Property(["None"])],Mr.prototype,"allowedInteractions",void 0),f([G.Property("")],Mr.prototype,"subject",void 0);var Vr,br=Mr;function Mr(){return null!==Vr&&Vr.apply(this,arguments)||this}vr=G.ChildProperty,u(Tr,vr),f([G.Property()],Tr.prototype,"textData",void 0),f([G.Property()],Tr.prototype,"pageText",void 0),f([G.Property()],Tr.prototype,"pageSize",void 0);var vr,Fr=Tr;function Tr(){return null!==vr&&vr.apply(this,arguments)||this}kr=G.ChildProperty,u(Nr,kr),f([G.Property()],Nr.prototype,"bounds",void 0),f([G.Property()],Nr.prototype,"text",void 0);var kr,Pr=Nr;function Nr(){return null!==kr&&kr.apply(this,arguments)||this}Rr=G.ChildProperty,u(Ur,Rr),f([G.Property()],Ur.prototype,"size",void 0),f([G.Property()],Ur.prototype,"x",void 0),f([G.Property()],Ur.prototype,"y",void 0),f([G.Property()],Ur.prototype,"width",void 0),f([G.Property()],Ur.prototype,"height",void 0),f([G.Property()],Ur.prototype,"left",void 0),f([G.Property()],Ur.prototype,"top",void 0),f([G.Property()],Ur.prototype,"right",void 0),f([G.Property()],Ur.prototype,"bottom",void 0),f([G.Property()],Ur.prototype,"isEmpty",void 0);var Rr,Lr=Ur;function Ur(){return null!==Rr&&Rr.apply(this,arguments)||this}Or=G.ChildProperty,u(Hr,Or),f([G.Property(!0)],Hr.prototype,"enableTileRendering",void 0),f([G.Property(0)],Hr.prototype,"x",void 0),f([G.Property(0)],Hr.prototype,"y",void 0);var Or,zr=Hr;function Hr(){return null!==Or&&Or.apply(this,arguments)||this}Yr=G.ChildProperty,u(Jr,Yr),f([G.Property(100)],Jr.prototype,"delayPageRequestTimeOnScroll",void 0);var Yr,Gr=Jr;function Jr(){return null!==Yr&&Yr.apply(this,arguments)||this}jr=G.ChildProperty,u(B,jr),f([G.Property("")],B.prototype,"name",void 0),f([G.Property(!1)],B.prototype,"isChecked",void 0),f([G.Property(!1)],B.prototype,"isSelected",void 0),f([G.Property("")],B.prototype,"id",void 0),f([G.Property("")],B.prototype,"value",void 0),f([G.Property("")],B.prototype,"type",void 0),f([G.Property(!1)],B.prototype,"isReadOnly",void 0),f([G.Property([""])],B.prototype,"signatureType",void 0),f([G.Property("")],B.prototype,"fontName",void 0),f([G.Property({x:0,y:0,width:0,height:0})],B.prototype,"bounds",void 0),f([G.Property("Helvetica")],B.prototype,"fontFamily",void 0),f([G.Property(10)],B.prototype,"fontSize",void 0),f([G.Property("None")],B.prototype,"fontStyle",void 0),f([G.Property("black")],B.prototype,"color",void 0),f([G.Property("white")],B.prototype,"backgroundColor",void 0),f([G.Property("Left")],B.prototype,"alignment",void 0),f([G.Property("visible")],B.prototype,"visibility",void 0),f([G.Property(0)],B.prototype,"maxLength",void 0),f([G.Property(!1)],B.prototype,"isRequired",void 0),f([G.Property(!1)],B.prototype,"isPrint",void 0),f([G.Property("")],B.prototype,"tooltip",void 0),f([G.Property("")],B.prototype,"options",void 0),f([G.Property()],B.prototype,"signatureIndicatorSettings",void 0),f([G.Property(1)],B.prototype,"thickness",void 0),f([G.Property("#303030")],B.prototype,"borderColor",void 0),f([G.Property(!1)],B.prototype,"isMultiline",void 0),f([G.Property(!1)],B.prototype,"insertSpaces",void 0),f([G.Property(-1)],B.prototype,"pageIndex",void 0),f([G.Property(1)],B.prototype,"pageNumber",void 0),f([G.Property(!1)],B.prototype,"isTransparent",void 0),f([G.Property(0)],B.prototype,"rotateAngle",void 0),f([G.Property("")],B.prototype,"selectedIndex",void 0),f([G.Property(0)],B.prototype,"zIndex",void 0),f([G.Property(null)],B.prototype,"customData",void 0);var jr,Kr=B;function B(){return null!==jr&&jr.apply(this,arguments)||this}Wr=G.ChildProperty,u(_r,Wr),f([G.Property("RightClick")],_r.prototype,"contextMenuAction",void 0),f([G.Property([])],_r.prototype,"contextMenuItems",void 0);var Wr,Zr=_r;function _r(){return null!==Wr&&Wr.apply(this,arguments)||this}Xr=G.ChildProperty,u($r,Xr),f([G.Property({x:0,y:0,width:0,height:0})],$r.prototype,"bounds",void 0),f([G.Property("")],$r.prototype,"name",void 0),f([G.Property("")],$r.prototype,"value",void 0),f([G.Property("Helvetica")],$r.prototype,"fontFamily",void 0),f([G.Property(10)],$r.prototype,"fontSize",void 0),f([G.Property(0)],$r.prototype,"pageNumber",void 0),f([G.Property("None")],$r.prototype,"fontStyle",void 0),f([G.Property("black")],$r.prototype,"color",void 0),f([G.Property("white")],$r.prototype,"backgroundColor",void 0),f([G.Property("Left")],$r.prototype,"alignment",void 0),f([G.Property(!1)],$r.prototype,"isReadOnly",void 0),f([G.Property("visible")],$r.prototype,"visibility",void 0),f([G.Property(0)],$r.prototype,"maxLength",void 0),f([G.Property(!1)],$r.prototype,"isRequired",void 0),f([G.Property(!1)],$r.prototype,"isPrint",void 0),f([G.Property("")],$r.prototype,"tooltip",void 0),f([G.Property(1)],$r.prototype,"thickness",void 0),f([G.Property("#303030")],$r.prototype,"borderColor",void 0),f([G.Property(!1)],$r.prototype,"isMultiline",void 0),f([G.Property(null)],$r.prototype,"customData",void 0);var Xr,qr=$r;function $r(){return null!==Xr&&Xr.apply(this,arguments)||this}ea=G.ChildProperty,u(ia,ea),f([G.Property({x:0,y:0,width:0,height:0})],ia.prototype,"bounds",void 0),f([G.Property("")],ia.prototype,"name",void 0),f([G.Property("")],ia.prototype,"value",void 0),f([G.Property(0)],ia.prototype,"pageNumber",void 0),f([G.Property("Helvetica")],ia.prototype,"fontFamily",void 0),f([G.Property(10)],ia.prototype,"fontSize",void 0),f([G.Property("None")],ia.prototype,"fontStyle",void 0),f([G.Property("black")],ia.prototype,"color",void 0),f([G.Property("white")],ia.prototype,"backgroundColor",void 0),f([G.Property("Left")],ia.prototype,"alignment",void 0),f([G.Property(!1)],ia.prototype,"isReadOnly",void 0),f([G.Property("visible")],ia.prototype,"visibility",void 0),f([G.Property(0)],ia.prototype,"maxLength",void 0),f([G.Property(!1)],ia.prototype,"isRequired",void 0),f([G.Property(!1)],ia.prototype,"isPrint",void 0),f([G.Property("")],ia.prototype,"tooltip",void 0),f([G.Property(1)],ia.prototype,"thickness",void 0),f([G.Property("#303030")],ia.prototype,"borderColor",void 0),f([G.Property(null)],ia.prototype,"customData",void 0);var ea,ta=ia;function ia(){return null!==ea&&ea.apply(this,arguments)||this}na=G.ChildProperty,u(ra,na),f([G.Property({x:0,y:0,width:0,height:0})],ra.prototype,"bounds",void 0),f([G.Property("")],ra.prototype,"name",void 0),f([G.Property("")],ra.prototype,"value",void 0),f([G.Property(!1)],ra.prototype,"isChecked",void 0),f([G.Property("white")],ra.prototype,"backgroundColor",void 0),f([G.Property(!1)],ra.prototype,"isReadOnly",void 0),f([G.Property("visible")],ra.prototype,"visibility",void 0),f([G.Property(!1)],ra.prototype,"isPrint",void 0),f([G.Property(0)],ra.prototype,"pageNumber",void 0),f([G.Property("")],ra.prototype,"tooltip",void 0),f([G.Property(!1)],ra.prototype,"isRequired",void 0),f([G.Property(1)],ra.prototype,"thickness",void 0),f([G.Property("#303030")],ra.prototype,"borderColor",void 0),f([G.Property(null)],ra.prototype,"customData",void 0);var na,oa=ra;function ra(){return null!==na&&na.apply(this,arguments)||this}aa=G.ChildProperty,u(la,aa),f([G.Property({x:0,y:0,width:0,height:0})],la.prototype,"bounds",void 0),f([G.Property("")],la.prototype,"name",void 0),f([G.Property("")],la.prototype,"value",void 0),f([G.Property(!1)],la.prototype,"isSelected",void 0),f([G.Property("white")],la.prototype,"backgroundColor",void 0),f([G.Property(!1)],la.prototype,"isReadOnly",void 0),f([G.Property(!1)],la.prototype,"isRequired",void 0),f([G.Property(0)],la.prototype,"pageNumber",void 0),f([G.Property("visible")],la.prototype,"visibility",void 0),f([G.Property(!1)],la.prototype,"isPrint",void 0),f([G.Property("")],la.prototype,"tooltip",void 0),f([G.Property(1)],la.prototype,"thickness",void 0),f([G.Property("#303030")],la.prototype,"borderColor",void 0),f([G.Property(null)],la.prototype,"customData",void 0);var aa,sa=la;function la(){return null!==aa&&aa.apply(this,arguments)||this}Aa=G.ChildProperty,u(pa,Aa),f([G.Property({x:0,y:0,width:0,height:0})],pa.prototype,"bounds",void 0),f([G.Property("")],pa.prototype,"name",void 0),f([G.Property("")],pa.prototype,"value",void 0),f([G.Property("Helvetica")],pa.prototype,"fontFamily",void 0),f([G.Property(10)],pa.prototype,"fontSize",void 0),f([G.Property(0)],pa.prototype,"pageNumber",void 0),f([G.Property("None")],pa.prototype,"fontStyle",void 0),f([G.Property("black")],pa.prototype,"color",void 0),f([G.Property("white")],pa.prototype,"backgroundColor",void 0),f([G.Property("Left")],pa.prototype,"alignment",void 0),f([G.Property(!1)],pa.prototype,"isReadOnly",void 0),f([G.Property("visible")],pa.prototype,"visibility",void 0),f([G.Property(!1)],pa.prototype,"isRequired",void 0),f([G.Property(!1)],pa.prototype,"isPrint",void 0),f([G.Property("")],pa.prototype,"tooltip",void 0),f([G.Property("")],pa.prototype,"options",void 0),f([G.Property(1)],pa.prototype,"thickness",void 0),f([G.Property("#303030")],pa.prototype,"borderColor",void 0),f([G.Property(null)],pa.prototype,"customData",void 0);var Aa,da=pa;function pa(){return null!==Aa&&Aa.apply(this,arguments)||this}ha=G.ChildProperty,u(ga,ha),f([G.Property({x:0,y:0,width:0,height:0})],ga.prototype,"bounds",void 0),f([G.Property("")],ga.prototype,"name",void 0),f([G.Property("")],ga.prototype,"value",void 0),f([G.Property("Helvetica")],ga.prototype,"fontFamily",void 0),f([G.Property(10)],ga.prototype,"fontSize",void 0),f([G.Property(0)],ga.prototype,"pageNumber",void 0),f([G.Property("None")],ga.prototype,"fontStyle",void 0),f([G.Property("black")],ga.prototype,"color",void 0),f([G.Property("white")],ga.prototype,"backgroundColor",void 0),f([G.Property("Left")],ga.prototype,"alignment",void 0),f([G.Property(!1)],ga.prototype,"isReadOnly",void 0),f([G.Property("visible")],ga.prototype,"visibility",void 0),f([G.Property(!1)],ga.prototype,"isRequired",void 0),f([G.Property(!1)],ga.prototype,"isPrint",void 0),f([G.Property("")],ga.prototype,"tooltip",void 0),f([G.Property([])],ga.prototype,"options",void 0),f([G.Property(1)],ga.prototype,"thickness",void 0),f([G.Property("#303030")],ga.prototype,"borderColor",void 0);var ha,ca=ga;function ga(){return null!==ha&&ha.apply(this,arguments)||this}ua=G.ChildProperty,u(ma,ua),f([G.Property("")],ma.prototype,"itemName",void 0),f([G.Property("")],ma.prototype,"itemValue",void 0);var ua,fa=ma;function ma(){return null!==ua&&ua.apply(this,arguments)||this}wa=G.ChildProperty,u(Ca,wa),f([G.Property()],Ca.prototype,"pdfKeys",void 0),f([G.Property()],Ca.prototype,"modifierKeys",void 0);var wa,Ba=Ca;function Ca(){return null!==wa&&wa.apply(this,arguments)||this}Sa=G.ChildProperty,u(Ia,Sa),f([G.Property("")],Ia.prototype,"name",void 0),f([G.Complex({},Ba)],Ia.prototype,"gesture",void 0);var Sa,ya=Ia;function Ia(){return null!==Sa&&Sa.apply(this,arguments)||this}Ea=G.ChildProperty,u(Da,Ea),f([G.Collection([],ya)],Da.prototype,"keyboardCommand",void 0);var Ea,Qa=Da;function Da(){return null!==Ea&&Ea.apply(this,arguments)||this}xa=G.ChildProperty,u(ba,xa),f([G.Property(!0)],ba.prototype,"canDelete",void 0),f([G.Property(!0)],ba.prototype,"canInsert",void 0),f([G.Property(!0)],ba.prototype,"canRotate",void 0),f([G.Property(!0)],ba.prototype,"canCopy",void 0),f([G.Property(!0)],ba.prototype,"canRearrange",void 0),f([G.Property(!0)],ba.prototype,"canImport",void 0);var xa,Va=ba;function ba(){return null!==xa&&xa.apply(this,arguments)||this}Ma=G.ChildProperty,u(Fa,Ma),f([G.Property(0)],Fa.prototype,"pageIndex",void 0),f([G.Property([])],Fa.prototype,"bounds",void 0);var Ma,va=Fa;function Fa(){return null!==Ma&&Ma.apply(this,arguments)||this}Ta=G.Component,u(C,Ta),Object.defineProperty(C.prototype,"zoomPercentage",{get:function(){return 100*this.magnificationModule.zoomFactor},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"bookmark",{get:function(){return this.bookmarkViewModule},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"print",{get:function(){return this.printModule},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"magnification",{get:function(){return this.magnificationModule},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"navigation",{get:function(){return this.navigationModule},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"textSearch",{get:function(){return this.textSearchModule},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"toolbar",{get:function(){return this.toolbarModule},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"thumbnailView",{get:function(){return this.thumbnailViewModule},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"annotation",{get:function(){return this.annotationModule},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"formDesigner",{get:function(){return this.formDesignerModule},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"textSelection",{get:function(){return this.textSelectionModule},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"accessibilityTags",{get:function(){return this.accessibilityTagsModule},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"pdfRenderer",{get:function(){return this.pdfRendererModule},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"pageOrganizer",{get:function(){return this.pageOrganizerModule},enumerable:!0,configurable:!0}),C.prototype.preRender=function(){this.localeObj=new G.L10n(this.getModuleName(),this.defaultLocale,this.locale),G.isNullOrUndefined(this.element)||""!==this.element.id||(this.element.id=this.getUniqueElementId()),G.Browser.isDevice&&(this.touchPadding=16),this.updateLocalStorage(this.enableLocalStorage)},C.prototype.getUniqueElementId=function(){return"pdfViewer_"+Date.now().toString(36)+Math.random().toString(36).substring(2)},C.prototype.initializePdfiumModule=function(e){this.viewerBase.pdfViewerRunner.addTask({url:this.getScriptPathForPlatform(),fonts:e,message:"initialLoading"},ln.High)},C.prototype.render=function(){var t,e,i=this;this.enableHtmlSanitizer&&this.serviceUrl&&(this.serviceUrl=G.SanitizeHtmlHelper.sanitize(this.serviceUrl)),!G.isNullOrUndefined(this.serviceUrl)&&""!==this.serviceUrl||(this.viewerBase.clientSideRendering=!0),this.viewerBase.clientSideRendering?(t=this,e=new Blob([Ka.toString().replace(/^[^{]*{([\s\S]*)}$/m,"$1")],{type:"text/javascript"}),e=URL.createObjectURL(e),window["pdfViewerRunner_"+this.element.id]=this.viewerBase.pdfViewerRunner=new pn(e,t),this.customFonts&&0<this.customFonts.length?an.fetchCustomFonts(this.customFonts,this.getScriptPathForPlatform()).then(function(e){i.pdfRenderer.FallbackFontCollection=e,i.initializePdfiumModule(e)}):this.initializePdfiumModule({}),this.viewerBase.pdfViewerRunner.onMessage("loaded",function(e){"loaded"===e.data.message&&(t.renderComponent(),t.fireResourcesLoaded())})):this.renderComponent()},C.prototype.exportAsImage=function(e,t){e=G.isNullOrUndefined(t)?this.pdfRendererModule.exportAsImage(e):this.pdfRendererModule.exportAsImagewithSize(e,t);return e},C.prototype.exportAsImages=function(e,t,i){e=G.isNullOrUndefined(i)?this.pdfRendererModule.exportAsImages(e,t):this.pdfRendererModule.exportAsImagesWithSize(e,t,i);return e},C.prototype.extractText=function(e,t,i){var n,i="number"==typeof t?(n=t,i):t;return G.isNullOrUndefined(n)&&(n=e),this.pdfRendererModule.extractsText(e,n,i,!0)},C.prototype.getScriptPathForPlatform=function(){var e,t;return this.enableHtmlSanitizer&&this.resourceUrl&&(this.resourceUrl=G.SanitizeHtmlHelper.sanitize(this.resourceUrl)),G.isNullOrUndefined(this.resourceUrl)||""===this.resourceUrl?(e=(e=document.location).protocol+"//"+e.host+e.pathname.replace(/\/+$/,""),this.isAngular||this.parent&&this.parent.isAngular?e+"/assets/ej2-pdfviewer-lib":this.isReact||this.parent&&this.parent.isReact?e+"/ej2-pdfviewer-lib":this.isVue||this.parent&&this.parent.isVue||this.isVue3||this.parent&&this.parent.isVue3?e+"/public/js/ej2-pdfviewer-lib":(window.getRunningScript=function(){return function(){var e=(new Error).stack,e=e&&e.match(/(?:http[s]?:\/\/(?:[^\/\s]+\/))(.*\.js)/);return e?e[0]:"src/pdfviewer/pdfviewer.js"}},t=(e=window.getRunningScript()()).split("/"),e.replace("/"+t[t.length-1],"")+"/ej2-pdfviewer-lib")):-1!==this.resourceUrl.indexOf("/ej2-pdfviewer-lib")?this.resourceUrl:this.resourceUrl+"/ej2-pdfviewer-lib"},C.prototype.renderComponent=function(){this.viewerBase.initializeComponent(),this.enableFormFields||(this.formFieldsModule=new Ha(this,this.viewerBase),this.formFieldsModule.formFieldsReadOnly(this.enableFormFields)),this.enableTextSelection&&this.textSelectionModule?this.textSelectionModule.enableTextSelectionMode():this.viewerBase.disableTextSelectionMode(),this.drawing.renderLabels(this),this.renderComplete()},C.prototype.getModuleName=function(){return"PdfViewer"},C.prototype.getLocaleConstants=function(){return this.defaultLocale},C.prototype.setJsonData=function(e){this.viewerBase.ajaxData=e},C.prototype.updateLocalStorage=function(e){e&&!F.sessionStorageManager.enableLocalStorage?F.sessionStorageManager.migrateToLocalStorage(!0):this.enableLocalStorage=F.sessionStorageManager.enableLocalStorage},C.prototype.onPropertyChanged=function(e,t){if(!this.isDestroyed)for(var i=0,n=Object.keys(e);i<n.length;i++){var o,r,a=n[i];switch(a){case"locale":this.viewerBase.loadedData&&(o=null,o=this.formFieldsModule?this.viewerBase.getItemFromSessionStorage("_formfields"):o)&&(this.viewerBase.formfieldvalue=JSON.parse(o),o=this.annotationCollection,r=this.viewerBase.jsonDocumentId,Ta.prototype.refresh.call(this),this.load(this.viewerBase.loadedData,null),this.addAnnotation(o),this.viewerBase.loadedData=null,this.downloadFileName=r,this.fileName=r);break;case"toolbarSettings":!G.Browser.isDevice||this.enableDesktopMode?(this.toolbar.applyToolbarSettings(),G.isNullOrUndefined(this.toolbar.annotationToolbarModule)||this.toolbar.annotationToolbarModule.applyAnnotationToolbarSettings(),G.isNullOrUndefined(this.toolbar.formDesignerToolbarModule)||this.toolbar.formDesignerToolbarModule.applyFormDesignerToolbarSettings()):(this.toolbar.applyToolbarSettingsForMobile(),this.toolbar.annotationToolbarModule.applyMobileAnnotationToolbarSettings());break;case"enableToolbar":this.notify("",{module:"toolbar",enable:this.enableToolbar});break;case"enableLocalStorage":this.updateLocalStorage(this.enableLocalStorage);break;case"enableCommentPanel":this.notify("",{module:"annotation",enable:this.enableCommentPanel}),this.toolbarModule&&this.toolbarModule.annotationToolbarModule&&this.toolbarModule.annotationToolbarModule.enableCommentPanelTool(this.enableCommentPanel),this.enableCommentPanel||this.viewerBase.navigationPane&&this.viewerBase.navigationPane.closeCommentPanelContainer();break;case"documentPath":this.viewerBase.isSkipDocumentPath?this.viewerBase.isSkipDocumentPath=!1:G.isBlazor()?this._dotnetInstance.invokeMethodAsync("LoadDocumentFromClient",e.documentPath):this.load(e.documentPath,null);break;case"interactionMode":this.interactionMode=e.interactionMode,"Pan"===e.interactionMode?(this.viewerBase.initiatePanning(),this.toolbar&&this.toolbar.updateInteractionTools(!1)):"TextSelection"===e.interactionMode&&(this.viewerBase.initiateTextSelectMode(),this.toolbar)&&this.toolbar.updateInteractionTools(!0);break;case"height":this.height=e.height,this.viewerBase.updateHeight(),this.viewerBase.onWindowResize(),this.toolbar&&this.toolbar.annotationToolbarModule&&(this.toolbar.annotationToolbarModule.isToolbarHidden?this.toolbar.annotationToolbarModule.adjustViewer(!1):this.toolbar.annotationToolbarModule.adjustViewer(!0));break;case"width":this.width=e.width,this.viewerBase.updateWidth(),this.viewerBase.onWindowResize();break;case"customStamp":this.renderCustomerStamp(this.customStamp[0]);break;case"customStampSettings":if(e.customStampSettings.customStamps)for(var s=0;s<e.customStampSettings.customStamps.length;s++)this.viewerBase.customStampCollection.push({customStampName:this.customStampSettings.customStamps[parseInt(s.toString(),10)].customStampName,customStampImageSource:this.customStampSettings.customStamps[parseInt(s.toString(),10)].customStampImageSource});break;case"enableFormFields":if(this.enableFormFields&&this.formFieldsModule)for(var l=0;l<this.pageCount;l++)this.formFieldsModule.renderFormFields(l,!1);else this.formFieldsModule=new Ha(this,this.viewerBase),this.formFieldsModule.formFieldsReadOnly(this.enableFormFields);break;case"designerMode":this.designerMode?this.formDesignerModule.setMode("designer"):this.formDesignerModule.setMode("edit");break;case"highlightSettings":case"underlineSettings":case"strikethroughSettings":this.annotationModule&&this.annotationModule.textMarkupAnnotationModule&&this.annotationModule.textMarkupAnnotationModule.updateTextMarkupSettings(a);break;case"signatureFieldSettings":case"initialFieldSettings":this.formDesignerModule&&this.formDesignerModule.updateSignatureSettings(e[a],"initialFieldSettings"===a);break;case"textFieldSettings":this.formDesignerModule&&this.formDesignerModule.updateTextFieldSettings(e[a]);break;case"passwordFieldSettings":this.formDesignerModule&&this.formDesignerModule.updatePasswordFieldSettings(e[a]);break;case"checkBoxFieldSettings":this.formDesignerModule&&this.formDesignerModule.updateCheckBoxFieldSettings(e[a]);break;case"radioButtonFieldSettings":this.formDesignerModule&&this.formDesignerModule.updateRadioButtonFieldSettings(e[a]);break;case"DropdownFieldSettings":this.formDesignerModule&&this.formDesignerModule.updateDropDownFieldSettings(e[a]);break;case"listBoxFieldSettings":this.formDesignerModule&&this.formDesignerModule.updateListBoxFieldSettings(e[a]);break;case"isFormDesignerToolbarVisible":G.Browser.isDevice&&!this.enableDesktopMode||(this.toolbarModule&&this.formDesignerModule&&!t.isFormDesignerToolbarVisible&&e.isFormDesignerToolbarVisible?(this.toolbarModule.annotationToolbarModule&&this.isAnnotationToolbarVisible&&(this.isAnnotationToolbarVisible=!1,this.toolbarModule.annotationToolbarModule.showAnnotationToolbar()),this.toolbarModule.formDesignerToolbarModule.resetFormDesignerToolbar()):G.isNullOrUndefined(this.toolbarModule)||G.isNullOrUndefined(this.formDesignerModule)||!this.toolbarModule.formDesignerToolbarModule||this.isFormDesignerToolbarVisible||(this.isFormDesignerToolbarVisible=!1,this.formDesignerModule.setMode("edit"),this.toolbarModule.formDesignerToolbarModule.resetFormDesignerToolbar()));break;case"isAnnotationToolbarVisible":!G.Browser.isDevice||this.enableDesktopMode?this.toolbarModule&&this.annotationModule&&!t.isAnnotationToolbarVisible&&e.isAnnotationToolbarVisible&&(this.toolbarModule.formDesignerToolbarModule&&this.isFormDesignerToolbarVisible&&(this.isFormDesignerToolbarVisible=!1,this.toolbarModule.formDesignerToolbarModule.showFormDesignerToolbar()),this.toolbarModule.annotationToolbarModule.resetToolbar()):this.toolbarModule&&this.toolbar.showAnnotationToolbar(e.isAnnotationToolbarVisible);break;case"serviceUrl":G.isNullOrUndefined(e.serviceUrl)||""===e.serviceUrl?this.viewerBase.clientSideRendering=!0:this.viewerBase.clientSideRendering=!1;break;case"pageOrganizerSettings":G.isNullOrUndefined(e.pageOrganizerSettings)||(G.isNullOrUndefined(e.pageOrganizerSettings.canDelete)&&(this.pageOrganizerSettings.canDelete=!0),G.isNullOrUndefined(e.pageOrganizerSettings.canRotate)&&(this.pageOrganizerSettings.canRotate=!0),G.isNullOrUndefined(e.pageOrganizerSettings.canInsert)&&(this.pageOrganizerSettings.canInsert=!0),G.isNullOrUndefined(e.pageOrganizerSettings.canCopy)&&(this.pageOrganizerSettings.canCopy=!0),G.isNullOrUndefined(e.pageOrganizerSettings.canRearrange)&&(this.pageOrganizerSettings.canRearrange=!0),G.isNullOrUndefined(e.pageOrganizerSettings.canImport)&&(this.pageOrganizerSettings.canImport=!0))}}},C.prototype.renderCustomerStamp=function(e){this.annotation.stampAnnotationModule.isStampAddMode=!0,this.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,this.viewerBase.stampAdded=!0,this.viewerBase.isAlreadyAdded=!1,this.annotation.stampAnnotationModule.createCustomStampAnnotation(e.customStampImageSource,e.customStampName)},C.prototype.getPersistData=function(){return"PdfViewer"},C.prototype.requiredModules=function(){var e=[];return this.enableMagnification&&e.push({member:"Magnification",args:[this,this.viewerBase]}),this.enableNavigation&&e.push({member:"Navigation",args:[this,this.viewerBase]}),(this.enableToolbar||this.enableNavigationToolbar||this.enableAnnotationToolbar||this.enableFormDesignerToolbar)&&e.push({member:"Toolbar",args:[this,this.viewerBase]}),this.enableHyperlink&&e.push({member:"LinkAnnotation",args:[this,this.viewerBase]}),this.enableThumbnail&&e.push({member:"ThumbnailView",args:[this,this.viewerBase]}),this.enableBookmark&&e.push({member:"BookmarkView",args:[this,this.viewerBase]}),this.enableTextSelection&&e.push({member:"TextSelection",args:[this,this.viewerBase]}),this.enableTextSearch&&e.push({member:"TextSearch",args:[this,this.viewerBase]}),this.enablePrint&&e.push({member:"Print",args:[this,this.viewerBase]}),this.enableAnnotation&&e.push({member:"Annotation",args:[this,this.viewerBase]}),this.enableFormFields&&e.push({member:"FormFields",args:[this,this.viewerBase]}),this.enableFormDesigner&&!G.isBlazor()&&e.push({member:"FormDesigner",args:[this,this.viewerBase]}),this.enableAccessibilityTags&&e.push({member:"AccessibilityTags",args:[this,this.viewerBase]}),!G.isNullOrUndefined(this.serviceUrl)&&""!==this.serviceUrl||e.push({member:"PdfRenderer",args:[this,this.viewerBase]}),this.enablePageOrganizer&&e.push({member:"PageOrganizer",args:[this,this.viewerBase]}),e},C.prototype.load=function(e,t){this.loadDocInternally(e,t)},C.prototype.loadDocInternally=function(e,t,i){var n;void 0===i&&(i=!0),0!==this.pageCount?this.viewerBase.clear(!0):this.viewerBase.clear(!1),this.pageCount=0,this.currentPageNumber=0,G.isBlazor()?this.viewerBase.blazorUIAdaptor.resetToolbar():this.toolbarModule&&this.toolbarModule.resetToolbar(),this.isFormFieldsLoaded=!0,this.viewerBase.documentPathByteArray instanceof Uint8Array&&!this.viewerBase.clientSideRendering?(n=this.convertByteArrayToBase64(this.viewerBase.documentPathByteArray),this.viewerBase.initiatePageRender(n,t)):this.viewerBase.initiatePageRender(e,t,i)},C.prototype.convertByteArrayToBase64=function(e){for(var t="",i=e.byteLength,n=0;n<i;n++)t+=String.fromCharCode(e[parseInt(n.toString(),10)]);return btoa(t)},C.prototype.loadDocument=function(e,t,i){0!==this.pageCount?this.viewerBase.clear(!0):this.viewerBase.clear(!1),this.viewerBase.clear(!G.isNullOrUndefined(this.customContextMenuItems)),this.pageCount=0,this.currentPageNumber=0,this.viewerBase.blazorUIAdaptor.resetToolbar(),this.fileName=i,this.viewerBase.initiateLoadDocument(e,t,i)},C.prototype.loadSuccess=function(e,t){this.viewerBase.loadSuccess(e,t)},C.prototype.focusElement=function(e){e=document.getElementById(e);null!=e&&e.focus()},C.prototype.download=function(){this.enableDownload&&this.viewerBase.download()},C.prototype.saveAsBlob=function(){var i=this;return this.enableDownload?new Promise(function(e,t){e(i.viewerBase.saveAsBlob())}):null},C.prototype.updateViewerContainer=function(){this.viewerBase.updateViewerContainer()},C.prototype.getPageInfo=function(e){var t,i={};return!G.isNullOrUndefined(e)&&"number"==typeof e&&!G.isNullOrUndefined(this.viewerBase.pageSize)&&0!==this.viewerBase.pageSize.length&&0<=e&&e<this.viewerBase.pageSize.length&&(e=parseInt(e.toString(),10),t=this.viewerBase.pageSize[e],i.pageIndex=e,i.height=this.viewerBase.ConvertPixelToPoint(t.height),i.width=this.viewerBase.ConvertPixelToPoint(t.width),i.rotation=this.viewerBase.getAngle(t.rotation)),i},C.prototype.showNotificationPopup=function(e){this.viewerBase.showNotificationPopup(e)},C.prototype.focusFormField=function(t){var e,i=this;if("string"==typeof t)for(var n=this.retrieveFormFields(),o=0;o<n.length;o++)n[parseInt(o.toString(),10)].name===t&&(t=n[parseInt(o.toString(),10)]);t&&(this.viewerBase.isFocusField=!0,this.viewerBase.focusField=t,this.formDesignerModule?this.navigationModule.goToPage(t.pageIndex+1):(e=parseFloat(t.id.split("_")[1]),this.navigationModule.goToPage(e+1)),setTimeout(function(){var e=document.getElementById(t.id);(e=i.formDesignerModule&&"Checkbox"===t.type?document.getElementById(t.id+"_input"):e)&&(!i.formDesignerModule||"SignatureField"!==t.type&&"InitialField"!==t.type?(e.focus(),i.viewerBase.isFocusField=!1,i.viewerBase.focusField=[]):e.parentElement.focus())},100))},C.prototype.updateFormFieldsValue=function(n){var e=document.getElementById(n.id),t=!1;if(e)(e=e||document.getElementById(n.id+"_content_html_element").children[0].children[0])&&"Textbox"===n.type||"Password"===n.type||"PasswordField"===n.type?(e.value=n.value,e.multiline=n.isMultiline):"Checkbox"===n.type||"RadioButton"===n.type||"CheckBox"===n.type?("CheckBox"===n.type&&(e.style.appearance="auto"),this.formDesignerModule?"RadioButton"===n.type?(i={isSelected:n.isSelected},this.formDesignerModule.updateFormField(n,i)):(i={isChecked:n.isChecked},this.formDesignerModule.updateFormField(n,i)):"RadioButton"===n.type?e.selected=n.isSelected:e.checked=n.isChecked,e.value!=n.value&&(e.value=n.value)):"DropDown"!==n.type&&"ListBox"!==n.type&&"DropdownList"!==n.type||(this.formDesignerModule?(t=!0,i={options:n.value},this.formDesignerModule.updateFormField(n,i)):(e.value=n.value,e.selectedIndex=n.selectedIndex)),"SignatureField"===n.type||"InitialField"===n.type?((n.signatureType||n.initialType)&&"string"!=typeof n.signatureType&&(n.signatureType=n.initialType),n.fontName=n.fontName||n.fontFamily,i=n.value,a=this.getFormFieldByID(n.id),a=this.formDesignerModule?a.value===n.value:a.Value===n.value,e.classList.contains("e-pdfviewer-signatureformfields-signature")&&!a&&(this.formDesignerModule?this.annotation.deleteAnnotationById(n.id.split("_")[0]+"_content"):this.annotation.deleteAnnotationById(n.id)),n.signatureType&&n.value||(n.value=i,this.viewerBase.isSignaturePathData(n.value)?(n.signatureType="Path",e.signatureType="Path"):this.viewerBase.isSignatureImageData(n.value)?(n.signatureType="Image",e.signatureType="Image"):(n.signatureType="Type",e.signatureType="Type")),n.tooltip&&(e.tooltip=n.tooltip),e.Required=n.isRequired||!1,a||this.formFieldsModule.drawSignature(n.signatureType,n.value,e,n.fontName,n.signatureBounds)):t||this.formFieldsModule.updateDataInSession(e);else{var i=this.viewerBase.getItemFromSessionStorage("_formDesigner");if(!G.isNullOrUndefined(i)){var o,r=JSON.parse(i),a=this.viewerBase.formFieldCollection.filter(function(e){return e.FormField.id.split("_")[0]===n.id});"Path"===n.signatureType&&(t=J.processPathData(n.value),o=J.splitArrayCollection(t)),a.forEach(function(e){e.FormField.signatureType=n.signatureType,"Path"===n.signatureType?e.FormField.value=JSON.stringify(o):e.FormField.value=n.value});for(var s=0;s<r.length;s++)if(r[parseInt(s.toString(),10)].FormField.id.split("_")[0]===n.id){"Path"===n.signatureType?r[parseInt(s.toString(),10)].FormField.value=JSON.stringify(o):r[parseInt(s.toString(),10)].FormField.value=n.value,r[parseInt(s.toString(),10)].FormField.signatureType=n.signatureType,this.viewerBase.setItemInSessionStorage(r,"_formDesigner");break}}e=this.viewerBase.getItemFromSessionStorage("_formfields");if(!G.isNullOrUndefined(e)){for(var r=JSON.parse(e),l=this,s=0;s<r.length;s++)!function(e){var t=r[parseInt(e.toString(),10)],i="Checkbox"!==n.type&&"RadioButton"!==n.type&&"CheckBox"!==n.type&&("DropDown"===n.type||"ListBox"===n.type||"DropdownList"===n.type)?t.Text:t.FieldName,e=r.filter(function(e){return e.FieldName===t.FieldName.split("_")[0]});G.isNullOrUndefined(e)||G.isNullOrUndefined(e[0])||"SignatureField"!==e[0].Name&&"InitialField"!==e[0].Name||(i=t.FieldName.split("_")[0],t.LineBounds=r.filter(function(e){return e.FieldName===i})[0].LineBounds),i===n.name&&("Textbox"===n.type||"Password"===n.type||"PasswordField"===n.type?n.value&&(t.Text=n.value,t.Value=n.value):"Checkbox"===n.type||"RadioButton"===n.type||"CheckBox"===n.type?(n.isSelected||n.isChecked?t.Selected=!0:t.Selected=!1,t.Value=n.value):"DropDown"===n.type||"ListBox"===n.type||"DropdownList"===n.type?(t.SelectedValue=n.value,e=t.TextList?t.TextList.indexOf(n.value):0,t.selectedIndex=-1<e?e:0,"ListBox"===n.type?t.SelectedListed=[t.selectedIndex]:t.SelectedListed=[]):"SignatureField"!==n.type&&"InitialField"!==n.type||n.value&&(t.Value=n.value,t=l.updateSignatureValue(t,n,n.signatureBounds)),l.formFieldsModule.updateFormFieldsCollection(t))}(s);F.sessionStorageManager.removeItem(this.viewerBase.documentId+"_formfields"),this.viewerBase.setItemInSessionStorage(r,"_formfields")}}},C.prototype.getFormFieldByID=function(t){var e;return this.formDesignerModule?this.nameTable[t.split("_")[0]]:(e=F.sessionStorageManager.getItem(this.viewerBase.documentId+"_formfields"),(e=JSON.parse(e))[e.findIndex(function(e){return e.uniqueID===t})])},C.prototype.ConvertPointToPixel=function(e){return e*(96/72)},C.prototype.updateSignatureValue=function(e,t,i){t.signatureType||(t.signatureType=this.viewerBase.isSignatureImageData(t.value)?"Image":this.viewerBase.isSignaturePathData(t.value)?"Path":"Type");var n,o,r,a,s,l,A=e.LineBounds,d=this.ConvertPointToPixel(A.X),p=this.ConvertPointToPixel(A.Y),h=this.ConvertPointToPixel(A.Width),A=this.ConvertPointToPixel(A.Height);return"Type"===t.signatureType?(e.FontFamily||(e.FontFamily="Helvetica"),r=this.formFieldsModule.getSignBounds(e.pageIndex,e.RotationAngle,e.pageIndex,this.viewerBase.getZoomFactor(),d,p,h,A),"Default"===this.signatureFitMode&&(r=this.formFieldsModule.getDefaultBoundsforSign(r)),n=(e.Bounds=r).height/1.35,o=1,(l=this.formFieldsModule.getTextWidth(e.value,n,e.FontFamily))>r.width&&(o=r.width/l),e.FontSize=this.formFieldsModule.getFontSize(Math.floor(n*o))):"Image"===t.signatureType?(r=this.formFieldsModule.getSignBounds(e.pageIndex,e.RotationAngle,e.pageIndex,this.viewerBase.getZoomFactor(),d,p,h,A),(a=new Image).src=e.Value,s=this,a.onload=function(){s.imageOnLoad(r,a,e)}):(-1!==e.Value.indexOf("base64")?(r=this.formFieldsModule.getSignBounds(e.pageIndex,e.RotationAngle,e.pageIndex,this.viewerBase.getZoomFactor(),d,p,h,A),"Default"===this.signatureFitMode&&(r=this.formFieldsModule.getDefaultBoundsforSign(r))):G.isNullOrUndefined(i)?"Default"===this.signatureFitMode?(l=this.viewerBase.signatureModule.updateSignatureAspectRatio(e.Value,!1,null,e),(r=this.formFieldsModule.getSignBounds(e.pageIndex,e.RotationAngle,e.pageIndex,this.viewerBase.getZoomFactor(),d,p,l.width,l.height,!0)).x=r.x+l.left,r.y=r.y+l.top):r=this.formFieldsModule.getSignBounds(e.pageIndex,e.RotationAngle,e.pageIndex,this.viewerBase.getZoomFactor(),d,p,h,A):r=i,e.Bounds=r),e},C.prototype.imageOnLoad=function(e,t,i){if("Default"===this.signatureFitMode){var n=Math.min(e.height/this.paddingDifferenceValue,e.width/this.paddingDifferenceValue),o=e.height-n,n=e.width-n,r=t.width,t=t.height,a=e.width,s=e.height,n=Math.min(n/r,o/t),o=(e.width=r*n,e.height=t*n,e.x=e.x+(a-e.width)/2,e.y=e.y+(s-e.height)/2,this.viewerBase.getItemFromSessionStorage("_formfields"));if(o){for(var l=JSON.parse(o),A=0;A<l.length;A++)l[parseInt(A.toString(),10)].FieldName===i.FieldName&&(l[parseInt(A.toString(),10)].Bounds=e,this.formFieldsModule.updateFormFieldsCollection(l[parseInt(A.toString(),10)]));F.sessionStorageManager.removeItem(this.viewerBase.documentId+"_formfields"),this.viewerBase.setItemInSessionStorage(l,"_formfields")}}},C.prototype.undo=function(){this.annotationModule?this.annotationModule.undo():this.viewerBase.getModuleWarningMessage("Annotation")},C.prototype.redo=function(){this.annotationModule?this.annotationModule.redo():this.viewerBase.getModuleWarningMessage("Annotation")},C.prototype.unload=function(){G.isNullOrUndefined(this.viewerBase.pdfViewerRunner)||this.viewerBase.isPasswordProtected||this.viewerBase.pdfViewerRunner.addTask({message:"unloadFPDF"},ln.High),this.viewerBase.clear(!0),this.pageCount=0,G.isBlazor()?this.viewerBase.blazorUIAdaptor.resetToolbar():this.toolbarModule&&(this.viewerBase.pageCount=0,this.toolbarModule.resetToolbar()),this.fileByteArray&&(this.fileByteArray=null),this.magnificationModule&&this.magnificationModule.zoomTo(100),this.viewerBase.hyperlinkAndLinkAnnotation&&(this.viewerBase.hyperlinkAndLinkAnnotation={}),this.viewerBase.pageTextDetails&&(this.viewerBase.pageTextDetails={}),this.textSearchModule&&this.textSearchModule.showSearchBox(!1)},C.prototype.destroy=function(){Ta.prototype.destroy.call(this),G.isNullOrUndefined(this.element)||(this.refreshing||this.element.classList.remove("e-pdfviewer"),this.element.innerHTML=""),this.viewerBase.navigationPane&&(this.viewerBase.navigationPane.restrictUpdateZoomValue=!1),this.viewerBase.destroy(),this.viewerBase.navigationPane&&(this.viewerBase.navigationPane.restrictUpdateZoomValue=!0)},C.prototype.importAnnotation=function(e,t){if(this.annotationModule)if("string"==typeof e){var i=-1<e.indexOf(".xfdf")||-1<t.indexOf("Xfdf");t?-1<e.indexOf("</xfdf>")?this.viewerBase.importAnnotations(e,t,!1):"Json"==t?!e.includes("pdfAnnotation")&&"json"===e.split(".")[1]?(this.viewerBase.isPDFViewerJson=!0,this.viewerBase.importAnnotations(e,t,i)):this.importAnnotationsAsJson(e):this.viewerBase.importAnnotations(e,t,i):"json"===e.split(".")[1]?(e.includes("pdfAnnotation")||(t=e.split(",")[1]?e.split(",")[1]:e.split(",")[0],e=decodeURIComponent(escape(atob(t)))),this.importAnnotationsAsJson(e)):this.viewerBase.importAnnotations(e,v.AnnotationDataFormat.Xfdf,i)}else{t=e.pdfAnnotation;if("object"==typeof e&&!G.isNullOrUndefined(t)&&!G.isNullOrUndefined(Object.keys(t))&&!G.isNullOrUndefined(Object.keys(t)[0])&&1<Object.keys(t[Object.keys(t)[0]]).length)this.viewerBase.importAnnotations(e);else if(e=JSON.stringify(e),this.viewerBase.isPDFViewerJson=!1,this.viewerBase.clientSideRendering){for(var n=(new TextEncoder).encode(e),o="",r=0;r<n.length;r+=65536)o+=String.fromCharCode.apply(String,Array.from(n.subarray(r,r+65536)));this.viewerBase.importAnnotations(btoa(o),v.AnnotationDataFormat.Json)}else this.viewerBase.importAnnotations(btoa(e),v.AnnotationDataFormat.Json)}else this.viewerBase.getModuleWarningMessage("Annotation")},C.prototype.importAnnotationsAsJson=function(e){var t=JSON.parse(e),i=t.pdfAnnotation[Object.keys(t.pdfAnnotation)[0]];1<=Object.keys(t.pdfAnnotation).length&&(i.textMarkupAnnotation||i.measureShapeAnnotation||i.freeTextAnnotation||i.stampAnnotations||i.signatureInkAnnotation||i.shapeAnnotation&&i.shapeAnnotation[0].Bounds)?(this.viewerBase.isPDFViewerJson=!0,this.viewerBase.importAnnotations(t,v.AnnotationDataFormat.Json)):(this.viewerBase.isPDFViewerJson=!1,this.viewerBase.importAnnotations(btoa(e),v.AnnotationDataFormat.Json))},C.prototype.exportAnnotation=function(e){this.annotationModule?e&&"Xfdf"===e?this.viewerBase.exportAnnotations(v.AnnotationDataFormat.Xfdf):this.viewerBase.exportAnnotations(v.AnnotationDataFormat.Json):this.viewerBase.getModuleWarningMessage("Annotation")},C.prototype.exportAnnotationsAsObject=function(i){var n=this,e=(void 0===i&&(i=v.AnnotationDataFormat.Json),this.viewerBase.updateExportItem());return this.annotationModule&&e?new Promise(function(t,e){n.viewerBase.exportAnnotationsAsObject(i).then(function(e){t(e)})}):new Promise(function(e){e(null)})},C.prototype.exportAnnotationsAsBase64String=function(i){var n=this;return this.annotationModule?new Promise(function(t,e){n.viewerBase.createRequestForExportAnnotations(!1,i,!0).then(function(e){t(e)})}):null},C.prototype.addAnnotation=function(e){this.viewerBase&&this.viewerBase.addAnnotation(e)},C.prototype.importFormFields=function(e,t){this.formFieldsModule?(G.isNullOrUndefined(t)&&(t=v.FormFieldDataFormat.Json),this.viewerBase.importFormFields(e,t)):this.viewerBase.getModuleWarningMessage("FormFields")},C.prototype.exportFormFields=function(e,t){this.formFieldsModule?this.viewerBase.exportFormFields(e,t):this.viewerBase.getModuleWarningMessage("FormFields")},C.prototype.exportFormFieldsAsObject=function(i){var n=this;return void 0===i&&(i=v.FormFieldDataFormat.Json),this.formFieldsModule?new Promise(function(t,e){n.viewerBase.exportFormFieldsAsObject(i).then(function(e){t(e)})}):null},C.prototype.resetFormFields=function(){this.formFieldsModule.resetFormFields()},C.prototype.clearFormFields=function(e){this.formFieldsModule.clearFormFields(e)},C.prototype.deleteAnnotations=function(){this.annotationModule?this.viewerBase.deleteAnnotations():this.viewerBase.getModuleWarningMessage("Annotation")},C.prototype.retrieveFormFields=function(){return this.formFieldCollections},C.prototype.updateFormFields=function(e){this.updateFormFieldsValue(e),this.formFieldsModule.updateFormFieldValues(e)},C.prototype.fireResourcesLoaded=function(){this.trigger("resourcesLoaded")},C.prototype.fireAjaxRequestInitiate=function(e){this.trigger("ajaxRequestInitiate",{name:"ajaxRequestInitiate",JsonData:e})},C.prototype.firePageRenderInitiate=function(e){this.trigger("pageRenderInitiate",{name:"pageRenderInitiate",jsonData:e})},C.prototype.fireButtonFieldClickEvent=function(e,t,i){this.trigger("buttonFieldClick",{name:"buttonFieldClicked",buttonFieldValue:e,buttonFieldName:t,id:i})},C.prototype.fireFormFieldClickEvent=function(o,r,a,s){return Mn(this,void 0,void 0,function(){var t,i,n;return vn(this,function(e){switch(e.label){case 0:return(t={name:o,field:r,cancel:a},G.isBlazor())?[4,this.triggerEvent("formFieldClick",t)]:[3,2];case 1:return(t=e.sent()||t).field.type=r.type,[3,3];case 2:this.triggerEvent("formFieldClick",t),e.label=3;case 3:return("SignatureField"===r.type||"InitialField"===r.type)&&("InitialField"===r.type?this.viewerBase.isInitialField=!0:this.viewerBase.isInitialField=!1,"hidden"===(i=document.getElementById(r.id)).style.visibility&&(i.disabled=!0),i=i||(document.getElementById(r.id+"_content_html_element")?document.getElementById(r.id+"_content_html_element").children[0].children[0]:null),n=this.formFieldCollections.filter(function(e){return e.id===r.id}))&&((n=n[0].isReadOnly)||t.cancel||!i||i.disabled||!i.classList.contains("e-pdfviewer-signatureformfields")||!s&&!G.isNullOrUndefined(s)?n&&(i.disabled=!0):this.viewerBase.signatureModule.showSignatureDialog(!0)),[2]}})})},C.prototype.fireFormFieldAddEvent=function(e,t,i){e={name:e,field:t,pageIndex:i};this.viewerBase.isFormFieldSelect=!1,this.trigger("formFieldAdd",e)},C.prototype.fireFormFieldRemoveEvent=function(e,t,i){this.trigger("formFieldRemove",{name:e,field:t,pageIndex:i})},C.prototype.fireFormFieldDoubleClickEvent=function(e){return this.trigger("formFieldDoubleClick",e),e},C.prototype.fireFormFieldPropertiesChangeEvent=function(e,t,i,n,o,r,a,s,l,A,d,p,h,c,g,u,f,m,w,B,C,S){e={name:e,field:t,pageIndex:i,isValueChanged:n,isFontFamilyChanged:o,isFontSizeChanged:r,isFontStyleChanged:a,isColorChanged:s,isBackgroundColorChanged:l,isBorderColorChanged:A,isBorderWidthChanged:d,isAlignmentChanged:p,isReadOnlyChanged:h,isVisibilityChanged:c,isMaxLengthChanged:g,isRequiredChanged:u,isPrintChanged:f,isToolTipChanged:m,oldValue:B,newValue:C,isNameChanged:!G.isNullOrUndefined(S)&&S,isCustomDataChanged:w};this.trigger("formFieldPropertiesChange",e)},C.prototype.fireFormFieldMouseLeaveEvent=function(e,t,i){this.trigger("formFieldMouseLeave",{name:e,field:t,pageIndex:i})},C.prototype.fireFormFieldMouseoverEvent=function(e,t,i,n,o,r,a){this.trigger("formFieldMouseover",{name:e,field:t,pageIndex:i,pageX:n,pageY:o,X:r,Y:a})},C.prototype.fireFormFieldMoveEvent=function(e,t,i,n,o){this.trigger("formFieldMove",{name:e,field:t,pageIndex:i,previousPosition:n,currentPosition:o})},C.prototype.fireFormFieldResizeEvent=function(e,t,i,n,o){this.trigger("formFieldResize",{name:e,field:t,pageIndex:i,previousPosition:n,currentPosition:o})},C.prototype.fireFormFieldSelectEvent=function(e,t,i,n){this.trigger("formFieldSelect",{name:e,field:t,pageIndex:i,isProgrammaticSelection:n})},C.prototype.fireFormFieldUnselectEvent=function(e,t,i){this.trigger("formFieldUnselect",{name:e,field:t,pageIndex:i})},C.prototype.fireDocumentLoad=function(e){e={name:"documentLoad",documentName:this.fileName,pageData:e};this.trigger("documentLoad",e),G.isBlazor()&&(this._dotnetInstance.invokeMethodAsync("LoadDocument",null),this.viewerBase.blazorUIAdaptor.loadDocument())},C.prototype.fireDocumentUnload=function(e){this.trigger("documentUnload",{name:"documentUnload",documentName:e})},C.prototype.fireDocumentLoadFailed=function(e,t){e={name:"documentLoadFailed",documentName:this.fileName,isPasswordRequired:e,password:t};this.trigger("documentLoadFailed",e)},C.prototype.fireAjaxRequestFailed=function(e,t,i,n){e={name:"ajaxRequestFailed",documentName:this.fileName,errorStatusCode:e,errorMessage:t,action:i};n&&(e.retryCount=!0),this.trigger("ajaxRequestFailed",e)},C.prototype.fireAjaxRequestSuccess=function(e,t){e={name:"ajaxRequestSuccess",documentName:this.fileName,action:e,data:t,cancel:!1};return this.trigger("ajaxRequestSuccess",e),!!e.cancel},C.prototype.firePageRenderComplete=function(e){e={name:"pageRenderComplete",documentName:this.fileName,data:e};this.trigger("pageRenderComplete",e)},C.prototype.fireValidatedFailed=function(e){var t;G.isBlazor()?((t={}).documentName=this.fileName,t.formFields=this.formFieldCollections,t.nonFillableFields=this.viewerBase.nonFillableFields):t={formField:this.formFieldCollections,documentName:this.fileName,nonFillableFields:this.viewerBase.nonFillableFields},this.trigger("validateFormFields",t)},C.prototype.firePageClick=function(e,t,i){e={name:"pageClick",documentName:this.fileName,x:e,y:t,pageNumber:i};this.trigger("pageClick",e)},C.prototype.firePageChange=function(e){e={name:"pageChange",documentName:this.fileName,currentPageNumber:this.currentPageNumber,previousPageNumber:e};this.trigger("pageChange",e),G.isBlazor()&&this.viewerBase.blazorUIAdaptor.pageChanged(this.currentPageNumber)},C.prototype.fireZoomChange=function(){var e={name:"zoomChange",zoomValue:100*this.magnificationModule.zoomFactor,previousZoomValue:100*this.magnificationModule.previousZoomFactor};this.trigger("zoomChange",e)},C.prototype.fireHyperlinkClick=function(i,n){return Mn(this,void 0,void 0,function(){var t;return vn(this,function(e){switch(e.label){case 0:return(t={name:"hyperlinkClick",hyperlink:i,hyperlinkElement:n,cancel:!1},G.isBlazor())?[4,this.triggerEvent("hyperlinkClick",t)]:[3,2];case 1:return t=e.sent()||t,[3,3];case 2:this.triggerEvent("hyperlinkClick",t),e.label=3;case 3:return t.hyperlinkElement.href!==t.hyperlink&&(n.href=t.hyperlink),t.cancel?[2,!1]:[2,!0]}})})},C.prototype.fireHyperlinkHover=function(e){this.trigger("hyperlinkMouseOver",{name:"hyperlinkMouseOver",hyperlinkElement:e})},C.prototype.fireFocusOutFormField=function(e,t){this.trigger("formFieldFocusOut",{name:"formFieldFocusOut",fieldName:e,value:t})},C.prototype.fireAnnotationAdd=function(e,t,i,n,o,r,a,s,l,A,d){e={name:"annotationAdd",pageIndex:e,annotationId:t,annotationType:i,annotationBound:n,annotationSettings:o};r&&(G.isBlazor()?(e.annotationSettings.textMarkupContent=r,e.annotationSettings.textMarkupStartIndex=a,e.annotationSettings.textMarkupEndIndex=s):(e.textMarkupContent=r,e.textMarkupStartIndex=a,e.textMarkupEndIndex=s)),l&&(e.labelSettings=l),A&&(e.multiplePageCollection=A),"Image"===i&&(e.customStampName=d),this.viewerBase.isAnnotationSelect=!1,this.trigger("annotationAdd",e),G.isBlazor()&&this.viewerBase.blazorUIAdaptor.annotationAdd()},C.prototype.fireAnnotationRemove=function(e,t,i,n,o,r,a,s){e={name:"annotationRemove",pageIndex:e,annotationId:t,annotationType:i,annotationBounds:n};o&&(e.textMarkupContent=o,e.textMarkupStartIndex=r,e.textMarkupEndIndex=a),s&&(e.multiplePageCollection=s),this.trigger("annotationRemove",e)},C.prototype.fireBeforeAddFreeTextAnnotation=function(e){this.trigger("beforeAddFreeText",{name:"beforeAddFreeText",value:e})},C.prototype.fireCommentAdd=function(e,t,i){this.trigger("commentAdd",{name:"CommentAdd",id:e,text:t,annotation:i})},C.prototype.fireCommentEdit=function(e,t,i){this.trigger("commentEdit",{name:"CommentEdit",id:e,text:t,annotation:i})},C.prototype.fireCommentDelete=function(e,t,i){this.trigger("commentDelete",{name:"CommentDelete",id:e,text:t,annotation:i})},C.prototype.fireCommentSelect=function(e,t,i){this.trigger("commentSelect",{name:"CommentSelect",id:e,text:t,annotation:i})},C.prototype.fireCommentStatusChanged=function(e,t,i,n){this.trigger("commentStatusChanged",{name:"CommentStatusChanged",id:e,text:t,annotation:i,status:n})},C.prototype.fireAnnotationPropertiesChange=function(e,t,i,n,o,r,a,s,l,A,d){e={name:"annotationPropertiesChange",pageIndex:e,annotationId:t,annotationType:i,isColorChanged:n,isOpacityChanged:o,isTextChanged:r,isCommentsChanged:a};s&&(e.textMarkupContent=s,e.textMarkupStartIndex=l,e.textMarkupEndIndex=A),d&&(e.multiplePageCollection=d),this.trigger("annotationPropertiesChange",e)},C.prototype.fireSignatureAdd=function(e,t,i,n,o,r,a,s){e={pageIndex:e,id:t,type:i,bounds:n,opacity:o};a&&(e.thickness=a),r&&(e.strokeColor=r),s&&(e.data=s),this.trigger("addSignature",e)},C.prototype.fireSignatureRemove=function(e,t,i,n){this.trigger("removeSignature",{pageIndex:e,id:t,type:i,bounds:n})},C.prototype.fireSignatureMove=function(e,t,i,n,o,r,a,s){this.trigger("moveSignature",{pageIndex:e,id:t,type:i,opacity:n,strokeColor:o,thickness:r,previousPosition:a,currentPosition:s})},C.prototype.fireSignaturePropertiesChange=function(e,t,i,n,o,r,a,s){this.trigger("signaturePropertiesChange",{pageIndex:e,id:t,type:i,isStrokeColorChanged:n,isOpacityChanged:o,isThicknessChanged:r,oldValue:a,newValue:s})},C.prototype.fireSignatureResize=function(e,t,i,n,o,r,a,s){this.trigger("resizeSignature",{pageIndex:e,id:t,type:i,opacity:n,strokeColor:o,thickness:r,currentPosition:a,previousPosition:s})},C.prototype.fireSignatureSelect=function(e,t,i){this.trigger("signatureSelect",{id:e,pageIndex:t,signature:i})},C.prototype.fireSignatureUnselect=function(e,t,i){this.trigger("signatureUnselect",{id:e,pageIndex:t,signature:i})},C.prototype.fireAnnotationSelect=function(e,t,i,n,o,r,a){n=n?{name:"annotationSelect",annotationId:e,pageIndex:t,annotation:i,annotationCollection:n}:{name:"annotationSelect",annotationId:e,pageIndex:t,annotation:i};o&&(n.multiplePageCollection=o),r&&(n.isProgrammaticSelection=r),a&&(n.annotationAddMode=a),G.isBlazor()&&("FreeText"===i.type&&(e={isBold:!1,isItalic:!1,isStrikeout:!1,isUnderline:!1},1===i.fontStyle?e.isBold=!0:2===i.fontStyle?e.isItalic=!0:3===i.fontStyle?e.isStrikeout=!0:4===i.fontStyle&&(e.isUnderline=!0),i.fontStyle=e),this.viewerBase.blazorUIAdaptor.annotationSelect(i.type)),this.trigger("annotationSelect",n)},C.prototype.fireAnnotationUnSelect=function(e,t,i){G.isBlazor()&&this.viewerBase.blazorUIAdaptor.annotationUnSelect(),this.trigger("annotationUnSelect",{name:"annotationUnSelect",annotationId:e,pageIndex:t,annotation:i})},C.prototype.fireAnnotationDoubleClick=function(e,t,i){this.trigger("annotationDoubleClick",{name:"annotationDblClick",annotationId:e,pageIndex:t,annotation:i})},C.prototype.fireTextSelectionStart=function(e){this.isTextSelectionStarted=!0,this.trigger("textSelectionStart",{pageIndex:e})},C.prototype.fireTextSelectionEnd=function(e,t,i){this.isTextSelectionStarted&&(this.trigger("textSelectionEnd",{pageIndex:e,textContent:t,textBounds:i}),this.isTextSelectionStarted=!1)},C.prototype.renderDrawing=function(e,t){G.isNullOrUndefined(t)&&!G.isNullOrUndefined(this.viewerBase.activeElements.activePageID)&&0<=this.viewerBase.activeElements.activePageID&&!this.viewerBase.isPrint&&(t=this.viewerBase.activeElements.activePageID),this.annotation?this.annotation.renderAnnotations(t,null,null,null,e):this.formDesignerModule&&this.formDesignerModule.updateCanvas(t,e)},C.prototype.fireAnnotationResize=function(e,t,i,n,o,r,a,s,l,A){e={name:"annotationResize",pageIndex:e,annotationId:t,annotationType:i,annotationBound:n,annotationSettings:o};r&&(e.textMarkupContent=r,e.textMarkupStartIndex=a,e.textMarkupEndIndex=s),l&&(e.labelSettings=l),A&&(e.multiplePageCollection=A),this.trigger("annotationResize",e)},C.prototype.fireAnnotationMoving=function(e,t,i,n,o,r){this.trigger("annotationMoving",{name:"annotationMoving",pageIndex:e,annotationId:t,annotationType:i,annotationSettings:n,previousPosition:o,currentPosition:r})},C.prototype.fireAnnotationMove=function(e,t,i,n,o,r){this.trigger("annotationMove",{name:"annotationMove",pageIndex:e,annotationId:t,annotationType:i,annotationSettings:n,previousPosition:o,currentPosition:r})},C.prototype.fireAnnotationMouseover=function(e,t,i,n,o,r,a){e={name:"annotationMouseover",annotationId:e,pageIndex:t,annotationType:i,annotationBounds:n,annotation:o,pageX:r.left,pageY:r.top,X:a.left,Y:a.top};G.isBlazor()&&("Perimeter calculation"===o.subject?e.annotationType="Perimeter":"Area calculation"===o.subject?e.annotationType="Area":"Volume calculation"===o.subject?e.annotationType="Volume":"Arrow"===o.subject?e.annotationType="Arrow":"Circle"===o.subject&&(e.annotationType="Circle")),this.trigger("annotationMouseover",e)},C.prototype.fireAnnotationMouseLeave=function(e){this.trigger("annotationMouseLeave",{name:"annotationMouseLeave",pageIndex:e})},C.prototype.firePageMouseover=function(e,t){this.trigger("pageMouseover",{pageX:e,pageY:t})},C.prototype.fireDownloadStart=function(e){e={fileName:e,cancel:!1};return this.trigger("downloadStart",e),!e.cancel},C.prototype.fireDownloadEnd=function(e,t){this.trigger("downloadEnd",{fileName:e,downloadDocument:t})},C.prototype.firePrintStart=function(){return Mn(this,void 0,void 0,function(){var t;return vn(this,function(e){switch(e.label){case 0:return(t={fileName:this.downloadFileName,cancel:!1},G.isBlazor)?[4,this.triggerEvent("printStart",t)]:[3,2];case 1:return t=e.sent()||t,[3,3];case 2:this.triggerEvent("printStart",t),e.label=3;case 3:return t.cancel||this.printModule.print(),[2]}})})},C.prototype.triggerEvent=function(i,n){return Mn(this,void 0,void 0,function(){var t;return vn(this,function(e){switch(e.label){case 0:return[4,this.trigger(i,n)];case 1:return t=e.sent(),[2,t=G.isBlazor&&"string"==typeof t?JSON.parse(t):t]}})})},C.prototype.firePrintEnd=function(e){this.trigger("printEnd",{fileName:e})},C.prototype.fireThumbnailClick=function(e){this.trigger("thumbnailClick",{name:"thumbnailClick",pageNumber:e})},C.prototype.fireCustomToolbarClickEvent=function(t){return Mn(this,void 0,void 0,function(){return vn(this,function(e){return this.trigger("toolbarClick",t),[2]})})},C.prototype.fireBookmarkClick=function(e,t,i,n){this.trigger("bookmarkClick",{name:"bookmarkClick",pageNumber:e,position:t,text:i,fileName:n})},C.prototype.fireImportStart=function(e){this.trigger("importStart",{name:"importAnnotationsStart",importData:e,formFieldData:null})},C.prototype.fireExportStart=function(e){e={name:"exportAnnotationsStart",exportData:e,formFieldData:null,cancel:!1};return this.trigger("exportStart",e),!e.cancel},C.prototype.fireImportSuccess=function(e){this.trigger("importSuccess",{name:"importAnnotationsSuccess",importData:e,formFieldData:null})},C.prototype.fireExportSuccess=function(e,t){this.trigger("exportSuccess",{name:"exportAnnotationsSuccess",exportData:e,fileName:t,formFieldData:null})},C.prototype.fireImportFailed=function(e,t){this.trigger("importFailed",{name:"importAnnotationsFailed",importData:e,errorDetails:t,formFieldData:null})},C.prototype.fireExportFailed=function(e,t){this.trigger("exportFailed",{name:"exportAnnotationsFailed",exportData:e,errorDetails:t,formFieldData:null})},C.prototype.fireFormImportStarted=function(e){this.trigger("importStart",{name:"importFormFieldsStart",importData:null,formFieldData:e})},C.prototype.fireFormExportStarted=function(e){e={name:"exportFormFieldsStart",exportData:null,formFieldData:e,cancel:!1};return this.trigger("exportStart",e),!e.cancel},C.prototype.fireFormImportSuccess=function(e){this.trigger("importSuccess",{name:"importFormFieldsSuccess",importData:e,formFieldData:e})},C.prototype.fireFormExportSuccess=function(e,t){this.trigger("exportSuccess",{name:"exportFormFieldsSuccess",exportData:e,fileName:t,formFieldData:e})},C.prototype.fireFormImportFailed=function(e,t){this.trigger("importFailed",{name:"importFormFieldsfailed",importData:e,errorDetails:t,formFieldData:e})},C.prototype.fireFormExportFailed=function(e,t){this.trigger("exportFailed",{name:"exportFormFieldsFailed",exportData:e,errorDetails:t,formFieldData:e})},C.prototype.fireTextExtractionCompleted=function(e){var t=[];if(this.extractTextOption===v.ExtractTextOption.TextAndBounds)t=e;else if(this.extractTextOption===v.ExtractTextOption.None)t=[];else for(var i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)][parseInt(i.toString(),10)];switch(t[parseInt(i.toString(),10)]||(t[parseInt(i.toString(),10)]={}),this.extractTextOption){case v.ExtractTextOption.TextOnly:t[parseInt(i.toString(),10)][parseInt(i.toString(),10)]={PageSize:n.PageSize,PageText:n.PageText};break;case v.ExtractTextOption.BoundsOnly:t[parseInt(i.toString(),10)][parseInt(i.toString(),10)]={PageSize:n.PageSize,TextData:n.TextData}}}this.trigger("extractTextCompleted",{documentTextCollection:t})},C.prototype.fireTextSearchStart=function(e,t){this.trigger("textSearchStart",{name:"textSearchStart",searchText:e,matchCase:t})},C.prototype.fireTextSearchComplete=function(e,t){this.trigger("textSearchComplete",{name:"textSearchComplete",searchText:e,matchCase:t})},C.prototype.fireTextSearchHighlight=function(e,t,i,n){this.trigger("textSearchHighlight",{name:"textSearchHighlight",searchText:e,matchCase:t,bounds:i,pageNumber:n})},C.prototype.firecustomContextMenuSelect=function(e){this.trigger("customContextMenuSelect",{id:e})},C.prototype.firecustomContextMenuBeforeOpen=function(e){this.trigger("customContextMenuBeforeOpen",{ids:e})},C.prototype.fireKeyboardCustomCommands=function(e){this.trigger("keyboardCustomCommands",{keyboardCommand:e})},C.prototype.firePageOrganizerSaveAsEventArgs=function(e,t){e={fileName:e,downloadDocument:t,cancel:!1};return this.trigger("pageOrganizerSaveAs",e),!e.cancel},C.prototype.renderAdornerLayer=function(e,t,i,n){Ft(e,t,i,n,this)},C.prototype.renderSelector=function(e,t){this.drawing.renderSelector(e,t)},C.prototype.select=function(e,t,i,n){var o,r,a=this.allowServerDataBinding;if(this.enableServerDataBinding(!1),this.annotationModule&&(o=(o=this.annotationModule.textMarkupAnnotationModule)&&o.selectTextMarkupCurrentPage,s=this.selectedItems.annotations[0],o&&(r=this.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation,this.annotationModule.textMarkupAnnotationModule.clearCurrentAnnotationSelection(o,!0),this.fireAnnotationUnSelect(r.annotName,r.pageNumber,r)),i||this.viewerBase.activeElements&&0<=this.viewerBase.activeElements.activePageID&&!this.viewerBase.isNewStamp&&s&&"HandWrittenSignature"!==s.shapeAnnotationType&&"SignatureText"!==s.shapeAnnotationType&&"SignatureImage"!==s.shapeAnnotationType&&this.fireAnnotationUnSelect(s.annotName,s.pageIndex,s)),this.viewerBase.signatureModule){var s=this.selectedItems.annotations[0];if(!i){var l=this.selectedItems;if(l.annotations.length)for(var A=0;A<l.annotations.length;A++){var d=l.annotations[parseInt(A.toString(),10)];this.viewerBase.activeElements&&0<=this.viewerBase.activeElements.activePageID&&(this.viewerBase.isNewSignatureAdded||"HandWrittenSignature"!==s.shapeAnnotationType&&"SignatureText"!==s.shapeAnnotationType&&"SignatureImage"!==s.shapeAnnotationType||this.annotationModule.unselectSignature(d.signatureName,d.pageIndex,d))}}}this.formDesignerModule&&(o=this.selectedItems.formFields[0])&&this.formDesignerModule&&o&&o.formFieldAnnotationType&&(r={name:o.name,id:o.id,value:o.value,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,color:o.color,backgroundColor:o.backgroundColor,borderColor:o.borderColor,thickness:o.thickness,alignment:o.alignment,isReadonly:o.isReadonly,visibility:o.visibility,maxLength:o.maxLength,isRequired:o.isRequired,isPrint:o.isPrint,rotation:o.rotateAngle,tooltip:o.tooltip,options:o.options,isChecked:o.isChecked,isSelected:o.isSelected},this.fireFormFieldUnselectEvent("formFieldUnselect",r,o.pageIndex));var p=this;this.viewerBase.renderedPagesList.forEach(function(e){p.clearSelection(e)}),this.drawing.select(e,t,i,n),this.enableServerDataBinding(a,!0)},C.prototype.getPageTable=function(e){return this.drawing.getPageTable(e)},C.prototype.dragSelectedObjects=function(e,t,i,n,o){return this.drawing.dragSelectedObjects(e,t,i,n,o)},C.prototype.scaleSelectedItems=function(e,t,i){return this.drawing.scaleSelectedItems(e,t,i)},C.prototype.dragConnectorEnds=function(e,t,i,n,o,r,a){return this.drawing.dragConnectorEnds(e,t,i,n,o,null,a)},C.prototype.clearSelection=function(e){var t=this.allowServerDataBinding,i=(this.enableServerDataBinding(!1),this.selectedItems);(0<i.annotations.length?this.selectedItems.annotations:this.selectedItems.formFields)[0];0<i.annotations.length?(i.offsetX=0,i.offsetY=0,i.width=0,i.height=0,i.rotateAngle=0,i.annotations=[],i.wrapper=null):0<i.formFields.length&&(i.offsetX=0,i.offsetY=0,i.width=0,i.height=0,i.rotateAngle=0,i.formFields=[],i.wrapper=null),this.drawing.clearSelectorLayer(e),this.viewerBase.isAnnotationSelect=!1,this.viewerBase.isFormFieldSelect=!1,this.annotationModule&&(i=this.annotationModule.textMarkupAnnotationModule)&&(e=i.selectTextMarkupCurrentPage,this.annotationModule.textMarkupAnnotationModule.clearCurrentSelectedAnnotation(),this.annotationModule.textMarkupAnnotationModule.clearCurrentAnnotationSelection(e)),this.enableServerDataBinding(t,!0)},C.prototype.getPageNumberFromClientPoint=function(e){return this.viewerBase.getPageNumberFromClientPoint(e)},C.prototype.convertClientPointToPagePoint=function(e,t){return this.viewerBase.convertClientPointToPagePoint(e,t)},C.prototype.convertPagePointToClientPoint=function(e,t){return this.viewerBase.convertPagePointToClientPoint(e,t)},C.prototype.convertPagePointToScrollingPoint=function(e,t){return this.viewerBase.convertPagePointToScrollingPoint(e,t)},C.prototype.zoomToRect=function(e){this.magnificationModule.zoomToRect(e)},C.prototype.add=function(e){return this.drawing.add(e)},C.prototype.remove=function(e){return this.drawing.remove(e)},C.prototype.copy=function(){return this.annotation?this.annotation.isShapeCopied=!0:this.formDesigner&&this.designerMode&&(this.formDesigner.isShapeCopied=!0),this.drawing.copy()},C.prototype.rotate=function(e,t){return this.drawing.rotate(this.selectedItems,e,null,t)},C.prototype.paste=function(e){var t;return this.viewerBase.activeElements.activePageID&&(t=this.viewerBase.activeElements.activePageID),this.drawing.paste(e,t||0)},C.prototype.refresh=function(){for(var e=0;e<this.annotations.length;e++){if(void 0!==this.zIndexTable.length){for(var t=0;t<this.zIndexTable.length;t++){for(var i=this.zIndexTable[parseInt(t.toString(),10)].objects,n=0;n<i.length;n++)i.splice(n,1);delete this.zIndexTable[parseInt(t.toString(),10)]}this.annotations[parseInt(e.toString(),10)]&&delete this.annotations[parseInt(e.toString(),10)],this.selectedItems.annotations&&this.selectedItems.annotations[parseInt(e.toString(),10)]&&delete this.selectedItems.annotations[parseInt(e.toString(),10)],this.zIndexTable=[],this.renderDrawing()}this.annotations&&0!==this.annotations.length&&(this.annotations.length=0,this.selectedItems.annotations.length=0)}},C.prototype.cut=function(){var e;return this.viewerBase.activeElements.activePageID&&(e=this.viewerBase.activeElements.activePageID),this.annotation?this.annotation.isShapeCopied=!0:this.formDesigner&&this.designerMode&&(this.formDesigner.isShapeCopied=!0),this.drawing.cut(e||0)},C.prototype.nodePropertyChange=function(e,t){this.drawing.nodePropertyChange(e,t)},C.prototype.enableServerDataBinding=function(e,t){void 0===t&&(t=!1),G.isBlazor()&&(this.allowServerDataBinding=e,t)&&(this.bulkChanges={})},C.prototype.checkBoundaryConstraints=function(e,t,i,n,o,r){return this.drawing.checkBoundaryConstraints(e,t,i,n,o,r)},C.prototype.addCustomMenu=function(e,t,i){var n;G.isNullOrUndefined(e)||((n=this.customContextMenuItems).push.apply(n,e),this.showCustomContextMenuBottom=i),this.disableDefaultContextMenu=t},f([G.Property()],C.prototype,"serviceUrl",void 0),f([G.Property(0)],C.prototype,"pageCount",void 0),f([G.Property(1)],C.prototype,"printScaleFactor",void 0),f([G.Property(!1)],C.prototype,"isDocumentEdited",void 0),f([G.Property(0)],C.prototype,"currentPageNumber",void 0),f([G.Property()],C.prototype,"documentPath",void 0),f([G.Property(null)],C.prototype,"exportAnnotationFileName",void 0),f([G.Property()],C.prototype,"downloadFileName",void 0),f([G.Property("auto")],C.prototype,"height",void 0),f([G.Property("auto")],C.prototype,"width",void 0),f([G.Property(!0)],C.prototype,"enableToolbar",void 0),f([G.Property(1)],C.prototype,"retryCount",void 0),f([G.Property([500])],C.prototype,"retryStatusCodes",void 0),f([G.Property(0)],C.prototype,"retryTimeout",void 0),f([G.Property(2)],C.prototype,"initialRenderPages",void 0),f([G.Property(!0)],C.prototype,"showNotificationDialog",void 0),f([G.Property(!0)],C.prototype,"enableNavigationToolbar",void 0),f([G.Property(!0)],C.prototype,"enableCommentPanel",void 0),f([G.Property(!1)],C.prototype,"isCommandPanelOpen",void 0),f([G.Property(!1)],C.prototype,"enableTextMarkupResizer",void 0),f([G.Property(!1)],C.prototype,"enableMultiLineOverlap",void 0),f([G.Property(!1)],C.prototype,"isValidFreeText",void 0),f([G.Property(!1)],C.prototype,"isAnnotationToolbarOpen",void 0),f([G.Property(!1)],C.prototype,"isAnnotationToolbarVisible",void 0),f([G.Property(!1)],C.prototype,"isFormDesignerToolbarVisible",void 0),f([G.Property(!1)],C.prototype,"enableMultiPageAnnotation",void 0),f([G.Property(!0)],C.prototype,"enableDownload",void 0),f([G.Property(!0)],C.prototype,"enablePrint",void 0),f([G.Property(!0)],C.prototype,"enablePrintRotation",void 0),f([G.Property([])],C.prototype,"customFonts",void 0),f([G.Property(!0)],C.prototype,"enableThumbnail",void 0),f([G.Property(!0)],C.prototype,"enablePageOrganizer",void 0),f([G.Property(!1)],C.prototype,"isPageOrganizerOpen",void 0),f([G.Property({canDelete:!0,canInsert:!0,canRotate:!0,canCopy:!0,canRearrange:!0,canImport:!0})],C.prototype,"pageOrganizerSettings",void 0),f([G.Property(!1)],C.prototype,"isThumbnailViewOpen",void 0),f([G.Property(!1)],C.prototype,"isSignatureEditable",void 0),f([G.Property(!0)],C.prototype,"enableBookmark",void 0),f([G.Property("TextAndBounds")],C.prototype,"extractTextOption",void 0),f([G.Property(!1)],C.prototype,"enableLocalStorage",void 0),f([G.Property(!1)],C.prototype,"enableBookmarkStyles",void 0),f([G.Property(!0)],C.prototype,"enableHyperlink",void 0),f([G.Property(!0)],C.prototype,"enableHandwrittenSignature",void 0),f([G.Property(!0)],C.prototype,"enableInkAnnotation",void 0),f([G.Property(!1)],C.prototype,"restrictZoomRequest",void 0),f([G.Property("CurrentTab")],C.prototype,"hyperlinkOpenState",void 0),f([G.Property("RightClick")],C.prototype,"contextMenuOption",void 0),f([G.Property([])],C.prototype,"disableContextMenuItems",void 0),f([G.Property({name:"",id:"",type:"",isReadOnly:!1,isSelected:!1,isChecked:!1,value:"",signatureType:[""],fontName:"",fontFamily:"Helvetica",fontSize:10,fontStyle:"None",color:"black",backgroundColor:"white",alignment:"Left",visibility:"visible",maxLength:0,isRequired:!1,isPrint:!1,tooltip:"",pageIndex:-1,options:[],signatureIndicatorSettings:{opacity:1,backgroundColor:"orange",width:19,height:10,fontSize:10,text:null,color:"black",customData:""}})],C.prototype,"formFieldCollections",void 0),f([G.Property(!0)],C.prototype,"enableNavigation",void 0),f([G.Property(!0)],C.prototype,"enableAutoComplete",void 0),f([G.Property(!0)],C.prototype,"enableMagnification",void 0),f([G.Property(!1)],C.prototype,"enableShapeLabel",void 0),f([G.Property(!0)],C.prototype,"enableImportAnnotationMeasurement",void 0),f([G.Property(!0)],C.prototype,"enablePinchZoom",void 0),f([G.Property(!0)],C.prototype,"enableTextSelection",void 0),f([G.Property(!0)],C.prototype,"enableTextSearch",void 0),f([G.Property(!0)],C.prototype,"enableAnnotation",void 0),f([G.Property(!0)],C.prototype,"enableFormFields",void 0),f([G.Property(!0)],C.prototype,"enableFormDesigner",void 0),f([G.Property(!1)],C.prototype,"designerMode",void 0),f([G.Property(!1)],C.prototype,"enableFormFieldsValidation",void 0),f([G.Property(!1)],C.prototype,"isFormFieldDocument",void 0),f([G.Property(!1)],C.prototype,"enableDesktopMode",void 0),f([G.Property(!1)],C.prototype,"hideSaveSignature",void 0),f([G.Property(!0)],C.prototype,"enableFreeText",void 0),f([G.Property(!0)],C.prototype,"enableTextMarkupAnnotation",void 0),f([G.Property(!0)],C.prototype,"enableShapeAnnotation",void 0),f([G.Property(!0)],C.prototype,"enableMeasureAnnotation",void 0),f([G.Property(!0)],C.prototype,"enableStampAnnotations",void 0),f([G.Property(!0)],C.prototype,"enableStickyNotesAnnotation",void 0),f([G.Property(!0)],C.prototype,"enableAnnotationToolbar",void 0),f([G.Property(!0)],C.prototype,"enableFormDesignerToolbar",void 0),f([G.Property(!1)],C.prototype,"isBookmarkPanelOpen",void 0),f([G.Property(!1)],C.prototype,"isInitialFieldToolbarSelection",void 0),f([G.Property("TextSelection")],C.prototype,"interactionMode",void 0),f([G.Property("Default")],C.prototype,"zoomMode",void 0),f([G.Property("Default")],C.prototype,"signatureFitMode",void 0),f([G.Property("Default")],C.prototype,"printMode",void 0),f([G.Property(0)],C.prototype,"zoomValue",void 0),f([G.Property(10)],C.prototype,"minZoom",void 0),f([G.Property(400)],C.prototype,"maxZoom",void 0),f([G.Property(!0)],C.prototype,"enableZoomOptimization",void 0),f([G.Property(!1)],C.prototype,"isExtractText",void 0),f([G.Property(!1)],C.prototype,"isMaintainSelection",void 0),f([G.Property(!1)],C.prototype,"hideEmptyDigitalSignatureFields",void 0),f([G.Property(!0)],C.prototype,"showDigitalSignatureAppearance",void 0),f([G.Property(!0)],C.prototype,"enableAccessibilityTags",void 0),f([G.Property(!0)],C.prototype,"enableHtmlSanitizer",void 0),f([G.Property("M/d/yyyy h:mm:ss a")],C.prototype,"dateTimeFormat",void 0),f([G.Property("")],C.prototype,"resourceUrl",void 0),f([G.Property({showTooltip:!0,toolbarItems:["OpenOption","UndoRedoTool","PageNavigationTool","MagnificationTool","PanTool","SelectionTool","CommentTool","SubmitForm","AnnotationEditTool","FormDesignerEditTool","FreeTextAnnotationOption","InkAnnotationOption","ShapeAnnotationOption","StampAnnotation","SignatureOption","SearchOption","PrintOption","DownloadOption"],annotationToolbarItems:["HighlightTool","UnderlineTool","StrikethroughTool","ColorEditTool","OpacityEditTool","AnnotationDeleteTool","StampAnnotationTool","HandWrittenSignatureTool","InkAnnotationTool","ShapeTool","CalibrateTool","StrokeColorEditTool","ThicknessEditTool","FreeTextAnnotationTool","FontFamilyAnnotationTool","FontSizeAnnotationTool","FontStylesAnnotationTool","FontAlignAnnotationTool","FontColorAnnotationTool","CommentPanelTool"],formDesignerToolbarItems:["TextboxTool","PasswordTool","CheckBoxTool","RadioButtonTool","DropdownTool","ListboxTool","DrawSignatureTool","DeleteTool"]})],C.prototype,"toolbarSettings",void 0),f([G.Property({ajaxHeaders:[],withCredentials:!1})],C.prototype,"ajaxRequestSettings",void 0),f([G.Property({customStampName:"",customStampImageSource:""})],C.prototype,"customStamp",void 0),f([G.Property({load:"Load",renderPages:"RenderPdfPages",unload:"Unload",download:"Download",renderThumbnail:"RenderThumbnailImages",print:"PrintImages",renderComments:"RenderAnnotationComments",importAnnotations:"ImportAnnotations",exportAnnotations:"ExportAnnotations",importFormFields:"ImportFormFields",exportFormFields:"ExportFormFields",renderTexts:"RenderPdfTexts",validatePassword:"ValidatePassword"})],C.prototype,"serverActionSettings",void 0),f([G.Property({name:"",isReadOnly:!1,visibility:"visible",isRequired:!1,isPrint:!0,tooltip:"",thickness:1,signatureIndicatorSettings:{opacity:1,backgroundColor:"orange",width:19,height:10,fontSize:10,text:null,color:"black"},signatureDialogSettings:{displayMode:v.DisplayMode.Draw|v.DisplayMode.Text|v.DisplayMode.Upload,hideSaveSignature:!1}})],C.prototype,"signatureFieldSettings",void 0),f([G.Property({name:"",isReadOnly:!1,visibility:"visible",isRequired:!1,isPrint:!0,tooltip:"",thickness:1,initialIndicatorSettings:{opacity:1,backgroundColor:"orange",width:19,height:10,fontSize:10,text:null,color:"black"},initialDialogSettings:{displayMode:v.DisplayMode.Draw|v.DisplayMode.Text|v.DisplayMode.Upload,hideSaveSignature:!1}})],C.prototype,"initialFieldSettings",void 0),f([G.Property({opacity:1,color:"#FFDF56",author:"Guest",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges},isLock:!1,enableMultiPageAnnotation:!1,enableTextMarkupResizer:!1,allowedInteractions:["None"],isPrint:!0,subject:"Highlight"})],C.prototype,"highlightSettings",void 0),f([G.Property({opacity:1,color:"#ff0000",author:"Guest",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges},isLock:!1,enableMultiPageAnnotation:!1,enableTextMarkupResizer:!1,allowedInteractions:["None"],isPrint:!0,subject:"Strikethrough"})],C.prototype,"strikethroughSettings",void 0),f([G.Property({opacity:1,color:"#00ff00",author:"Guest",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges},isLock:!1,enableMultiPageAnnotation:!1,enableTextMarkupResizer:!1,allowedInteractions:["None"],isPrint:!0,subject:"Underline"})],C.prototype,"underlineSettings",void 0),f([G.Property({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,borderDashArray:0,lineHeadStartStyle:"None",lineHeadEndStyle:"None",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Line"})],C.prototype,"lineSettings",void 0),f([G.Property({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,borderDashArray:0,lineHeadStartStyle:"Closed",lineHeadEndStyle:"Closed",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Arrow"})],C.prototype,"arrowSettings",void 0),f([G.Property({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Rectangle"})],C.prototype,"rectangleSettings",void 0),f([G.Property({opacity:1,fillColor:"#ffffff00",borderColor:"#ff0000",fontColor:"#000",fontSize:16,labelHeight:24.6,labelMaxWidth:151,labelContent:"Label"})],C.prototype,"shapeLabelSettings",void 0),f([G.Property({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Circle"})],C.prototype,"circleSettings",void 0),f([G.Property({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Polygon"})],C.prototype,"polygonSettings",void 0),f([G.Property({opacity:1,author:"Guest",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,dynamicStamps:[v.DynamicStampItem.Revised,v.DynamicStampItem.Reviewed,v.DynamicStampItem.Received,v.DynamicStampItem.Confidential,v.DynamicStampItem.Approved,v.DynamicStampItem.NotApproved],signStamps:[v.SignStampItem.Witness,v.SignStampItem.InitialHere,v.SignStampItem.SignHere,v.SignStampItem.Accepted,v.SignStampItem.Rejected],standardBusinessStamps:[v.StandardBusinessStampItem.Approved,v.StandardBusinessStampItem.NotApproved,v.StandardBusinessStampItem.Draft,v.StandardBusinessStampItem.Final,v.StandardBusinessStampItem.Completed,v.StandardBusinessStampItem.Confidential,v.StandardBusinessStampItem.ForPublicRelease,v.StandardBusinessStampItem.NotForPublicRelease,v.StandardBusinessStampItem.ForComment,v.StandardBusinessStampItem.Void,v.StandardBusinessStampItem.PreliminaryResults,v.StandardBusinessStampItem.InformationOnly],allowedInteractions:["None"],isPrint:!0,subject:""})],C.prototype,"stampSettings",void 0),f([G.Property({opacity:1,author:"Guest",width:0,height:0,left:0,top:0,minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,enableCustomStamp:!0,allowedInteractions:["None"],isPrint:!0,subject:""})],C.prototype,"customStampSettings",void 0),f([G.Property({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,borderDashArray:0,lineHeadStartStyle:"Closed",lineHeadEndStyle:"Closed",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,leaderLength:40,resizeCursorType:v.CursorType.move,allowedInteractions:["None"],isPrint:!0,subject:"Distance calculation"})],C.prototype,"distanceSettings",void 0),f([G.Property({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,borderDashArray:0,lineHeadStartStyle:"Open",lineHeadEndStyle:"Open",minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},allowedInteractions:["None"],isPrint:!0,subject:"Perimeter calculation"})],C.prototype,"perimeterSettings",void 0),f([G.Property({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},allowedInteractions:["None"],isPrint:!0,subject:"Area calculation"})],C.prototype,"areaSettings",void 0),f([G.Property({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Radius calculation"})],C.prototype,"radiusSettings",void 0),f([G.Property({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},allowedInteractions:["None"],isPrint:!0,subject:"Volume calculation"})],C.prototype,"volumeSettings",void 0),f([G.Property({author:"Guest",opacity:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Sticky Note"})],C.prototype,"stickyNotesSettings",void 0),f([G.Property({opacity:1,fillColor:"#ffffff00",borderColor:"#ffffff00",author:"Guest",borderWidth:1,width:151,fontSize:16,height:24.6,fontColor:"#000",fontFamily:"Helvetica",defaultText:"Type Here",textAlignment:"Left",fontStyle:v.FontStyle.None,allowTextOnly:!1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,isReadonly:!1,enableAutoFit:!1,subject:"Text Box"})],C.prototype,"freeTextSettings",void 0),f([G.Property({conversionUnit:"in",displayUnit:"in",scaleRatio:1,depth:96})],C.prototype,"measurementSettings",void 0),f([G.Property({selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null})],C.prototype,"annotationSelectorSettings",void 0),f([G.Property({searchHighlightColor:"#fdd835",searchColor:"#8b4c12"})],C.prototype,"textSearchColorSettings",void 0),f([G.Property({displayMode:v.DisplayMode.Draw|v.DisplayMode.Text|v.DisplayMode.Upload,hideSaveSignature:!1})],C.prototype,"signatureDialogSettings",void 0),f([G.Property({displayMode:v.DisplayMode.Draw|v.DisplayMode.Text|v.DisplayMode.Upload,hideSaveSignature:!1})],C.prototype,"initialDialogSettings",void 0),f([G.Property({signatureItem:["Signature","Initial"],saveSignatureLimit:1,saveInitialLimit:1,opacity:1,strokeColor:"#000000",width:150,height:100,thickness:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},allowedInteractions:["None"],signatureDialogSettings:{displayMode:v.DisplayMode.Draw|v.DisplayMode.Text|v.DisplayMode.Upload,hideSaveSignature:!1},initialDialogSettings:{displayMode:v.DisplayMode.Draw|v.DisplayMode.Text|v.DisplayMode.Upload,hideSaveSignature:!1}})],C.prototype,"handWrittenSignatureSettings",void 0),f([G.Property({author:"Guest",opacity:1,strokeColor:"#ff0000",thickness:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:v.AnnotationResizerLocation.Corners|v.AnnotationResizerLocation.Edges,resizerCursorType:null},isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Ink"})],C.prototype,"inkAnnotationSettings",void 0),f([G.Property({author:"Guest",minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,skipPrint:!1,skipDownload:!1,allowedInteractions:["None"],subject:""})],C.prototype,"annotationSettings",void 0),f([G.Property({enableTileRendering:!0,x:0,y:0})],C.prototype,"tileRenderingSettings",void 0),f([G.Property({delayPageRequestTimeOnScroll:100})],C.prototype,"scrollSettings",void 0),f([G.Property({name:"",value:"",fontFamily:"Helvetica",fontSize:10,fontStyle:"None",color:"black",borderColor:"black",backgroundColor:"white",alignment:"Left",isReadOnly:!1,visibility:"visible",maxLength:0,isRequired:!1,isPrint:!0,tooltip:"",thickness:1,isMultiline:!1,customData:""})],C.prototype,"textFieldSettings",void 0),f([G.Property({name:"",value:"",fontFamily:"Helvetica",fontSize:10,fontStyle:"None",color:"black",borderColor:"black",backgroundColor:"white",alignment:"Left",isReadOnly:!1,visibility:"visible",maxLength:0,isRequired:!1,isPrint:!0,tooltip:"",thickness:1,customData:""})],C.prototype,"passwordFieldSettings",void 0),f([G.Property({name:"",value:"",isChecked:!1,backgroundColor:"white",isReadOnly:!1,visibility:"visible",isPrint:!0,tooltip:"",isRequired:!1,thickness:1,borderColor:"black",customData:""})],C.prototype,"checkBoxFieldSettings",void 0),f([G.Property({name:"",value:"",isSelected:!1,backgroundColor:"white",isReadOnly:!1,visibility:"visible",isPrint:!0,tooltip:"",isRequired:!1,thickness:1,borderColor:"black",customData:""})],C.prototype,"radioButtonFieldSettings",void 0),f([G.Property({name:"",fontFamily:"Helvetica",fontSize:10,fontStyle:"None",color:"black",backgroundColor:"white",alignment:"Left",isReadOnly:!1,visibility:"visible",isRequired:!1,isPrint:!0,tooltip:"",options:[],thickness:1,borderColor:"black",customData:""})],C.prototype,"DropdownFieldSettings",void 0),f([G.Property({name:"",fontFamily:"Helvetica",fontSize:10,fontStyle:"None",color:"black",backgroundColor:"white",alignment:"Left",isReadOnly:!1,visibility:"visible",isRequired:!1,isPrint:!1,tooltip:"",options:[],thickness:1,borderColor:"black",customData:""})],C.prototype,"listBoxFieldSettings",void 0),f([G.Property({contextMenuAction:"RightClick",contextMenuItems:[v.ContextMenuItem.Comment,v.ContextMenuItem.Copy,v.ContextMenuItem.Cut,v.ContextMenuItem.Delete,v.ContextMenuItem.Highlight,v.ContextMenuItem.Paste,v.ContextMenuItem.Properties,v.ContextMenuItem.ScaleRatio,v.ContextMenuItem.Strikethrough,v.ContextMenuItem.Underline]})],C.prototype,"contextMenuSettings",void 0),f([G.Property([])],C.prototype,"customContextMenuItems",void 0),f([G.Property(!1)],C.prototype,"disableDefaultContextMenu",void 0),f([G.Property(!1)],C.prototype,"showCustomContextMenuBottom",void 0),f([G.Complex({},Qa)],C.prototype,"commandManager",void 0),f([G.Complex({},se)],C.prototype,"selectedItems",void 0),f([G.Event()],C.prototype,"created",void 0),f([G.Event()],C.prototype,"resourcesLoaded",void 0),f([G.Event()],C.prototype,"documentLoad",void 0),f([G.Event()],C.prototype,"documentUnload",void 0),f([G.Event()],C.prototype,"documentLoadFailed",void 0),f([G.Event()],C.prototype,"ajaxRequestFailed",void 0),f([G.Event()],C.prototype,"ajaxRequestSuccess",void 0),f([G.Event()],C.prototype,"pageRenderComplete",void 0),f([G.Event()],C.prototype,"validateFormFields",void 0),f([G.Event()],C.prototype,"pageClick",void 0),f([G.Event()],C.prototype,"pageChange",void 0),f([G.Event()],C.prototype,"hyperlinkClick",void 0),f([G.Event()],C.prototype,"hyperlinkMouseOver",void 0),f([G.Event()],C.prototype,"zoomChange",void 0),f([G.Event()],C.prototype,"annotationAdd",void 0),f([G.Event()],C.prototype,"annotationRemove",void 0),f([G.Event()],C.prototype,"annotationPropertiesChange",void 0),f([G.Event()],C.prototype,"annotationResize",void 0),f([G.Event()],C.prototype,"addSignature",void 0),f([G.Event()],C.prototype,"removeSignature",void 0),f([G.Event()],C.prototype,"moveSignature",void 0),f([G.Event()],C.prototype,"signaturePropertiesChange",void 0),f([G.Event()],C.prototype,"resizeSignature",void 0),f([G.Event()],C.prototype,"signatureSelect",void 0),f([G.Event()],C.prototype,"signatureUnselect",void 0),f([G.Event()],C.prototype,"annotationSelect",void 0),f([G.Event()],C.prototype,"annotationUnSelect",void 0),f([G.Event()],C.prototype,"annotationDoubleClick",void 0),f([G.Event()],C.prototype,"annotationMove",void 0),f([G.Event()],C.prototype,"annotationMoving",void 0),f([G.Event()],C.prototype,"annotationMouseover",void 0),f([G.Event()],C.prototype,"annotationMouseLeave",void 0),f([G.Event()],C.prototype,"pageMouseover",void 0),f([G.Event()],C.prototype,"importStart",void 0),f([G.Event()],C.prototype,"exportStart",void 0),f([G.Event()],C.prototype,"importSuccess",void 0),f([G.Event()],C.prototype,"exportSuccess",void 0),f([G.Event()],C.prototype,"importFailed",void 0),f([G.Event()],C.prototype,"exportFailed",void 0),f([G.Event()],C.prototype,"extractTextCompleted",void 0),f([G.Event()],C.prototype,"thumbnailClick",void 0),f([G.Event()],C.prototype,"bookmarkClick",void 0),f([G.Event()],C.prototype,"toolbarClick",void 0),f([G.Event()],C.prototype,"textSelectionStart",void 0),f([G.Event()],C.prototype,"textSelectionEnd",void 0),f([G.Event()],C.prototype,"downloadStart",void 0),f([G.Event()],C.prototype,"buttonFieldClick",void 0),f([G.Event()],C.prototype,"formFieldClick",void 0),f([G.Event()],C.prototype,"downloadEnd",void 0),f([G.Event()],C.prototype,"printStart",void 0),f([G.Event()],C.prototype,"printEnd",void 0),f([G.Event()],C.prototype,"textSearchStart",void 0),f([G.Event()],C.prototype,"textSearchComplete",void 0),f([G.Event()],C.prototype,"textSearchHighlight",void 0),f([G.Event()],C.prototype,"ajaxRequestInitiate",void 0),f([G.Event()],C.prototype,"pageRenderInitiate",void 0),f([G.Event()],C.prototype,"commentAdd",void 0),f([G.Event()],C.prototype,"commentEdit",void 0),f([G.Event()],C.prototype,"commentDelete",void 0),f([G.Event()],C.prototype,"commentSelect",void 0),f([G.Event()],C.prototype,"commentStatusChanged",void 0),f([G.Event()],C.prototype,"beforeAddFreeText",void 0),f([G.Event()],C.prototype,"formFieldFocusOut",void 0),f([G.Event()],C.prototype,"formFieldAdd",void 0),f([G.Event()],C.prototype,"formFieldRemove",void 0),f([G.Event()],C.prototype,"formFieldPropertiesChange",void 0),f([G.Event()],C.prototype,"formFieldMouseLeave",void 0),f([G.Event()],C.prototype,"formFieldMouseover",void 0),f([G.Event()],C.prototype,"formFieldMove",void 0),f([G.Event()],C.prototype,"formFieldResize",void 0),f([G.Event()],C.prototype,"formFieldSelect",void 0),f([G.Event()],C.prototype,"formFieldUnselect",void 0),f([G.Event()],C.prototype,"formFieldDoubleClick",void 0),f([G.Event()],C.prototype,"customContextMenuSelect",void 0),f([G.Event()],C.prototype,"customContextMenuBeforeOpen",void 0),f([G.Event()],C.prototype,"keyboardCustomCommands",void 0),f([G.Event()],C.prototype,"pageOrganizerSaveAs",void 0),f([G.Collection([],ee)],C.prototype,"annotations",void 0),f([G.Collection([],ie)],C.prototype,"formFields",void 0),f([G.Property()],C.prototype,"drawingObject",void 0);var Ta,u=f([G.NotifyPropertyChanges],C);function C(e,t){e=Ta.call(this,e,t)||this;return e.isFormFieldsLoaded=!1,e.signatureCollection=[],e.fileName=null,e.zIndex=-1,e.nameTable={},e.clipboardData={},e.zIndexTable=[],e.isTextSelectionStarted=!1,e.touchPadding=10,e.paddingDifferenceValue=10,e.defaultLocale={PdfViewer:"PDF Viewer",Cancel:"Cancel","Download file":"Download file",Download:"Download","Enter Password":"This document is password protected. Please enter a password.","File Corrupted":"File Corrupted","File Corrupted Content":"The file is corrupted and cannot be opened.","Fit Page":"Fit Page","Fit Width":"Fit Width",Automatic:"Automatic","Go To First Page":"Show first page","Invalid Password":"Incorrect Password. Please try again.","Next Page":"Show next page",OK:"OK",Open:"Open file","Page Number":"Current page number","Previous Page":"Show previous page","Go To Last Page":"Show last page",Zoom:"Zoom","Zoom In":"Zoom in","Zoom Out":"Zoom out","Page Thumbnails":"Page Thumbnails",Bookmarks:"Bookmarks",Print:"Print file","Organize Pages":"Organize Pages","Insert Right":"Insert Right","Insert Left":"Insert Left",Total:"Total",Pages:"Pages","Rotate Right":"Rotate Right","Rotate Left":"Rotate Left","Delete Page":"Delete Page","Delete Pages":"Delete Pages","Copy Page":"Copy Page","Copy Pages":"Copy Pages",Save:"Save","Save As":"Save As","Select All":"Select All","Import Document":"Import Document","Password Protected":"Password Required",Copy:"Copy","Text Selection":"Text selection tool",Panning:"Pan mode","Text Search":"Find text","Find in document":"Find in document","Match case":"Match case","Match any word":"Match any word",Apply:"Apply",GoToPage:"Go to Page","No Matches":"PDF Viewer has finished searching the document. No matches were found.","No More Matches":"PDF Viewer has finished searching the document. No more matches were found.","No Search Matches":"No matches found","No More Search Matches":"No more matches found","Exact Matches":"EXACT MATCHES","Total Matches":"TOTAL MATCHES",Undo:"Undo",Redo:"Redo",Annotation:"Add or Edit annotations",FormDesigner:"Add and Edit Form Fields",Highlight:"Highlight Text",Underline:"Underline Text",Strikethrough:"Strikethrough Text",Delete:"Delete annotation",Opacity:"Opacity","Color edit":"Change Color","Opacity edit":"Change Opacity","Highlight context":"Highlight","Underline context":"Underline","Strikethrough context":"Strikethrough","Server error":"Web-service is not listening. PDF Viewer depends on web-service for all it's features. Please start the web service to continue.","Client error":"Client-side error is found. Please check the custom headers provided in the AjaxRequestSettings property and web action methods in the ServerActionSettings property.","Open text":"Open","First text":"First Page","Previous text":"Previous Page","Next text":"Next Page","Last text":"Last Page","Zoom in text":"Zoom In","Zoom out text":"Zoom Out","Selection text":"Selection","Pan text":"Pan","Print text":"Print","Search text":"Search","Annotation Edit text":"Edit Annotation","FormDesigner Edit text":"Add and Edit Form Fields","Line Thickness":"Line Thickness","Line Properties":"Line Properties","Start Arrow":"Start Arrow","End Arrow":"End Arrow","Line Style":"Line Style","Fill Color":"Fill Color","Line Color":"Line Color",None:"None","Open Arrow":"Open","Closed Arrow":"Closed","Round Arrow":"Round","Square Arrow":"Square","Diamond Arrow":"Diamond",Butt:"Butt",Cut:"Cut",Paste:"Paste","Delete Context":"Delete",Properties:"Properties","Add Stamp":"Add Stamp","Add Shapes":"Add Shapes","Stroke edit":"Change Stroke Color","Change thickness":"Change Border Thickness","Add line":"Add Line","Add arrow":"Add Arrow","Add rectangle":"Add Rectangle","Add circle":"Add Circle","Add polygon":"Add Polygon","Add Comments":"Add Comments",Comments:"Comments",SubmitForm:"Submit Form","No Comments Yet":"No Comments Yet",Accepted:"Accepted",Completed:"Completed",Cancelled:"Cancelled",Rejected:"Rejected","Leader Length":"Leader Length","Scale Ratio":"Scale Ratio",Calibrate:"Calibrate","Calibrate Distance":"Calibrate Distance","Calibrate Perimeter":"Calibrate Perimeter","Calibrate Area":"Calibrate Area","Calibrate Radius":"Calibrate Radius","Calibrate Volume":"Calibrate Volume",Depth:"Depth",Closed:"Closed",Round:"Round",Square:"Square",Diamond:"Diamond",Edit:"Edit",Comment:"Comment","Comment Panel":"Comment Panel","Set Status":"Set Status",Post:"Post",Page:"Page","Add a comment":"Add a comment","Add a reply":"Add a reply","Import Annotations":"Import annotations from JSON file","Export Annotations":"Export annotation to JSON file","Export XFDF":"Export annotation to XFDF file","Import XFDF":"Import annotations from XFDF file",Add:"Add",Clear:"Clear",Bold:"Bold",Italic:"Italic",Strikethroughs:"Strikethrough",Underlines:"Underline",Superscript:"Superscript",Subscript:"Subscript","Align left":"Align Left","Align right":"Align Right",Center:"Center",Justify:"Justify","Font color":"Font Color","Text Align":"Text Align","Text Properties":"Font Style",SignatureFieldDialogHeaderText:"Add Signature",HandwrittenSignatureDialogHeaderText:"Add Signature",InitialFieldDialogHeaderText:"Add Initial",HandwrittenInitialDialogHeaderText:"Add Initial","Draw Ink":"Draw Ink",Create:"Create","Font family":"Font Family","Font size":"Font Size","Free Text":"Free Text","Import Failed":"Invalid JSON file type or file name; please select a valid JSON file","Import PDF Failed":"Invalid PDF file type or PDF file not found. Please select a valid PDF file","File not found":"Imported JSON file is not found in the desired location","Export Failed":"Export annotations action has failed; please ensure annotations are added properly",of:"of ",Dynamic:"Dynamic","Standard Business":"Standard Business","Sign Here":"Sign Here","Custom Stamp":"Custom Stamp","Enter Signature as Name":"Enter your name","Draw-hand Signature":"DRAW","Type Signature":"TYPE","Upload Signature":"UPLOAD","Browse Signature Image":"BROWSE","Save Signature":"Save Signature","Save Initial":"Save Initial",Textbox:"Textbox",Password:"Password","Check Box":"Checkbox","Radio Button":"Radio Button",Dropdown:"Drop Down","List Box":"List Box",Signature:"Signature","Delete FormField":"Delete Form Field","Textbox Properties":"Textbox Properties",Name:"Name",Tooltip:"Tooltip",Value:"Value","Form Field Visibility":"Form Field Visibility","Read Only":"Read Only",Required:"Required",Checked:"Checked","Show Printing":"Show Printing",Formatting:"Format",Fill:"Fill",Border:"Border","Border Color":"Border Color",Thickness:"Thickness","Max Length":"Max Length","List Item":"Item Name","Export Value":"Item Value","Dropdown Item List":"Dropdown Item List","List Box Item List":"List Box Item List",General:"GENERAL",Appearance:"APPEARANCE",Options:"OPTIONS","Delete Item":"Delete",Up:"Up",Down:"Down",Multiline:"Multiline",Revised:"Revised",Reviewed:"Reviewed",Received:"Received",Confidential:"Confidential",Approved:"Approved","Not Approved":"Not Approved",Witness:"Witness","Initial Here":"Initial Here",Draft:"Draft",Final:"Final","For Public Release":"For Public Release","Not For Public Release":"Not For Public Release","For Comment":"For Comment",Void:"Void","Preliminary Results":"Preliminary Results","Information Only":"Information Only",in:"in",m:"m",ft_in:"ft_in",ft:"ft",p:"p",cm:"cm",mm:"mm",pt:"pt",cu:"cu",sq:"sq",Initial:"Initial"},e.viewerBase=new F(e),e.drawing=new Ye(e),e.pdfRendererModule=new Xa(e,e.viewerBase),e}ka.prototype.openBookmarkPane=function(){this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.openBookmarkcontentInitially()},ka.prototype.closeBookmarkPane=function(){this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.closeBookmarkPane()},ka.prototype.createRequestForBookmarks=function(){var e,t=this,i={hashId:this.pdfViewerBase.hashId,action:"Bookmarks",elementId:this.pdfViewer.element.id,uniqueId:this.pdfViewerBase.documentId};this.pdfViewerBase.jsonDocumentId&&(i.documentId=this.pdfViewerBase.jsonDocumentId),this.pdfViewer.enableBookmarkStyles&&(i.bookmarkStyles=this.pdfViewer.enableBookmarkStyles),this.bookmarkRequestHandler=new Bn(this.pdfViewer),this.bookmarkRequestHandler.url=t.pdfViewer.serviceUrl+"/Bookmarks",this.bookmarkRequestHandler.responseType="json",this.pdfViewerBase.clientSideRendering?(e=this.pdfViewer.pdfRendererModule.getBookmarks(i),this.renderBookmarksOnSuccess(e,t)):(this.pdfViewerBase.requestCollection.push(this.bookmarkRequestHandler),this.bookmarkRequestHandler.send(i),this.bookmarkRequestHandler.onSuccess=function(e){t.pdfViewerBase.navigationPane&&t.pdfViewerBase.navigationPane.disableBookmarkButton();e=e.data;t.pdfViewerBase.checkRedirection(e)||t.renderBookmarksOnSuccess(e,t)},this.bookmarkRequestHandler.onFailure=function(e){t.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,"Bookmarks")},this.bookmarkRequestHandler.onError=function(e){t.pdfViewerBase.openNotificationPopup(),t.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,"Bookmarks")})},ka.prototype.renderBookmarksOnSuccess=function(t,i){if(t){if("object"!=typeof t)try{t=JSON.parse(t)}catch(e){i.pdfViewerBase.onControlError(500,t,"Bookmarks"),t=null}t&&t.uniqueId===i.pdfViewerBase.documentId&&(i.pdfViewer.fireAjaxRequestSuccess("Bookmarks",t),i.bookmarks={bookMark:t.Bookmarks},i.bookmarkStyles=t.Bookmarkstyles,i.bookmarksDestination={bookMarkDestination:t.BookmarksDestination},G.isBlazor())&&(t={bookmarks:i.bookmarks,bookmarksDestination:i.bookmarksDestination},i.pdfViewer)&&i.pdfViewer._dotnetInstance&&i.pdfViewer._dotnetInstance.invokeMethodAsync("UpdateBookmarkCollection",t)}i.pdfViewerBase.navigationPane&&(null==i.bookmarks?(i.pdfViewerBase.navigationPane.disableBookmarkButton(),G.isBlazor()&&i.pdfViewer._dotnetInstance&&i.pdfViewer._dotnetInstance.invokeMethodAsync("UpdateBookmarkCollection",null)):(i.pdfViewerBase.navigationPane.enableBookmarkButton(),i.isBookmarkViewDiv=!1,i.pdfViewer.isBookmarkPanelOpen&&i.pdfViewerBase.navigationPane.openBookmarkcontentInitially()))},ka.prototype.renderBookmarkcontent=function(){var t=this;if(!this.isBookmarkViewDiv){for(var e=G.isBlazor(),i=(this.bookmarkView=e?this.pdfViewer.element.querySelector(".e-pv-bookmark-view"):G.createElement("div",{id:this.pdfViewer.element.id+"_bookmark_view",className:"e-pv-bookmark-view"}),this.pdfViewerBase.navigationPane.sideBarContent.appendChild(this.bookmarkView),G.createElement("div",{id:this.pdfViewer.element.id+"_bookmark_iconview",className:"e-pv-bookmark-icon-view"})),n=(n=this.pdfViewer.enableRtl?G.createElement("span",{id:this.pdfViewer.element.id+"_bookmark_icon",className:"e-pv-bookmark-icon e-pv-icon e-right"}):G.createElement("span",{id:this.pdfViewer.element.id+"_bookmark_icon",className:"e-pv-bookmark-icon e-pv-icon"}),i.appendChild(n),G.createElement("div",{id:this.pdfViewer.element.id+"_bookmark_Title",className:"e-pv-bookmark-title"})),o=(this.pdfViewer.enableRtl&&(n.style.paddingRight="26px"),n.innerText="${Title}",i.appendChild(n),e||(this.treeObj=new w.TreeView({fields:{dataSource:this.bookmarks.bookMark,id:"Id",text:"Title",child:"Child",hasChildren:"HasChild"},nodeTemplate:G.initializeCSPTemplate(function(e){return i.outerHTML.replace("${Title}",e.Title)}),nodeClicked:this.nodeClick.bind(this),keyPress:this.bookmarkKeypress.bind(this),drawNode:this.bookmarkPanelBeforeOpen.bind(this)}),this.treeObj.isStringTemplate=!0,this.pdfViewer.enableRtl&&(this.treeObj.enableRtl=!0),this.treeObj.appendTo(this.bookmarkView)),["mouseover","keydown"]),r=0;r<o.length;r++)this.bookmarkView.addEventListener(o[parseInt(r.toString(),10)],function(e){t.setHeight(e.target)});this.isBookmarkViewDiv=!0}this.bookmarkView.style.display="block"},ka.prototype.renderBookmarkContentMobile=function(){null!=this.bookmarkView&&this.bookmarkView.remove(),this.bookmarkView=G.createElement("div",{id:this.pdfViewer.element.id+"_bookmark_view",className:"e-pv-bookmark-view"}),this.pdfViewerBase.getElement("_bookmarks_container").appendChild(this.bookmarkView),this.bookmarkList=new z.ListView({dataSource:this.bookmarks.bookMark,fields:{id:"Id",text:"Title",child:"Child"},showHeader:!1,select:this.bookmarkClick.bind(this)}),this.bookmarkList.isStringTemplate=!0,this.pdfViewer.enableRtl&&(this.bookmarkList.enableRtl=!0),this.bookmarkList.appendTo(this.bookmarkView)},ka.prototype.setHeight=function(e){this.treeObj&&this.treeObj.fullRowSelect&&e.classList&&(e.classList.contains("e-treeview")&&e.classList.contains(".e-active")?e=e.querySelector(".e-active").querySelector(".e-fullrow"):e.classList.contains("e-treeview")||e.classList.contains("e-list-parent")?e=e.querySelector(".e-fullrow"):"e-fullrow"!==e.classList.value&&(e.closest&&e.closest(".e-list-item")?e=e.closest(".e-list-item").querySelector(".e-fullrow"):e.classList.contains("e-list-item")?e=e.querySelector(".e-fullrow"):e.classList.contains("e-icons")&&e.classList.contains("interaction")&&e.parentElement.parentElement.classList.contains("e-list-item")&&(e=e.parentElement.parentElement.querySelector(".e-fullrow"))),e.nextElementSibling)&&(e.style.height=e.nextElementSibling.offsetHeight+"px")},ka.prototype.setBookmarkContentHeight=function(){var e;this.treeObj&&(e=this.treeObj.element,this.treeObj.fullRowSelect)&&(e.classList.contains("e-treeview")&&e.classList.contains(".e-active")?e=e.querySelector(".e-active").querySelector(".e-fullrow"):e.classList.contains("e-treeview")&&(e=e.querySelector(".e-fullrow")),e.nextElementSibling)&&(e.style.height=e.nextElementSibling.offsetHeight+"px")},ka.prototype.navigateToBookmark=function(e,t,i){var n=this.bookmarksDestination.bookMarkDestination[parseInt(e.toString(),10)].PageIndex,e=this.bookmarksDestination.bookMarkDestination[parseInt(e.toString(),10)].Y;-1!==n&&this.goToBookmark(n,e),this.pdfViewer.fireBookmarkClick(-1!==n?n+1:n,e,t,i)},ka.prototype.getBookmarks=function(){if(this.bookmarks&&this.bookmarksDestination)return{bookmarks:this.bookmarks,bookmarksDestination:this.bookmarksDestination}},ka.prototype.goToBookmark=function(e,t){var i=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height,i=0===t?this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].top*this.pdfViewerBase.getZoomFactor():this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].top*this.pdfViewerBase.getZoomFactor()+(i-t)*this.pdfViewerBase.getZoomFactor(),t=i.toString();return this.pdfViewerBase.viewerContainer.scrollTop=parseInt(t,10),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.pdfViewerBase.mobileScrollerContainer.style.display="",this.pdfViewerBase.updateMobileScrollerPosition()),this.isKeyboardNavigation||this.pdfViewerBase.focusViewerContainer(),0<e&&e<=this.pdfViewerBase.pageCount&&this.pdfViewerBase.currentPageNumber!==e+1&&this.pdfViewerBase.updateScrollTop(e,!1),this.isKeyboardNavigation=!1},ka.prototype.clear=function(){if(this.pdfViewerBase.navigationPane&&(this.pdfViewerBase.navigationPane.disableBookmarkButton(),this.pdfViewerBase.navigationPane.updateViewerContainerOnClose()),this.bookmarks&&(this.bookmarks.bookMark=[],this.bookmarks=null),this.bookmarksDestination&&(this.bookmarksDestination.bookMarkDestination=[]),null!=this.bookmarkView&&!G.isBlazor())for(null!==this.bookmarkView.parentElement&&this.bookmarkView.parentElement.removeChild(this.bookmarkView);this.bookmarkView.hasChildNodes();)this.bookmarkView.removeChild(this.bookmarkView.lastChild);this.bookmarkRequestHandler&&this.bookmarkRequestHandler.clear()},ka.prototype.destroy=function(){this.clear()},ka.prototype.getModuleName=function(){return"BookmarkView"};f=ka;function ka(e,t){var a=this;this.isKeyboardNavigation=!1,this.childNavigateCount=0,this.bookmarkClick=function(e){var t,i;return e.event.target.classList.contains("e-icons")?a.childNavigateCount++:(t=e.data.Id,a.childNavigateCount=0,a.pdfViewerBase.navigationPane.goBackToToolbar(),i=a.bookmarkList.getSelectedItems(),a.navigateToBookmark(t,e.text,i.data.FileName)),!1},this.nodeClick=function(e){a.setHeight(e.node);var t=a.treeObj.getTreeData(e.node),i=Number(t[0].Id);return a.navigateToBookmark(i,e.node.textContent,t[0].FileName),a.pdfViewer.annotationModule&&a.pdfViewer.annotationModule.inkAnnotationModule&&(i=parseInt(a.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10),a.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(i)),!1},this.bookmarkKeypress=function(e){!e.event||"mouse"===e.event.pointerType||"touch"===e.event.pointerType||"Enter"!==e.event.key&&" "!==e.event.key||(a.isKeyboardNavigation=!0,a.nodeClick(e),a.isKeyboardNavigation=!1)},this.bookmarkPanelBeforeOpen=function(e){if(a.pdfViewer.enableBookmarkStyles)for(var t=0;t<a.bookmarkStyles.length;t++)if(e.text.trim()===a.bookmarkStyles[parseInt(t.toString(),10)].Text.trim()){var i=e.node.lastElementChild;if(i){for(var n=a.bookmarkStyles[parseInt(t.toString(),10)].FontStyle.split(","),o=0;o<n.length;o++)switch(n[parseInt(o.toString(),10)].trim()){case"Italic":i.style.fontStyle="italic";break;case"Bold":i.style.fontWeight="Bold"}var r=i.getElementsByClassName("e-pv-bookmark-title")[0];r?r.style.color=a.bookmarkStyles[parseInt(t.toString(),10)].Color:i.children[0].style.color=a.bookmarkStyles[parseInt(t.toString(),10)].Color}break}},this.pdfViewer=e,this.pdfViewerBase=t}y.prototype.textSelectionOnMouseMove=function(e,t,i,n){var o=e;if(this.isTextSearched=!0,o.nodeType===o.TEXT_NODE){this.isSelectionStartTriggered||this.pdfViewerBase.getTextMarkupAnnotationMode()||(this.pdfViewer.fireTextSelectionStart(this.pdfViewerBase.currentPageNumber),this.isSelectionStartTriggered=!0),this.isBackwardPropagatedSelection=!1;for(var r=o.ownerDocument.createRange(),a=window.getSelection(),s=(null!==a.anchorNode&&(!(e=a.anchorNode.compareDocumentPosition(a.focusNode))&&a.anchorOffset>a.focusOffset||e===Node.DOCUMENT_POSITION_PRECEDING)&&(this.isBackwardPropagatedSelection=!0),r.selectNodeContents(o),0),l=r.endOffset;s<l;){r.setStart(o,s),r.setEnd(o,s+1);var A=(h=r.getBoundingClientRect()).right;n&&(A=parseInt(h.right.toString(),10)),h.left<=t&&t<=A&&parseInt(h.top.toString(),10)<=i&&h.bottom>=i&&(null!==a.anchorNode&&a.anchorNode.parentNode.classList.contains("e-pv-text")&&(a.anchorOffset>s?0!==this.backwardStart?r.setStart(a.anchorNode,this.backwardStart):r.setStart(a.anchorNode,a.anchorOffset+1):r.setStart(a.anchorNode,a.anchorOffset)),a.removeAllRanges(),a.addRange(r),this.isTextSelection||(this.selectionStartPage=this.pdfViewerBase.currentPageNumber-1),this.isTextSelection=!0,document.documentMode||(this.isBackwardPropagatedSelection||r.endOffset>s?(this.backwardStart!==r.startOffset&&r.startOffset>=s&&(this.backwardStart=r.endOffset),0===s&&1!==r.endOffset?a.extend(o,s):a.extend(o,s+1)):n?a.extend(o,s):a.extend(o,s+1)),r.detach()),s+=1}var d,p,e=this.pdfViewer.annotationModule;e&&e.textMarkupAnnotationModule&&e.textMarkupAnnotationModule.isEnableTextMarkupResizer(e.textMarkupAnnotationModule.currentTextMarkupAddMode)&&(e=document.getElementById(this.pdfViewer.element.id+"_droplet_left"),this.pdfViewerBase.isSelection&&a&&0<a.rangeCount?(d=(p=a.getRangeAt(0).getBoundingClientRect()).left,p=p.top,this.pdfViewer.annotation.textMarkupAnnotationModule.updateLeftposition(d,p),this.pdfViewerBase.isSelection=!1):e&&"none"===e.style.display&&this.pdfViewer.annotation.textMarkupAnnotationModule.updateLeftposition(t,i),this.pdfViewer.annotation.textMarkupAnnotationModule.updatePosition(t,i))}else for(var h,c=0;c<o.childNodes.length;c++)o.childNodes[parseInt(c.toString(),10)].nodeType===o.TEXT_NODE&&((h=(r=this.getSelectionRange(c,o)).getBoundingClientRect()).left<=t&&h.right>=parseInt(t.toString(),10)&&parseInt(h.top.toString(),10)<=i&&h.bottom>=i?(r.detach(),this.textSelectionOnMouseMove(o.childNodes[parseInt(c.toString(),10)],t,i,n)):r.detach())},y.prototype.textSelectionOnDrag=function(e,t,i,n){var o=e;if(this.isTextSearched=!0,o.nodeType===o.TEXT_NODE){this.isBackwardPropagatedSelection=!1;for(var r,a=o.ownerDocument.createRange(),s=window.getSelection(),l=(null!==s.anchorNode&&(!(e=s.anchorNode.compareDocumentPosition(s.focusNode))&&s.anchorOffset>s.focusOffset||e===Node.DOCUMENT_POSITION_PRECEDING)&&(this.isBackwardPropagatedSelection=!0),a.selectNodeContents(o),0),A=a.endOffset;l<A;){if(a.setStart(o,l),a.setEnd(o,l+1),(d=a.getBoundingClientRect()).left<=t&&d.right>=t&&parseInt(d.top.toString(),10)<=i&&d.bottom>=i)return n?(null!==s.anchorNode&&s.anchorNode.parentNode.classList.contains("e-pv-text")&&a.setStart(s.anchorNode,s.anchorOffset),s.removeAllRanges(),s.addRange(a),s.extend(o,l)):s.focusNode&&(a.setEnd(s.focusNode,s.focusOffset),s.removeAllRanges(),s.addRange(a)),this.isTextSelection||(this.selectionStartPage=this.pdfViewerBase.currentPageNumber-1),this.isTextSelection=!0,a.detach(),!0;l+=1}this.pdfViewerBase.isSelection&&(r=(e=s.getRangeAt(0).getBoundingClientRect()).left,e=e.top,this.pdfViewer.annotation.textMarkupAnnotationModule.updateLeftposition(r,e),this.pdfViewerBase.isSelection=!1),this.pdfViewer.annotation.textMarkupAnnotationModule.updatePosition(t,i)}else for(var d,p=0;p<o.childNodes.length;p++)o.childNodes[parseInt(p.toString(),10)].nodeType===o.TEXT_NODE&&((d=(a=this.getSelectionRange(p,o)).getBoundingClientRect()).left<=t&&d.right>=t&&parseInt(d.top.toString(),10)<=i&&d.bottom>=i?(a.detach(),this.textSelectionOnDrag(o.childNodes[parseInt(p.toString(),10)],t,i,n)):a.detach());return null},y.prototype.selectTextRegion=function(e,t){for(var i=null,n=e-1,o=0;o<t.length;o++){var r=t[parseInt(o.toString(),10)],a=(r.left||r.Left)*this.pdfViewerBase.getZoomFactor(),s=(r.top||r.Top)*this.pdfViewerBase.getZoomFactor(),r=(r.width||r.Width)*this.pdfViewerBase.getZoomFactor(),l=this.pdfViewerBase.getElement("_textLayer_"+n);if(l){for(var A=l.childNodes,d=0;d<A.length;d++)if(A[parseInt(d.toString(),10)]){var p=A[parseInt(d.toString(),10)].getBoundingClientRect(),h=this.getClientValueTop(p.top,n),c=p.left-this.pdfViewerBase.getElement("_pageDiv_"+n).getBoundingClientRect().left,p=c+p.width,g=parseInt(A[parseInt(d.toString(),10)].style.left,10),u=parseInt(A[parseInt(d.toString(),10)].style.top,10),c=this.checkLeftBounds(c,g,p,a),g=this.checkTopBounds(h,u,s);if(c&&g){i=A[parseInt(d.toString(),10)];break}}null!=i&&(l=this.pdfViewerBase.getElement("_textLayer_"+n).getBoundingClientRect(),this.textSelectionOnMouseMove(i,a+l.left,s+l.top,!1),t.length-1===o)&&this.textSelectionOnMouseMove(i,a+l.left+r,s+l.top,!1)}}},y.prototype.checkLeftBounds=function(e,t,i,n){var o=!1;return o=e===parseInt(n.toString(),10)||parseInt(e.toString(),10)===parseInt(n.toString(),10)||e+1===parseInt(n.toString(),10)||e-1===parseInt(n.toString(),10)||t===parseInt(n.toString(),10)||t===n||n<=i&&e<=n?!0:o},y.prototype.checkTopBounds=function(e,t,i){var n=!1;return n=e!==parseInt(i.toString(),10)&&parseInt(e.toString(),10)!==parseInt(i.toString(),10)&&parseInt((e+1).toString(),10)!==parseInt(i.toString(),10)&&parseInt((e-1).toString(),10)!==parseInt(i.toString(),10)&&t!==parseInt(i.toString(),10)&&t!==i?n:!0},y.prototype.textSelectionOnMouseLeave=function(e){var t=this,i=(e.preventDefault(),this.pdfViewerBase.viewerContainer.offsetTop);this.pdfViewer.magnificationModule&&"fitToPage"===this.pdfViewer.magnificationModule.fitType||(e.clientY>i?this.scrollMoveTimer=setInterval(function(){t.scrollForwardOnSelection()},500):this.scrollMoveTimer=setInterval(function(){t.scrollBackwardOnSelection()},500))},y.prototype.scrollForwardOnSelection=function(){this.pdfViewerBase.isSignInitialClick||(this.isMouseLeaveSelection=!0,this.pdfViewerBase.viewerContainer.scrollTop=this.pdfViewerBase.viewerContainer.scrollTop+200,this.stichSelectionOnScroll(this.pdfViewerBase.currentPageNumber-1))},y.prototype.scrollBackwardOnSelection=function(){this.isMouseLeaveSelection=!0,this.pdfViewerBase.viewerContainer.scrollTop=this.pdfViewerBase.viewerContainer.scrollTop-200,this.stichSelectionOnScroll(this.pdfViewerBase.currentPageNumber-1)},y.prototype.clear=function(){this.scrollMoveTimer&&(this.isMouseLeaveSelection=!1,clearInterval(this.scrollMoveTimer))},y.prototype.selectAWord=function(e,t,i,n){var o=0;if(G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(o=3),e.nodeType===e.TEXT_NODE)for(var r=window.getSelection(),a=((u=e.ownerDocument.createRange()).selectNodeContents(e),0),s=u.endOffset;a<s;){if(u.setStart(e,a),u.setEnd(e,a+1),(f=u.getBoundingClientRect()).left<=t+o&&f.right>=t-o&&f.top<=i+o&&f.bottom>=i-o){for(var l=e.textContent,A=[],d=void 0,p=void 0,h=0;h<l.length;h++)" "===l[parseInt(h.toString(),10)]&&A.push(h);for(var c=0;c<A.length;c++){if(a===A[parseInt(c.toString(),10)]&&(d=A[parseInt(c.toString(),10)],p=A[parseInt(c.toString(),10)]),a<A[0]){d=0,p=A[parseInt(c.toString(),10)];break}a>A[parseInt(c.toString(),10)]&&a<A[c+1]?(d=A[parseInt(c.toString(),10)],p=A[c+1]):a>A[parseInt(c.toString(),10)]&&(A[c+1]||(d=A[parseInt(c.toString(),10)]))}p=p||l.length,0===d?u.setStart(e,d):u.setStart(e,d+1),u.setEnd(e,p),r.removeAllRanges(),r.addRange(u),this.isTextSelection=!0;var g=G.isNullOrUndefined(u.startContainer.parentElement)?u.startContainer.parentNode:u.startContainer.parentElement;this.selectionStartPage=parseInt(g.id.split("_text_")[1],10),n&&(this.selectionAnchorTouch={anchorNode:r.anchorNode.parentElement.id,anchorOffset:r.anchorOffset},this.selectionFocusTouch={focusNode:r.focusNode.parentElement.id,focusOffset:r.focusOffset}),G.Browser.isIE||u.detach();break}a+=1}else for(var u,f,h=0;h<e.childNodes.length;h++)(f=(u=this.getSelectionRange(h,e)).getBoundingClientRect()).left<=t+o&&f.right>=t-o&&f.top<=i+o&&f.bottom>=i-o?(u.detach(),this.selectAWord(e.childNodes[parseInt(h.toString(),10)],t,i,n)):u.detach()},y.prototype.getSelectionRange=function(e,t){var i=t.childNodes[parseInt(e.toString(),10)].ownerDocument.createRange();return i.selectNodeContents(t.childNodes[parseInt(e.toString(),10)]),i},y.prototype.selectEntireLine=function(e){var t=[],i=e.target,n=i.getBoundingClientRect(),o=parseInt((n.top+n.height/2).toString(),10),r=parseInt(e.target.id.split("_text_")[1],10),a=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+"_text_"+r+'"]');if(i.classList.contains("e-pv-text")){this.pdfViewer.fireTextSelectionStart(r+1);for(var s=0;s<a.length;s++){var l=a[parseInt(s.toString(),10)].getBoundingClientRect(),A=parseInt(l.top.toString(),10),l=parseInt(l.bottom.toString(),10);A<=o&&o<l&&n.bottom+10>l&&""!==(A=a[parseInt(s.toString(),10)].id)&&t.push(A)}var i=window.getSelection(),r=(i.removeAllRanges(),document.createRange()),d=t.length-1,p=document.getElementById(t[0]),d=document.getElementById(t[parseInt(d.toString(),10)]);0<d.childNodes.length?(r.setStart(p.childNodes[0],0),r.setEnd(d.childNodes[0],d.textContent.length)):(r.setStart(p.childNodes[0],0),r.setEnd(d,1)),this.selectionStartPage=parseInt(r.startContainer.parentElement.id.split("_text_")[1],10),i.addRange(r),this.isTextSelection=!0,null!=i&&"MouseUp"===this.pdfViewer.contextMenuSettings.contextMenuAction&&this.calculateContextMenuPosition(e.clientY,e.clientY)}},y.prototype.enableTextSelectionMode=function(){this.pdfViewerBase.isTextSelectionDisabled=!1,G.isNullOrUndefined(this.pdfViewerBase.viewerContainer)||(this.pdfViewerBase.viewerContainer.classList.remove("e-disable-text-selection"),this.pdfViewerBase.viewerContainer.classList.add("e-enable-text-selection"),this.pdfViewerBase.viewerContainer.addEventListener("selectstart",function(e){return e.preventDefault(),!0}))},y.prototype.clearTextSelection=function(){if(this.isTextSelection){if(this.pdfViewerBase.textLayer.clearDivSelection(),window.getSelection&&window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges(),this.pdfViewer.linkAnnotationModule)for(var e=this.pdfViewerBase.currentPageNumber-3,t=(t=this.pdfViewer.currentPageNumber+1)<this.pdfViewerBase.pageCount-1?t:this.pdfViewerBase.pageCount-1,i=e<0?0:e;i<=t;i++)this.pdfViewer.linkAnnotationModule.modifyZindexForTextSelection(i,!1);this.pdfViewer.annotation&&this.pdfViewer.annotation.textMarkupAnnotationModule&&this.pdfViewer.annotation.textMarkupAnnotationModule.showHideDropletDiv(!0),this.selectionRangeArray=[],this.isTextSelection=!1,this.isTouchSelection=!1,this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.searchAfterSelection(),this.pdfViewerBase.contextMenuModule.close(),this.removeTouchElements()}},y.prototype.removeTouchElements=function(){this.dropDivElementLeft&&(this.dropDivElementLeft.parentElement.removeChild(this.dropDivElementLeft),this.dropDivElementLeft=null,this.dropElementLeft.style.transform="rotate(0deg)"),this.dropDivElementRight&&(this.dropDivElementRight.parentElement.removeChild(this.dropDivElementRight),this.dropDivElementRight=null,this.dropElementRight.style.transform="rotate(-90deg)")},y.prototype.resizeTouchElements=function(){var e,t,i,n=this.pdfViewerBase.viewerContainer.getBoundingClientRect().left;this.dropDivElementLeft&&(e=this.dropDivElementLeft.getBoundingClientRect(),t=0,i=this.pdfViewerBase.getElement("_pageDiv_"+this.topStoreLeft.pageNumber).getBoundingClientRect(),this.dropDivElementLeft.style.left=parseFloat(this.topStoreLeft.left.toString())*this.pdfViewerBase.getZoomFactor()+i.left-n-e.width/2+"px",this.topStoreLeft.isHeightNeeded&&(t=e.height/2*this.pdfViewerBase.getZoomFactor()),this.dropDivElementLeft.style.top=parseFloat(this.topStoreLeft.pageTop.toString())*this.pdfViewerBase.getZoomFactor()+parseFloat(this.topStoreLeft.topClientValue.toString())*this.pdfViewerBase.getZoomFactor()+t+"px"),this.dropDivElementRight&&(e=this.dropDivElementRight.getBoundingClientRect(),t=0,i=this.pdfViewerBase.getElement("_pageDiv_"+this.topStoreRight.pageNumber).getBoundingClientRect(),this.dropDivElementRight.style.left=parseFloat(this.topStoreRight.left.toString())*this.pdfViewerBase.getZoomFactor()+i.left-n-e.width/2+"px",this.topStoreRight.isHeightNeeded&&(t=e.height/2*this.pdfViewerBase.getZoomFactor()),this.dropDivElementRight.style.top=parseFloat(this.topStoreRight.pageTop.toString())*this.pdfViewerBase.getZoomFactor()+parseFloat(this.topStoreRight.topClientValue.toString())*this.pdfViewerBase.getZoomFactor()+t+"px")},y.prototype.textSelectionOnMouseup=function(e){if(this.clear(),null!==window.getSelection().anchorNode){if(this.isMouseLeaveSelection=!1,this.isSelectionStartTriggered=!1,this.maintainSelectionOnZoom(!0,!1),this.fireTextSelectEnd(),this.pdfViewerBase.textLayer.getTextSearchStatus()){this.pdfViewerBase.textLayer.clearDivSelection();for(var t=this.pdfViewer.textSearchModule.getIndexes(),i=parseFloat(t.lowerPageValue.toString()),n=parseFloat(t.higherPageValue.toString()),o=i;o<n;o++)this.applySelectionRangeOnScroll(o);this.pdfViewer.textSearchModule.searchAfterSelection()}else this.applySpanForSelection();this.pdfViewer.linkAnnotationModule&&this.pdfViewer.linkAnnotationModule.modifyZindexForTextSelection(this.pdfViewerBase.currentPageNumber-1,!1),this.isTextSearched&&"MouseUp"===this.pdfViewer.contextMenuSettings.contextMenuAction&&(this.calculateContextMenuPosition(e.clientY,e.clientX),this.isTextSearched=!1)}else this.pdfViewerBase.textLayer.clearDivSelection(),this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.searchAfterSelection(),this.pdfViewerBase.contextMenuModule.close(),this.removeTouchElements()},y.prototype.fireTextSelectEnd=function(){if(0!==this.selectionRangeArray.length){for(var e=0,t="",i=[],n=0;n<this.selectionRangeArray.length;n++){t+=this.selectionRangeArray[parseInt(n.toString(),10)].textContent;for(var o=0;o<this.selectionRangeArray[parseInt(n.toString(),10)].rectangleBounds.length;o++){var r=this.selectionRangeArray[parseInt(n.toString(),10)].rectangleBounds[parseInt(o.toString(),10)];i.push({left:r.left,right:r.right,top:r.top,bottom:r.bottom,width:r.width,height:r.height,pageIndex:this.selectionRangeArray[parseInt(n.toString(),10)].pageNumber+1})}(!this.selectionRangeArray[parseInt(n.toString(),10)].isBackward||0!==n)&&(this.selectionRangeArray[parseInt(n.toString(),10)].isBackward||n!==this.selectionRangeArray.length-1)||(e=this.selectionRangeArray[parseInt(n.toString(),10)].pageNumber+1)}this.pdfViewer.fireTextSelectionEnd(e,t,i)}},y.prototype.maintainSelectionOnZoom=function(e,t){var i=window.getSelection();if("Range"===i.type||!i.type&&!i.isCollapsed){var n=this.pdfViewerBase.textLayer.isBackWardSelection(i);if(null!=i.anchorNode){var o,r=parseInt(this.getNodeElementFromNode(i.anchorNode).id.split("_text_")[1],10),a=parseInt(this.getNodeElementFromNode(i.focusNode).id.split("_text_")[1],10);if(this.isTouchSelection&&isNaN(a)&&i.focusNode===this.pdfViewerBase.pageContainer&&((o=this.pdfViewerBase.pageContainer.lastChild).classList.contains("e-pv-touch-select-drop")?a=parseInt(o.previousSibling.previousSibling.id.split("_pageDiv_")[1],10):o.classList.contains("e-pv-page-div")&&(a=parseInt(o.id.split("_pageDiv_")[1],10))),n)for(s=r;a<=s;s--)this.maintainSelectionOnScroll(s,t);else for(var s=r;s<=a;s++)this.maintainSelectionOnScroll(s,t)}e||i.removeAllRanges()}},y.prototype.isSelectionAvailableOnScroll=function(e){for(var t=!1,i=this.selectionRangeArray,n=0;n<i.length;n++)if(null!==i[parseInt(n.toString(),10)]&&e===i[parseInt(n.toString(),10)].pageNumber){t=!0,this.isTouchSelection&&!this.pdfViewerBase.getMagnified()&&(t=!1);break}return t},y.prototype.applySelectionRangeOnScroll=function(e){this.isMouseLeaveSelection?this.applySelectionMouseScroll(e):this.applySelectionRange(e)},y.prototype.getSelectionRangeFromArray=function(e){for(var t=!1,i=null,n=this.selectionRangeArray,o=0;o<n.length;o++)if(null!==n[parseInt(o.toString(),10)]&&e===n[parseInt(o.toString(),10)].pageNumber){i=n[parseInt(o.toString(),10)],t=!0;break}return{isSelectionAvailable:t,selectionRange:i}},y.prototype.applySelectionRange=function(e){var t,i,n,o,r=this.getSelectionRangeFromArray(e),a=r.isSelectionAvailable,s=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+e);s&&a&&0!==s.childNodes.length&&(i=t=s=a=void 0,(r=r.selectionRange).isBackward?(n=parseInt(r.endNode.split("_text_")[1].split("_")[1],10))<(o=parseInt(r.startNode.split("_text_")[1].split("_")[1],10))?(a=n,t=r.endOffset,i=r.startOffset,s=o):(a=o,t=r.endOffset,s=n,i=r.startOffset):(a=parseInt(r.startNode.split("text_")[1].split("_")[1],10),s=parseInt(r.endNode.split("text_")[1].split("_")[1],10),t=r.startOffset,i=r.endOffset),window.getSelection().removeAllRanges(),this.pdfViewerBase.textLayer.applySpanForSelection(e,e,a,s,t,i),this.pdfViewer.textSearchModule)&&this.pdfViewer.textSearchModule.searchAfterSelection()},y.prototype.applySelectionMouseScroll=function(e){var t,i,n,o,r,a,s,l,A,d,e=this.getSelectionRangeFromArray(e);e.isSelectionAvailable&&(e=e.selectionRange,t=window.getSelection(),i=document.getElementById(e.startNode).childNodes[0],n=document.getElementById(e.endNode).childNodes[0],o=document.createRange(),null===t.anchorNode||(r=isNaN(parseInt(t.anchorNode.parentElement.id.split("_text_")[1],10))?parseInt(t.anchorNode.id.split("_pageDiv_")[1],10):parseInt(t.anchorNode.parentElement.id.split("_text_")[1],10),isNaN(r)&&(r=parseInt(t.anchorNode.id.split("_text_")[1],10)),a=isNaN(parseInt(t.focusNode.parentElement.id.split("_text_")[1],10))?parseInt(t.focusNode.id.split("_pageDiv_")[1],10):parseInt(t.focusNode.parentElement.id.split("_text_")[1],10),s=parseInt(e.startNode.split("_text_")[1],10),r===a&&r===s)?e.isBackward?(o.setStart(n,e.endOffset),o.setEnd(i,e.startOffset)):(o.setStart(i,e.startOffset),o.setEnd(n,e.endOffset)):isNaN(r)?isNaN(r)&&(e.isBackward?(o.setStart(n,e.endOffset),o.setEnd(i,e.startOffset)):(o.setStart(i,e.startOffset),o.setEnd(n,e.endOffset))):isNaN(r)||e.isBackward?(l=this.pdfViewerBase.textLayer.isBackWardSelection(t),s<r&&a<s&&r!==a||r<s&&s<a&&r!==a?l?t.extend(t.focusNode,t.focusOffset):(o.setStart(t.anchorNode,t.anchorOffset),o.setEnd(t.focusNode,t.focusOffset)):r<s?l?s!==this.selectionRangeArray[0].pageNumber?this.extendCurrentSelection(n.parentElement,e.endOffset,t,o):this.extendCurrentSelection(i.parentElement,e.startOffset,t,o):s!==this.selectionRangeArray[0].pageNumber?(o.setStart(t.anchorNode,t.anchorOffset),o.setEnd(n,e.endOffset)):(o.setStart(t.anchorNode,t.anchorOffset),o.setEnd(i,e.startOffset)):r===s?s===a?(o.setStart(i,e.startOffset),o.setEnd(i,e.startOffset),t.removeAllRanges(),t.addRange(o),o=document.createRange(),t.extend(n,e.endOffset)):l?this.extendCurrentSelection(n.parentElement,e.endOffset,t,o):(o.setStart(n,e.endOffset),o.setEnd(t.focusNode,t.focusOffset)):a===s?l?t.extend(t.focusNode,t.focusOffset):(o.setStart(t.anchorNode,t.anchorOffset),o.setEnd(t.focusNode,t.focusOffset)):s<r&&(A=parseInt(e.startNode.split("_"+s+"_")[1],10),d=parseInt(e.endNode.split("_"+s+"_")[1],10),l?s!==this.selectionRangeArray[0].pageNumber?A<d?this.extendCurrentSelection(i.parentElement,e.startOffset,t,o):(o.setStart(n.parentElement,e.endOffset),o.setEnd(t.anchorNode,t.anchorOffset)):this.extendCurrentSelection(n.parentElement,e.endOffset,t,o):(A<d?o.setStart(i,e.startOffset):o.setStart(n,e.endOffset),o.setEnd(t.focusNode,t.focusOffset)))):r<s&&s<a&&r!==a?(o.setStart(t.anchorNode,t.anchorOffset),o.setEnd(t.focusNode,t.focusOffset)):r<s?(o.setStart(t.anchorNode,t.anchorOffset),o.setEnd(n,e.endOffset)):(o.setStart(i,e.startOffset),o.setEnd(t.focusNode,t.focusOffset)),""!==o.toString())&&(t.removeAllRanges(),t.addRange(o))},y.prototype.maintainSelectionOnScroll=function(e,t){var i=this.isSelectionAvailableOnScroll(e);this.isTextSelection&&!i&&this.maintainSelection(e,t)},y.prototype.maintainSelection=function(e,t){var i,n,o,r,a,s,l,A,d=window.getSelection();!this.isTextSelection||"Range"!==d.type&&(d.type||d.isCollapsed)||(i=parseInt(this.getNodeElementFromNode(d.anchorNode).id.split("_text_")[1],10),n=parseInt(this.getNodeElementFromNode(d.focusNode).id.split("_text_")[1],10),isNaN(n)&&null!==d.anchorNode&&(n=this.pdfViewerBase.textLayer.isBackWardSelection(d)?parseInt(this.pdfViewerBase.pageContainer.firstChild.id.split("_pageDiv_")[1],10):(o=this.pdfViewerBase.pageContainer.lastChild).classList.contains("e-pv-touch-select-drop")?parseInt(o.previousSibling.previousSibling.id.split("_pageDiv_")[1],10):parseInt(o.id.split("_pageDiv_")[1],10)),o=this.pdfViewerBase.textLayer.isBackWardSelection(d),this.isTouchSelection&&n<e&&i<e)||(i===n?(A=null,r=this.getSelectionBounds(d.getRangeAt(0),e),a=this.getSelectionRectangleBounds(d.getRangeAt(0),e),s=1===this.getNodeElementFromNode(d.anchorNode).childNodes.length?d.anchorOffset:this.getCorrectOffset(d.anchorNode,d.anchorOffset),l=1===this.getNodeElementFromNode(d.focusNode).childNodes.length?d.focusOffset:this.getCorrectOffset(d.focusNode,d.focusOffset),A={isBackward:o,startNode:this.getNodeElementFromNode(d.anchorNode).id,startOffset:s,endNode:this.getNodeElementFromNode(d.focusNode).id,endOffset:l,textContent:this.allTextContent,pageNumber:e,bound:r,rectangleBounds:a},this.pushSelectionRangeObject(A,e)):(A=this.createRangeObjectOnScroll(e,i,n))&&(this.pushSelectionRangeObject(A,e),t)&&this.stichSelection(o,d,e))},y.prototype.getCorrectOffset=function(e,t){for(var i=0,n=this.getNodeElementFromNode(e),o=0;o<n.childNodes.length;o++){if(n.childNodes[parseInt(o.toString(),10)]===e){i+=t;break}i+=n.childNodes[parseInt(o.toString(),10)].textContent.length}return i},y.prototype.pushSelectionRangeObject=function(e,t){if(this.isTouchSelection){var i=this.selectionRangeArray.filter(function(e){return e.pageNumber===t});if(0<i.length)return i=this.selectionRangeArray.indexOf(i[0]),void this.selectionRangeArray.splice(i,1,e)}var n,i=this.selectionRangeArray.filter(function(e){return e.pageNumber===t+1});0===i.length?this.isTouchSelection&&0!==this.selectionRangeArray.length?0!==(n=this.selectionRangeArray.filter(function(e){return e.pageNumber===t-1})).length?(n=this.selectionRangeArray.indexOf(n[0]),this.selectionRangeArray.splice(n+1,0,e)):(n=this.selectionRangeArray[0],t<n.pageNumber?this.selectionRangeArray.splice(0,0,e):this.selectionRangeArray.push(e)):this.selectionRangeArray.push(e):(n=this.selectionRangeArray.indexOf(i[0]),this.selectionRangeArray.splice(n,0,e))},y.prototype.extendCurrentSelection=function(e,t,i,n){var o=i.focusOffset,r=i.focusNode.parentElement.id,a=isNaN(parseInt(r.split("_text_")[1],10))?parseInt(i.focusNode.id.split("_pageDiv_")[1],10):parseInt(r.split("_text_")[1],10);isNaN(parseInt(r.split("_text_")[1],10))&&(r=this.pdfViewerBase.getElement("_textLayer_"+(a+1)).firstChild.id),n.setStart(e.childNodes[0],t),n.setEnd(e.childNodes[0],t),i.removeAllRanges(),i.addRange(n),i.extend(document.getElementById(r).childNodes[0],o)},y.prototype.stichSelection=function(e,t,i){var n,o,r=document.createRange();e?(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(i-1)))?(o=(o=n.lastChild)||(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(i-2))).lastChild,this.extendCurrentSelection(o,this.getTextLastLength(o),t,r)):(o=(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(i+1))).firstChild,this.extendCurrentSelection(o,0,t,r)):(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(i+1)))&&(e=(e=n.firstChild)||(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(i+2))).firstChild,r.setStart(e.childNodes[0],0),r.setEnd(t.focusNode,t.focusOffset),t.removeAllRanges(),t.addRange(r))},y.prototype.textSelectionOnMouseWheel=function(e){this.isMouseLeaveSelection=!0,this.stichSelectionOnScroll(e)},y.prototype.stichSelectionOnScroll=function(e){var t,i,n,o,r=window.getSelection();this.isTextSelection&&(o=parseInt(this.getNodeElementFromNode(r.anchorNode).id.split("_text_")[1],10),t=parseInt(this.getNodeElementFromNode(r.focusNode).id.split("_text_")[1],10),n=void 0,o!==e&&t!==e&&(this.pdfViewerBase.textLayer.isBackWardSelection(r)?(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(e-1)))&&(i=n.firstChild)&&this.extendSelectionStich(i.childNodes[0],0,r):(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(e-1)))&&((i=n.lastChild)?i.childNodes[0]?this.extendSelectionStich(i.childNodes[0],this.getTextLastLength(i),r):this.extendSelectionStich(i,this.getTextLastLength(i),r):(o=(n=this.pdfViewerBase.getElement("_textLayer_"+e)).firstChild,this.extendSelectionStich(o.childNodes[0],0,r)))),this.maintainSelectionArray())},y.prototype.extendSelectionStich=function(e,t,i){i.extend&&i.extend(e,t)},y.prototype.createRangeObjectOnScroll=function(e,t,i){var n=window.getSelection();if(null!==n.anchorNode){var o=this.pdfViewerBase.textLayer.isBackWardSelection(n),r=void 0,a=void 0,s=void 0,l=void 0,A=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+e);if(A.childNodes)return o?e===t?(r=this.getNodeElementFromNode(n.anchorNode),a=A.firstChild,s=this.getCorrectOffset(n.anchorNode,n.anchorOffset),l=0):e<t&&i<e?(r=A.firstChild,a=A.lastChild,s=0,l=this.getTextLastLength(a)):e===i&&(r=this.getNodeElementFromNode(n.focusNode),a=A.lastChild,s=this.getCorrectOffset(n.focusNode,n.focusOffset),l=this.getTextLastLength(a)):e===t?(r=this.getNodeElementFromNode(n.anchorNode),a=A.lastChild,s=this.getCorrectOffset(n.anchorNode,n.anchorOffset),l=this.getTextLastLength(a)):t<e&&e<i?(r=A.firstChild,a=A.lastChild,s=0,l=this.getTextLastLength(a)):e===i&&(r=A.firstChild,l=-1!==this.getNodeElementFromNode(n.focusNode).id.indexOf(i.toString())?(a=this.getNodeElementFromNode(n.focusNode),this.getCorrectOffset(n.focusNode,n.focusOffset)):(a=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+i).lastChild,this.getTextLastLength(a)),s=0),r&&a?(t=this.getSelectionRangeObject(r.id,s,a.id,l,e),A=this.getSelectionBounds(t,e),n=this.getSelectionRectangleBounds(t,e),{isBackward:o,startNode:r.id,startOffset:s,endNode:a.id,endOffset:l,textContent:this.allTextContent,pageNumber:e,bound:A,rectangleBounds:n}):null}return null},y.prototype.getSelectionRangeObject=function(e,t,i,n,o){var r=document.getElementById(e),a=document.getElementById(i),e=(r.childNodes[0]&&(r=r.childNodes[0]),a.childNodes[0]&&(a=a.childNodes[0]),parseInt(e.split("_"+o+"_")[1],10)),i=parseInt(i.split("_"+o+"_")[1],10),o=document.createRange();return e<=i?(o.setStart(r,t),o.setEnd(a,n)):(o.setStart(a,n),o.setEnd(r,t)),o},y.prototype.getSelectionBounds=function(e,t){var i;return this.getNodeElementFromNode(e.startContainer)!==this.getNodeElementFromNode(e.endContainer)?(i=document.createRange(),i=this.createRangeForSelection(e.startContainer,e.endContainer,e.startOffset,e.endOffset,i),this.normalizeBounds(i.getBoundingClientRect(),t)):this.normalizeBounds(e.getBoundingClientRect(),t)},y.prototype.getSelectionRectangleBounds=function(e,t){var i=[],n=this.getNodeElementFromNode(e.startContainer),o=this.getNodeElementFromNode(e.endContainer),r=null,a=[];if(this.allTextContent="",n!==o){for(var s=0,l=0,o=this.pdfViewerBase.textLayer.getPageIndex(e.startContainer),A=this.pdfViewerBase.textLayer.getTextIndex(e.startContainer,o),d=this.pdfViewerBase.textLayer.getPageIndex(e.endContainer),p=this.pdfViewerBase.textLayer.getTextIndex(e.endContainer,d),h=this.pdfViewerBase.getElement("_textLayer_"+d).childNodes,c=t===o?A:0;c<h.length;c++){var g=h[parseInt(c.toString(),10)];if(p<c)break;if(s=c===A?e.startOffset:0,l=c===p?e.endOffset:g.textContent.length,0!==s||0!==l){for(var u=document.createRange(),f=0;f<g.childNodes.length;f++){var m=g.childNodes[parseInt(f.toString(),10)];u.setStart(m,s),u.setEnd(m,l)}var w=void 0,w=(this.pdfViewerBase.clientSideRendering?(w=this.normalizeBounds(u.getBoundingClientRect(),t),S=0,g&&""!==g.style.transform&&(S=g.style.transform.startsWith("rotate(90deg)")?90:g.style.transform.startsWith("rotate(180deg)")?180:g.style.transform.startsWith("rotate(-90deg)")||g.style.transform.startsWith("rotate(270deg)")?270:0),w.rotation=S):w=this.normalizeBounds(u.getBoundingClientRect(),t),i.push(w),u.toString());if(a.push(w),u.detach(),"\r\n"===w||" "===w){if(c===p+1)break}else if(c===p)break}}for(var B=0;B<a.length;B++){var C=a[parseInt(B.toString(),10)];(C=0!==B&&" "===C&&a[B-1].includes("\r\n")||B!==a.length-1&&" "===a[parseInt(B.toString(),10)]&&"\r\n"===a[B+1]?"":C).slice(C.length-2),this.allTextContent+=C}}else{var S,r=this.normalizeBounds(e.getBoundingClientRect(),t);this.pdfViewerBase.clientSideRendering&&(S=0,n&&""!==n.style.transform&&(S=n.style.transform.startsWith("rotate(90deg)")?90:n.style.transform.startsWith("rotate(180deg)")?180:n.style.transform.startsWith("rotate(-90deg)")||n.style.transform.startsWith("rotate(270deg)")?270:0),r.rotation=S),this.allTextContent=e.toString(),i.push(r)}return i},y.prototype.getAngle=function(e){var t=0;if(e)switch(e){case 0:t=0;break;case 1:t=90;break;case 2:t=180;break;case 3:t=270}return t},y.prototype.getTextId=function(e){var t=e.lastIndexOf("_"),t=e.substring(t+1,e.length);return parseInt(t,10)},y.prototype.normalizeBounds=function(e,t){var i=this.pdfViewerBase.getElement("_pageDiv_"+t),t=(i=this.pdfViewerBase.isMixedSizeDocument&&(t=this.pdfViewerBase.getElement("_textLayer_"+t))?t:i).getBoundingClientRect();return{bottom:this.getMagnifiedValue(e.bottom-t.top),height:this.getMagnifiedValue(e.height),left:this.getMagnifiedValue(e.left-t.left),top:this.getMagnifiedValue(e.top-t.top),right:this.getMagnifiedValue(e.right-t.left),width:this.getMagnifiedValue(e.width)}},y.prototype.getMagnifiedValue=function(e){return e/this.pdfViewerBase.getZoomFactor()},y.prototype.getCurrentSelectionBounds=function(e){for(var t=null,i=this.selectionRangeArray,n=0;n<i.length;n++)null!==i[parseInt(n.toString(),10)]&&e===i[parseInt(n.toString(),10)].pageNumber&&(t=i[parseInt(n.toString(),10)].bound);return t},y.prototype.createRangeForSelection=function(e,t,i,n,o){return o.setStart(e,i),o.setEnd(t,n),o},y.prototype.maintainSelectionArray=function(){var t=this;if(0!==this.selectionRangeArray.length){var e=window.getSelection(),i=this.pdfViewerBase.textLayer.isBackWardSelection(e),n=isNaN(parseInt(this.getNodeElementFromNode(e.anchorNode).id.split("_text_")[1],10))?parseInt(e.anchorNode.id.split("_pageDiv_")[1],10):parseInt(this.getNodeElementFromNode(e.anchorNode).id.split("_text_")[1],10),o=(isNaN(n)&&(n=parseInt(e.anchorNode.id.split("_text_")[1],10)),isNaN(parseInt(this.getNodeElementFromNode(e.focusNode).id.split("_text_")[1],10))?parseInt(e.focusNode.id.split("_pageDiv_")[1],10):parseInt(this.getNodeElementFromNode(e.focusNode).id.split("_text_")[1],10)),r=(isNaN(o)&&(o=isNaN(parseInt(e.focusNode.id.split("_text_")[1],10))?parseInt(e.focusNode.id.split("_textLayer_")[1],10):parseInt(e.focusNode.id.split("_text_")[1],10)),[]);if(0<(r=i?this.selectionRangeArray.filter(function(e){return!(o<e.pageNumber&&e.pageNumber<=t.selectionStartPage)}):this.selectionRangeArray.filter(function(e){return!(t.selectionStartPage<=e.pageNumber&&e.pageNumber<o)})).length){for(var a=0;a<r.length;a++){var s=this.selectionRangeArray.indexOf(r[parseInt(a.toString(),10)]);-1!==s&&this.selectionRangeArray.splice(s,1)}1===this.selectionRangeArray.length&&this.selectionRangeArray[0].pageNumber!==n&&this.selectionRangeArray[0].pageNumber}}},y.prototype.applySpanForSelection=function(){var e,t,i,n,o,r,a,s,l,A,d,p=window.getSelection();p.anchorNode!==p.focusNode||p.anchorOffset!==p.focusOffset||p.isCollapsed||p.removeAllRanges(),null!==p.anchorNode&&this.pdfViewerBase.viewerContainer.contains(this.getNodeElementFromNode(p.anchorNode))&&(d=i=t=e=a=o=void 0,d=this.pdfViewerBase.textLayer.isBackWardSelection(p)?(o=parseInt(this.getNodeElementFromNode(p.focusNode).id.split("_text_")[1],10),a=parseInt(this.getNodeElementFromNode(p.anchorNode).id.split("_text_")[1],10),e=parseInt(this.getNodeElementFromNode(p.focusNode).id.split("_text_")[1].split("_")[1],10),t=parseInt(this.getNodeElementFromNode(p.anchorNode).id.split("_text_")[1].split("_")[1],10),i=p.focusOffset,p.anchorOffset):(n=this.getNodeElementFromNode(p.anchorNode),s=this.getNodeElementFromNode(p.focusNode),o=-1!==n.id.indexOf("text_")?parseInt(n.id.split("text_")[1],10):parseInt(n.id.split("_textLayer_")[1],10),a=-1!==s.id.indexOf("text_")?parseInt(s.id.split("text_")[1],10):parseInt(s.id.split("_textLayer_")[1],10),l=!1,this.isTouchSelection&&p.focusNode===this.pdfViewerBase.pageContainer&&((r=this.pdfViewerBase.pageContainer.lastChild).classList.contains("e-pv-touch-select-drop")?(A=r.previousSibling.previousSibling,a=parseInt(A.id.split("_pageDiv_")[1],10),s=this.pdfViewerBase.getElement("_textLayer_"+a).lastChild,l=!0):r.classList.contains("e-pv-page-div")&&(A=r,a=parseInt(A.id.split("_pageDiv_")[1],10),s=this.pdfViewerBase.getElement("_textLayer_"+a).lastChild,l=!0)),n.classList.contains("e-pv-maintaincontent")&&(n=this.getNodeElementFromNode(n),o=parseInt(n.id.split("text_")[1],10)),s.classList.contains("e-pv-maintaincontent")&&(s=this.getNodeElementFromNode(s),a=parseInt(s.id.split("text_")[1],10)),o===a&&(n.contains(s)&&(n=s),s.contains(n))&&(s=n),e=n.id.split("text_")[1]?parseInt(n.id.split("text_")[1].split("_")[1],10):null,t=s.id.split("text_")[1]?parseInt(s.id.split("text_")[1].split("_")[1],10):null,e=isNaN(e)?t:e,t=isNaN(t)?e:t,i=p.anchorOffset,l?s.textContent.length:p.focusOffset),this.pdfViewerBase.checkIsNormalText()&&(p.removeAllRanges(),this.pdfViewerBase.textLayer.clearDivSelection(),this.pdfViewerBase.textLayer.applySpanForSelection(o,a,e,t,i,d)),this.pdfViewer.textSearchModule)&&this.pdfViewer.textSearchModule.searchAfterSelection()},y.prototype.initiateTouchSelection=function(e,t,i){this.pdfViewerBase.isShapeBasedAnnotationsEnabled()&&0<this.pdfViewer.selectedItems.annotations.length&&this.pdfViewer.clearSelection(this.pdfViewer.selectedItems.annotations[0].pageIndex);var n=e.target,o=document.elementsFromPoint(e.touches[0].clientX,e.touches[0].clientY),o=(0!==o.length&&o[0].classList.contains("e-pv-hyperlink")&&o[1].classList.contains("e-pv-text")&&(n=o[1]),parseFloat(n.id.split("_")[2]));this.pdfViewer.fireTextSelectionStart(o+1),this.selectAWord(n,t,i,!0),this.createTouchSelectElement(e),this.maintainSelectionOnZoom(!0,!1),this.fireTextSelectEnd(),this.applySpanForSelection()},y.prototype.selectTextByTouch=function(e,t,i,n,o,r){var a=!1;if(e.nodeType===e.TEXT_NODE)for(var s=e.ownerDocument.createRange(),l=window.getSelection(),A=(s.selectNodeContents(e),0),d=s.endOffset;A<d;){if(s.setStart(e,A),s.setEnd(e,A+1),(h=s.getBoundingClientRect()).left<=t&&h.right>=t&&h.top<=i&&h.bottom>=i)return null!==l.anchorNode&&(n&&s.setStart(l.anchorNode,l.anchorOffset),s=this.setTouchSelectionStartPosition(l,s,n,o,e,A,r),n&&l.extend(e,A),a=!0),s.detach(),a;A+=1}else for(var p=0;p<e.childNodes.length;p++){var h,c=e.childNodes[parseInt(p.toString(),10)].ownerDocument.createRange();if(c.selectNodeContents(e.childNodes[parseInt(p.toString(),10)]),(h=c.getBoundingClientRect()).left<=t&&h.right>=t&&h.top<=i&&h.bottom>=i)return c.detach(),this.selectTextByTouch(e.childNodes[parseInt(p.toString(),10)],t,i,n,o,r);c.detach()}return a},y.prototype.setTouchSelectionStartPosition=function(e,t,i,n,o,r,a){var s;return i?"left"===n?(s=this.getTouchFocusElement(e,!0),t.setStart(s.focusNode,s.focusOffset),t.setEnd(o,r),this.selectionAnchorTouch={anchorNode:t.endContainer.parentElement.id,anchorOffset:t.endOffset}):"right"===n&&(s=this.getTouchAnchorElement(e,!1),t.setStart(s.anchorNode,s.anchorOffset),t.setEnd(o,r),this.selectionFocusTouch={focusNode:t.endContainer.parentElement.id,focusOffset:t.endOffset}):"left"===n?(!a&&(s=this.getTouchFocusElement(e,!1),t.setStart(o,r),t.setEnd(s.focusNode,s.focusOffset),""!==t.toString())||(t.setStart(o,r),t.setEnd(e.focusNode,e.focusOffset)),this.selectionAnchorTouch={anchorNode:t.startContainer.parentElement.id,anchorOffset:t.startOffset}):"right"===n&&(s=this.getTouchAnchorElement(e,!0),t.setStart(o,r),t.setEnd(s.anchorNode,s.anchorOffset),""===t.toString()&&(t.setStart(s.anchorNode,s.anchorOffset),t.setEnd(o,r)),this.selectionFocusTouch={focusNode:t.startContainer.parentElement.id,focusOffset:t.startOffset}),e.removeAllRanges(),e.addRange(t),t},y.prototype.getTouchAnchorElement=function(e,t){var i=document.getElementById(this.selectionAnchorTouch.anchorNode.toString()),n=null,o=0,o=i?(n=i.childNodes[0],parseInt(this.selectionAnchorTouch.anchorOffset.toString(),10)):t?(n=e.focusNode,e.focusOffset):(n=e.anchorNode,e.anchorOffset);return{anchorNode:n,anchorOffset:o}},y.prototype.getTouchFocusElement=function(e,t){var i=document.getElementById(this.selectionFocusTouch.focusNode.toString()),n=null,o=0,o=i?(n=i.childNodes[0],parseInt(this.selectionFocusTouch.focusOffset.toString(),10)):t?(n=e.anchorNode,e.anchorOffset):(n=e.focusNode,e.focusOffset);return{focusNode:n,focusOffset:o}},y.prototype.createTouchSelectElement=function(e){this.isTouchSelection=!0;var t,i,n,o,r,a=window.getSelection();"Range"===a.type&&(this.dropDivElementLeft=G.createElement("div",{id:this.pdfViewer.element.id+"_touchSelect_droplet_left",className:"e-pv-touch-select-drop"}),this.dropDivElementRight=G.createElement("div",{id:this.pdfViewer.element.id+"_touchSelect_droplet_right",className:"e-pv-touch-select-drop"}),this.dropElementLeft=G.createElement("div",{className:"e-pv-touch-ellipse"}),this.dropElementLeft.style.transform="rotate(0deg)",this.dropDivElementLeft.appendChild(this.dropElementLeft),this.dropElementRight=G.createElement("div",{className:"e-pv-touch-ellipse"}),this.dropElementRight.style.transform="rotate(-90deg)",this.dropElementRight.style.margin="0 9px 0 0",this.dropDivElementRight.appendChild(this.dropElementRight),this.pdfViewerBase.pageContainer.appendChild(this.dropDivElementLeft),this.pdfViewerBase.pageContainer.appendChild(this.dropDivElementRight),a=a.getRangeAt(0).getBoundingClientRect(),o=this.dropDivElementLeft.getBoundingClientRect(),t=this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber-1].top,i=this.pdfViewerBase.viewerContainer.getBoundingClientRect().left,r=(n=this.getClientValueTop(a.top,this.pdfViewerBase.currentPageNumber-1))-(2<this.pdfViewerBase.getZoomFactor()?8:1<this.pdfViewerBase.getZoomFactor()?4:0)+t*this.pdfViewerBase.getZoomFactor()+o.height/2*this.pdfViewerBase.getZoomFactor()+"px",this.dropDivElementLeft.style.top=r,this.dropDivElementLeft.style.left=a.left-(i+o.width)+this.pdfViewerBase.viewerContainer.scrollLeft+"px",this.dropDivElementRight.style.top=r,this.dropDivElementRight.style.left=a.left+a.width-i+this.pdfViewerBase.viewerContainer.scrollLeft+"px",o=this.pdfViewerBase.getElement("_pageDiv_"+(this.pdfViewerBase.currentPageNumber-1)).getBoundingClientRect().left,r=a.left-o,this.topStoreLeft={pageTop:t,topClientValue:this.getMagnifiedValue(n),pageNumber:this.pdfViewerBase.currentPageNumber-1,left:this.getMagnifiedValue(r),isHeightNeeded:!0},this.topStoreRight={pageTop:t,topClientValue:this.getMagnifiedValue(n),pageNumber:this.pdfViewerBase.currentPageNumber-1,left:this.getMagnifiedValue(r+a.width),isHeightNeeded:!0},this.dropDivElementLeft.addEventListener("touchstart",this.onLeftTouchSelectElementTouchStart),this.dropDivElementLeft.addEventListener("touchmove",this.onLeftTouchSelectElementTouchMove),this.dropDivElementLeft.addEventListener("touchend",this.onLeftTouchSelectElementTouchEnd),this.dropDivElementRight.addEventListener("touchstart",this.onRightTouchSelectElementTouchStart),this.dropDivElementRight.addEventListener("touchmove",this.onRightTouchSelectElementTouchMove),this.dropDivElementRight.addEventListener("touchend",this.onRightTouchSelectElementTouchEnd),this.calculateContextMenuPosition(e.touches[0].clientY+this.dropDivElementLeft.clientHeight+10,parseInt(this.dropDivElementLeft.style.left,10)-10))},y.prototype.calculateContextMenuPosition=function(t,i){var e,n=this,o=(G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&((e=t-this.contextMenuHeight)<this.pdfViewerBase.toolbarHeight?t+=this.contextMenuHeight:t=e,t+this.contextMenuHeight>window.innerHeight)&&(t-=this.contextMenuHeight),"MouseUp"===this.pdfViewer.contextMenuSettings.contextMenuAction&&(i-=50),this);setTimeout(function(){var e=document.getElementsByClassName("e-pv-maintaincontent").length,e=document.getElementsByClassName("e-pv-maintaincontent")[e-1]?document.getElementsByClassName("e-pv-maintaincontent")[e-1].getBoundingClientRect():null;e&&(t=e.bottom+o.contextMenuHeight+o.pdfViewerBase.toolbarHeight>window.innerHeight?e.top-(o.contextMenuHeight+o.pdfViewerBase.toolbarHeight-10):o.dropDivElementRight?e.bottom+o.dropDivElementRight.clientHeight:e.bottom,i=e.right,(e=n.pdfViewer.toolbarModule?n.pdfViewer.toolbarModule.annotationToolbarModule:"null")&&e.textMarkupToolbarElement&&0!==e.textMarkupToolbarElement.children.length||o.pdfViewerBase.contextMenuModule.open(t,i,o.pdfViewerBase.viewerContainer))})},y.prototype.initiateSelectionByTouch=function(){this.pdfViewerBase.textLayer.clearDivSelection(),this.pdfViewerBase.contextMenuModule.close();for(var e=this.pdfViewerBase.currentPageNumber-3,t=(t=this.pdfViewer.currentPageNumber+1)<this.pdfViewerBase.pageCount-1?t:this.pdfViewerBase.pageCount-1,i=e<0?0:e;i<=t;i++){var n=this.pdfViewerBase.getElement("_textLayer_"+i);n&&null!==n.childNodes&&this.applySelectionMouseScroll(i)}0<this.selectionRangeArray.length&&this.pdfViewer.fireTextSelectionStart(this.selectionRangeArray[0].pageNumber+1)},y.prototype.terminateSelectionByTouch=function(e){var t,i;this.maintainSelectionOnZoom(!0,!1),this.applySpanForSelection(),this.pdfViewerBase.getTextMarkupAnnotationMode()?this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode):(this.fireTextSelectEnd(),t=e.changedTouches[0].clientY,(i=this.getSpanBounds())&&(i.bottom+this.contextMenuHeight+this.pdfViewerBase.toolbarHeight>window.innerHeight&&(t=i.top-(this.contextMenuHeight+this.pdfViewerBase.toolbarHeight)),this.pdfViewerBase.contextMenuModule.open(t,e.changedTouches[0].clientX,this.pdfViewerBase.viewerContainer)))},y.prototype.getSpanBounds=function(){var e=[],t=[],i=[],n=0,o=document.getElementsByClassName("e-pv-maintaincontent");if(0<o.length){for(var r=0;r<o.length;r++){var a=o[parseInt(r.toString(),10)].getBoundingClientRect();n+=a.height,e.push(a.width),t.push(a.right),i.push(a.left)}return{top:o[0].getBoundingClientRect().top,bottom:o[o.length-1].getBoundingClientRect().bottom,left:Math.min.apply(null,i),right:Math.max.apply(null,t),width:Math.max.apply(null,e),height:n}}},y.prototype.getNodeElement=function(e,t,i,n,o){var r;return document.caretRangeFromPoint?(e=document.caretRangeFromPoint(t,i),o=this.onTouchElementScroll(e,o,i,n)):document.caretPositionFromPoint&&(r=document.caretPositionFromPoint(t,i),t=document.caretPositionFromPoint(t,i),(e=document.createRange()).setStart(r.offsetNode,r.offset),e.setEnd(t.offsetNode,t.offset),o=this.onTouchElementScroll(e,o,i,n)),o},y.prototype.isTouchedWithinContainer=function(e){var t=!1;return t=0!==document.elementsFromPoint(e.touches[0].clientX,e.touches[0].clientY).length?!0:t},y.prototype.onTouchElementScroll=function(e,t,i,n){var o=this.pdfViewerBase.viewerContainer.scrollTop;return null!=e&&(t=e.startContainer,e=this.isScrolledOnScrollBar(n),this.pdfViewerBase.viewerContainer.contains(t.parentElement))&&!e||(i<this.pdfViewerBase.viewerContainer.clientHeight?this.pdfViewerBase.viewerContainer.scrollTop=o-30:this.pdfViewerBase.viewerContainer.scrollTop=o+30),t},y.prototype.isCloserTouchScroll=function(e){var t=!1;return t=this.previousScrollDifference>e?!0:t},y.prototype.getClientValueTop=function(e,t){return this.pdfViewerBase.getElement("_pageDiv_"+t)?e-this.pdfViewerBase.getElement("_pageDiv_"+t).getBoundingClientRect().top:e},y.prototype.isScrolledOnScrollBar=function(e){var t=!1;return t=e.touches&&this.pdfViewerBase.viewerContainer.clientHeight+this.pdfViewerBase.viewerContainer.offsetTop<e.touches[0].clientY&&e.touches[0].clientY<this.pdfViewerBase.viewerContainer.offsetHeight+this.pdfViewerBase.viewerContainer.offsetTop?!0:t},y.prototype.getTextLastLength=function(e){return e?e.textContent.length:0},y.prototype.getNodeElementFromNode=function(e){return e.parentElement||e.parentNode},y.prototype.copyText=function(){var e="";if(this.maintainSelectionOnZoom(!0,!1),0<this.selectionRangeArray.length)for(var t=0;t<this.selectionRangeArray.length;t++)e+=this.selectionRangeArray[parseInt(t.toString(),10)].textContent;if(0<e.length){this.pdfViewer.annotation&&(this.pdfViewer.annotation.isShapeCopied=!1);var i=document.createElement("textarea");i.contentEditable="true",i.textContent=e,this.pdfViewer.annotation&&this.pdfViewer.annotation.freeTextAnnotationModule&&(this.pdfViewer.annotation.freeTextAnnotationModule.selectedText=e),i.style.position="fixed",document.body.appendChild(i),i.select();try{document.execCommand("copy")}catch(e){console.warn("Copy to clipboard failed.",e)}finally{i&&document.body.removeChild(i)}}},y.prototype.destroy=function(){this.clear()},y.prototype.getModuleName=function(){return"TextSelection"};var Pa=y;function y(e,t){var l=this;this.isTextSelection=!1,this.selectionStartPage=null,this.isBackwardPropagatedSelection=!1,this.contextMenuHeight=144,this.backwardStart=0,this.selectionRangeArray=[],this.selectionAnchorTouch=null,this.selectionFocusTouch=null,this.scrollMoveTimer=0,this.isMouseLeaveSelection=!1,this.isTouchSelection=!1,this.previousScrollDifference=0,this.topStoreLeft=null,this.topStoreRight=null,this.isTextSearched=!1,this.isSelectionStartTriggered=!1,this.allTextContent="",this.onLeftTouchSelectElementTouchStart=function(e){l.initiateSelectionByTouch()},this.onRightTouchSelectElementTouchStart=function(e){l.initiateSelectionByTouch()},this.onLeftTouchSelectElementTouchEnd=function(e){l.terminateSelectionByTouch(e)},this.onRightTouchSelectElementTouchEnd=function(e){l.terminateSelectionByTouch(e)},this.onLeftTouchSelectElementTouchMove=function(e){e.preventDefault(),e.target.style.zIndex="0";var t,i,n,o,r,a=l.dropDivElementRight,s=l.isTouchedWithinContainer(e);a&&s&&(s=a.getBoundingClientRect(),a=e.changedTouches[0].clientX,t=e.changedTouches[0].clientY,e.target.style.zIndex="1000",r=l.getNodeElement(void 0,a,t,e,r))&&(e=Math.sqrt((t-s.top)*(t-s.top)+(a-s.left)*(a-s.left)),i=l.isCloserTouchScroll(e),o=l.pdfViewerBase.getZoomFactor(),n=Math.abs(t-s.top),o=1<o?15:.7<o?10:.5<o?8:4,parseInt(t.toString(),10)<=parseInt(s.top.toString(),10)&&parseInt(n.toString(),10)>=o||parseInt(a.toString(),10)<=parseInt(s.left.toString(),10)&&parseInt(n.toString(),10)<=o?(l.dropElementLeft.style.transform="rotate(0deg)",l.dropElementRight.style.transform="rotate(-90deg)",l.selectTextByTouch(r.parentElement,a,t,!1,"left",i)):(l.dropElementLeft.style.transform="rotate(-90deg)",l.dropElementRight.style.transform="rotate(0deg)",l.selectTextByTouch(r.parentElement,a,t,!0,"left",i)))&&(s=l.dropDivElementLeft.getBoundingClientRect(),n=l.pdfViewerBase.pageSize[l.pdfViewerBase.currentPageNumber-1].top,o=l.getClientValueTop(t,l.pdfViewerBase.currentPageNumber-1),r=a-l.pdfViewerBase.getElement("_pageDiv_"+(l.pdfViewerBase.currentPageNumber-1)).getBoundingClientRect().left,l.dropDivElementLeft.style.top=n*l.pdfViewerBase.getZoomFactor()+o+"px",l.topStoreLeft={pageTop:n,topClientValue:l.getMagnifiedValue(o),pageNumber:l.pdfViewerBase.currentPageNumber-1,left:l.getMagnifiedValue(r),isHeightNeeded:!1},l.dropDivElementLeft.style.left=a-l.pdfViewerBase.viewerContainer.getBoundingClientRect().left-s.width/2+l.pdfViewerBase.viewerContainer.scrollLeft+"px",l.previousScrollDifference=e)},this.onRightTouchSelectElementTouchMove=function(e){e.preventDefault(),e.target.style.zIndex="0";var t,i,n,o,r,a=l.dropDivElementLeft,s=l.isTouchedWithinContainer(e);a&&s&&(s=a.getBoundingClientRect(),a=e.changedTouches[0].clientX,t=e.changedTouches[0].clientY,e.target.style.zIndex="1000",r=l.getNodeElement(void 0,a,t,e,r))&&(e=Math.sqrt((t-s.top)*(t-s.top)+(a-s.left)*(a-s.left)),i=l.isCloserTouchScroll(e),o=l.pdfViewerBase.getZoomFactor(),n=Math.abs(t-s.top),o=1<o?25*o:.7<o?15:.5<o?8:7,parseInt(t.toString(),10)>=parseInt(s.top.toString(),10)&&parseInt(n.toString(),10)>=o||parseInt(n.toString(),10)<=o&&parseInt(a.toString(),10)>=parseInt(s.left.toString(),10)?(l.dropElementRight.style.transform="rotate(-90deg)",l.dropElementLeft.style.transform="rotate(0deg)",l.selectTextByTouch(r.parentElement,a,t,!0,"right",i)):(l.dropElementRight.style.transform="rotate(0deg)",l.dropElementLeft.style.transform="rotate(-90deg)",l.selectTextByTouch(r.parentElement,a,t,!1,"right",i)))&&(n=l.pdfViewerBase.pageSize[l.pdfViewerBase.currentPageNumber-1].top,o=l.getClientValueTop(t,l.pdfViewerBase.currentPageNumber-1),s=l.dropDivElementRight.getBoundingClientRect(),l.dropDivElementRight.style.top=n*l.pdfViewerBase.getZoomFactor()+o+"px",r=a-l.pdfViewerBase.getElement("_pageDiv_"+(l.pdfViewerBase.currentPageNumber-1)).getBoundingClientRect().left,l.topStoreRight={pageTop:n,topClientValue:l.getMagnifiedValue(o),pageNumber:l.pdfViewerBase.currentPageNumber-1,left:l.getMagnifiedValue(r),isHeightNeeded:!1},l.dropDivElementRight.style.left=a-l.pdfViewerBase.viewerContainer.getBoundingClientRect().left-s.width/2+l.pdfViewerBase.viewerContainer.scrollLeft+"px",l.previousScrollDifference=e)},this.pdfViewer=e,this.pdfViewerBase=t}var Na=function(){return(Na=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ra=[],La=(I.prototype.createTextSearchBox=function(){var t,n=this,e=(this.searchBox=G.createElement("div",{id:this.pdfViewer.element.id+"_search_box",className:"e-pv-text-search-bar"}),(e=G.isBlazor()?document.getElementById("toolbarContainer"):this.pdfViewerBase.getElement("_toolbarContainer"))&&(G.isBlazor(),this.searchBox.style.top=e.clientHeight+"px"),G.createElement("div",{id:this.pdfViewer.element.id+"_search_box_elements",className:"e-pv-text-search-bar-elements"})),i=(this.searchInputContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_search_input_container",className:"e-input-group e-pv-text-search-input"}),this.searchInput=G.createElement("input",{id:this.pdfViewer.element.id+"_search_input",className:"e-input e-pv-search-input-ele"}),this.searchAutocompleteObj=new U.AutoComplete({dataSource:[{SearchString:"",Count:""}],fields:{value:"SearchString"},headerTemplate:'<div class="e-pv-automplete-header"><span class="e-pv-search-exact-matches">'+this.pdfViewer.localeObj.getConstant("Exact Matches")+'</span><span class="e-pv-total-exact-matches"></span></div>',itemTemplate:'<div class="e-pv-autocomplete-item"><span class="e-pv-autocomplete-word"> ${SearchString} </span><span class="e-pv-autocomplete-count">${Count}</span></div>',placeholder:this.pdfViewer.localeObj.getConstant("Find in document"),popupHeight:"200px",beforeOpen:function(e){Array.isArray(n.autompleteDataSource)&&0===n.autompleteDataSource.length&&(e.cancel=!0)},select:function(e){n.isSelectedFromPopup=!0,n.isSingleSearch=!0,n.isMultiSearch=!1,n.isExactMatch=!0,n.initiateSearch(e.itemData.SearchString)},filtering:function(t){n.isDocumentTextCollectionReady||(n.resetVariablesTextSearch(),n.clearAllOccurrences()),n.isSelectedFromPopup=!1,n.searchCountEle&&(n.searchCountEle.innerHTML="",n.adjustInputContainerWidth()),n.isSingleSearch=!1,n.isExactMatch=!1,n.isMultiSearch=n.matchAnyWordCheckBox.checked,n.initiateTextSearch(t.text),""===t.text&&(clearInterval(n.intervalId),n.showLoadingIndicator(!1)),n.searchString="",n.documentTextCollection.length===n.pdfViewerBase.pageCount&&(n.isDocumentTextCollectionReady=!0);var i=setInterval(function(){var e;n.documentTextCollection.length===n.pdfViewerBase.pageCount&&(t.updateData(n.autompleteDataSource,null),Array.isArray(n.autompleteDataSource)&&0!==n.autompleteDataSource.length?(e=n.autompleteDataSource.reduce(function(e,t){return e+parseInt(t.Count,10)},0),document.querySelector(".e-pv-total-exact-matches").innerHTML=e,n.isMultiSearch?document.querySelector(".e-pv-search-exact-matches").innerHTML=n.pdfViewer.localeObj.getConstant("Total Matches"):document.querySelector(".e-pv-search-exact-matches").innerHTML=n.pdfViewer.localeObj.getConstant("Exact Matches")):0===n.autompleteDataSource.length&&(e=document.querySelector(".e-pv-total-exact-matches"),G.isNullOrUndefined(e)||(e.innerHTML="0"),n.searchAutocompleteObj.hidePopup()),clearInterval(i),n.isDocumentTextCollectionReady=!0)},1e3)},created:function(e){n.searchAutocompleteObj.element.addEventListener("keydown",function(e){"Enter"===e.key&&(n.isSingleSearch=!0,n.isExactMatch=n.isSelectedFromPopup,n.isMultiSearch=!1,!n.isDocumentTextCollectionReady&&n.pdfViewerBase.clientSideRendering?(""!==n.searchInput.value&&n.searchInput.value!==n.searchString&&(n.isTextSearchHandled=!1,n.searchCount=0,n.searchIndex=0,n.searchPageIndex=0,n.textSearchWhileLoading(n.searchInput.value,n.isMatchCase),n.searchString=n.searchInput.value),n.isTextSearchHandled&&n.nextSearch()):n.initiateTextSearch(n.searchInput.value),0!==n.searchCount||n.isMessagePopupOpened||n.documentTextCollection.length!==n.pdfViewerBase.pageCount||n.onMessageBoxOpen())}),n.searchAutocompleteObj.element.parentElement.querySelector(".e-clear-icon").addEventListener("mousedown",function(e){n.showLoadingIndicator(!1),clearInterval(n.intervalId),n.searchInput.value="",n.resetTextSearch(),n.searchCountEle&&(n.searchCountEle.innerHTML="",n.adjustInputContainerWidth()),n.searchInput.focus(),n.searchString=""})}}),this.searchBtn=G.createElement("span",{id:this.pdfViewer.element.id+"_search_box-icon",className:"e-input-group-icon e-input-search-group-icon e-pv-search-icon"}),this.searchBtn.setAttribute("tabindex","0"),this.searchInputContainer.appendChild(this.searchInput),this.searchAutocompleteObj.appendTo(this.searchInput),e.appendChild(this.searchInputContainer),this.searchCountEle=G.createElement("span",{id:this.pdfViewer.element.id+"_search_count",className:"e-pv-search-count",innerHTML:""}),e.appendChild(this.searchCountEle),this.pdfViewer.enableRtl?this.prevSearchBtn=this.createSearchBoxButtons("prev_occurrence","e-pv-next-search"):this.prevSearchBtn=this.createSearchBoxButtons("prev_occurrence","e-pv-prev-search"),this.prevSearchBtn.setAttribute("aria-label","Previous Search text"),e.appendChild(this.prevSearchBtn),this.pdfViewer.enableRtl?this.nextSearchBtn=this.createSearchBoxButtons("next_occurrence","e-pv-prev-search"):this.nextSearchBtn=this.createSearchBoxButtons("next_occurrence","e-pv-next-search"),this.nextSearchBtn.setAttribute("aria-label","Next Search text"),e.appendChild(this.nextSearchBtn),G.createElement("div",{id:this.pdfViewer.element.id+"_match_case_container",className:"e-pv-textsearch-match-case-container"})),o=G.createElement("input",{id:this.pdfViewer.element.id+"_match_case"}),r=(o.type="checkbox",G.isBlazor()&&(o.style.height="17px",o.style.width="17px",o.addEventListener("change",this.checkBoxOnChange.bind(this))),i.appendChild(o),G.createElement("input",{id:this.pdfViewer.element.id+"_match_any_word"})),e=(r.type="checkbox",i.appendChild(r),this.searchBox.appendChild(e),this.searchBox.appendChild(i),this.pdfViewerBase.mainContainer.appendChild(this.searchBox),G.isBlazor()?(t=G.createElement("span",{id:this.pdfViewer.element.id+"_search_box_text",styles:"position: absolute; padding-top: 3px; padding-left: 8px; padding-right: 8px; font-size: 13px"}),this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_Matchcase").then(function(e){t.textContent=e}),i.appendChild(t)):(new L.CheckBox({cssClass:"e-pv-match-case",label:this.pdfViewer.localeObj.getConstant("Match case"),htmlAttributes:{tabindex:"0"},change:this.checkBoxOnChange.bind(this)}).appendTo(o),this.matchAnyWordCheckBox=new L.CheckBox({cssClass:"e-pv-match-any-word",label:this.pdfViewer.localeObj.getConstant("Match any word"),htmlAttributes:{tabindex:"0"},change:function(){n.isMultiSearch=n.matchAnyWordCheckBox.checked}}),this.matchAnyWordCheckBox.appendTo(r)),i.firstElementChild.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.target.click(),e.preventDefault(),e.stopPropagation())}),r.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.target.click(),e.preventDefault(),e.stopPropagation())}),G.createElement("div",{id:this.pdfViewer.element.id+"_textSearchLoadingIndicator"}));this.searchInputContainer.appendChild(e),e.style.position="absolute",e.style.top="15px",e.style.left=this.searchInputContainer.clientWidth-46+"px",Ri({target:e,cssClass:"e-spin-center"}),this.setLoaderProperties(e),this.showSearchBox(!1),this.pdfViewer.enableRtl?(this.searchBox.classList.add("e-rtl"),this.searchBox.style.left="88.3px"):(this.searchBox.classList.remove("e-rtl"),this.searchBox.style.right="88.3px"),this.searchBtn.addEventListener("click",this.searchClickHandler.bind(this)),this.searchBtn.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(n.searchClickHandler(e),e.preventDefault(),e.stopPropagation())}),this.nextSearchBtn.addEventListener("click",this.nextButtonOnClick.bind(this)),this.prevSearchBtn.addEventListener("click",this.prevButtonOnClick.bind(this))},I.prototype.setLoaderProperties=function(e){e=e.firstChild.firstChild.firstChild;e&&(e.style.height="18px",e.style.width="18px",e.style.transformOrigin="9px 9px 9px")},I.prototype.showLoadingIndicator=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_textSearchLoadingIndicator");t&&(e?Xi:$i)(t)},I.prototype.textSearchWhileLoading=function(e,t,i,n,o,r){var a,s,n=n||100,r=r||!1;n>=this.pdfViewerBase.pageCount&&(n=this.pdfViewerBase.pageCount,r=!0),this.pdfViewerBase.clientSideRendering||(s={text:e,matchCase:t,documentId:(a=this).pdfViewerBase.getDocumentId(),hashId:this.pdfViewerBase.hashId,action:"SearchTextPdf",elementId:this.pdfViewer.element.id,uniqueId:this.pdfViewerBase.documentId,startIndex:i||0,endIndex:n,isCompleted:r,isRequestsend:!!G.isNullOrUndefined(o)||o},this.textSearchHandleRequest=new Bn(this.pdfViewer),this.textSearchHandleRequest.url=this.pdfViewer.serviceUrl+"/SearchTextPdf",this.textSearchHandleRequest.responseType="json",this.textSearchHandleRequest.send(s),this.textSearchHandleRequest.onSuccess=function(e){e=e.data;if(e)try{a.searchTextAfteresult(e.resultPages,e.totalSearchCount,e.searchWord,e.matchCase,"true"===e.isRequestsend.toLowerCase(),"true"===e.isCompleted.toLowerCase(),e.endIndex)}catch(e){}}),this.pdfViewerBase.clientSideRendering&&this.pdfViewerBase.pdfViewerRunner.addTask({message:"searchText",zoomFactor:this.pdfViewerBase.getZoomFactor(),searchWord:e,matchCase:t,startIndex:i||0,endIndex:n,isCompleted:r,isRequestsend:!G.isNullOrUndefined(o)&&o},ln.Medium)},I.prototype.searchTextAfteresult=function(e,t,i,n,o,r,a){var s;0===t&&0===this.searchCount?r&&(this.isTextSearchHandled=!0,this.pdfViewerBase.createNotificationPopup(this.pdfViewer.localeObj.getConstant("No Matches")),this.showLoadingIndicator(!1)):this.isSingleSearch&&this.searchString===i&&this.isMatchCase===n&&(this.textSearchOpen||this.programaticalSearch)&&(this.isTextSearchHandled=!0,s=this.getSearchTextDetails,this.getSearchTextDetails=Na({},s,e),this.hightlightSearchedTexts(this.searchPageIndex,o),r?this.showLoadingIndicator(!1):this.showLoadingIndicator(!0),this.searchCount=this.searchCount+t,o||(this.currentOccurrence=1,this.searchedOccurrences.push(this.currentOccurrence),1===this.searchedOccurrences.length&&this.pdfViewer.fireTextSearchStart(this.searchString,this.isMatchCase)),this.searchCountEle.style.display="inline-block",this.getSearchCountText(),this.updateLoadingIndicator()),r||this.searchString!==i||!this.textSearchOpen&&!this.programaticalSearch||this.textSearchWhileLoading(i,n,a,a+100,0!==this.searchCount,r)},I.prototype.updateLoadingIndicator=function(){document.getElementById(this.pdfViewer.element.id+"_textSearchLoadingIndicator").style.left=this.searchInputContainer.clientWidth-46+"px"},I.prototype.hightlightSearchedTexts=function(e,t,i){this.clearAllOccurrences();var n,o,r=[];for(o in this.getSearchTextDetails)Object.prototype.hasOwnProperty.call(this.getSearchTextDetails,o)&&r.push(parseInt(o,10));if(r.sort(function(e,t){return e-t}),!G.isNullOrUndefined(e)){for(var a=r[r.length-1],s=r[0],l=0;l<r.length;l++)if(r[parseInt(l.toString(),10)]<e)a=r[parseInt(l.toString(),10)];else if(r[parseInt(l.toString(),10)]>e){s=r[parseInt(l.toString(),10)];break}this.getSearchTextDetails[parseInt(e.toString(),10)]||(e=s),(this.searchIndex+1>this.getSearchTextDetails[parseInt(e.toString(),10)].pageOccurrence||this.searchIndex<0)&&(this.searchIndex+1>this.getSearchTextDetails[parseInt(e.toString(),10)].pageOccurrence&&(e=e+1===r[r.length-1]?0:s,this.searchIndex=0),this.searchIndex<0)&&(e=e-1==-1?r[r.length-1]:a,this.searchIndex=this.getSearchTextDetails[parseInt(e.toString(),10)].pageOccurrence-1)}for(o in this.getSearchTextDetails)if(Object.prototype.hasOwnProperty.call(this.getSearchTextDetails,o)){var A,d=this.getSearchTextDetails[parseInt(o.toString(),10)],p=0;for(A in d.Bounds){if(Object.prototype.hasOwnProperty.call(d.Bounds,A))for(var h=d.Bounds[parseInt(A.toString(),10)],l=0;l<h.length;l++){var c,g=!0===this.pdfViewerBase.clientSideRendering?h[parseInt(l.toString(),10)].Left:this.pdfViewerBase.ConvertPointToPixel(h[parseInt(l.toString(),10)].Left),u=!0===this.pdfViewerBase.clientSideRendering?h[parseInt(l.toString(),10)].Top:this.pdfViewerBase.ConvertPointToPixel(h[parseInt(l.toString(),10)].Top),f=!0===this.pdfViewerBase.clientSideRendering?h[parseInt(l.toString(),10)].Height:this.pdfViewerBase.ConvertPointToPixel(h[parseInt(l.toString(),10)].Height),m=!0===this.pdfViewerBase.clientSideRendering?h[parseInt(l.toString(),10)].Width:this.pdfViewerBase.ConvertPointToPixel(h[parseInt(l.toString(),10)].Width),w=null;G.isNullOrUndefined(i)?w=e||r[0]:i&&(w=null),this.searchIndex===p&&w===Number(o)?(n=p,(G.isNullOrUndefined(t)||t)&&!G.isNullOrUndefined(t)||this.pdfViewerBase.updateScrollTop(Number(o)),w="_searchtext_"+Number(o)+"_"+p,c=void 0,(c=h.length<=1||0===l?document.getElementById(this.pdfViewer.element.id+w):document.getElementById(this.pdfViewer.element.id+w+"_"+l))&&c.parentElement.removeChild(c),this.searchPageIndex=Number(o),this.createSearchTextDiv(p,Number(o),f,m,u,g,"e-pv-search-text-highlight",!1,0,l)):this.createSearchTextDiv(p,Number(o),f,m,u,g,"e-pv-search-text-highlightother",!1,0,l)}p++}}(G.isNullOrUndefined(t)||t)&&!G.isNullOrUndefined(t)||(c=this.pdfViewerBase.getElement("_searchtext_"+this.searchPageIndex+"_"+n),this.scrollToSearchStr(c,{y:-100,x:-100}))},I.prototype.textSearchBoxOnResize=function(){var e;this.pdfViewer.toolbarModule&&this.pdfViewer.enableToolbar?(e=this.pdfViewerBase.getElement("_toolbarContainer_popup"))&&e.contains(this.pdfViewerBase.getElement("_search").parentElement)&&(this.searchBox.style.right="0px"):this.pdfViewerBase.viewerContainer.clientWidth+this.pdfViewerBase.viewerContainer.offsetLeft<this.searchBox.offsetLeft+this.searchBox.clientWidth?(this.searchBox.style.right="0px",this.searchBox.style.width=parseInt(this.searchBox.style.width,10)-(this.searchBox.offsetLeft+this.searchBox.clientWidth-this.pdfViewerBase.viewerContainer.clientWidth)+"px",this.searchInput.style.width=parseInt(this.searchInput.style.width,10)-(this.searchBox.offsetLeft+this.searchBox.clientWidth-this.pdfViewerBase.viewerContainer.clientWidth)+"px"):(this.searchBox.style.right="88.3px",this.searchBox.style.width="",this.searchInput.style.width="")},I.prototype.showSearchBox=function(e){G.isNullOrUndefined(this.searchBox)||(e?(this.searchBox.style.display="block",this.textSearchOpen=!0):(this.searchBox.style.display="none",this.searchInput.value="",this.searchCountEle.style.display="none",this.pdfViewer.toolbarModule&&(this.pdfViewer.toolbarModule.isTextSearchBoxDisplayed=!1),this.textSearchOpen=!1),this.onTextSearchClose())},I.prototype.searchAfterSelection=function(){0===this.currentOccurrence&&(this.searchPageIndex=this.pdfViewerBase.currentPageNumber-1,this.startSearchPageIndex=this.searchPageIndex),this.isTextSearch&&0!==this.currentOccurrence&&(this.initSearch(this.searchPageIndex,!0),this.highlightOthers())},I.prototype.calculateSearchCount=function(t,e){var i=this;if(this.searchCount=0,this.isTextSearchHandled||(this.currentOccurrence=0,this.resetVariables(),this.searchIndex=0),t&&""!==t.trim())if(this.isMultiSearch){this.searchCountEle&&(this.searchCountEle.innerHTML="",this.adjustInputContainerWidth());var n=t.split(" ");this.multiSearchCounts={};for(var o=0,r=n;o<r.length;o++){var a=(a=r[o]).trim();if(""!==a){for(var s=0,l=0;l<e.length;l++)for(var A=parseInt(Object.keys(e[parseInt(l.toString(),10)])[0],10),d=(c=e[parseInt(l.toString(),10)][parseInt(A.toString(),10)]).pageText||c.PageText,p=(this.isMatchCase||(d=d.toLowerCase(),a=a.toLowerCase()),d.indexOf(a));-1!==p;)s++,p=d.indexOf(a,p+1);this.multiSearchCounts[""+a]=s}}n=Object.keys(this.multiSearchCounts).map(function(e){return{SearchString:e,Count:i.multiSearchCounts[""+e].toString()}});this.autompleteDataSource=n}else{for(var h={},l=0;l<e.length;l++){var c,A=parseInt(Object.keys(e[parseInt(l.toString(),10)])[0],10),g=(d=(c=e[parseInt(l.toString(),10)][parseInt(A.toString(),10)]).pageText||c.PageText).replace(/(\s\r\n)/gm," ").replace(/(\r\n)/gm," "),u=d.replace(/(\s\r\n)/gm,"  ").replace(/(\r\n)/gm," "),f=g.replace(/[^a-zA-Z0-9]+/g," "),m=void 0,w=t.length,B=[],C=[],p=-w,S=-w,y=-w,I=-w,E=-w;for(this.isMatchCase||(t=t.toLowerCase(),d=d.toLowerCase(),g=g.toLowerCase(),u=u.toLowerCase(),f=f.toLowerCase());(0!==p||0===p&&0<B.length&&0===B[0])&&t&&" "!==t;){if(this.isExactMatch){for(var Q=void 0,D=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),x=new RegExp("(?<!\\w)"+D+"(?!\\w)","g"),Q=x.exec(d);null!==Q;)B.push(Q.index),Q=x.exec(d);break}if(p=d.indexOf(t,p+w),-1!==t.indexOf(" ")&&(D=t.replace(" ","\r\n"),(S=d.indexOf(D,S+w))<=-1||S<p&&B.push(S)),p<=-1&&S<=-1)break;p<=-1||B.push(p),p<S&&!(S<=-1)&&B.push(S)}if(0===B.length){if(y=g.indexOf(t,y+w),I=u.indexOf(t,I+w),E=f.indexOf(t,E+w),-1!==y){p=-(m=this.correctLinetext(t,p,d))[0].length;for(var V=0;V<m.length;V++)p=d.indexOf(m[parseInt(V.toString(),10)].trim(),p+(void 0===m[V-1]?m[0]:m[V-1]).length),C.push(p),1<C.length&&(C[1]-(C[0]+m[0].length)<=3?(B.push(C),this.searchMatches[parseInt(A.toString(),10)]=B):(V=-1,p=C[0]+m[0].length,C.splice(0,C.length)))}else if(-1!==E){p=-(m=this.correctLinetext(t,p,d))[0].length;for(var b=0;b<m.length;b++)p=d.indexOf(m[parseInt(b.toString(),10)].trim(),p+(void 0===m[b-1]?m[0]:m[b-1]).length),C.push(p),1<C.length&&(C[1]-(C[0]+m[0].length)<=3?(B.push(C),this.searchMatches[parseInt(A.toString(),10)]=B):(b=-1,p=C[0]+m[0].length,C.splice(0,C.length)))}else if(-1!==I){p=-(m=this.correctLinetext(t,p,d))[0].length;for(var M=0;M<m.length;M++)p=d.indexOf(m[parseInt(M.toString(),10)].trim(),p+(void 0===m[M-1]?m[0]:m[M-1]).length),C.push(p),1<C.length&&(C[1]-(C[0]+m[0].length)<=3?(B.push(C),this.searchMatches[parseInt(A.toString(),10)]=B):(M=-1,p=C[0]+m[0].length,C.splice(0,C.length)))}1<B.length&&B.splice(1,B.length)}g=d.match(/[a-zA-Z]+|\d+/g);G.isNullOrUndefined(g)||g.forEach(function(e){e.startsWith(t)&&(h[""+e]?h[""+e]++:h[""+e]=1)}),0<B.length&&(this.searchCount=this.searchCount+B.length),this.searchMatches&&0<B.length&&(this.searchMatches[parseInt(A.toString(),10)]=B)}n=Object.keys(h).map(function(e){return{SearchString:e,Count:h[""+e].toString()}});this.isSingleSearch?(this.searchCountEle&&(-1!==this.searchedOccurrences.indexOf(this.currentOccurrence+1)||this.isTextSearchHandled||this.searchedOccurrences.push(this.currentOccurrence+1),this.adjustInputContainerWidth()),1===this.searchedOccurrences.length&&this.pdfViewer.fireTextSearchStart(this.searchString,this.isMatchCase),this.isTextSearchHandled||(this.currentOccurrence+=1)):this.searchAutocompleteObj&&(this.autompleteDataSource=n)}else this.searchCountEle&&(this.searchCountEle.innerHTML="",this.adjustInputContainerWidth())},I.prototype.getSearchCountText=function(){this.pdfViewer.enableRtl?this.searchCountEle.innerHTML=this.searchCount+" "+this.pdfViewer.localeObj.getConstant("of")+" "+this.currentOccurrence:this.searchCountEle.innerHTML=this.currentOccurrence+" "+this.pdfViewer.localeObj.getConstant("of")+" "+this.searchCount},I.prototype.adjustInputContainerWidth=function(){var e=this.searchCountEle.parentElement;0<this.searchCount?(G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&e&&(e.style.display="block"),this.searchCountEle.style.display="inline-block"):(this.searchCountEle.style.display="none",G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&e&&(e.style.display="none"))},I.prototype.initiateTextSearch=function(e,t){this.enableNextButton(!0),this.enablePrevButton(!0),this.autompleteDataSource=[],(e=this.pdfViewer.enableHtmlSanitizer&&"string"==typeof e?G.SanitizeHtmlHelper.sanitize(e):e)&&0<e.length&&" "===e[e.length-1]&&(e=e.slice(0,e.length-1)),this.initiateSearch(e,t)},I.prototype.handleSearchAfterTextCollectionReady=function(e,t){var i;t&&(i=document.getElementById(this.pdfViewer.element.id+"_search_count"),this.searchCountEle=i),this.isSingleSearch=t||this.isSingleSearch,e===this.searchString&&!this.isLastOccurrenceCompleted||(this.isTextSearchHandled=!1,this.calculateSearchCount(e,this.documentTextCollection),this.isInitialSearch=!0,this.isLastOccurrenceCompleted=!1,0!==this.currentOccurrence)||(this.startSearchPageIndex=this.searchPageIndex),e===this.searchString&&null!==this.searchPageIndex&&null!==this.startSearchPageIndex||(this.isTextSearch=!1,this.isTextSearchHandled)||(this.searchPageIndex=this.pdfViewerBase.currentPageNumber-1,this.startSearchPageIndex=this.searchPageIndex),this.isTextSearchHandled||this.clearAllOccurrences(),""!==e&&!this.isMultiSearch&&this.isSingleSearch&&0<this.searchCount&&(this.searchMatches[this.searchPageIndex]&&e===this.searchString?0===this.searchMatches[this.searchPageIndex].length?this.initSearch(this.searchPageIndex,!1):this.nextSearch():G.isNullOrUndefined(this.searchMatches[this.searchPageIndex])&&e===this.searchString?this.initSearch(this.searchPageIndex,!1):this.textSearch(e)),""===e&&(this.searchString="")},I.prototype.initiateSearch=function(e,t){var i=this,n=this.pdfViewerBase.pageCount;G.isNullOrUndefined(this.intervalId)||clearInterval(this.intervalId);this.isDocumentTextCollectionReady?this.handleSearchAfterTextCollectionReady(e,t):this.intervalId=setInterval(function(){i.isTextSearchHandled||i.showLoadingIndicator(!0),i.documentTextCollection.length===n&&(clearInterval(i.intervalId),i.isDocumentTextCollectionReady=!0,i.calculateSearchCount(i.searchInput.value,i.documentTextCollection),i.getSearchTextDetails={},i.showLoadingIndicator(!1),i.intervalId=null,i.isTextSearchHandled||i.handleSearchAfterTextCollectionReady(e,t)),t&&i.pdfViewerBase.navigationPane&&i.pdfViewerBase.navigationPane.setSearchInputWidth()},1e3)},I.prototype.textSearch=function(e){if(""!==e||e){if(this.searchString=e,this.isTextSearch=!0,this.isSearchText=!0,this.searchPageIndex=this.pdfViewerBase.currentPageNumber-1,this.isTextSearchEventTriggered=!1,this.isTextSearchHandled||this.showLoadingIndicator(!0),this.pdfViewer.isExtractText)if(this.isTextRetrieved)for(var t=0;t<this.pdfViewerBase.pageCount;t++)this.initSearch(t,!1,!0);else{this.isTextSearched=!0;for(t=0;t<this.documentTextCollection.length;t++)this.initSearch(t,!1,!0)}this.isTextSearchHandled||(this.searchPageIndex=this.findNextPageWithText(this.searchPageIndex,!0),this.initSearch(this.searchPageIndex,!1),this.highlightOthers())}},I.prototype.nextSearch=function(){this.isPrevSearch=!1,this.isTextSearch=!0;var e,t=this.isSearchText=!1;this.isDocumentTextCollectionReady?(this.searchString?(this.clearAllOccurrences(),0!==this.currentOccurrence?(this.searchIndex=this.searchIndex+1,this.areAllOccurencesSearched()&&!this.isMessagePopupOpened&&this.onMessageBoxOpen()):(this.searchIndex=0,this.currentOccurrence+=1,t=!0,this.getSearchCountText(),-1===this.searchedOccurrences.indexOf(this.currentOccurrence)&&this.searchedOccurrences.push(this.currentOccurrence),1===this.searchedOccurrences.length&&this.pdfViewer.fireTextSearchStart(this.searchString,this.isMatchCase)),this.searchMatches[this.searchPageIndex]?(this.searchIndex>=this.searchMatches[this.searchPageIndex].length?(this.searchIndex=0,this.searchPageIndex=this.findNextPageWithText(this.searchPageIndex),0<this.pdfViewerBase.pageCount?this.initSearch(this.searchPageIndex,!1):(this.initSearch(this.searchPageIndex,!0),this.isMessagePopupOpened||this.onMessageBoxOpen(),this.pdfViewerBase.updateScrollTop(this.searchPageIndex)),this.showLoadingIndicator(!0)):(this.highlightSearchedTexts(this.searchPageIndex,!1,void 0),e=this.pdfViewerBase.getElement("_searchtext_"+this.searchPageIndex+"_"+this.searchIndex),G.isNullOrUndefined(e)||this.isScrollPages(e)&&this.pdfViewerBase.updateScrollTop(this.searchPageIndex),this.showLoadingIndicator(!1)),this.highlightOthers(!0),this.currentOccurrence<=this.searchCount&&!this.isMessagePopupOpened&&(this.currentOccurrence===this.searchCount?this.currentOccurrence=1:t||(this.currentOccurrence=this.currentOccurrence+1),this.searchCountEle)&&this.isSingleSearch&&(this.getSearchCountText(),-1===this.searchedOccurrences.indexOf(this.currentOccurrence)&&this.searchedOccurrences.push(this.currentOccurrence),this.adjustInputContainerWidth())):this.searchMatches[this.searchPageIndex]||this.isMessagePopupOpened?this.isMessagePopupOpened||this.initiateTextSearch(this.searchInput.value):1<this.pdfViewerBase.pageCount&&this.initSearch(this.searchPageIndex,!1)):this.initiateTextSearch(this.searchInput.value),e=this.pdfViewerBase.getElement("_searchtext_"+this.searchPageIndex+"_"+this.searchIndex),G.isNullOrUndefined(e)||this.scrollToSearch(e)):(this.clearAllOccurrences(),this.areAllOccurencesSearched()&&this.onMessageBoxOpen(),this.isMessagePopupOpened||(0!==this.currentOccurrence&&(this.searchIndex=this.searchIndex+1),this.currentOccurrence+1>this.searchCount?this.currentOccurrence=1:this.currentOccurrence=this.currentOccurrence+1,-1===this.searchedOccurrences.indexOf(this.currentOccurrence)&&this.searchedOccurrences.push(this.currentOccurrence),this.getSearchCountText(),this.hightlightSearchedTexts(this.searchPageIndex)))},I.prototype.findNextPageWithText=function(e,t){if(!(t&&(this.isInitialSearch=!1,this.searchMatches[parseInt(e.toString(),10)])&&0<this.searchMatches[parseInt(e.toString(),10)].length))for(var i=1;i<this.pdfViewerBase.pageCount;i++){var n=(e+i)%this.pdfViewerBase.pageCount;if(this.searchMatches[parseInt(n.toString(),10)]&&0<this.searchMatches[parseInt(n.toString(),10)].length)return this.searchedOccurrences.length!==this.searchCount||t?n:this.startSearchPageIndex}return e},I.prototype.findFirstNonEmptyPage=function(){for(var e=0;e<this.pdfViewerBase.pageCount;e++)if(this.searchMatches[parseInt(e.toString(),10)]&&0<this.searchMatches[parseInt(e.toString(),10)].length)return e;return null},I.prototype.prevSearch=function(){Ra.push(this.searchPageIndex),this.isPrevSearch=!0,this.isTextSearch=!0,this.isSearchText=!1,this.isDocumentTextCollectionReady?this.searchString?(this.clearAllOccurrences(),this.searchIndex=this.searchIndex-1,0===this.currentOccurrence&&(this.currentOccurrence=this.searchCount+1),this.areAllOccurencesSearched()&&!this.isMessagePopupOpened&&this.onMessageBoxOpen(),this.isMessagePopupOpened||(this.searchIndex<0?(this.searchPageIndex=this.findPreviousPageWithText(),this.initSearch(this.searchPageIndex,!1),this.showLoadingIndicator(!0)):(this.highlightSearchedTexts(this.searchPageIndex,!1,void 0),this.showLoadingIndicator(!1)),this.highlightOthers(!0)),0<=this.currentOccurrence-1&&!this.isMessagePopupOpened&&(this.currentOccurrence-1==0?this.currentOccurrence=this.searchCount:this.currentOccurrence=this.currentOccurrence-1,this.searchCountEle)&&this.isSingleSearch&&(this.getSearchCountText(),-1===this.searchedOccurrences.indexOf(this.currentOccurrence)&&this.searchedOccurrences.push(this.currentOccurrence),1===this.searchedOccurrences.length&&this.pdfViewer.fireTextSearchStart(this.searchString,this.isMatchCase),this.adjustInputContainerWidth())):(this.searchIndex=this.searchIndex-1,this.searchPageIndex=this.searchPageIndex-1<0?this.pdfViewerBase.pageCount-1:this.searchPageIndex-1,e=this.searchInput.value,this.textSearch(e)):(this.clearAllOccurrences(),this.areAllOccurencesSearched()&&this.onMessageBoxOpen(),this.isMessagePopupOpened||(0!==this.currentOccurrence&&(this.searchIndex=this.searchIndex-1),this.currentOccurrence-1<=0?(this.currentOccurrence=this.searchCount,e=Object.keys(this.getSearchTextDetails).pop(),this.pdfViewerBase.updateScrollTop(Number(e))):this.currentOccurrence=this.currentOccurrence-1,-1===this.searchedOccurrences.indexOf(this.currentOccurrence)&&this.searchedOccurrences.push(this.currentOccurrence),this.getSearchCountText(),this.hightlightSearchedTexts(this.searchPageIndex)));var e=this.pdfViewerBase.getElement("_searchtext_"+this.searchPageIndex+"_"+this.searchIndex);G.isNullOrUndefined(e)||this.scrollToSearch(e)},I.prototype.scrollToSearch=function(e){this.isScrollPages(e)&&this.scrollToSearchStr(e,{y:-100,x:-100})},I.prototype.isScrollPages=function(e){var t=this.pdfViewer.element.getBoundingClientRect(),e=e.getBoundingClientRect(),i=this.pdfViewer.enableToolbar&&!G.isNullOrUndefined(this.pdfViewer.toolbarModule)?this.pdfViewer.toolbar.toolbarElement.getBoundingClientRect().height:0;return!(e.top>=t.top+i&&e.left>=t.left&&e.bottom<=t.bottom&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=t.right)},I.prototype.findPreviousPageWithText=function(){for(var e=this.searchPageIndex,t=1;t<this.pdfViewerBase.pageCount;t++){var i=(e-t+this.pdfViewerBase.pageCount)%this.pdfViewerBase.pageCount;if(this.searchMatches[parseInt(i.toString(),10)]&&0<this.searchMatches[parseInt(i.toString(),10)].length)return this.searchedOccurrences.length===this.searchCount?0:i}return e},I.prototype.initSearch=function(e,t,i){var n,o=this.pdfViewerBase.getStoredData(e,!0);i?0!==this.documentTextCollection.length&&(n=(i=this.documentTextCollection[parseInt(e.toString(),10)][parseInt(e.toString(),10)]).pageText||i.PageText,this.documentTextCollection[parseInt(e.toString(),10)])&&i&&this.getSearchTextContent(e,this.searchString,n,null,t,this.documentTextCollection[parseInt(e.toString(),10)]):o?(i=o.pageText,n=o.textContent,o=this.pdfViewerBase.textLayer.characterBound[parseInt(e.toString(),10)],this.textContents[parseInt(e.toString(),10)]=n,this.getPossibleMatches(e,this.searchString,i,n,t,o),this.getSearchCountText()):t||G.isNullOrUndefined(e)||this.createRequestForSearch(e)},I.prototype.getPossibleMatches=function(e,t,i,n,o,r){for(var a,s=i,l=t,A=s.replace(/(\s\r\n)/gm," ").replace(/(\r\n)/gm," "),d=i.replace(/(\s\r\n)/gm,"  ").replace(/(\r\n)/gm," "),p=A.replace(/[^a-zA-Z0-9]+/g," "),h=t.length,c=(this.isMatchCase||(l=t.toLowerCase(),s=i.toLowerCase(),A=A.toLowerCase(),d=d.toLowerCase(),p=p.toLowerCase()),[]),g=[],u=-h,f=-h,m=-h,w=-h,B=-h;(0!==u||0===u)&&""!==l&&" "!==l&&l;){if(this.isExactMatch){for(var C=void 0,S=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),y=new RegExp("(?<!\\w)"+S+"(?!\\w)","g"),C=y.exec(s);null!==C;)c.push(C.index),C=y.exec(s);break}var I,u=s.indexOf(l,u+h),S=(i.substring(0,u),0);if(!this.isMatchCase&&/[^\u0000-\u007F]/.test(i)&&-1!==u&&(u-=S=s.substring(0,u+h).length-s.substring(0,u+h).replace(/[\u0300-\u036f]/g,"").length),-1!==l.indexOf(" ")&&(I=t.replace(" ","\r\n"),f=s.indexOf(I,f+h),(f=-1)<=-1||f<u&&c.push(f)),u<=-1&&f<=-1)break;u<=-1||c.push(u),u<f&&!(f<=-1)&&c.push(f),0<S&&(u+=S)}if(0===c.length){if(m=A.indexOf(l,m+h),w=d.indexOf(l,w+h),B=p.indexOf(l,B+h),-1!==m){u=-(a=this.correctLinetext(t,u,s))[0].length;for(var E=0;E<a.length;E++)u=s.indexOf(a[parseInt(E.toString(),10)].trim(),u+(void 0===a[E-1]?a[0]:a[E-1]).length),g.push(u),1<g.length&&(g[1]-(g[0]+a[0].length)<=3?(c.push(g),this.searchMatches[parseInt(e.toString(),10)]=c):(E=-1,u=g[0]+a[0].length,g.splice(0,g.length)))}else if(-1!==B){u=-(a=this.correctLinetext(t,u,s))[0].length;for(E=0;E<a.length;E++)u=s.indexOf(a[parseInt(E.toString(),10)].trim(),u+(void 0===a[E-1]?a[0]:a[E-1]).length),g.push(u),1<g.length&&(g[1]-(g[0]+a[0].length)<=3?(c.push(g),this.searchMatches[parseInt(e.toString(),10)]=c):(E=-1,u=g[0]+a[0].length,g.splice(0,g.length)))}else if(-1!==w){u=-(a=this.correctLinetext(t,u,s))[0].length;for(E=0;E<a.length;E++)u=s.indexOf(a[parseInt(E.toString(),10)].trim(),u+(void 0===a[E-1]?a[0]:a[E-1]).length),g.push(u),1<g.length&&(g[1]-(g[0]+a[0].length)<=3?(c.push(g),this.searchMatches[parseInt(e.toString(),10)]=c):(E=-1,u=g[0]+a[0].length,g.splice(0,g.length)))}1<c.length&&c.splice(1,c.length)}this.searchMatches&&0<c.length&&(this.searchMatches[parseInt(e.toString(),10)]=c),o||(-1===this.searchedPages.indexOf(e)&&(this.searchedPages.push(e),this.startIndex=this.searchedPages[0]),this.updateSearchInputIcon(!1)),this.searchMatches&&this.searchMatches[parseInt(e.toString(),10)]&&0!==this.searchMatches[parseInt(e.toString(),10)].length?(o||(this.isPrevSearch&&(this.searchIndex=this.searchMatches[parseInt(e.toString(),10)].length-1),this.pdfViewerBase.currentPageNumber-1!==this.searchPageIndex?0<this.searchMatches.length&&-1===this.searchIndex&&this.searchPageIndex===this.currentSearchIndex?(this.isMessagePopupOpened||this.isSearchText||this.onMessageBoxOpen(),this.searchPageIndex=this.getSearchPage(this.pdfViewerBase.currentPageNumber-1),this.searchedPages=[this.searchPageIndex]):this.isPrevSearch&&this.searchMatches&&0<this.searchMatches.length&&this.searchMatches[this.searchPageIndex]&&0<this.searchMatches[this.searchPageIndex].length&&this.searchedPages.length===this.pdfViewerBase.pageCount&&this.startIndex-1===this.searchPageIndex?(this.isMessagePopupOpened||this.onMessageBoxOpen(),this.searchedPages=[this.startIndex]):Ra[0]===this.searchPageIndex&&this.areAllOccurencesSearched()&&!this.isMessagePopupOpened&&this.onMessageBoxOpen():this.searchMatches&&this.searchMatches[this.searchPageIndex]&&0<this.searchMatches[this.searchPageIndex].length&&this.searchedPages.length===this.pdfViewerBase.pageCount&&this.startIndex===this.searchPageIndex&&1<this.pdfViewerBase.pageCount&&(this.isMessagePopupOpened||this.onMessageBoxOpen(),this.searchedPages=[this.startIndex])),this.highlightSearchedTexts(e,o,a)):o||(this.isPrevSearch?this.searchPageIndex=this.searchPageIndex-1<0?this.pdfViewerBase.pageCount-1:this.searchPageIndex-1:this.searchPageIndex=this.searchPageIndex+1<this.pdfViewerBase.pageCount?this.searchPageIndex+1:0,-1===this.searchedPages.indexOf(this.searchPageIndex)&&this.searchedPages.length!==this.pdfViewerBase.pageCount?(this.showLoadingIndicator(!0),this.searchPageIndex=this.findNextPageWithText(this.searchPageIndex,!0),this.initSearch(this.searchPageIndex,!1)):(A=this.getSearchPage(e),this.searchMatches&&G.isNullOrUndefined(this.searchMatches[this.searchPageIndex])&&this.searchedPages.length===this.pdfViewerBase.pageCount?(this.isMessagePopupOpened||this.onMessageBoxOpen(),this.pdfViewerBase.updateScrollTop(this.startIndex)):this.searchMatches&&0<this.searchMatches.length&&(0===this.searchIndex||-1===this.searchIndex)&&A===this.currentSearchIndex?(this.isPrevSearch?(this.isMessagePopupOpened||this.onMessageBoxOpen(),this.searchPageIndex=A,this.searchedPages=[A],this.searchIndex=-1):(this.isMessagePopupOpened||0===this.pdfViewerBase.currentPageNumber||this.isSearchText||this.onMessageBoxOpen(),this.searchPageIndex=A,this.searchedPages=[A],this.searchIndex=0),this.highlightSearchedTexts(this.searchPageIndex,o,void 0)):this.searchMatches&&this.searchMatches[this.searchPageIndex]&&0<this.searchMatches[this.searchPageIndex].length&&this.searchedPages.length===this.pdfViewerBase.pageCount&&(this.isMessagePopupOpened||this.onMessageBoxOpen(),this.searchPageIndex=this.startIndex,this.searchedPages=[this.searchPageIndex],this.searchIndex=0,this.pdfViewerBase.updateScrollTop(this.startIndex),this.highlightSearchedTexts(this.searchPageIndex,o,void 0))))},I.prototype.correctLinetext=function(e,t,i){var n=[],o=e.split(/[" "]+/),r=(this.isMatchCase||(o=e.toLowerCase().split(/\s+/)),t=0,""),a=(a=i.replace(/ \r\n/g," ")).replace(/\r\n/g," "),s=(a=(a=/[\u00A0\u1680\u2000-\u200A\u202F\u205F\u3000]/.test(a)?a.replace(/[\u00A0\u1680\u2000-\u200A\u202F\u205F\u3000]/g," "):a).replace(/[^a-zA-Z0-9 ]/g,""),e=e.replace(/[^a-zA-Z0-9 ]/g,""),a.match(e));if(this.isMatchCase||(s=a.match(e.toLowerCase())),!G.isNullOrUndefined(s))for(var l=s=i.slice(s.index,i.length),A=0;A<o.length;A++){var d=r+o[parseInt(A.toString(),10)];t=i.indexOf(d,t),("\n"===(l=(l||i).replace(o[A-1],""))[l.indexOf(o[parseInt(A.toString(),10)])-1]&&"\n"===l[l.indexOf(o[A+1])-1]||"\n"===l[l.indexOf(o[parseInt(A.toString(),10)])-1]&&G.isNullOrUndefined(l[l.indexOf(o[A+1])-1]))&&(t=-1,""===r)&&(r=o[parseInt(A.toString(),10)],A+=1),-1!==t?r+=o[parseInt(A.toString(),10)]+" ":(n.push(r),r=o[parseInt(A.toString(),10)]+" ","\n"===l[l.indexOf(o[parseInt(A.toString(),10)])-1]&&"\n"===l[l.indexOf(o[A+1])-1]&&(n.push(r),r=o[A+1]+" ",l=(l||i).replace(o[A-1],""),A+=1)),A===o.length-1&&n.push(r)}return n},I.prototype.getSearchTextContent=function(e,t,i,n,o,r){for(var a=i,s=t,l=t.length,A=(this.isMatchCase||(s=t.toLowerCase(),a=i.toLowerCase()),[]),d=-l,p=-l;0!==d&&""!==s&&" "!==s&&s;){var h,d=a.indexOf(s,d+l);if(-1!==s.indexOf(" ")&&(h=t.replace(" ","\r\n"),(p=a.indexOf(h,p+l))<=-1||p<d&&A.push(p)),d<=-1&&p<=-1)break;d<=-1||A.push(d),d<p&&!(p<=-1)&&A.push(p)}0!==A.length&&(this.searchCount=this.searchCount+A.length),this.searchMatches&&0<A.length&&(this.searchMatches[parseInt(e.toString(),10)]=A)},I.prototype.getSearchPage=function(e){var t=null;if(this.isPrevSearch){for(var i=e;0<=i;i--)if(i!==e&&this.searchMatches[parseInt(i.toString(),10)]){t=i;break}if(!t)for(var n=this.pdfViewerBase.pageCount-1;e<n;n--)if(this.searchMatches[parseInt(n.toString(),10)]){t=n;break}}else{for(i=e;i<this.pdfViewerBase.pageCount;i++)if(i!==e&&this.searchMatches[parseInt(i.toString(),10)]){t=i;break}if(!t)if(0===e)t=e;else for(n=0;n<e;n++)if(this.searchMatches[parseInt(n.toString(),10)]){t=n;break}}return t},I.prototype.areAllNonEmptyPagesSearched=function(){for(var e=[],t=0;t<this.searchMatches.length;t++)this.searchMatches[parseInt(t.toString(),10)]&&0<this.searchMatches[parseInt(t.toString(),10)].length&&e.push(t);for(var i=0,n=e;i<n.length;i++)if(-1===this.searchedPages.indexOf(n[i]))return!1;return!0},I.prototype.areAllOccurencesSearched=function(){return this.searchedOccurrences.length===this.searchCount},I.prototype.highlightSearchedTexts=function(e,t,i){var n,o=this.searchMatches[parseInt(e.toString(),10)],r={y:-100,x:-100},a=this.searchString,s=this.pdfViewerBase.textLayer.characterBound[parseInt(e.toString(),10)];if(t&&this.pdfViewerBase.currentPageNumber-1!==this.searchPageIndex&&0<this.searchMatches.length&&this.getSearchPage(this.pdfViewerBase.currentPageNumber-1),s&&void 0!==o){for(var l,A=0;A<o.length;A++){if(void 0!==o[parseInt(A.toString(),10)].length&&void 0!==i)if(A===this.searchIndex&&e===this.searchPageIndex)for(var d=0;d<i.length;d++)n="e-pv-search-text-highlight",this.addDivForSearch(A,e,s,i[parseInt(d.toString(),10)].trim().length,n,d);else for(d=0;d<i.length;d++)n="e-pv-search-text-highlightother",this.addDivForSearch(A,e,s,i[parseInt(d.toString(),10)].trim().length,n,d);else n=A===this.searchIndex&&e===this.searchPageIndex?"e-pv-search-text-highlight":"e-pv-search-text-highlightother";G.isNullOrUndefined(o[parseInt(A.toString(),10)].length)&&this.addDivForSearch(A,e,s,this.searchString.length,n,void 0)}this.searchString=a,e!==this.searchPageIndex||t||((a=this.pdfViewerBase.getElement("_searchtext_"+e+"_"+this.searchIndex))?(l=this.getScrollElement(a),this.isScrollPages(l)&&this.scrollToSearchStr(a,r)):(this.pdfViewerBase.updateScrollTop(e),(t=this.pdfViewerBase.getElement("_searchtext_"+e+"_"+this.searchIndex))&&(l=this.getScrollElement(t),this.scrollToSearchStr(l,r))))}},I.prototype.addDivForSearch=function(e,t,i,n,o,r){for(var a,s=this.pdfViewerBase.getElement("_textLayer_"+t),l=(G.isNullOrUndefined(s)&&"e-pv-search-text-highlight"===o&&this.pdfViewer.navigation&&this.pdfViewer.navigation.goToPage(t+1),a=void 0!==this.searchMatches[parseInt(t.toString(),10)][parseInt(e.toString(),10)].length?this.searchMatches[parseInt(t.toString(),10)][parseInt(e.toString(),10)][""+r]:this.searchMatches[parseInt(t.toString(),10)][parseInt(e.toString(),10)]),A=0;a<l+n;)a=this.addDivElement(a,i,n,o,e,t,l,A,r),A++;"e-pv-search-text-highlight"===o&&this.showLoadingIndicator(!1)},I.prototype.addDivElement=function(e,t,i,n,o,r,a,s,l){var A=0,d=0,p=0,h=0,c=!1,g=(t[parseInt(e.toString(),10)]&&(h=t[parseInt(e.toString(),10)].X,p=t[parseInt(e.toString(),10)].Y),0);for(e-a!=0&&(g=e-a,i+=1);g<i;g++)t[parseInt(e.toString(),10)]&&(h>(w=t[parseInt(e.toString(),10)]).X+w.Width&&(c=!0),A=A>(B=(p=p<w.Y?p:w.Y)<w.Y?w.Y-p:p-w.Y)+w.Height?A:B+w.Height,e++);var u,f,m=!1;if(c){for(var w,B,h=(w=t[a+i-1]).X,d=t[parseInt(a.toString(),10)].X-t[a+i-1].X,C=(A=A>(B=(p=p<w.Y?p:w.Y)<w.Y?w.Y-p:p-w.Y)+w.Height?A:B+w.Height,0<a?t[a-1].Y-t[parseInt(a.toString(),10)].Y:0),S=a+i-1;a<=S;S--)0===(w=t[parseInt(S.toString(),10)]).Width&&(C=w.Y-t[S-1].Y);d+=C}else a+i!==e?(m=!0,t[e-1]&&(d=t[e-1].X-h)):(m=!1,f=null,(u=this.pdfViewerBase.clientSideRendering?this.pdfViewerBase.getLinkInformation(r,!0):this.pdfViewerBase.getStoredData(r,!0))?f=u.pageText:this.pdfViewer.isExtractText&&0!==this.documentTextCollection.length&&(f=(u=this.documentTextCollection[parseInt(r.toString(),10)][parseInt(r.toString(),10)]).pageText||u.PageText),t[parseInt(e.toString(),10)]?d=!f||""!==f[parseInt(e.toString(),10)]&&" "!==f[parseInt(e.toString(),10)]&&"\r"!==f[parseInt(e.toString(),10)]&&"\n"!==f[parseInt(e.toString(),10)]||0!==t[parseInt(e.toString(),10)].Width?t[parseInt(e.toString(),10)].X-h:t[e-1].X-h+t[e-1].Width:t[e-1]&&(d=t[e-1].X-h+t[e-1].Width));return this.createSearchTextDiv(o,r,A,d,p,h,n,m,s,l),e},I.prototype.createSearchTextDiv=function(e,t,i,n,o,r,a,s,l,A){var d,p,h,e="_searchtext_"+t+"_"+e,s=(s&&(e+="_"+l),document.getElementsByClassName("e-pv-search-text-highlight"));void 0!==A&&this.pdfViewerBase.getElement(e)&&!s[parseInt(A.toString(),10)]&&(d=G.createElement("div",{id:this.pdfViewer.element.id+e+"_"+A}),p=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)],this.calculateBounds(d,i,n,o,r,p),d.classList.add(a),"e-pv-search-text-highlight"===a?(d.style.backgroundColor=""===this.pdfViewer.textSearchColorSettings.searchHighlightColor?"#fdd835":this.pdfViewer.textSearchColorSettings.searchHighlightColor,this.pdfViewer.fireTextSearchHighlight(this.searchString,this.isMatchCase,{left:r,top:o,width:n,height:i},t+1)):"e-pv-search-text-highlightother"===a&&(d.style.backgroundColor=""===this.pdfViewer.textSearchColorSettings.searchColor?"#8b4c12":this.pdfViewer.textSearchColorSettings.searchColor),h=this.pdfViewerBase.getElement("_textLayer_"+t),d.style.zIndex=this.searchTextDivzIndex,h)&&h.appendChild(d),this.pdfViewerBase.getElement(e)||(d=G.createElement("div",{id:this.pdfViewer.element.id+e}),p=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)],this.calculateBounds(d,i,n,o,r,p),d.classList.add(a),"e-pv-search-text-highlight"===a?(d.style.backgroundColor=""===this.pdfViewer.textSearchColorSettings.searchHighlightColor?"#fdd835":this.pdfViewer.textSearchColorSettings.searchHighlightColor,this.pdfViewer.fireTextSearchHighlight(this.searchString,this.isMatchCase,{left:r,top:o,width:n,height:i},t+1)):"e-pv-search-text-highlightother"===a&&(d.style.backgroundColor=""===this.pdfViewer.textSearchColorSettings.searchColor?"#8b4c12":this.pdfViewer.textSearchColorSettings.searchColor),h=this.pdfViewerBase.getElement("_textLayer_"+t),d.style.zIndex=this.searchTextDivzIndex,h&&h.appendChild(d))},I.prototype.calculateBounds=function(e,t,i,n,o,r){0===r.rotation||2===r.rotation?(e.style.height=Math.ceil(t)*this.pdfViewerBase.getZoomFactor()+"px",e.style.width=i*this.pdfViewerBase.getZoomFactor()+"px",2===r.rotation?(e.style.top=(r.height-n-t)*this.pdfViewerBase.getZoomFactor()+"px",e.style.left=Math.ceil(r.width-o-i)*this.pdfViewerBase.getZoomFactor()+"px"):(e.style.top=n*this.pdfViewerBase.getZoomFactor()+"px",e.style.left=o*this.pdfViewerBase.getZoomFactor()+"px")):1===r.rotation?(e.style.height=i*this.pdfViewerBase.getZoomFactor()+"px",e.style.width=t*this.pdfViewerBase.getZoomFactor()+"px",e.style.top=o*this.pdfViewerBase.getZoomFactor()+"px",e.style.left=(r.height-n-t)*this.pdfViewerBase.getZoomFactor()+"px"):3===r.rotation&&(e.style.height=i*this.pdfViewerBase.getZoomFactor()+"px",e.style.width=t*this.pdfViewerBase.getZoomFactor()+"px",e.style.left=(r.width-r.height+n)*this.pdfViewerBase.getZoomFactor()+"px",e.style.top=(r.height-o-i)*this.pdfViewerBase.getZoomFactor()+"px")},I.prototype.isClassAvailable=function(){for(var e=!1,t=0;t<this.tempElementStorage.length;t++)if(this.tempElementStorage[parseInt(t.toString(),10)].classString&&("e-pv-search-text-highlight"===this.tempElementStorage[parseInt(t.toString(),10)].classString||"e-pv-search-text-highlightother"===this.tempElementStorage[parseInt(t.toString(),10)].classString)){e=!0;break}return e},I.prototype.getScrollElement=function(e){var t=e;if(0<e.childNodes.length)for(var i=0;i<e.childNodes.length;i++)e.childNodes[parseInt(i.toString(),10)].classList&&e.childNodes[parseInt(i.toString(),10)].classList.contains("e-pv-search-text-highlight")&&(t=e.childNodes[parseInt(i.toString(),10)]);return t},I.prototype.scrollToSearchStr=function(e,t){for(var i=e.offsetParent,n=e.offsetTop+e.clientTop,o=e.offsetLeft+e.clientLeft;i.id!==this.pdfViewerBase.viewerContainer.id;)n+=i.offsetTop,o+=i.offsetLeft,i=i.offsetParent;t&&(n+=t.y,o+=t.x,G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||1.5<this.pdfViewerBase.getZoomFactor())&&(i.scrollLeft=o),i.scrollTop=n,this.pdfViewerBase.updateMobileScrollerPosition()},I.prototype.resizeSearchElements=function(e){for(var t=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+"_searchtext_"+e+'"]'),i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)],o=1,r=e+"_"+(o=this.pdfViewer.magnificationModule?this.pdfViewer.magnificationModule.previousZoomFactor:o)+"_"+this.pdfViewerBase.getZoomFactor();n.getAttribute("name")!==r&&(n.style.width=parseFloat(n.style.width)/o*this.pdfViewerBase.getZoomFactor()+"px",n.style.height=parseFloat(n.style.height)/o*this.pdfViewerBase.getZoomFactor()+"px",n.style.top=parseFloat(n.style.top)/o*this.pdfViewerBase.getZoomFactor()+"px",n.style.left=parseFloat(n.style.left)/o*this.pdfViewerBase.getZoomFactor()+"px",n.setAttribute("name",r))}},I.prototype.highlightOtherOccurrences=function(e){this.initSearch(e,!0)},I.prototype.highlightOthers=function(e){for(var t=this.getIndexes(),i=parseFloat(t.lowerPageValue.toString()),n=parseFloat(t.higherPageValue.toString()),o=i;o<=n;o++)this.searchMatches[parseInt(o.toString(),10)]&&0<this.searchMatches[parseInt(o.toString(),10)].length&&this.highlightOtherOccurrences(o);e&&this.showLoadingIndicator(!1)},I.prototype.clearAllOccurrences=function(){for(var e=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+'_searchtext_"]'),t=0;t<e.length;t++)e[parseInt(t.toString(),10)].parentElement.removeChild(e[parseInt(t.toString(),10)])},I.prototype.getIndexes=function(){var e=this.pdfViewerBase.currentPageNumber-3,t=this.pdfViewerBase.currentPageNumber+1;return{lowerPageValue:0<e?e:0,higherPageValue:t<this.pdfViewerBase.pageCount?t:this.pdfViewerBase.pageCount-1}},I.prototype.applyTextSelection=function(){if(this.pdfViewer.textSelectionModule&&!this.pdfViewerBase.isTextSelectionDisabled)for(var e=this.getIndexes(),t=parseFloat(e.lowerPageValue.toString()),i=parseFloat(e.higherPageValue.toString()),n=t;n<=i;n++)this.pdfViewer.textSelectionModule.applySelectionRangeOnScroll(n)},I.prototype.resetTextSearch=function(e){void 0===e&&(e=!1),this.resetVariables(),this.onTextSearchClose(),this.searchPageIndex=null,this.searchIndex=0,this.updateSearchInputIcon(!0),this.enableNextButton(!1),this.enablePrevButton(!1),e&&(this.documentTextCollection=[]),this.isTextRetrieved=!1,this.isTextSearched=!1,this.isSearchText=!1,this.searchRequestHandler&&this.searchRequestHandler.clear(),this.searchCount=0,this.searchString=""},I.prototype.onTextSearchClose=function(){this.isPrevSearch=!1,this.isTextSearch=!1,0<this.pdfViewerBase.pageCount&&this.clearAllOccurrences()},I.prototype.createRequestForSearch=function(s){for(var E=this,Q=816,l=this.pdfViewer.element.clientHeight,D=this.pdfViewerBase.pageSize[parseInt(s.toString(),10)].width,e=this.pdfViewerBase.pageSize[parseInt(s.toString(),10)].height,A=this.pdfViewerBase.getTileCount(D,e),x=D<=Q?1:A,V=D<=Q?1:A,b=!1,e=this.pdfViewer.tileRenderingSettings,t=(e.enableTileRendering&&0<e.x&&0<e.y&&(x=D<=Q?1:e.x,V=D<=Q?1:e.y),1<x&&1<V&&(b=!0),function(I){for(var e=0;e<V;e++)!function(y){var e,t,i,n,o,r={xCoordinate:I,yCoordinate:y,pageNumber:s,viewPortWidth:Q,viewPortHeight:l,documentId:E.pdfViewerBase.getDocumentId(),hashId:E.pdfViewerBase.hashId,zoomFactor:E.pdfViewerBase.getZoomFactor(),tilecount:A,action:"Search",elementId:E.pdfViewer.element.id,uniqueId:E.pdfViewerBase.documentId,tileXCount:x,tileYCount:V},a=(d.pdfViewerBase.jsonDocumentId&&(r.documentId=d.pdfViewerBase.jsonDocumentId),d.pdfViewerBase.retrieveCurrentZoomFactor());d.searchRequestHandler=new Bn(d.pdfViewer),d.searchRequestHandler.url=d.pdfViewer.serviceUrl+"/"+d.pdfViewer.serverActionSettings.renderPages,d.searchRequestHandler.responseType="json",d.pdfViewerBase.clientSideRendering||d.searchRequestHandler.send(r),d.searchRequestHandler.onSuccess=function(t){t=t.data;if(t){if("object"!=typeof t)try{t=JSON.parse(t)}catch(e){E.pdfViewerBase.onControlError(500,t,this.pdfViewer.serverActionSettings.renderPages),t=null}t&&E.searchRequestOnSuccess(t,E,Q,D,b,s,I,y,x,V)}},d.searchRequestHandler.onFailure=function(e){E.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,this.pdfViewer.serverActionSettings.renderPages)},d.searchRequestHandler.onError=function(e){E.pdfViewerBase.openNotificationPopup(),E.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,this.pdfViewer.serverActionSettings.renderPages)},d.pdfViewerBase.clientSideRendering&&(r=d.pdfViewerBase.documentId+"_"+s+"_textDetails",t=!d.pdfViewerBase.pageTextDetails||!d.pdfViewerBase.pageTextDetails[r],i=new J.Rect(0,0,0,0),n=new J.Rect(0,0,0,0),(o=d.pdfViewer.pdfRenderer.loadedDocument.getPage(s))&&o._pageDictionary&&o._pageDictionary._map&&o._pageDictionary._map.CropBox&&(e=o._pageDictionary._map.CropBox,i.x=e[0],i.y=e[1],i.width=e[2],i.height=e[3]),o&&o._pageDictionary&&o._pageDictionary._map&&o._pageDictionary._map.MediaBox&&(e=o._pageDictionary._map.MediaBox,n.x=e[0],n.y=e[1],n.width=e[2],n.height=e[3]),D<=Q||!d.pdfViewer.tileRenderingSettings.enableTileRendering?d.pdfViewerBase.pdfViewerRunner.addTask({pageIndex:s,message:"renderPageSearch",zoomFactor:E.pdfViewerBase.getZoomFactor(),isTextNeed:t,textDetailsId:r,cropBoxRect:i,mediaBoxRect:n},ln.High):d.pdfViewerBase.pdfViewerRunner.addTask({pageIndex:s,message:"renderImageAsTileSearch",zoomFactor:a,tileX:I,tileY:y,tileXCount:x,tileYCount:V,isTextNeed:t,textDetailsId:r,cropBoxRect:i,mediaBoxRect:n},ln.High),d.pdfViewerBase.pdfViewerRunner.onMessage("imageRenderedSearch,renderTileImageSearch",function(e){switch(e.data.message){case"imageRenderedSearch":"imageRenderedSearch"===e.data.message&&(t=document.createElement("canvas"),m=(n=e.data).value,i=n.width,d=n.height,n=n.pageIndex,t.width=i,t.height=d,(d=(A=t.getContext("2d")).createImageData(i,d)).data.set(m),A.putImageData(d,0,0),p=t.toDataURL(),E.pdfViewerBase.releaseCanvas(t),h=e.data.textBounds,c=e.data.textContent,g=e.data.pageText,u=e.data.rotation,f=e.data.characterBounds,l=E.pdfViewer.pdfRendererModule.getHyperlinks(n),i={image:p,pageNumber:n,uniqueId:E.pdfViewerBase.documentId,pageWidth:i,zoomFactor:e.data.zoomFactor,hyperlinks:l.hyperlinks,hyperlinkBounds:l.hyperlinkBounds,linkAnnotation:l.linkAnnotation,linkPage:l.linkPage,annotationLocation:l.annotationLocation,characterBounds:f},e.data.isTextNeed?(i.textBounds=h,i.textContent=c,i.rotation=u,E.pdfViewerBase.storeTextDetails(n,h,c,i.pageText=g,u,f)):(B=JSON.parse(E.pdfViewerBase.pageTextDetails[""+e.data.textDetailsId]),i.textBounds=B.textBounds,i.textContent=B.textContent,i.rotation=B.rotation,i.pageText=B.pageText,i.characterBounds=B.characterBounds),i)&&i.image&&i.uniqueId===E.pdfViewerBase.documentId&&(E.pdfViewer.fireAjaxRequestSuccess(E.pdfViewer.serverActionSettings.renderPages,i),w=void 0!==i.pageNumber?i.pageNumber:n,C=E.pdfViewerBase.createBlobUrl(i.image.split("base64,")[1],"image/png"),S={image:(URL||webkitURL).createObjectURL(C),width:i.pageWidth,uniqueId:i.uniqueId,zoomFactor:i.zoomFactor},E.pdfViewerBase.storeImageData(w,S),E.searchRequestOnSuccess(i,E,Q,D,b,n,I,y,x,V));break;case"renderTileImageSearch":var t,i,n,o,r,a,s,l,A,d,p,h,c,g,u,f,m,w,B,C,S;"renderTileImageSearch"===e.data.message&&(t=document.createElement("canvas"),m=(l=e.data).value,i=l.w,n=l.h,o=l.noTileX,r=l.noTileY,a=l.x,s=l.y,l=l.pageIndex,t.setAttribute("height",n),t.setAttribute("width",i),t.width=i,t.height=n,(d=(A=t.getContext("2d")).createImageData(i,n)).data.set(m),A.putImageData(d,0,0),p=t.toDataURL(),E.pdfViewerBase.releaseCanvas(t),h=e.data.textBounds,c=e.data.textContent,g=e.data.pageText,u=e.data.rotation,f=e.data.characterBounds,m={image:p,noTileX:o,noTileY:r,pageNumber:l,tileX:a,tileY:s,uniqueId:E.pdfViewerBase.documentId,pageWidth:D,width:i,transformationMatrix:{Values:[1,0,0,1,i*a,n*s,0,0,0]},zoomFactor:e.data.zoomFactor,characterBounds:f,isTextNeed:e.data.isTextNeed,textDetailsId:e.data.textDetailsId})&&m.image&&m.uniqueId===E.pdfViewerBase.documentId&&(E.pdfViewer.fireAjaxRequestSuccess(E.pdfViewer.serverActionSettings.renderPages,m),w=void 0!==m.pageNumber?m.pageNumber:l,0===a&&0===s?(C=E.pdfViewerBase.createBlobUrl(m.image.split("base64,")[1],"image/png"),S={image:(URL||webkitURL).createObjectURL(C),width:m.pageWidth,uniqueId:m.uniqueId,tileX:m.tileX,tileY:m.tileY,zoomFactor:m.zoomFactor,transformationMatrix:m.transformationMatrix},m.isTextNeed?(m.textBounds=h,m.textContent=c,m.rotation=u,m.pageText=g,E.pdfViewerBase.storeTextDetails(l,h,c,g,u,f)):(B=JSON.parse(E.pdfViewerBase.pageTextDetails[""+m.textDetailsId]),m.textBounds=B.textBounds,m.textContent=B.textContent,m.rotation=B.rotation,m.pageText=B.pageText,m.characterBounds=B.characterBounds)):(C=E.pdfViewerBase.createBlobUrl(m.image.split("base64,")[1],"image/png"),S={image:(URL||webkitURL).createObjectURL(C),width:m.width,uniqueId:m.uniqueId,tileX:m.tileX,tileY:m.tileY,zoomFactor:m.zoomFactor,transformationMatrix:m.transformationMatrix}),E.pdfViewerBase.storeImageData(w,S,m.tileX,m.tileY),E.searchRequestOnSuccess(m,E,Q,D,b,l,a,s,o,r))}}))}(e)}),d=this,i=0;i<x;i++)t(i)},I.prototype.searchRequestOnSuccess=function(e,t,i,n,o,r,a,s,l,A){var d;G.isNullOrUndefined(e.pageText)||e.uniqueId!==t.pdfViewerBase.documentId?o&&e.uniqueId===t.pdfViewerBase.documentId&&(t.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.renderPages,e),d=void 0!==e.pageNumber?e.pageNumber:r,t.pdfViewerBase.storeWinData(e,d,e.tileX,e.tileY),a===l-1)&&s===A-1&&t.initSearch(r,!1):(this.getSearchCountText(),t.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.renderPages,e),d=void 0!==e.pageNumber?e.pageNumber:r,n<=i?t.pdfViewerBase.storeWinData(e,d):t.pdfViewerBase.storeWinData(e,d,e.tileX,e.tileY),o?a!==l-1||s!==A-1||this.isMessagePopupOpened||t.initSearch(r,!1):this.isMessagePopupOpened||t.initSearch(r,!1))},I.prototype.getPDFDocumentTexts=function(){var e=50,t=this.pdfViewerBase.pageCount;this.createRequestForGetPdfTexts(0,e=t<=e?t:e)},I.prototype.createRequestForGetPdfTexts=function(e,i){var n=this,t={pageStartIndex:e,pageEndIndex:i,documentId:n.pdfViewerBase.getDocumentId(),hashId:n.pdfViewerBase.hashId,action:"RenderPdfTexts",elementId:n.pdfViewer.element.id,uniqueId:n.pdfViewerBase.documentId};this.pdfViewerBase.jsonDocumentId&&(t.documentId=this.pdfViewerBase.jsonDocumentId),this.searchRequestHandler=new Bn(this.pdfViewer),this.searchRequestHandler.url=this.pdfViewer.serviceUrl+"/"+this.pdfViewer.serverActionSettings.renderTexts,this.searchRequestHandler.responseType="json",this.pdfViewerBase.clientSideRendering||this.searchRequestHandler.send(t),this.searchRequestHandler.onSuccess=function(t){t=t.data;if(t){if("object"!=typeof t)try{t=JSON.parse(t)}catch(e){n.pdfViewerBase.onControlError(500,t,this.pdfViewer.serverActionSettings.renderTexts),t=null}t&&n.pdfTextSearchRequestOnSuccess(t,n,e,i)}},this.searchRequestHandler.onFailure=function(e){n.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,this.pdfViewer.serverActionSettings.renderTexts)},this.searchRequestHandler.onError=function(e){n.pdfViewerBase.openNotificationPopup(),n.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,this.pdfViewer.serverActionSettings.renderTexts)},this.pdfViewerBase.clientSideRendering&&this.pdfViewer.pdfRendererModule.getDocumentText(t,"pdfTextSearchRequest")},I.prototype.pdfTextSearchRequestSuccess=function(e,t,i){this.pdfTextSearchRequestOnSuccess(e,this,t,i)},I.prototype.pdfTextSearchRequestOnSuccess=function(e,t,i,n){e.documentTextCollection&&e.uniqueId===t.pdfViewerBase.documentId&&(e.isNeedToRender?(t.findTextDocumentCollection=this.updateDocumentCollection(t.findTextDocumentCollection,e.documentTextCollection),t.pdfViewer.pdfRendererModule.documentTextCollection=[]):(t.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.renderTexts,e),t.documentTextCollection=this.updateDocumentCollection(t.documentTextCollection,e.documentTextCollection),n!==(e=t.pdfViewerBase.pageCount)?(i=n,t.createRequestForGetPdfTexts(i,n=e<=(n+=50)?e:n)):(t.isTextRetrieved=!0,t.pdfViewer.pdfRendererModule.documentTextCollection=[],t.pdfViewer.fireTextExtractionCompleted(t.documentTextCollection),t.isTextSearched&&0<t.searchString.length&&(t.textSearch(t.searchString),t.isTextSearched=!1))))},I.prototype.updateDocumentCollection=function(e,t){return e=e&&0<e.length?this.pdfViewer.isVue&&!this.pdfViewer.isVue3?this.orderPdfTextCollections(JSON.parse("["+JSON.stringify(e).slice(1,-1)+","+JSON.stringify(t).slice(1,-1)+"]")):(e=t.concat(e),this.orderPdfTextCollections(e)):this.pdfViewer.isVue&&!this.pdfViewer.isVue3?JSON.parse("["+JSON.stringify(t).slice(1,-1)+"]"):t},I.prototype.orderPdfTextCollections=function(e){for(var t=[],i=0;i<e.length;i++)if(0===t.length)t.push(e[parseInt(i.toString(),10)]);else if(parseInt(Object.keys(e[parseInt(i.toString(),10)])[0],10)>parseInt(Object.keys(t[t.length-1])[0],10))t.push(e[parseInt(i.toString(),10)]);else for(var n=0;n<t.length;n++)if(parseInt(Object.keys(e[parseInt(i.toString(),10)])[0],10)<parseInt(Object.keys(t[parseInt(n.toString(),10)])[0],10)){t.splice(n,0,e[parseInt(i.toString(),10)]);break}return t},I.prototype.createSearchBoxButtons=function(e,t){var i=G.createElement("button",{id:this.pdfViewer.element.id+"_"+e,className:"e-btn e-icon-btn e-pv-text-search-btn "+t}),e=(i.setAttribute("type","button"),G.createElement("span",{id:this.pdfViewer.element.id+"_"+e+"Icon",className:"e-pv-icon-search "+t+"-icon"}));return i.disabled=!0,i.appendChild(e),i},I.prototype.enablePrevButton=function(e){G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(e?this.prevSearchBtn.removeAttribute("disabled"):this.prevSearchBtn&&(this.prevSearchBtn.disabled=!0))},I.prototype.enableNextButton=function(e){G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(e?this.nextSearchBtn.removeAttribute("disabled"):this.nextSearchBtn&&(this.nextSearchBtn.disabled=!0))},I.prototype.resetVariables=function(){this.searchedPages=[],this.searchMatches=[],this.searchedOccurrences=[]},I.prototype.resetVariablesTextSearch=function(){this.getSearchTextDetails={},this.isTextSearchHandled=!1},I.prototype.searchButtonClick=function(e,t,i){this.isMessagePopupOpened=!1,e.classList.contains("e-pv-search-icon")?this.initiateTextSearch(t.value,i):e.classList.contains("e-pv-search-close")&&(this.showLoadingIndicator(!1),t.value="",this.resetTextSearch(),this.searchCountEle&&(this.searchCountEle.innerHTML="",this.adjustInputContainerWidth()),t.focus())},I.prototype.updateSearchInputIcon=function(e){G.isBlazor()&&this.searchBtn&&G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.searchBtn=this.pdfViewerBase.getElement("_search_box-icon").children[0].children[0]),this.searchBtn&&(e?(this.searchBtn.classList.remove("e-pv-search-close"),this.searchBtn.classList.add("e-pv-search-icon")):(this.searchBtn.classList.remove("e-pv-search-icon"),this.searchBtn.classList.add("e-pv-search-close")))},I.prototype.onMessageBoxOpen=function(){var t=this;this.pdfViewer.fireTextSearchComplete(this.searchString,this.isMatchCase),this.showLoadingIndicator(!1),this.isMessagePopupOpened=!0,this.pdfViewer.showNotificationDialog?!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_Nomatches").then(function(e){t.pdfViewerBase.createNotificationPopup(e)}):0<this.searchMatches.length?this.pdfViewerBase.createNotificationPopup(this.pdfViewer.localeObj.getConstant("No More Matches")):this.pdfViewerBase.createNotificationPopup(this.pdfViewer.localeObj.getConstant("No Matches")):G.isBlazor()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_NoTextFound").then(function(e){t.pdfViewerBase.navigationPane.createTooltipMobile(e)}):0<this.searchMatches.length?this.pdfViewerBase.navigationPane.createTooltipMobile(this.pdfViewer.localeObj.getConstant("No More Search Matches")):this.pdfViewerBase.navigationPane.createTooltipMobile(this.pdfViewer.localeObj.getConstant("No Search Matches")):setTimeout(function(){t.isMessagePopupOpened=!1},100),this.currentOccurrence=this.searchCount,this.isLastOccurrenceCompleted=!0,this.currentOccurrence===this.searchCount&&(this.currentOccurrence=0),this.searchCountEle&&this.isSingleSearch&&(this.getSearchCountText(),this.adjustInputContainerWidth()),this.searchedPages=[],this.searchedOccurrences=[],this.searchIndex=0,this.programaticalSearch||(this.isDocumentTextCollectionReady?this.highlightAfterComplete():this.hightlightSearchedTexts(void 0,!0,!0)),this.searchString="",this.searchPageIndex=this.startSearchPageIndex,G.isNullOrUndefined(this.searchPageIndex)?this.pdfViewerBase.updateScrollTop(0):this.pdfViewerBase.updateScrollTop(this.searchPageIndex),this.showLoadingIndicator(!1)},I.prototype.highlightAfterComplete=function(){for(var e=0;e<this.searchMatches.length;e++)if(this.searchMatches[parseInt(e.toString(),10)]&&0<this.searchMatches[parseInt(e.toString(),10)].length){var t=this.searchMatches[parseInt(e.toString(),10)],i="e-pv-search-text-highlightother",n=this.pdfViewerBase.textLayer.characterBound[parseInt(e.toString(),10)];if(n&&void 0!==t)for(var o=0;o<t.length;o++){if(t[parseInt(o.toString(),10)].length)for(var r=this.documentTextCollection[parseInt(e.toString(),10)][parseInt(e.toString(),10)],r=r.pageText||r.PageText,a=this.searchInput.value,s=(this.isMatchCase||(a=a.toLowerCase(),r=r.toLowerCase()),this.correctLinetext(a,null,r)),l=0;l<s.length;l++){var A=void 0,A=0===l?"_searchtext_"+e+"_"+o:"_searchtext_"+e+"_"+o+"_"+l;this.pdfViewerBase.getElement(A)||this.addDivForSearch(o,e,n,s[parseInt(l.toString(),10)].trim().length,i,l)}G.isNullOrUndefined(t[parseInt(o.toString(),10)].length)&&this.addDivForSearch(o,e,n,this.searchInput.value.length,i,void 0)}}},I.prototype.searchText=function(e,t){var i,n=this;this.documentTextCollection.length===this.pdfViewerBase.pageCount?this.isDocumentTextCollectionReady=!0:i=setInterval(function(){n.documentTextCollection.length===n.pdfViewerBase.pageCount&&(clearInterval(i),n.calculateSearchCount(e,n.documentTextCollection),n.getSearchTextDetails={},n.isDocumentTextCollectionReady=!0)},1e3),this.isDocumentTextCollectionReady||!this.pdfViewerBase.clientSideRendering?(e&&0<e.length&&" "===e[e.length-1]&&(e=e.slice(0,e.length-1)),this.pdfViewer.enableHtmlSanitizer&&(e=e&&G.SanitizeHtmlHelper.sanitize(e)),this.searchString=e,this.isMatchCase=t,this.searchIndex=0,this.programaticalSearch=!0,this.isSingleSearch=!0,this.isTextSearchHandled=!1,this.calculateSearchCount(e,this.documentTextCollection),this.textSearch(e)):this.searchString!==e&&(this.isSingleSearch=!0,this.searchString=e,this.isMatchCase=t,this.searchIndex=0,this.searchCount=0,this.searchPageIndex=0,this.programaticalSearch=!0,this.textSearchWhileLoading(e,t))},I.prototype.searchNext=function(){this.nextSearch()},I.prototype.searchPrevious=function(){this.prevSearch()},I.prototype.cancelTextSearch=function(){this.resetTextSearch()},I.prototype.destroy=function(){this.searchMatches=void 0},I.prototype.findText=function(e,t,i){var n=this,t=(this.isMatchCase=t,Array.isArray(e)?e:[e]),o=G.isNullOrUndefined(i)?0:i,i=G.isNullOrUndefined(i)?this.documentTextCollection.length:i+1,n=(r=i-1,n.documentTextCollection[parseInt(r.toString(),10)]?n.documentTextCollection[parseInt(r.toString(),10)][parseInt(r.toString(),10)]:null),r=[];return r=n&&0<n.TextData.length?this.getSearchResults(e,t,{},o,i,this.documentTextCollection):r},I.prototype.findTextAsync=function(a,e,t){var s=this,l=this,A=(this.isMatchCase=e,this.pdfViewer.pdfRenderer.searchResults={},Array.isArray(a)?a:[a]),d={},p=t||0,h=G.isNullOrUndefined(t)?this.pdfViewerBase.pageCount:t+1,c={pageStartIndex:p,pageEndIndex:h,documentId:l.pdfViewerBase.getDocumentId(),hashId:l.pdfViewerBase.hashId,action:"RenderPdfTexts",elementId:l.pdfViewer.element.id,uniqueId:l.pdfViewerBase.documentId};this.pdfViewerBase.jsonDocumentId&&(c.documentId=this.pdfViewerBase.jsonDocumentId);return this.pdfViewer.extractTextOption===v.ExtractTextOption.None||this.pdfViewer.extractTextOption===v.ExtractTextOption.TextOnly?new Promise(function(t,e){for(var i,n,o="extractText_"+an.createGUID(),r=p;r<h;r++)i=r,n=o,l.pdfViewerBase.pdfViewerRunner.addTask({pageIndex:i,message:n,zoomFactor:l.pdfViewer.magnificationModule.zoomFactor,isTextNeed:!0,isLayout:!0,isSkipCharacterBounds:!1,isNeedToRender:!0,jsonObject:c,isRenderText:!0,requestType:"pdfTextSearchRequest"},ln.Medium),l.pdfViewerBase.pdfViewerRunner.onMessage(n,function(e){-1!==e.data.message.indexOf("extractText")&&(l.pdfViewer.pdfRendererModule.textExtractionOnmessage(e,null,null),e.data.pageIndex+1===h)&&(t(s.getSearchResults(a,A,d,p,h,l.findTextDocumentCollection)),l.findTextDocumentCollection=[])})}):Promise.resolve(this.getSearchResults(a,A,d,p,h,l.documentTextCollection))},I.prototype.getSearchResults=function(e,t,i,n,o,r){for(var a=0,s=t;a<s.length;a++){var l=s[a];this.calculateSearchCount(l,r),i[""+l]=[];for(var A=n;A<o;A++){var d=this.searchMatches[parseInt(A.toString(),10)];if(d){var p=parseInt(Object.keys(r[parseInt(A.toString(),10)])[0],10),p=r[parseInt(A.toString(),10)][parseInt(p.toString(),10)],h=p.textData||p.TextData;if(h){for(var c={pageIndex:A,bounds:[]},g=0,u=d;g<u.length;g++){var f=u[g],f=this.calculateTextBounds(l,f,h);c.bounds.push(f)}0<c.bounds.length&&i[""+l].push(c)}}}}return Array.isArray(e)?i:i[e]},I.prototype.calculateTextBounds=function(e,t,i){for(var n=i[parseInt(t.toString(),10)].Bounds,o=n.X,r=n.Y,a=n.Height,s=0,l=0;l<e.length;l++){var A=t&&!G.isNullOrUndefined(t.length)&&1<t.length?t[0]:t,A=i[parseInt((A+l).toString(),10)].Bounds,a=Math.max(a,A.Height);l===e.length-1&&(s=A.Right)}return{x:o,y:r,width:s-o,height:a}},I.prototype.getModuleName=function(){return"TextSearch"},I);function I(e,t){var i=this;this.isTextSearch=!1,this.searchCount=0,this.currentOccurrence=0,this.searchIndex=0,this.currentSearchIndex=0,this.startIndex=null,this.searchPageIndex=null,this.startSearchPageIndex=null,this.searchString=null,this.isMatchCase=!1,this.isMultiSearch=!1,this.isSingleSearch=!1,this.findTextDocumentCollection=[],this.searchRequestHandler=null,this.textSearchHandleRequest=null,this.isTextSearchHandled=!1,this.textSearchOpen=!1,this.programaticalSearch=!1,this.isFiltering=!1,this.textContents=[],this.searchMatches=[],this.multiSearchCounts={},this.getSearchTextDetails={},this.searchedPages=[],this.isPrevSearch=!1,this.isExactMatch=!1,this.autompleteDataSource=[],this.searchedOccurrences=[],this.isSelectedFromPopup=!1,this.isDocumentTextCollectionReady=!1,this.intervalId=null,this.searchTextDivzIndex="-1",this.tempElementStorage=[],this.isMessagePopupOpened=!1,this.isTextRetrieved=!1,this.isTextSearched=!1,this.isTextSearchEventTriggered=!1,this.isSearchText=!1,this.isLastOccurrenceCompleted=!1,this.checkBoxOnChange=function(e){e.checked?i.isMatchCase=!0:i.isMatchCase=!1,i.searchString="",i.searchInput.value&&""!==i.searchInput.value&&(i.isTextSearch=!0),i.isTextSearch&&i.isDocumentTextCollectionReady&&(i.resetVariables(),i.clearAllOccurrences(),e=i.searchInput.value,i.searchIndex=0,i.initiateTextSearch(e),0!==i.searchCount||i.isMessagePopupOpened||i.onMessageBoxOpen())},this.searchKeypressHandler=function(e){var t=String.fromCharCode(e.which||e.keyCode);/[a-zA-Z0-9]/.test(t);e.ctrlKey||e.altKey?i.resetVariables():(i.initiateTextSearch(i.searchInput.value),i.updateSearchInputIcon(!1))},this.searchClickHandler=function(e){i.searchButtonClick(i.searchBtn,i.searchAutocompleteObj)},this.nextButtonOnClick=function(e){i.searchString=i.searchInput.value,i.nextSearch()},this.prevButtonOnClick=function(e){i.searchString=i.searchInput.value,i.prevSearch()},this.pdfViewer=e,this.pdfViewerBase=t}Oa.prototype.print=function(){var o,r=this;0<this.pdfViewerBase.pageCount&&(this.printViewerContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_print_viewer_container",className:"e-pv-print-viewer-container"}),"Default"===this.pdfViewer.printMode?(this.pdfViewerBase.showPrintLoadingIndicator(!0),this.iframe=document.createElement("iframe"),this.iframe.className="iframeprint",this.iframe.id="iframePrint",this.iframe.style.position="fixed",this.iframe.style.top="-100000000px",document.body.appendChild(this.iframe),this.frameDoc=this.iframe.contentWindow||this.iframe.contentDocument,this.frameDoc.document.open()):(this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight),this.createPrintLoadingIndicator(this.printWindow.document.body)),setTimeout(function(){for(o=0;o<r.pdfViewerBase.pageCount;o++){var e=r.pdfViewerBase.pageSize[parseInt(o.toString(),10)].width,t=r.pdfViewerBase.pageSize[parseInt(o.toString(),10)].height,i=793,n=1122;r.printWidth=816,r.printHeight=1056,t<e&&(i=1122,n=793),i+10<=e||e<=i-10||n+10<=t||t<=n-10||(r.printWidth=783,r.printHeight=1110),r.pdfViewer.printModule.createRequestForPrint(o,e,t,r.pdfViewerBase.pageCount,r.pdfViewer.printScaleFactor)}r.pdfViewer.firePrintEnd(r.pdfViewer.downloadFileName)},100))},Oa.prototype.createRequestForPrint=function(t,i,n,e,o){var r=this,a={pageNumber:t.toString(),documentId:this.pdfViewerBase.documentId,hashId:this.pdfViewerBase.hashId,zoomFactor:"1",action:"PrintImages",elementId:this.pdfViewer.element.id,uniqueId:this.pdfViewerBase.documentId,digitalSignaturePresent:this.pdfViewerBase.digitalSignaturePresent(t),printScaleFactor:.5<=o&&o<=5?o:5<o?5:1};this.pdfViewerBase.jsonDocumentId&&(a.documentId=this.pdfViewerBase.jsonDocumentId),r.pdfViewerBase.createFormfieldsJsonData(),r.printRequestHandler=new Bn(r.pdfViewer),r.printRequestHandler.url=r.pdfViewer.serviceUrl+"/"+r.pdfViewer.serverActionSettings.print,r.printRequestHandler.responseType=null,r.printRequestHandler.mode=!1,this.pdfViewerBase.validateForm&&this.pdfViewer.enableFormFieldsValidation?(this.pdfViewer.fireValidatedFailed(r.pdfViewer.serverActionSettings.download),this.pdfViewerBase.validateForm=!1,this.pdfViewerBase.showPrintLoadingIndicator(!1)):r.pdfViewerBase.clientSideRendering?this.pdfViewerBase.pdfViewerRunner.addTask({pageIndex:t,message:"printImage",printScaleFactor:.5<=o&&o<=5?o:5<o?5:1},ln.High):r.printRequestHandler.send(a),r.printRequestHandler.onSuccess=function(e){r.printSuccess(e,i,n,t)},this.printRequestHandler.onFailure=function(e){r.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,r.pdfViewer.serverActionSettings.print)},this.printRequestHandler.onError=function(e){r.pdfViewerBase.openNotificationPopup(),r.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,r.pdfViewer.serverActionSettings.print)}},Oa.prototype.printOnMessage=function(e){var t=document.createElement("canvas"),e=e.data,i=e.value,n=e.width,o=e.height,r=e.pageIndex,a=e.pageWidth,e=e.pageHeight,s=(t.width=n,t.height=o,t.getContext("2d")),o=s.createImageData(n,o),i=(o.data.set(i),s.putImageData(o,0,0),t.toDataURL()),s=(this.pdfViewerBase.releaseCanvas(t),{image:i,pageNumber:r,uniqueId:this.pdfViewerBase.documentId,pageWidth:n});this.printSuccess(s,a,e,r)},Oa.prototype.printSuccess=function(t,e,i,n){var o,r,a,s,l,A,d,p,h,c,g,u,f,m,w=this,t=(this.pdfViewerBase.isPrint=!0,this.pdfViewerBase.clientSideRendering?t:t.data);if(this.pdfViewerBase.checkRedirection(t))this.pdfViewerBase.showPrintLoadingIndicator(!1);else{if(t&&"object"!=typeof t)try{"object"!=typeof(t=JSON.parse(t))&&(this.pdfViewerBase.onControlError(500,t,this.pdfViewer.serverActionSettings.print),t=null)}catch(e){this.pdfViewerBase.onControlError(500,t,this.pdfViewer.serverActionSettings.print),t=null}t&&t.uniqueId===this.pdfViewerBase.documentId&&(this.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.print,t),this.pdfViewer.annotationSettings.skipPrint||((o=this.pdfViewerBase.documentAnnotationCollections)&&o[t.pageNumber]&&this.pdfViewerBase.isTextMarkupAnnotationModule()&&(o=o[t.pageNumber],s=this.pdfViewerBase.isImportAction?(A=o.textMarkupAnnotation,d=o.shapeAnnotation,h=o.measureShapeAnnotation,p=o.stampAnnotations,r=o.freeTextAnnotation,a=o.signatureInkAnnotation,c=o.stickyNotesAnnotation,this.pdfViewer.annotationModule.textMarkupAnnotationModule.printAnnotationsInCanvas(A,t.pageNumber,p,d,h,c,r,a)):this.pdfViewer.annotationModule.textMarkupAnnotationModule.printAnnotationsInCanvas(o.textMarkupAnnotation,t.pageNumber,o.stampAnnotations,o.shapeAnnotation,o.measureShapeAnnotation,o.stickyNotesAnnotation,o.freeTextAnnotation,o.signatureInkAnnotation)),this.pdfViewerBase.isAnnotationCollectionRemoved&&(s=this.pdfViewer.annotationModule.textMarkupAnnotationModule.printAnnotationsInCanvas(null,t.pageNumber,null,null,null,null,null,null))),l=t.pageNumber,this.printCanvas=G.createElement("canvas",{id:this.pdfViewer.element.id+"_printCanvas_"+n,className:"e-pv-print-canvas"}),this.printCanvas.style.width=e+"px",this.printCanvas.style.height=i+"px",A=1<this.pdfViewer.printScaleFactor&&this.pdfViewer.printScaleFactor<=5?this.pdfViewer.printScaleFactor:5<this.pdfViewer.printScaleFactor?5:2,this.pdfViewerBase.clientSideRendering?("Width"==((p=i)<(d=e)?"Width":"Height")?4493===(d=4493<e?4493:e)&&(p=i/(e/4493)):4493===(p=4493<i?4493:i)&&(d=e/(i/4493)),i<e&&this.pdfViewer.enablePrintRotation?(this.printCanvas.height=e*A*window.devicePixelRatio,this.printCanvas.width=i*A*window.devicePixelRatio):(this.printCanvas.height=p*A*window.devicePixelRatio,this.printCanvas.width=d*A*window.devicePixelRatio)):(this.printCanvas.height=this.printHeight*A*window.devicePixelRatio,this.printCanvas.width=this.printWidth*A*window.devicePixelRatio),this.pdfViewerBase.isDeviceiOS&&(h=new J.Size(this.printCanvas.width,this.printCanvas.height),c=this.limitSize(h,this.maximumPixels),this.printCanvas.width=c.width,this.printCanvas.height=c.height),g=this.printCanvas.getContext("2d"),u=new Image,f=new Image,m=new Image,u.onload=function(){w.pdfViewerBase.isPrint=!0,e<i||!w.pdfViewer.enablePrintRotation?(g.drawImage(u,0,0,w.printCanvas.width,w.printCanvas.height),s&&s.annotImg&&g.drawImage(f,0,0,w.printCanvas.width,w.printCanvas.height)):(g.translate(.5*w.printCanvas.width,.5*w.printCanvas.height),g.rotate(-.5*Math.PI),g.translate(.5*-w.printCanvas.height,.5*-w.printCanvas.width),g.drawImage(u,0,0,w.printCanvas.height,w.printCanvas.width),s&&s.annotImg&&g.drawImage(f,0,0,w.printCanvas.height,w.printCanvas.width)),s&&s.highlightImg&&(g.save(),g.globalCompositeOperation="multiply",g.drawImage(m,0,0,w.printCanvas.width,w.printCanvas.height),g.restore()),l===w.pdfViewerBase.pageCount-1&&w.printWindowOpen(),w.pdfViewer.renderDrawing(null,n),w.pdfViewerBase.isPrint=!1},u.src=t.image,s&&!G.isNullOrUndefined(s.annotImg)&&(f.src=s.annotImg),s&&!G.isNullOrUndefined(s.highlightImg)&&(m.src=s.highlightImg),this.printViewerContainer.appendChild(this.printCanvas))}this.pdfViewerBase.isPrint=!1},Oa.prototype.limitSize=function(e,t){var i=e.width,n=e.height,o=i*n;return o<=t?new J.Size(e.width,e.height):(e=Math.sqrt(t)/Math.sqrt(o),new J.Size(Math.floor(i*e),Math.floor(n*e)))},Oa.prototype.renderFieldsForPrint=function(e,t,i){var n=null,o=("Default"===this.pdfViewer.printMode?this.frameDoc:this.printWindow).document.getElementById("fields_"+e);if(this.pdfViewer.formFieldsModule&&(n=this.pdfViewerBase.getItemFromSessionStorage("_formfields")),this.pdfViewer.formDesignerModule){var r=null;if(r=this.pdfViewer.formDesignerModule?this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"):r)for(var a=JSON.parse(r),s=0;s<a.length;s++)if((S=a[parseInt(s.toString(),10)].FormField).pageNumber-1===e&&S.isPrint){var l=(p=this.pdfViewer.nameTable[a[parseInt(s.toString(),10)].Key.split("_")[0]]).wrapper.children[0],A=void 0;if(l)if("RadioButton"===S.formFieldAnnotationType)for(var d=0;d<S.radiobuttonItem.length;d++){var p=this.pdfViewer.nameTable[S.radiobuttonItem[parseInt(d.toString(),10)].id.split("_")[0]];(A=this.createFormDesignerFields(S.radiobuttonItem[parseInt(d.toString(),10)],l,p))&&(g=S.radiobuttonItem[parseInt(d.toString(),10)].lineBound,u=S.radiobuttonItem[parseInt(d.toString(),10)].fontFamily,this.applyPosition(A,g,u,t,i,!0,S.radiobuttonItem[parseInt(d.toString(),10)].zoomValue,S.pageNumber-1),o.appendChild(A))}else(A=this.createFormDesignerFields(S,l,p))&&(g=S.lineBound,u=S.fontFamily,this.applyPosition(A,g,u,t,i,!0,S.zoomValue,S.pageNumber-1),!G.isNullOrUndefined(g))&&0<g.Width&&0<g.Height&&o.appendChild(A)}}else if(n)for(var h=JSON.parse(n),s=0;s<h.length;s++){var c,g,u,f,m,w,B,C,S=h[parseInt(s.toString(),10)];parseFloat(S.PageIndex)===e&&(c=this.pdfViewer.formFieldsModule.createFormFields(S,e,s,o).currentField)&&(g=S.LineBounds,u=S.Font,this.applyPosition(c,g,u,t,i),c.InsertSpaces=S.InsertSpaces,c.InsertSpaces&&(f=parseInt(c.style.width,10)/c.maxLength-parseFloat(c.style.fontSize)/2-.6,c.style.letterSpacing=f+"px",c.style.fontFamily="monospace"),(f=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)]).width>f.height&&this.pdfViewer.enablePrintRotation&&(B=this.pdfViewer.formFieldsModule.ConvertPointToPixel(g.X),C=this.pdfViewer.formFieldsModule.ConvertPointToPixel(g.Y),m=this.pdfViewer.formFieldsModule.ConvertPointToPixel(g.Width),w=this.pdfViewer.formFieldsModule.ConvertPointToPixel(g.Height),B=f.width-B-w,C=C+w,c.style.transform="rotate(-90deg)",c.style.transformOrigin="left bottom",c.style.left=C+"px",c.style.top=B+"px",c.style.height=w+"px",c.style.width=m+"px"),c.style.backgroundColor="transparent",S.IsSignatureField||(c.style.borderColor="transparent"),o.appendChild(c))}},Oa.prototype.createFormDesignerFields=function(e,t,i){var n={id:"form_field_"+t.id+"_html_element",class:"foreign-object"},n=this.pdfViewer.formDesignerModule.createHtmlElement("div",n),o={id:t.id+"_html_element",class:"foreign-object"},o=this.pdfViewer.formDesignerModule.createHtmlElement("div",o);return"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType?(this.pdfViewer.formDesignerModule.disableSignatureClickEvent=!0,t.template=o.appendChild(this.pdfViewer.formDesignerModule.createSignatureDialog(this.pdfViewer,i,null,!0)),this.pdfViewer.formDesignerModule.disableSignatureClickEvent=!1):"DropdownList"===e.formFieldAnnotationType?t.template=o.appendChild(this.pdfViewer.formDesignerModule.createDropDownList(t,i,!0)):"ListBox"===e.formFieldAnnotationType?t.template=o.appendChild(this.pdfViewer.formDesignerModule.createListBox(t,i,!0)):t.template=o.appendChild(this.pdfViewer.formDesignerModule.createInputElement(e.formFieldAnnotationType,i,null,!0)),n.appendChild(o),o},Oa.prototype.applyPosition=function(e,t,i,n,o,r,a,s){var l,A,d,p,h;t&&(p=d=l=void 0,h=(s=this.pdfViewerBase.pageSize[s])?s.width:0,s=s?s.height:0,r&&s<h&&this.pdfViewer.enablePrintRotation?(A=h-t.X/a-t.Height/a,l=(t.Y+t.Height)/a,d=t.Width/a,p=t.Height/a,e.style.transform="rotate(-90deg)",e.style.transformOrigin="left bottom"):(l=r?t.X/a/o:this.pdfViewer.formFieldsModule.ConvertPointToPixel(t.X)/o,A=r?t.Y/a/n:this.pdfViewer.formFieldsModule.ConvertPointToPixel(t.Y)/n,d=r?t.Width/a/o:this.pdfViewer.formFieldsModule.ConvertPointToPixel(t.Width)/o,p=r?t.Height/a/n:this.pdfViewer.formFieldsModule.ConvertPointToPixel(t.Height)/n),s=0,null!==i&&i.Height&&(e.style.fontFamily=i.Name,i.Italic&&(e.style.fontStyle="italic"),i.Bold&&(e.style.fontWeight="Bold"),s=this.pdfViewerBase.ConvertPointToPixel(i.Size)),G.Browser.isIE&&(A-=1),this.pdfViewerBase.setStyleToTextDiv(e,l,A,s,d,p,!0))},Oa.prototype.printWindowOpen=function(){for(var t=this,e=navigator.userAgent,i=("Default"===this.pdfViewer.printMode?this.frameDoc:this.printWindow).document,n=0;n<this.printViewerContainer.children.length;n++){var o,r,a,s=this.printViewerContainer.children[parseInt(n.toString(),10)].toDataURL("image/jpeg");i.write('<div style="margin:0mm;width:'+this.printWidth.toString()+"px;height:"+this.printHeight.toString()+'px;position:relative"><img src="'+s+'" id="image_'+n+'" /><div id="fields_'+n+'" style="margin:0px;top:0px;left:0px;position:absolute;width:'+this.printWidth.toString()+"px;height:"+this.printHeight.toString()+'px;z-index:2"></div></div>'),(this.pdfViewer.formFieldsModule||this.pdfViewer.formDesignerModule)&&(s=this.pdfViewerBase.pageSize[parseInt(n.toString(),10)].width,a=r=void 0,a=(o=this.pdfViewerBase.pageSize[parseInt(n.toString(),10)].height)<s&&this.pdfViewer.enablePrintRotation?(r=o/this.printWidth,s/this.printHeight):(r=o/this.printHeight,s/this.printWidth),this.renderFieldsForPrint(n,r,a)),0===n&&(-1!==e.indexOf("Chrome")||-1!==e.indexOf("Safari")||-1!==e.indexOf("Firefox")?(i.write("<!DOCTYPE html>"),i.write("<html moznomarginboxes mozdisallowselectionprint><head><style>html, body { height: 100%; width:100% } img { height: 100%; width: 100%; display: block; }@media print { body { margin: 0cm; } img { width:100%; width:100%; box-sizing: border-box; }br, button { display: none; } div{ page-break-inside: avoid; }} @page{margin:0mm;  size:"+this.printWidth.toString()+"px "+this.printHeight.toString()+"px; }</style></head><body>")):(i.write("<!DOCTYPE html>"),i.write("<html><head><style>html, body { height: 100%; } img { height: 100%; width: 100%; }@media print { body { margin: 0cm; }img { width:100%; width:100%; box-sizing: border-box; }br, button { display: none; } div{ page-break-inside: avoid; }} @page{margin:0mm;  size:"+this.printWidth.toString()+"px "+this.printHeight.toString()+"px; }</style></head><body>")))}if(G.Browser.isIE||"edge"===G.Browser.info.name)try{("Default"===this.pdfViewer.printMode?(this.pdfViewerBase.showPrintLoadingIndicator(!1),this.iframe.contentWindow):this.printWindow).document.execCommand("print",!1,null)}catch(e){("Default"===this.pdfViewer.printMode?(this.pdfViewerBase.showPrintLoadingIndicator(!1),this.iframe.contentWindow):this.printWindow).print()}else setTimeout(function(){var e;"Default"===t.pdfViewer.printMode?(t.pdfViewerBase.showPrintLoadingIndicator(!1),t.iframe.contentWindow.print(),t.iframe.contentWindow.focus(),t.pdfViewerBase.isDeviceiOS||G.Browser.isDevice?(e=t,window.onafterprint=function(){document.body.removeChild(e.iframe)}):document.body.removeChild(t.iframe)):t.printWindow&&(t.printWindow.print(),t.printWindow.focus(),G.Browser.isDevice&&!t.pdfViewerBase.isDeviceiOS||t.printWindow.close())},200)},Oa.prototype.createPrintLoadingIndicator=function(e){var t=G.createElement("div",{id:this.pdfViewer.element.id+"_printWindowcontainer"}),e=(t.style.height="100%",t.style.width="100%",t.style.position="absolute",t.style.zIndex=2e3,t.style.left=0,t.style.top=0,t.style.overflow="auto",t.style.backgroundColor="rgba(0, 0, 0, 0.3)",e.appendChild(t),G.createElement("div",{id:this.pdfViewer.element.id+"_printLoadingContainer"})),i=(e.style.position="absolute",e.style.width="50px",e.style.height="50px",e.style.left="46%",e.style.top="45%",t.style.zIndex=3e3,t.appendChild(e),new Image),e=(i.src="data:image/gif;base64,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",i.style.width="50px",i.style.height="50px",e.appendChild(i),G.createElement("div",{id:this.pdfViewer.element.id+"_printLabelContainer"}));e.style.position="absolute",e.textContent="Loading ...",e.style.fontWeight="Bold",e.style.left="46%",e.style.top="54.5%",e.style.zIndex="3000",t.appendChild(e)},Oa.prototype.destroy=function(){this.printViewerContainer=void 0,this.frameDoc=void 0,this.printWindow=void 0},Oa.prototype.getModuleName=function(){return"Print"};var Ua=Oa;function Oa(e,t){this.printHeight=1056,this.printWidth=816,this.maximumPixels=16777216,this.pdfViewer=e,this.pdfViewerBase=t}var za=function(){return(za=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ha=(E.prototype.renderFormFields=function(B,e){if(this.maxTabIndex=0,(this.minTabIndex=-1)!==this.renderedPageList.indexOf(B)&&!e&&(this.data=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),this.data)&&"[]"!==this.data||(this.data=this.pdfViewerBase.getItemFromSessionStorage("_formfields")),this.data){this.formFieldsData=JSON.parse(this.data),"["===this.formFieldsData[0]&&(this.formFieldsData=JSON.parse(this.formFieldsData));var C=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+B),e=document.getElementById(this.pdfViewer.element.id+"_pageCanvas_"+B),S=void 0;if(null!==this.formFieldsData&&null!==e&&null!==C){for(var t=!1,i=0;i<this.formFieldsData.length;i++){var n=this.formFieldsData[parseInt(i.toString(),10)];!t&&G.isNullOrUndefined(n.ActualFieldName)&&n.PageIndex===B&&(S=parseInt(n.FieldName.slice(n.FieldName.lastIndexOf("_")+1),10),t=!0)}-1===this.renderedPageList.indexOf(B)&&this.renderedPageList.push(B);for(var y=this,i=0;i<this.formFieldsData.length;i++)!function(e){var t=y.formFieldsData[parseInt(e.toString(),10)];if(""!==t.FieldName){t.IsInitialField&&(t.Name="InitialField");var i,n,o,r,a,s=t.Font;if(y.pdfViewer.formDesigner)parseFloat(t.PageIndex)===B&&(m=a=r=void 0,!G.isNullOrUndefined(s)&&s.Height&&(r=s.Name,s.Italic&&(a="Italic"),s.Bold&&(a="Bold"),s.Strikeout&&(a="Strikethrough"),s.Underline&&(a="Underline"),m=y.ConvertPointToPixel(s.Size)),c=2===t.Alignment?"right":1===t.Alignment?"center":"left",l=t.BackColor,u=t.LineBounds,l="rgba("+l.R+","+l.G+","+l.B+",1)",!0===t.IsTransparent&&(l="rgba(0,0,0,0)"),"#000000ff"===(l=y.rgbaToHex(l))&&(l="#daeaf7ff"),d=t.FontColor,p=!(n={left:y.ConvertPointToPixel(u.X),top:y.ConvertPointToPixel(u.Y),width:y.ConvertPointToPixel(u.Width),height:y.ConvertPointToPixel(u.Height)}),(h=0)!==t.Rotation?-90!==t.RotationAngle&&-270!==t.RotationAngle&&-180!==t.RotationAngle||(n=y.getBounds(n,B,0,p)):(n=y.getBounds(n,B,0,p=!0),h=y.getAngle(B)),d="rgba("+d.R+","+d.G+","+d.B+",1)",d=y.rgbaToHex(d),f=t.BorderColor,g=void 0,g=t.IsTansparentBorderColor?"rgba("+f.R+","+f.G+","+f.B+",0)":"rgba("+f.R+","+f.G+","+f.B+",1)",g=y.rgbaToHex(g),f=t.BorderWidth,y.selectedIndex=[],o="",o="RadioButton"===t.Name||"CheckBox"===t.Name?t.Text||t.Value:t.Text,i="SignatureField"===t.Name?y.pdfViewer.signatureFieldSettings.signatureIndicatorSettings:y.pdfViewer.initialFieldSettings.initialIndicatorSettings,n={bounds:{X:n.left,Y:n.top,Width:n.width,Height:n.height},pageNumber:parseFloat(t.PageIndex)+1,name:t.ActualFieldName||t.FieldName,tooltip:t.ToolTip,value:o,insertSpaces:t.InsertSpaces,isChecked:t.Selected,isSelected:t.Selected,fontFamily:r,fontStyle:a,backgroundColor:l,color:d,borderColor:g,thickness:f,fontSize:m,isMultiline:t.Multiline,rotateAngle:h,isReadOnly:t.IsReadonly,isRequired:t.IsRequired,alignment:c,options:y.getListValues(t),selectedIndex:y.selectedIndex,maxLength:t.MaxLength,visibility:1===t.Visible?"hidden":"visible",font:{isItalic:!G.isNullOrUndefined(s)&&s.Italic,isBold:!G.isNullOrUndefined(s)&&s.Bold,isStrikeout:!G.isNullOrUndefined(s)&&s.Strikeout,isUnderline:!G.isNullOrUndefined(s)&&s.Underline},isTransparent:t.IsTransparent,customData:G.isNullOrUndefined(t.CustomData)?"":"object"==typeof t.CustomData?t.CustomData:""!==t.CustomData.trim()?JSON.parse(t.CustomData):"",signatureIndicatorSettings:i},t.id||!y.pdfViewer.formFieldCollections[parseInt(e.toString(),10)]||G.isNullOrUndefined(t.ActualFieldName)||(n.id=y.pdfViewer.formFieldCollections[parseInt(e.toString(),10)].id),"DropDown"!==t.Name&&"ListBox"!==t.Name||(n.value=t.SelectedValue),o=y.getFormFieldType(t),"SignatureText"===t.Name&&"SignatureImage"===t.Name||G.isNullOrUndefined(y.getFormFieldType(t))||(t.IsRequired&&(n.thickness=r=0<(r=n.thickness)?r:1),(a=y.pdfViewer.formDesignerModule.addField(o,n,!1,n.id))&&a.parentElement&&(t.id=a.parentElement.id.split("_")[0]),a&&"hidden"===a.style.visibility&&(a.childNodes[0].disabled=!0)),"SignatureField"!==o&&"InitialField"!==o||(y.addSignaturePath(t,S),G.isNullOrUndefined(t.Value))||""===t.Value||(y.renderExistingAnnnot(t,parseFloat(t.PageIndex)+1,null,p),y.isSignatureRendered=!0,S++),null!=t.ActualFieldName||G.isNullOrUndefined(t.FieldName)||0!==y.formFieldsData.filter(function(e){return!G.isNullOrUndefined(e.FieldName)&&e.FieldName.includes(t.FieldName.replace(/_\d$/,""))}).filter(function(e){return"ink"!==e.Name}).length||(y.renderExistingAnnnot(t,parseFloat(t.PageIndex)+1,null,p),y.pdfViewerBase.signatureModule.storeSignatureData(B,t),y.isSignatureRendered=!0,S++),y.pdfViewerBase.isLoadedFormFieldAdded=!0);else if(parseFloat(t.PageIndex)===B){var l=y.createFormFields(t,B,e,null,S),A=l.currentField,d=l.count,p=!1;if(null!==t.ActualFieldName||G.isNullOrUndefined(t.FieldName)||0!==y.formFieldsData.filter(function(e){return!G.isNullOrUndefined(e.FieldName)&&e.FieldName.includes(t.FieldName.replace(/_\d$/,""))}).filter(function(e){return"ink"!==e.Name}).length||(y.renderExistingAnnnot(t,parseFloat(t.PageIndex)+1,null,p),y.pdfViewerBase.signatureModule.storeSignatureData(B,t),y.isSignatureRendered=!0,S++),A){var h,c,g=y.createParentElement(t,B),u=t.LineBounds,f=t.Font,m=0;0===t.Rotation&&(p=!0,m=y.getAngle(B)),g?g.style.transform="rotate("+m+"deg)":A.style.transform="rotate("+m+"deg)",y.applyPosition(A,u,f,B,0,p),A.InsertSpaces=t.InsertSpaces,A.InsertSpaces&&(h=y.pdfViewerBase.getZoomFactor(),c=parseInt(A.style.width,10)/A.maxLength-parseFloat(A.style.fontSize)/2-.6*h,A.style.letterSpacing=c+"px",A.style.fontFamily="monospace",A.style.paddingLeft=c/2+"px"),t.uniqueID=y.pdfViewer.element.id+"input_"+B+"_"+e;for(var w=0;w<y.pdfViewer.formFieldCollections.length;w++)"text"!==A.type&&"password"!==A.type&&"textarea"!==A.type||"SignatureField"===t.Name||t.uniqueID===y.pdfViewer.formFieldCollections[parseInt(w.toString(),10)].id&&(y.pdfViewer.formFieldCollections[parseInt(w.toString(),10)].value=t.Text);G.isNullOrUndefined(t.Value)&&(t.Value=t.Text),t.ToolTip&&y.setToolTip(t.ToolTip,A),y.applyCommonProperties(A,B,e,t,p),y.checkIsReadonly(t,A),y.applyTabIndex(t,A,B),y.checkIsRequiredField(t,A),y.applyDefaultColor(A),y.updateFormFieldsCollection(t),g?(g.appendChild(A),C.appendChild(g)):(A.style.position="absolute",C.appendChild(A)),A.addEventListener("focus",y.focusFormFields.bind(y)),A.addEventListener("blur",y.blurFormFields.bind(y)),A.addEventListener("click",y.updateFormFields.bind(y)),A.addEventListener("change",y.changeFormFields.bind(y)),A.addEventListener("keydown",y.updateFormFieldsValue.bind(y)),A.addEventListener("keyup",y.updateSameFieldsValue.bind(y)),S=d}}}}(i);this.pdfViewer.formDesigner||(F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_formfields"),this.pdfViewerBase.setItemInSessionStorage(this.formFieldsData,"_formfields"))}}var o;this.pdfViewerBase.isFocusField&&this.pdfViewerBase.focusField&&(e=document.getElementById(this.pdfViewerBase.focusField.id))&&("SignatureField"!==this.pdfViewerBase.focusField.type&&"InitialField"!==this.pdfViewerBase.focusField.type||!this.pdfViewer.formDesignerModule?e.focus():(e=this.pdfViewerBase.focusField.bounds.y,o=this.pdfViewerBase.pageSize[parseInt(B.toString(),10)].height,this.pdfViewer.bookmark.goToBookmark(this.pdfViewerBase.focusField.pageIndex,o-e)),this.pdfViewerBase.isFocusField=!1,this.pdfViewerBase.focusField=[])},E.prototype.setToolTip=function(e,t){new k.Tooltip({content:G.initializeCSPTemplate(function(){return e})}).appendTo(t)},E.prototype.trim=function(e){return e.replace(/^\s+|\s+$/gm,"")},E.prototype.rgbaToHex=function(e){var e=e.substring(e.indexOf("(")).split(","),t=parseInt(this.trim(e[0].substring(1)),10),i=parseInt(this.trim(e[1]),10),n=parseInt(this.trim(e[2]),10),e=parseFloat(parseFloat(this.trim(e[3].substring(0,e[3].length-1))).toFixed(2)),o=[t.toString(16),i.toString(16),n.toString(16),Math.round(255*e).toString(16).substring(0,2)];return o.forEach(function(e,t){1===e.length&&(o[parseInt(t.toString(),10)]="0"+e)}),"#"+o.join("")},E.prototype.getListValues=function(e){var t=e.TextList,i=[];if("DropDown"===this.getFormFieldType(e))for(var t=e.ComboBoxList,n=0;n<t.length;n++){var o=t[parseInt(n.toString(),10)].itemValue?t[parseInt(n.toString(),10)].itemValue:t[parseInt(n.toString(),10)].ItemValue,r=t[parseInt(n.toString(),10)].itemName?t[parseInt(n.toString(),10)].itemName:t[parseInt(n.toString(),10)].ItemName;r===e.SelectedValue&&this.selectedIndex.push(n),i.push({itemName:r,itemValue:o})}else for(n=0;n<t.length;n++)t[parseInt(n.toString(),10)]===e.SelectedValue&&this.selectedIndex.push(n),i.push({itemName:t[parseInt(n.toString(),10)],itemValue:t[parseInt(n.toString(),10)]});return"ListBox"===this.getFormFieldType(e)&&(this.selectedIndex=e.SelectedList),i},E.prototype.createParentElement=function(e,t){var i,n,o,r;return"Textbox"!==e.Name&&"Password"!==e.Name||((i=document.createElement("div")).style.background="white",e.InsertSpaces&&(i.style.background="transparent"),n=e.LineBounds,o=e.Font,r=!(i.style.position="absolute"),0===e.Rotation&&(r=!0),this.applyPosition(i,n,o,t,0,r)),i},E.prototype.getAngle=function(e){var t=0,e=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)];if(e&&e.rotation)switch(e.rotation){case 0:t=0;break;case 1:t=90;break;case 2:t=180;break;case 3:t=270}return t},E.prototype.nextField=function(){this.signatureFieldNavigate(!0)},E.prototype.previousField=function(){this.signatureFieldNavigate(!1)},E.prototype.signatureFieldNavigate=function(e){var t,i=e,n=this.signatureFieldCollection,o=this.pdfViewer.formFieldCollections;if(0===n.length&&(n=this.pdfViewerBase.signatureModule.getSignField()),this.currentTarget){if(this.pdfViewer.formDesignerModule){for(var r=0;r<o.length;r++)if(t=o[parseInt(r.toString(),10)],this.currentTarget.id===t.id){this.currentTarget=document.getElementById(t.id),this.getSignatureIndex(r,o.length,i);break}}else for(r=0;r<n.length;r++)if(t=this.pdfViewer.formDesignerModule?n[parseInt(r.toString(),10)].FormField:n[parseInt(r.toString(),10)],this.currentTarget.id===t.uniqueID){this.currentTarget=document.getElementById(t.uniqueID),this.getSignatureIndex(r,n.length,i);break}}else e&&(this.pdfViewer.formDesignerModule?(t=n[0]).id&&(this.currentTarget=document.getElementById(t.id),this.getSignatureIndex(0,n.length,i,!0)):(t=n[0]).uniqueID&&(this.currentTarget=document.getElementById(t.uniqueID),this.getSignatureIndex(0,n.length,i,!0)))},E.prototype.getSignatureIndex=function(e,t,i,n){n||(i?e++:e--),1===t?this.renderSignatureField(0):e<t&&0<=e?this.renderSignatureField(e):i?t<=e&&this.renderSignatureField(0):e<=0&&this.renderSignatureField(t-1)},E.prototype.renderSignatureField=function(e){var t,i=e,n=this.signatureFieldCollection,o=this.pdfViewer.formFieldCollections;if(i<o.length){for(var r,a=0;a<o.length;a++)if(this.pdfViewer.formDesignerModule){if(o[parseInt(i.toString(),10)].id===(r=o[parseInt(a.toString(),10)]).id){var s=0<=r.pageIndex?r.pageIndex:r.pageNumber;this.pdfViewer.annotationModule.findRenderPageList(s)||(this.pdfViewer.navigation.goToPage(s+1),this.renderFormFields(s,!1)),this.currentTarget=document.getElementById(r.id),t=r;break}}else if((this.pdfViewer.formDesignerModule?n[parseInt(i.toString(),10)].FormField:n[parseInt(i.toString(),10)]).uniqueID===(r=this.pdfViewer.formDesignerModule?n[parseInt(a.toString(),10)].FormField:n[parseInt(a.toString(),10)]).uniqueID){var s=0<=r.PageIndex?r.PageIndex:r.pageNumber;this.pdfViewer.annotationModule.findRenderPageList(s)||(this.pdfViewer.navigation.goToPage(s+1),this.renderFormFields(s,!1)),this.currentTarget=document.getElementById(r.uniqueID),t=r;break}null===this.currentTarget&&(s=0<=t.PageIndex?t.PageIndex:t.pageNumber,this.pdfViewer.navigation.goToPage(s),this.currentTarget=document.getElementById(t.uniqueID)),this.currentTarget&&("e-pdfviewer-signatureformfields-signature"!==this.currentTarget.className||this.pdfViewer.formDesignerModule?"e-pdfviewer-signatureformfields"!==this.currentTarget.className&&"e-pdfviewer-signatureformfields-signature"!==this.currentTarget.className||(this.pdfViewer.formDesignerModule?document.getElementById(this.currentTarget.id).parentElement:document.getElementById(this.currentTarget.id)).focus():(document.getElementById(this.currentTarget.id).focus(),this.pdfViewer.select([this.currentTarget.id],null)))}},E.prototype.formFieldCollections=function(){var e=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(e)for(var t=JSON.parse(e),i=0;i<t.length;i++){var n,o=t[parseInt(i.toString(),10)],r=o.Name;this.pdfViewer.formDesignerModule?"ink"!==o.Name&&"SignatureImage"!==o.Name&&"SignatureText"!==o.Name&&this.retreiveFormFieldsData(o,!0):"ink"!==o.Name&&(n=void 0,o.LineBounds&&(n=G.isNullOrUndefined(o.Bounds)?this.updateBoundsValue(o.LineBounds):o.Bounds),r={name:this.retriveFieldName(o),id:this.pdfViewer.element.id+"input_"+parseFloat(o.PageIndex)+"_"+i,isReadOnly:!1,type:o.IsInitialField?"InitialField":r,value:this.retriveCurrentValue(o),fontName:"",isRequired:o.IsRequired,bounds:n},this.pdfViewer.formFieldCollections.push(r))}},E.prototype.retreiveFormFieldsData=function(e,t){var i,n,o,r,a,s,l,A,d,p;return""!==e.FieldName?(e.IsInitialField&&(e.Name="InitialField"),o=e.Font,!G.isNullOrUndefined(o)&&o.Height&&(p=o.Name,o.Italic&&(i="Italic"),o.Bold&&(i="Bold"),o.Strikeout&&(i="Strikethrough"),o.Underline&&(i="Underline"),n=this.ConvertPointToPixel(o.Size)),r=2===e.Alignment?"right":1===e.Alignment?"center":"left",a=e.BackColor,d=e.LineBounds,a="rgba("+a.R+","+a.G+","+a.B+",1)",a=this.rgbaToHex(a),!0===e.IsTransparent?a="rgba(0,0,0,0)":"#000000ff"===a&&(a="#daeaf7ff"),s=e.FontColor,d={left:this.ConvertPointToPixel(d.X),top:this.ConvertPointToPixel(d.Y),width:this.ConvertPointToPixel(d.Width),height:this.ConvertPointToPixel(d.Height)},s="rgba("+s.R+","+s.G+","+s.B+",1)",s=this.rgbaToHex(s),l="rgba("+(l=e.BorderColor).R+","+l.G+","+l.B+",1)",l=this.rgbaToHex(l),!0===e.IsTansparentBorderColor&&(l="rgba(0,0,0,0)"),A=e.BorderWidth,this.selectedIndex=[],d={bounds:{X:d.left,Y:d.top,Width:d.width,Height:d.height},pageNumber:parseFloat(e.PageIndex)+1,name:e.ActualFieldName,tooltip:e.ToolTip,value:e.Text,isChecked:e.Selected,isSelected:e.Selected,fontFamily:p,fontStyle:i,backgroundColor:a,color:s,borderColor:l,thickness:A,fontSize:n,isMultiline:e.Multiline,isReadOnly:e.IsReadonly,isRequired:e.IsRequired,insertSpaces:e.InsertSpaces,alignment:r,options:this.getListValues(e),selectedIndex:this.selectedIndex,maxLength:e.MaxLength,visibility:1===e.Visible?"hidden":"visible",font:{isItalic:!G.isNullOrUndefined(o)&&o.Italic,isBold:!G.isNullOrUndefined(o)&&o.Bold,isStrikeout:!G.isNullOrUndefined(o)&&o.Strikeout,isUnderline:!G.isNullOrUndefined(o)&&o.Underline},pageIndex:e.PageIndex,isTransparent:e.IsTransparent,rotationAngle:e.RotationAngle,signatureType:e.SignatureType||"",signatureIndicatorSettings:e.SignatureIndicatorSettings,zIndex:e.zIndex,customData:G.isNullOrUndefined(e.CustomData)?"":"object"==typeof e.CustomData?e.CustomData:""!==e.CustomData.trim()?JSON.parse(e.CustomData):""},"DropDown"!==e.Name&&"ListBox"!==e.Name||(d.value=e.SelectedValue),"RadioButton"===e.Name&&(d.value=e.Value),"SignatureField"!==(p=this.getFormFieldType(e))&&"InitialField"!==p||(this.addSignaturePath(e),this.isSignatureField&&(d.value=e.Value)),this.pdfViewer.formDesignerModule.addField(p,d,t)):null},E.prototype.updateBoundsValue=function(e){return{x:this.ConvertPointToPixel(e.X),y:this.ConvertPointToPixel(e.Y),width:this.ConvertPointToPixel(e.Width),height:this.ConvertPointToPixel(e.Height)}},E.prototype.updateFormFieldsCollection=function(e){var t,i=e.Name,n=(e.LineBounds&&(t=G.isNullOrUndefined(e.Bounds)?this.updateBoundsValue(e.LineBounds):e.Bounds),"DropDown"===e.Name?e.ComboBoxList:e.TextList),o={name:this.retriveFieldName(e),id:e.uniqueID,isReadOnly:e.IsReadonly,isRequired:e.IsRequired,isSelected:e.Selected,isChecked:"RadioButton"!==i&&e.Selected,type:i,value:"ListBox"===i||"DropDown"===i?e.SelectedValue:e.Value,fontName:e.FontFamily||"",pageIndex:e.PageIndex,pageNumber:e.PageIndex+1,isMultiline:e.isMultiline||e.Multiline,insertSpaces:e.insertSpaces||e.InsertSpaces,isTransparent:e.isTransparent||e.IsTransparent,rotateAngle:e.rotateAngle||e.RotationAngle,selectedIndex:e.selectedIndex||e.SelectedList,options:e.options||n||[],bounds:t,signatureType:e.signatureType||"",zIndex:e.zIndex,tooltip:e.tooltip||e.ToolTip||"",signatureIndicatorSettings:e.signatureIndicatorSettings||""};this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===o.id})]=o},E.prototype.updateFormFieldValues=function(e){var t;this.readOnlyCollection.push(e.id),e&&((t=document.getElementById(e.id))&&(e.isReadOnly?(t.disabled=!0,t.style.backgroundColor="",t.style.cursor="default"):(""===t.style.backgroundColor&&(t.style.backgroundColor="rgba(0, 20, 200, 0.2)"),t.disabled=!1,t.style.cursor="")),this.updateDataInSession(t))},E.prototype.retriveFieldName=function(e){var t;switch(e.Name){case"Textbox":case"Password":case"SignatureField":case"InitialField":t=e.FieldName;break;case"RadioButton":case"CheckBox":t=e.GroupName;break;case"DropDown":t=e.ActualFieldName;break;case"ListBox":t=e.Text}return t},E.prototype.retriveCurrentValue=function(e){var t;switch(e.Name){case"Textbox":case"Password":t=e.Text;break;case"SignatureField":t=e.Value;break;case"RadioButton":case"CheckBox":t=e.Selected;break;case"DropDown":t=e.SelectedValue;break;case"ListBox":t=e.SelectedList}return t},E.prototype.getSignatureBounds=function(e,t,i){var n=this.pdfViewerBase.pageSize[parseInt(i.toString(),10)],o=0;switch(n.rotation){case 0:o=t;break;case 1:o={x:t.x+e.Width+t.width/3.5,y:n.width-e.X+t.height/4};break;case 2:o={x:n.width-t.x-t.width,y:n.height-t.y-t.height};break;case 3:o={x:t.y-t.width/2+t.height,y:t.x+t.width/3}}return o},E.prototype.downloadFormFieldsData=function(){var e=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(e){for(var t=JSON.parse(e),i={},n=[],o=0;o<t.length;o++){var r,a,s=t[parseInt(o.toString(),10)],l=s.IsRequired;if("Textbox"===s.Name||"Password"===s.Name||s.Multiline)!l||""!==s.Text&&null!==s.Text?delete this.pdfViewerBase.nonFillableFields[s.FieldName]:(this.pdfViewerBase.validateForm=!0,this.pdfViewerBase.nonFillableFields[s.FieldName]=s.Text),n={fieldValue:s.Text,isReadOnly:s.IsReadonly},i[s.FieldName]=n;else if("RadioButton"===s.Name&&s.Selected)l&&!1===s.Selected?(this.pdfViewerBase.validateForm=!0,this.pdfViewerBase.nonFillableFields[s.GroupName]=s.Value):delete this.pdfViewerBase.nonFillableFields[s.GroupName],n={fieldValue:s.Value,isReadOnly:s.IsReadonly},i[s.GroupName]=n;else if("CheckBox"===s.Name){l&&!1===s.Selected?(this.pdfViewerBase.validateForm=!0,this.pdfViewerBase.nonFillableFields[s.GroupName]=s.Selected):delete this.pdfViewerBase.nonFillableFields[s.GroupName];var A=s.CheckBoxIndex||s.CheckboxIndex||null;A&&s.Selected?(n={isSelected:A,isReadOnly:s.IsReadonly,fieldValue:G.isNullOrUndefined(s.Value)?"":s.Value},i[s.GroupName]=n):void 0!==i[s.GroupName]&&null!==i[s.GroupName]||(n={isSelected:s.Selected,isReadOnly:s.IsReadonly,fieldValue:s.Value},i[s.GroupName]=n)}else if("DropDown"===s.Name)l&&""===s.SelectedValue?(this.pdfViewerBase.validateForm=!0,this.pdfViewerBase.nonFillableFields[s.Text]=s.SelectedValue):delete this.pdfViewerBase.nonFillableFields[s.Text],n={fieldValue:s.SelectedValue,isReadOnly:s.IsReadonly},i[s.FieldName]=n;else if("ListBox"===s.Name){for(var d=s.TextList,p=[],h=0;h<s.SelectedList.length;h++){var c=s.SelectedList[parseInt(h.toString(),10)];p.push(d[""+c])}n={fieldValue:JSON.stringify(p),isReadOnly:s.IsReadonly},i[s.Text]=n}else"SignatureField"!==s.Name&&"InitialField"!==s.Name||(A=void 0,!l||null!==s.Value&&""!==s.Value||this.addSignaturePath(s),s.Value&&""!==s.Value&&(A=s.Value,(r=s.fontFamily||s.FontFamily)?(i[s.FieldName+"fontName"]=r,i[s.FieldName+"fontSize"]=s.fontSize||s.FontSize):s.Value.split("base64,")[1]?i[s.FieldName+"ImageData"]=!0:(r=J.processPathData(s.Value),A=J.splitArrayCollection(r))),!l||null!==s.Value&&""!==s.Value?delete this.pdfViewerBase.nonFillableFields[s.FieldName]:(this.pdfViewerBase.validateForm=!0,this.pdfViewerBase.nonFillableFields[s.FieldName]=JSON.stringify(A)),i[s.FieldName]=JSON.stringify(A),s.Bounds?(a=this.getSignatureBounds(s.LineBounds,s.Bounds,s.PageIndex),s.Bounds.x=a.x,s.Bounds.y=a.y,i[s.FieldName+"bounds"]=JSON.stringify(s.Bounds)):(r=s.LineBounds,a={x:this.ConvertPointToPixel(r.X),y:this.ConvertPointToPixel(r.Y),width:this.ConvertPointToPixel(r.Width),height:this.ConvertPointToPixel(r.Height)},i[s.FieldName+"bounds"]=JSON.stringify(a)),i[s.FieldName+"isReadOnly"]=s.IsReadonly)}return JSON.stringify(i)}},E.prototype.focusFormFields=function(e){var t,i,e=e.target;e&&"e-pdfviewer-signatureformfields"!==e.className&&"e-pdfviewer-signatureformfields e-pv-signature-focus"!==e.className?(t=(i=e.style.backgroundColor).lastIndexOf(","),i=i.slice(0,t+1)+0+")",e.style.backgroundColor=i,"checkbox"===e.type&&(e.style.webkitAppearance=""),e.style.boxShadow="0 0 5px "+("transparent"===e.style.borderColor?"#000000":e.style.borderColor)):!e||"e-pdfviewer-signatureformfields"!==e.className&&"e-pdfviewer-signatureformfields-signature"!==e.className&&"e-pdfviewer-signatureformfields e-pv-signature-focus"!==e.className&&"e-pdfviewer-signatureformfields-signature  e-pv-signature-focus"!==e.className||this.pdfViewerBase.signatureModule.setFocus(e.id)},E.prototype.blurFormFields=function(e){var e=e.target,t=(e.InsertSpaces&&this.isKeyDownCheck&&(t=parseInt(e.style.width,10)-parseInt(e.style.height,10)/2,e.style.width=t+"px",this.isKeyDownCheck=!1),"checkbox"===e.type?this.pdfViewer.fireFocusOutFormField(e.name,e.checked):this.pdfViewer.fireFocusOutFormField(e.name,e.value),e.style.backgroundColor),i=t.lastIndexOf(","),t=t.slice(0,i+1)+.2+")";e.style.backgroundColor=t,e.style.boxShadow="none","checkbox"!==e.type||e.checked?e.style.webkitAppearance="":e.style.webkitAppearance="none"},E.prototype.updateFormFields=function(e){var t=e.target;this.pdfViewerBase.isDeviceiOS&&"checkbox"===t.type&&t.focus(),"e-pdfviewer-ListBox"===t.className?(t=t.parentElement,this.updateDataInSession(t)):"e-pdfviewer-signatureformfields"===t.className||"e-pdfviewer-signatureformfields e-pv-signature-focus"===t.className?this.currentTarget=t:"e-pv-buttonItem"!==t.className&&"button"!==t.type||this.pdfViewer.fireButtonFieldClickEvent(t.value,t.name,t.id);for(var i=0;i<this.pdfViewer.formFieldCollections.length;i++)t.id===this.pdfViewer.formFieldCollections[parseInt(i.toString(),10)].id&&((this.pdfViewer.formDesignerModule||this.pdfViewer.annotationModule)&&this.pdfViewer.fireFormFieldClickEvent("formFieldClicked",this.pdfViewer.formFieldCollections[parseInt(i.toString(),10)]),"e-pdfviewer-signatureformfields"!==t.className&&"e-pdfviewer-signatureformfields-signature"!==t.className&&"e-pdfviewer-signatureformfields e-pv-signature-focus"!==t.className&&"e-pdfviewer-signatureformfields-signature  e-pv-signature-focus"!==t.className||this.pdfViewerBase.signatureModule.setFocus(t.id))},E.prototype.drawSignature=function(B,C,S,y,I){for(var E,Q,D,x,V=this,e=this.pdfViewer.formDesigner?this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"):this.pdfViewerBase.getItemFromSessionStorage("_formfields"),b=JSON.parse(e),M=this.pdfViewer.formDesignerModule&&this.currentTarget&&this.currentTarget.offsetParent?this.currentTarget.offsetParent.name:this.currentTarget?this.currentTarget.name:S.name||S.offsetParent.name,v=this,t=0;t<b.length;t++)!function(e){var t,i,n,o,r,a,s,l,A,d,p,h,c,g,u,f,m,w=v.pdfViewer.formDesigner?b[parseInt(e.toString(),10)].FormField.name:b[parseInt(e.toString(),10)].FieldName;(v.pdfViewer.formDesigner?w!==M:w!==M||G.isNullOrUndefined(b[parseInt(e.toString(),10)].ActualFieldName))||(t=S=v.pdfViewer.formDesigner?document.getElementById(b[parseInt(e.toString(),10)].Key.split("_")[0]):document.getElementById(b[parseInt(e.toString(),10)].uniqueID),v.pdfViewer.annotations.filter(function(e){G.isNullOrUndefined(t)||(e.id,S.id)}),G.isNullOrUndefined(t))||(w=t.offsetParent.offsetParent.id.split("_")[0],i=v.pdfViewer.nameTable[""+w],S&&S.offsetParent&&i&&(D=S.getBoundingClientRect(),x=S.offsetParent.offsetParent.offsetParent.getBoundingClientRect(),v.pdfViewerBase.drawSignatureWithTool=!0,S.nextSibling)&&-1!==S.nextSibling.id.indexOf("initial")&&(v.pdfViewer.isInitialFieldToolbarSelection=!0),n=C||v.pdfViewerBase.signatureModule.outputString,"Path"!==B||v.pdfViewer.drawing.isPasted||C&&""===v.pdfViewerBase.signatureModule.outputString&&(e=JSON.parse(n),w=J.splitArrayCollection(e),n=J.getPathString(w)),e=y||v.pdfViewerBase.signatureModule.fontName,w=v.pdfViewerBase.getZoomFactor(),o=v.pdfViewerBase.drawSignatureWithTool?D.width/w:parseFloat(t.style.width)/w,r=v.pdfViewerBase.drawSignatureWithTool?D.height/w:parseFloat(t.style.height)/w,a=v.pdfViewerBase.drawSignatureWithTool?(D.left-x.left)/w:parseFloat(t.style.left)/w,s=v.pdfViewerBase.drawSignatureWithTool?(D.top-x.top)/w:parseFloat(t.style.top)/w,l=v.pdfViewerBase.drawSignatureWithTool&&S.nextElementSibling?parseFloat(S.nextElementSibling.id.split("_")[1]):parseFloat(t.id.split("_")[1]),m=v.pdfViewerBase.drawSignatureWithTool&&S.nextElementSibling?parseFloat(S.nextElementSibling.id.split("_")[2]):parseFloat(t.id.split("_")[2]),A=v.pdfViewerBase.signatureModule.saveImageString,f=t.offsetParent.offsetParent.style.transform||t.style.transform,h=(f=f.substring(f.indexOf("(")+1,f.indexOf("d")))?parseInt(f,10):0,"Type"===B||"Text"===B?(e=e||"Helvetica",Q=v.getSignBounds(m,h,l,w,a,s,o,r),"Default"===v.pdfViewer.signatureFitMode&&(Q=v.getDefaultBoundsforSign(Q)),"SignatureText"===(E={id:t.id,bounds:{x:Q.x,y:Q.y,width:Q.width,height:Q.height},pageIndex:l,data:n,modifiedDate:"",shapeAnnotationType:"SignatureText",opacity:1,rotateAngle:h,annotName:"SignatureText",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""},fontFamily:e,fontSize:Q.height/v.signatureFontSizeConstent}).shapeAnnotationType&&(f=1,(e=v.getTextWidth(E.data,E.fontSize,E.fontFamily))>Q.width&&(f=Q.width/e),E.fontSize=v.getFontSize(Math.floor(E.fontSize*f))),A=E.data,d=E.fontFamily,p=E.fontSize):"Image"===B?(Q=v.getSignBounds(m,h,l,w,a,s,o,r),c=Object.freeze(Q),g=new Image,u=S,g.src=n,g.onload=function(){var e=Object.isFrozen(c)?za({},c):c;V.imageOnLoad(e,g,n,l,h,t,i,A,d,p,u)}):-1!==n.indexOf("base64")?(Q=v.getSignBounds(m,h,l,w,a,s,o,r),"Default"===v.pdfViewer.signatureFitMode&&(Q=v.getDefaultBoundsforSign(Q)),E={id:t.id,bounds:{x:Q.x,y:Q.y,width:Q.width,height:Q.height},pageIndex:l,data:n,modifiedDate:"",shapeAnnotationType:"SignatureImage",opacity:1,rotateAngle:h,annotName:"SignatureField",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""}},A=E.data):(G.isNullOrUndefined(I)?"Default"===v.pdfViewer.signatureFitMode?(e=v.pdfViewerBase.signatureModule.updateSignatureAspectRatio(n,!1,t),(Q=v.getSignBounds(m,h,l,w,a,s,e.width,e.height,!0)).x=Q.x+e.left,Q.y=Q.y+e.top):Q=v.getSignBounds(m,h,l,w,a,s,o,r):Q=I,E={id:t.id,bounds:{x:Q.x,y:Q.y,width:Q.width,height:Q.height},pageIndex:l,data:n,modifiedDate:"",shapeAnnotationType:"Path",opacity:1,rotateAngle:h,annotName:"SignatureField",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""}}),v.pdfViewerBase.drawSignatureWithTool&&i&&"Image"!==B?(E.id=i.id+"_content",f=v.pdfViewer.add(E),i.wrapper.children[1]&&f.wrapper.id===i.wrapper.children[1].id&&!G.isNullOrUndefined(i.wrapper.children[1])&&"Point"===i.wrapper.children[1].relativeMode&&i.wrapper.children.splice(1,1),i.wrapper.children.push(f.wrapper)):"Image"!==B&&v.pdfViewer.add(E),E&&"Path"===E.shapeAnnotationType&&""!==n&&(v.pdfViewerBase.currentSignatureAnnot=E,v.pdfViewerBase.signatureModule.addSignatureCollection(Q,{currentHeight:r,currentWidth:o,currentLeft:a,currentTop:s}),A=v.pdfViewerBase.signatureModule.saveImageString,v.pdfViewerBase.currentSignatureAnnot=null),"Image"!==B&&(e=v.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",l),v.pdfViewer.renderDrawing(e,l),v.pdfViewerBase.signatureModule.showSignatureDialog(!1),"e-pdfviewer-signatureformfields e-pv-signature-focus"===t.className?t.className="e-pdfviewer-signatureformfields-signature e-pv-signature-focus":t.className="e-pdfviewer-signatureformfields-signature",v.pdfViewerBase.drawSignatureWithTool&&i?(m=S.offsetParent.offsetParent.id.split("_")[0]+"_content",E.bounds={x:Q.x*w,y:Q.y*w,width:Q.width*w,height:Q.height*w},v.updateSignatureDataInSession(E,m)):v.updateDataInSession(t,E.data,E.bounds,d,p),t.style.pointerEvents="none",v.pdfViewer.annotation&&v.pdfViewer.annotation.addAction(E.pageIndex,null,E,"FormField Value Change","",E,E),"Path"!==E.shapeAnnotationType&&"SignatureText"!==E.shapeAnnotationType||v.pdfViewer.fireSignatureAdd(E.pageIndex,E.id,E.shapeAnnotationType,E.bounds,E.opacity,null,null,A),v.pdfViewer.fireFocusOutFormField(t.name,n)))}(t);"Image"!==B&&(this.pdfViewerBase.signatureModule.hideSignaturePanel(),this.pdfViewerBase.drawSignatureWithTool=!1,this.pdfViewer.isInitialFieldToolbarSelection=!1)},E.prototype.imageOnLoad=function(e,t,i,n,o,r,a,s,l,A,d){d&&d.offsetParent&&a&&(this.pdfViewerBase.drawSignatureWithTool=!0,d.nextSibling)&&-1!==d.nextSibling.id.indexOf("initial")&&(this.pdfViewer.isInitialFieldToolbarSelection=!0),"Default"===this.pdfViewer.signatureFitMode&&(c=Math.min(e.height/this.paddingDifferenceValue,e.width/this.paddingDifferenceValue),u=e.height-c,c=e.width-c,h=t.width,t=t.height,g=e.width,p=e.height,c=Math.min(c/h,u/t),e.width=h*c,e.height=t*c,e.x=e.x+(g-e.width)/2,e.y=e.y+(p-e.height)/2);var p,h,c,g,u={id:r.id,bounds:{x:e.x,y:e.y,width:e.width,height:e.height},pageIndex:n,data:i,modifiedDate:"",shapeAnnotationType:"SignatureImage",opacity:1,rotateAngle:o,annotName:"SignatureField",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""}},t=(s=u.data,this.pdfViewerBase.drawSignatureWithTool&&a?(u.id=a.id+"_content",h=this.pdfViewer.add(u),a.wrapper.children[1]&&h.wrapper.id===a.wrapper.children[1].id&&!G.isNullOrUndefined(a.wrapper.children[1])&&"Point"===a.wrapper.children[1].relativeMode&&a.wrapper.children.splice(1,1),a.wrapper.children.push(h.wrapper)):this.pdfViewer.add(u),this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",n));this.pdfViewer.renderDrawing(t,n),this.pdfViewerBase.signatureModule.showSignatureDialog(!1),"e-pdfviewer-signatureformfields e-pv-signature-focus"===r.className?r.className="e-pdfviewer-signatureformfields-signature e-pv-signature-focus":r.className="e-pdfviewer-signatureformfields-signature",this.pdfViewerBase.drawSignatureWithTool&&a?(c=this.pdfViewerBase.getZoomFactor(),g=d.offsetParent.offsetParent.id.split("_")[0]+"_content",u.bounds={x:e.x*c,y:e.y*c,width:e.width*c,height:e.height*c},this.updateSignatureDataInSession(u,g)):this.updateDataInSession(r,u.data,u.bounds,l,A),r.style.pointerEvents="none",this.pdfViewer.annotation&&this.pdfViewer.annotation.addAction(u.pageIndex,null,u,"FormField Value Change","",u,u),"SignatureImage"===u.shapeAnnotationType&&this.pdfViewer.fireSignatureAdd(u.pageIndex,u.id,u.shapeAnnotationType,u.bounds,u.opacity,null,null,s),this.pdfViewer.fireFocusOutFormField(r.name,i),this.pdfViewerBase.signatureModule.hideSignaturePanel(),this.pdfViewerBase.drawSignatureWithTool=!1,this.pdfViewer.isInitialFieldToolbarSelection=!1},E.prototype.updateSignatureDataInSession=function(n,o){var e=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),r=JSON.parse(e);if(!G.isNullOrUndefined(r))for(var a=this,t=0;t<r.length;t++)!function(t){var e,i;r[parseInt(t.toString(),10)].Key===o&&(e=a.pdfViewer.formFieldCollection.findIndex(function(e){return e.id===r[parseInt(t.toString(),10)].FormField.id.split("_")[0]}),"SignatureText"===n.shapeAnnotationType?(r[parseInt(t.toString(),10)].FormField.signatureType="Text",a.pdfViewer.nameTable[(""+o).split("_")[0]].signatureType="Text",a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.signatureType="Text",a.pdfViewer.nameTable[""+o].signatureType="Text",r[parseInt(t.toString(),10)].FormField.fontFamily="TimesRoman"===n.fontFamily?"Times New Roman":n.fontFamily,a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.fontFamily=n.fontFamily,a.pdfViewer.nameTable[""+o].fontFamily=n.fontFamily,a.pdfViewer.nameTable[(""+o).split("_")[0]].fontFamily=n.fontFamily,r[parseInt(t.toString(),10)].FormField.fontSize=n.fontSize,a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.fontSize=n.fontSize,a.pdfViewer.nameTable[""+o].fontSize=n.fontSize,a.pdfViewer.nameTable[(""+o).split("_")[0]].fontSize=n.fontSize,-1<e&&(a.pdfViewer.formFieldCollection[parseInt(e.toString(),10)].signatureType="Text")):"SignatureImage"===n.shapeAnnotationType?(r[parseInt(t.toString(),10)].FormField.signatureType="Image",a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.signatureType="Image",a.pdfViewer.nameTable[""+o].signatureType="Image",-1<e&&(a.pdfViewer.formFieldCollection[parseInt(e.toString(),10)].signatureType="Image")):(r[parseInt(t.toString(),10)].FormField.signatureType="Path",a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.signatureType="Path",a.pdfViewer.nameTable[""+o].signatureType="Path",-1<e&&(a.pdfViewer.formFieldCollection[parseInt(e.toString(),10)].signatureType="Path")),r[parseInt(t.toString(),10)].FormField.signatureBound=n.bounds,a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.signatureBound=n.bounds,a.pdfViewer.nameTable[""+o].signatureBound=n.bounds,-1<e&&(a.pdfViewer.formFieldCollection[parseInt(e.toString(),10)].signatureBound=n.bounds),"Path"===n.shapeAnnotationType?(i=J.processPathData(n.data),i=J.splitArrayCollection(i),r[parseInt(t.toString(),10)].FormField.value=JSON.stringify(i),a.pdfViewer.nameTable[""+o].value=n.data,a.pdfViewer.nameTable[o.split("_")[0]].value=n.data,a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.value=JSON.stringify(i),-1<e&&(a.pdfViewer.formFieldCollection[parseInt(e.toString(),10)].value=JSON.stringify(i))):(r[parseInt(t.toString(),10)].FormField.value=n.data,a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.value=n.data,a.pdfViewer.nameTable[o.split("_")[0]].value=n.data,a.pdfViewer.nameTable[""+o].value=n.data,-1<e&&(a.pdfViewer.formFieldCollection[parseInt(e.toString(),10)].value=n.data)),a.pdfViewer.formDesigner.updateFormFieldCollections(r[parseInt(t.toString(),10)].FormField),a.pdfViewer.formDesigner.updateFormFieldPropertiesChanges("formFieldPropertiesChange",r[parseInt(t.toString(),10)].FormField,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,"",r[parseInt(t.toString(),10)].FormField.value)),r[parseInt(t.toString(),10)].Key===n.id&&(r[parseInt(t.toString(),10)].FormField.signatureBound=n.bounds)}(t);this.pdfViewerBase.setItemInSessionStorage(r,"_formDesigner")},E.prototype.getDefaultBoundsforSign=function(e){return{x:e.x+4,y:e.y+4,width:e.width-8,height:e.height-8}},E.prototype.getSignBounds=function(e,t,i,n,o,r,a,s,l){var A=this.pdfViewer.isInitialFieldToolbarSelection?"initialIcon":"signIcon",A=document.getElementById(A+"_"+i+"_"+e),i=o*n-(A?parseFloat(A.style.left)*n:0)/n;return 90===t||270===t?(this.rotateAngle=0,""!==A.style.left?l?{x:o-i/n-n,y:r+i/n+n,width:a,height:s}:{x:o-i/n-n,y:r+i/n+n,width:s,height:a}:l?{x:o-a,y:r+a,width:s,height:a}:{x:o-a-5,y:r+a+10,width:s,height:a}):(this.rotateAngle=0,{x:o,y:r,width:a,height:s})},E.prototype.updateSameFieldsValue=function(e){if(this.formFieldsData)for(var t=0;t<this.formFieldsData.length;t++){var i,n=this.formFieldsData[parseInt(t.toString(),10)];e.target.name===n.FieldName&&e.target.id!==n.uniqueID&&((i=document.getElementById(this.formFieldsData[parseInt(t.toString(),10)].uniqueID))?i.value=e.target.value:(n.Text=e.target.value,this.updateDataInSession(n,null,null,null,null,!0)))}},E.prototype.updateFormFieldsValue=function(e){var t,i=e.target;if(i.InsertSpaces&&!this.isKeyDownCheck&&(a=parseInt(i.style.width,10)+parseInt(i.style.height,10)/2,i.style.width=a+"px",this.isKeyDownCheck=!0),9===e.which&&i&&("e-pdfviewer-formFields"===i.className||"e-pdfviewer-signatureformfields e-pv-signature-focus"===i.className||"e-pdfviewer-signatureformfields-signature"===i.className)){var n=i.id.split("input_")[1].split("_")[0],o=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+parseInt(n,10)).getElementsByClassName("e-pdfviewer-formFields"),r=!0,a=this.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===i.id});e.shiftKey||"Tab"!==e.key||(t=a+1<this.pdfViewer.formFieldCollections.length?this.pdfViewer.formFieldCollections[a+1]:this.pdfViewer.formFieldCollections[0]),this.pdfViewer.focusFormField(t),r=!0,e.preventDefault();for(var s=i.tabIndex+1;!r;){for(var l=0;l<o.length;l++)if(r=!1,o[parseInt(l.toString(),10)].tabIndex===s){o[parseInt(l.toString(),10)].focus(),r=!0,e.preventDefault();break}this.maintainTabIndex[""+n]===s&&(r=!0),s+=1}}if(e.shiftKey&&"Tab"===e.key&&(t=0<(a=this.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===i.id}))?this.pdfViewer.formFieldCollections[a-1]:this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.length-1],this.pdfViewer.focusFormField(t),e.preventDefault()),e.currentTarget.classList.contains("e-pdfviewer-signatureformfields")||e.currentTarget.classList.contains("e-pdfviewer-signatureformfields-signature"))if("Enter"===e.key)for(var A=e.target,d=0;d<this.pdfViewer.formFieldCollections.length;d++)A.id===this.pdfViewer.formFieldCollections[parseInt(d.toString(),10)].id&&(this.pdfViewerBase.signatureModule.setFocus(A.id),this.pdfViewer.fireFormFieldClickEvent("formFieldClicked",this.pdfViewer.formFieldCollections[parseInt(d.toString(),10)]));else e.preventDefault()},E.prototype.changeFormFields=function(e){e=e.target;this.updateDataInSession(e)},E.prototype.updateDataInSession=function(t,e,i,n,o,r){void 0===r&&(r=!1),this.pdfViewerBase.updateDocumentEditedProperty(!0);var a,s=" ",l=0,A=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(A&&!this.pdfViewer.formDesignerModule){var d=JSON.parse(A);0<(A=d.filter(function(e){return e.uniqueID===t.id})).length&&(s=A[0].FieldName,l=d.filter(function(e){return e.FieldName===s}).length);for(var p=0;p<d.length;p++){var h=d[parseInt(p.toString(),10)];if(h.uniqueID===t.id||s===h.FieldName){if(t&&"text"===t.type||"password"===t.type||"textarea"===t.type){var c,g,u,f,m=t;m.classList.contains("e-pdfviewer-signatureformfields")||m.classList.contains("e-pdfviewer-signatureformfields-signature")?(e&&(h.Value=e),i&&(G.isNullOrUndefined(h.uniqueID)||s!==h.FieldName||t.id!==h.uniqueID?(m=this.ConvertPointToPixel(h.LineBounds.Width),c=this.ConvertPointToPixel(h.LineBounds.Height),b=this.ConvertPointToPixel(h.LineBounds.X),g=this.ConvertPointToPixel(h.LineBounds.Y),u=i.height,f=i.width,h.Bounds={x:b+(m-f)/2,y:g+(c-u)/2,height:u,width:f}):h.Bounds=i),n&&(h.FontFamily=n,h.FontSize=o)):(h.Text=t.value,h.Value=t.value,h.Multiline=t.multiline)}else if("radio"===t.type){if(h.uniqueID===t.id){for(var w=t.id,B=d.filter(function(e){return e.GroupName===t.name&&"RadioButton"===e.Name}),C=0;C<B.length;C++)(S=B[parseInt(C.toString(),10)]).uniqueID!==w&&(S.Selected=!1),(y=document.getElementById(S.uniqueID))&&w!==y.id&&(y.Selected=!1);if(""!==h.Value&&h.Value===t.value||(h.Value=t.value),t.value===h.Value||t.id===h.uniqueID){h.Selected=!0;break}h.Selected=!1}}else if("checkbox"===t.type){for(var S,y,I=t.id,E=d.filter(function(e){return e.GroupName===t.name&&"CheckBox"===e.Name}),C=0;C<E.length;C++)(S=E[parseInt(C.toString(),10)]).uniqueID!==I&&(S.Selected=!1,S.checked=!1),(y=document.getElementById(S.uniqueID))&&I!==y.id&&(y.Selected=!1,y.checked=!1,y.style.webkitAppearance="none");t.checked&&t.id===h.uniqueID?h.Selected=!0:h.Selected=!1,""===h.Value&&(h.Value=t.value)}else if("select-one"===t.type&&0===t.size){t.selectedIndex<0&&(t.selectedIndex=h.selectedIndex);for(var Q=t.options[t.selectedIndex].text,D=t.children,x=0;x<D.length;x++)D[parseInt(x.toString(),10)].text===Q&&(h.SelectedValue=Q,h.selectedIndex=t.selectedIndex)}else if("select-multiple"===t.type||0<t.size){Q=t.selectedOptions;h.SelectedList=[];for(var V=0;V<Q.length;V++)for(D=t.children,x=0;x<D.length;x++)D[parseInt(x.toString(),10)]===Q[parseInt(V.toString(),10)]&&h.SelectedList.push(x);h.SelectedValue=t.value;var b=h.TextList?h.TextList.indexOf(t.value):0;h.selectedIndex=-1<b?b:0,h.SelectedList=[h.selectedIndex]}if(t.disabled&&(h.IsReadonly=!0),h.IsRequired=t.Required||t.required||!1,h.ToolTip=t.tooltip||"",this.updateFormFieldsCollection(h),0===--l)break}else r?h.SelectedValue=t.Text:t&&null!=t.getAttribute("list")&&"text"===t.type&&h.uniqueID===t.list.id&&(h.SelectedValue=t.value);this.updateFormFieldsCollection(h)}F.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_formfields"),this.pdfViewerBase.setItemInSessionStorage(d,"_formfields")}this.pdfViewer.formDesignerModule&&t&&t.id&&(A=this.pdfViewer.nameTable[t.id.split("_")[0]])&&A.wrapper&&A.wrapper.children[0]&&(A.value=t.value,a=J.cornersPointsBeforeRotation(A.wrapper.children[0]).topLeft,this.pdfViewer.formDesignerModule.updateFormDesignerFieldInSessionStorage(a,A.wrapper.children[0],A.formFieldAnnotationType,A))},E.prototype.removeExistingFormFields=function(){var e=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),t=G.isNullOrUndefined(e)?null:JSON.parse(e);if(t)for(var i=0;i<t.length;i++){if("RadioButton"===t[parseInt(i.toString(),10)].FormField.formFieldAnnotationType)for(var n=t[parseInt(i.toString(),10)].FormField.radiobuttonItem,o=t[parseInt(i.toString(),10)].FormField.id.split("_")[0],r=0;r<n.length;r++){var a=n[parseInt(r.toString(),10)];a.id.split("_")[0]!==o&&this.pdfViewer.formDesignerModule.deleteFormField(a.id.split("_")[0])}t[parseInt(i.toString(),10)].Key&&this.pdfViewer.formDesignerModule.deleteFormField(t[parseInt(i.toString(),10)].Key.split("_")[0])}},E.prototype.applyCommonProperties=function(e,t,i,n,o){var r,a=document.getElementById(this.pdfViewer.element.id+"input_"+t+"_"+i),s=(a&&(s=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+t),"text"===e.type&&a.parentElement!==s&&a.parentElement.remove(),"e-pdfviewer-signatureformfields e-pv-signature-focus"!==a.className)&&a.remove(),document.getElementById("signIcon_"+t+"_"+i)),a=parseFloat(e.style.left),l=parseInt(e.style.top,10),A=(parseFloat(e.style.width),parseFloat(e.style.height)),d=this.pdfViewerBase.getZoomFactor();s&&!o&&(o=parseFloat(s.style.width),parseFloat(s.style.height),"rotate(90deg)"===s.style.transform&&(s.style.transform="rotate(0deg)",s.style.left=a-(A/2-(r=o*d))+r/2+"px"),"rotate(180deg)"===s.style.transform&&(s.style.transform="rotate(0deg)",s.style.left=a+"px",s.style.top=l+"px"),"rotate(270deg)"===s.style.transform)&&(s.style.transform="rotate(0deg)",s.style.left=a-(A/2-(r=o*d))+r/2+"px",s.style.top=l+"px"),n.IsSignatureField&&this.isSignatureField?(e.className="e-pdfviewer-signatureformfields-signature",e.style.pointerEvents="none"):n.IsSignatureField?n.Value?(e.className="e-pdfviewer-signatureformfields-signature",e.style.pointerEvents="none"):e.className="e-pdfviewer-signatureformfields":"Button"!==n.Name&&(e.className="e-pdfviewer-formFields"),e.id=this.pdfViewer.element.id+"input_"+t+"_"+i,e.ariaLabel=this.pdfViewer.element.id+"input_"+t,e.style.zIndex=1e3},E.prototype.createFormFields=function(e,t,i,n,o){switch(e.Name){case"Textbox":r=this.createTextBoxField(e,t,"text");break;case"Password":r=this.createTextBoxField(e,t,"password");break;case"RadioButton":r=this.createRadioBoxField(e,t,"radio");break;case"CheckBox":r=this.createRadioBoxField(e,t,"checkbox",n);break;case"DropDown":r=this.createDropDownField(e,t,i,n);break;case"ListBox":r=this.createListBoxField(e,t);break;case"InitialField":case"SignatureField":var r=this.createSignatureField(e,t,i,n,o),a=!1;0===e.Rotation&&(a=!0),e.Value&&""!==e.Value&&(this.renderExistingAnnnot(e,i,n,a),this.isSignatureRendered=!0,o++);break;case"Button":r=this.createButtonField(e,t);break;case"ink":this.pdfViewer.formDesignerModule&&e.Value&&""!==e.Value&&!this.isSignatureRendered&&this.renderExistingAnnnot(e,i,n);break;case"SignatureText":case"SignatureImage":e.Value&&""!==e.Value&&!this.isSignatureRendered&&this.renderExistingAnnnot(e,i,n)}return{currentField:r,count:o}},E.prototype.getFormFieldType=function(e){var t;switch(e.Name){case"Textbox":t="Textbox";break;case"Password":t="Password";break;case"RadioButton":t="RadioButton";break;case"CheckBox":t="CheckBox";break;case"DropDown":t="DropDown";break;case"ListBox":t="ListBox";break;case"SignatureField":t="SignatureField",e.IsInitialField&&(t="InitialField");break;case"InitialField":t="InitialField"}return t},E.prototype.createButtonField=function(e,t){var i=document.createElement("input");return e.Value&&(this.isBase64(e.Value)||this.isURL(e.Value))?(i.type="image",i.src=e.Value):i.type="button",i.className="e-pv-buttonItem",""!==e.Text?i.value=e.Text:i.value="",i.name=e.FieldName,i},E.prototype.isBase64=function(e){return/^data:([a-zA-Z]*\/[a-zA-Z+.-]*);base64,/.test(e)},E.prototype.isURL=function(e){try{return new URL(e),!0}catch(e){return!1}},E.prototype.createTextBoxField=function(e,t,i){var n;if(1!==e.Visible)return e.Multiline?(n=document.createElement("textarea")).style.resize="none":(n=document.createElement("input")).type=i,0<e.MaxLength&&(n.maxLength=e.MaxLength),this.addAlignmentPropety(e,n),""!==e.Text?n.value=e.Text:n.value="",this.pdfViewer.enableAutoComplete||(n.autocomplete="off"),n.name=e.FieldName,n},E.prototype.checkIsReadonly=function(e,t){for(var i,n,o=!1,r=0;r<this.readOnlyCollection.length;r++)if(t.id===this.readOnlyCollection[parseInt(r.toString(),10)]){o=!0;break}this.pdfViewer.formDesignerModule||this.pdfViewer.annotationModule||!e.IsInitialField&&!e.IsSignatureField||(o=!0),e.IsReadonly||!this.pdfViewer.enableFormFields||o?(t.disabled=!0,t.style.cursor="default",t.style.backgroundColor="transparent"):(i=e.BackColor,"Button"!==e.Name?t.style.backgroundColor="rgba("+i.R+","+i.G+","+i.B+",0.2)":(n=e.Opacity,t.style.backgroundColor=n?"rgba("+i.R+","+i.G+","+i.B+","+n+")":"rgb("+i.R+","+i.G+","+i.B+")"),n=e.FontColor,t.style.color="rgba("+n.R+","+n.G+","+n.B+",1)")},E.prototype.formFieldsReadOnly=function(e){var t=document.getElementsByClassName("e-pdfviewer-formFields"),t=(this.makeformFieldsReadonly(t,e),document.getElementsByClassName("e-pdfviewer-signatureformfields"));this.makeformFieldsReadonly(t,e)},E.prototype.makeformFieldsReadonly=function(e,t){for(var i,n=0;n<e.length;n++)e[parseInt(n.toString(),10)]&&(i=e[parseInt(n.toString(),10)],t?i.disabled=!1:(i.disabled=!0,i.style.cursor="default"))},E.prototype.applyTabIndex=function(e,t,i){t.tabIndex=e.TabIndex,this.maxTabIndex=Math.max(this.maxTabIndex,t.tabIndex),-1===this.minTabIndex&&(this.minTabIndex=t.tabIndex),this.minTabIndex=Math.min(this.minTabIndex,t.tabIndex),this.maintainTabIndex[i.toString()]=this.maxTabIndex,this.maintanMinTabindex[i.toString()]=this.minTabIndex},E.prototype.checkIsRequiredField=function(e,t){var i;e.IsRequired?(t.required=!0,t.style.border="1px solid red"):(i=e.BorderColor,t.style.border=e.BorderWidth,t.style.borderColor="rgba("+i.R+","+i.G+","+i.B+",1)"),"checkbox"!==t.type&&"radio"!==t.type&&(i=e.BorderStyle,this.addBorderStylePropety(i,t))},E.prototype.applyDefaultColor=function(e){("button"===e.type||"rgba(255, 255, 255, 0.2)"!==e.style.backgroundColor&&"rgba(0, 0, 0, 0.2)"!==e.style.backgroundColor)&&"rgba(218, 234, 247, 0.2)"!==e.style.backgroundColor||(e.style.backgroundColor="rgba(0, 20, 200, 0.2)"),"rgba(255, 255, 255, 0.2)"===e.style.color&&(e.style.color="black")},E.prototype.addAlignmentPropety=function(e,t){switch(e.Alignment){case 0:t.style.textAlign="left";break;case 1:t.style.textAlign="center";break;case 2:t.style.textAlign="right";break;case 3:t.style.textAlign="justify"}},E.prototype.addBorderStylePropety=function(e,t){switch(e){case 0:t.style.borderStyle="solid";break;case 1:t.style.borderStyle="dashed";break;case 2:t.style.borderStyle="outset";break;case 3:t.style.borderStyle="inset";break;case 4:t.style.borderStyle="outset";break;case 5:t.style.borderStyle="dotted";break;case 6:t.style.borderStyle="inset"}},E.prototype.createRadioBoxField=function(e,t,i,n){var o=document.createElement("input");return o.type=i,e.Selected?o.checked=!0:"checkbox"!==i||n||(o.style.webkitAppearance="none"),o.name=e.GroupName,o.value=e.Value,o},E.prototype.createDropDownField=function(e,t,i,n){var o,r,a=document.createElement("select"),s="DropDown"===e.Name?e.ComboBoxList:e.TextList;e.Selected&&!n&&((o=document.getElementById("editableDropdown"+t+"_"+i))&&o.remove(),(o=document.createElement("input")).id="editableDropdown"+t+"_"+i,o.setAttribute("list",this.pdfViewer.element.id+"input_"+t+"_"+i),i=e.LineBounds,r=e.Font,o.style.position="absolute",o.style.border="0px",this.applyPosition(o,i,r,t,e.Rotation),o.style.backgroundColor="rgba(0, 20, 200, 0.2)",o.className="e-pdfviewer-formFields",-1===e.selectedIndex&&(o.value=e.SelectedValue),(n||document.getElementById(this.pdfViewer.element.id+"_textLayer_"+t)).appendChild(o),o.addEventListener("focus",this.focusFormFields.bind(this)),o.addEventListener("blur",this.blurFormFields.bind(this)),o.addEventListener("click",this.updateFormFields.bind(this)),o.addEventListener("change",this.changeFormFields.bind(this)),o.addEventListener("keydown",this.updateFormFieldsValue.bind(this)),a=document.createElement("DATALIST"));for(var l=0;l<s.length;l++){var A=document.createElement("option"),d=(A.className="e-dropdownSelect",s[parseInt(l.toString(),10)].itemName?s[parseInt(l.toString(),10)].itemName:s[parseInt(l.toString(),10)].ItemName),p=s[parseInt(l.toString(),10)].itemValue?s[parseInt(l.toString(),10)].itemValue:s[parseInt(l.toString(),10)].ItemValue;e.SelectedValue===d||e.selectedIndex===l?A.selected=!0:A.selected=!1,A.value=p,A.innerHTML=d,a.appendChild(A)}return a.name=e.Text,a},E.prototype.createListBoxField=function(e,t){var i=document.createElement("select"),n=e.TextList;e.MultiSelect?i.multiple=!0:(i.multiple=!1,i.size=n.length);for(var o=0;o<n.length;o++){var r=document.createElement("option");r.className="e-pdfviewer-ListBox";for(var a=0;a<e.SelectedList.length;a++)e.SelectedList[parseInt(a.toString(),10)]===o&&(r.selected=!0);r.innerHTML=n[parseInt(o.toString(),10)],i.appendChild(r)}return i.name=e.Text,i},E.prototype.createSignatureField=function(e,t,i,n,o){var r=document.createElement("input"),a=(r.type="text",r.name=e.FieldName,this.pdfViewerBase.getZoomFactor()),s=document.getElementById("signIcon_"+t+"_"+i),n=(s&&!n&&s.remove(),this.pdfViewerBase.isInitialField=e.IsInitialField,this.pdfViewerBase.isInitialField?"Initial":"Sign"),s=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings?19===this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.width?this.pdfViewerBase.isInitialField?27:19:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.width:19,l=document.createElement("span"),A=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+t),d=e.LineBounds,p=this.ConvertPointToPixel(d.X),h=this.ConvertPointToPixel(d.Y),c=this.ConvertPointToPixel(d.Width),d=this.ConvertPointToPixel(d.Height),g=!this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings||this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.height>d*a/2?d*a/2:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.height,s=c*a/2<s?c*a/2:s,u=!this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings||this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.fontSize>g/2?10:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.fontSize,u=s<u?s/2:g<u?g/2:u,i=(l.style.position="absolute",l.id="signIcon_"+t+"_"+i,this.getAngle(t)),p=this.getBounds({left:p,top:h,width:s,height:g},t);return l.style.transform="rotate("+i+"deg)",l.style.left=p.left*a+"px",l.style.top=p.top*a+"px",G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?(l.style.height="5px",l.style.width="10px",l.style.fontSize="3px"):(l.style.height=g+"px",l.style.width=s+"px",l.style.fontSize=u+"px",G.isBlazor()&&(l.style.fontSize=u-1+"px")),g+this.indicatorPaddingValue>d*a||s+this.indicatorPaddingValue>c*a||(l.style.padding="2px"),l.style.textAlign="center",l.style.boxSizing="content-box",l.innerHTML=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings&&this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.text||n,l.style.color=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings&&this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.color||"black",l.style.backgroundColor=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings&&this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.backgroundColor||"orange",l.style.opacity=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings&&this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.opacity||1,G.isNullOrUndefined(A)||A.appendChild(l),this.addSignaturePath(e,o),r},E.prototype.addSignaturePath=function(e,t){this.isSignatureField=!1;var i=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(i){var n=JSON.parse(i);"string"==typeof n&&(n=JSON.parse(n));for(var o=0;o<n.length;o++){var r=n[parseInt(o.toString(),10)];if(null!==r.ActualFieldName||!t||"ink"!==r.Name&&"SignatureField"!==r.Name&&"SignatureImage"!==r.Name&&"SignatureText"!==r.Name||(this.pdfViewer.formDesigner?r.FieldName.split("_")[0]!==e.ActualFieldName&&r.FieldName.split("_")[0]!==e.FieldName:r.FieldName.split("_")[0]!==e.FieldName||G.isNullOrUndefined(e.ActualFieldName)||!r.Value||""===r.Value)||e.PageIndex===r.PageIndex&&(e.Value=r.Value,e.FontFamily=r.FontFamily,e.FontSize=r.FontSize,this.isSignatureField=!0,e.Bounds=r.LineBounds),null===r.ActualFieldName&&t&&("ink"===r.Name||"SignatureField"===r.Name||"SignatureImage"===r.Name||"SignatureText"===r.Name)&&this.pdfViewer.formDesigner?r.FieldName===e.ActualFieldName+"_"+t||r.FieldName===e.FieldName+"_"+t:(r.FieldName===e.FieldName+"_"+t||r.FieldName===e.ActualFieldName+"_"+t)&&!G.isNullOrUndefined(e.ActualFieldName)&&r.Value&&""!==r.Value){e.Value=r.Value,e.FontFamily=r.FontFamily,e.FontSize=r.FontSize,this.isSignatureField=!0,e.Bounds||(e.Bounds=r.LineBounds);break}}}return this.isSignatureField},E.prototype.getBounds=function(e,t,i,n){t=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)],i=0<i?this.getBoundsPosition(i,e,t,n):this.getBoundsPosition(t.rotation,e,t,n);return i},E.prototype.getBoundsPosition=function(e,t,i,n){var o;if(n)switch(e){case 0:o=t;break;case 1:o={left:i.width-t.top-t.height-(t.width/2-t.height/2),top:t.left+(t.width/2-t.height/2),width:t.width,height:t.height};break;case 2:o={left:i.width-t.left-t.width,top:i.height-t.top-t.height,width:t.width,height:t.height};break;case 3:o={left:t.top-(t.width/2-t.height/2),top:i.height-t.left-t.width+(t.width/2-t.height/2),width:t.width,height:t.height}}else switch(e){case 90:o={left:i.width-t.top-t.height,top:t.left,width:t.height,height:t.width};break;case 180:o={left:i.width-t.left-t.width,top:i.height-t.top-t.height,width:t.width,height:t.height};break;case 270:o={left:t.top,top:i.height-t.left-t.width,width:t.height,height:t.width};break;case 0:o=t;break;case 1:o={left:i.width-t.top-t.height,top:t.left,width:t.height,height:t.width};break;case 2:o={left:i.width-t.left-t.width,top:i.height-t.top-t.height,width:t.width,height:t.height};break;case 3:o={left:t.top,top:i.height-t.left-t.width,width:t.height,height:t.width}}return o=o||t},E.prototype.applyPosition=function(e,t,i,n,o,r){var a,s,l,A;t&&(A=this.ConvertPointToPixel(t.X),a=this.ConvertPointToPixel(t.Y),s=this.ConvertPointToPixel(t.Width),t=this.ConvertPointToPixel(t.Height),l=0,A=this.getBounds({left:A,top:a,width:s,height:t},n,o,r),!G.isNullOrUndefined(i)&&i.Height&&(e.style.fontFamily=i.Name,i.Italic&&(e.style.fontStyle="italic"),i.Bold&&(e.style.fontWeight="Bold"),l=this.ConvertPointToPixel(i.Size)),this.pdfViewerBase.setStyleToTextDiv(e,A.left,A.top,l,A.width,A.height,!1))},E.prototype.renderExistingAnnnot=function(e,t,i,n){var o,r,a,s,l,A,d,p,h;!i&&(s=a=r=o=i=void 0,s=(i=e.Bounds&&"ink"!==e.Name?e.Bounds:e.LineBounds).x||i.y||i.width||i.height?(o=i.x,r=i.y,a=i.width,i.height):(o=this.ConvertPointToPixel(i.X),r=this.ConvertPointToPixel(i.Y),a=this.ConvertPointToPixel(i.Width),this.ConvertPointToPixel(i.Height)),i=parseFloat(e.PageIndex),h=this.updateSignatureBounds({left:o,top:r,width:a,height:s},i,n),A=e.FontFamily||e.fontFamily,this.pdfViewerBase.isSignatureImageData(e.Value)?l={id:this.pdfViewer.element.id+"input_"+i+"_"+t,bounds:h,pageIndex:i,data:e.Value,modifiedDate:"",shapeAnnotationType:"SignatureImage",opacity:1,rotateAngle:n?this.getAngle(i):0,annotName:"SignatureField",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""}}:this.pdfViewerBase.isSignaturePathData(e.Value)?(d={left:(p=h).x,top:h.y,width:h.width,height:h.height},p=this.updateSignatureBounds(d,i,!1),l={id:this.pdfViewer.element.id+"input_"+i+"_"+t,bounds:p,pageIndex:i,data:e.Value,modifiedDate:"",shapeAnnotationType:"Path",opacity:1,rotateAngle:0,annotName:"SignatureField",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""}}):((l={id:this.pdfViewer.element.id+"input_"+i+"_"+t,bounds:h,pageIndex:i,data:e.Value,modifiedDate:"",shapeAnnotationType:"SignatureText",opacity:1,rotateAngle:n?this.getAngle(i):0,annotName:"SignatureField",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""},fontFamily:e.FontFamily,fontSize:e.FontSize}).fontFamily="TimesRoman"===A?"Times New Roman":A,l.fontSize=e.FontSize||e.fontSize),"SignatureField"!==e.Name&&"InitialField"!==e.Name||G.isNullOrUndefined(e.id)?((d=document.getElementById(l.id))&&d.classList.contains("e-pdfviewer-signatureformfields-signature")&&this.pdfViewer.annotation.deleteAnnotationById(l.id),this.pdfViewer.add(l),d&&(this.updateDataInSession(d,l.data,l.bounds),this.pdfViewer.fireSignatureAdd(l.pageIndex,l.id,l.shapeAnnotationType,l.bounds,l.opacity,l.strokeColor,l.thickness,l.data))):(p=e.id,t=document.getElementById(p+"_content_html_element"),h=this.pdfViewer.nameTable[""+p],l.id=h.id+"_content",n=this.pdfViewer.add(l),h.wrapper.children.push(n.wrapper),(!G.isNullOrUndefined(t)&&this.isSignatureField||!G.isNullOrUndefined(t)&&e.Value)&&((A=t.children[0].children[0]).style.pointerEvents="none",A.className="e-pdfviewer-signatureformfields-signature",A.parentElement.style.pointerEvents="none")),e.Bounds=l.bounds,this.pdfViewer.formDesignerModule&&(d=this.pdfViewerBase.getZoomFactor(),l.bounds={x:o*d,y:r*d,width:a*d,height:s*d},this.updateSignatureDataInSession(l,l.id)),p=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",i),0<(h=this.pdfViewer.formFieldCollection.filter(function(e){return l.id.split("_")[0]===e.id})).length&&"hidden"!==h[0].visibility||!this.pdfViewer.formDesignerModule)&&this.pdfViewer.renderDrawing(p,i)},E.prototype.updateSignatureBounds=function(e,t,i){t=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)];return t?i?1===t.rotation?{x:t.width-e.top-e.height-(e.width/2-e.height/2),y:e.left+(e.width/2-e.height/2),width:e.width,height:e.height}:2===t.rotation?{x:t.width-e.left-e.width,y:t.height-e.top-e.height,width:e.width,height:e.height}:3===t.rotation?{x:e.top-(e.width/2-e.height/2),y:t.height-e.left-e.width+(e.width/2-e.height/2),width:e.width,height:e.height}:{x:e.left,y:e.top,width:e.width,height:e.height}:1===t.rotation?{x:t.width-e.top-e.height,y:e.left,width:e.height,height:e.width}:2===t.rotation?{x:t.width-e.left-e.width,y:t.height-e.top-e.height,width:e.width,height:e.height}:3===t.rotation?{x:e.top,y:t.height-e.left-e.width,width:e.height,height:e.width}:{x:e.left,y:e.top,width:e.width,height:e.height}:{x:e.left,y:e.top,width:e.width,height:e.height}},E.prototype.resetFormFields=function(){for(var e=this.pdfViewer.formFieldCollections,t=0;t<e.length;t++){var i,n=e[parseInt(t.toString(),10)];this.currentTarget=document.getElementById(n.id),"Textbox"===n.type?this.currentTarget.value=n.value:"RadioButton"===n.type?(this.currentTarget.checked=n.value,n.value&&this.updateDataInSession(this.currentTarget)):"DropDown"===n.type?this.currentTarget.value=n.value:"CheckBox"===n.type?this.currentTarget.checked=n.value:"SignatureField"===n.type&&(i=this.pdfViewer.nameTable[n.id])&&(this.currentTarget&&"e-pdfviewer-signatureformfields-signature"===this.currentTarget.className&&(this.currentTarget.className="e-pdfviewer-signatureformfields",this.currentTarget.style.pointerEvents="",this.updateDataInSession(this.currentTarget,"")),this.pdfViewer.remove(i),this.pdfViewer.renderDrawing()),"RadioButton"!==n.type&&"SignatureField"!==n.type&&this.updateDataInSession(this.currentTarget)}},E.prototype.clearFormFieldStorage=function(){F.sessionStorageManager.getWindowSessionStorageSize();if(this.pdfViewerBase.isDeviceiOS||this.pdfViewerBase.isMacSafari,this.pdfViewerBase.isStorageExceed){for(var e=F.sessionStorageManager.getSessionLength(),t=[],i=0;i<e;i++)F.sessionStorageManager.getKey(i)&&F.sessionStorageManager.getKey(i).split("_")[3]&&("formfields"===F.sessionStorageManager.getKey(i).split("_")[3]||"formDesigner"===F.sessionStorageManager.getKey(i).split("_")[3])&&(this.pdfViewerBase.formFieldStorage[F.sessionStorageManager.getKey(i)]=F.sessionStorageManager.getItem(F.sessionStorageManager.getKey(i)),t.push(F.sessionStorageManager.getKey(i)));if(t)for(i=0;i<t.length;i++)F.sessionStorageManager.removeItem(t[parseInt(i.toString(),10)])}},E.prototype.clearFormFields=function(e){var t=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(t)for(var i=void 0,i=e?[e]:JSON.parse(t),n=!0,o=0;o<i.length;o++){var r,a=i[parseInt(o.toString(),10)];e&&(a.uniqueID=e.id,a.Name=e.type),this.currentTarget=document.getElementById(a.uniqueID),"Textbox"===a.Name?this.currentTarget.value="":"RadioButton"===a.Name?n&&(this.currentTarget.checked=!0,this.updateDataInSession(this.currentTarget),n=!1):"DropDown"===a.Name?this.currentTarget.value=a.TextList[0]:"CheckBox"===a.Name?this.currentTarget.checked=!1:"SignatureField"!==a.Name&&"InitialField"!==a.Name||!(r="annotations"!==(r=this.pdfViewer.nameTable[a.uniqueID]).propName?this.pdfViewer.nameTable[a.uniqueID+"_content"]:r)||(this.currentTarget&&"e-pdfviewer-signatureformfields-signature"===this.currentTarget.className&&(this.currentTarget.className="e-pdfviewer-signatureformfields",this.currentTarget.style.pointerEvents="",this.currentTarget.parentElement.style.pointerEvents="",this.updateDataInSession(this.currentTarget,""),e)&&(e.value="",e.signatureType=[e.signatureType],e.signatureType[0]=""),this.pdfViewer.annotation.deleteAnnotationById(r.id),this.currentTarget=null),"SignatureField"!==a.Name&&"ink"!==a.Name&&"RadioButton"!==a.Name&&this.updateDataInSession(this.currentTarget)}},E.prototype.ConvertPointToPixel=function(e){return e*(96/72)},E.prototype.destroy=function(){this.currentTarget=null,this.readOnlyCollection=[],this.pdfViewerBase&&this.pdfViewerBase.signatureModule&&this.pdfViewerBase.signatureModule.destroy()},E.prototype.getModuleName=function(){return"FormFields"},E.prototype.getTextWidth=function(e,t,i){var n,o=document.createElement("canvas"),r=o.getContext("2d"),t=(r.font=(n=t?t+"px "+i:n)||getComputedStyle(document.body).font,r.measureText(e).width);return this.pdfViewerBase.releaseCanvas(o),t},E.prototype.getFontSize=function(e){return e},E);function E(e,t){this.maintainTabIndex={},this.maintanMinTabindex={},this.isSignatureField=!1,this.paddingDifferenceValue=10,this.indicatorPaddingValue=4,this.isKeyDownCheck=!1,this.signatureFontSizeConstent=1.35,this.readOnlyCollection=[],this.isSignatureRendered=!1,this.signatureFieldCollection=[],this.selectedIndex=[],this.renderedPageList=[],this.pdfViewer=e,this.pdfViewerBase=t}Q.prototype.drawHelper=function(e,t,i){var n,o,r,a=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+this.pdfViewerBase.activeElements.activePageID);null!==document.getElementById(this.pdfViewer.element.id+"_pageCanvas_"+this.pdfViewerBase.activeElements.activePageID)&&null!==a&&(n=this.pdfViewerBase.getZoomFactor(),o=this.updateFormFieldInitialSize(t,e),r=this.createHtmlElement("div",{id:"FormField_helper_html_element",class:"foreign-object"}),this.isDrawHelper=!0,"SignatureField"===e||"InitialField"===e?r.appendChild(this.createSignatureDialog(this.pdfViewer,t,o)):"DropdownList"===e?r.appendChild(this.createDropDownList({id:"dropdown_helper"},t)):"ListBox"===e?r.appendChild(this.createListBox({id:"listbox_helper"},t)):r.appendChild(this.createInputElement(e,t,o)),a.appendChild(r),e=this.pdfViewerBase.getMousePosition(i),r.setAttribute("style","height:"+o.height*n+"px; width:"+o.width*n+"px;left:"+e.x*n+"px; top:"+e.y*n+"px;position:absolute;opacity: 0.5;"))},Q.prototype.drawHTMLContent=function(e,t,i,n,o,r,a){var s=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+n),n=document.getElementById(this.pdfViewer.element.id+"_pageCanvas_"+n);if(null===document.getElementById("form_field_"+t.id+"_html_element")&&null!==t&&null!==n&&s){var n=this.pdfViewerBase.getZoomFactor(),l={id:"form_field_"+t.id+"_html_element",class:"foreign-object"},l=this.createHtmlElement("div",l),A={id:t.id+"_html_element",class:"foreign-object"},A=this.createHtmlElement("div",A),o=("TimesRoman"===i.fontFamily&&(i.fontFamily="Times New Roman"),t.template="SignatureField"===e||"InitialField"===e?A.appendChild(this.createSignatureDialog(o,i)):"DropdownList"===e?A.appendChild(this.createDropDownList(t,i)):"ListBox"===e?A.appendChild(this.createListBox(t,i)):A.appendChild(this.createInputElement(e,i)),document.createElement("div"));if(o.id=i.id+"_designer_name",o.style.fontSize=this.defaultFontSize+"px",o.className="e-pv-show-designer-name",this.pdfViewer.designerMode?(o.innerHTML=i.name,o.style.position="absolute"):(o.innerHTML="",o.style.position="initial"),("Checkbox"===e&&G.Browser.isDevice?(u=(d=i.bounds).height+this.increasedSize,c=d.width+this.increasedSize,g={id:i.id+"_outer_div",className:"e-pv-checkbox-outer-div"},(g=G.createElement("div",g)).setAttribute("style","height:"+u*n+"px; width:"+c*n+"px;left:"+d.x*n+"px; top:"+d.y*n+"px;position:absolute; opacity: 1;"),A.appendChild(o),g.addEventListener("click",this.setCheckBoxState.bind(this)),l.appendChild(A),s.appendChild(g),g):(A.appendChild(o),l.appendChild(A),s)).appendChild(l),"RadioButton"===e&&0<document.getElementsByClassName("e-pv-radiobtn-span").length)for(var d,p=document.getElementsByClassName("e-pv-radiobtn-span"),h=0;h<p.length;h++)p[parseInt(h.toString(),10)].id.split("_")[0]===i.id&&(d=this.getCheckboxRadioButtonBounds(i),p[parseInt(h.toString(),10)].style.width=d.width/2+"px",p[parseInt(h.toString(),10)].style.height=d.height/2+"px",parseInt(p[parseInt(h.toString(),10)].style.width,10)<=1||parseInt(p[parseInt(h.toString(),10)].style.height,10)<=1)&&(p[parseInt(h.toString(),10)].style.width="1px",p[parseInt(h.toString(),10)].style.height="1px",p[parseInt(h.toString(),10)].style.margin="1px");var c,g,u=J.cornersPointsBeforeRotation(t).topLeft,s=("Checkbox"===e&&G.Browser.isDevice?A.setAttribute("style","height:"+t.actualSize.height*n+"px; width:"+t.actualSize.width*n+"px;left:"+u.x*n+"px; top:"+u.y*n+"px;transform:rotate("+(t.rotateAngle+t.parentTransform)+"deg);pointer-events:"+(this.pdfViewer.designerMode?"none":"all")+";visibility:"+(t.visible?"visible":"hidden")+";opacity:"+t.style.opacity+";"):A.setAttribute("style","height:"+t.actualSize.height*n+"px; width:"+t.actualSize.width*n+"px;left:"+u.x*n+"px; top:"+u.y*n+"px;position:absolute;transform:rotate("+(t.rotateAngle+t.parentTransform)+"deg);pointer-events:"+(this.pdfViewer.designerMode?"none":"all")+";visibility:"+(t.visible?"visible":"hidden")+";opacity:"+t.style.opacity+";"),this.updateFormDesignerFieldInSessionStorage(u,t,e,i),"SignatureField"!==e&&"InitialField"!==e||i.value&&(c=this.pdfViewer.drawing.copiedElementID+"_content",G.isNullOrUndefined(this.pdfViewer.nameTable[c])||(o=-1<(g=this.pdfViewer.nameTable[c].value).indexOf("base64")?"Image":g.startsWith("M")&&g.split(",")[1].split(" ")[1].startsWith("L")?"Path":"Type",this.pdfViewer.formFieldsModule.drawSignature(o,g,t.template,i.fontFamily))),{name:i.name,id:i.id,value:i.value,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,color:i.color,backgroundColor:i.backgroundColor,alignment:i.alignment,isReadonly:i.isReadonly,visibility:i.visibility,maxLength:i.maxLength,isRequired:i.isRequired,isPrint:i.isPrint,rotation:i.rotateAngle,tooltip:i.tooltip,borderColor:i.borderColor,thickness:i.thickness,options:i.options,pageNumber:i.pageNumber,isChecked:i.isChecked,isSelected:i.isSelected,customData:i.customData,bounds:i.bounds});this.pdfViewer.isFormFieldsLoaded&&!a||this.pdfViewerBase.updateDocumentEditedProperty(!0),(this.isSetFormFieldMode||a)&&(l=this.pdfViewerBase.activeElements.activePageID||s.pageNumber-1,this.pdfViewer.fireFormFieldAddEvent("formFieldAdd",s,l)),this.isSetFormFieldMode=!1}else{u=J.cornersPointsBeforeRotation(t).topLeft;this.updateFormDesignerFieldInSessionStorage(u,t,e,i)}return t.template},Q.prototype.updateFormDesignerFieldInSessionStorage=function(e,t,i,n){var o=this.pdfViewerBase.getZoomFactor(),r={id:t.id,lineBound:{X:e.x*o,Y:e.y*o,Width:t.actualSize.width*o,Height:t.actualSize.height*o},name:n.name,zoomValue:o,pageNumber:n.pageNumber,value:n.value,formFieldAnnotationType:i,isMultiline:n.isMultiline,signatureType:n.signatureType,signatureBound:n.signatureBound,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontColor:this.getRgbCode(n.color),borderColor:this.getRgbCode(n.borderColor),thickness:n.thickness,backgroundColor:this.getRgbCode(n.backgroundColor),textAlign:n.alignment,isChecked:n.isChecked,isSelected:n.isSelected,isReadonly:n.isReadonly,font:{isBold:n.font.isBold,isItalic:n.font.isItalic,isStrikeout:n.font.isStrikeout,isUnderline:n.font.isUnderline},selectedIndex:n.selectedIndex,radiobuttonItem:null,option:n.options||[],visibility:n.visibility,maxLength:n.maxLength,isRequired:n.isRequired,isPrint:n.isPrint,rotation:n.rotateAngle,tooltip:n.tooltip,insertSpaces:n.insertSpaces,customData:n.customData};if("RadioButton"===r.formFieldAnnotationType&&(r.radiobuttonItem=[],r.radiobuttonItem.push({id:t.id,lineBound:{X:e.x*o,Y:e.y*o,Width:t.actualSize.width*o,Height:t.actualSize.height*o},name:n.name,zoomValue:o,pageNumber:n.pageNumber,value:n.value,formFieldAnnotationType:i,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontColor:this.getRgbCode(n.color),borderColor:this.getRgbCode(n.borderColor),thickness:n.thickness,backgroundColor:this.getRgbCode(n.backgroundColor),textAlign:n.alignment,isChecked:n.isChecked,isSelected:n.isSelected,isReadonly:n.isReadonly,visibility:n.visibility,maxLength:n.maxLength,isRequired:n.isRequired,isPrint:n.isPrint,rotation:0,tooltip:n.tooltip})),!this.getRadioButtonItem(r,n)){for(var a=0;a<this.pdfViewerBase.formFieldCollection.length;a++)this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].Key===r.id&&(this.pdfViewerBase.formFieldCollection.splice(a,1),this.pdfViewerBase.formFieldCollection.push({Key:t.id,FormField:r}),this.isFormFieldExistingInCollection=!0);this.isFormFieldExistingInCollection||this.pdfViewerBase.formFieldCollection.push({Key:t.id,FormField:r}),this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.isFormFieldExistingInCollection=!1,0<this.pdfViewerBase.formFieldCollection.length?this.pdfViewerBase.enableFormFieldButton(!0):this.pdfViewerBase.enableFormFieldButton(!1)}},Q.prototype.getRadioButtonItem=function(e,t){var i=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),n=!1;if(i){for(var o=JSON.parse(i),r=0;r<o.length;r++){var a=o[parseInt(r.toString(),10)],s=void 0;if("RadioButton"===e.formFieldAnnotationType&&e.radiobuttonItem&&a.FormField.radiobuttonItem)for(var l=0;l<a.FormField.radiobuttonItem.length;l++){if(a.FormField.radiobuttonItem[parseInt(l.toString(),10)].id===e.id){s={lineBound:e.lineBound,id:e.id,name:e.name,zoomValue:e.zoomValue,pageNumber:e.pageNumber,value:e.value,formFieldAnnotationType:e.formFieldAnnotationType,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontColor:this.getRgbCode(t.color),borderColor:this.getRgbCode(t.borderColor),thickness:t.thickness,backgroundColor:this.getRgbCode(t.backgroundColor),textAlign:e.textAlign,isChecked:e.isChecked,isSelected:e.isSelected,isReadonly:e.isReadonly,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:0,tooltip:e.tooltip},a.FormField.radiobuttonItem.splice(l,1),a.FormField.radiobuttonItem.push(s),G.isNullOrUndefined(this.pdfViewerBase.formFieldCollection[parseInt(r.toString(),10)])||this.pdfViewerBase.formFieldCollection[parseInt(r.toString(),10)].FormField.name===a.FormField.name&&(this.pdfViewerBase.formFieldCollection[parseInt(r.toString(),10)].FormField.radiobuttonItem=a.FormField.radiobuttonItem,n=!0);break}if(e.formFieldAnnotationType===a.FormField.formFieldAnnotationType&&e.name===a.FormField.name){for(var s={lineBound:e.lineBound,id:e.id,name:e.name,zoomValue:e.zoomValue,pageNumber:e.pageNumber,value:e.value,formFieldAnnotationType:e.formFieldAnnotationType,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontColor:this.getRgbCode(t.color),borderColor:this.getRgbCode(t.borderColor),thickness:t.thickness,backgroundColor:this.getRgbCode(t.backgroundColor),textAlign:e.textAlign,isChecked:e.isChecked,isSelected:e.isSelected,isReadonly:e.isReadonly,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:0,tooltip:e.tooltip},A=!1,d=0;d<a.FormField.radiobuttonItem.length;d++)if(a.FormField.radiobuttonItem[parseInt(d.toString(),10)].id===s.id){a.FormField.radiobuttonItem[parseInt(d.toString(),10)]=s,A=!0;break}if(A||a.FormField.radiobuttonItem.push(s),!G.isNullOrUndefined(this.pdfViewerBase.formFieldCollection[parseInt(r.toString(),10)])){this.pdfViewerBase.formFieldCollection[parseInt(r.toString(),10)].FormField.radiobuttonItem=a.FormField.radiobuttonItem;for(var n=!0,p=0;p<this.pdfViewerBase.formFieldCollection.length;p++)this.pdfViewerBase.formFieldCollection[parseInt(p.toString(),10)].Key===s.id&&this.pdfViewerBase.formFieldCollection.splice(p,1)}}}}n&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}return n},Q.prototype.getRgbCode=function(e){e.match(/#([a-z0-9]+)/gi)||e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||""!==(t=this.nameToHash(e))&&(e=t);var t=e.split(","),e=(G.isNullOrUndefined(t[1])&&(t=(e=this.getValue(e,"rgba")).split(",")),parseInt(t[0].split("(")[1],10)),i=parseInt(t[1],10),n=parseInt(t[2],10),t=100*parseFloat(t[3]);return{r:e,g:i,b:n,a:t=isNaN(t)?0:t}},Q.prototype.nameToHash=function(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",yellow:"#ffff00",yellowgreen:"#9acd32",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkred:"#8b0000",darksalmon:"#e9967a",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",indigo:"#4b0082",ivory:"#fffff0",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",pink:"#ffc0cb",plum:"#dda0dd",steelblue:"#4682b4",violet:"#ee82ee",powderblue:"#b0e0e6",purple:"#800080",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0"};return void 0!==t[e.toLowerCase()]?t[e.toLowerCase()]:""},Q.prototype.getValue=function(e,t){var i,n;return t=t?t.toLowerCase():"hex","r"===e[0]?(i=this.convertRgbToNumberArray(e),"hex"===t||"hexa"===t?(n=this.rgbToHex(i),"hex"===t?n.slice(0,7):n):"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i.slice(0,3))):"hsva"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i)):"null"):"h"===e[0]?(i=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e)),"rgba"===t?this.convertToRgbString(i):"hex"===t||"hexa"===t?(n=this.rgbToHex(i),"hex"===t?n.slice(0,7):n):"rgb"===t?this.convertToRgbString(i.slice(0,3)):"null"):(e=this.roundValue(e),n=this.hexToRgb(e),"rgb"!==t&&"hsv"!==t||(n=n.slice(0,3)),"rgba"===t||"rgb"===t?this.convertToRgbString(n):"hsva"===t||"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,n)):"hex"===t?e.slice(0,7):"a"===t?n[3].toString():"null")},Q.prototype.convertRgbToNumberArray=function(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map(function(e,t){return 3!==t?parseInt(e,10):parseFloat(e)})},Q.prototype.convertToRgbString=function(e){return e.length?4===e.length?"rgba("+e.join()+")":"rgb("+e.join()+")":""},Q.prototype.convertToHsvString=function(e){return 4===e.length?"hsva("+e.join()+")":"hsv("+e.join()+")"},Q.prototype.roundValue=function(e){if(!e)return"";var t=(e="#"!==e[0]?"#"+e:e).length;if(4===t&&(e+="f",t=5),5===t){for(var i="",n=1,o=e.length;n<o;n++)i+=e.charAt(n)+e.charAt(n);e="#"+i,t=9}return 7===t&&(e+="ff"),e},Q.prototype.hexToRgb=function(e){if(!e)return[];9!==(e=e.trim()).length&&(e=this.roundValue(e));var t=Number((parseInt(e.slice(-2),16)/255).toFixed(2)),e=(e=e.slice(1,7),parseInt(e,16)),i=[];return i.push(e>>16&255),i.push(e>>8&255),i.push(255&e),i.push(t),i},Q.prototype.rgbToHsv=function(e,t,i,n){e/=255,t/=255,i/=255;var o,r=Math.max(e,t,i),a=Math.min(e,t,i),s=r,l=r-a,A=0===r?0:l/r;if(r===a)o=0;else{switch(r){case e:o=(t-i)/l+(t<i?6:0);break;case t:o=(i-e)/l+2;break;case i:o=(e-t)/l+4}o/=6}a=[Math.round(360*o),Math.round(1e3*A)/10,Math.round(1e3*s)/10];return G.isNullOrUndefined(n)||a.push(n),a},Q.prototype.hsvToRgb=function(e,t,i,n){var o,r,a;if(i/=100,0===(t/=100))return o=r=a=i,[Math.round(255*o),Math.round(255*r),Math.round(255*a),n];e/=60;var s=Math.floor(e),e=e-s,l=i*(1-t),A=i*(1-t*e),d=i*(1-t*(1-e));switch(s){case 0:o=i,r=d,a=l;break;case 1:o=A,r=i,a=l;break;case 2:o=l,r=i,a=d;break;case 3:o=l,r=A,a=i;break;case 4:o=d,r=l,a=i;break;default:o=i,r=l,a=A}t=[Math.round(255*o),Math.round(255*r),Math.round(255*a)];return G.isNullOrUndefined(n)||t.push(n),t},Q.prototype.rgbToHex=function(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+(G.isNullOrUndefined(e[3])?"":0!==e[3]?(Math.round(255*e[3])+65536).toString(16).substr(-2):"00"):""},Q.prototype.updateCanvas=function(e,t){var i,n,o,r;G.isNullOrUndefined(t)&&(t=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",e),i=this.pdfViewerBase.getZoomFactor(),n=this.pdfViewerBase.getZoomRatio(i),t)&&(o=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width,r=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height,t.width=o*n,t.height=r*n,t.style.width=o*i+"px",t.style.height=r*i+"px"),this.pdfViewer.drawing.refreshCanvasDiagramLayer(t,e)},Q.prototype.rerenderFormFields=function(l){var A=this,d=this.pdfViewerBase.getZoomFactor(),e=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),p=!1;if(e){var h=JSON.parse(e),e=("["===h[0]&&(h=JSON.parse(h)),document.getElementById(this.pdfViewer.element.id+"_textLayer_"+l)),t=document.getElementById(this.pdfViewer.element.id+"_pageCanvas_"+l);if(null!==h&&null!==t&&null!==e)for(var c=this,i=0;i<h.length;i++)!function(e){var t=h[parseInt(e.toString(),10)].FormField;if(t.pageNumber===l+1&&!document.getElementById("form_field_"+t.id+"_html_element")){var i=c.pdfViewer.nameTable[h[parseInt(e.toString(),10)].Key.split("_")[0]],n=i.wrapper.children[0],o=c.pdfViewer.formFieldCollections.filter(function(e){return t.id.split("_")[0]===e.id});if(n&&0<o.length&&"visible"===o[0].visibility){if("RadioButton"===t.formFieldAnnotationType)for(var r=0;r<t.radiobuttonItem.length;r++)i=c.pdfViewer.nameTable[t.radiobuttonItem[parseInt(r.toString(),10)].id.split("_")[0]],n=i.wrapper.children[0],t.radiobuttonItem[parseInt(r.toString(),10)]=c.renderFormFieldsInZooming(n,t.radiobuttonItem[parseInt(r.toString(),10)],i,d),c.pdfViewerBase.formFieldCollection[parseInt(e.toString(),10)].FormField.radiobuttonItem[parseInt(r.toString(),10)].lineBound=t.radiobuttonItem[parseInt(r.toString(),10)].lineBound,c.pdfViewerBase.formFieldCollection[parseInt(e.toString(),10)].FormField.radiobuttonItem[parseInt(r.toString(),10)].zoomValue=d;else{var a,s=c.pdfViewerBase.formFieldCollection.filter(function(e){return e.FormField.id===t.id}),s=(t&&""===t.value&&(t.value=s[0]?s[0].FormField.value:"",t.signatureType=s[0]?s[0].FormField.signatureType:""),G.isNullOrUndefined(t)||(t.visibility=o[0].visibility,s[0].FormField.visibility=o[0].visibility),c.renderFormFieldsInZooming(n,t,i,d));"SignatureField"!==t.formFieldAnnotationType&&"InitialField"!==t.formFieldAnnotationType||(a=c,h.filter(function(e){e.FormField.name!==t.name||e.FormField.id===t.id||G.isNullOrUndefined(a.pdfViewer.nameTable[e.FormField.id])||""===a.pdfViewer.nameTable[e.FormField.id].value||(t.value=a.pdfViewer.nameTable[e.FormField.id].value,t.signatureType="Text"===e.FormField.signatureType?"Type":e.FormField.signatureType,""!==t.value&&(t.signatureBound=e.FormField.signatureBound))}),!G.isNullOrUndefined(a.pdfViewer.nameTable[t.id])&&""!==a.pdfViewer.nameTable[t.id].value)||""===t.value||(c.pdfViewer.formFieldsModule.drawSignature(t.signatureType,t.value,t),p=!0),t.lineBound=s.lineBound,t.signatureBound&&(t.signatureBound=s.signatureBound,c.pdfViewerBase.formFieldCollection[parseInt(e.toString(),10)].FormField.signatureBound=t.signatureBound,"SignatureField"!==t.formFieldAnnotationType&&"InitialField"!==t.formFieldAnnotationType||"Image"!==t.signatureType||!p?G.isNullOrUndefined(c.pdfViewer.nameTable[n.id.split("_")[0]+"_content"])||(c.pdfViewer.nameTable[n.id.split("_")[0]+"_content"].signatureBound=t.signatureBound):setTimeout(function(){G.isNullOrUndefined(A.pdfViewer.nameTable[n.id.split("_")[0]+"_content"])||(A.pdfViewer.nameTable[n.id.split("_")[0]+"_content"].signatureBound=t.signatureBound)},10)),c.pdfViewerBase.formFieldCollection[parseInt(e.toString(),10)].FormField.lineBound=t.lineBound,c.pdfViewerBase.formFieldCollection[parseInt(e.toString(),10)].FormField.zoomValue=d}c.pdfViewerBase.setItemInSessionStorage(c.pdfViewerBase.formFieldCollection,"_formDesigner")}}c.pdfViewerBase.isFocusField&&c.pdfViewerBase.focusField&&(o=document.getElementById(c.pdfViewerBase.focusField.id))&&(("SignatureField"!==c.pdfViewerBase.focusField.type&&"InitialField"!==c.pdfViewerBase.focusField.type||!c.pdfViewer.formDesignerModule?o:o.parentElement).focus(),c.pdfViewerBase.isFocusField=!1,c.pdfViewerBase.focusField=[])}(i)}},Q.prototype.renderFormFieldsInZooming=function(e,t,i,n){var o,r,a,s,l,A,d;return e&&(o={id:"form_field_"+e.id+"_html_element",class:"foreign-object"},o=this.createHtmlElement("div",o),r={id:e.id+"_html_element",class:"foreign-object"},r=this.createHtmlElement("div",r),G.isNullOrUndefined(t)||(i.visibility=t.visibility),"SignatureField"===t.formFieldAnnotationType||"InitialField"===t.formFieldAnnotationType?(this.disableSignatureClickEvent=!0,i.value=t.value,i.signatureType=t.signatureType,i.signatureBound=t.signatureBound,e.template=r.appendChild(this.createSignatureDialog(this.pdfViewer,i)),this.disableSignatureClickEvent=!1):"DropdownList"===t.formFieldAnnotationType?e.template=r.appendChild(this.createDropDownList(e,i)):"ListBox"===t.formFieldAnnotationType?e.template=r.appendChild(this.createListBox(e,i)):e.template=r.appendChild(this.createInputElement(t.formFieldAnnotationType,i)),(a=document.createElement("div")).id=i.id+"_designer_name",a.style.fontSize=.5<n?this.defaultFontSize+"px":"6px",a.className="e-pv-show-designer-name",this.pdfViewer.designerMode?(a.innerHTML=i.name,a.style.position="absolute"):(a.innerHTML="",a.style.position="initial"),r.appendChild(a),o.appendChild(r),(a=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(t.pageNumber-1))).appendChild(o),"RadioButton"===i.formFieldAnnotationType&&document.getElementsByClassName("e-pv-radiobtn-span").length,s=J.cornersPointsBeforeRotation(i.wrapper.children[0]).topLeft,"Checkbox"===t.formFieldAnnotationType&&G.Browser.isDevice?(d=e.actualSize.height+this.increasedSize,l=e.actualSize.width+this.increasedSize,A={id:e.id+"_outer_div",className:"e-pv-checkbox-outer-div"},(A=G.createElement("div",A)).setAttribute("style","height:"+d*n+"px; width:"+l*n+"px;left:"+s.x*n+"px; top:"+s.y*n+"px;position:absolute; opacity: 1;"),A.appendChild(o),A.addEventListener("click",this.setCheckBoxState.bind(this)),a.appendChild(A),r.setAttribute("style","height:"+e.actualSize.height*n+"px; width:"+e.actualSize.width*n+"px;left:"+s.x*n+"px; top:"+s.y*n+"px;transform:rotate("+(e.rotateAngle+e.parentTransform)+"deg);pointer-events:"+(this.pdfViewer.designerMode?"none":"all")+";visibility:"+(e.visible?"visible":"hidden")+";opacity:"+e.style.opacity+";")):r.setAttribute("style","height:"+e.actualSize.height*n+"px; width:"+e.actualSize.width*n+"px;left:"+s.x*n+"px; top:"+s.y*n+"px;position:absolute;transform:rotate("+(e.rotateAngle+e.parentTransform)+"deg);pointer-events:"+(this.pdfViewer.designerMode?"none":"all")+";visibility:"+(e.visible?"visible":"hidden")+";opacity:"+e.style.opacity+";"),t.lineBound={X:s.x*n,Y:s.y*n,Width:e.actualSize.width*n,Height:e.actualSize.height*n},t.signatureBound)&&i.wrapper.children[1]&&(d=i.wrapper.children[1].bounds,t.signatureBound.x=d.x*n,t.signatureBound.y=d.y*n,t.signatureBound.width=d.width*n,t.signatureBound.height=d.height*n),t},Q.prototype.updateFormFieldInitialSize=function(e,t){var i=this.pdfViewerBase.getZoomFactor();switch(t){case"Textbox":case"PasswordField":e.width=200*i,e.height=24*i;break;case"SignatureField":case"InitialField":e.width=200*i,e.height=63*i;break;case"Checkbox":case"RadioButton":e.width=20*i,e.height=20*i;break;case"DropdownList":e.width=200*i,e.height=24*i;break;case"ListBox":e.width=198*i,e.height=66*i}return{width:e.width,height:e.height}},Q.prototype.updateHTMLElement=function(e){var t=e.wrapper.children[0],i=this.pdfViewerBase.getZoomFactor();if(t){var n=document.getElementById(t.id+"_html_element");if(!G.isNullOrUndefined(n)){for(var o,r,a,s,l=J.cornersPointsBeforeRotation(e.wrapper.children[0]).topLeft,A=(n.setAttribute("style","height:"+t.actualSize.height*i+"px; width:"+t.actualSize.width*i+"px;left:"+l.x*i+"px; top:"+l.y*i+"px;position:absolute;transform:rotate("+(t.rotateAngle+t.parentTransform)+"deg);pointer-events:"+(this.pdfViewer.designerMode?"none":"all")+";visibility:"+(t.visible?"visible":"hidden")+";opacity:"+t.style.opacity+";"),this.pdfViewerBase.getItemFromSessionStorage("_formDesigner")),d=("RadioButton"===e.formFieldAnnotationType&&(r=n.firstElementChild.firstElementChild,o=n.firstElementChild.firstElementChild.lastElementChild,t.actualSize.width>t.actualSize.height?(n.firstElementChild.style.display="inherit",r.style.width=r.style.height=t.actualSize.height*i+"px",o.style.width=o.style.height=t.actualSize.height/2+"px"):(n.firstElementChild.style.display="flex",r.style.width=r.style.height=t.actualSize.width*i+"px",o.style.width=o.style.height=t.actualSize.width/2+"px"),i<1&&r.style.width<=20&&r.style.height<=20?o.style.margin=Math.round(parseInt(r.style.width,10)/3.5)+"px":o.style.margin=Math.round(parseInt(r.style.width,10)/4)+"px"),"Checkbox"===e.formFieldAnnotationType&&(r=n.firstElementChild.firstElementChild,o=n.firstElementChild.firstElementChild.lastElementChild.firstElementChild,t.actualSize.width>t.actualSize.height?(n.firstElementChild.style.display="inherit",r.style.width=r.style.height=t.actualSize.height*i+"px",o.style.width=t.actualSize.height/5*i+"px",o.style.height=t.actualSize.height/2.5*i+"px",o.style.left=t.actualSize.height/2.5*i+"px",o.style.top=t.actualSize.height/5*i+"px"):(n.firstElementChild.style.display="flex",r.style.width=r.style.height=t.actualSize.width*i+"px",o.style.width=t.actualSize.width/5*i+"px",o.style.height=t.actualSize.width/2.5*i+"px",o.style.left=t.actualSize.width/2.5*i+"px",o.style.top=t.actualSize.width/5*i+"px"),-1!==o.className.indexOf("e-pv-cb-checked"))&&(r=parseInt(r.style.width,10),o.style.borderWidth=20<r?"3px":r<=15?"1px":"2px"),"SignatureField"!==e.formFieldAnnotationType&&"InitialField"!==e.formFieldAnnotationType||(r=(o=n.firstElementChild.firstElementChild).nextElementSibling,n=this.getBounds(r),r={height:t.actualSize.height,width:t.actualSize.width,signatureIndicatorSettings:{text:r.textContent,width:n.width,height:n.height},initialIndicatorSettings:{text:r.textContent,width:n.width,height:n.height}},this.updateSignatureandInitialIndicator(e,r,o)),JSON.parse(A)),p=0;p<d.length;p++)if("RadioButton"===d[parseInt(p.toString(),10)].FormField.formFieldAnnotationType){for(var h=0;h<d[parseInt(p.toString(),10)].FormField.radiobuttonItem.length;h++)if(t.id===d[parseInt(p.toString(),10)].FormField.radiobuttonItem[parseInt(h.toString(),10)].id){this.pdfViewerBase.formFieldCollection[parseInt(p.toString(),10)].FormField.radiobuttonItem[parseInt(h.toString(),10)].lineBound={X:l.x*i,Y:l.y*i,Width:t.actualSize.width*i,Height:t.actualSize.height*i},this.pdfViewerBase.formFieldCollection[parseInt(p.toString(),10)].FormField.radiobuttonItem[parseInt(h.toString(),10)].zoomValue=i;break}}else d[parseInt(p.toString(),10)].Key===t.id&&(d[parseInt(p.toString(),10)].FormField.lineBound={X:l.x*i,Y:l.y*i,Width:t.actualSize.width*i,Height:t.actualSize.height*i},d[parseInt(p.toString(),10)].FormField.signatureBound&&(a=l.x*i+t.actualSize.width*i/2,a-=d[parseInt(p.toString(),10)].FormField.signatureBound.width/2,s=l.y*i+t.actualSize.height*i/2,s-=d[parseInt(p.toString(),10)].FormField.signatureBound.height/2,d[parseInt(p.toString(),10)].FormField.signatureBound.x=a,d[parseInt(p.toString(),10)].FormField.signatureBound.y=s,this.pdfViewerBase.formFieldCollection[parseInt(p.toString(),10)].FormField.signatureBound=d[parseInt(p.toString(),10)].FormField.signatureBound,this.pdfViewer.nameTable[t.id.split("_")[0]+"_content"].signatureBound=d[parseInt(p.toString(),10)].FormField.signatureBound),this.pdfViewerBase.formFieldCollection[parseInt(p.toString(),10)].FormField.lineBound=d[parseInt(p.toString(),10)].FormField.lineBound);this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}}},Q.prototype.getCheckboxRadioButtonBounds=function(e,t,i){var i=i?this.defaultZoomValue:this.pdfViewerBase.getZoomFactor(),n=0,o=0,r="";return t?r=t.width>t.height?(n=o=t.height*i,"inherit"):(n=o=t.width*i,"flex"):e&&(r=e.bounds.width>e.bounds.height?(n=o=e.bounds.height*i,"inherit"):(n=o=e.bounds.width*i,"flex")),{width:n,height:o,display:r}},Q.prototype.updateSessionFormFieldProperties=function(e){var t=this.pdfViewerBase.getZoomFactor(),i=e.wrapper.children[0],n=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),o=JSON.parse(n);if(!G.isNullOrUndefined(i))for(var r=0;r<o.length;r++)if("RadioButton"===o[parseInt(r.toString(),10)].FormField.formFieldAnnotationType){for(var a=0;a<o[parseInt(r.toString(),10)].FormField.radiobuttonItem.length;a++)if(i.id===o[parseInt(r.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)].id){var s={id:i.id,lineBound:{X:i.bounds.x*t,Y:i.bounds.y*t,Width:i.bounds.width*t,Height:i.bounds.height*t},name:e.name,zoomValue:t,pageNumber:e.pageNumber,value:e.value,formFieldAnnotationType:e.formFieldAnnotationType,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontColor:this.getRgbCode(e.color),backgroundColor:this.getRgbCode(e.backgroundColor),borderColor:this.getRgbCode(e.borderColor),thickness:e.thickness,textAlign:e.alignment,isChecked:e.isChecked,isSelected:e.isSelected,isReadonly:e.isReadonly,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:0,tooltip:e.tooltip,isMultiline:e.isMultiline,insertSpaces:e.insertSpaces,isTransparent:e.isTransparent,zIndex:e.zIndex,customData:e.customData};o[parseInt(r.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)]=s,this.pdfViewerBase.formFieldCollection[parseInt(r.toString(),10)]&&this.pdfViewerBase.formFieldCollection[parseInt(r.toString(),10)].FormField&&this.pdfViewerBase.formFieldCollection[parseInt(r.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)]&&(this.pdfViewerBase.formFieldCollection[parseInt(r.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)]=s,this.pdfViewerBase.formFieldCollection[parseInt(r.toString(),10)].FormField.tooltip=s.tooltip);break}}else if(o[parseInt(r.toString(),10)].Key===i.id){var l,A={id:i.id,lineBound:{X:i.bounds.x*t,Y:i.bounds.y*t,Width:i.bounds.width*t,Height:i.bounds.height*t},name:e.name,zoomValue:t,pageNumber:e.pageNumber,value:e.value,formFieldAnnotationType:e.formFieldAnnotationType,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontColor:this.getRgbCode(e.color),backgroundColor:this.getRgbCode(e.backgroundColor),borderColor:this.getRgbCode(e.borderColor),thickness:e.thickness,textAlign:e.alignment,isChecked:e.isChecked,isSelected:e.isSelected,isReadonly:e.isReadonly,font:{isBold:e.font.isBold,isItalic:e.font.isItalic,isStrikeout:e.font.isStrikeout,isUnderline:e.font.isUnderline},selectedIndex:e.selectedIndex,radiobuttonItem:null,option:e.options||[],visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:0,tooltip:e.tooltip,isMultiline:e.isMultiline,insertSpaces:e.insertSpaces,isTransparent:e.isTransparent,zIndex:e.zIndex,customData:e.customData};"SignatureField"===o[parseInt(r.toString(),10)].FormField.formFieldAnnotationType||"InitialField"===o[parseInt(r.toString(),10)].FormField.formFieldAnnotationType?(l={id:i.id,lineBound:{X:i.bounds.x*t,Y:i.bounds.y*t,Width:i.bounds.width*t,Height:i.bounds.height*t},name:(l=e).name,zoomValue:t,pageNumber:e.pageNumber,value:e.value,formFieldAnnotationType:e.formFieldAnnotationType,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontColor:this.getRgbCode(e.color),backgroundColor:this.getRgbCode(e.backgroundColor),borderColor:this.getRgbCode(e.borderColor),thickness:e.thickness,textAlign:e.alignment,isChecked:e.isChecked,isSelected:e.isSelected,isReadonly:e.isReadonly,font:{isBold:e.font.isBold,isItalic:e.font.isItalic,isStrikeout:e.font.isStrikeout,isUnderline:e.font.isUnderline},selectedIndex:e.selectedIndex,radiobuttonItem:null,option:e.options||[],visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:0,tooltip:e.tooltip,signatureType:e.signatureType,signatureBound:l.signatureBound,isMultiline:e.isMultiline,insertSpaces:e.insertSpaces,isTransparent:e.isTransparent,zIndex:e.zIndex,customData:e.customData},o[parseInt(r.toString(),10)].FormField=l,this.pdfViewerBase.formFieldCollection[parseInt(r.toString(),10)].FormField=l):(o[parseInt(r.toString(),10)].FormField=A,this.pdfViewerBase.formFieldCollection[parseInt(r.toString(),10)].FormField=A);break}0<this.pdfViewerBase.formFieldCollection.length?this.pdfViewerBase.enableFormFieldButton(!0):this.pdfViewerBase.enableFormFieldButton(!1),this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")},Q.prototype.createSignatureDialog=function(e,t,i,n){this.isInitialField=!G.isNullOrUndefined(t.isInitialField)&&t.isInitialField,this.pdfViewerBase.isInitialField=this.isInitialField,this.pdfViewerBase.isInitialField=t.isInitialField;var o=G.createElement("div"),r=(o.className="foreign-object",o.style.position="absolute",o.style.width="100%",o.style.height="100%",o.addEventListener("focus",this.focusFormFields.bind(this)),o.addEventListener("blur",this.blurFormFields.bind(this)),G.createElement("div")),r=(r.style.width="100%",r.style.height="100%",r.style.position="absolute",r.style.backgroundColor="transparent",G.isNullOrUndefined(t.thickness)||(r.className="e-pdfviewer-signatureformfields-signature",r.style.border=t.thickness+"px solid #303030"),G.isNullOrUndefined(t.value)||""===t.value?(r.className="e-pdfviewer-signatureformfields",r.style.pointerEvents=""):(r.className="e-pdfviewer-signatureformfields-signature",r.style.pointerEvents="none"),r.id=t.id,r.disabled=t.isReadonly,o.appendChild(r),this.pdfViewer.signatureFieldSettings),a=this.pdfViewer.initialFieldSettings,s=(r.signatureIndicatorSettings||(r.signatureIndicatorSettings={opacity:1,backgroundColor:"orange",width:19,height:10,fontSize:10,text:null,color:"black"}),r.signatureDialogSettings||(r.signatureDialogSettings={displayMode:v.DisplayMode.Draw|v.DisplayMode.Text|v.DisplayMode.Upload,hideSaveSignature:!1}),a.initialIndicatorSettings||(a.initialIndicatorSettings={opacity:1,backgroundColor:"orange",width:19,height:10,fontSize:10,text:null,color:"black"}),a.initialDialogSettings||(a.initialDialogSettings={displayMode:v.DisplayMode.Draw|v.DisplayMode.Text|v.DisplayMode.Upload,hideSaveSignature:!1}),r=t.isInitialField?t.signatureIndicatorSettings||a.initialIndicatorSettings:t.signatureIndicatorSettings||r.signatureIndicatorSettings,19===this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.width?t.isInitialField?30:25:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.width),s=r.width||(t.signatureIndicatorSettings&&t.signatureIndicatorSettings.width?t.signatureIndicatorSettings.width:s),l=10===this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.height?13:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.height,l=r.height||(t.signatureIndicatorSettings&&t.signatureIndicatorSettings.height?t.signatureIndicatorSettings.height:l),A=r.backgroundColor?"orange"===r.backgroundColor?"#FFE48559":r.backgroundColor:t.signatureIndicatorSettings&&t.signatureIndicatorSettings.backgroundColor?t.signatureIndicatorSettings.backgroundColor:"#FFE48559",d=(t.bounds||i).width,i=(t.bounds||i).height,p=i/2<l?i/2:l,h=d/2<s?d/2:s,c=10,c=t.signatureIndicatorSettings&&t.signatureIndicatorSettings.fontSize?t.signatureIndicatorSettings.fontSize>p/2?10:t.signatureIndicatorSettings.fontSize:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.fontSize>p/2?10:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.fontSize,g=G.createElement("span"),a=(a.initialIndicatorSettings||(a.initialIndicatorSettings={opacity:1,backgroundColor:"orange",width:19,height:10,fontSize:10,text:null,color:"black"}),a.initialDialogSettings||(a.initialDialogSettings={displayMode:v.DisplayMode.Draw|v.DisplayMode.Text|v.DisplayMode.Upload,hideSaveSignature:!1}),t.signatureIndicatorSettings?t.signatureIndicatorSettings.text:null),a=("InitialField"===t.formFieldAnnotationType?(g.id="initialIcon_"+t.pageIndex+"_"+this.setFormFieldIdIndex(),g.style.fontFamily="Helvetica",this.setIndicatorText(g,a,this.pdfViewer.initialFieldSettings.initialIndicatorSettings.text,"Initial")):(g.style.height="",g.style.width="",g.id="signIcon_"+t.pageIndex+"_"+this.setFormFieldIdIndex(),g.style.fontFamily="Helvetica",this.setIndicatorText(g,a,this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.text,"Sign")),g.style.overflow="hidden",g.style.whiteSpace="nowrap",g.style.padding="2px 3px 2px 1px",g.style.boxSizing="border-box",this.pdfViewerBase.getZoomFactor()),u=(g.style.textAlign="left",g.style.fontSize=c*a+"px",this.getBounds(g)),A=(g.style.backgroundColor=A,g.style.color=r.color,g.style.opacity=r.opacity,g.style.height=l,g.style.width=s,g.style.position="absolute",this.setHeightWidth(d,h,u.width+c,a)),r=(g.style.width=A+"px",this.setHeightWidth(i,p,u.height,a));return g.style.height=r+"px",a<1&&(l=parseInt(g.style.height,10),g.style.fontSize=l-this.signIndicatorPadding<this.signIndicatorMinimunFontSize?this.signIndicatorMinimunFontSize+"px":l-this.signIndicatorPadding+"px"),n||o.appendChild(g),this.updateSignInitialFieldProperties(t,t.isInitialField,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),G.isNullOrUndefined(t.tooltip)||""===t.tooltip||this.setToolTip(t.tooltip,o.firstElementChild),this.updateSignatureFieldProperties(t,o,n),o},Q.prototype.setIndicatorText=function(e,t,i,n){e.innerHTML=t||i||n},Q.prototype.getBounds=function(e){e=e.cloneNode(!0);e.style.height="",e.style.width="",e.id=e.id+"_clonedElement",document.body.appendChild(e);var t=document.getElementById(e.id).getBoundingClientRect();return document.body.removeChild(e),t},Q.prototype.updateSignatureandInitialIndicator=function(e,t,i){var n,o,r,a,s,l,A;if(null!==i)return n=i.getBoundingClientRect(),o=this.pdfViewerBase.getZoomFactor(),r=i.nextElementSibling,s=a=void 0,"SignatureField"===e.formFieldAnnotationType&&(a=e.signatureIndicatorSettings,s=t.signatureIndicatorSettings),"InitialField"===e.formFieldAnnotationType&&(a=e.signatureIndicatorSettings||this.pdfViewer.initialFieldSettings.initialIndicatorSettings,s=t.initialIndicatorSettings),r.style.width="",r.style.height="",s&&a&&(void 0!==s.text&&(this.setIndicatorText(r,s.text,s.text,"Sign"),a.text=s.text),s.fontSize&&(r.style.fontSize=s.fontSize>e.height/2?10:s.fontSize*o+"px",a.fontSize=s.fontSize),l=this.getBounds(r),s.color&&(r.style.color=s.color,a.color=this.nameToHash(s.color)),s.backgroundColor&&(r.style.backgroundColor=s.backgroundColor,a.backgroundColor=this.nameToHash(s.backgroundColor)),G.isNullOrUndefined(s.opacity)||(r.style.opacity=s.opacity,a.opacity=s.opacity),(s.width||t.width||s.text)&&(A=this.setHeightWidth(n.width,s.width,l.width,o),r.style.width=A+"px",a.width=A),s.height||t.height||s.text)&&(A=this.setHeightWidth(n.height,s.height,l.height,o),r.style.height=A+"px",a.height=A),this.updateSignatureFieldProperties(e,i,e.isPrint),e.signatureIndicatorSettings&&a&&(e.signatureIndicatorSettings=a),e},Q.prototype.setHeightWidth=function(e,t,i,n){t=t<e/2&&i<t?t*n:i<=e/2?i*n:e/2*n;return t},Q.prototype.createDropDownList=function(e,t,i){var n=G.createElement("div"),o=(n.className="foreign-object",n.style.position="absolute",n.style.width="100%",n.style.height="100%",n.style.backgroundColor=t.backgroundColor,document.createElement("select")),r=(o.addEventListener("change",this.dropdownChange.bind(this)),o.addEventListener("focus",this.focusFormFields.bind(this)),o.addEventListener("blur",this.blurFormFields.bind(this)),o.id=t.id,o.name="editabledropdown"+this.pdfViewerBase.activeElements.activePageID+e.id,o.setAttribute("aria-label","editabledropdown"+this.pdfViewerBase.activeElements.activePageID+e.id),o.className="e-pv-formfield-dropdown",o.style.width="100%",o.style.height="100%",o.style.position="absolute",this.updateDropdownFieldSettingsProperties(t,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),t.options||[]);this.updateDropdownListProperties(t,o,i);for(var a=0;a<r.length;a++){var s=document.createElement("option");s.className="e-pv-formfield-dropdown",s.value=r[parseInt(a.toString(),10)].itemValue,s.text=r[parseInt(a.toString(),10)].itemName,this.updateDropdownListProperties(t,s),o.appendChild(s)}return G.isNullOrUndefined(t.selectedIndex)||0===t.selectedIndex.length?o.selectedIndex=-1:o.selectedIndex=G.isNullOrUndefined(t.selectedIndex)?0:t.selectedIndex,n.appendChild(o),G.isNullOrUndefined(t.tooltip)||""===t.tooltip||this.setToolTip(t.tooltip,n.firstElementChild),n},Q.prototype.createListBox=function(e,t,i){var n=G.createElement("div"),o=(n.className="foreign-object",n.style.position="absolute",n.style.width="100%",n.style.height="100%",n.style.backgroundColor=t.backgroundColor,document.createElement("select")),r=(o.addEventListener("click",this.listBoxChange.bind(this)),o.addEventListener("focus",this.focusFormFields.bind(this)),o.addEventListener("blur",this.blurFormFields.bind(this)),o.id=t.id,o.name="editabledropdown"+this.pdfViewerBase.activeElements.activePageID+e.id,o.setAttribute("aria-label","editabledropdown"+this.pdfViewerBase.activeElements.activePageID+e.id),o.className="e-pv-formfield-listbox",o.style.width="100%",o.style.height="100%",o.style.position="absolute",o.multiple=!0,this.updatelistBoxFieldSettingsProperties(t,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),t.options||[]);this.updateListBoxProperties(t,o,i);for(var a=0;a<r.length;a++){var s=document.createElement("option");if(s.className="e-pv-formfield-listbox",s.value=r[parseInt(a.toString(),10)].itemValue,s.text=r[parseInt(a.toString(),10)].itemName,!G.isNullOrUndefined(t.selectedIndex))for(var l=0;l<t.selectedIndex.length;l++)a===t.selectedIndex[parseInt(l.toString(),10)]&&(s.selected=!0);o.appendChild(s)}return n.appendChild(o),G.isNullOrUndefined(t.tooltip)||""===t.tooltip||this.setToolTip(t.tooltip,n.firstElementChild),n},Q.prototype.createInputElement=function(e,t,i,n){var o,r,a,s,l,A=this.pdfViewerBase.getZoomFactor(),d=G.createElement("div"),p=(d.className="foreign-object",d.style.position="absolute",d.style.width="100%",d.style.height="100%",G.createElement("input")),h=G.createElement("textarea");return p.id=t.id,p.setAttribute("aria-label",this.pdfViewer.element.id+"formfilldesigner"),p.style.position="absolute","Textbox"===e?t.isMultiline?(h=this.createTextAreaElement(p.id),this.updateTextFieldSettingProperties(t,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),this.updateTextboxProperties(t,h,n)):(p=this.createTextboxElement(p.id),this.updateTextFieldSettingProperties(t,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),this.updateTextboxProperties(t,p,n)):"Checkbox"===e?(a=n?this.defaultZoomValue:this.pdfViewerBase.getZoomFactor(),d.style.display="flex",d.style.alignItems="center",l=this.getCheckboxRadioButtonBounds(t,i,n),d.style.display=l.display,(o=G.createElement("label",{className:"e-pv-checkbox-container"})).style.width=t.bounds?t.bounds.width*a+"px":l.width+"px",o.style.height=t.bounds?t.bounds.height*a+"px":l.height+"px",this.isDrawHelper?o.style.cursor="crosshair":o.style.cursor="pointer",a=G.createElement("div",{className:"e-pv-checkbox-div"}),G.Browser.isDevice||(a.addEventListener("click",this.setCheckBoxState.bind(this)),a.addEventListener("focus",this.focusFormFields.bind(this)),a.addEventListener("blur",this.blurFormFields.bind(this))),a.id=t.id+"_input",(r=t.isChecked?G.createElement("span",{className:"e-pv-checkbox-span e-pv-cb-checked"}):G.createElement("span",{className:"e-pv-checkbox-span e-pv-cb-unchecked"})).id=t.id+"_input_span",o.id=t.id+"_input_label",r.style.width=l.width/5+"px",r.style.height=l.height/2.5+"px",r.style.left=l.width/2.5+"px",r.style.top=l.height/5+"px",-1!==r.className.indexOf("e-pv-cb-checked")&&(s=parseInt(o.style.width,10),r.style.borderWidth=20<s?"3px":s<=15?"1px":"2px"),n&&(a.style.backgroundColor="rgb(218, 234, 247)",a.style.border="1px solid #303030",a.style.visibility="visible",a.style.height="100%",a.style.width="100%",a.style.position="absolute",-1!==r.className.indexOf("e-pv-cb-checked"))&&(r.style.border="solid #303030",r.style.position="absolute",r.style.borderLeft="transparent",r.style.borderTop="transparent",r.style.transform="rotate(45deg)",s=parseInt(o.style.width,10),r.style.borderWidth=20<s?"3px":s<=15?"1px":"2px"),p.type="checkbox",p.style.margin="0px",p.style.width=l.width+"px",p.style.height=l.height+"px",n||this.updateCheckBoxFieldSettingsProperties(t,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),this.updateCheckboxProperties(t,a),p.appendChild(o),o.appendChild(a),a.appendChild(r),n&&(p.style.outlineWidth=t.thickness+"px",p.style.outlineColor=t.borderColor,p.style.outlineStyle="solid",p.style.background=t.backgroundColor)):"PasswordField"===e?(p.type="password",p.className="e-pv-formfield-input",p.style.width="100%",p.style.height="100%",p.style.borderStyle="solid",p.addEventListener("click",this.inputElementClick.bind(this)),p.addEventListener("focus",this.focusFormFields.bind(this)),p.addEventListener("blur",this.blurFormFields.bind(this)),p.addEventListener("change",this.getTextboxValue.bind(this)),this.updatePasswordFieldSettingProperties(t,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),this.updatePasswordFieldProperties(t,p,n)):(d.style.display="flex",d.style.alignItems="center",l=this.getCheckboxRadioButtonBounds(t,i,n),d.style.display=l.display,(o=G.createElement("label",{className:"e-pv-radiobtn-container"})).style.width=l.width+"px",o.style.height=l.height+"px",o.style.display="table",o.style.verticalAlign="middle",o.style.borderWidth=t.thickness+"px",o.style.boxShadow=t.borderColor+" 0px 0px 0px "+t.thickness+"px",o.style.borderRadius="50%",o.style.visibility=t.visibility,this.isDrawHelper?o.style.cursor="crosshair":o.style.cursor="pointer",o.style.background=t.backgroundColor,(r=G.createElement("span",{className:"e-pv-radiobtn-span"})).id=t.id+"_input_span",r.style.width=Math.floor(l.width/2)+"px",r.style.height=Math.floor(l.height/2)+"px",A<1&&l.width<=20&&l.height<=20?r.style.margin=Math.round(parseInt(o.style.width,10)/3.5)+"px":r.style.margin=Math.round(parseInt(o.style.width,10)/4)+"px",o.addEventListener("click",this.setRadioButtonState.bind(this)),o.id=t.id+"_input_label",p.type="radio",n||(p.className="e-pv-radio-btn"),p.style.margin="0px",p.addEventListener("click",function(e){e.stopPropagation()}),p.addEventListener("focus",this.focusFormFields.bind(this)),p.addEventListener("blur",this.blurFormFields.bind(this)),p.style.width=l.width+"px",p.style.height=l.height+"px",this.updateRadioButtonFieldSettingProperties(t,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),this.updateRadioButtonProperties(t,p,o),o.appendChild(p),o.appendChild(r),t.isRequired&&(o.style.boxShadow="red 0px 0px 0px "+t.thickness+"px")),!("Checkbox"!==e&&"RadioButton"!==e||n)||"Checkbox"===e&&n?d.appendChild(o):t.isMultiline?d.appendChild(h):d.appendChild(p),G.isNullOrUndefined(t.tooltip)||""===t.tooltip||("RadioButton"===e?this.setToolTip(t.tooltip,o):"Textbox"===e||"PasswordField"===e?this.setToolTip(t.tooltip,d.firstElementChild):"Checkbox"===e&&this.setToolTip(t.tooltip,d.firstElementChild.lastElementChild)),this.isDrawHelper=!1,d},Q.prototype.listBoxChange=function(s){for(var e=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),l=JSON.parse(e),A=null,d=this,t=0;t<l.length;t++)!function(t){if(l[parseInt(t.toString(),10)].Key.split("_")[0]===s.currentTarget.id.split("_")[0]||d.pdfViewer.nameTable[s.currentTarget.id.split("_")[0]].name===l[parseInt(t.toString(),10)].FormField.name){if(l[parseInt(t.toString(),10)].Key.split("_")[0]!==s.currentTarget.id.split("_")[0])for(var e=document.getElementById(l[parseInt(t.toString(),10)].Key.split("_")[0]+"_content_html_element").firstElementChild.firstElementChild,i=0;i<s.currentTarget.options.length;i++)e.options[parseInt(i.toString(),10)].selected=s.currentTarget.options[parseInt(i.toString(),10)].selected;l[parseInt(t.toString(),10)].FormField.selectedIndex=[];for(var n=d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.selectedIndex,o=0;o<s.currentTarget.selectedOptions.length;o++){var r=s.currentTarget.selectedOptions[parseInt(o.toString(),10)].index,a=0,a=(d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.selectedIndex&&0!==d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.selectedIndex.length&&(0<=d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.selectedIndex[0]&&(a=d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.selectedIndex.pop()),d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.selectedIndex.push(a)),l[parseInt(t.toString(),10)].FormField.option[parseInt(a.toString(),10)].itemValue),r=(l[parseInt(t.toString(),10)].FormField.selectedIndex.push(r),d.pdfViewer.nameTable[l[parseInt(t.toString(),10)].Key.split("_")[0]].selectedIndex=l[parseInt(t.toString(),10)].FormField.selectedIndex,d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.selectedIndex=l[parseInt(t.toString(),10)].FormField.selectedIndex,l[parseInt(t.toString(),10)].FormField.option[parseInt(r.toString(),10)].itemValue);d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.value=r,d.updateFormFieldCollections(d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField),A=d.pdfViewer.formFieldCollections[d.pdfViewer.formFieldCollections.findIndex(function(e){return e.id+"_content"===l[parseInt(t.toString(),10)].FormField.id})],d.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",l[parseInt(t.toString(),10)].FormField,d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.pageNumber,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,r)}d.pdfViewer.annotation&&d.pdfViewer.annotation.addAction(d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.pageNumber,null,d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField,"FormField Value Change","",n,d.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.selectedIndex)}}(t);this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldSessions(A)},Q.prototype.dropdownChange=function(r){for(var e=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),a=JSON.parse(e),s=null,l=this,t=0;t<a.length;t++)!function(t){var e,i,n,o;a[parseInt(t.toString(),10)].Key.split("_")[0]!==r.target.id.split("_")[0]&&l.pdfViewer.nameTable[r.target.id.split("_")[0]].name!==a[parseInt(t.toString(),10)].FormField.name||(l.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.selectedIndex=[],e=document.getElementById(r.currentTarget.id).selectedIndex,(i=0)!==a[parseInt(t.toString(),10)].FormField.selectedIndex.length&&(i=a[parseInt(t.toString(),10)].FormField.selectedIndex.pop(),a[parseInt(t.toString(),10)].FormField.selectedIndex.push(i)),n=a[parseInt(t.toString(),10)].FormField.option[parseInt(i.toString(),10)].itemValue,l.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.selectedIndex.push(e),a[parseInt(t.toString(),10)].FormField.selectedIndex=l.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.selectedIndex,l.pdfViewer.nameTable[a[parseInt(t.toString(),10)].Key.split("_")[0]].selectedIndex=l.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.selectedIndex,o=a[parseInt(t.toString(),10)].FormField.option[parseInt(e.toString(),10)].itemValue,l.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.value=o,a[parseInt(t.toString(),10)].Key.split("_")[0]!==r.target.id.split("_")[0]&&(document.getElementById(a[parseInt(t.toString(),10)].Key.split("_")[0]+"_content_html_element").firstElementChild.firstElementChild.selectedIndex=e),l.updateFormFieldCollections(l.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField),s=l.pdfViewer.formFieldCollections[l.pdfViewer.formFieldCollections.findIndex(function(e){return e.id+"_content"===a[parseInt(t.toString(),10)].FormField.id})],l.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",a[parseInt(t.toString(),10)].FormField,l.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.pageNumber,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,n,o),l.pdfViewer.annotation&&l.pdfViewer.annotation.addAction(l.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.pageNumber,null,l.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField,"FormField Value Change","",i,e))}(t);this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldSessions(s)},Q.prototype.setCheckBoxState=function(n){if((!G.Browser.isDevice||(n.target.classList.contains("")||n.target.classList.contains("e-pv-checkbox-outer-div")||n.target.classList.contains("e-pv-checkbox-div"))&&n.currentTarget.classList.contains("e-pv-checkbox-outer-div"))&&!this.pdfViewer.designerMode){var o=!1,e=void 0,r=null,e=G.Browser.isDevice?document.getElementById(n.target.id.split("_")[0]+"_input"):n.target;if("undefined_input"!==n.target.id&&!this.pdfViewer.nameTable[n.target.id.split("_")[0]].isReadonly&&!this.pdfViewer.designerMode){for(var t,o=e&&e.firstElementChild&&"e-pv-checkbox-span e-pv-cb-checked"===e.firstElementChild.className?(e.firstElementChild.classList.remove("e-pv-cb-checked"),e.firstElementChild.classList.add("e-pv-checkbox-span","e-pv-cb-unchecked"),!1):"e-pv-checkbox-span e-pv-cb-checked"===e.className?(e.classList.remove("e-pv-cb-checked"),e.classList.add("e-pv-checkbox-span","e-pv-cb-unchecked"),!1):(e.firstElementChild.classList.remove("e-pv-cb-unchecked"),e.firstElementChild.classList.add("e-pv-checkbox-span","e-pv-cb-checked"),!0),i=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),a=(o&&-1!==e.firstElementChild.className.indexOf("e-pv-cb-checked")&&(t=parseInt(n.target.parentElement.style.width,10),e.firstElementChild.style.borderWidth=20<t?"3px":t<=15?"1px":"2px"),JSON.parse(i)),s=this,l=0;l<a.length;l++)!function(t){var e,i;a[parseInt(t.toString(),10)].Key.split("_")[0]!==n.target.id.split("_")[0]&&s.pdfViewer.nameTable[n.target.id.split("_")[0]].name!==a[parseInt(t.toString(),10)].FormField.name||(s.pdfViewer.nameTable[a[parseInt(t.toString(),10)].Key.split("_")[0]].isChecked=o,e=s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.isChecked,a[parseInt(t.toString(),10)].FormField.isChecked=o,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.isChecked=a[parseInt(t.toString(),10)].FormField.isChecked,a[parseInt(t.toString(),10)].Key.split("_")[0]!==n.target.id.split("_")[0]&&(i=document.getElementById(a[parseInt(t.toString(),10)].Key.split("_")[0]+"_input").firstElementChild,o?(i.classList.contains("e-pv-cb-unchecked")&&i.classList.remove("e-pv-cb-unchecked"),i.classList.add("e-pv-cb-checked")):(i.classList.contains("e-pv-cb-checked")&&i.classList.remove("e-pv-cb-checked"),i.classList.add("e-pv-cb-unchecked"))),s.updateFormFieldCollections(s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField),r=s.pdfViewer.formFieldCollections[s.pdfViewer.formFieldCollections.findIndex(function(e){return e.id+"_content"===a[parseInt(t.toString(),10)].FormField.id})],s.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",a[parseInt(t.toString(),10)].FormField,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.pageNumber,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,e,o),s.pdfViewer.annotation&&s.pdfViewer.annotation.addAction(s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.pageNumber,null,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField,"FormField Value Change","",e,o))}(l);this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldSessions(r)}}},Q.prototype.setCheckedValue=function(e,t){t?(e.firstElementChild.classList.remove("e-pv-cb-unchecked"),e.firstElementChild.classList.add("e-pv-checkbox-span","e-pv-cb-checked")):(e.firstElementChild.classList.remove("e-pv-cb-checked"),e.firstElementChild.classList.add("e-pv-checkbox-span","e-pv-cb-unchecked"))},Q.prototype.setRadioButtonState=function(o){for(var e=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),r=JSON.parse(e),a=null,s=this,t=0;t<r.length;t++)!function(t){if(null!=r[parseInt(t.toString(),10)].FormField.radiobuttonItem){for(var e=void 0,i=void 0,n=0;n<r[parseInt(t.toString(),10)].FormField.radiobuttonItem.length;n++)r[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].id.split("_")[0]===o.currentTarget.id.split("_")[0]?s.pdfViewer.nameTable[o.currentTarget.id.split("_")[0]].isReadonly||(s.pdfViewer.nameTable[o.currentTarget.id.split("_")[0]].isSelected=!0,r[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].isSelected=!0,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].isSelected||(e=s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)]),s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].isSelected=!0,s.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",r[parseInt(t.toString(),10)].FormField,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.pageNumber,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0)):s.pdfViewer.nameTable[o.currentTarget.id.split("_")[0]].name===r[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].name&&(s.pdfViewer.nameTable[r[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].id.split("_")[0]].isSelected=!1,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].isSelected,r[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].isSelected=!1,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].isSelected&&(i=s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)]),s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].isSelected=r[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].isSelected,s.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",r[parseInt(t.toString(),10)].FormField,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.pageNumber,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1)),s.updateFormFieldCollections(s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)]),a=s.pdfViewer.formFieldCollections[s.pdfViewer.formFieldCollections.findIndex(function(e){return e.id+"_content"===r[parseInt(t.toString(),10)].FormField.id})];null==e&&null==i||!s.pdfViewer.annotation||s.pdfViewer.annotation.addAction(s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.pageNumber,null,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField,"FormField Value Change","",e,i)}}(t);this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldSessions(a)},Q.prototype.getTextboxValue=function(n){for(var e=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),o=JSON.parse(e),r=null,a=this,t=0;t<o.length;t++)!function(t){var e,i;o[parseInt(t.toString(),10)].Key.split("_")[0]!==n.target.id.split("_")[0]&&a.pdfViewer.nameTable[n.target.id.split("_")[0]].name!==o[parseInt(t.toString(),10)].FormField.name||(e=a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.value,o[parseInt(t.toString(),10)].FormField.value=n.target.value,a.pdfViewer.enableHtmlSanitizer&&(o[parseInt(t.toString(),10)].FormField.value=G.SanitizeHtmlHelper.sanitize(o[parseInt(t.toString(),10)].FormField.value)),a.pdfViewer.nameTable[o[parseInt(t.toString(),10)].Key.split("_")[0]].value=o[parseInt(t.toString(),10)].FormField.value,a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.value=o[parseInt(t.toString(),10)].FormField.value,o[parseInt(t.toString(),10)].Key.split("_")[0]!==n.target.id.split("_")[0]&&(i=document.getElementById(o[parseInt(t.toString(),10)].Key.split("_")[0]+"_content_html_element"))&&i.firstElementChild&&i.firstElementChild.firstElementChild&&(i.firstElementChild.firstElementChild.value=o[parseInt(t.toString(),10)].FormField.value),a.updateFormFieldCollections(a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField),r=a.pdfViewer.formFieldCollections[a.pdfViewer.formFieldCollections.findIndex(function(e){return e.id+"_content"===o[parseInt(t.toString(),10)].FormField.id})],a.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField,a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.pageNumber,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,e,n.target.value),a.pdfViewer.annotation&&a.pdfViewer.annotation.addAction(a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.pageNumber,null,a.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField,"FormField Value Change","",e,n.target.value))}(t);this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldSessions(r)},Q.prototype.inputElementClick=function(e){e.target.focus()},Q.prototype.updateFormFieldSessions=function(e){var t=this.pdfViewerBase.getItemFromSessionStorage("_formfields"),i=JSON.parse(t);if(!G.isNullOrUndefined(i)&&!G.isNullOrUndefined(e)){for(var n=0;n<i.length;n++)i[parseInt(n.toString(),10)].ActualFieldName===e.name&&("Textbox"===e.type||"PasswordField"===e.type?i[parseInt(n.toString(),10)].Value=e.value:"Checkbox"===e.type?i[parseInt(n.toString(),10)].Selected=e.isChecked:"RadioButton"===e.type?i[parseInt(n.toString(),10)].Selected=e.isSelected:"DropdownList"!==e.type&&"ListBox"!==e.type||(i[parseInt(n.toString(),10)].Value=e.value));this.pdfViewerBase.setItemInSessionStorage(i,"_formfields")}},Q.prototype.focusFormFields=function(e){var t,e=e.target;!e&&"e-pv-checkbox-outer-div"!==e.className||(t="transparent"===e.style.borderColor?"#000000":e.style.borderColor,e.style.boxShadow="0 0 5px "+t),!e||"e-pv-radiobtn-container"!==e.className&&"e-pv-radio-btn"!==e.className&&"e-pv-radiobtn-span"!==e.className||"transparent"!==e.style.borderColor||(t="transparent"===e.style.borderColor?"#000000":e.style.borderColor,e.parentElement.style.boxShadow="0px 0px 5px "+t),!e||"e-pv-radiobtn-container"!==e.className&&"e-pv-radio-btn"!==e.className&&"e-pv-radiobtn-span"!==e.className||(e.parentElement.style.boxShadow=e.style.borderColor+"0px 0px 5px "+e.style.borderWidth)},Q.prototype.blurFormFields=function(e){var t,e=e.target;e.style.boxShadow="","radio"===e.type&&"transparent"===e.style.borderColor&&(t="transparent"===e.style.borderColor?"#000000":e.style.borderColor,e.parentElement.style.boxShadow="0px 0px 0px "+t),"radio"===e.type&&(e.parentElement.style.boxShadow=e.style.borderColor+"0px 0px 0px "+e.style.borderWidth)},Q.prototype.setTextBoxFontStyle=function(e){return{isBold:(e&v.FontStyle.Bold)===v.FontStyle.Bold,isItalic:(e&v.FontStyle.Italic)===v.FontStyle.Italic,isStrikeout:(e&v.FontStyle.Strikethrough)===v.FontStyle.Strikethrough,isUnderline:(e&v.FontStyle.Underline)===v.FontStyle.Underline}},Q.prototype.addFormField=function(e,t,i,n){return this.addField(e,t,i,n,!0)},Q.prototype.addField=function(e,t,i,n,o){var r={thickness:1,bounds:{x:t.bounds.X,y:t.bounds.Y,width:t.bounds.Width,height:t.bounds.Height},fontFamily:G.isNullOrUndefined(t.fontFamily)?"Helvetica":t.fontFamily,fontSize:G.isNullOrUndefined(t.fontSize)?10:t.fontSize,color:G.isNullOrUndefined(t.color)?"black":t.color,backgroundColor:G.isNullOrUndefined(t.backgroundColor)?"#daeaf7ff":t.backgroundColor,alignment:G.isNullOrUndefined(t.alignment)?"left":t.alignment,isReadonly:t.isReadOnly||!1,rotateAngle:t.rotateAngle||t.rotationAngle,isTransparent:t.isTransparent,insertSpaces:t.insertSpaces,isChecked:t.isChecked,isMultiline:t.isMultiline,isSelected:t.isSelected,options:t.options,selectedIndex:t.selectedIndex,signatureIndicatorSettings:t.signatureIndicatorSettings,signatureType:t.signatureType,zIndex:t.zIndex};switch(r.customData=G.isNullOrUndefined(t.customData)?"":t.customData,r.fontStyle=G.isNullOrUndefined(t.fontStyle)?"None":t.fontStyle,r.visibility=G.isNullOrUndefined(t.visibility)?"visible":t.visibility,r.value=G.isNullOrUndefined(t.value)?"":t.value,r.isRequired=t.isRequired||!1,r.isPrint=t.isPrint||!0,r.pageNumber=G.isNullOrUndefined(t.pageNumber)?this.pdfViewerBase.currentPageNumber:t.pageNumber,r.pageIndex=r.pageNumber-1,r.font=t.font,r.id=n,(i||G.isNullOrUndefined(i))&&this.setFormFieldIndex(),e){case"Textbox":r.formFieldAnnotationType=e,r.isMultiline=t.isMultiline,r.name=G.isNullOrUndefined(t.name)?"Textbox"+this.formFieldIndex:t.name,r.insertSpaces=t.insertSpaces,r.maxLength=t.maxLength,r.thickness=G.isNullOrUndefined(t.thickness)?1:t.thickness,r.borderColor=G.isNullOrUndefined(t.borderColor)?"#303030":t.borderColor,t.font?r.font=t.font:this.pdfViewer.textFieldSettings.fontStyle&&(r.font=this.setTextBoxFontStyle(this.pdfViewer.textFieldSettings.fontStyle));break;case"Password":r.formFieldAnnotationType="PasswordField",r.name=G.isNullOrUndefined(t.name)?"Password"+this.formFieldIndex:t.name,r.maxLength=t.maxLength,r.thickness=G.isNullOrUndefined(t.thickness)?1:t.thickness,r.borderColor=G.isNullOrUndefined(t.borderColor)?"#303030":t.borderColor;break;case"DropDown":r.formFieldAnnotationType="DropdownList",r.name=G.isNullOrUndefined(t.name)?"Dropdown"+this.formFieldIndex:t.name,r.options=t.options||[];for(var a=0;a<this.pdfViewer.formFieldCollection.length;a++)if("DropdownList"===(s=this.pdfViewer.formFieldCollection[parseInt(a.toString(),10)]).formFieldAnnotationType&&s.name===r.name){r.options=s.options;break}r.selectedIndex=G.isNullOrUndefined(t.selectedIndex)?[0]:t.selectedIndex,r.thickness=G.isNullOrUndefined(t.thickness)?1:t.thickness,r.borderColor=G.isNullOrUndefined(t.borderColor)?"#303030":t.borderColor,t.font?r.font=t.font:this.pdfViewer.DropdownFieldSettings.fontStyle&&(r.font=this.setTextBoxFontStyle(this.pdfViewer.DropdownFieldSettings.fontStyle));break;case"ListBox":r.formFieldAnnotationType=e,r.name=G.isNullOrUndefined(t.name)?"List Box"+this.formFieldIndex:t.name,r.options=t.options||[];for(var s,a=0;a<this.pdfViewer.formFieldCollection.length;a++)if((s=this.pdfViewer.formFieldCollection[parseInt(a.toString(),10)]).formFieldAnnotationType===e&&s.name===r.name){r.options=s.options;break}r.selectedIndex=t.selectedIndex,r.thickness=G.isNullOrUndefined(t.thickness)?1:t.thickness,r.borderColor=G.isNullOrUndefined(t.borderColor)?"#303030":t.borderColor,t.font?r.font=t.font:this.pdfViewer.listBoxFieldSettings.fontStyle&&(r.font=this.setTextBoxFontStyle(this.pdfViewer.listBoxFieldSettings.fontStyle));break;case"CheckBox":r.formFieldAnnotationType="Checkbox",r.bounds={x:t.bounds.X,y:t.bounds.Y,width:t.bounds.Width,height:t.bounds.Height},r.backgroundColor=G.isNullOrUndefined(t.backgroundColor)?"#daeaf7ff":t.backgroundColor,r.isReadonly=t.isReadOnly||!1,r.name=G.isNullOrUndefined(t.name)?"Check Box"+this.formFieldIndex:t.name,r.isChecked=t.isChecked||!1,r.visibility=t.visibility||"visible",r.isRequired=t.isRequired||!1,r.thickness=G.isNullOrUndefined(t.thickness)?1:t.thickness,r.borderColor=G.isNullOrUndefined(t.borderColor)?"#303030":t.borderColor;break;case"RadioButton":r.formFieldAnnotationType=e,r.bounds={x:t.bounds.X,y:t.bounds.Y,width:t.bounds.Width,height:t.bounds.Height},r.backgroundColor=G.isNullOrUndefined(t.backgroundColor)?"#daeaf7ff":t.backgroundColor,r.isReadonly=t.isReadOnly||!1,r.name=G.isNullOrUndefined(t.name)?"Radio Button"+this.formFieldIndex:t.name,r.isSelected=t.isSelected||!1,r.visibility=t.visibility||"visible",r.isRequired=t.isRequired||!1,r.thickness=G.isNullOrUndefined(t.thickness)?1:t.thickness,r.borderColor=G.isNullOrUndefined(t.borderColor)?"#303030":t.borderColor;break;case"SignatureField":r.formFieldAnnotationType=e,r.bounds={x:t.bounds.X,y:t.bounds.Y,width:t.bounds.Width,height:t.bounds.Height},r.isReadonly=this.pdfViewer.signatureFieldSettings.isReadOnly||t.isReadOnly||!1,r.backgroundColor=G.isNullOrUndefined(t.backgroundColor)?r.isReadonly?"trasnparent":"#daeaf7ff":an.setTransparencyToHex(this.colorNametoHashValue(t.backgroundColor)),r.borderColor=G.isNullOrUndefined(t.borderColor)?"#303030":t.borderColor,r.fontSize=G.isNullOrUndefined(t.fontSize)?10:t.fontSize,r.fontStyle=G.isNullOrUndefined(t.fontStyle)?"None":t.fontStyle,r.name=G.isNullOrUndefined(t.name)?"Signature"+this.formFieldIndex:t.name,r.isRequired=t.isRequired||!1,r.thickness=G.isNullOrUndefined(t.thickness)?1:t.thickness;var l=t.signatureIndicatorSettings||t.initialIndicatorSettings;r.signatureIndicatorSettings=l?{opacity:l.opacity||1,backgroundColor:l.backgroundColor||"orange",width:l.width||19,height:l.height||10,fontSize:l.fontSize||10,text:l.text||null,color:l.color||"black"}:null;break;case"InitialField":r.formFieldAnnotationType=e,r.bounds={x:t.bounds.X,y:t.bounds.Y,width:t.bounds.Width,height:t.bounds.Height},r.isReadonly=this.pdfViewer.initialFieldSettings.isReadOnly||t.isReadOnly||!1,r.backgroundColor=G.isNullOrUndefined(t.backgroundColor)?r.isReadonly?"trasnparent":"#daeaf7ff":an.setTransparencyToHex(this.colorNametoHashValue(t.backgroundColor)),r.borderColor=G.isNullOrUndefined(t.borderColor)?"#303030":t.borderColor,r.fontSize=G.isNullOrUndefined(t.fontSize)?10:t.fontSize,r.thickness=G.isNullOrUndefined(t.thickness)?1:t.thickness,r.fontStyle=G.isNullOrUndefined(t.fontStyle)?"None":t.fontStyle,r.name=G.isNullOrUndefined(t.name)?"Initial"+this.formFieldIndex:t.name,r.isRequired=t.isRequired||!1,r.isInitialField=!0;l=t.initialIndicatorSettings||t.signatureIndicatorSettings;r.signatureIndicatorSettings=l?{opacity:l.opacity||1,backgroundColor:l.backgroundColor||"orange",width:l.width||19,height:l.height||10,fontSize:l.fontSize||10,text:l.text||null,color:l.color||"black"}:null}r.tooltip=G.isNullOrUndefined(t.tooltip)?"":t.tooltip,this.setFormFieldIndex();n=null;return i?this.addFieldCollection(r):n=this.drawFormField(r,o),n},Q.prototype.addFieldCollection=function(e){e={id:J.randomId(),name:e.name,value:e.value,type:e.formFieldAnnotationType,isReadOnly:e.isReadonly,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,color:e.color,backgroundColor:e.backgroundColor,isMultiline:e.isMultiline,alignment:e.alignment,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,isSelected:e.isSelected,insertSpaces:e.insertSpaces,isChecked:e.isChecked,tooltip:e.tooltip,bounds:e.bounds,thickness:e.thickness,pageIndex:e.pageIndex,borderColor:e.borderColor,signatureIndicatorSettings:e.signatureIndicatorSettings,rotateAngle:e.rotateAngle,isTransparent:e.isTransparent,options:e.options,selectedIndex:e.selectedIndex,signatureType:e.signatureType,zIndex:e.zIndex,pageNumber:e.pageNumber,customData:e.customData};this.pdfViewer.formFieldCollections.push(e)},Q.prototype.drawFormField=function(e,t){var i=this.pdfViewer.add(e),n=this.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===i.id}),o=(-1<n&&(o=this.pdfViewer.formFieldCollections[parseInt(n.toString(),10)],this.isFormFieldUpdated)&&this.updateNodeBasedOnCollections(i,o),this.pdfViewer.formFieldCollection.findIndex(function(e){return e.id===i.id})),o=(o<0?this.pdfViewer.formFieldCollection.push(i):-1<o&&(this.pdfViewer.formFieldCollection[parseInt(o.toString(),10)]=i),{id:i.id,name:i.name,value:i.value,type:i.formFieldAnnotationType,isReadOnly:i.isReadonly,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,color:i.color,backgroundColor:i.backgroundColor,isMultiline:i.isMultiline,alignment:i.alignment,visibility:i.visibility,maxLength:i.maxLength,isRequired:i.isRequired,isPrint:i.isPrint,isSelected:i.isSelected,isChecked:i.isChecked,tooltip:i.tooltip,bounds:i.bounds,pageIndex:i.pageIndex,thickness:i.thickness,borderColor:i.borderColor,signatureIndicatorSettings:i.signatureIndicatorSettings,insertSpaces:i.insertSpaces,rotateAngle:i.rotateAngle,isTransparent:i.isTransparent,options:i.options,selectedIndex:i.selectedIndex,signatureType:i.signatureType,zIndex:i.zIndex,pageNumber:i.pageNumber,customData:i.customData});return-1<n?this.pdfViewer.formFieldCollections[parseInt(n.toString(),10)]=o:this.pdfViewer.formFieldCollections.push(o),this.drawHTMLContent(i.formFieldAnnotationType,i.wrapper.children[0],i,e.pageNumber-1,this.pdfViewer,null,t)},Q.prototype.updateNodeBasedOnCollections=function(e,t){e.name=t.name,e.value=t.value,e.isReadonly=t.isReadOnly,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle.toString(),e.color=t.color,e.backgroundColor=t.backgroundColor,e.alignment=t.alignment,e.visibility=t.visibility,e.maxLength=t.maxLength,e.isRequired=t.isRequired,e.isPrint=t.isPrint,e.isSelected=t.isSelected,e.isChecked=t.isChecked,e.tooltip=t.tooltip,e.thickness=t.thickness,e.borderColor=t.borderColor,e.customData=t.customData},Q.prototype.setFormFieldMode=function(e,t){this.pdfViewer.selectedItems&&!G.isNullOrUndefined(this.pdfViewer.selectedItems.annotations)&&0<this.pdfViewer.selectedItems.annotations.length&&this.pdfViewerBase.activeElements&&!G.isNullOrUndefined(this.pdfViewerBase.activeElements.activePageID)&&this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID);var i=document.getElementById("FormField_helper_html_element");switch(this.pdfViewer.isFormDesignerToolbarVisible&&i&&i.remove(),this.isAddFormFieldUi=!0,e){case"Textbox":this.activateTextboxElement(e),this.isSetFormFieldMode=!0;break;case"Password":this.activatePasswordField("PasswordField"),this.isSetFormFieldMode=!0;break;case"CheckBox":this.activateCheckboxElement("Checkbox"),this.isSetFormFieldMode=!0;break;case"RadioButton":this.activateRadioButtonElement(e),this.isSetFormFieldMode=!0;break;case"DropDown":this.activateDropDownListElement("DropdownList",t),this.isSetFormFieldMode=!0;break;case"ListBox":this.activateListboxElement(e,t),this.isSetFormFieldMode=!0;break;case"SignatureField":case"InitialField":this.activateSignatureBoxElement(e),this.isSetFormFieldMode=!0}},Q.prototype.resetFormField=function(e){var t=this.getFormField(e);if(t){switch(t.formFieldAnnotationType){case"Textbox":this.resetTextboxProperties(t);break;case"PasswordField":this.resetPasswordProperties(t);break;case"Checkbox":this.resetCheckboxProperties(t);break;case"RadioButton":this.resetRadioButtonProperties(t);break;case"DropdownList":this.resetDropdownListProperties(t);break;case"ListBox":this.resetListBoxProperties(t);break;case"SignatureField":case"InitialField":this.resetSignatureTextboxProperties(t)}this.updateSessionFormFieldProperties(t)}},Q.prototype.selectFormField=function(e){e=this.getFormField(e);e&&(this.isProgrammaticSelection=!0,this.pdfViewer.select([e.id]),this.isProgrammaticSelection=!1)},Q.prototype.updateFormField=function(e,t){var i=this.getFormField(e),n=(this.isFormFieldUpdated=!0,this.pdfViewer.selectedItems.formFields[0]);if(i){if(!i.isReadonly||!G.isNullOrUndefined(t.isReadOnly)&&!t.isReadOnly)switch(i.formFieldAnnotationType){case"Textbox":case"PasswordField":case"DropdownList":case"ListBox":case"SignatureField":case"InitialField":var o=document.getElementById(i.id+"_content_html_element");o?(o=o.firstElementChild.firstElementChild,this.isAddFormFieldProgrammatically=!0,this.formFieldPropertyChange(i,t,o,n)):(this.updateFormFieldsInCollections(e,t),this.updateDesignerSession(e,t),this.rerenderFormFields(e.pageIndex));break;case"RadioButton":o=document.getElementById(i.id+"_content_html_element");o?(o=o.firstElementChild.firstElementChild.firstElementChild,this.formFieldPropertyChange(i,t,o)):(this.updateFormFieldsInCollections(e,t),this.updateDesignerSession(e,t));break;case"Checkbox":o=document.getElementById(i.id+"_content_html_element");o?(o=o.firstElementChild.firstElementChild.lastElementChild,this.formFieldPropertyChange(i,t,o)):(this.updateFormFieldsInCollections(e,t),this.updateDesignerSession(e,t))}}else this.updateFormFieldsInCollections(e,t),this.updateFormFieldsInFieldsSession(e,t)},Q.prototype.updateDesignerSession=function(e,t){var e="object"==typeof e?e.id:e,e=this.pdfViewer.nameTable[""+e],i=e.bounds,n=e.wrapper.children[0],o=e.formFieldAnnotationType;G.isNullOrUndefined(t.customData)||e.customData===t.customData||(e.customData=t.customData),G.isNullOrUndefined(t.name)||e.name===t.name||(e.name=t.name),G.isNullOrUndefined(t.borderColor)||e.borderColor===t.borderColor||(e.borderColor=t.borderColor),G.isNullOrUndefined(t.backgroundColor)||e.backgroundColor===t.backgroundColor||(e.backgroundColor=t.backgroundColor),G.isNullOrUndefined(t.value)||e.value===t.value||(e.value=t.value),this.updateFormDesignerFieldInSessionStorage(i,n,o,e)},Q.prototype.updateFormFieldsInFieldsSession=function(e,t){var i=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(!G.isNullOrUndefined(i)){for(var n=JSON.parse(i),o=0;o<n.length;o++)n[""+o].FieldName===e.name&&(G.isNullOrUndefined(t.customData)||n[""+o].CustomData===t.customData||(n[""+o].CustomData=t.customData),G.isNullOrUndefined(t.backgroundColor)||n[""+o].BackColor===t.backgroundColor||(n[""+o].BackColor=this.getRgbCode(t.backgroundColor)),G.isNullOrUndefined(t.borderColor)||n[""+o].BorderColor===t.borderColor||(n[""+o].BorderColor=this.getRgbCode(t.borderColor)),G.isNullOrUndefined(t.name)||n[""+o].Name===t.name||(n[""+o].Name=t.name),G.isNullOrUndefined(t.value)||n[""+o].Value===t.value||(n[""+o].Value=t.value));this.pdfViewerBase.setItemInSessionStorage(n,"_formfields")}},Q.prototype.updateFormFieldsInCollections=function(n,o){for(var r=this.pdfViewer.formFieldCollections,a=this,e=0;e<r.length;e++)!function(e){var t,e=r[parseInt(e.toString(),10)],i="object"==typeof n?n.id:n;e.id===i&&(a.updateFormFieldData(e,o),t=a.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===i}),a.pdfViewer.formFieldCollections[parseInt(t.toString(),10)]=e)}(e)},Q.prototype.updateFormFieldData=function(e,t){var i,n;t.name&&e.name!==t.name&&(e.name=t.name),"SignatureField"===e.type&&"InitialField"===e.type||(t.thickness&&e.thickness!==t.thickness&&(e.thickness=t.thickness),t.borderColor&&(i=this.colorNametoHashValue(t.borderColor),e.borderColor!==i)&&(e.borderColor=i)),t.backgroundColor&&(i=this.colorNametoHashValue(t.backgroundColor),e.backgroundColor!==i)&&(e.backgroundColor=i,n=e.id,G.isNullOrUndefined(this.pdfViewer.nameTable[""+n])||(this.pdfViewer.nameTable[""+n].backgroundColor=i)),G.isNullOrUndefined(t.customData)||e.customData===t.customData||(e.customData=t.customData),G.isNullOrUndefined(t.isReadOnly)||e.isReadonly===t.isReadOnly||(e.isReadOnly=t.isReadOnly),G.isNullOrUndefined(t.isRequired)||e.isRequired===t.isRequired||(e.isRequired=t.isRequired),G.isNullOrUndefined(t.isPrint)||e.isPrint===t.isPrint||(e.isPrint=t.isPrint),t.visibility&&e.visibility!==t.visibility&&(e.visibility=t.visibility),t.tooltip&&e.tooltip!==t.tooltip&&(e.tooltip=t.tooltip),"Checkbox"!==e.type||G.isNullOrUndefined(t.isChecked)||e.isChecked!==t.isChecked||(e.isChecked=t.isChecked),"RadioButton"!==e.type||G.isNullOrUndefined(t.isSelected)||e.isSelected!==t.isSelected||(e.isSelected=t.isSelected),"DropdownList"!==e.type&&"ListBox"!==e.type||!t.options||(e.options=t.options),"Textbox"!==e.type&&"SignatureField"!==e.type&&"InitialField"!==e.type&&"DropdownList"!==e.type&&"ListBox"!==e.type&&"PasswordField"!==e.type||(t.value&&e.value!==t.value&&(e.value=t.value),t.fontSize&&e.fontSize!==t.fontSize&&(e.fontSize=t.fontSize),t.color&&(n=this.colorNametoHashValue(t.color),e.color!==n)&&(e.color=n),"SignatureField"!==e.type&&(t.alignment&&e.alignment!==t.alignment&&(e.alignment=t.alignment),t.maxLength)&&e.maxLength!==t.maxLength&&(e.maxLength=t.maxLength),"PasswordField"!==e.type&&(t.fontFamily&&e.fontFamily!==t.fontFamily&&(e.fontFamily=t.fontFamily),t.fontStyle)&&e.fontStyle!==t.fontStyle&&(e.fontStyle=t.fontStyle))},Q.prototype.formFieldPropertyChange=function(e,t,i,n){var o,r,a,s=!1,l=!1,A=!1,d=!1,p=!1,h=!1,c=!1,g=!1,u=!1,f=!1,m=!1,w=!1,B=!1,C=!1,S=!1,y=!1,I=this.pdfViewerBase.getZoomFactor();if(t.name&&(e.name!==t.name&&(y=!0),e.name=t.name,(a=document.getElementById(e.id+"_designer_name")).innerHTML=e.name,a.style.fontSize=e.fontSize?e.fontSize*I+"px":10*I+"px",i.name=t.name,this.pdfViewer.nameTable[e.id.split("_")[0]].name=e.name,y)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,o,r,y),e.formFieldAnnotationType&&(G.isNullOrUndefined(t.thickness)||(e.thickness!==t.thickness&&(c=!0,o=e.thickness,r=t.thickness),i.style.borderWidth=t.thickness.toString()+"px",e.thickness=t.thickness,this.pdfViewer.nameTable[e.id.split("_")[0]].thickness=t.thickness,c&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,c,!1,!1,!1,!1,!1,!1,!1,!1,o,r)),t.borderColor)&&(a=this.colorNametoHashValue(t.borderColor),e.borderColor!==a&&(h=!0,o=e.borderColor,r=a),e.borderColor=a,i.style.borderColor=a,"RadioButton"===e.formFieldAnnotationType&&(i.parentElement.style.boxShadow=a+" 0px 0px 0px "+e.thickness+"px",this.setToolTip(t.tooltip,i.parentElement)),this.pdfViewer.nameTable[e.id.split("_")[0]].borderColor=a,h)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,h,!1,!1,!1,!1,!1,!1,!1,!1,!1,o,r),t.backgroundColor&&(y=this.colorNametoHashValue(t.backgroundColor),y="SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType?an.setTransparencyToHex(y):an.removeAlphaValueFromHex(y),e.backgroundColor!==y&&(p=!0,o=e.backgroundColor,r=y),e.backgroundColor=y,"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType?i.parentElement.style.background=y:i.style.background=y,"RadioButton"===e.formFieldAnnotationType&&(i.parentElement.style.background=e.backgroundColor),this.pdfViewer.nameTable[e.id.split("_")[0]].backgroundColor=y,p)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,p,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,o,r),t.bounds&&(e.bounds={x:t.bounds.X,y:t.bounds.Y,width:t.bounds.Width,height:t.bounds.Height},(c=this.pdfViewer.nameTable[e.id.split("_")[0]]).bounds={x:t.bounds.X,y:t.bounds.Y,width:t.bounds.Width,height:t.bounds.Height},c.wrapper.bounds=new J.Rect(t.bounds.X,t.bounds.Y,t.bounds.Width,t.bounds.Height),this.pdfViewer.drawing.nodePropertyChange(c,{bounds:{x:c.wrapper.bounds.x,y:c.wrapper.bounds.y,width:c.wrapper.bounds.width,height:c.wrapper.bounds.height}}),a=c.wrapper.children[0],h=J.cornersPointsBeforeRotation(c.wrapper.children[0]).topLeft,y=document.getElementById(a.id+"_html_element"),G.isNullOrUndefined(y)||y.setAttribute("style","height:"+a.actualSize.height*I+"px; width:"+a.actualSize.width*I+"px;left:"+h.x*I+"px; top:"+h.y*I+"px;position:absolute;transform:rotate("+(a.rotateAngle+a.parentTransform)+"deg);pointer-events:"+(this.pdfViewer.designerMode?"none":"all")+";visibility:"+(a.visible?"visible":"hidden")+";opacity:"+a.style.opacity+";"),this.isFormFieldSizeUpdated=!0,this.pdfViewer.select([e.id]),"RadioButton"!==c.formFieldAnnotationType&&"Checkbox"!==c.formFieldAnnotationType||this.updateHTMLElement(e)),G.isNullOrUndefined(t.isRequired)||(e.isRequired!==t.isRequired&&(w=!0,o=e.isRequired,r=t.isRequired),e.isRequired=t.isRequired,this.setRequiredToElement(e,i,t.isRequired),this.setRequiredToFormField(e,t.isRequired),this.pdfViewer.nameTable[e.id.split("_")[0]].isRequired=t.isRequired,w&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,w,!1,!1,!1,o,r)),t.visibility&&(e.visibility!==t.visibility&&(f=!0,o=e.visibility,r=t.visibility),e.visibility=t.visibility,i.style.visibility=t.visibility,"RadioButton"===e.formFieldAnnotationType&&(i.parentElement.style.visibility=e.visibility),"SignatureField"!==e.formFieldAnnotationType&&"InitialField"!==e.formFieldAnnotationType||(i.parentElement.style.visibility=e.visibility,p=this.pdfViewer.nameTable[e.id.split("_")[0]+"_content"],Q=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),D=JSON.parse(Q),y=this.getFormFiledIndex(e.id.split("_")[0]),"hidden"===e.visibility?p&&this.hideSignatureValue(e,p,y,D):p&&this.showSignatureValue(e,o,p,y,D)),this.pdfViewer.nameTable[e.id.split("_")[0]].visibility=t.visibility,f)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,f,!1,!1,!1,!1,!1,o,r),G.isNullOrUndefined(t.isPrint)||(e.isPrint!==t.isPrint&&(B=!0,o=e.isPrint,r=t.isPrint),e.isPrint=t.isPrint,this.pdfViewer.nameTable[e.id.split("_")[0]].isPrint=t.isPrint,B&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,B,!1,!1,o,r)),G.isNullOrUndefined(t.tooltip)||(e.tooltip!==t.tooltip&&(C=!0,o=e.tooltip,r=t.tooltip),e.tooltip=t.tooltip,G.isNullOrUndefined(t.tooltip)||("RadioButton"===e.formFieldAnnotationType?this.setToolTip(t.tooltip,i.parentElement):this.setToolTip(t.tooltip,i)),this.pdfViewer.nameTable[e.id.split("_")[0]].tooltip=t.tooltip,C&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,C,!1,o,r)),G.isNullOrUndefined(t.customData)||(e.customData!==t.customData&&(S=!0,o=e.customData,r=t.customData),e.customData=t.customData,this.pdfViewer.nameTable[e.id.split("_")[0]].customData=t.customData,S&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,S,o,r)),"Checkbox"!==e.formFieldAnnotationType||G.isNullOrUndefined(t.isChecked)&&!t.isChecked&&!t.value||(G.isNullOrUndefined(t.isChecked)||e.isChecked===this.checkboxCheckedState||(s=!0,o=e.isChecked,r=t.isChecked),e.isChecked=t.isChecked,i.checked=t.isChecked,this.setCheckedValue(i,t.isChecked),this.pdfViewer.nameTable[e.id.split("_")[0]].isChecked=t.isChecked,(t.value||t.isChecked)&&(e.value!==t.value&&(s=!0,o=e.value,r=t.value),e.value=t.value,this.pdfViewer.nameTable[e.id.split("_")[0]].value=t.value,s)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,s,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,o,r)),"RadioButton"!==e.formFieldAnnotationType||G.isNullOrUndefined(t.isSelected)&&!t.isSelected&&!t.value||(G.isNullOrUndefined(t.isSelected)||e.isSelected===t.isSelected||(s=!0,o=e.isSelected,r=this.checkboxCheckedState),e.isSelected=t.isSelected,i.checked=t.isSelected,this.pdfViewer.nameTable[e.id.split("_")[0]].isSelected=t.isSelected,(t.value||t.isSelected)&&(e.value!==t.value&&(s=!0,o=e.value,r=t.value),e.value=t.value,this.pdfViewer.nameTable[e.id.split("_")[0]].value=t.value,s)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,s,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,o,r)),"DropdownList"!==e.formFieldAnnotationType&&"ListBox"!==e.formFieldAnnotationType||t.options&&(e.options=t.options,e.selectedIndex=[],e.selectedIndex.push(0),this.updateDropDownListDataSource(e,i),this.pdfViewer.nameTable[e.id.split("_")[0]].options=e.options),"Textbox"===e.formFieldAnnotationType||"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType||"DropdownList"===e.formFieldAnnotationType||"ListBox"===e.formFieldAnnotationType||"PasswordField"===e.formFieldAnnotationType){if(t.value||t.isMultiline){if(G.isNullOrUndefined(t.value)||e.value===t.value||(s=!0,o=e.value,r=t.value),e.value=t.value||e.value,"Textbox"===e.formFieldAnnotationType&&t.isMultiline&&(this.addMultilineTextbox(e,"e-pv-formfield-input",!0),this.multilineCheckboxCheckedState=!0,document.getElementById(e.id+"_content_html_element")?this.updateTextboxFormDesignerProperties(e):this.updateFormFieldPropertiesInCollections(e)),G.isNullOrUndefined(t.isMultiline)||e.isMultiline===t.isMultiline||(s=!0,e.isMultiline=t.isMultiline),"DropdownList"===e.formFieldAnnotationType||"ListBox"===e.formFieldAnnotationType||G.isNullOrUndefined(t.value)){if("DropdownList"===e.formFieldAnnotationType||"ListBox"===e.formFieldAnnotationType){e.selectedIndex=[];for(var E=0;E<i.options.length;E++)i.options[parseInt(E.toString(),10)].text===t.value&&(i.options.selectedIndex=E,e.selectedIndex.push(E));G.isNullOrUndefined(t.selectedIndex)||e.selectedIndex===t.selectedIndex||(e.selectedIndex=t.selectedIndex,i.options.selectedIndex=t.selectedIndex)}}else i.value=t.value;this.pdfViewer.nameTable[e.id.split("_")[0]].value=t.value||e.value,s&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,s,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,o,r)}else G.isNullOrUndefined(t)||G.isNullOrUndefined(t.isMultiline)||t.isMultiline||(this.renderTextbox(n),this.multilineCheckboxCheckedState=!0,document.getElementById(n.id+"_content_html_element")?this.updateTextboxFormDesignerProperties(n):this.updateFormFieldPropertiesInCollections(n));t.fontSize&&(e.fontSize!==t.fontSize&&(A=!0,o=e.fontSize,r=t.fontSize),e.fontSize=t.fontSize,i.style.fontSize=t.fontSize*I+"px",this.pdfViewer.nameTable[e.id.split("_")[0]].fontSize=t.fontSize,A)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,A,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,o,r),t.color&&(h=this.colorNametoHashValue(t.color),e.color!==h&&(d=!0,o=e.color,r=h),e.color=h,i.style.color=h,this.pdfViewer.nameTable[e.id.split("_")[0]].color=h,d)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,d,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,o,r),"SignatureField"!==e.formFieldAnnotationType&&(t.alignment&&(e.alignment!==t.alignment&&(g=!0,o=e.alignment,r=t.alignment),e.alignment=t.alignment,i.style.textAlign=t.alignment,this.pdfViewer.nameTable[e.id.split("_")[0]].alignment=t.alignment,g)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,g,!1,!1,!1,!1,!1,!1,!1,o,r),t.maxLength)&&(e.maxLength!==t.maxLength&&(m=!0,o=e.maxLength,r=t.maxLength),e.maxLength=t.maxLength,i.maxLength=t.maxLength,this.pdfViewer.nameTable[e.id.split("_")[0]].maxLength=t.maxLength,m)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,m,!1,!1,!1,!1,o,r),"PasswordField"!==e.formFieldAnnotationType&&(t.fontFamily&&(e.fontFamily!==t.fontFamily&&(l=!0,o=e.fontFamily,r=t.fontFamily),e.fontFamily=t.fontFamily,i.style.fontFamily=t.fontFamily,this.pdfViewer.nameTable[e.id.split("_")[0]].fontFamily=t.fontFamily,l)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,l,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,o,r),c=a="",G.isNullOrUndefined(t.fontStyle)||(a=(a=(a=(a+=e.font.isBold?"Bold, ":"")+(e.font.isItalic?"Italic, ":""))+(e.font.isStrikeout?"Strikethrough, ":""))+(e.font.isUnderline?"Underline, ":""),G.isNullOrUndefined(t.fontStyle)||t.fontStyle!==v.FontStyle.None?(0!=(t.fontStyle&v.FontStyle.Bold)&&(i.style.fontWeight="bold",e.fontStyle="Bold",e.font.isBold=!0,this.pdfViewer.nameTable[e.id.split("_")[0]].font.isBold=!0,this.setDropdownFontStyleValue(i,"bold","bold")),c+=e.font.isBold?"Bold, ":"",0!=(t.fontStyle&v.FontStyle.Italic)&&(i.style.fontStyle="italic",e.fontStyle="Italic",e.font.isItalic=!0,this.pdfViewer.nameTable[e.id.split("_")[0]].font.isItalic=!0),c+=e.font.isItalic?"Italic, ":"",0!=(t.fontStyle&v.FontStyle.Strikethrough)&&(i.style.textDecoration="line-through",e.font.isStrikeout=!0,e.fontStyle="Strikethrough",this.pdfViewer.nameTable[e.id.split("_")[0]].font.isStrikeout=!0),c+=e.font.isStrikeout?"Strikethrough, ":"",0!=(t.fontStyle&v.FontStyle.Underline)&&(i.style.textDecoration="underline",e.fontStyle="Underline",e.font.isUnderline=!0,this.pdfViewer.nameTable[e.id.split("_")[0]].font.isUnderline=!0),c+=e.font.isUnderline?"Underline, ":""):(i.style.fontWeight="",i.style.fontStyle="",e.fontStyle="",i.style.textDecoration="",e.font.isBold=!1,e.font.isItalic=!1,e.font.isUnderline=!1,e.font.isStrikeout=!1,this.setDropdownFontStyleValue(i,"none",""),this.pdfViewer.nameTable[e.id.split("_")[0]].font.isBold=!1,this.pdfViewer.nameTable[e.id.split("_")[0]].font.isItalic=!1,this.pdfViewer.nameTable[e.id.split("_")[0]].font.isUnderline=!1,this.pdfViewer.nameTable[e.id.split("_")[0]].font.isStrikeout=!1,c=""),this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!!0,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,c)))}if(!G.isNullOrUndefined(t.isReadOnly)){if(e.isReadonly!==t.isReadOnly&&(u=!0,o=e.isReadonly,r=t.isReadOnly),e.isReadonly=t.isReadOnly,this.setReadOnlyProperty(e,i),"RadioButton"===e.formFieldAnnotationType){i.parentElement.style.pointerEvents=t.isReadOnly?"none":"auto";for(var Q=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),D=JSON.parse(Q),E=0;E<D.length;E++)if(D[parseInt(E.toString(),10)].FormField.id.split("_")[0]===e.id){for(var x=0;x<D[parseInt(E.toString(),10)].FormField.radiobuttonItem.length;x++){var V=D[parseInt(E.toString(),10)].FormField.radiobuttonItem[parseInt(x.toString(),10)],b=document.getElementById(V.id+"_html_element").firstElementChild.firstElementChild.firstElementChild;b.parentElement.style.pointerEvents=t.isReadOnly?"none":"auto",V.isReadonly=e.isReadonly,this.pdfViewerBase.formFieldCollection[parseInt(E.toString(),10)].FormField.radiobuttonItem[parseInt(x.toString(),10)].isReadonly=e.isReadonly,this.setReadOnlyProperty(V,b),this.pdfViewerBase.formFieldCollection[parseInt(E.toString(),10)].FormField.radiobuttonItem[parseInt(x.toString(),10)].backgroundColor="object"!=typeof V.backgroundColor?this.getRgbCode(V.backgroundColor):V.backgroundColor}D[parseInt(E.toString(),10)].FormField.isReadonly=e.isReadonly,this.pdfViewerBase.formFieldCollection[parseInt(E.toString(),10)].FormField.isReadonly=e.isReadonly}}else i.style.pointerEvents=!t.isReadOnly||t.isMultiline?"auto":"none";u&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,u,!1,!1,!1,!1,!1,!1,o,r)}("SignatureField"===e.formFieldAnnotationType&&t.signatureIndicatorSettings||"InitialField"===e.formFieldAnnotationType&&t.initialIndicatorSettings)&&(e=this.updateSignatureandInitialIndicator(e,t,i)),this.updateSessionFormFieldProperties(e);var M={id:e.id,name:e.name,value:e.value,type:e.formFieldAnnotationType,isReadOnly:e.isReadonly,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,color:e.color,backgroundColor:e.backgroundColor,alignment:e.alignment,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,tooltip:e.tooltip,bounds:e.bounds,thickness:e.thickness,borderColor:e.borderColor,pageIndex:e.pageIndex,insertSpaces:e.insertSpaces,isTransparent:e.isTransparent,options:e.options,pageNumber:e.pageNumber,rotateAngle:e.rotateAngle,selectedIndex:e.selectedIndex,signatureIndicatorSettings:e.signatureIndicatorSettings,signatureType:e.signatureType,zIndex:e.zIndex,isChecked:e.isChecked,isMultiline:e.isMultiline,isSelected:e.isSelected,customData:e.customData};this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===M.id})]=M,this.pdfViewer.formFieldCollection[this.pdfViewer.formFieldCollection.findIndex(function(e){return e.id===M.id})]=e},Q.prototype.colorNametoHashValue=function(e){var t=e;return""!==(t=t.match(/#([a-z0-9]+)/gi)||t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)?t:this.nameToHash(t))?t:e},Q.prototype.getFormField=function(e){var t,i;return"object"==typeof e&&(i=this.getAnnotationsFromAnnotationCollections(e.id))&&(t=this.pdfViewer.nameTable[i.id]),t="string"==typeof e&&(i=this.getAnnotationsFromAnnotationCollections(e))?this.pdfViewer.nameTable[i.id]:t},Q.prototype.resetTextboxProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="textboxField",e.value="",e.fontFamily="Helvetica",e.fontSize=10,e.fontStyle="None",e.color="black",e.backgroundColor="#daeaf7ff",e.alignment="left",e.visibility="visible",e.isReadonly=!1,e.isRequired=!1,e.tooltip="",e.isPrint=!0,e.borderColor="#303030",e.thickness=1,e.maxLength=0,this.updateTextboxProperties(e,t))},Q.prototype.resetPasswordProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="passswordField",e.value="",e.fontFamily="Helvetica",e.fontSize=10,e.fontStyle="None",e.color="black",e.backgroundColor="#daeaf7ff",e.alignment="left",e.visibility="visible",e.isReadonly=!1,e.isRequired=!1,e.tooltip="",e.isPrint=!0,e.borderColor="#303030",e.thickness=1,e.maxLength=0,this.updatePasswordFieldProperties(e,t))},Q.prototype.resetCheckboxProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="checkboxField",e.isChecked=!1,e.backgroundColor="#daeaf7ff",e.visibility="visible",e.isReadonly=!1,e.isRequired=!1,e.tooltip="",e.isPrint=!0,e.borderColor="#303030",e.thickness=1,this.updateCheckboxProperties(e,t))},Q.prototype.resetRadioButtonProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="RadioButtonField",e.isSelected=!1,e.backgroundColor="#daeaf7ff",e.visibility="visible",e.isReadonly=!1,e.isRequired=!1,e.tooltip="",e.isPrint=!0,e.borderColor="#303030",e.thickness=1,this.updateRadioButtonProperties(e,t))},Q.prototype.resetDropdownListProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="dropDownField",e.value="",e.fontFamily="Helvetica",e.fontSize=10,e.fontStyle="None",e.color="black",e.backgroundColor="#daeaf7ff",e.alignment="left",e.visibility="visible",e.isReadonly=!1,e.isRequired=!1,e.tooltip="",e.isPrint=!0,e.borderColor="#303030",e.thickness=1,e.options=[],this.updateDropdownListProperties(e,t),e.options)&&this.updateDropDownListDataSource(e,t)},Q.prototype.resetListBoxProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="listBoxField",e.value="",e.fontFamily="Helvetica",e.fontSize=10,e.fontStyle="None",e.color="black",e.backgroundColor="#daeaf7ff",e.alignment="left",e.visibility="visible",e.isReadonly=!1,e.isRequired=!1,e.tooltip="",e.isPrint=!0,e.borderColor="#303030",e.thickness=1,e.options=[],this.updateListBoxProperties(e,t),e.options)&&this.updateDropDownListDataSource(e,t)},Q.prototype.resetSignatureTextboxProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="signatureField",e.value="",e.fontFamily="Helvetica",e.fontSize=10,e.fontStyle="None",e.color="black",e.backgroundColor="#daeaf7ff",e.isRequired=!1,e.isReadonly=!1,e.tooltip="",e.isPrint=!0,e.visibility="visible",this.updateSignatureFieldProperties(e,t))},Q.prototype.deleteFormField=function(t,e){void 0===e&&(e=!0);var i=this.getFormField(t);if(G.isNullOrUndefined(i)&&t){var n=this.pdfViewerBase.getItemFromSessionStorage("_formfields"),o=JSON.parse(n);this.pdfViewer.formFieldCollection=this.pdfViewer.formFieldCollection.filter(function(e){return t.id!==e.id});for(var r=0;r<this.pdfViewer.formFieldCollections.length;r++)if(t.id===this.pdfViewer.formFieldCollections[parseInt(r.toString(),10)].id)for(var a,s=0;s<o.length;s++)t.name===o[parseInt(s.toString(),10)].FieldName&&(o.splice(s,1),this.pdfViewer.formFieldCollections.splice(r,1),a=JSON.stringify(o),F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_formfields",a))}i&&(this.clearSelection(t),this.pdfViewer.remove(i),this.pdfViewer.renderDrawing(),G.isNullOrUndefined(this.pdfViewer.toolbar)||G.isNullOrUndefined(this.pdfViewer.toolbar.formDesignerToolbarModule)||this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(!1),0<this.pdfViewerBase.formFieldCollection.length?this.pdfViewerBase.enableFormFieldButton(!0):this.pdfViewerBase.enableFormFieldButton(!1),e)&&this.pdfViewer.annotation&&this.pdfViewer.annotation.addAction(this.pdfViewerBase.currentPageNumber,null,i,"Delete","",i,i)},Q.prototype.clearSelection=function(e){var t,i;"object"==typeof e&&(i=this.getAnnotationsFromAnnotationCollections(e.id),t=this.pdfViewer.nameTable[i.id]),"string"==typeof e&&(i=this.getAnnotationsFromAnnotationCollections(e),t=this.pdfViewer.nameTable[i.id]),t&&this.pdfViewer.selectedItems&&!G.isNullOrUndefined(this.pdfViewer.selectedItems.properties.formFields)&&0<this.pdfViewer.selectedItems.properties.formFields.length&&this.pdfViewer.selectedItems.properties.formFields[0].id===t.id&&(e=G.isNullOrUndefined(this.pdfViewerBase.activeElements.activePageID)?t.pageIndex:this.pdfViewerBase.activeElements.activePageID,this.pdfViewer.clearSelection(e))},Q.prototype.setMode=function(e){e&&-1!==e.indexOf("designer")?(this.enableDisableFormFieldsInteraction(!0),this.pdfViewerBase.disableTextSelectionMode()):(this.enableDisableFormFieldsInteraction(!1),this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.enableTextSelectionMode())},Q.prototype.enableDisableFormFieldsInteraction=function(e){var t=this.pdfViewer.formFieldCollection;if(t&&0<t.length)for(var i=0;i<t.length;i++){var n=document.getElementById(t[parseInt(i.toString(),10)].id+"_content_html_element"),o=document.getElementById(t[parseInt(i.toString(),10)].id+"_designer_name");if(n)if(e){this.pdfViewer.designerMode=!0,n.style.pointerEvents="none",o.innerHTML=t[parseInt(i.toString(),10)].name;this.pdfViewerBase.getZoomFactor();switch(o.style.fontSize=this.defaultFontSize+"px",o.style.position="absolute",t[parseInt(i.toString(),10)].formFieldAnnotationType){case"Textbox":case"PasswordField":case"DropdownList":case"ListBox":case"SignatureField":case"InitialField":case"RadioButton":document.getElementById(t[parseInt(i.toString(),10)].id+"_content_html_element").firstElementChild.firstElementChild.style.pointerEvents="none";break;case"Checkbox":document.getElementById(t[parseInt(i.toString(),10)].id+"_content_html_element").firstElementChild.firstElementChild.lastElementChild.style.pointerEvents="none"}}else{switch(this.pdfViewer.designerMode=!1,n.style.pointerEvents="all",o.innerHTML="",o.style.position="initial","RadioButton"===t[parseInt(i.toString(),10)].formFieldAnnotationType&&this.updateRadioButtonDesignerProperties(t[parseInt(i.toString(),10)],!0),"Checkbox"===t[parseInt(i.toString(),10)].formFieldAnnotationType&&this.updateCheckboxFormDesignerProperties(t[parseInt(i.toString(),10)],!0),t[parseInt(i.toString(),10)].formFieldAnnotationType){case"Textbox":case"PasswordField":case"DropdownList":case"ListBox":case"SignatureField":case"InitialField":case"RadioButton":document.getElementById(t[parseInt(i.toString(),10)].id+"_content_html_element").firstElementChild.firstElementChild.style.pointerEvents=!t[parseInt(i.toString(),10)].isReadonly||t[parseInt(i.toString(),10)].isMultiline?"auto":"none";break;case"Checkbox":document.getElementById(t[parseInt(i.toString(),10)].id+"_content_html_element").firstElementChild.firstElementChild.lastElementChild.style.pointerEvents=!t[parseInt(i.toString(),10)].isReadonly||t[parseInt(i.toString(),10)].isMultiline?"auto":"none"}this.pdfViewer.clearSelection(t[parseInt(i.toString(),10)].pageIndex)}}},Q.prototype.getAnnotationsFromAnnotationCollections=function(e){var t=this.pdfViewer.formFieldCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].id===e)return t[parseInt(i.toString(),10)]},Q.prototype.updateSignatureValue=function(e){for(var t=0;t<this.pdfViewerBase.formFieldCollection.length;t++)e===this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.id&&(this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.value="",this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.id.split("_")[0]].value="",this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.id].value="",this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.signatureType="",this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.id.split("_")[0]].signatureType="",this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.id].signatureType="")},Q.prototype.removeFieldsFromAnnotationCollections=function(e,t){var i,n=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),o=JSON.parse(n),n=this.pdfViewerBase.getItemFromSessionStorage("_formfields");G.isNullOrUndefined(n)||(i=JSON.parse(n));for(var r=0;r<o.length;r++)if(o[parseInt(r.toString(),10)].Key.split("_")[0]===e){o.splice(r,1),this.pdfViewerBase.formFieldCollection.splice(r,1);break}if(!G.isNullOrUndefined(i))for(r=0;r<i.length;r++)if(i[parseInt(r.toString(),10)].FieldName===t){i.splice(parseInt(r.toString(),10),1),sessionStorage.setItem(this.pdfViewerBase.documentId+"_formfields",JSON.stringify(i));break}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner");n=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape");if(n){var a=JSON.parse(n),s=this.pdfViewer.annotationModule.getPageCollection(a,this.pdfViewerBase.currentPageNumber-1);if(null!=s&&a[parseInt(s.toString(),10)]){for(var l=0;l<a[parseInt(s.toString(),10)].annotations.length;l++)if(e===a[parseInt(s.toString(),10)].annotations[parseInt(l.toString(),10)].id){a[parseInt(s.toString(),10)].annotations.splice(l,1);break}n=JSON.stringify(a);F.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_shape",n)}}var A=this.pdfViewer.formFieldCollection;if(A&&e)for(r=0;r<A.length;r++)A[parseInt(r.toString(),10)].formFieldId===e&&this.pdfViewer.formFieldCollection.splice(r,1)},Q.prototype.setFormFieldIndex=function(){var e;return 0<this.pdfViewer.formFieldCollections.length?(e=(e=this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.length-1])&&e.name?isNaN(parseInt(e.name.match(/\d+/),10))?this.pdfViewer.formFieldCollections.length:parseInt(e.name.match(/\d+/),10):null,this.isAddFormFieldUi?this.formFieldIndex=this.formFieldIndex>this.pdfViewer.formFieldCollections.length?e+1:this.pdfViewer.formFieldCollections.length+1:this.formFieldIndex=isNaN(e)?this.formFieldIndex+1:e+1):this.formFieldIndex++,this.formFieldIndex},Q.prototype.setFormFieldIdIndex=function(){return this.formFieldIdIndex=this.formFieldIdIndex+1,this.formFieldIdIndex},Q.prototype.activateTextboxElement=function(e){this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"Textbox"+this.setFormFieldIndex(),value:"",fontFamily:"Helvetica",fontSize:this.defaultFontSize,fontStyle:"None",color:"black",backgroundColor:"#daeaf7ff",thickness:1,borderColor:"#303030",alignment:"left",isReadonly:!1,visibility:"visible",isRequired:!1,isPrint:!0,rotateAngle:0,tooltip:"",customData:"",font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1}},this.pdfViewer.tool="DrawTool"},Q.prototype.activatePasswordField=function(e){this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"Password"+this.setFormFieldIndex(),value:"",fontFamily:"Helvetica",fontSize:this.defaultFontSize,fontStyle:"None",color:"black",alignment:"left",backgroundColor:"#daeaf7ff",thickness:1,borderColor:"#303030",isReadonly:!1,visibility:"visible",isRequired:!1,isPrint:!0,rotateAngle:0,tooltip:"",customData:"",font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1}},this.pdfViewer.tool="DrawTool"},Q.prototype.activateCheckboxElement=function(e){this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"Check Box"+this.setFormFieldIndex(),isChecked:!1,fontSize:this.defaultFontSize,backgroundColor:"#daeaf7ff",color:"black",thickness:1,borderColor:"#303030",isReadonly:!1,visibility:"visible",isPrint:!0,rotateAngle:0,tooltip:"",customData:""},this.pdfViewer.tool="DrawTool"},Q.prototype.activateRadioButtonElement=function(e){this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"Radio Button"+this.setFormFieldIndex(),isSelected:!1,fontSize:this.defaultFontSize,backgroundColor:"#daeaf7ff",color:"black",thickness:1,borderColor:"#303030",isReadonly:!1,visibility:"visible",isPrint:!0,rotateAngle:0,tooltip:"",customData:""},this.pdfViewer.tool="DrawTool"},Q.prototype.activateDropDownListElement=function(e,t){this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"Dropdown"+this.setFormFieldIndex(),fontFamily:"Helvetica",fontSize:this.defaultFontSize,fontStyle:"None",color:"black",backgroundColor:"#daeaf7ff",thickness:1,borderColor:"#303030",alignment:"left",isReadonly:!1,visibility:"visible",isRequired:!1,isPrint:!0,rotateAngle:0,tooltip:"",customData:"",options:t,isMultiSelect:!1,font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1}},this.pdfViewer.tool="DrawTool"},Q.prototype.activateListboxElement=function(e,t){this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"List Box"+this.setFormFieldIndex(),fontFamily:"Helvetica",fontSize:this.defaultFontSize,fontStyle:"None",color:"black",backgroundColor:"#daeaf7ff",thickness:1,borderColor:"#303030",alignment:"left",isReadonly:!1,visibility:"visible",isRequired:!1,isPrint:!0,rotateAngle:0,tooltip:"",customData:"",options:t,isMultiSelect:!0,font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1}},this.pdfViewer.tool="DrawTool"},Q.prototype.activateSignatureBoxElement=function(e){var t={opacity:1,backgroundColor:"rgba(255, 228, 133, 0.35)",width:19,height:10,fontSize:this.defaultFontSize,text:null,color:"black"};switch(e){case"SignatureField":G.isNullOrUndefined(this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings)||(t=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings);break;case"InitialField":G.isNullOrUndefined(this.pdfViewer.initialFieldSettings.initialIndicatorSettings)||(t=this.pdfViewer.initialFieldSettings.initialIndicatorSettings)}this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"InitialField"===e||this.pdfViewer.isInitialFieldToolbarSelection?"Initial"+this.setFormFieldIndex():"Signature"+this.setFormFieldIndex(),fontFamily:"Helvetica",fontSize:this.defaultFontSize,fontStyle:"None",color:"black",backgroundColor:"#daeaf7ff",alignment:"left",isReadonly:!1,visibility:"visible",isRequired:!1,isPrint:!0,rotateAngle:0,tooltip:"",customData:"",font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1},isInitialField:"InitialField"===e||this.pdfViewer.isInitialFieldToolbarSelection,signatureIndicatorSettings:{opacity:t.opacity,backgroundColor:t.backgroundColor,width:t.width,height:t.height,fontSize:t.fontSize,text:t.text,color:t.color}},this.pdfViewer.tool="DrawTool"},Q.prototype.updateTextboxProperties=function(e,t,i){t.name=e.name||"Textbox"+this.setFormFieldIndex(),t.value=e.value||"";var n,i=i?this.defaultZoomValue:this.pdfViewerBase.getZoomFactor();e.insertSpaces?(n=e.bounds.width*i/e.maxLength-e.fontSize*i/2-.6*i,t.style.letterSpacing=n+"px",t.style.fontFamily="monospace",t.style.paddingLeft=n/2+"px"):t.style.fontFamily=e.fontFamily&&this.getFontFamily(e.fontFamily)?e.fontFamily:"Helvetica",t.style.fontSize=e.fontSize?e.fontSize*i+"px":10*i+"px",e.font.isBold&&(t.style.fontWeight="bold"),e.font.isItalic&&(t.style.fontStyle="italic"),e.font.isUnderline&&e.font.isStrikeout?t.style.textDecoration="underline line-through":e.font.isStrikeout?t.style.textDecoration="line-through":e.font.isUnderline&&(t.style.textDecoration="underline"),e.isTransparent&&"#ffffffff"===e.borderColor?(t.style.backgroundColor="transparent",t.style.borderColor="transparent"):(t.style.backgroundColor=e.backgroundColor||"#daeaf7ff",t.style.borderColor=e.borderColor||"#303030"),t.style.color=e.color||"black",t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px",t.style.textAlign=e.alignment?e.alignment.toLowerCase():"left",t.style.visibility=e.visibility||"visible",t.style.pointerEvents=!e.isReadonly||e.isMultiline?"default":"none",t.style.resize=e.isMultiline&&!this.pdfViewer.isFormDesignerToolbarVisible?"none":"default",e.isReadonly&&(t.disabled=!0,t.style.cursor="default",t.style.backgroundColor="#daeaf7ff"!==e.backgroundColor?e.backgroundColor:"transparent"),e.isRequired&&(t.required=!0,t.style.border="1px solid red",t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px"),G.isNullOrUndefined(e.maxLength)||(t.maxLength=0===e.maxLength?524288:e.maxLength),t.tabIndex=this.formFieldIndex,t.setAttribute("aria-label",this.pdfViewer.element.id+"formfilldesigner")},Q.prototype.updatePasswordFieldProperties=function(e,t,i){t.name=e.name||"Password"+this.setFormFieldIndex(),t.value=e.value||"",t.style.fontFamily=e.fontFamily||"Helvetica";i=i?this.defaultZoomValue:this.pdfViewerBase.getZoomFactor();t.style.fontSize=e.fontSize?e.fontSize*i+"px":10*i+"px",e.font.isBold&&(t.style.fontWeight="bold"),e.font.isItalic&&(t.style.fontStyle="italic"),e.font.isStrikeout&&(t.style.textDecoration="line-through"),e.font.isUnderline&&(t.style.textDecoration="underline"),t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px",t.style.color=e.color||"black",t.style.backgroundColor=e.backgroundColor||"#daeaf7ff",t.style.borderColor=e.borderColor||"#303030",t.style.textAlign=e.alignment?e.alignment.toLowerCase():"left",t.style.visibility=e.visibility||"visible",t.style.pointerEvents=e.isReadonly?"none":"default",e.isReadonly&&(t.disabled=!0,t.style.cursor="default",t.style.backgroundColor="#daeaf7ff"!==e.backgroundColor?e.backgroundColor:"transparent"),e.isRequired&&(t.required=!0,t.style.border="1px solid red",t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px"),G.isNullOrUndefined(e.maxLength)||(t.maxLength=0===e.maxLength?524288:e.maxLength),t.tabIndex=this.formFieldIndex},Q.prototype.updateCheckboxProperties=function(e,t){t.name=e.name||"Check Box"+this.setFormFieldIndex(),t.checked=!!e.isChecked,e.isTransparent&&"#ffffffff"===e.borderColor?(t.style.backgroundColor="transparent",t.style.borderColor="transparent"):(t.style.backgroundColor=e.backgroundColor||"#daeaf7ff",t.style.borderColor=e.borderColor||"#303030"),t.style.visibility=e.visibility||"visible",t.style.pointerEvents=e.isReadonly?"none":"default",t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px",e.isReadonly&&(t.disabled=!0,t.style.cursor="default",t.style.backgroundColor="#daeaf7ff"!==e.backgroundColor?e.backgroundColor:"transparent"),e.isRequired&&(t.required=!0,t.style.border="1px solid red",t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px"),t.tabIndex=this.formFieldIndex},Q.prototype.updateRadioButtonProperties=function(e,t,i){t.name=e.name||"Radio Button"+this.setFormFieldIndex(),t.checked=!!e.isSelected,t.style.backgroundColor=e.backgroundColor||"#daeaf7ff",t.style.borderColor=e.borderColor||"#303030",t.style.visibility=e.visibility||"visible",G.isNullOrUndefined(i)?t.style.pointerEvents=e.isReadonly?"none":"default":i.style.pointerEvents=e.isReadonly?"none":"default",t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px",e.isReadonly&&(t.disabled=!0,t.style.cursor="default",t.style.backgroundColor="#daeaf7ff"!==e.backgroundColor?e.backgroundColor:"transparent"),e.isRequired&&(t.required=!0,t.style.border="1px solid red",t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px"),t.tabIndex=this.formFieldIndex},Q.prototype.updateDropdownListProperties=function(e,t,i){t.name=e.name||"Dropdown"+this.setFormFieldIndex(),t.value=e.value||"",t.style.fontFamily=e.fontFamily||"Helvetica";i=i?this.defaultZoomValue:this.pdfViewerBase.getZoomFactor();t.style.fontSize=e.fontSize?e.fontSize*i+"px":10*i+"px",e.font.isBold&&(t.style.fontWeight="bold"),e.font.isItalic&&(t.style.fontStyle="italic"),e.font.isStrikeout&&(t.style.textDecoration="line-through"),e.font.isUnderline&&(t.style.textDecoration="underline"),t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px",t.style.color=e.color||"black",t.style.backgroundColor=e.backgroundColor||"#daeaf7ff",t.style.borderColor=e.borderColor||"#303030",t.style.textAlign=e.alignment?e.alignment.toLowerCase():"left",t.style.visibility=e.visibility||"visible",t.style.pointerEvents=e.isReadonly?"none":"default",e.isReadonly&&(t.disabled=!0,t.style.cursor="default",t.style.backgroundColor="#daeaf7ff"!==e.backgroundColor?e.backgroundColor:"transparent"),e.isRequired&&(t.required=!0,t.style.border="1px solid red",t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px"),t.tabIndex=this.formFieldIndex},Q.prototype.updateListBoxProperties=function(e,t,i){t.name=e.name||"List Box"+this.setFormFieldIndex(),t.value=e.value||"",t.style.fontFamily=e.fontFamily||"Helvetica";i=i?this.defaultZoomValue:this.pdfViewerBase.getZoomFactor();t.style.fontSize=e.fontSize?e.fontSize*i+"px":10*i+"px",e.font.isBold&&(t.style.fontWeight="bold"),e.font.isItalic&&(t.style.fontStyle="italic"),e.font.isStrikeout&&(t.style.textDecoration="line-through"),e.font.isUnderline&&(t.style.textDecoration="underline"),t.style.color=e.color||"black",t.style.backgroundColor=e.backgroundColor||"#daeaf7ff",t.style.borderColor=e.borderColor||"#303030",t.style.textAlign=e.alignment?e.alignment.toLowerCase():"left",t.style.visibility=e.visibility||"visible",t.style.pointerEvents=e.isReadonly?"none":"default",t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px",e.isReadonly&&(t.disabled=!0,t.style.cursor="default",t.style.backgroundColor="#daeaf7ff"!==e.backgroundColor?e.backgroundColor:"transparent"),e.isRequired&&(t.required=!0,t.style.border="1px solid red",t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px"),t.tabIndex=this.formFieldIndex},Q.prototype.updateSignatureFieldProperties=function(e,t,i){t.name=e.name||"Signature"+this.setFormFieldIndex(),t.value=e.value||"",t.style.fontFamily=e.fontFamily||"Helvetica",t.style.visibility=e.visibility||"visible";var n=this.pdfViewerBase.getZoomFactor(),n=(t.style.fontSize=e.fontSize?e.fontSize*n+"px":10*n+"px",e.font.isBold&&(t.style.fontWeight="bold"),e.font.isItalic&&(t.style.fontStyle="italic"),e.font.isStrikeout&&(t.style.textDecoration="line-through"),e.font.isUnderline&&(t.style.textDecoration="underline"),t.style.color=e.color||"black",t.style.borderWidth=G.isNullOrUndefined(e.thickness)?"1px":e.thickness+"px",e.backgroundColor||"#FFE48559"),n=an.setTransparencyToHex(n);e.isTransparent&&"#ffffffff"===e.borderColor?(t.style.backgroundColor="transparent",t.style.borderColor="transparent",t.firstElementChild&&(t.firstElementChild.style.borderColor="transparent")):(t.style.backgroundColor=i?"transparent":n,t.style.borderColor=e.borderColor||"#303030",t.firstElementChild&&(t.firstElementChild.style.borderColor=e.borderColor||"#303030")),t.style.pointerEvents=e.isReadonly?"none":"default",e.isReadonly&&(G.isNullOrUndefined(t.firstElementChild)||(t.firstElementChild.disabled=!0),t.style.cursor="default"),e.isRequired&&(t.required=!0,t.firstElementChild?(i=0<e.thickness?e.thickness:1,t.firstElementChild.style.border=i+"px solid red"):t.style.border="1px solid red",t.style.borderWidth=e.thickness?e.thickness+"px":"1px"),t.tabIndex=this.formFieldIndex},Q.prototype.createHtmlElement=function(e,t){e=G.createElement(e);return this.setAttributeHtml(e,t),e},Q.prototype.setAttributeHtml=function(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++)"style"!==i[parseInt(n.toString(),10)]?e.setAttribute(i[parseInt(n.toString(),10)],t[i[parseInt(n.toString(),10)]]):this.applyStyleAgainstCsp(e,t[i[parseInt(n.toString(),10)]])},Q.prototype.applyStyleAgainstCsp=function(e,t){for(var i=t.split(";"),n=0;n<i.length;n++){var o=i[parseInt(n.toString(),10)].split(":");2===o.length&&(e.style[o[0].trim()]=o[1].trim())}},Q.prototype.getFieldBounds=function(e,t){var i,n=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)];if(e={X:e.X||e.x,Y:e.Y||e.y,Width:e.Width||e.width,Height:e.Height||e.height},n)switch(n.rotation){case 0:i=e;break;case 1:i={X:e.Y-(e.Width/2-e.Height/2),Y:n.width-e.X-e.Height-(e.Width/2-e.Height/2),Width:e.Width,Height:e.Height};break;case 2:i={X:n.width-e.X-e.Width,Y:n.height-e.Y-e.Height,Width:e.Width,Height:e.Height};break;case 3:i={X:n.height-e.Y-e.Width+(e.Width/2-e.Height/2),Y:e.X+(e.Width/2-e.Height/2),Width:e.Height,Height:e.Width}}return i=i||e},Q.prototype.downloadFormDesigner=function(){var i=this,e=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner");if(e||this.pdfViewer.formDesignerModule&&0<this.pdfViewer.formFieldCollections.length){var g=G.isNullOrUndefined(e)?[]:JSON.parse(e);if(g&&g.length!==this.pdfViewer.formFieldCollections.length)for(var n=this.pdfViewer.formFieldCollections.filter(function(e){var t=e.id;return!i.pdfViewer.formFieldCollection.some(function(e){return e.id===t})}),o=this,t=0;t<n.length;t++)!function(e){var t=o.loadedFormFieldValue(n[parseInt(e.toString(),10)]);"RadioButton"===t.formFieldAnnotationType&&(e=g.findIndex(function(e){return e.FormField.name===t.name}))&&0<=e?g[parseInt(e.toString(),10)].FormField.radiobuttonItem.push(t):g.push({Key:t.id+"_content",FormField:t})}(t);for(var u=this,r=0;r<g.length;r++)!function(e){var t,i,n,o,r,a,s,l,A,d,p=g[parseInt(e.toString(),10)].FormField;if(G.isNullOrUndefined(p)||"SignatureField"!==p.formFieldAnnotationType&&"InitialField"!==p.formFieldAnnotationType||!G.isNullOrUndefined(p.signatureBound)||(t=u.pdfViewer.formFieldCollections.filter(function(e){return e.id===p.id.split("_")[0]}),G.isNullOrUndefined(p.signatureType)||""!==p.signatureType||(p.signatureType=t[0].signatureType),G.isNullOrUndefined(p.value)||""!==p.value||(p.value=t[0].value),"Image"===p.signatureType?(A=p.value.toString().split(",")[1],A=new j.PdfBitmap(A),i={x:p.lineBound.X,y:p.lineBound.Y,width:p.lineBound.Width,height:p.lineBound.Height},"Default"===u.pdfViewer.signatureFitMode&&(s=Math.min(i.height/u.pdfViewer.formFieldsModule.paddingDifferenceValue,i.width/u.pdfViewer.formFieldsModule.paddingDifferenceValue),n=i.height-s,s=i.width-s,o=A.width,r=A.height,l=i.width,d=i.height,s=Math.min(s/o,n/r),i.width=o*s,i.height=r*s,i.x=i.x+(l-i.width)/2,i.y=i.y+(d-i.height)/2),p.signatureBound=i,A=null):"Path"===p.signatureType?(i={x:p.lineBound.X,y:p.lineBound.Y,width:p.lineBound.Width,height:p.lineBound.Height},"Default"===u.pdfViewer.signatureFitMode&&(a=u.pdfViewerBase.getZoomFactor(),p.LineBounds={X:an.convertPixelToPoint(p.lineBound.X),Y:an.convertPixelToPoint(p.lineBound.Y),Width:an.convertPixelToPoint(p.lineBound.Width),Height:an.convertPixelToPoint(p.lineBound.Height)},n=u.pdfViewerBase.signatureModule.updateSignatureAspectRatio(t[0].value,!1,null,p),(i=u.pdfViewer.formFieldsModule.getSignBounds(e,p.rotation,p.pageNumber,a,p.lineBound.X,p.lineBound.Y,n.width,n.height,!0)).x=i.x+n.left,i.y=i.y+n.top),p.signatureBound=i,o=J.processPathData(t[0].value),r=J.splitArrayCollection(o),p.value=JSON.stringify(r)):"Type"===p.signatureType&&(a=u.pdfViewerBase.getZoomFactor(),s=u.pdfViewer.formFieldsModule.getSignBounds(e,p.rotation,p.pageNumber,a,p.lineBound.X,p.lineBound.Y,p.lineBound.Width,p.lineBound.Height),"Default"===u.pdfViewer.signatureFitMode&&(s=u.pdfViewer.formFieldsModule.getDefaultBoundsforSign(s)),p.signatureBound=s,p.signatureType="Text",l=s.height/u.pdfViewer.formFieldsModule.signatureFontSizeConstent,d=1,(A=u.pdfViewer.formFieldsModule.getTextWidth(p.value,l,p.fontFamily))>s.width&&(d=s.width/A),p.fontSize=u.pdfViewer.formFieldsModule.getFontSize(Math.floor(l*d)))),p.Multiline=p.isMultiline,p.isRequired)if("Textbox"===p.formFieldAnnotationType||"PasswordField"===p.formFieldAnnotationType||p.Multiline)null===p.value||""===p.value?(u.pdfViewerBase.validateForm=!0,u.pdfViewerBase.nonFillableFields[p.name]=p.value):delete u.pdfViewerBase.nonFillableFields[p.name];else if("RadioButton"===p.formFieldAnnotationType){if(p.radiobuttonItem){for(var h=!1,c=0;c<p.radiobuttonItem.length;c++)if(p.radiobuttonItem[parseInt(c.toString(),10)].isSelected){h=!0;break}h?delete u.pdfViewerBase.nonFillableFields[p.name]:(u.pdfViewerBase.validateForm=!0,u.pdfViewerBase.nonFillableFields[p.name]=h)}}else"Checkbox"===p.formFieldAnnotationType?!1===p.isChecked?(u.pdfViewerBase.validateForm=!0,u.pdfViewerBase.nonFillableFields[p.name]=p.isChecked):delete u.pdfViewerBase.nonFillableFields[p.name]:"DropdownList"===p.formFieldAnnotationType||"ListBox"===p.formFieldAnnotationType?G.isNullOrUndefined(p.selectedIndex)||0===p.selectedIndex.length?(u.pdfViewerBase.validateForm=!0,u.pdfViewerBase.nonFillableFields[p.name]=p.selectedIndex):delete u.pdfViewerBase.nonFillableFields[p.name]:"SignatureField"!==p.formFieldAnnotationType&&"InitialField"!==p.formFieldAnnotationType||(null===p.value||""===p.value?(u.pdfViewerBase.validateForm=!0,u.pdfViewerBase.nonFillableFields[p.name]=p.value):delete u.pdfViewerBase.nonFillableFields[p.name]);!p||"SignatureField"!==p.formFieldAnnotationType&&"InitialField"!==p.formFieldAnnotationType||"Text"!==p.signatureType||u.pdfViewerBase.signatureModule.checkDefaultFont(p.fontFamily)||u.getTextToImage(p)}(r);return JSON.stringify(g)}return null},Q.prototype.getTextToImage=function(e){var t=G.createElement("canvas"),i=(t.width=e.lineBound.Width/this.pdfViewerBase.getZoomFactor()||150,t.height=e.lineBound.Height/this.pdfViewerBase.getZoomFactor()||2*e.fontSize,t.getContext("2d")),n=t.width/2,o=t.height/2+e.fontSize/2-10;i.textAlign="center",i.font=e.fontSize+"px "+e.fontFamily,i.fillText(e.value,n,o),e.value=JSON.stringify(t.toDataURL("image/png")),e.signatureType="Image"},Q.prototype.loadedFormFieldValue=function(t){var e,i=this.getRgbCode(t.backgroundColor),n=t.bounds,i=t.backgroundColor?{r:i.r,g:i.g,b:i.b,a:i.a}:{r:218,g:234,b:247,a:100},o=this.hexToRgb(t.color),o=t.color?{r:o[0],g:o[1],b:o[2],a:100}:{r:0,g:0,b:0,a:100},r=this.hexToRgb(t.borderColor),r=t.borderColor?{r:r[0],g:r[1],b:r[2],a:100}:{r:48,g:48,b:48,a:100},a=[],s=[],l="";if(this.data=this.pdfViewerBase.getItemFromSessionStorage("_formfields"),!G.isNullOrUndefined(this.data)){if(this.formFieldsData=JSON.parse(this.data),"DropdownList"===t.type||"ListBox"===t.type){var A=this.formFieldsData.filter(function(e){return t.name===e.FieldName});if(0<A.length){e=A[0].TextList,G.isNullOrUndefined(A[0].selectedIndex)?s.push(A[0].SelectedList[0]):s.push(A[0].selectedIndex);for(var d=0;d<e.length;d++)a.push({itemName:e[parseInt(d.toString(),10)],itemValue:e[parseInt(d.toString(),10)]})}}if("InitialField"===t.type||"SignatureField"===t.type){this.formFieldsData=JSON.parse(this.data),"["===this.formFieldsData[0]&&(this.formFieldsData=JSON.parse(this.formFieldsData));var p=this.formFieldsData.filter(function(e){return t.name===e.FieldName});if(0<p.length)for(var h,c,g,u,f,m,w,B,C=this.formFieldsData.filter(function(e){return("ink"===e.Name||"SignatureField"===e.Name||"SignatureImage"===e.Name||"SignatureText"===e.Name)&&p[0].FieldName===e.FieldName.split("_")[0]}),d=0;d<C.length;d++)if(p[0].FieldName!==C[parseInt(d.toString(),10)].FieldName){B=C[parseInt(d.toString(),10)].Value,t.fontFamily=C[parseInt(d.toString(),10)].FontFamily,t.fontSize=C[parseInt(d.toString(),10)].FontSize,p.Bounds||(m=C[parseInt(d.toString(),10)].LineBounds,u=c=h=w=void 0,g=parseFloat(C[parseInt(d.toString(),10)].PageIndex),u=m.x||m.y||m.width||m.height?(w=m.x,h=m.y,c=m.width,m.height):(w=this.pdfViewer.formFieldsModule.ConvertPointToPixel(m.X),h=this.pdfViewer.formFieldsModule.ConvertPointToPixel(m.Y),c=this.pdfViewer.formFieldsModule.ConvertPointToPixel(m.Width),this.pdfViewer.formFieldsModule.ConvertPointToPixel(m.Height)),f=this.pdfViewer.formFieldsModule.updateSignatureBounds({left:w,top:h,width:c,height:u},g,!1)),"SignatureImage"===C[parseInt(d.toString(),10)].Name&&(l="Image"),"ink"===C[parseInt(d.toString(),10)].Name&&(l="Path"),"Path"===(l="SignatureText"===C[parseInt(d.toString(),10)].Name?"Text":l)&&(m=J.processPathData(C[parseInt(d.toString(),10)].Value),w=J.splitArrayCollection(m),B=JSON.stringify(w));break}}}A={lineBound:{X:n.x,Y:n.y,Width:n.width,Height:n.height},pageNumber:parseFloat(t.pageIndex)+1,name:t.name,tooltip:t.tooltip,value:B||t.value,radiobuttonItem:[],signatureType:t.signatureType||l,id:t.id,insertSpaces:t.insertSpaces||!1,isChecked:t.isChecked||!1,isSelected:t.isSelected||!1,fontFamily:t.fontFamily,fontStyle:t.fontStyle,backgroundColor:i,fontColor:o,borderColor:r,thickness:t.thickness,fontSize:t.fontSize,isMultiline:t.isMultiline||!1,rotation:0,isReadOnly:t.isReadOnly||!1,isRequired:t.isRequired||!1,textAlign:t.alignment,formFieldAnnotationType:t.type,zoomValue:1,option:a,maxLength:t.maxLength||0,visibility:t.visibility,font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1},customData:t.customData};return f&&(A.signatureBound=f),0<s.length&&(A.selectedIndex=s),"RadioButton"===t.type?(s={lineBound:{X:n.x,Y:n.y,Width:n.width,Height:n.height},pageNumber:parseFloat(t.pageIndex)+1,name:t.name,tooltip:t.tooltip,value:t.value,signatureType:t.signatureType||"",id:t.id,isChecked:t.isChecked||!1,isSelected:t.isSelected||!1,fontFamily:t.fontFamily,fontStyle:t.fontStyle,backgroundColor:i,fontColor:o,borderColor:r,thickness:t.thickness,fontSize:t.fontSize,rotation:0,isReadOnly:t.isReadOnly||!1,isRequired:t.isRequired||!1,textAlign:t.alignment,formFieldAnnotationType:t.type,zoomValue:1,maxLength:t.maxLength||0,visibility:t.visibility,font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1},customData:t.customData},A.radiobuttonItem.push(s)):A.radiobuttonItem=[],A},Q.prototype.createAnnotationLayer=function(e,t,i,n,o){var r=this.pdfViewerBase.getElement("_annotationCanvas_"+n);return r?(this.updateAnnotationCanvas(r,t,i,n),r):(r=G.createElement("canvas",{id:this.pdfViewer.element.id+"_annotationCanvas_"+n,className:"e-pv-annotation-canvas"}),this.updateAnnotationCanvas(r,t,i,n),e.appendChild(r),r)},Q.prototype.resizeAnnotations=function(e,t,i){var n=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",i);n&&(n.style.width=e+"px",n.style.height=t+"px",this.pdfViewerBase.applyElementStyles(n,i))},Q.prototype.getEventPageNumber=function(e){var t=e.target,i=(t.classList.contains("e-pv-hyperlink")?t=t.parentElement:(t.parentElement.classList.contains("foreign-object")||t.parentElement.classList.contains("e-pv-radiobtn-container"))&&(t=t.closest(".e-pv-text-layer")),t.id.split("_text_")[1]||t.id.split("_textLayer_")[1]||t.id.split("_annotationCanvas_")[1]||t.id.split("_pageDiv_")[1]);return isNaN(i)&&(e=this.pdfViewerBase.annotationEvent)&&(i=(t=e.target).id.split("_text_")[1]||t.id.split("_textLayer_")[1]||t.id.split("_annotationCanvas_")[1]||t.id.split("_pageDiv_")[1]),parseInt(i,10)},Q.prototype.getPropertyPanelHeaderContent=function(e){switch(e){case"Textbox":return this.pdfViewer.localeObj.getConstant("Textbox");case"PasswordField":return this.pdfViewer.localeObj.getConstant("Password");case"Checkbox":return this.pdfViewer.localeObj.getConstant("Check Box");case"RadioButton":return this.pdfViewer.localeObj.getConstant("Radio Button");case"DropdownList":return this.pdfViewer.localeObj.getConstant("Dropdown");case"ListBox":return this.pdfViewer.localeObj.getConstant("List Box");case"InitialField":return this.pdfViewer.localeObj.getConstant("Initial");case"SignatureField":return this.pdfViewer.localeObj.getConstant("Signature")}},Q.prototype.createPropertiesWindow=function(){var e=this,t=this.pdfViewer.element.id,t=G.createElement("div",{id:t+"_properties_window",className:"e-pv-properties-form-field-window"}),i=this.createAppearanceTab(),n=(this.pdfViewerBase.pageContainer.appendChild(t),n="DropdownList"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"ListBox"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?"430px":"505px",this.propertiesDialog=new k.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:'<div class="e-pv-form-field-property-header"> '+this.getPropertyPanelHeaderContent(this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType)+" "+this.pdfViewer.localeObj.getConstant("Properties")+"</div>",minHeight:n,target:this.pdfViewer.element,content:i,beforeOpen:function(){e.isPropertyDialogOpen=!0},allowDragging:!0,close:function(){e.destroyPropertiesWindow(),e.isPropertyDialogOpen=!1}}),G.Browser.isDevice&&this.pdfViewer.enableDesktopMode,this.propertiesDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.onCancelClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.onOkClicked.bind(this)}],this.pdfViewer.enableRtl&&(this.propertiesDialog.enableRtl=!0),G.createElement("div"));n.className="e-pv-properties-bottom-spliter",t.appendChild(n),this.propertiesDialog.appendTo(t)},Q.prototype.onOkClicked=function(e){var t=this.pdfViewer.selectedItems.formFields[0],i=M(t);if(this.isAddFormFieldProgrammatically=!1,t){switch(t.formFieldAnnotationType){case"Textbox":case"PasswordField":if(this.formFieldMultiline&&this.formFieldMultiline.checked&&"Textbox"===t.formFieldAnnotationType&&this.multilineCheckboxCheckedState?this.renderMultilineText(t):"Textbox"===t.formFieldAnnotationType&&this.multilineCheckboxCheckedState&&this.renderTextbox(t),"PasswordField"===t.formFieldAnnotationType&&this.updateTextboxFormDesignerProperties(t),"Textbox"===t.formFieldAnnotationType){var n=this.checkTextboxName(t);if(n&&0<n.length)for(var o=0;o<n.length;o++){var r=n[parseInt(o.toString(),10)];r.id===t.id&&(t.isMultiline?this.renderMultilineText(r):this.renderTextbox(r),document.getElementById(r.id+"_content_html_element")?this.updateTextboxFormDesignerProperties(r):this.updateFormFieldPropertiesInCollections(r))}}this.multilineCheckboxCheckedState=!1;var a=J.cornersPointsBeforeRotation(t.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(a,t.wrapper.children[0],t.formFieldAnnotationType,t);break;case"Checkbox":this.updateCheckboxFormDesignerProperties(t,!1);a=J.cornersPointsBeforeRotation(t.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(a,t.wrapper.children[0],t.formFieldAnnotationType,t);break;case"RadioButton":this.updateRadioButtonDesignerProperties(t,!1);a=J.cornersPointsBeforeRotation(t.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(a,t.wrapper.children[0],t.formFieldAnnotationType,t);break;case"SignatureField":case"InitialField":this.updateSignatureTextboxProperties(t);a=J.cornersPointsBeforeRotation(t.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(a,t.wrapper.children[0],t.formFieldAnnotationType,t);break;case"DropdownList":this.updateDropdownFormDesignerProperties(t);a=J.cornersPointsBeforeRotation(t.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(a,t.wrapper.children[0],t.formFieldAnnotationType,t);break;case"ListBox":this.updateListBoxFormDesignerProperties(t);a=J.cornersPointsBeforeRotation(t.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(a,t.wrapper.children[0],t.formFieldAnnotationType,t)}this.updateFormFieldCollections(t);var s=M(t);this.pdfViewer.annotation&&this.pdfViewer.annotation.addAction(this.pdfViewerBase.currentPageNumber,null,t,"FormDesigner Properties Change","",i,s)}this.propertiesDialog.hide()},Q.prototype.updateFormFieldPropertiesInCollections=function(t){for(var e=this.pdfViewer.formFieldCollections,i=0;i<e.length;i++){var n,o=e[parseInt(i.toString(),10)];o.id===t.id&&o.name===t.name&&(this.formFieldName&&this.formFieldName.value&&(o.name=this.formFieldName.value),this.formFieldValue&&t.value!==this.formFieldValue.value&&(o.value=this.formFieldValue.value),this.formFieldAlign&&t.alignment!==this.formFieldAlign&&(o.alignment=this.formFieldAlign),this.formFieldPrinting&&t.isPrint!==this.formFieldPrinting.checked&&(o.isPrint=this.formFieldPrinting.checked),this.formFieldTooltip&&t.tooltip!==this.formFieldTooltip.value&&(o.tooltip=this.formFieldTooltip.value),this.formFieldVisibility&&t.visibility!==this.formFieldVisibility.value&&(o.visibility=this.formFieldVisibility),this.formFieldFontFamily&&this.formFieldFontFamily.value&&(o.fontFamily=this.formFieldFontFamily.value),this.formFieldFontSize&&this.formFieldFontSize.value&&(o.fontSize=parseInt(this.formFieldFontSize.value.toString(),10)),this.fontColorValue&&t.color!==this.fontColorValue&&(o.color=this.fontColorValue),this.backgroundColorValue&&t.backgroundColor!==this.backgroundColorValue&&(o.backgroundColor=this.backgroundColorValue),this.borderColorValue&&t.borderColor!==this.borderColorValue&&(o.borderColor=this.borderColorValue),this.formFieldBorderWidth&&t.thickness!==parseInt(this.formFieldBorderWidth,10)&&(o.thickness=parseInt(this.formFieldBorderWidth,10)),this.formFieldReadOnly&&t.isReadonly!==this.formFieldReadOnly.checked&&(o.isReadOnly=this.formFieldReadOnly.checked),this.formFieldRequired&&t.isRequired!==this.formFieldRequired.checked&&(o.isRequired=this.formFieldRequired.checked),0!==i&&i<this.pdfViewer.formFieldCollection.length?o.fontStyle=this.pdfViewer.formFieldCollection[i-1].fontStyle:o.fontStyle=this.pdfViewer.formFieldCollection[i+1].fontStyle,n=this.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===t.id}),this.pdfViewer.formFieldCollections[parseInt(n.toString(),10)]=o)}},Q.prototype.checkTextboxName=function(e){for(var t=[],i=0;i<this.pdfViewer.formFieldCollection.length;i++){var n=this.pdfViewer.formFieldCollection[parseInt(i.toString(),10)];n.name===e.name&&"Textbox"===n.formFieldAnnotationType&&t.push(n)}return t},Q.prototype.renderMultilineText=function(e,t){t?this.reRenderMultilineTextbox(e,"e-pv-formfield-input"):this.addMultilineTextbox(e,"e-pv-formfield-input",!0)},Q.prototype.renderTextbox=function(e,t){t?this.reRenderMultilineTextbox(e,"e-pv-formfield-textarea"):this.addMultilineTextbox(e,"e-pv-formfield-textarea",!1)},Q.prototype.addMultilineTextbox=function(e,t,i){var n,o=e.wrapper.children[0];e.isMultiline=i,document.getElementById(o.id+"_html_element")&&(n=(i=document.getElementById(o.id+"_html_element").children[0]).children[0].id,document.getElementById(i.children[0].id).remove(),-1!==t.indexOf("e-pv-formfield-textarea")?(t=this.createTextboxElement(n),o.template=i.appendChild(t)):((t=this.createTextAreaElement(n)).value=e.value,o.template=i.appendChild(t)),n=this.getFormFiledIndex(e.id.split("_")[0]),this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.isMultiline=e.isMultiline,this.pdfViewer.nameTable[e.id.split("_")[0]].isMultiline=e.isMultiline)},Q.prototype.reRenderMultilineTextbox=function(e,t){var i,n,e=document.getElementById(e.id+"_content_html_element");e&&(i=(n=e.firstElementChild.firstElementChild).id,n.remove(),n=-1!==t.indexOf("e-pv-formfield-textarea")?this.createTextboxElement(i):this.createTextAreaElement(i),e.firstElementChild.appendChild(n))},Q.prototype.createTextAreaElement=function(e){var t=G.createElement("textarea");return t.id=e,t.className="e-pv-formfield-textarea",t.style.width="100%",t.style.height="100%",t.style.borderStyle="solid",t.addEventListener("click",this.inputElementClick.bind(this)),t.addEventListener("change",this.getTextboxValue.bind(this)),t},Q.prototype.createTextboxElement=function(e){var t=G.createElement("input");return t.id=e,t.type="text",t.className="e-pv-formfield-input",t.autocomplete="off",t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.borderStyle="solid",t.addEventListener("click",this.inputElementClick.bind(this)),t.addEventListener("change",this.getTextboxValue.bind(this)),t.addEventListener("focus",this.focusFormFields.bind(this)),t.addEventListener("blur",this.blurFormFields.bind(this)),t},Q.prototype.updateFormFieldCollections=function(e){var t={id:e.id.split("_")[0],name:e.name,value:e.value,type:e.type||e.formFieldAnnotationType,isReadOnly:e.isReadonly,fontFamily:e.fontFamily,isMultiline:e.isMultiline,fontSize:e.fontSize,fontStyle:e.fontStyle,color:e.color||this.getRgbToHex(e.fontColor),backgroundColor:"string"==typeof e.backgroundColor?e.backgroundColor:this.getRgbToHex(e.backgroundColor),alignment:e.alignment||e.textAlign,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,isSelected:e.isSelected,isChecked:e.isChecked,tooltip:e.tooltip,bounds:e.bounds||e.lineBound,thickness:e.thickness,borderColor:"string"==typeof e.borderColor?e.borderColor:this.getRgbToHex(e.borderColor),pageIndex:G.isNullOrUndefined(e.pageNumber)?e.pageIndex:e.pageNumber-1,insertSpaces:e.insertSpaces,isTransparent:e.isTransparent||!1,options:e.option||e.options,pageNumber:e.pageNumber,rotateAngle:G.isNullOrUndefined(e.rotateAngle)?e.rotation:e.rotateAngle,selectedIndex:e.selectedIndex,signatureIndicatorSettings:e.signatureIndicatorSettings,signatureType:e.signatureType,zIndex:e.zIndex,customData:e.customData};this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex(function(e){return e.id===t.id})]=t},Q.prototype.getRgbToHex=function(e){return"#"+this.hex(e.r)+this.hex(e.g)+this.hex(e.b)},Q.prototype.updateDropdownFormDesignerProperties=function(e,t){var i,n,o,r=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;(this.pdfViewer.designerMode||t)&&(o=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),i=JSON.parse(o),n=this.getFormFiledIndex(e.id.split("_")[0]),e.options=this.createDropdownDataSource(e),this.updateDropDownListDataSource(e,r),e.selectedIndex=[],-1<n&&(i[parseInt(n.toString(),10)].FormField.option=e.options,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.option=e.options,!G.isNullOrUndefined(e.options))&&0<e.options.length&&(i[parseInt(n.toString(),10)]&&i[parseInt(n.toString(),10)].FormField.value?(o=e.options.findIndex(function(e){return e.itemValue===i[parseInt(n.toString(),10)].FormField.value}),e.selectedIndex.push(o)):e.selectedIndex.push(0)),this.pdfViewer.nameTable[e.id.split("_")[0]].options=e.options,(this.formFieldName&&this.formFieldName.value||t)&&this.updateNamePropertyChange(e,r,t,n,i),(this.formFieldValue&&i[parseInt(n.toString(),10)]&&i[parseInt(n.toString(),10)].FormField.value||t)&&this.updateValuePropertyChange(e,r,t,n,i),(this.formFieldPrinting||t)&&this.updateIsPrintPropertyChange(e,t,n,i),(this.formFieldTooltip||t)&&this.updateTooltipPropertyChange(e,r,t,n,i),(this.formFieldVisibility||t)&&this.updateVisibilityPropertyChange(e,r,t,n,i),(this.formFieldFontFamily&&this.formFieldFontFamily.value||t)&&this.updateFontFamilyPropertyChange(e,r,t,n,i),(this.formFieldFontSize&&this.formFieldFontSize.value||t)&&this.updateFontSizePropertyChange(e,r,t,n,i),this.updateFontStylePropertyChange(e,r,t,n,i),(this.formFieldAlign||t)&&this.updateAlignmentPropertyChange(e,r,t,n,i),(this.fontColorValue||t)&&this.updateColorPropertyChange(e,r,t,n,i),(this.backgroundColorValue||t)&&this.updateBackgroundColorPropertyChange(e,r,t,n,i),(this.borderColorValue||t)&&this.updateBorderColorPropertyChange(e,r,t,n,i),G.isNullOrUndefined(this.formFieldBorderWidth)&&!t||this.updateBorderThicknessPropertyChange(e,r,t,n,i),(this.formFieldReadOnly||t)&&this.updateIsReadOnlyPropertyChange(e,r,t,n,i),this.formFieldRequired||t)&&this.updateIsRequiredPropertyChange(e,r,t,n,i),t&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")},Q.prototype.updateListBoxFormDesignerProperties=function(e,t){var i,n,o,r=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;(this.pdfViewer.designerMode||t)&&(i=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),n=JSON.parse(i),o=this.getFormFiledIndex(e.id.split("_")[0]),e.options=this.createDropdownDataSource(e),this.updateDropDownListDataSource(e,r),e.selectedIndex=[],-1<o&&(n[parseInt(o.toString(),10)].FormField.option=e.options,this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.option=e.options,!G.isNullOrUndefined(e.options))&&0<e.options.length&&(n[parseInt(o.toString(),10)]&&n[parseInt(o.toString(),10)].FormField.value?e.selectedIndex.push(e.options.findIndex(function(e){return e.itemValue===n[parseInt(o.toString(),10)].FormField.value})):e.selectedIndex.push(0)),this.pdfViewer.nameTable[e.id.split("_")[0]].options=e.options,(this.formFieldName&&this.formFieldName.value||t)&&this.updateNamePropertyChange(e,r,t,o,n),(this.formFieldPrinting||t)&&this.updateIsPrintPropertyChange(e,t,o,n),(this.formFieldTooltip||t)&&this.updateTooltipPropertyChange(e,r,t,o,n),(this.formFieldVisibility||t)&&this.updateVisibilityPropertyChange(e,r,t,o,n),(this.formFieldFontFamily&&this.formFieldFontFamily.value||t)&&this.updateFontFamilyPropertyChange(e,r,t,o,n),(this.formFieldFontSize&&this.formFieldFontSize.value||t)&&this.updateFontSizePropertyChange(e,r,t,o,n),this.updateFontStylePropertyChange(e,r,t,o,n),(this.formFieldAlign||t)&&this.updateAlignmentPropertyChange(e,r,t,o,n),(this.fontColorValue||t)&&this.updateColorPropertyChange(e,r,t,o,n),(this.backgroundColorValue||t)&&this.updateBackgroundColorPropertyChange(e,r,t,o,n),(this.borderColorValue||t)&&this.updateBorderColorPropertyChange(e,r,t,o,n),G.isNullOrUndefined(this.formFieldBorderWidth)&&!t||this.updateBorderThicknessPropertyChange(e,r,t,o,n),(this.formFieldReadOnly||t)&&this.updateIsReadOnlyPropertyChange(e,r,t,o,n),this.formFieldRequired||t)&&this.updateIsRequiredPropertyChange(e,r,t,o,n),t&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")},Q.prototype.updateDropDownListDataSource=function(e,t){for(;t.firstChild;)t.firstChild.remove();for(var i=0;i<e.options.length;i++){var n=document.createElement("option");n.className="e-pv-formfield-dropdown",n.value=e.options[parseInt(i.toString(),10)].itemValue,n.text=e.options[parseInt(i.toString(),10)].itemName,t.appendChild(n)}},Q.prototype.createDropdownDataSource=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_ul_list_item");if(this.formFieldListItemDataSource=[],t&&t.children&&0<t.children.length)for(var i=0;i<t.children.length;i++){var n=t.children[parseInt(i.toString(),10)];this.formFieldListItemDataSource.push({itemName:n.innerHTML,itemValue:n.innerHTML})}else e&&0<e.options.length&&(this.formFieldListItemDataSource=e.options);return this.formFieldListItemDataSource},Q.prototype.updateSignatureTextboxProperties=function(e,t){var i=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild,n=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),n=JSON.parse(n),o=this.getFormFiledIndex(e.id.split("_")[0]);(this.pdfViewer.designerMode||t)&&((this.formFieldName&&this.formFieldName.value||t)&&this.updateNamePropertyChange(e,i,t,o,n),(this.formFieldPrinting||t)&&this.updateIsPrintPropertyChange(e,t,o,n),(this.formFieldTooltip||t)&&this.updateTooltipPropertyChange(e,i,t,o,n),G.isNullOrUndefined(this.formFieldBorderWidth)&&!t||this.updateBorderThicknessPropertyChange(e,i,t,o,n),(this.formFieldVisibility||t)&&this.updateVisibilityPropertyChange(e,i,t,o,n),(this.formFieldReadOnly||t)&&this.updateIsReadOnlyPropertyChange(e,i,t,o,n),this.formFieldRequired||t)&&this.updateIsRequiredPropertyChange(e,i,t,o,n),t&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")},Q.prototype.updateCheckboxFormDesignerProperties=function(e,t,i){var n=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild.lastElementChild,o=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),o=JSON.parse(o),r=this.getFormFiledIndex(e.id.split("_")[0]);(this.formFieldName&&this.formFieldName.value||i)&&this.updateNamePropertyChange(e,n,i,r,o),(this.formFieldValue||i)&&this.updateValuePropertyChange(e,n,i,r,o,t),(this.backgroundColorValue||i)&&this.updateBackgroundColorPropertyChange(e,n,i,r,o),(this.borderColorValue||i)&&this.updateBorderColorPropertyChange(e,n,i,r,o),G.isNullOrUndefined(this.formFieldBorderWidth)&&!i||this.updateBorderThicknessPropertyChange(e,n,i,r,o),this.formFieldChecked&&(this.checkboxCheckedState=this.formFieldChecked.checked),(this.formFieldPrinting||i)&&this.updateIsPrintPropertyChange(e,i,r,o),(this.formFieldTooltip||i)&&this.updateTooltipPropertyChange(e,n,i,r,o),(this.formFieldVisibility||i)&&this.updateVisibilityPropertyChange(e,n,i,r,o),G.isNullOrUndefined(this.checkboxCheckedState)&&!i||this.updateIsCheckedPropertyChange(e,n,i,r,o),(this.pdfViewer.designerMode&&this.borderColorValue||i)&&this.updateBorderColorPropertyChange(e,n,i,r,o),(this.pdfViewer.designerMode&&this.formFieldBorderWidth||i)&&this.updateBorderThicknessPropertyChange(e,n,i,r,o),(this.formFieldReadOnly||i)&&this.updateIsReadOnlyPropertyChange(e,n,i,r,o),(this.formFieldRequired||i)&&this.updateIsRequiredPropertyChange(e,n,i,r,o),i&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")},Q.prototype.updateRadioButtonDesignerProperties=function(e,t,i){var n=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild.firstElementChild,o=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),o=JSON.parse(o),r=this.getFormFiledIndex(e.id.split("_")[0]);(this.formFieldName&&this.formFieldName.value||i)&&this.updateNamePropertyChange(e,n,i,r,o),(this.formFieldValue||i)&&this.updateValuePropertyChange(e,n,i,r,o,t),this.formFieldChecked&&(this.checkboxCheckedState=this.formFieldChecked.checked),(this.formFieldPrinting||i)&&this.updateIsPrintPropertyChange(e,i,r,o),(this.formFieldTooltip||i)&&this.updateTooltipPropertyChange(e,n,i,r,o),(this.formFieldVisibility||i)&&this.updateVisibilityPropertyChange(e,n,i,r,o),(this.pdfViewer.designerMode&&!G.isNullOrUndefined(this.formFieldBorderWidth)||i)&&this.updateBorderThicknessPropertyChange(e,n,i,r,o),(this.backgroundColorValue||i)&&this.updateBackgroundColorPropertyChange(e,n,i,r,o),(this.borderColorValue||i)&&this.updateBorderColorPropertyChange(e,n,i,r,o),G.isNullOrUndefined(this.checkboxCheckedState)&&!i||this.updateIsSelectedPropertyChange(e,n,i,r,o),(this.formFieldReadOnly||i)&&this.updateIsReadOnlyPropertyChange(e,n,i,r,o),(this.formFieldRequired||i)&&this.updateIsRequiredPropertyChange(e,n,i,r,o),i&&(t=this.pdfViewer.nameTable[e.id.split("_")[0]],n=J.cornersPointsBeforeRotation(t.wrapper.children[0]).topLeft,this.updateFormDesignerFieldInSessionStorage(n,t.wrapper.children[0],t.formFieldAnnotationType,t))},Q.prototype.updateTextboxFormDesignerProperties=function(e,t){var i,n,o,r=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild,a=!1,s=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),s=JSON.parse(s),l=this.getFormFiledIndex(e.id.split("_")[0]);(this.pdfViewer.designerMode||t||this.isAddFormFieldProgrammatically)&&((this.formFieldName&&this.formFieldName.value||t)&&this.updateNamePropertyChange(e,r,t,l,s),(this.isAddFormFieldProgrammatically?e.value:this.formFieldValue||t)&&this.updateValuePropertyChange(e,r,t,l,s),(this.formFieldPrinting||t)&&this.updateIsPrintPropertyChange(e,t,l,s),(this.formFieldTooltip||t)&&this.updateTooltipPropertyChange(e,r,t,l,s),(this.formFieldVisibility||t)&&this.updateVisibilityPropertyChange(e,r,t,l,s),((this.isAddFormFieldProgrammatically?e.fontFamily:this.formFieldFontFamily&&this.formFieldFontFamily.value)||t)&&this.updateFontFamilyPropertyChange(e,r,t,l,s),((this.isAddFormFieldProgrammatically?e.fontSize:this.formFieldFontSize&&this.formFieldFontSize.value)||t)&&this.updateFontSizePropertyChange(e,r,t,l,s),this.updateFontStylePropertyChange(e,r,t,l,s),(this.formFieldAlign||t||this.multilineCheckboxCheckedState)&&this.updateAlignmentPropertyChange(e,r,t,l,s),(this.maxLengthItem||t)&&(this.maxLengthItem&&e.maxLength!==this.maxLengthItem.value&&(a=!0,i=e.maxLength,n=this.maxLengthItem.value),G.isNullOrUndefined(this.maxLengthItem)||(o=0===this.maxLengthItem.value?524288:this.maxLengthItem.value,t&&0!==e.maxLength?r.maxLength=e.maxLength:(r.maxLength=o,e.maxLength=this.maxLengthItem.value)),-1<l&&(s[parseInt(l.toString(),10)].FormField.maxLength=e.maxLength,this.pdfViewerBase.formFieldCollection[parseInt(l.toString(),10)].FormField.maxLength=e.maxLength),this.pdfViewer.nameTable[e.id.split("_")[0]].maxLength=e.maxLength,a)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,!1,!1,!1,!1,i,n),(this.fontColorValue||t||this.multilineCheckboxCheckedState)&&this.updateColorPropertyChange(e,r,t,l,s),(this.backgroundColorValue||t||this.multilineCheckboxCheckedState)&&this.updateBackgroundColorPropertyChange(e,r,t,l,s),(this.borderColorValue||t||this.multilineCheckboxCheckedState)&&this.updateBorderColorPropertyChange(e,r,t,l,s),G.isNullOrUndefined(this.formFieldBorderWidth)&&!t||this.updateBorderThicknessPropertyChange(e,r,t,l,s),(this.formFieldReadOnly||t)&&this.updateIsReadOnlyPropertyChange(e,r,t,l,s),this.isAddFormFieldProgrammatically||this.formFieldRequired||t)&&this.updateIsRequiredPropertyChange(e,r,t,l,s),this.pdfViewer.designerMode||this.formFieldVisibility&&this.formFieldVisibility.value&&(e.visibility=this.formFieldVisibility.value,document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild.style.visibility=e.visibility),this.updateFormFieldCollections(e),t&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")},Q.prototype.updateIsCheckedPropertyChange=function(e,t,i,n,o){var r,a,s;(this.pdfViewer.designerMode||i)&&(r=!1,s=a=void 0,e.isChecked!==this.checkboxCheckedState&&(r=!0,a=e.isChecked,s=this.checkboxCheckedState),i||(e.isChecked=this.checkboxCheckedState),-1<n&&(o[parseInt(n.toString(),10)].FormField.isChecked=e.isChecked,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.isChecked=e.isChecked),this.pdfViewer.nameTable[e.id.split("_")[0]].isChecked=e.isChecked,r)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,r,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s),this.pdfViewer.designerMode&&!i||(o=document.getElementById(e.id+"_input").firstElementChild,e.isChecked?(o.classList.contains("e-pv-cb-unchecked")&&o.classList.remove("e-pv-cb-unchecked"),o.classList.add("e-pv-cb-checked")):(o.classList.contains("e-pv-cb-checked")&&o.classList.remove("e-pv-cb-checked"),o.classList.add("e-pv-cb-unchecked")))},Q.prototype.updateIsSelectedPropertyChange=function(e,t,i,n,o){if(this.pdfViewer.designerMode||i){var r=!1,a=void 0,s=void 0;if(e.isSelected!==this.checkboxCheckedState&&(r=!0,a=e.isSelected,s=this.checkboxCheckedState),i||(e.isSelected=this.checkboxCheckedState),-1<n){o[parseInt(n.toString(),10)].FormField.isSelected=e.isSelected;for(var l=0;l<o[parseInt(n.toString(),10)].FormField.radiobuttonItem.length;l++)o[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].id.split("_")[0]===e.id.split("_")[0]&&(o[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].isSelected=e.isSelected,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].isSelected=e.isSelected)}this.pdfViewer.nameTable[e.id.split("_")[0]].isSelected=e.isSelected,r&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,r,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)}if(!this.pdfViewer.designerMode||i){if(t.checked=e.isSelected,-1<n){o[parseInt(n.toString(),10)].FormField.isSelected=e.isSelected,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.isSelected=e.isSelected;for(l=0;l<o[parseInt(n.toString(),10)].FormField.radiobuttonItem.length;l++)o[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].id.split("_")[0]===e.id.split("_")[0]&&(o[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].isSelected=e.isSelected,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].isSelected=e.isSelected)}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.pdfViewer.nameTable[e.id.split("_")[0]].isSelected=e.isSelected}},Q.prototype.updateValuePropertyChange=function(e,t,i,n,o,r){var a,s,l=!1;"DropdownList"!==e.formFieldAnnotationType&&this.formFieldValue&&e.value!==this.formFieldValue.value?(l=!0,a=e.value,s=this.formFieldValue.value):"DropdownList"===e.formFieldAnnotationType&&this.formFieldValue&&e.value!==o[parseInt(n.toString(),10)].FormField.value&&(l=!0,a=e.value,s=o[parseInt(n.toString(),10)].FormField.value),i?t.value=e.value:r?l=!1:this.isAddFormFieldProgrammatically?("DropdownList"===e.formFieldAnnotationType&&(e.value=o[parseInt(n.toString(),10)].FormField.value),"DropdownList"===e.formFieldAnnotationType?t.value=o[parseInt(n.toString(),10)].FormField.value:t.value=e.value):("DropdownList"===e.formFieldAnnotationType?e.value=o[parseInt(n.toString(),10)].FormField.value:e.value=(this.formFieldValue||e).value,"DropdownList"===e.formFieldAnnotationType?t.value=o[parseInt(n.toString(),10)].FormField.value:t.value=(this.formFieldValue||e).value),-1<n&&(o[parseInt(n.toString(),10)].FormField.value=e.value,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.value=e.value),this.pdfViewer.nameTable[e.id.split("_")[0]].value=e.value,l&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,l,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)},Q.prototype.updateFontStylePropertyChange=function(e,t,i,n,o){var t=this.updateFontStyle(t,e,i,n,o),i=t[0],r=t[1],t=t[2];-1<n&&(o[parseInt(n.toString(),10)].FormField.fontStyle=e.fontStyle,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.fontStyle=e.fontStyle),this.pdfViewer.nameTable[e.id.split("_")[0]].fontStyle=e.fontStyle,i&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,i,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,r,t)},Q.prototype.updateBorderThicknessPropertyChange=function(e,t,i,n,o){var r,a,s=!1,l=parseInt(this.formFieldBorderWidth,10);e.thickness!==l&&(s=!0,r=e.thickness,a=l||e.thickness),i?t.style.borderWidth=e.thickness.toString():(t.style.borderWidth=this.formFieldBorderWidth?this.formFieldBorderWidth+"px":e.thickness+"px",e.thickness=l),-1<n&&(o[parseInt(n.toString(),10)].FormField.thickness=e.thickness,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.thickness=e.thickness),this.pdfViewer.nameTable[e.id.split("_")[0]].thickness=e.thickness,s&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,s,!1,!1,!1,!1,!1,!1,!1,!1,r,a)},Q.prototype.updateBorderColorPropertyChange=function(e,t,i,n,o){var r,a,s=!1;e.borderColor!==this.borderColorValue&&(s=!0,r=e.borderColor,a=this.borderColorValue||e.borderColor),this.pdfViewer.enableHtmlSanitizer&&this.borderColorValue&&(this.borderColorValue=G.SanitizeHtmlHelper.sanitize(this.borderColorValue)),i?t.style.borderColor=e.borderColor:(t.style.borderColor=this.borderColorValue||e.borderColor,e.borderColor=this.borderColorValue||e.borderColor),"RadioButton"===e.formFieldAnnotationType&&(t.parentElement.style.boxShadow=this.borderColorValue+" 0px 0px 0px "+e.thickness+"px"),-1<n&&(o[parseInt(n.toString(),10)].FormField.borderColor=this.getRgbCode(e.borderColor),this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.borderColor=this.getRgbCode(e.borderColor)),this.pdfViewer.nameTable[e.id.split("_")[0]].borderColor=e.borderColor,s&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,s,!1,!1,!1,!1,!1,!1,!1,!1,!1,r,a)},Q.prototype.updateBackgroundColorPropertyChange=function(e,t,i,n,o){var r,a,s=!1;e.backgroundColor!==this.backgroundColorValue&&(s=!0,r=e.backgroundColor,a=this.backgroundColorValue||e.backgroundColor),this.pdfViewer.enableHtmlSanitizer&&this.backgroundColorValue&&(this.backgroundColorValue=G.SanitizeHtmlHelper.sanitize(this.backgroundColorValue)),i?"RadioButton"===e.formFieldAnnotationType?t.parentElement.style.background=e.backgroundColor:t.style.background=e.backgroundColor:("RadioButton"===e.formFieldAnnotationType?t.parentElement.style.background=this.backgroundColorValue||e.backgroundColor:t.style.background=this.backgroundColorValue||e.backgroundColor,e.backgroundColor=this.backgroundColorValue||e.backgroundColor),-1<n&&(o[parseInt(n.toString(),10)].FormField.backgroundColor=this.getRgbCode(e.backgroundColor),this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.backgroundColor=this.getRgbCode(e.backgroundColor)),this.pdfViewer.nameTable[e.id.split("_")[0]].backgroundColor=e.backgroundColor,s&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,s,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,r,a)},Q.prototype.updateColorPropertyChange=function(e,t,i,n,o){var r,a,s=!1;e.color!==this.fontColorValue&&(s=!0,r=e.color,a=this.fontColorValue||e.color),this.pdfViewer.enableHtmlSanitizer&&this.fontColorValue&&(this.fontColorValue=G.SanitizeHtmlHelper.sanitize(this.fontColorValue)),i?t.style.color=e.color:(t.style.color=this.fontColorValue||e.color,e.color=this.fontColorValue||e.color),-1<n&&(o[parseInt(n.toString(),10)].FormField.color=this.getRgbCode(e.color),this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.color=this.getRgbCode(e.color)),this.pdfViewer.nameTable[e.id.split("_")[0]].color=e.color,s&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,s,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,r,a)},Q.prototype.updateAlignmentPropertyChange=function(e,t,i,n,o){var r,a,s=!1;if(e.alignment!==this.formFieldAlign&&(s=!0,r=e.alignment,a=this.formFieldAlign||e.alignment),i){if(t.style.textAlign=e.alignment,("ListBox"===e.formFieldAnnotationType||"DropdownList"===e.formFieldAnnotationType)&&0<t.children.length){t.style.textAlignLast=e.alignment;for(var l=0;l<t.children.length;l++)(A=t.children[parseInt(l.toString(),10)]).style.textAlignLast=e.alignment,A.style.textAlign=e.alignment}}else if(t.style.textAlign=this.formFieldAlign||e.alignment,e.alignment=this.formFieldAlign||e.alignment,("ListBox"===e.formFieldAnnotationType||"DropdownList"===e.formFieldAnnotationType)&&0<t.children.length){t.style.textAlignLast=this.formFieldAlign||e.alignment;for(var A,l=0;l<t.children.length;l++)(A=t.children[parseInt(l.toString(),10)]).style.textAlignLast=this.formFieldAlign||e.alignment,A.style.textAlign=this.formFieldAlign||e.alignment}-1<n&&(o[parseInt(n.toString(),10)].FormField.alignment=e.alignment,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.alignment=e.alignment),this.pdfViewer.nameTable[e.id.split("_")[0]].alignment=e.alignment,s&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,s,!1,!1,!1,!1,!1,!1,!1,r,a)},Q.prototype.updateFontSizePropertyChange=function(e,t,i,n,o){var r,a,s=!1,l=this.pdfViewerBase.getZoomFactor(),A=this.formFieldFontSize?parseInt(this.formFieldFontSize.value.toString(),10):e&&e.fontSize?parseInt(e.fontSize.toString(),10):10;parseInt(e.fontSize,10)!==A&&(s=!0,r=e.fontSize,a=A),i?t.style.fontSize=e.fontSize*l+"px".toString():(e.fontSize=A,t.style.fontSize=this.formFieldFontSize?parseInt(this.formFieldFontSize.value.toString(),10)+"px":parseInt(e.fontSize.toString(),10)+"px"),-1<n&&(o[parseInt(n.toString(),10)].FormField.fontSize=e.fontSize,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.fontSize=e.fontSize),this.pdfViewer.nameTable[e.id.split("_")[0]].fontSize=e.fontSize,s&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,s,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,r,a)},Q.prototype.updateFontFamilyPropertyChange=function(e,t,i,n,o){var r,a,s=!1,l=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(this.formFieldFontFamily?this.formFieldFontFamily.value.toString():""):this.formFieldFontFamily?this.formFieldFontFamily.value.toString():"";e.fontFamily!==l&&(s=!0,r=e.fontFamily,a=l),i?t.style.fontFamily=e.fontFamily:(""===l?l=e.fontFamily:e.fontFamily=l,t.style.fontFamily=l),-1<n&&(o[parseInt(n.toString(),10)].FormField.fontFamily=e.fontFamily,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.fontFamily=e.fontFamily),this.pdfViewer.nameTable[e.id.split("_")[0]].fontFamily=e.fontFamily,s&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,s,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,r,a)},Q.prototype.updateVisibilityPropertyChange=function(e,t,i,n,o){var r,a,s=!1;this.formFieldVisibility&&e.visibility!==this.formFieldVisibility.value&&(s=!0,r=e.visibility,a=this.formFieldVisibility.value),i||(e.visibility=this.formFieldVisibility.value),t.style.visibility=e.visibility,"RadioButton"===e.formFieldAnnotationType&&(t.parentElement.style.visibility=e.visibility),"SignatureField"!==e.formFieldAnnotationType&&"InitialField"!==e.formFieldAnnotationType||((i=document.getElementById(e.id+"_content_html_element").firstElementChild.children[1]).style.visibility=e.visibility,i.parentElement.style.visibility=e.visibility,t=this.pdfViewer.nameTable[e.id.split("_")[0]+"_content"],"hidden"===e.visibility?t&&this.hideSignatureValue(e,t,n,o):t&&this.showSignatureValue(e,r,t,n,o)),-1<n&&(o[parseInt(n.toString(),10)].FormField.visibility=e.visibility,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.visibility=e.visibility),this.pdfViewer.nameTable[e.id.split("_")[0]].visibility=e.visibility,s&&(this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,s,!1,!1,!1,!1,!1,r,a))},Q.prototype.hideSignatureValue=function(e,t,i,n){e.wrapper.children.splice(e.wrapper.children.indexOf(t.wrapper.children[0]),1),this.pdfViewer.remove(t),this.pdfViewer.renderDrawing()},Q.prototype.showSignatureValue=function(e,t,i,n,o){var r;"SignatureText"===i.shapeAnnotationType?(e.value=i.data,e.signatureType="Text",o[parseInt(n.toString(),10)].FormField.signatureType="Text",o[parseInt(n.toString(),10)].FormField.value=i.data,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.value=i.data,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.signatureType="Text"):"SignatureImage"===i.shapeAnnotationType?(e.value=i.data,e.signatureType="Image",o[parseInt(n.toString(),10)].FormField.signatureType="Image",o[parseInt(n.toString(),10)].FormField.value=i.data,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.value=i.data,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.signatureType="Image"):(o[parseInt(n.toString(),10)].FormField.signatureType="Path",e.signatureType="Path",this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.signatureType="Path",r=J.processPathData(i.data),r=J.splitArrayCollection(r),e.value=JSON.stringify(r),o[parseInt(n.toString(),10)].FormField.value=JSON.stringify(r),this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.value=JSON.stringify(r)),e.signatureBound=i.signatureBound,"hidden"===t&&(this.pdfViewer.add(i),e.wrapper.children.push(i.wrapper),o=this.pdfViewerBase.getAnnotationCanvas("_annotationCanvas_",e.pageIndex),this.pdfViewer.renderDrawing(o,e.pageIndex)),this.pdfViewer.renderDrawing()},Q.prototype.updateTooltipPropertyChange=function(e,t,i,n,o){var r,a,s=!1;this.formFieldTooltip&&e.tooltip!==this.formFieldTooltip.value&&(s=!0,r=e.tooltip,a=this.formFieldTooltip.value),this.pdfViewer.enableHtmlSanitizer&&!G.isNullOrUndefined(this.formFieldTooltip)&&this.formFieldTooltip.value&&(this.formFieldTooltip.value=G.SanitizeHtmlHelper.sanitize(this.formFieldTooltip.value)),i?(this.formFieldTooltip=new T.TextBox,this.formFieldTooltip.value=e.tooltip):e.tooltip=this.formFieldTooltip?this.formFieldTooltip.value:e.tooltip,-1<n&&(o[parseInt(n.toString(),10)].FormField.tooltip=e.tooltip,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.tooltip=e.tooltip),this.pdfViewer.nameTable[e.id.split("_")[0]].tooltip=this.formFieldTooltip.value,G.isNullOrUndefined(this.formFieldTooltip.value)||""===this.formFieldTooltip.value||this.setToolTip(this.formFieldTooltip.value,"RadioButton"===e.formFieldAnnotationType?t.parentElement:t),s&&(this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,s,!1,r,a))},Q.prototype.updateNamePropertyChange=function(e,t,i,n,o){var r,a=document.getElementById(e.id+"_designer_name");this.pdfViewerBase.getZoomFactor();if(this.pdfViewer.enableHtmlSanitizer&&!G.isNullOrUndefined(this.formFieldName)&&this.formFieldName.value&&(this.formFieldName.value=G.SanitizeHtmlHelper.sanitize(this.formFieldName.value)),a.style.fontSize=this.defaultFontSize+"px",i||(e.name=this.formFieldName?this.formFieldName.value:e.name),a.innerHTML=e.name,-1<n&&(a=i=void 0,i=1<(r=e.options.length)?e.options.slice(0,r-1):"",a=e.options[r-1],("DropdownList"===o[parseInt(n.toString(),10)].FormField.formFieldAnnotationType||"ListBox"===o[parseInt(n.toString(),10)].FormField.formFieldAnnotationType)&&o[parseInt(n.toString(),10)].FormField.name===e.name&&0<o[parseInt(n.toString(),10)].FormField.option.length&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,i,a,!0,o[parseInt(n.toString(),10)].FormField.name),this.formFieldName&&e.name!==o[parseInt(n.toString(),10)].FormField.name&&(i=o[parseInt(n.toString(),10)].FormField.name,a=e.name),o[parseInt(n.toString(),10)].FormField.name!==e.name&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,i,a,!0,o[parseInt(n.toString(),10)].FormField.name),o[parseInt(n.toString(),10)].FormField.name=e.name,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.name=e.name),t.name=e.name,this.pdfViewer.nameTable[e.id.split("_")[0]].name=e.name,"DropdownList"===e.formFieldAnnotationType||"ListBox"===e.formFieldAnnotationType)for(var s=0;s<this.pdfViewer.formFieldCollection.length;s++){var l=this.pdfViewer.formFieldCollection[parseInt(s.toString(),10)];if(("DropdownList"===l.formFieldAnnotationType||"ListBox"===l.formFieldAnnotationType)&&l.name===e.name&&l.id!==e.id){e.options=l.options,this.updateDropDownListDataSource(e,t);break}}},Q.prototype.setReadOnlyProperty=function(e,t){this.pdfViewer.nameTable[e.id.split("_")[0]].isReadonly=e.isReadonly,this.setReadOnlyToElement(e,t,e.isReadonly),this.setReadOnlyToFormField(e,e.isReadonly)},Q.prototype.updateIsReadOnlyPropertyChange=function(e,t,i,n,o){var r,a,s=!1;if(this.formFieldReadOnly&&e.isReadonly!==this.formFieldReadOnly.checked&&(s=!0,r=e.isReadonly,a=this.formFieldReadOnly.checked),i?(this.formFieldReadOnly=new L.CheckBox,this.formFieldReadOnly.checked=e.isReadonly):e.isReadonly=this.formFieldReadOnly.checked,-1<n&&(o[parseInt(n.toString(),10)].FormField.isReadonly=e.isReadonly,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.isReadonly=e.isReadonly,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem)){for(var l=0;l<this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem.length;l++){this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].isReadonly=e.isReadonly,this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].id.split("_")[0]].isReadonly=e.isReadonly;var A=document.getElementById(this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].id.split("_")[0]),d=this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)];this.setReadOnlyProperty(d,A),s&&(this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].backgroundColor="string"==typeof d.backgroundColor?this.getRgbCode(d.backgroundColor):d.backgroundColor)}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}this.setReadOnlyProperty(e,t),s&&(this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,s,!1,!1,!1,!1,!1,!1,r,a))},Q.prototype.updateIsRequiredPropertyChange=function(e,t,i,n,o){var r,a,s=!1;if(this.formFieldRequired&&e.isRequired!==this.formFieldRequired.checked&&(s=!0,r=e.isRequired,a=this.formFieldRequired.checked),i?(this.formFieldRequired=new L.CheckBox,this.formFieldRequired.checked=e.isRequired):e.isRequired=this.formFieldRequired?this.formFieldRequired.checked:e.isRequired,-1<n&&(o[parseInt(n.toString(),10)].FormField.isRequired=e.isRequired,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.isRequired=e.isRequired,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem)){for(var l=0;l<this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem.length;l++)this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].isRequired=e.isRequired,this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].id.split("_")[0]].isRequired=e.isRequired;this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}this.pdfViewer.nameTable[e.id.split("_")[0]].isRequired=e.isRequired,this.setRequiredToElement(e,t,e.isRequired),this.setRequiredToFormField(e,e.isRequired),s&&(this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,s,!1,!1,!1,r,a))},Q.prototype.updateIsPrintPropertyChange=function(e,t,i,n){var o,r,a=!1;this.formFieldPrinting&&e.isPrint!==this.formFieldPrinting.checked&&(a=!0,o=e.isPrint,r=this.formFieldPrinting.checked),t?(this.formFieldPrinting=new L.CheckBox,this.formFieldPrinting.checked=e.isPrint):e.isPrint=this.formFieldPrinting.checked,-1<i&&(n[parseInt(i.toString(),10)].FormField.isPrint=e.isPrint,this.pdfViewerBase.formFieldCollection[parseInt(i.toString(),10)].FormField.isPrint=e.isPrint),this.pdfViewer.nameTable[e.id.split("_")[0]].isPrint=e.isPrint,a&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,!1,!1,o,r)},Q.prototype.getFormFiledIndex=function(t){if(null!=this.pdfViewerBase.formFieldCollection&&0!==this.pdfViewerBase.formFieldCollection.length){var e=this.pdfViewerBase.formFieldCollection.findIndex(function(e){return e.Key.split("_")[0]===t});if(-1<e)return e;for(var i=0;i<this.pdfViewerBase.formFieldCollection.length;i++)if("RadioButton"===this.pdfViewerBase.formFieldCollection[parseInt(i.toString(),10)].FormField.formFieldAnnotationType&&this.pdfViewerBase.formFieldCollection[parseInt(i.toString(),10)].FormField.radiobuttonItem)for(var n=0;n<this.pdfViewerBase.formFieldCollection[parseInt(i.toString(),10)].FormField.radiobuttonItem.length;n++)if(this.pdfViewerBase.formFieldCollection[parseInt(i.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].id.split("_")[0]===t)return i}return-1},Q.prototype.updateFontStyle=function(e,t,i,n,o){var r=!1,a="",s="";return this.formFieldBold?("Bold"!==t.fontStyle&&(r=!0,a+=t.font.isBold?"Bold, ":""),i?t.font.isBold?this.setFontStyleValues(t,"Bold",this.formFieldBold,e,!0,"bold",n,o):this.setFontStyleValues(t,"None",this.formFieldBold,e,!1,"",n,o):"bold"===this.formFieldBold?this.setFontStyleValues(t,"Bold",this.formFieldBold,e,!0,"bold",n,o):this.setFontStyleValues(t,"None","bold",e,!1,"",n,o)):t.font.isBold&&this.setFontStyleValues(t,"None","bold",e,!1,"",n,o),s+=t.font.isBold?"Bold, ":"",this.formFieldItalic?("Italic"!==t.fontStyle&&(r=!0,a+=t.font.isItalic?"Italic, ":""),i?t.font.isItalic?this.setFontStyleValues(t,"Italic",this.formFieldItalic,e,!0,"italic",n,o):this.setFontStyleValues(t,"None",this.formFieldItalic,e,!1,"",n,o):"italic"===this.formFieldItalic?this.setFontStyleValues(t,"Italic",this.formFieldItalic,e,!0,"italic",n,o):this.setFontStyleValues(t,"None","italic",e,!1,"",n,o)):t.font.isItalic&&this.setFontStyleValues(t,"None","italic",e,!1,"",n,o),s+=t.font.isItalic?"Italic, ":"",this.formFieldUnderline?("Underline"!==t.fontStyle&&(r=!0,a+=t.font.isUnderline?"Underline, ":""),i?t.font.isUnderline?this.setFontStyleValues(t,"Underline",this.formFieldUnderline,e,!0,"underline",n,o):this.setFontStyleValues(t,"None",this.formFieldUnderline,e,!1,"",n,o):"underline"===this.formFieldUnderline?this.setFontStyleValues(t,"Underline",this.formFieldUnderline,e,!0,"underline",n,o):this.setFontStyleValues(t,"None","underline",e,!1,"",n,o)):t.font.isUnderline&&this.setFontStyleValues(t,"None","underline",e,!1,"",n,o),s+=t.font.isUnderline?"Underline, ":"",this.formFieldStrikeOut?("Strikethrough"!==t.fontStyle&&(r=!0,a+=t.font.isStrikeout?"Strikethrough, ":""),i?t.font.isStrikeout?this.setFontStyleValues(t,"Strikethrough",this.formFieldStrikeOut,e,!0,"line-through",n,o):this.setFontStyleValues(t,"None",this.formFieldStrikeOut,e,!1,"",n,o):"line-through"===this.formFieldStrikeOut?this.setFontStyleValues(t,"Strikethrough",this.formFieldStrikeOut,e,!0,"line-through",n,o):this.setFontStyleValues(t,"None","line-through",e,!1,"",n,o)):t.font.isStrikeout&&this.setFontStyleValues(t,"None","line-through",e,!1,"",n,o),[r,a,s+=t.font.isStrikeout?"Strikethrough, ":""]},Q.prototype.setFontStyleValues=function(e,t,i,n,o,r,a,s){"bold"===i?(e.fontStyle=t,e.font.isBold=o,n.style.fontWeight=r,this.setDropdownFontStyleValue(n,i,r),-1<a&&(s[parseInt(a.toString(),10)].FormField.font.isBold=o,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.font.isBold=o),this.pdfViewer.nameTable[e.id.split("_")[0]].font.isBold=o):"italic"===i?(n.style.fontStyle=r,this.setDropdownFontStyleValue(n,i,r),e.fontStyle=t,e.font.isItalic=o,-1<a&&(s[parseInt(a.toString(),10)].FormField.font.isItalic=o,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.font.isItalic=o),this.pdfViewer.nameTable[e.id.split("_")[0]].font.isItalic=o):"underline"===i?(this.setDropdownFontStyleValue(n,i,r),n.style.textDecoration=r,e.fontStyle=t,e.font.isUnderline=o,-1<a&&(s[parseInt(a.toString(),10)].FormField.font.isUnderline=o,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.font.isUnderline=o),this.pdfViewer.nameTable[e.id.split("_")[0]].font.isUnderline=o):"line-through"===i&&(this.setDropdownFontStyleValue(n,i,r),n.style.textDecoration=r,e.fontStyle=t,e.font.isStrikeout=o,-1<a&&(s[parseInt(a.toString(),10)].FormField.font.isStrikeout=o,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.font.isStrikeout=o),this.pdfViewer.nameTable[e.id.split("_")[0]].font.isStrikeout=o)},Q.prototype.setDropdownFontStyleValue=function(e,t,i){if(0<e.length)for(var n=0;n<e.length;n++)"bold"===t?e[parseInt(n.toString(),10)].style.fontWeight=i:"italic"===t?e[parseInt(n.toString(),10)].style.fontStyle=i:"underline"===t||"line-through"===t?e[parseInt(n.toString(),10)].style.textDecoration=i:"none"===t&&(e[parseInt(n.toString(),10)].style.fontWeight=i)},Q.prototype.updateFormFieldPropertiesChanges=function(e,t,i,n,o,r,a,s,l,A,d,p,h,c,g,u,f,m,w,B,C,S){S={name:t.name,id:t.id,value:t.value,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,color:t.color,backgroundColor:t.backgroundColor,alignment:t.alignment,isReadonly:t.isReadonly,visibility:t.visibility,maxLength:t.maxLength,isRequired:t.isRequired,isPrint:t.isPrint,rotation:t.rotateAngle,tooltip:t.tooltip,options:t.options,isChecked:t.isChecked,isSelected:t.isSelected,previousName:S,currentName:t.name,customData:t.customData};this.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",S,t.pageIndex,i,n,o,r,a,s,l,A,d,p,h,c,g,u,f,m,w,B,C)},Q.prototype.onCancelClicked=function(e){this.propertiesDialog.hide()},Q.prototype.select=function(e){e.isSwiped&&(e.cancel=!0)},Q.prototype.createAppearanceTab=function(){var e=this.pdfViewer.element.id,e=G.createElement("div",{id:e+"_properties_appearance"}),t=("DropdownList"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"ListBox"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?e.style.height="260px":e.style.height="336px",G.createElement("div")),t=(t.className="e-pv-properties-header-spliter",e.appendChild(t),G.createElement("div",{className:"e-pv-properties-tab-style-prop"}));return e.appendChild(t),!this.pdfViewer.selectedItems||"ListBox"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"DropdownList"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?!this.pdfViewer.selectedItems||"SignatureField"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"InitialField"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?this.tabControl=new w.Tab({items:[{header:{text:'<div class="e-pv-form-field-property-header-general"> '+this.pdfViewer.localeObj.getConstant("General")+"</div>"},content:this.createGeneralProperties()},{header:{text:'<div class="e-pv-form-field-property-header-general"> '+this.pdfViewer.localeObj.getConstant("Appearance")+"</div>"},content:this.createAppearanceProperties()}],selecting:this.select},t):this.tabControl=new w.Tab({items:[{header:{text:'<div class="e-pv-form-field-property-header-general"> '+this.pdfViewer.localeObj.getConstant("General")+"</div>"},content:this.createGeneralProperties()}],selecting:this.select},t):this.tabControl=new w.Tab({items:[{header:{text:'<div class="e-pv-form-field-property-header-general"> '+this.pdfViewer.localeObj.getConstant("General")+"</div>"},content:this.createGeneralProperties()},{header:{text:'<div class="e-pv-form-field-property-header-general"> '+this.pdfViewer.localeObj.getConstant("Appearance")+"</div>"},content:this.createAppearanceProperties()},{header:{text:'<div class="e-pv-form-field-property-header-general"> '+this.pdfViewer.localeObj.getConstant("Options")+"</div>"},content:this.createOptionProperties()}],selecting:this.select},t),t.children[1].style.height="100%",e},Q.prototype.createGeneralProperties=function(){var e=this.pdfViewer.selectedItems.formFields?this.pdfViewer.selectedItems.formFields[0]:null,t=this.pdfViewer.element.id,t=G.createElement("div",{id:t+"_general_prop_appearance"}),i=G.createElement("div",{className:"e-pv-properties-text-edit-prop"}),n=(t.appendChild(i),G.createElement("div",{className:"e-pv-properties-form-field-name-main-div"})),o=G.createElement("div",{className:"e-pv-properties-name-edit-prop"}),r=G.createElement("input",{className:"e-pv-properties-name-edit-input e-input"}),o=(o.appendChild(r),n.appendChild(o),this.formFieldName=new T.TextBox({type:"text",floatLabelType:"Always",placeholder:this.pdfViewer.localeObj.getConstant("Name"),value:e.name,cssClass:"e-pv-properties-formfield-name"},r),i.appendChild(n),G.createElement("div",{className:"e-pv-properties-form-field-tooltip-main-div"})),r=G.createElement("div",{className:"e-pv-properties-tooltip-edit-prop"}),n=G.createElement("input",{className:"e-pv-properties-tooltip-prop-input e-input"}),r=(r.appendChild(n),o.appendChild(r),this.formFieldTooltip=new T.TextBox({type:"text",floatLabelType:"Always",placeholder:this.pdfViewer.localeObj.getConstant("Tooltip"),value:e.tooltip,cssClass:"e-pv-properties-formfield-tooltip"},n),i.appendChild(o),G.createElement("div",{className:"e-pv-properties-visibility-style-prop"})),n=(t.appendChild(r),G.createElement("div",{className:"e-pv-properties-form-field-value-main-div"})),i=G.createElement("div",{className:"e-pv-properties-value-edit-prop"}),o=G.createElement("input",{className:"e-pv-properties-value-input e-input"}),i=(i.appendChild(o),n.appendChild(i),"PasswordField"===this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?this.formFieldValue=new T.TextBox({type:"password",floatLabelType:"Always",placeholder:this.pdfViewer.localeObj.getConstant("Value"),value:e.value,cssClass:"e-pv-properties-formfield-value"},o):this.formFieldValue=new T.TextBox({type:"text",floatLabelType:"Always",placeholder:this.pdfViewer.localeObj.getConstant("Value"),value:e.value,cssClass:"e-pv-properties-formfield-value"},o),"Textbox"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"PasswordField"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"RadioButton"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"Checkbox"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&(this.formFieldValue.enabled=!1,this.formFieldValue.value=""),r.appendChild(n),G.createElement("div",{className:"e-pv-properties-form-field-visibility-main-div"})),o=G.createElement("div",{className:"e-pv-properties-visibility-edit-prop"}),n=G.createElement("input",{className:"e-pv-properties-formfield-visibility"}),o=(o.appendChild(n),i.appendChild(o),"visible"===e.visibility?0:1),o=(this.formFieldVisibility=new U.DropDownList({dataSource:["visible","hidden"],floatLabelType:"Always",index:o,value:e.visibility,placeholder:this.pdfViewer.localeObj.getConstant("Form Field Visibility"),cssClass:"e-pv-properties-formfield-visibility"},n),r.appendChild(i),G.createElement("div",{className:"e-pv-properties-checkbox-main-div-prop"})),n=G.createElement("input",{className:"e-pv-properties-checkbox-readonly-input e-input"}),i=(o.appendChild(n),this.formFieldReadOnly=new L.CheckBox({label:this.pdfViewer.localeObj.getConstant("Read Only"),checked:e.isReadonly,cssClass:"e-pv-properties-form-field-checkbox"},n),"Checkbox"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"RadioButton"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType||(r=G.createElement("input",{className:"e-pv-properties-checkbox-checked-input e-input"}),o.appendChild(r),this.formFieldChecked=new L.CheckBox({label:this.pdfViewer.localeObj.getConstant("Checked"),cssClass:"e-pv-properties-form-field-checkbox",checked:e.isChecked||e.isSelected,change:this.checkBoxChange.bind(this)},r)),G.createElement("input",{className:"e-pv-properties-checkbox-required-input e-input"})),n=(o.appendChild(i),this.formFieldRequired=new L.CheckBox({label:this.pdfViewer.localeObj.getConstant("Required"),checked:e.isRequired,cssClass:"e-pv-properties-form-field-checkbox"},i),G.createElement("input",{className:"e-pv-properties-checkbox-printing-input e-input"}));return o.appendChild(n),this.formFieldPrinting=new L.CheckBox({label:this.pdfViewer.localeObj.getConstant("Show Printing"),checked:e.isPrint,cssClass:"e-pv-properties-form-field-checkbox"},n),"Textbox"===e.formFieldAnnotationType&&(r=G.createElement("input",{className:"e-pv-properties-checkbox-multiline-input e-input"}),o.appendChild(r),this.formFieldMultiline=new L.CheckBox({label:this.pdfViewer.localeObj.getConstant("Multiline"),checked:e.isMultiline,cssClass:"e-pv-properties-form-field-checkbox",change:this.multilineCheckboxChange.bind(this)},r)),t.appendChild(o),t},Q.prototype.checkBoxChange=function(e){this.checkboxCheckedState=e.checked},Q.prototype.multilineCheckboxChange=function(e){this.multilineCheckboxCheckedState=!0},Q.prototype.setToolTip=function(e,t){var i=new k.Tooltip({content:G.initializeCSPTemplate(function(){return e})});i.appendTo(t),i.beforeOpen=this.tooltipBeforeOpen.bind(this),this.formFieldTooltips.push(i)},Q.prototype.tooltipBeforeOpen=function(e){var t=this.pdfViewer.nameTable[""!==e.target.id.split("_")[0]?e.target.id.split("_")[0]:G.isNullOrUndefined(e.target.firstElementChild)?"":e.target.firstElementChild.id.split("_")[0]];G.isNullOrUndefined(t)||(e.element.children[0].innerHTML=t.tooltip,""!==e.element.children[0].innerHTML?e.element.style.display="block":e.element.style.display="none")},Q.prototype.createAppearanceProperties=function(){var e=this.pdfViewer.selectedItems.formFields?this.pdfViewer.selectedItems.formFields[0]:null,t=this.pdfViewer.element.id,i=G.createElement("div",{id:t+"_formatting_text_prop_appearance"}),n=G.createElement("div",{className:"e-pv-properties-format-text-style-prop"}),n=(i.appendChild(n),this.createLabelElement(this.pdfViewer.localeObj.getConstant("Formatting"),n,!0,"e-pv-properties-formfield-label",t+"_properties_formfield_formatting"),G.createElement("div",{className:"e-pv-properties-font-items-container"})),o=G.createElement("div",{className:"e-pv-properties-font-family-container"}),r=G.createElement("input",{className:"e-pv-properties-format-font-family-prop"}),r=(o.appendChild(r),n.appendChild(o),this.formFieldFontFamily=new U.DropDownList({dataSource:["Helvetica","Courier","Times New Roman","Symbol","ZapfDingbats"],value:this.getFontFamily(e.fontFamily)?e.fontFamily:"Helvetica",cssClass:"e-pv-properties-formfield-fontfamily"},r),this.setToolTip(this.pdfViewer.localeObj.getConstant("Font family"),o),G.createElement("div",{className:"e-pv-properties-font-size-container"})),a=G.createElement("input",{className:"e-pv-properties-format-font-family-prop"}),a=(r.appendChild(a),n.appendChild(r),this.formFieldFontSize=new U.DropDownList({dataSource:["6px","8px","10px","12px","14px","16px","18px","20px","24px","28px","32px","36px","40px"],value:e.fontSize+"px",cssClass:"e-pv-properties-formfield-fontsize"},a),this.setToolTip(this.pdfViewer.localeObj.getConstant("Font size"),r),G.createElement("div",{className:"e-pv-properties-form-field-font-style"})),n=(a.onclick=this.fontStyleClicked.bind(this),a.appendChild(this.addClassFontItem("_formField_bold","e-pv-bold-icon",e.font.isBold)),a.appendChild(this.addClassFontItem("_formField_italic","e-pv-italic-icon",e.font.isItalic)),a.appendChild(this.addClassFontItem("_formField_underline_textinput","e-pv-underlinetext-icon",e.font.isUnderline)),a.appendChild(this.addClassFontItem("_formField_strikeout","e-pv-strikeout-icon",e.font.isStrikeout)),n.appendChild(a),this.getFontStyle(e.font),i.appendChild(n),G.createElement("div",{className:"e-pv-properties-font-color-container"})),s=G.createElement("div",{className:"e-pv-properties-form-field-font-align"}),l=(s.onclick=this.fontAlignClicked.bind(this),e.alignment.toLowerCase()),l=(s.appendChild(this.addClassFontItem("_formField_left_align","e-pv-left-align-icon","left"===l)),s.appendChild(this.addClassFontItem("_formField_center_align","e-pv-center-align-icon","center"===l)),s.appendChild(this.addClassFontItem("_formField_right_align","e-pv-right-align-icon","right"===l)),this.getAlignment(l),n.appendChild(s),this.fontColorElement=G.createElement("div",{className:"e-pv-formfield-textcolor-icon",id:this.pdfViewer.element.id+"formField_textColor"}),this.fontColorElement.setAttribute("role","combobox"),this.fontColorPalette=this.createColorPicker(this.fontColorElement.id,e.color),"black"!==e.color?this.fontColorValue=e.color:this.fontColorValue=null,this.fontColorPalette.change=this.onFontColorChange.bind(this),this.fontColorDropDown=this.createDropDownButton(this.fontColorElement,"e-pv-annotation-textcolor-icon",this.fontColorPalette.element.parentElement),n.appendChild(this.fontColorElement),this.setToolTip(this.pdfViewer.localeObj.getConstant("Font color"),this.fontColorDropDown.element),this.updateColorInIcon(this.fontColorElement,this.pdfViewer.selectedItems.formFields[0].color),"Checkbox"!==e.formFieldAnnotationType&&"RadioButton"!==e.formFieldAnnotationType||(this.fontColorPalette.disabled=!0,this.fontColorDropDown.disabled=!0,this.fontColorElement.style.pointerEvents="none",this.fontColorElement.style.opacity="0.5",s.style.pointerEvents="none",s.style.opacity="0.5",this.formFieldFontSize.enabled=!1,this.formFieldFontFamily.enabled=!1,o.style.pointerEvents="none",r.style.pointerEvents="none",a.style.pointerEvents="none",a.style.opacity="0.5"),G.createElement("div",{className:"e-pv-formfield-maxlength-group",id:this.pdfViewer.element.id+"formField_maxlength_group"})),s=G.createElement("div",{className:"e-pv-formfield-maxlength-icon",id:this.pdfViewer.element.id+"formField_maxlength"}),o=(l.appendChild(s),this.createLabelElement(this.pdfViewer.localeObj.getConstant("Max Length"),s,!0,"e-pv-properties-formfield-label",t+"_properties_formfield_maxlength"),G.createElement("div",{className:"e-pv-formfield-maxlength",id:this.pdfViewer.element.id+"formField_maxlength_container"})),r=G.createElement("input",{className:"e-pv-formfield-maxlength-input e-input"}),a=(r.setAttribute("aria-label","Max Length"),o.appendChild(r),l.appendChild(o),this.maxLengthItem=new T.NumericTextBox({format:"n",value:0!==e.maxLength?e.maxLength:0,min:0},r),n.appendChild(l),this.setToolTip(this.pdfViewer.localeObj.getConstant("Max Length"),this.maxLengthItem.element),"Textbox"!==e.formFieldAnnotationType&&"PasswordField"!==e.formFieldAnnotationType&&(this.maxLengthItem.enabled=!1,s.style.pointerEvents="none"),i.appendChild(n),G.createElement("div",{className:"e-pv-properties-color-container-style-prop"})),o=G.createElement("div",{className:"e-pv-properties-fill-color-style-prop"}),r=(i.appendChild(o),this.createLabelElement(this.pdfViewer.localeObj.getConstant("Fill"),o,!0,"e-pv-properties-formfield-label",t+"_properties_formfield_fontcolor"),this.colorDropDownElement=G.createElement("div",{className:"e-pv-formfield-fontcolor-icon",id:this.pdfViewer.element.id+"formField_fontColor"}),this.colorDropDownElement.setAttribute("role","combobox"),this.colorPalette=this.createColorPicker(this.colorDropDownElement.id,e.backgroundColor),this.colorPalette.change=this.onColorPickerChange.bind(this),this.colorDropDown=this.createDropDownButton(this.colorDropDownElement,"e-pv-annotation-color-icon",this.colorPalette.element.parentElement),this.setToolTip(this.pdfViewer.localeObj.getConstant("Fill Color"),this.colorDropDown.element),o.appendChild(this.colorDropDownElement),a.appendChild(o),this.updateColorInIcon(this.colorDropDownElement,this.pdfViewer.selectedItems.formFields[0].backgroundColor),G.createElement("div",{className:"e-pv-properties-stroke-color-style-prop"})),l=(this.createLabelElement(this.pdfViewer.localeObj.getConstant("Border"),r,!0,"e-pv-properties-formfield-label",t+"_properties_formfield_strokecolor"),this.strokeDropDownElement=G.createElement("div",{className:"e-pv-formfield-strokecolor-icon",id:this.pdfViewer.element.id+"formField_strokeColor"}),this.strokeDropDownElement.setAttribute("role","combobox"),this.strokeColorPicker=this.createColorPicker(this.strokeDropDownElement.id,e.borderColor),this.strokeColorPicker.change=this.onStrokePickerChange.bind(this),this.strokeDropDown=this.createDropDownButton(this.strokeDropDownElement,"e-pv-annotation-stroke-icon",this.strokeColorPicker.element.parentElement),this.setToolTip(this.pdfViewer.localeObj.getConstant("Border Color"),this.strokeDropDown.element),r.appendChild(this.strokeDropDownElement),a.appendChild(r),this.updateColorInIcon(this.strokeDropDownElement,this.pdfViewer.selectedItems.formFields[0].borderColor),G.createElement("div",{className:"e-pv-properties-stroke-thickness-style-prop"})),s=(this.createLabelElement(this.pdfViewer.localeObj.getConstant("Thickness"),l,!0,"e-pv-properties-formfield-label",t+"_properties_formfield_strokethickness"),this.thicknessElement=G.createElement("div",{className:"e-pv-formfield-strokethickness-icon",id:this.pdfViewer.element.id+"formField_strokethickness"}),this.thicknessElement.setAttribute("role","combobox"),this.createThicknessSlider(this.thicknessElement.id));return this.thicknessDropDown=this.createDropDownButton(this.thicknessElement,"e-pv-annotation-thickness-icon",s),this.thicknessDropDown.beforeOpen=this.thicknessDropDownBeforeOpen.bind(this),this.setToolTip(this.pdfViewer.localeObj.getConstant("Thickness"),this.thicknessDropDown.element),this.thicknessSlider.change=this.thicknessChange.bind(this),this.thicknessSlider.changed=this.thicknessChange.bind(this),l.appendChild(this.thicknessElement),a.appendChild(l),i.appendChild(a),i},Q.prototype.thicknessChange=function(e){1===this.pdfViewer.selectedItems.formFields.length&&(this.formFieldBorderWidth=e.value,this.updateThicknessIndicator())},Q.prototype.thicknessDropDownBeforeOpen=function(){1===this.pdfViewer.selectedItems.formFields.length&&(this.formFieldBorderWidth=this.pdfViewer.selectedItems.formFields[0].thickness.toString(),this.thicknessSlider.value=this.pdfViewer.selectedItems.formFields[0].thickness),this.updateThicknessIndicator()},Q.prototype.updateThicknessIndicator=function(){this.thicknessIndicator.textContent=this.thicknessSlider.value+" pt"},Q.prototype.createOptionProperties=function(){var i=this,e=this.pdfViewer.element.id,t=G.createElement("div",{id:e+"_option_prop_appearance"}),n=G.createElement("div",{className:"e-pv-properties-form-field-list-add-div"}),o=G.createElement("div",{className:"e-pv-properties-form-field-list-item-main-div"}),r=(this.createLabelElement(this.pdfViewer.localeObj.getConstant("List Item"),o,!0,"e-pv-properties-formfield-label",e+"_properties_formfield_listitem"),G.createElement("div",{className:"e-pv-properties-list-item-edit-prop"})),a=G.createElement("input",{className:"e-pv-properties-list-item-input e-input"}),r=(a.setAttribute("aria-label","Item Name"),a.addEventListener("keyup",function(e){if(i.formFieldAddButton.disabled=!0,i.formFieldListItem.value=e.target.value,e.target&&e.target.value)if(0<i.formFieldListItemCollection.length)for(var t=0;t<i.formFieldListItemCollection.length;t++){if(i.formFieldListItemCollection[parseInt(t.toString(),10)]===e.target.value){i.formFieldAddButton.disabled=!0;break}i.formFieldAddButton.disabled=!1}else i.formFieldAddButton.disabled=!1}),r.appendChild(a),o.appendChild(r),this.formFieldListItem=new T.TextBox({type:"text",cssClass:"e-pv-properties-formfield-listitem"},a),n.appendChild(o),t.appendChild(n),G.createElement("div",{className:"e-pv-properties-form-field-list-btn-div"})),a=G.createElement("button",{className:"e-btn"}),o=(a.addEventListener("click",this.addListItemOnClick.bind(this)),r.appendChild(a),this.formFieldAddButton=new L.Button({content:this.pdfViewer.localeObj.getConstant("Add"),disabled:!0,cssClass:"e-pv-properties-dropdown-btn"},a),n.appendChild(r),G.createElement("div",{className:"e-pv-properties-form-field-export-value-div"})),a=G.createElement("div",{className:"e-pv-properties-form-field-export-value-main-div"}),n=(this.createLabelElement(this.pdfViewer.localeObj.getConstant("Export Value"),a,!0,"e-pv-properties-formfield-label",e+"_properties_formfield_exportValue"),G.createElement("div",{className:"e-pv-properties-export-value-edit-prop"})),r=G.createElement("input",{className:"e-pv-properties-export-value-input e-input"}),n=(r.setAttribute("aria-label","Item Value"),n.appendChild(r),a.appendChild(n),this.formFieldListItem=new T.TextBox({type:"text",cssClass:"e-pv-properties-formfield-exportvalue"},r),o.appendChild(a),t.appendChild(o),G.createElement("div",{className:"e-pv-properties-form-field-option-dropdown-list-div"})),r=G.createElement("div",{className:"e-pv-properties-form-field-option-dropdown-list-item-div"}),a=("DropdownList"===this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?this.createLabelElement(this.pdfViewer.localeObj.getConstant("Dropdown Item List"),r,!0,"e-pv-properties-formfield-label",e+"_properties_formfield_dropdown_listitem"):this.createLabelElement(this.pdfViewer.localeObj.getConstant("List Box Item List"),r,!0,"e-pv-properties-formfield-label",e+"_properties_formfield_dropdown_listitem"),n.appendChild(r),G.createElement("div",{className:"e-pv-properties-form-field-btn-textarea-container"})),o=G.createElement("div",{className:"e-pv-properties-formfield-textarea",styles:"width:300px;height:123px;border:1px solid #E0E0E0;margin-right:15px;overflow:auto"}),e=G.createElement("ul",{id:this.pdfViewer.element.id+"_ul_list_item",className:"e-pv-form-designer-ul-list-items"}),r=this.createListElement(e),e=(o.appendChild(e),a.appendChild(o),G.createElement("div",{className:"e-pv-properties-form-field-group-btn-div"})),o=G.createElement("div",{className:"e-pv-properties-form-field-delete-btn-div"}),s=G.createElement("button",{className:"e-btn"}),s=(s.addEventListener("click",this.deleteListItem.bind(this)),o.appendChild(s),this.formFieldDeleteButton=new L.Button({content:this.pdfViewer.localeObj.getConstant("Delete Item"),disabled:!(0<r),cssClass:"e-pv-properties-dropdown-btn"},s),e.appendChild(o),G.createElement("div",{className:"e-pv-properties-form-field-up-btn-div"})),o=G.createElement("button",{className:"e-btn"}),r=(o.addEventListener("click",this.moveUpListItem.bind(this)),s.appendChild(o),this.formFieldUpButton=new L.Button({content:this.pdfViewer.localeObj.getConstant("Up"),disabled:!(1<r),cssClass:"e-pv-properties-dropdown-btn"},o),e.appendChild(s),G.createElement("div",{className:"e-pv-properties-form-field-down-btn-div"})),o=G.createElement("button",{className:"e-btn"});return o.addEventListener("click",this.moveDownListItem.bind(this)),r.appendChild(o),this.formFieldDownButton=new L.Button({content:this.pdfViewer.localeObj.getConstant("Down"),disabled:!0,cssClass:"e-pv-properties-dropdown-btn"},o),e.appendChild(r),a.appendChild(e),n.appendChild(a),t.appendChild(n),t},Q.prototype.addListItemOnClick=function(){var e=this.formFieldListItem.value,t=(this.formFieldListItemCollection.push(e),document.getElementById(this.pdfViewer.element.id+"_ul_list_item"));if(t.children&&0<t.children.length)for(var i=0;i<t.children.length;i++){var n=t.children[parseInt(i.toString(),10)];n.classList.contains("e-pv-li-select")&&n.classList.remove("e-pv-li-select")}var o=G.createElement("li",{className:"e-pv-formfield-li-element"});o.addEventListener("click",this.listItemOnClick.bind(this)),o.innerHTML=e,o.classList.add("e-pv-li-select"),t.appendChild(o),this.formFieldDeleteButton.disabled=!1,this.formFieldAddButton.disabled=!0,o.previousElementSibling&&(this.formFieldUpButton.disabled=!1),o.nextElementSibling||(this.formFieldDownButton.disabled=!0)},Q.prototype.listItemOnClick=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_ul_list_item");if(t.children&&0<t.children.length)for(var i=0;i<t.children.length;i++){var n=t.children[parseInt(i.toString(),10)];n.classList.contains("e-pv-li-select")&&n.classList.remove("e-pv-li-select")}e.target&&e.target.classList.add("e-pv-li-select"),e.target.nextElementSibling?this.formFieldDownButton.disabled=!1:this.formFieldDownButton.disabled=!0,e.target.previousElementSibling?this.formFieldUpButton.disabled=!1:this.formFieldUpButton.disabled=!0},Q.prototype.deleteListItem=function(){var e=document.getElementById(this.pdfViewer.element.id+"_ul_list_item");if(e.children&&0<e.children.length)for(var t=0;t<e.children.length;t++){var i=e.children[parseInt(t.toString(),10)];i.classList.contains("e-pv-li-select")&&(i.classList.remove("e-pv-li-select"),this.formFieldListItemCollection.splice(t,1),i.previousElementSibling?(i.previousElementSibling.classList.add("e-pv-li-select"),i.previousElementSibling.previousElementSibling||(this.formFieldUpButton.disabled=!0)):i.nextElementSibling&&(i.nextElementSibling.classList.add("e-pv-li-select"),i.nextElementSibling.nextElementSibling||(this.formFieldDownButton.disabled=!0)),i.remove())}e.children&&0===e.children.length&&(this.formFieldDeleteButton.disabled=!0,this.formFieldUpButton.disabled=!0,this.formFieldDownButton.disabled=!0),e.children&&1===e.children.length&&(this.formFieldDeleteButton.disabled=!1,this.formFieldUpButton.disabled=!0,this.formFieldDownButton.disabled=!0)},Q.prototype.moveUpListItem=function(){var e=document.getElementById(this.pdfViewer.element.id+"_ul_list_item");if(e.children&&0<e.children.length)for(var t=0;t<e.children.length;t++){var i=e.children[parseInt(t.toString(),10)];i.classList.contains("e-pv-li-select")&&(i.previousElementSibling&&(i.parentNode.insertBefore(i,i.previousElementSibling),i.previousElementSibling)||(this.formFieldUpButton.disabled=!0),i.nextElementSibling)&&(this.formFieldDownButton.disabled=!1)}},Q.prototype.moveDownListItem=function(){var e,t=document.getElementById(this.pdfViewer.element.id+"_ul_list_item");if(t.children&&0<t.children.length)for(var i=0;i<t.children.length;i++)if((e=t.children[parseInt(i.toString(),10)]).classList.contains("e-pv-li-select")){if(e.nextElementSibling){e.parentNode.insertBefore(e.nextElementSibling,e);break}this.formFieldDownButton.disabled=!0}e.nextElementSibling||(this.formFieldDownButton.disabled=!0),e.previousElementSibling&&(this.formFieldUpButton.disabled=!1)},Q.prototype.createListElement=function(e){var t=this.pdfViewer.selectedItems.formFields[0];if(t&&t.options&&0<t.options.length){for(var i=0;i<t.options.length;i++){var n,o=t.options[parseInt(i.toString(),10)].itemName;this.formFieldListItemCollection[parseInt(i.toString(),10)]!==t.options[parseInt(i.toString(),10)].itemName&&(this.formFieldListItemCollection.push(o),(n=G.createElement("li",{className:"e-pv-formfield-li-element"})).addEventListener("click",this.listItemOnClick.bind(this)),n.addEventListener("focus",this.focusFormFields.bind(this)),n.addEventListener("blur",this.blurFormFields.bind(this)),n.innerHTML=o,e.appendChild(n))}e.children[e.children.length-1].classList.add("e-pv-li-select")}return e.children.length},Q.prototype.createThicknessSlider=function(e){var t=G.createElement("div",{className:"e-pv-annotation-thickness-popup-container"}),i=(document.body.appendChild(t),G.createElement("span",{id:e+"_label",className:"e-pv-annotation-thickness-label"})),n=(i.textContent=this.pdfViewer.localeObj.getConstant("Line Thickness"),G.createElement("div",{id:e+"_slider"}));return this.thicknessSlider=new T.Slider({type:"MinRange",cssClass:"e-pv-annotation-thickness-slider",max:12,min:0}),this.thicknessIndicator=G.createElement("div",{id:e+"_thickness_indicator",className:"e-pv-annotation-thickness-indicator"}),this.thicknessIndicator.textContent="0 pt",this.pdfViewer.enableRtl?(t.appendChild(this.thicknessIndicator),t.appendChild(n),this.thicknessSlider.enableRtl=!0,this.thicknessSlider.appendTo(n),t.appendChild(i)):(t.appendChild(i),t.appendChild(n),this.thicknessSlider.appendTo(n),t.appendChild(this.thicknessIndicator)),this.thicknessSlider.element.parentElement.classList.add("e-pv-annotation-thickness-slider-container"),t},Q.prototype.createColorPicker=function(e,t){e=G.createElement("input",{id:e+"_target"}),document.body.appendChild(e),t=new T.ColorPicker({inline:!0,mode:"Palette",cssClass:"e-show-value",enableOpacity:!1,value:t,showButtons:!1,modeSwitcher:!1});return this.pdfViewer.enableRtl&&(t.enableRtl=!0),t.appendTo(e),t},Q.prototype.fontStyleClicked=function(e){var t;e.target&&(-1!==e.target.id.indexOf("formField_bold")?((t=-1!==e.target.id.indexOf("formField_bold_div")?e.target:e.target.parentElement).classList.contains("e-pv-li-select")&&(this.isBold=!0),this.isBold=!this.isBold,this.isBold?(this.formFieldBold="bold",t.classList.add("e-pv-li-select")):(this.formFieldBold="normal",t.classList.remove("e-pv-li-select"))):-1!==e.target.id.indexOf("formField_italic")?((t=-1!==e.target.id.indexOf("formField_italic_div")?e.target:e.target.parentElement).classList.contains("e-pv-li-select")&&(this.isItalic=!0),this.isItalic=!this.isItalic,this.isItalic?(this.formFieldItalic="italic",t.classList.add("e-pv-li-select")):(this.formFieldItalic="normal",t.classList.remove("e-pv-li-select"))):-1!==e.target.id.indexOf("formField_underline")?((t=-1!==e.target.id.indexOf("formField_underline_textinput_div")?e.target:e.target.parentElement).classList.contains("e-pv-li-select")&&(this.isUnderline=!0),this.isUnderline=!this.isUnderline,this.isUnderline?(this.formFieldUnderline="underline",this.isStrikeThrough=!1,t.classList.add("e-pv-li-select")):(this.formFieldUnderline="none",t.classList.remove("e-pv-li-select"))):-1!==e.target.id.indexOf("formField_strikeout")&&((t=-1!==e.target.id.indexOf("formField_strikeout_div")?e.target:e.target.parentElement).classList.contains("e-pv-li-select")&&(this.isStrikeThrough=!0),this.isStrikeThrough=!this.isStrikeThrough,this.isStrikeThrough?(this.formFieldStrikeOut="line-through",this.isUnderline=!1,t.classList.add("e-pv-li-select")):(this.formFieldStrikeOut="none",t.classList.remove("e-pv-li-select"))))},Q.prototype.clearFontAlignIconSelection=function(e){for(var t=0;t<e.children.length;t++)e.children[parseInt(t.toString(),10)].classList.contains("e-pv-li-select")&&e.children[parseInt(t.toString(),10)].classList.remove("e-pv-li-select")},Q.prototype.fontAlignClicked=function(e){var t;e.target&&(e.target.classList.remove("e-pv-li-select"),-1!==e.target.id.indexOf("_formField_left_align")?(t=-1!==e.target.id.indexOf("_formField_left_align_div")?e.target:e.target.parentElement,this.formFieldAlign="left"):-1!==e.target.id.indexOf("_formField_right_align")?(t=-1!==e.target.id.indexOf("_formField_right_align_div")?e.target:e.target.parentElement,this.formFieldAlign="right"):(t=-1!==e.target.id.indexOf("_formField_center_align_div")?e.target:e.target.parentElement,this.formFieldAlign="center"),this.clearFontAlignIconSelection(e.currentTarget),t.classList.add("e-pv-li-select"))},Q.prototype.onFontColorChange=function(e){this.fontColorValue=""===e.currentValue.hex?"#ffffff00":e.currentValue.hex,this.updateColorInIcon(this.fontColorElement,this.fontColorValue),this.fontColorDropDown.toggle()},Q.prototype.onColorPickerChange=function(e){this.backgroundColorValue=""===e.currentValue.hex?"#ffffff00":e.currentValue.hex,this.updateColorInIcon(this.colorDropDownElement,this.backgroundColorValue),this.colorDropDown.toggle()},Q.prototype.updateColorInIcon=function(e,t){e.childNodes[0].style.borderBottomColor=t},Q.prototype.onStrokePickerChange=function(e){this.borderColorValue=""===e.currentValue.hex?"#ffffff00":e.currentValue.hex,this.updateColorInIcon(this.strokeDropDownElement,this.borderColorValue),this.strokeDropDown.toggle()},Q.prototype.createDropDownButton=function(e,t,i){var n=document.getElementById(i.id+"-popup"),n=(n&&n.remove(),new P.DropDownButton({iconCss:t+" e-pv-icon",target:i}));return this.pdfViewer.enableRtl&&(n.enableRtl=!0),n.appendTo(e),n},Q.prototype.addClassFontItem=function(e,t,i){var n=G.createElement("div",{id:this.pdfViewer.element.id+e+"_div"}),e=(n.classList.add(t+"-div"),G.createElement("span",{id:this.pdfViewer.element.id+e+"_span"}));switch(e.classList.add(t),e.classList.add("e-pv-icon"),t){case"e-pv-bold-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Bold"),n);break;case"e-pv-italic-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Italic"),n);break;case"e-pv-underlinetext-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Underlines"),n);break;case"e-pv-strikeout-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Strikethroughs"),n);break;case"e-pv-left-align-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Align left"),n);break;case"e-pv-center-align-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Center"),n);break;case"e-pv-right-align-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Align right"),n)}return i&&n.classList.add("e-pv-li-select"),n.appendChild(e),n},Q.prototype.createLabelElement=function(e,t,i,n,o){var r=G.createElement("div",{id:o+"_container",className:n+"-container"}),a=null;i&&((a=G.createElement("div",{id:o+"_label",className:n})).textContent=e,r.appendChild(a)),t.appendChild(a)},Q.prototype.setReadOnlyToFormField=function(e,t){for(var i=0;i<this.pdfViewer.formFieldCollection.length;i++){var n=this.pdfViewer.formFieldCollection[parseInt(i.toString(),10)];if(n.formFieldAnnotationType===e.formFieldAnnotationType&&n.name===e.name&&n.id===e.id)switch(n.isReadonly=t,n.formFieldAnnotationType){case"Textbox":case"PasswordField":case"DropdownList":case"ListBox":case"SignatureField":case"InitialField":case"RadioButton":var o=document.getElementById(n.id+"_content_html_element").firstElementChild.firstElementChild;this.setReadOnlyToElement(n,o,t);break;case"Checkbox":o=document.getElementById(n.id+"_content_html_element").firstElementChild.firstElementChild.lastElementChild;this.setReadOnlyToElement(n,o,t)}}},Q.prototype.getFormDesignerSignField=function(e){for(var t,i=this.pdfViewer.formFieldCollections,n=0;n<i.length;n++)"SignatureField"!==(t=i[parseInt(n.toString(),10)].type)&&"InitialField"!==t||e.push(i[parseInt(n.toString(),10)]);return e},Q.prototype.setRequiredToFormField=function(e,t){for(var i=0;i<this.pdfViewer.formFieldCollection.length;i++){var n=this.pdfViewer.formFieldCollection[parseInt(i.toString(),10)];if(n.formFieldAnnotationType===e.formFieldAnnotationType&&n.name===e.name&&n.id===e.id)switch(n.isRequired=t,n.formFieldAnnotationType){case"Textbox":case"PasswordField":case"DropdownList":case"SignatureField":case"InitialField":var o=document.getElementById(n.id+"_content_html_element").firstElementChild.firstElementChild;this.setRequiredToElement(n,o,t);break;case"RadioButton":o=document.getElementById(n.id+"_content_html_element").firstElementChild.firstElementChild.firstElementChild;this.setRequiredToElement(n,o,t),this.updateFormFieldCollections(n);break;case"Checkbox":var r=document.getElementById(n.id+"_content_html_element").firstElementChild.firstElementChild.lastElementChild;this.setRequiredToElement(n,r,t)}}},Q.prototype.isTransparentBackground=function(e){return"#00000000"===(e="object"==typeof e?JSON.stringify(e):e)||"transparent"===e||"rgba(0,0,0,0)"===e||'{"r":0,"g":0,"b":0,"a":0}'===e},Q.prototype.setReadOnlyToElement=function(e,t,i){var n,o="#daeaf7ff",r={r:218,g:234,b:247,a:100};"DropdownList"!==e.formFieldAnnotationType&&"ListBox"!==e.formFieldAnnotationType||(t.parentElement.style.backgroundColor=t.style.backgroundColor),!i&&t.disabled&&(t.disabled=!1),i&&("RadioButton"===e.formFieldAnnotationType?t.parentElement.style.cursor="default":"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType?(n=G.isNullOrUndefined(e.thickness)?e.thickness:1,t.parentElement.style.borderWidth=n):t.style.cursor="default"),i&&this.isAddFormFieldProgrammatically&&(this.previousBackgroundColor=e.backgroundColor),"RadioButton"===e.formFieldAnnotationType?t.style.backgroundColor=e.isReadonly?e.backgroundColor!==o&&JSON.stringify(e.backgroundColor)!==JSON.stringify(r)?e.backgroundColor:"transparent":this.isTransparentBackground(e.backgroundColor)?o:e.backgroundColor:"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType?G.isNullOrUndefined(e)||""!==e.value||(n=e.backgroundColor||"#FFE48559",t.parentElement.style.backgroundColor=i?n:an.setTransparencyToHex(n)):t.style.backgroundColor=e.isReadonly?e.backgroundColor!==o?e.backgroundColor:"transparent":this.isTransparentBackground(e.backgroundColor)?o:e.backgroundColor!==this.previousBackgroundColor?e.backgroundColor:this.previousBackgroundColor,e.backgroundColor=e.isReadonly?e.backgroundColor!==o&&JSON.stringify(e.backgroundColor)!==JSON.stringify(r)?e.backgroundColor:"transparent":this.isTransparentBackground(e.backgroundColor)?o:e.backgroundColor!==this.previousBackgroundColor?e.backgroundColor:this.previousBackgroundColor},Q.prototype.setRequiredToElement=function(e,t,i){var n;i?(t.required=!0,t.style.border="1px solid red","RadioButton"===e.formFieldAnnotationType?(n=0===e.thickness?1:e.thickness,t.parentElement.style.boxShadow="red 0px 0px 0px "+n+"px"):"SignatureField"!==e.formFieldAnnotationType&&"InitialField"!==e.formFieldAnnotationType||(n=0<e.thickness?e.thickness:1,t.style.border=n+"px solid red")):(t.required=!1,"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType?t.style.borderWidth=e.thickness:t.style.borderWidth=e.thickness+"px",t.style.borderColor=e.borderColor,"RadioButton"===e.formFieldAnnotationType&&(t.parentElement.style.boxShadow=e.borderColor+" 0px 0px 0px "+e.thickness+"px"))},Q.prototype.destroyPropertiesWindow=function(){this.formFieldListItemCollection=[],this.formFieldListItemDataSource=[],this.formFieldFontFamily=null,this.formFieldFontSize=null,this.formFieldAlign=null,this.fontColorValue=null,this.backgroundColorValue=null,this.borderColorValue=null,this.formFieldBorderWidth=null,this.formFieldName=null,this.formFieldChecked=null,this.formFieldReadOnly=null,this.formFieldRequired=null,this.formFieldTooltip=null,this.formFieldPrinting=null,this.formFieldMultiline=null,this.formFieldVisibility=null,this.strokeColorPicker&&(this.strokeColorPicker.destroy(),this.strokeColorPicker=null),this.strokeDropDown&&(this.strokeDropDown.destroy(),this.strokeDropDown=null),this.strokeDropDownElement&&(this.strokeDropDownElement=null),this.colorDropDownElement&&(this.colorDropDownElement=null),this.colorPalette&&(this.colorPalette.destroy(),this.colorPalette=null),this.colorDropDown&&(this.colorDropDown.destroy(),this.colorDropDown=null),this.thicknessElement&&(this.thicknessElement=null),this.thicknessDropDown&&(this.thicknessDropDown.destroy(),this.thicknessDropDown=null),this.fontColorDropDown&&(this.fontColorDropDown.destroy(),this.fontColorDropDown=null),this.fontColorPalette&&(this.fontColorPalette.destroy(),this.fontColorPalette=null),this.maxLengthItem&&(this.maxLengthItem.destroy(),this.maxLengthItem=null);var e=this.pdfViewerBase.getElement("_properties_window");e&&e.parentElement.removeChild(e)},Q.prototype.destroy=function(){if(this.destroyPropertiesWindow(),null!=this.formFieldTooltips){for(var e=0;e<this.formFieldTooltips.length;e++)this.formFieldTooltips[parseInt(e.toString(),10)].destroy();this.formFieldTooltips=[]}},Q.prototype.hex=function(e){return("0"+e.toString(16)).slice(-2)},Q.prototype.getModuleName=function(){return"FormDesigner"},Q.prototype.updateAnnotationCanvas=function(e,t,i,n){var o=this.pdfViewerBase.getZoomRatio();e.width=t*o,e.height=i*o,e.style.width=t+"px",e.style.height=i+"px",e.style.position="absolute",e.style.zIndex="1",this.pdfViewerBase.applyElementStyles(e,n)},Q.prototype.getFontFamily=function(e){return-1<["Helvetica","Courier","Times New Roman","Symbol","ZapfDingbats"].indexOf(e)},Q.prototype.updateTextFieldSettingProperties=function(e,t,i){var n=this.pdfViewer.textFieldSettings;!G.isNullOrUndefined(n.isReadOnly)&&this.textFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=n.isReadOnly),!G.isNullOrUndefined(n.isRequired)&&this.textFieldPropertyChanged.isRequiredChanged&&(e.isRequired=n.isRequired),n.value&&this.textFieldPropertyChanged.isValueChanged&&(e.value=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.value):n.value),n.backgroundColor&&"white"!==n.backgroundColor&&this.textFieldPropertyChanged.isBackgroundColorChanged&&(e.backgroundColor=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.backgroundColor):n.backgroundColor),n.borderColor&&"black"!==n.borderColor&&this.textFieldPropertyChanged.isBorderColorChanged&&(e.borderColor=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.borderColor):n.borderColor),n.alignment&&"Left"!==n.alignment&&this.textFieldPropertyChanged.isAlignmentChanged&&(e.alignment=n.alignment),n.color&&"black"!==n.color&&this.textFieldPropertyChanged.isColorChanged&&(e.color=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.color):n.color),n.fontFamily&&"Helvetica"!==n.fontFamily&&this.textFieldPropertyChanged.isFontFamilyChanged&&(e.fontFamily=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.fontFamily):n.fontFamily),n.fontSize&&10!==n.fontSize&&this.textFieldPropertyChanged.isFontSizeChanged&&(e.fontSize=n.fontSize),n.fontStyle&&this.textFieldPropertyChanged.isFontStyleChanged&&(e.fontStyle=this.getFontStyleName(n.fontStyle,e)),n.name&&this.textFieldPropertyChanged.isNameChanged&&(e.name=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.name):n.name),n.tooltip&&this.textFieldPropertyChanged.isToolTipChanged&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.tooltip):n.tooltip),n.thickness&&1!==n.thickness&&this.textFieldPropertyChanged.isThicknessChanged&&(e.thickness=n.thickness),n.maxLength&&this.textFieldPropertyChanged.isMaxLengthChanged&&(e.maxLength=n.maxLength),n.visibility&&this.textFieldPropertyChanged.isVisibilityChanged&&(e.visibility=n.visibility),!G.isNullOrUndefined(n.isPrint)&&this.textFieldPropertyChanged.isPrintChanged&&(e.isPrint=n.isPrint),!G.isNullOrUndefined(n.isMultiline)&&this.textFieldPropertyChanged.isMultilineChanged&&(e.isMultiline=n.isMultiline),!G.isNullOrUndefined(n.customData)&&this.textFieldPropertyChanged.isCustomDataChanged&&(e.customData=n.customData)},Q.prototype.updatePasswordFieldSettingProperties=function(e,t,i){var n=this.pdfViewer.passwordFieldSettings;!G.isNullOrUndefined(n.isReadOnly)&&this.passwordFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=n.isReadOnly),!G.isNullOrUndefined(n.isRequired)&&this.passwordFieldPropertyChanged.isRequiredChanged&&(e.isRequired=n.isRequired),n.value&&this.passwordFieldPropertyChanged.isValueChanged&&(e.value=n.value),n.backgroundColor&&"white"!==n.backgroundColor&&this.passwordFieldPropertyChanged.isBackgroundColorChanged&&(e.backgroundColor=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.backgroundColor):n.backgroundColor),n.borderColor&&"black"!==n.borderColor&&this.passwordFieldPropertyChanged.isBorderColorChanged&&(e.borderColor=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.borderColor):n.borderColor),n.alignment&&"Left"!==n.alignment&&this.passwordFieldPropertyChanged.isAlignmentChanged&&(e.alignment=n.alignment),n.color&&"black"!==n.color&&this.passwordFieldPropertyChanged.isColorChanged&&(e.color=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.color):n.color),n.fontFamily&&"Helvetica"!==n.fontFamily&&this.passwordFieldPropertyChanged.isFontFamilyChanged&&(e.fontFamily=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.fontFamily):n.fontFamily),n.fontSize&&10!==n.fontSize&&this.passwordFieldPropertyChanged.isFontSizeChanged&&(e.fontSize=n.fontSize),n.fontStyle&&this.passwordFieldPropertyChanged.isFontStyleChanged&&(e.fontStyle=this.getFontStyleName(n.fontStyle,e)),n.name&&this.passwordFieldPropertyChanged.isNameChanged&&(e.name=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.name):n.name),n.tooltip&&this.passwordFieldPropertyChanged.isToolTipChanged&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.tooltip):n.tooltip),n.thickness&&1!==n.thickness&&this.passwordFieldPropertyChanged.isThicknessChanged&&(e.thickness=n.thickness),n.maxLength&&this.passwordFieldPropertyChanged.isMaxLengthChanged&&(e.maxLength=n.maxLength),n.visibility&&this.passwordFieldPropertyChanged.isVisibilityChanged&&(e.visibility=n.visibility),!G.isNullOrUndefined(n.isPrint)&&this.passwordFieldPropertyChanged.isPrintChanged&&(e.isPrint=n.isPrint),!G.isNullOrUndefined(n.customData)&&this.passwordFieldPropertyChanged.isCustomDataChanged&&(e.customData=n.customData)},Q.prototype.updateCheckBoxFieldSettingsProperties=function(e,t,i){var n=this.pdfViewer.checkBoxFieldSettings;!G.isNullOrUndefined(n.isReadOnly)&&this.checkBoxFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=n.isReadOnly),!G.isNullOrUndefined(n.isRequired)&&this.checkBoxFieldPropertyChanged.isRequiredChanged&&(e.isRequired=n.isRequired),n.value&&this.checkBoxFieldPropertyChanged.isValueChanged&&(e.value=n.value),n.backgroundColor&&"white"!==n.backgroundColor&&this.checkBoxFieldPropertyChanged.isBackgroundColorChanged&&(e.backgroundColor=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.backgroundColor):n.backgroundColor),n.borderColor&&"black"!==n.borderColor&&this.checkBoxFieldPropertyChanged.isBorderColorChanged&&(e.borderColor=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.borderColor):n.borderColor),n.name&&this.checkBoxFieldPropertyChanged.isNameChanged&&(e.name=G.SanitizeHtmlHelper.sanitize(n.name)),n.tooltip&&this.checkBoxFieldPropertyChanged.isToolTipChanged&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.tooltip):n.tooltip),n.thickness&&1!==n.thickness&&this.checkBoxFieldPropertyChanged.isThicknessChanged&&(e.thickness=n.thickness),n.visibility&&this.checkBoxFieldPropertyChanged.isVisibilityChanged&&(e.visibility=n.visibility),!G.isNullOrUndefined(n.isPrint)&&this.checkBoxFieldPropertyChanged.isPrintChanged&&(e.isPrint=n.isPrint),!G.isNullOrUndefined(n.isChecked)&&this.checkBoxFieldPropertyChanged.isCheckedChanged&&(e.isChecked=n.isChecked),!G.isNullOrUndefined(n.customData)&&this.checkBoxFieldPropertyChanged.isCustomDataChanged&&(e.customData=n.customData)},Q.prototype.updateRadioButtonFieldSettingProperties=function(e,t,i){var n=this.pdfViewer.radioButtonFieldSettings;!G.isNullOrUndefined(n.isReadOnly)&&this.radioButtonFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=n.isReadOnly),!G.isNullOrUndefined(n.isRequired)&&this.radioButtonFieldPropertyChanged.isRequiredChanged&&(e.isRequired=n.isRequired),n.value&&this.radioButtonFieldPropertyChanged.isValueChanged&&(e.value=n.value),n.backgroundColor&&"white"!==n.backgroundColor&&this.radioButtonFieldPropertyChanged.isBackgroundColorChanged&&(e.backgroundColor=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.backgroundColor):n.backgroundColor),n.borderColor&&"black"!==n.borderColor&&this.radioButtonFieldPropertyChanged.isBorderColorChanged&&(e.borderColor=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.borderColor):n.borderColor),n.name&&this.radioButtonFieldPropertyChanged.isNameChanged&&(e.name=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.name):n.name),n.tooltip&&this.radioButtonFieldPropertyChanged.isToolTipChanged&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.tooltip):n.tooltip),n.thickness&&1!==n.thickness&&this.radioButtonFieldPropertyChanged.isThicknessChanged&&(e.thickness=n.thickness),n.visibility&&this.radioButtonFieldPropertyChanged.isVisibilityChanged&&(e.visibility=n.visibility),!G.isNullOrUndefined(n.isPrint)&&this.radioButtonFieldPropertyChanged.isPrintChanged&&(e.isPrint=n.isPrint),!G.isNullOrUndefined(n.isSelected)&&this.radioButtonFieldPropertyChanged.isSelectedChanged&&(e.isSelected=n.isSelected),!G.isNullOrUndefined(n.customData)&&this.radioButtonFieldPropertyChanged.isCustomDataChanged&&(e.customData=n.customData)},Q.prototype.updateDropdownFieldSettingsProperties=function(e,t,i){var n=this.pdfViewer.DropdownFieldSettings;!G.isNullOrUndefined(n.isReadOnly)&&this.dropdownFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=n.isReadOnly),!G.isNullOrUndefined(n.isRequired)&&this.dropdownFieldPropertyChanged.isRequiredChanged&&(e.isRequired=n.isRequired),n.backgroundColor&&"white"!==n.backgroundColor&&this.dropdownFieldPropertyChanged.isBackgroundColorChanged&&(e.backgroundColor=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.backgroundColor):n.backgroundColor),n.borderColor&&"black"!==n.borderColor&&this.dropdownFieldPropertyChanged.isBorderColorChanged&&(e.borderColor=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.borderColor):n.borderColor),n.alignment&&"Left"!==n.alignment&&this.dropdownFieldPropertyChanged.isAlignmentChanged&&(e.alignment=n.alignment),n.color&&"black"!==n.color&&this.dropdownFieldPropertyChanged.isColorChanged&&(e.color=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.color):n.color),n.fontFamily&&"Helvetica"!==n.fontFamily&&this.dropdownFieldPropertyChanged.isFontFamilyChanged&&(e.fontFamily=G.SanitizeHtmlHelper.sanitize(n.fontFamily)),n.fontSize&&10!==n.fontSize&&this.dropdownFieldPropertyChanged.isFontSizeChanged&&(e.fontSize=n.fontSize),n.fontStyle&&this.dropdownFieldPropertyChanged.isFontStyleChanged&&(e.fontStyle=this.getFontStyleName(n.fontStyle,e)),n.name&&this.dropdownFieldPropertyChanged.isNameChanged&&(e.name=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.name):n.name),n.tooltip&&this.dropdownFieldPropertyChanged.isToolTipChanged&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.tooltip):n.tooltip),n&&1!==n.thickness&&this.dropdownFieldPropertyChanged.isThicknessChanged&&(e.thickness=n.thickness),n.visibility&&this.dropdownFieldPropertyChanged.isVisibilityChanged&&(e.visibility=n.visibility),!G.isNullOrUndefined(n.isPrint)&&this.dropdownFieldPropertyChanged.isPrintChanged&&(e.isPrint=n.isPrint),n.options&&this.dropdownFieldPropertyChanged.isOptionChanged&&(e.options=(e.options&&0<e.options.length?e:n).options),!G.isNullOrUndefined(n.customData)&&this.dropdownFieldPropertyChanged.isCustomDataChanged&&(e.customData=n.customData)},Q.prototype.updatelistBoxFieldSettingsProperties=function(e,t,i){var n=this.pdfViewer.listBoxFieldSettings;!G.isNullOrUndefined(n.isReadOnly)&&this.listBoxFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=n.isReadOnly),!G.isNullOrUndefined(n.isRequired)&&this.listBoxFieldPropertyChanged.isRequiredChanged&&(e.isRequired=n.isRequired),n.backgroundColor&&"white"!==n.backgroundColor&&this.listBoxFieldPropertyChanged.isBackgroundColorChanged&&(e.backgroundColor=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.backgroundColor):n.backgroundColor),n.borderColor&&"black"!==n.borderColor&&this.listBoxFieldPropertyChanged.isBorderColorChanged&&(e.borderColor=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.borderColor):n.borderColor),n.alignment&&"Left"!==n.alignment&&this.listBoxFieldPropertyChanged.isAlignmentChanged&&(e.alignment=n.alignment),n.color&&"black"!==n.color&&this.listBoxFieldPropertyChanged.isColorChanged&&(e.color=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.color):n.color),n.fontFamily&&"Helvetica"!==n.fontFamily&&this.listBoxFieldPropertyChanged.isFontFamilyChanged&&(e.fontFamily=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.fontFamily):n.fontFamily),n.fontSize&&10!==n.fontSize&&this.listBoxFieldPropertyChanged.isFontSizeChanged&&(e.fontSize=n.fontSize),n.fontStyle&&this.listBoxFieldPropertyChanged.isFontStyleChanged&&(e.fontStyle=this.getFontStyleName(n.fontStyle,e)),n.name&&this.listBoxFieldPropertyChanged.isNameChanged&&(e.name=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.name):n.name),n.tooltip&&this.listBoxFieldPropertyChanged.isToolTipChanged&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(n.tooltip):n.tooltip),n.thickness&&1!==n.thickness&&this.listBoxFieldPropertyChanged.isThicknessChanged&&(e.thickness=n.thickness),n.visibility&&this.listBoxFieldPropertyChanged.isVisibilityChanged&&(e.visibility=n.visibility),!G.isNullOrUndefined(n.isPrint)&&this.listBoxFieldPropertyChanged.isPrintChanged&&(e.isPrint=n.isPrint),n.options&&this.listBoxFieldPropertyChanged.isOptionChanged&&(e.options=(e.options&&0<e.options.length?e:n).options),!G.isNullOrUndefined(n.customData)&&this.listBoxFieldPropertyChanged.isCustomDataChanged&&(e.customData=n.customData)},Q.prototype.updateSignInitialFieldProperties=function(e,t,i,n){var o=this.pdfViewer.initialFieldSettings,r=this.pdfViewer.signatureFieldSettings;t?(!G.isNullOrUndefined(o.isReadOnly)&&this.initialFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=o.isReadOnly),G.isNullOrUndefined(o.isRequired)||!this.initialFieldPropertyChanged.isRequiredChanged||this.pdfViewer.magnificationModule.isFormFieldPageZoomed||(e.isRequired=o.isRequired),o.visibility&&this.initialFieldPropertyChanged.isVisibilityChanged&&!this.pdfViewer.magnificationModule.isFormFieldPageZoomed&&(e.visibility=o.visibility),o.tooltip&&this.initialFieldPropertyChanged.isTooltipChanged&&!this.pdfViewer.magnificationModule.isFormFieldPageZoomed&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(o.tooltip):o.tooltip),!G.isNullOrUndefined(o.thickness)&&!0===n&&this.initialFieldPropertyChanged.isThicknessChanged&&(e.thickness=o.thickness),o.name&&this.initialFieldPropertyChanged.isNameChanged&&!this.pdfViewer.magnificationModule.isFormFieldPageZoomed&&(e.name=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(o.name):o.name),G.isNullOrUndefined(o.isPrint)||!this.initialFieldPropertyChanged.isPrintChanged||this.pdfViewer.magnificationModule.isFormFieldPageZoomed||(e.isPrint=o.isPrint),!G.isNullOrUndefined(o.customData)&&this.initialFieldPropertyChanged.isCustomDataChanged&&(e.customData=o.customData)):(!G.isNullOrUndefined(r.isReadOnly)&&this.signatureFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=r.isReadOnly),G.isNullOrUndefined(r.isRequired)||!this.signatureFieldPropertyChanged.isRequiredChanged||this.pdfViewer.magnificationModule.isFormFieldPageZoomed||(e.isRequired=r.isRequired),r.visibility&&this.signatureFieldPropertyChanged.isVisibilityChanged&&!this.pdfViewer.magnificationModule.isFormFieldPageZoomed&&(e.visibility=r.visibility),r.tooltip&&this.signatureFieldPropertyChanged.isTooltipChanged&&!this.pdfViewer.magnificationModule.isFormFieldPageZoomed&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(r.tooltip):r.tooltip),!G.isNullOrUndefined(r.thickness)&&!0===n&&this.signatureFieldPropertyChanged.isThicknessChanged&&(e.thickness=r.thickness),r.name&&this.signatureFieldPropertyChanged.isNameChanged&&!this.pdfViewer.magnificationModule.isFormFieldPageZoomed&&(e.name=this.pdfViewer.enableHtmlSanitizer?G.SanitizeHtmlHelper.sanitize(r.name):r.name),G.isNullOrUndefined(r.isPrint)||!this.signatureFieldPropertyChanged.isPrintChanged||this.pdfViewer.magnificationModule.isFormFieldPageZoomed||(e.isPrint=r.isPrint),!G.isNullOrUndefined(r.customData)&&this.signatureFieldPropertyChanged.isCustomDataChanged&&(e.customData=r.customData))},Q.prototype.updateSignatureSettings=function(e,t){(t=!G.isNullOrUndefined(t)&&t)?(this.initialFieldPropertyChanged.isReadOnlyChanged=!G.isNullOrUndefined(e.isReadOnly),this.initialFieldPropertyChanged.isRequiredChanged=!G.isNullOrUndefined(e.isRequired),this.initialFieldPropertyChanged.isVisibilityChanged=!G.isNullOrUndefined(e.visibility),this.initialFieldPropertyChanged.isTooltipChanged=!G.isNullOrUndefined(e.tooltip),this.initialFieldPropertyChanged.isNameChanged=!G.isNullOrUndefined(e.name),this.initialFieldPropertyChanged.isPrintChanged=!G.isNullOrUndefined(e.isPrint),this.initialFieldPropertyChanged.isThicknessChanged=!G.isNullOrUndefined(e.thickness),this.initialFieldPropertyChanged.isCustomDataChanged=!G.isNullOrUndefined(e.customData)):(this.signatureFieldPropertyChanged.isReadOnlyChanged=!G.isNullOrUndefined(e.isReadOnly),this.signatureFieldPropertyChanged.isRequiredChanged=!G.isNullOrUndefined(e.isRequired),this.signatureFieldPropertyChanged.isVisibilityChanged=!G.isNullOrUndefined(e.visibility),this.signatureFieldPropertyChanged.isTooltipChanged=!G.isNullOrUndefined(e.tooltip),this.signatureFieldPropertyChanged.isNameChanged=!G.isNullOrUndefined(e.name),this.signatureFieldPropertyChanged.isPrintChanged=!G.isNullOrUndefined(e.isPrint),this.signatureFieldPropertyChanged.isThicknessChanged=!G.isNullOrUndefined(e.thickness),this.signatureFieldPropertyChanged.isCustomDataChanged=!G.isNullOrUndefined(e.customData))},Q.prototype.updateTextFieldSettings=function(e){this.textFieldPropertyChanged.isReadOnlyChanged=!G.isNullOrUndefined(e.isReadOnly),this.textFieldPropertyChanged.isRequiredChanged=!G.isNullOrUndefined(e.isRequired),this.textFieldPropertyChanged.isValueChanged=!G.isNullOrUndefined(e.value),this.textFieldPropertyChanged.isBackgroundColorChanged=!G.isNullOrUndefined(e.backgroundColor),this.textFieldPropertyChanged.isBorderColorChanged=!G.isNullOrUndefined(e.borderColor),this.textFieldPropertyChanged.isAlignmentChanged=!G.isNullOrUndefined(e.alignment),this.textFieldPropertyChanged.isColorChanged=!G.isNullOrUndefined(e.color),this.textFieldPropertyChanged.isFontFamilyChanged=!G.isNullOrUndefined(e.fontFamily),this.textFieldPropertyChanged.isFontSizeChanged=!G.isNullOrUndefined(e.fontSize),this.textFieldPropertyChanged.isFontStyleChanged=!G.isNullOrUndefined(e.fontStyle),this.textFieldPropertyChanged.isNameChanged=!G.isNullOrUndefined(e.name),this.textFieldPropertyChanged.isToolTipChanged=!G.isNullOrUndefined(e.tooltip),this.textFieldPropertyChanged.isThicknessChanged=!G.isNullOrUndefined(e.thickness),this.textFieldPropertyChanged.isMaxLengthChanged=!G.isNullOrUndefined(e.maxLength),this.textFieldPropertyChanged.isVisibilityChanged=!G.isNullOrUndefined(e.visibility),this.textFieldPropertyChanged.isPrintChanged=!G.isNullOrUndefined(e.isPrint),this.textFieldPropertyChanged.isMultilineChanged=!G.isNullOrUndefined(e.isMultiline),this.textFieldPropertyChanged.isCustomDataChanged=!G.isNullOrUndefined(e.customData)},Q.prototype.updatePasswordFieldSettings=function(e){this.passwordFieldPropertyChanged.isReadOnlyChanged=!G.isNullOrUndefined(e.isReadOnly),this.passwordFieldPropertyChanged.isRequiredChanged=!G.isNullOrUndefined(e.isRequired),this.passwordFieldPropertyChanged.isValueChanged=!G.isNullOrUndefined(e.value),this.passwordFieldPropertyChanged.isBackgroundColorChanged=!G.isNullOrUndefined(e.backgroundColor),this.passwordFieldPropertyChanged.isBorderColorChanged=!G.isNullOrUndefined(e.borderColor),this.passwordFieldPropertyChanged.isAlignmentChanged=!G.isNullOrUndefined(e.alignment),this.passwordFieldPropertyChanged.isColorChanged=!G.isNullOrUndefined(e.color),this.passwordFieldPropertyChanged.isFontFamilyChanged=!G.isNullOrUndefined(e.fontFamily),this.passwordFieldPropertyChanged.isFontSizeChanged=!G.isNullOrUndefined(e.fontSize),this.passwordFieldPropertyChanged.isFontStyleChanged=!G.isNullOrUndefined(e.fontStyle),this.passwordFieldPropertyChanged.isNameChanged=!G.isNullOrUndefined(e.name),this.passwordFieldPropertyChanged.isToolTipChanged=!G.isNullOrUndefined(e.tooltip),this.passwordFieldPropertyChanged.isThicknessChanged=!G.isNullOrUndefined(e.thickness),this.passwordFieldPropertyChanged.isMaxLengthChanged=!G.isNullOrUndefined(e.maxLength),this.passwordFieldPropertyChanged.isVisibilityChanged=!G.isNullOrUndefined(e.visibility),this.passwordFieldPropertyChanged.isPrintChanged=!G.isNullOrUndefined(e.isPrint),this.passwordFieldPropertyChanged.isCustomDataChanged=!G.isNullOrUndefined(e.customData)},Q.prototype.updateCheckBoxFieldSettings=function(e){this.checkBoxFieldPropertyChanged.isReadOnlyChanged=!G.isNullOrUndefined(e.isReadOnly),this.checkBoxFieldPropertyChanged.isRequiredChanged=!G.isNullOrUndefined(e.isRequired),this.checkBoxFieldPropertyChanged.isBackgroundColorChanged=!G.isNullOrUndefined(e.backgroundColor),this.checkBoxFieldPropertyChanged.isBorderColorChanged=!G.isNullOrUndefined(e.borderColor),this.checkBoxFieldPropertyChanged.isNameChanged=!G.isNullOrUndefined(e.name),this.checkBoxFieldPropertyChanged.isValueChanged=!G.isNullOrUndefined(e.value),this.checkBoxFieldPropertyChanged.isToolTipChanged=!G.isNullOrUndefined(e.tooltip),this.checkBoxFieldPropertyChanged.isThicknessChanged=!G.isNullOrUndefined(e.thickness),this.checkBoxFieldPropertyChanged.isVisibilityChanged=!G.isNullOrUndefined(e.visibility),this.checkBoxFieldPropertyChanged.isPrintChanged=!G.isNullOrUndefined(e.isPrint),this.checkBoxFieldPropertyChanged.isCheckedChanged=!G.isNullOrUndefined(e.isChecked),this.checkBoxFieldPropertyChanged.isCustomDataChanged=!G.isNullOrUndefined(e.customData)},Q.prototype.updateRadioButtonFieldSettings=function(e){this.radioButtonFieldPropertyChanged.isReadOnlyChanged=!G.isNullOrUndefined(e.isReadOnly),this.radioButtonFieldPropertyChanged.isRequiredChanged=!G.isNullOrUndefined(e.isRequired),this.radioButtonFieldPropertyChanged.isBackgroundColorChanged=!G.isNullOrUndefined(e.backgroundColor),this.radioButtonFieldPropertyChanged.isBorderColorChanged=!G.isNullOrUndefined(e.borderColor),this.radioButtonFieldPropertyChanged.isNameChanged=!G.isNullOrUndefined(e.name),this.radioButtonFieldPropertyChanged.isValueChanged=!G.isNullOrUndefined(e.value),this.radioButtonFieldPropertyChanged.isToolTipChanged=!G.isNullOrUndefined(e.tooltip),this.radioButtonFieldPropertyChanged.isThicknessChanged=!G.isNullOrUndefined(e.thickness),this.radioButtonFieldPropertyChanged.isVisibilityChanged=!G.isNullOrUndefined(e.visibility),this.radioButtonFieldPropertyChanged.isPrintChanged=!G.isNullOrUndefined(e.isPrint),this.radioButtonFieldPropertyChanged.isSelectedChanged=!G.isNullOrUndefined(e.isSelected),this.radioButtonFieldPropertyChanged.isCustomDataChanged=!G.isNullOrUndefined(e.customData)},Q.prototype.updateDropDownFieldSettings=function(e){this.dropdownFieldPropertyChanged.isReadOnlyChanged=!G.isNullOrUndefined(e.isReadOnly),this.dropdownFieldPropertyChanged.isRequiredChanged=!G.isNullOrUndefined(e.isRequired),this.dropdownFieldPropertyChanged.isValueChanged=!G.isNullOrUndefined(e.value),this.dropdownFieldPropertyChanged.isBackgroundColorChanged=!G.isNullOrUndefined(e.backgroundColor),this.dropdownFieldPropertyChanged.isBorderColorChanged=!G.isNullOrUndefined(e.borderColor),this.dropdownFieldPropertyChanged.isAlignmentChanged=!G.isNullOrUndefined(e.alignment),this.dropdownFieldPropertyChanged.isColorChanged=!G.isNullOrUndefined(e.color),this.dropdownFieldPropertyChanged.isFontFamilyChanged=!G.isNullOrUndefined(e.fontFamily),this.dropdownFieldPropertyChanged.isFontSizeChanged=!G.isNullOrUndefined(e.fontSize),this.dropdownFieldPropertyChanged.isFontStyleChanged=!G.isNullOrUndefined(e.fontStyle),this.dropdownFieldPropertyChanged.isNameChanged=!G.isNullOrUndefined(e.name),this.dropdownFieldPropertyChanged.isToolTipChanged=!G.isNullOrUndefined(e.tooltip),this.dropdownFieldPropertyChanged.isThicknessChanged=!G.isNullOrUndefined(e.thickness),this.dropdownFieldPropertyChanged.isVisibilityChanged=!G.isNullOrUndefined(e.visibility),this.dropdownFieldPropertyChanged.isPrintChanged=!G.isNullOrUndefined(e.isPrint),this.dropdownFieldPropertyChanged.isOptionChanged=!G.isNullOrUndefined(e.options),this.dropdownFieldPropertyChanged.isCustomDataChanged=!G.isNullOrUndefined(e.customData)},Q.prototype.updateListBoxFieldSettings=function(e){this.listBoxFieldPropertyChanged.isReadOnlyChanged=!G.isNullOrUndefined(e.isReadOnly),this.listBoxFieldPropertyChanged.isRequiredChanged=!G.isNullOrUndefined(e.isRequired),this.listBoxFieldPropertyChanged.isBackgroundColorChanged=!G.isNullOrUndefined(e.backgroundColor),this.listBoxFieldPropertyChanged.isBorderColorChanged=!G.isNullOrUndefined(e.borderColor),this.listBoxFieldPropertyChanged.isAlignmentChanged=!G.isNullOrUndefined(e.alignment),this.listBoxFieldPropertyChanged.isColorChanged=!G.isNullOrUndefined(e.color),this.listBoxFieldPropertyChanged.isFontFamilyChanged=!G.isNullOrUndefined(e.fontFamily),this.listBoxFieldPropertyChanged.isFontSizeChanged=!G.isNullOrUndefined(e.fontSize),this.listBoxFieldPropertyChanged.isFontStyleChanged=!G.isNullOrUndefined(e.fontStyle),this.listBoxFieldPropertyChanged.isNameChanged=!G.isNullOrUndefined(e.name),this.listBoxFieldPropertyChanged.isToolTipChanged=!G.isNullOrUndefined(e.tooltip),this.listBoxFieldPropertyChanged.isThicknessChanged=!G.isNullOrUndefined(e.thickness),this.listBoxFieldPropertyChanged.isVisibilityChanged=!G.isNullOrUndefined(e.visibility),this.listBoxFieldPropertyChanged.isPrintChanged=!G.isNullOrUndefined(e.isPrint),this.listBoxFieldPropertyChanged.isOptionChanged=!G.isNullOrUndefined(e.options),this.listBoxFieldPropertyChanged.isCustomDataChanged=!G.isNullOrUndefined(e.customData)},Q.prototype.getFontStyleName=function(e,t){var i="None";return 1===e&&(t.font.isBold=!0,i="Bold"),2===e&&(t.font.isItalic=!0,i="Italic"),3===e&&(t.font.isBold=!0,t.font.isItalic=!0,i="Bold Italic"),4===e&&(t.font.isUnderline=!0,i="Underline"),5===e&&(t.font.isBold=!0,t.font.isUnderline=!0,i="Bold Underline"),6===e&&(t.font.isUnderline=!0,t.font.isItalic=!0,i="Underline Italic"),7===e&&(t.font.isBold=!0,t.font.isItalic=!0,t.font.isUnderline=!0,i="Bold Italic Underline"),8===e&&(t.font.isStrikeout=!0,i="Strikethrough"),9===e&&(t.font.isBold=!0,t.font.isStrikeout=!0,i="Bold Strikethrough"),10===e&&(t.font.isItalic=!0,t.font.isStrikeout=!0,i="Italic Strikethrough"),11===e&&(t.font.isBold=!0,t.font.isItalic=!0,t.font.isStrikeout=!0,i="Bold Italic Strikethrough"),12===e&&(t.font.isUnderline=!0,t.font.isStrikeout=!0,i="Underline Strikethrough"),13===e&&(t.font.isBold=!0,t.font.isUnderline=!0,t.font.isStrikeout=!0,i="Bold Underline Strikethrough"),14===e&&(t.font.isItalic=!0,t.font.isUnderline=!0,t.font.isStrikeout=!0,i="Italic Underline Strikethrough"),15===e&&(t.font.isBold=!0,t.font.isItalic=!0,t.font.isUnderline=!0,t.font.isStrikeout=!0,i="Bold Italic Underline Strikethrough"),i},Q.prototype.getAlignment=function(e){var t;"left"===e?t="left":"right"===e?t="right":"center"===e&&(t="center"),this.formFieldAlign=t},Q.prototype.getFontStyle=function(e){e.isBold&&(this.formFieldBold="bold"),e.isItalic&&(this.formFieldItalic="italic"),e.isUnderline&&(this.formFieldUnderline="underline"),e.isStrikeout&&(this.formFieldStrikeOut="line-through")};var Ya=Q;function Q(e,t){this.formFieldTooltips=[],this.isFormFieldExistingInCollection=!1,this.multilineCheckboxCheckedState=!1,this.formFieldListItemCollection=[],this.formFieldListItemDataSource=[],this.isInitialField=!1,this.isSetFormFieldMode=!1,this.isAddFormFieldProgrammatically=!1,this.isAddFormFieldUi=!1,this.increasedSize=5,this.defaultZoomValue=1,this.defaultFontSize=10,this.signIndicatorPadding=3,this.signIndicatorMinimunFontSize=1,this.signatureFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isVisibilityChanged:!1,isNameChanged:!1,isPrintChanged:!1,isTooltipChanged:!1,isThicknessChanged:!1},this.initialFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isVisibilityChanged:!1,isNameChanged:!1,isPrintChanged:!1,isTooltipChanged:!1,isThicknessChanged:!1},this.textFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isBackgroundColorChanged:!1,isBorderColorChanged:!1,isAlignmentChanged:!1,isFontSizeChanged:!1,isNameChanged:!1,isToolTipChanged:!1,isThicknessChanged:!1,isVisibilityChanged:!1,isPrintChanged:!1,isSelected:!1,isFontFamilyChanged:!1,isFontStyle:!1,isValueChanged:!1,isMaXLength:!1,isColorChanged:!1,isMultilineChanged:!1},this.passwordFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isBackgroundColorChanged:!1,isBorderColorChanged:!1,isAlignmentChanged:!1,isFontSizeChanged:!1,isNameChanged:!1,isToolTipChanged:!1,isThicknessChanged:!1,isVisibilityChanged:!1,isPrintChanged:!1,isSelected:!1,isFontFamilyChanged:!1,isFontStyle:!1,isValueChanged:!1,isMaXLength:!1,isColorChanged:!1},this.checkBoxFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isBackgroundColorChanged:!1,isBorderColorChanged:!1,isNameChanged:!1,isToolTipChanged:!1,isThicknessChanged:!1,isVisibilityChanged:!1,isPrintChanged:!1,isCheckedChanged:!1,isValueChanged:!1},this.radioButtonFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isBackgroundColorChanged:!1,isBorderColorChanged:!1,isNameChanged:!1,isToolTipChanged:!1,isThicknessChanged:!1,isVisibilityChanged:!1,isPrintChanged:!1,isSelectedChanged:!1,isValueChanged:!1},this.dropdownFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isBackgroundColorChanged:!1,isBorderColorChanged:!1,isAlignmentChanged:!1,isFontSizeChanged:!1,isNameChanged:!1,isToolTipChanged:!1,isThicknessChanged:!1,isVisibilityChanged:!1,isPrintChanged:!1,isSelected:!1,isFontFamilyChanged:!1,isFontStyle:!1,isColorChanged:!1,isOptionChanged:!1},this.listBoxFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isBackgroundColorChanged:!1,isBorderColorChanged:!1,isAlignmentChanged:!1,isFontSizeChanged:!1,isNameChanged:!1,isToolTipChanged:!1,isThicknessChanged:!1,isVisibilityChanged:!1,isPrintChanged:!1,isSelected:!1,isFontFamilyChanged:!1,isFontStyle:!1,isColorChanged:!1,isOptionChanged:!1},this.disableSignatureClickEvent=!1,this.formFieldIndex=0,this.formFieldIdIndex=0,this.isProgrammaticSelection=!1,this.isShapeCopied=!1,this.isFormFieldSizeUpdated=!1,this.isDrawHelper=!1,this.isFormFieldUpdated=!1,this.isPropertyDialogOpen=!1,this.pdfViewer=e,this.pdfViewerBase=t}Ja.prototype.addTaggedLayer=function(e){var t,i,n;return this.pdfViewer.enableAccessibilityTags&&this.pdfViewerBase.isTaggedPdf&&(t=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+e),i=document.getElementById(this.pdfViewer.element.id+"_taggedLayer_"+e),(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+e))&&n.setAttribute("aria-hidden","true"),(i=i||G.createElement("div",{id:this.pdfViewer.element.id+"_taggedLayer_"+e,className:"e-pv-tagged-layer e-pv-text-layer"})).innerHTML="",i.style.width=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width*this.pdfViewerBase.getZoomFactor()+"px",i.style.height=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height*this.pdfViewerBase.getZoomFactor()+"px",i.style.pointerEvents="none",t)&&t.appendChild(i),i},Ja.prototype.renderAccessibilityTags=function(e,t){for(var i=this.addTaggedLayer(e),n=0;n<t.length;n++){var o=G.createElement("div",{id:this.pdfViewer.element.id+"_taggedText_"+e+"_"+parseInt(n.toString(),10),className:"e-pv-text",attrs:{tabindex:"-1"}}),r=t[parseInt(n.toString(),10)].Bounds;"Paragraph"===t[parseInt(parseInt(n.toString(),10).toString(),10)].TagType&&null===t[parseInt(n.toString(),10)].ChildElements&&""===t[parseInt(n.toString(),10)].Text.trim()||(o.appendChild(this.createTag(t[parseInt(n.toString(),10)])),o.style.display="inline",this.setStyleToTaggedTextDiv(o,r,t[parseInt(n.toString(),10)].FontSize,t[parseInt(n.toString(),10)].FontName,t[parseInt(n.toString(),10)].FontStyle),this.setTextElementProperties(o),i.appendChild(o))}},Ja.prototype.getTag=function(e){switch(e){case"Paragraph":return"p";case"Figure":return"img";case"Article":return"art";case"Annotation":return"annot";case"BibliographyEntry":return"bibentry";case"BlockQuotation":return"blockQuote";case"Caption":return"caption";case"Code":return"code";case"Division":return"div";case"Document":return"document";case"Form":return"form";case"Formula":return"formula";case"Index":return"index";case"Heading":return"h";case"HeadingLevel1":return"h1";case"HeadingLevel2":return"h2";case"HeadingLevel3":return"h3";case"HeadingLevel4":return"h4";case"HeadingLevel5":return"h5";case"HeadingLevel6":return"h6";case"Label":return"label";case"Link":return"a";case"List":return"ul";case"ListItem":return"li";case"ListBody":return"p";case"Note":return"note";case"Part":return"part";case"Quotation":return"quote";case"Reference":return"reference";case"Section":return"sect";case"Span":return"span";case"Table":return"table";case"TableDataCell":return"td";case"TableHeader":return"th";case"TableOfContent":return"toc";case"TableOfContentItem":return"toci";case"TableRow":return"tr";case"Image":return"img";default:return"p"}},Ja.prototype.setStyleToTaggedTextDiv=function(e,t,i,n,o){var r=this.pdfViewerBase.getZoomFactor(),t=(e.style.left=this.pdfViewerBase.ConvertPointToPixel(t.X)*r+"px",e.style.top=this.pdfViewerBase.ConvertPointToPixel(t.Y)*r+"px",e.style.width=this.pdfViewerBase.ConvertPointToPixel(t.Width)*r+"px",this.pdfViewerBase.ConvertPointToPixel(t.Height)*r);e.style.height=t+"px",e.style.fontSize=this.pdfViewerBase.ConvertPointToPixel(i)*r+"px",!n||"Wingdings"!==n&&"Symbol"!==n?n&&(e.style.fontFamily=n):e.style.fontFamily="Verdana",o&&(e.style.fontWeight=o),e.style.color="transparent"},Ja.prototype.setTextElementProperties=function(e){e.style.transformOrigin="0%"},Ja.prototype.getModuleName=function(){return"AccessibilityTags"},Ja.prototype.destroy=function(){return!0};var Ga=Ja;function Ja(e,t){this.createTag=function(e){var t=this,i=e.TagType,n=e.ParentTagType,o=e.Text,r=e.AltText,a=e.Bounds,s=e.ChildElements,l=document.createElement(this.getTag(i));return l.style.padding="0px",l.style.margin="0px","Document"!==n&&"Part"!==n&&(l.style.position="absolute"),a&&(this.setStyleToTaggedTextDiv(l,a,e.FontSize,e.FontName,e.FontStyle),this.setTextElementProperties(l)),""!==o.trim()&&(l.innerText=o),"Image"!==i&&"Figure"!==i||(r&&""!==r.trim()&&(l.alt=r),l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="),s&&0<s.length&&s.forEach(function(e){"Table"===i?e.ChildElements&&e.ChildElements.forEach(function(e){l.appendChild(t.createTag(e))}):l.appendChild(t.createTag(e))}),l},this.pdfViewer=e,this.pdfViewerBase=t}function ja(e,t,i,n){this.X=e,this.Y=t,this.Width=i,this.Height=n,this.Location={X:e,Y:t},this.Size={IsEmpty:!1,Width:i,Height:n},this.Left=e,this.Top=t,this.Right=e+i,this.Bottom=t+n}function Ka(){function m(n,o,r){return function(e){var t=C.heap(n,o),i=t[0],t=t.slice(1);return e.apply(void 0,t.map(function(e){return e.p}))?(e=t.map(function(e){return e.v}),i.free(),e):(i.free(),r)}}var w,B=!1,Z={},C=C||{},S=void 0!==C.Module?C.Module:{},y=Float64Array;function e(){Z.Init=S.cwrap("FPDF_InitLibrary"),Z.RenderPageBitmap=S.cwrap("FPDF_RenderPageBitmap","",["number","number","number","number","number","number","number","number"]),Z.Bitmap_FillRect=S.cwrap("FPDFBitmap_FillRect","",["number","number","number","number","number","number"]),Z.Bitmap_CreateEx=S.cwrap("FPDFBitmap_CreateEx","number",["number","number","number","number","number"]),Z.Bitmap_Destroy=S.cwrap("FPDFBitmap_Destroy","",["number"]),Z.LoadPage=S.cwrap("FPDF_LoadPage","number",["number","number"]),Z.ClosePage=S.cwrap("FPDF_ClosePage","",["number"]),Z.LoadMemDocument=S.cwrap("FPDF_LoadMemDocument","number",["number","number","string"]),Z.GetPageSizeByIndex=S.cwrap("FPDF_GetPageSizeByIndex","number",["number","number","number","number"]),Z.GetLastError=S.cwrap("FPDF_GetLastError","number"),Z.GetPageCount=S.cwrap("FPDF_GetPageCount","number",["number"]),Z.CloseDocument=S.cwrap("FPDF_CloseDocument","",["number"]),Z.DestroyLibrary=S.cwrap("FPDF_DestroyLibrary"),Z.LoadTextPage=S.cwrap("FPDFText_LoadPage","number",["number"]),Z.CloseTextPage=S.cwrap("FPDFText_ClosePage","",["number"]),Z.TextCountChars=S.cwrap("FPDFText_CountChars","number",["number"]),Z.GetUnicodeChar=S.cwrap("FPDFText_GetUnicode","number",["number"]),Z.GetCharBox=S.cwrap("FPDFText_GetCharBox","number",["number","number","number","number","number"]),Z.GetPageRotation=S.cwrap("FPDFPage_GetRotation","number",["number"]),Z.GetCharAngle=S.cwrap("FPDFText_GetCharAngle","number",["number"]),Z.TextFindStart=S.cwrap("FPDFText_FindStart","",["number","number","number","number"]),Z.TextFindClose=S.cwrap("FPDFText_FindClose","",["number"]),Z.TextFindNext=S.cwrap("FPDFText_FindNext","",["number"]),Z.TextFindResultIndex=S.cwrap("FPDFText_GetSchResultIndex","",["number"]),Z.TextFindCount=S.cwrap("FPDFText_GetSchCount","",["number"]),Z.GetPageHeight=S.cwrap("FPDF_GetPageHeight","number",["number"]),Z.GetPageHeight=S.cwrap("FPDF_GetPageHeight","number",["number"]),Z.GetPageWidth=S.cwrap("FPDF_GetPageWidth","number",["number"]),C.heap=function(e,t){var i;switch(e){case Int8Array:i=S.HEAP8;break;case Int16Array:i=S.HEAP16;break;case Int32Array:i=S.HEAP32;break;case Uint8Array:i=S.HEAPU8;break;case Uint16Array:i=S.HEAPU16;break;case Uint32Array:i=S.HEAPU32;break;case Float32Array:i=S.HEAPF32;break;case Float64Array:i=S.HEAPF64}for(var n=e.BYTES_PER_ELEMENT,o=S.asm.malloc(t*n),r=Array(1+t),a=(r[0]={s:t,J:e,Z:n,E:i,m:o,free:function(){return S.asm.free(o)}},0);a<t;a++)!function(e){r[e+1]={p:o+e*n,get v(){return i[o/n+e]}}}(a);return r}}function I(){(!0||B)&&(e(),C.loaded)&&C.loaded()}Object.assign(Z,{LCD_TEXT:2,NO_NATIVETEXT:4,GRAYSCALE:8,DEBUG_INFO:128,NO_CATCH:256,RENDER_LIMITEDIMAGECACHE:512,RENDER_FORCEHALFTONE:1024,PRINTING:2048,REVERSE_BYTE_ORDER:16,Bitmap_Gray:1,Bitmap_BGR:2,Bitmap_BGRx:3,Bitmap_BGRA:4,LAST_ERROR:{SUCCESS:0,UNKNOWN:1,FILE:2,FORMAT:3,PASSWORD:4,SECURITY:5,PAGE:6}}),S.onRuntimeInitialized=function(){B=!0,I()},C.onload=function(){I()},C.loaded=function(){E.postMessage({message:"loaded"})};var E=self,i=(E.onmessage=function(o){var e;if("initialLoading"===o.data.message?(importScripts(o.data.url+"/pdfium.js"),S.url=o.data.url,S.onRuntimeInitialized=function(){if(B=!0,I(),o.data.fonts&&0<Object.keys(o.data.fonts).length){var e,t="/usr/share/fonts/";for(e in S.FS.createPath("/",t,!0,!0),o.data.fonts)o.data.fonts[""+e]&&-1===e.indexOf("fallbackfonts")&&S.FS.createDataFile(t+e,null,o.data.fonts[""+e],!0,!0,!0)}},this.PDFiumModule(S)):"LoadPageCollection"===o.data.message?(C.fileByteArray=o.data.uploadedFile,r=C.fileByteArray.length,Z.Init(),a=S.asm.malloc(r),S.HEAPU8.set(C.fileByteArray,a),C.fileByteArray=null,w=new Q({wasm:Z.LoadMemDocument(a,r,o.data.password),wasmBuffer:a}),i=Z.GetPageCount(w.processor.wasmData.wasm),w.setPages(i),w.createAllPages(),E.postMessage({message:"PageLoaded",pageIndex:o.data.pageIndex,isZoomMode:o.data.isZoomMode})):"LoadPageStampCollection"===o.data.message&&(r=o.data.uploadedFile.length,Z.Init(),a=S.asm.malloc(r),S.HEAPU8.set(o.data.uploadedFile,a),r=new Q({wasm:Z.LoadMemDocument(a,r,o.data.password),wasmBuffer:a}),i=Z.GetPageCount(r.processor.wasmData.wasm),r.setPages(i),r.createAllPages(),t=r.getPage(o.data.pageIndex),a=o.data,(n=t.render(null,a.zoomFactor,!1,null,null,null,!0)).message="LoadedStamp",n.annotName=o.data.AnnotName,n.rubberStampAnnotationPageNumber=o.data.rubberStampAnnotationPageNumber,n.annotationOrder=o.data.annotationOrder,n.collectionOrder=o.data.collectionOrder,n.isFormField=o.data.isFormField,n.isFormField&&(n.message="LoadedStampForFormFields",n.formFieldName=o.data.formFieldName,n.formFieldList=o.data.formFieldList,n.formFields=o.data.rubberStampAnnotation,n.PageIndex=o.data.PageIndex),E.postMessage(n)),w)if("renderPage"===o.data.message){var t=w.getPage(o.data.pageIndex),i=o.data,n=t.render(null,i.zoomFactor,i.isTextNeed,null,null,i.textDetailsId,null,o.data.cropBoxRect,o.data.mediaBoxRect);E.postMessage(n)}else if("renderPageSearch"===o.data.message){var t=w.getPage(o.data.pageIndex),r=o.data;(n=t.render(null,r.zoomFactor,r.isTextNeed,null,null,r.textDetailsId,null,o.data.cropBoxRect)).message="imageRenderedSearch",E.postMessage(n)}else if(-1!==o.data.message.indexOf("extractText")){var t=w.getPage(o.data.pageIndex),a=o.data,i=o.data.isSkipCharacterBounds;(n=t.render("extractText",a.zoomFactor,a.isTextNeed,null,null,a.textDetailsId,null,null,null,null,i)).message=o.data.message,n.isLayout=o.data.isLayout,n.isRenderText=o.data.isRenderText,n.jsonObject=o.data.jsonObject,n.requestType=o.data.requestType,n.annotationObject=o.data.annotationObject,n.pageIndex=o.data.pageIndex,n.options=o.data.options,n.isAPI=o.data.isAPI,n.isNeedToRender=o.data.isNeedToRender,E.postMessage(n)}else if("searchText"===o.data.message){for(var r=Z.GetPageCount(w.processor.wasmData.wasm),s=o.data.searchWord,l=new Uint16Array(s.length+1),A=0;A<s.length;A++)l[parseInt(A.toString(),10)]=s.charCodeAt(A);l[s.length]=0;for(var c=S.asm.malloc(l.length*l.BYTES_PER_ELEMENT),g=(S.HEAPU16.set(l,c/Uint16Array.BYTES_PER_ELEMENT),0),u=!0===o.data.matchCase?1:0,a=o.data.startIndex,d=o.data.endIndex,f={},p=function(l){for(var A=-1,e=Z.LoadPage(w.processor.wasmData.wasm,l),d=Z.LoadTextPage(e),p=Z.TextFindStart(d,c,u,0),h=Z.GetPageHeight(e),t=function(){g++,A++;for(var e=Z.TextFindCount(p),r=Z.TextFindResultIndex(p),i=(f[parseInt(l.toString(),10)]||(f[parseInt(l.toString(),10)]={Indices:[],Bounds:{},pageOccurrence:0}),f[parseInt(l.toString(),10)].Bounds[parseInt(A.toString(),10)]||(f[parseInt(l.toString(),10)].Bounds[parseInt(A.toString(),10)]=[]),f[parseInt(l.toString(),10)].Indices.push(r),Number.POSITIVE_INFINITY),n=0,a=Number.POSITIVE_INFINITY,s=0,t=0;t<e;t++)!function(o){var e,t=Z.GetUnicodeChar(d,r+o),t=String.fromCharCode(t);"\r"!==t&&"\n"!==t&&(e=m(y,4,[-1,-1,-1,-1])(function(e,t,i,n){return Z.GetCharBox(d,r+o,e,t,i,n)}),i=Math.min(i,e[0]),n=Math.max(n,e[1]),a=Math.min(a,e[2]),s=Math.max(s,e[3])),"\r"===t&&(e=new _(i*(96/72),96/72*(h-(s-a)-a),96/72*(n-i),96/72*(s-a),"",null),f[parseInt(l.toString(),10)].Bounds[parseInt(A.toString(),10)].push(e),f[parseInt(l.toString(),10)].Bounds[parseInt(A.toString(),10)].sort(function(e,t){return e.Top===t.Top?e.Left-t.Left:e.Top-t.Top}),i=Number.POSITIVE_INFINITY,n=0,a=Number.POSITIVE_INFINITY,s=0)}(t);var o=new _(i*(96/72),96/72*(h-(s-a)-a),96/72*(n-i),96/72*(s-a),"",null);f[parseInt(l.toString(),10)].Bounds[parseInt(A.toString(),10)].push(o),f[parseInt(l.toString(),10)].Bounds[parseInt(A.toString(),10)].sort(function(e,t){return e.Top===t.Top?e.Left-t.Left:e.Top-t.Top}),f[parseInt(l.toString(),10)].pageOccurrence=A+1};Z.TextFindNext(p);)t();Z.TextFindClose(p),Z.ClosePage(e)},h=a;h<d;h++)p(h);i={totalSearchCount:g,resultPages:f,message:"textSearched",searchWord:s,matchCase:o.data.matchCase,isRequestsend:o.data.isRequestsend,isCompletedSearch:d===r,endIndex:d};E.postMessage(i),f={},S.asm.free(c)}else"renderThumbnail"===o.data.message?new Promise(function(e,t){try{var i,n=w.getPage(o.data.pageIndex);null!==n.processor&&void 0!==n.processor&&((i=n.render("thumbnail",null,o.data.isTextNeed,null,null,null,null,null,null,null,o.data.isSkipCharacterBounds)).isRenderText=o.data.isRenderText,i.jsonObject=o.data.jsonObject,i.requestType=o.data.requestType,e(i))}catch(e){t(e)}}).then(function(e){E.postMessage(e)}):"renderPreviewTileImage"===o.data.message?((n=(t=w.getPage(o.data.pageIndex)).render("thumbnail",null,o.data.isTextNeed,null,null,null,null,null,null,null,o.data.isSkipCharacterBounds)).message="renderPreviewTileImage",n.isRenderText=o.data.isRenderText,n.jsonObject=o.data.jsonObject,n.requestType=o.data.requestType,n.startIndex=o.data.startIndex,n.endIndex=o.data.endIndex,E.postMessage(n)):"printImage"===o.data.message?(n=(t=w.getPage(o.data.pageIndex)).render("print",null,!1,o.data.printScaleFactor,o.data.printDevicePixelRatio),E.postMessage(n)):"extractImage"===o.data.message||"extractImages"===o.data.message?(t=w.getPage(o.data.pageIndex),a=o.data,n=t.render(null,a.zoomFactor,a.isTextNeed,null,null,a.textDetailsId,null,null,null,o.data.size),"extractImage"===o.data.message&&(n.message="imageExtracted"),"extractImages"===o.data.message&&(n.message="imagesExtracted"),E.postMessage(n)):"renderImageAsTile"===o.data.message?(e=o.data,n=(t=w.getPage(o.data.pageIndex)).renderTileImage(e.tileX,e.tileY,e.tileXCount,e.tileYCount,e.zoomFactor,o.data.isTextNeed,o.data.textDetailsId,o.data.cropBoxRect,o.data.mediaBoxRect),E.postMessage(n)):"renderImageAsTileSearch"===o.data.message?(e=o.data,(n=(t=w.getPage(o.data.pageIndex)).renderTileImage(e.tileX,e.tileY,e.tileXCount,e.tileYCount,e.zoomFactor,o.data.isTextNeed,o.data.textDetailsId,o.data.cropBoxRect,o.data.mediaBoxRect)).message="renderTileImageSearch",E.postMessage(n)):"unloadFPDF"===o.data.message&&w&&(S.asm.free(w.processor.wasmData.wasmBuffer),Z.CloseDocument(w.processor.wasmData.wasm),Z.DestroyLibrary());"unloadFPDF"===o.data.message&&E.postMessage({message:""})},t.prototype.render=function(e,t,i,n,o,r,a,s,l,A,d){return this.processor.render(this.index,e,t,i,n,o,r,a,s,l,A,d)},t.prototype.renderTileImage=function(e,t,i,n,o,r,a,s,l){return this.processor.renderTileImage(this.index,e,t,i,n,o,r,a,s,l)},t);function t(e,t){this.index=e,this.src=null,this.processor=t}var _=function(e,t,i,n,o,r){this.X=e,this.Y=t,this.Width=i,this.Height=n,this.Bottom=this.Y+this.Height,this.Right=this.X+this.Width,this.Top=this.Y,this.Left=this.X,this.Rotation=r,this.Text=o},n=(o.prototype.getPageSize=function(i){var n=this;return void 0===i&&(i=0),m(y,2,[-1,-1])(function(e,t){return Z.GetPageSizeByIndex(n.wasmData.wasm,i,e,t)}).map(function(e){return parseInt((e*(96/72)).toString(),10)})},o.prototype.getCharBounds=function(o,r){return void 0===r&&(r=0),m(y,4,[-1,-1,-1,-1])(function(e,t,i,n){return Z.GetCharBox(o,r,e,t,i,n)})},o.prototype.getRender=function(e,t,i,n,o,r,a,s){void 0===e&&(e=0);var l=Z.REVERSE_BYTE_ORDER,A=S.asm.malloc(t*i*4),d=(S.HEAPU8.fill(0,A,A+t*i*4),Z.Bitmap_CreateEx(t,i,Z.Bitmap_BGRA,A,4*t)),p=Z.LoadPage(this.wasmData.wasm,e);return Z.Bitmap_FillRect(d,0,0,t,i,o?16777215:4294967295),Z.RenderPageBitmap(d,p,0,0,t,i,0,l),Z.Bitmap_Destroy(d),this.textExtraction(p,e,n,r,a,s),Z.ClosePage(p),A},o.prototype.textExtraction=function(N,R,L,e,U,O){var t;if(L){for(var L=this.getPageSize(R),i=L[0],n=L[1],o=(n+=this.pointerToPixelConverter(U&&U.y?U.y:0),Z.LoadTextPage(N,R)),r=Z.GetPageRotation(N),a=Z.TextCountChars(o),s=(this.TextBounds=[],this.TextContent=[],""),l=0,A=0,d=0,p=0,h=[],c=[],g=[],u=[],f=[],m="",w=0,B=0,C=0,S=0,y=0,I=!0,z=!(this.CharacterBounds=[]),E=!1,H=!1,Q=0;Q<=a;Q++)if(O){G=Z.GetUnicodeChar(o,Q),D=String.fromCharCode(G);Q<a&&(s+=D)}else{var Y,G=Z.GetUnicodeChar(o,Q),J=Z.GetCharAngle(o,Q),D=String.fromCharCode(G),j=this.getCharBounds(o,Q),x=j[0],K=j[1],W=j[2],V=j[3],b=this.pointerToPixelConverter(x)-this.pointerToPixelConverter(e&&e.x?e.x:0),M=n+this.pointerToPixelConverter(e&&e.y?e.y:0)-this.pointerToPixelConverter(V),v=this.pointerToPixelConverter(K-x),F=this.pointerToPixelConverter(V-W),T=parseInt((180*J/Math.PI).toString(),10);switch(Q<a&&(s+=D,Y=new _(b,M,v,F,D,T),this.CharacterBounds.push(Y)),1!==r&&3!==r||(M=i-this.pointerToPixelConverter(V)),D){case"\0":var l=Math.min.apply(Math,h),A=Math.max.apply(Math,c),d=Math.min.apply(Math,g),p=Math.max.apply(Math,u),k=new _(w,C,B-w,S-C,m,y);f.push(k),this.textBoundsCalculation(f,l,A,p,d,r,i,n),f=[],E=!(I=!0),m="",h=[],g=[],c=[],u=[],p=d=A=l=0;break;case"\r":Q<a&&(P=new _(b,M,v,F,"\r\n",T),h.push(P.Top),c.push(P.Bottom),g.push(P.Left),u.push(P.Right),l=Math.min.apply(Math,h),A=Math.max.apply(Math,c),d=Math.min.apply(Math,g),k=void(p=Math.max.apply(Math,u)),!1===I&&(k=new _(w,C,B-w,S-C,m,y),f.push(k)),f.push(P),this.textBoundsCalculation(f,l,A,p,d,r,i,n),f=[],E=!(I=!0),m="",h=[],g=[],c=[],u=[],p=d=A=l=0,s+="\n",J=Z.GetCharAngle(o,Q),x=(t=this.getCharBounds(o,Q))[0],K=t[1],W=t[2],V=t[3],b=this.pointerToPixelConverter(x),M=n-this.pointerToPixelConverter(V),v=this.pointerToPixelConverter(K-x),F=this.pointerToPixelConverter(V-W),T=parseInt((180*J/Math.PI).toString(),10),Y=new _(b,M,v,F,D,T),this.CharacterBounds.push(Y),Q++);break;case"":case"":var P=new _(b,M,v,F,D,T),k=(h.push(P.Top),c.push(P.Bottom),g.push(P.Left),u.push(P.Right),l=Math.min.apply(Math,h),A=Math.max.apply(Math,c),d=Math.min.apply(Math,g),p=Math.max.apply(Math,u),void 0);!1===I&&(k=new _(w,C,B-w,S-C,m,y),f.push(k)),""===D&&f.push(P),this.textBoundsCalculation(f,l,A,p,d,r,i,n),f=[],E=!(I=!0),m="",h=[],g=[],c=[],u=[],p=d=A=l=0;break;default:E=I=0===v||0===F?(z=!0,l=Math.min.apply(Math,h),A=Math.max.apply(Math,c),d=Math.min.apply(Math,g),p=Math.max.apply(Math,u),k=new _(w,C,B-w,S-C,m,y),f.push(k),C=(P=new _(b,M,v,F,D,T)).Top,S=P.Bottom,w=P.Left,B=P.Right,y=f[f.length-1].Rotation,k=new _(w,C,B-w,S-C,m=D,y),f.push(k),m="",!(y=B=w=S=C=0)):(!0===I&&(S=(C=M)+F,B=(w=b)+v),P=new _(b,M,v,F,D,T)," "!==D?(E&&0<f.length&&T===f[0].Rotation&&((180===T||0===T)&&11<Math.abs(P.Y-f[0].Y)&&(H=!0),270===T||90===T)&&11<Math.abs(P.X-f[0].X)&&(H=!0),(z&&1<=f.length&&f[f.length-1].Rotation!==P.Rotation||H)&&(H=z=!1,l=Math.min.apply(Math,h),A=Math.max.apply(Math,c),d=Math.min.apply(Math,g),p=Math.max.apply(Math,u),k=void 0,!1===I&&(k=new _(w,C,B-w,S-C,m,y),f.push(k)),this.textBoundsCalculation(f,l,A,p,d,r,i,n),f=[],I=!0,m="",h=[],g=[],c=[],u=[],p=d=A=l=0),h.push(P.Top),c.push(P.Bottom),g.push(P.Left),u.push(P.Right),C=Math.min(C,P.Top),S=Math.max(S,P.Bottom),w=Math.min(w,P.Left),B=Math.max(B,P.Right),m+=D,y=P.Rotation,!1):(k=new _(w,C,B-w,S-C,m,y),f.push(k),C=P.Top,S=P.Bottom,w=P.Left,B=P.Right,y=P.Rotation,k=new _(w,C,B-w,S-C,m=D,y),f.push(k),m="",!(y=B=w=S=C=0)))}}Z.CloseTextPage(o),this.Rotation=r,this.PageText=s}},o.prototype.pointerToPixelConverter=function(e){return e*(96/72)},o.prototype.textBoundsCalculation=function(e,t,i,n,o,r,a,s){for(var l,A=!1,d="",p=e.reduce(function(e,t){return e+t.Text},""),h=this.checkIsRtlText(p),c=0;c<e.length;c++){var g=e[parseInt(c.toString(),10)].Rotation;if(0===g||180===g?(A&&(this.TextBounds.push(l),this.TextContent.push(d),d=""),A=!1,0===r?l=new _(e[parseInt(c.toString(),10)].Left,t,e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,g):1===r?l=new _(a-t,e[parseInt(c.toString(),10)].Left,e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,g):2===r?l=new _(a-e[parseInt(c.toString(),10)].Left,s-t,e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,g):3===r&&(l=new _(t,s-e[parseInt(c.toString(),10)].Left,e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,g))):90===g||270===g?(A&&(this.TextBounds.push(l),this.TextContent.push(d),d=""),A=!1,0===r?l=new _(o,e[parseInt(c.toString(),10)].Top,n-o,e[parseInt(c.toString(),10)].Height,e[parseInt(c.toString(),10)].Text,g):1===r?l=new _(a-e[parseInt(c.toString(),10)].Top,o,n-o,e[parseInt(c.toString(),10)].Height,e[parseInt(c.toString(),10)].Text,g):2===r?l=new _(a-o,s-e[parseInt(c.toString(),10)].Top,n-o,e[parseInt(c.toString(),10)].Height,e[parseInt(c.toString(),10)].Text,g):3===r&&(l=new _(e[parseInt(c.toString(),10)].Top,s-o,n-o,e[parseInt(c.toString(),10)].Height,e[parseInt(c.toString(),10)].Text,g))):A?d+=e[parseInt(c.toString(),10)].Text:(A=!0,d+=e[parseInt(c.toString(),10)].Text,0===r?l=new _(e[parseInt(c.toString(),10)].Left,t,n-o,i-t,e[parseInt(c.toString(),10)].Text,g):1===r?l=new _(a-t,e[parseInt(c.toString(),10)].Left,n-o,i-t,e[parseInt(c.toString(),10)].Text,g):2===r?l=new _(a-e[parseInt(c.toString(),10)].Left,s-t,n-o,i-t,e[parseInt(c.toString(),10)].Text,g):3===r&&(l=new _(t,s-e[parseInt(c.toString(),10)].Left,n-o,i-t,e[parseInt(c.toString(),10)].Text,g))),!A&&" "===e[parseInt(c.toString(),10)].Text&&0!==c&&c+1<=e.length)if(h)c+1!==e.length?((30<(u=e[c-1].Left-(e[c+1].Left+e[c+1].Width))||u<0)&&(u=0),l=new _(e[c+1].Left+e[c+1].Width,t,u,i-t,e[parseInt(c.toString(),10)].Text,e[parseInt(c.toString(),10)].Rotation)):h&&(l=new _(e[c-1].Left-e[parseInt(c.toString(),10)].Width,t,e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,e[parseInt(c.toString(),10)].Rotation));else if(c+1!==e.length){var u=0;switch(g){case 0:(30<(u=e[c+1].Left-(e[c-1].Left+e[c-1].Width))||u<0)&&(u=0),0===r?l=new _(e[c-1].Left+e[c-1].Width,t,u,i-t,e[parseInt(c.toString(),10)].Text,g):1===r?l=new _(a-t,e[c-1].Left+e[c-1].Width,u,i-t,e[parseInt(c.toString(),10)].Text,g):2===r?l=new _(a-(e[c-1].Left+e[c-1].Width),s-t,u,i-t,e[parseInt(c.toString(),10)].Text,g):3===r&&(l=new _(t,s-(e[c-1].Left+e[c-1].Width),u,i-t,e[parseInt(c.toString(),10)].Text,g));break;case 90:(30<(u=e[c+1].Top-(e[c-1].Top+e[c-1].Height))||u<0)&&(u=0),0===r?l=new _(o,e[c-1].Top+e[c-1].Height,n-o,u,e[parseInt(c.toString(),10)].Text,g):1===r?l=new _(a-(e[c-1].Top+e[c-1].Height),o,n-o,u,e[parseInt(c.toString(),10)].Text,g):2===r?l=new _(a-o,s-(e[c-1].Top+e[c-1].Height),n-o,u,e[parseInt(c.toString(),10)].Text,g):3===r&&(l=new _(e[c-1].Top+e[c-1].Height,s-o,n-o,u,e[parseInt(c.toString(),10)].Text,g));break;case 180:(30<(u=e[c-1].Left-(e[c+1].Left+e[c+1].Width))||u<0)&&(u=0),0===r?l=new _(e[c+1].Left+e[c+1].Width,t,u,i-t,e[parseInt(c.toString(),10)].Text,g):1===r?l=new _(a-t,e[c+1].Left+e[c+1].Width,u,i-t,e[parseInt(c.toString(),10)].Text,g):2===r?l=new _(a-(e[c+1].Left+e[c+1].Width),s-t,u,i-t,e[parseInt(c.toString(),10)].Text,g):3===r&&(l=new _(t,s-(e[c+1].Left+e[c+1].Width),u,i-t,e[parseInt(c.toString(),10)].Text,g));break;case 270:(30<(u=e[c-1].Top-(e[c+1].Top+e[c+1].Height))||u<0)&&(u=0),0===r?l=new _(o,e[c+1].Top+e[c+1].Height,n-o,u,e[parseInt(c.toString(),10)].Text,g):1===r?l=new _(a-(e[c+1].Top+e[c+1].Height),o,n-o,u,e[parseInt(c.toString(),10)].Text,g):2===r?l=new _(a-o,s-(e[c+1].Top+e[c+1].Height),n-o,u,e[parseInt(c.toString(),10)].Text,g):3===r&&(l=new _(e[c+1].Top+e[c+1].Height,s-o,n-o,u,e[parseInt(c.toString(),10)].Text,g))}}else switch(g){case 90:0===r?l=new _(o,e[c-1].Top+e[c-1].Height,n-o,e[parseInt(c.toString(),10)].Height,e[parseInt(c.toString(),10)].Text,g):1===r?l=new _(a-(e[c-1].Top+e[c-1].Height),o,n-o,e[parseInt(c.toString(),10)].Height,e[parseInt(c.toString(),10)].Text,g):2===r?l=new _(a-o,s-(e[c-1].Top+e[c-1].Height),n-o,e[parseInt(c.toString(),10)].Height,e[parseInt(c.toString(),10)].Text,g):3===r&&(l=new _(e[c-1].Top+e[c-1].Height,s-o,n-o,e[parseInt(c.toString(),10)].Height,e[parseInt(c.toString(),10)].Text,g));break;case 270:0===r?l=new _(o,e[c-1].Top-e[parseInt(c.toString(),10)].Height,n-o,e[parseInt(c.toString(),10)].Height,e[parseInt(c.toString(),10)].Text,g):1===r?l=new _(a-(e[c-1].Top-e[parseInt(c.toString(),10)].Height),o,n-o,e[parseInt(c.toString(),10)].Height,e[parseInt(c.toString(),10)].Text,g):2===r?l=new _(a-o,s-e[c-1].Top-e[parseInt(c.toString(),10)].Height,n-o,e[parseInt(c.toString(),10)].Height,e[parseInt(c.toString(),10)].Text,g):3===r&&(l=new _(e[c-1].Top-e[parseInt(c.toString(),10)].Height,s-o,n-o,e[parseInt(c.toString(),10)].Height,e[parseInt(c.toString(),10)].Text,g));break;case 180:0===r?l=new _(e[c-1].Left-e[parseInt(c.toString(),10)].Width,t,e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,g):1===r?l=new _(a-t,e[c-1].Left-e[parseInt(c.toString(),10)].Width,e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,g):2===r?l=new _(a-(e[c-1].Left-e[parseInt(c.toString(),10)].Width),s-t,e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,g):3===r&&(l=new _(t,s-(e[c-1].Left-e[parseInt(c.toString(),10)].Width),e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,g));break;case 0:0===r?l=new _(e[c-1].Left+e[c-1].Width,t,e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,g):1===r?l=new _(a-t,e[c-1].Left+e[c-1].Width,e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,g):2===r?l=new _(a-(e[c-1].Left+e[c-1].Width),s-t,e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,g):3===r&&(l=new _(t,s-(e[c-1].Left+e[c-1].Width),e[parseInt(c.toString(),10)].Width,i-t,e[parseInt(c.toString(),10)].Text,g))}A||(this.TextBounds.push(l),this.TextContent.push(e[parseInt(c.toString(),10)].Text))}A&&(this.TextBounds.push(l),this.TextContent.push(d))},o.prototype.checkIsRtlText=function(e){return new RegExp("^[^A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF\\u2C00-\\uFB1C\\uFDFE-\\uFE6F\\uFEFD-\\uFFFF]*[\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC]").test(e)},o.prototype.getPageRender=function(e,t,i,n,o,r,a,s){e=this.getRender(e=void 0===e?0:e,t,i,n,o,r,a,s),n=S.HEAPU8.slice(e,e+t*i*4);return S.asm.free(e),n},o.prototype.render=function(e,t,i,n,o,r,a,s,l,A,d,p){var h,c=this.getPageSize(e=void 0===e?0:e),g=c[0],u=c[1];isNaN(g)&&isNaN(u)&&(w=Z.LoadPage(this.wasmData.wasm,e),u=this.pointerToPixelConverter(Z.GetPageHeight(w)),g=this.pointerToPixelConverter(Z.GetPageWidth(w)));if("thumbnail"===t)return f=Math.round(149.55),m=Math.round(211.5),{value:B=this.getPageRender(e,f,m,n,null,null,null,p),width:f,height:m,pageIndex:e,message:"renderThumbnail",textBounds:this.TextBounds,textContent:this.TextContent,rotation:this.Rotation,pageText:this.PageText,characterBounds:this.CharacterBounds,zoomFactor:i,isTextNeed:n,textDetailsId:a};if("print"===t)return"Width"==((c=u)<(h=g)?"Width":"Height")?4493===(h=4493<g?4493:g)&&(c=u/(g/4493)):4493===(c=4493<u?4493:u)&&(h=g/(u/4493)),f=Math.round(h*o*1.5),m=Math.round(c*o*1.5),{value:B=this.getPageRender(e,f,m,!1,null,null,null,p),width:f,height:m,pageIndex:e,pageWidth:g,pageHeight:u,message:"printImage",printDevicePixelRatio:r};for(var f=Math.round(1.5*(d&&null!==d?d.width:g)*i),m=Math.round(1.5*(d&&null!==d?d.height:u)*i);2147483648<=f*m*4*2;)i-=.1,f=Math.round(this.pointerToPixelConverter(g)*i),m=Math.round(this.pointerToPixelConverter(u)*i);var w,B=null;return"extractText"===t?(w=Z.LoadPage(this.wasmData.wasm,e),this.textExtraction(w,e,n,l,A,p),Z.ClosePage(w)):B=this.getPageRender(e,f,m,n,s,l,A,p),{value:B,width:f,height:m,pageWidth:g,pageHeight:u,pageIndex:e,message:"imageRendered",textBounds:this.TextBounds,textContent:this.TextContent,rotation:this.Rotation,pageText:this.PageText,characterBounds:this.CharacterBounds,zoomFactor:i,isTextNeed:n,textDetailsId:a}},o.prototype.renderTileImage=function(e,t,i,n,o,r,a,s,l,A){var d=this.getPageSize(e=void 0===e?0:e),p=d[0],d=d[1],p=Math.round(1.5*p*r),d=Math.round(1.5*d*r),h=Math.round(p/n),c=Math.round(d/o),g=Z.REVERSE_BYTE_ORDER,u=S.asm.malloc(h*c*4),f=(S.HEAPU8.fill(0,u,u+h*c*4),Z.Bitmap_CreateEx(h,c,4,u,4*h)),m=Z.LoadPage(this.wasmData.wasm,e),p=(Z.Bitmap_FillRect(f,0,0,h,c,4294967295),Z.RenderPageBitmap(f,m,-t*h,-i*c,p,d,0,g),Z.Bitmap_Destroy(f),this.textExtraction(m,e,a,l,A),Z.ClosePage(m),u),d=S.HEAPU8.slice(p,p+h*c*4);return S.asm.free(p),0===t&&0===i?{value:d,w:h,h:c,noTileX:n,noTileY:o,x:t,y:i,pageIndex:e,message:"renderTileImage",textBounds:this.TextBounds,textContent:this.TextContent,rotation:this.Rotation,pageText:this.PageText,characterBounds:this.CharacterBounds,textDetailsId:s,isTextNeed:a,zoomFactor:r}:{value:d,w:h,h:c,noTileX:n,noTileY:o,x:t,y:i,pageIndex:e,message:"renderTileImage",textDetailsId:s,isTextNeed:a,zoomFactor:r}},o.prototype.getLastError=function(){switch(Z.GetLastError()){case Z.LAST_ERROR.SUCCESS:return"success";case Z.LAST_ERROR.UNKNOWN:return"unknown error";case Z.LAST_ERROR.FILE:return"file not found or could not be opened";case Z.LAST_ERROR.FORMAT:return"file not in PDF format or corrupted";case Z.LAST_ERROR.PASSWORD:return"password required or incorrect password";case Z.LAST_ERROR.SECURITY:return"unsupported security scheme";case Z.LAST_ERROR.PAGE:return"page not found or content error";default:return"unknown error"}},o);function o(e){this.TextBounds=[],this.TextContent=[],this.CharacterBounds=[],this.PageText="",this.wasmData=e}r.prototype.setPages=function(e){this.pages=Array(e).fill(null)},r.prototype.createAllPages=function(){for(var e=0;e<this.pages.length;e++)this.pages[parseInt(e.toString(),10)]=new i(parseInt(e.toString(),10),this.processor)},r.prototype.getPage=function(e){var t=this.pages[parseInt(e.toString(),10)];return t||(t=new i(e),this.pages[parseInt(e.toString(),10)]=t),t};var Q=r;function r(e){this.pages=[],this.processor=new n(e)}}Za.prototype.exportAnnotationComments=function(e,t){var i=this.pdfViewer.pdfRendererModule.loadedDocument.getPage(parseInt(e.toString(),10)).rotation;return this.getAnnotationFromPDF(t.height,t.width,e,i)},Za.prototype.IsStampExist=function(e){switch(e.trim()){case"Approved":case"Not Approved":case"Confidential":case"Draft":case"Final":case"Completed":case"For Public Release":case"Not For Public Release":case"For Comment":case"Void":case"Preliminary Results":case"Information Only":case"Witness":case"Initial Here":case"Sign Here":case"Accepted":case"Rejected":case"Revised":case"Reviewed":case"Received":return!0;default:return!1}},Za.prototype.getAnnotationFromPDF=function(f,m,w,B){var C=this.pdfViewer.pdfRendererModule.loadedDocument.getPage(parseInt(w.toString(),10)),S=new rs(this.pdfViewer,this.pdfViewerBase),y=[],I=[];if(this.isAnnotationPresent=!1,null!=C&&(I=this.getAllFreeTextAnnotations(C.annotations),this.annotationCount=0,null!=C.annotations)&&0<C.annotations.count){this.isAnnotationPresent=!0;for(var E=this,e=0;e<C.annotations.count;e++)!function(e){var t,i,e=C.annotations.at(e);if(e instanceof j.PdfTextMarkupAnnotation?(h=S.loadTextMarkupAnnotation(e,f,m,B,C),E.textMarkupAnnotationList[E.textMarkupAnnotationList.length]=h,E.annotationOrder[E.annotationOrder.length]=h,h=E.textMarkupAnnotationList[E.textMarkupAnnotationList.length-1].AnnotName,!G.isNullOrUndefined(h)&&""!==h||(E.textMarkupAnnotationList[E.textMarkupAnnotationList.length-1].AnnotName=E.setAnnotationName(w))):e instanceof j.PdfLineAnnotation?(p=E.getShapeFreeText(e.name,I),G.isNullOrUndefined(p)||y.push(p.name),h=(A=S.loadLineAnnotation(e,f,m,B,p)).AnnotName,!G.isNullOrUndefined(h)&&""!==h||(A.AnnotName=E.setAnnotationName(w)),G.isNullOrUndefined(A)||(A instanceof ps?(E.measureAnnotationList[E.measureAnnotationList.length]=A,E.annotationOrder[E.annotationOrder.length]=A):A instanceof ds&&(E.shapeAnnotationList[E.shapeAnnotationList.length]=A,E.annotationOrder[E.annotationOrder.length]=A))):e instanceof j.PdfSquareAnnotation||e instanceof j.PdfRectangleAnnotation?(p=E.getShapeFreeText(e.name,I),G.isNullOrUndefined(p)||y.push(p.name),h=(A=S.loadSquareAnnotation(e,f,m,B,p)).AnnotName,!G.isNullOrUndefined(h)&&""!==h||(A.AnnotName=E.setAnnotationName(w)),G.isNullOrUndefined(A)||(A instanceof ps?(E.measureAnnotationList[E.measureAnnotationList.length]=A,E.annotationOrder[E.annotationOrder.length]=A):A instanceof ds&&(E.shapeAnnotationList[E.shapeAnnotationList.length]=A,E.annotationOrder[E.annotationOrder.length]=A))):e instanceof j.PdfCircleAnnotation||e instanceof j.PdfEllipseAnnotation?(p=E.getShapeFreeText(e.name,I),G.isNullOrUndefined(p)||y.push(p.name),A=S.loadEllipseAnnotation(e,f,m,B,p),G.isNullOrUndefined(A)||(A instanceof ps?(E.measureAnnotationList[E.measureAnnotationList.length]=A,E.annotationOrder[E.annotationOrder.length]=A):A instanceof ds&&(E.shapeAnnotationList[E.shapeAnnotationList.length]=A,E.annotationOrder[E.annotationOrder.length]=A))):e instanceof j.PdfPolygonAnnotation?(p=E.getShapeFreeText(e.name,I),G.isNullOrUndefined(p)||y.push(p.name),h=(A=S.loadPolygonAnnotation(e,f,m,B,p)).AnnotName,!G.isNullOrUndefined(h)&&""!==h||(A.AnnotName=E.setAnnotationName(w)),G.isNullOrUndefined(A)||(A instanceof ps?(E.measureAnnotationList[E.measureAnnotationList.length]=A,E.annotationOrder[E.annotationOrder.length]=A):A instanceof ds&&(E.shapeAnnotationList[E.shapeAnnotationList.length]=A,E.annotationOrder[E.annotationOrder.length]=A))):(e instanceof j.PdfPolyLineAnnotation||e instanceof j.PdfAngleMeasurementAnnotation)&&(p=E.getShapeFreeText(e.name,I),G.isNullOrUndefined(p)||y.push(p.name),h=(A=S.loadPolylineAnnotation(e,f,m,B,p)).AnnotName,!G.isNullOrUndefined(h)&&""!==h||(A.AnnotName=E.setAnnotationName(w)),G.isNullOrUndefined(A)||(A instanceof ps?(E.measureAnnotationList[E.measureAnnotationList.length]=A,E.annotationOrder[E.annotationOrder.length]=A):A instanceof ds&&(E.shapeAnnotationList[E.shapeAnnotationList.length]=A,E.annotationOrder[E.annotationOrder.length]=A))),e instanceof j.PdfRubberStampAnnotation){E.htmldata=[];for(var n=e,o=[],r=0,a=E.pdfViewer.pdfRendererModule.formFieldsBase.PdfRenderedFormFields;r<a.length;r++){var s=a[r];if(s.ActualFieldName===n._dictionary._map.T){o.push(s);break}}if(n._dictionary.has("T")&&E.checkName(n))E.signatureAnnotationList.push(S.loadSignatureImage(n,w));else if(n._dictionary.has("M")||n._dictionary.has("NM")||n._dictionary.has("Name")&&!n._dictionary.has("F")||!n._dictionary.has("NM")&&!n._dictionary.has("T")||G.isNullOrUndefined(o[0])||!E.pdfViewerBase.isSignatureWithInRect(E.pdfViewerBase.canvasRectArray(o[0].LineBounds),E.pdfViewerBase.canvasRectArray(n.bounds))){var l=new _a,A=(l.Author=n.author,l.Subject=n.subject,l.AnnotName=n.name,""!==l.AnnotName&&!G.isNullOrUndefined(l.AnnotName)||(l.AnnotName=E.setAnnotationName(w)),e._dictionary.has("rotateAngle")?void 0!==(p=e._dictionary.get("rotateAngle"))&&(l.RotateAngle=90*parseInt(p[0],10)):(l.RotateAngle=360-(Math.abs(n.rotate)-90*B),h=l.RotateAngle,360<=l.RotateAngle&&(l.RotateAngle=h-360)),!1),A=(0!==l.RotateAngle&&(A=Math.ceil(100*n._innerTemplateBounds.x)/100==Math.ceil(100*n.bounds.x)/100&&Math.ceil(100*n._innerTemplateBounds.y)/100==Math.ceil(100*n.bounds.y)/100&&Math.ceil(100*n._innerTemplateBounds.width)/100==Math.ceil(100*n.bounds.width)/100&&Math.ceil(100*n._innerTemplateBounds.height)/100==Math.ceil(100*n.bounds.height)/100),0!==l.RotateAngle&&A||0===l.RotateAngle?l.Rect=E.getBounds(n.bounds,f,m,B):(p=E.getRubberStampBounds(n._innerTemplateBounds,n.bounds,f,m,B),l.Rect=p),l.Rect.y<0&&(h=new J.Rect(l.Rect.x,C.cropBox[1]+l.Rect.y,l.Rect.width,l.Rect.height),l.Rect=E.getBounds(h,f,m,B)),l.Icon=n.icon,G.isNullOrUndefined(n.modifiedDate)?l.ModifiedDate=E.formatDate(new Date):l.ModifiedDate=E.formatDate(n.modifiedDate),l.Opacity=n.opacity,l.pageNumber=w,e._dictionary.get("AP"));if(E.pdfViewerBase.pngData.push(n),l.IsDynamic=!1,l.AnnotType="stamp",Object.prototype.hasOwnProperty.call(n._dictionary,"iconName")?l.IconName=n.getValues("iconName")[0]:null!==n.subject?l.IconName=n.subject:l.IconName="",G.isNullOrUndefined(n.text)?l.Note="":l.Note=n.text,S.updateIsLockProperty(l,n),!G.isNullOrUndefined(n.reviewHistory))for(var d=0;d<n.reviewHistory.count;d++)l.State=E.getStateString(n.reviewHistory.at(parseInt(d.toString(),10)).state),l.StateModel=E.getStateModelString(n.reviewHistory.at(parseInt(d.toString(),10)).stateModel);null!=l.State&&null!=l.StateModel||(l.State="Unmarked",l.StateModel="None"),l.Comments=new Array;for(var p,h,c,g=0;g<n.comments.count;g++){var u=S.loadPopupAnnotation(n.comments.at(g),f,m,B);l.Comments.push(u)}e._dictionary.has("Name")&&(l.Name=e._dictionary.get("Name"),e._dictionary.get("Name").name)&&(e._dictionary.get("Name").name.includes("#23D")||e._dictionary.get("Name").name.includes("#D"))&&(l.IsDynamic=!0),l.IsMaskedImage=E.isMaskedImage,l.Apperarance=E.htmldata,n._dictionary.has("CustomData")&&(p=n._dictionary.get("CustomData"),!G.isNullOrUndefined(p))&&p.trim()&&(h=A.get("CustomData")?A.get("CustomData"):p)&&(l.CustomData=h),E.rubberStampAnnotationList.push(l),E.annotationOrder.push(l),G.isNullOrUndefined(A)?(p=e._dictionary.get("AP"),G.isNullOrUndefined(p)||G.isNullOrUndefined(p.dictionary)||!p.dictionary.has("N")||(h=p.dictionary,G.isNullOrUndefined(h))||(0===(c=e.createTemplate()).size[0]||0===c.size[1]||G.isNullOrUndefined(c._appearance)?E.findStampImage(e):E.findStampTemplate(e,l,B,E.annotationOrder.length-1))):A.has("N")&&(0===(c=e.createTemplate()).size[0]||0===c.size[1]||G.isNullOrUndefined(c._appearance)?E.findStampImage(e):E.findStampTemplate(e,l,B,E.annotationOrder.length-1))}}e instanceof j.PdfPopupAnnotation&&!e._dictionary.has("IRT")&&(p=S.loadPopupAnnotation(e,f,m,B),E.stickyAnnotationList[E.stickyAnnotationList.length]=p,h=(E.annotationOrder[E.annotationOrder.length]=p).AnnotName,G.isNullOrUndefined(h)||""===h)&&(p.AnnotName=E.setAnnotationName(w)),e instanceof j.PdfFreeTextAnnotation&&(t=e,E.isFreeTextAnnotationType(t)?(A=y.some(function(e){return e===t.name}),i=S.loadFreeTextAnnotation(t,f,m,B,C),A||(E.freeTextAnnotationList[E.freeTextAnnotationList.length]=i,E.annotationOrder[E.annotationOrder.length]=i)):(i=S.loadSignatureText(t,w,f,m,B),t._dictionary.has("T")||(E.signatureAnnotationList[E.signatureAnnotationList.length]=i,E.annotationOrder[E.annotationOrder.length]=i))),e instanceof j.PdfInkAnnotation&&(h=S.loadSignature(c=e,f,m,B,w,C),p=S.loadInkAnnotation(c,f,m,B,w,C),c._dictionary.has("T")?c._dictionary.has("NM")?(E.signatureInkAnnotationList.push(p),E.annotationOrder.push(p)):!c._dictionary.has("T")||!c._dictionary.has("annotationSignature")||0<c.getValues("annotationSignature").length||(E.signatureAnnotationList.push(h),E.annotationOrder.push(h)):(E.signatureAnnotationList.push(h),E.annotationOrder.push(h)),c._dictionary.has("NM")||c._dictionary.has("annotationSignature")||(E.signatureAnnotationList.push(h),E.annotationOrder.push(h)))}(e)}return{shapeAnnotation:this.shapeAnnotationList,textMarkupAnnotation:this.textMarkupAnnotationList,measureShapeAnnotation:this.measureAnnotationList,stampAnnotations:this.rubberStampAnnotationList,stickyNotesAnnotation:this.stickyAnnotationList,freeTextAnnotation:this.freeTextAnnotationList,signatureAnnotation:this.signatureAnnotationList,signatureInkAnnotation:this.signatureInkAnnotationList,annotationOrder:this.annotationOrder}},Za.prototype.formatDate=function(e){return this.datePadding(e.getMonth()+1)+"/"+this.datePadding(e.getDate())+"/"+e.getFullYear()+" "+this.datePadding(e.getHours())+":"+this.datePadding(e.getMinutes())+":"+this.datePadding(e.getSeconds())},Za.prototype.datePadding=function(e){return e<10?"0"+e:e.toString()},Za.prototype.findStampImage=function(e){var t,e=e._dictionary.get("AP").get("N");G.isNullOrUndefined(e)||(t=e.getString(),t=j._stringToBytes(t,!0),t=new j._ContentParser(t)._readContent(),this.stampAnnoattionRender(t,e))},Za.prototype.findStampTemplate=function(e,t,i,n,o,r,a,s){var e=e.createTemplate(),l=(t.template=e._appearance,t.templateSize=e.size,new j.PdfDocument(this.readFromResources())),A=new j.PdfPageSettings;A.margins=new j.PdfMargins(0),A.rotation=i,A.size=e.size;l.addPage(A).graphics.drawTemplate(e,{x:0,y:0,width:e.size[0],height:e.size[1]}),l.removePage(0);i="data:application/pdf;base64,"+j._encode(l.save()),i=this.pdfViewerBase.checkDocumentData(i,!1),A=this.pdfViewerBase.convertBase64(i);o?this.pdfViewerBase.pdfViewerRunner.addTask({uploadedFile:A,message:"LoadPageStampCollection",password:null,pageIndex:0,zoomFactor:this.pdfViewer.magnificationModule.zoomFactor,isTextNeed:!1,isZoomMode:!1,AnnotName:t.AnnotName,rubberStampAnnotationPageNumber:t.pageNumber,annotationOrder:JSON.stringify(this.annotationOrder),collectionOrder:n,isFormField:o,formFieldName:r,formFieldList:JSON.stringify(a),rubberStampAnnotation:t,PageIndex:s},ln.High):this.pdfViewerBase.pdfViewerRunner.addTask({uploadedFile:A,message:"LoadPageStampCollection",password:null,pageIndex:0,zoomFactor:this.pdfViewer.magnificationModule.zoomFactor,isTextNeed:!1,isZoomMode:!1,AnnotName:t.AnnotName,rubberStampAnnotationPageNumber:t.pageNumber,annotationOrder:JSON.stringify(this.annotationOrder),collectionOrder:n},ln.High)},Za.prototype.initialPagesRendered=function(e){var t,i=document.createElement("canvas"),n=e.value,o=e.width,r=e.height,a=(i.width=o,i.height=r,i.getContext("2d")),o=a.createImageData(o,r),r=(o.data.set(n),a.putImageData(o,0,0),i.toDataURL()),n=(this.pdfViewerBase.releaseCanvas(i),{imagedata:r}),s=e.annotName,a=[],l=(0<JSON.parse(e.annotationOrder).length?a=JSON.parse(e.annotationOrder):this.pdfViewer.viewerBase.importedAnnotation&&this.pdfViewer.viewerBase.importedAnnotation[e.rubberStampAnnotationPageNumber]&&(a=this.pdfViewer.viewerBase.importedAnnotation[e.rubberStampAnnotationPageNumber].annotationOrder),a.find(function(e){return s===e.AnnotName}));if(l){G.isNullOrUndefined(l.Apperarance)||(l.Apperarance=[]),l.Apperarance.push(n),o=F.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp"),this.pdfViewerBase.isStorageExceed&&(o=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]);var A=!0;if(o&&0<(t=JSON.parse(o)).length)for(var d=0;d<t.length;d++)for(var p=0;p<t[parseInt(d.toString(),10)].annotations.length;p++)t[parseInt(d.toString(),10)].annotations[parseInt(p.toString(),10)].annotName===l.AnnotName&&(A=!1);A&&this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotImage(l,0,null,null,!0,!0,e.collectionOrder)}this.Imagedata=r},Za.prototype.readFromResources=function(){return"JVBERi0xLjUNCiWDkvr+DQo0IDAgb2JqDQo8PA0KL1R5cGUgL0NhdGFsb2cNCi9QYWdlcyA1IDAgUg0KL0Fjcm9Gb3JtIDYgMCBSDQo+Pg0KZW5kb2JqDQoxIDAgb2JqDQo8PA0KL0ZpbHRlciAvRmxhdGVEZWNvZGUNCi9MZW5ndGggMTINCj4+DQpzdHJlYW0NCnheUyhU4AIAAiEAvA0KZW5kc3RyZWFtDQplbmRvYmoNCjIgMCBvYmoNCjw8DQovRmlsdGVyIC9GbGF0ZURlY29kZQ0KL0xlbmd0aCAxMg0KPj4NCnN0cmVhbQ0KeF5TCFTgAgABwQCcDQplbmRzdHJlYW0NCmVuZG9iag0KMyAwIG9iag0KPDwNCi9GaWx0ZXIgL0ZsYXRlRGVjb2RlDQovTGVuZ3RoIDEzNQ0KPj4NCnN0cmVhbQ0KeF5tjs0KwjAQhO8L+w578diYSlu9+wSC4DnUbRvIT0324ttrogiih2UYlm9mbggbOi4mzExjbGK62mCEKd+zsCeJ5HiSrcRVIbRKa1Lv+5hDtytCo69Zzq7kTZptyE+k0+XXvKRv++r2QyUSIywIFwoFPCcTsivdvzv+dn9F1/YTwgN6hTPqDQplbmRzdHJlYW0NCmVuZG9iag0KOSAwIG9iag0KPDwNCi9GaXJzdCAyNg0KL04gNA0KL1R5cGUgL09ialN0bQ0KL0ZpbHRlciAvRmxhdGVEZWNvZGUNCi9MZW5ndGggMTk2DQo+Pg0Kc3RyZWFtDQp4Xm1PTQuCQBC9L+x/mF+Qu34H4qHCSwRi3cTDYkMI4YauUP++WcVM6rA784b35r0JQHAWgpQ+ZxFIL+QsBlcIzpKEM+fyeiA4ubphT+jYXHsoIxBQVAT3emgNSOoK7PXQ1dhDkqQpZzQ64bVRO/2EciME2BdsA1ti36Vi9YU2yqANMGlGx6zBu3WpVtPF6l+ieE6Uqw6JF1i80i+qhRVNLNrdGsK0R9oJuOPvzTu/b7PiTtdnNFA6+SH7hPy55Q19a1EBDQplbmRzdHJlYW0NCmVuZG9iag0KMTAgMCBvYmoNCjw8DQovUm9vdCA0IDAgUg0KL0luZGV4IFswIDExXQ0KL1NpemUgMTENCi9UeXBlIC9YUmVmDQovVyBbMSAyIDFdDQovRmlsdGVyIC9GbGF0ZURlY29kZQ0KL0xlbmd0aCA0NA0KPj4NCnN0cmVhbQ0KeF4Vw0ENACAMALG77cVzBvCFUEShAkaTAlcWstFCimD89uipB3PyAFuGA3QNCmVuZHN0cmVhbQ0KZW5kb2JqDQoNCnN0YXJ0eHJlZg0KNzk4DQolJUVPRg0KJVBERi0xLjUNCiWDkvr+DQoxMSAwIG9iag0KPDwNCi9GaXJzdCA1DQovTiAxDQovVHlwZSAvT2JqU3RtDQovRmlsdGVyIC9GbGF0ZURlY29kZQ0KL0xlbmd0aCA3MQ0KPj4NCnN0cmVhbQ0KeF4zVzDg5bKx4eXSd84vzStRMOTl0g+pLEhV0A9ITE8tBvK8M1OKFaItFAwUgmKB3IDEolSgOlMQn5fLzo6Xi5cLAEOtEAkNCmVuZHN0cmVhbQ0KZW5kb2JqDQoxMiAwIG9iag0KPDwNCi9Sb290IDQgMCBSDQovSW5kZXggWzAgMSA3IDEgMTEgMl0NCi9TaXplIDEzDQovVHlwZSAvWFJlZg0KL1cgWzEgMiAxXQ0KL1ByZXYgNzk4DQovTGVuZ3RoIDI0DQovRmlsdGVyIC9GbGF0ZURlY29kZQ0KPj4NCnN0cmVhbQ0KeF5jYGD4z8TAzcDIwsLAyLKbAQAPSwHWDQplbmRzdHJlYW0NCmVuZG9iag0KDQpzdGFydHhyZWYNCjEyMTENCiUlRU9GDQo="},Za.prototype.getPageRotation=function(e){return 0===e.rotate?0:90===e.rotate?1:180===e.rotate?2:270===e.rotate?3:0},Za.prototype.stampAnnoattionRender=function(e,t){if(!G.isNullOrUndefined(e))for(var i=0;i<e.length;i++){var n,o=e[parseInt(i.toString(),10)]._operands;switch(e[parseInt(i.toString(),10)]._operator){case"q":var r={restorecanvas:!1};this.htmldata.push(r);break;case"Q":var r={restorecanvas:!0};this.htmldata.push(r);break;case"Tr":this.renderingMode=parseInt(o[0],10);break;case"TJ":case"Tj":case"'":this.textString=e[parseInt(i.toString(),10)]._operands[0];r={type:"string",text:this.textString,currentFontname:this.currentFont,baseFontName:this.baseFont,fontSize:this.fontSize};this.htmldata.push(r);break;case"Tf":for(var a,s,l,A,d=0,d=0;d<o.length;d++)if(o[parseInt(d.toString(),10)].includes("/")){this.currentFont=o[parseInt(d.toString(),10)].replace("/","");break}this.fontSize=parseInt(o[d+1],10),t.dictionary.has("Resources")&&(a=t.dictionary.get("Resources"),G.isNullOrUndefined(a)||(s=a.get("Font"),G.isNullOrUndefined(s))||"Tf"!==e[parseInt(i.toString(),10)]._operator||(l=o[0].replace("/",""),l=s.get(l),G.isNullOrUndefined(l))||G.isNullOrUndefined(l.dictionary)||(A=l.dictionary,this.baseFont=A.get("BaseFont")));break;case"Do":t.dictionary.has("Resources")&&(a=t.dictionary.get("Resources"),G.isNullOrUndefined(a)||(s=a.get("XObject"),G.isNullOrUndefined(s))||"Do"!==e[parseInt(i.toString(),10)]._operator||(n=o[0].replace("/",""),s.has(n)&&(l=s.get(n),G.isNullOrUndefined(l)||G.isNullOrUndefined(l.dictionary)||("Image"===(A=l).dictionary.get("Subtype").name?(n=new bs(A,A.dictionary),G.isNullOrUndefined(n)||(n=n.getImageStream(),n="data:image/png;base64,"+j._encode(n),this.htmldata.push(r={imagedata:n}),this.Imagedata=n)):"Form"===A.dictionary.get("Subtype").name&&(n=A.getString(),n=j._stringToBytes(n,!0),n=new j._ContentParser(n)._readContent(),this.stampAnnoattionRender(n,A)),this.IsMaskedImage=!1,A.dictionary.get("SMask")&&(this.IsMaskedImage=!0)))))}}},Za.prototype.getStateModelString=function(e){switch(e){case j.PdfAnnotationStateModel.review:return"Review";case j.PdfAnnotationStateModel.marked:return"Marked";default:j.PdfAnnotationStateModel.none;return"None"}},Za.prototype.getStateString=function(e){switch(e){case j.PdfAnnotationState.accepted:return"Accepted";case j.PdfAnnotationState.rejected:return"Rejected";case j.PdfAnnotationState.cancel:return"Cancelled";case j.PdfAnnotationState.completed:return"Completed";case j.PdfAnnotationState.none:return"None";case j.PdfAnnotationState.unmarked:return"Unmarked";case j.PdfAnnotationState.marked:return"Marked";case j.PdfAnnotationState.unknown:return"Unknown";default:return null}},Za.prototype.getBounds=function(e,t,i,n){var o;return 0===n?o=new J.Rect(e.x,e.y,e.width,e.height):1===n?o=new J.Rect(this.convertPixelToPoint(i-this.convertPointToPixel(e.y)-this.convertPointToPixel(e.height)),e.x,e.height,e.width):2===n?o=new J.Rect(this.convertPixelToPoint(i-this.convertPointToPixel(e.x)-this.convertPointToPixel(e.width)),this.convertPixelToPoint(t-this.convertPointToPixel(e.y)-this.convertPointToPixel(e.height)),e.width,e.height):3===n&&(o=new J.Rect(e.y,this.convertPixelToPoint(t-this.convertPointToPixel(e.x)-this.convertPointToPixel(e.width)),e.height,e.width)),o},Za.prototype.getRubberStampBounds=function(e,t,i,n,o){var r,a,s=new J.Rect,l=0,A=0;return 0===o?(l=t.x+t.width/2,A=t.y+t.height/2,s=new J.Rect(l-e.width/2,A-e.height/2,e.width,e.height)):1===o?(r=this.convertPixelToPoint(n-this.convertPointToPixel(G.isNullOrUndefined(t.Y)?t.y:t.Y)-this.convertPointToPixel(t.height)),a=G.isNullOrUndefined(t.X)?t.x:t.X,l=r+t.height/2,A=a+t.width/2,s=new J.Rect(l-e.width/2,A-e.height/2,e.width,e.height)):2===o?(r=this.convertPixelToPoint(n-this.convertPointToPixel(G.isNullOrUndefined(t.X)?t.x:t.X)-this.convertPointToPixel(t.width)),a=this.convertPixelToPoint(i-this.convertPointToPixel(G.isNullOrUndefined(t.Y)?t.y:t.Y)-this.convertPointToPixel(t.height)),l=r+t.width/2,A=a+t.height/2,s=new J.Rect(l-e.width/2,A-e.height/2,e.width,e.height)):3===o&&(r=G.isNullOrUndefined(t.Y)?t.y:t.Y,a=this.convertPixelToPoint(i-this.convertPointToPixel(G.isNullOrUndefined(t.X)?t.x:t.X)-this.convertPointToPixel(t.width)),l=r+t.height/2,A=a+t.width/2,s=new J.Rect(l-e.width/2,A-e.height/2,e.width,e.height)),s},Za.prototype.convertPixelToPoint=function(e){return 72*e/96},Za.prototype.convertPointToPixel=function(e){return 96*e/72},Za.prototype.getRotateAngleString=function(e){switch(e){case j.PdfRotationAngle.angle0:return"RotateAngle0";case j.PdfRotationAngle.angle90:return"RotateAngle90";case j.PdfRotationAngle.angle180:return"RotateAngle180";case j.PdfRotationAngle.angle270:return"RotateAngle270";default:return"RotateAngle0"}},Za.prototype.checkName=function(e){if("Name"in e._dictionary){e=e.getValues("Name");if(!G.isNullOrUndefined(e)&&-1<e.indexOf("#"))return!0}return!1},Za.prototype.getAllFreeTextAnnotations=function(e){for(var t=[],i=0;i<e.count;i++){var n=e.at(i);n instanceof j.PdfFreeTextAnnotation&&t.push(n)}return t},Za.prototype.getShapeFreeText=function(t,e){return G.isNullOrUndefined(t)||""===t?null:e.find(function(e){return null!=e.name&&e.name.includes(t)})},Za.prototype.setAnnotationName=function(e){e+=this.annotationCount.toString();return this.annotationCount++,e},Za.prototype.isFreeTextAnnotationType=function(e){var t=!0;return e._dictionary.has("AnnotationType")&&(e=e.getValues("AnnotationType"),G.isNullOrUndefined(e)||"Signature"!==e[0]||(t=!1)),t};var Wa=Za;function Za(e,t){this.shapeAnnotationList=[],this.textMarkupAnnotationList=[],this.measureAnnotationList=[],this.stickyAnnotationList=[],this.rubberStampAnnotationList=[],this.freeTextAnnotationList=[],this.signatureAnnotationList=[],this.signatureInkAnnotationList=[],this.annotationOrder=[],this.hyperlinks=[],this.imageData="",this.isMaskedImage=!1,this.hyperlinkBounds=[],this.annotationDestPage=[],this.annotationList=[],this.annotationYPosition=[],this.digitalSignaturePresent=!1,this.annotationCount=0,this.isAnnotationPresent=!1,this.htmldata=[],this.renderingMode=0,this.textString="",this.baseFont="",this.fontSize=0,this.pdfViewer=e,this.pdfViewerBase=t}var _a=function(){},Xa=(Object.defineProperty(D.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"ReferencePath",{get:function(){return this.mReferencePath},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"referencePath",{set:function(e){this.mReferencePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"ScaleFactor",{get:function(){return this.scaleFactor},set:function(e){this.scaleFactor=e,this.scaleFactor<=0&&(this.scaleFactor=1)},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"FallbackFontCollection",{get:function(){return this._fallbackFontCollection},set:function(e){this._fallbackFontCollection=e},enumerable:!0,configurable:!0}),D.prototype.load=function(e,t,i,n){try{"VirtualLoad"!==n.action&&(this.loadedDocument=new j.PdfDocument(e,i||""),this.loadedByteArray=e,this.password=i,this.isCompletePageSizeNotReceieved=!0)}catch(e){return"Invalid PDF structure."===e.message?"3":"Cannot open an encrypted document. The password is invalid."===e.message||"Invalid cross reference"===e.message?"4":e.message}e=this.loadDocument(e,t,i,n);return this.bookmarkStyles=[],this.bookmarkCollection=[],this.bookmarkDictionary={},JSON.stringify(e)},D.prototype.loadImportDocument=function(e,t,i,n){try{"VirtualLoad"!==n.action&&(this.loadImportedDocument=new j.PdfDocument(e,i||""),this.loadImportedBase64String=e,this.importedDocpassword=i)}catch(e){return"Invalid PDF structure."===e.message?"3":"Cannot open an encrypted document. The password is invalid."===e.message||"Invalid cross reference"===e.message?"4":e.message}n={uniqueId:t,password:this.importedDocpassword};return this.loadImportedDocument.destroy(),this.loadImportedDocument=null,JSON.stringify(n)},D.prototype.loadDocument=function(e,t,i,n){Object.prototype.hasOwnProperty.call(n,"isCompletePageSizeNotReceived")&&(this.isCompletePageSizeNotReceieved=!n.isCompletePageSizeNotReceived),this.pageCount=this.loadedDocument.pageCount,this.pageSizes=this.getPageSizes(this.pageCount);var o=[];if(this.formFieldsBase=new ns(this.pdfViewer,this.pdfViewerBase,!1),this.restrictionList=[],G.isNullOrUndefined(this.loadedDocument)||this.documentSecurity(i),G.isNullOrUndefined(this.loadedDocument)||(Object.prototype.hasOwnProperty.call(n,"hideEmptyDigitalSignatureFields")&&(this.formFieldsBase.hideEmptyDigitalSignatureFields=n.hideEmptyDigitalSignatureFields),Object.prototype.hasOwnProperty.call(n,"showDigitalSignatureAppearance")&&(this.formFieldsBase.showDigitalSignatureAppearance=n.showDigitalSignatureAppearance)),!G.isNullOrUndefined(this.formFieldsBase)&&this.pageSizes&&Object.keys(this.pageSizes).length<=100&&(this.formFieldsBase.GetFormFields(),o=this.formFieldsBase.PdfRenderedFormFields),this.formFieldsBase.mIsDigitalSignaturePresent){var i=new j.PdfDocument(e,""),r=i.form;if(!G.isNullOrUndefined(r)&&!G.isNullOrUndefined(r._fields))for(var a,s=0;s<r.count;s++)r.fieldAt(s)instanceof j.PdfSignatureField&&(a=r.fieldAt(s)).isSigned&&this.formFieldsBase.showDigitalSignatureAppearance&&(a.flatten=!0);this.digitialByteArray=i.save(),i.destroy()}return{pageCount:this.pageCount,pageSizes:this.pageSizes,uniqueId:t,PdfRenderedFormFields:o,RestrictionSummary:this.restrictionList,isDigitalSignaturePresent:this.formFieldsBase.mIsDigitalSignaturePresent,digitialSignatureFile:!!this.digitialByteArray,isTaggedPdf:!1,pageRotation:this.pageRotationCollection}},D.prototype.documentSecurity=function(e){var t=this.loadedDocument.isEncrypted&&(!this.loadedDocument.isUserPassword||this.loadedDocument._hasUserPasswordOnly);!G.isNullOrUndefined(e)&&""!==e&&t?this.restrictionSummary(e,!0):this.restrictionSummary(e,!1)},D.prototype.restrictionSummary=function(e,t){var i=e||"",e=e||"",n=this.getPermissionArray(this.loadedDocument.permissions),o=this.loadedDocument.isEncrypted;if(1!==n.length||"Default"!==n[0]||o&&""===i&&""===e)for(var r=0;r<this.securityList.length;r++){for(var a=!1,s=0;s<n.length;s++)if(n[parseInt(s.toString(),10)].trim()===this.securityList[parseInt(r.toString(),10)].trim()){a=!0;break}a||t||this.restrictionList.push(this.securityList[parseInt(r.toString(),10)].trim())}else if(1===n.length&&"Default"===n[0]&&o&&!t)for(r=0;r<this.securityList.length;r++)this.restrictionList.push(this.securityList[parseInt(r.toString(),10)].trim())},D.prototype.getPermissionArray=function(e){var t=[];return e===j.PdfPermissionFlag.default?t.push("Default"):(e&j.PdfPermissionFlag.fullQualityPrint&&t.push("FullQualityPrint"),e&j.PdfPermissionFlag.assembleDocument&&t.push("AssembleDocument"),e&j.PdfPermissionFlag.accessibilityCopyContent&&t.push("AccessibilityCopyContent"),e&j.PdfPermissionFlag.fillFields&&t.push("FillFields"),e&j.PdfPermissionFlag.editAnnotations&&t.push("EditAnnotations"),e&j.PdfPermissionFlag.copyContent&&t.push("CopyContent"),e&j.PdfPermissionFlag.editContent&&t.push("EditContent"),e&j.PdfPermissionFlag.print&&t.push("Print")),t},D.prototype.getPageSizes=function(e){var t={},i=100<e?100:e;if(this.isCompletePageSizeNotReceieved)for(var n=0;n<i;n++){t[n.toString()]=this.getPageSize(n);var o=this.loadedDocument.getPage(n).rotation%4;this.pageRotationCollection.push(o)}else for(n=i;n<e;n++){t[n.toString()]=this.getPageSize(n);o=this.loadedDocument.getPage(n).rotation%4;this.pageRotationCollection.push(o)}return t},D.prototype.getPageSize=function(e){var e=this.loadedDocument.getPage(e),t=e.size,e=e.rotation%4;return e===j.PdfRotationAngle.angle0||e===j.PdfRotationAngle.angle180?new J.Size(this.convertPointToPixel(t[0]),this.convertPointToPixel(t[1])):new J.Size(this.convertPointToPixel(t[1]),this.convertPointToPixel(t[0]))},D.prototype.convertPointToPixel=function(e){return 96*e/72},D.prototype.convertPixelToPoint=function(e){return.75*e},D.prototype.getDocumentAsBase64=function(e){this.loadedDocument=new j.PdfDocument(this.loadedByteArray,this.password);var t,i,n=null;return Object.prototype.hasOwnProperty.call(e,"digitalSignatureDocumentEdited")&&!e.digitalSignatureDocumentEdited?this.loadedByteArray:(i=new rs(this.pdfViewer,this.pdfViewerBase),t=new ns(this.pdfViewer,this.pdfViewerBase),i.removeSignatureTypeAnnot(e,this.loadedDocument),this.orderAnnotations(e),Object.prototype.hasOwnProperty.call(e,"isFormFieldAnnotationsExist")&&e.isFormFieldAnnotationsExist&&(Object.prototype.hasOwnProperty.call(e,"formDesigner")&&!G.isNullOrUndefined(e.formDesigner)?t.saveFormFieldsDesignerData(e):Object.prototype.hasOwnProperty.call(e,"fieldsData")&&t.saveFormFieldsData(e)),Object.prototype.hasOwnProperty.call(e,"organizePages")&&(i=this.loadedDocument.save(),n=new j.PdfDocument(i,this.password),0<(t=JSON.parse(e.organizePages)).length&&(i=this.rearrangePages(t),this.deletePdfPages(t,i),this.insertPdfPages(t),this.copyPages(t,n),this.rotatePages(t),this.importPages(t),this.isDummyInserted)&&(this.loadedDocument.removePage(this.loadedDocument.pageCount-1),this.isDummyInserted=!1),n.destroy(),n=null),e=this.loadedDocument.save(),null!=this.document&&(this.document.destroy(),this.document=null),e)},D.prototype.rearrangePages=function(e){var i=this,t=[];if(0<e.length){for(var n=JSON.parse(JSON.stringify(e)).sort(function(e,t){return i.pdfViewer.pageOrganizer.sorting(e.currentPageIndex,t.currentPageIndex)}),o=0;o<n.length;o++){var r=n[parseInt(o.toString(),10)];!r.isInserted&&!r.isCopied&&!r.isImportedDoc&&null!==r.currentPageIndex&&null!==r.pageIndex&&0<=parseInt(r.pageIndex.toString(),10)&&t.push(parseInt(r.pageIndex.toString(),10))}for(var a=n.filter(function(e){return e.isDeleted&&null===e.currentPageIndex}),o=0;o<a.length;o++)var s=a[parseInt(o.toString(),10)],t=t.slice(0,s.pageIndex).concat([s.pageIndex],t.slice(s.pageIndex));0<t.length&&this.loadedDocument.reorderPages(t)}return t},D.prototype.rotatePages=function(e){if(0<e.length)for(var t=0,i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)].pageIndex,o=e[parseInt(i.toString(),10)].currentPageIndex,r=e[parseInt(i.toString(),10)].isDeleted,a=e[parseInt(i.toString(),10)].isInserted,s=e[parseInt(i.toString(),10)].isCopied,l=e[parseInt(i.toString(),10)].isImportedDoc,A=e[parseInt(i.toString(),10)].rotateAngle;l&&t++,G.isNullOrUndefined(o)||G.isNullOrUndefined(A)||r||a||s||l||-1===n||(this.loadedDocument.getPage(o-t).rotation=this.getPdfRotationAngle(A))}},D.prototype.insertPdfPages=function(e){if(0<e.length)for(var t=0,i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)].pageIndex,o=e[parseInt(i.toString(),10)].currentPageIndex,r=e[parseInt(i.toString(),10)].isDeleted,a=e[parseInt(i.toString(),10)].isInserted,s=e[parseInt(i.toString(),10)].isCopied,l=e[parseInt(i.toString(),10)].isImportedDoc,A=void 0;G.isNullOrUndefined(e[parseInt(i.toString(),10)].pageSize)||(A=[this.convertPixelToPoint(e[parseInt(i.toString(),10)].pageSize.width),this.convertPixelToPoint(e[parseInt(i.toString(),10)].pageSize.height)]),(s||l)&&t++,G.isNullOrUndefined(o)||r||!a||-1!==n||(s=e[parseInt(i.toString(),10)].rotateAngle,(l=new j.PdfPageSettings).rotation=this.getPdfRotationAngle(s),G.isNullOrUndefined(A)||(l.size=A),this.loadedDocument.addPage(o-t,l))}},D.prototype.copyPages=function(e,t){if(0<e.length)for(var i=0,n=0;n<e.length;n++){var o=e[parseInt(n.toString(),10)].pageIndex,r=e[parseInt(n.toString(),10)].currentPageIndex,a=e[parseInt(n.toString(),10)].copiedPageIndex,s=e[parseInt(n.toString(),10)].isDeleted,l=e[parseInt(n.toString(),10)].isInserted,A=e[parseInt(n.toString(),10)].isCopied,d=e[parseInt(n.toString(),10)].isImportedDoc,p=e[parseInt(n.toString(),10)].rotateAngle;d&&i++,G.isNullOrUndefined(r)||s||l||d||!A||-1!==o||((s=t.getPage(a)).rotation=this.getPdfRotationAngle(p),(l=new j.PdfPageImportOptions).targetIndex=r-i,l.groupFormFields=!0,this.loadedDocument.importPage(s,t,l))}},D.prototype.importPages=function(e){if(0<e.length)for(var t=e.length-1;0<=t;t--){var i=e[parseInt(t.toString(),10)].pageIndex,n=e[parseInt(t.toString(),10)].currentPageIndex,o=e[parseInt(t.toString(),10)].isDeleted,r=e[parseInt(t.toString(),10)].isInserted,a=e[parseInt(t.toString(),10)].isCopied,s=e[parseInt(t.toString(),10)].isImportedDoc,l=e[parseInt(t.toString(),10)].documentData,A=e[parseInt(t.toString(),10)].password;if(!G.isNullOrUndefined(n)&&!o&&!r&&!a&&s&&-1===i){for(var d=0,p=0;p<t;p++)e[parseInt(p.toString(),10)].isImportedDoc&&d++;l=this.pdfViewerBase.convertBase64(l),this.document=null,this.document=new j.PdfDocument(l,A);o=new j.PdfPageImportOptions;o.targetIndex=n-d,o.groupFormFields=!0,this.loadedDocument.importPageRange(this.document,0,this.document.pageCount-1,o)}}},D.prototype.deletePdfPages=function(e,i){if(0<e.length){for(var n=JSON.parse(JSON.stringify(e)),o=[],t=0,r=this.loadedDocument.pageCount,a=0;a<n.length;a++)!function(t){n.find(function(e){return e.pageIndex===i[parseInt(t.toString(),10)]})&&(o[parseInt(t.toString(),10)]=n.find(function(e){return e.pageIndex===i[parseInt(t.toString(),10)]}))}(a);for(a=o.length-1;0<=a;a--){var s=0,l=o[parseInt(a.toString(),10)].pageIndex,A=o[parseInt(a.toString(),10)].isDeleted;if(!G.isNullOrUndefined(l)&&A){t+1===r&&(this.loadedDocument.addPage(),this.isDummyInserted=!0);for(var d=a-1;0<=d;d--)a!==o[parseInt(a.toString(),10)].pageIndex&&s++;s>o[parseInt(a.toString(),10)].pageIndex?(s-=o[parseInt(a.toString(),10)].pageIndex,this.loadedDocument.removePage(l+s)):this.loadedDocument.removePage(l),t++}}}},D.prototype.getPdfRotationAngle=function(e){switch(e){case 0:return j.PdfRotationAngle.angle0;case 90:return j.PdfRotationAngle.angle90;case 180:return j.PdfRotationAngle.angle180;case 270:return j.PdfRotationAngle.angle270;default:return j.PdfRotationAngle.angle0}},D.prototype.importAnnotations=function(e){try{var t=new rs(this.pdfViewer,this.pdfViewerBase),i=e.importedData,n=(t.removeSignatureTypeAnnot(e,this.loadedDocument),e.annotationDataFormat);if("string"==typeof n){switch(this.loadedDocument._allowImportCustomData=!0,n.toLowerCase()){case"json":this.loadedDocument.importAnnotations(i,j.DataFormat.json);break;case"xfdf":this.loadedDocument.importAnnotations(i,j.DataFormat.xfdf)}for(var o=0;o<this.loadedDocument.pageCount;o++){var r=o,a=this.getPageSize(r),s=new Wa(this.pdfViewer,this.pdfViewerBase);s.exportAnnotationComments(r,a),this.annotationDetailCollection[o.toString()]=new ts,this.annotationDetailCollection[parseInt(o.toString(),10)].textMarkupAnnotation=s.textMarkupAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].shapeAnnotation=s.shapeAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].measureShapeAnnotation=s.measureAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].stampAnnotations=s.rubberStampAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].stickyNotesAnnotation=s.stickyAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].freeTextAnnotation=s.freeTextAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].signatureAnnotation=s.signatureAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].signatureInkAnnotation=s.signatureInkAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].annotationOrder=s.annotationOrder,this.removeAnnotationsFromCollection(s)}var l=JSON.parse(JSON.stringify(this.annotationDetailCollection));return Object.prototype.hasOwnProperty.call(e,"uniqueId")?{pdfAnnotation:l,uniqueId:e.uniqueId}:{pdfAnnotation:l}}}catch(e){return e.message}},D.prototype.removeAnnotationsFromCollection=function(e){e.textMarkupAnnotationList=[],e.shapeAnnotationList=[],e.measureAnnotationList=[],e.rubberStampAnnotationList=[],e.stickyAnnotationList=[],e.freeTextAnnotationList=[],e.signatureAnnotationList=[],e.signatureInkAnnotationList=[],e.annotationOrder=[]},D.prototype.exportAnnotation=function(e,t){new rs(this.pdfViewer,this.pdfViewerBase).removeSignatureTypeAnnot(e,this.loadedDocument),this.orderAnnotations(e);var i=new j.PdfAnnotationExportSettings,e=e.annotationDataFormat;if("string"==typeof e)switch(e.toLowerCase()){case"json":return i.dataFormat=j.DataFormat.json,t?i.exportAppearance=t:this.changeFileExtension(this.pdfViewer.fileName,"json"),this.loadedDocument.exportAnnotations(i);case"xfdf":return i.dataFormat=j.DataFormat.xfdf,t?i.exportAppearance=t:this.changeFileExtension(this.pdfViewer.fileName,"xfdf"),this.loadedDocument.exportAnnotations(i)}return null},D.prototype.changeFileExtension=function(e,t){var i=e.lastIndexOf(".");return-1===i?e+"."+t:e.slice(0,i)+"."+t},D.prototype.orderAnnotations=function(A){var d=new rs(this.pdfViewer,this.pdfViewerBase),e=new Es(this.pdfViewer,this.pdfViewerBase);if(Object.prototype.hasOwnProperty.call(A,"isAnnotationsExist")&&A.isAnnotationsExist&&Object.prototype.hasOwnProperty.call(A,"annotationCollection")){for(var p=JSON.parse(A.annotationCollection),t=p.length,h=this,i=0;i<t;i++)!function(e){var t,i,n,o,r,a,s=p[parseInt(e.toString(),10)].shapeAnnotationType,l=p[parseInt(e.toString(),10)];switch(!Object.prototype.hasOwnProperty.call(l,"calibrate")||"Circle"!==l.shapeAnnotationType&&"Line"!==l.shapeAnnotationType&&"Polygon"!==l.shapeAnnotationType&&"Polyline"!==l.shapeAnnotationType?Object.prototype.hasOwnProperty.call(l,"calibrate")||"Line"!==l.shapeAnnotationType&&"Circle"!==l.shapeAnnotationType&&"Polygon"!==l.shapeAnnotationType&&"Square"!==l.shapeAnnotationType&&"Polyline"!==l.shapeAnnotationType||(s="shapeAnnotation"):s="measureShapes",s){case"textMarkup":Object.prototype.hasOwnProperty.call(A,"textMarkupAnnotations")&&(o=JSON.parse(A.textMarkupAnnotations),n=l.pageNumber.toString(),i=(o=o[parseInt(n,10)]).find(function(e){return e.annotName.toString()===l.annotationId.toString()}))&&(l=i,d.addTextMarkup(l,h.loadedDocument));break;case"shapeAnnotation":Object.prototype.hasOwnProperty.call(A,"shapeAnnotations")&&(a=JSON.parse(A.shapeAnnotations),n=l.pageNumber.toString(),o=a[parseInt(n,10)],r=h.loadedDocument.getPage(parseInt(n,10)),t=o.find(function(e){return e.annotName.toString()===l.annotationId.toString()}))&&(l=t,d.addShape(l,r));break;case"stamp":Object.prototype.hasOwnProperty.call(A,"stampAnnotations")&&(i=JSON.parse(A.stampAnnotations),n=l.pageNumber.toString(),o=i[parseInt(n,10)],r=h.loadedDocument.getPage(parseInt(n,10)),i=o.find(function(e){return e.annotName.toString()===l.annotationId.toString()}))&&(l=i,d.addCustomStampAnnotation(l,r));break;case"measureShapes":Object.prototype.hasOwnProperty.call(A,"measureShapeAnnotations")&&(a=JSON.parse(A.measureShapeAnnotations),n=l.pageNumber.toString(),o=a[parseInt(n,10)],r=h.loadedDocument.getPage(parseInt(n,10)),t=o.find(function(e){return e.annotName.toString()===l.annotationId.toString()}))&&(l=t,d.addMeasure(l,r));break;case"sticky":Object.prototype.hasOwnProperty.call(A,"stickyNotesAnnotation")&&(a=JSON.parse(A.stickyNotesAnnotation),n=l.pageNumber.toString(),o=a[parseInt(n,10)],r=h.loadedDocument.getPage(parseInt(n,10)),t=o.find(function(e){return e.annotName.toString()===l.annotationId.toString()}))&&(l=t,d.addStickyNotes(l,r));break;case"Ink":Object.prototype.hasOwnProperty.call(A,"inkSignatureData")&&(a=JSON.parse(A.inkSignatureData),n=l.pageNumber.toString(),o=a[parseInt(n,10)],r=h.loadedDocument.getPage(parseInt(n,10)),t=o.find(function(e){return e.annotName.toString()===l.annotationId.toString()}))&&(l=t,d.saveInkSignature(l,r));break;case"FreeText":Object.prototype.hasOwnProperty.call(A,"freeTextAnnotation")&&(i=JSON.parse(A.freeTextAnnotation),n=l.pageNumber.toString(),o=i[parseInt(n,10)],r=h.loadedDocument.getPage(parseInt(n,10)),a=o.find(function(e){return e.annotName.toString()===l.annotationId.toString()}),G.isNullOrUndefined(a)||(l=a,G.isNullOrUndefined(h.FallbackFontCollection)||0===Object.keys(h.FallbackFontCollection).length?d.addFreeText(l,r):d.addFreeText(l,r,h.FallbackFontCollection)))}}(i);A.signatureData&&(A.isSignatureEdited?e.saveSignatureAsAnnotatation(A,this.loadedDocument):e.saveSignatureData(A,this.loadedDocument))}},D.prototype.getAnnotationComments=function(e){try{if(!Object.prototype.hasOwnProperty.call(e,"pageStartIndex")||G.isNullOrUndefined(e.pageStartIndex))return"";for(var t=parseInt(e.pageStartIndex,10),i=parseInt(e.pageEndIndex,10),n={},o=t;o<i;o++){var r=o,a=this.getPageSize(r);this.renderer=new Wa(this.pdfViewer,this.pdfViewerBase),n[r.toString()]=this.renderer.exportAnnotationComments(r,a)}return{uniqueId:e.uniqueId,annotationDetails:n,startPageIndex:t,endPageIndex:i,isAnnotationPresent:this.renderer.isAnnotationPresent}}catch(e){return e.message}},D.prototype.getBookmarks=function(e){try{var t=this.loadedDocument.bookmarks;if(!G.isNullOrUndefined(t)&&Object.prototype.hasOwnProperty.call(e,"bookmarkStyles"))for(var i=0;i<t.count;i++)this.retrieveFontStyles(t.at(i),!1);if(G.isNullOrUndefined(t)||G.isNullOrUndefined(t.count)||0===t.count)return null;for(i=0;i<t.count;i++){var n=t.at(i),o=new xs,r=n.destination||n.namedDestination&&n.namedDestination.destination||null,a=(o.X=G.isNullOrUndefined(r)?0:r.location[0],o.PageIndex=G.isNullOrUndefined(r)?0:r.pageIndex,o.Zoom=G.isNullOrUndefined(r)?0:r.zoom,new Ds);a.Id=++this.id,a.Title=n.title,a.Child=[],a.FileName=G.isNullOrUndefined(n.action)?"":n.action.toString(),G.isNullOrUndefined(r)?o.Y=0:r.page.rotation===j.PdfRotationAngle.angle90?o.Y=this.convertPointToPixel(r.page.size[0])-this.convertPointToPixel(Math.abs(r.location[1])):r.page.rotation===j.PdfRotationAngle.angle270?o.Y=this.convertPointToPixel(Math.abs(r.location[1])):o.Y=this.convertPointToPixel(r.page.size[1])-this.convertPointToPixel(Math.abs(r.location[1])),this.bookmarkDictionary[this.id.toString()]=o,a.Child=this.getChildrenBookmark(n),0<a.Child.length&&(a.HasChild=!0),this.bookmarkCollection.push(a)}return Object.prototype.hasOwnProperty.call(e,"uniqueId")?{Bookmarks:JSON.parse(JSON.stringify(this.bookmarkCollection)),BookmarksDestination:JSON.parse(JSON.stringify(this.bookmarkDictionary)),uniqueId:e.uniqueId.toString(),Bookmarkstyles:JSON.parse(JSON.stringify(this.bookmarkStyles))}:{Bookmarks:JSON.parse(JSON.stringify(this.bookmarkCollection)),BookmarksDestination:JSON.parse(JSON.stringify(this.bookmarkDictionary)),Bookmarkstyles:JSON.parse(JSON.stringify(this.bookmarkStyles))}}catch(e){return e.message}},D.prototype.retrieveFontStyles=function(e,t){var i=e,n=new Vs;G.isNullOrUndefined(i)||(G.isNullOrUndefined(i.color)||(n.Color="rgba("+i.color[0]+","+i.color[1]+","+i.color[2]+",1)"),n.FontStyle=this.getPdfTextStyleString(i.textStyle),n.Text=i.title,n.IsChild=t,this.bookmarkStyles.push(n),this.getChildrenStyles(e))},D.prototype.getPdfTextStyleString=function(e){switch(e){case j.PdfTextStyle.bold:return"Bold";case j.PdfTextStyle.italic:return"Italic";default:j.PdfTextStyle.regular;return"Regular"}},D.prototype.getChildrenStyles=function(e){for(var t=0;t<e.count;t++)this.retrieveFontStyles(e.at(t),!0)},D.prototype.getChildrenBookmark=function(e){var t=[];if(!G.isNullOrUndefined(e)&&!G.isNullOrUndefined(e.count)&&0<e.count)for(var i=0;i<e.count;i++){var n=e.at(i),o=n.destination||n.namedDestination&&n.namedDestination.destination||null,r=(this.id++,n.title),a=(this.pageIndex=G.isNullOrUndefined(o)?0:o.pageIndex,this.x=G.isNullOrUndefined(o)?0:o.location[0],G.isNullOrUndefined(o)?0:Math.abs(o.location[1])),a=(G.isNullOrUndefined(o)?(this.y=0,this.zoom=0):(o.page.rotation===j.PdfRotationAngle.angle90?this.y=this.convertPointToPixel(o.page.size[0])-this.convertPointToPixel(a):o.page.rotation===j.PdfRotationAngle.angle270?this.y=this.convertPointToPixel(a):this.y=this.convertPointToPixel(o.page.size[1])-this.convertPointToPixel(a),this.zoom=o.zoom),new Ds),o=(a.Title=r,a.Id=this.id,a.Child=[],a.FileName=G.isNullOrUndefined(n.action)?"":n.action.toString(),new xs);o.X=this.x,o.Y=this.y,o.PageIndex=this.pageIndex,o.Zoom=this.zoom,this.bookmarkDictionary[this.id.toString()]=o,t.push(a),a.Child=this.getChildrenBookmark(n),0<a.Child.length&&(a.HasChild=!0)}return t},D.prototype.getHyperlinks=function(e){return G.isNullOrUndefined(this.renderer)&&(this.renderer=new Wa(this.pdfViewer,this.pdfViewerBase)),G.isNullOrUndefined(this.renderer.hyperlinks)&&(this.renderer.hyperlinks=[]),this.exportHyperlinks(e,this.getPageSize(e),!1,!0),{hyperlinks:this.renderer.hyperlinks,hyperlinkBounds:this.renderer.hyperlinkBounds,linkAnnotation:this.renderer.annotationList,linkPage:this.renderer.annotationDestPage,annotationLocation:this.renderer.annotationYPosition}},D.prototype.exportHyperlinks=function(e,t,i,n){var o=this.loadedDocument.getPage(e);this.renderer.hyperlinks=[],this.renderer.hyperlinkBounds=[],this.renderer.annotationDestPage=[],this.renderer.annotationList=[],this.renderer.annotationYPosition=[];for(var r,a,s,l,A=0;A<o.annotations.count;A++)o.annotations.at(A)instanceof j.PdfUriAnnotation?(r=o.annotations.at(A),s=this.getHyperlinkBounds(r.bounds,t,o.rotation),G.isNullOrUndefined(this.renderer.hyperlinks)&&(this.renderer.hyperlinks=[],this.renderer.hyperlinkBounds=[]),this.renderer.hyperlinks.push(r.uri),this.renderer.hyperlinkBounds.push(s)):o.annotations.at(A)instanceof j.PdfTextWebLinkAnnotation?(r=o.annotations.at(A),s=this.getHyperlinkBounds(r.bounds,t,o.rotation),G.isNullOrUndefined(this.renderer.hyperlinks)&&(this.renderer.hyperlinks=[],this.renderer.hyperlinkBounds=[]),this.renderer.hyperlinks.push(r.url),this.renderer.hyperlinkBounds.push(s)):o.annotations.at(A)instanceof j.PdfDocumentLinkAnnotation&&(a=o.annotations.at(A),s=this.getHyperlinkBounds(a.bounds,t,o.rotation),G.isNullOrUndefined(this.renderer.annotationDestPage)&&(this.renderer.annotationDestPage=[],this.renderer.annotationList=[],this.renderer.annotationYPosition=[]),G.isNullOrUndefined(a.destination)||(l=a.destination.pageIndex,this.renderer.annotationDestPage.push(l),this.renderer.annotationList.push(s),o.rotation===j.PdfRotationAngle.angle180?this.renderer.annotationYPosition.push(this.convertPointToPixel(Math.abs(a.destination.location[1]))):o.rotation===j.PdfRotationAngle.angle90||o.rotation===j.PdfRotationAngle.angle270?this.renderer.annotationYPosition.push(t.width-this.convertPointToPixel(Math.abs(a.destination.location[1]))):this.renderer.annotationYPosition.push(t.height-this.convertPointToPixel(Math.abs(a.destination.location[1])))))},D.prototype.getHyperlinkBounds=function(e,t,i){var n;return i===j.PdfRotationAngle.angle0?n=new ws(this.convertPointToPixel(e.x),this.convertPointToPixel(e.y),this.convertPointToPixel(e.width),this.convertPointToPixel(e.height)):i===j.PdfRotationAngle.angle90?n=new ws(t.width-this.convertPointToPixel(e.y-e.height),this.convertPointToPixel(e.x),this.convertPointToPixel(e.height),this.convertPointToPixel(e.width)):i===j.PdfRotationAngle.angle180?n=new ws(t.width-this.convertPointToPixel(e.x-e.width),t.height-this.convertPointToPixel(e.y-e.height),this.convertPointToPixel(e.width),this.convertPointToPixel(e.height)):i===j.PdfRotationAngle.angle270&&(n=new ws(this.convertPointToPixel(e.y),t.height-this.convertPointToPixel(e.x-e.width),this.convertPointToPixel(e.height),this.convertPointToPixel(e.width))),n},D.prototype.exportFormFields=function(e,t){var i=new ns(this.pdfViewer,this.pdfViewerBase),i=(i.saveFormFieldsData(e),i.saveFormFieldsDesignerData(e),Object.prototype.hasOwnProperty.call(e,"fileName")||(e.fileName="undefined.pdf"),this.loadedDocument.form.exportEmptyFields=!0,j.DataFormat.json),e=(Object.prototype.hasOwnProperty.call(e,"formFieldDataFormat")&&(i=this.exportDataFormat(e.formFieldDataFormat)),new j.PdfFormFieldExportSettings);return e.dataFormat=i,t||this.changeFileExtension(this.pdfViewer.fileName,this.fileFormat(i)),this.loadedDocument.exportFormData(e)},D.prototype.importFormFields=function(e){try{var t,i=new ns(this.pdfViewer,this.pdfViewerBase),n=(i.saveFormFieldsDesignerData(e),this.exportDataFormat(e.formFieldDataFormat));this.isBase64(e.data)||this.isUint8Array(e.data)||("Json"===e.formFieldDataFormat&&(e.data=JSON.parse(e.data)),t=(new TextEncoder).encode(e.data),e.data=new Uint8Array(t)),Object.prototype.hasOwnProperty.call(e,"formFieldDataFormat")&&this.loadedDocument.importFormData(e.data,n),(i=new ns(this.pdfViewer,this.pdfViewerBase)).GetFormFields();return{PdfRenderedFormFields:i.PdfRenderedFormFields}}catch(e){return null}},D.prototype.isUint8Array=function(e){return e instanceof Uint8Array},D.prototype.isBase64=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},D.prototype.exportDataFormat=function(e){var t;switch(e){case"Json":t=j.DataFormat.json;break;case"Xfdf":t=j.DataFormat.xfdf;break;case"Fdf":t=j.DataFormat.fdf;break;case"Xml":t=j.DataFormat.xml}return t},D.prototype.fileFormat=function(e){var t;switch(e){case 0:t="fdf";break;case 1:t="xfdf";break;case 2:t="json";break;case 3:t="xml"}return t},D.prototype.exportAsImage=function(i){var n=this;return new Promise(function(e,t){e(n.pdfiumExportAsImage(i))})},D.prototype.exportAsImages=function(i,n){var o=this;return new Promise(function(e,t){e(o.pdfiumExportAsImages(i,n))})},D.prototype.exportAsImagewithSize=function(i,n){var o=this;return new Promise(function(e,t){e(o.pdfiumExportAsImage(i,n))})},D.prototype.exportAsImagesWithSize=function(i,n,o){var r=this;return new Promise(function(e,t){e(r.pdfiumExportAsImages(i,n,o))})},D.prototype.pdfiumExportAsImage=function(t,i){var n=this,a=this;return new Promise(function(r,e){G.isNullOrUndefined(n.pdfViewerBase.pdfViewerRunner)||G.isNullOrUndefined(n.loadedDocument)?r(null):(i=G.isNullOrUndefined(i)?null:i,n.pdfViewerBase.pdfViewerRunner.addTask({pageIndex:t,message:"extractImage",zoomFactor:n.pdfViewer.magnificationModule.zoomFactor,isTextNeed:!1,size:i},ln.Medium),n.pdfViewerBase.pdfViewerRunner.onMessage("imageExtracted",function(e){var t,i,n,o;"imageExtracted"===e.data.message&&(t=document.createElement("canvas"),i=(e=e.data).value,o=e.width,e=e.height,t.width=o,t.height=e,(o=(n=t.getContext("2d")).createImageData(o,e)).data.set(i),n.putImageData(o,0,0),e=t.toDataURL(),a.pdfViewerBase.releaseCanvas(t),r(e))}))})},D.prototype.pdfiumExportAsImages=function(i,n,o){var l=this,A=this;return new Promise(function(r,e){if(G.isNullOrUndefined(l.pdfViewerBase.pdfViewerRunner)||G.isNullOrUndefined(l.loadedDocument))r(null);else{i<0&&(i=0),(n=n>l.loadedDocument.pageCount-1?l.loadedDocument.pageCount-1:n)<i&&e("Invalid page index"),o=G.isNullOrUndefined(o)?null:o;for(var a=[],s=n-i+1,t=i;t<=n;t++)l.pdfViewerBase.pdfViewerRunner.addTask({pageIndex:t,message:"extractImages",zoomFactor:l.pdfViewer.magnificationModule.zoomFactor,isTextNeed:!1,size:o},ln.Medium);l.pdfViewerBase.pdfViewerRunner.onMessage("imagesExtracted",function(e){var t,i,n,o;"imagesExtracted"===e.data.message&&(t=document.createElement("canvas"),i=(e=e.data).value,o=e.width,e=e.height,t.width=o,t.height=e,(o=(n=t.getContext("2d")).createImageData(o,e)).data.set(i),n.putImageData(o,0,0),e=t.toDataURL(),A.pdfViewerBase.releaseCanvas(t),a.push(e),a.length===s)&&r(a)})}})},D.prototype.textExtractionOnmessage=function(e,t,i){var n="",o=[];if(-1!==e.data.message.indexOf("extractText")||"renderThumbnail"===e.data.message||"renderPreviewTileImage"===e.data.message){for(var r,a=e.data.characterBounds,s=0;s<a.length;s++){e.data.isLayout||-1===a[parseInt(s.toString(),10)].Text.indexOf("\r")?n+=a[parseInt(s.toString(),10)].Text:n+="";var l=this.loadedDocument.getPage(e.data.pageIndex).cropBox,l=new ws(this.convertPixelToPoint(a[parseInt(s.toString(),10)].X),this.convertPixelToPoint(a[parseInt(s.toString(),10)].Y+l[1]),this.convertPixelToPoint(a[parseInt(s.toString(),10)].Width),this.convertPixelToPoint(a[parseInt(s.toString(),10)].Height));o.push(new qa(a[parseInt(s.toString(),10)].Text,l))}e.data.isAPI?-1!==e.data.message.indexOf("extractText")&&(n=e.data.pageText,this.textCollections.push((r=function(){return e.data.options===v.ExtractTextOption.BoundsOnly?{textData:o}:e.data.options===v.ExtractTextOption.TextOnly?{pageText:n}:{textData:o,pageText:n}})()),1===i?(t(r()),this.textCollections=[]):this.textCollections.length===i&&(t(this.textCollections),this.textCollections=[])):(r={},e.data.isRenderText?(r.extractedTextDetails={textDataCollection:o,extractedText:n},r.textBounds=e.data.textBounds,r.textContent=e.data.textContent,r.rotation=e.data.rotation,r.pageText=e.data.pageText,r.characterBounds=e.data.characterBounds,r.isRenderText=e.data.isRenderText,r.pageIndex=e.data.pageIndex,r.jsonObject=e.data.jsonObject,r.requestType=e.data.requestType,r.annotationObject=e.data.annotationObject,r.isNeedToRender=e.data.isNeedToRender):r={textDataCollection:o,extractedText:n,isRenderText:e.data.isRenderText,pageIndex:e.data.pageIndex,jsonObject:e.data.jsonObject,requestType:e.data.requestType,annotationObject:e.data.annotationObject,isNeedToRender:e.data.isNeedToRender},i=this.getPageTextDataCollection(r),t=this.getDocumentTextCollection(i),G.isNullOrUndefined(t)||("pageTextRequest"===t.requestType?this.pdfViewerBase.pageTextRequestSuccess(t,t.pageIndex):"textRequest"===t.requestType?this.pdfViewerBase.textRequestSuccess(t,t.pageIndex,t.annotationObject):"pdfTextSearchRequest"===t.requestType&&this.pdfViewer.textSearchModule.pdfTextSearchRequestSuccess(t,t.pageStartIndex,t.pageEndIndex)))}},D.prototype.extractsText=function(i,n,o,r){var a=this;return new Promise(function(e,t){e(a.textExtraction(i,n,o,!0,r))})},D.prototype.extractTextFromCharacterDetails=function(e,t,i,n,o){var r="",a=[];if(0<e.length)for(var s=0,l=e;s<l.length;s++){var A=l[s],d=A.Text;n!==v.ExtractTextOption.BoundsOnly&&(i||-1===d.indexOf("\r")?r+=d:r+=""),n!==v.ExtractTextOption.TextOnly&&(A=new ws(this.convertPixelToPoint(A.X),this.convertPixelToPoint(A.Y+t[1]),this.convertPixelToPoint(A.Width),this.convertPixelToPoint(A.Height)),a.push(new qa(d,A)))}return o&&(r=o),n===v.ExtractTextOption.BoundsOnly?{textData:a}:n===v.ExtractTextOption.TextOnly?{pageText:r}:{textData:a,pageText:r}},D.prototype.textExtraction=function(a,s,l,A,d,p,h,c,g){var u=this,f=!A&&(this.pdfViewer.extractTextOption===v.ExtractTextOption.None||this.pdfViewer.extractTextOption===v.ExtractTextOption.TextOnly);return A||(this.documentTextCollection=[]),new Promise(function(n,e){if(G.isNullOrUndefined(u.pdfViewerBase.pdfViewerRunner))n(null);else{var o=(s=Math.min(s,u.pdfViewer.pageCount-1))-a+1,t=function(e,t){i=e;var i=u.pdfViewer.textSearch.documentTextCollection[parseInt(i.toString(),10)]?u.pdfViewer.textSearch.documentTextCollection[parseInt(i.toString(),10)][parseInt(i.toString(),10)]:null;G.isNullOrUndefined(i)||!G.isNullOrUndefined(i)&&((l===v.ExtractTextOption.BoundsOnly||l===v.ExtractTextOption.TextAndBounds)&&!G.isNullOrUndefined(i.TextData)&&0===i.TextData.length||G.isNullOrUndefined(i.TextData))||l===v.ExtractTextOption.TextOnly&&!G.isNullOrUndefined(i.PageText)&&""===i.PageText||G.isNullOrUndefined(i.PageText)?(u.pdfViewerBase.pdfViewerRunner.addTask({pageIndex:e,message:t,zoomFactor:u.pdfViewer.magnificationModule.zoomFactor,isTextNeed:!0,isLayout:d,isSkipCharacterBounds:f,options:l,isRenderText:p,jsonObject:h,requestType:c,annotationObject:g,isAPI:A},A?ln.Medium:ln.Low),u.pdfViewerBase.pdfViewerRunner.onMessage(t,function(e){-1!==e.data.message.indexOf("extractText")&&u.textExtractionOnmessage(e,n,o)})):(t=u.loadedDocument.getPage(e).cropBox,e=u.extractTextFromCharacterDetails(i.TextData,t,d,l,i.PageText),u.textCollections.push(e),1==o?(n(e),u.textCollections=[]):u.textCollections.length===o&&(n(u.textCollections),u.textCollections=[]))},i="extractText";if(A&&(i="extractText_"+an.createGUID()),!A&&u.pdfViewer.extractTextOption!==v.ExtractTextOption.None||A)for(var r=a;r<=s;r++)t(r,i)}})},D.prototype.getCharacterBounds=function(e){e=this.pdfViewer.textSearchModule.documentTextCollection[parseInt(e.toString(),10)][parseInt(e.toString(),10)];return e.textData||e.TextData},D.prototype.getPageTextDataCollection=function(e){var t,i={};return G.isNullOrUndefined(e)?null:((t=e).isRenderText&&((t=e.extractedTextDetails).extractedText=e.pageText),i[e.pageIndex]=new $a(new es(this.getPageSize(e.pageIndex).width,this.getPageSize(e.pageIndex).height),t.textDataCollection,t.extractedText),e.isRenderText?{pageTextDataCollection:i,textBounds:e.textBounds,textContent:e.textContent,rotation:e.rotation,characterBounds:e.characterBounds,jsonObject:e.jsonObject,requestType:e.requestType,pageIndex:e.pageIndex,annotationObject:e.annotationObject,isNeedToRender:e.isNeedToRender}:i)},D.prototype.getDocumentTextCollection=function(e){var t=G.isNullOrUndefined(e.jsonObject.pageStartIndex)?e.jsonObject.pageIndex:e.jsonObject.pageStartIndex,i=G.isNullOrUndefined(e.jsonObject.pageEndIndex)?e.jsonObject.pageIndex+1:e.jsonObject.pageEndIndex,n=this.loadedDocument.pageCount,o=G.isNullOrUndefined(e.jsonObject.pageStartIndex)?n:i-t;return G.isNullOrUndefined(e)?null:(this.documentTextCollection.push(e.pageTextDataCollection),this.documentTextCollection.length===o?{uniqueId:e.jsonObject.uniqueId,documentTextCollection:this.documentTextCollection,pageStartIndex:t,pageEndIndex:G.isNullOrUndefined(e.jsonObject.pageEndIndex)?n:i,textBounds:e.textBounds,textContent:e.textContent,rotation:e.rotation,characterBounds:e.characterBounds,requestType:e.requestType,pageIndex:e.pageIndex,annotationObject:e.annotationObject,isNeedToRender:e.isNeedToRender}:void 0)},D.prototype.extractTextWithPageSize=function(i){var n=this;return new Promise(function(e,t){e(n.extractTextDetailsWithPageSize(i))})},D.prototype.extractTextDetailsWithPageSize=function(e,t,i,n,o){this.textExtraction(e,e,null,!1,!0,t,i,n,o)},D.prototype.getDocumentText=function(e,t,i){var n=G.isNullOrUndefined(e.pageStartIndex)?e.pageIndex:e.pageStartIndex,o=G.isNullOrUndefined(e.pageEndIndex)?e.pageIndex+1:e.pageEndIndex;this.loadedDocument.pageCount;if(this.pdfViewer.extractTextOption!==v.ExtractTextOption.None)for(var r=n;r<o;r++)this.extractTextDetailsWithPageSize(r,!0,e,t,i);else this.pdfViewer.fireTextExtractionCompleted([])},D.IsLinuxOS=!1,D.IsWindowsOS=!1,D);function D(e,t){this.bookmarkStyles=[],this.bookmarkCollection=[],this.pageRotationCollection=[],this.bookmarkDictionary={},this.annotationDetailCollection={},this.documentTextCollection=[],this.pageSizes={},this.isCompletePageSizeNotReceieved=!0,this.x=0,this.y=0,this.zoom=1,this.id=0,this.pageIndex=0,this.textCollections=[],this.scaleFactor=1.5,this.restrictionList=[],this.securityList=["Print","EditContent","CopyContent","EditAnnotations","FillFields","AccessibilityCopyContent","AssembleDocument","FullQualityPrint"],this._fallbackFontCollection={},this.document=null,this.searchResults={},this.isDummyInserted=!1,this.pdfViewer=e,this.pdfViewerBase=t}var qa=function(e,t){this.Text=e,this.Bounds=t},$a=function(e,t,i){this.PageSize=e,this.TextData=t,this.PageText=i},es=function(e,t){this.IsEmpty=!0,this.Width=e,this.Height=t,this.IsEmpty=!1},ts=function(){};function is(){return"AAEAAAAXAQAABABwRFNJRyQ9+ecABX+MAAAafEdERUZeI11yAAV1GAAAAKZHU1VC1fDdzAAFdcAAAAmqSlNURm0qaQYABX9sAAAAHkxUU0iAZfo8AAAceAAABo5PUy8yDN8yawAAAfgAAABWUENMVP17PkMABXTgAAAANlZETVhQkmr1AAAjCAAAEZRjbWFw50BqOgAA0cQAABdqY3Z0IJYq0nYAAPqgAAAGMGZwZ23MeVmaAADpMAAABm5nYXNwABgACQAFdNAAAAAQZ2x5Zg73j+wAARr8AAPnYmhkbXi+u8OXAAA0nAAAnShoZWFkzpgmkgAAAXwAAAA2aGhlYRIzEv8AAAG0AAAAJGhtdHgONFhAAAACUAAAGihrZXJuN2E5NgAFAmAAABVgbG9jYQ5haTIAAQDQAAAaLG1heHALRwyoAAAB2AAAACBuYW1lwPJlOwAFF8AAABsNcG9zdI/p134ABTLQAABB/3ByZXBS/sTpAADvoAAACv8AAQAAAAMAAObouupfDzz1CBsIAAAAAACi4ycqAAAAALnVtPb6r/1nEAAIDAAAAAkAAQABAAAAAAABAAAHPv5OAEMQAPqv/iYQAAABAAAAAAAAAAAAAAAAAAAGigABAAAGigEAAD8AdgAHAAIAEAAvAFYAAAQNCv8AAwACAAEDiAGQAAUAAAWaBTMAAAEbBZoFMwAAA9EAZgISCAUCCwYEAgICAgIEAAB6h4AAAAAAAAAIAAAAAE1vbm8AQAAg//wF0/5RATMHPgGyQAAB////AAAAAAYAAQAAAAAAAjkAAAI5AAACOQCwAtcAXgRzABUEcwBJBx0AdwVWAFgBhwBaAqoAfAKqAHwDHQBABKwAcgI5AKoCqgBBAjkAugI5AAAEcwBVBHMA3wRzADwEcwBWBHMAGgRzAFUEcwBNBHMAYQRzAFMEcwBVAjkAuQI5AKoErABwBKwAcgSsAHAEcwBaCB8AbwVW//0FVgCWBccAZgXHAJ4FVgCiBOMAqAY5AG0FxwCkAjkAvwQAADcFVgCWBHMAlgaqAJgFxwCcBjkAYwVWAJ4GOQBYBccAoQVWAFwE4wAwBccAoQVWAAkHjQAZBVYACQVWAAYE4wApAjkAiwI5AAACOQAnA8EANgRz/+ECqgBZBHMASgRzAIYEAABQBHMARgRzAEsCOQATBHMAQgRzAIcBxwCIAcf/ogQAAIgBxwCDBqoAhwRzAIcEcwBEBHMAhwRzAEgCqgCFBAAAPwI5ACQEcwCDBAAAGgXHAAYEAAAPBAAAIQQAACgCrAA5AhQAvAKsAC8ErABXBVb//QVW//0FxwBoBVYAogXHAJwGOQBjBccAoQRzAEoEcwBKBHMASgRzAEoEcwBKBHMASgQAAFAEcwBLBHMASwRzAEsEcwBLAjkAvQI5ACMCOf/lAjkACQRzAIcEcwBEBHMARARzAEQEcwBEBHMARARzAIMEcwCDBHMAgwRzAIMEcwBJAzMAgARzAGsEcwAbBHMAUQLNAG0ETAABBOMAmQXlAAMF5QADCAAA4QKqAN4CqgA9BGQATggAAAEGOQBTBbQAmgRkAE4EZABNBGQATQRz//0EnACgA/QAOAW0AHoGlgChBGQAAAIxAAAC9gAvAuwALQYlAH8HHQBEBOMAgQTjAJ4CqgDoBKwAcgRkAFQEcwAuBGQAMwTlABoEcwCGBHMAjAgAAO8FVv/9BVb//QY5AGMIAACBB40AUgRz//wIAAAAAqoAUwKqAEcBxwCAAccAbARkAE4D9AAvBAAAIQVWAAYBVv45BHP/5AKqAFwCqgBcBAAAFwQAABcEcwBJAjkAuQHHAGwCqgBHCAAAJQVW//0FVgCiBVb//QVWAKIFVgCiAjkAjQI5/+ACOQAEAjkAFQY5AGMGOQBjBjkAYwXHAKEFxwChBccAoQI5AMYCqgAZAqoABgKqAB0CqgAuAqoA5QKqAKICqgBrAqoAOgKqALcCqgAoBHMAAAHHAAMFVgBcBAAAPwTjACkEAAAoAhQAvAXH//0EcwBJBVYABgQAACEFVgCeBHMAhwSsAHIErAChAqoAawKqABkCqgAhBqwAawasAGsGrAAhBHMAAAY5AG0EcwBCAjkAsQVWAFwEAAA/BccAZgQAAFAFxwBmBAAAUARzAEYEa//hAqoB8QVW//0EcwBKBVb//QRzAEoFxwCeBOsARwXH//0FVgCiBHMASwVWAKIEcwBLBHMAlgHHAEIEcwCWAlUAiARzAJoCrACDBccAnARzAIcFxwCcBHMAhwY5AGMEcwBEBccAoQKqAIUFxwChAqoAPAVWAFwEAAA/BOMAMAI5ACQE4wAwAwAAIwXHAKEEcwCDBccAoQRzAIME4wApBAAAKATjACkEAAAoBGgApAY5AGAGYgBVBKAASAR0AEgDkQBiBPAARAMpAC4FMABIBGv/4QQAALAC6wBSCMAAMwgAAE8EAACZCAAATwQAAJkIAABPBAAAmAQAAJgH1QFqBcAAngSrAHIE1QCdBKwAcQTVAiIE1QEFBav/6QUAAckFqwJ+Bav/6QWrAn4Fq//pBasCfgWr/+kFq//pBav/6QWr/+kFq//pBasBwAWrAn4FqwHABasBwAWr/+kFq//pBav/6QWrAn4FqwHABasBwAWr/+kFq//pBav/6QWrAn4FqwHABasBwAWr/+kFq//pBav/6QWr/+kFq//pBav/6QWr/+kFq//pBav/6QWr/+kFq//pBav/6QWr/+kFq//pBav/6QWr/+kFqwLWBasAZgWr/+oF1f//BNUAkggAAAAH6wEwB+sBIAfrATAH6wEgBNUAsgTVAIAE1QAqCCsBmAhrAbgHVQAQBgAA9AYAAG8EQAA6BUAANwTAAD8EFQBABAAAJQYAAFUF4QC/A40AiQTV/9kBgACAAtUAhgcVAGEClgAPBNUAkgLWAIMC1gCDBNUAsgLWAHAFVv/9BHMASgXHAGYEAABQBccAZgQAAFAFVgCiBHMASwVWAKIEcwBLBVYAogRzAEsGOQBtBHMAQgY5AG0EcwBCBjkAbQRzAEIFxwCkBHMAhwXHAB8EcwAGAjn/zgI5/84COf/kAjn/5AI5//YCOf/1AjkAowHHAGYEAAA3Acf/ogVWAJYEAACIBAAAhgRzAJYBx//6BccAnARzAIcFyQClBHMAiwY5AGMEcwBEBjkAYwRzAEQFxwChAqoAawVWAFwEAAA/BOMAMAI5AAwFxwChBHMAgwXHAKEEcwCDBccAoQRzAIMFxwChBHMAgweNABkFxwAGBVYABgQAACEBxwCJBVb//QRzAEoIAAABBx0ARAY5AFME4wCBAjkAuQeNABkFxwAGB40AGQXHAAYHjQAZBccABgVWAAYEAAAhAccAigKq/+EEcwAbBM0AWgasAGsGrAAiBqwAIgasAEoCqgDiAqoAawKqAN4Cqv/qBVf//wZG/6cGtP+oAxL/qAYy/6cG2P+nBgX/pwHH/3gFVv/9BVYAlgVY//4FVgCiBOMAKQXHAKQCOQC/BVYAlgVYAAsGqgCYBccAnAUzAG0GOQBjBccApAVWAJ4E8gCUBOMAMAVWAAYFVgAJBq8AfwX7AGECOQAEBVYABgSgAEgDkQBiBHMAiwHHAGsEYACIBJoAjAQAABkDhwBIBHMAiwRzAFwBxwCJBAAAhgQAABgEnACgBAAAGgOVAFwEcwBEBI0AgwPbAFYEYACIBDMAEQW0AHoGPwBXAcf/yQRgAIgEcwBIBGAAiAY/AFcFVwCiBusAMgRVAKEFwABkBVYAXAI5AL8COQAEBAAANwh1AA0IFQCkBtUAMQSpAKEFFQAKBcAAoAVW//0FQACnBVYAlgRVAKEFawAABVYAogdjAAcE1QBOBcAAoQXAAKEEqQChBUAAEgaqAJgFxwCkBjkAYwXAAKAFVgCeBccAZgTjADAFFQAKBhUAUgVWAAkF6wCfBVUAVwdVAKEHgAChBlUAAAcVAKgFQAClBcAAVQgVAKQFxwAaBHMASgSVAFsEQACIAusAiASrAAAEcwBLBVr/+wOrADIEeACHBHgAhwOAAIYEqwAYBYAAjARrAIgEcwBEBFUAiARzAIcEAABQA6oAJgQAACEGlQBLBAAADwSVAIoEKwBFBmsAjQaVAI0FAAAoBcAAiwQrAIQEFQAwBgAAiQRVAB8EcwBLBHMAAALrAIkEFQBLBAAAPwHHAIgCOQAJAcf/ogdAABMGgACDBHMAAAOAAIYEAAAhBGsAiAPpAKEDSgCICAAAQQiVAKAFhQAtAqoBAQKqAB4CqgAxAqoAMQKqAQECqgB+AqoAfgKqAIwCqgCMAqoBAQKqABACqgEBAqoBIQMQAH0CqgCMAjMA0gKqAwsCqv8EAjkAuQSBAGkEVgAyAzEAGQQRAC0E0QCWAfkAmwMPAF8EygCbBLgAjAH5AJsEEwAoA7AAUAO0ADwEygCbBM8AUAH5AJsC0gA8BJgAWgQ8ABkEiABuBF8AcwOxABkD1AAKBGYAlgQTACgFjgBkBSQAKAPyAJsD8gCbA/IAmwHjAFoDVgBaBoYAmwH5/6wEEwAoBBMAKAO0/1cDtP9XBEgALQWOAGQFjgBkBY4AZAWOAGQEgQBpBIEAaQSBAGkEVgAyAzEAGQQRAC0E0QCWAksAAANKAAAEuACMAksAAAQTACgDsABQA7QAPATPAFAC0gA8BJgAWgSIAG4EXwBzA9QACgRmAJYEEwAoBY4AZAUkACgB+QCbBFYAMgOwAFAEXwBzBJsAPAAA/9wAAP8lAAD/3AAA/lECjQCrAo0AoALaAEMDTQB5Aaj/ugGcAEYB5QBGAZwARgGcAEYBrQBIAZwARgGxAEYBUQBGBDUBfAQ1AS4ENQC3BDUAgQQ1ASwENQC+BDUArwQ1AIEENQCaBDUA2wQ1AIUCjQDBBDUAswYAAQAGAAEAAkIANgYAAQAENQCeBDUAmAQ1AMsGAAEABgABAAYAAQAGAAEABgABAAGxAEYGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAUb/7oGAAEABgABAAYAAQAFtQA6BbUAOgH0/7oB9P+6BgABAAYAAQAGAAEABgABAASBADYENQA2BD3/ugQ9/7oD6QBKA+kASgZ/ABQHdgAUAyf/ugQe/7oGfwAUB3YAFAMn/7oEHv+6BRsAMgS1ACQGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEAAc8AMAGxAEYBsQBGAbEAQAGxAEYGAAEABgABAAAA/9wAAP5RAAD/FgAA/xYAAP8WAAD/FgAA/xYAAP8WAAD/FgAA/xYAAP8WAAD/3AAA/xYAAP/cAAD/IAAA/9wEcwBKCAAAAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQACjQB/Ao0AXQYAAQAE7gAVA00AeQGoAA4B1v/cAagAVgHWABADdQAyA3UAMgGoAC0B1gATBRsAMgS1ACQB9P+6AfT/ugGoAJMB1gATBbUAOgW1ADoB9P+6AfT/ugJCAAADAP/3BbUAOgW1ADoB9P+6AfT/ugW1ADoFtQA6AfT/ugH0/7oEgQA2BDUANgQ9/7oEPf+6BIEANgQ1ADYEPf+6BD3/ugSBADYENQA2BD3/ugQ9/7oCswBfArMAXwKzAF8CswBfA+kASgPpAEoD6QBKA+kASgaSAD4GkgA+BD//ugQ//7oGkgA+BpIAPgQ//7oEP/+6CMkAPgjJAD4Gxf+6BsX/ugjJAD4IyQA+BsX/ugbF/7oEp/+6BKf/ugSn/7oEp/+6BKf/ugSn/7oEp/+6BKf/ugRaACoDmgA2BDX/ugMn/7oEWgAqA5oANgQ1/7oDJ/+6Bk8AJwZPACcCJP+6Ahr/ugSnAEYEpwBGAiT/ugIa/7oEzwAtBM8ALQMn/7oDJ/+6BA0ARwQNAEcBqP+6Aaj/ugK0ACMCtAAjAyf/ugMn/7oENQBFBDUARQH0/7oB9P+6AkIANgMA//cDmv+6Ayf/ugN1ADIDdQAyBRsAMgS1ACQFGwAyBLUAJAH0/7oB9P+6BFoAQATOAEkEWgAmBM4AOQRaAFMEzgBKBFoAUwTOAEoGAAEABgABAAGcAEYBnABGBgABAAYAAQAGAAEAAVEARgGxAEYGAAEABgABAAGtAEgB5QBGBgABAAYAAQAGAAEAAbEARgGxAEYBsQBGAbEARgGxAEABzwAwBgABAAGcAEYBnABGBgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEAAo0AygKNAMcCjQDGBgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEAAQD/uggA/7oQAP+6BtwAYwU/AEQG1QChBVsAgwAA/dwAAPwvAAD8pgAA/lQAAPzXAAD9cwAA/ikAAP4NAAD9EQAA/GcAAP2dAAD79QAA/HIAAP7VAAD+1QAA/wIEGwCgBqwAawasABkAAP62AAD9cwAA/ggAAPymAAD+UwAA/REAAPvIAAD69AAA+q8AAPxyAAD7qgAA+2oAAPzxAAD8fQAA+90AAPzBAAD7mAAA/eoAAP6EAAD9wgAA/PEAAP1fAAD+dgAA/rwAAPzrAAD9bAAA/VgAAPyQAAD9FQAA/CwAAPwTAAD8EgAA+5YAAPuWAccAiAVW//0EcwBKBVb//QRzAEoFVv/9BHMASgVW//0EcwBKBVb//QRzAEoFVv/9BHMASgVW//0EcwBKBVb//QRzAEoFVv/9BHMASgVW//0EcwBKBVb//QRzAEoFVv/9BHMASgVWAKIEcwBLBVYAogRzAEsFVgCiBHMASwVWAKIEcwBLBVYAogRzAEsFVgCiBHMASwVWAKIEcwBLBVYAogRzAEsCOQBjAccAHwI5ALoBxwB8BjkAYwRzAEQGOQBjBHMARAY5AGMEcwBEBjkAYwRzAEQGOQBjBHMARAY5AGMEcwBEBjkAYwRzAEQG3ABjBT8ARAbcAGMFPwBEBtwAYwU/AEQG3ABjBT8ARAbcAGMFPwBEBccAoQRzAIMFxwChBHMAgwbVAKEFWwCDBtUAoQVbAIMG1QChBVsAgwbVAKEFWwCDBtUAoQVbAIMFVgAGBAAAIQVWAAYEAAAhBVYABgQAACEFVv/9BHMASgI5/+IBx/+wBjkAYwRzAEQFxwChBHMAgwXHAKEEcwCDBccAoQRzAIMFxwChBHMAgwXHAKEEcwCDAAD+/gAA/v4AAP7+AAD+/gRV//0C6wAMB2MABwVa//sEqQChA4AAhgSpAKEDgACGBccApARrAIgEc//9BAAAFARz//0EAAAUBVYACQQAAA8FVQBXBCsARQVVAKEEcwCHBgUAYwRzAFUGOQBgBHMARAW1ADoB9P+6AiT/ugIa/7oEpwBGAfQAngH0ABAB9AAbAfQAEAH0AGsB9P/5Aif/zgGoAA8BqP/1AqoApAKqAKQBqAAOAagAVgGoAFYAAP/PAagADwHW/78BqP/1Adb/zQGoAB0B1v/1AagAkwHWABMDdQAyA3UAMgN1ADIDdQAyBRsAMgS1ACQFtQA6BbUAOgH0/7oB9P+6BbUAOgW1ADoB9P+6AfT/ugW1ADoFtQA6AfT/ugH0/7oFtQA6BbUAOgH0/7oB9P+6BbUAOgW1ADoB9P+6AfT/ugW1ADoFtQA6AfT/ugH0/7oFtQA6BbUAOgH0/7oB9P+6BIEANgQ1ADYEPf+6BD3/ugSBADYENQA2BD3/ugQ9/7oEgQA2BDUANgQ9/7oEPf+6BIEANgQ1ADYEPf+6BD3/ugSBADYENQA2BD3/ugQ9/7oEgQA2BDUANgQ9/7oEPf+6ArMAMgKzADICswBfArMAXwKzAF8CswBfArMAMgKzADICswBfArMAXwKzAF8CswBfArMAXwKzAF8CswA4ArMAOAKzAEkCswBJA+kASgPpAEoD6QBK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//4ACQAJ//0ACgAK//0ACwAL//0ADAAM//0ADQAN//0ADgAN//0ADwAO//0AEAAP//0AEQAP//wAEgAR//wAEwAS//wAFAAT//wAFQAT//sAFgAU//sAFwAV//sAGAAV//oAGQAX//sAGgAZ//oAGwAa//oAHAAa//oAHQAb//oAHgAc//kAHwAc//kAIAAd//kAIQAf//kAIgAg//kAIwAg//gAJAAh//gAJQAi//gAJgAi//cAJwAj//cAKAAk//cAKQAm//cAKgAm//cAKwAn//YALAAo//YALQAo//YALgAq//YALwAr//YAMAAt//YAMQAt//UAMgAu//UAMwAv//UANAAw//QANQAw//QANgAx//QANwAz//QAOAA0//MAOQA0//MAOgA1//MAOwA1//MAPAA2//MAPQA3//MAPgA4//MAPwA5//IAQAA6//IAQQA7//IAQgA8//IAQwA8//EARAA9//EARQA+//EARgA///AARwBA//AASABB//AASQBC//AASgBC//AASwBD//AATABE//AATQBG/+8ATgBG/+8ATwBH/+8AUABI/+8AUQBJ/+4AUgBJ/+4AUwBK/+4AVABL/+0AVQBN/+0AVgBN/+0AVwBO/+0AWABP/+wAWQBQ/+wAWgBQ/+0AWwBR/+wAXABT/+wAXQBU/+wAXgBU/+wAXwBV/+sAYABW/+sAYQBX/+sAYgBX/+oAYwBZ/+oAZABa/+oAZQBb/+oAZgBc/+kAZwBc/+kAaABd/+kAaQBe/+gAagBg/+kAawBg/+kAbABh/+kAbQBi/+gAbgBj/+gAbwBj/+gAcABk/+cAcQBl/+cAcgBn/+cAcwBn/+cAdABo/+YAdQBp/+YAdgBq/+YAdwBq/+UAeABr/+UAeQBt/+UAegBu/+UAewBu/+UAfABv/+UAfQBw/+UAfgBx/+QAfwBx/+QAgABz/+QAgQB0/+QAggB1/+MAgwB2/+MAhAB2/+MAhQB3/+IAhgB4/+IAhwB5/+IAiAB6/+IAiQB7/+EAigB8/+EAiwB9/+IAjAB9/+EAjQB+/+EAjgB//+EAjwCB/+EAkACB/+AAkQCC/+AAkgCD/+AAkwCE/98AlACE/98AlQCF/98AlgCH/98AlwCI/+AAmACI/98AmQCJ/98AmgCK/94AmwCL/94AnACM/94AnQCM/94AngCO/94AnwCP/94AoACQ/94AoQCQ/90AogCR/90AowCS/90ApACT/90ApQCU/9wApgCV/9sApwCW/9sAqACX/9sAqQCX/9sAqgCY/9sAqwCZ/9sArACb/9sArQCb/9sArgCc/9sArwCd/9sAsACe/9sAsQCe/9oAsgCf/9oAswCg/9oAtACi/9kAtQCj/9gAtgCj/9gAtwCk/9gAuACl/9gAuQCm/9gAugCm/9gAuwCo/9gAvACp/9cAvQCq/9cAvgCq/9cAvwCr/9cAwACs/9cAwQCt/9cAwgCu/9cAwwCv/9YAxACw/9YAxQCx/9UAxgCx/9UAxwCy/9UAyACz/9QAyQC0/9QAygC1/9QAywC2/9QAzAC3/9QAzQC4/9QAzgC5/9QAzwC5/9QA0AC6/9QA0QC8/9QA0gC9/9MA0wC9/9IA1AC+/9IA1QC//9IA1gDA/9EA1wDA/9EA2ADC/9EA2QDD/9EA2gDE/9EA2wDE/9EA3ADF/9EA3QDG/9EA3gDH/9AA3wDH/9AA4ADJ/88A4QDK/88A4gDL/88A4wDL/88A5ADM/88A5QDN/88A5gDO/88A5wDQ/84A6ADQ/84A6QDR/84A6gDS/80A6wDT/80A7ADT/80A7QDU/80A7gDW/8wA7wDX/8wA8ADX/8wA8QDY/8wA8gDZ/8wA8wDa/8wA9ADa/8wA9QDc/8sA9gDd/8sA9wDe/8sA+ADe/8oA+QDf/8oA+gDg/8oA+wDh/8oA/ADh/8oA/QDj/8kA/gDk/8kA/wDl/8kA+Aj/AAgACP/+AAkACf/9AAoACv/9AAsAC//9AAwADP/9AA0ADf/9AA4ADf/9AA8ADv/9ABAAD//9ABEAD//8ABIAEf/8ABMAEv/8ABQAE//8ABUAE//7ABYAFP/7ABcAFf/7ABgAFf/6ABkAF//7ABoAGf/6ABsAGv/6ABwAGv/6AB0AG//6AB4AHP/5AB8AHP/5ACAAHf/5ACEAH//5ACIAIP/5ACMAIP/4ACQAIf/4ACUAIv/4ACYAIv/3ACcAI//3ACgAJP/3ACkAJv/3ACoAJv/3ACsAJ//2ACwAKP/2AC0AKP/2AC4AKv/2AC8AK//2ADAALf/2ADEALf/1ADIALv/1ADMAL//1ADQAMP/0ADUAMP/0ADYAMf/0ADcAM//0ADgANP/zADkANP/zADoANf/zADsANf/zADwANv/zAD0AN//zAD4AOP/zAD8AOf/yAEAAOv/yAEEAO//yAEIAPP/xAEMAPP/xAEQAPf/xAEUAPv/xAEYAP//wAEcAQP/wAEgAQf/wAEkAQv/wAEoAQv/wAEsAQ//wAEwARP/wAE0ARv/vAE4ARv/vAE8AR//vAFAASP/vAFEASf/uAFIASf/uAFMASv/uAFQAS//tAFUATf/tAFYATf/tAFcATv/tAFgAT//sAFkAUP/sAFoAUP/tAFsAUf/sAFwAU//sAF0AVP/sAF4AVP/sAF8AVf/rAGAAVv/rAGEAV//rAGIAV//rAGMAWf/qAGQAWv/qAGUAW//qAGYAXP/pAGcAXP/pAGgAXf/pAGkAXv/pAGoAYP/pAGsAYP/pAGwAYf/pAG0AYv/pAG4AY//oAG8AY//oAHAAZP/oAHEAZf/nAHIAZ//nAHMAZ//nAHQAaP/nAHUAaf/mAHYAav/mAHcAav/mAHgAa//lAHkAbf/lAHoAbv/lAHsAbv/lAHwAb//lAH0AcP/kAH4Acf/kAH8Acv/kAIAAc//kAIEAdP/jAIIAdf/jAIMAdv/jAIQAdv/jAIUAd//jAIYAeP/jAIcAef/iAIgAev/iAIkAe//iAIoAfP/iAIsAff/iAIwAff/iAI0Afv/iAI4Af//iAI8Agf/hAJAAgf/hAJEAgv/gAJIAg//gAJMAhP/gAJQAhP/gAJUAhf/gAJYAh//fAJcAiP/gAJgAiP/fAJkAif/fAJoAiv/eAJsAi//eAJwAjP/eAJ0AjP/eAJ4Ajv/eAJ8Aj//eAKAAkP/eAKEAkP/dAKIAkf/dAKMAkv/dAKQAk//dAKUAlP/cAKYAlf/bAKcAlv/bAKgAl//bAKkAl//bAKoAmP/bAKsAmf/bAKwAm//bAK0Am//bAK4AnP/bAK8Anf/bALAAnv/bALEAnv/aALIAn//aALMAoP/ZALQAov/ZALUAo//YALYAo//YALcApP/YALgApf/YALkApv/YALoApv/YALsAqP/YALwAqf/XAL0Aqv/XAL4Aqv/XAL8Aq//XAMAArP/XAMEArf/XAMIArv/XAMMAr//WAMQAsP/WAMUAsf/VAMYAsf/VAMcAsv/UAMgAs//UAMkAtP/UAMoAtf/UAMsAtv/UAMwAt//UAM0AuP/UAM4Auf/UAM8Auf/UANAAuv/UANEAvP/UANIAvf/TANMAvf/SANQAvv/SANUAv//SANYAwP/RANcAwP/RANgAwv/RANkAw//RANoAxP/RANsAxP/RANwAxf/RAN0Axv/RAN4Ax//QAN8Ax//QAOAAyf/PAOEAyv/PAOIAy//PAOMAy//PAOQAzP/PAOUAzf/PAOYAzv/PAOcA0P/OAOgA0P/OAOkA0f/OAOoA0v/NAOsA0//NAOwA0//NAO0A1P/NAO4A1v/MAO8A1//MAPAA1//MAPEA2P/MAPIA2f/MAPMA2v/MAPQA2v/MAPUA3P/LAPYA3f/LAPcA3v/LAPgA3v/KAPkA3//KAPoA4P/KAPsA4f/KAPwA4f/KAP0A4//JAP4A5P/JAP8A5f/JAPgI/wAIAAj//gAJAAn//QAKAAr//QALAAv//QAMAAz//QANAA3//QAOAA3//QAPAA7//QAQAA///QARAA///AASABH//AATABL//AAUABP//AAVABP/+wAWABT/+wAXABX/+wAYABX/+gAZABf/+wAaABn/+gAbABr/+gAcABr/+gAdABv/+gAeABz/+QAfABz/+QAgAB3/+QAhAB//+QAiACD/+QAjACD/+AAkACH/+AAlACL/+AAmACL/9wAnACP/9wAoACT/9wApACb/9wAqACb/9wArACf/9gAsACj/9gAtACj/9gAuACr/9gAvACv/9gAwAC3/9gAxAC3/9QAyAC7/9QAzAC//9QA0ADD/9AA1ADD/9AA2ADH/9AA3ADP/9AA4ADT/8wA5ADT/8wA6ADX/8wA7ADX/8wA8ADb/8wA9ADf/8wA+ADj/8wA/ADn/8gBAADr/8gBBADv/8gBCADz/8gBDADz/8QBEAD3/8QBFAD7/8QBGAD//8ABHAED/8ABIAEH/8ABJAEL/8ABKAEL/8ABLAEP/8ABMAET/8ABNAEb/7wBOAEb/7wBPAEf/7wBQAEj/7wBRAEn/7gBSAEn/7gBTAEr/7gBUAEv/7QBVAE3/7QBWAE3/7QBXAE7/7QBYAE//7ABZAFD/7ABaAFD/7QBbAFH/7ABcAFP/7ABdAFT/7ABeAFT/7ABfAFX/6wBgAFb/6wBhAFf/6wBiAFf/6wBjAFn/6gBkAFr/6gBlAFv/6gBmAFz/6QBnAFz/6QBoAF3/6QBpAF7/6QBqAGD/6QBrAGD/6QBsAGH/6QBtAGL/6QBuAGP/6ABvAGP/6ABwAGT/6ABxAGX/5wByAGf/5wBzAGf/5wB0AGj/5wB1AGn/5gB2AGr/5gB3AGr/5gB4AGv/5QB5AG3/5QB6AG7/5QB7AG7/5QB8AG//5QB9AHD/5AB+AHH/5AB/AHL/5ACAAHP/5ACBAHT/5ACCAHX/4wCDAHb/4wCEAHb/4wCFAHf/4wCGAHj/4wCHAHn/4gCIAHr/4gCJAHv/4gCKAHz/4gCLAH3/4gCMAH3/4gCNAH7/4gCOAH//4gCPAIH/4QCQAIH/4QCRAIL/4ACSAIP/4ACTAIT/4ACUAIT/4ACVAIX/4ACWAIf/3wCXAIj/4ACYAIj/3wCZAIn/3wCaAIr/3gCbAIv/3gCcAIz/3gCdAIz/3gCeAI7/3gCfAI//3gCgAJD/3gChAJD/3QCiAJH/3QCjAJL/3QCkAJP/3QClAJT/3ACmAJX/2wCnAJb/2wCoAJf/2wCpAJf/2wCqAJj/2wCrAJn/2wCsAJv/2wCtAJv/2wCuAJz/2wCvAJ3/2wCwAJ7/2wCxAJ7/2gCyAJ//2gCzAKD/2QC0AKL/2QC1AKP/2AC2AKP/2AC3AKT/2AC4AKX/2AC5AKb/2AC6AKb/2AC7AKj/2AC8AKn/1wC9AKr/1wC+AKr/1wC/AKv/1wDAAKz/1wDBAK3/1wDCAK7/1wDDAK//1gDEALD/1gDFALH/1QDGALH/1QDHALL/1ADIALP/1ADJALT/1ADKALX/1ADLALb/1ADMALf/1ADNALj/1ADOALn/1ADPALn/1ADQALr/1ADRALz/1ADSAL3/0wDTAL3/0gDUAL7/0gDVAL//0gDWAMD/0QDXAMD/0QDYAML/0QDZAMP/0QDaAMT/0QDbAMT/0QDcAMX/0QDdAMb/0QDeAMf/0ADfAMj/0ADgAMn/zwDhAMr/zwDiAMv/zwDjAMv/zwDkAMz/zwDlAM3/zwDmAM7/zwDnAND/zgDoAND/zgDpANH/zgDqANL/zQDrANP/zQDsANP/zQDtANT/zQDuANb/zADvANf/zADwANf/zADxANj/zADyANn/zADzANr/zAD0ANr/zAD1ANz/ywD2AN3/ywD3AN7/ywD4AN7/ygD5AN//ygD6AOD/ygD7AOH/ygD8AOH/ygD9AOP/yQD+AOT/yQD/AOX/yQAAABgAAAaMCxYIAAMDAgQGBgoHAgQEBAYDBAMDBgYGBgYGBgYGBgMDBgYGBgsIBwcHBgYIBwIFBwYIBwgGCAcHBgcICgcIBwMDAwUGBAYGBgYGBAYGAgIFAggGBgYGBAYDBgYKBgYGBAIEBggIBwYHCAcGBgYGBgYGBgYGBgICAgIGBgYGBgYGBgYGBgQGBgYEBgcICAsEBAYLCAgGBgYGBgYHCQYDBAUICgYGAgYHBgcGBgYLCAgICwoGCwQEAgIGBQYIAgYEBAYGBgMCBAsIBggGBgICAgIICAgHBwcCBAQEBAQEBAQEBAYCBwYHBgIIBggGBwYGBgQEBAoJCgYIBgIHBgcGBwYGBgQIBggGBwcIBgYGBgYCBgQGBAcGBwYIBgcEBwQHBgYDBgQHBgcGBwYHBgYICAYGBQcEBwYGBAwLBgsGCwYGCwgGBwYHBwgHCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAcLCwsLCwcHBwsMCggIBgcHBgYICAUHAgQKBAcEBAcECAYHBgcGBgYGBgYGCAYIBggGBwYJBgICAgICAgICBQIHBQYGAgcGCAYIBggGBwQHBgYEBwYHBgcGCAYKCggGAggGCwoIBgMKCgoKCgoIBgIEBgYKCgoKBAQEBAgJCQUJCggCCAcIBgcHAgcICAcHCAcGBwYIBwgIAggGBQYCBgYGBQYGAgYGBgYFBgYFBgUICAIGBgYIBgoGBwcCAgUMCwkHBwcIBwcGCAYMBwkJBwcIBwgHBgcGBwgHBwYKCggJBwgLCAYGBwQGBggFBgYFBggGBgYGBgYGCAYGBggIBwgGBggGBgYEBgYCAgIKCQYFBgYFBQsNCQQEBAQEBAQEBAQEBAQEBAMEBAMGBgUGBwMDBwcDBgUFBwcDBQcGBgYGBgYGCQcGBgYDBQkDBgYFBQcJCQkJBgYGBgUGBwMFBwMGBQUHBQcGBgYGBgkHAwYFBgYAAAAABAQEBQICAwICAgICAgYGBgYGBgYGBgYGBAYICAMIBgYGCAgICAgCCAgICAgICAgHCAgICAgDAwgICAgGBgYGBQUJCgQGCQoEBgcGCAgICAgICAgICAgICAgICAICAgICCAgAAAAAAAAAAAAAAAAAAAAABwsICAgICAgICAgICAgICAgICAgICAgICAgICAgIBAQIBwUCAwIDBQUCAwcGAwMCAwgIAwMDBAgIAwMICAMDBgYGBgYGBgYGBgYGBAQEBAUFBQUJCQYGCQkGBgwMCQkMDAkJBgYGBgYGBgYGBQYEBgUGBAkJAwMGBgMDBwcEBAYGAgIEBAQEBgYDAwMEBQQFBQcGBwYDAwYHBgcGBwYHCAgCAggICAICCAgCAwgICAICAgICAggCAggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAQEBAgICAgICAgICAgICAgICAgICAgICAgICAELFgkHCQcAAAAAAAAAAAAAAAAAAAAABgkJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIIBggGCAYIBggGCAYIBggGCAYIBggGCAYGBgYGBgYGBgYGBgYGBgYGAgICAggGCAYIBggGCAYIBggGCQcJBwkHCQcJBwcGBwYJBwkHCQcJBwkHCAYIBggGCAYCAggGBwYHBgcGBwYHBgAAAAAGBAoHBgUGBQgGBgYGBgcGBwYHBggGCQYIAwMDBgMDAwMDAwMCAgQEAgICAAIDAgMCAwIDBQUFBQcGCAgDAwgIAwMICAMDCAgDAwgIAwMICAMDCAgDAwYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgQEBAQEBAQEBAQEBAQEBAQEBAUFBQUFBQUFBQUFBQUFBQUJCQYGCQkGBgkJBgYMDAkJDAwJCQYGBgUGBAkJCQMDCQkDAwkJAwMJCQMDCQkDAwYGBgYJCgQGCQoEBgcHBAQHBwQEBwcEBAkKBAYJCgQGCQoEBgkKBAYJCgQGBgYCAgYGAgIGBgICBgYCAgYGAwMGBgYGBgYDAwYGBgYGBgMEBAQEBQUFBQUFBQUFBQUFBQUFBQcGBwYDAwUFBwYDAwcGCQkJCQIAAAAAAAAADAwAAAAAAAACBAAABwAAAAkJBgYMDAkJBgUGBAUEAwMEAwMDAwMJCgMABAYGBwYHBgcGBwYHBgcGBwYGBgcMGAkAAwMDBAcHCwgCBAQFBwMEAwMHBwcHBwcHBwcHAwMHBwcHDAcICQkIBwkJAwYIBwkJCQgJCQgHCQcLBwcHAwMDBQcEBwcGBwcDBwcDAwYDCwcHBwcEBwMHBQkFBQUEAwQHBwcJCAkJCQcHBwcHBwYHBwcHAwMDAwcHBwcHBwcHBwcHBQcHBwQGCAkJDAQEBwwJCQcHBwcHBgkKBwMEBAkLBwcDBwcHBwcHBwwHBwkMCwcMBAQDAwcGBQcCBwQEBgYHAwMECwcIBwgIAwMDAwkJCQkJCQMEBAQEBAQEBAQEBwMIBwcFAwkHBwUIBwcHBAQECgoKBwkHAwgHCQYJBgcHBAcHBwcJBwkIBwgHBwMHBAcECQcJBwkHCQQJBAgHBwMHBQkHCQcHBQcFBwkJBwcFBwUIBwYEDQwGDAYMBgYMCQcHBwcHCQgJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJBwwMDAwMBwcHDA0LCQkGCAcGBgkJBQcCBAsEBwQEBwQHBwkGCQYIBwgHCAcJBwkHCQcJBwkHAwMDAwMDAwMGAwgGBwcDCQcJBwkHCQcJBAgHBwMJBwkHCQcJBwsJBwUDBwcMCwkHAwsJCwkLCQcFAwQHBwoKCgoEBAQEBwkKBAkJCQMHCAcIBwkDCAcJCQgJCQgHBwcHCQkDBwcFBwMHBwUFBwcDBwUHBQUHBwYHBgkJAwcHBwkICgcJCAMDBg0MCgcICQcICAcICAsHCQkHCAkJCQkICQcICQcJCAsLCgoICQwJBwcGBAcHCQYHBwYHCQcHBwcGBQUJBQcGCQkICQcGCQcHBwQGBwMDAwsKBwYFBwYFDA0IBAQEBAQEBAQEBAQEBAUEAwQEAwcHBQYHAwUHBwMGBgYHBwMEBwYHBwYGBwYICAYGBgMFCQMGBgYGBggICAgHBwcHBQYHAwUHAwYGBgcEBwcHBgcGCAgDBwYHBwAAAAAEBAQFAgIDAgIDAgMCBgYGBgYGBgYGBgYEBgkJAwkGBgYJCQkJCQMJCQkJCQkJCQgJCQkJCQMDCQkJCQcGBgYGBgoLBQYKCwUGCAcJCQkJCQkJCQkJCQkJCQkJAwMDAwMJCQAAAAAAAAAAAAAAAAAAAAAHDAkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkEBAkHBQIDAgMFBQIDCAcDAwIDCQkDAwMFCQkDAwkJAwMHBgYGBwYGBgcGBgYEBAQEBgYGBgoKBgYKCgYGDQ0KCg0NCgoHBwcHBwcHBwcFBgUHBQYFCQkDAwcHAwMHBwUFBgYCAgQEBQUGBgMDAwUFBQUFCAcIBwMDBwcHBwcHBwcJCQICCQkJAgMJCQMDCQkJAwMDAwMDCQICCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJBAQECQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJAgwYCggKCAAAAAAAAAAAAAAAAAAAAAAGCgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwgHCAcIBwgHCAcIBwgHCAcDAwMDCQcJBwkHCQcJBwkHCQcKCAoICggKCAoICQcJBwoICggKCAoICggHBQcFBwUHBwMDCQcJBwkHCQcJBwkHAAAAAAcECwgHBQcFCQcHBgcGCAYIBggHCQcJBwkDAwMHAwMDAwMDAwICBAQCAgIAAgMCAwIDAgMFBQUFCAcJCQMDCQkDAwkJAwMJCQMDCQkDAwkJAwMJCQMDBwYGBgcGBgYHBgYGBwYGBgcGBgYHBgYGBAQEBAQEBAQEBAQEBAQEBAQEBgYGBgYGBgYGBgYGBgYGBgoKBgYKCgYGCgoGBg0NCgoNDQoKBwcHBQYFCQkJAwMJCQMDCQkDAwkJAwMJCQMDBwcHBwoLBQYKCwUGBwcFBQcHBQUHBwUFCgsFBgoLBQYKCwUGCgsFBgoLBQYGBgICBgYCAgYGAgIGBgICBgYDAwYGBgYGBgMDBgYHBgYGAwUFBQUFBQUFBQUFBQUFBQUFBQUFCAcIBwMDBQUIBwMDCAcKCgoKAgAAAAAAAAANDQAAAAAAAAIEAAAHAAAACgoGBg0NCgoHBQYFBQQDAwQDAwMDAwoLAwAEBgcHBwcHBwcHBwcHBwcHBgYHBw0aCgAEBAMFBwcMCQIEBAUIBAQEBAcHBwcHBwcHBwcEBAgICAcNCQkJCQkICgkDBgkHCwkKCQoJCQcJCQ0HCQcEBAQFBwQHBwcHBwMHBwMDBwMLBwcHBwQHBAcFCQcHBwQDBAgJCQkJCQoJBwcHBwcHBwcHBwcDAwMDBwcHBwcHBwcHBwcFBwcHBQcJCgoNBAQHDQoJBwcHBwcGCQsHAwQFCgwHCAMICAcHCAcHDQkJCg0MBw0EBAMDBwYHCQIHBAQHBwcEAwQOCQkJCQkDAwMDCgoKCQkJAwQEBAQEBAQEBAQHAwkHBwcDCQcJBwkHCAgEBAQLCwsHCgcDCQcJBwkHBwcECQcJBwkICQkHCQcHAwcEBwQJBwkHCgcJBAkECQcHAwcFCQcJBwcHBwcHCgkIBwYIBQgHBwUPDQcNBw0HBw0JCAgICAgJCAkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkIDQ0NDQ0ICAgNDgwKCgcJCAcHCgoGCAIFDAUIBQUIBQkHCQcJBwkHCQcJBwoHCgcKBwkHCQcDAwMDAwMDAwYDCQcHBwMJBwkHCgcKBwkECQcIBAkHCQcJBwkHDQkJBwMJBw0MCgcDDQkNCQ0JCQcDBAcICwsLCwQEBAQJCgsFCgsKAwkJCQkHCQMJCQsJCAoJCQgHCQcJCgMJCAYHAwcHBwYHBwMHBwcFBgcHBgcHCQkDBwcHCQkLBwkJAwMGDg0LCAgJCQkJBwkJCwgJCQgJCwkKCQkJBwgLBwoJCwsKCwgJDQkHBwcFCAcJBgcHBgcJBwcHBwcFBwkHBwcLDAgJBwcKBwcHBQcHAwMDDAsHBgcHBgUNDgkEBAQEBAQEBAQEBAQEBQQDBAQEBwcFBwgDBQgIAwcGBggIAwUHBwcHBgYHBwkIBgYGAwUJAwcHBgYHCQkJCQcHBwcFBwgEBQgEBwYGCAUHBwcGBwcJCAMHBgcHAAAAAAQEBQUDAwMDAwMDAwIHBwcHBwcHBwcHBwQHCgoECgcHBwoKCgoKAwoKCgoKCgoKCAoKCgkJAwMKCgoKBwcHBwYGCwwFBwsMBQcICAoKCgoKCgoKCgoKCgoKCgoDAwMDAwoKAAAAAAAAAAAAAAAAAAAAAAcNCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgQECggFAwMDAwYGAwMICAMDAwMJCQMDBAUJCQMDCQkDAwcHBwcHBwcHBwcHBwQEBAQGBgYGCwsHBwsLBwcODgsLDg4LCwgICAgICAgIBwYHBQcGBwUKCgMDCAgDAwgIBQUHBwMDBAQFBQcHAwMEBQYFBgYICAgIAwMHCAcIBwgHCAoKAwMKCgoCAwoKAwMKCgoDAwMDAwMKAwMKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoEBAQKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoCDRoLCQsJAAAAAAAAAAAAAAAAAAAAAAcLCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADCQcJBwkHCQcJBwkHCQcJBwkHCQcJBwkHCQcJBwkHCQcJBwkHCQcJBwMDAwMKBwoHCgcKBwoHCgcKBwsJCwkLCQsJCwkJBwkHCwkLCQsJCwkLCQkHCQcJBwkHAwMKBwkHCQcJBwkHCQcAAAAABwUMCQgGCAYJBwcHBwcJBwkHCQcKBwoHCQMDAwgDAwMDAwMEAwMEBAMDAwADAwMDAwMDAwYGBgYICAkJAwMJCQMDCQkDAwkJAwMJCQMDCQkDAwkJAwMHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcEBAQEBAQEBAQEBAQEBAQEBAQGBgYGBgYGBgYGBgYGBgYGCwsHBwsLBwcLCwcHDg4LCw4OCwsICAcGBwUKCgoDAwoKAwMKCgMDCgoDAwoKAwMICAgICwwFBwsMBQcICAUFCAgFBQgIBQULDAUHCwwFBwsMBQcLDAUHCwwFBwcHAwMHBwMDBwcDAwcHAwMHBwMDBwcHBwcHAwMHBwcHBwcEBQUFBQYGBgYGBgYGBgYGBgYGBgYICAgIAwMGBggIAwMICAsLCwsDAAAAAAAAAA8OAAAAAAAAAwUAAAgAAAALCwcHDg4LCwcGBwUFBAQDBAMDAwMDCwwDAAQGBwgHCAcIBwgHCAcIBwgHBwcIDx4LAAQEBQUICA0KAwUFBgkEBQQECAgICAgICAgICAQECQkJCA8JCgsLCgkLCgMHCggLCgwKDAsKCQoJDwkJCAQEBAUIBQgICAgIBAgIAwMHAw0ICAgIBQgECAcLBwcIBQMFCQkJCwoKDAoICAgICAgICAgICAMDAwMICAgICAgICAgICAYICAgFCAkLCw8FBQgPDAsICAgICAcLDAgEBQUMDQgJBQkJCAgJCAgPCQkMDw4IDwUFAwMIBwcJAwgFBQgICAQDBQ4JCgkKCgMDAwMMDAwKCgoDBQQFBQUFBQUFBQgDCggICAMLCAkHCggJCQUFBQ0NDQgLCAMKCAsICwgICAUJCAkICwkLCggKCAgDCAQIBQoICggMCAsFCwUKCAkECQYKCAoICAgICAgMCwkIBwkFCggIBREPCA8IDwgIDwsJCQkJCQsJCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwkPDw8PDwkJCQ8QDgsLCAoJCAgLCwcJAwUNBQkFBQkFCQgLCAsICggKCAoICwgLCAsICggKCAMDAwMDAwMDBwMKBwgIAwoICwgMCAwICwUKCAkECggKCAoICwgPCwkHAwkIDw0MCAMPCw8LDwsJBwMFCAkNDQ0NBQUFBQkMDQYMDAsDCQoKCggKAwoLCwoKDAoKCQkJCQsLAwkJBwgDCAkHBwgIAwgHCAcHCAgHCAgLDAMICAgMCg0ICwoDAwcQDw0JCgsJCgoICgoOCQsLCQoLCgwKCgsJCgsJCwkODwwNCgsPCwgJCAUJCAkHCAgHCAoICAgICAcHCwcJCAsLCQsICAsICAgFCAgDAwMODAgHBwgHBg8QCgUFBQUFBQUFBQUFBQUGBQMFBQQICAYICQMGCQkDCAcHCQkDBQkICQgHBwgICgoGBgYEBgwDCAgHBwgKCgoKCAgICAYICQQGCQQIBwcJBQkJCAcICAoKAwgHCAkAAAAABQUFBgMDBAMDAwMDAggICAgICAgICAgIBQgLCwQLCAgICwsLCwsDCwsLCwsLCwsKCwsLCwsEBAsLCwsICAgIBwcMDgYIDA4GCAoJCwsLCwsLCwsLCwsLCwsLCwMDAwMDCwsAAAAAAAAAAAAAAAAAAAAACA8LCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLBQULCQYDAwMDBgYDAwoJBAQDAwsLBAQEBgsLBAQLCwQECAgICAgICAgICAgIBQUFBQcHBwcMDAgIDAwICBAQDQ0QEA0NCQkJCQkJCQkIBwgGCAcIBgwMBAQJCQQECQkGBggIAwMFBQYGCAgEBAQGBwYGBgoJCgkEBAgJCAkICQgJCwsDAwsLCwIDCwsDBAsLCwMDAwMDAwsDAwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwUFBQsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwIPHg0KDQoAAAAAAAAAAAAAAAAAAAAACA0NAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMJCAkICQgJCAkICQgJCAkICQgJCAkICQgKCAoICggKCAoICggKCAoIAwMDAwwIDAgMCAwIDAgMCAwIDQoNCg0KDQoNCgoICggNCg0KDQoNCg0KCQcJBwkHCQgDAwwICggKCAoICggKCAAAAAAIBQ4KCQcJBwsICAgICAoICggKCAsIDAgLBAQECQQEBAQEBAQDAwUFAwMDAAMDAwMDAwMDBgYGBgoJCwsEBAsLBAQLCwQECwsEBAsLBAQLCwQECwsEBAgICAgICAgICAgICAgICAgICAgICAgICAUFBQUFBQUFBQUFBQUFBQUFBQcHBwcHBwcHBwcHBwcHBwcMDAgIDAwICAwMCAgQEA0NEBANDQkJCAcIBgwMDAQEDAwEBAwMBAQMDAQEDAwEBAkJCQkMDgYIDA4GCAkJBgYJCQYGCQkGBgwOBggMDgYIDA4GCAwOBggMDgYICAgDAwgIAwMICAMDCAgDAwgIBAQICAgICAgEBAgICAgICAQGBgYGBgYGBgYGBgYGBgYGBgYGBgoJCgkEBAYGCgkEBAoJDAwMDAMAAAAAAAAAERAAAAAAAAADBgAACQAAAAwMCAgQEA0NCAcIBgYFBAQFBAQEBAQMDgMABQYICQgJCAkICQgJCAkICQgICAkQIAwABAQFBgkJDgsDBQUGCQQFBAQJCQkJCQkJCQkJBAQJCQkJEAsLDAwLCgwLAwgLCQ0LDAsMCwsJCwsPCwkJBAQEBwkFCQkICQkECQgEAwgDDQgJCQkFCAQIBwsHBwcFAwUJCwsMCwsMCwkJCQkJCQgJCQkJAwMDAwgJCQkJCQgICAgJBgkJCQYJCQwMEAUFCRAMCwkJCQkJCAsNCQQFBQwOCQoFCQkJCQkJCRALCwwRDwkQBQUEBAkIBwkDCQUFCAgJBAQFEQsLCwsLAwMDAwwMDAsLCwMFBAUFBQUFBQUFCQMLCAkHAwwJCQcLCQkJBQUFDQ0NCQwJAwsIDAgMCAkJBQsJCwkMCgwLCQsJCQMJBAkFCwgLCAwJCwULBQsICQQJBgsICwgJBwkHCQwLCQkHCgUKCQgGEhAIEAgQCAgQDAkKCQoKCwoLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsMChAQEBAQCgoKEBEPDAwJCwoICAwMBwoDBg4FCgYGCgYLCQwIDAgLCQsJCwkMCQwJDAkLCAsIAwMDAwMDAwQIAwsICAkDCwgMCQwJDAkLBQsICgQLCAsICwgMCA8LCQcDCwkQDgwJAw8LDwsPCwkHBAUJCg0NDQ0FBQUFCw0NBgwMDAMLCwsLCQsDCwsNCwoMCwsKCQkLCwwDCQkHCAMICQgHCAkDCAgJBwcJCQgICAsNAwgJCA0LDgkMCwMDCBEQDQkKDAsLCwkLCw4KDAwJCw0LDAsLDAkKCwsMCg0ODQ4LDBAMCQkJBgkJCgcICAcICwgJCAkIBwcNBwkICwsKDAkIDAkJCAYICAQDAw8NCAcHCAgHEBELBQUFBQUFBQUFBQUFBQYFAwUFBAkJBggKAwYKCQMIBwcKCgMGCQgJCQcICQgLCgYGBgQHDAMICAcHCQsLCwsJCQkJBggKBQcJBQgHBwoGCQkJCAkICwoDCQcJCQAAAAAFBQYHAwMEAwMDAwMDCAgICAgICAgICAgFCAwMBQwICAgMDAwMDAMMDAwMDAwMDAoMDAwLCwQEDAwMDAkICAgICA0PBggNDwYICgkMDAwMDAwMDAwMDAwMDAwMBAMDAwMMDAAAAAAAAAAAAAAAAAAAAAAJEAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwFBQwKBwMEAwQHBwMECgkEBAMECwsEBAUGCwsEBAsLBAQJCAgICQgICAkICAgFBQUFCAgICA0NCQkNDQkJEhIODhISDg4JCQkJCQkJCQkHCAYJBwgGDQ0EBAkJBAQKCgYGCAgDAwUFBgYICAQEBQYHBgcHCgkKCQQECQoJCgkKCQoMDAMDDAwMAwMMDAMEDAwMAwMDAwMEDAMDDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMBQUFDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAhAgDgsOCwAAAAAAAAAAAAAAAAAAAAAIDQ0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAsJCwkLCQsJCwkLCQsJCwkLCQsJCwkLCQsJCwkLCQsJCwkLCQsJCwkDBAMEDAkMCQwJDAkMCQwJDAkOCw4LDgsOCw4LCwgLCA4LDgsOCw4LDgsJBwkHCQcLCQMEDAkLCAsICwgLCAsIAAAAAAkGDwsJBwkHDAkJCAkICwgLCAsIDAkMCQsEBAQJBAQEBAQEBAMDBQUDAwMAAwQDBAMEAwQHBwcHCgkLCwQECwsEBAsLBAQLCwQECwsEBAsLBAQLCwQECQgICAkICAgJCAgICQgICAkICAgJCAgIBQUFBQUFBQUFBQUFBQUFBQUFCAgICAgICAgICAgICAgICA0NCQkNDQkJDQ0JCRISDg4SEg4OCQkJBwgGDQ0NBAQNDQQEDQ0EBA0NBAQNDQQECQkJCQ0PBggNDwYICgoGBgoKBgYKCgYGDQ8GCA0PBggNDwYIDQ8GCA0PBggICAMDCAgDAwgIAwMICAMDCAgEBAgICAgICAQECAgJCAgIBQYGBgYHBwcHBwcHBwcHBwcHBwcHCgkKCQQEBwcKCQQECgkNDQ0NAwAAAAAAAAASEQAAAAAAAAMGAAAKAAAADQ0JCRISDg4JBwgGBwUFBAUEBAQEBA0PAwAFBgkKCQoJCgkKCQoJCgkKCAgJChEiDQAFBQUGCQkPCwMGBgcKBQYFBQkJCQkJCQkJCQkFBQoKCgkRCwsMDAsKDAsFCQsJDQsMCwwLCwkLCxELCwkFBQUHCQYJCQkJCQUJCQQDCAMNCQkJCQYIBAkHCwcJCAYFBgoLCwwLCwwLCQkJCQkJCQkJCQkFBQUFCQkJCQkJCQkJCQkHCQkJBgkKDQ0RBgYJEQ0MCQkJCQkIDA4JBAUFDQ8JCgUKCgkJCwkJEQsLDBEQCREGBgQECQgJCwMJBgYJCQkFBAYRCwsLCwsFBQUFDAwMCwsLBQYEBgYGBgYGBgYJAwsICQgFDAkLCQsJCgoGBgYODg4JDAkFCwgMCQwJCgkGCwkLCQwKDAsJCwkJAwkECQYLCQsJDAkLBgsGCwgJBAkGCwkLCQkICQgJDA0KCQgLBgsJCQYTEQkRCREJCREMCgoKCgoMCwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwKEREREREKCgoREhANDQkLCgkJDQ0ICgMGDwYKBgYKBgsJDAkMCQsJCwkLCQwJDAkMCQsJCwkFBQUFBQUFBAkDCwgICQMLCQwJDAkMCQsGCwgKBAsJCwkLCQwJEQsLCQQLCREPDQkEEQsRCxELCwkEBgkKDg4ODgYGBgYLDQ0GDQ4NAwsLCwsJCwULCw0LCwwLCwsJCwsNDQULCggJAwkKCQgJCQMICQkHCAkJCAkJCw0DCQkJDQsPCQwLBQUJEhEPCgsLCwsLCQwLDwoMDAoKDQsMCwsMCQsNCw0KDw8NDgoMEAwJCQkGCgkLCAkJBwoLCQkJCQkICQ0HCgkODgsMCQkNCQkJBgkIBAUDDw4JBwkJCAcREgwGBgYGBgYGBgYGBgYGBwYDBgYFCgkHCQoDBwoKAwkICAoKAwYKCQoJCAgJCQwLBwcHBAcMAwkJCAgJDAwMDAoKCgkHCQoFBwoFCQgICgYKCgkICQkMCwMJCAkKAAAAAAUFBgcEAwQDAwQDBAMJCQkJCQkJCQkJCQUJDQ0FDQkJCQ0NDQ0NBA0NDQ0NDQ0NCw0NDQwMBAQNDQ0NCgkJCQgIDhAHCQ4QBwkLCg0NDQ0NDQ0NDQ0NDQ0NDQ0EBAQEBA0NAAAAAAAAAAAAAAAAAAAAAAkRDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQUFDQoHBAQEBAcHBAQLCgQEBAQMDAQEBQYMDAQEDAwEBAoJCQkKCQkJCgkJCQYGBgYICAgIDg4JCQ4OCQkTEw4OExMODgoKCgoKCgoKCQgJBwkICQcNDQUECgoFBAoKBwcJCQQEBgYHBwkJBAQFBggHBwcLCgsKBAQJCgkKCQoJCg0NAwMNDQ0DBA0NBAQNDQ0EBAQEBAQNAwMNDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0FBQUNDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0CESIPCw8LAAAAAAAAAAAAAAAAAAAAAAkODgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAECwkLCQsJCwkLCQsJCwkLCQsJCwkLCQsJCwkLCQsJCwkLCQsJCwkLCQUEBQQMCQwJDAkMCQwJDAkMCQ8LDwsPCw8LDwsLCQsJDwsPCw8LDwsPCwsJCwkLCQsJBQQMCQsJCwkLCQsJCwkAAAAACQYQCwoHCgcMCQkJCQkLCQsJCwkNCQ0JDAQFBAoEBAQEBAQFBAQGBgQEBAAEBAQEBAQEBAcHBwcLCgwMBAQMDAQEDAwEBAwMBAQMDAQEDAwEBAwMBAQKCQkJCgkJCQoJCQkKCQkJCgkJCQoJCQkGBgYGBgYGBgYGBgYGBgYGBgYICAgICAgICAgICAgICAgIDg4JCQ4OCQkODgkJExMODhMTDg4KCgkICQcNDQ0FBA0NBQQNDQUEDQ0FBA0NBQQKCgoKDhAHCQ4QBwkKCgcHCgoHBwoKBwcOEAcJDhAHCQ4QBwkOEAcJDhAHCQkJBAQJCQQECQkEBAkJBAQJCQQECQkJCQkJBAQJCQoJCQkFBgcHBwcHBwcHBwcHBwcHBwcHBwcLCgsKBAQHBwsKBAQLCg4ODg4EAAAAAAAAABMSAAAAAAAAAwYAAAoAAAAODgkJExMODgkICQcHBgUEBQQEBAQEDhADAAYHCQoJCgkKCQoJCgkKCQoJCQkKEyYOAAUFBgcLCxENBAYGBwsFBgUFCwsLCwsLCwsLCwUFCwsLCxMNDQ4ODQwPDQYKDQsPDQ8NDw4NDA0NEw0MDAUFBQcLBgoLCgsLBgsKBAQJBBAKCwsLBgoFCgkNCQkJBgYGCw0NDg0NDw0KCgoKCgoKCwsLCwYGBgYKCwsLCwsKCgoKCwgLCwsHCgwODhMGBgoTDw4KCgoLCwkOEAoEBwcPEQsMBgsLCwoMCwsTDQ0PExILEwcHBAQKCQkMAwsGBgoKCwUEBxENDQ0NDQYGBgYPDw8NDQ0GBgUGBgYGBgYGBgsEDQoMCQYOCwwJDQsLCwYGBhAQEAsPCwYNCg4KDgoLCwYNCg0KDgwODQsNCwsECwYLBg0KDQoPCw4GDgYNCgwGDAcNCg0KDAkMCQoPDgsLCAwIDAsKBxUTChMKEwoKEw4LCwsLCw0MDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDgsTExMTEwsLCxMUEQ4OCgwLCgoODggLBAcRBgsHBwsHDQoOCg4KDQsNCw0LDwsPCw8LDQoNCgYGBgYGBgYECgQNCQoLBA0KDgsPCw8LDgYNCgwFDQoNCg0KDQoTDQwJBA0KExEPCwYTDRMNEw0MCQQGCwsQEBAQBgYGBg0PDwcPEA8EDQ0NDQwNBg0NDw0MDw0NDAwMDQ4OBgwLCAoECgsKCAoLBAoJCwkJCwsJCgoOEAQKCwoQDRAKDg0GBgoUEw8LDA4NDA0KDQ0SCw4OCwwPDQ8NDQ4MDA4NDg0REQ8RDQ4TDgoLCgcLCw4JCgoICg0KCwkLCggJEAkLCg4ODA4LCg4KCwoHCgoEBgQRDwoICQoJCBMUDQYGBgYGBgYGBgYGBgYHBgQGBgULCggKCwQHCwsECgkJCwsEBwsKCwoJCQoKDQwJCQkECBAECgoJCQoNDQ0NCwsLCggKCwUICwUKCQkLBwsLCgkKCg0MBAoJCgsAAAAABgYHCAQEBQQEBAQEAwoKCgoKCgoKCgoKBgoODgUOCgoKDg4ODg4EDg4ODg4ODg4MDg4ODg4FBQ4ODg4LCgoKCQkPEgcKDxIHCgwLDg4ODg4ODg4ODg4ODg4ODgQEBAQEDg4AAAAAAAAAAAAAAAAAAAAACxMODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4OBgYODAgEBAQECAgEBAwLBQUEBA4OBQUFBw4OBQUODgUFCwoKCgsKCgoLCgoKBgYGBgkJCQkQEAoKEBAKChUVEBAVFRAQCwsLCwsLCwsKCQoHCgkKBw8PBQULCwUFCwsHBwoKBAQGBgcHCgoFBQUHCQcICAwLDAsFBQoLCgsKCwoLDg4EBA4ODgMEDg4EBQ4ODgQEBAQEBA4EBA4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODgYGBg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODgITJhAMEA0AAAAAAAAAAAAAAAAAAAAAChAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCw0LDQsNCw0LDQsNCw0LBgQGBA8LDwsPCw8LDwsPCw8LEAwQDBAMEAwQDA0KDQoQDRANEA0QDRANDAkMCQwJDQoGBA8LDQoNCg0KDQoNCgAAAAAKBxINCwgLCA4LCwoLCg0KDQoNCg4LDwsOBQUFCwUFBQUFBQUEBAYGBAQEAAQEBAQEBAQECAgICAwLDg4FBQ4OBQUODgUFDg4FBQ4OBQUODgUFDg4FBQsKCgoLCgoKCwoKCgsKCgoLCgoKCwoKCgYGBgYGBgYGBgYGBgYGBgYGBgkJCQkJCQkJCQkJCQkJCQkQEAoKEBAKChAQCgoVFRAQFRUQEAsLCgkKBw8PDwUFDw8FBQ8PBQUPDwUFDw8FBQsLCwsPEgcKDxIHCgsLBwcLCwcHCwsHBw8SBwoPEgcKDxIHCg8SBwoPEgcKCgoEBAoKBAQKCgQECgoEBAoKBQUKCgoKCgoFBQoKCwoKCgUHBwcHCAgICAgICAgICAgICAgICAwLDAsFBQgIDAsFBQwLDw8PDwQAAAAAAAAAFRUAAAAAAAAEBwAACwAAABAQCgoVFRAQCgkKBwgGBQUGBQUFBQUPEgQABwkKCwoLCgsKCwoLCgsKCwoKCgsVKhAABgYGBwwMEw4EBwcIDAYHBgYMDAwMDAwMDAwMBgYMDAwMFQ0ODw8ODRAOBgsODBEOEA4QDw4MDg0VDg4NBgYGCAwHDAsLCwwGCwsFBAoEEAsMCwsHCwYLCw8KCwkHBgcMDQ0PDg4QDgwMDAwMDAsMDAwMBgYGBgsMDAwMDAsLCwsMCAwMDAcLDQ8PFQcHDBUQDwwMDAwLCg8RDAYHCBATDA0GDAwMDA0MDBUNDRAVFAwVBwcFBQwKCw4EDAcHCwsMBgUHFQ0ODQ4OBgYGBhAQEA4ODgYHBwcHBwcHBwcHDAQOCw0JBg8MDgsODAwMBwcHEhISDBALBg4LDwsPCwwMBw0MDQwPDQ8ODA4MDAQMBgwHDgsOCxAMDwcPBw4LDAYMCA4LDgsNCQ0JDBAQDAwJDQgODAsIFxULFQsVCwsVDwwNDA0NDw0PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDRUVFRUVDQ0NFRYTEBALDgwLCxAPCQ0EBxMHDQcHDQcNDA8LDwsODA4MDgwQCxALEAwOCw4LBgYGBgYGBgULBA4KCgwEDgsPDBAMEAwPBw4LDQYOCw4LDgsOCxUPDgsFDQwVExAMBhUPFQ8VDw4LBQcMDRISEhIHBwcHDRARCBAREAQNDg4ODQ4GDg4RDg4QDg4NDA4OEhAGDgwJCwQKDAoJCwwECgsLCwkMDAoKCw4QBAoMChAOEgsPDgYGCxYVEgwNDw0ODgsODhMNDw8MDhEOEA4ODwwNEA4QDhIUERMODxUPDAwLCAwMDgoLCwkLDQsMCgsLCgsRCgwLEBANDwsLEAsMDAgLCwUGBBMRDAkLCwoJFRcOBwcHBwcHBwcHBwcHBwgHBgcHBgwLCAsNBggNDAYLCgoNDQYHDAsMCwoKDAsPDgsLCwUJEgYLCwoKCw8PDw8MDAwLCAsNBgkMBgsKCg0HDAwLCgwLDw4GCwoLDAAAAAAHBwcJBAQFBAQEBAQDCwsLCwsLCwsLCwsHCxAQBhALCwsQEBAQEAQQEBAQEBAQEA0QEBAPDwUFEBAQEAwLCwsKChEUCAsRFAgLDQwQEBAQEBAQEBAQEBAQEBAQBQQEBAQQEAAAAAAAAAAAAAAAAAAAAAAMFRAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAHBxANCQQFBAUJCQQFDQwFBQQFDw8FBQYIDw8FBQ8PBQUMCwsLDAsLCwwLCwsHBwcHCgoKChERCwsREQsLFxcSEhcXEhIMDAwMDAwMDAsJCwgLCQsIEREGBgwMBgYNDQgICwsEBAcHCAgLCwUFBggJCAkJDQwNDAUFCw0LDQsNCw0QEAQEEBAQAwQQEAQFEBAQBAQEBAQFEAQEEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBwcHEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAxUqEg4SDgAAAAAAAAAAAAAAAAAAAAALEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQ0MDQwNDA0MDQwNDA0MDQwNDA0MDQwNDA4MDgwODA4MDgwODA4MDgwGBQYFEAwQDBAMEAwQDBAMEAwSDhIOEg4SDhIODgsOCxIOEg4SDhIOEg4OCw4LDgsNDAYFEAwOCw4LDgsOCw4LAAAAAAsIEw4MCQwJDwwMCwwLDgsOCw4LEAwQDA8FBgYMBQUFBQUFBgQEBwcEBAQABAUEBQQFBAUJCQkJDQwPDwUFDw8FBQ8PBQUPDwUFDw8FBQ8PBQUPDwUFDAsLCwwLCwsMCwsLDAsLCwwLCwsMCwsLBwcHBwcHBwcHBwcHBwcHBwcHCgoKCgoKCgoKCgoKCgoKChERCwsREQsLERELCxcXEhIXFxISDAwLCQsIERERBgYREQYGEREGBhERBgYREQYGDAwMDBEUCAsRFAgLDQ0ICA0NCAgNDQgIERQICxEUCAsRFAgLERQICxEUCAsLCwQECwsEBAsLBAQLCwQECwsFBQsLCwsLCwUFCwsMCwsLBggICAgJCQkJCQkJCQkJCQkJCQkJDQwNDAUFCQkNDAUFDQwRERERBAAAAAAAAAAYFwAAAAAAAAQIAAANAAAAERELCxcXEhILCQsICQcGBQcFBQUFBREUBgAHCwsNCw0LDQsNCw0LDQsNCwsLDRgwEgAHBwgJDQ0VEAUICAkOBwgHBw0NDQ0NDQ0NDQ0HBw4ODg0YDxARERAPExEGDBANExETEBMREA4RDxcPEA8HBwcMDQgNDgwODQcODgUGDAYUDg0ODggMBw4LEQsMDAgGCA4PDxEQERMRDQ0NDQ0NDA0NDQ0GBgYGDg0NDQ0NDg4ODg0KDQ0NCA0PEhIYCAgNGBMRDQ0NDQ4MERQNBgkJEhUPDwgODQ0NDw0NGA8PExgXDRgICAUFDQwMEAQNCAgMDA0HBQgaDxAPEBAGBgYGExMTERERBggICAgICAgICAgNBhAMDwwGEQ0QDBANDg4ICAgUFBQNEw4GEAwRDBEMDQ0IDw0PDREPERANEA0NBg0HDQgRDhEOEw0RCBEIEAwOBw4JEQ4RDg8MDwwNExIODQsPCRANDAkaGAwYDBgMDBgRDg8ODw8RDxERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERIPGBgYGBgPDw8ZGRYSEg0QDgwMEhILDwUJFQgPCQkPCQ8NEQwRDBANEA0QDRMOEw4TDREOEQ4GBgYGBgYGBQwGEAwMDQYRDhENEw0TDREIEAwPBxEOEQ4RDhEOFxEQDAUPDRgVEw8GFxEXERcREAwFCA0OFBQUFAgICAgPExQJExQSBg8QEBAPEQYQEBMREBMREA8OEA8TEgYQDgsOBg4OCwsODQYMDA4LCw0ODA4NEhIGDg0OEhAVDREQBgYMGRgWDg8RDxAQDRAQFg8REQ4QExETERARDg8SDxIQFhcTFRARGBENDg0JDg0QCw0NCw4RDQ0NDgwLDBQLDg0TFA8RDQwSDQ0OCQwMBQYGFhQOCwwNDAoYGhEICAgICAgICAgICAgICQgGCAgHDg0KDA4GCQ4OBgwLCw4OBggODQ4NCwsNDBEPDAwMBgoVBgwMCwsNEREREQ4ODg0KDA4HCg4HDAsLDggODg0LDQwRDwYNCw0OAAAAAAgICQoFBQYFBQUFBQQNDQ0NDQ0NDQ0NDQgNEhIHEg0NDRISEhISBRISEhISEhISDxISEhERBgYSEhISDg0NDQwMExYJDBMWCQwPDhISEhISEhISEhISEhISEhIFBQUFBRISAAAAAAAAAAAAAAAAAAAAAA0YEhISEhISEhISEhISEhISEhISEhISEhISEhISEggIEg8KBQYFBgoKBQYPDgYGBQYREQYGBwkREQYGEREGBg4NDQ0ODQ0NDg0NDQgICAgMDAwMFBQNDRQUDQ0aGhQUGhoUFA4ODg4ODg4ODQsNCQ0LDQkTEwYGDg4GBg4OCQkMDAUFCAgJCQ0NBgYHCQsJCgoPDg8OBgYNDg0ODQ4NDhISBQUSEhIEBRISBQYSEhIFBQUFBQUSBQUSEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhIICAgSEhISEhISEhISEhISEhISEhISEhISEhIDGDAVEBUQAAAAAAAAAAAAAAAAAAAAAAwUFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFDw0PDQ8NDw0PDQ8NDw0PDQ8NDw0PDQ8NEA0QDRANEA0QDRANEA0QDQYFBgUTDRMNEw0TDRMNEw0TDRUQFRAVEBUQFRARDhEOFRAVEBUQFRAVEBAMEAwQDA8NBgUTDREOEQ4RDhEOEQ4AAAAADQkWEA4LDgsRDQ0MDQwQDBANEA4SDRMNEQYGBg4GBgYGBgYGBQUICAUFBQAFBgUGBQYFBgoKCgoPDhERBgYREQYGEREGBhERBgYREQYGEREGBhERBgYODQ0NDg0NDQ4NDQ0ODQ0NDg0NDQ4NDQ0ICAgICAgICAgICAgICAgICAgMDAwMDAwMDAwMDAwMDAwMFBQNDRQUDQ0UFA0NGhoUFBoaFBQODg0LDQkTExMGBhMTBgYTEwYGExMGBhMTBgYODg4OExYJDBMWCQwODgkJDg4JCQ4OCQkTFgkMExYJDBMWCQwTFgkMExYJDAwMBQUMDAUFDAwFBQwMBQUNDQYGDQ0NDQ0NBgYNDQ4NDQ0HCQkJCQoKCgoKCgoKCgoKCgoKCgoPDg8OBgYKCg8OBgYPDhMTExMFAAAAAAAAABsaAAAAAAAABQkAAA4AAAAUFA0NGhoUFA0LDQkKCAcGCAYGBgYGExYGAAgMDQ4NDg0ODQ4NDg0ODQ4NDQ0OGzYUAAgICAoPDxgSBQkJCxAICQgIDw8PDw8PDw8PDwgIEBAQDxsSEhQUEhEVEwgNEg8XExURFRQSEBMRHBESEQgICAwPCQ8PDg8PBw8PBgYOBhYPDw8PCQ4IDw0TDA4NCQYJEBISFBITFRMPDw8PDw8ODw8PDwYGBgYPDw8PDw8PDw8PDwsPDw8JDxEUFBsJCQ8bFRMPDw8PEA0TFg8HCgoVGBERCBAPDw8RDw8bEhIVGxkPGwkJBgYPDQ4SBQ8JCQ4ODwgGCR0SEhISEggICAgVFRUTExMGCQgJCQkJCQkJCQ8GEg4RDQYUDxIOEg8Q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AJ0AqQCkABAAigEAAIMAkwDwAPEAjQCXAIgAwgDcAO8AngCqAPMA8gD0AKIArADIAMYArQBiAGMAkABkAMoAZQDHAMkAzgDLAMwAzQDnAGYA0QDPANAArgBnAO4AkQDUANIA0wBoAOkA6wCJAGoAaQBrAG0AbABuAKAAbwBxAHAAcgBzAHUAdAB2AHcA6AB4AHoAeQB7AH0AfAC3AKEAfwB+AIAAgQDqAOwAuQGWAZcBAgEDAQQBBQD7APwBmAGZAZoBmwD9AP4BBgEHAQgA/wGcAZ0BngGfAaABoQEJAQoBCwEMAaIBowD2APcBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswD4ANUBigGLAbQBtQG2AbcBuAENAQ4BuQG6AQ8BEAERARIA4ADhARMBFAG7AbwBFQEWAYwBvQG+Ab8BwAHBAcIBFwEYAK8AsAEZARoBwwHEARsBHAEdAR4BxQHGAPkA+gDiAOMBHwEgASEBIgHHAcgByQHKAcsBzAHNAc4BIwEkASUBJgHPAdAB0QHSAdMB1AC6AScBKAEpASoA5ADlAdUA1gDfANkA2gDbAN4A1wDdAe8B8AHxAdwB8gHzAfQB9gH3AfgB+QH6ASsB+wH8Af0B/gEsAf8CAAIBAgICAwIEAgUCBgIHAggCCQIKAS0CCwIMAg0CDgIPAhACEQISAhMCFAEuAhUCFgEvATACFwIYAhkCGgIbAhwCHQIeAh8CIAKMAiECIgExATICIwEzAiQCJQImAicCKAIpAioCKwKIAokFEAURAo0CjgKPApACkQKSApMClAKVApYClgKXApgCmQKaApsCnAKdAp4CnwLvA4EDgwOFA4cDiQONA48DkwOVA5kDnQOhA6UDqQOrA60DrwOxA7UDuQO9A8EDxQPJA80C8APRA9UD2QPdA+ED5QPpA+0D7wPxAvEC8gLzAvQC9QL2AvcC+AU4BTkFOgL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBALsAwUFKAUsBTsFPAU+BUAFOQVCBUQFRgVIBUoFTgVSBVYFWgMfBV4FYgVmBWoFbgVyBXYDJwV6BX4FgAWCBYQFhgWIBYoFjAWOBZAFkgWUBZYFmAWaBZwDKwWeBaAFpAWoBawFsAW0BbYFugW7Bb8FwwXHBcsFzwXRAy0F0wXXBdsF3wXjAzEF5wXrBe8F8wX3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AgICAwIEAgUCBgIHAggCCQIKAS0CCwIMAg0CDgIPAhACEQISAhMCFAEuAhUCFgEvATACFwIYAhkCGgIbAhwCHQIeAh8CIAKMAiECIgExATICIwEzAiQCJQImAicCKAIpAioCKwKIAokFEAURAo0CjgKPApACkQKSApMClAKVApYClgKXApgCmQKaApsCnAKdAp4CnwLvA4EDgwOFA4cDiQONA48DkwOVA5kDnQOhA6UDqQOrA60DrwOxA7UDuQO9A8EDxQPJA80C8APRA9UD2QPdA+ED5QPpA+0D7wPxAvEC8gLzAvQC9QL2AvcC+AU4BTkFOgL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBALsAwUFKAUsBTsFPAU+BUAFOQVCBUQFRgVIBUoFTgVSBVYFWgMfBV4FYgVmBWoFbgVyBXYDJwV6BX4FgAWCBYQFhgWIBYoFjAWOBZAFkgWUBZYFmAWaBZwDKwWeBaAFpAWoBawFsAW0BbYFugW7Bb8FwwXHBcsFzwXRAy0F0wXXBdsF3wXjAzEF5wXrBe8F8wX3BfsF/wYDBgcGCwYPBhEGEwYXA+sGGQYdBh8GIAYhBiIGJAYmBigGKgYsBi4GMAM1BjIGNAY4BjoGPgZABkIGRAMIBkUGRgZHBkgGSQZKBksGTAZNBk4GTwZQBlEGUgZTBlQGVQZWBlcGWAZZBloGTgZbAvkC+gL7AvwDCgMLAwwDAAMBAwIGXAZgBmQGaAZpBKQEpQSmBKcEqASpBKoEqwSsBK0ErgSvBLAEsQSyBLMEtAS1BLYEtwS4BLkEugS7BLwEvQS+BL8EwATBBMIEwwTEBMUExgTHBMgEyQTKBMsEzATNBM4EzwTQBNEE0gTTBNQE1QTWBNcE2ATZBNoE2wTcBN0E3gTfBOAE4QTiBOME5ATlBOYE5wToBOkE6gTrBOwE7QTuBO8E8ATxBPIE8wT0BPUB4wHkBPYE9wT4BPkE+gT7ALEAsgKKATQAtQC2AMMB5QCzALQAxACCAMEAhwNOA08DUgNQA1EDVQNWA1cDWANTA1QA9QHnAsAEfgC8AJkA7QDCAKUAkgE/AI8BQQF2AZEBkgGTAXcAuAF8Ae0B7gRxBHIEgQRzA1kDWgNbA1wDXQSEBHUEdwSFBHYEhgR5BIcEiASJBIoEiwSMBHgElASNBI4EjwSQBJEElgSaBJsEnASdBJ4ElwSYBJkEfQSfBKAEoQSiBKMGdAZ1BncCxgLeAt8C4ALhAuIC4wLkAuUC5gLnBTwFPQVSBVMFVAVVAx8DIAMhAyIFYgVjBWQFZQVOBU8FUAVRBV4FXwVgBWEFSgVLBUwFTQXDBcQFxQXGBcsFzAXNBc4FcgVzBXQFdQVuBW8FcAVxAycDKAMpAyoFegV7BXwFfQWIBYkFhgWHBYoFiwV+BX8DKwMsBZAFkQMtAy4DLwMwAzEDMgMzAzQF8wX0BfUF9gXrBewF7QXuBg8GEAYRBhIFTAVNBh0GHgZqBh8GawZsA+sD6gPrA+wGQAZBBkIGQwXfBeAF4QXiBigGKQYmBicGKgYrBUYGMAYxBiQGJQYsBi0GOgY7BjwGPQM1AzYD8wP0AABAQ1VUQUA/Pj08Ozo5ODc1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAsRSNGYCCwJmCwBCYjSEgtLEUjRiNhILAmYbAEJiNISC0sRSNGYLAgYSCwRmCwBCYjSEgtLEUjRiNhsCBgILAmYbAgYbAEJiNISC0sRSNGYLBAYSCwZmCwBCYjSEgtLEUjRiNhsEBgILAmYbBAYbAEJiNISC0sARAgPAA8LSwgRSMgsM1EIyC4AVpRWCMgsI1EI1kgsO1RWCMgsE1EI1kgsJBRWCMgsA1EI1khIS0sICBFGGhEILABYCBFsEZ2aIpFYEQtLAGxCwpDI0NlCi0sALEKC0MjQwstLACwFyNwsQEXPgGwFyNwsQIXRTqxAgAIDS0sRbAaI0RFsBkjRC0sIEWwAyVFYWSwUFFYRUQbISFZLSywAUNjI2KwACNCsA8rLSwgRbAAQ2BELSwBsAZDsAdDZQotLCBpsEBhsACLILEswIqMuBAAYmArDGQjZGFcWLADYVktLEWwESuwFyNEsBd65BgtLEWwESuwFyNELSywEkNYh0WwESuwFyNEsBd65BsDikUYaSCwFyNEioqHILCgUViwESuwFyNEsBd65BshsBd65FlZGC0sLSywAiVGYIpGsEBhjEgtLEtTIFxYsAKFWViwAYVZLSwgsAMlRbAZI0RFsBojREVlI0UgsAMlYGogsAkjQiNoimpgYSCwGoqwAFJ5IbIaGkC5/+AAGkUgilRYIyGwPxsjWWFEHLEUAIpSebMZQCAZRSCKVFgjIbA/GyNZYUQtLLEQEUMjQwstLLEOD0MjQwstLLEMDUMjQwstLLEMDUMjQ2ULLSyxDg9DI0NlCy0ssRARQyNDZQstLEtSWEVEGyEhWS0sASCwAyUjSbBAYLAgYyCwAFJYI7ACJTgjsAIlZTgAimM4GyEhISEhWQEtLEuwZFFYRWmwCUNgihA6GyEhIVktLAGwBSUQIyCK9QCwAWAj7ewtLAGwBSUQIyCK9QCwAWEj7ewtLAGwBiUQ9QDt7C0sILABYAEQIDwAPC0sILABYQEQIDwAPC0ssCsrsCoqLSwAsAdDsAZDCy0sPrAqKi0sNS0sdrgCIyNwECC4AiNFILAAUFiwAWFZOi8YLSwhIQxkI2SLuEAAYi0sIbCAUVgMZCNki7ggAGIbsgBALytZsAJgLSwhsMBRWAxkI2SLuBVVYhuyAIAvK1mwAmAtLAxkI2SLuEAAYmAjIS0stAABAAAAFbAIJrAIJrAIJrAIJg8QFhNFaDqwARYtLLQAAQAAABWwCCawCCawCCawCCYPEBYTRWhlOrABFi0sS1MjS1FaWCBFimBEGyEhWS0sS1RYIEWKYEQbISFZLSxLUyNLUVpYOBshIVktLEtUWDgbISFZLSywE0NYAxsCWS0ssBNDWAIbA1ktLEtUsBJDXFpYOBshIVktLLASQ1xYDLAEJbAEJQYMZCNkYWS4BwhRWLAEJbAEJQEgRrAQYEggRrAQYEhZCiEhGyEhWS0ssBJDXFgMsAQlsAQlBgxkI2RhZLgHCFFYsAQlsAQlASBGuP/wYEggRrj/8GBIWQohIRshIVktLEtTI0tRWliwOisbISFZLSxLUyNLUVpYsDsrGyEhWS0sS1MjS1FasBJDXFpYOBshIVktLAyKA0tUsAQmAktUWoqKCrASQ1xaWDgbISFZLSxLUliwBCWwBCVJsAQlsAQlSWEgsABUWCEgQ7AAVViwAyWwAyW4/8A4uP/AOFkbsEBUWCBDsABUWLACJbj/wDhZGyBDsABUWLADJbADJbj/wDi4/8A4G7ADJbj/wDhZWVlZISEhIS0sRiNGYIqKRiMgRopgimG4/4BiIyAQI4q5AsICwopwRWAgsABQWLABYbj/uosbsEaMWbAQYGgBOi0ssQIAQrEjAYhRsUABiFNaWLkQAAAgiFRYsgIBAkNgQlmxJAGIUVi5IAAAQIhUWLICAgJDYEKxJAGIVFiyAiACQ2BCAEsBS1JYsgIIAkNgQlkbuUAAAICIVFiyAgQCQ2BCWblAAACAY7gBAIhUWLICCAJDYEJZuUAAAQBjuAIAiFRYsgIQAkNgQlm5QAACAGO4BACIVFiyAkACQ2BCWVlZWVktLLACQ1RYS1MjS1FaWDgbISFZGyEhISFZLQAAsVQPQSIDFwDvAxcA/wMXAAMAHwMXAC8DFwBPAxcAXwMXAI8DFwCfAxcABgAPAxcAXwMXAG8DFwB/AxcAvwMXAPADFwAGAEADF7KSM0C4AxeyizNAuAMXs2psMkC4AxeyYTNAuAMXs1xdMkC4AxezV1kyQLgDF7NNUTJAuAMXs0RJMkC4AxeyOjNAuAMXszE0MkC4AxezLkIyQLgDF7MnLDJAuAMXsxIlMoC4AxezCg0ywEEWAxYA0AMWAAIAcAMWAAECxAAPAQEAHwCgAxUAsAMVAAIDBgAPAQEAHwBAAxKzJCYyn78DBAABAwIDAQBkAB//wAMBsg0RMkEKAv8C7wASAB8C7gLtAGQAH//AAu2zDhEyn0FKAuIArwLiAL8C4gADAuIC4gLhAuEAfwLgAAEAEALgAD8C4ACfAuAAvwLgAM8C4ADvAuAABgLgAuAC3wLfAt4C3gAPAt0ALwLdAD8C3QBfAt0AnwLdAL8C3QDvAt0ABwLdAt0AEALcAAEAAALcAAEAEALcAD8C3AACAtwC3AAQAtsAAQLbAtsADwLaAAEC2gLa/8AC07I3OTK5/8AC07IrLzK5/8AC07IfJTK5/8AC07IXGzK5/8AC07ISFjK4AtKy+SkfuALjsyArH6BBMALUALAC1AACAAAC1AAQAtQAIALUAFAC1ABgAtQAcALUAAYAYALWAHAC1gCAAtYAkALWAKAC1gCwAtYABgAAAtYAEALWACACygAgAswAIALWADAC1gBAAtYAUALWAAgC0LIgKx+4As+yJkIfQRYCzgLHABcAHwLNAsgAFwAfAswCxgAXAB8CywLFABcAHwLJAsUAHgAfAsoCxrIeHwBBCwLGAAACxwAQAsYAEALHAC8CxQAFAsGzJBIf/0ERAr8AAQAfAr8ALwK/AD8CvwBPAr8AXwK/AI8CvwAGAr8CIrJkHxJBCwK7AMoIAAAfArIA6QgAAB8CpgCiCABAah9AJkNJMkAgQ0kyQCY6PTJAIDo9Mp8gnyYCQCaWmTJAIJaZMkAmjpIyQCCOkjJAJoSMMkAghIwyQCZ6gTJAIHqBMkAmbHYyQCBsdjJAJmRqMkAgZGoyQCZaXzJAIFpfMkAmT1QyQCBPVDK4Ap63JCcfN09rASBBDwJ3ADACdwBAAncAUAJ3AAQCdwJ3AncA+QQAAB8Cm7IqKh+4AppAKykqH4C6AYC8AYBSAYCiAYBlAYB+AYCBAYA8AYBeAYArAYAcAYAeAYBAAYC7ATgAAQCAAUC0AYBAAYC7ATgAAQCAATlAGAGAygGArQGAcwGAJgGAJQGAJAGAIAE3QLgCIbJJM0C4AiGyRTNAuAIhs0FCMkC4AiGzPT4yD0EPAiEAPwIhAH8CIQADAL8CIQDPAiEA/wIhAAMAQAIhsyAiMkC4AiGzGR4yQLgCIrMqPzJAuAIhsy46Mm9BSALDAH8CwwCPAsMA3wLDAAQALwLDAGACwwDPAsMAAwAPAsMAPwLDAF8CwwDAAsMA7wLDAP8CwwAGAN8CIgABAI8CIgABAA8CIgAvAiIAPwIiAF8CIgB/AiIA7wIiAAYAvwIhAO8CIQACAG8CIQB/AiEArwIhAAMALwIhAD8CIQBPAiEAAwLDAsMCIgIiAiECIUAdEBwQKxBIA48cAQ8eAU8e/x4CNwAWFgAAABIRCBG4AQ229w349w0ACUEJAo4CjwAdAB8CkAKPAB0AHwKPsvkdH7gBmLImux9BFQGXAB4EAQAfATkAJgElAB8BOABzBAEAHwE1ABwIAQAfATQAHAKrAB8BMrIcVh+4AQ+yJiwfugEOAB4EAbYf+RzkH+kcuAIBth/oHLsf1yC4BAGyH9UcuAKrth/UHIkfyS+4CAGyH7wmuAEBsh+6ILgCAbYfuRw4H63KuAQBsh+BJrgBmrIffia4AZq2H30cRx9rHLgEAbIfZSa4AZqyH15zuAQBQA8fUiZaH0gciR9EHGIfQHO4CAG2Hz8cXh88JrgBmrIfNRy4BAG2HzAcux8rHLgEAbYfKhxWHykcuAEBsh8jHrgEAbIfVTe4AWhALAeWB1gHTwc2BzIHLAchBx8HHQcbBxQIEggQCA4IDAgKCAgIBggECAIIAAgUuP/gQCsAAAEAFAYQAAABAAYEAAABAAQQAAABABACAAABAAIAAAABAAACAQgCAEoAsBMDSwJLU0IBS7DAYwBLYiCw9lMjuAEKUVqwBSNCAbASSwBLVEKwOCtLuAf/UrA3K0uwB1BbWLEBAY5ZsDgrsAKIuAEAVFi4Af+xAQGOhRuwEkNYuQABARGFjRu5AAEBKIWNWVkAGBZ2Pxg/Ej4ROUZEPhE5RkQ+ETlGRD4ROUZEPhE5RmBEPhE5RmBEKysrKysrKysrKysYKysrKysrKysrKysYKx2wlktTWLCqHVmwMktTWLD/HVlLsJNTIFxYuQHyAfBFRLkB8QHwRURZWLkDPgHyRVJYuQHyAz5EWVlLuAFWUyBcWLkAIAHxRUS5ACYB8UVEWVi5CB4AIEVSWLkAIAgeRFlZS7gBmlMgXFi5ACUB8kVEuQAkAfJFRFlYuQkJACVFUli5ACUJCURZWUu4BAFTIFxYsXMkRUSxJCRFRFlYuRcgAHNFUli5AHMXIERZWUu4BAFTIFxYscolRUSxJSVFRFlYuRaAAMpFUli5AMoWgERZWUuwPlMgXFixHBxFRLEeHEVEWVi5ARoAHEVSWLkAHAEaRFlZS7BWUyBcWLEcHEVEsS8cRURZWLkBiQAcRVJYuQAcAYlEWVlLuAMBUyBcWLEcHEVEsRwcRURZWLkN4AAcRVJYuQAcDeBEWVkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK2VCKysBsztZY1xFZSNFYCNFZWAjRWCwi3ZoGLCAYiAgsWNZRWUjRSCwAyZgYmNoILADJmFlsFkjZUSwYyNEILE7XEVlI0UgsAMmYGJjaCCwAyZhZbBcI2VEsDsjRLEAXEVUWLFcQGVEsjtAO0UjYURZs0dQNDdFZSNFYCNFZWAjRWCwiXZoGLCAYiAgsTRQRWUjRSCwAyZgYmNoILADJmFlsFAjZUSwNCNEILFHN0VlI0UgsAMmYGJjaCCwAyZhZbA3I2VEsEcjRLEAN0VUWLE3QGVEskdAR0UjYURZAEtTQgFLUFixCABCWUNcWLEIAEJZswILChJDWGAbIVlCFhBwPrASQ1i5OyEYfhu6BAABqAALK1mwDCNCsA0jQrASQ1i5LUEtQRu6BAAEAAALK1mwDiNCsA8jQrASQ1i5GH47IRu6AagEAAALK1mwECNCsBEjQgArdHVzdQAYRWlERWlERWlEc3Nzc3R1c3R1KysrK3R1KysrKytzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzKysrRbBAYURzdAAAS7AqU0uwP1FaWLEHB0WwQGBEWQBLsDpTS7A/UVpYsQsLRbj/wGBEWQBLsC5TS7A6UVpYsQMDRbBAYERZAEuwLlNLsDxRWlixCQlFuP/AYERZKysrKysrKysrKysrKysrKysrdSsrKysrKytDXFi5AIACu7MBQB4BdABzWQOwHktUArASS1RasBJDXFpYugCfAiIAAQBzWQArdHMBKwFzKysrKysrKytzc3NzKwArKysrKysARWlEc0VpRHNFaURzdHVFaURzRWlERWlERWlEc3RFaURFaURzKysrKytzKwArcyt0dSsrKysrKysrKysrKysrc3R1KwAFugAZBboAGgWnABkEJgAYAAD/5wAA/+gAAP/n/mn/6AW6ABn+af/oAuoAAAC4AAAAuAAAAAAAqACtAWkArQC/AMIB8AAYAK8AuQC0AMgAFwBEAJwAfACUAIcABgBaAMgAiQBSAFIABQBEAJQBGf+0AC8AoQADAKEAzQAXAFcAfgC6ABYBGP/pAH8AhQPTAIcAhQANACIAQQBQAG8AjQFM/3UAXADfBIMANwBMAG4AcAGA/1j/jv+S/6QApQC5A8j//QALABoAYwBjAM3/7gXY/9wALQBcAJUAmQDfAZIJtQBAAFcAgAC5A50AcgCaA10EAf9n//oAAwAhAHcAzQAEAE0AzQHAAisATABlAOcBGAF8A0MF2P+j/7D/xAADABwAXQBoAJoAugE1AUcCIQVc/03/zQAWAC0AeACAAJkAsgC2ALYAuAC9ANoBDAXw/6T/8AAZACwASQB/ALQAzgHAA/79gf4/AAAABQAYACkAOQBJAG8AvgDHANABIwHBAm8FDAUyBUAFev/UABQAMQBVAFcApwC0AOYB9wJ+An4CfwPGBEb/QgAOAIUAkQC/AMIAxQDhARoBLwFPAVYCKQJvAp4DcgAIACwAMQAxAGQAaQCJAJgAxwDeASsBtgIMAs8DowSrBPsGHf7g/w4ABgAmAJsAnQDBAQ0BGAEgAXMBggHWAeMCQwJfApsC4gOUBKkE0gdhABwAXgBtAI0AqwD3ARIBOAFRAVsBaAF8AYcBkQGZAc0B0AHoAkECVAJrAu8DaANxA70EQgRCBFMEcwSDBYYFiwbo/lj+xP7R/vf/Mv+GAFEAfACBAJEAlQCeALQAuQDPANkA2QDfAOIBBQELAQ4BDgEgASEBVQF7AXsBfgGNAaIBqAGpAbQB0AHQAeIB6QHyAfUB+wIAAgACBgIbAiECIgIiAiMCcgJ3ApQCnALPAs8C0ALsAvkDFwMiAysDNQM8A1kDbwNxA4cDkAOQA7UD4QQaBM8E/wUyBTIFlgWfBagFqwXCBfAGDAeCCAAIzPyj/Sr93v4A/oj+lv6y/rT/4QAVABkAGgAcAB8APABRAGEAYQBqAHgAlgClAK8A0wEMARgBGgEqAT4BTAFRAV8BagFxAXgBggGEAZoBpQGoAakBrgG8Ac0B1wHvAgACDQIcAiECIgIuAjUCQgJPAk8CXgJlAnECkAKSArQC1gL6AwcDCwMPAxUDKgNHA10DZQN0A3kDlgOwA8wD3QPiA/YD/AP8A/8ECgQfBCIEJgQrBEcEXwR1BJ4E5wTnBVwFywXlBgoGbQaGBrgG8Qc2Bz4HUAdRB10Hjwe2B9QIYAC2AMMAtQC3AAAAAAAAAAAAAAAAAeADgQNFA7UAjgIzBBkCzgLOAC0AXwBkA00CPwAAAqgBiAJ9AbQCJAV4BjsCOwFOAPAEJgKUAsYCnwL2AjsDTQFLAVMAagIxAAAAAAAABhQEqgAAADwEwwDtBLwCZQLOA7UAeAYMAX4C7wYMALIBAAI5AAABxQMwBCsDywDaA98BBwShANsECgEXAe0CpwNQAQsBvQQ+BVgAIQOcAK4DcQF9ALUCRQAACvsIjAErAU4BqgCHAFQBMgH4A/8AAwJOALQANwPjAIMAawLYAO0AdwCIAJcBZARnAI4AMwF8AOcApgKeAykFbgYqBhUByQJpBIoCEwG0AAIEqQAAAjkBJAEDBRQAhAFdA5oG7wLZAHUAzwQKAN4DrAS8As8CrgNNBPAFUgFoAG0AfQCGAHH/gQB5BVgE0gFnAAMBVgAlBOAAlAB8AzIEIQCUAH8AcgBcAC8AtgAYALoAuABBA00AcgAYAB8ATAFqAVUAmQCaAJoAmACyAAQAeABpABQAVwBuAM4AtAZUArgAZwUOAWUA5wAABMv+UgBa/6YAmf9nAG7/kgAt/9QAh/98ALgAqADlAI8AqAGF/nsAcAAeANkA3gFMBUYCzwVG/y0CigLZAlMClgC3AAAAAAAAAAAAAAAAAAABJQEYAOoA6gCuAAAAPgW7AIoE1wBTAD//jP/VABUAKAAiAJkAYgBKAOQAbQDuAOUASAPAADP+TgKx/0YDcAB5Bd8AUf+n/x8BCgBo/2wATwC8AKUHBQBhBysAAAAAAAAAKgAAACoAAAAqAAAAKgAAANYAAAF+AAADIAAABaYAAAdOAAAJOAAACX4AAAn+AAAKpAAAC4QAAAvsAAAMZAAADKoAAAzmAAANVgAADxIAAA/uAAASGAAAE/IAABVSAAAXDAAAGOIAABmOAAAcIgAAHlYAAB6yAAAfcAAAH/IAACBiAAAg6AAAIdoAACPaAAAlhAAAJxwAAChWAAApngAAKmIAACsYAAAsqAAALa4AAC6SAAAvegAAMbAAADI6AAA1ZAAANw4AADhCAAA5SAAAOzwAAD2oAABAUgAAQQAAAEIkAABDmAAARdYAAEjiAABKiAAAS8gAAEwyAABMnAAATQAAAE2IAABNvAAATjgAAFEKAABS6AAAVJwAAFZQAABYDgAAWWIAAFtSAABc9gAAXeoAAF8CAABhmgAAYpYAAGTGAABmjAAAaE4AAGoSAABrqAAAbK4AAHBWAABxegAAcxgAAHU2AAB5oAAAe8QAAH4cAACABAAAgQIAAIFOAACCUAAAgvAAAIM8AACDcAAAg6wAAIPuAACEVAAAhJoAAITOAACFBAAAhToAAIWKAACFzAAAhh4AAIZWAACGqAAAht4AAIceAACHYAAAh54AAIfoAACIKAAAiFYAAIiOAACI3gAAiRQAAIlUAACJjgAAidIAAIocAACKWAAAiogAAIrMAACLBAAAi5QAAIwaAACOKAAAj7wAAJFsAACRuAAAkkwAAJRwAACWxAAAmLQAAJmgAACaIgAAmowAAJuqAACdBgAAn04AAKCwAAChPgAAoegAAKKsAACj9AAApZ4AAKaMAACnUgAAp7YAAKgkAACpTgAAqnIAAKsCAACs5AAArz4AALKQAACzhgAAtCwAALR8AAC1MgAAtlIAALfwAAC4igAAuU4AALoOAAC6dgAAurIAALsKAAC7WAAAvXAAAL+2AAC/7gAAwCAAAMFKAADCdgAAwyQAAMPIAADEagAAxTwAAMWQAADFxgAAxh4AAMdwAADH4gAAyDwAAMm0AADLIAAAzAAAAMwyAADMzgAAzfIAANBoAADQogAA0OYAANEiAADRhAAA0cYAANIMAADSWAAA0ooAANLeAADTHAAA00wAANOKAADT0AAA1BIAANRQAADU0gAA1UAAANYmAADWYgAA1uIAANcWAADXuAAA2EAAANisAADZOAAA2aQAANqQAADbggAA27YAANvqAADcGgAA3F4AANzWAADeUAAA4GoAAOCcAADg1gAA4dAAAONeAADjlAAA5PgAAOV0AADmVAAA50oAAOjaAADqRAAA7DIAAO0uAADtdAAA7agAAO3qAADuJAAA7ngAAO7AAADvCgAA7zoAAO9qAADxUgAA8ZAAAPHKAADx+gAA8i4AAPJeAADyigAA8tIAAPSIAAD2AgAA9i4AAPZwAAD2tAAA9uQAAPcUAAD3agAA+EgAAPlaAAD5ngAA+dQAAPouAAD6bAAA+qAAAPrQAAD7DAAA+0wAAPuKAAD7xgAA/AgAAPw+AAD8egAA/LoAAP3IAAD/NAAA/4QAAQDgAAEBNgABAWoAAQG4AAECBAABAkYAAQJ+AAECtAABAvwAAQOeAAEFOgABBwIAAQiEAAEKdgABC8gAAQ1MAAEOLgABD8gAARAyAAEQWgABEPgAARN6AAETugABE/oAARQ6AAEUeAABFNYAARU0AAEVogABFcIAARasAAEXTAABF4IAARfQAAEYGgABGGQAARiAAAEYnAABGLwAARjcAAEY/AABGRwAARlCAAEZaAABGY4AARm0AAEZ5AABGgwAARo0AAEaYAABGowAARrAAAEa6gABGxYAARtMAAEbdgABG6IAARvYAAEcAgABHCwAARxgAAEckAABHMQAAR0IAAEdOAABHWwAAR2uAAEd4gABHhQAAR5WAAEeigABHroAAR78AAEfQAABH4YAAR/iAAEf/gABIBoAASA2AAEgUgABIG4AASHcAAEkrAABJxwAASc4AAEnUgABJ24AASeKAAEnpgABJ8IAASgeAAEoWAABKMIAASmMAAEqLAABKwIAASuCAAEsCgABLHoAAS0QAAEtbgABLbQAAS4SAAEudAABLywAAS/qAAEwFgABMHIAATC2AAEyIgABMxYAATNAAAEzXAABM4gAATPAAAE0DAABNEwAATSAAAE0sAABNOAAATUQAAE1VAABNYQAATW0AAE19AABNiQAATZUAAE2hAABNsQAATb0AAE3JAABN1QAATeCAAE5hgABObYAATnmAAE7NgABPOwAAT0cAAE9SgABPXoAAT2oAAE92AABPgYAAT80AAFAYgABQJIAAUICAAFCOgABQmoAAUP8AAFEKgABRFgAAUSGAAFErgABRgwAAUekAAFH3AABSBwAAUhYAAFIiAABSLYAAUjSAAFJAgABSTIAAUoiAAFLigABS7oAAUv0AAFMNAABTGQAAUyUAAFM1gABTnYAAVBWAAFQlgABUNYAAVEGAAFRRgABUjAAAVKwAAFTlAABU8QAAVP0AAFUJAABVFQAAVSQAAFUwgABVPQAAVUkAAFVVAABVZoAAVXMAAFV/AABVjIAAVakAAFW2AABWKYAAVmoAAFbOAABXWgAAV+4AAFhSgABYa4AAWI4AAFiSAABYtYAAWTUAAFmAAABZ2wAAWhcAAFp4AABa/oAAW4mAAFvGAABbygAAW84AAFwUAABcGAAAXBwAAFwgAABcJAAAXCgAAFxvgABcc4AAXHeAAFyUgABcmIAAXMyAAFzQgABdFQAAXRkAAF0dAABdIQAAXXiAAF3wAABeAIAAXg4AAF4bgABeJ4AAXjOAAF5IgABeUoAAXrUAAF8HAABfXAAAX7YAAGAXAABgMAAAYJSAAGDbgABg34AAYOOAAGFFAABhSQAAYaKAAGH5AABiRgAAYp2AAGL5AABjaoAAY3qAAGOIgABjlgAAY5+AAGOrgABjtQAAZBKAAGQegABkbAAAZHAAAGR0AABkhIAAZIiAAGTtgABlWIAAZbsAAGXFAABl0QAAZigAAGYsAABmegAAZn4AAGakgABm/IAAZwCAAGeaAABn/IAAaFaAAGhigABowAAAaQyAAGkQgABpFIAAaRiAAGlPAABpUwAAaVcAAGlbAABpmQAAafeAAGn7gABqRYAAapKAAGrnAABrTAAAa5OAAGv2gABsOwAAbEiAAGzWAABs/gAAbQIAAG1ngABt0AAAbfEAAG5RgABuVYAAbu+AAG9PgABvr4AAb7uAAHAjgABwhQAAcPYAAHFBAABxRQAAcZEAAHGVAABxmQAAcckAAHHNAAByRoAAckqAAHKYAABy24AAc0aAAHO0AAB0BIAAdGCAAHSygAB0xwAAdT+AAHWegAB1rgAAdheAAHYggAB2cIAAdnSAAHZ4gAB2hoAAdoqAAHbtgAB3SQAAd6YAAHevAAB3uwAAeBaAAHhDAAB4coAAeH4AAHjrgAB5KYAAeU0AAHmYAAB5xQAAefuAAHoOAAB6LYAAel8AAHppAAB6e4AAepEAAHrMAAB63oAAeuuAAHr1gAB6/4AAewyAAHsdgAB7LoAAez4AAHuNgAB7u4AAfAOAAHwhAAB8VIAAfGkAAHyNgAB8uYAAfPaAAH0LgAB9MQAAfWCAAH2bAAB9x4AAfg+AAH4kAAB+ToAAfpwAAH7SAAB/C4AAf00AAH+GgAB/vwAAf/wAAIAjgACAZQAAgKOAAIDBgACA34AAgP0AAIEKgACBIYAAgVOAAIF2gACBhIAAgZYAAIGiAACBvIAAgeyAAIH5gACCBYAAghKAAIIegACCKoAAgjaAAIKegACCrIAAgryAAILKgACC2IAAgv+AAIM+AACDSgAAg3MAAIN+gACDjoAAg6KAAIOugACDwYAAhCeAAISBAACE2QAAhOqAAIT/gACFDYAAhWoAAIV3gACFnAAAhauAAIW3AACFxoAAhhKAAIYcgACGa4AAho+AAIa6AACG2oAAhwmAAIdPgACHkwAAh6AAAIfBgACIGIAAiDkAAIhLgACIjgAAiKAAAIjhAACJAAAAiRYAAIk3AACJcYAAibcAAIn2AACKIIAAilyAAIqRAACKy4AAiwWAAIsxgACLUgAAi+mAAIv0AACL/oAAjCyAAIw3AACMh4AAjMkAAI0DgACNDgAAjRiAAI0jAACNLYAAjTgAAI2YAACNooAAja0AAI23gACNwgAAjcyAAI3XAACN4YAAjewAAI35AACOA4AAjg4AAI4YgACOdwAAjnsAAI7BgACOxYAAjtAAAI7agACO5QAAju+AAI9aAACP4QAAkCyAAJAwgACQj4AAkJOAAJDlAACRWAAAkZmAAJH5gACSYYAAkuqAAJNBAACTuYAAlAqAAJRWAACUYIAAlGsAAJR1gACUgAAAlIqAAJSVAACUn4AAlKoAAJS0gACUvwAAlMmAAJTUAACU3oAAlOkAAJTzgACU/gAAlY0AAJXsAACWPQAAlrcAAJcJAACXE4AAlx4AAJcqAACXNgAAl0oAAJdeAACXbgAAl4qAAJefgACXtwAAl8yAAJfaAACX6oAAl/wAAJgOgACYGoAAmCiAAJg0gACYgoAAmVQAAJlegACZaQAAmXOAAJl+AACZiIAAmZMAAJmdgACZqAAAmbKAAJm9AACZx4AAmdIAAJncgACZ5wAAmfGAAJn8AACaBoAAmhEAAJobgACaJgAAmjCAAJo7AACaRYAAmlAAAJpagACaZQAAmm+AAJp6AACaoYAAmqcAAJqxgACbaYAAm22AAJu0AACb/IAAnEwAAJycgACdBgAAnQoAAJ1agACdroAAniqAAJ6fgACe5YAAnumAAJ8KAACfLYAAn22AAJ9xgACfmYAAn52AAJ/jAACgN4AAoIOAAKCHgACguwAAoL8AAKEcgAChIIAAoWWAAKFpgAChtoAAohwAAKJLAACiTwAAoo6AAKLlAACjCAAAowwAAKNWgACjuYAAo+iAAKPsgACkE4AApBeAAKRLAACkTwAApIUAAKSJAACkywAApM8AAKVAgAClRIAApZqAAKWegACmOQAApj0AAKa7gACmv4AApxoAAKceAACnWgAAp14AAKfEAACnyAAAqA+AAKgTgACoY4AAqGeAAKhrgACob4AAqM2AAKjRgACo1YAAqNmAAKkuAACpgYAAqbUAAKnuAACqTgAAqq6AAKrugACrM4AAq4SAAKuIgACrxAAAq/qAAKxhgACsZYAArK0AAKzugACtbgAArXIAAK12AACtegAArcyAAK3QgACt/oAArgKAAK5GAACuSgAAroUAAK6JAACu0IAArtSAAK78AACvAAAArwQAAK8/gACvnIAAr+eAALAmAACwKgAAsC4AALAyAACwmYAAsQgAALE7gACxP4AAsdeAALJpAACzCoAAs6OAALREgAC04QAAtVUAALXCgAC1zQAAtdeAALXbgAC134AAteoAALX0gAC1/wAAtgMAALYHAAC2EYAAthwAALYgAAC2JAAAti6AALY5AAC2Q4AAtkeAALZLgAC2T4AAtlOAALZXgAC2W4AAtmYAALZqAAC2bgAAtniAALaDAAC2jYAAtpgAALaigAC2rQAAtreAALbCAAC2zIAAttcAALbhgAC27AAAtvaAALcBAAC3C4AAtxYAALcggAC3KwAAtzWAALdAAAC3SoAAt1UAALdfgAC3agAAt3SAALd/AAC3iYAAt5QAALeegAC3qQAAt7OAALe+AAC3yIAAt9MAALfdgAC36AAAt/KAALf9AAC4B4AAuBIAALgcgAC4JwAAuDGAALg8AAC4RoAAuFEAALhbgAC4ZgAAuHCAALh7AAC4hYAAuJAAALiagAC4pQAAuM0AALjeAAC4+4AAuQYAALkQgAC5GwAAuSWAALkwAAC5OoAAuUUAALlPgAC5WgAAuWSAALlvAAC5eYAAuYQAALmOgAC5mQAAuaOAALmuAAC5uIAAucMAALnNgAC52AAAueKAALntAAC594AAugSAALoRgAC6HoAAuoMAALrqAAC7UQAAu7QAALvFgAC71wAAu/KAALwJgAC8HgAAvDoAALxwAAC8owAAvNkAAL0MAAC9NAAAvXqAAL2ngAC9yAAAvd6AAL3ugAC+NgAAvoiAAL7ugAC/BYAAvx0AAL80AAC/SwAAv3gAAL+lgAC/0IAAv/uAAMAmgADAVIAAwIKAAMCwgADAtQAAwLmAAMC+AADAwoAAwMcAAMDigADA/gAAwSwAAMEwgADBNQAAwTmAAME9gADBQgAAwUaAAMFLAADBT4AAwVQAAMFYgADBhAAAwa8AAMHagADCBYAAwiuAAMI6AADCRIAAwk8AAMJkAADCeIAAwpeAAMKqAADCyQAAwt4AAML/AADDE4AAwzEAAMNHAADDYIAAw3YAAMOMgADDrAAAw78AAMPWgADD74AAxAMAAMQWgADELIAAxD6AAMRJAADEVIAAxF4AAMRrAADEdwAAxIMAAMSXgADEswAAxMiAAMTlgADE+oAAxReAAMUpAADFQwAAxVSAAMVrgADFd4AAxYYAAMWPgADFm4AAxaUAAMWugADFuwAAxccAAMXbgADF9QAAxgqAAMYkAADGOQAAxlSAAMZlAADGfQAAxo2AAMaggADGrwAAxr4AAMbMgADG24AAxuiAAMb1AADHAQAAxw0AAMcXgADHIQAAxyuAAMc3AADHQYAAx1SAAMdlgADHcwAAx4IAAMePAADHmoAAx6oAAMe2AADHxIAAx88AAMfagADH5AAAx+2AAMf4gADID4AAyBuAAMgngADIM4AAyEGAAMhOgADIWgAAyGYAAMhyAADIfgAAyIoAAMiXAADIrIAAyLmAAMjRgADI3oAAyPSAAMkBgADJGIAAyUAAAMlzgADJu4AAye2AAMoRgADKNwAAyrIAAMsxAADLjwAAy+4AAMxYgADMxQAAzP8AAM1MgADNioAAzc8AAM4WgADOZAAAzr6AAM8aAADPf4AAz96AANAigADQJoAA0HGAANDAgADREQAA0XIAANGogADRxgAA0fOAANIdAADSeQAA0ocAANKlgADS1gAA0wSAANMegADTYAAA062AANPhAADUOIAA1FcAANR1gADUp4AA1NYAANUDAADVGgAA1TCAANVCgADVXoAA1X2AANWQAADVnoAA1bAAANXBAADV1YAA1eoAANYKgADWKwAA1juAANZLgADWWQAA1maAANZyAADWfYAA1oqAANaXgADWqAAA1riAANbHgADW1oAA1uUAANbzgADXAAAA1wyAANcZAADXJYAA1zQAANdCgADXUwAA12OAANd0AADXhIAA15gAANergADXvAAA18yAANfcgADX7IAA1/sAANgJgADYHIAA2C+AANg/AADYTwAA2GCAANhyAADYgQAA2JaAANilgADYtIAA2MSAANjUgADY44AA2PKAANkCgADZEoAA2SOAANk0gADZSYAA2W0AANl9gADZjgAA2agAANnCAADZzoAA2dsAANnpAADZ9wAA2hyAANpCAADaVIAA2mcAANp2AADahQAA2pqAANqwAADawoAA2tUAANrrAADbAQAA2xEAANshAADbLwAA2z0AANtPgADbYgAA23GAANuBAADbkYAA26IAANu3AADbzAAA292AANvvAADcAIAA3BIAANwngADcPQAA3FKAANxoAADcewAA3I4AANyhAADctAAA3NEAANzuAADdCwAA3SgAAN03gADdRwAA3VaAAN1mAADddYAA3YUAAN2WAADdpwAA3boAAN3NAADd5QAA3fgAAN4HgADeGwAA3l8AAN5zAADehwAA3pUAAN6jAADeuIAA3s4AAN7rAADfBAAA3xSAAN8lAADfOoAA304AAN9hAADfdAAA34QAAN+UAADfpgAA37gAAN/TAADf6YAA3/eAAOAFgADgFYAA4CWAAOBsAADgvYAA4PmAAOE9gADhUwAA4WiAAOF9AADhkgAA4asAAOHEAADh2YAA4e8AAOIMgADiKgAA4jqAAOJLAADiW4AA4mwAAOJ8gADijQAA4qKAAOK4AADizIAA4uGAAOMDgADjJAAA40wAAON0gADjhAAA45OAAOOjAADjsgAA48GAAOPRAADj4IAA4++AAOQogADkY4AA5KkAAOTwAADlIoAA5VUAAOWTgADl0gAA5hGAAOZRAADmmIAA5uAAAOcpgADncwAA57OAAOf0AADoGIAA6D0AAOhMgADoXAAA6HKAAOiJAADolwAA6KUAAOjpAADo7QAA6P8AAOkRAADpJwAA6T0AAOlJgADpVgAA6WaAAOl3AADphYAA6ZQ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//8AS//oBB4FwwImAEgAAAEHAI4A3wAAACNAFAMCIkALCwJVryIBIgpkSCsCAwIluQIiACkAKwErXSs1NQD//wC9AAACLgXCAiYA1QAAAQYAjd8AADK3AQdACwsGVQe4/8CzFxk0B7j/wEAOIiU0LwcBBwFaSCsBAQe5AiIAKQArAStdKysrNf//ACMAAAGbBcICJgDVAAABBgBDygAAKEAQAQVAFxk0BUAiJTQgBQEFArj/prRIKwEBBbkCIgApACsBK10rKzX////vAAACaAXCAiYA1QAAAQYA1tYAABZACgEABgkBAkEBAQq5AiIAKQArASs1//8ACQAAAjoFwwImANUAAAEGAI7MAAAfQBECAQggCwsGVQgCAEgrAQICC7kCIgApACsBKys1NQD//wCHAAAD5gWqAiYAUQAAAQcA1wD/AAAANbMBAQEmuQIiACkAKwGxBgJDVFi1ABcjAQtBKxu5ACj/wLciJDRPKAEoErj/4rFIKytdK1k1AP//AET/6AQnBcICJgBSAAABBwCNAPQAAAAbQA4C4B3wHQIdBABIKwIBHbkCIgApACsBK101AP//AET/6AQnBcICJgBSAAABBwBDAN4AAAAmsQIbuP/AQBELDTQPGwFwGwEbBABIKwIBG7kCIgApACsBK11xKzX//wBE/+gEJwXCAiYAUgAAAQcA1gDgAAAAIEASAhxALjI0nxwBABwfAAdBAgEguQIiACkAKwErcis1//8ARP/oBCcFwwImAFIAAAEHAI4A4AAAACpACQMCHkAWFgZVHrj/wEANCgsGVR4EbkgrAgMCIbkCIgApACsBKysrNTX//wBE/+gEJwWqAiYAUgAAAQcA1wDgAAAAMEAXAi8rPysCfyv/KwJPK48rAi8rPysCKwS4/+y0SCsCASm5AiIAKQArAStdXV1xNf//AIP/6APgBcICJgBYAAABBwCNAOcAAAAhQBMBHEAOEDQfHE8cAhwRPEgrAQEcuQIiACkAKwErcSs1AP//AIP/6APgBcICJgBYAAABBwBDAQcAAAAVQAoBARoRAEgnAQEauQIiACkAKwErAP//AIP/6APgBcICJgBYAAABBwDWANwAAAApswEBAR+5AiIAKQArAbEGAkNUWLUAGx4LFkErG7ePGQEZESNIKytdWTUA//8Ag//oA+AFwwImAFgAAAEHAI4A3AAA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Amtu1Hb+/ra3/v521AP6ctRyt/7+AQK3c9NyAAACAHABqgJmA6AACwAXAAABMhYVFAYjIiY1NDYXIgYVFBYzMjY1NCYBa2iTk2hok5JpSWZnSEhnZgOgk2hok5NoaJNMZ0hJZmZJSGf////9AAAFWQa+AiYAJAAAAQcA2AFKAV8AJkAXAgAPARAP0A8CIA8wDwIADxIMDEECAQ+5AiEAKQArAStdcXI1//8ASv/oBBwFXwImAEQAAAEHANgA9QAAABpADQJwOAEAODsCAkECATi5AsMAKQArAStdNf//AGb/5wV2ByYCJgAmAAABBwDWAbABZAAWQAoBACAjCA9BAQEguQIhACkAKwErNf//AFD/6APtBcICJgBGAAABBwDWAPoAAAAWQAoBAB0gBw5BAQEduQIiACkAKwErNf//AGb/5wV2BxoCJgAmAAABBwDaAbABkAAVQAkBHgtkSCsBAR65AiEAKQArASs1AP//AFD/6APtBYoCJgBGAAABBwDaAPAAAAApswEBARu5AiIAKQArAbEGAkNUWLUAGx4LC0ErG7dvGwEbEyhIKytdWTUA//8AogAABOgGyQImACgAAAEHANgBgQFqABZACgEADA8BAkEBAQy5AiEAKQArASs1//8AS//oBB4FXwImAEgAAAEHANgA4AAAABZACgIAHiEHD0ECAR65AsMAKQArASs1//8AogAABOgHIgImACgAAAEHANkBawFqACWzAQEBELkCIQApACsBsQYCQ1RYtQATDQECQSsbtBMFRkgrK1k1AP//AEv/6AQeBbgCJgBIAAABBwDZAPQAAAAVQAoCASUWAEgnAgEiuQIiACkAKwErAP//AKIAAAToBvQCJgAoAAABBwDaAYEBagAWQAoBAAwPAQJBAQEMuQIhACkAKwErNf//AEv/6AQeBYoCJgBIAAABBwDaAPoAAAAWQAoCAB4hBw9BAgEeuQIiACkAKwErNf//AG3/5wW5ByECJgAqAAABBwDWAg4BXwAlswEBASi5AiEAKQArAbEGAkNUWLUAKCsODkErG7QmDgBIKytZNQD//wBC/lED6gXCAiYASgAAAQcA1gDIAAAAFkAKAgAtMA8XQQIBLbkCIgApACsBKzX//wBt/+cFuQbpAiYAKgAAAQcA2gIOAV8AFkAKAQAmKQoCQQEBJrkCIQApACsBKzX//wBC/lED6gWKAiYASgAAAQcA2gDkAAAAFUAJAispLEgrAgEruQIiACkAKwErNQD//wBt/lsFuQXTAiYAKgAAAQcA3AIUAAAAE0AMAQAxLAoCQQEBJwgpACsBKzUAAAMAQv5RA+oGKAAJACQAMAFwQDAqEiYaKSkmLTsSNBpLEkQaVg9bEmUPahIMNSc1L0QnRC9TJ1MvYSdiLwgGMQeSCQC4AjCyAQECuAJUtBkdHAYbuAJ/tC4cGQcLuAKqQBAgCjAKYApwCoAKwArQCgcKuAJ9QAsNHCIPEUUoHBMKBroCWwAHAQxAJAkJAX4CAh0WHBszKzMRJR4eMkALCwJVMkANDQJVHRIQEAJVHbj/9EARDw8CVR0GDg4CVR0WDQ0CVR24/+pACwsLBlUdEhAQBlUduP/utAwMBlUduP/8QFENDQZV0B0BEB1AHWAdgB0EHXQWCyUKIiUkFiALCwJVFhoMDAJVFiINDQJVFhwLCwZVFgwNDQZVFhoMDAZVvxbPFt8W/xYEHxY/Fk8WAxYZMTS5AQoAGCtOEPRdcSsrKysrK03t9O0Q/V1xKysrKysrKysrKzwQ/fT1PBESOS/tOS/05AA/7eQ/7f1d5D/t5D88EP48EP089u0xMAFdAF0BFSM1NDY3FwYHARcWMzI2NjUGIyICNTQSMzIXNTMRFAYGIyImExQWMzI2NTQmIyIGAnjRSl42XRD+Tq8R43mLJnWu3PLy3Lp6plzlm9bWmap5gaObjIKeBUGvdXCMJVMnbfpnGqhgkLWLATvc8QE2mID8aufafrsDGtW8xcqq288A//8ApAAABSIHLAImACsAAAEHANYBrgFqABZACgEADhEBBkEBAQ65AiEAKQArASs1//8AhwAAA+gHLAImAEsAAAEHANYBLAFqABVACQEVBQBIKwEBF7kCIQApACsBKzUAAAIAHwAABacFugATABcBBrkAGf/AQCwTFTQvGQERFRQGBBIAAwQDExcIBgIUAQsCHgwBAQQWFR4QERETCAQCDxMIDLgCXUAJDyAODgkPCCAJuP/utA8PAlUJuP/yQAsNDQJVCRAMDAJVCbj/wEATCwsGVQkBDAwGVQldLxmAGQIZAbgCXUALEwUSIBMgEBACVRO4//a0Dw8CVRO4//a0DQ0CVRO4//pACwwMAlUTMAsLBlUTuP/3tAwMBlUTuP/4QBMNDQZVE10YIBkBIBlQGWAZcBkEXXEQ9isrKysrKyv9PBDkEF32KysrKyv9PBA8EO3kAD88PzwSOS88/TwROS88/TwRMxEzAREzERczERczMTABXSsTIzUzNTMVITUzFTMVIxEjESERIxMVITWkhYXCAvrChYXC/QbCwgL6BEuU29vb25T7tQKz/U0ES+vrAAEABgAAA+gFugAZAWa1EyIQFzQbuP/AsxUXNA64/8CzCQo0Fbj/3kALFxk0JQs1CkUKAwq4/+C2Fxk0ChgHArj/wEAyHis0AtQIAQEMBAAUHAwHERkKByABAQESJRtACwsCVRtAEBACVQ8oEBACVQ8UDg4CVQ+4/+xAEQ0NAlUPBAwMAlUPGgsLAlUPuP/2QAsLCwZVDxQQEAZVD7j/+EALDQ0GVQ8KDw8GVQ+4//ZAEgwMBlUPQDM2NP8PAcAPAQ9OG7j/wEAXNDY0sBvwGwJwG6AbsBv/GwQbBRglBBm4//q0EBACVRm4//pAFw4OAlUZBAwMAlUZCAsLAlUZBAsLBlUZuP/6QBEPDwZVGQIMDAZVGQINDQZVGbj/wEASMzY08BkBABkgGdAZ4BkEGU4aEPZdcSsrKysrKysrKzz9PBBdcSv2XXErKysrKysrKysrKysr7S9dLwA/PD/tPxI5Lzz9KzwBETMxMAArXSsrASsrEyM1MzUzFSEVIRE2MzIWEREjERAjIgYVESOHgYG0AW/+kXrGieS04XudtASvhoWFhv79kpj++/1fAqEBAqG9/bsA////wAAAAl4HFAImACwAAAEHANf/ugFqABZACgEABBABAkEBARO5AiEAKQArASs1////0gAAAnAFqgImANUAAAEGANfMAAAWQAoBAAQQAQJBAQETuQIiACkAKwErNf///+QAAAJUBq8CJgAsAAABBwDY/8cBUAAWQAoBAAQHAQJBAQEHuQIhACkAKwErNf///+kAAAJZBV8CJgDVAAABBgDYzAAAFkAKAQAEBwECQQEBB7kCwwApACsBKzX/////AAACTgcIAiYALAAAAQcA2f/RAVAAFkAKAQALBQECQQEBCLkCIQApACsBKzX////6AAACSQW4AiYA1QAAAQYA2cwAABZACgEACwUBAkEBAQi5AiIAKQArASs1AAEAo/5WAlkFugASAPC5AAUCXUANCg8SCBACBwgAABIPArj/wLMYGjQCuAJdtSANAQ0RFLj/wLQNDQJVFLj/wLM4PTQUuP/AszM0NBS4/8CzLTA0FLj/wLMoKTQUuP/AsyMlNBS4/8CzHR40FLj/wLMYGjQUuP/AQCgNEDQgFJAUrxQDEiAAD48PoA+wDwQvD0APUA/fD/APBRIPGBAQAlUPuP/stA8PAlUPuP/utA0NAlUPuP/2QBQMDAJVDyALCwZVIA+PD5APAw+iExD2XSsrKysrQ1xYsoAPAQFdWXFy/V0rKysrKysrKys8L13tKxESOS8vPAA/Pz/tMTAhBhUUFjMyNxUGIyImNTQ3ETMRAT4dUj5NW3doW3wjwk4+Q1Uudz12Z1B+Bbn6RgAAAgBm/lcCHAW6AAMAFgDjQFUYNgsLAlVPGJAYoBiwGMAY3xjwGAcAGB8YcBiAGJ8YsBjAGN8Y6wTgGP8YCx8YAQB+AQAUBhYTCglFDg8MIAsBCwQEFhMGRSARARECAwMWAQAAFiUTuP/4tBAQAlUTuP/6QBcODgJVEwQMDAJVEwoLCwJVExQLCwZVE7j/6rQQEAZVE7j//rQNDQZVE7j//EAiDAwGVQATnxOgE7ATwBPgEwbAE/ATAgATIBPQE+ATBBNOFxD2XXFyKysrKysrKyvtPBA8EDwQPC9d7RESOS8vXTwAP+0/PD8//TEwAV1ycSsTNTMVAwYVFBYzMjcVBiMiJjU0NxEzEYi0Ox1SPk1bdWhldCK0BOvPz/sVTj5DVS53PHpiQYwEJvvaAP//ADf/5wRUBywCJgAtAAABBwDWAcIBagAWQAoBABQXCAtBAQEUuQIhACkAKwErNQAC/6L+UQIgBcIABgAUASVAKwQIAxIgCCARIBI7BzMIMhFIC4YICgcTCA4KAGQEBA8DHwMCA4cCBQYGAQK4AiJACw4GChwTDwU8Bj0EuP/AQCEJDDQEZABkA38BPAIgEBAGVQIgCwsGVQ8CHwIvAj8CBAK4/8BAGQsXNAACPwJ/Av8CBAKQFgEWFxcaEA8lDQ64//pAQw4OAlUOEA0NAlUOEAwMAlUODAsLAlUOHgsLBlUODBAQBlUOCAwMBlUODA0NBlWQDgEfDj8OTw4DDhkVCAcVFAhHUBgrQ3lADAsSCxINGwEMEQobAAArASuBETMzThD0XXErKysrKysrKzxN/TxORWVE5nEZL10rcSsrGE39GfYY/f0rGfYY7QA/7T8/PDwQPBD9XTwQ7RESORI5MTABXRMHIxMzEyMBNxYzMjY1ETMRFAYjIuZxzdjA4Mv+TSI0IT8utHWWSQVUqgEY/uj5upkOU4gEXPugxbAA//8Alv5bBVIFugImAC4AAAEHAe4BzAAAAB2xARa4/8BADglkBlUgFgEAFhEABUEOAC8BK10rNQD//wCI/lsD+AW6AiYATgAAAQcB7gEhAAAAFUANASAWkBYCABYRAAVBDgAvAStdNQAAAQCGAAAD9gQmAAsBW7kABv/otAwMAlUKuP/otAwMAlUJuP/oQEwMDAJVFwMBRAMBBgYECQIHBiUGLwcvCIANtwXGBcAN5QblCeAN+gT1Bg0/DVoEWQVpBGkFmAaoBgcFBhsEGAkoCTgJWARZBQdKBgEDuP/0QBAKCRACBgYHCQoJCAoFCQgIuP/4QEALDAZVCCUHBhQHBwYDBAQlBQoUBQUKZQoBCgkGAwQEAQYFBAYLCAgHCqsGAQoJCAYFBAMHIAeAB78HAwcCCyUAuP/4tBAQAlUAuP/6QBEODgJVAAYMDAJVAAYLCwJVALj/+LQQEAZVALj/7rQPDwZVALj/+LQMDQZVALj/wEASMzY08AABAAAgANAA4AAEAE4MEPZdcSsrKysrKysr/TwZL10XOXEAGD88EDw/PD8RFzlyhwUuKwR9EMSHBS4YKysOfRDEBwgQPAg8ABc4MTA4AXJxXV0AXXJxKysrMxEzEQEzAQEjAQcRhrQBqun+agG/3v6hfwQm/lABsP52/WQCH3r+WwD//wCW/lsEKgW6AiYALwAAAQcB7gFUAAAAE0ALASAWAQAQCwAFQQgALwErXTUA/////f5bAa4FugImAE8AAAEGAe6SAAAWtgFPBAEfBAG4/+S0BAQAAEEBK11xNf//AJz+WwUfBboCJgAxAAABBwHuAeYAAAATQAsBIBQBABQPAAVBDAAvAStdNQD//wCH/lsD5gQ+AiYAUQAAAQcB7gD6AAAADrcBACEcAQxBGQAvASs1AAEApf/nBV0F0wAdAPxAXjsHNAs/FkELaRNsFnsDdQZyB3UWiwObAwwFAwUZFAMUGSQDJBMvFnECggKVAqQCpAOzArYDwALQAhAPDg4MDw4XHgUDAQACDw4RHgwJHB0IDy8OAQ4VJgkkEBACVQm4/9S0DQ0CVQm4//C0CwsCVQm4/+y0DQ0GVQm4//RAFAsMBlUACQEJVh8BHCAdIBAQAlUduP/2tA8PAlUduP/2tA0NAlUduP/6tAwMAlUduP/0tA8PBlUduP/4tA0NBlUduP/2tgwMBlUdXR4Q/SsrKysrKyv9PBD2XSsrKysr7S9dLwA/PD/tLy8/PD/tAREzABEzETMxMABdAV0TMxU2NjMyFhIREAAjIic3FjMyNhI1ECEiBgYVESOlxHPifbXliP783H95V2BBTYJM/muFyUzEBbq2hEui/s/+8v52/n9ImTSBAQfRAkN9wdH83wAAAQCL/lED6gQ+AB0BPEBKJBg0GUQZ4BjlGQUVHNQR0hLiEgSFEp0PrA+qErwPBQYSBRxyEokPgBEFBwcGBgkcBA8VChAcGgcXFgYSEBQMDQENJQASEBACVQC4/+pACw0NAlUABgwMAlUAuP/2tAsLAlUAuP/0QAsLCwZVABoQEAZVALj/+bQNDQZVALj/9kALDAwGVf8AAf8AAQC4/8BAHDM2NLAA8AACcACgALAAwAAEAEUfGBeaExQlFhW4//hAERAQAlUVBgwMAlUVBAsLBlUVuP/6tBAQBlUVuP/6QBEPDwZVFQIMDAZVFQQNDQZVFbj/wEAVMzY08BUBABUgFdAV4BUEFU4eEg0UERI5EPZdcSsrKysrKysrPP089DwQ9l1xK11xKysrKysrKyvtPBA8ABESOT88P+0/P+0zLzMvMTABXV1dAF0BERQGIyInNxYzMjY1ETQmIyIGFREjETMVNjMyFhYD6nWWSUQiNSBBLGh3daO0onXdgrA5Ao39OcWwE5kOWIMCvJSIlsj9vAQml69wpQD//wBj/+cF3QbTAiYAMgAAAQcA2AHbAXQAHrUCIBxwHAK4/+y3HB8AB0ECARy5AiEAKQArAStdNf//AET/6AQnBV8CJgBSAAABBwDYAOsAAAAlswICARq5AsMAKQArAbEGAkNUWLUAGxwAB0ErG7QaAgpIKytZNQD//wBj/+cF3QciAiYAMgAAAQcA2QHbAWoAIUAUAlAjYCNwI4AjkCMFIwIASCsCASC5AiEAKQArAStdNQD//wBE/+gEJwW4AiYAUgAAAQcA2QDrAAAAFkAKAgAhGwAHQQIBHrkCIgApACsBKzX//wCh/lsFrQW6AiYANQAAAQcB7gHmAAAAE0ALAiAuAQAuKAEGQSUALwErXTUA//8Ahf5bAsYEPgImAFUAAAEGAe4lAAAEsBQAL///AFz/5wTrByYCJgA2AAABBwDWAUwBZAAWQAoBADM2FhZBAQEyuQIhACkAKwErNf//AD//6AOxBcICJgBWAAABBwDWAL4AAAAWQAoBADM2FRVBAQEyuQIiACkAKwErNQABADAAAAS6BboADwC0QCYAERARIBEDDAEwCwICDwYIBR4HBgIPCAsMOQcBAjkGDgkIIAcBB7gBAbcJIAQFLwYBBrgBAbIEBA+4/+hACxAQAlUPCA8PAlUPuP/ytAwMAlUPuP/itA0NAlUPuP/8tAwMBlUPuP/otA0NBlUPuP/gQAoQEAZVEA8gDwIPuAJzsxC2mRgrEP1dKysrKysrKzwQ9F08EP30XTwQPBD0PBD0PAA/Pzz9PBESOS88/TwxMAFdASE1IREhNSEVIREhFSERIwIT/rYBSv4dBIr+GwFI/rjCAnWEAhStrf3shP2LAAABAAz/8gITBZkAHgEOuQAF/8CzIyY0Brj/wEBbIyY0LyCAIAIQASsPAgIaDAUrCwYGFskaAxgaFwUVCDQLDAZVCTQLDAZVCAkGEQ4NCgQJEgADBAcECB4PMwugArACwALQAgQCAgYLDCIXIhgJEiUIGP8eBgVFHrj/+rQQEAJVHrj/+kAXDg4CVR4EDA0CVR4ICwsCVR4GEBAGVR64//q0Dw8GVR64//xACwsLBlUeEgwMBlUeuP/0QBQNDQZVrx6/HgIAHtAeAh5OHxcYR7kBCgAYKwAQyQEQ9F1xKysrKysrKysr9DwQ7Tz9PBDk9DwRMy9xEOQREhczERIXMwARMzMrKxESORI5P+0/PP08EjkvPP08MTABXSsrEyM1MxEjNTMRNxEzFSMRMxUjFRQWMzI3FwYjIiYmNZGFhYSEtLS0rKwlQCAvGkk9anMfAgKEARSMAQds/o2M/uyE1VU+B58QSHWIAP//AKH/5wUiBw4CJgA4AAABBwDXAaQBZAAWQAoBABUhERFBAQEVuQIhACkAKwErNf//AIP/6APgBaoCJgBYAAABBwDXAOwAAAAgQBIB7xkBGUBTVDQAGSUREUEBARm5AiIAKQArASsrcTX//wCh/+cFIgbDAiYAOAAAAQcA2AGkAWQAJbMBAQEVuQIhACkAKwGxBgJDVFi1ABUXCwFBKxu0FQ8ASCsrWTUA//8Ag//oA+AFXwImAFgAAAEHANgA7AAAABZACgEAGRwKF0EBARm5AsMAKQArASs1//8Aof/nBSIHHAImADgAAAEHANkBkAFkABZACgEAHBYLAUEBARm5AiEAKQArASs1//8Ag//oA+AFuAImAFgAAAEHANkA7AAAACizAQEBHbkCIgApACsBsQYCQ1RYtQAgGgoXQSsbsSALuP/YsUgrK1k1AAEAof5WBSIFugAiATO3WBBYIskQAyS4/8BAKhMVNDoQOxE0ITYiShBKEUYhRiJYEVYhZiJ2F6oi6BcODCINFTQHnAgIBbgCXbUKDw8JDxm4ArtACgAJHRMCIAgBCAK4Al1AEA0NDwAB/wABAJwPDxIcJh+4/+y0Dw8CVR+4//JAEQ0NAlUfEAwMAlUfDA8PBlUfuP/wQB8LCwZVIB8BIB9QHwJgH3AfgB8DH10kFSYSIBAQAlUSuP/2tA8PAlUSuP/2tA0NAlUSuP/6tAwMAlUSuP/8tAsLBlUSuP/3tAwMBlUSuP/4tA0NBlUSuP/2tw8PBlUgCgESuP/AthMVNBJdIzu5AY4AGCsQ9CtdKysrKysrKyvtEPZdXXErKysrK+0SOS/tXXEzL+0vXQA/PD/tMz8/7TMv7TEwAStdKwBdBQYVFBYzMjcVBiMiJjU0NyQCEREzERQWFjMyNhERMxEUAgYDEhRSPk1bdmVieRz+8+7CSbF027TCTvAYRypHVC53PXhlRnEXARoBUANP/LK/uV7EARIDTvyxwf7+tAAAAQCD/lcE0wQmACUBcrUMIg8RNCe4/8BACRUXNBIgExY0HLj/8EBAEhQ0ChUZFSYSNRJEEncchBwHKhIrIAIHBwgIBUUKDyMYBiUQCx4cEwsHIAhACHAIAwgCRQ0NAAAlIiERAxCaI7gCMEAZJSRAMzY0J0AQEAJVJCgQEAJVJBIODgJVJLj/6kALDQ0CVSQEDAwCVSS4//y0CwsCVSS4//RACwsLBlUkFBAQBlUkuP/2QAsNDQZVJAwPDwZVJLj/9kANDAwGVf8kAcAkASROJ7j/wEAVNDY0sCfwJwJwJ6AnsCf/JwQnGiUXuP/4tBAQAlUXuP/4QBEODgJVFwQMDAJVFwoLCwZVF7j/9kARDw8GVRcCDAwGVRcCDQ0GVRe4/8BAFTM2NPAXAQAXIBfQF+AXBBdOJkdQGCsQ9F1xKysrKysrKyvtEF1xK/ZdcSsrKysrKysrKysrKzz95Bc5ETkvMi/tL108AD/tPzw/PD/tMy8zLzEwAF0BXSsrKyshBhUUFjMyNxUGIyImNTQ3NzUGIyImJjURMxEUFhYzMjY2NREzEQO4HVI+TFx1aGJ3Ggh81n6xO7QablNbjzC0Tj5DVS53PHhkQ2khnLRwp5UCkv2zi3dUYJB6Ajn72gD//wAZAAAHdgcsAiYAOgAAAQcA1gJsAWoAJbMBAQEbuQIhACkAKwGxBgJDVFi1ABseCAlBKxu0GRUASCsrWTUA//8ABgAABbcFwgImAFoAAAEHANYBmgAAACWzAQEBFbkCIgApACsBsQYCQ1RYtQAVGAcIQSsbtBMRAEgrK1k1AP//AAYAAAVGBywCJgA8AAABBwDWAW0BagAWQAoBAA8SAgpBAQEPuQIhACkAKwErNf//ACH+UQPuBcICJgBcAAABBwDWANcAAAAlswEBAR25AiIAKQArAbEGAkNUWLUAHSAMEkErG7QbDwBIKytZNQAAAQCJAAACVgXTAA4AtUBNTxCQEKAQsBDAEN8Q8BAHsBDAEN8Q4BD/EAUAEB8QcBCAEJ8QBR8QSwNZA2gDcBAFChwFAAAKBwcACCAIcAiACAQIDQ4lARBACwsCVQC4//ZAFxAQAlUABgwMAlUAEAsLAlUACBAQBlUAuP/8QCYMDQZVnwDAAOAAAwAAoACwAAPAAPAAAgAAIADQAOAABABOD0dQGCsQ9F1xcnIrKysrKys8/TwvXTMvAD8/7TEwAV1ycnEzETQ2NjMyFwcmIyIGFRGJNoZqT1gaNjRaOwSXc39KEp0KT1f7eAD////9AAAFWQgMAjYAYwAAARcAjQFTAkoAZbcEJxEASCsEJ7j/wLMzNjQnuP/AsyIkNCe4/8CzHiA0J7j/wLYQEjSvJwEnAC9dKysrK7EGAkNUWEAJACcQJwKgJwEnuP/As0VFNCe4/8CzLC80J7j/wLIXGTQrKytdclk1ASs1AP//AEr/6AQcB4QCJgBuAAABBwCNAQ8BwgDKsQYCQ1RYQCoEAFBTOztBAwIAOD4cHEEEAFNQU/BTAy9TcFOAUwNTAwIgQYBBAoBBAUEAL3FyNTUvXXE1ASs1NSs1G0AsBFBEAEgrUVJQU4BLTzRTQGBgNFNAODg0AFNgU49T0FMEj1PwUwJTgDg/NFO4/8BACSwuNFOAKS80U7j/wLMnKDRTuP+AsyMkNFO4/8CzHyI0U7j/gEAPHh40U0AVGDRTgBMUNFMcuAFAABoYENwrKysrKysrKytxcisrK8TUxDEwASs1Wf//AAEAAAeQBywCJgCQAAABBwCNApMBagAWQAoCABQWAQRBAgEXuQIhACkAKwErNf//AET/6AbKBcICJgCgAAABBwCNAlgAAAAVQAoDAU4lAEgnAwFOuQIiACkAKwErAP//AFP/xQXtBywCJgCRAAABBwCNAcsBagAVQAkDNBkySCsDATS5AiEAKQArASs1AP//AIH/sQRkBcICJgChAAABBwCNATYAAAAVQAoDASwdHkgnAwEvuQIiACkAKwErAAABALkDWQGGBCYAAwAkQA4CAQMAPAEFnwM8ABkEobkBkAAYK04Q9E395gAv/TwQPDEwEzUzFbnNA1nNzf//ABkAAAd2BywCJgA6AAABBwBDAooBagAYuQAB/6a3GxkICUEBARq5AiEAKQArASs1//8ABgAABbcFwgImAFoAAAEHAEMBaAAAABi5AAH/prcVEwcIQQEBFLkCIgApACsBKzX//wAZAAAHdgcsAiYAOgAAAQcAjQKKAWoAFUAJARkIAEgrAQEZuQIhACkAKwErNQD//wAGAAAFtwXCAiYAWgAAAQcAjQFoAAAAFUAJARMHAEgrAQETuQIiACkAKwErNQD//wAZAAAHdgbhAiYAOgAAAQcAjgJsAR4AK7UCAQECAhm5AiEAKQArAbEGAkNUWLUAHB0ICUErG7EcF7j/4rFIKytZNTUA//8ABgAABbcFwwImAFoAAAEHAI4BmgAAABhACwIBFgcASCsBAgIWuQIiACkAKwErNTX//wAGAAAFRgcsAiYAPAAAAQcAQwFNAWoAFUAKAQEOBhpIJwEBDrkCIQApACsBKwD//wAh/lED7gXCAiYAXAAAAQcAQwC3AAAAHEAPARwgDQ4GVRwPGkgrAQEcuQIiACkAKwErKzUAAQCKA+kBWwXJAAkAR7YDAQgAA6sEuAFQQBgJAQA8CQkIAARpA8UAAAmBBz8IAQgZCp25AZAAGCtOEPRdPE39PBD05AA/PBD9PBD97QEREjkAyTEwASMWFwcmJjU1MwFLXgJsLF1IwQT4nCxHKo6DpQAAAf/hBMsCygVfAAMAGkAMATUAAhoFABkEQ2gYK04Q5BDmAC9N7TEwAzUhFR8C6QTLlJQAAAEAG//kBDoF0wA2AS9AxQskEwQpGDoSUy5tLGIuhigI2x7fIdoy6SH6IQUZIQF1CYYJAjQ1NR4eHysgMzIyISFfIN8gAo8gAQ8gHyAvIJ8gryAFICAmAgMDGRkaKxsBAAAcHAAbAS8bARsbFiYqJ18pbykCKYhALQEtKSYBBx4UahANHg6rCx4QCxefFgshHhwDGSMyNQADAzAqXilpDeUgDjAOAg4aODM0NAEBAocZXiADAQNNMF6/I88j7yMDI3IXIB8fGxsaxRarrx8BFxk3qY0YK04Q9F0ZTeQY9DwQPBA8EPRd/fRd7fQ8EDwQPE4Q9l1N5PTtERIXORESFzkAP+0/7f3tEPTtP+1x/V3kERI5L11xPBA8EDwQ/TwQPBA8ETkvXXFyPBA8EDwQ/TwQPBA8MTAAXQFycV0BIRUhBgc2MzIXFjMyNxcGIyInJiMiByc2NyM1MyYnIzUzJjU0JDMyFhcHJiYjIgYVFBchFSEWAbEBFv7mIYBNQFdnqkRFdjqSXEqQl0alkEXCINHRBCWofhcBCcGm9xqzDZRrdY0cAVj+yhoCZpSQgxYZKTilPywuXa1w0ZQfdZRaTcLcv7wbcZGWXDqFlGkAAAIAWv/eBHwESAASABkApEBQtgQBRRdaBFIOWxBaFVIXawRoBwggGzoESwRJEUoVBRIATBMvGc8ZAhkZCQ8GaQUBrAOrCQsUOhisFqsPBwWrjwafBq8GvwbPBt8GBgYGFBO4AsFAFQASIBICEBIgEjASAxIxGwEAGBkZALgCwbcfDD8MAgwxGhD2Xf08EDwQPBD2XV39PDkvXe0AP/305D/95C/kERI5L108/TwxMAFdXQBdAREWMzI3FwYGIyIANTQAMzIAEycRJiMiBxEBQXiy/o1IeOB77f7cASbr1gEwC+eArK95AhP+jXn2K61nAUD19wE+/uT+50oBKXl6/tgAAAUAa//HBoAF0wADAA0AIQAtADgA5EAOLzp7EXcVihGGFQUCAwO4/8CzQlw0A7j/wEARJzs0Az8AARQAAAEYGCUODja4AmFACx8lLyU/JQMlJR0rugJhABMBwEAJHQUHrAigCwQNuAEftAsM4gIBuwF9AAMAMAJhQA0d4gAAAwkiKRAnLikguAEdQB0aKCkWJzMpGho6AAMBAgQ6OQsMBQQMDSkECAfLBLgBRrM5V2gYKxD29jwQ/TwQPBI5ERIXOU4Q9k3t9O0Q/e307QA/PBD27RD9PPQ8/TwQ9P05EP3tEjkvXe0ZOS8ROS+HBS4YKysrfRDEMTABXRcBMwEDEQYHNTY2NzMRASY1NDYzMhYVFAcWFRQGIyImNTQ3FBYzMjY1NCYjIgYDFDMyNjU0JiMiBuQETZ37szZmejegLmwC7YJ9i4uLjKeogoqhsUYzM0lINjdAHJVHUFZERkw5Bgz59AMWAipRIHsRbT39Ef6SL3NQb2tWcy0pj2p+f2SUwTI0NC0uNzr+kX9FNTpERQAFACL/xwaBBdMAAwAiADYAQgBNAVFAFx8U3xQCL09pJmYqeyZ3KoomhSoHAgMDuP/As0JcNAO4/8BAFSc7NAM/AAEUAAABHBwhGC0tOiMjS7gCYUALHzovOj86Azo6MkC9AmEAKAHAADIADgJhQA4NDSEYBcUgBDAEAgRkB70CYQAhAR8AGAAUAqpAFx8VLxU/FQN/FQFfFW8VAl8VbxUCFZESuAJhsxjiAgG7AX0AAwBFAmFAETLiAAADCQ4NnxA3KSUnQyk1uAEdQBsvPSkrJ0gpLxpPAAMBAgRPThApGiIKKTAeAR64AihAFwQOJw1kBRQpEBXQFQIVIgUpBBlOfGgYK04Q9E3t9HLtEPbkEP1d7fTtERIXOU4Q9k3t9O0Q/e307RDkOQA/PBD27RD9PPT99HJxcV3kEP399F3kERI5L+0Q/e0SOS9d7Rk5LxE5LxESOS+HBS4YKysrfRDEMTABXQByFwEzAQE3FjMyNjU0Iwc3MjU0IyIHJzY2MyAVFAcWFRQGIyABJjU0NjMyFhUUBxYVFAYjIiY1NDcUFjMyNjU0JiMiBgMUMzI2NTQmIyIG5QRNnPu0/qCSH3tDWpw6Fpx5aCSPKYZkAR6KraWK/vUEfYKJfoyLjaiqgIeksUYzMUpINjZAHJVITlVERkw5Bgz59APaD3BLOW8DbmZZZhdvT7x4JyuSZYT+pC9zWmVrVnAwKY9te3tolMEyNDMuLjc6/pF/RjQ6REUAAAUAIv/HBoEF0wADAB8AMwA/AEoBd0AseyN3J4ojhifBG9cb5Rv1FQgSGSAZL0wxGQQFFQUbAhQVFWwQERQQEBECAwO4/8CzQlw0A7j/wEARJzs0Az8AARQAAAEqKjcgIEi4AmFACx83Lzc/NwM3Ny89ugJhACUBwEATLxUVDREQJ18Pbw9/D48PBA+rDbgCYUAcDxdAF1AXAxcXHREFxYAEASAEMARABFAEBARkB7oCYQAdAR+0ERMUEhS4AmGzEScCAbsBfQADAEICYUANL+IAAAMJNCkiJ0ApMrgBHUAiLDopKCdFKSwaTAADAQIETEsVDxATDxIBEiIKKQAaMBoCGrgCKEAUBBQUEREPDw8QARAnBSkEGUtXaBgrThD0Te30XTIvMi8zLxD9Xe30XTwREjkREhc5ThD2Te307RD97fTtAD88EPbtEP089O08EDwQ/f30XXHkERI5L1399F3kERI5LxD97RI5L13tGTkvETkvhwUuGCsrK30QxIcOLhgrBX0QxDEwAXFdXRcBMwEBNxYzMjY1NCYjIgcnEyEVIQc2MzIWFRQGIyImASY1NDYzMhYVFAcWFRQGIyImNTQ3FBYzMjY1NCYjIgYDFDMyNjU0JiMiBuUETZz7tP6gkBp5TFxTQkZGjU8B1v6KIk9ZcZ65gnabBJOCiX6Mi42oqoCHpLFGMzFKSDY2QByVSE5VREZMOQYM+fQD1xJpUz86VUAZAXl5njWTbHiWcf4zL3NaZWtWcDApj217e2iUwTI0My4uNzr+kX9GNDpERQAFAEr/xwaABdMAAwAMACAALAA3AORADi85fRB3FIsQhhQFAgMDuP/As0JcNAO4/8BAESc7NAM/AAEUAAABFxckDQ01uAJhQAsfJC8kPyQDJCQcKroCYQASAcCyHAwEuAG5twYHrAkIJwIBuwF9AAMALwJhQA0c4gAAAwkhKQ8nLSkfuAEdQCkZJykVJzIpGRo5AAMBAgQ5OAYJBAkgCgEKhwwpBAgHrC8EAQQ8OHxoGCsQ9l30PBD99F08ERI5ERIXOU4Q9k3t9O0Q/e307QA/PBD27RD9PPQ8/Tz2PBD97RI5L13tGTkvETkvhwUuGCsrK30QxDEwAV0XATMBAxITITUhFQIDASY1NDYzMhYVFAcWFRQGIyImNTQ3FBYzMjY1NCYjIgYDFDMyNjU0JiMiBswETZ37s6QY7f6AAiX0IgNwgn2Li4uMp6mBhqWxRjMxS0g2N0AclUdQVkRGTDkGDPn0AxYBQQEjeVD+5P6P/pIvc1Bva1ZzLSmPbXt7aJTBMTUzLi43Ov6Rf0U1OkRFAAABAOL92QHA/28ACQA6QBUGPgdsCQkAnwIBAwKBAQEABuUH4gC4AmCzCgkD2bkBkAAYKxE5EPT05BA8EP08AC88/TwQ9u0xMBM1MxUUBgcnNjfv0UpeNl0Q/sCvdW6NJlQoawAAAQBr/lsCHP/SABMAS0AKCE0ADRANIA0DDbgCMUAeAhE6E00Afw8CHwIvAgMCOBQFKQ/5EwBqCuILGRRXuQGQABgrThD0TeT2PPTtABD+XfT95BD0Xe0xMBc2MzIWFRQGIyInNxYzMjU0IyIH1SMfiXyNmD9NCywrp38OEjIEbkhNdAx1BExDAgD//wDeBKoCTwXCAhYAjQAAAAP/6gTOAsEF4wADAAcACwBaQDgEoAYJoAtABgsAAwGQAwEDh4AAAwWfBwcACJ9QCmAKAgoKAAN18AIBAkAsLzQCxQGgXwABUAABAC9yXe32K3HtETMvXe0RMy/tAD8a/V1xPDwaEO0Q7TEwATMDIyUzFSMlMxUjAVu6yHUBPK2t/datrQXj/uvAwMDAAAAD//8AAAVbBboABwAOABIBq7YBDg8QAlUCuP/ytA8QAlUCuP/8tBAQBlUCuP/2tA0NBlUCuP/4QGUMDAZVCQwMDAZVBQwMDAZVLxQwFGcIaAlgFIgDnw+QFMkFxgbAFPAUDAgFWQFWAlAUaAuwFPMM8w3zDgkEDAQNBA4DDwASEBICEtoQAgsKCQUEBAwNDggGBwcMCQUECAYMBwIDA7j/+EAPDAwCVQMgBAwUBAQMAQAAuP/4QBUMDAJVACAHDBQHBwwJHgUFCB4GAwa4AnBADgAM6QIBAhBSEVIS6UAPuP/AsxIVNA+4/8BACgsMNN8PAQ9UAAK6AQsAAQELQBIMIABlBwNSUATPBN8EA5AEAQS4AQFAC1AMwAffDAOQDAEMuAEBQA0PB88HAn8HgAcCB5MTugGbAY4AGCsQ9F1xGfRdcfRdcRjtEO0aGRDt7RgQ9HIrKxr99O0APzztL+Q8EO08EO2HBS4rK30QxIcuGCsrfRDEARESOTkROTmHEMTEDsTEhwUQxMQOxMQAGD/9XTwxMAFLsAtTS7AeUVpYtAQPAwgHuv/wAAD/+Dg4ODhZAXJxXSsrKysrKysjATMBIwMhAxMhAyYnBgclEzMDAQIz0QJY3av9m6HZAfGZSR8cM/3vhezcBbr6RgG8/kQCWgGWwm6Ni5oBGP7oAAAC/6cAAAXXBboACwAPAOtAOAwADxAPAg/aDQIGBR4ICAcHAAMEHgIBAgoJHgsACA1SDlKQDwEP6Q8MHwxPDM8M3wwFDEAOETQMuP/AQA0JCzSfDAEMQC5kNAwHuP/AQCwQEjQHVANKIAogDQIKGhEECSABADIQEAJVAAoPDwJVABoNDQJVACYMDAJVALj/8UAXCwsCVQAIEBAGVQAPDw8GVQAcDQ0GVQC4/+xACwwMBlUAIAsLBlUAugEWABABibFbGCsQ9isrKysrKysrKys8/TxOEPZdTfTkKy8rcisrcf1d9O0APzz9PD88/TwSOS88EP08P/1dPDEwIREhFSERIRUhESEVARMzAwGRBCT8ngMr/NUDhPnQhezcBbqt/j+s/g2tBKIBGP7oAAAC/6gAAAXmBboACwAPASy5ABH/wEAuExU0DAAPEA8CD9oNAgQDHgmgCtAKAgoKCAUCAgsICA1SDlKQDwEP6QxADxE0DLj/wEAdCQs0DCALCwZVTwxfDKAMA1AMARAMAQwFCCAHBwa4/91AHRAQAlUGDA8PAlUGHg0NAlUGCgwMAlUGEhAQBlUGuP/+QDQPDwZVBhENDQZVBgoMDAZVYAaPBgIGGlARgBECEQILIAEACBAQAlUAHA8PAlUALg0NAlUAuP/6QBcMDAJVADAQEAZVABkPDwZVACYNDQZVALj/+kAUDAwGVQBACwsGVU8AXwC/AAMA3RC4AYmxWRgrEPZdKysrKysrKysrPP08EF32XSsrKysrKysrPBD9PC9ycV0rKyv9XfTtAD88PzwSOS9dPP08P/1dPDEwASshETMRIREzESMRIREBEzMDAWjCAvrCwv0G/X6F7NwFuv2mAlr6RgKz/U0EogEY/ugAAv+oAAACKgW6AAMABwDGQDIPCS8JMAmACQQABxAHAgfaBgUCAQIACAVSBlKQBwEH6QQWDA0CVQQYCwsGVQRADxE0BLj/wEBfCQs0TwRfBKAEsAQEEAQBBAIDIAEAChAQAlUAHA8PAlUALg0NAlUAOAwMAlUACgsLAlUABBAQBlUADA8PBlUAKg0NBlUAEgwMBlUAGAsLBlVfAG8AfwADTwBfAAIA3Qi4AYmxWRgrEPZdcSsrKysrKysrKys8/Twvcl0rKysr/V307QA/Pz887V0xMAFdIREzEQETMwMBaML9foXs3AW6+kYEogEY/ugAA/+n/+cF0gXUAAwAGAAcAQ5AVgUPChEKFQUXEw8dER0VExdHDkkSSRRHGFgFWAdWC1QPWhFbEl0VUxeJEpoClQQXABwQHAIc2hsaAhYeAwMQHgkJGlIbUpAcARzpGSALCwZVGUAPETQZuP/AQA8JCzSgGbAZAoAZARkTJga4/+pACxAQAlUGCA8PAlUGuP/utA0NAlUGuP/wQAsMDAJVBhALCwJVBrj/9bQNDQZVBrj/+EA3DAwGVQYaHg0mAAoPEAJVABALDgJVAAoJCgJVAAsNDQZVABIMDAZVAEkLCwZVDwAfAC8AAwAuHbgBibFcGCsQ9l0rKysrKyvtThD2KysrKysrK03tL3FdKysr/V307QA/7T/tPzztXTEwAV0TEAAhIAAREAAhIiQCNxQAMzIAERAAIyIAJRMzA1gBigE0ATUBh/52/s3d/rOTyAEQ5OABFv7o29f+4P6HhezcAsoBbgGc/l3+qv6s/mDdAVuo+/7BATsBFAEYATn+2psBGP7oAAL/pwAABrwFugAMABABzbYICToDBDsJuP/nsxIXNAi4/+dADhIXNAQZEhc0AxkSFzQJuP/YsxghNAi4/9hAKhghNAQoGCE0EiYEKQgqCi8SBGgBaAZoC94GBAUEAwMGCAcJCQYGAwYJA7j/9kAqDBACVQMgAgEUAgIBBgkGAwkKDBACVQkgCgsUCgoLABAQEAIQ2g8OAgELuP/gQAsNDQZVCyALCwZVC7gCGUAqCgoJCQMDAgIACAsGAQMCAA5SD1KQEAEQ6Q0ZDAwCVWANcA0CDUAPETQNuP/AQA4JCzRPDV8NsA3ADQQNErgCGEAJDAlSQAqACgIKuAG1QA0LCwwgAANSTwKPAgICuAG1QCcBAQAkEBACVQAMDw8CVQAcDAwCVQAiEBAGVQAgDw8GVQAMDAwGVQC4AkeyEQYMuAGJsagYKxE5EPYrKysrKys8EPRd7RD9PBD0Xe0Q5i9dKytxK/1d9O0AERIXOT8/PBA8EDwQ9CsrPD887V2HBS4rKwh9EMSHBS4YKysIfRDEhw4QxMSHDhDExEuwF1NLsBxRWli0CAwJDAS6//QAA//0ATg4ODhZMTAAXQFdQ1xYQAkJIhk5CCIZOQS4/96xGTkrKytZKysrKysrKysrIREBMwEWFzY3ATMBEQETMwMDsf3L7AEhVUBCXgEc4v23+zSF7NwCbQNN/kaDdXOQAa/8s/2TBKIBGP7oAAAC/6cAAAWlBdMAHQAhAbRARZ8RnxsCWAFXDXoSdRqGGK8jBlwFUAlvBWQJdgkFJQlLEksURhhFGgULBQQJHQUUCSoFBQwVAhc7GgMAIRAhAiHaIB8CFrgCSEAjBwMODQABLRsbES0NHg8QHRwcEAgfUiBSkCEBIekeQA8RNB64/8BAEAkLNE8eXx6gHrAewB4FHg24AjqzEBARAbsCOgAbABz/9kARCwsCVRwRCgsLAlUvEU8RAhG4AnhADQ4TJgtKDw4MEBACVQ64//ZACw8PAlUOBg0NAlUOuP/8tAwMAlUOuP/oQAsLCwJVDhAQEAZVDrj/+rQMDQZVDrj/90ASCwsGVRATrw4CDmojIBxAHAIcuAJ4tR0ZJgNKHbj/4LQQEAJVHbj/6rQPDwJVHbj/7rQNDQJVHbj/9rQMDAJVHbj/4LQQEAZVHbj/7LQPDwZVHbj/8rQNDQZVHbj/+EAKDAwGVSAdAR2sIroBiQGOABgrEPZdKysrKysrKyv07RDtXRD2XSsrKysrKysrPPTtEO1dKxArPO0QPBDtL10rK/1d9O0APzwQPBA8/fQ8EPQ8EDw/7T887V0xMAFxXV1dXQBdNyEkETQSJDMyBBIVEAUhFSE1JBE0AiMiAhUQBRUhAxMzA2sBQP7QoAEkzcsBD6/+0AFA/cYBZPvJz/gBYv3FxIXs3K3+AW7HATy3qP7G2P6S/q2ipgGz9QE9/sHp/keqogSiARj+6AAABP94AAACTwXjAAMABwALAA8As0AaCaMKDaMPQAoPDwQBnwQBBEKAB8kCAQYACgm4AjCzCwsEDLgCMEAMUA5gDgIODgQfBwEHuAEMQBTwBgEGQCwvNAZJBUAEEU4CAyUBALj//EARDg4CVQAECwwCVQAMEBAGVQC4//60DQ0GVQC4//xADQwMBlUQACAAAgBFEEe5AQoAGCsQ9l0rKysrKzz9POQv7fYrce1xETMvXe0RMy/tAD8/PP4a7V1xPDwaEO0Q7TEwMxEzEQMzAyMlMxUjJTMVI4m0VLrIdQE8ra391q2tBCb72gXj/uvAwMDAAP////0AAAVZBboCBgAkAAD//wCWAAAE6QW6AgYAJQAAAAL//gAABVoFugADAAoA4UA8hAgBnwgBBwIXAi8MMAx4BokBhgKXBJgFtwS4BccEyAXnA/cDDwYECAUnBCgFNwQ4BQaUCAEBDg8QAlUCuP/ytA8QAlUCuP/2QDwMDAJVBggIBQoEBAgCAwEACAUIBAUgAwIUAwMCCAQIBQQgAAEUAAABBQQeAAgBAgIBAgMIAAgEAQAFAgO6AhQAAAIUQA0IBgwMBlXPCAEICAwLGRESOS9dKxjt7Tk5Ejk5AD8/Pz8RORD9PIcFLisIfRDEhwUuGCsIfRDEARE5ETmHDhDEhw4QxDEwASsrK3JxXQByXSMBMwElIQEmJwYHAgIz0QJY+7EDL/7DRyEbNAW6+katA0O8dIiQAP//AKIAAAToBboCBgAoAAD//wApAAAEsAW6AgYAPQAA//8ApAAABSIFugIGACsAAP//AL8AAAGBBboCBgAsAAD//wCWAAAFUgW6AgYALgAAAAEACwAABUgFugAKAOdAGl8FAQAMLwwwDG8MBFcDXARWBQMKCA8QAlUAuP/4QBEPEAJVAwUFAgcICAUAAQoJBbj/7kAJDAwCVQUCBQgCuP/sQA0MDAZVAiABABQBAQAFuP/uQCgMDAJVBQgFAggMDA0GVQggCQoUCQkKBQABCQgIAgEICgACCAoJAAIBugFfAAn/+LQNDQJVCboBXwAF//RADQsLBlUABTAFAgUFDAsZERI5L10rGO0r7Tk5Ejk5AD88Pzw/PBESOYcFLisrCH0QxCuHBS4YKysIfRDEKwERORE5hw4QxIcOEMQxMAErK3JdAHIBASMBJicGBwEjAQMQAjjT/oMyGyEt/nTGAj0FuvpGBCiMZXl4+9gFuv//AJgAAAYPBboCBgAwAAD//wCcAAAFHwW6AgYAMQAAAAMAbQAABMYFugADAAcACwA+QCcFHh8HAU8HXwd/B48HBAcHAAkeCwgCHgACBpwBYgpWDQecAGILVgwQ9uTkEPbk5AA/7T/tEjkvXXHtMTATIRUhEyEVIQMhFSGIBCP73V4DZ/yZeQRZ+6cFuq3+Jqz+Jq3//wBj/+cF3QXUAgYAMgAAAAEApAAABSIFugAHAKy5AAn/wEAOExU0AwgACAUeAQIFIAO4/+60Dw8CVQO4//JAGQ0NAlUDEAwMAlUDXYAJAQkGIAAgEBACVQC4//a0Dw8CVQC4//a0DQ0CVQC4//q0DAwCVQC4//VADgwNBlUACAsLBlUgAAEAuP/AthMVNABdCAm4/+BAEwsLBlUgCQEgCVAJYAlwCQQ7WRgrXXErEPYrXSsrKysrK+0QXfYrKyvtAD/tPz8xMAErMxEhESMRIRGkBH7C/QYFuvpGBQ368///AJ4AAAT9BboCBgAzAAAAAQCUAAAEogW6AAsA2UA89QkBNgM2CQIVBJUEpQTWAgQHAgsJFgIaCSYCLQk3AjoDPwlJAwppA2oJeAN4CbgDuQn2AvkJCAMEAwIEuP/wtA8QAlUEuP/wQBEMDAJVBB4ICRQICAkDAgMEArj/9kA2DxACVQISDAwGVQIeCgkUCgoJCggJAwQEAgQFAgEeCwIFHgcIBAIJAwQICAcKCwsHAOMgBgEGuAExsw0H6QwQ5hD2XeQQPBA8EDwSFzkAP+0//TwQPBESFzmHBS4rKysIfRDEhwUuGCsrKwh9EMQxMAFdcXIAcV0BFSEBASEVITUBATUEefztAfT+DAM8+/IB3/4hBbqt/ez9tK3KAi8B/sMA//8AMAAABLoFugIGADcAAP//AAYAAAVGBboCBgA8AAD//wAJAAAFSQW6AgYAOwAAAAEAfwAABjAFugAWAQpASkAETwlJD0AUQBhgGHAYkBigGAkAGCAYMBhAGAQVIA8RNA8gDxE0IwMjCjQDNAqiCuQK9goHCAVdEBMTABIMAgYCAAISCAcRIAYSuP/7QA4MDQZVEhIWCyANASAWDbj/8LQPDwJVDbj/6rQMDAJVDbj/4EAbDA0GVQANIA0wDUANBEANYA1wDZANoA3/DQYNuAJdQBAYgBjAGNAYA6AY4BjwGAMYuP/AswkRNBa4//RAIBAQAlUWCAwMAlUWEA8PBlUWEA0NBlUWFAwMBlUgFgEWuQJdABcQ5F0rKysrKytdcRDmXXErKysQ7RDtEjkvKzz9PAA/Pz8/ERI5Lzz9PDEwAF0rKwFxXRMzERQWFxEzETY2EREzERAFESMRJAARf8LW38LS48P9iML+tv7TBbr+dfHBEgNP/LENzgEBAXP+Yv2zCv47AcUGATUBCwAAAQBhAAAFmwXTAB0Bd0BbnxGfGwJYAVkEWAVXDVsUVBVYF1gYehJ1GoYYC1wFUAlvBWQJdgkFJQlLEksURhhFGgULBQQJHQUUCSoFBQwVAhc7GgMWHgcDDg0AAS0bGxEtDR4PEB0cHBAIDbgCOrMQEBEBuwI6ABsAHP/2QBELCwJVHBEKCwsCVS8RTxECEbgCeEANDhMmC0oPDhAQEAJVDrj/9kALDw8CVQ4KDQ0CVQ64/+xACwsLAlUOEBAQBlUOuP/6tAwNBlUOuP/3QBMLCwZVEBMBDmpfHwEfIBxAHAIcuAJ4tR0ZJgNKHbj/4LQQEAJVHbj/6rQPDwJVHbj/7rQNDQJVHbj/9rQMDAJVHbj/4LQQEAZVHbj/7LQPDwZVHbj/8rQNDQZVHbj/+EAPDAwGVWAdAQAdIB0CHaweEPZdcSsrKysrKysr9O0Q7V0QXfZdKysrKysrKzz07RDtXSsQKzztEDwQ7QA/PBA8EDz99DwQ9DwQPD/tMTABcV1dXV0AXTchJBE0EiQzMgQSFRAFIRUhNSQRNAIjIgIVEAUVIWEBQP7QoAEkzcsBD6/+0AFA/cYBZPvJz/gBYv3Frf4BbscBPLeo/sbY/pL+raKmAbP1AT3+wen+R6qi//8ABAAAAjUG4QImACwAAAEHAI7/xwEeACi1AgEBAgILuQIhACkAKwGxBgJDVFi1AAUKAQJBKxu0CAIASCsrWTU1//8ABgAABUYG4QImADwAAAEHAI4BUAEeABtACwIBEQsASCsBAgIUugIhACkBZIUAKwErNTUA//8ASP/oBFMFwgImAS4AAAEHAI0A9AAAABtADgLgIfAhAiEVAEgrAgEhuQIiACkAKwErXTUA//8AYv/oA2MFwgImATAAAAEHAI0AkAAAABZACgEAJSccAEEBASW5AiIAKQArASs1//8Ai/5pA+oFwgImAhgAAAEHAI0A9AAAABVACQEUEABIKwEBFLkCIgApACsBKzUA//8AYwAAAdQFwgImAhoAAAEGAI2FAAA8swEBAQe5AiIAKQArAbEGAkNUWLUVBwcBAkErG7kAB//AsxcZNAe4/8BACyIlNC8HAQcBWkgrK10rK1k1//8AiP/oA9oF4wImAiMAAAEHAfAA3AAAAA20AQIDAxe5AiIAKQArAAACAIz+aQQ9BdMAFAAsAQZAWTgUSBRXD2cPahlqHWUmeQt6GXodiQuLGZcNDSgMAUgpWSWpCKwNBA0QCg40uw3LDQIAByRoDQENDRUcECzALAIsGxwHJBwTBwETCwIODRUVARgkPwpPCgIKuAJUQAknJC4UCwsCVRC4//C0Cw0GVRC4/8BAFCQlNDAQAQAQEBAgEAMQMS4fASUCuP/2QBEQEAJVAgYMDAJVAgYLCwJVArj/8kARDw8GVQIEDAwGVQIGCwsGVQK4/8BAEjM2NPACAQACIALQAuACBAJOLRD2XXErKysrKysr/TwQ9l1dKysr7fRd7RE5LzkAPz8/EO0Q7S9d7Rk5L10REjkBXSsxMAFdAHFdJREjETQ2NjMyFhUUBgcWFhUUAiMiEzI2NTQmIyIGBhURFBYWMzI2NTQmJiMjAT+zW96Iyc+nbK6939PYK7ioj2tdiR8wnmd9kWudghqH/eIFham/feeJhqQTEdieqv7zA3iAeWKEYniW/m2sooKrfmilOwAAAQAZ/mkD5wQmAAgBGrOPCgECuP/uQAsPEQJVAgoNDQJVArj/7EAPCQsCVfACAQACAQIBAgMBuP/8QEQOEQZVASUACBQAAAgCAwIBAwQPEQZVAyUEBRQEBAUCAQUHDgQDAwEBAAYFCAoDBAYBAAcE/wYA/wcFBiUIBxIREQJVB7j/8EAREBACVQcKDQ0CVQcKCQkCVQe4//60EBAGVQe4//hAJgwMBlUAB48H4AfwBwRABwGwBwEHBwoJAAowCmAKgAqQCgVACgEKuP/AshUaNCtxXRESOS9ycV0rKysrKys8/TwZEOQQ5BESORESObEGAkNUWLICBgcREjlZABg/PD88EDwQPD8REjmHBS4rKwh9EMSHBS4YKysIfRDEMTAAcnErKysBXRMzAQEzAREjERm9ASkBMLj+c7cEJvy7A0X72v5pAZcAAAEASP5RA3YFugAfAOxAIAgZGBlsBHcGhgamBKkYBxoDQwNUAwM3A3odix0DAh4RuAJqQBMQDwgcFwoeSAAAHgEQEAygAAEAuP/AtgkKNAAAGxO4AjBAEwwYEBACVQwYDQ4CVQwZEBAGVQy4//S0Dw8GVQy4/+pAEg0NBlUMCgwMBlUMDB8BbwECAbj/wEA6CQs0AQUkGxILEQJVGxIQEAZVGwIPDwZVGwwNDQZVGyAMDAZVGwwLCwZVHxs/G08bXxt/G48bBhsoIBD2XSsrKysrK+0vK10zLysrKysrK+0RMy8rXREzLxEzAD/tP+0/7REzMTABXQBxXRMhFQQAFRQWFx4CFRQGBiM3NjU0JiYnLgI1NAA3IeoCjP7z/pNseZyDYnidcTGoNk5tl5lMAVbs/mAFunqm/efkeHQKDil/WWGkQqYTeik+EgQEcbp17QH3nwABAIv+aQPqBD4AEwEpQFdyEXAViw6CEIIRmw6sDqkRoBW7DrAVwBXUEdAV4BX/FRDwFQEGBwkRFgclBDUERgTZEOAD7xEJCw8ACg8cBQcCAQYRDxMLDAoMJRVACwsCVQkYEBACVQm4/+pAEQ0NAlUJBgwMAlUJHAsLAlUJuP/0QAsLCwZVCRQQEAZVCbj/+UALDQ0GVQkKDw8GVQm4//ZAGgwMBlVwCaAJsAnACf8JBQlOFQMCmhITJQEAuP/4QBEQEAJVAAYLDAJVAAQLCwZVALj/+kARDw8GVQACDAwGVQAEDQ0GVQC4/8BAFTM2NPAAAQAAIADQAOAABABOFBEMExESORD2XXErKysrKysrPP089DwQ9l0rKysrKysrKysr7TwQPAAREjk/PD/tPz8xMABdAXFdMxEzFTYzMhYWFREjETQmIyIGFRGLonXdgrA5tGh3daMEJpevcKWc+9wEHZSIlsj9vAADAFz/6AQYBdMABwANABIBNEBhVwFXA1gFWAdnAWcDBiQQKRI6CzUNNRA6EkYBSQNJBUYHSQtGDUMQShJmBWkHdhB5EoYQiRK1ELoSFgkcfw+PDwIPDwIRHAYLDBwCAwkOJAQIDyQAFEANDQJVFEALCwJVBLj/6kARDw8CVQQYDQ0CVQQQCwsCVQS4//C0CwsGVQS4//C0DQ0GVQS4//C0Dw8GVQS4//C0DAwGVQS4/8BAFSQlNDAEAQAEEAQgBAMEMQQx3xQBFLj/wEBEHiM0MBQBFAAMDg8CVQASDQ0CVQAMDAwCVQAcCwsCVQAOCwsGVQAODQ0GVQAMEBAGVQAWDAwGVQBAJCU0HwA/AAIAMRMQ5F0rKysrKysrKysQcStd5vZdXSsrKysrKysrKysQ/TwQ/TwAP+0/7RI5L13tMTABXQBdExAhIBEQISATIQImIyABIRIhIFwB3gHe/iL+IroCSAqgfP7pAj39uAsBGQEaAt0C9v0K/QsDPgE54P1W/ecAAQCJAAABPQQmAAMATEASAgEGAAoFTgIDJQEABgsMAlUAuP/8tAwMBlUAuP/+QBMNDQZVAAwQEAZVAAAgAAIARQRHuQEKABgrEPZdKysrKzz9POYAPz88MTAzETMRibQEJvvaAAEAhgAAA/8EJgALAVq5AAX/6LQMDAJVCLj/6LQMDAJVCbj/6EA+DAwCVRcCAUQCAT8NWgNZBGkDaQSADZgFqAW3BMYEwA3lBeUI4A36A/UFEAUFGwMYCCgIOAhYA1kEB0oFAQK4//RADAkIEAIFCAkJBAgHB7j/+UBSCwsGVQclBgUUBgYFAgMDEBAQBlUDBwwNBlUDJQQJFAQECWUJAQkIBQIEAwAGBAMGCgcHBgqrBQEJCAcFBAMCBxAGUAZwBoAGnwa/BgYGAQolC7j/+LQQEAJVC7j/+kARDg4CVQsGDAwCVQsGCwsCVQu4//y0EBAGVQu4//C0Dw8GVQu4//m0DA0GVQu4/8BAEjM2NPALAQALIAvQC+ALBAtODBD2XXErKysrKysrK/08GS9dFzlxABg/PBA8Pzw/ERc5cocFLisrKwR9EMSHBS4YKysOfRDEBw4QPDwAFzgxMDgBcnFdAHJxKysrEzMRATMBASMBBxEjhrMBr+7+JQIE5v5iQrMEJv5fAaH+R/2TAfQ9/kkAAAEAGAAAA+YFugAHAO+5AAP/7EBACQkCVQAYDhECVQMAEwB5AIkABAMQFBk0NwZGBVYFaAOnBKcFBggDAAkYAzAJYAmYAKAJsAkIAAwLDwZVBQQHB7j/+kAWCw0GVQcMEBEGVQclBgUUBgYFAQIDA7j/9EA4DA0GVQMMEBEGVQMlAAEUAAMEAAEAAwEFBAAGBwcCAQoEBBQElgCWBAQDBQQBBAIHBgIYERECVQK6ARsABgEbQA0AACAAMABgAAQAAAkIGRESOS9dGO3tKxI5Ehc5XQA/PDwQPD88Ejk5hwguKysrhwV9xIcuGCsrK4d9xAArMTABXV0rAF0rKwEBIwEDMwEjAf/+174Bip6+AiS+Axr85gQSAaj6RgD//wCg/mkD+gQmAgYAlwAA//8AGgAAA+gEJgIGAFkAAAABAFz+UQNwBdMAKAEMQDEJIQkmRg9WD4MPBQUKNgvmCwOJBIcGiguLDIcjmybGC9YMCGkEZwZrC2oeeQx5HgYhuP/oswkLNAy4/9BAIR0gNCIIHKAJAQkJHSgYHBcPEBwdCgIcKAEYFxcUHwUkJbj/7bQPEAZVJbj/+LQNDQZVJbj/9EAbDAwGVW8lfyUCJSUfGxwUChAQAlUUFA0NAlUUuP/ltA8QBlUUuP/ltw0NBlUfFAEUuP/AQCEJCzQUFIAIAQgIAE4qDSQfIAwMBlUfCAsLBlUfH48fAh+5AlQAKRD2XSsr7RD2Mi9dMy8rXSsrKyvtETMvXSsrK+0REjkvMwA/7T/tP+0REjkvXf05MTAAKytdXXEBXQEVIyIGFRQhMxUiBgYVFBYXHgIVFAYHNzY2NTQnJBE0NjcmJjU0NjMDBJOkkwErk4TEnXG6eHBK2rkuY1Or/ka3jo6B5dsF05VhWqyVTsqAYJYVDj18SIS5AqcHWC5mEzABdpn0PRKzXYLBAP//AET/6AQnBD4CBgBSAAAAAgCD/mkERQQ+AA0AGQEMQGQHAgFrC8oD2QP3AvgIBWoYahlgG4AbqAa5BQZfGWIDagZsCWIPbBUGUANfBV8JUA9fFQU5EDUSNxY5GEkQRhJGFkkYVgNXBVgJWQxoDHgMigwPDAoADhQcCgsOHAQHERENFyQHuP/AQAokJTQHDg8PAlUHuP/utA8PBlUHuP/uQBgLDQZVMAdgB4AHAwAHEAcgBwMHMd8bARu4/8BACh4jNDAbARsNJQC4//xACw4QAlUABAsMAlUAuP/8QAsPEAZVAAQLCwZVALj/wEASMzY08AABAAAgANAA4AAEAE4aEPZdcSsrKysr7RBxK132XV0rKysr7REzLwA/7T/tPxE5MTAAXQFdXV1dcRMREBIzMgAVFAAjIicRASIGFRQWMzI2NTQmg+7j4gEP/v3TxXMBI4OenIaHqrb+aQOFAS4BIv7M9vf+y33+BAVAydvFxMvD3sEAAAEAVv5RA8YEPgAiAO5ASycIKR82CDkgRghKIAaGIJgfqAWoH7cgxyDYBNkfCCYgNyBHIHYghgQFCRwbFRwQDwMcIQcTEhINHgEAABgkDQgQEAJVDQQQEAZVDbj//LQPDwZVDbj/+LQNDQZVDbj/8LQMDAZVDbj/wEATJCU0MA0BAA0QDSANAw0x3yQBJLj/wEA6HiM0MCQBJAYkHggODgJVHgwNDQJVHgwMDAJVHhALCwJVHgQPEAZVHhMLDQZVHkAkJTQfHj8eAh4xIxD2XSsrKysrKyvtEHErXfZdXSsrKysrK+0zLzMREjkvMwA/7T/tL+0xMABdXQFdAQcmIyIGFRQWFx4CFRQGIyInNxYzMjY1NCYnJiY1NAAhMgPGKnBwye6Dwot8Rt6mQ1UsOitgbk9+3tkBWQEkewQcliP5qHSzMyVBc0uJsA6lDFM7NjkbL/yu8QFkAAABAIj/6APaBCYAEwDyQDlEA0QHVANTB5oRlhIGHxVQBFsHYwRqB3MEewfAFdAV4BX/FQtwFbAVAvAVAQUcDwsKAAYJCgwKJQu4//RAERAQAlULCg8PAlULGg4OAlULuP/0QBcNDQJVCwwMDAJVCxgQEAZVCwgPDwZVC7j/+EAXDA0GVR8LcAuwC8AL/wsFC04VAQIlABO4//i0EBACVRO4//hACw4OAlUTBAwMAlUTuP/4QAsPDwZVEwQLCwZVE7j/wEASMzY08BMBABMgE9AT4BMEE04UEPZdcSsrKysrKzz9PBD0XSsrKysrKysr7TwQPAA/PD/tMTABcV1dAHETMxEUFjMyNjY1ETMRFAYjIiYmNYi0kmJReC6z7MGVw00EJv2Lo5JceG8CZ/2S7eOFrpYAAAEAEf5pBCAEJgALASFAdTUCAaECzQjwAv8IBDACPwgCBQUKCxUFGgs4C3cIBqgDpgi2BbkLyQLHBccIyAvXCPgD9wkLBwsPDRcLIA05BTcLBgUBBgQJCAkEAAcLAAcKAwIBBgoDAggACQEABwcICRECVQcLDREGVQclBgEUBgYBAwQJCbj/+LQJEQJVCbj/9UAoDREGVQklCgMUCgoDBAMDAQEABgkHBwYGCg4HCQYKAwEABJoGAI8KBrj/9bQQEAJVBrj/9UAeCgoCVQ8GHwYgBgMGmg0KCxERAlUAChAKIAoDCkkMGRDmXSsQ5l0rKxgQ5BDkETk5ERI5OQA/PBA8EDw/PBA8EDyHBS4rKyuHfcSHLhgrKyuHfcQAERI5OQ8PDw8xMAFdcXIAXXFyEzMBATMBASMBASMBMMQBJAEuxv56AZrN/sX+wskBmQQm/bQCTP0s/RcCZf2bAuMAAQB6/mkFOQQmABwBEre0E+Ae/x4DC7j/4LMLDjQEuP/gQCMLDjQSICQmNLwayhoCeRJ5GQIJBhQGkhcLFg4OBgcGAAYIFbsCMAAHABb//rcNDQJVFhYcDrgCMLYPKA8PAlUPuP/qQAsNDQJVDwwMDAJVD7j/9kAhDA0GVQ8UDw8GVQ8fEBAGVQ9AMjY0/w8B3w//DwIPTh4CugIwABz/+kALEBACVRwECwwCVRy4//20CwsGVRy4//O0Dw8GVRy4/8BAKDM2NPAcAQAcIBzQHOAcBBxOHSAebx6AHrAe4B4FUB6AHpAewB7vHgVdcRD0XXErKysrK+0Q9l1xKysrKysrK+0SOS8rPP08AD8/Pz8/7TwQPDEwAF1xKysrAV0TMxEUFhYXETMRPgI1ETMRFAYGBxEjES4DNXqzMJuItIOaNbNN6s60hciLLgQm/fSTmmcHA6f8WQdimZkCDP360MqXB/6BAX8ERJWktwAAAQBX/+gF6AQmACQBVUBJACYoHiAmOR5IHkAmUwVcEl0dUx9kBWsSbh1hH3YYeh11H3okhRiJJK8m8CYWACYBHgsGEUgcBkggAAsBCwsgABYGAAYcCyALFrsCMAAXAAECMEATABcXGRQAAAMjHgANEA0CUA0BDbgCMEASCggPDwZVCgojFEAZChAQAlUZuP/2QAsMDAJVGQoLCwJVGbj/87QPDwZVGbj/6bQMDQZVGbj/wEApJCU0IBkwGQIAGQEAGRAZIBkwGa8Z8BkGABkQGSAZQBlgGQUZMd8mASa4/8BACh4jNDAmASYDQCO4//ZACwsLAlUjBRAQBlUjuP/7QB0PDwZVIxgNDQZVIxsMDAZVI0AkJTQfIz8jAiMxJRD2XSsrKysrK+0QcStd9l1dcnErKysrKyvtEjkvK+1xcjkREjkvERI5LxDtEO0APz8/PxESOS9dEO0Q7RESOTEwAXJdEzMCFRQWMzI2NjURMxEUFhYzMjY1NAMzEhEQAiMiJwYjIgI1EPWulYBjQHAlsyVxQGKAlK2e26riYWLis9IEJv6346/WZIx+ATf+yXuQY9Ww4wFJ/uf++P73/uzv7wEi+wEI////0QAAAgIFwwImAhoAAAEGAI6UAAAotQIBAQICC7kCIgApACsBsQYCQ1RYtQAFCgECQSsbtAgCAEgrK1k1Nf//AIj/6APaBcMCJgIjAAABBwCOAPAAAAAdQA8CAXAUAQAUGwALQQECAhS5AiIAKQArAStdNTQA//8ARP/oBCcFwgImAFIAAAEHAI0A9AAAABtADgLgHfAdAh0EAEgrAgEduQIiACkAKwErXTUA//8AiP/oA9oFwgImAiMAAAEHAI0A3AAAAAuyAQEUuQIiACkAKwD//wBX/+gF6AXCAiYCJgAAAQcAjQHgAAAAFkAKAQAlJwsMQQEBJbkCIgApACsBKzX//wCiAAAE6AbhAiYAKAAAAQcAjgFeAR4ADLMBAgIMuQIhACkAKwABADL/5waZBboAHQEYQCpmBHYEhwQDIggZDAQGFw9dDkoMBh4XFxsCHR4AAhsIER4MCQ9KDg4UAwK4AoizGxQmCbj/0LQNDQJVCbj/8rQLCwJVCbj/9rQLCwZVCbj/4rQMDAZVCbj/7EAMDQ0GVQk3HxsgGhoDugKIAAD/4LQQEAJVALj/9LQPDwJVALj/1rQNDQJVALj/6rQMDAJVALj/+rQLCwJVALj/6rQLCwZVALj/9rQMDAZVALj/1rQNDQZVALj/8bYPEAZVAFQeEPYrKysrKysrKyv9PBDtEPYrKysrK+0Q7RESOS/kAD/tPz/9PBI5L+0Q/e0REjkSOTEwQ3lAGBIWBwsSCxQ2ARYHFDYBEwoRNgAVCBc2ASsrASsrgYEAXRMhFSERNjMyABUUAiMiJzcWMzI2NTQmIyIHESMRITIEkv4Y/bvpARzp4WiDH0xSl5uzvKLmwv4YBbqt/jhj/ubLsv7WIaQlsIaOu179WAUN//8AoQAABFUHLAImAj0AAAEHAI0A+wFqABVACQEGA6dIKwEBBrkCIQApACsBKzUAAAEAZP/nBXYF0wAaAM9AhakWtAa5FgMbBisGOwZdGW8ZfxmxCQcpAykJKQs1AzsGNQk7FkcDSwZFCUsWVgNUCVYLVBNqC3cDeQZ4C4cDiQyoFrUGyAgYB+MgCGAIcAiACAQICAoRFVQUFAoRGh4CAgoXHhEDBR4KCQEBCAIVJhQHJhRiLwgBnwgBCBogHAEcGi0CJg24//lAExAQBlUNCgsLBlUgDQENGRtjXBgrEPZdKyv95BBd9F1x5O0Q7RESOS8AP+0/7RI5L+0REjkv5BESOS9d5DEwAV1xAF0BFSEWEjMgExcCISAAEzQSJDMyBBcHAiEiAgcDWf3fC/zFAV5Zu3/+G/6l/q0LlwE42OQBMza+U/7D1vMMA0ut9/7jAXQx/hoBvwFHyAFK1OLJMgEz/v7cAP//AFz/5wTrBdMCBgA2AAD//wC/AAABgQW6AgYALAAA//8ABAAAAjUG4QImACwAAAEHAI7/xwEeACi1AgEBAgILuQIhACkAKwGxBgJDVFi1AAUKAQJBKxu0CAIASCsrWTU1//8AN//nA2EFugIGAC0AAAACAA3/5wgpBboAGwAmARiyPQgVuAEOQBEUYhIBHiYmCw0eGwIcHgsIF7gCSEAeEgkLIAAcChAQAlUcJA8PAlUcHg0NAlUcCgsLBlUcuP/2QAsMDAZVHCANDQZVHLj/6EATDg8GVRwZEBAGVYAcARwcGiEmBrj/9bQMDQZVBrj/wEATJCU0MAYBAAYQBiAGAwYxKA4gGrj/8EALEBACVRoKDQ0CVRq4AjpAERVKFAwLDAZVFAIQEAZVFC0nEPYrK+T0KyvtEPZdXSsr7RI5L10rKysrKysrKzztAD/tP+0/7RI5L+0Q/e0xMEN5QCwYJAMRECYIJh8lBCUjJhgRGiwBHgkhNgEkAyE2ARkPFywAIAcdNgAiBSU2ASsrKwErKysrKysrK4GBAREhMhYWFRQGBiMhESERFAYGIyInNxYzMjY1EQEhMjY2NTQmJiMhBJoBXvPcYo3Jvv3D/e4rimpAWiEwIkJCA5YBhGp6V12dwf78Bbr9jm/GaInVTQUN/Q3m1ncYrBRjuAQI+uspd2BbeyYAAAIApAAAB8kFugAUAB8BREAvKwgMHxMBHh8fCxQRAhUeDgsIFAsgABUgDxACVRUGDQ0CVRUgDAwCVRUMCwsGVRW4//RACwwMBlUVGA0NBlUVuP/iQCIPDwZVFRAQEAZVFRUPGiYGHg0NAlUGFgwMAlUGDAsLAlUGuP/1tAsLBlUGuP/ytAwMBlUGuP/0tA0NBlUGuP/AQBokJTQwBgEABhAGIAYDBjEhEQ4gDyAQEAJVD7j/9rQPDwJVD7j/9rQNDQJVD7j/+rQMDAJVD7j/+rQMDAZVD7j/9LQNDQZVD7j/+LQPDwZVD7j//LYQEAZVD10gEPYrKysrKysrK/08EPRdXSsrKysrKyvtEjkvKysrKysrKys8/TwAPzztPzwSOS/9PBA8MTBDeUAeAx0IJhglBCUcJhcJGjYBHQMaNgEZBxY2ABsFHjYBKysBKysrKysrgQERITIWFhUUBgYjIREhESMRMxEhERMhMjY2NTQmJiMjBDoBRtHpj5fJwP3P/e7CwgISwgFrfHtdUqfa7AW6/Y5GzomP2EQCof1fBbr9jgJy+uskeWNVei0AAQAxAAAGeAW6ABcBOUANZgR3BIcEAxkIEwwEBrgCSEAMEREMAhceAAIUDAgCuAKIsxUMIAq4/9RAERAQAlUKCg8PAlUKFA0NAlUKuP/SQAsMDQJVChMQEAZVCrj/67QNDQZVCrj/4LQMDAZVCrj/1kASCwsGVQpAMzY0/woBwAoBCk4ZuP/AQBk0NjSwGfAZAhAZcBmgGbAZ/xkFGRUgFBQDugKIAAD/4LQQEAJVALj/2rQNDQJVALj/7rQMDAJVALj//kALCwsCVQAJEBAGVQC4//e0Dw8GVQC4/9m0DQ0GVQC4//RAEAwMBlUABAsLBlUAAAEA4xgQ9nErKysrKysrKyv9PBDtEF1xK/ZdcSsrKysrKysrK+0Q7QA/PD/9PBI5L+05EjkxMEN5QBAHEAglDyYQBw02AQ4JETYBKwErKyuBAF0TIRUhESQzMhYWFREjETQmJiMiBREjESExBJX+FwERpJ/sW8I2j2qh/vfC/hYFuq3+PV6B4MX+fgF7kJ9aXP1YBQ0A//8AoQAABKIHLAImAkQAAAEHAI0BLwFqAA6yAQEiugIhACkBZIUAK///AAr/7AUPBxcCJgJNAAABBwDZAWQBXwAWQAoBABgSAARBAQEVuQIhACkAKwErNQABAKD+aQUhBboACwEtQBkQDQEPDSANgA3gDQQJBgICBx4EBAsICCALuP/kQAsPDwJVCxAMDAJVC7j/7UAyCwsGVQsCDAwGVQsKDQ0GVQsZDw8GVUALYAsCIAtPC2ALkAugC8ALBiALYAvAC/ALBAu4AhRACgIHIAQkEBACVQS4/+e0Dw8CVQS4//60DQ0CVQS4//xAGQwMAlUEEAsLAlUEDgsLBlVABI8EAl8EAQS4AhRADwEGDQ0CVQEeAgwPDwJVArj/8rQNDQJVArj/8LQLCwJVArj/9rQLCwZVArj/+rQMDAZVArj/+LQNDQZVArj/9kAWDw8GVQACUAKgArAC8AIFUAIBkAIBAi9dcXIrKysrKysr/Sv9XXErKysrKyvtEP1dcXIrKysrKyvtAD88EO0vPzwxMAFdcSERIxEhETMRIREzEQM3rf4WwgL8w/5pAZcFuvrzBQ36Rv////0AAAVZBboCBgAkAAAAAgCnAAAE+AW6AA4AGADkQBUoCAQeGBgOAx4AAg8eDggCAgATJgm4//G0CwwGVQm4//hACw0NBlUJBBAQBlUJuP/AQBMkJTQwCQEACRAJIAkDCTHfGgEauP/AQBEeIzQwGgEaAw8gACAQEAJVALj/9rQPDwJVALj/9rQNDQJVALj/+rQMDAJVALj/9rQMDAZVALj/7rQNDQZVALj/9rYPEAZVAF0ZEPYrKysrKysr/TwQcStd9l1dKysrK+0SOS8AP+0/7RI5L/0xMEN5QBwGFgsmByUVJhEMEzYBFgYTNgESChA2ABQIFzYBKysBKysrKyuBEyEVIREhMhYWFRQGBiMhNyEyNjU0JiYjIacDt/0LAV7C5YpjxOz9wsIBhJ2dWqDB/v0Fuq3+PErNiG/BeqWAgFt6KAD//wCWAAAE6QW6AgYAJQAAAAEAoQAABFUFugAFAHtAFwIDHgEAAgUIARoHAwQgBQUAJBAQAlUAuP/ytA8PAlUAuP/qtA0NAlUAuP/+tAwMAlUAuP/2tBAQBlUAuP/0tA8PBlUAuP/ptA0NBlUAuP/2QAoMDAZVABkGO44YK04Q9CsrKysrKysrPE0Q/TxOEOYAPz88Tf08MTATIRUhESOhA7T9DsIFuq368wACAAD+qgUjBboADQAUARJAFQ8WLxYCDx4AAgUJAhMDCh4HCA0eELj/4LQQEAJVELj/8rQNDQJVELj/6EALCwsCVRAKDQ0GVRC4//i0Dw8GVRC4//JACxAQBlUQEAMJFCACuP/+tAwMAlUCuP/otAsLAlUCuP/2tAsMBlUCuAJdsgUeA7j/4EARDw8CVQMiDQ0CVQMKCwwGVQO4/9i0DQ0GVQO4//BALg8PBlUDChAQBlUJDwMBOh8D3wMCDwOPAwIPA58DrwO/A/8DBQNLFhNlCwsIHgm4//ZAEAsNBlUJChAQBlUJHwkBCRUQPHIQKyvtOS/tEPZdcXJeXV4rKysrKyvt9CsrK+0REjkvKysrKysr7QA//Tw8PC88P+0xMAFdASERMxEjESERIxEzEhElIRUUAgchASMDfISt/DetcrECuv4BQ2ICpAW6+vP9/QFW/qoCAwELAywpS7v9d9H//wCiAAAE6AW6AgYAKAAAAAEABwAAB1sFuwA9AaZApY0YhBqLJoIoBC8/AQ8/Lz9AP3cUcD+HFIA/lhSWF5kpmSzgPwwoHCgjORI4HDgjOC5JLmgbaCSILApJEkkcSSN2F3YpeCwGJxk4OjogLC4ULCwuJSYmICcoFCcnKAUDAyAUEhQUFBIbGhogGRgUGRkYOjgDBQQIPCwuFBIEMSoWKjwlKBsYBCElKCAnGxoYAxkDBRIUFgMfCy4sKgM6OCAyATwePLgCXbchIT0mGiAIMbsCSAA1AAsBDkAWNQh7PQKfMgEyLScaCwsGVU8njycCJ7gBcrYfkAsBCy0ZuP/wQAoLCwZVQBmAGQIZuAFyQAwgAB9lPSAMEBACVSC4//i0Dw8CVSC4//60DAwCVSC4//q0CwsGVSC4//5ADQ8PBlXwIAFwIOAgAiAvXXErKysrKzz9PBD9XSvkcRD9XSvkcQA/9DztEO0/PDwSOS/tPBA8ARESOTkXORESFzk5OREXORESOTkAERc5Ejk5ERIXORESFzmHBS4rDn0QxIcOLhgrDn0QxIcFLhgrDn0QxIcOLhgrDn0QxAAuLjEwAF1dAV1dcQERMjY3PgIzMhcVIicmIyIHBgcGBgcWFwEjAyYmIxEjESIGBwcDIwE2NyYmJyYnJiMHNTYzMhYWFxYWFxEEFY9rUz1PkldfFwkdIAddLS47QF5ZkIcBLvD1YoZ5x2CTYgz18QEuio5PZEU/LS1ZTgtlYI1QP1RpkAW6/X5pwpB3UQKoAQEtLZOfcyYo3v4YAY6egv1SAq5lpxT+cgHo3ycga62dKCgCqAJPd5LFZAICggAAAQBO/+cEggXTACYBFkBTThnEAwIGHzkORh5lIXUepR8GBxlLHloedAMEwAHBFssXyBgEKAgfC0AfUB9gH3AfgB8FHx0MF+M/GE8YXxh/GAQYGCUaAeMwAEAAUAADAAAaJQy4AkizCgolE7gCSLIaAwS4AkhAFCUJCwsXECYdEAsLBlUdEA0NBlUduP/nQA4PEAZVnx2vHQIdSwcmIrj/7rQMDAJVIrj/7UARCwwGVSAiASJcKBcmGGIBJgC5ATEAJxD07fTtEPZdKyvt9F0rKyvtETkvAD/tP+0SOS/tERI5L13kERI5L13kARESOV0AEjkxMEN5QBwjJBscERIFBhIbEDYBBSQHNgERHBM2AQYjBDYAKysBKyuBgYGBAHFdAV1xEzcWFjMyNjU0JiMjNTI2NjU0JiMiBgYVJxIhMhYVFAcWFhUUBCMgTrkVt5easryiXYaObZV/b508ukUBv9f8wnCX/tvy/mABnjBr1p5weY+pH39RYI5vty0qAdPvoM1xH7+Fvf8AAAEAoQAABSAFugAJATpACi8LAQcYDBwCVQK4/+hAFAwcAlU3AjgHVgJZB2kHdgJ5BwcCuP/0QCIQEAZVB0wPEAZVBzwMDAZVB04LCwZVAwcICCACAxQCAgMCuP/gtAsLBlUHuP/MQBQLCwZVAgcIAwECCAYIAwgGAgcgBLj/7LQPDwJVBLj/7kALDQ0CVQQSDAwCVQS4//y0CwsGVQS4//5AGQwNBlUECA8PBlUEOQ8LAQsCIAAkEBACVQC4//a0Dw8CVQC4//q0DQ0CVQC4//y0DAwCVQC4//a0CwsGVQC4//q0DA0GVQC4//e2Dw8GVQA5ChD2KysrKysrK+0QXfYrKysrKyvtERI5OQA/PD88Ejk5KyuHBS4rh33EsQYCQ1RYQAwGAg8HFQJbB4oHBQK4/+CyDBE0ACtdWSsrKysxMABdKysBXRMzEQEzESMRASOhsAMMw7D888IFuvt3BIn6RgSG+3oA//8AoQAABSAHFwImAkIAAAEHANkBeAFfABZACgEAEQsABEEBAQ65AiEAKQArASs1AAEAoQAABKIFuwAhAQlAQ4sZhBsCCgcdBywHLyN2GIkHjR4HOhM6FTgdAwYEBCUVExQVFRMcGxsICxAGVRsgGhkUGhoZGRwfGwYECQITFRAXFwK4Al2zHx8hELgCSEAhCXsAAhobGyEIGxwZAxoGBBcVEwMgkAsBCy0aLSMBICAhuP/qtBAQAlUhuP/2tA8PAlUhuP/6tA0NAlUhuP/+tAwMAlUhuP/4tAsLBlUhuP/8tAwMBlUhuP/0tA0NBlUhuP/0tg8PBlUhOSIQ9isrKysrKysr/TwQ9uRxERc5OTkSFzkAPzwQPD/07RI5L+0ZOS8SOTkREjk5ERI5OYcFLhgrKw59EMSHDi4YKw59EMQxMABdAV1xEzMRMjY3PgIzMhcVIicmIyIHBgcGBgcWFwEjAyYmIxEjocKFbFQ9T5JYcAYKHSAHXS0uO0pmR46KAS7x9WWIbMIFuv1+Z8SQd1ECqAEBLS2TumEdJ9/+GAGOpXv9UgAAAQAS/+cEnwW6ABIA77IZCA24AQ63DGIKBR4AAg+4AkhADQoJAwgDIAIGEBACVQK4/+xAEQ8PAlUCJg0NAlUCBgwMAlUCuP/otAsLAlUCuP/qQBkLCwZVAggNDQZVAggPDwZVAl2AFAEUBiASuP/ktBAQAlUSuP/4QBEPDwJVEgINDQJVEggMDAJVErj/5EALCwsCVRIaCwsGVRK4AjpACQ1KDAYMDAZVDLj/+LQNDQZVDLj/+LYPDwZVDGITEPYrKyvk9CsrKysrK+0QXfYrKysrKysrK/0APz/tP+0Q/e0xMEN5QBAQEQcJCCYQCRIsAREHDywAKwErK4GBASERIxEhERQGBiMiJzcWMzI2NQEJA5bC/e4rimpAWiEwIkJCBbr6RgUN/Q3m1ncYrBRjuAD//wCYAAAGDwW6AgYAMAAA//8ApAAABSIFugIGACsAAP//AGP/5wXdBdQCBgAyAAAAAQCgAAAFIQW6AAcAtLkACf/AQA0TFTQDBwgFHgACAyACuP/utA8PAlUCuP/uQAsNDQJVAhAMDAJVArj/4LQLCwZVArj//kAVDA0GVQI5DwmACQIJBiAHIBAQAlUHuP/2tA8PAlUHuP/2tA0NAlUHuP/6QAsMDAJVBwoLCwZVB7j/9rcMDQZVIAcBB7j/wEASExU0B10IIAkBIAlQCWAJcAkEXXEQ9itdKysrKysr7RBd9isrKysr7QA/7T88MTABKxMhESMRIREjoASBw/0EwgW6+kYFDfrzAP//AJ4AAAT9BboCBgAzAAD//wBm/+cFdgXTAgYAJgAA//8AMAAABLoFugIGADcAAAABAAr/7AUPBboAEAC3QBdmAgGbAgFoAgGcAZMDAgIQAgEQAwECArj/9EARDQ0GVQIeEAAUEAIDEAADAgK4//RAIA0NBlUCHgUEFAUCAQUEAhAFAwgAC10KSggEAwMBAAINuAJIQBAICRABAAUDBAIgCgEKkwAEugFcAAABXLMCAhIRGRESOS8Y7e0ZEORdERI5ORI5OQAYP+0/PDwQPBD07RESFzmHCC4rKwV9EMSHCC4YKysFfRDEhwgQxDEwAXJdAHJdEzMBATMBBgYjIic1FjMyNjcKxAHeAaLB/dpnhHtLbU5XR2c+Bbr8fgOC+4zWhCOmLVuiAAMAUgAABcIFxgARABgAHwEHQEkgIQEQIU8hcCHQIeAhBSUVKxcrGyUdBBJ7GQkME3sfHjAMAW8MfwwCDJMLGR4APwMBcAMBA5MBAgsIHCYPEg8PBlUPFA0NBlUPuP/2QBULDAZVDw8/DwIfD28Pfw+PD+8PBQ+4AcOzChYmBrj/9LQPDwZVBrj/9kAbDQ0GVQYKCwwGVQAGMAYCEAZgBnAGgAbgBgUGuAHDQA0LEwoZCwJACgEKHgELuP/8QAsPDwJVCwoPDwZVC7j/+kATDQ0GVQALkAvACwMgC08LsAsDCy9dcisrKzz9cTwQPBA8EP1dcSsrK+0Q/V1xKysr7QA/P/RdcTztEPRdcf3kEDwQ5DEwAF0BXXEBNTMVBAAVFAAFFSM1JAA1NAAFETY2NTQmJQYGFRQWFwKwtgEYAUT+xv7etv78/qYBWQG7vNjU/oq14N24BQq8vA/+zeTf/sgQvb0KASn09QEmm/0ACcivrMkKCMaxr8gI//8ACQAABUkFugIGADsAAAABAJ/+aQWmBboACwD5QBcgDeANAgQBAgkHAh4LCAMgBgAPDwJVBrj/8rQNDQJVBrj/9rQMDAJVBrj/1LQQEAZVBrj/9kAOCwsGVWAGgAYCBgYJHge4/+pACw8PAlUHGAwMAlUHuP/dtA8PBlUHuP/dQB8NDQZVBwYMDAZVIAefB68HvwcEB0sNAiALJBAQAlULuP/2tA8PAlULuP/6tA0NAlULuP/+tAwMAlULuP/+tBAQBlULuP/0tA8PBlULuP/0tA0NBlULuP/6QBAMDAZVCwYLCwZVIAsBCzkMEPZdKysrKysrKysr7RD2XSsrKysr/TkvXSsrKysr7QA//TwvPzwxMAFdEzMRIREzETMRIxEhn8IC/MOGrPulBbr68wUN+vP9vAGXAAEAVwAABLQFugASAPRAC2kCeQKJAgMWCAIEuAJIQAsODhEKAgEIEQEgALj/+LQQEAJVALj/5EALDw8CVQAeDQ0CVQC4//60DAwCVQC4/+hACwsLAlUABg0NBlUAuP/8QCsMDAZVAF2AFAEUCyAIChAQAlUIFA8PAlUIFg0NAlUIGgwMAlUIEgsLAlUIuP/yQBoQEAZVCA4PDwZVCAwNDQZVCBgMDAZVIAgBCLj/wEASExU0CF0TIBQBIBRQFGAUcBQEXXEQ9itdKysrKysrKysr7RBd9isrKysrKyv9PAA/Pzw5L+05MTBDeUAOBQ0GJQ0FCzYADAcONgArASsrgQBdISMRBCMiJiY1ETMRFBYzMjcRMwS0wv77xJnqT8Kve83iwgJPYY/csgGv/mPwl1sCyQAAAQChAAAGtQW6AAsBIkBPDw1ADXANgA2/DcAN7w0HBwIeCwgEBAEQAiALKhAQAlULDg8PAlULBg0NAlULEAwMAlULCgsLAlULGg8PBlULDwwNBlUPCwFPC38LjwsDC7gBbbMGByAKuP/YtBAQAlUKuP/utA8PAlUKuP/+tA0NAlUKuP/wtAwMAlUKuP/gtAsLAlUKuP/mtA8PBlUKuP/uQBIMDQZVUAoBAAoBQApwCoAKAwq4AW1ACQYgAxAQEAJVA7j/9rQPDwJVA7j//kALDAwCVQMHEBAGVQO4//y0Dw8GVQO4//5AGAsNBlVAA5ADAiADcAOgA8AD7wMFA3ANAV0vXXIrKysrKyvt/V1xcisrKysrKyvtEP1dcSsrKysrKyvtAD88EDwv/TwxMAFdEzMRIREzESERMxEhocIB58IB58L57AW6+vMFDfrzBQ36RgABAKH+aQc6BboADwFZQCVAEW8RcBGAEaARBQgEBAECDQYLAh4PCAwekA6gDrAOAw4OByAKuP/YtBAQAlUKuP/utA8PAlUKuP/+tA0NAlUKuP/wtAwMAlUKuP/gtAsLAlUKuP/utBAQBlUKuP/TtA8PBlUKuP/2QBwMDQZVCgoLCwZVAApQCgIAChAKAkAKcAqACgMKuAFtQDQDAiAPKhAQAlUPDg8PAlUPBg0NAlUPEAwMAlUPCgsLAlUPDhAQBlUPKA8PBlUPCgwMBlUPuP/2QA8LCwZVDw8BTw9/D48PAw+4AW1ACQYgAxAQEAJVA7j/9rQPDwJVA7j//rQMDAJVA7j/8rQQEAZVA7j/6EAeDw8GVQMGCw0GVUADAe8DAQADIANvA3ADoAPvAwYDL11xcisrKysrK/39XXErKysrKysrKyvtEP1dcXIrKysrKysrKyv9OS9d7QA//Tw8Lz88EDwxMAFdEzMRIREzESERMxEzESMRIaHCAefCAefCha36FAW6+vMFDfrzBQ368/28AZcAAAIAAAAABg8FugAMABYAy0AeIggCHhYWCgweAAINHgoIESYGFBAQAlUGDA0NAlUGuP/2tAsNBlUGuP/AQB0kJTQwBgEABhAGIAYDBjEgGAEYAQ0gChgQEAJVCrj/9kAXDw8CVQoGDQ0CVQoUDAwCVQoaCwsCVQq4/+5ACwsLBlUKCgwNBlUKuP/uQAkPEAZVCu0AABcQPBD0KysrKysrKyv9PBBd9l1dKysrK+0AP+0/7RI5L/0xMEN5QBgEFBMmDwgRNgEUBBE2ARAHDjYAEgUVNgErKwErKyuBESERISASFRQGISERIQEhMjY1NCYmIyECgAFfAVnX+f7V/dP+QgKAAWO3pGGguv79Bbr9jv8AoLjwBQ37mHuGW30jAAADAKgAAAZrBboACgAUABgBNEASIggCHhQUChUBAgseGAoIDyYGuP/qtA8PAlUGuP/ctA0NAlUGuP/OtAwMAlUGuP/iQCcNDQZVBgMPDwZVUAYBEAYgBsAG0AbgBgVABmAGgAavBgQGBgoYIBa4/9y0EBACVRa4/8xAEQ8PAlUWLg0NAlUWFgwMAlUWuP/ptAsLBlUWuP/4QBEMDAZVFggNDQZVFgoPDwZVFrgBDkAWIBowGkAaUBqAGgUaAQsgCiAQEAJVCrj/9rQPDwJVCrj/9rQNDQJVCrj/+rQMDAJVCrj/+LQNDQZVCrj/+LYPEAZVCl0ZEPYrKysrKyv9PBBd9isrKysrKysr/RE5L11xcisrKysr7QA/PO0/PBI5L+0xMEN5QBgEEhEmDQgPNgESBA82AQ4HDDYAEAUTNgErKwErKyuBEzMRISAWFRQGISE3ITI2NTQmJiMhATMRI6jCAV4BWNno/sX90sIBY7elZJ65/vwEP8LCBbr9jv6hqv+le4dcfCIDGfpGAAACAKUAAAT2BboACwAVAMVAFiUIAh4VFQsAAgweCwgQJgcWEBACVQe4//C0DAwCVQe4//O0Cw0GVQe4/8BAIyQlNDAHAQAHEAcgBwMHMUAXgBeQF68XBBcBDCALIBAQAlULuP/2tA8PAlULuP/2tA0NAlULuP/6tAwMAlULuP/2tAwNBlULuP/ytg8QBlULXRYQ9isrKysrK/08EF32XV0rKysr7QA/7T8SOS/9MTBDeUAaBBMFJRImDgkQNgETBBA2AQ8IDTYAEQYUNgErKwErKysrgRMzESEyFhYVFAIhITchMjY1NCYmIyGlwgFe9dxg6P7E/dPCAWPYg1+evf78Bbr9jnLEaKr/AKWZbFh7JAD//wBK/+cFXAXTAVMCLwXAAADAAEAAAB1ACQANDScQEAJVDbj/3bYNDQJVDVwcThD2KysRNQAAAgCk/+cHrQXTABIAHgG8QDYGFQkXCRsGHRUVGxcbGxUdJQcmCysNJhUqFyobJR1GFEgYSRpHHlAVWxdcG1Mdew6LDpwEGg64/+i0EBECVQ64/+i0DQ4CVQ64/+i0CwsCVQS4/+i0EBECVQS4/+i0DQ4CVQS4/+hAMQsLAlUCHhBAEBECVRBADQ4CVRBACwsCVRBACwsGVRAQEgAcHgYDAAISCBYeDAkZJgm4//a0EBACVQm4//K0Dw8CVQm4/+60DQ0CVQm4//C0DAwCVQm4/+60CwsCVQm4//60CwsGVQm4//a0DQ0GVQm4//hADw8PBlUJXIAgASATJg97A7j/1kALEBACVQMUDw8CVQO4//xACw0NAlUDBAwMAlUDuP/oQBELCwJVAxoLCwZVAwoMDAZVA7j/+EAdDQ0GVQMaDw8GVSADfwOPAwMD2gERIBIgEBACVRK4//a0Dw8CVRK4//a0DQ0CVRK4//q0DAwCVRK4//i0DxAGVRK4//a0DQ0GVRK4//q2DAwGVRJdHxD2KysrKysrK/089l0rKysrKysrKyv07RBd9CsrKysrKysr7QA/7T8/P+0REjkvKysrK+0xMCsrKysrKwFdEzMRIRIAISAAERAAISAAAyERIwEQADMyEhEQAiMiAqTCARoVAXABEAEfAXn+iP7b/vb+nR/+4sICnwEA0NX++tXZ+wW6/W4BOAFz/mz+pv6Y/moBXwE2/YQC1v7q/s0BNAEhARIBO/7BAP//ABoAAAUmBboBUwA1BccAAMAAQAAAiLkAD//0tAsQBlUQuP/0QA4LEAZVAQAAACIQEAJVALj/7rQPDwJVALj/8kALDQ0CVQAQDAwCVQC4//a0CwsCVQC4//y0EBAGVQC4//BACw8PBlUAAg0NBlUAuP/8tAwMBlUAuP/yQA0LCwZVIAABIAABAF0kARD2XV0rKysrKysrKysrETU1Kyv//wBK/+gEHAQ+AgYARAAAAAIAW//oBEQF3QAcACgBE0BFOQo1JTknSQpGJUgnWQ5ZEVUVWx9RJVwnDD0YAQkgJgkjFwAzAY8FHBoAIBwMByYcEwsAkgGaHSQqQA0NAlUqQAsLAlUPuP/wQBEQEAJVDwoPDwJVDwoNDQJVD7j/9kALDAwCVQ8ECwsCVQ+4//C0Cw0GVQ+4//i0Dw8GVQ+4/8BAECQlNDAPAQAPEA8gDwMPMSq4/8BAQx4jNDAqASqAKgEjJBcMDg8CVRcSDQ0CVRcMDAwCVRccCwsCVRcSCwsGVRcWDA0GVRcOEBAGVRdAJCU0Hxc/FwIXMSkQ9l0rKysrKysrK+1dEHEr9l1dKysrKysrKysrK+307QA/7T/tP+305AEREjkAERI5MTAAcQFdARcOAiMiBgYHNjYzMgAVFAYGIyImAhEQACEyNgM0JiMiBhUUFjMyNgORnwtJc6jfokcERLZy0QESir2jvdJwAR0BKLgyAp2PlaKzg4anBd0Ca1QYVr2VZWX+4fW67oKtAQ4BTwGlASQM/FCm1OC7ucTjAAADAIgAAAPwBCYADwAZACMBMkA2DyUvJQJGCAgQIwgFHhArIyMPGSsABhorDwoVJAUMDA0GVQUIDw8GVQUWEBAGVdAFAQWqHiQLuP/8tA0NAlULuP/utAwMBlULuP/4tA0NBlULuP/0QAsPDwZVCwYQEAZVC7j/wEATJCU0MAsBAAsQCyALAwsx3yUBJbj/wEAdHiM0MCUBJRkaJQ8EDAwCVQ8KCwsCVQ8ECQkCVQ+4//ZACwsLBlUPCgwMBlUPuP/ytg8QBlUPRSQQ9isrKysrK/08EHErXfZdXSsrKysrK+30XSsrK+0AP+0/7RI5L/0BERI5ABESOTEwQ3lAMwIhEyUDJSAmEgcVGwEXAhUbARwNHhsBIQkeGwEUBhEbAAcWBBgbAR0MGxsAHwoiGwEJCBA8KysrPCsBKysrKysrK4EBXRMhMhYWFRQGBxYWFQYGIyETMzI2NjU0JiMjETMyNjc0JiYjI4gBn5mVaz8/S2MKxLv+IbTAc1ZEd5DG7ZlyA0JqddoEJjOIX0xxJhmJXpeSAmcYSTNUQv0DR1czVxcAAQCIAAAC6wQmAAUAZEALAysABgUKAQcEJQC4//a0ERECVQC4//pAEQ4OAlUABAwMAlUACgsLAlUAuP/0tBAQBlUAuP/8QBYNDQZVAAwMDAZVAAQLCwZVAAABAEUGEPZdKysrKysrKyvtEDwAPz/tMTATIRUhESOIAmP+UbQEJpX8bwAAAgAA/tMEbAQmAAwAEQE7QA8NKwAGBQkPAworBwoNkgC4/+5ACxAQAlUAFgwMAlUAuP/ytAsLAlUAuP/4tAsLBlUAuP/qQBkMDAZVjwABAEAPyQALEAsgCwMLCwgJECUCuP/0QBcMDAZVAgIQEAZVDwIBDwLPAgICAgUrA7j/4kAREBACVQMADw8CVQMODg4CVQO4//ZACw0NAlUDBgwMAlUDuP/2QBELCwJVAwgLCwZVAxIMDAZVA7j/2rQNDQZVA7j/5rQPDwZVA7j/9UAkEBAGVR8DPwOfA68DvwPfA+8D/wMITwOPAwLfAwEDThMIKwkJuP/4tAwNBlUJuP/0QA8PDwZV3wkBDwkBHwkBCRIQPF1xcisrEO0Q9nJxXSsrKysrKysrKysr/TkvXXErK+0REjkvXe30XSsrKysr7QA//Tw8Lzw/7TEwASERMxEjESERIxEzEhMCByERARUC5HOU/LyUX76OFIwCOwQm/G7+PwEt/tMBwQECAfv9+/gC/f//AEv/6AQeBD4CBgBIAAAAAf/7AAAFYAQmADgBuEA5JwUBAxIMJRMSHCUQOi86PzpgOnA6rzoKADofOjA6Tzp/OoA63zrvOgg0FjshhBaLIZQWmyEGNTMzuP/4tBAQAlUzuP/yQEoPEQZVMyspJxQpKScDBQUODxEGVQUrDhAUDg4QFxYWJRUUFBUVFCAhISUiIxQiIiMDBTUzBAgBEA4nKQQLEiUSASMgFxQEHSI3AbgBDEA/HRoaABsuMwswC0gICAAGIiEhGxsWFhUKJSc1KTMFLyMhIAMcIhIQDgMFBQoXFhQDG0AKAQqqgBUBABUQFQIVuAIoQAsAGyU4HAoPEAJVHLj/8rQODgJVHLj//LQMDAJVHLj/9rQLCwJVHLj/97QLDQZVHLj/+EANEBAGVYAcAQAcEBwCHLgCKEAdTy8BL6oAIpAi0CIDUCKwIvAiA3Ai4CLwIgMiMzkQ9V1xcuRx9F1xKysrKysrPP089F1x5HESFzkRFzkREhc5ERc5AD88EDwQPBA8PzwQ7TwQ5BESOS88/TwREhc5ETk5ERIXORESFzmHBS4rDn0QxIcFLhgrDn0QxIcOLhgrKw59EMSHDi4YKysrDn0QxDEwAXFxXQBdAREyNjc2NzYzMxUnIgcGBwYGBxYXEyMDJiYjESMRIgYHAyMTNjcmJicmJyYjIgc1MzIWFhcWFjMRAwlWRkM/MjFrQjFIFBUrKERIdW/GxsE7WD24PFg7wcbFcHVQQEAWGRozDSgZaFVDNkJFVwQm/jVCn5cqKZUBFRZtaFAhH7n+twFJZD7+FQHrPWX+twFJuR8lV6Q3DQ0BlRlRgJ1EAcsAAAEAMv/oA2IEPgAmAQpAXdQJARAoVR2ACYQMgh0FCBkBOwgSAAEajwAbUBtgG3AbsBsF0BsBGxseAAuPDwp/CgIKCghAAQEBSJAAoAACAAAYCEgNBx5IGAsSECEBAQUKyQuPG8kaBSQQjyEkFbj/8LQQEAJVFbj/wEARJCU0MBUBABUQFSAVAxUxKBq4//BADRAQAlVAGgGPGrAaAhq5AlsAJxDmXXErEPZdXSsr7fTtEO30/RE5LxESOQA/7T/tEjkvXe1xETkvXeQREjkvcV3kERI5MTBDeUAqHyQTFw4PBgcjJgcOBRsBHxchGwEkEyEbAwYPCBsBIBYeGwAiFCUbARMSEDwrKysBKysrK4GBgYEAXQFdcQE1PgI1NCYjIgcnEiEyFhUUBxYWFRQGIyADNxYWMzI2NTQmJiMiAXJyU0phTZg9q1ABMqrBflBQ0Lv+lTqpF41bW3lMVnEJAeCNARBQPElXsxwBK7qBgk0rhVuPsgFDJGZwZ1A+XBcAAAEAhwAAA/AEJgAJAVJAERkDFAgCVgJnAnsHhAKNBwUCuP/qQAsJEQJVBxYJEQJVArj/6kA5CREGVQcWCREGVQMHCAgrAgMUAgIDAgcIAwEGCAYKByULQBAQAlULQAsLAlUEJBARAlUEEg4OAlUEuP/tQB0NDQJVBAYMDAJVBBoLCwJVBBYQEAZVBAYPDwZVBLj/9LQMDQZVBLj//EASCwsGVQRAMzY0/wQB/wQBBE4LuP/AQBc0NjSwC/ALAnALgAugC7ALwAsFCwIlCbj/+rQQEAJVCbj/+kALDg4CVQkGCwwCVQm4//pACw8PBlUJBAsLBlUJuP/AQBIzNjTwCQEACSAJ0AngCQQJTgoQ9l1xKysrKysr7RBdcSv2XXErKysrKysrKysrKyvtsQYCQ1RYswMIBwIREjk5G7MDCAYCERI5OVkAPzw/PBI5OYcFLiuHfcQAKysrKzEwAF0BXRMzEQEzESMRASOHtAHzwrT+DcIEJvzWAyr72gMl/NsA//8AhwAAA/AFuAImAmIAAAEHANkA9gAAABZACgEAEQsABEEBAQ65AiIAKQArASs1AAEAhgAAA5AEJgAdAT5ASz4FPwY/B0QFRBeUFwYNBi8ELAUvBi8fTAZeBnoHiweWBgpLBEsGmwSbBqsEqwa7BLsGywTLBgofHz8fewR7Bo8EjwYGBBEGDxgXF7j/8EAbDA0GVRclFhUUFhYVBgQJAhEPBAYEDBUYHBMCuAEMQCobGxYBDEgJCQEGHBcXFgoEBhMRDwULGBUXAxwLqgAWARZJIB8BHwEcJQC4//i0EBACVQC4//pAEQ4OAlUABgwMAlUABgsLAlUAuP/6tAwMBlUAuP/8tA0NBlUAuP/wtA8PBlUAuP/2tBAQBlUAuP/AQBIzNjTwAAEAACAA0ADgAAQATh4Q9F1xKysrKysrKysr/TwQXfVd5BIXOREXOQA/PBA8PzwQ7RESOS/tORI5ORIXORESOTmHBS4rKw59EMQBETMRM11xMTABXXETMxEyNjc+AjMzFSciBwYHBgYHFhcTIwMmJiMRI4a0VkVDNUJWXyQyRxQVKylER3RwxcbAO1g9tAQm/jVCn35QHJUBFRZtaFAhH7n+twFJYz/+FQAAAQAY//kEIwQmABIBRkAWHAgFKwAGAzMMDhwKCgMlFEALCwJVArj/zEALEBACVQIoDw8CVQK4//pACw4OAlUCFA0NAlUCuP/yQAsMDAJVAgoLCwJVArj/7LQJCQJVArj/8bQLDAZVArj/9kAbDQ0GVQIEDw8GVQIQEBAGVQJAMzY0/wIBAk4UuP/AQBk0NjSwFPAUAkAUYBRwFKAUsBTAFAYUBSUSuP/2tBERAlUSuP/QQBEQEAJVEhYPDwJVEhYNDQJVErj/5rQMDAJVErj/7LQLCwJVErj/7rQMDAZVErj/8rQNDQZVErj/4EAWDxAGVU8SXxJvEnAS3xIFErsMDBQTfLkBCgAYKxESOS/0XSsrKysrKysrK+0QXXEr9nErKysrKysrKysrKysr7QA/7RDkP+0xMEN5QBIPEQcJCCYQJQ8JEhsBEQcOGwArASsrK4GBEyERIxEhERQGBiMiJzUzMjY2Nd8DRLP+IxhsZj9STzgwEAQm+9oDkf3vuXZYCJYXMooAAQCMAAAE9AQmAAwBiLYHHAoNAlUCuP/kQHYKDAJVDgK1CsUKAxICGwcCBAEMAwMIDAlGAUoDRQhKCVYIWgmEAY8DgQiPCdAB3wPQCN8J9Qj6CRQICRkCGwl4AngJiAmUAZsDlAibCaQBqwO0AbsDtgjEAcsDxggSBQgKCRQBGgMWCBsJlQGZApoDlQieCQsBuP/2QBUBCgkJCwoMBlUJKwIBFAICAQMHCAi4/+y0CgwGVQi4//VAJw0NBlUIKwIDFAICAwoHAgMLAwEGCwkJCAgGCgIJCAEDBQYLBgclBLj/5EALEBACVQQcDg4CVQS4/+y0DAwCVQS4//q0DAwGVQS4//5AIQ0NBlUECA8PBlUEIBARBlUEToAOsA7ADgMOPw4BCwolALj/+kALEBACVQAGCwwCVQC4//60DAwGVQC4//RADA8RBlUAACAAAgBODRD2XSsrKyv9PF0QXfYrKysrKysr/TwREhc5AD88EDwQPD88Ehc5hwUuKysrh33Ehy4YKyuHfcQxMAE4AXJdcQByXSsrEyEBASERIxEBIwERI4wBGAEXATYBA7T+xqH+17AEJvyuA1L72gNX/KkDgPyAAAABAIgAAAPjBCYACwD8QBnQDeANAgIrCQkEAQYKBwoEByUNQAsLAlUFuP/sQAsQEAJVBRYODgJVBbj/7EARDQ0CVQUIDAwCVQUiCwsCVQW4//ZAHgsNBlUFCg8PBlUFFhAQBlUFQDM2NP8FAf8FAQVODbj/wEAWNDY0sA3wDQJwDaANsA3ADQQNAQolALj/9rQREQJVALj/+rQQEAJVALj/+kAXDg4CVQAEDAwCVQAKCwsCVQADCwsGVQC4//a0Dw8GVQC4/8BAFDM2NPAAAQAAIADQAOAA8AAFAE4MEPZdcSsrKysrKysr/TwQXXEr9l1xKysrKysrKysrK/08AD88Pzw5L+0xMAFdEzMRIREzESMRIREjiLQB87S0/g20BCb+RgG6+9oB1/4pAP//AET/6AQnBD4CBgBSAAAAAQCIAAADzgQmAAcBC0AQBCsABgYDCgMlCUALCwJVAbj/+0AREBACVQEMDw8CVQEWDg4CVQG4//hAEQ0NAlUBEAwMAlUBJgsLAlUBuP/4tAwMBlUBuP/6QCANDQZVAQ4PDwZVARgQEAZVAUAzNjT/AQHfAf8BAgFOCbj/wEAXNDY0sAnwCQIfCXAJoAmwCcAJBQkGJQC4//a0ERECVQC4//q0EBACVQC4//pAEQ4OAlUABAwMAlUACgsLAlUAuP/+tAwMBlUAuP/4tA8PBlUAuP/8tBAQBlUAuP/AQBIzNjTwAAEAACAA0ADgAAQATggQ9l1xKysrKysrKysr7RBdcSv2XXErKysrKysrKysrKyv9AD88P+0xMBMhESMRIREjiANGtP4itAQm+9oDkfxv//8Ah/5pBCEEPgIGAFMAAP//AFD/6APtBD4CBgBGAAAAAQAmAAADhQQmAAcAmkATLwkwCUAJXwmgCQUCBysABgUKB7sBVwAEAAIBV7IEJQW4//ZACxAQAlUFCg8PAlUFuP/0tA0NAlUFuP/2tAsLAlUFuP/utAsLBlUFuP/4tAwMBlUFuP/7QCYNDQZVBQYQEAZVAAUQBVAFsAXABQUABVAFYAWgBbAFBQAFoAUCBS9dcXIrKysrKysrK+3tEO0APz/9PDEwAV0TIRUhESMRISYDX/6qs/6qBCaV/G8DkQD//wAh/lED7gQmAgYAXAAAAAMAS/5pBkoFugAdACkANQFEQGJYEgEEBgQKCxULGQ83HzdbA1wNVRJTHFkgWSJZJlUsVi5VNGoDag1lEmQcaiBuIm4maChmLGUuZjR5A3YGeQ12EnYcgwaJDYUSIx4wAQAnMzMcBRoHITMtHAsUCxAOAAABD7j/9rcPEAJVDyUAELj/8LQMDAZVELj/80AKDQ0GVRAQFyQkCLj/9rQKCwJVCLj/5LQLDAZVCLj/6rQNDQZVCLj/6rQPDwZVCLj/wEAkJCU0MAgBIAgBCDEAN0A3UDdgN4A3kDcGADcgNzA3QDffNwU3uP/AQDQeIzQwNwE3KiQXGAsLBlUXIwwMBlUXHA0NBlUXCA8PBlUXDhAQBlUXQCQlNB8XPxcCFzE2EPZdKysrKysr7RBxK11d9F1dKysrKyvtEjkvKys8/Ss8AD8/Pzz95D88/eQBERI5OTEwXQBdATMRNjYzMhIVFAIjIiYnESMRBgYjIgIRNBIzMhYXExQWMzI2NTQmIyIGBRQWMzI2NTQmIyIGAvG0OIZNvd3usTp4VLQ2g0yn+uK/UIIzs4RjbpuPcHh5/V6XcHV0entvjAW6/gVAP/7F7/n+zSRQ/g0B8zo6ASUBEecBOT9A/lDwpcvWysbOuuHGxcXS0s0A//8ADwAAA/EEJgIGAFsAAAABAIr+0wRYBCYACwEGQBZfDQEEAQYHAisLCgkOAyUNQAsLAlUGuP/qtBAQAlUGuP/gtA0NAlUGuP/6QAsMDAJVBhYLCwJVBrj/8rQLDQZVBrj/5rQPDwZVBrj/7rcQEAZVBgkrB7j/8LQQEAJVB7j/8EARDQ0CVQcoCwsCVQcIDQ0GVQe4//a0DxAGVQe4AQxAEJAGAWAGgAbABgMGTg0CJQC4//pAFxAQAlUABgsMAlUADgsLBlUABAwMBlUAuP/xtA8PBlUAuP/2tBAQBlUAuP/AQBIzNjTwAAEAACAA0ADgAAQATgwQ9l1xKysrKysrK+0Q9l1y/CsrKysr7RArKysrKysrK+0APz/9PD88MTABXRMzESERMxEzESMRIYq0AfK0dJT8xgQm/G4Dkvxu/j8BLQAAAQBFAAADowQmABMAzUASHAgIAQ0PSAYGCQEGDAoJDCUKuP/QQBEQEAJVCiAPDwJVCgoNDQJVCrj/+rQKCwJVCrj/+EAWDAwGVQoUDw8GVQoaEBAGVQpOFQElALj/4EAREBACVQAcDw8CVQAWDQ0CVQC4//xAJAwMAlUAFgsMBlUAGA0NBlUAGA8PBlUAHBAQBlUfAE8AAgAoFBD2XSsrKysrKysr7RD0KysrKysrK/08AD8/PDkv7TkSOTEwQ3lAEhASAwUEJhElBRACHQADEgYdACsBKysrgYETMxUUFhYzMjcRMxEjEQYjIiYmNUW0H3ZZZqK0tKaQeblCBCbJgnVXNgHh+9oBrDR7smsAAQCNAAAF3QQmAAsBfEAlAA0QDXANAyANMA1PDWANcA2gDcAN7w0ICAQEAQYHAisLCgclCbj/9rQQEAJVCbj/7kALDQ0CVQkGDAwCVQm4//C0CwsCVQm4/+i0DAwGVQm4//u0Dw8GVQm4//1AJBAQBlUwCQEACRAJMAlACbAJ0AngCQcQCSAJMAlgCXAJgAkGCbgBxLVABQEDJQW4/+y0EBACVQW4/+q0DQ0CVQW4//S0DAwCVQW4//S0CwsCVQW4/+20DAwGVQW4//a0Dw8GVQW4//pAJBAQBlUfBS8FrwXfBQQABTAF0AXgBQQQBSAFMAVgBXAFgAUGBbgBxLICJQC4//q0EBACVQC4//RACw4OAlUABgsLAlUAuP/wQAsJCgJVAAYQEAZVALj//rQPDwZVALj/+EAcDQ0GVQAJDAwGVQAFCwsGVQ8AAU8AAQAAAQBODBD2XXFyKysrKysrKysr7f1dcXIrKysrKysr/XH9XXFyKysrKysrK+0AP/08PzwQPDEwAV1dEzMRIREzESERMxEhjbQBmrQBm7P6sAQm/G8DkfxvA5H72gABAI3+0wZUBCYADwF8QC4QEQEgEU8RYBFwEaARwBHvEQcIBAQBBgYLAisPCg0ODisMChAQBlUMFA8PBlUMuP/vQBkNDQZVDBEMDAZVDAwRMBFQEXARoBEEByUJuP/2tBAQAlUJuP/uQAsNDQJVCQYMDAJVCbj/8LQLCwJVCbj/7UAqDA0GVQkDEBAGVTAJAQAJEAkwCUAJsAnQCeAJBxAJIAkwCWAJcAmACQYJuAHEtUAFAQMlBbj/7LQQEAJVBbj/6rQNDQJVBbj/9LQMDAJVBbj/9LQLCwJVBbj/8UAkDA0GVR8FLwWvBd8FBAAFMAXQBeAFBBAFIAUwBWAFcAWABQYFuAHEsgIlALj/+rQQEAJVALj/9EALDg4CVQAGCwsCVQC4//BACwkKAlUAChAQBlUAuP/zQBYNDQZVAA0MDAZVDwABTwABAAABAE4QEPZdcXIrKysrKysr7f1dcXIrKysrK/1x/V1xcisrKysrK+1dEjkvKysrK+0APz/9PDw/PBA8MTABXV0TMxEhETMRIREzETMRIxEhjbQBmrQBm7N3lfrOBCb8bgOS/G4Dkvxu/j8BLQACACgAAAS3BCYADAAVAPhAHBMQARkTARkSARkEARUrAgIKDCsABg0rCgoRJAa4/+a0DQ0CVQa4//q0CwsCVQa4//60CwsGVQa4/+q0DAwGVQa4/+xACg8PBlUGF98XARe4/8BAFh4jNDAXAQINJQoMEBACVQoQDw8CVQq4/9q0DQ0CVQq4/+q0DAwCVQq4//S0CwsCVQq4/8CzGUw0Crj/wEAKCw00kAoBCgwMALj/8rQLCwZVALj/4LQMDQZVALj/07QPDwZVALj/ykALEBAGVQBAGUw0ABYQ3isrKysrPBDeXSsrKysrKyv9PAFxK10Q3isrKysr7QA/7T/tEjkv7TEwcnJychMhETMyFhUUBiMhESEBMzI2NTQmIyMoAdvl89zV0P49/tkB272skHup1QQm/mG9iY6zA5H9AVNcVFwAAwCLAAAFLgQmAAMADgAXASBAEx8IBisXFwMFAAYPKw4OAwoTJAq4/+xACw8QAlUKCg0NAlUKuP/atA8PBlUKuP/sQCcQEAZVUAqQCgIPCgFgCnAKgArACgQKCg8DJQEEEBACVQEgDw8CVQG4/+JACw0NAlUBCgwMAlUBuP/stAoLAlUBuP/ktAsLBlUBuP/0QBcMDQZVARAPDwZVASQQEAZVAU4ZBQ8lBLj//EALEBACVQQECwwCVQS4//S0Dw8GVQS4//C0EBAGVQS4/8BAEjM2NPAEAQAEIATQBOAEBAROGBD2XXErKysrK/08EPYrKysrKysrKyv9ETkvXXFyKysrK+0APzwQ7T88Ejkv/TEwQ3lAFggVEQwTGwEVCBMbARILEBsAFAkWGwErKwErK4EBMxEjATMRMzIWFRQGIyE3MzI2NTQmIyMEerS0/BG05N/xyd3+PrS9q5JsudUEJvvaBCb+Ya2Yhb2UVFlFbAACAIQAAAPsBCYACgATAQZAFh8IAisTEwoABgsrCgoPJAYODAwCVQa4//y0CwsGVQa4//G0DAwGVQa4//ZACw8PBlUGBhAQBlUGuP/AQDckJTQwBgEABhAGIAYDBjEfFT8VXxV/FZ8VrxW/Fd8VCA8VAQ8VjxWvFb8VzxXfFe8VBxUBCyUAuP/8QAsQEAJVAAQLDAJVALj//LQMDAZVALj//rQNDQZVALj/9LQPDwZVALj/7LQQEAZVALj/wEASMzY08AABAAAgANAA4AAEAE4UEPZdcSsrKysrKyv9PBBxcl32XV0rKysrKyvtAD/tPxI5L/0xMEN5QBYEEQ0IDxsBEQQPGwEOBwwbABAFEhsBKysBKyuBEzMRMzIWFRQGIyE3MzI2NTQmIyOEtOTf8cnd/j60vauSbLnVBCb+Ya2Yhb2UVFlFbAD//wAr/9sDygQ+AVMCfQQVAADAAEAAADmxAA64//pACxAQAlUOBg8PAlUOuP/0tAwMAlUOuP/+QA4PDwZVDgYQEAZVDg43HE4Q9hErKysrKzUAAAIAif/oBa0EPgATAB8BfUBeCgQBNBlHGVoIXwxQDlMVUxlfG1sfbghvDGUOYxVjGW8bbh+5BMsE2QTZD9sV2RbbGdUb0x/pBOcP+QT7BfcP+RX6GfUb8x8iAisRERMAFBwGBwAGEwoaHA0LAxAkF7j/7rQQEAJVF7j/5LQNDQJVF7j/7UALEBAGVRcQDQ0GVRe4//dAGAwMBlUwF/8XAp8X0BfgF/AXBBcXAB0kCrj//LQQEAJVCrj/8rQPDwJVCrj/9LQPDwZVCrj/9rQNDQZVCrj/8LQLDAZVCrj/wEAUJCU0MAoBAAoQCiAKAwoxIQESJQC4//a0ERECVQC4//q0EBACVQC4//pAFw4OAlUABAwMAlUACgsLAlUABAsMBlUAuP/+tA0NBlUAuP/4tA8PBlUAuP/0tBAQBlUAuP/AQBIzNjTwAAEAACAA0ADgAAQATiAQ9l1xKysrKysrKysrK/08EPZdXSsrKysrK+0SOS9dcSsrKysr/TwAP+0/Pz/tERI5L+0xMAFdcRMzETM2NjMyFhYVEAIjIgInIxEjASIGFRQWMzI2NTQmibTaGO29obp5+tbH8A/atANahJOUfHudiAQm/kTk8ILkwf7t/uQBCOb+KgOly7fbzL3Szc0AAgAfAAADywQmABIAGwEgQCYECR0INAxEDFsIVAzUDAd5CwEkCAwCCgYICAoMDAJVCAYMDAZVCLj/9kAqEBAGVQglCQsUCQkLCwwGCQMMDBsrAwMCFCsSBgkICAIKCwYIAwkTAiUAuP/8QAsQEAJVABIPDwJVALj/9kALDQ0CVQASDAwCVQC4/+60CwsCVQC4/+q0CgoCVQC4//i0DAwGVQC4//pAGA0NBlUADg8PBlUAIhAQBlUATh0JKBckD7j/+LYKCgJVD5EcEPYr7RnkGBD2KysrKysrKysrK/08ERc5AD88EDw/7RI5L+0ZOS8REjkROYcFLhgrKysrDn0QxAEREjkxMBhDeUAYDRkZDRcbAhURFxsAGA4aGwANDBYQFBsBACsQPCsBKyuBAV1xAREjESMiBgcHIxM2NyYmNTQ2MwUhIgYVFBYzMwPLs2hfXVmd38JZWJqVw7kBOf8AoV2JrscEJvvaAZ4xhegBHoMRFbR1iqyVZENfWf//AEv/6AQeBcMCJgBIAAABBwCOAN8AAAAjQBQDAiJACwsCVa8iASIKUEgrAgMCJbkCIgApACsBK10rNTUAAAEAAP5RA+gFugAlAThAHgMPFA8lCzULRgsFNhJFE3ofix8EFxcWFhocFA8HArj/wEA3His0AtQIAQENBAAgHA0HJCUKFwAWARYHIAIBAh0lJ0ALCwJVJ0AQEAJVECgQEAJVEBQODgJVELj/7EARDQ0CVRAEDAwCVRAaCwsCVRC4//ZAHgsNBlUQCg8PBlUQFBAQBlUQQDM2NP8QAcAQARBOJ7j/wEAYNDY0sCfwJwJwJ6AnsCf/JwQnCgUkJQQluP/6tBAQAlUluP/6QBcODgJVJQQMDAJVJQgLCwJVJQgLCwZVJbj/+LQPDwZVJbj/wEASMzY08CUBACUgJdAl4CUEJU4mEP1dcSsrKysrKys8/Tw8EF1xK/ZdcSsrKysrKysrKysr7S9dLy9dMwA/PD/tPxI5Lzz9Kzw/7TMvMy8xMAFdAF0TIyczNTMVIRUhETY2MzIWFREUBiMiJzcWMzI2NRE0JiMiBhURI4eGAYezAVf+qT2hY6++mHJPPyI0IC8/cXFjtbMEwXeCgnf+6kpJuOX9Je6HE5kOP5wC14GBitT9uwD//wCIAAAC6wXCAiYCXQAAAQYAjXgAAAuyAQEGuQIiACkAKwAAAQBL/9sD6gQ+ABoA4kA6HxxFGFUEVRhrDGwNbBBzCXMKewx0EnUThRKVEpAYDxSPXxVvFQIVFQsRCCIwB0AHYAegBwQHBxELGrj/wEBIHiA0GisCAgsXHBEHBRwLCwEBBwIVJBSaByQfCAEINxwaAiQOCA4OAlUODA0NAlUODAwMAlUOEAsLAlUOEAwMBlUOCgsNBlUOuP/8QBgPDwZVDg4QEAZVDkAkJTQfDj8OAg4xGzS5AQoAGCtOEPRdKysrKysrKysrTf08ThD2XU3t9O0REjkvAD/tP+0SOS/tKxESOS9d5BESOS9d5DEwAV0BFSEWFjMyExcGBiMGAjcQADMyFhcHJiMiBgcCgf6JEZGB5CmwHOu+4vgGAQLfstwYryzReJkRAmqUra0BCBev1g0BOf8BAwEovZUc2bGOAP//AD//6AOxBD4CBgBWAAD//wCIAAABPAW6AgYATAAA//8ACQAAAjoFwwImANUAAAEGAI7MAAAfQBECAQggCwsGVQgCAEgrAQICC7kCIgApACsBKys1NQD///+i/lEBOgW6AgYATQAAAAIAE//6BvgEJgAZACIBIEAfFQQVBhAkAwErIiIJCysZBhorCRMrEhIJChAKABolCbj/9EALEBACVQkMDw8CVQm4//S0DQ0CVQm4/+y0CwsGVQm4/9m0DAwGVQm4//C0DQ0GVQm4/+JAEhAQBlVACWAJApAJAQkJDB4kBbj/9rQLCwZVBbj/5LQMDAZVBbj/9kALDw8GVQUEEBAGVQW4/8BAEyQlNDAFAQAFEAUgBQMFMd8kASS4/8BAFh4jNDAkASQMJRgIDxACVRgSDQ0CVRi4//RAIgsMAlUYIAsLBlUYHAwMBlUYFA0NBlVPGF8Y3xgDGKQTmiMQ9vZdKysrKysr7RBxK130XV0rKysrK/0ROS9dcSsrKysrKyv9PAA/PzwQ7RDtP+0SOS/tMTABXQERMzIWFRQGIyERIREUBgYjIic1FjMyNjURATMyNjU0JiMjBETl3PPE4v4+/g0nb2gdb0coPygDW72skmu61gQm/mGsmYDCA5H976+QRwaTCk6TArz8blNaRmsAAAIAgwAABjkEJgASABsBFkAoFQMVBQIBDysaCgoIEQ4GEysLCAoRCCUAGxISExwQEAJVExQNDQJVE7j/8kALDAwGVRMKDQ0GVRO4//RAFQ8PBlUTGRAQBlUPEy8TAhMTDBckBLj/+LQLCwZVBLj/5LQMDAZVBLj/9LQPDwZVBLj/wEARJCU0MAQBAAQgBAIEMd8dAR24/8BACx4jNDAdAR0OCyUMuP/4QBEQEAJVDAQLDAJVDAQMDAZVDLj//LQNDQZVDLj/9LQPDwZVDLj/9LQQEAZVDLj/wEASMzY08AwBAAwgDNAM4AwEDE4cEPZdcSsrKysrKyv9PBBxK132XV0rKysr7RI5L10rKysrKys8Ejk5/TwAPzztPzwSOS88/TwxMAFdATMyFhUUBiMhESERIxEzESERMxEzMjY1NCYjIwOF5d7xytz+Pv5mtLQBmrS9rZBrutUCbKaRgbQB1/4pBCb+RgG6/GdPVEJlAAEAAAAAA+gFugAbAR5AEgMMFAwlCDUIRggFehKKEgIEG7j/wEAyHis0G9QFGhoKAQATHAoHDxgKBCAbARsQJR1ACwsCVR1AEBACVQ0oEBACVQ0UDg4CVQ24/+xAEQ0NAlUNBAwMAlUNGgsLAlUNuP/2QB4LDQZVDQoPDwZVDRYQEAZVDUAzNjT/DQHADQENTh24/8BAGDQ2NLAd8B0CcB2gHbAd/x0EHQcCFyUBGLj/+rQQEAJVGLj/+kAXDg4CVRgEDAwCVRgICwsCVRgGCwsGVRi4//q0Dw8GVRi4/8BAEjM2NPAYAQAYIBjQGOAYBBhOHBD2XXErKysrKysrPP08PBBdcSv2XXErKysrKysrKysrK+0vXS8APzw/7T8SOS88/Ss8MTABXQBdEzUzFSEVIRE2NjMyFhURIxE0JiMiBhURIxEjJ4ezAVf+qT2hY6++tHFxY7WzhgEFOIKCd/7qSkm45f1fAqGBgYrU/bsEwXcA//8AhgAAA5AFwgImAmQAAAEGAI14AAALsgEBHrkCIgApACsA//8AIf5RA+4FuAImAFwAAAEHANkAtwAAABZACgEAIhwLE0EBAR+5AiIAKQArASs1AAEAiP7SA+MEJgALAT5ADgkGBgIOBysEBAsKACsDuP/6tAoNAlUDuP/8tAwMBlUDuP/4tA0NBlUDuP/wQBcPEAZVXwNvA38DAwMDBAglDUALCwJVC7j/8UALEBACVQsWDg4CVQu4//BAEQ0NAlULCgwMAlULJgsLAlULuP/3tAsLBlULuP/1tAwMBlULuP/4QB4NDQZVCwgPDwZVCxYQEAZVC0AzNjT/CwH/CwELTg24/8BAFTQ2NLAN8A0CcA2gDbANwA0EDQclBLj/9rQREQJVBLj/+rQQEAJVBLj/+kAXDg4CVQQEDAwCVQQKCwsCVQQECwsGVQS4//i0Dw8GVQS4/8BAEjM2NPAEAQAEIATQBOAEBARODBD2XXErKysrKysrK+0QXXEr9l1xKysrKysrKysrKysr7RI5L10rKysr7QA/PBDtPz88MTAhESMRIREzESERMxECgJX+nbQB87T+0gEuBCb8bgOS+9oAAAEAoQAAA6wHUAAHAIxALgEEHgcCBggAHgMWDw8CVQMSDAwCVQMJCwsGVQMTDA0GVQMeDw8GVQMDCAkFIAa4/+S0EBACVQa4//S0Dw8CVQa4//q0DQ0CVQa4//60DAwCVQa4//20DxAGVQa4//+0DQ0GVQa4//q2DAwGVQY5CBD2KysrKysrK+0REjkvKysrKyvtAD8/7S8xMAERMxEhESMRAv+t/bfCBboBlv29+vMFugABAIgAAAMMBbwABwCXQCMBAAQrBwYGCgAlAxYPDwJVAwwMDAJVAwoLCwZVAxQMDQZVA7j/57QPDwZVA7j/80AOEBAGVSADAQMDCAkFJQa4//a0ERECVQa4//pAFw4OAlUGBAwMAlUGCgsLAlUGAgwMBlUGuP/8tA8PBlUGuP/zthAQBlUGRQgQ9isrKysrKyvtERI5L10rKysrKyvtAD8/7T8xMAERMxEhESMRAneV/jC0BCYBlv3V/G8EJgAAAQBBAcoHwAJbAAMAFEAJAR4AAqsFAKsEEOYQ5gAv7TEwEzUhFUEHfwHKkZEAAAQAoAAACEAFugAJABUAIQAlATpAGCcBKAYvJ4oBhgaqC6MOqhUIBxgJFgJVArj/6EAlCRYCVTcCZgJ1AoUCjwcFOAgBBwYGugIBFAICAQIHBgMBAh8qDbgBZkAoGSoTTSMiNSQldQgIBggBBgIIAgMgBRYQEAJVBQQPDwJVBQoNDQJVBbj/4EAQDAwCVQUFCAokxRAlxRZeCrgBYkAXHF4QBgsMAlUQPicHCCAJCQAcEBACVQC4//S0Dw8CVQC4//K0DQ0CVQC4//q2CwwCVQD5JhD2KysrKzwQ/TwQ9ivt/e3kEOQREjkvKysrK/08ERI5OQA/PBD0PP08/u397T88Ejk5hwUuK4d9xDEwGEN5QCoLIRoSHB8BGBQWHwAeDhwfASAMFh8AGxEZHwAXFRkfAB0PHx8BIQsfHwEAKysrKwErKysrgQBdKysBXRMzAREzESMBESMBNDYzMhYVFAYjIiY3FBYzMjY1NCYjIgYDIRUhoMMCzbnC/S+2BM/HpKPDyaWO1a9rTklxdUZLbZwCqf1XBbr7kARw+kYEa/uVAxGx0ti3udjD1IaIg4WMfYL9fpQAAAEALQAABVkEJgALAMhAFg8NLw0CCgoCCggABCsFBgslCQAlAgm4/+i0EBACVQm4//i0DQ0CVQm4//K0DAwCVQm4/+20DAwGVQm4//xAFA0NBlUJCg8PBlUJJhAQBlUJQgYCuP/otA8QAlUCuP/0QAsNDQJVAgoLCwJVArj/7kALCwsGVQIIDAwGVQK4//i0DQ0GVQK4/+q0Dw8GVQK4/+BADRAQBlUCQgUGxA0FfAwQ5hDmEOQrKysrKysrKxDkKysrKysrKxDtEO0AP/08PD8/MTABXQERIxEhNSEVIxEjEQH5tP7oBSzytAOU/GwDlJKS/GwDlAAAAgEB/lIBqf/OAA4AHQAxuQAAAtO3CEANFzQICA+9AtMAFwLEABMABALTthsMQBobNAwvKzz9PAA//TIvK/0xMAUyFhYVFAYGIyImJjU0NhcyFhYVFAYGIyImJjU0NgFVGCYWFiYYGCYWKykYJhYWJhgYJhYwMhYmGBglFxclGB811BYmGBglFxclGCQwAAUAHv5SAoz/zgAOAB0AKgA3AEYAY7IeDwC4AtNACyUXCEANFzQICDgrvQLTAEAAMQLEAC4C07I1NQy4AtO0BOUbPCG4AtOzRCjlE7gC00AJG0AaGzQbG0hHERI5Lyv9/jz9PBD+/Tkv7QA/PP08Mi8rPDz9PDwxMBcyFhYVFAYGIyImJjU0NiEyFhYVFAYGIyImJjU0NiEyFhUUBgYjIiY1NDYFMhYVFAYjIiYmNTQ2ITIWFhUUBgYjIiYmNTQ2chglFxclGBgmFisBDBYlGRYmGBgmFjABBykrFiYYIzEw/s4fNTAkGCUXLAF+FiUZFiYYFSUaMDIWJhgYJRcXJRgfNRMnGhglFxclGCQwNR8YJRcxIyQw1CspIzEXJRgfNRMnGhglFxQmGiQwAAMAMf5SAnn/zgAMABAAHwBQtBBkDg4AuALTtwZADRc0BgYRugLTABgCxLYODg9VCRUDuALTQBAcXwkBfwkBCUAXGTQJCSEgERI5Lytdcjz9PBD+Mi8AP/0yLyv9Mi/tMTAFMhYVFAYjIiY1NDY2BTUhFRcyFhYVFAYjIiYmNTQ2NgIlKCwsKCQwFib+JAFQpBUlGiwoFiUZEycyNR8fNTEjGCYWcmhoYhMnGh81FCYaFiUZAAMAMf5SAnn/zgAMABQAIwBsQAwgFAEUFBwOE2QQEAC4AtO3BkANFzQGBhW9AtMAHALEABkAAwLTQCIgCVUSD3UOdRN1LxI/EgISQCAiNBJALS80EkA/QzQSEiUkERI5LysrK3H0/eQQ/jz9PAA//TIvK/0yL/08ETkvcTEwBTIWFRQGIyImNTQ2NgE1IzUhFSMVJTIWFhUUBiMiJiY1NDY2AiUoLCwoJDAWJv6VcQFQawEPFSUaLCgWJRkTJzI1Hx81MSMYJhb++pRoaJQyEycaHzUUJhoWJRkAAQEB/o8Bqf83AA4AFL0AAALTAAgABALTAAwv7QAv/TEwBTIWFhUUBgYjIiYmNTQ2AVUYJhYWJhgYJhYryRYmGBglFxclGB81AAACAH7+jwIs/zcADAAbACexDQC4AtOyFAYQuALTshhqCrgC07MDAx0cERI5L+3+7QAvPP08MTAXMhYVFAYjIiYmNTQ2ITIWFRQGBiMiJiY1NDY20h42MCQYJhYwASooLBYmGBYlGRMnySspIzEXJRgkMDUfGCUXFCYaFiUZAAADAH7+UgIs/84ADAAbACoASLENALgC00AJFAZADRc0BgYcvALTACQCxAAgAtO0KCgDChC4AtOyGGoKuALTswMDLCsREjkv7f7tERI5L+0AP/0yLys8/TwxMBcyFhUUBiMiJiY1NDYhMhYVFAYGIyImJjU0NjYHMhYWFRQGBiMiJiY1NDbSHjYwJBgmFjABKigsFiYYFiUZEydpGCYWFiYYGCYWMDIrKSMxFyUYJDA1HxglFxQmGhYlGdQWJhgYJRcXJRgkMAABAIz+xQIe/y0AAwAPtQFkAAICAS8zLwAv7TEwEzUhFYwBkv7FaGgAAQCM/lICHv9iAAcAKLUDZAYCnwC4AsRACwUFBnUBAgIBAQkIERI5LzMvEP0yLwA/9DztMTABNSM1IRUjFQEckAGSjv5SqGhoqAABAQEEngGpBUYADgAguQAAAtO0EAgBCAS4AtO3HwwvDK8MAwwvce0AL13tMTABMhYWFRQGBiMiJiY1NDYBVRYlGRYmGBglFzAFRhQmGhgmFhYmGCMxAAMAEP5RApr/zQAPAB4ALQBiuQAQAtOzGBgnALgC00ASCEA1OTQIQCElNAhACRc0CAgfugLTACf/wLMJDDQnugLEACMC07IrqxS7AtMAHAAMAtO1BKscHC8uERI5L/btEP327QA/K/0yLysrK+0SOS/tMTAXMhYWFRQGBiMiJiY1NDY2BTIWFhUUBgYjIiYmNTQ2BTIWFhUUBgYjIiYmNTQ2ZBYlGRYmGBglFxQmAQsYJhYWJhgYJhYwARUYJRcXJRgYJhYwMxMnGhglFxclGBYlGWwWJhgYJRcXJRgkMGgWJhgYJRcXJRgkMAAAAQEBAe4BqQKWAAwAGrwABgLTAAAAAwLTtR8KLwoCCi9x7QAv7TEwATIWFRQGIyImJjU0NgFVHjYxIxgmFisCliwoJDAWJRkfNQABASH+UQGJ/80AAwAauQAA/8C0DRM0AAO4AsSyAWQAL+0APy8rMTAFMxEjASFoaDP+hAAAAQB9A4UCkwQlAAMADrUA+QED7gAv7QAv/TEwEzUhFX0CFgOFoKAAAAEAjATjAh4FSwADAA61AGQBA24AL+0AL/0xMBM1IRWMAZIE42hoAAABANL/7AFhBQEAAwAbswEBAAW4AsiyAyAAuQLHAAQQ9v3mAC8zLzEwFxEzEdKPFAUV+usAAQMLBJ4DswVHAAwAFL0ABwLTAAAAAwLTAAov7QAv7TEwATIWFRQGBiMiJjU0NgNfKSsSJxsjMTYFRzUgFiQaMSMpLAAB/wQEnv+sBUcADAAUvQAHAtMAAAAKAtMAAy/tAC/tMTADMhYVDgIjIiY1NDaoKCwBFiUYJDA1BUc1IBglFzEjKSwAAAIAuQAAAYYEJgADAAcAGkAMADwBBTwEAwcABzwEL+08EDwAL+0v7TEwEzUzFQM1MxW5zc3NA1nNzfynzc0AAQBpAAAESgQlABUA6UB6GQgmDDgBOgI7CDsJOQw7FUgBTQJJCE0JSQxNFVUDVglWDGcDfwhzFIwJghSAFacM2ADXFRoIAikTKBU9Aj8VgQmPFaYM2hUJFQwLCwACCQoBAQALCyAKARQKCgEVDAEJBAoGBQABChEQCwoGDxASBAUHCQIMFQQRBgG4AmC3gAABAAAQIBG4Asq2FwsKBSAKBrkCyQAWEPYy7S8zEPbtMy9d7RESFzkzETMyETMAPzw8PD88PDwSFzmHBS4rh33EBw48PIcOEMQ8sQYCQ1RYtQIYDBE0DLj/6LIMETQAKytZMTAAXQFdISMBBgcDIxMSNwMzATY2NzczBwYGBwRK7P5rXhErxisesvfrAVQ+MQ4ZxhgQX3UCPTOb/pEBbwEAWgFc/iUpZ3bV2421RwAAAQAyAAAEKQQxABIAdkAsBRAWEFQQYxDiEAUABPkDCgz5DQz5DQ0K+Q8HBSAAAAEUDAwGVQEaDQ0GVQG4//BACw8PBlUBCBAQBlUBuALMtBQMDA0MuP/AtQ0RNAwNBLkCywATEPYyLysRMy8Q9isrKysyL+0AP+0zL+0v7T/9PDEwAV0lMxUhNSERNCYmIyIHJzYzIAQVA4Cp/AkCj0Ktt0GIEIeYAR4BAaCgoAFqlJVYDp4W+PwAAAEAGQAAAugEMQAZAMlAVgMYEhgjGC8bOAo0GEsKWQpqCnsKhQaQBakLDQMEBLoBAhQBAQIFBwcjCAoUCAgKBQQKCAEM6AAEEAQCBAQWCAcCAwoT+RQHFBH5FgcFCgwIE8UUFAcIuP/wQBEICAQMIAEDnwKvAr8CAwICAbj/9kAODAwGVQEKDxAGVS8BAQG5AsgAGxD2XSsrMn0vGF0zEP0yMy84MzMv5BESOTkAP+0zP+0/PDw8fBI5L10Y7TMRORI5hwUuKw59EMSHBS4YK30QxDEwAV0BERMjAyIHByM3NjYzETQmJiMiByc2MzIWFgKGYrtJe1I7w1RLxkkZVkc9MA5DYYiQNAKu/rr+mAEElW+kklsBF1ZZNgqYFmaVAAEALQAAA+QEJQAHAFFAEAMKAQX5BgYEIAEMCwwGVQG4/+y0DQ0GVQG4//xAEA8PBlUBChAQBlWfAQEBoAe4Asy0CTAGAQa5AssACBDmXRD29F0rKysr7QA//Tw/MTABIxEjESE1IQPktb79vAO3A4X8ewOFoAACAJYAAARABDEADgASAIpAHzIDNARFA0UEVgNWBGYEBw75ABIHEQoODPkAAgcIIAW4/+xACxAQBlUFEA8PBlUFuP/wtAwMBlUFuALIQA4UDg4AAA8gEioQEAZVErj/7rQPDwZVErj/9kALDQ0GVRIEDAwGVRK5AscAExD2KysrK+0zLzMvEPYrKyvtAD8z/TI/PC8v7TEwAV0TNjMgFhURIxE0JiYjIgcTESMRlrWrAUz+v0q1rYinu78EEh/2/v3DAgqflU0c/uf9qgJWAAEAmwAAAV4EJQADADe0AgoDBgW4AsiyACADuP/+tAsLBlUDuP/+QAsNDQZVAxQQEAZVA7kCxwAEEPYrKyv95AA/PzEwAREjEQFewwQl+9sEJQABAF8AAALiBCUAEwBQQB4PFSAVAgkKAOgR+RIGEBAAEQggCQkDIA4OEg8TARO4AsxACxUSFAwNBlUgEgESuQLFABQQ5l0rEOZdETkv7Tkv7RESOS8AP+3tPzEwAV0BIgYVFBcWFRUjNTQnJjU0NyE1IQLima0JGsAUB4f+9AKDA56vkx1U8maTrmrcSjGlcaAAAAEAmwAABDkEMQARAHNAFGMPcxACQw9TDwIBCgoG+Q0HAiARuP/sQAsQEAZVERAPDwZVEbj/8LQMDAZVEbgCyEAKEwggCyoQEAZVC7j/7rQPDwZVC7j/9kALDQ0GVQsEDAwGVQu5AscAEhD2KysrK+0Q9CsrK+0AP+0/PDEwAV1dISMRNCYmIyIHESMRNjMyFhYVBDm/NJySVWm/1rPE72ICP3WGUQ78gwQOI3PArAAAAQCM/+MEQAQ7AB0AnEApLx8Baxt7GwIDEhMSIxIDRgVWBWsXexcEBfkZCx8OAQ4ODPkRBwAGDw64//BAFwIPD58Orw4CDg4ACSAVEBAQBlUvFQEVuALIsx8BIAC4//a0EBAGVQC4/++0Dw8GVQC4//S0DQ0GVQC4//60CwsGVQC5AscAHhD2KysrK+0Q9l0r7RI5L10zLxc4AD8//TIvXT/tXV0xMAFdXRMzERQWMzI2NjU1NCMiByc2MzIWFRUUBgYjIiYmNYy/rWtyhSiHX088bKeMkE/fr5rjWgQl/dnrlmqqkIfpamKy3NRMzuimmOjQAAEAmwIAAV4EJQADADi0AgIDBgW4AsiyACADuP/+tAsLBlUDuP/+QAsNDQZVAxAQEAZVA7kCxwAEEPQrKyv95gA/My8xMAERIxEBXsMEJf3bAiUAAAEAKP5oA4IEMQAOAF61Kwo7CgIDuv/wAAT/8EATBw4O+QAGAAz5AgcODgAADwggBbj/8kAXCwwGVQUKDQ0GVQUWDw8GVQUgEBAGVQW5AsgAEBD2KysrK+0RMy8zLwA/7TM/7T8xMDgBOAFdEzYzIAQRESMRNCYmIyIHKJqAASoBFr9ZuHpslAQbFuP+7/wrA6KtkkIUAAEAUP/wA1YENwAXAHFANUoFSglcBVwJWRFZFAYqBSwJOwU7CQQBnwAAA58WCwyfDQ0Knw8HAQwBAAAMPw0BDQ0YByYSuP/4tAsNBlUSuP/4tw8PBlUgEgESuQLGABkQ9l0rK+0RMy9dMzwRMy8vAD/tMy/tP+0zL+0xMAFdXTc3FjMyNjY1NCYjIgcnNjMgABUUBgYjIlAaXmNxmlO1qWRdGnVcAQoBK4H2vl0OrB5dqm+n0h6sHv7K75zwlgABADwAAANGBboAFgCfQBw2BkQGVAZ1BoMGBQoKFPkABhUCCCALCAsNBlULuP/ntA8PBlULuP/gQAoQEAZVCwsUEyABuP/stAsLBlUBuP/otAwNBlUBuP/4tA8PBlUBuP/+tBAQBlUBuALKsxgAIBS4//ZAGQsLBlUUGQwNBlUUGQ8PBlUUIhAQBlUUFBcRMy8rKysr7RD0KysrK+0SOS8rKyvtAD8/7T8xMAFdEyERFAYHBwYVFSM1NDY3NzY2NTUhETP6AkwqNDZRvzMxPCwZ/bW+BCX++HCLR0htfKqPgYI/TDhaR48CNQACAJsAAAQ5BDEACAARAHBAEkMGUwZmBgMR+QEKDvkEBwogCLj/7EALEBAGVQgODw8GVQi4//K0DAwGVQi4AshAChMQIAI8EBAGVQK4/+60DxAGVQK4//RACw0NBlUCBAwMBlUCuQLHABIQ9isrKyvtEPYrKyvtAD/tP+0xMAFdISERNjMyFhYVAxE0JiYjIgcRBDn8YtazxO9ivzScklVpBA4jc8Cs/k4Bn3WGUQ79IwAAAQBQAAAEPgQxABoAxUAWCgQHCAgVKQQ2FVoEWgVpBWoSCQAQA7j/8EBLDAwPFwMCAiABABQBAQAVFxcSCw0GVRcgGAAUGBgAAAMVAxgBE/kGBwIBBg35CwsXGAoAAwIXFQUKAQEYHhAQBlU/GF8YAhgYDyAKuP/sQAsQEAZVChAPDwZVCrj/8LQMDAZVCrkCyAAcEPYrKyvtMy9dKxkzLxgSFzkAPzw8EO0/PD/tERIXOYcFLisrDn0QxIcFLhgrDn0QxAEYERI5LwA4ATgxMAFdEwMzFzY2MzIWFhURITUhETQmJiMiBgMDIxM29KS7Ti/Ic3qxUP3dAWIXX0hwnTdLwVQMAmoBu+pnj33w8f4toAE3sKFl5/7j/ncBnjsAAQCb/mgBXgQlAAMAN7QCDgMGBbgCyLIAIAO4//60CwsGVQO4//5ACw0NBlUDEBAQBlUDuQLHAAQQ9isrK/3mAD8/MTABESMRAV7DBCX6QwW9AAEAPAAAAjwEMQARAGxAIwQPFA8kDy8TNA8FAvkBCgr5CwsI+Q0HCwICChALAQsLBCARuP/vQBEQEAZVEQcPDwZVEQ4NDQZVEbj/70AMDAwGVS8RvxHPEQMRuQLIABMQ9l0rKysr7TMvXTMzLy8AP+0zL+0/7TEwAV0hITUhETQmJiMiByc2MzIWFhUCPP4AAUEaVUc9MA5DYYiQNKACCFZZNgqYFmaViAAAAgBa/+EEPgRCAA0AGQDfQCovGzcYRxhTAlkFWQlTDFMQXBJcFlMYpwmoDecB6QYPEfkLCxf5AwcUJge4//RACxAQAlUHDA8PAlUHuP/0QAsODgJVBwoNDQJVB7j/9kALDAwCVQcACwsCVQe4/+a0CwsGVQe4//C0DQ0GVQe4//K0DAwGVQe4//i0Dw8GVQe4AsZAChsOJgAKDA8CVQC4//ZAHQsLAlUADgsLBlUADg0NBlUADBAQBlUAFAwMBlUAuP/2tA8PBlUAuQLFABoQ9isrKysrKyvtEPYrKysrKysrKysr7QA/7T/tMTABXRM0ADMyFhIVFAYGIyIANxQWMzI2NTQmIyIGWgER4YbYlHDioOH+79GYiZSPmomRkAIO/gE2df8Av534mAEx/LzR4q3A1ucAAAEAGf+eA7UEJQARAJFAH4cRAQgANQ15AHkDdQx1DYkABxsAGAM7BGkEBAADAgK4//hANg8QBlUCIAEAFAEBAAMAAhD5AA8QDwIPBwIBBgMDEAMCAAIBEgwMBlUBAQgQDw8fEAEQEAcgCLkCzQATEPbtMy9dMy8REjkvKzMzETMZETkvABg/PDwvXf0ROTmHBS4rK4cOfcQxMAFdXQBdJQMzEzY2NRMzAw4DBAUnNgE8uMmdqlYKwQoIE1Wk/sP+2huzgQOk/JdD+74Bbf7ny6TFkXgxphoAAAEAbv5oA/cEMQAZAJJACTgWSRZbFgMPF7j/8LICEBW4//BAFwIDbAgIDhoTDgwMGPkOBwUFBgYAFCARuP/4tAsMBlURuP/8QBENDQZVERQPDwZVESMQEAZVEbgCyEAWGwAgDBILDQZVDAgPDwZVDBIQEAZVDLkCyQAaEPYrKyvtEPYrKysr7RE5LzMvAD/tMy8/ERI5L+0xMBc4ARc4XQERFDMyNxcGIyImNRE2MzIEEREjETQmJiMiASZ7MiIVO0yCk7TB8AEkvjOgj2IDgf7negyLGYyLAY81xv7n/BYD12+JXAAAAQBz//AEBQQ3ACAAoEA5TQ5LEnoOiw4ELw4vEj0OPRIEGGwdHQIIC/kKCg35CAsAABP5AgcLCwoKIBoaGxsWECYFCBAQBlUFuP/4tA8PBlUFuP/4twsNBlUgBQEFvQLGACIAFgLPACD/+EAREBAGVSAODw8GVSAOCw0GVSC5AskAIRD0Kysr7RD0XSsrK+0ROS8zLxEzLzMvAD/tMy8/7TMv7RESOS/tMTABXV0TNjMyABEQACEiJzcWMzI2NTQmIyIHFRQzMjcXBiMiJjV6rb3pATj+wP7iw3EuYper98KiVFJ7MiIUOk2CkgQCNf7u/vz+//7QR54/w8Ss0RPCewyLGY2KAAEAGf5oA2EEJQANAKa5AAP/7EBBDxAGVQkDAVcEaAJmA2YEeAJ2BOkD+QMIGQEUCyYLLw82C0gCRwRYAggMEAEEbAAMEAwCDAwCAA4JCAMCBgQMIAG4//hAGgsNBlUBJA8QBlWPAQEfAS8BbwF/AQQBAQkCuP/wQBADIA8CPwJfAn8CBAICCCAJuQLGAA8Q9u0zL13tOBI5L11xKyvtOQA/PDw8PxI5L13tMzgxMAFdXXErAREBMwE2NjcTMwMCBREBWf7AywEAT0AKHcchHf7y/mgDKQKU/e8vc2EBDv7N/vJp/O0AAQAKAAADZgQlABEAm7kACv/sQBwLDAZVCxQNEAZVBw0vEzoFOgpICnYEhAQHDBAFuv/wAA3/8EAeBQ0FDQYMCgYMDLoLChQLCwoGCvkHChEMCwYJCQwLuP/wQBYPCy8LAgsLAAoGBgcHEQoQEAZVESAAuQLGABMQ9u0rMy88ETMRMy9dODMzLwA/PDw//TmHBS4rh33EARESOTkAOTk4ATg4MTABXSsrAQcOAgcTFSE1IQEzATY2NTcDZgoFIWp04/0EAhX9ttkBJ0tACgQlv191fEP+nnGgA4X+KTd9c7AAAAIAlv5oA/gEJQAUABgAn0AZEBp1BoMGAxYVDgoKFPkABgggCw4QEAZVC7j/9EAcDw8GVQsMDQ0GVQsWDAwGVQsLABIgAgYQEAZVArj/9bQPDwZVArj/9bcLDAZVEAIBArsCygAaABcC47IWFgC4/+m0DxAGVQC4//O0DQ0GVQC4//W0DAwGVQC5AscAGRD2KysrMi/tEPZdKysr7RI5LysrKyvtAD/tPz8vMTABXRMhERQGBwcGFRUjNTQ2Nzc2NjU1IRMRMxGWA2IpNTVSvyc+Oysb/VwQtwQl/vhxiUhIbnuqj22HTkw3WUmP+uMD7vwSAAABACgAAAOCBDEADgBotysKOwpJCgMDuv/wAAT/8EAVBwoO+QAGAAz5AgcODi8AAQAACCAFuP/yQAsMDAZVBQgNDQZVBbj/3bQPDwZVBbj/4LQQEAZVBbkCyAAQEPYrKysr7TMvXTMvAD/tMz/tPzEwOAE4AV0TNjMgFhURIxE0JiYjIgcomoEBQv2+PrCea5UEGxb5+/3DAgqRlFwUAAEAZP/jBSoEJQAhAJFARgcPCBMWDxwTGRorHy8jMQ81ED0TPRoxHkgUSBlZBVwSWh9oBWoSah91C3IMdBB2GnkfjAWJHokfHA4DAyER+RwLFgchBgi4//hAGBAQBlUWCBAQBlUhCBAQBlUIIAcHIRYgF7gCxrUjDgMAICG5AsUAIhD0/TIyEPbtEjkv7SsrKwA/PDw/7RI5LzMxMAFdARcSFzI2NRMzAw4DBxYWMzI2NjcTMwMGAgQjIiYCEQMBJgQGEWqqFcAYBhpRr5QZtoV7sFQOK8AkFWz+9dO7/X0OBCWs/vdmapQBHf6yVVhiSQxsgnW5qwHH/nfd/tq2tQFQARgBJQABACj/+ASTBDEAHgCaQExJFUkWWhVlD3UPBQHoAAAD+R0KEgoHGPkMBwoKABggBwsLCwZVBw8MDAZVBw8PDwZVBwgQEAZVQAcBBwcQAAABAQoJCS8KAQoKEyAQuP/1tAwMBlUQuP/dtA8PBlUQuP/gtBAQBlUQuQLIACAQ9isrK+0zL10zLxEzLzMvEjkvcSsrKyvtEjkvAD/9Mj8/7TMZLxjtMTABXTc3FjMyNjURIgcnNjMyBBYVESMRNCYmIwcRFAYGIyIoITQ9RTRWfRHk6+4BAIe/L562YCV1dF4ZjxI9UAJkEp8dUNXP/cMCCpuQWgL9fWRqRAAAAgCbAAADVwQlAAMABwBPtgIGCgMHBgm4AshAGQAgAw0PDwZVAwMMDAZVA5QEIAcUEBAGVQe4//20DQ0GVQe4//20CwsGVQe5AscACBD2Kysr/fYrK/3mAD88PzwxMAERIxEhESMRA1fD/srDBCX72wQl+9sEJQAAAgCbAAADVwQlAAMABwBPtgIKBgMHBgm4AshAGQAgAw0PDwZVAwMMDAZVA5QEIAcUEBAGVQe4//20DQ0GVQe4//20CwsGVQe5AscACBD2Kysr/fYrK/3mAD88Lz8xMAERIxEhESMRA1fD/srDBCX72wQl/dsCJQAAAgCbAgADVwQlAAMABwBOtQIGAwcGCbgCyEAZACADDQ8PBlUDAwwMBlUDlAQgBxQQEAZVB7j//bQNDQZVB7j//bQLCwZVB7kCxwAIEPYrKyv99isr/eYAPzwvLzEwAREjESERIxEDV8P+ysMEJf3bAiX92wIlAAEAWgKkAYkEJQADABlADAMAAAEGAjwBZAOsAC/t/O0APzMvPDEwExMzA1pizbYCpAGB/n8AAAIAWgKkAvwEJQADAAcAMEAaAAQBBQQEBQYCPAFkA6xfAAEAAAY8BWQHrAQv7fz9Mi9d7fztAD8zLxA8EDwxMAETMwMhEzMDAc1izbb+FGLNtgKkAYH+fwGB/n8AAgCbAAAF6wQlAA0AGwBqQAkWBgIQDwEPEhG4AtK1Dg4JCgYHuALSsgoGHbwCyAAXAtAAFgLRtAEBAAIAugLQAAMC0bMREA4QvwLQAA8C0QAHAtAACgLHABwQ9v327TwQPPbtPBA8EPb95gA//Tw/PBD9PC9dLz8xMAERIxE0JiMhESMRITIWAREzESEyNjURMxEUBiMEXqhGTv4hqAKoi5D9yqgB31g8qIiTAxf+QQGuTUP8agQllfxwAs39wk5CAwb86XObAAAC/6wAAAFeBUcADAAQAE65AAAC07cHrBAPChAGCrgC07QvAwEDErgCyLINIBC4//60CwsGVRC4//5ACw0NBlUQEhAQBlUQuQLHABEQ9CsrK/3mL13tAD8/EP7tMTARMhYVFAYGIyYmNTQ2AREjESkrFiYYJS8xAYHDBUc1IBgmFgEyISUw/t772wQl//8AKP5oA4IEMQImAqoAAAEHAo0ACAH2AB1ADwIBjw8BAA8PAgJBAQICD7kC2gApACsBK101NQD//wAo/mgDggQxAiYCqgAAAQcClQAIAfYALEAMAVAPkA8CkA+wDwIPuP/AQAwJDDQADw8CAkEBARK5AtoAKQArASsrXXE1////VwAAA0YFugAmAqwAAAEHApb+VgAAABZACgEAGxsmJkEBARe5AtsAKQArASs1////VwAAA0YFugAmAqwAAAAnApb+VgAAAQYCmOE5AEmxAjC4/+K0CgoGVTC4/+K3Dw8GVQAwATC4/8BAEwwONAAwKRQTQQEAGxszM0ECASa4AtyzKQEBF7kC2wApACsrASs1KytdKys1AAABAC0AAAPBBCUADQCCQCAvDzsJOgp5BnkJeQqBAgcqAioGKgkqCjwCOwYGBgkICLj/9kAuDhEGVQi6BwYUBwcGBgk6BfkEBAMKDAcGCQkECQgGCAcHDQQEDCAvDb8Nzw0DDbkCzQAPEPZd7TMvEjkvMzMRMxkROS8AGD88PzwQ/eQ5hwUuKyuHfcQxMAFdXQECACMhNSEDMxM2ExMzA7cR/vvq/nYBFLHJou4NCsEDDP4o/sygA4X8eUMB1wFtAP//AGT/4wUqBUYCJgK5AAABBwKWA30AAAAaQA0BTy4BCi4uFhZBAQEiuQLdACkAKwErcTX//wBk/+MFKgVGAiYCuQAAAQcClv9qAAAAFkAKAQAuLiEhQQEBIrkC3QApACsBKzX//wBk/+MFKgVGAiYC4QAAAQcClgN9AAAAGkANAk87AQo7OxYWQQIBL7kC3QApACsBK3E1//8AZP/jBSoFRgImAuEAAAEHApb/agAAABZACgIAOzshIUECAS+5At0AKQArASs1//8Aaf7FBEoEJQImAqAAAAEHApQA6wAAABZACgEAFxgGEUEBARe5At4AKQArASs1//8Aaf5SBEoEJQImAqAAAAEHApUA6wAAABZACgEAGRoGEUEBARm5At4AKQArASs1AAIAaQAABEoEJQAVACUBHkBTghSAFacM2ADXFQVVA1YJVgxnA38IcxSMCQc7FUgBTQJJCE0JSQxNFQcZCCYMOAE6AjsIOwk5DAc/FYEJjxWmDNoVBQgCKRMoFT0CBAIYDBEGVQy4/+i0DBEGVSK4AtNALLAaARoaBgoVDAsLAAIJCgEBAAsLugoBFAoKARUMAQkECgYFAAEKERALCgYeuALTQCEAFiAWfxavFr8WBR8WLxYCFhYFDxASBAUHCQIMFQQRBgG4AmC3gAABAAAQIBG4Asq2JwsKBSAKBrkCyQAmEPYy7S8zEPbtMy9d7RESFzkzETMyETMSOS9xXe0APzw8PD88PDwSFzmHBS4rh33EBw48PIcOEMQ8ABgREjkvXe0rKzEwAF1dAV1dXV0hIwEGBwMjExI3AzMBNjY3NzMHBgYHATQ2NjMyFhYVFAYGIyImJgRK7P5rXRIrxisesvfrAVQ+Mg0ZxhgRbGf+rRcmFxgmFhYmGBcmFgI9M5v+kQFvAQBaAVz+JSltcNXbnK8+/t0YJRcXJRgYJRcXJQD//wAyAAAEKQQxAiYCoQAAAQYCmAjsACBAEwEAHRAdIB1gHQQAHRYPD0EBARO5At8AKQArAStdNf//ABkAAALoBDECJgKiAAABBgKY2EYAKEAaAUAkgCQCICRQJJAksCTAJAUAJB0REUEBARq5AuAAKQArAStdcTX//wAtAAAD5AQlAiYCowAAAQYCmE4AACBAEwEAEhASIBKwEgQAEgsFBEEBAQi5AtwAKQArAStdNf//AJYAAARABDECJgKkAAABBwKYAQz/vgAeQBECQB1wHbAdAwAdFg8IQQIBE7kC4QApACsBK101AAIAAAAAAbAEJQADABIAV7kADALTtwQCCgMGAyAAuP/uQBwQEAZVAAoNDwZVAEBDRDQAQD01nwABTwD/AAIAuwLIABQACALTQAkvDwEPQBARNA8vK3HtEPZxcisrKyv9AD8/L+0xMAERIxEDMhYWFRQGBiMiJjU0NjYBsMKaFiUZFiYYHzUWJgQl+9sEJf5xFCYaGCYWKykYJRcAAAIAAAAAAzsEJQATACIAjkAKDyQfJFABYgEEHLgC00AdEBQBFAkKACcR+RIGEBAAEQggCQIQEAZVCQkDIA64//pAKwsNBlUOFg8PBlUOAhAQBlUOQA4QNE8OAQ8Ozw7fDgMOE0AOFzQPEx8TAhO4AsyzJBLFGLkC0wAgL/3mEOZdKy9dcSsrKyvtMy8r7RESOS8AP/3kPy9d7TEwAV0BIgYVFBcWFRUjNTQnJjU0NyE1IQEyFhYVFAYGIyImJjU0NgM7ma0JGsAUB4f+9AKD/RkWJRkWJhgYJRcwA56vkx1U8maTrmrcSjGlcaD+qhQmGhgmFhYmGCMxAP//AIz/4wRABDsCJgKoAAABBwKYARQAAAAWQAoBACghHRZBAQEeuQLfACkAKwErNQACAAACAAGwBCUAAwAQAGa5AAoC00AMBAQAAgECAgMGAyAAuP/uQCIQEAZVAAoNDwZVACgLDAZVAEBDRDQAQD01nwABTwD/AAIAuwLIABIABwLTQAkvDQENQBARNA0vK3HtEPRxcisrKysr/QA/My9dOS/tMTABESMRBzIWFRQGIyImNTQ2NgGwwpofNTEjHzUWJgQl/dsCJfYrKSMxLCgYJhYA//8AKP5oA4IEMQImAqoAAAEGApgSuAAWQAoBABkSDghBAQEPuQLhACkAKwErNf//AFD/8ANWBDcCJgKrAAABBgKY9cwAKLEBIrj/4EAUCwsGVQAiYCJwIgMAIhsNB0EBARi5At8AKQArAStdKzX//wA8AAADRgW6ACYCrAAAAQYCmB85ADexASG4/+K0Dw8GVSG4/+K3CgoGVQAhASG4/8BADAwONAAhGhQTQQEBF7kC3AApACsBKytdKys1AP//AFAAAAQ+BDECJgKuAAABBwKYAT//vAAWQAoBACUeFQ5BAQEbuQLfACkAKwErNf//ADwAAAI8BDECJgKwAAABBwKY/2L/zgAxsQEcuP/itAsNBlUcuP/AtwwONBAckBwCuP/qtxwVAgNBAQESuQLfACkAKwErXSsrNQAAAwBa/+EEPgRCAA0AGQAoARlAIS8qXBJcFlMYpwmoDecB6QYINxhHGFMCWQVZCVMMUxAHIrgC00AZfxqfGgIgGt8aAi8aARoaFxH5CwsX+QMHHrgC00ASHyZPJgJfJo8mnyYDJiYOFCYHuP/0QAsQEAJVBwwPDwJVB7j/9EALDg4CVQcKDQ0CVQe4//ZACwwMAlUHAAsLAlUHuP/mtAsLBlUHuP/wtA0NBlUHuP/ytAwMBlUHuP/4tA8PBlUHuALGQAoqDiYACgwPAlUAuP/2QB0LCwJVAA4LCwZVAA4NDQZVAAwQEAZVABQMDAZVALj/9rQPDwZVALkCxQApEPYrKysrKysr7RD2KysrKysrKysrK+0ROS9dce0AP+0//RE5L11xcu0xMAFdXRM0ADMyFhIVFAYGIyIANxQWMzI2NTQmIyIGBTIWFhUUBgYjIiYmNTQ2WgER4YbYlHDioOH+79GYiZSPmomRkAEjFiUZFiYYGCUXMAIO/gE2df8Av534mAEx/LzR4q3A1udZFCYaGCYWFiYYIzEAAgBu/mgD9wQxABgAKADpQCAJIB8iNAkgDhE0SRVLFlsVixa4DwUZFSkVOBU9FgQPF7j/8LICDhW7//AAAgAZAtNAEyEhA2wICA0pEg4LCxf5DQcFxQa4/8C1GSg0BlUduALTtiUUDw8GVSW4/+pAFAwNBlUlQCMmNCVAGRw0JSUAEyAQuP/4tAsMBlUQuP/8QBQNDQZVEBQPDwZVECMQEAZVLxABELgCyEAWKgAgCxILDQZVCwgPDwZVCxIQEAZVC7kCyQApEPYrKyvtEPZdKysrK+0ROS8rKysr7f4r5AA/7TMvPxESOS/tMy/tMTAXOAEXOF1dKysBERQzMjcXBiMiERE2MyAWFREjETQmJiMiATIWFhUUBgYjIiYmNTQ2NgEmXC0fEzZE+bTBARr6vj+lfmIBCxglFxYlGRgmFhMnA4H+53oMixkBFwGPNeb5/BYD13WRTv6jFyUYGSUWFiYYFiUZAAIAc//wBAUENwAgAC0A1kATTQ5LEnoOiw4ELw4vEj0OPRIEIbgC00AcKCgYbB0dAggL+QoKDfkICwAAE/kCBwsLCgogG7j/wLUZIzQbPiW6AtMAK//kQCAMDQZVKwgQEAZVK0AhIzQrQBkcNCsrFhAmBQgQEAZVBbj/+LQPDwZVBbj/+LcLDQZVIAUBBb0CxgAvABYCzwAg//hAERAQBlUgDg8PBlUgDgsNBlUguQLJAC4Q9isrK+0Q9F0rKyvtETkvKysrK+3uKxEzLzMvAD/tMy8/7TMv7RESOS/tMy/tMTABXV0TNjMyABEQACEiJzcWMzI2NTQmIyIHFRQzMjcXBiMiJjUFMhYWFRQGIyImNTQ2eq296QE4/sD+4sNxLmKXq/fColRSexIKFSdCYpkCChglFzAkIzEwBAI1/u7+/P7//tBHnj/DxKzRE8J7AocTg4dJFyUYJDAwJCMxAP//AAoAAANmBCUCJgK2AAABBwKY/2X/jQArtwEcEgsMBlUcuP/uQBANDQZVABwcCQlBRwsBAQESuQLhACkAKwFxKysrNQD//wCW/mgD+AQlAiYCtwAAAQcCmADIAAAAOkAcAiMIEBAGVSNAPkM0I0AzNzQjQB0fNP8jAXAjAbj/o7cjHBcTQQIBGbkC4gApACsBK11xKysrKzX//wAoAAADggQxAiYCuAAAAQYCmBK4ACCxARm4/+5ADQ0NBlUAGRIOCEEBAQ+5AuEAKQArASsrNQACAGT/4wUqBCUAIQAuANhAWi8wzRPLFMsZ2hTaGQakC6QMqhSqGbsUuxkGeR+MBYkeiR+bFJkZBmoSah91C3IMdBB2GgZIFEgZWQVcElofaAUGKx8xDzUQPRM9GjEeBgcPCBMWDxwTGRoFIrgC00AQKCgRDgMDIRH5HAsWByEGJbgC07ZvLAEsLBYIuP/4QBsQEAZVFggQEAZVIQgQEAZVCCAwBwEHByEWIBe4Asa1MA4DACAhuQLFAC8Q9v0yMhD27RI5L139KysrETkvXe0APzw8P+0SOS8zETkv7TEwAV1dXV1dXV0BFxIXMjY1EzMDDgMHFhYzMjY2NxMzAwYCBCMiJgIRAwEyFhUUBiMiJiY1NDYBJgQGEWqqFcAYBhpRr5QZtoV7sFQOK8AkFWz+9dO7/X0OAxAjMTAkFSUaMAQlrP73ZmqUAR3+slVYYkkMbIJ1uasBx/533f7atrUBUAEYASX+AjEjIzETJxojMQD//wAo//gEkwQxAiYCugAAAQcCmAGG/6MAHEAPAaApsCkCACkiGBJBAQEfuQLhACkAKwErXTUAAgCbAAABXgVGAAMAEgBOuwAMAtMABALdtAIKAwYIuALTsxAQAxS4AsiyACADuP/+tAsLBlUDuP/+QAsNDQZVAxQQEAZVA7kCxwATEPYrKyv95hI5L+0APz8/7TEwAREjERMyFhYVFAYGIyImJjU0NgFew2AWJRkWJhgYJRcwBCX72wQlASEUJhoYJhYWJhgjMf//ADIAAAQpBUsCJgKhAAABBwKbAIYAAAAkQBYBFEASFTQAFBAU4BQDABQVCwtBAQEUuQLdACkAKwErXSs1//8AUP/wA1YFSwImAqsAAAEGAptkAAAWQAoBABkaDQdBAQEZuQLdACkAKwErNf//AHP/8AQFBUsCJgK0AAABBwKbALwAAAAjtAFAIgEiuP/AQAwJCzQAIiMCAkEBASK5At0AKQArASsrXTUAAAEAPAAABGQFugAZANJAI2wCcQhzCQMFDxoIJxg0A0sASwFXGW8IigiCGAoCGAwRBlUQuP/oQDsMEQZVDBkQDw8AAgkKAQEKCiAPABQPDwAZEAIJBA4GBQABCgv5DhQVFQ8PDgYWExQEBQcJAhkQBBUGAbgCYLeAAAEAABQgFbgCykAPGwoLDA91Dg4NIAwMBSAGuQLJABoQ9u0zL/08EOQQPDIQ9u0zL13tERIXOTMRMxEzMgA/PBA8EDwQ7T88PDwSFzmHBS4rfRDEBw48PIcOEMQ8ABgvKysxMAFdAF0hIwEGBwMjExI3JyMRMxEzATY2NzczBwYGBwRk7P5rXRIrxisesoa8vngBVD4yDRnGGBFsZwI9M5v+kQFvAQBavAI1/mv+JSltcNXbnK8+AAAB/9z+7QAkBQkAAwANtAIDAKsDL+0ALy8xMBMRIxEkSAUJ+eQGHAAAAf8l/u0A2wWFAA4BAUASGAUXCwJNAk0OAgEM5Q0NBOUDuP/AswkONAO4AthADQUK5QkG5QkHQAkONAe4Ati2BQhAPz80CLj/wEA0Fhc0CAgFCwUOAkCNjjQCQFtcNAJAJik0AkAOFzQCAgUiCRQ0BQzlDQrlCQ1AKy00AA0BDbgC1kAJCUArLTQACQEJugLWAAv/3kAPKzM0CwsOqwIE5QMG5QcDuP/AtistNA8DAQO6AtYAB//AtistNA8HAQe4Ata3BSIrMzQFBQIvMy8r5F0r5F0rEOwQ7BD9Mi8r5F0r5F0rEOwQ7AAvKzMvKysrKzwQPBEzLysrEP0rPOwQ7BD9K+w8EOwvMTAAXQFyEyMRByc3JzcXNxcHFwcnJEiGMaurMaqqMaurMYb+7QVtiDGpqDGrqzGoqTGIAAH/3P7tAa4FhQAKAF9ANgYK5QlyCAAAAwgB5QJyAwMEqwgHAHIIBasGBgcK5QkB5QICCegICAMiKCk0A0AJCzQDpQSrBy/99isrPBD0PBDsEOwQPBDtEO0ALzz9PBD05BkREjkvGBD05C8xMAEHJzchESMRISc3Aa7ZMYn+9kcBUYkxBK7WMYL6YgXlgjEAAAH+Uf7tACMFhQAKAHpALgxACQo0AQflCHIJBgYJAwXlBHIDqwkCqwkKBnIJAasAAAoH5QgF5QQECOgJCQO4/96zKCk0A7j/wEANCQs0A6UCqwpACQo0CrkC2QAMEPUr/fYrKzwQ9DwQ7BDsEDwQ7RDtAC887RD99OQZERI5LxgQ9OQvMTABKxMjESEXByc3FwchI0f+9okx2dkxiQFR/u0FnoIx1tcxggAAAQCrARgB7QOMABEAQ7ELCrj/wLMPETQKuP/AtQwRNAoKA7gC7LcLCgoADw8GALj/wLUQETQAAAa4ARyFLzMvKxI5LxI5LzMAPzMvKyszMTABFAYjIiY1NDc2NxcGBwYVFBYB7VA/TWZYK1YhOx832QGhNVSQa5VwNz03NihHNjYwAAIAoAEWAeIE4AARAB0AXbELCrj/wLMPETQKuP/AQAsMETQKCg8DAQMDG7wC7gAVAuwAEgLtQAsYGAYLCgoADw8GALj/wLUQETQAAAa4ARyFLzMvKxI5LxI5LzMRMy/tAD/9Mi9dMy8rKzMxMAEUBiMiJjU0NzY3FwYHBhUUFgMUBiMiJjU0NjMyFgHiUD9NZlgrViE7HzfZG0MwMEdGMTFCAvU1VJBrlXA3PTc2KEc2NjD+Ii9FRS8wREIAAgBDARgCnAWxACcAMwCDuQAU/8yzDhE0FLj/4EARCgw0BEAVGjQEQAkRNAQEGQ26AvEAJQLytxlACQs0GRkxvALuACsC7AAYAvG2GRkoLgoKALgC7UAPB0ASEzQHB4AQARAQIiIougLtAC4BJIUv7TMvMy9dMy8r7TkvERI5L+0AP/0yLys/7RE5LysrMTABKysBFAcGIyImNTQ2NTQmIyIGFRQXFhcWFRQHJzQ3NzQnJicmNTQ2MzIWAxQGIyImNTQ2MzIWApwkKUAyQm5ANEFTKkAOKgo9AQVKfgxLtIV4qLZJNDFISTQzRgS5Pi81QixERBYiKkk1MUx0Iml6QlIBEgo0OEJwDllvh7KJ/GwzSUoyNElKAAEAeQCTAugDMwAkAJe1CyAQETQhuP/gQA8QETQXExhADhU0GBgcIwC6Au8AAf/AtwkNNAEBIwoTuALvshwcI7gC77UKBgoFBQq4AutADSMjGBgXFwEAAAEBJga4/8BADAkKNAYFEA4PNAUFH7oC8wANARaFL+05LyszKxEzLzMvETkvOS85LwA/My8SORD9Mi/tERI5LyvtERI5LysROTEwASsrAQcGBwYHJzY3NjcnJjU0NzY3NjMyFxYXByYnJiMiBhUUFxYXNgLoMJhicV0fDRYTGXQzKDA+UFFLMQsoNCUHPScwaDwvX4sCGaQmLzZXES4nIhtCIiggVGRDVisJLoMZBSc2IikmHSJDAAH/ugElAagB0wADABi9AAIC7wABAusAAALwsQUBLxDkAD/tMTABITUhAaj+EgHuASWuAAACAEYE1wGcBj0ABwAQAES5AAAC9bICAga4AvVACQRACQ40BAQPCLgC9bILCw+6AvUADQL0tAAICAQNuAEkhS88My88AD/tMy/tETMvK+0zL/0xMAEUBwYHNDc2FxQGBwYHNDc2AZwzW8gsU9cbF1zILFMGPS4rJVArKCM+MBcUJVArKCMAAAIARgTXAeUGWgAvADoArUAJAzkJJQgIIw0tugL1ADP/wLULDzQzMzm4AvW2JSUUGBgjHLgC9bIUFCO6AvUADQL0QA4IBjkJMCU1KSMfEQYGALoC9gAw/8C1CQo0MDA1uAL2QAwpQAkRNCkpHw0YGBG6AvYAH//AsxcbNB+4/8CzDhI0Hy8rK/0yLzkRMy8r/TIvK+05LxESORESORE5ORI5AD/9Mi/tEjkvETkv/TIvK+0REjkvEjkROTEwARQGBxYWFRQHJwYHBiM2NzY1NCYjIgcGBzY3NjMyFhUUBwYHNjcmJyY1NDc2MzIWBzQmIyIVFBcWFzYB5RYWDhIHVi46R1coBAwUExQSBxQHCxQuIiYEBwNFPxEQGicrNRsmRxgUFhIFHg0GGiVBIgoXDS8pQzYeJEIJGxgYJRgKI0YfN0IqFRUdDxQvEBEdIC8vNCZVFyYcEhQGGxMAAAIARv72AZwAWwAHAA8ARbkACAL1sgoKDLoC9QAO/8C2CQ80Dg4EALgC9bICAga6AvUABAL3tAAICAQMuAEkhS88My88AD/tMy/tETMvK/0yL+0xMCUUBwYHNDc2FxQHBgc0NzYBnDRayCxT1zRayCxTWy8sI1EsKCI7Ly0jUisqIwABAEYFYgGcBjEABwAjuQAAAvWyAgIGugL1AAQC9LIAAAS4ASSFLzMvAD/tMy/9MTABFAcGBzQ3NgGcNFrILFMGMS4tI1EsKCMAAAIASATXAa0GigAdACgAirUaJwQNAxS6AvUAIf/AQAoLDTQhIScDAwknuAL1sg0NCbgC9EAMAwAXDQQnAx4kAAAXuAL2sx4eJAi4AvayCQkRugL2ACT/wLMaHDQkuP/AsxMVNCS4/8CzDhA0JLgBHYUvKysr/TIv7REzL/0yLxESFzkREjkAPzMv7RI5LxEzLyvtERI5ETkxMAEUBgcnBgcGIyM2NzY3JicmNTQ2MzIWFRQGBxYXFic0JiMiBhUUFxc2Aa0GA1MyEkoySTVHQCEfEBRNLRoqCxQQEQtLJhIKCxksCAV9ESQSMjcSSBk4MycTFRofQmU4KBMpNw4NC10bLg4HFhgiFAAAAQBG/9UBnACkAAcAI7kAAAL1sgICBroC9QAEAviyAAAEuAEkhS8zLwA/7TMv7TEwJRQHBgc0NzYBnDRayCxTpDAsI1ArKCIAAQBGBNcBsQYZACgAh0AbBxgEJSYhHB0RGB0dEiZACQo0JiYPEgESEhghuAL1sgQEGLoC9QALAvS3Bx0cFRIRACa4Avm0JSUdDhG4AvmyEhIdugL5ABz/wLMVFzQcuP/Asw0QNBwvKyvtMy/9MhEzL/0yERI5ERI5AD/tOS/tETMvXTMvKxI5LxE5EjkREjkREjkxMAEUBwYjIiYnBgcGIyImNTQ2NzcUBhUUFjMyNzY3NxYXFjMyNzY1NxYWAbEaHTMSHhMVEiAjKioODRUEEhIrGgwSFQgFDBwmFhIVBAcFxUswNgwNJBIgOTIaMiAJCCQMFiM4GksGMQsfMigrBhMvAAACAEYE1wFRBg0ACwAYAC25AAkC9bIPDxa8AvUAAwL0AAAC9rIMDAa6AvoAEgEdhS/tMy/tAD/9Mi/tMTABFAYjIiY1NDYzMhYHNCYjIgYVFBcWMzI2AVFcQzY2UDs2SjxOGxokIRoxGSIFdz5iPDZNd1pXHEQtGCMOCw4AAQF8AcACwQOdAA0AHUAOCgoDCiAQEzQDCgcAAAcvMy8SOTkrAC8zLzEwAQYGByYnJic2NjcWFxYCwRwcE1UwIFUVIyI4OSYC6FdsZTAiF0Rbdl8xLB0AAAEBLgElAp4FuwATADuyDQ0OvALyAAUC6wAS//BAEAkSNAcEDg4FDUALHTQNDQS5AvsABS/tMy8rGRI5LxE5KwAYPz85LzEwAQEUBwYHIzQ3NCcmJyYnNxYXFhcWAp4OAxkiBDotTyhKYE8wRCMqAsdadx20GHPUuI9+QFrYX1FzgJgAAAEAtwElAyEFyAAgAH+xBgS4Au9ADBlADhE0GRkVFBQPFbwC8gAdAvIADwLrtRFADhg0Cbj/9LMJETQduAL7sx4eDga4/9ZADw4RNAYVFQ8UQAsdNBQUDrkC+wAPL+0zLysZEjkvOSsRMxgv7SsrAD8/PxI5LxE5Lyv9ObEGAkNUWLQUQA8RNAArWTEwARQHBiMiJxYXFhYVFAYVIwInJiYnNxYXFjMyNzY3NxYWAyE0OWgNOCYQGxwEHkwZMIODQkM0X2pwKxgNIAQEBRtuQkgIUC9P1LIfjQYBQ1Wm96TKXy5USylrAiNdAAEAgQElA8QFyAApAJa3FSAOETQGHAO4Au+zJCQYCbgC70ALjxwBHBwSFxcYEiZBCQLyACAC8gAYAvIAEgLrACAC+7MhIREnugL7ACb/wEAXDBI0JiYOEYAJAQkXGBgSF0AKHTQXFxG6AvsAEv/AswkMNBIvK+0zLysZEjkvETldETMzGC8r7RI5L+0APz8/PxESOS8ROS9d7RI5L/0ROTEwASsBFAYjIiYnBgYjFhcWFhUUBgcjNAInJic3FhcWMzI3NjczFhYzMjczFBYDxF9jOVQUImhJJRAdHwsYKDhENINJNDxDUlUwKRAgCDg0aRQhBQVjfYQkJTg5SSdHoHE/dZncARqFZcHtViwxOjJcXEqmFkkAAQEsASUDLgW1ACsAcrOEHwEfuP/AswsRNCC4/8C3ChE0IA0NABi+Au8AFwLyAAAC7wABAuu2AQAAGBcXIrgC/LMNDSgRuAL8shwcB7oC/AAoAS6FL/05L+0RMy/tOS8zMi8zAD/tP+0ROS85K7EGAkNUWLIJDQEAXVkxMAErXQEHIicmJyY1NDc2NzY3JicmNTQ3Njc2NwcGBwYVFBcWFxYVFAcGBwYVFBcWAy4/WlNuQ1IjHj4hXFVVZUo5bUxdH28lWEtGR0xEPz9EiVkB78oNESIpPTk8M0IjVyAhLS5MZE1iREfAKRIrJCAhGxofGh1IQkFNKTAgFQAAAgC+AfoDgAT5ABAAIQBAQBAUQA4RNBkgDhE0FEAJETQOuALvshcXH7sC7wAEAAAC/rIREQi6Av0AGwE0hS/tMy/tAC/9Mi/tMTABKysAKwEUBwYjIicmNTQ3Njc2MzIWBzQnJicmIyIHBhUUFxYzMjYDgGd113lGUCwyRlZcdvZKUENlXS9CLCRFP3x6nAOZrXGBKjBbUYeYYnju3DlCNy0pWklIUiYjSQABAK8BQANHBa8AKABvuQAo/+CzDBE0J7j/6LYJETQfFgsPuAL/sxsbFgC4/8C2DhE0AAABFrwC8gABAusAFwL7thYWBx8BCwe4Av5ACyNAEBE0IyMBAAABGS8zGC8RMy8r/TkSOREzL+0APz8SOS8rETkv/TkSOTEwASsrAQcmJyYnJjU0NzY3BgcGIyInJjU0NjU3FhcWMzI3NjcGBwYVFBcWFxYDRyZBITgdJAUBFTAXSi+cMCYGJBgWLmpPYxZVEQcMHBYuEAIk5CslPVtvozo9EbYJBA4gGU4hhCIENxIlEwQTZzNXQaFuV0gZAAABAIEBJQOsBa8AEQCFQCAMIA4RNAMmDhE0AzQJDTQBAQAIQA4RNAhAChE0CAgJALoC8gAJAvK1DSAJDTQNugL/AAUC60ALDg0FCAkBAAAJBAW4AUeFGS8zMzMvMy8zETMzABg/7Ss/PxE5LysrEjkvsQYCQ1RYQA8NyA8RNA2WDg40DUAJDTQAKysrWTEwASsrKwEDBgIDIwICJxMWFxYTMxI3NgOsCJSuKQ5Ax6Mkm2ViPwonWVYFr/7hl/5e/s4BMwGEkgE9tdHL/vgBFtnSAAABAJoBMQPGBbsAFgCTQBMGVA4RNBMmDhE0EzQJDTQMDAsAuP/Asw4RNAC4/8C1ChE0AAABvALrAAsC6wAE/+CzCQ00BLoC/wARAvJACwUEEQwLAAEBCxARuAFHhRkvMzMzLzMvMxEzMwAYP+0rPz85LysrEjkvsQYCQ1RYuQAE/zizDxE0BLj/arMODjQEuP/AsgkNNAArKytZMTABKysrAQMmAicjBgcGBwYHETY3NhMzFhcWFxYDxiSU3jEHKyAqPD9ukFlWMhMzPztQQgJz/sSZAcj94XKXdnyIAR6F1c8BQ+6elG5aAAACANsBJQNNBcwAGgAnAGq5ABr/4EANDBE0AxAJCjQbHwUlALj/wLYPETQAAAEIuALvsyUlAR++Au8AEQLyAAEC6wALAv2yIiIbugL9AAUC/bUXFwEAAAEZLzMYLxEzL+39Mi/tAD8/7RE5L+0ROS8rETkSOTEwASsrAQcmJyYRBgYjIiY1NDc2NzYzMhcWFxYVFhcWAzQnJiMiBhUUFjMyNgNNPWQgGkREIW2BHiZAUm9TKyMLBxQiD64XH1A8cGJGHlYB+tU9kHYBLRgOWlQ+W3RHW1dGi1ao5l0pAgpbL0BaJyouDAAAAwCFAKwDtAY4AAsADwAbAFBACQ8CDxs0Bg0BA7gC7rMJCQ8ZuALusxMTDha4Au2yEBAPuAMAswwMHQC4Au2yBgYNuQMAAA4v7Tkv7REzL/05L+0ALzMv7S8zL+0xMAFdKwEUBiMiJjU0NjMyFiUBIwETFAYjIiY1NDYzMhYBtEw3Nk1MNzdMAgD9Pm0CvERMODdKSzY2TgW5N05PNjVKSEf6hgV6+vc2TEw2Nk9OAAABAMEAMAHXAiIAFAA5uQAS/8C1DBE0EgcGuP/AtgwONAYGEgu4AuxACQcGBgsLDwAADy8zLxI5LzkvMwA/MzMvKzMvKzEwARQHBgcGByc2NzY1JicmNTQ2MzIWAdcmHzsiSipFFykxJSlLNjlWAZpVSTs5ITc3NxktKBMgJDw2TVAAAgCzAzoDZAX0AGcAcwEcuQAN/+CzCxA0I7j/4EAyCxA0DSMYAzAecWU2a1kgCxA0QiALEDRZQkdOGBgsOQZhBGsfKg8HBHEeRlU7YARrRx68AvsAEQL7AHH/wLUKDTRxcVS6AvsARwL7tR9rAWtrTrgC8kAZCiALEDRcIAsQNApcXwABAABRFWFoSxtuP7j/4LMLEDQmuP/gQB4LEDQ/JixQMwEzM0ZHVFUPER4fCG4HYGFoOypuLAa6AvsAYQL7t2hACgw0aGg5vAL7ACwC+wBuAUCFL+XlMy8r5eUREjk5ERI5ORIXOTIvcRI5OSsrETk5ERI5OTMvcTk5KysAPzMvXeXlMy8r5eUREhc5ERIXOREXOTIvERI5OSsrETk5ERI5ORE5OSsrMTABFAYjIicnBxcWFRQGIyInBgcWFxYVFAYjIiY1NDY3JwYHBiMiJjU0NzY3JicGBwYjIiY1NDYzMhYXNjcmJyY1NDYzMhcWFzcmJyY1NDYzMhYVFAYHFzY3NjMyFhUUBwYHFzY3NjMyFgU0JiMiBhUUFjMyNgNkLCE1SkoKdlYlHDRqCQwWCREhIB8hJBIbIiEuMBwkVghxCANDITsrISsqIixrMwMIPTxWJBwvLigcGQIXGyEfICElERs/Ay4uHSRVSS4KQSE8KyMq/s8WEhEWFhERFwSWHSQZGh46LzYcJ88GA0QiPCweKCcfLW4zCUA/UCYdNi4ENxAOFwoSIx4fJCUSEBIcHS02HShQTDQICUNRMR4rKh8tbTIKegVRKB01LSQWIhgLFCMgEhYWEhAYFwAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgA2AQoCGANxABEAHwBQQAkWIA0RNAwWHQ64Au+yDQ0dugLvAAQC60AJFhIMDQgODhoSuAL9swAAIRq6Av0ACAEohS/tETMv7RkROS8SOTkSOQAYP/0yL+wSOTkrMTABFAcGIyInJjU0NzY3JzcWFxYHNCcmJwYHBhUUFjMyNgIYLke9STA3IyAhDz21I3hXbi82LQkcOTA4hAJMjUduHSE9RlxOTwSpXxlUpyY/GxoxDCcjMzk/AAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAEAngEtA6QFwwAsALe5ABL/4LYQETQLDBkEuP/gQAsJETQEExAaGSAdGbj/wEAKCQ40GRkWEBAHHbgC77UAFgEWFge4AvKzAAAnAboC8gAnAutACgwLCxMkGiYgABO4Avu0BAQmABm4AvtAEBoaICYAAQEnAEAMHTQAACa4AvuzMCcBJy9d7TMvKxkSOS8REjkyGC/tERI5L+0SORESORE5LzMAPz8SOS8/OS9d7RI5LxI5LysRORE5ETk5KxI5OTEwASsTNxYWFzY2MzIXFhcHJicmIyIGBxYWMzI2NxcGBiMiJicWFxYVFAcjNCcmJyaeS1pKRw5fWz0xLTEIBSExLl1xHTNJH1JyPhccm3o7RSgqDAkzIyciRDYEy/CiYCqjkR4bPAwBCxBpdBAPOEsIk5oVHWBBMmuO6du0n45xAAACAJgBRgOHBaoAFgAsAHtAGSMgCxE0HyALETQXIRYDABoMKgkAQA4RNAC8Av8AAQLyABoC/7IJCSq6Av8ADwLrQBAXDCEWKgsRNBYWHQABARMduAL+swUFLie6AvwAEwEshS/tETMv7RkSOS8zEjkvKzM5OQAYP+05L+0/7SsREjkREhc5MTABKysBNxYXFhUUBwYjIiYnBgYjIicmNTQSNxMWFjMyNjU0JyYnBgcGBwYVFBYzMjYBrkLSaVxBSmscMBwsWS9fPUGixFAWTSgwQVdQjSkwQCcxRD0rRwTP29HQtpd4aXcOFyUeNDdfcQEd5P3UFyAzJ0qHfJ4rQ1lSZ0pAShwAAQDLAS0DewW9ACMAebUVIA4WNAq4/+C2CxE0DxATHbgC77YcHBkTEwwDuALvsxkZAAy6AvIAAALrQBUDQA8QNANACw00AxwjEA8PHRwcIxa4AvOyBgYjugL7AAABIoUv7TMv7REzLzM5LzMREjkrKwA/PxI5L+0SOS8SOS/tEjk5MTABKysBNBI3IiY1NDY3NjYzMhYXByYmIyIGFRQWMzI2NwcGBwYHBgcBWEdRlZBOSzt2LTVzSwpJTTF9lWxfVo17LWJeaERNFAEtqwEuhT8+L5FZSlJWXwoZEEMyNjwiOL8iWGGHmLQAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAwBGBNcBsQdXAAcAEAA6AM65AAAC9bICAga4AvVACQRACQ40BAQPCLgC9bILCw+4AvVAGw1ACRE0DQ0kGCoVNzgzLi8jKi8vJDg4JCQqM7gC9bIVFSq6AvUAHAL0tAAICAQNuP/BQAwPEDQNGC8uJyQjETi4Avm0NzcvHyO4AvmyJCQvugL5AC7/wLMVFzQuuP/Asw0QNC64ASSFLysr7TMv/TIRMy/9MhESORESOS8rPDMvPAA/7Tkv7REzLzIvEjkvETkSORESORESOREzLyvtMy/tETMvK+0zL+0xMAEUBwYHNDc2FxQGBwYHNDc2FxQHBiMiJicGBwYjIiY1NDc2NzcUBhUUFjMyNzY3NxYXFjMyNzY1NxYWAZwzW8gsU9cbF1zILFPsGh0zESERFBMgIykrCAUOFQQSEisaDBIVCQQMHCYWEhUEBwdXLislUCsoIz4wFxQlUCsoI6JMMDYNDCITIDkxGh0SJAgIJAwWIzgZSwcxCyAyKS0GEzEAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAf+6ASUFGwHTAAMAGL0AAgLvAAEC6wAAAvCxBQEvEOQAP+0xMAEhNSEFG/qfBWEBJa4AAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAQAOv6ZBbUDwAAcACAAJAAoAO61JBASFTQeuP/wsxIVNCi4//CzEhU0ELj/wEALDhE0FjQMETQhIyK4AwK1JCQeJScmuAMCtCgoHR8euAMCQAxvIAHfIAEgIAEKEglBCQMEABcC7wAYAwQAEgLvAAEC67IiJCG4AwG1IyMlHiAduAMBtB8fJignuAMBtyUlBRgYFxcTQQoDAwBAAAAC8AAqAAoC+wAgAAn/wLUJCzQJCQ66AwMABQEqhS/9MhkvKxrtGBD0Gv0yLxk5LxgROS/9OTkzL+05OREzL+05OQA/7T/tPxI5ETMvXXH9OTkzL/05OREzL/05OTEwASsrKysrASEiJyY1NDc2NxcGBwYVFBcWMyE1NCYnNxYXFhUBByc3EwcnNycHJzcFtfxGwHKPKg85HhYVHXxvqgNPNkFNLAlE/kVKpEyASqNNIkulTgElQ1SzXWEjYhMuLkc4dkE6G3CNMqM3DnDW/gORVJH+n5JWklqPVZAA//8AOv6ZBbUDwAAWAx8AAAAE/7r+mQH0A6YAAwAHAAsAGAC7tQcQEhU0Abj/8LMSFTQLuP/wQAsSFTQSNAwRNAQGBbgDArUHBwEICgm4AwK0CwsAAgG4AwJACm8DAd8DAQMDDRO+Au8AFAMEAA4C7wANAuuyBQcEuAMBtQYGCAEDALgDAbQCAgkLCrgDAbcICA0UFBMTD70DAwAMAvAAGgANASqFLxD1/TIvGTkvGBE5L/05OTMv7Tk5ETMv7Tk5AD/tP+0RMy9dcf05OTMv/Tk5ETMv/Tk5MTABKysrKyUHJzcTByc3JwcnNyUhNSE0JyYnNxYXFhUB5EqkTIBKo00iS6VOAZb9xgHxHBNLTkgSGziRVJH+n5JWklqPVZD0rnY+K1GjWzNNsv///7r+mQH0A6YAFgMhAAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAABAA2/k4EIAN1ACwAMAA0ADgA9rU0EBIVNC64//CzEhU0OLj/8EAREhU0KSAKCzQYKgoLNHkqARu4/7a1CRE0MTMyuAMCtTQ0LjU3NrgDArQ4OC0vLroDAgAw/8BACgsRNDAwEwcDHx66Au8AIAMGtA8SABMLuALvsgMDEroC7wATAweyMjQxuAMBtTMzNS4wLbgDAbQvLzY4N7gDAUAXNUAKCzQ1NY8AAQASHiAfHxMSEjoHBxm6AwMAJwEqhS/tMy8RMy8zMy85ORE5XTkvK/05OTMv7Tk5ETMv7Tk5AD/tOS/tEjkROT/tORE5ETkvK/05OTMv/Tk5ETMv/Tk5MTABK10rKysrKwEiJiMiBwYHNjc2MzIXFjMyNjMHBgcGBwYVFBcWITMXByMiJyYnJjU0NzY3NgUHJzcTByc3JwcnNwHkFEwTQFA0WigjS7FCzF9FHXAcJdOU3HuZ4MMBRrgG4jrYj6tYZE88cyMCAUqkTIBKo00iS6VOArgGDAgScSJKHA0OqSQuRGJ6ptdsXgufKDBqeceohmZbHPORVJH+n5JWklqPVZAABAA2/k4ENQNpAD4AQgBGAEoBNrVGEBIVNEC4//CzEhU0Srj/8EAREhU0HiAKCzQNKgoLNHkfARC4/6K1CRE0R0lIuAMCtEpKQT9CuAMCtEBAQ0VGuAMCQA/QRAFERAETOAg0PSklFBO6Au8AFQMGtDAzIjQtuALvsiUlM74C7wA0AwcAPQLvAAEC67JERkO4AwG1RUVBSEpJuAMBtEdHQEJBuAMBQBI/QBIZNF8/fz8CPz8EDjgzCAS4AwNAEDk5jyIBIjMTFQ4UFDQzMwC4AvCzTCkpDroDAwAcASqFL+0zLxDkMy8zMy8SOTkROV05L/05EjkREjkvXSv9OTkyL/05OREzL+05OQA/7T/tOS/tEjkROT/tORE5ERI5ORESOS9dsQYCQ1RYtA9EH0QCAF1Z7Tk5Mi/9OTkyL/05OTEwAStdKysrKysBIyImNTQ3NjcGBwYHBhUUFxYhMxcHIyInJicmNTQ3Njc2NyYmIyIHBgc2NzYzMhYzMjY3BwYHBgcHFBcWMzMFByc3EwcnNycHJzcENYl5ZgoEB6tXoFhv4MMBRrgG4jrYj6tYZFVCfyWpKFkkZT8VbiIlU7Fh4k0zYTUoKTQhOgIyH0uJ/ptKpEyASqNNIkulTgElWmgnOhYkNCVEVmyK12xeC58oMGp5x6uAZFMZWgUHCQMYYiZUJQgHqgUJBgs4UhwR25FUkf6fklaSWo9VkAAABP+6/pkEPQNrABYAGgAeACIAsbUeEBIVNBi4//CzEhU0Irj/8LUSFTQbHRy4AwK1Hh4YHyEguAMCtCIiGRcYuAMCtRoaAQsCD7gC77MJCRYCugLvAAEC67IcHhu4AwG1HR0ZICIhuAMBtB8fGBoXuAMBQA8ZGQMLCwEDVAsRNAMDAQC4AvCxJAEvEOQROS8rEjkvETkv7Tk5My/tOTkRMy/tOTkAP/08Mi/tEjkRMy/tOTkzL/05OREzL/05OTEwASsrKwEhNSEmJyYnJiMiBzY3NjMyFxYXFhczAQcnNxMHJzcnByc3BD37fQMvZkZXSFFTMzQdL0RoZotFnHkrPP6FSqRMgEqjTSJLpU4BJa5PLDcZHAdKLUFkMoxtCf5lkVSR/p+SVpJaj1WQAP///7r+mQQ9A2sAFgMpAAAABABK/0YD6QXJAB4AIgAmACoA6UALKhASFTQkEBIVNCC4//BADhIVNBMqCRE0EioMETQEuP/gswkRNAO4/+CzCRE0Arj/1kALCRE0GDQMETQfISK4AwK1ICAqIyUmuAMCtCQkJykquAMCQAkPKAEoKBoNDBm6Au8AGgMJsgw6ELoDCgAGAwiyICIhuAMBtR8fJSgqKbgDAbQnJyQmI7gDAbclJRkaGhkZFboDAwAAAvCyLA0MuAEahS8zEPT9Mi8ZOS8RMxgv7Tk5My/9OTkRMy/9OTkAP/0Z5Bg/7RE5ETMvXe05OTMv7Tk5ETMv7Tk5MTABKysrKysrKysrARQHBgcGIyInJicmJzcWFjMyNzY2NTQnJic3FhcWFQMHJzcBByc3BwcnNwPpXlJ6dEtFUD1VSEcRQo86gIt+si4lQzlSJyzfTaBKAWhOoktBTKJKASVudmhLSBQPIBsbKA0bUkvlXE9XRkqdTExWagNbklaS/viQVo+vkVSRAP//AEr/RgPpBckAFgMrAAAAAQAUASUGfwXfACwAurkAFv/AQBMQETQJIBARNDsFawUCCSAJDDQquP/gsxARNBK4/+izDxE0Erj/3LMNDjQSuP/wQAoKDDQEAwcSBCwNQQsC7wAMAwsAJQAkAwkAGgAsAu8AHALrswMEAAe4AvO2QBISKAwMAEEJAwAAGwLwAC4AJQL7ACAAJP/AtQkLNCQkKLoDAwAgASqFL/0yGS8rGu0YEPUZ7TMYLxI5LxrtEjk5AD/9PD85P+0RFzkrKysxMAErK10rKwEmJicHJyY1NDc2NyUVBwYHBhUUFxYXFhcWFxUhIicmNTQ3NjcXBgYVFBcWMwYLRrSZIXY+VE6/ARrRfU1iQCgpmHF6SvtV72VsLw0qIiIVc1amAdNqnVsfWjQdrGJaSG6tRikiKxcXMB4ec36Hka45PZNYcB9UFE5UJm0sIQABABQBJQd2Bd8ARQD9uQAq/9azEBE0Ibj/8LMPETQvuP/gsw8RNCy4/+CzDxE0MLj/4LMNETQuuP/gQBUNETQ7G2sbiT0DHyAJDzQTIA8RNA64/+CzEBE0KLj/4LMPETQouP/csw0ONCi4//BACwoMNEEaGR0oBRAjQQwC7wAiAwsACQAIAwkANwAQAu8AOAAAAuuzGRoVHbgC80ANDyhfKAIoKBUMIyM4FbgDA7RAQUEMOL4C8ABHAAkC+wAgAAj/wLUJCzQICAy6AwMABAEqhS/9MhkvKxrtGBDlETkvGu0SOS8REjkvXe0SOTkAPzz9PD85P+0RFzkrKysxMAErKytdKysAKysrKwEiJyY1NDc2NxcGBhUUFxYzITI3NjU0JyYnBycmNTQ3NjclFQcGBwYVFBcWFxYXFhcWFxYXFjMzFSMiJyYnJicmJxQHBiMB1O9lbC8NKiIiFXNWpgGqn2yBMRlIIXY+VE6/ARrRq0Y7QCgpWEc9NSFJLy09LYN7UlosUTELGTNvd+sBJTk9k1hwH1QUTlQmbSwhKTFZQy4YJh9aNB2sYlpIbq1GOiMeEhcwHh5DQTg8JVo5JjOuVClpPw0eMbJkawAAAf+6ASUDJwXfAB0AobkAGf/AQBMQETQMIBARNDsIawgCDCAJDDQVuP/osw8RNBW4/9yzDQ40Fbj/8EAKCgw0BwYKFQQCEL8C7wAPAwsAHQACAu8AAQLrswYHAwq4AvNAFkBvFY8VAg8VLxVfFQMgFQEVFQEPDwO+AwAAIAAAAvAAHwABASqFLxD0GhntMxgvEjkvXV1dGu0SOTkAP/08P+0RFzkrKysxMAErXSsrASE1ISYmJwcnJjU0NzY3JRUHBgcGFRQXFhcWFxYXAyf8kwL5RrSZIXY+VE6/ARrRfU1iQCgpmHF6SgElrmqdWx9aNB2sYlpIbq1GKSIrFxcwHh5zfoeRAAH/ugElBB4F3wA2ANy5AC//1rMNETQmuP/wsw0RNDS4/+CzDxE0Mbj/4LMNETQ1uP/gsw0RNDO4/+BAHw0RNFQrVDICRCtEMgI7IGsgiQsDJCAJDzQYIA8RNC24/+CzDxE0Lbj/3LMNDjQtuP/wQA4KDDQALQEPHx4iLQUVKEEJAu8AJwMLAAUAFQLvAAYAFALrsx4fGiK4AvNACw8tAS0tGhQoKAYauAMDsw8PFAa7AvAAOAAUASqFLxDlETkv7RI5LxESOS9d7RI5OQA/PP08P+0RFzldKysrMTABKytdXV0rKwArKysrARYXFjMzFSMiJyYnJicmJxQHBiMjNTMyNzY1NCcmJwcnJjU0NzY3JRUHBgcGFRQXFhcWFxYXFgLVLy09LYN7UlosUTELGTNvd+tnbJ9sgTEZSCF2PlROvwEa0X1NYkAoKVhHPTUhAmU5JjOuVClpPw0eMbJka64pMVlDLhgmH1o0HaxiWkhurUYpIisXFzAeHkNBODwlAAIAFAElBn8G8AAsADcA8UAQMAgTFTQvIAoLNDYgCgs0Frj/wEATEBE0CSAQETQ7BWsFAgkgCQw0Krj/4LcQETQzDTIMLbgC77YPLgEuLgwSuP/osw8RNBK4/9yzDQ40Erj/8EAKCgw0BAMHEgQsDUELAu8ADAMLACUAJAMJABoALALvABwC60AJLgwyMgcDBAAHuALztkASEigMDABBCQMAABsC8AA5ACUC+wAgACT/wLUJCzQkJCi6AwMAIAEqhS/9MhkvKxrtGBD1Ge0zGC8SOS8a7RI5OREzLxA8AD/9PD85P+0RFzkrKysRMy9d7REzEjkxMAErK10rKwArKysBJiYnBycmNTQ3NjclFQcGBwYVFBcWFxYXFhcVISInJjU0NzY3FwYGFRQXFjMBFQYHBgc1NjY3NgYLRrSZIXY+VE6/ARrRfU1iQCgpmHF6SvtV72VsLw0qIiIVc1amBErYuKNdIMCGlgHTap1bH1o0HaxiWkhurUYpIisXFzAeHnN+h5GuOT2TWHAfVBROVCZtLCEFHalPWU4/aiR+Rk8AAgAUASUHdgbwAEUAUAEzQBBJCBMVNEggCgs0TyAKCzQquP/WsxARNCG4//CzDxE0L7j/4LMPETQsuP/gsw8RNDC4/+CzDRE0Lrj/4EAVDRE0OxtrG4k9Ax8gCQ80EyAPETQOuP/gtxARNEwjSyJGuALvtg9HAUdHIii4/+CzDxE0KLj/3LMNDjQouP/wQAsKDDRBGhkdKAUQI0EMAu8AIgMLAAkACAMJADcAEALvADgAAALrQAlHI0tLHRkaFR24AvNADQ8oXygCKCgVDCMjOBW4AwO0QEFBDDi+AvAAUgAJAvsAIAAI/8C1CQs0CAgMugMDAAQBKoUv/TIZLysa7RgQ5RE5LxrtEjkvERI5L13tEjk5ETMvEDwAPzz9PD85P+0RFzkrKysRMy9d7REzEjkxMAErKytdKysAKysrKysrKwEiJyY1NDc2NxcGBhUUFxYzITI3NjU0JyYnBycmNTQ3NjclFQcGBwYVFBcWFxYXFhcWFxYXFjMzFSMiJyYnJicmJxQHBiMBFQYHBgc1NjY3NgHU72VsLw0qIiIVc1amAaqfbIExGUghdj5UTr8BGtGrRjtAKClYRz01IUkvLT0tg3tSWixRMQsZM2936wKl2LijXSDAhpYBJTk9k1hwH1QUTlQmbSwhKTFZQy4YJh9aNB2sYlpIbq1GOiMeEhcwHh5DQTg8JVo5JjOuVClpPw0eMbJkawXLqU9ZTj9qJH5GTwAC/7oBJQMnBwIAHQAoANJADsghASAgCgs0JyAKCzQZuP/AQBcQETQMIBARNDsIawgCDCAJDDQkECMPHrgC77MfHw8VuP/osw8RNBW4/9yzDQ40Fbj/8EAKCgw0BwYKFQQCEL8C7wAPAwsAHQACAu8AAQLrQAkfDyMjCgYHAwq4AvNAFkBvFY8VAg8VLxVfFQMgFQEVFQEPDwO+AwAAIAAAAvAAKgABASqFLxD1GhntMxgvEjkvXV1dGu0SOTkRMy8QPAA//Tw/7REXOSsrKxEzL+0RMxI5MTABK10rKwArK10BITUhJiYnBycmNTQ3NjclFQcGBwYVFBcWFxYXFhcDFQYHBgc1NjY3NgMn/JMC+Ua0mSF2PlROvwEa0X1NYkAoKZhxekph2LijXSDAhpYBJa5qnVsfWjQdrGJaSG6tRikiKxcXMB4ec36HkQUvqU9ZTj9qJH5GTwAAAv+6ASUEHgcCADYAQQEbs8g6AUG4/+BAExARND8gDQ40OSAKCzRAIAoLNC+4/9azDRE0Jrj/8LMNETQ0uP/gsw8RNDG4/+CzDRE0Nbj/4LMNETQzuP/gQCMNETRUK1QyAkQrRDICOyBrIIkLAyQgCQ80GCAPETQ9KDwnN7gC77M4OCctuP/gsw8RNC24/9yzDQ40Lbj/8EAOCgw0AC0BDx8eIi0FFShBCQLvACcDCwAFABUC7wAGABQC60AJOCg8PCIeHxoiuALzQAsPLQEtLRoUKCgGGrgDA7MPDxQGuwLwAEMAFAEqhS8Q5RE5L+0SOS8REjkvXe0SOTkRMy8QPAA/PP08P+0RFzldKysrETMv7REzEjkxMAErK11dXSsrACsrKysrKysrXQEWFxYzMxUjIicmJyYnJicUBwYjIzUzMjc2NTQnJicHJyY1NDc2NyUVBwYHBhUUFxYXFhcWFxYTFQYHBgc1NjY3NgLVLy09LYN7UlosUTELGTNvd+tnbJ9sgTEZSCF2PlROvwEa0X1NYkAoKVhHPTUhOti4o10gwIaWAmU5JjOuVClpPw0eMbJka64pMVlDLhgmH1o0HaxiWkhurUYpIisXFzAeHkNBODwlBEOpT1lOP2okfkZPAAABADL/pwTZA7IAOwCZuQAm/9ZAEw4RNCk0DhE0KjQLETQDBg4hJyBBCQMHAAYC7wA5AwQAJwLvABb/wLMJCzQWvgMNAA4C7wAwAusAMwMMQAkKCiwkAxIAACy4Av20QBISPSG7AvsAIAAg/8C1CQs0ICAkugMMABoBOYUv/TIZLysa7REzGC8a7TMvEjkREjkv7QA/7T8r7T/tPxI5ERI5MTABKysrARQGByYmIyIHBhUUFjMzMhYWFRQHBiEiJyY1NDc2NzY3FwYGFRQWMzI3NjY1NCYjIyImNTQ3Njc2MzIWBNkMAiNhMldgWCs1UEhFYNvJ/qmyXmYiGi4DPCo/Q6mdeJ+I2hkc6itCNzxVZmdCTAMgIEMOLTRlXTcTEwMQQfuDeEVLl2hyV18GcRFww0t6ejApchsTDD4xQ3N9VGVQAAABACT/HwS1AgUANgCQuQAg/+BACQwRNBo1GRk1Brj/wEAKCQo0BgYBLCwBIroC7wAR/8CzCQ00Eb4DDgA1Au8AAQLrACYDDLMNDQAvuAMMtEAEBB4AvgLwADgAGgL7ACAAGf/AtQkLNBkZHroDDAAVATmFL/0yGS8rGu0YEOQROS8a7RI5L+0AP+0/K/0ROS8SOS8rETMvEjkxMAErASMiBhUUMzIWFxYXFhUUBwYhIicmNTQ3NjcXBgcGFRQXFjMyNzY1NCYjJiYjIiY1NDc2NzYzMwS1r5qbXSkwUTASHXuG/svXf4dAF2IoJiU5gHrVj22GHiMbcxI/Nkk8ZUxUrwElEBghBAkGCQ8lu1VdSU6QdIIvmhRBQG5Ge0A9FhsvEREDByEhfE9AHxcAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAMAMATXAc8HdwAtAFYAYgEdQAkDYQojCQkhDiu6AvUAWv/AtQsPNFpaYbgC9bYjIxQXFyEbuAL1shQUIbgC9UAWDg5LNUYyU1RPSks/RktLQFRUQEBGT7gC9bIyMka6AvUAOQL0QA4JBmEKVyNdJyEeEQYGALoC9gBX/8C1CQo0V1dduAL2QAwnQAkQNCcnHg4XFxG4AvZACh4eNUtKQ0A/LlS4Avm0U1NLPD+4AvmyQEBLugL5AEr/wLMVFzRKuP/Asw0QNEq4ASSFLysr7TMv/TIRMy/9MhESORESOTMv/TIvOREzLyv9Mi8r7TkvERI5ERI5ETk5EjkAP+05L+0RMy8yLxI5LxE5EjkREjkREjkRMy/9Mi/tEjkvETkv/TIvK+0REjkvEjkROTEwAQYGBxYWFRQGBycGBwYjNzY1NCYjIgcHNjc2MzIWFRQGBzY3JicmNTQ3NjcWFgMUBwYjIiYnBgcGIyImNTQ2NzcUBhUUFjMyNzY3NxYXFjMyNzY1NxYWAzQmIyIGFRQXFhc2AcoEDRYPEQMEVi46R1ckFBQTFRIaBwsULiImBwhFQCAJEiUuMh0mHhodMxIeExQTICMqKg4NFQQSEisaDBIVCAUMHCYWEhUEBykXDBMMEgUeDQcVFy8jDBUNEisaQzYeJDwlHRYmGCxHHjdDKhEjIRQuIAwYGy8tNwEBJv50SzA2DA0iEyA4MhoyIQgIJAwWIzgZTAYxCx8yKSwGEzEBJBgmEQwSFAYbEQAAAwBGBNcBsQc9ACkAMQA5AMxAEwcZBCYnIh0eEhkeHhMnJxMTGSK4AvWyBAQZuAL1QAkLQAkMNAsLMCq4AvWyLCwwuAL1QAkuQAkYNC4uODK4AvWyNDQ4ugL1ADYC9EASKjIyLjZAJSg0NgceHRYTEgAnuAL5tCYmHg4SuAL5shMTHroC+QAd/8CzFRc0Hbj/wLMNEDQduAEkhS8rK+0zL/0yETMv/TIREjkREjkvKzwzLzwAP+0zL+0RMy8r7TMv7REzLyvtOS/tETMvMi8SOS8RORI5ERI5ERI5MTABFAcGIyImJwYHBiMiJjU0NzY3NxQGFRQWMzI3Njc3FhcWMzI3NjU3FhYHFAcGBzQ3NhcUBwYHNDc2AbEaHTMRIRETFCAjKioIBQ4VBBETKxoNERUJBAwcJhYSFQQHDzRZyStU1zNayStUBudMMDUNDCITHzgxGR0SJAgIJAwXITgbSQYxCyAyKS0HGCzWLiwjUiwpIiMvLSRRKykjAAACAEYE1wGxBrkABwAxAK25AAAC9bICAga4AvVAGwRACRw0BAQbLi8qJSYaGw8hDCYmGy8vGxshKrgC9bIMDCG6AvUAEwL0sgAABLj/wEAMDhM0BA8mJR4bGggvuAL5tC4uJhYauAL5shsbJroC+QAl/8CzFRc0Jbj/wLMNEDQluAEkhS8rK+0zL/0yETMv/TIREjkREjkvKzMvAD/tOS/tETMvMi8SOS8REjkRORE5ERI5ETMvK+0zL/0xMAEUBwYHNDc2FxQHBiMiJicGBwYjIiY1NDc2NzcUBhUUFjMyNzY3NxYXFjMyNzY1NxYWAaI0WcktUuYaHTMRIREUEyAjKioIBQ4VBBISKxoMEhUIBQwcJhYSFQQHBrkuLiNQKikim0swNg0MIhMgODIaHRIkCAgkDBYjOBlMBjELHzIpLAYTMQADAEAE2QGxBy4AIABKAFYA7LcdVAQPCwAIFroC9QBO/8BACgsNNE5OVAAACFS4AvVAHQ8PCEAJGDQICDQoOiVHSEM+PzM6Pz80SEg0NDpDuAL1siUlOroC9QAsAvRACVQESw9REwAAGbgC9rVLS1ELCxO4AvZAClFRKD8+NzQzIUi4Avm0R0c/LzO4AvmyNDQ/ugL5AD7/wLMVFzQ+uP/Asw0QND64ASSFLysr7TMv/TIRMy/9MhESORESOTMv/TIvETMv/TIvERI5ETk5AD/tOS/tETMvMi8SOS8RORI5ERI5ERI5ETMvKzMv7RI5LxEzLyvtERI5ETkSOTEwASInJicGBwYjIiYnNjc2NyYnJjU0NjMyFhUUBwYHFhcWFRQHBiMiJicGBwYjIiY1NDc2NzcUBhUUFjMyNzY3NxYXFjMyNzY1NxYWJzQmIyIGFRQWFzY2AbEjJwgjORc8OA4bD0wfMDoXCxFHLR0vCgMUIAYKGh0zESERFBMgIyoqCAUOFQQSEisaDBIVCQQMHCYWEhUEB1EeFgcGFCMDBwYxCQIKMQ4mCQgiDxchFg8XFytVKR0VFwcjDwsRoUswNg0MIhMgODIaHRIkCAgkDBYjOBlLBzILHzIpLQYUMfIVKA4JFR0TBxIAAAIARgTXAbEG0wApADEAsUATBxkEJiciHR4SGR4eEycnExMZIrgC9bIEBBm4AvVADgtAGx00C0AJCTQLCzAquAL1siwsMLoC9QAuAvRAECoqLkAlKDQuBx4dFhMSACe4Avm0JiYeDhK4AvmyExMeugL5AB3/wLMVFzQduP/Asw0QNB24ASSFLysr7TMv/TIRMy/9MhESORESOS8rMy8AP+0zL+0RMy8rK+05L+0RMy8yLxI5LxE5EjkREjkREjkxMAEUBwYjIiYnBgcGIyImNTQ3Njc3FAYVFBYzMjc2NzcWFxYzMjc2NTcWFgcUBwYHNDc2AbEaHTMSHhMUEyAjKioIBQ4VBBISKxoMEhUIBQwcJhYSFQQHDzNaySxTBn1LLzUMDSITIDgyGR0SIwkJJAwWITcaSgYxCx8yKSwGEzHoLy0kUCsoIwACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAAB/9z+7QGvBNIABQAQtQADAgUBAi/dxgAvL80xMBMRIxEhFSRIAdMEi/piBeVHAAAB/lH+7QAkBNIABQAQtQUCAwADBC/NxgAvL80xMAE1IREjEf5RAdNIBItH+hsFngAB/xb+7QDqBYUACwAhQA4GCQoABQoDCAACAwoFAy/WzRDd1jwALy/dPBDWzTEwEyMRIxEjESEVIREh6sZIxgHU/nIBjgPY+xUE6wGtR/7hAAH/Fv7tAOoFhQALACFADgUCAQsGAQgBBggJAwsJL9bAEN3WzQAvL93AENbNMTADIREhNSERIxEjESPqAY7+cgHUxkjGBB8BH0f+U/sVBOsAAf8W/u0A6gWFAAcAG0ANLwZ/BgIGAAUDAAIFAy/G3cYALy88zV0xMBMjESMRIxEh6sZIxgHUA9j7FQTrAa0AAAL/Fv7tAOoFhQAGAAoAQEAeBQcJAwMKBAhAEBU0CAoGAgEIBAoKAAEHBQABCQMBL9bNEN3WzRESOT0vPDwAGC8vPN3eK80SOT0vPDw8MTATIxEnNxcHNycHFyRIxurqxmKGhob+7QULttfXtrZ5eXgAAAH/Fv7tAOoFhQANACNADwQDBwAIDQsIBgoLAw0BCy/A1sAQ3cDOAC8vwN3A1s0xMAMzESM1IREzFSMRIxEj6sbGAQ7GxkjGBB8BH0f+mkf7FQTrAAH/Fv7tAOoFhQAPAClAEgUEBgMJAAoPDQUKBwwNBA8CDS/A1sAQ3cDWwAAvL8DdwNbA3cAxMAMzESM1IRUjETMVIxEjESPqxsYB1MbGxkjGBB8BH0dH/uFH+xUE6wAC/xb+7QDqBYUAAwALACFADgUDAAcEAAoBBwkKAAQKL9bNEN3WzQAvL908ENbNMTADIREhAxEhESMRIxGkAUj+uEYB1MZIBB8BH/6aAa3+U/sVBOsAAAH/Fv7tAOoFhQAFABS3AwUCAQQAAwEvxt3GAC8vPM0xMBMjEQMhAyRIxgHUxv7tBSwBbP6UAAH/Fv7tAOoFhQAGAB1ACwUGBAIFBQIGAQQCL8bdxhI5PS8AGC8vPM0xMBMRIxEjExMkSMbq6gPY+xUE6wGt/lMAAAL/3P5XACQHJwADAAcAHUAMAgIDBwcGAwYBBQIGLzzdPAAvLxI5LxI5LzEwExEjERMRIxEkSEhIByf8OAPI+vj8OAPIAAAB/xb+VwDqBycACwAfQA0HBAUKAQAHCwkCBAACL93AEN3dwAAv3cAv3cAxMAM1MxEjNSEVIxEzFerGxgHUxsb+V0cIQkdH975HAAH/3P5XAOAHJwAEABO2AQAEAwACAy/dzgAvLxndzTEwEwcRIxHgvEgGbo74dwjQAAH/IP5XACQHJwAEABtADAYEFgQCAwQAAgEEAi/OzQAvLxndzTEwAF0TESMRJyRIvAcn9zAHiY4AAf/c/lcA6gcnAAUAELUFAQQDAQQv3c0AL80vMTATETMVIREkxv7yByf3d0cI0AAAAgBKAOsEIQTAABsAJwC9QBgvKQEIEA4PFgIAARcPERAJAQMCFiEQARC8AqIAEQK4ABUCuLIfKRO4AWm1BQguAgECvAKiAAcCuAADArhAFiUpBQkuDzAPQA+CDwQPPiIpDj4KPgy4AWlAGxwpGhchAT8BTwGNAQQBPhg+AD44GkgazxoDGrgB/rUoBQeeeRgrAD8BThD0XU3k5PRdPBDt/eTk7fRdPABNEO3k5PRdPBD97eTk9F08ERI5ORESOTkBERI5ORESOTkxMAFdEyc3FzYzMhc3FwcWFRQHFwcnBiMiJwcnNyY1NBcUFjMyNjU0JiMiBtWLc4tqg4Rpi3SLR0eLdItphINqi3OLR6OYa2uYl2xrmAPBiHeLSEiLd4hufX5uiHeMSUmMd4hufn19bJiYbGuYmAAAEAAAAAAIAAXBAAUACQANABkAHQAjAC4ANAA4AEQASABMAFIAWQBgAGgB/kD/pw+3DwJ3D4cPlw8DeiYBUyVjJQIjJTMlQyUDWT1pPQIpPTk9ST0DWUFpQQIpQTlBSUEDVjtmOwImOzY7RjsDVkNmQwImQzZDRkMDxmYBxWgBymIByWQBVmBmYAJZW2lbAqUqtSoCYyoBtSrFKtUq9SoEdSqFKpUqAzMqQypTKgNjQhhCKC1Xb10BP11PXV9dA11dJ1ZQKAEvKD8oTygDKC8MT0cBRwEyMwcbAy8IHAQzExVnEDxeUCcBDydPJ18nA58nASAnMCdAJwMnUgtGIk9NN0sgUjZKH01hcDmAOZA5A0A5UDlgOQMfOQE5J1cwXgFeHye/JwIfJ18nbyefQGYn3yfvJwYnJFUtZS0CJS01LUUtAy1TnysBK18SbxICElpQJAEkF5AOAW8Ofw4CDiEHNgk1IwMAHwEfIwELIQAKI2owZQFlbz9/PwIPPx8/Pz9PPwQ/GkkbSk4vD00BTU4xRVEyRk4vwMDdwMAQ3V3AENTA3cAvXXHNchDQwMDdwMAQ1F3AENTA3cAQ1nFdzdRdzcZd1HHNM11dENRdcd1ywBDWXV1dzQAvwDw83cA8PBDUwNbAENZdXXFdzdTA3dDGL8A8PN3APDwQ3cDWXcAQ1l1xzRI5L3FxzTkQxMAQzTEwXV1xXV1xcV1dXV0BXV1dXV1dXV1dXXFdXQEjNSM1IQUhNSEBIxEzARQjIic3FjMyNREzASE1IQEhNTM1MwEUISMRMzIVFAcWASMVIxEhASE1IQEUBiMiJjU0NjMyFgEjETMBITUhBSERMxUzATQjIxUzMhc0IyMVMzIlECMiERAzMggAZN8BQ/3B/r0BQwI/ZGT+9tNWNEkZKF90/Iz+vQFDBH7+vd9k/Y/+7vDr+Vl3+7TfZAFDBH7+vQFD/ZWkmZmhoZmZpP0OZGQDHv69AUP9wf69ZN8DuqNZZZceq298nv3HycbGyQR+32RkZPx+AUP+4fEtTxqKAeQBG2T6P2TfAQzRAsS6WzYuApTfAUP6P2QCe63AwK2vwMD+sQFD/H5kZAFD3wMZY8LPbdz/AQ3+8/71AAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREh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ESEBAAQA/CADwPxABQD7ACAEwAD//wBG/9UBnACkABYC9gAA//8ARv72AZwAWwAWAvMAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAMoBGAHJBbcAEgAeAD65ABAC8rcHQAkKNAcHHLwC7gAWAuwABgLxtAcHExkAuALtsg0NE7kC7QAZL+0zL+0REjkv7QA//TIvKz8xMAEUBwYHBhUjNCcmJyY1NDYzMhYDFAYjIiY1NDYzMhYByRorBRo5GQolGkY3OUkGSDQySEg0MkgFHUN2wxySiH6ZOrZ+LT1dXPw3MkhIMjNKSgAAAQDHARgBzwIiAAsAFr4ACQLuAAMC7AAAAu0ABi/tAD/tMTABFAYjIiY1NDYzMhYBz083NkxNNThOAZ02T043Nk9OAAACAMYBGAHNBFcACwAXACq5AAkC7rIDAxW8Au4ADwLsAAAC7bIGBgy5Au0AEi/tMy/tAD/9Mi/tMTABFAYjIiY1NDYzMhYRFAYjIiY1NDYzMhYBzU44NUxKNzhOTzc1TEs2OE4D0jhOTjg3Tk79lDZPTjc2T04AAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUA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ABH++AAzACT/aAA1ADf/2wA1ADn/2wA1ADr/2wA1ADz/2wA3AAP/2wA3AA//HQA3ABD/jwA3ABH/HQA3AB3/HQA3AB7/HQA3ACT/aAA3ADL/2wA3AET/HQA3AEb/HQA3AEj/HQA3AEz/tAA3AFL/HQA3AFX/tAA3AFb/HQA3AFj/tAA3AFr/jwA3AFz/jwA5AA//RAA5ABD/jwA5ABH/RAA5AB3/tAA5AB7/tAA5ACT/aAA5AET/aAA5AEj/jwA5AEz/2wA5AFL/jwA5AFX/tAA5AFj/tAA5AFz/tAA6AA//jwA6ABD/2wA6ABH/jwA6AB3/2wA6AB7/2wA6ACT/tAA6AET/tAA6AEj/2wA6AEwAAAA6AFL/2wA6AFX/2wA6AFj/2wA6AFz/7gA8AAP/2wA8AA/++AA8ABD/RAA8ABH++AA8AB3/jwA8AB7/ewA8ACT/aAA8AET/aAA8AEj/RAA8AEz/tAA8AFL/RAA8AFP/aAA8AFT/RAA8AFj/jwA8AFn/jwBJAEn/2wBJALYAJQBVAA//jwBVABH/jwBVALYATABZAA//aABZABH/aABaAA//jwBaABH/jwBcAA//aABcABH/aAC1ALX/2wC2AAP/tAC2AFb/2wC2ALb/2wDEAi3/YADEAjb/YADEAkz/YADEAlH/vADEAlT/vAErAA//HwErABH/HwErAfgApAErAfn/RAErAfv/RAErAgH/RAErAhr/qAErAicAWAEsAfn/2wEsAfv/2wEsAgH/2wEsAgr/vgEsAg//vgEtAfn/xQEtAgr/vgEtAg//vgEvATL/4wEvAhz/2QEvAiT/yQEvAoz/4wEyAS7/4wEyAS//4wEyATH/4wEyATP/4wEyAhD/4wEyAhf/4wEyAiD/4wEyAiL/4wEyAib/4wEyAiv/4wEzATL/4wEzAhz/2QEzAiT/yQEzAoz/4wHxASz/1QHxAS3/xQHxAgX/1QHxAgn/aAHxAgr/aAHxAg//aAHxAhb/2wHxAh7/2wHxAiT/2wH1Agr/vgH2ASz/jQH2AS3/jQH2AS7/RgH2ATH/RgH2ATP/RgH2AfgAqgH2Afn/aAH2Afv/aAH2AgH/aAH2AgX/jQH2Ag3/ngH2AhL/aAH2AhP/tAH2Ahj/aAH2Ahr/tAH2Ahv/aAH2Ah3/aAH2AiD/RgH2AicAYgH2Ain/RgH3Agr/0QH3Ag//0QH5AAP/jwH5ALb/aAH5ASz/1QH5AS3/xQH5AgX/1QH5Agn/aAH5Agr/aAH5Ag//aAH5Ahb/2wH5Ah7/2wH5AiT/2wH7AAP/jwH7ASz/1QH7AgX/1QH7Agn/iQH7Agr/aAH7Ag//aAIAASz/wQIAAS3/jwIAAS7/5wIAAS//5wIAATH/5wIAATP/5wIAAgX/wQIAAhD/5wIAAhf/5wIAAhn/5wIAAh//5wIAAiD/5wIAAib/5wIAAin/5wIAAiv/5wIBAAP/jwIBASz/1QIBAgX/1QIBAgn/aAIBAgr/aAIBAg//aAIFAfn/2wIFAfv/1QIFAgH/2wIFAgr/vgIFAg//vgIHAAP/2wIHAA/++gIHABH++gIHAfn/aAIHAfv/aAIHAgH/aAIIATL/ngIIAoz/ngIJAAP/2wIJAA//HwIJABH/HwIJAB3/HwIJAB7/HwIJASz/2wIJAS3/2wIJAS7/HwIJATD/HwIJATH/HwIJATP/HwIJAfgAvAIJAfn/aAIJAfv/aAIJAgH/aAIJAgX/2wIJAg3/2wIJAhD/HwIJAhH/HwIJAhT/TgIJAhb/TgIJAhj/agIJAhr/tAIJAh3/agIJAh7/jwIJAiD/HwIJAiP/UAIJAiT/jwIJAiX/agIJAicAvAIJAij/TgIJAin/HwIJAir/TgIKAAP/2wIKAA/++gIKABD/RgIKABH++gIKAB3/jwIKAB7/jwIKASz/jQIKAS3/jQIKAS7/RgIKATH/RgIKATP/RgIKAfgAvAIKAfn/aAIKAfv/aAIKAgH/aAIKAgX/jQIKAg3/ngIKAhL/aAIKAhP/tAIKAhb/ngIKAhj/aAIKAhr/tAIKAhv/aAIKAh3/aAIKAiD/RgIKAicAeQIKAin/RgIMAS7/sgIMAS//sgIMATH/sgIMATP/sgIMAhD/sgIMAhn/2QIMAiD/sgIMAib/sgIMAin/sgIMAiv/sgINAgr/0QINAg//0QIPAAP/2wIPASz/jQIPAS3/jQIPAS7/RgIPATH/RgIPATP/RgIPAfgAqgIPAfn/aAIPAfv/aAIPAgH/aAIPAgX/jQIPAg3/ngIPAhL/aAIPAhP/tAIPAhj/aAIPAhr/tAIPAhv/aAIPAh3/aAIPAiD/RgIPAicAYgIPAin/RgIXAS7/dwIXAS//tAIXATH/dwIXATL/qgIXATP/dwIXAhD/dwIXAhL/2wIXAhb/qgIXAhj/2wIXAhn/ngIXAhr/2wIXAhv/2wIXAh7/qgIXAiD/dwIXAib/dwIXAin/dwIXAiv/dwIXAoz/qgIZAhz/2QIbAS7/5wIbAS//5wIbATH/5wIbATP/5wIbAhD/5wIbAhf/5wIbAhn/5wIbAh//5wIbAiD/5wIbAiL/5wIbAib/5wIbAin/5wIbAiv/5wIcAS7/4QIcAS//4QIcATH/4QIcATP/2wIcAhD/4QIcAh//4QIcAiD/4QIcAiL/0QIcAiP/zwIcAib/4QIcAin/4QIcAir/zwIcAiv/4QIfAS7/yQIfAS//yQIfATH/yQIfATP/yQIfAhD/yQIfAhf/yQIfAh//yQIfAiD/yQIfAiL/yQIfAin/yQIgATL/4wIgAhz/2QIgAiT/yQIgAoz/4wIhATL/4wIhAhz/2QIhAoz/4wIkAS7/yQIkAS//yQIkATH/yQIkATP/yQIkAhD/yQIkAhf/yQIkAiD/yQIkAiL/yQIkAib/yQIkAin/yQIkAiv/yQImATL/4wImAhz/2QImAiT/yQImAoz/4wIpATL/4wIpAhz/2QIpAiT/yQIpAoz/4wIrATL/4wIrAhz/2QIrAiT/yQIrAoz/4wIuAA//BgIuABH/BgIuAKn/dwIuAKr/dwIuALL/0wI0ALb/YAI1ALb/dwI6ALb/jQI6Aj4ARAI6AkH/6QI6AkUALQI6Akj/0wI6Akn/6QI6Akv/0wI6Akz/YAI6Ak3/pgI6Ak7/vAI6AlH/YAI6Alf/0wI6AloAFwI6Amz/0wI6Am3/6QI6Am4AFwI6AncALQI7Ajr/0wI7AkH/6QI7Akj/6QI7Akv/6QI7Akz/pAI7Ak3/0QI7Ak7/6QI7Ak//0wI7AlH/pAI7AlT/vAI7Alf/6QI7Aln/6QI7AmX/6QI7Am3/0wI8Ajr/vAI8Aj7/0wI8AkD/0wI8AkH/vAI8AkX/6QI8Akj/vAI8Akv/vAI8Akz/dwI8Ak3/vAI8Ak7/vAI8Ak//pgI8AlH/pAI8AlT/jQI8Aln/vAI8Al7/6QI8Amb/6QI8Amz/vAI8Am3/6QI8Am//6QI8AnH/vAI8Ann/6QI9AA//BgI9ABH/BgI9AKn/dwI9AKr/dwI9ALL/0wI9Ajr/dwI9Aj7/dwI9AkH/0wI9AkX/jQI9Akb/0QI9Akj/jQI9Akv/pAI9Aln/vAI9Alr/jQI9Alz/jQI9Al7/dwI9Al//dwI9AmL/jQI9AmX/jQI9Amb/jQI9Amf/jQI9Amj/dwI9Amr/jQI9Am3/dwI9AnX/jQI9Anb/jQI9Anj/jQI9Ann/dwI+Ak0AFwI+Ak7/0wI+AlH/ugI+AmEARAI+AmgAFwI+Am0ALQI/AkH/0wI/Amv/6QJAAkH/6QJAAkj/0wJAAkv/6QJAAkwAFwJAAk0ALQJAAlQALQJAAloAFwJAAl//5wJAAmj/6QJAAm3/6QJBAkX/6QJBAkj/6QJBAkv/6QJBAkz/0wJBAk3/6QJBAk7/6QJBAlH/0wJBAln/6QJEAkH/6QJEAkj/6QJEAkv/6QJEAk0AFwJEAk7/ugJFAk7/6QJFAlsAFwJFAm0AFwJGAk7/6QJGAlH/6QJGAloAFwJGAl8AFwJGAmgAFwJGAmsAFwJGAm0AFwJGAnH/6QJGAncAFwJIAjr/0wJIAj7/0wJIAkD/0wJIAkX/6QJIAk3/0wJIAk//pAJIAlH/0wJIAln/0wJIAl7/0wJIAmX/6QJIAm//6QJKAA/+fQJKABH+fQJKAB3/0wJKAB7/0wJKAKr/jQJKAjr/dwJKAj7/dwJKAkD/6QJKAkH/0wJKAkX/jQJKAkb/6QJKAkj/0wJKAkv/6QJKAkz/pAJKAk3/0wJKAk7/6QJKAk//pAJKAln/0wJKAlr/vAJKAl7/YAJKAl//pgJKAmj/pgJKAnf/0wJKAnn/vAJLAjr/0wJLAj7/0wJLAkH/6QJLAkX/vAJLAkb/6QJLAkj/0wJLAkz/vAJLAk3/vAJLAk//jQJLAlH/vAJLAlT/ugJLAlf/6QJLAloAFwJLAmAALQJLAnH/6QJMAA//HQJMABH/HQJMAKn/pgJMAKr/pgJMALL/0wJMAjr/vAJMAj7/vAJMAkAAFwJMAkH/6QJMAkX/0wJMAkj/pAJMAk7/vAJMAln/0wJMAlr/pAJMAlz/pgJMAl//jQJMAmL/pgJMAmT/pgJMAmX/pAJMAmb/pgJMAmj/YAJMAmn/pgJMAmr/jQJMAmv/jQJMAm3/jQJMAm//pgJMAnP/pgJMAnX/pgJMAnb/pgJMAnj/pgJMAnn/jQJNAA/+8AJNABH+8AJNAB3/0wJNAB7/0wJNAKn/pgJNAKr/pAJNALL/6QJNAjr/dwJNAj7/pAJNAkH/0wJNAkX/vAJNAkj/vAJNAk7/vAJNAlf/0wJNAln/0wJNAlv/0wJNAlz/jQJNAl3/pAJNAl7/YAJNAl//dwJNAmD/vAJNAmH/jQJNAmL/pAJNAmP/vAJNAmT/pAJNAmX/dwJNAmb/pAJNAmf/pAJNAmj/dwJNAmn/pAJNAmr/pAJNAmv/dwJNAm//pAJNAnD/pAJNAnL/pAJNAnP/pAJNAnj/pAJNAnn/dwJOAjr/0wJOAj7/vAJOAkX/vAJOAkz/jQJOAk3/pAJOAlH/0wJOAln/ugJOAmX/vAJPAkH/0wJPAkj/vAJPAkv/vAJPAk7/vAJPAlf/ugJPAmj/6QJPAm3/0wJQAkj/0wJQAloALQJTAloAFwJTAm0ALQJUALb/dwJUAln/vAJWALb/YAJWAjr/0wJWAj7/0wJWAkD/vAJWAkH/6QJWAkX/ugJWAkb/0wJWAkj/0wJWAkv/0wJWAkz/MwJWAk//pAJWAlH/YAJWAlf/6QJWAln/pAJXAj7/vAJXAkD/5wJXAkH/6QJXAkX/vAJXAk//ugJXAln/0wJXAl7/vAJXAmAAFwJXAmX/vAJXAmb/6QJXAnn/6QJYAjr/vAJYAj7/pgJYAkD/0wJYAkX/pAJYAkj/6QJYAkv/6QJYAkz/jQJYAk//pAJYAlH/vAJYAl7/pAJYAmX/pAJYAmb/6QJaAmH/6QJaAmz/0wJaAm3/6QJaAnH/0wJbAlr/0QJbAl7/pAJbAl//6QJbAmD/6QJbAmH/0wJbAmX/pAJbAmb/0wJbAmv/6QJbAm3/0wJbAm7/6QJbAm//vAJbAnH/vAJbAnT/vAJbAnf/6QJbAnn/0wJcAlr/6QJcAlv/6QJcAl7/6QJcAl//6QJcAmD/6QJcAmH/6QJcAmX/0QJcAmb/6QJcAmj/6QJcAmv/6QJcAmz/0wJcAm3/0wJcAm7/6QJcAnH/pAJcAnT/vAJcAnn/6QJdAA//BgJdABH/BgJdAlr/0wJdAl7/pAJdAl//0wJdAmH/6QJdAmX/0wJdAmj/0wJdAmv/0wJdAnn/6QJeAnT/0wJeAncAFwJfAlv/6QJfAl7/0wJfAmD/6QJfAmH/0wJfAmX/vAJfAmz/vAJfAm3/6QJfAm//0wJfAnH/vAJgAlsAFwJgAm0AFwJgAnH/6QJgAnQALQJhAlv/6QJhAl7/0wJhAl//6QJhAmH/6QJhAmX/6QJhAmj/6QJhAmv/6QJhAm3/6QJhAm7/6QJhAnH/vAJhAnT/0wJkAloALQJkAlsALQJkAl8AFwJkAmEAFwJkAmUAFwJkAmgAFwJkAmsAFwJkAmwAFwJkAm0AFwJkAncAFwJlAmgAFwJlAnH/0wJmAlv/6QJmAmH/6QJmAm0AFwJoAl7/0wJoAmD/6QJoAmH/6QJoAmX/0wJoAmz/0wJoAm3/6QJoAm//6QJoAnH/0wJqAl7/0QJqAmH/6QJqAmX/ugJqAmz/0wJqAm3/6QJqAm//6QJqAnH/0wJqAnn/6QJrAmAAFwJrAmgAFwJrAnH/6QJrAncAFwJsAA//HQJsABH/HQJsAlr/6QJsAl7/vAJsAl//6QJsAmAARAJsAmX/0wJsAmj/6QJsAmv/6QJsAm0AFwJtAA//MwJtABH/MwJtAKoAFwJtAlr/6QJtAlsAFwJtAl7/vAJtAl//6QJtAmAAFwJtAmX/0wJtAmb/6QJtAmj/5wJtAmr/6QJtAmv/6QJtAm7/6QJtAnf/6QJtAnn/6QJuAlv/6QJuAl7/0wJuAmX/0wJuAmz/0wJuAm3/6QJuAnH/0wJuAnn/6QJvAlr/6QJvAlv/6QJvAl//6QJvAmH/6QJvAmj/6QJvAmv/6QJvAmz/6QJvAm7/6QJvAnH/0wJwAl//6QJwAmH/6QJwAmj/6QJwAmv/6QJzAl//6QJzAmj/6QJzAm0AFwJ2Amz/YAJ2AnH/dwJ3Al7/0wJ3Al8AFwJ3AmH/6QJ3AmX/0wJ3AmgAFwJ3Amz/0wJ3Am//6QJ3Ann/6QJ4Al7/0wJ4AmD/6QJ4AmX/0wJ4Amb/6QJ4Amz/0wJ4Am//6QJ4AnH/0wKGAA//MwKGABH/MwKIAA//BgKIABH/BgKIAB3/0wKIAB7/0wKIAKn/YAKIAKr/YAKIALL/0wKMAS7/4wKMATH/4wKMATP/4wKMAhD/4wKMAhf/4wKMAiD/4wKMAiL/4wKMAib/4wKMAiv/4wAAAEYDTgAAAAMAAAAAAP4AAAAAAAMAAAABAAoBPgAAAAMAAAACAA4F3gAAAAMAAAADAF4FwAAAAAMAAAAEAAoBPgAAAAMAAAAFABgF7gAAAAMAAAAGAA4GHgAAAAMAAAAHAMQGLAAAAAMAAAAIACYHfAAAAAMAAAAJAIoNpAAAAAMAAAAKBMIA/gAAAAMAAAALAGIOLgAAAAMAAAAMAGYOkAAAAAMAAAANBrQG8AAAAAMAAAAOAFwO9gABAAAAAAAAAH8PUgABAAAAAAABAAUP8QABAAAAAAACAAcSQQABAAAAAAADAC8SMgABAAAAAAAEAAUP8QABAAAAAAAFAAwSSQABAAAAAAAGAAcSYQABAAAAAAAHAGISaAABAAAAAAAIABMTEAABAAAAAAAJAEUWJAABAAAAAAAKAmEP0QABAAAAAAALADEWaQABAAAAAAAMADMWmgABAAAAAAANA1oSygABAAAAAAAOAC4WzQADAAEEAwACAAwW+wADAAEEBQACABAXCwADAAEEBgACAAwXGwADAAEEBwACABAXJwADAAEECAACABAXNwADAAEECQAAAP4AAAADAAEECQABAAoBPgADAAEECQACAA4F3gADAAEECQADAF4FwAADAAEECQAEAAoBPgADAAEECQAFABgF7gADAAEECQAGAA4GHgADAAEECQAHAMQGLAADAAEECQAIACYHfAADAAEECQAJAIoNpAADAAEECQAKBMIA/gADAAEECQALAGIOLgADAAEECQAMAGYOkAADAAEECQANBrQG8AADAAEECQAOAFwO9gADAAEECgACAAwW+wADAAEECwACABAXRwADAAEEDAACAAwW+wADAAEEDgACAAwXVwADAAEEEAACAA4XZwADAAEEEwACABIXdQADAAEEFAACAAwW+wADAAEEFQACABAW+wADAAEEFgACAAwW+wADAAEEGQACAA4XhwADAAEEGwACABAXVwADAAEEHQACAAwW+wADAAEEHwACAAwW+wADAAEEJAACAA4XlQADAAEEKgACAA4XowADAAEELQACAA4XsQADAAEICgACAAwW+wADAAEIFgACAAwW+wADAAEMCgACAAwW+wADAAEMDAACAAwW+wBUAHkAcABlAGYAYQBjAGUAIACpACAAVABoAGUAIABNAG8AbgBvAHQAeQBwAGUAIABDAG8AcgBwAG8AcgBhAHQAaQBvAG4AIABwAGwAYwAuACAARABhAHQAYQAgAKkAIABUAGgAZQAgAE0AbwBuAG8AdAB5AHAAZQAgAEMAbwByAHAAbwByAGEAdABpAG8AbgAgAHAAbABjAC8AVAB5AHAAZQAgAFMAbwBsAHUAdABpAG8AbgBzACAASQBuAGMALgAgADEAOQA5ADAALQAxADkAOQAyAC4AIABBAGwAbAAgAFIAaQBnAGgAdABzACAAUgBlAHMAZQByAHYAZQBkAEMAbwBuAHQAZQBtAHAAbwByAGEAcgB5ACAAcwBhAG4AcwAgAHMAZQByAGkAZgAgAGQAZQBzAGkAZwBuACwAIABBAHIAaQBhAGwAIABjAG8AbgB0AGEAaQBuAHMAIABtAG8AcgBlACAAaAB1AG0AYQBuAGkAcwB0ACAAYwBoAGEAcgBhAGMAdABlAHIAaQBzAHQAaQBjAHMAIAB0AGgAYQBuACAAbQBhAG4AeQAgAG8AZgAgAGkAdABzACAAcAByAGUAZABlAGMAZQBzAHMAbwByAHMAIABhAG4AZAAgAGEAcwAgAHMAdQBjAGgAIABpAHMAIABtAG8AcgBlACAAaQBuACAAdAB1AG4AZQAgAHcAaQB0AGgAIAB0AGgAZQAgAG0AbwBvAGQAIABvAGYAIAB0AGgAZQAgAGwAYQBzAHQAIABkAGUAYwBhAGQAZQBzACAAbwBmACAAdABoAGUAIAB0AHcAZQBuAHQAaQBlAHQAaAAgAGMAZQBuAHQAdQByAHkALgAgACAAVABoAGUAIABvAHYAZQByAGEAbABsACAAdAByAGUAYQB0AG0AZQBuAHQAIABvAGYAIABjAHUAcgB2AGUAcwAgAGkAcwAgAHMAbwBmAHQAZQByACAAYQBuAGQAIABmAHUAbABsAGUAcgAgAHQAaABhAG4AIABpAG4AIABtAG8AcwB0ACAAaQBuAGQAdQBzAHQAcgBpAGEAbAAgAHMAdAB5AGwAZQAgAHMAYQBuAHMAIABzAGUAcgBpAGYAIABmAGEAYwBlAHMALgAgACAAVABlAHIAbQBpAG4AYQBsACAAcwB0AHIAbwBrAGUAcwAgAGEAcgBlACAAYwB1AHQAIABvAG4AIAB0AGgAZQAgAGQAaQBhAGcAbwBuAGEAbAAgAHcAaABpAGMAaAAgAGgAZQBsAHAAcwAgAHQAbwAgAGcAaQB2AGUAIAB0AGgAZQAgAGYAYQBjAGUAIABhACAAbABlAHMAcwAgAG0AZQBjAGgAYQBuAGkAYwBhAGwAIABhAHAAcABlAGEAcgBhAG4AYwBlAC4AIAAgAEEAcgBpAGEAbAAgAGkAcwAgAGEAbgAgAGUAeAB0AHIAZQBtAGUAbAB5ACAAdgBlAHIAcwBhAHQAaQBsAGUAIABmAGEAbQBpAGwAeQAgAG8AZgAgAHQAeQBwAGUAZgBhAGMAZQBzACAAdwBoAGkAYwBoACAAYwBhAG4AIABiAGUAIAB1AHMAZQBkACAAdwBpAHQAaAAgAGUAcQB1AGEAbAAgAHMAdQBjAGMAZQBzAHMAIABmAG8AcgAgAHQAZQB4AHQAIABzAGUAdAB0AGkAbgBnACAAaQBuACAAcgBlAHAAbwByAHQAcwAsACAAcAByAGUAcwBlAG4AdABhAHQAaQBvAG4AcwAsACAAbQBhAGcAYQB6AGkAbgBlAHMAIABlAHQAYwAsACAAYQBuAGQAIABmAG8AcgAgAGQAaQBzAHAAbABhAHkAIAB1AHMAZQAgAGkAbgAgAG4AZQB3AHMAcABhAHAAZQByAHMALAAgAGEAZAB2AGUAcgB0AGkAcwBpAG4AZwAgAGEAbgBkACAAcAByAG8AbQBvAHQAaQBvAG4AcwAuAE0AbwBuAG8AdAB5AHAAZQA6AEEAcgBpAGEAbAAgAFIAZQBnAHUAbABhAHIAOgBWAGUAcgBzAGkAbwBuACAAMwAuADAAMAAgACgATQBpAGMAcgBvAHMAbwBmAHQAKQBBAHIAaQBhAGwATQBUAEEAcgBpAGEAbACuACAAVAByAGEAZABlAG0AYQByAGsAIABvAGYAIABUAGgAZQAgAE0AbwBuAG8AdAB5AHAAZQAgAEMAbwByAHAAbwByAGEAdABpAG8AbgAgAHAAbABjACAAcgBlAGcAaQBzAHQAZQByAGUAZAAgAGkAbgAgAHQAaABlACAAVQBTACAAUABhAHQAIAAmACAAVABNACAATwBmAGYALgAgAGEAbgBkACAAZQBsAHMAZQB3AGgAZQByAGUALgBOAE8AVABJAEYASQBDAEEAVABJAE8ATgAgAE8ARgAgAEwASQBDAEUATgBTAEUAIABBAEcAUgBFAEUATQBFAE4AVAANAAoADQAKAFQAaABpAHMAIAB0AHkAcABlAGYAYQBjAGUAIABpAHMAIAB0AGgAZQAgAHAAcgBvAHAAZQByAHQAeQAgAG8AZgAgAE0AbwBuAG8AdAB5AHAAZQAgAFQAeQBwAG8AZwByAGEAcABoAHkAIABhAG4AZAAgAGkAdABzACAAdQBzAGUAIABiAHkAIAB5AG8AdQAgAGkAcwAgAGMAbwB2AGUAcgBlAGQAIAB1AG4AZABlAHIAIAB0AGgAZQAgAHQAZQByAG0AcwAgAG8AZgAgAGEAIABsAGkAYwBlAG4AcwBlACAAYQBnAHIAZQBlAG0AZQBuAHQALgAgAFkAbwB1ACAAaABhAHYAZQAgAG8AYgB0AGEAaQBuAGUAZAAgAHQAaABpAHMAIAB0AHkAcABlAGYAYQBjAGUAIABzAG8AZgB0AHcAYQByAGUAIABlAGkAdABoAGUAcgAgAGQAaQByAGUAYwB0AGwAeQAgAGYAcgBvAG0AIABNAG8AbgBvAHQAeQBwAGUAIABvAHIAIAB0AG8AZwBlAHQAaABlAHIAIAB3AGkAdABoACAAcwBvAGYAdAB3AGEAcgBlACAAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAYgB5ACAAbwBuAGUAIABvAGYAIABNAG8AbgBvAHQAeQBwAGUAJwBzACAAbABpAGMAZQBuAHMAZQBlAHMALgANAAoADQAKAFQAaABpAHMAIABzAG8AZgB0AHcAYQByAGUAIABpAHMAIABhACAAdgBhAGwAdQBhAGIAbABlACAAYQBzAHMAZQB0ACAAbwBmACAATQBvAG4AbwB0AHkAcABlAC4AIABVAG4AbABlAHMAcwAgAHkAbwB1ACAAaABhAHYAZQAgAGUAbgB0AGUAcgBlAGQAIABpAG4AdABvACAAYQAgAHMAcABlAGMAaQBmAGkAYwAgAGwAaQBjAGUAbgBzAGUAIABhAGcAcgBlAGUAbQBlAG4AdAAgAGcAcgBhAG4AdABpAG4AZwAgAHkAbwB1ACAAYQBkAGQAaQB0AGkAbwBuAGEAbAAgAHIAaQBnAGgAdABzACwAIAB5AG8AdQByACAAdQBzAGUAIABvAGYAIAB0AGgAaQBzACAAcwBvAGYAdAB3AGEAcgBlACAAaQBzACAAbABpAG0AaQB0AGUAZAAgAHQAbwAgAHkAbwB1AHIAIAB3AG8AcgBrAHMAdABhAHQAaQBvAG4AIABmAG8AcgAgAHkAbwB1AHIAIABvAHcAbgAgAHAAdQBiAGwAaQBzAGgAaQBuAGcAIAB1AHMAZQAuACAAWQBvAHUAIABtAGEAeQAgAG4AbwB0ACAAYwBvAHAAeQAgAG8AcgAgAGQAaQBzAHQAcgBpAGIAdQB0AGUAIAB0AGgAaQBzACAAcwBvAGYAdAB3AGEAcgBlAC4ADQAKAA0ACgBJAGYAIAB5AG8AdQAgAGgAYQB2AGUAIABhAG4AeQAgAHEAdQBlAHMAdABpAG8AbgAgAGMAbwBuAGMAZQByAG4AaQBuAGcAIAB5AG8AdQByACAAcgBpAGcAaAB0AHMAIAB5AG8AdQAgAHMAaABvAHUAbABkACAAcgBlAHYAaQBlAHcAIAB0AGgAZQAgAGwAaQBjAGUAbgBzAGUAIABhAGcAcgBlAGUAbQBlAG4AdAAgAHkAbwB1ACAAcgBlAGMAZQBpAHYAZQBkACAAdwBpAHQAaAAgAHQAaABlACAAcwBvAGYAdAB3AGEAcgBlACAAbwByACAAYwBvAG4AdABhAGMAdAAgAE0AbwBuAG8AdAB5AHAAZQAgAGYAbwByACAAYQAgAGMAbwBwAHkAIABvAGYAIAB0AGgAZQAgAGwAaQBjAGUAbgBzAGUAIABhAGcAcgBlAGUAbQBlAG4AdAAuAA0ACgANAAoATQBvAG4AbwB0AHkAcABlACAAYwBhAG4AIABiAGUAIABjAG8AbgB0AGEAYwB0AGUAZAAgAGEAdAA6AA0ACgANAAoAVQBTAEEAIAAtACAAKAA4ADQANwApACAANwAxADgALQAwADQAMAAwAAkACQBVAEsAIAAtACAAMAAxADEANAA0ACAAMAAxADcAMwA3ACAANwA2ADUAOQA1ADkADQAKAGgAdAB0AHAAOgAvAC8AdwB3AHcALgBtAG8AbgBvAHQAeQBwAGUALgBjAG8AbQBNAG8AbgBvAHQAeQBwAGUAIABUAHkAcABlACAARAByAGEAdwBpAG4AZwAgAE8AZgBmAGkAYwBlACAALQAgAFIAbwBiAGkAbgAgAE4AaQBjAGgAbwBsAGEAcwAsACAAUABhAHQAcgBpAGMAaQBhACAAUwBhAHUAbgBkAGUAcgBzACAAMQA5ADgAMgBoAHQAdABwADoALwAvAHcAdwB3AC4AbQBvAG4AbwB0AHkAcABlAC4AYwBvAG0ALwBoAHQAbQBsAC8AbQB0AG4AYQBtAGUALwBtAHMAXwBhAHIAaQBhAGwALgBoAHQAbQBsAGgAdAB0AHAAOgAvAC8AdwB3AHcALgBtAG8AbgBvAHQAeQBwAGUALgBjAG8AbQAvAGgAdABtAGwALwBtAHQAbgBhAG0AZQAvAG0AcwBfAHcAZQBsAGMAbwBtAGUALgBoAHQAbQBsAGgAdAB0AHAAOgAvAC8AdwB3AHcALgBtAG8AbgBvAHQAeQBwAGUALgBjAG8AbQAvAGgAdABtAGwALwB0AHkAcABlAC8AbABpAGMAZQBuAHMAZQAuAGgAdABtAGxUeXBlZmFjZSCpIFRoZSBNb25vdHlwZSBDb3Jwb3JhdGlvbiBwbGMuIERhdGEgqSBUaGUgTW9ub3R5cGUgQ29ycG9yYXRpb24gcGxjL1R5cGUgU29sdXRpb25zIEluYy4gMTk5MC0xOTkyLiBBbGwgUmlnaHRzIFJlc2VydmVkQ29udGVtcG9yYXJ5IHNhbnMgc2VyaWYgZGVzaWduLCBBcmlhbCBjb250YWlucyBtb3JlIGh1bWFuaXN0IGNoYXJhY3RlcmlzdGljcyB0aGFuIG1hbnkgb2YgaXRzIHByZWRlY2Vzc29ycyBhbmQgYXMgc3VjaCBpcyBtb3JlIGluIHR1bmUgd2l0aCB0aGUgbW9vZCBvZiB0aGUgbGFzdCBkZWNhZGVzIG9mIHRoZSB0d2VudGlldGggY2VudHVyeS4gIFRoZSBvdmVyYWxsIHRyZWF0bWVudCBvZiBjdXJ2ZXMgaXMgc29mdGVyIGFuZCBmdWxsZXIgdGhhbiBpbiBtb3N0IGluZHVzdHJpYWwgc3R5bGUgc2FucyBzZXJpZiBmYWNlcy4gIFRlcm1pbmFsIHN0cm9rZXMgYXJlIGN1dCBvbiB0aGUgZGlhZ29uYWwgd2hpY2ggaGVscHMgdG8gZ2l2ZSB0aGUgZmFjZSBhIGxlc3MgbWVjaGFuaWNhbCBhcHBlYXJhbmNlLiAgQXJpYWwgaXMgYW4gZXh0cmVtZWx5IHZlcnNhdGlsZSBmYW1pbHkgb2YgdHlwZWZhY2VzIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggZXF1YWwgc3VjY2VzcyBmb3IgdGV4dCBzZXR0aW5nIGluIHJlcG9ydHMsIHByZXNlbnRhdGlvbnMsIG1hZ2F6aW5lcyBldGMsIGFuZCBmb3IgZGlzcGxheSB1c2UgaW4gbmV3c3BhcGVycywgYWR2ZXJ0aXNpbmcgYW5kIHByb21vdGlvbnMuTW9ub3R5cGU6QXJpYWwgUmVndWxhcjpWZXJzaW9uIDMuMDAgKE1pY3Jvc29mdClBcmlhbE1UQXJpYWyoIFRyYWRlbWFyayBvZiBUaGUgTW9ub3R5cGUgQ29ycG9yYXRpb24gcGxjIHJlZ2lzdGVyZWQgaW4gdGhlIFVTIFBhdCAmIFRNIE9mZi4gYW5kIGVsc2V3aGVyZS5OT1RJRklDQVRJT04gT0YgTElDRU5TRSBBR1JFRU1FTlQNCg0KVGhpcyB0eXBlZmFjZSBpcyB0aGUgcHJvcGVydHkgb2YgTW9ub3R5cGUgVHlwb2dyYXBoeSBhbmQgaXRzIHVzZSBieSB5b3UgaXMgY292ZXJlZCB1bmRlciB0aGUgdGVybXMgb2YgYSBsaWNlbnNlIGFncmVlbWVudC4gWW91IGhhdmUgb2J0YWluZWQgdGhpcyB0eXBlZmFjZSBzb2Z0d2FyZSBlaXRoZXIgZGlyZWN0bHkgZnJvbSBNb25vdHlwZSBvciB0b2dldGhlciB3aXRoIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIGJ5IG9uZSBvZiBNb25vdHlwZSdzIGxpY2Vuc2Vlcy4NCg0KVGhpcyBzb2Z0d2FyZSBpcyBhIHZhbHVhYmxlIGFzc2V0IG9mIE1vbm90eXBlLiBVbmxlc3MgeW91IGhhdmUgZW50ZXJlZCBpbnRvIGEgc3BlY2lmaWMgbGljZW5zZSBhZ3JlZW1lbnQgZ3JhbnRpbmcgeW91IGFkZGl0aW9uYWwgcmlnaHRzLCB5b3VyIHVzZSBvZiB0aGlzIHNvZnR3YXJlIGlzIGxpbWl0ZWQgdG8geW91ciB3b3Jrc3RhdGlvbiBmb3IgeW91ciBvd24gcHVibGlzaGluZyB1c2UuIFlvdSBtYXkgbm90IGNvcHkgb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlLg0KDQpJZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb24gY29uY2VybmluZyB5b3VyIHJpZ2h0cyB5b3Ugc2hvdWxkIHJldmlldyB0aGUgbGljZW5zZSBhZ3JlZW1lbnQgeW91IHJlY2VpdmVkIHdpdGggdGhlIHNvZnR3YXJlIG9yIGNvbnRhY3QgTW9ub3R5cGUgZm9yIGEgY29weSBvZiB0aGUgbGljZW5zZSBhZ3JlZW1lbnQuDQoNCk1vbm90eXBlIGNhbiBiZSBjb250YWN0ZWQgYXQ6DQoNClVTQSAtICg4NDcpIDcxOC0wNDAwCQlVSyAtIDAxMTQ0IDAxNzM3IDc2NTk1OQ0KaHR0cDovL3d3dy5tb25vdHlwZS5jb21Nb25vdHlwZSBUeXBlIERyYXdpbmcgT2ZmaWNlIC0gUm9iaW4gTmljaG9sYXMsIFBhdHJpY2lhIFNhdW5kZXJzIDE5ODJodHRwOi8vd3d3Lm1vbm90eXBlLmNvbS9odG1sL210bmFtZS9tc19hcmlhbC5odG1saHR0cDovL3d3dy5tb25vdHlwZS5jb20vaHRtbC9tdG5hbWUvbXNfd2VsY29tZS5odG1saHR0cDovL3d3dy5tb25vdHlwZS5jb20vaHRtbC90eXBlL2xpY2Vuc2UuaHRtbABOAG8AcgBtAGEAbABuAHkAbwBiAHkBDQBlAGoAbgDpAG4AbwByAG0AYQBsAFMAdABhAG4AZABhAHIAZAOaA7EDvQO/A70DuQO6A6wATgBvAHIAbQBhAGEAbABpAE4AbwByAG0A4QBsAG4AZQBOAG8AcgBtAGEAbABlAFMAdABhAG4AZABhAGEAcgBkBB4EMQRLBEcEPQRLBDkATgBhAHYAYQBkAG4AbwB0AGgBsAGhAwAAbgBnAEEAcgByAHUAbgB0AGEAAAAAAgAAAAAAAP8nAJYAAAAAAAAAAAAAAAAAAAAAAAAAAAaKAAABAgEDAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAQwBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQBiAGMAZABlAGYAZwBoAGkAagBrAGwAbQBuAG8AcABxAHIAcwB0AHUAdgB3AHgAeQB6AHsAfAB9AH4AfwCAAIEAggCDAIQAhQCGAIcAiACJAIoAiwCMAI0AjgCPAJAAkQCSAJMAlACVAJYBBACYAJkAmgEFAJwAnQCeAQYAoAChAKIAowCkAKUApgCnAKgAqQCqAKsArQCuAK8AsACxALIAswC0ALUAtgC3ALgAuQC6ALsAvAEHAL4AvwDAAMEAwgDDAMQAxQDGAMcAyADJAMoAywDMAM0AzgDPANAA0QDTANQA1QDWANcA2ADZANoA2wDcAN0A3gDfAOAA4QDiAOMA5ADlAOYA5wDoAOkA6gDrAOwA7QDuAO8A8ADxAPIA8wD0APUA9gD3APgA+QD6APsA/AD9AP4A/wEAAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErASwBLQEuAS8BMAExATIBMwE0ATUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEBQgFDAUQBRQFGAUcBSAFJAUoBSwFMAU0BTgFPAVABUQFSAVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BYAFhAWIBYwFkAWUBZgFnAWgBaQFqAWsBbAFtAW4BbwFwAXEBcgFzAXQBdQF2AXcBeAF5AXoBewF8AX0BfgF/AYABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsB/AH9Af4B/wIAAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAJ8CFgIXAhgCGQIaAhsCHAIdAh4CHwIgAiECIgIjAiQAlwIlAiYCJwIoAikCKgIrAiwCLQIuAi8CMAIxAjICMwI0AjUCNgI3AjgCOQI6AjsCPAI9Aj4CPwJAAkECQgJDAkQCRQJGAkcCSAJJAkoCSwJMAk0CTgJPAlACUQJSAlMCVAJVAlYCVwJYAlkCWgJbAlwCXQJeAl8CYAJhAmICYwJkAmUCZgJnAmgCaQJqAmsCbAJtAm4CbwJwAnECcgJzAnQCdQJ2AncCeAJ5AnoCewJ8An0CfgJ/AoACgQKCAoMChAKFAoYChwKIAokCigKLAowCjQKOAo8CkAKRApIAmwKTApQClQKWApcCmAKZApoCmwKcAp0CngKfAqACoQKiAqMCpAKlAqYCpwKoAqkCqgKrAqwCrQKuAq8CsAKxArICswK0ArUCtgK3ArgCuQK6ArsCvAK9Ar4CvwLAAsECwgLDAsQCxQLGAscCyALJAsoCywLMAs0CzgLPAtAC0QLSAtMC1ALVAtYC1wLYAtkC2gLbAtwC3QLeAt8C4ALhAuIC4wLkAuUC5gLnAugC6QLqAusC7ALtAu4C7wLwAvEC8gLzAvQC9QL2AvcC+AL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBAMFAwYDBwMIAwkDCgMLAwwDDQMOAw8DEAMRAxIDEwMUAxUDFgMXAxgDGQMaAxsDHAMdAx4DHwMgAyEDIgMjAyQDJQMmAycDKAMpAyoDKwMsAy0DLgMvAzADMQMyAzMDNAM1AzYDNwM4AzkDOgM7AzwDPQM+Az8DQANBA0IDQwNEA0UDRgNHA0gDSQNKA0sDTANNA04DTwNQA1EDUgNTA1QDVQNWA1cDWANZA1oDWwNcA10DXgNfA2ADYQNiA2MAvQNkA2UDZgNnA2gDaQNqA2sDbANtA24DbwNwA3EDcgNzA3QDdQN2A3cDeAN5A3oDewN8A30DfgN/A4ADgQOCA4MDhAOFA4YDhwOIA4kDigOLA4wDjQOOA48DkAORA5IDkwOUA5UDlgOXA5gDmQOaA5sDnAOdA54DnwOgA6EDogOjA6QDpQOmA6cDqAOpA6oDqwOsA60DrgOvA7ADsQOyA7MDtAO1A7YDtwO4A7kDugO7A7wDvQO+A78DwAPBA8IDwwPEA8UDxgPHA8gDyQPKA8sDzAPNA84DzwPQA9ED0gPTA9QD1QPWA9cD2APZA9oD2wPcA90D3gPfA+AD4QPiA+MD5APlA+YD5wPoA+kD6gPrA+wD7QPuA+8D8APxA/ID8wP0A/UD9gP3A/gD+QP6A/sD/AP9A/4D/wQABAEEAgQDBAQEBQQGBAcECAQJBAoECwQMBA0EDgQPBBAEEQQSBBMEFAQVBBYEFwQYBBkEGgQbBBwEHQQeBB8EIAQhBCIEIwQkBCUEJgQnBCgEKQQqBCsELAQtBC4ELwQwBDEEMgQzBDQENQQ2BDcEOAQ5BDoEOwQ8BD0EPgQ/BEAEQQRCBEMERARFBEYERwRIBEkESgRLBEwETQROBE8EUARRBFIEUwRUBFUEVgRXBFgEWQRaBFsEXARdBF4EXwRgBGEEYgRjBGQEZQRmBGcEaARpBGoEawRsBG0EbgRvBHAEcQRyBHMEdAR1BHYEdwR4BHkEegR7BHwEfQR+BH8EgASBBIIEgwSEBIUEhgSHBIgEiQSKBIsEjASNBI4EjwSQBJEEkgSTBJQElQSWBJcEmASZBJoEmwScBJ0EngSfBKAEoQSiBKMEpASlBKYEpwSoBKkEqgSrBKwErQSuBK8EsASxBLIEswS0BLUEtgS3BLgEuQS6BLsEvAS9BL4EvwTABMEEwgTDBMQExQTGBMcEyATJBMoEywTMBM0EzgTPBNAE0QTSBNME1ATVBNYE1wTYBNkE2gTbBNwE3QTeBN8E4AThBOIE4wTkBOUE5gTnBOgE6QTqBOsE7ATtBO4E7wTwBPEE8gTzBPQE9QT2BPcE+AT5BPoE+wT8BP0E/gT/BQAFAQUCBQMFBAUFBQYFBwUIBQkFCgULBQwFDQUOBQ8FEAURBRIFEwUUBRUFFgUXBRgFGQUaBRsFHAUdBR4FHwUgBSEFIgUjBSQFJQUmBScFKAUpBSoFKwUsBS0FLgUvBTAFMQUyBTMFNAU1BTYFNwU4BTkFOgU7BTwFPQU+BT8FQAVBBUIFQwVEBUUFRgVHBUgFSQVKBUsFTAVNBU4FTwVQBVEFUgVTBVQFVQVWBVcFWAVZBVoFWwVcBV0FXgVfBWAFYQViBWMFZAVlBWYFZwVoBWkFagVrBWwFbQVuBW8FcAVxBXIFcwV0BXUFdgV3BXgFeQV6BXsFfAV9BX4FfwWABYEFggWDBYQFhQWGBYcFiAWJBYoFiwWMBY0FjgWPBZAFkQWSBZMFlAWVBZYFlwWYBZkFmgWbBZwFnQWeBZ8FoAWhBaIFowWkBaUFpgWnBagFqQWqBasFrAWtBa4FrwWwBbEFsgWzBbQFtQW2BbcFuAW5BboFuwW8Bb0FvgW/BcAFwQXCBcMFxAXFBcYFxwXIBckFygXLBcwFzQXOBc8F0AXRBdIF0wXUBdUF1gXXBdgF2QXaBdsF3AXdBd4F3wXgBeEF4gXjBeQF5QXmBecF6AXpBeoF6wXsBe0F7gXvBfAF8QXyBfMF9AX1BfYF9wX4BfkF+gX7BfwF/QX+Bf8GAAYBBgIGAwYEBgUGBgYHBggGCQYKBgsGDAYNBg4GDwYQBhEGEgYTBhQGFQYWBhcGGAYZBhoGGwYcBh0GHgYfBiAGIQYiBiMGJAYlBiYGJwYoBikGKgYrBiwGLQYuBi8GMAYxBjIGMwY0BjUGNgY3BjgGOQY6BjsGPAY9Bj4GPwZABkEGQgZDBkQGRQZGBkcGSAZJBkoGSwZMBk0GTgZPBlAGUQZSBlMGVAZVBlYGVwZYBlkGWgZbBlwGXQZeBl8GYAZhBmIGYwZkBmUGZgZnBmgGaQZqBmsGbAZtBm4GbwZwBnEGcgZzBnQGdQZ2BncGeAZ5BnoGewZ8Bn0GfgZ/BoAGgQaCBoMGhAaFBoYGhwaIBokGigaLBowGjQaOBS5udWxsEG5vbm1hcmtpbmdyZXR1cm4DbXUxA3BpMQNPaG0ERXVybwdkbWFjcm9uCW92ZXJzY29yZQZtaWRkb3QGQWJyZXZlBmFicmV2ZQdBb2dvbmVrB2FvZ29uZWsGRGNhcm9uBmRjYXJvbgZEc2xhc2gHRW9nb25lawdlb2dvbmVrBkVjYXJvbgZlY2Fyb24GTGFjdXRlBmxhY3V0ZQZMY2Fyb24GbGNhcm9uBExkb3QEbGRvdAZOYWN1dGUGbmFjdXRlBk5jYXJvbgZuY2Fyb24JT2RibGFjdXRlCW9kYmxhY3V0ZQZSYWN1dGUGcmFjdXRlBlJjYXJvbgZyY2Fyb24GU2FjdXRlBnNhY3V0ZQhUY2VkaWxsYQh0Y2VkaWxsYQZUY2Fyb24GdGNhcm9uBVVyaW5nBXVyaW5nCVVkYmxhY3V0ZQl1ZGJsYWN1dGUGWmFjdXRlBnphY3V0ZQRaZG90BHpkb3QFR2FtbWEFVGhldGEDUGhpBWFscGhhBWRlbHRhB2Vwc2lsb24Fc2lnbWEDdGF1A3BoaQ11bmRlcnNjb3JlZGJsCWV4Y2xhbWRibAluc3VwZXJpb3IGcGVzZXRhCWFycm93bGVmdAdhcnJvd3VwCmFycm93cmlnaHQJYXJyb3dkb3duCWFycm93Ym90aAlhcnJvd3VwZG4MYXJyb3d1cGRuYnNlCm9ydGhvZ29uYWwMaW50ZXJzZWN0aW9uC2VxdWl2YWxlbmNlBWhvdXNlDXJldmxvZ2ljYWxub3QKaW50ZWdyYWx0cAppbnRlZ3JhbGJ0CFNGMTAwMDAwCFNGMTEwMDAwCFNGMDEwMDAwCFNGMDMwMDAwCFNGMDIwMDAwCFNGMDQwMDAwCFNGMDgwMDAwCFNGMDkwMDAwCFNGMDYwMDAwCFNGMDcwMDAwCFNGMDUwMDAwCFNGNDMwMDAwCFNGMjQwMDAwCFNGNTEwMDAwCFNGNTIwMDAwCFNGMzkwMDAwCFNGMjIwMDAwCFNGMjEwMDAwCFNGMjUwMDAwCFNGNTAwMDAwCFNGNDkwMDAwCFNGMzgwMDAwCFNGMjgwMDAwCFNGMjcwMDAwCFNGMjYwMDAwCFNGMzYwMDAwCFNGMzcwMDAwCFNGNDIwMDAwCFNGMTkwMDAwCFNGMjAwMDAwCFNGMjMwMDAwCFNGNDcwMDAwCFNGNDgwMDAwCFNGNDEwMDAwCFNGNDUwMDAwCFNGNDYwMDAwCFNGNDAwMDAwCFNGNTQwMDAwCFNGNTMwMDAwCFNGNDQwMDAwB3VwYmxvY2sHZG5ibG9jawVibG9jawdsZmJsb2NrB3J0YmxvY2sHbHRzaGFkZQVzaGFkZQdka3NoYWRlCWZpbGxlZGJveApmaWxsZWRyZWN0B3RyaWFndXAHdHJpYWdydAd0cmlhZ2RuB3RyaWFnbGYGY2lyY2xlCWludmJ1bGxldAlpbnZjaXJjbGUJc21pbGVmYWNlDGludnNtaWxlZmFjZQNzdW4GZmVtYWxlBG1hbGUFc3BhZGUEY2x1YgVoZWFydAdkaWFtb25kC211c2ljYWxub3RlDm11c2ljYWxub3RlZGJsAklKAmlqC25hcG9zdHJvcGhlBm1pbnV0ZQZzZWNvbmQJYWZpaTYxMjQ4CWFmaWk2MTI4OQZIMjIwNzMGSDE4NTQzBkgxODU1MQZIMTg1MzMKb3BlbmJ1bGxldAdBbWFjcm9uB2FtYWNyb24LQ2NpcmN1bWZsZXgLY2NpcmN1bWZsZXgEQ2RvdARjZG90B0VtYWNyb24HZW1hY3JvbgZFYnJldmUGZWJyZXZlBEVkb3QEZWRvdAtHY2lyY3VtZmxleAtnY2lyY3VtZmxleARHZG90BGdkb3QIR2NlZGlsbGEIZ2NlZGlsbGELSGNpcmN1bWZsZXgLaGNpcmN1bWZsZXgESGJhcgRoYmFyBkl0aWxkZQZpdGlsZGUHSW1hY3JvbgdpbWFjcm9uBklicmV2ZQZpYnJldmUHSW9nb25lawdpb2dvbmVrC0pjaXJjdW1mbGV4C2pjaXJjdW1mbGV4CEtjZWRpbGxhCGtjZWRpbGxhDGtncmVlbmxhbmRpYwhMY2VkaWxsYQhsY2VkaWxsYQhOY2VkaWxsYQhuY2VkaWxsYQNFbmcDZW5nB09tYWNyb24Hb21hY3JvbgZPYnJldmUGb2JyZXZlCFJjZWRpbGxhCHJjZWRpbGxhC1NjaXJjdW1mbGV4C3NjaXJjdW1mbGV4BFRiYXIEdGJhcgZVdGlsZGUGdXRpbGRlB1VtYWNyb24HdW1hY3JvbgZVYnJldmUGdWJyZXZlB1VvZ29uZWsHdW9nb25lawtXY2lyY3VtZmxleAt3Y2lyY3VtZmxleAtZY2lyY3VtZmxleAt5Y2lyY3VtZmxleAVsb25ncwpBcmluZ2FjdXRlCmFyaW5nYWN1dGUHQUVhY3V0ZQdhZWFjdXRlC09zbGFzaGFjdXRlC29zbGFzaGFjdXRlCWFub3RlbGVpYQZXZ3JhdmUGd2dyYXZlBldhY3V0ZQZ3YWN1dGUJV2RpZXJlc2lzCXdkaWVyZXNpcwZZZ3JhdmUGeWdyYXZlDXF1b3RlcmV2ZXJzZWQJcmFkaWNhbGV4CWFmaWkwODk0MQllc3RpbWF0ZWQJb25lZWlnaHRoDHRocmVlZWlnaHRocwtmaXZlZWlnaHRocwxzZXZlbmVpZ2h0aHMLY29tbWFhY2NlbnQQdW5kZXJjb21tYWFjY2VudAV0b25vcw1kaWVyZXNpc3Rvbm9zCkFscGhhdG9ub3MMRXBzaWxvbnRvbm9zCEV0YXRvbm9zCUlvdGF0b25vcwxPbWljcm9udG9ub3MMVXBzaWxvbnRvbm9zCk9tZWdhdG9ub3MRaW90YWRpZXJlc2lzdG9ub3MFQWxwaGEEQmV0YQVEZWx0YQdFcHNpbG9uBFpldGEDRXRhBElvdGEFS2FwcGEGTGFtYmRhAk11Ak51AlhpB09taWNyb24CUGkDUmhvBVNpZ21hA1RhdQdVcHNpbG9uA0NoaQNQc2kMSW90YWRpZXJlc2lzD1Vwc2lsb25kaWVyZXNpcwphbHBoYXRvbm9zDGVwc2lsb250b25vcwhldGF0b25vcwlpb3RhdG9ub3MUdXBzaWxvbmRpZXJlc2lzdG9ub3MEYmV0YQVnYW1tYQR6ZXRhA2V0YQV0aGV0YQRpb3RhBWthcHBhBmxhbWJkYQJudQJ4aQdvbWljcm9uA3JobwZzaWdtYTEHdXBzaWxvbgNjaGkDcHNpBW9tZWdhDGlvdGFkaWVyZXNpcw91cHNpbG9uZGllcmVzaXMMb21pY3JvbnRvbm9zDHVwc2lsb250b25vcwpvbWVnYXRvbm9zCWFmaWkxMDAyMwlhZmlpMTAwNTEJYWZpaTEwMDUyCWFmaWkxMDA1MwlhZmlpMTAwNTQJYWZpaTEwMDU1CWFmaWkxMDA1NglhZmlpMTAwNTcJYWZpaTEwMDU4CWFmaWkxMDA1OQlhZmlpMTAwNjAJYWZpaTEwMDYxCWFmaWkxMDA2MglhZmlpMTAxNDUJYWZpaTEwMDE3CWFmaWkxMDAxOAlhZmlpMTAwMTkJYWZpaTEwMDIwCWFmaWkxMDAyMQlhZmlpMTAwMjIJYWZpaTEwMDI0CWFmaWkxMDAyNQlhZmlpMTAwMjYJYWZpaTEwMDI3CWFmaWkxMDAyOAlhZmlpMTAwMjkJYWZpaTEwMDMwCWFmaWkxMDAzMQlhZmlpMTAwMzIJYWZpaTEwMDMzCWFmaWkxMDAzNAlhZmlpMTAwMzUJYWZpaTEwMDM2CWFmaWkxMDAzNwlhZmlpMTAwMzgJYWZpaTEwMDM5CWFmaWkxMDA0MAlhZmlpMTAwNDEJYWZpaTEwMDQyCWFmaWkxMDA0MwlhZmlpMTAwNDQJYWZpaTEwMDQ1CWFmaWkxMDA0NglhZmlpMTAwNDcJYWZpaTEwMDQ4CWFmaWkxMDA0OQlhZmlpMTAwNjUJYWZpaTEwMDY2CWFmaWkxMDA2NwlhZmlpMTAwNjgJYWZpaTEwMDY5CWFmaWkxMDA3MAlhZmlpMTAwNzIJYWZpaTEwMDczCWFmaWkxMDA3NAlhZmlpMTAwNzUJYWZpaTEwMDc2CWFmaWkxMDA3NwlhZmlpMTAwNzgJYWZpaTEwMDc5CWFmaWkxMDA4MAlhZmlpMTAwODEJYWZpaTEwMDgyCWFmaWkxMDA4MwlhZmlpMTAwODQJYWZpaTEwMDg1CWFmaWkxMDA4NglhZmlpMTAwODcJYWZpaTEwMDg4CWFmaWkxMDA4OQlhZmlpMTAwOTAJYWZpaTEwMDkxCWFmaWkxMDA5MglhZmlpMTAwOTMJYWZpaTEwMDk0CWFmaWkxMDA5NQlhZmlpMTAwOTYJYWZpaTEwMDk3CWFmaWkxMDA3MQlhZmlpMTAwOTkJYWZpaTEwMTAwCWFmaWkxMDEwMQlhZmlpMTAxMDIJYWZpaTEwMTAzCWFmaWkxMDEwNAlhZmlpMTAxMDUJYWZpaTEwMTA2CWFmaWkxMDEwNwlhZmlpMTAxMDgJYWZpaTEwMTA5CWFmaWkxMDExMAlhZmlpMTAxOTMJYWZpaTEwMDUwCWFmaWkxMDA5OAlhZmlpMDAyMDgJYWZpaTYxMzUyBXNoZXZhCmhhdGFmc2Vnb2wKaGF0YWZwYXRhaAtoYXRhZnFhbWF0cwVoaXJpcQV0c2VyZQVzZWdvbAVwYXRhaAZxYW1hdHMFaG9sYW0GcXVidXRzBmRhZ2VzaAVtZXRlZwVtYXFhZgRyYWZlBXBhc2VxB3NoaW5kb3QGc2luZG90CHNvZnBhc3VxBGFsZWYDYmV0BWdpbWVsBWRhbGV0AmhlA3ZhdgV6YXlpbgNoZXQDdGV0A3lvZAhmaW5hbGthZgNrYWYFbGFtZWQIZmluYWxtZW0DbWVtCGZpbmFsbnVuA251bgZzYW1la2gEYXlpbgdmaW5hbHBlAnBlCmZpbmFsdHNhZGkFdHNhZGkDcW9mBHJlc2gEc2hpbgN0YXYJZG91YmxldmF2BnZhdnlvZAlkb3VibGV5b2QGZ2VyZXNoCWdlcnNoYXlpbQ1uZXdzaGVxZWxzaWduCnZhdnNoaW5kb3QNZmluYWxrYWZzaGV2YQ5maW5hbGthZnFhbWF0cwpsYW1lZGhvbGFtEGxhbWVkaG9sYW1kYWdlc2gHYWx0YXlpbgtzaGluc2hpbmRvdApzaGluc2luZG90EXNoaW5kYWdlc2hzaGluZG90EHNoaW5kYWdlc2hzaW5kb3QJYWxlZnBhdGFoCmFsZWZxYW1hdHMJYWxlZm1hcGlxCWJldGRhZ2VzaAtnaW1lbGRhZ2VzaAtkYWxldGRhZ2VzaAhoZWRhZ2VzaAl2YXZkYWdlc2gLemF5aW5kYWdlc2gJdGV0ZGFnZXNoCXlvZGRhZ2VzaA5maW5hbGthZmRhZ2VzaAlrYWZkYWdlc2gLbGFtZWRkYWdlc2gJbWVtZGFnZXNoCW51bmRhZ2VzaAxzYW1la2hkYWdlc2gNZmluYWxwZWRhZ2VzaAhwZWRhZ2VzaAt0c2FkaWRhZ2VzaAlxb2ZkYWdlc2gKcmVzaGRhZ2VzaApzaGluZGFnZXNoCHRhdmRhZ2VzCHZhdmhvbGFtB2JldHJhZmUHa2FmcmFmZQZwZXJhZmUJYWxlZmxhbWVkEnplcm93aWR0aG5vbmpvaW5lcg96ZXJvd2lkdGhqb2luZXIPbGVmdHRvcmlnaHRtYXJrD3JpZ2h0dG9sZWZ0bWFyawlhZmlpNTczODgJYWZpaTU3NDAzCWFmaWk1NzQwNwlhZmlpNTc0MDkJYWZpaTU3NDQwCWFmaWk1NzQ1MQlhZmlpNTc0NTIJYWZpaTU3NDUzCWFmaWk1NzQ1NAlhZmlpNTc0NTUJYWZpaTU3NDU2CWFmaWk1NzQ1NwlhZmlpNTc0NTgJYWZpaTU3MzkyCWFmaWk1NzM5MwlhZmlpNTczOTQJYWZpaTU3Mzk1CWFmaWk1NzM5NglhZmlpNTczOTcJYWZpaTU3Mzk4CWFmaWk1NzM5OQlhZmlpNTc0MDAJYWZpaTU3NDAxCWFmaWk1NzM4MQlhZmlpNTc0NjEJYWZpaTYzMTY3CWFmaWk1NzQ1OQlhZmlpNTc1NDMJYWZpaTU3NTM0CWFmaWk1NzQ5NAlhZmlpNjI4NDMJYWZpaTYyODQ0CWFmaWk2Mjg0NQlhZmlpNjQyNDAJYWZpaTY0MjQxCWFmaWk2Mzk1NAlhZmlpNTczODIJYWZpaTY0MjQyCWFmaWk2Mjg4MQlhZmlpNTc1MDQJYWZpaTU3MzY5CWFmaWk1NzM3MAlhZmlpNTczNzEJYWZpaTU3MzcyCWFmaWk1NzM3MwlhZmlpNTczNzQJYWZpaTU3Mzc1CWFmaWk1NzM5MQlhZmlpNTc0NzEJYWZpaTU3NDYwCWFmaWk1MjI1OAlhZmlpNTc1MDYJYWZpaTYyOTU4CWFmaWk2Mjk1NglhZmlpNTI5NTcJYWZpaTU3NTA1CWFmaWk2Mjg4OQlhZmlpNjI4ODcJYWZpaTYyODg4CWFmaWk1NzUwNwlhZmlpNjI5NjEJYWZpaTYyOTU5CWFmaWk2Mjk2MAlhZmlpNTc1MDgJYWZpaTYyOTYyCWFmaWk1NzU2NwlhZmlpNjI5NjQJYWZpaTUyMzA1CWFmaWk1MjMwNglhZmlpNTc1MDkJYWZpaTYyOTY3CWFmaWk2Mjk2NQlhZmlpNjI5NjYJYWZpaTU3NTU1CWFmaWk1MjM2NAlhZmlpNjM3NTMJYWZpaTYzNzU0CWFmaWk2Mzc1OQlhZmlpNjM3NjMJYWZpaTYzNzk1CWFmaWk2Mjg5MQlhZmlpNjM4MDgJYWZpaTYyOTM4CWFmaWk2MzgxMAlhZmlpNjI5NDIJYWZpaTYyOTQ3CWFmaWk2MzgxMwlhZmlpNjM4MjMJYWZpaTYzODI0CWFmaWk2MzgzMwlhZmlpNjM4NDQJYWZpaTYyODgyCWFmaWk2Mjg4MwlhZmlpNjI4ODQJYWZpaTYyODg1CWFmaWk2Mjg4NglhZmlpNjM4NDYJYWZpaTYzODQ5B3VuaTIwMkEHdW5pMjAyQgd1bmkyMDJEB3VuaTIwMkUHdW5pMjAyQwd1bmkyMDZFCHVuaTIwNkY7B3VuaTIwNkEHdW5pMjA2Qgh1bmkyMDZDOwd1bmkyMDZEB3VuaUYwMEEHdW5pRjAwQgd1bmlGMDBDB3VuaUYwMEQHdW5pRjAwRQd1bmlGRkZDCWFmaWk2MzkwNAlhZmlpNjM5MDUJYWZpaTYzOTA2CWFmaWk2MzkwOAlhZmlpNjM5MTAJYWZpaTYzOTEyCWFmaWk2MjkyNwlhZmlpNjM5NDEJYWZpaTYyOTM5CWFmaWk2Mzk0MwlhZmlpNjI5NDMJYWZpaTYyOTQ2CWFmaWk2Mzk0NglhZmlpNjI5NTEJYWZpaTYzOTQ4CWFmaWk2Mjk1MwlhZmlpNjM5NTAJYWZpaTYzOTUxCWFmaWk2Mzk1MglhZmlpNjM5NTMJYWZpaTYzOTU2CWFmaWk2Mzk1OAlhZmlpNjM5NTkJYWZpaTYzOTYwCWFmaWk2Mzk2MQlhZmlpNjQwNDYJYWZpaTY0MDU4CWFmaWk2NDA1OQlhZmlpNjQwNjAJYWZpaTY0MDYxCWFmaWk2Mjk0NQlhZmlpNjQxODQJYWZpaTUyMzk5CWFmaWk1MjQwMAlhZmlpNjI3NTMJYWZpaTU3NDExCWFmaWk2Mjc1NAlhZmlpNTc0MTIJYWZpaTYyNzU1CWFmaWk1NzQxMwlhZmlpNjI3NTYJYWZpaTU3NDE0CWFmaWk2Mjc1OQlhZmlpNjI3NTcJYWZpaTYyNzU4CWFmaWk1NzQxNQlhZmlpNjI3NjAJYWZpaTU3NDE2CWFmaWk2Mjc2MwlhZmlpNjI3NjEJYWZpaTYyNzYyCWFmaWk1NzQxNwlhZmlpNjI3NjQJYWZpaTU3NDE4CWFmaWk2Mjc2NwlhZmlpNjI3NjUJYWZpaTYyNzY2CWFmaWk1NzQxOQlhZmlpNjI3NzAJYWZpaTYyNzY4CWFmaWk2Mjc2OQlhZmlpNTc0MjAJYWZpaTYyNzczCWFmaWk2Mjc3MQlhZmlpNjI3NzIJYWZpaTU3NDIxCWFmaWk2Mjc3NglhZmlpNjI3NzQJYWZpaTYyNzc1CWFmaWk1NzQyMglhZmlpNjI3NzkJYWZpaTYyNzc3CWFmaWk2Mjc3OAlhZmlpNTc0MjMJYWZpaTYyNzgwCWFmaWk1NzQyNAlhZmlpNjI3ODEJYWZpaTU3NDI1CWFmaWk2Mjc4MglhZmlpNTc0MjYJYWZpaTYyNzgzCWFmaWk1NzQyNwlhZmlpNjI3ODYJYWZpaTYyNzg0CWFmaWk2Mjc4NQlhZmlpNTc0MjgJYWZpaTYyNzg5CWFmaWk2Mjc4NwlhZmlpNjI3ODgJYWZpaTU3NDI5CWFmaWk2Mjc5MglhZmlpNjI3OTAJYWZpaTYyNzkxCWFmaWk1NzQzMAlhZmlpNjI3OTUJYWZpaTYyNzkzCWFmaWk2Mjc5NAlhZmlpNTc0MzEJYWZpaTYyNzk4CWFmaWk2Mjc5NglhZmlpNjI3OTcJYWZpaTU3NDMyCWFmaWk2MjgwMQlhZmlpNjI3OTkJYWZpaTYyODAwCWFmaWk1NzQzMwlhZmlpNjI4MDQJYWZpaTYyODAyCWFmaWk2MjgwMwlhZmlpNTc0MzQJYWZpaTYyODA3CWFmaWk2MjgwNQlhZmlpNjI4MDYJYWZpaTU3NDQxCWFmaWk2MjgxMAlhZmlpNjI4MDgJYWZpaTYyODA5CWFmaWk1NzQ0MglhZmlpNjI4MTMJYWZpaTYyODExCWFmaWk2MjgxMglhZmlpNTc0NDMJYWZpaTYyODE2CWFmaWk1NzQxMAlhZmlpNjI4MTUJYWZpaTU3NDQ0CWFmaWk2MjgxOQlhZmlpNjI4MTcJYWZpaTYyODE4CWFmaWk1NzQ0NQlhZmlpNjI4MjIJYWZpaTYyODIwCWFmaWk2MjgyMQlhZmlpNTc0NDYJYWZpaTYyODI1CWFmaWk2MjgyMwlhZmlpNjI4MjQJYWZpaTU3NDQ3CWFmaWk2MjgyOAlhZmlpNTc0NzAJYWZpaTYyODI3CWFmaWk1NzQ0OAlhZmlpNjI4MjkJYWZpaTU3NDQ5CWFmaWk2MjgzMAlhZmlpNTc0NTAJYWZpaTYyODMzCWFmaWk2MjgzMQlhZmlpNjI4MzIJYWZpaTYyODM0CWFmaWk2MjgzNQlhZmlpNjI4MzYJYWZpaTYyODM3CWFmaWk2MjgzOAlhZmlpNjI4MzkJYWZpaTYyODQwCWFmaWk2Mjg0MQlnbHlwaDEwMjELYWZpaTU3NTQzLTILYWZpaTU3NDU0LTILYWZpaTU3NDUxLTIJZ2x5cGgxMDI1CWdseXBoMTAyNgthZmlpNTc0NzEtMgthZmlpNTc0NTgtMgthZmlpNTc0NTctMgthZmlpNTc0OTQtMgthZmlpNTc0NTktMgthZmlpNTc0NTUtMgthZmlpNTc0NTItMglnbHlwaDEwMzQJZ2x5cGgxMDM1CWdseXBoMTAzNgthZmlpNjI4ODQtMgthZmlpNjI4ODEtMgthZmlpNjI4ODYtMgthZmlpNjI4ODMtMgthZmlpNjI4ODUtMgthZmlpNjI4ODItMgthZmlpNTc1MDQtMgthZmlpNTc0NTYtMgthZmlpNTc0NTMtMglnbHlwaDEwNDYJZ2x5cGgxMDQ3C2FmaWk1NzU0My0zC2FmaWk1NzQ1NC0zC2FmaWk1NzQ1MS0zCWdseXBoMTA1MQlnbHlwaDEwNTILYWZpaTU3NDcxLTMLYWZpaTU3NDU4LTMLYWZpaTU3NDU3LTMLYWZpaTU3NDk0LTMLYWZpaTU3NDU5LTMLYWZpaTU3NDU1LTMLYWZpaTU3NDUyLTMJZ2x5cGgxMDYwCWdseXBoMTA2MQlnbHlwaDEwNjILYWZpaTYyODg0LTMLYWZpaTYyODgxLTMLYWZpaTYyODg2LTMLYWZpaTYyODgzLTMLYWZpaTYyODg1LTMLYWZpaTYyODgyLTMLYWZpaTU3NTA0LTMLYWZpaTU3NDU2LTMLYWZpaTU3NDUzLTMJZ2x5cGgxMDcyCWdseXBoMTA3MwthZmlpNTc1NDMtNAthZmlpNTc0NTQtNAthZmlpNTc0NTEtNAlnbHlwaDEwNzcJZ2x5cGgxMDc4C2FmaWk1NzQ3MS00C2FmaWk1NzQ1OC00C2FmaWk1NzQ1Ny00C2FmaWk1NzQ5NC00C2FmaWk1NzQ1OS00C2FmaWk1NzQ1NS00C2FmaWk1NzQ1Mi00CWdseXBoMTA4NglnbHlwaDEwODcJZ2x5cGgxMDg4C2FmaWk2Mjg4NC00C2FmaWk2Mjg4MS00C2FmaWk2Mjg4Ni00C2FmaWk2Mjg4My00C2FmaWk2Mjg4NS00C2FmaWk2Mjg4Mi00C2FmaWk1NzUwNC00C2FmaWk1NzQ1Ni00C2FmaWk1NzQ1My00CWdseXBoMTA5OAlnbHlwaDEwOTkJZ2x5cGgxMTAwCWdseXBoMTEwMQlnbHlwaDExMDIJZ2x5cGgxMTAzCWdseXBoMTEwNAlnbHlwaDExMDUJZ2x5cGgxMTA2CWdseXBoMTEwNwlnbHlwaDExMDgJZ2x5cGgxMTA5CWdseXBoMTExMAlnbHlwaDExMTEJZ2x5cGgxMTEyCWdseXBoMTExMwlnbHlwaDExMTQJZ2x5cGgxMTE1CWdseXBoMTExNglnbHlwaDExMTcJZ2x5cGgxMTE4CWdseXBoMTExOQlnbHlwaDExMjAJZ2x5cGgxMTIxCWdseXBoMTEyMglnbHlwaDExMjMJZ2x5cGgxMTI0CWdseXBoMTEyNQlnbHlwaDExMjYLYWZpaTU3NDQwLTILYWZpaTU3NDQwLTMLYWZpaTU3NDQwLTQFT2hvcm4Fb2hvcm4FVWhvcm4FdWhvcm4JZ2x5cGgxMTM0CWdseXBoMTEzNQlnbHlwaDExMzYHdW5pRjAwNgd1bmlGMDA3B3VuaUYwMDkSY29tYmluaW5naG9va2Fib3ZlB3VuaUYwMTAHdW5pRjAxMwd1bmlGMDExB3VuaUYwMUMHdW5pRjAxNRRjb21iaW5pbmd0aWxkZWFjY2VudAlnbHlwaDExNDcJZ2x5cGgxMTQ4B3VuaUYwMkMIZG9uZ3NpZ24Ib25ldGhpcmQJdHdvdGhpcmRzB3VuaUYwMDgJZ2x5cGgxMTU0CWdseXBoMTE1NQd1bmlGMDBGB3VuaUYwMTIHdW5pRjAxNAd1bmlGMDE2B3VuaUYwMTcHdW5pRjAxOAd1bmlGMDE5B3VuaUYwMUEHdW5pRjAxQgd1bmlGMDFFB3VuaUYwMUYHdW5pRjAyMAd1bmlGMDIxB3VuaUYwMjIUY29tYmluaW5nZ3JhdmVhY2NlbnQUY29tYmluaW5nYWN1dGVhY2NlbnQHdW5pRjAxRBFjb21iaW5pbmdkb3RiZWxvdwd1bmlGMDIzB3VuaUYwMjkHdW5pRjAyQQd1bmlGMDJCB3VuaUYwMjQHdW5pRjAyNQd1bmlGMDI2B3VuaUYwMjcHdW5pRjAyOAd1bmlGMDJEB3VuaUYwMkUHdW5pRjAyRgd1bmlGMDMwB3VuaUYwMzEJQWRvdGJlbG93CWFkb3RiZWxvdwpBaG9va2Fib3ZlCmFob29rYWJvdmUQQWNpcmN1bWZsZXhhY3V0ZRBhY2lyY3VtZmxleGFjdXRlEEFjaXJjdW1mbGV4Z3JhdmUQYWNpcmN1bWZsZXhncmF2ZRRBY2lyY3VtZmxleGhvb2thYm92ZRRhY2lyY3VtZmxleGhvb2thYm92ZRBBY2lyY3VtZmxleHRpbGRlEGFjaXJjdW1mbGV4dGlsZGUTQWNpcmN1bWZsZXhkb3RiZWxvdxNhY2lyY3VtZmxleGRvdGJlbG93C0FicmV2ZWFjdXRlC2FicmV2ZWFjdXRlC0FicmV2ZWdyYXZlC2FicmV2ZWdyYXZlD0FicmV2ZWhvb2thYm92ZQ9hYnJldmVob29rYWJvdmULQWJyZXZldGlsZGULYWJyZXZldGlsZGUOQWJyZXZlZG90YmVsb3cOYWJyZXZlZG90YmVsb3cJRWRvdGJlbG93CWVkb3RiZWxvdwpFaG9va2Fib3ZlCmVob29rYWJvdmUGRXRpbGRlBmV0aWxkZRBFY2lyY3VtZmxleGFjdXRlEGVjaXJjdW1mbGV4YWN1dGUQRWNpcmN1bWZsZXhncmF2ZRBlY2lyY3VtZmxleGdyYXZlFEVjaXJjdW1mbGV4aG9va2Fib3ZlFGVjaXJjdW1mbGV4aG9va2Fib3ZlEEVjaXJjdW1mbGV4dGlsZGUQZWNpcmN1bWZsZXh0aWxkZRNFY2lyY3VtZmxleGRvdGJlbG93E2VjaXJjdW1mbGV4ZG90YmVsb3cKSWhvb2thYm92ZQppaG9va2Fib3ZlCUlkb3RiZWxvdwlpZG90YmVsb3cJT2RvdGJlbG93CW9kb3RiZWxvdwpPaG9va2Fib3ZlCm9ob29rYWJvdmUQT2NpcmN1bWZsZXhhY3V0ZRBvY2lyY3VtZmxleGFjdXRlEE9jaXJjdW1mbGV4Z3JhdmUQb2NpcmN1bWZsZXhncmF2ZRRPY2lyY3VtZmxleGhvb2thYm92ZRRvY2lyY3VtZmxleGhvb2thYm92ZRBPY2lyY3VtZmxleHRpbGRlEG9jaXJjdW1mbGV4dGlsZGUTT2NpcmN1bWZsZXhkb3RiZWxvdxNvY2lyY3VtZmxleGRvdGJlbG93Ck9ob3JuYWN1dGUKb2hvcm5hY3V0ZQpPaG9ybmdyYXZlCm9ob3JuZ3JhdmUOT2hvcm5ob29rYWJvdmUOb2hvcm5ob29rYWJvdmUKT2hvcm50aWxkZQpvaG9ybnRpbGRlDU9ob3JuZG90YmVsb3cNb2hvcm5kb3RiZWxvdwlVZG90YmVsb3cJdWRvdGJlbG93ClVob29rYWJvdmUKdWhvb2thYm92ZQpVaG9ybmFjdXRlCnVob3JuYWN1dGUKVWhvcm5ncmF2ZQp1aG9ybmdyYXZlDlVob3JuaG9va2Fib3ZlDnVob3JuaG9va2Fib3ZlClVob3JudGlsZGUKdWhvcm50aWxkZQ1VaG9ybmRvdGJlbG93DXVob3JuZG90YmVsb3cJWWRvdGJlbG93CXlkb3RiZWxvdwpZaG9va2Fib3ZlCnlob29rYWJvdmUGWXRpbGRlBnl0aWxkZQd1bmkwMUNEB3VuaTAxQ0UHdW5pMDFDRgd1bmkwMUQwB3VuaTAxRDEHdW5pMDFEMgd1bmkwMUQzB3VuaTAxRDQHdW5pMDFENQd1bmkwMUQ2B3VuaTAxRDcHdW5pMDFEOAd1bmkwMUQ5B3VuaTAxREEHdW5pMDFEQgd1bmkwMURDCWdseXBoMTI5MglnbHlwaDEyOTMJZ2x5cGgxMjk0CWdseXBoMTI5NQd1bmkwNDkyB3VuaTA0OTMHdW5pMDQ5Ngd1bmkwNDk3B3VuaTA0OUEHdW5pMDQ5Qgd1bmkwNDlDB3VuaTA0OUQHdW5pMDRBMgd1bmkwNEEzB3VuaTA0QUUHdW5pMDRBRgd1bmkwNEIwB3VuaTA0QjEHdW5pMDRCMgd1bmkwNEIzB3VuaTA0QjgHdW5pMDRCOQd1bmkwNEJBB3VuaTA0QkIHdW5pMDE4Rgd1bmkwMjU5B3VuaTA0RTgHdW5pMDRFOQlnbHlwaDEzMjAJZ2x5cGgxMzIxCWdseXBoMTMyMglnbHlwaDEzMjMJZ2x5cGgxMzI0CWdseXBoMTMyNQlnbHlwaDEzMjYJZ2x5cGgxMzI3CWdseXBoMTMyOAlnbHlwaDEzMjkJZ2x5cGgxMzMwCWdseXBoMTMzMQlnbHlwaDEzMzIJZ2x5cGgxMzMzCWdseXBoMTMzNAlnbHlwaDEzMzUHdW5pMDY1Mwd1bmkwNjU0B3VuaTA2NTUHdW5pMDY3MAd1bmkwNjcxB3VuaUZCNTEHdW5pMDY3MglnbHlwaDEzNDMHdW5pMDY3MwlnbHlwaDEzNDUHdW5pMDY3NQdnbHlwaDQ3B3VuaTA2NzYJZ2x5cGgxMzQ5B3VuaTA2NzcJZ2x5cGgxMzUxB3VuaTA2NzgFZ2x5cGgHdW5pMDY3OQd1bmlGQjY3B3VuaUZCNjgHdW5pRkI2OQd1bmkwNjdBB3VuaUZCNUYHdW5pRkI2MAd1bmlGQjYxB3VuaTA2N0IHdW5pRkI1Mwd1bmlGQjU0B3VuaUZCNTUHdW5pMDY3QwlnbHlwaDEzNjcJZ2x5cGgxMzY4CWdseXBoMTM2OQd1bmkwNjdECWdseXBoMTM3MQlnbHlwaDEzNzIJZ2x5cGgxMzczB3VuaTA2N0YHdW5pRkI2Mwd1bmlGQjY0B3VuaUZCNjUHdW5pMDY4MAd1bmlGQjVCB3VuaUZCNUMHdW5pRkI1RAd1bmkwNjgxCWdseXBoMTM4MwlnbHlwaDEzODQJZ2x5cGgxMzg1B3VuaTA2ODIJZ2x5cGgxMzg3CWdseXBoMTM4OAlnbHlwaDEzODkHdW5pMDY4Mwd1bmlGQjc3B3VuaUZCNzgHdW5pRkI3OQd1bmkwNjg0B3VuaUZCNzMHdW5pRkI3NAd1bmlGQjc1B3VuaTA2ODUJZ2x5cGgxMzk5CWdseXBoMTQwMAlnbHlwaDE0MDEHdW5pMDY4Nwd1bmlGQjdmB3VuaUZCODAHdW5pRkI4MQd1bmkwNjg4B3VuaUZCODkHdW5pMDY4OQlnbHlwaDE0MDkHdW5pMDY4QQlnbHlwaDE0MTEHdW5pMDY4QglnbHlwaDE0MTMHdW5pMDY4Qwd1bmlGQjg1B3VuaTA2OEQHdW5pRkI4Mwd1bmkwNjhFB3VuaUZCODcHdW5pMDY4RglnbHlwaDE0MjEHdW5pMDY5MAlnbHlwaDE0MjMHdW5pMDY5MQd1bmlGQjhEB3VuaTA2OTIJZ2x5cGgxNDI2B3VuaTA2OTMJZ2x5cGgxNDI5B3VuaTA2OTQJZ2x5cGgxNDMxB3VuaTA2OTUJZ2x5cGgxNDMzB3VuaTA2OTYJZ2x5cGgxNDM1B3VuaTA2OTcJZ2x5cGgxNDM3B3VuaTA2OTkJZ2x5cGgxNDM5B3VuaTA2OUEJZ2x5cGgxNDQxCWdseXBoMTQ0MglnbHlwaDE0NDMHdW5pMDY5QglnbHlwaDE0NDUJZ2x5cGgxNDQ2CWdseXBoMTQ0Nwd1bmkwNjlDCWdseXBoMTQ0OQlnbHlwaDE0NTAJZ2x5cGgxNDUxB3VuaTA2OUQJZ2x5cGgxNDUzCWdseXBoMTQ1NAlnbHlwaDE0NTUHdW5pMDY5RQlnbHlwaDE0NTcJZ2x5cGgxNDU4CWdseXBoMTQ1OQd1bmkwNjlGCWdseXBoMTQ2MQd1bmkwNkEwCWdseXBoMTQ2MwlnbHlwaDE0NjQJZ2x5cGgxNDY1B3VuaTA2QTEHdW5pMDZBMglnbHlwaDE0NjgJZ2x5cGgxNDY5CWdseXBoMTQ3MAd1bmkwNkEzCWdseXBoMTQ3MglnbHlwaDE0NzMJZ2x5cGgxNDc0B3VuaTA2QTQHdW5pRkI2Qgd1bmlGQjZDB3VuaUZCNkQHdW5pMDZBNQlnbHlwaDE0ODAJZ2x5cGgxNDgxCWdseXBoMTQ4Mgd1bmkwNkE2B3VuaUZCNkYHdW5pRkI3MAd1bmlGQjcxB3VuaTA2QTcJZ2x5cGgxNDg4B3VuaTA2QTgJZ2x5cGgxNDkwB3VuaTA2QUEJZ2x5cGgxNDkyCWdseXBoMTQ5MwlnbHlwaDE0OTQHdW5pMDZBQglnbHlwaDE0OTYJZ2x5cGgxNDk3CWdseXBoMTQ5OAd1bmkwNkFDCWdseXBoMTUwMAlnbHlwaDE1MDEJZ2x5cGgxNTAyB3VuaTA2QUQHdW5pRkJENAd1bmlGQkQ1B3VuaUZCRDYHdW5pMDZBRQlnbHlwaDE1MDgJZ2x5cGgxNTA5CWdseXBoMTUxMAd1bmkwNkIwCWdseXBoMTUxMglnbHlwaDE1MTMJZ2x5cGgxNTE0B3VuaTA2QjEHdW5pRkI5Qgd1bmlGQjlDB3VuaUZCOUQHdW5pMDZCMglnbHlwaDE1MjAJZ2x5cGgxNTIxCWdseXBoMTUyMgd1bmkwNkIzB3VuaUZCOTcHdW5pRkI5OAd1bmlGQjk5B3VuaTA2QjQJZ2x5cGgxNTI4CWdseXBoMTUyOQlnbHlwaDE1MzAHdW5pMDZCNQlnbHlwaDE1MzIJZ2x5cGgxNTMzCWdseXBoMTUzNAd1bmkwNkI2CWdseXBoMTUzNglnbHlwaDE1MzcJZ2x5cGgxNTM4B3VuaTA2QjcJZ2x5cGgxNTQwCWdseXBoMTU0MQlnbHlwaDE1NDIHdW5pMDZCOAlnbHlwaDE1NDQJZ2x5cGgxNTQ1CWdseXBoMTU0Ngd1bmkwNkI5CWdseXBoMTU0OAlnbHlwaDE1NDkJZ2x5cGgxNTUwB3VuaTA2QkEHdW5pRkI5Rgd1bmkwNkJCB3VuaUZCQTEHdW5pMDZCQwlnbHlwaDE1NTYJZ2x5cGgxNTU3CWdseXBoMTU1OAd1bmkwNkJECWdseXBoMTU2MAd1bmkwNkJGCWdseXBoMTU2MglnbHlwaDE1NjMJZ2x5cGgxNTY0B3VuaTA2QzAHdW5pRkJBNQd1bmkwNkMxB3VuaTA2QzIHdW5pMDZDMwd1bmkwNkM0CWdseXBoMTU3MQd1bmkwNkM1B3VuaUZCRTEHdW5pMDZDNgd1bmlGQkRBB3VuaTA2QzcHdW5pRkJEOAd1bmkwNkM4B3VuaUZCREMHdW5pMDZDOQd1bmlGQkUzB3VuaTA2Q0EJZ2x5cGgxNTgzB3VuaTA2Q0IHdW5pRkJERgd1bmkwNkNECWdseXBoMTU4Nwd1bmkwNkNFCWdseXBoMTU4OQlnbHlwaDE1OTAJZ2x5cGgxNTkxB3VuaTA2Q0YJZ2x5cGgxNTkzB3VuaTA2RDAHdW5pRkJFNQd1bmlGQkU2B3VuaUZCRTcHdW5pMDZEMQlnbHlwaDE1OTkHdW5pMDZEMgd1bmlGQkFGB3VuaTA2RDMHdW5pRkJCMQd1bmkwNkQ0B3VuaTA2RDYHdW5pMDZENwd1bmkwNkQ4B3VuaTA2RDkHdW5pMDZEQQd1bmkwNkRCB3VuaTA2REMHdW5pMDZERAd1bmkwNkRFB3VuaTA2REYHdW5pMDZFMAd1bmkwNkUxB3VuaTA2RTIHdW5pMDZFMwd1bmkwNkU0B3VuaTA2RTUHdW5pMDZFNgd1bmkwNkU3B3VuaTA2RTgHdW5pMDZFOQd1bmkwNkVBB3VuaTA2RUIHdW5pMDZFRAd1bmkwNkZBCWdseXBoMTYyOQlnbHlwaDE2MzAJZ2x5cGgxNjMxB3VuaTA2RkIJZ2x5cGgxNjMzCWdseXBoMTYzNAlnbHlwaDE2MzUHdW5pMDZGQwlnbHlwaDE2MzcJZ2x5cGgxNjM4CWdseXBoMTYzOQd1bmkwNkZEB3VuaTA2RkUHdW5pRkJBNgd1bmlGQkE4B3VuaUZCQTkJZ2x5cGgxNjQ1CWdseXBoMTY0NglnbHlwaDE2NDcJZ2x5cGgxNjQ4CWdseXBoMTY0OQlnbHlwaDE2NTAJZ2x5cGgxNjUxB3VuaUZCMUQHdW5pRkIxRQlnbHlwaDE2NTQHdW5pRkIxRglnbHlwaDE2NTYJZ2x5cGgxNjU3CWdseXBoMTY1OAlnbHlwaDE2NTkJZ2x5cGgxNjYwCWdseXBoMTY2MQlnbHlwaDE2NjIJZ2x5cGgxNjYzCWdseXBoMTY2NAlnbHlwaDE2NjUJZ2x5cGgxNjY2CWdseXBoMTY2NwlnbHlwaDE2NjgJZ2x5cGgxNjY5CWdseXBoMTY3MAlnbHlwaDE2NzEJZ2x5cGgxNjcyCWdseXBoMTY3MwAAAAADAAgAAgARAAH//wADAAEAAE0CvyICOQQmAABA2gW6AABNIEFyaWFsICAgICAgICAg/////wA///5BUkxSMDAAAEAAAAAAAQAAAAwAAAAAAAAAAgAZAugC8AABAvEC+AADAvkDBQABAwgDCAABAwoDDAABAxIDEgADAxsDGwABAx8DIgABAycDNgABA0cDSwADA3wDfQABA38DfwACA4ADgAABA4EDjAACA40D9AABA/UD/AACA/8EAAADBAQEBQADBAgECQADBA0EEgADBBQEFQADBEwETgABBGcEaQABBSoGbAABBnIGiQABAAAAAQAAAAoAPgCiAAFhcmFiAAgACgABTUFSIAAaAAAABwAFAAEAAgADAAUABgAAAAcABgAAAAEAAgADAAQABgAIaXNvbAAyaXNvbAA4aW5pdAA+bWVkaQBEZmluYQBKZmluYQBQbGlnYQBWcmxpZwBeAAAAAQAAAAAAAQABAAAAAQACAAAAAQADAAAAAQAEAAAAAQAFAAAAAgAGAAcAAAABAAYACAASACgARgGoAwoFVAeeCMAAAQABAAEACAACAAgAAQZyAAEAAQXfAAEAAQABAAgAAgAMAAMGagYdA5MAAQADBh8GIAYhAAEAAQABAAgAAgCuAFQDIQMpAy8DMwPzA4sDkQOXA5sDnwOjA6cDswO3A7sDvwPDA8cDywPPA9MD1wPbA98D4wPnA+sD6wPzBSkFKgVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BaIFpgWqBa4FsgW0BbgFKgW9BcEFxQXJBc0D0wXFBdUF2QXdBeEF5QXpBe0F8QX1BfkF/QYBBgUGCQYNBUwGFQMhBhsGawY2BjwGXgZiBmYAAQBUAx8DJwMtAzEDNQOJA48DlQOZA50DoQOlA7EDtQO5A70DwQPFA8kDzQPRA9UD2QPdA+ED5QPpA+sD8QUoBSwFSgVOBVIFVgVaBV4FYgVmBWoFbgVyBXYFegWgBaQFqAWsBbAFtAW2BboFuwW/BcMFxwXLBc8F0QXTBdcF2wXfBeMF5wXrBe8F8wX3BfsF/wYDBgcGCwYRBhMGFwYZBh8GNAY6BlwGYAZkAAEAAQABAAgAAgCuAFQDIgMqAzADNAP0A4wDkgOYA5wDoAOkA6gDtAO4A7wDwAPEA8gDzAPQA9QD2APcA+AD5APoA+wD7AP0BSkFKwVNBVEFVQVZBV0FYQVlBWkFbQVxBXUFeQV9BaMFpwWrBa8FswW1BbkFKwW+BcIFxgXKBc4D1AXGBdYF2gXeBeIF5gXqBe4F8gX2BfoF/gYCBgYGCgYOBUwGFgMiBhwGbAY3Bj0GXwZjBmcAAQBUAx8DJwMtAzEDNQOJA48DlQOZA50DoQOlA7EDtQO5A70DwQPFA8kDzQPRA9UD2QPdA+ED5QPpA+sD8QUoBSwFSgVOBVIFVgVaBV4FYgVmBWoFbgVyBXYFegWgBaQFqAWsBbAFtAW2BboFuwW/BcMFxwXLBc8F0QXTBdcF2wXfBeMF5wXrBe8F8wX3BfsF/wYDBgcGCwYRBhMGFwYZBh8GNAY6BlwGYAZkAAEAAQABAAgAAgEiAI4DIAMoAywDLgMyAzYDggOEA4YDiAOKA44DkAOUA5YDmgOeA6IDpgOqA6wDrgOwA7IDtgO6A74DwgPGA8oDzgPSA9YD2gPeA+ID5gPqA+oD7gPwA/ID9gP4A/oD/AUoBSwFPQU/BUEFQwVFBUcFSQVLBU8FUwVXBVsFXwVjBWcFawVvBXMFdwV7BX8FgQWDBYUFhwWJBYsFjQWPBZEFkwWVBZcFmQWbBZ0FnwWhBaUFqQWtBbEFtQW3BboFvAXABcQFyAXMBdAF0gXUBdgF3AZzBeQF6AXsBfAF9AX4BfwGAAYEBggGDAYQBhIGFAYYBhoGHgYfBiAGIQYjBiUGJwYpBisGLQYvBjEGMwY1BjkGOwY/BkEGQwZdBmEGZQABAI4DHwMnAysDLQMxAzUDgQODA4UDhwOJA40DjwOTA5UDmQOdA6EDpQOpA6sDrQOvA7EDtQO5A70DwQPFA8kDzQPRA9UD2QPdA+ED5QPpA+sD7QPvA/ED9QP3A/kD+wUoBSwFPAU+BUAFQgVEBUYFSAVKBU4FUgVWBVoFXgViBWYFagVuBXIFdgV6BX4FgAWCBYQFhgWIBYoFjAWOBZAFkgWUBZYFmAWaBZwFngWgBaQFqAWsBbAFtAW2BboFuwW/BcMFxwXLBc8F0QXTBdcF2wXfBeMF5wXrBe8F8wX3BfsF/wYDBgcGCwYPBhEGEwYXBhkGHQYfBiAGIQYiBiQGJgYoBioGLAYuBjAGMgY0BjgGOgY+BkAGQgZcBmAGZAABAAEAAQAIAAIBIgCOAyADKAMsAy4DMgM2A4IDhAOGA4gDigOOA5ADlAOWA5oDngOiA6YDqgOsA64DsAOyA7YDugO+A8IDxgPKA84D0gPWA9oD3gPiA+YD6gPqA+4D8APyA/YD+AP6A/wFKAUsBT0FPwVBBUMFRQVHBUkFSwVPBVMFVwVbBV8FYwVnBWsFbwVzBXcFewV/BYEFgwWFBYcFiQWLBY0FjwWRBZMFlQWXBZkFmwWdBZ8FoQWlBakFrQWxBbUFtwW6BbwFwAXEBcgFzAXQBdIF1AXYBdwF4AXkBegF7AXwBfQF+AX8BgAGBAYIBgwGEAYSBhQGGAYaBh4GHwYgBiEGIwYlBicGKQYrBi0GLwYxBjMGNQY5BjsGPwZBBkMGXQZhBmUAAQCOAx8DJwMrAy0DMQM1A4EDgwOFA4cDiQONA48DkwOVA5kDnQOhA6UDqQOrA60DrwOxA7UDuQO9A8EDxQPJA80D0QPVA9kD3QPhA+UD6QPrA+0D7wPxA/UD9wP5A/sFKAUsBTwFPgVABUIFRAVGBUgFSgVOBVIFVgVaBV4FYgVmBWoFbgVyBXYFegV+BYAFggWEBYYFiAWKBYwFjgWQBZIFlAWWBZgFmgWcBZ4FoAWkBagFrAWwBbQFtgW6BbsFvwXDBccFywXPBdEF0wXXBdsF3wXjBecF6wXvBfMF9wX7Bf8GAwYHBgsGDwYRBhMGFwYZBh0GHwYgBiEGIgYkBiYGKAYqBiwGLgYwBjIGNAY4BjoGPgZABkIGXAZgBmQABAAJAAEACAABAQIACgAaAHAAsgC8AMYA0ADaAOQA7gD4AAoAFgAeACYALAAyADgAPgBEAEoAUAN/AAMD4APqA38AAwPgBh8D9QACA4ID9wACA4QD+QACA4gD+wACA44GeAACBT8GegACBUEGfAACBUMGiAACBT0ACAASABgAHgAkACoAMAA2ADwD9gACA4ID+AACA4QD+gACA4gD/AACA44GeQACBT8GewACBUEGfQACBUMGiQACBT0AAQAEBn4AAgOOAAEABAZ/AAIDjgABAAQGgAACA44AAQAEBoEAAgOOAAEABAaCAAIDjgABAAQGgwACA44AAQAEBoQAAgOOAAEABAaFAAIDjgABAAoD3wPgBf0F/gYBBgIGBQYGBgkGCgAEAAcAAQAIAAEAOgABAAgABgAOABQAGgAgACYALAMSAAIC8QNHAAIC8gNIAAIC8wNJAAIC9ANKAAIC9QNLAAIC9gABAAEC9wAAAAEAAAABYXJhYgAMAAYAAAAAAAUC8AMbBGcEaARpAAAAAAABAAEAAQAAAAEAABpnAAAAFAAAAAAAABpfMIIaWwYJKoZIhvcNAQcCoIIaTDCCGkgCAQExDjAMBggqhkiG9w0CBQUAMGAGCisGAQQBgjcCAQSgUjBQMCwGCisGAQQBgjcCARyiHoAcADwAPAA8AE8AYgBzAG8AbABlAHQAZQA+AD4APjAgMAwGCCqGSIb3DQIFBQAEEKRFzbyY5IhG+q3v+FTiYCOgghS8MIICvDCCAiUCEEoZ0jiMglkcpV1zXxVd3KMwDQYJKoZIhvcNAQEEBQAwgZ4xHzAdBgNVBAoTFlZlcmlTaWduIFRydXN0IE5ldHdvcmsxFzAVBgNVBAsTDlZlcmlTaWduLCBJbmMuMSwwKgYDVQQLEyNWZXJpU2lnbiBUaW1lIFN0YW1waW5nIFNlcnZpY2UgUm9vdDE0MDIGA1UECxMrTk8gTElBQklMSVRZIEFDQ0VQVEVELCAoYyk5NyBWZXJpU2lnbiwgSW5jLjAeFw05NzA1MTIwMDAwMDBaFw0wNDAxMDcyMzU5NTlaMIGeMR8wHQYDVQQKExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMRcwFQYDVQQLEw5WZXJpU2lnbiwgSW5jLjEsMCoGA1UECxMjVmVyaVNpZ24gVGltZSBTdGFtcGluZyBTZXJ2aWNlIFJvb3QxNDAyBgNVBAsTK05PIExJQUJJTElUWSBBQ0NFUFRFRCwgKGMpOTcgVmVyaVNpZ24sIEluYy4wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBANMuIPBofCwtLoEcsQaypwu3EQ1X2lPYdePJMyqy1PYJWzTz6ZD+CQzQ2xtauc3n9oixncCHJet9WBBzanjLcRX9xlj2KatYXpYE/S1iEViBHMpxlNUiWC/VzBQFhDa6lKq0TUrp7jsirVaZfiGcbIbASkeXarSmNtX8CS3TtDmbAgMBAAEwDQYJKoZIhvcNAQEEBQADgYEAYVUOPnvHkhJ+ERCOIszUsxMrW+hE5At4nqR+86cHch7iWe/MhOOJlEzbTmHvs6T7Rj1QNAufcFb2jip/F87lY795aQdzLrCVKIr17aqp0l3NCsoQCY/Os68olsR5KYSS3P+6Z0JIppAQ5L9h+JxT5ZPRcz/4/Z1PhKxV0f0RY2MwggQCMIIDa6ADAgECAhAIem1cb2KTT7rE/UPhFBidMA0GCSqGSIb3DQEBBAUAMIGeMR8wHQYDVQQKExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMRcwFQYDVQQLEw5WZXJpU2lnbiwgSW5jLjEsMCoGA1UECxMjVmVyaVNpZ24gVGltZSBTdGFtcGluZyBTZXJ2aWNlIFJvb3QxNDAyBgNVBAsTK05PIExJQUJJTElUWSBBQ0NFUFRFRCwgKGMpOTcgVmVyaVNpZ24sIEluYy4wHhcNMDEwMjI4MDAwMDAwWhcNMDQwMTA2MjM1OTU5WjCBoDEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0IE5ldHdvcmsxOzA5BgNVBAsTMlRlcm1zIG9mIHVzZSBhdCBodHRwczovL3d3dy52ZXJpc2lnbi5jb20vcnBhIChjKTAxMScwJQYDVQQDEx5WZXJpU2lnbiBUaW1lIFN0YW1waW5nIFNlcnZpY2UwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDAemGH67KnA2MbKxph3oC3FR2gi5A9uyeShBQ564XOKZIGZkikA0+N6E+n8K9e0S8Zx5HxtZ57kSHO6f/jTvD8r5VYuGMt5o72KRjNcI5Qw+2Wu0DbviXoQlXW9oXyBueLmRwx8wMP1EycJCrcGxuPgvOw76dN4xSn4I/Wx2jCYVipctT4MEhP2S9vYyDZicqCe8JLvCjFgWjn5oJArEY6oPk/Ns1Mu1RCWnple/6E5MdHVKy5PeyAxxr3xDOBgckqlft/XjqHkBTbzC518u9r5j2pYL5CAapPqluoPyIxnxIV+XOhHoKLBCvqRgJMbY8fUC6VSyp4BoR0PZGPLEcxAgMBAAGjgbgwgbUwQAYIKwYBBQUHAQEENDAyMDAGCCsGAQUFBzABhiRodHRwOi8vb2NzcC52ZXJpc2lnbi5jb20vb2NzcC9zdGF0dXMwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkGC2CGSAGG+EUBBwEBMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEwEwYDVR0lBAwwCgYIKwYBBQUHAwgwCwYDVR0PBAQDAgbAMA0GCSqGSIb3DQEBBAUAA4GBAC3zT2NgLBja9SQPUrMM67O8Z4XCI+2PRg3PGk2+83x6IDAyGGiLkrsymfCTuDsVBid7PgIGAKQhkoQTCsWY5UBXxQUl6K+vEWqp5TvL6SP2lCldQFXzpVOdyDY6OWUIc3OkMtKvrL/HBTz/RezD6Nok0c5jrgmn++Ib4/1BCmqWMIIEEjCCAvqgAwIBAgIPAMEAizw8iBHRPvZj7N9AMA0GCSqGSIb3DQEBBAUAMHAxKzApBgNVBAsTIkNvcHlyaWdodCAoYykgMTk5NyBNaWNyb3NvZnQgQ29ycC4xHjAcBgNVBAsTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWljcm9zb2Z0IFJvb3QgQXV0aG9yaXR5MB4XDTk3MDExMDA3MDAwMFoXDTIwMTIzMTA3MDAwMFowcDErMCkGA1UECxMiQ29weXJpZ2h0IChjKSAxOTk3IE1pY3Jvc29mdCBDb3JwLjEeMBwGA1UECxMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgUm9vdCBBdXRob3JpdHkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCpAr3BcOY78k4bKJ+XeF4w6qKpjSVf+P6VTKO3/p2iID58UaKboo9gMmvRQmR57qx2yVTa8uuchhyPn4Rms8VremIj1h083g8BkuiWxL8tZpqaaCaZ0Dosvwy1WCbBRucKPjiWLKkoOajsSYNC44QPu5psVWGsgnyhYC13TOmZtGQ7mlAcMQgkFJ+p55ErGOY9mGMUYFgFZZ8dN1KH96fvlALGG9O/VUWziYC/OuxUlE6u/ad6bXROrxjMlgkoIQBXkGBpN7tLEgc8Vv9b+6RmCgim0oFWV++2O14WgXcE2va+roCV/rDNf9anGnJcPMq88AijIjCzBoXJsyB3E4XfAgMBAAGjgagwgaUwgaIGA1UdAQSBmjCBl4AQW9Bw72lyniNRfhSyTY7/y6FyMHAxKzApBgNVBAsTIkNvcHlyaWdodCAoYykgMTk5NyBNaWNyb3NvZnQgQ29ycC4xHjAcBgNVBAsTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWljcm9zb2Z0IFJvb3QgQXV0aG9yaXR5gg8AwQCLPDyIEdE+9mPs30AwDQYJKoZIhvcNAQEEBQADggEBAJXoC8CN85cYNe24ASTYdxHzXGAyn54Lyz4FkYiPyTrmIfLwV5MstaBHyGLv/NfMOztaqTZUaf4kbT/JzKreBXzdMY09nxBwarv+Ek8YacD80EPjEVogT+pie6+qGcgrNyUtvmWhEoolD2Oj91Qc+SHJ1hXzUqxuQzIH/YIX+OVnbA1R9r3xUse958Qw/CAxCYgdlSkaTdUdAqXxgOADtFv0sd3IV+5lScdSVLa0AygS/5DW8AiPfriXxas3LOR65Kh343agANBqP8HSNorgQRKoNWobats14dQcBOSoRQTIWjM4bk0cDWK3CqKM09VUP0bNHFWmcNsSOoeTdZ+n0qAwggTJMIIDsaADAgECAhBqC5lPwADeqhHU2ECaqL7mMA0GCSqGSIb3DQEBBAUAMHAxKzApBgNVBAsTIkNvcHlyaWdodCAoYykgMTk5NyBNaWNyb3NvZnQgQ29ycC4xHjAcBgNVBAsTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWljcm9zb2Z0IFJvb3QgQXV0aG9yaXR5MB4XDTAwMTIxMDA4MDAwMFoXDTA1MTExMjA4MDAwMFowgaYxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xKzApBgNVBAsTIkNvcHlyaWdodCAoYykgMjAwMCBNaWNyb3NvZnQgQ29ycC4xIzAhBgNVBAMTGk1pY3Jvc29mdCBDb2RlIFNpZ25pbmcgUENBMIIBIDANBgkqhkiG9w0BAQEFAAOCAQ0AMIIBCAKCAQEAooQVU9gLMA40lf86G8LzL3ttNyNN89KM5f2v/cUCNB8kx+Wh3FTsfgJ0R6vbMlgWFFEpOPF+srSMOke1OU5uVMIxDDpt+83Ny1CcG66n2NlKJj+1xcuPluJJ8m3Y6ZY+3gXP8KZVN60vYM2AYUKhSVRKDxi3S9mTmTBaR3VktNO73barDJ1PuHM7GDqqtIeMsIiwTU8fThG1M4DfDTpkb0THNL1Kk5u8ph35BSNOYCmPzCryhJqZrajbCnB71jRBkKW3ZsdcGx2jMw6bVAMaP5iQuMznPQR0QxyP9znms6xIemsqDmIBYTl2bv0+mAdLFPEBRv0VAOBH2k/kBeSAJQIBA6OCASgwggEkMBMGA1UdJQQMMAoGCCsGAQUFBwMDMIGiBgNVHQEEgZowgZeAEFvQcO9pcp4jUX4Usk2O/8uhcjBwMSswKQYDVQQLEyJDb3B5cmlnaHQgKGMpIDE5OTcgTWljcm9zb2Z0IENvcnAuMR4wHAYDVQQLExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xITAfBgNVBAMTGE1pY3Jvc29mdCBSb290IEF1dGhvcml0eYIPAMEAizw8iBHRPvZj7N9AMBAGCSsGAQQBgjcVAQQDAgEAMB0GA1UdDgQWBBQpXLkbts0z7rueWX335couxA00KDAZBgkrBgEEAYI3FAIEDB4KAFMAdQBiAEMAQTALBgNVHQ8EBAMCAUYwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG9w0BAQQFAAOCAQEARVjimkF//J2/SHd3rozZ5hnFV7QavbS5XwKhRWo5Wfm5J5wtTZ78ouQ4ijhkIkLfuS8qz7fWBsrrKr/gGoV821EIPfQi09TAbYiBFURfZINkxKmULIrbkDdKD7fo1GGPdnbh2SX/JISVjQRWVJShHDo+grzupYeMHIxLeV+1SfpeMmk6H1StdU3fZOcwPNtkSUT7+8QcQnHmoD1F7msAn6xCvboRs1bk+9WiKoHYH06iVb4nj3Cmomwb/1SKgryBS6ahsWZ6qRenywbAR+ums+kxFVM9KgS//3NI3IsnQ/xj6O4kh1u+NtHoMfUy2V7feXq6MKxphkr7jBG/G41UWTCCBQ8wggP3oAMCAQICCmEHEUMAAAAAADQwDQYJKoZIhvcNAQEFBQAwgaYxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xKzApBgNVBAsTIkNvcHlyaWdodCAoYykgMjAwMCBNaWNyb3NvZnQgQ29ycC4xIzAhBgNVBAMTGk1pY3Jvc29mdCBDb2RlIFNpZ25pbmcgUENBMB4XDTAyMDUyNTAwNTU0OFoXDTAzMTEyNTAxMDU0OFowgaExCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xKzApBgNVBAsTIkNvcHlyaWdodCAoYykgMjAwMiBNaWNyb3NvZnQgQ29ycC4xHjAcBgNVBAMTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKqZvTmoGCf0Kz0LTD98dy6ny7XRjA3COnTXk7XgoEs/WV7ORU+aeSnxScwaR+5Vwgg+EiD4VfLuX9Pgypa8MN7+WMgnMtCFVOjwkRC78yu+GeUDmwuGHfOwOYy4/QsdPHMmrFcryimiFZCCFeJ3o0BSA4udwnC6H+k09vM1kk5Vg/jaMLYg3lcGtVpCBt5Zy/Lfpr0VR3EZJSPSy2+bGXnfalvxdgV5KfzDVsqPRAiFVYrLyA9GS1XLjJZ3SofoqUEGx/8N6WhXY3LDaVe0Q88yOjDcG+nVQyYqef6V2yJnJMkv0DTj5vtRSYa4PNAlX9bsngNhh6loQMf44gPmzwUCAwEAAaOCAUAwggE8MA4GA1UdDwEB/wQEAwIGwDATBgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUa8jGUSDwtC/ToLauf14msriHUikwgakGA1UdIwSBoTCBnoAUKVy5G7bNM+67nll99+XKLsQNNCihdKRyMHAxKzApBgNVBAsTIkNvcHlyaWdodCAoYykgMTk5NyBNaWNyb3NvZnQgQ29ycC4xHjAcBgNVBAsTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWljcm9zb2Z0IFJvb3QgQXV0aG9yaXR5ghBqC5lPwADeqhHU2ECaqL7mMEoGA1UdHwRDMEEwP6A9oDuGOWh0dHA6Ly9jcmwubWljcm9zb2Z0LmNvbS9wa2kvY3JsL3Byb2R1Y3RzL0NvZGVTaWduUENBLmNybDANBgkqhkiG9w0BAQUFAAOCAQEANSP9E1T86dzw3QwUevqns879pzrIuuXn9gP7U9unmamgmzacA+uCRxwhvRTL52dACccWkQJVzkNCtM0bXbDzMgQ9EuUdpwenj6N+RVV2G5aVkWnw3TjzSInvcEC327VVgMADxC62KNwKgg7HQ+N6SF24BomSQGxuxdz4mu8LviEKjC86te2nznGHaCPhs+QYfbhHAaUrxFjLsolsX/3TLMRvuCOyDf888hFFdPIJBpkY3W/AhgEYEh0rFq9W72UzoepnTvRLgqvpD9wB+t9gf2ZHXcsscMx7TtkGuG6MDP5iHkL5k3yiqwqe0CMQrk17J5FvJr5o+qY/nyPryJ27hzGCBQ8wggULAgEBMIG1MIGmMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMSswKQYDVQQLEyJDb3B5cmlnaHQgKGMpIDIwMDAgTWljcm9zb2Z0IENvcnAuMSMwIQYDVQQDExpNaWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQQIKYQcRQwAAAAAANDAMBggqhkiG9w0CBQUAoIHcMBQGCSsGAQQBgjcoATEHAwUAAwAAADAZBgkqhkiG9w0BCQMxDAYKKwYBBAGCNwIBBDAcBgorBgEEAYI3AgELMQ4wDAYKKwYBBAGCNwIBFTAfBgkqhkiG9w0BCQQxEgQQWgcErdNb7kkwQaDV2L6G0DBqBgorBgEEAYI3AgEMMVwwWqAwgC4AQQByAGkAYQBsACAARgBvAG4AdAAgAFYAZQByAHMAaQBvAG4AIAAzAC4AMAAwoSaAJGh0dHA6Ly93d3cubWljcm9zb2Z0LmNvbS90eXBvZ3JhcGh5IDANBgkqhkiG9w0BAQEFAASCAQBONxfiGjeZWScLyZcq61DgYQLWI4ZInfCUvZkdYMEqR6+3j1k4BfOkg5eVe/EEJAhTzG3Kx8cZQJErT8e8l64cOtp8d9SBdY5cIjyZB1KK/uOwZ+cOHvTtLnSTRooSlkxICw3/X8OKO+q731sIClz/owxN6VFHVLyC1STlgeq9wbexwgp5cpZkrfJmgvr1AIYc79WlpiOVEz0hqprzskzpPOFQlpeF91CZ14gVP5iRWBJC2lR6hJukMjZEwKv3o54IFRf8aFWgUzxY7cYq9Jp9zTBCjIYFBtLG5Rua7/Uy0NOJ37yfdY3Om3liK/oUKxOzpB4IpFc/jFn6+8X6sNP8oYICTDCCAkgGCSqGSIb3DQEJBjGCAjkwggI1AgEBMIGzMIGeMR8wHQYDVQQKExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMRcwFQYDVQQLEw5WZXJpU2lnbiwgSW5jLjEsMCoGA1UECxMjVmVyaVNpZ24gVGltZSBTdGFtcGluZyBTZXJ2aWNlIFJvb3QxNDAyBgNVBAsTK05PIExJQUJJTElUWSBBQ0NFUFRFRCwgKGMpOTcgVmVyaVNpZ24sIEluYy4CEAh6bVxvYpNPusT9Q+EUGJ0wDAYIKoZIhvcNAgUFAKBZMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTAyMTAxODIxMTczNFowHwYJKoZIhvcNAQkEMRIEEAxp+xpeNWgUkJFzI3XdgF8wDQYJKoZIhvcNAQEBBQAEggEApmslO+JU0q/35zePkU/XAFcRNqCjVOiqCRUKseIPBHg40Om+3go/jEGYsCxYO1b10ENE094cJqp65+8p3h6IQG9qkELfEnsSsbpxFKjrp6MOiXPpA4C0lsMQ5ebjM3ab2ud+bew4FTHB/ewhaolU/FDT/mKNOAVm8Hg444Efa44rLDKRuNj/BwqEiUyWP23YnYVhOyaZPrtzl6EKsp6pLjijDl+zU+nbnwOmHB2rSkdjDhWakAL9IPVQ0JQieAmFdJtN7+siQKy4rnVdrMCOOvn3tzRbXOGb+u/EJDRKXpX74XQcmk6sdq5/FgZC8vVxTbrU8jT3GNWYRFDyY/tySwA="}x.prototype.drawFreeTextAnnotations=function(e,t,i){var n,o,r=e.data,a=r.replace(/"/g,""),s=JSON.parse(e.bounds),t=t.getPage(e.pageIndex);""!==r&&(r=this.convertPixelToPoint(s.left),n=this.convertPixelToPoint(s.top),o=this.convertPixelToPoint(s.width),s=this.convertPixelToPoint(s.height),(r=new j.PdfFreeTextAnnotation(r,n,o,s))._dictionary.set("NM",e.signatureName.toString()),n=e.fontSize,r.border.width=0,o=j.PdfFontFamily.helvetica,s=e.fontFamily.toString(),G.isNullOrUndefined(s)||((e=s.toString()).includes("Times New Roman")?o=j.PdfFontFamily.timesRoman:e.includes("Courier")?o=j.PdfFontFamily.courier:e.includes("Symbol")?o=j.PdfFontFamily.symbol:e.includes("ZapfDingbats")&&(o=j.PdfFontFamily.zapfDingbats)),n=Math.floor(this.convertPixelToPoint(n)),s=j.PdfFontStyle.regular,r.font=new j.PdfStandardFont(o,n,s),r.text=a,r.borderColor=[0,0,0],r.textAlignment=j.PdfTextAlignment.center,r._annotFlags=j.PdfAnnotationFlag.print,i&&(e=this.getRotateAngle(t.rotation),r.rotationAngle=Math.abs(e)),r.setValues("AnnotationType","Signature"),i&&(r.flatten=!0),r.setAppearance(!0),t.annotations.add(r))},x.prototype.getRotateAngle=function(e){var t=0;switch(e){case j.PdfRotationAngle.angle0:t=0;break;case j.PdfRotationAngle.angle180:t=2;break;case j.PdfRotationAngle.angle270:t=3;break;case j.PdfRotationAngle.angle90:t=1}return t},x.prototype.drawImage=function(e,t,i){var n,o,r,a,s=e.data,l=JSON.parse(e.bounds),t=t.getPage(e.pageIndex);""!==s&&(s=s.toString().split(",")[1],r=this.convertPixelToPoint(l.left),a=this.convertPixelToPoint(l.top),n=this.convertPixelToPoint(l.width),l=this.convertPixelToPoint(l.height),t.rotation!==j.PdfRotationAngle.angle90&&t.rotation!==j.PdfRotationAngle.angle270||(n=(o=[l,n])[0],l=o[1]),o=new j.PdfRubberStampAnnotation(r,a,n,l),r=new j.PdfBitmap(s),a=t.graphics,s=o.appearance.normal,o._dictionary.set("NM",e.signatureName.toString()),e=this.getRotateAngle(t.rotation),o.rotationAngle=Math.abs(e),i&&(o.flatten=!0),i?s.graphics.drawImage(r,0,0,n,l):(e=a.save(),s.graphics.drawImage(r,0,0,n,l),s.graphics.restore(e)),t.annotations.add(o))},x.prototype.saveFormFieldsDesignerData=function(e){if(Object.prototype.hasOwnProperty.call(e,"formDesigner")){var t=e.formDesigner;if(!G.isNullOrUndefined(t)){var i=JSON.parse(t);Object.prototype.hasOwnProperty.call(e,"formFieldsPageList")&&JSON.parse(e.formFieldsPageList);if(!G.isNullOrUndefined(this.formFieldLoadedDocument.form))for(var t=this.formFieldLoadedDocument.form._fields.length,n=this.formFieldLoadedDocument.form,o=t-1;0<=o;o--){var r=n.fieldAt(o),a=null,r=(r instanceof j.PdfSignatureField&&(a=r),!!G.isNullOrUndefined(a)||a.isSigned);null!=a&&r||n.removeField(n.fieldAt(o))}for(var s=0;s<i.length;s++)this.addFormFieldsToDocument(i[parseInt(s.toString(),10)].FormField)}if(!G.isNullOrUndefined(this.formFieldLoadedDocument.form))if(G.isNullOrUndefined(this.defaultAppearanceFields))this.formFieldLoadedDocument.form.setDefaultAppearance(!1);else{for(s=0;s<this.formFieldLoadedDocument.form.count;s++){var l=this.formFieldLoadedDocument.form.fieldAt(s);-1===this.defaultAppearanceFields.indexOf(l.name)&&l.setAppearance(!0)}this.defaultAppearanceFields=null}}},x.prototype.setFont=function(e,t){var i=this.getFontStyle(e),n=(t._dictionary.set("FontStyle",i),/[^\u0000-\u007F]/.test(t.text));t.font=n?this.getTrueFont(e.fontSize,i):new j.PdfStandardFont(this.getFontFamily(e.FontFamily),this.convertPixelToPoint(e.fontSize),i)},x.prototype.saveFormFieldsData=function(e){if(Object.prototype.hasOwnProperty.call(e,"fieldsData")){var e=e.fieldsData,t=JSON.parse(e);if(!G.isNullOrUndefined(t)&&0<Object.keys(t).length&&!G.isNullOrUndefined(this.formFieldLoadedDocument.form)){0<this.formFieldLoadedDocument.form._fields.length&&this.formFieldLoadedDocument.form.setDefaultAppearance(!1);for(var i=0;i<this.formFieldLoadedDocument.form._fields.length;i++){var n=this.formFieldLoadedDocument.form.fieldAt(i),o="",r="";if(G.isNullOrUndefined(n.name)||(o=n.name.replace(/[^0-9a-zA-Z]+/g,"").replace(/\s+/g,""),r=n.name),n instanceof j.PdfTextBoxField)n.password,(Object.prototype.hasOwnProperty.call(t,o)&&!G.isNullOrUndefined(t[""+o])||Object.prototype.hasOwnProperty.call(t,r)&&!G.isNullOrUndefined(t[""+r]))&&(a=t[""+(o=Object.prototype.hasOwnProperty.call(t,r)?r:o)],!G.isNullOrUndefined(a)&&Object.prototype.hasOwnProperty.call(a,"isReadOnly")&&(n.text=a.fieldValue,n.readOnly="true"===a.isReadOnly),this.setFont(a,n));else if(n instanceof j.PdfComboBoxField){if(Object.prototype.hasOwnProperty.call(t,o)&&!G.isNullOrUndefined(t[""+o])||Object.prototype.hasOwnProperty.call(t,r)&&!G.isNullOrUndefined(t[""+r])){for(var a=t[""+(o=Object.prototype.hasOwnProperty.call(t,r)?r:o)],s=n.itemsCount,l="",A=(G.isNullOrUndefined(a)||(Object.prototype.hasOwnProperty.call(a,"isReadOnly")&&(n.readOnly="true"===a.isReadOnly),G.isNullOrUndefined(a.fieldValue))||(l=a.fieldValue),!1),d=0;d<s;d++){var p=void 0;n._dictionary.has("Opt")?p=n._dictionary.get("Opt")[parseInt(d.toString(),10)]:G.isNullOrUndefined(n.itemAt(d))||(p=n.itemAt(d).text),(p===l||p&&0<p.length&&p[1]===l)&&(n.selectedIndex=d,A=!0)}n.editable&&!A&&(n.selectedValue=l),this.setFont(a,n)}}else if(n instanceof j.PdfCheckBoxField){if(Object.prototype.hasOwnProperty.call(t,o)&&!G.isNullOrUndefined(t[""+o])||Object.prototype.hasOwnProperty.call(t,r)&&!G.isNullOrUndefined(t[""+r])){var h=(a=t[""+(o=Object.prototype.hasOwnProperty.call(t,r)?r:o)]).isSelected,c=h.toString(),g=a.fieldValue;if(G.isNullOrUndefined(g)||n._dictionary.set("ExportValue",g),"true"===c.toLowerCase()||"false"===c.toLowerCase()){if(n.checked=h,!G.isNullOrUndefined(a)&&Object.prototype.hasOwnProperty.call(a,"isReadOnly")&&(n.readOnly=a.readonly),"false"===c.toLowerCase()){for(var u=n,f=0;f<u.itemsCount;f++)u.itemAt(f).checked=!1;n.checked=!1}}else{g=G.isNullOrUndefined(c)?-1:parseInt(c,10);if(0<(u=n).itemsCount)if(-1===g){for(var m=0;m<u.itemsCount;m++)u.itemAt(m).checked=!1;n.checked=!1}else G.isNullOrUndefined(u.itemAt(g))||(u.itemAt(g).checked=!0)}}}else if(n instanceof j.PdfListBoxField){if(Object.prototype.hasOwnProperty.call(t,o)&&!G.isNullOrUndefined(t[""+o])||Object.prototype.hasOwnProperty.call(t,r)&&!G.isNullOrUndefined(t[""+r])){for(var h=t[""+(o=Object.prototype.hasOwnProperty.call(t,r)?r:o)],s=n.itemsCount,l="",w=(G.isNullOrUndefined(h)||(Object.prototype.hasOwnProperty.call(h,"fieldValue")&&!G.isNullOrUndefined(h.fieldValue)&&(l=h.fieldValue),Object.prototype.hasOwnProperty.call(h,"isReadOnly")&&(n.readOnly="true"===h.isReadOnly)),l=JSON.parse(l)[0].replace(/[^0-9a-zA-Z]+/g,""),[]),f=0;f<s;f++)(p=n.itemAt(f).text)===l&&w.push(f);n.selectedIndex=w,this.setFont(h,n)}}else if(n instanceof j.PdfRadioButtonListField){if(Object.prototype.hasOwnProperty.call(t,o)&&!G.isNullOrUndefined(t[""+o])||Object.prototype.hasOwnProperty.call(t,r)&&!G.isNullOrUndefined(t[""+r])){a=t[""+(o=Object.prototype.hasOwnProperty.call(t,r)?r:o)];if(!G.isNullOrUndefined(a)&&Object.prototype.hasOwnProperty.call(a,"isReadOnly")){var B=a.fieldValue;if(B)for(var C=0;C<n.itemsCount;C++){var S=n.itemAt(C);if(S&&(S.value===B||S._optionValue===B)){n.selectedIndex=C;break}}n.readOnly="true"===a.isReadOnly}}}else if(n instanceof j.PdfSignatureField){if(Object.prototype.hasOwnProperty.call(t,o)&&!G.isNullOrUndefined(t[""+o])||Object.prototype.hasOwnProperty.call(t,r)&&!G.isNullOrUndefined(t[""+r])){Object.prototype.hasOwnProperty.call(t,r)&&(o=r);var y=n,I=(Object.prototype.hasOwnProperty.call(t,o+"fontName")?this.drawFieldFreeTextAnnotations(t[""+o],y,o,t[o+"bounds"],t[o+"fontName"],t[o+"fontSize"]):Object.prototype.hasOwnProperty.call(t,o+"ImageData")?this.drawFieldImage(t[""+o],y,o,t[o+"bounds"]):Object.prototype.hasOwnProperty.call(t,o+"bounds")&&this.drawFieldPath(t[""+o],y,o,t[o+"bounds"]),y.itemsCount);if(0<I)for(f=0;f<I;f++)Object.prototype.hasOwnProperty.call(t,o+"fontName_"+f)?this.drawFieldFreeTextAnnotations(t[""+o],y,o,t[o+"bounds_"+f],t[o+"fontName_"+f],t[o+"fontSize_"+f]):Object.prototype.hasOwnProperty.call(t,o+"ImageData_"+f)?this.drawFieldImage(t[""+o],y,o,t[o+"bounds_"+f]):Object.prototype.hasOwnProperty.call(t,o+"bounds_"+f)&&this.drawFieldPath(t[""+o],y,o,t[o+"bounds_"+f])}(Object.prototype.hasOwnProperty.call(t,o+"isReadOnly")||Object.prototype.hasOwnProperty.call(t,r+"isReadOnly"))&&(Object.prototype.hasOwnProperty.call(t,r+"isReadOnly")&&(o=r),n.readOnly="true"===t.isReadOnly)}}}}},x.prototype.addFormFieldsToDocument=function(e){var t,i=this.formFieldLoadedDocument.getPage(e.pageNumber-1);switch(e.formFieldAnnotationType){case"Textbox":case"PasswordField":t=this.saveTextBoxField(i,e);break;case"Checkbox":t=this.SaveCheckBoxField(i,e);break;case"RadioButton":t=this.saveRadioButtonField(e);break;case"DropdownList":t=this.saveDropDownField(i,e);break;case"ListBox":t=this.saveListBoxField(i,e);break;case"SignatureField":case"InitialField":t=this.saveSignatureField(i,e)}t&&this.formFieldLoadedDocument.form.add(t)},x.prototype.setFontFromKeys=function(e,t,i,n,o,r){i=an.tryGetFontFromKeys(i,e.toString(),n,r);G.isNullOrUndefined(i)?o&&(o=this.getTrueFont(n,r),an.isSupportedFont(e,i))?t.font=o:this.disableFieldAppearance(t):(t.font=i,t.setAppearance(!0))},x.prototype.setFontAppearance=function(t,e,i,n,o,r,a){if(!G.isNullOrUndefined(o)&&0<Object.keys(o).length){var e=an.getFontKey(o,e.toLowerCase());!G.isNullOrUndefined(e)&&(e=o[""+e],e=an.processFontStream(e),e=new j.PdfTrueTypeFont(e,this.convertPixelToPoint(i),a),s=an.isSupportedFont(t,e),n.setAppearance(s),s)?n.font=e:this.setFontFromKeys(t,n,o,i,r,a)}else try{n.font.measureString(t.toString())}catch(e){var s;r&&(s=this.getTrueFont(i,a),an.isSupportedFont(t,s))?n.font=s:this.disableFieldAppearance(n)}},x.prototype.disableFieldAppearance=function(e){e.setAppearance(!1),G.isNullOrUndefined(this.defaultAppearanceFields)&&(this.defaultAppearanceFields=[]),this.defaultAppearanceFields.push(e.name)},x.prototype.saveTextBoxField=function(e,t){var i=G.isNullOrUndefined(t.name)?"Password"===t.type?"passwordTextbox":"textbox":t.name,n=this.convertFieldBounds(t),o=e.rotation,r=!1,n=(0!==t.rotation&&(r=!0),this.getBounds(n,e.size[1],e.size[0],o,r)),o={x:n.X,y:n.Y,width:n.Width,height:n.Height},n=new j.PdfTextBoxField(e,i,o),i=(n.backColor=[t.backgroundColor.r,t.backgroundColor.g,t.backgroundColor.b],0===t.backgroundColor.r&&0===t.backgroundColor.g&&0===t.backgroundColor.b&&0===t.backgroundColor.a&&(n.backColor=[t.backgroundColor.r,t.backgroundColor.g,t.backgroundColor.b,t.backgroundColor.a]),n.maxLength=t.maxLength,n.insertSpaces=t.insertSpaces,n.readOnly=t.isReadonly,n.required=t.isRequired,n.textAlignment=this.getTextAlignment(t.textAlign),n.visibility=this.getFormFieldsVisibility(t.visibility),n.text=G.isNullOrUndefined(t.value)?"":t.value,n.toolTip=G.isNullOrUndefined(t.tooltip)?"":t.tooltip,n.color=[t.fontColor.r,t.fontColor.g,t.fontColor.b],n.borderColor=[t.borderColor.r,t.borderColor.g,t.borderColor.b],0==t.borderColor.r&&0==t.borderColor.g&&0==t.borderColor.b&&0==t.borderColor.a&&(n.borderColor=[t.borderColor.r,t.borderColor.g,t.borderColor.b,t.borderColor.a]),n.border.width=t.thickness,n.multiLine=t.Multiline,this.getFontStyle(t)),o=(n._dictionary.set("FontStyle",i),/[^\u0000-\u007F]/.test(n.text)),a=t.FontFamily||t.fontFamily;return n.font=new j.PdfStandardFont(this.getFontFamily(a),this.convertPixelToPoint(t.fontSize),i),G.isNullOrUndefined(n.text.toString())||(a=this.pdfViewer.pdfRenderer.FallbackFontCollection,this.setFontAppearance(n.text.toString(),t.fontFamily,t.fontSize,n,a,o,i)),"PasswordField"===t.formFieldAnnotationType&&(n.password=!0),r||(n.rotate=this.getFormfieldRotation(e.rotation)),G.isNullOrUndefined(t.customData)||(a=JSON.stringify(t.customData),n._dictionary.set("CustomData",a)),n},x.prototype.saveDropDownField=function(e,t){for(var i=G.isNullOrUndefined(t.name)?"dropdownList":t.name,n=this.convertFieldBounds(t),o=e.rotation,r=!1,n=(0!==t.rotation&&(r=!0),this.getBounds(n,e.size[1],e.size[0],o,r)),o={x:n.X,y:n.Y,width:n.Width,height:n.Height},a=new j.PdfComboBoxField(e,i,o),s=!1,l=0;l<t.option.length;l++){var A=new j.PdfListFieldItem(t.option[parseInt(l.toString(),10)].itemName,t.option[parseInt(l.toString(),10)].itemValue);a.addItem(A),/[^\u0000-\u007F]/.test(t.option[parseInt(l.toString(),10)].itemName)&&(s=!0)}a.textAlignment=this.getTextAlignment(t.textAlign);var d=this.getFontStyle(t),n=(a._dictionary.set("FontStyle",d),t.FontFamily||t.fontFamily);a.font=new j.PdfStandardFont(this.getFontFamily(n),this.convertPixelToPoint(t.fontSize),d);for(l=0;l<t.option.length;l++){var p=t.option[parseInt(l.toString(),10)].itemName.toString();if(!G.isNullOrUndefined(p)){var h=this.pdfViewer.pdfRenderer.FallbackFontCollection;this.setFontAppearance(p,t.fontFamily,t.fontSize,a,h,s,d);break}}return 0<a.itemsCount&&(0<t.selectedIndex.length?a.selectedIndex=t.selectedIndex[0]:a.selectedIndex=0),a.required=t.isRequired,a.readOnly=t.isReadonly,a.visibility=this.getFormFieldsVisibility(t.visibility),a.backColor=[t.backgroundColor.r,t.backgroundColor.g,t.backgroundColor.b],0===t.backgroundColor.r&&0===t.backgroundColor.g&&0===t.backgroundColor.b&&0===t.backgroundColor.a&&(a.backColor=[t.backgroundColor.r,t.backgroundColor.g,t.backgroundColor.b,t.backgroundColor.a]),a.borderColor=[t.borderColor.r,t.borderColor.g,t.borderColor.b],0==t.borderColor.r&&0==t.borderColor.g&&0==t.borderColor.b&&0==t.borderColor.a&&(a.borderColor=[t.borderColor.r,t.borderColor.g,t.borderColor.b,t.borderColor.a]),a.border.width=t.thickness,a.color=[t.fontColor.r,t.fontColor.g,t.fontColor.b],r||(a.rotate=this.getFormfieldRotation(e.rotation)),a.toolTip=G.isNullOrUndefined(t.tooltip)?"":t.tooltip,G.isNullOrUndefined(t.customData)||(i=JSON.stringify(t.customData),a._dictionary.set("CustomData",i)),a},x.prototype.SaveCheckBoxField=function(e,t){var i=G.isNullOrUndefined(t.name)&&""===t.name?"checkboxField":t.name,n=this.convertFieldBounds(t),o=e.rotation,r=!1,n=(0!==t.rotation&&(r=!0),this.getBounds(n,e.size[1],e.size[0],o,r)),o={x:n.X,y:n.Y,width:n.Width,height:n.Height},n=new j.PdfCheckBoxField(i,o,e);return n.readOnly=t.isReadonly,n.required=t.isRequired,n.checked=t.isChecked,n.visibility=this.getFormFieldsVisibility(t.visibility),n._dictionary.set("ExportValue",t.value),n.backColor=[t.backgroundColor.r,t.backgroundColor.g,t.backgroundColor.b],0===t.backgroundColor.r&&0===t.backgroundColor.g&&0===t.backgroundColor.b&&0===t.backgroundColor.a&&(n.backColor=[t.backgroundColor.r,t.backgroundColor.g,t.backgroundColor.b,t.backgroundColor.a]),n.borderColor=[t.borderColor.r,t.borderColor.g,t.borderColor.b],0===t.borderColor.r&&0===t.borderColor.g&&0===t.borderColor.b&&0===t.borderColor.a&&(n.borderColor=[t.borderColor.r,t.borderColor.g,t.borderColor.b,t.borderColor.a]),n.border.width=t.thickness,n.toolTip=G.isNullOrUndefined(t.tooltip)?"":t.tooltip,r||(n.rotate=this.getFormfieldRotation(e.rotation)),G.isNullOrUndefined(t.customData)||(i=JSON.stringify(t.customData),n._dictionary.set("CustomData",i)),n},x.prototype.saveListBoxField=function(e,t){for(var i=G.isNullOrUndefined(t.name)?"listBox":t.name,n=this.convertFieldBounds(t),o=e.rotation,r=!1,n=(0!==t.rotation&&(r=!0),this.getBounds(n,e.size[1],e.size[0],o,r)),o={x:n.X,y:n.Y,width:n.Width,height:n.Height},a=new j.PdfListBoxField(e,i,o),s=!1,l=!1,A=0;A<t.option.length;A++){var d=new j.PdfListFieldItem(t.option[parseInt(A.toString(),10)].itemName,t.option[parseInt(A.toString(),10)].itemValue);a.addItem(d),/[^\u0000-\u007F]/.test(t.option[parseInt(A.toString(),10)].itemName)&&(l=!0),G.isNullOrUndefined(d&&d._dictionary&&!s)||(d.textAlignment=this.getTextAlignment(t.textAlign),s=!0)}if(0<a.itemsCount){var p=t.selectedIndex.length;if(Array.isArray(t.selectedIndex)&&0<p)if(1===p)a.selectedIndex=t.selectedIndex[0];else{for(var h=[],c=0;c<p;c++)h.push(t.selectedIndex[parseInt(c.toString(),10)]);a.selectedIndex=h}else a.selectedIndex=0}a.textAlignment=this.getTextAlignment(t.textAlign),a.multiSelect=!0,a.backColor=[t.backgroundColor.r,t.backgroundColor.g,t.backgroundColor.b],0===t.backgroundColor.r&&0===t.backgroundColor.g&&0===t.backgroundColor.b&&0===t.backgroundColor.a&&(a.backColor=[t.backgroundColor.r,t.backgroundColor.g,t.backgroundColor.b,t.backgroundColor.a]),a.borderColor=[t.borderColor.r,t.borderColor.g,t.borderColor.b],0==t.borderColor.r&&0==t.borderColor.g&&0==t.borderColor.b&&0==t.borderColor.a&&(a.borderColor=[t.borderColor.r,t.borderColor.g,t.borderColor.b,t.borderColor.a]),a.border.width=t.thickness;var g=this.getFontStyle(t),n=(a._dictionary.set("FontStyle",g),t.FontFamily||t.fontFamily);a.font=new j.PdfStandardFont(this.getFontFamily(n),this.convertPixelToPoint(t.fontSize),g);for(A=0;A<t.option.length;A++){var u=t.option[parseInt(A.toString(),10)].itemName.toString();if(!G.isNullOrUndefined(u)){var f=this.pdfViewer.pdfRenderer.FallbackFontCollection;this.setFontAppearance(u,t.fontFamily,t.fontSize,a,f,l,g);break}}return a.readOnly=t.isReadonly,a.required=t.isRequired,a.visibility=this.getFormFieldsVisibility(t.visibility),a.toolTip=G.isNullOrUndefined(t.tooltip)?"":t.tooltip,r||(a.rotate=this.getFormfieldRotation(e.rotation)),G.isNullOrUndefined(t.customData)||(i=JSON.stringify(t.customData),a._dictionary.set("CustomData",i)),a},x.prototype.saveRadioButtonField=function(e){for(var t,i=this.formFieldLoadedDocument.getPage(e.pageNumber-1),n=G.isNullOrUndefined(e.radiobuttonItem[0].name)?"radiobuttonField":e.radiobuttonItem[0].name,o=new j.PdfRadioButtonListField(i,n),r=0,a=!1,s=!1,l=!1,A=0;A<e.radiobuttonItem.length;A++){var d=e.radiobuttonItem[parseInt(A.toString(),10)],p=this.formFieldLoadedDocument.getPage(d.pageNumber-1),h=G.isNullOrUndefined(d.value)||""===d.value?n:d.value,c=this.getRotateAngle(p.rotation),g=this.convertFieldBounds(d),u=!1,g=(0!==e.rotation&&(u=!0),this.getBounds(g,p.size[1],p.size[0],c,u)),c={x:g.X,y:g.Y,width:g.Width,height:g.Height},g=new j.PdfRadioButtonListItem(h,c,p);u&&(g.rotationAngle=this.GetRotateAngle(p.rotation)),d.isReadonly&&(s=!0),d.isRequired&&(l=!0),g.borderColor=[d.borderColor.r,d.borderColor.g,d.borderColor.b],0==d.borderColor.r&&0==d.borderColor.g&&0==d.borderColor.b&&0==d.borderColor.a&&(g.borderColor=[d.borderColor.r,d.borderColor.g,d.borderColor.b,d.borderColor.a]),g.border.width=d.thickness,g.backColor=[d.backgroundColor.r,d.backgroundColor.g,d.backgroundColor.b],0===d.backgroundColor.r&&0===d.backgroundColor.g&&0===d.backgroundColor.b&&0===d.backgroundColor.a&&(g.backColor=[d.backgroundColor.r,d.backgroundColor.g,d.backgroundColor.b,d.backgroundColor.a]),g.visibility=this.getFormFieldsVisibility(d.visibility),o.add(g),d.isSelected&&(r=A,a=!0)}return o.readOnly=s,o.required=l,o.toolTip=G.isNullOrUndefined(e.tooltip)?"":e.tooltip,a&&(o.selectedIndex=r),G.isNullOrUndefined(e.radiobuttonItem[0].customData)?G.isNullOrUndefined(e.customData)||(t=JSON.stringify(e.customData),o._dictionary.set("CustomData",t)):(t=JSON.stringify(e.radiobuttonItem[0].customData),o._dictionary.set("CustomData",t)),o},x.prototype.saveSignatureField=function(e,t){var i=G.isNullOrUndefined(t.name)?"signatureField":t.name,n=this.convertFieldBounds(t),o=e.rotation,r=!1,n=(0!==t.rotation&&(r=!0),this.getBounds(n,e.size[1],e.size[0],o,r)),o={x:n.X,y:n.Y,width:n.Width,height:n.Height},n=new j.PdfSignatureField(e,i,o);return n.toolTip=t.tooltip,n.required=t.isRequired,n.readOnly=t.isReadonly,"InitialField"===t.formFieldAnnotationType&&n._dictionary.set("InitialField",!0),""===t.value&&(n.backColor=[t.backgroundColor.r,t.backgroundColor.g,t.backgroundColor.b],0===t.backgroundColor.r)&&0===t.backgroundColor.g&&0===t.backgroundColor.b&&0===t.backgroundColor.a&&(n.backColor=[t.backgroundColor.r,t.backgroundColor.g,t.backgroundColor.b,t.backgroundColor.a]),n.borderColor=[t.borderColor.r,t.borderColor.g,t.borderColor.b],0===t.borderColor.r&&0===t.borderColor.g&&0===t.borderColor.b&&0===t.borderColor.a&&(n.borderColor=[t.borderColor.r,t.borderColor.g,t.borderColor.b,t.borderColor.a]),n.border.width=t.thickness,"hidden"===t.visibility?n.visible=!1:"visible"===t.visibility&&(n.visible=!0),"Text"===t.signatureType?this.drawDesignerFieldFreeTextAnnotations(n,i,t):"Image"===t.signatureType?this.drawDesignerFieldImage(n,i,t):"Path"!==t.signatureType||G.isNullOrUndefined(t.value)||""===t.value||this.drawDesignerFieldPath(n,i,t),r||(n.rotate=this.getFormfieldRotation(e.rotation)),G.isNullOrUndefined(t.customData)||(o=JSON.stringify(t.customData),n._dictionary.set("CustomData",o)),n},x.prototype.drawDesignerFieldFreeTextAnnotations=function(e,t,i){var n=i.signatureBound.x,o=i.signatureBound.y,r=i.signatureBound.width,a=i.signatureBound.height,e=e.page,s=e.rotation,l=i.zoomValue,n={X:this.convertPixelToPoint(n/l),Y:this.convertPixelToPoint(o/l),Width:this.convertPixelToPoint(r/l),Height:this.convertPixelToPoint(a/l)},o=!1;0!==i.rotation&&(o=!0),n=this.getBounds(n,e.size[1],e.size[0],s,o),G.isNullOrUndefined(i)||(n={X:r=n.X,Y:a=n.Y,Width:l=n.Width,Height:s=n.Height},(r=new j.PdfFreeTextAnnotation(r,a,l,s)).setAppearance(!0),r._dictionary.set("T",t),a=i.fontSize,l=j.PdfFontFamily.helvetica,G.isNullOrUndefined(i.fontFamily)||(l=this.getFontFamily(i.fontFamily)),s=this.getFontStyle(i),t=/[^\u0000-\u007F]/.test(i.value),r.font=t?this.getTrueFont(this.convertPixelToPoint(a),s):new j.PdfStandardFont(l,this.convertPixelToPoint(i.fontSize),s),r.text=i.value,this.setFontSize(this.convertPixelToPoint(a),r.font,i.value,n,l,s),r.border.width=0,r.textAlignment=j.PdfTextAlignment.center,r.flags=j.PdfAnnotationFlag.print,"hidden"===i.visibility&&(r.flags=j.PdfAnnotationFlag.hidden),o||(r.rotationAngle=Math.abs(this.getRotateAngle(e.rotation))),r.setValues("AnnotationType","Signature"),r.setAppearance(!0),e.annotations.add(r))},x.prototype.drawDesignerFieldImage=function(e,t,i){var n=i.signatureBound.x,o=i.signatureBound.y,r=i.signatureBound.width,a=i.signatureBound.height,e=e.page,s=e.rotation,l=i.zoomValue,n={X:this.convertPixelToPoint(n/l),Y:this.convertPixelToPoint(o/l),Width:this.convertPixelToPoint(r/l),Height:this.convertPixelToPoint(a/l)},o=!1;0!==i.rotation&&(o=!0),n=this.getBounds(n,e.size[1],e.size[0],s,o),G.isNullOrUndefined(i)||(r=n.X,a=n.Y,l=n.Width,s=n.Height,n=i.value.toString().split(",")[1],r=new j.PdfRubberStampAnnotation(r,a,l,s),a=new j.PdfBitmap(n),r.appearance.normal.graphics.drawImage(a,0,0,l,s),o||(r.rotationAngle=Math.abs(this.getRotateAngle(e.rotation))),r._dictionary.set("T",t),r.flags=j.PdfAnnotationFlag.print,"hidden"===i.visibility&&(r.flags=j.PdfAnnotationFlag.hidden),e.annotations.add(r))},x.prototype.drawDesignerFieldPath=function(e,t,i){for(var n=JSON.parse(i.value),o=i.signatureBound.x,r=i.signatureBound.y,a=i.signatureBound.width,s=i.signatureBound.height,l=e.page,e=l.rotation,A=i.zoomValue,o={X:this.convertPixelToPoint(o/A),Y:this.convertPixelToPoint(r/A),Width:this.convertPixelToPoint(a/A),Height:this.convertPixelToPoint(s/A)},o=this.getBounds(o,l.size[1],l.size[0],e,!1),d=0,p=0;p<this.formFieldLoadedDocument.pageCount&&l!==this.formFieldLoadedDocument.getPage(p);p++)d++;if(0<n.length){for(var h=o.X,c=o.Y,r=o.Width,a=o.Height,g=-1,u=-1,f=-1,m=-1,w=new j.PdfPath,B=0;B<n.length;B++){var C=n[parseInt(B.toString(),10)];w.addLine(C.x,C.y,0,0)}for(B=0;B<w._points.length;B+=2){var S,y,I=w._points[parseInt(B.toString(),10)];-1===g?(g=I[0],u=I[1],f=I[0],m=I[1]):((S=I[0])<=g&&(g=S),(y=I[1])<=u&&(u=y),f<=S&&(f=S),m<=y&&(m=y))}var E=(f-g)/r,Q=(m-u)/a,D=[],x=0;if(0!==e){for(var V=0;V<n.length;V++){if("M"===(I=n[parseInt(V.toString(),10)]).command.toString()&&0!==V){x=V;break}D.push(parseFloat(I.x)),D.push(parseFloat(I.y))}for(var D=[],b=0;b<n.length;b++){I=n[parseInt(b.toString(),10)];D.push((parseFloat(I.x)-g)/E+h),D.push(this.formFieldLoadedDocument.getPage(d).size[1]-(parseFloat(I.y)-u)/Q-c)}}else for(p=0;p<n.length;p++){if("M"===(I=n[parseInt(p.toString(),10)]).command.toString()&&0!==p){x=p;break}D.push((parseFloat(I.x)-g)/E+h);var M=(parseFloat(I.y)-u)/Q;D.push(this.formFieldLoadedDocument.getPage(d).size[1]-M-c)}var v=new j.PdfInkAnnotation([h,c,r,a],D);if(v.flags=j.PdfAnnotationFlag.print,"hidden"===i.visibility&&(v.flags=j.PdfAnnotationFlag.hidden),v.bounds={x:o.X,y:o.Y,width:o.Width,height:o.Height},v.border.width=0,v.color=[0,0,0],v.setValues("annotationSignature","annotationSignature"),D=[],0!==e){for(var F=[],T=x;T<n.length;T++)"M"===(I=n[parseInt(T.toString(),10)]).command.toString()&&T!==x&&(F.push(D),D=[]),D.push(parseFloat(I.x)),D.push(parseFloat(I.y));0<D.length&&F.push(D);for(var k=0;k<F.length;k++){if(D=[],0<F[parseInt(k.toString(),10)].length){for(b=0;b<n.length;b++){I=n[parseInt(b.toString(),10)];D.push((parseFloat(I.x)-g)/E+h),D.push(this.formFieldLoadedDocument.getPage(d).size[1]-(parseFloat(I.y)-u)/Q-c)}v.inkPointsCollection.push(D)}D=[]}}else{for(var P=0;P<n.length;P++){M=("M"===(I=n[parseInt(P.toString(),10)]).command.toString()&&0!==P&&(v.inkPointsCollection.push(D),D=[]),D.push((parseFloat(I.x)-g)/E+h),(parseFloat(I.y)-u)/Q);D.push(this.formFieldLoadedDocument.getPage(d).size[1]-M-c)}0<D.length&&v.inkPointsCollection.push(D)}v._dictionary.set("T",t),v.setAppearance(!0),v.rotationAngle=Math.abs(this.getRotateAngle(l.rotation)),this.formFieldLoadedDocument.getPage(d).annotations.add(v)}},x.prototype.setFontSize=function(e,t,i,n,o,r){t=new j.PdfStandardFont(o,e,r);do{if(e-=.001,(t._size=e)<.25){t._size=.25;break}var a=t.measureString(i);if(a[0]<n.Width&&a[1]<n.height){t._size=e;break}}while(.25<e)},x.prototype.getTrueFont=function(e,t){return new j.PdfTrueTypeFont(is(),this.convertPixelToPoint(e),t)},x.prototype.convertFieldBounds=function(e){var t=e.zoomValue;return{X:this.convertPixelToPoint(e.lineBound.X/t),Y:this.convertPixelToPoint(e.lineBound.Y/t),Width:this.convertPixelToPoint(e.lineBound.Width/t),Height:this.convertPixelToPoint(e.lineBound.Height/t)}},x.prototype.getFontFamily=function(e){var t=j.PdfFontFamily.helvetica;switch(e){case"Courier":t=j.PdfFontFamily.courier;break;case"Times New Roman":t=j.PdfFontFamily.timesRoman;break;case"Symbol":t=j.PdfFontFamily.symbol;break;case"ZapfDingbats":t=j.PdfFontFamily.zapfDingbats}return t},x.prototype.getBounds=function(e,t,i,n,o){var r={};return 0===n?r={X:e.X,Y:e.Y,Width:e.Width,Height:e.Height}:1===n?r=o?{X:e.Y-(e.Width/2-e.Height/2),Y:t-e.X-e.Height-(e.Width/2-e.Height/2),Width:e.Width,Height:e.Height}:{X:e.Y,Y:t-e.X-e.Width,Width:e.Height,Height:e.Width}:2===n?r={X:i-e.X-e.Width,Y:t-e.Y-e.Height,Width:e.Width,Height:e.Height}:3===n&&(r=o?{X:i-e.Y-e.Height-(e.Width/2-e.Height/2),Y:e.X+(e.Width/2-e.Height/2),Width:e.Width,Height:e.Height}:{X:i-e.Y-e.Height,Y:e.X,Width:e.Height,Height:e.Width}),r},x.prototype.getFormfieldRotation=function(e){var t=0;switch(e){case 1:t=90;break;case 2:t=180;break;case 3:t=270;break;case 4:t=360}return t},x.prototype.getTextAlignment=function(e){var t;switch(e.toLowerCase()){case"left":t=j.PdfTextAlignment.left;break;case"right":t=j.PdfTextAlignment.right;break;case"center":t=j.PdfTextAlignment.center;break;case"justify":t=j.PdfTextAlignment.justify}return t},x.prototype.getFormFieldsVisibility=function(e){var t;switch(e){case"visible":t=j.PdfFormFieldVisibility.visible;break;case"hidden":t=j.PdfFormFieldVisibility.hidden;break;case"visibleNotPrintable":t=j.PdfFormFieldVisibility.visibleNotPrintable;break;case"hiddenPrintable":t=j.PdfFormFieldVisibility.hiddenPrintable}return t},x.prototype.getFontStyle=function(e){var t=j.PdfFontStyle.regular;return G.isNullOrUndefined(e)||G.isNullOrUndefined(e.font)||(e.font.isBold&&(t|=j.PdfFontStyle.bold),e.font.isItalic&&(t|=j.PdfFontStyle.italic),e.font.isUnderline&&(t|=j.PdfFontStyle.underline),e.font.isStrikeout&&(t|=j.PdfFontStyle.strikeout)),t},x.prototype.convertPixelToPoint=function(e){return 72*e/96},x.prototype.convertPointtoPixel=function(e){return 96*e/72},x.prototype.fontConvert=function(e){return{Bold:e.isBold,FontFamily:this.getFontFamilyString(e.fontFamily),Height:e.height,Italic:e.isItalic,Name:this.getFontFamilyString(e.fontFamily).toString(),Size:e.size,Strikeout:e.isStrikeout,Underline:e.isUnderline,Style:e.style}},x.prototype.parseFontStyle=function(e,t){return 0<(e&j.PdfFontStyle.underline)&&(t.Underline=!0),0<(e&j.PdfFontStyle.strikeout)&&(t.Strikeout=!0),0<(e&j.PdfFontStyle.bold)&&(t.Bold=!0),0<(e&j.PdfFontStyle.italic)&&(t.Italic=!0),t},x.prototype.GetFormFields=function(){this.PdfRenderedFormFields=[];var e=this.formFieldLoadedDocument.form;if(!G.isNullOrUndefined(e)&&!G.isNullOrUndefined(e._fields)){e.orderFormFields();for(var t=0;t<e.count;t++){for(var i=e.fieldAt(t),n=i.page,o=0,r=0;r<this.formFieldLoadedDocument.pageCount&&n!==this.formFieldLoadedDocument.getPage(r);r++)o++;if(!G.isNullOrUndefined(i.page))if(i instanceof j.PdfTextBoxField){var a=i;0<a.itemsCount?this.addTextBoxFieldItems(a):this.addTextBoxField(a,o,a.bounds,null)}else if(i instanceof j.PdfComboBoxField){a=e.fieldAt(t);this.addComboBoxField(a,o)}else if(i instanceof j.PdfCheckBoxField){var s=i;1<s.itemsCount?this.addCheckBoxFieldItems(s):this.addCheckBoxField(s,o,s.bounds,null)}else if(i instanceof j.PdfListBoxField)this.addListBoxField(i,o);else if(i instanceof j.PdfRadioButtonListField)for(var l=0;l<i.itemsCount;l++){var A,d=i.itemAt(l);d&&(A=d.page)&&this.addRadioButtonField(d,A._pageIndex,i.name)}else e.fieldAt(t)instanceof j.PdfSignatureField&&((s=e.fieldAt(t)).isSigned&&this.showDigitalSignatureAppearance?(this.mIsDigitalSignaturePresent=!0,s.flatten=!0):s.isSigned&&this.hideEmptyDigitalSignatureFields||(0<s.itemsCount?this.addSigntureFieldItems(s):this.addSignatureField(s,o,s.bounds)))}}this.retrieveInkAnnotation(this.formFieldLoadedDocument)},x.prototype.addTextBoxFieldItems=function(e){if(e instanceof j.PdfTextBoxField){var t=e;if(0<t.itemsCount)for(var i=0;i<t.itemsCount;i++){var n=t.itemAt(i).page;if(!G.isNullOrUndefined(n)){for(var o=0,r=0;r<this.formFieldLoadedDocument.pageCount&&n!==this.formFieldLoadedDocument.getPage(o);r++)o++;this.addTextBoxField(t,o,t.itemAt(i).bounds,t.itemAt(i).font)}}}},x.prototype.addTextBoxField=function(e,t,i,n){var o=new os;o.FieldName=e.name,o.ActualFieldName=e.name,e.password?o.Name="Password":o.Name="Textbox",o.ToolTip=e.toolTip,G.isNullOrUndefined(i)?o.LineBounds={X:e.bounds.x,Y:e.bounds.y,Width:e.bounds.width,Height:e.bounds.height}:o.LineBounds={X:i.x,Y:i.y,Width:i.width,Height:i.height},o.TabIndex=e.tabIndex,o.PageIndex=t,o.BorderWidth=e.border.width,o.BorderStyle=e.border.style,G.isNullOrUndefined(e.backColor)?o.IsTransparent=!0:o.BackColor={R:e.backColor[0],G:e.backColor[1],B:e.backColor[2]},o.Alignment=e.textAlignment,o.MaxLength=e.maxLength,o.Visible=e.visibility,o.InsertSpaces=e.insertSpaces,G.isNullOrUndefined(n)?o.Font=this.fontConvert(e.font):o.Font=this.fontConvert(n),e._dictionary.has("FontStyle")&&(i=e._dictionary.get("FontStyle"),o.Font=this.parseFontStyle(i,o.Font)),o.Rotation=e.rotationAngle,o.IsReadonly=e.readOnly,o.IsRequired=e.required,G.isNullOrUndefined(e.color)||(o.FontColor={R:e.color[0],G:e.color[1],B:e.color[2]}),G.isNullOrUndefined(e.borderColor)?o.IsTransparent=!0:o.BorderColor={R:e.borderColor[0],G:e.borderColor[1],B:e.borderColor[2]},o.Text=e.text?e.text.replace('"',""):"",o.Multiline=e.multiLine,o.RotationAngle=this.GetRotateAngle(e.page.rotation),e._dictionary.has("CustomData")&&(o.CustomData=JSON.parse(e._dictionary.get("CustomData"))),o.TextList=[],this.PdfRenderedFormFields.push(o)},x.prototype.addComboBoxField=function(e,t){var i,n=new os;if(n.Name="DropDown",n.ToolTip=e.toolTip,n.FieldName=e.name,n.Font=this.fontConvert(e.font),n.IsAutoSize=e._isAutoFontSize,n.Selected=e.editable,e._dictionary.has("FontStyle")&&(i=e._dictionary.get("FontStyle"),n.Font=this.parseFontStyle(i,n.Font)),n.ActualFieldName=e.name,n.SelectedValue=e.selectedValue,0<e._options.length&&"string"!=typeof e._options[0]&&(i=e._options.filter(function(e){return e[0]===n.SelectedValue}))&&i[0]&&(n.SelectedValue=i[0][1]),n.selectedIndex=e.selectedIndex,n.LineBounds={X:e.bounds.x,Y:e.bounds.y,Width:e.bounds.width,Height:e.bounds.height},n.TabIndex=e.tabIndex,n.PageIndex=t,G.isNullOrUndefined(e.backColor)?n.IsTransparent=!0:n.BackColor={R:e.backColor[0],G:e.backColor[1],B:e.backColor[2]},n.BorderWidth=e.border.width,n.BorderStyle=e.border.style,G.isNullOrUndefined(e.borderColor)?n.IsTransparent=!0:n.BorderColor={R:e.borderColor[0],G:e.borderColor[1],B:e.borderColor[2]},n.FontColor={R:e.color[0],G:e.color[1],B:e.color[2]},n.Rotation=e.rotationAngle,n.IsRequired=e.required,n.IsReadonly=e.readOnly,n.Visible=e.visibility,n.RotationAngle=this.GetRotateAngle(e.page.rotation),n.Alignment=e.textAlignment,e._dictionary.has("CustomData")&&(n.CustomData=JSON.parse(e._dictionary.get("CustomData"))),n.TextList=[],e._dictionary.has("Opt")&&0<(i=e._dictionary.get("Opt")).length&&(n.ComboBoxList=i.map(function(e){return"string"==typeof e?{itemName:e,itemValue:e}:"object"==typeof e?{itemName:e[1],itemValue:e[0]}:{itemName:"",itemValue:""}})),0===n.TextList.length)for(var o=0;o<e.itemsCount;o++){var r=e.itemAt(o);r&&(n.TextList.push(r.text),0===o)&&(n.Alignment=r.textAlignment)}this.PdfRenderedFormFields.push(n)},x.prototype.addCheckBoxFieldItems=function(e){if(e instanceof j.PdfCheckBoxField){var t=e;if(0<t.itemsCount)for(var i=0;i<t.itemsCount;i++){var n=t.itemAt(i).page;if(!G.isNullOrUndefined(n)){for(var o=0,r=0;r<this.formFieldLoadedDocument.pageCount&&n!==this.formFieldLoadedDocument.getPage(o);r++)o++;this.addCheckBoxField(t,o,t.itemAt(i).bounds,i.toString())}}}},x.prototype.addCheckBoxField=function(e,t,i,n){var o=new os,i=(o.Name="CheckBox",o.ToolTip=e.toolTip,i.IsEmpty?o.LineBounds={X:e.bounds.x,Y:e.bounds.y,Width:e.bounds.width,Height:e.bounds.height}:o.LineBounds={X:i.x,Y:i.y,Width:i.width,Height:i.height},o.Selected=e.checked,o.TabIndex=e.tabIndex,o.GroupName=e.name.replace(/[^0-9a-zA-Z]+/g,""),o.ActualFieldName=e.name,o.PageIndex=t,o.BorderWidth=e.border.width,G.isNullOrUndefined(e.backColor)?o.IsTransparent=!0:o.BackColor={R:e.backColor[0],G:e.backColor[1],B:e.backColor[2]},o.BorderStyle=e.border.style,G.isNullOrUndefined(e.borderColor)?o.IsTransparent=!0:o.BorderColor={R:e.borderColor[0],G:e.borderColor[1],B:e.borderColor[2]},o.RotationAngle=this.GetRotateAngle(e.page.rotation),o.IsReadonly=e.readOnly,o.IsRequired=e.required,o.Visible=e.visibility,e._dictionary._get("ExportValue"));e._dictionary._get("ExportValue")&&!G.isNullOrUndefined(i)&&(o.Value=i),G.isNullOrUndefined(n)||(o.CheckBoxIndex=n,t=e.itemAt(parseInt(n,10)),G.isNullOrUndefined(t))||(o.Selected=t.checked),o.RotationAngle=this.GetRotateAngle(e.page.rotation),e._dictionary.has("CustomData")&&(o.CustomData=JSON.parse(e._dictionary.get("CustomData"))),this.PdfRenderedFormFields.push(o)},x.prototype.addListBoxField=function(e,t){var i,n=new os,o=(n.Name="ListBox",n.ToolTip=e.toolTip,n.Text=e.name.replace(/[^0-9a-zA-Z]+/g,""),n.ActualFieldName=e.name,e.itemsCount);if(0<o){var r=e.selectedIndex;if(Array.isArray(r))for(var a=0;a<r.length;a++)n.SelectedList.push(r[parseInt(a.toString(),10)]);else n.SelectedList.push(r)}n.Font=this.fontConvert(e.font),e._dictionary.has("FontStyle")&&(i=e._dictionary.get("FontStyle"),n.Font=this.parseFontStyle(i,n.Font)),n.LineBounds={X:e.bounds.x,Y:e.bounds.y,Width:e.bounds.width,Height:e.bounds.height},n.TabIndex=e.tabIndex,n.PageIndex=t,n.BorderWidth=e.border.width,n.BorderStyle=e.border.style,G.isNullOrUndefined(e.backColor)?n.IsTransparent=!0:n.BackColor={R:e.backColor[0],G:e.backColor[1],B:e.backColor[2]},n.FontColor={R:e.color[0],G:e.color[1],B:e.color[2]},G.isNullOrUndefined(e.borderColor)||(n.BorderColor={R:e.borderColor[0],G:e.borderColor[1],B:e.borderColor[2]}),n.Rotation=e.rotationAngle,n.IsReadonly=e.readOnly,n.IsRequired=e.required,n.Visible=e.visibility,n.MultiSelect=e.multiSelect,0<o&&Array.isArray(e.selectedIndex)&&Array.isArray(e.selectedValue)&&(n.selectedIndex=e.selectedIndex[0],n.SelectedValue=e.selectedValue[0]);for(a=0;a<o;a++){var s=0<e._kidsCount?e.itemAt(a):e._options[parseInt(a.toString(),10)];s&&(n.TextList.push(0<e._kidsCount?s.text:s),0===a)&&(n.Alignment=e.textAlignment)}n.RotationAngle=this.GetRotateAngle(e.page.rotation),e._dictionary.has("CustomData")&&(n.CustomData=JSON.parse(e._dictionary.get("CustomData"))),this.PdfRenderedFormFields.push(n)},x.prototype.addRadioButtonField=function(e,t,i){var n=e._field,o=new os;o.Name="RadioButton",o.ToolTip=n.toolTip,G.isNullOrUndefined(n.actualName)||(o.GroupName=n.actualName.replace(/[^0-9a-zA-Z]+/g,""),o.ActualFieldName=i),o.TabIndex=n.tabIndex,o.Selected=e.selected,o.LineBounds={X:e.bounds.x,Y:e.bounds.y,Width:e.bounds.width,Height:e.bounds.height},o.Value=e.value,o.PageIndex=t,G.isNullOrUndefined(e.backColor)?o.IsTransparent=!0:o.BackColor={R:e.backColor[0],G:e.backColor[1],B:e.backColor[2]},o.BorderWidth=e.border.width,o.BorderStyle=e.border.style,o.BorderColor={R:n.borderColor[0],G:n.borderColor[1],B:n.borderColor[2]},o.Rotation=n.rotationAngle,o.IsRequired=n.required,o.IsReadonly=n.readOnly,o.Visible=n.visibility,o.RotationAngle=this.GetRotateAngle(e.page.rotation),n._dictionary.has("CustomData")&&(o.CustomData=JSON.parse(n._dictionary.get("CustomData"))),this.PdfRenderedFormFields.push(o)},x.prototype.checkTransparent=function(e){var t=!1;return t=0===e.R&&0===e.G&&0===e.B?!0:t},x.prototype.GetRotateAngle=function(e){var t=0;switch(e){case 0:t=0;break;case 1:t=-90;break;case 2:t=-180;break;case 3:t=-270}return t},x.prototype.drawFieldFreeTextAnnotations=function(e,t,i,n,o,r){for(var a,s,e=JSON.parse(e),n=JSON.parse(n),l=t.page,A=0;A<this.formFieldLoadedDocument.pageCount&&l!==this.formFieldLoadedDocument.getPage(A);A++);G.isNullOrUndefined(e)||""===e||(t=this.convertPixelToPoint(n.x),a=this.convertPixelToPoint(n.y),s=this.convertPixelToPoint(n.width),n=this.convertPixelToPoint(n.height),(t=new j.PdfFreeTextAnnotation(t,a,s,n)).setAppearance(!0),t._dictionary.set("T",i),a=0<r?r:n/2,s=j.PdfFontFamily.helvetica,G.isNullOrUndefined(o)||((i=o).includes("Times New Roman")?s=j.PdfFontFamily.timesRoman:i.includes("Courier")?s=j.PdfFontFamily.courier:i.includes("Symbol")?s=j.PdfFontFamily.symbol:i.includes("ZapfDingbats")&&(s=j.PdfFontFamily.zapfDingbats)),r=this.getFontStyle(),t.font=new j.PdfStandardFont(s,this.convertPixelToPoint(a),r),t.text=e,t.rotationAngle=this.getRotateAngle(l.rotation),t.flags=j.PdfAnnotationFlag.print,t.setValues("AnnotationType","Signature"),t.setAppearance(!0),l.annotations.add(t))},x.prototype.drawFieldImage=function(e,t,i,n){for(var o,r,e=JSON.parse(e),n=JSON.parse(n),a=t.page,s=0;s<this.formFieldLoadedDocument.pageCount&&a!==this.formFieldLoadedDocument.getPage(s);s++);G.isNullOrUndefined(e)||""===e||(t=e.toString().split(",")[1],e=this.convertPixelToPoint(n.x),r=this.convertPixelToPoint(n.y),o=this.convertPixelToPoint(n.width),n=this.convertPixelToPoint(n.height),e=new j.PdfRubberStampAnnotation(e,r,o,n),r=new j.PdfBitmap(t),e.appearance.normal.graphics.drawImage(r,0,0,o,n),e.rotationAngle=this.getRotateAngle(a.rotation),e._dictionary.set("T",i),e.flags=j.PdfAnnotationFlag.print,e.setAppearance(!0),a.annotations.add(e))},x.prototype.drawFieldPath=function(e,t,i,n){for(var o=JSON.parse(e),e=JSON.parse(n),r=t.page,a=0,s=0;s<this.formFieldLoadedDocument.pageCount&&r!==this.formFieldLoadedDocument.getPage(s);s++)a++;if(0<o.length){for(var n=this.GetRotateAngle(r.rotation),l=this.convertPixelToPoint(e.x),A=this.convertPixelToPoint(e.y),d=this.convertPixelToPoint(e.width),e=this.convertPixelToPoint(e.height),p=(0!==n&&(l=this.convertPixelToPoint(t.bounds.x),A=this.convertPixelToPoint(t.bounds.y),d=this.convertPixelToPoint(t.bounds.width),e=this.convertPixelToPoint(t.bounds.height)),-1),h=-1,c=-1,g=-1,u=0;u<o.length;u++){var f,m,w=o[parseInt(u.toString(),10)];-1===p?(p=w.x,h=w.y,c=w.x,g=w.y):((f=w.x)<=p&&(p=f),(m=w.y)<=h&&(h=m),c<=f&&(c=f),g<=m&&(g=m))}var B=(c-p)/d,C=(g-h)/e,S=[],y=0;if(0!==n){for(var I=0;I<o.length;I++){if("M"===(w=o[parseInt(I.toString(),10)]).command.toString()&&0!==I){y=I;break}S.push(parseFloat(w.x)),S.push(parseFloat(w.y))}for(var S=[],E=0;E<o.length;E++){w=o[parseInt(E.toString(),10)];S.push((parseFloat(w.x)-p)/B+l),S.push(this.formFieldLoadedDocument.getPage(a).size[1]-(parseFloat(w.y)-h)/C-A)}}else for(s=0;s<o.length;s++){if("M"===(w=o[parseInt(s.toString(),10)]).command.toString()&&0!==s){y=s;break}S.push((parseFloat(w.x)-p)/B+l);var Q=(parseFloat(w.y)-h)/C;S.push(this.formFieldLoadedDocument.getPage(a).size[1]-Q-A)}var D=new j.PdfInkAnnotation([l,A,d,e],S),t=(D.flags=j.PdfAnnotationFlag.print,{x:D.bounds.x,y:r.size[1]-(D.bounds.y+D.bounds.height),width:D.bounds.width,height:D.bounds.height});if(D.bounds=t,S=[],(D.border.width=0)!==n){for(var x=[],V=y;V<o.length;V++)"M"===(w=o[parseInt(V.toString(),10)]).command.toString()&&V!==y&&(x.push(S),S=[]),S.push(parseFloat(w.x)),S.push(parseFloat(w.y));0<S.length&&x.push(S);for(var b=0;b<x.length;b++){if(S=[],0<x[parseInt(b.toString(),10)].length){for(E=0;E<o.length;E++){w=o[parseInt(E.toString(),10)];S.push((parseFloat(w.x)-p)/B+l),S.push(this.formFieldLoadedDocument.getPage(a).size[1]-(parseFloat(w.y)-h)/C-A)}D.inkPointsCollection.push(S)}S=[]}}else{for(var M=0;M<o.length;M++){Q=("M"===(w=o[parseInt(M.toString(),10)]).command.toString()&&0!==M&&(D.inkPointsCollection.push(S),S=[]),S.push((parseFloat(w.x)-p)/B+l),(parseFloat(w.y)-h)/C);S.push(this.formFieldLoadedDocument.getPage(a).size[1]-Q-A)}0<S.length&&D.inkPointsCollection.push(S)}D._dictionary.set("T",i),D.setAppearance(!0),this.formFieldLoadedDocument.getPage(a).annotations.add(D)}},x.prototype.addSigntureFieldItems=function(e){if(e instanceof j.PdfSignatureField){var t=e;if(0<t.itemsCount)for(var i=0;i<t.itemsCount;i++)if(!G.isNullOrUndefined(t.itemAt(i).page)){for(var n=t.itemAt(i).page,o=0,r=0;r<this.formFieldLoadedDocument.pageCount&&n!==this.formFieldLoadedDocument.getPage(o);r++)o++;this.addSignatureField(t,o,t.itemAt(i).bounds)}}},x.prototype.addSignatureField=function(e,t,i){var n=new os,i=(n.Name="SignatureField",n.ToolTip=e.toolTip,n.FieldName=e.name,n.ActualFieldName=e.name,i.IsEmpty?n.LineBounds={X:e.bounds.x,Y:e.bounds.y,Width:e.bounds.width,Height:e.bounds.height}:n.LineBounds={X:i.x,Y:i.y,Width:i.width,Height:i.height},n.PageIndex=t,n.TabIndex=e.tabIndex,n.BorderWidth=e.border.width,n.BorderStyle=e.border.style,n.IsReadonly=e.readOnly,n.IsRequired=e.required,n.Visible=e.visibility,G.isNullOrUndefined(e.backColor)?n.IsReadonly&&(n.IsTransparent=!0):n.BackColor={R:e.backColor[0],G:e.backColor[1],B:e.backColor[2]},n.IsSignatureField=!0,n.Rotation=e.rotationAngle,n.RotationAngle=this.GetRotateAngle(e.page.rotation),e._dictionary.get("InitialField"));G.isNullOrUndefined(i)||(n.IsInitialField=i),e._dictionary.has("CustomData")&&(n.CustomData=JSON.parse(e._dictionary.get("CustomData"))),this.PdfRenderedFormFields.push(n)},x.prototype.retrieveInkAnnotation=function(e){for(var t=1,i=0;i<e.pageCount;i++)for(var n=e.getPage(i),o=n.annotations,r=parseInt(o.count.toString(),10),a=0;a<r;a++){var s=o.at(a);if(s instanceof j.PdfInkAnnotation){var l,A="",d=[],p=[];if((l=s)._dictionary.has("T")&&!l._dictionary.has("NM")){if(!G.isNullOrUndefined(l.inkPointsCollection))for(var h=0;h<l.inkPointsCollection.length;h++)for(var c=l.inkPointsCollection[parseInt(h.toString(),10)],g=0;g<c.length;g+=2){var u=void 0,f=void 0,f=n.rotation===j.PdfRotationAngle.angle90?(u=c[g+1],c[parseInt(g.toString(),10)]):n.rotation===j.PdfRotationAngle.angle180?(u=n.size[0]-c[g+1],c[g+1]):n.rotation===j.PdfRotationAngle.angle270?(u=n.size[0]-c[g+1],n.size[1]-c[parseInt(g.toString(),10)]):(u=c[parseInt(g.toString(),10)],n.size[1]-c[g+1]);A+=0===g?"M"+u+","+f+" ":"L"+u+","+f+" ",d.push(u),p.push(f)}var m=new os,w=(l._dictionary.has("T")&&(m.FieldName=l._dictionary.get("T")),m.FieldName=m.FieldName+"_"+t,m.Name="ink",n.rotation),B=!1,C=(0!==s.rotationAngle&&(B=!0),{X:l.bounds.x,Y:l.bounds.y,Width:l.bounds.width,Height:l.bounds.height});m.LineBounds=this.getBounds(C,n.size[1],n.size[0],w,!B),m.Value=A,m.PageIndex=i,m.BorderColor=[l.color[0],l.color[1],l.color[2]],m.Rotation=s.rotationAngle,this.PdfRenderedFormFields.push(m),t++}}else if(s instanceof j.PdfFreeTextAnnotation)!(l=s)._dictionary.has("T")||l._dictionary.has("NM")||l._dictionary.has("M")||((m=new os).FieldName=l._dictionary.get("T")+"_"+t,C={X:l.bounds.x,Y:l.bounds.y,Width:l.bounds.width,Height:l.bounds.height},m.LineBounds=C,m.Name="SignatureText",m.FontFamily=this.getFontFamilyString(l.font._fontFamily),m.FontSize=this.convertPointtoPixel(l.font.size),m.Value=l.text,m.PageIndex=i,m.BorderColor=l.borderColor,this.PdfRenderedFormFields.push(m),t++);else if(s instanceof j.PdfRubberStampAnnotation){for(var S,y=s,I=[],E=0,Q=this.PdfRenderedFormFields;E<Q.length;E++){var D=Q[E];if(D.ActualFieldName===y._dictionary._map.T){I.push(D);break}}y._dictionary.has("T")&&!y._dictionary.has("NM")&&!y._dictionary.has("M")&&0<I.length&&this.pdfViewerBase.isSignatureWithInRect(this.pdfViewerBase.canvasRectArray(I[0].LineBounds),this.pdfViewerBase.canvasRectArray(y.bounds))&&((m=new os).FieldName=y._dictionary.get("T")+"_"+t,w=s._dictionary.get("AP"),B=new Wa(this.pdfViewer,this.pdfViewerBase),m.LineBounds={X:y.bounds.x,Y:y.bounds.y,Width:y.bounds.width,Height:y.bounds.height},m.Name="SignatureImage",m.PageIndex=i,t++,G.isNullOrUndefined(w)?(S=s._dictionary.get("AP"),G.isNullOrUndefined(S)||G.isNullOrUndefined(S.dictionary)||!S.dictionary.has("N")||(S=S.dictionary,G.isNullOrUndefined(S))||B.findStampImage(s)):w.has("N")&&(0===(S=s.createTemplate()).size[0]||0===S.size[1]||G.isNullOrUndefined(S._appearance)?B.findStampImage(s):(m.PageIndex=i,B.findStampTemplate(s,m,m.Rotation,B.annotationOrder.length-1,!0,m.FieldName,this.PdfRenderedFormFields,m.PageIndex))))}}},x.prototype.getFontFamilyString=function(e){switch(e){case j.PdfFontFamily.helvetica:return"Helvetica";case j.PdfFontFamily.timesRoman:return"Times New Roman";case j.PdfFontFamily.courier:return"Courier";case j.PdfFontFamily.symbol:return"Symbol";case j.PdfFontFamily.zapfDingbats:return"ZapfDingbats";default:return"Helvetica"}};var ns=x;function x(e,t,i){this.PdfRenderedFormFields=[],this.pdfViewer=e,this.pdfViewerBase=t,this.formFieldLoadedDocument=this.pdfViewer.pdfRendererModule.loadedDocument,this.mIsDigitalSignaturePresent=i}var os=function(){this.ActualFieldName=null,this.FontColor={R:0,G:0,B:0},this.BackColor={R:0,G:0,B:0},this.BorderColor={R:0,G:0,B:0},this.CheckBoxGroupName=null,this.Alignment=0,this.BorderStyle=0,this.BorderWidth=0,this.CheckBoxGroupName=null,this.CheckBoxIndex=null,this.ComboBoxList=[],this.FieldName=null,this.Font=null,this.FontFamily=null,this.FontSize=0,this.FontStyle=0,this.GroupName=null,this.InsertSpaces=!1,this.IsAutoSize=!1,this.IsInitialField=!1,this.IsReadonly=!1,this.IsRequired=!1,this.IsSignatureField=!1,this.IsTransparent=!1,this.MaxLength=0,this.MultiSelect=!1,this.Multiline=!1,this.Name=null,this.PageIndex=0,this.Rotation=0,this.RotationAngle=0,this.Selected=!1,this.SelectedList=[],this.SelectedValue=null,this.TabIndex=0,this.Text=null,this.TextList=[],this.ToolTip=null,this.Value=null,this.Visible=0,this.CustomData=null},rs=(V.prototype.addShape=function(e,t){this.checkAnnotationLock(e);if(G.isNullOrUndefined(e.shapeAnnotationType)||"Line"!==e.shapeAnnotationType)if(G.isNullOrUndefined(e.shapeAnnotationType)||"Square"!==e.shapeAnnotationType)if(G.isNullOrUndefined(e.shapeAnnotationType)||"Circle"!==e.shapeAnnotationType)if(G.isNullOrUndefined(e.shapeAnnotationType)||"Polygon"!==e.shapeAnnotationType){if(!G.isNullOrUndefined(e.shapeAnnotationType)&&"Polyline"===e.shapeAnnotationType){var i=JSON.parse(e.vertexPoints),n=this.getSaveVertexPoints(i,t),o=JSON.parse(e.bounds),r=new j.PdfPolyLineAnnotation(n);r.bounds=new J.Rect(this.convertPixelToPoint(o.left||0),this.convertPixelToPoint(o.top||0),this.convertPixelToPoint(o.width||0),this.convertPixelToPoint(o.height||0)),G.isNullOrUndefined(e.note)||(r.text=e.note.toString()),r.author=G.isNullOrUndefined(e.author)||""===e.author.toString()?"Guest":e.author.toString(),G.isNullOrUndefined(e.subject)||(r.subject=e.subject.toString()),r._dictionary.set("NM",e.annotName.toString()),G.isNullOrUndefined(e.strokeColor)||(D=[(b=JSON.parse(e.strokeColor)).r,b.g,b.b],r.color=D),G.isNullOrUndefined(e.fillColor)||(V=JSON.parse(e.fillColor),this.isTransparentColor(V)||(B=[V.r,V.g,V.b],r.innerColor=B),V.a<1&&0<V.a?(r._dictionary.update("FillOpacity",V.a),V.a=1):r._dictionary.update("FillOpacity",V.a)),G.isNullOrUndefined(e.opacity)||(r.opacity=e.opacity);g=((S=new j.PdfAnnotationBorder).width=e.thickness,S.style=e.borderStyle,S.dash=e.borderDashArray,r.border=S,r.rotationAngle=this.getRotateAngle(e.rotateAngle),r.beginLineStyle=this.getLineEndingStyle(e.lineHeadStart),r.endLineStyle=this.getLineEndingStyle(e.lineHeadEnd),void 0);if(G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(g=new Date(Date.parse(e.modifiedDate)),r.modifiedDate=g),0<(y=e.comments).length)for(u=0;u<y.length;u++)r.comments.add(this.addCommentsCollection(y[parseInt(u.toString(),10)],r.bounds));w=e.review;r.reviewHistory.add(this.addReviewCollections(w,r.bounds)),!G.isNullOrUndefined(e.isCloudShape)&&e.isCloudShape&&((I=new j._PdfDictionary(t._crossReference)).update("S",j._PdfName.get("C")),I.update("I",e.cloudIntensity),r._dictionary.update("BE",I),0<(I=JSON.parse(e.rectangleDifference)).length)&&(x=this.getRDValues(I),r._dictionary.update("RD",x)),this.preserveIsLockProperty(e,r),r.setAppearance(!0),G.isNullOrUndefined(e.customData)||r.setValues("CustomData",JSON.stringify(e.customData)),G.isNullOrUndefined(e.allowedInteractions)||r.setValues("AllowedInteractions",JSON.stringify(e.allowedInteractions)),t.annotations.add(r)}}else{var i=JSON.parse(e.vertexPoints),n=this.getSaveVertexPoints(i,t),o=JSON.parse(e.bounds),a=(G.isNullOrUndefined(o.left)&&(e.bounds.left=0),G.isNullOrUndefined(o.top)&&(e.bounds.top=0),this.convertPixelToPoint(o.left)),s=this.convertPixelToPoint(o.top),l=this.convertPixelToPoint(o.width),A=this.convertPixelToPoint(o.height),d=new j.PdfPolygonAnnotation(n);d.bounds=new J.Rect(a,s,l,A),G.isNullOrUndefined(e.note)||(d.text=e.note.toString()),d.author=G.isNullOrUndefined(e.author)||""===e.author.toString()?"Guest":e.author.toString(),G.isNullOrUndefined(e.subject)||(d.subject=e.subject.toString()),d._dictionary.set("NM",e.annotName.toString()),G.isNullOrUndefined(e.strokeColor)||(D=[(b=JSON.parse(e.strokeColor)).r,b.g,b.b],d.color=D),G.isNullOrUndefined(e.fillColor)||(V=JSON.parse(e.fillColor),this.isTransparentColor(V)||(B=[V.r,V.g,V.b],d.innerColor=B),V.a<1&&0<V.a?(d._dictionary.update("FillOpacity",V.a),V.a=1):d._dictionary.update("FillOpacity",V.a)),G.isNullOrUndefined(e.opacity)||(d.opacity=e.opacity);g=((S=new j.PdfAnnotationBorder).width=e.thickness,S.style=e.borderStyle,S.dash=e.borderDashArray,d.border=S,d.rotationAngle=this.getRotateAngle(e.rotateAngle),void 0);if(G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(g=new Date(Date.parse(e.modifiedDate)),d.modifiedDate=g),0<(y=e.comments).length)for(u=0;u<y.length;u++)d.comments.add(this.addCommentsCollection(y[parseInt(u.toString(),10)],d.bounds));w=e.review;d.reviewHistory.add(this.addReviewCollections(w,d.bounds)),!G.isNullOrUndefined(e.isCloudShape)&&e.isCloudShape&&((Q=new j.PdfBorderEffect).style=j.PdfBorderEffectStyle.cloudy,Q.intensity=e.cloudIntensity,d.borderEffect=Q,0<(I=JSON.parse(e.rectangleDifference)).length)&&(x=this.getRDValues(I),d._dictionary.update("RD",x)),this.preserveIsLockProperty(e,d),G.isNullOrUndefined(e.customData)||d.setValues("CustomData",JSON.stringify(e.customData)),G.isNullOrUndefined(e.allowedInteractions)||d.setValues("AllowedInteractions",JSON.stringify(e.allowedInteractions)),d.setAppearance(!0),t.annotations.add(d)}else{var o=JSON.parse(e.bounds),a=G.isNullOrUndefined(o.left)?0:this.convertPixelToPoint(o.left),s=G.isNullOrUndefined(o.top)?0:this.convertPixelToPoint(o.top),l=G.isNullOrUndefined(o.width)?0:this.convertPixelToPoint(o.width),A=G.isNullOrUndefined(o.height)?0:this.convertPixelToPoint(o.height),p=0,h=0,c=((0!==(f=this.getCropBoxValue(t,!1)).x&&0!==f.y&&f.x===a||0===f.x&&t.cropBox[2]===t.size[0]&&f.y===t.size[1])&&(p=f.x,h=f.y),new j.PdfCircleAnnotation(p+a,h+s,l,A));G.isNullOrUndefined(e.note)||(c.text=e.note.toString()),c.author=G.isNullOrUndefined(e.author)||""===e.author.toString()?"Guest":e.author.toString(),c._dictionary.set("NM",e.annotName.toString()),G.isNullOrUndefined(e.subject)||(c.subject=e.subject.toString()),G.isNullOrUndefined(e.strokeColor)||(D=[(b=JSON.parse(e.strokeColor)).r,b.g,b.b],c.color=D),G.isNullOrUndefined(e.fillColor)||(V=JSON.parse(e.fillColor),this.isTransparentColor(V)||(B=[V.r,V.g,V.b],c.innerColor=B),V.a<1&&0<V.a?(c._dictionary.update("FillOpacity",V.a),V.a=1):c._dictionary.update("FillOpacity",V.a)),G.isNullOrUndefined(e.opacity)||(c.opacity=e.opacity);(S=new j.PdfAnnotationBorder).width=e.thickness,S.style=e.borderStyle,S.dash=e.borderDashArray,c.border=S,c.rotationAngle=this.getRotateAngle(e.rotateAngle);var g=void 0;if(G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(g=new Date(Date.parse(e.modifiedDate)),c.modifiedDate=g),0<(y=e.comments).length)for(var u=0;u<y.length;u++)c.comments.add(this.addCommentsCollection(y[parseInt(u.toString(),10)],c.bounds));w=e.review;c.reviewHistory.add(this.addReviewCollections(w,c.bounds)),!G.isNullOrUndefined(e.isCloudShape)&&e.isCloudShape&&((Q=new j.PdfBorderEffect).style=j.PdfBorderEffectStyle.cloudy,Q.intensity=e.cloudIntensity,c._borderEffect=Q,0<(I=JSON.parse(e.rectangleDifference)).length)&&(x=this.getRDValues(I),c._dictionary.update("RD",x)),this.preserveIsLockProperty(e,c),G.isNullOrUndefined(e.customData)||c.setValues("CustomData",JSON.stringify(e.customData)),e.allowedInteractions&&null!=e.allowedInteractions&&c.setValues("AllowedInteractions",JSON.stringify(e.allowedInteractions)),c.setAppearance(!0),t.annotations.add(c)}else{var o=JSON.parse(e.bounds),f=(G.isNullOrUndefined(o.left)&&(e.bounds.left=0),G.isNullOrUndefined(o.top)&&(e.bounds.top=0),this.getCropBoxValue(t,!1)),a=this.convertPixelToPoint(o.left),s=this.convertPixelToPoint(o.top),l=this.convertPixelToPoint(o.width),A=this.convertPixelToPoint(o.height),p=0,h=0,m=((0!==f.x&&0!==f.y&&f.x===a||0===f.x&&t.cropBox[2]===t.size[0]&&f.y===t.size[1])&&(p=f.x,h=f.y),new j.PdfSquareAnnotation(p+a,h+s,l,A));G.isNullOrUndefined(e.note)||(m.text=e.note.toString()),m.author=G.isNullOrUndefined(e.author)||""===e.author.toString()?"Guest":e.author.toString(),m._dictionary.set("NM",e.annotName.toString()),G.isNullOrUndefined(e.subject)||(m.subject=e.subject.toString()),G.isNullOrUndefined(e.strokeColor)||(D=[(b=JSON.parse(e.strokeColor)).r,b.g,b.b],m.color=D),G.isNullOrUndefined(e.fillColor)||(V=JSON.parse(e.fillColor),this.isTransparentColor(V)||(B=[V.r,V.g,V.b],m.innerColor=B),V.a<1&&0<V.a?(m._dictionary.update("FillOpacity",V.a),V.a=1):m._dictionary.update("FillOpacity",V.a)),G.isNullOrUndefined(e.opacity)||(m.opacity=e.opacity);(S=new j.PdfAnnotationBorder).width=e.thickness,S.style=e.borderStyle,S.dash=e.borderDashArray,m.border=S,m.rotationAngle=this.getRotateAngle(e.rotateAngle);var g=void 0;if(G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(g=new Date(Date.parse(e.modifiedDate)),m.modifiedDate=g),0<(y=e.comments).length)for(var u=0;u<y.length;u++)m.comments.add(this.addCommentsCollection(y[parseInt(u.toString(),10)],m.bounds));var w=e.review;m.reviewHistory.add(this.addReviewCollections(w,m.bounds)),!G.isNullOrUndefined(e.isCloudShape)&&e.isCloudShape&&((Q=new j.PdfBorderEffect).style=j.PdfBorderEffectStyle.cloudy,Q.intensity=e.cloudIntensity,m.borderEffect=Q,0<(I=JSON.parse(e.rectangleDifference)).length)&&(x=this.getRDValues(I),m._dictionary.update("RD",x)),this.preserveIsLockProperty(e,m),G.isNullOrUndefined(e.customData)||m.setValues("CustomData",JSON.stringify(e.customData)),e.allowedInteractions&&null!=e.allowedInteractions&&m.setValues("AllowedInteractions",JSON.stringify(e.allowedInteractions)),m.setAppearance(!0),t.annotations.add(m)}else{var B,i=JSON.parse(e.vertexPoints),n=this.getSaveVertexPoints(i,t),C=new j.PdfLineAnnotation(n);G.isNullOrUndefined(e.note)||(C.text=e.note.toString()),C.author=G.isNullOrUndefined(e.author)||""===e.author.toString()?"Guest":e.author.toString(),C._dictionary.set("NM",e.annotName.toString()),G.isNullOrUndefined(e.subject)||(C.subject=e.subject.toString()),G.isNullOrUndefined(e.strokeColor)||(D=[(b=JSON.parse(e.strokeColor)).r,b.g,b.b],C.color=D),G.isNullOrUndefined(e.fillColor)||(V=JSON.parse(e.fillColor),!(G.isNullOrUndefined(V.r)||G.isNullOrUndefined(V.g)||G.isNullOrUndefined(V.b)||G.isNullOrUndefined(V.a))&&0<V.a&&(B=[V.r,V.g,V.b],C.innerColor=B)),G.isNullOrUndefined(e.opacity)||(C.opacity=e.opacity);(S=new j.PdfAnnotationBorder).width=e.thickness,S.style=e.borderStyle,S.dash=e.borderDashArray,C.border=S,C.rotationAngle=this.getRotateAngle(e.rotateAngle),C.lineEndingStyle.begin=this.getLineEndingStyle(e.lineHeadStart),C.lineEndingStyle.end=this.getLineEndingStyle(e.lineHeadEnd);var S,g=void 0,y=(G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(g=new Date(Date.parse(e.modifiedDate)),C.modifiedDate=g),e.comments),o=JSON.parse(e.bounds);if(C.bounds=o,C.bounds.x=o.left,C.bounds.y=o.top,0<y.length)for(var u=0;u<y.length;u++)C.comments.add(this.addCommentsCollection(y[parseInt(u.toString(),10)],C.bounds));var w=e.review;C.reviewHistory.add(this.addReviewCollections(w,C.bounds)),this.preserveIsLockProperty(e,C),G.isNullOrUndefined(e.customData)||C.setValues("CustomData",JSON.stringify(e.customData)),e.allowedInteractions&&null!=e.allowedInteractions&&C.setValues("AllowedInteractions",JSON.stringify(e.allowedInteractions)),C.setAppearance(!0),t.annotations.add(C)}if(!G.isNullOrUndefined(e.enableShapeLabel)&&e.enableShapeLabel){var I,f=JSON.parse(e.labelBounds.toString()),a=this.convertPixelToPoint(f.left),p=this.convertPixelToPoint(f.top),h=("Line"===e.shapeAnnotationType&&(p-=5),this.convertPixelToPoint(f.width)),s=this.convertPixelToPoint(f.height),E=new j.PdfFreeTextAnnotation(p,a,h,s),g=(E.author=e.author,void 0),l=(G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(g=new Date(Date.parse(e.modifiedDate)),E.modifiedDate=g),E._dictionary.set("NM",e.annotName.toString()+"freeText"),E.lineEndingStyle=j.PdfLineEndingStyle.openArrow,E.annotationIntent=j.PdfAnnotationIntent.freeTextTypeWriter,0),A=(G.isNullOrUndefined(e.fontSize)||(l=parseFloat(e.fontSize)),l=!G.isNullOrUndefined(l)&&!isNaN(l)&&0<l?l:16,this.getFontFamily(e.fontFamily)),Q=this.getFontStyle({});E.font=new j.PdfStandardFont(A,this.convertPixelToPoint(l),Q),E.subject="Text Box",E.text="",G.isNullOrUndefined(e.labelContent)||null!==e.labelContent.toString()&&(E.text=e.labelContent.toString()),E.rotationAngle=this.getRotateAngle(e.rotateAngle),E.border=new j.PdfAnnotationBorder,Object.prototype.hasOwnProperty.call(e,"thickness")&&!G.isNullOrUndefined(e.thickness)&&(I=parseInt(e.thickness.toString(),10),E.border.width=I),E.opacity=1,!Object.prototype.hasOwnProperty.call(e,"opacity")||G.isNullOrUndefined(e.opacity)||(E.opacity=parseFloat(e.opacity));var D,x=[(D=JSON.parse(e.labelBorderColor)).r,D.g,D.b];E.borderColor=x;var V,i=[(V=JSON.parse(e.labelFillColor)).r,V.g,V.b],n=(E.color=i,JSON.parse(e.fontColor)),b=[n.r,n.g,n.b];if(E.textMarkUpColor=b,0<(y=E.comments).length)for(u=0;u<y.length;u++)E.comments.add(this.addCommentsCollection(y[parseInt(u.toString(),10)],E.bounds));G.isNullOrUndefined(e.customData)||E.setValues("CustomData",e.customData),t.annotations.add(E)}},V.prototype.saveInkSignature=function(e,t){for(var i=JSON.parse(e.bounds),n=JSON.parse(e.data.toString()),o=this.getInkRotateAngle(t.rotation.toString()),r=this.convertPixelToPoint(i.x),a=this.convertPixelToPoint(i.y),s=this.convertPixelToPoint(i.width),i=this.convertPixelToPoint(i.height),l=e.opacity,N=parseInt(e.thickness.toString(),10),A=(G.isNullOrUndefined(e.strokeColor)||(V=[(V=JSON.parse(e.strokeColor)).r,V.g,V.b],e.color=V),-1),d=-1,p=-1,h=-1,c=new j.PdfPath,g=0;g<n.length;g++){var u=n[parseInt(g.toString(),10)];c.addLine(u.x,u.y,0,0)}for(var f=this.getRotatedPathForMinMax(c._points,o),m=0;m<f.points.length;m+=2){var w,B=f.points[parseInt(m.toString(),10)];-1===A?(A=B[0],d=B[1],p=B[0],h=B[1]):((w=B[0])<=A&&(A=w),(B=B[1])<=d&&(d=B),p<=w&&(p=w),h<=B&&(h=B))}var C=(p-A)/s,S=(h-d)/i,y=(0===C?C=1:0===S&&(S=1),[]),I=0;if(0!==o){for(var E=0;E<n.length;E++){if("M"===(u=n[parseInt(E.toString(),10)]).command.toString()&&E!==I){I=E;break}y.push(parseFloat(u.x.toString())),y.push(parseFloat(u.y.toString()))}for(var Q=this.getRotatedPath(y,o),y=[],D=0;D<Q._points.length;D+=2)y.push((Q._points[parseInt(D.toString(),10)][0]-A)/C+r),y.push(t.size[1]-(Q._points[parseInt(D.toString(),10)][1]-d)/S-a)}else for(E=0;E<n.length;E++){if("M"===(u=n[parseInt(E.toString(),10)]).command.toString()&&E!==I){I=E;break}y.push((u.x-A)/C+r);var x=(u.y-d)/S;y.push(t.size[1]-x-a)}var V=[e.color[0],e.color[1],e.color[2]],b=new j.PdfInkAnnotation([r,a,s,i],y),s=(new J.Rect,new J.Rect(b.bounds.x,t.size[1]-(b.bounds.y+b.bounds.height),b.bounds.width,b.bounds.height));if(b.bounds=s,b.color=V,y=[],0<I)if(0!==o){for(var M=[],v=I;v<n.length;v++)"M"===(u=n[parseInt(v.toString(),10)]).command.toString()&&v!==I&&(M.push(y),y=[]),y.push(u.x),y.push(u.y);0<y.length&&M.push(y);for(var F=0;F<M.length;F++){var T=[],k=M[parseInt(F.toString(),10)];if(0<k.length){for(Q=this.getRotatedPath(k,o),D=0;D<Q._points.length;D+=2)T.push((Q._points[parseInt(D.toString(),10)][0]-A)/C+r),T.push(t.size[1]-(Q._points[parseInt(D.toString(),10)][1]-d)/S-a);b.inkPointsCollection.push(T)}T=[]}}else{for(v=I;v<n.length;v++){x=("M"===(u=n[parseInt(v.toString(),10)]).command.toString()&&v!==I&&(b.inkPointsCollection.push(y),y=[]),y.push((u.x-A)/C+r),(u.y-d)/S);y.push(t.size[1]-x-a)}0<y.length&&b.inkPointsCollection.push(y)}this.checkAnnotationLock(e);G.isNullOrUndefined(e.author)||G.isNullOrUndefined(e.author)&&""===e.author?e.author="Guest":b.author=!G.isNullOrUndefined(e.author)&&""!==e.author.toString()?e.author.toString():"Guest",G.isNullOrUndefined(e.subject)||""===e.subject||(b.subject=e.subject.toString()),G.isNullOrUndefined(e.note)?G.isNullOrUndefined(e.notes)||(b.text=e.notes.toString()):b.text=e.note.toString(),G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(i=new Date(Date.parse(e.modifiedDate)),b.modifiedDate=i);var s=e.review,P=(b.reviewHistory.add(this.addReviewCollections(s,b.bounds)),e.comments);if(0<P.length)for(v=0;v<P.length;v++)b.comments.add(this.addCommentsCollection(P[parseInt(v.toString(),10)],b.bounds));return this.preserveIsLockProperty(e,b),b.border.width=N,b.opacity=l,b._isEnableControlPoints=!1,b._dictionary.set("NM",e.annotName.toString()),b.rotationAngle=this.getRotateAngle(e.rotationAngle),G.isNullOrUndefined(e.customData)||b.setValues("CustomData",JSON.stringify(e.customData)),b.setAppearance(!0),t.annotations.add(b),e},V.prototype.getRotatedPath=function(e,t){for(var i=this.getRotatedPoints(e,t),n=new j.PdfPath,o=0;o<i.points.length;o+=2)n.addLine(i.points[parseInt(o.toString(),10)][0],i.points[parseInt(o.toString(),10)][1],i.points[parseInt((o+1).toString(),10)][0],i.points[o+1][1]);return n},V.prototype.getRotationMatrix=function(e){var e=e*(Math.PI/180),t=Math.cos(e),e=Math.sin(e);return[[t,-e,0],[e,t,0],[0,0,1]]},V.prototype.getRotatedPoints=function(e,t){for(var i=new Ss,n=0;n<e.length;n+=2)i.moveTo(e[parseInt(n.toString(),10)],e[parseInt((n+1).toString(),10)]),i.lineTo(0,0);t=this.getRotationMatrix(t);return i.transform(t),i},V.prototype.getRotatedPathForMinMax=function(e,t){for(var i=new Ss,n=0;n<e.length;n+=2)i.moveTo(e[parseInt(n.toString(),10)][0],e[parseInt(n.toString(),10)][1]),i.lineTo(e[parseInt((n+1).toString(),10)][0],e[parseInt((n+1).toString(),10)][1]);t=this.getRotationMatrix(t);return i.transform(t),i},V.prototype.addTextMarkup=function(e,t){var i=parseInt(e.pageNumber.toString(),10),n=t.getPage(i),o=new j.PdfTextMarkupAnnotation;switch(e.textMarkupAnnotationType.toString()){case"Highlight":o.textMarkupType=j.PdfTextMarkupAnnotationType.highlight;break;case"Strikethrough":o.textMarkupType=j.PdfTextMarkupAnnotationType.strikeOut;break;case"Underline":o.textMarkupType=j.PdfTextMarkupAnnotationType.underline;break;case"Squiggly":o.textMarkupType=j.PdfTextMarkupAnnotationType.squiggly}for(var r=JSON.parse(e.bounds),a=[],s=0;s<r.length;s++){var l=r[parseInt(s.toString(),10)],A=this.getCropBoxValue(n,!0);G.isNullOrUndefined(l.left)||a.push(new J.Rect(A.x+this.convertPixelToPoint(l.left),A.y+this.convertPixelToPoint(l.top),Object.prototype.hasOwnProperty.call(l,"width")?this.convertPixelToPoint(l.width):0,Object.prototype.hasOwnProperty.call(l,"height")?this.convertPixelToPoint(l.height):0))}var d=new j.PdfTextMarkupAnnotation(null,0,0,0,0);0<a.length&&(d.bounds={x:a[0].x,y:a[0].y,width:a[0].width,height:a[0].height}),d.textMarkupType=o.textMarkupType,this.checkAnnotationLock(e);if(G.isNullOrUndefined(e.author)||G.isNullOrUndefined(e.author)&&""===e.author?e.author="Guest":d.author=!G.isNullOrUndefined(e.author)&&""!==e.author.toString()?e.author.toString():"Guest",G.isNullOrUndefined(e.subject)||""===e.subject||(d.subject=e.subject.toString()),G.isNullOrUndefined(e.note)||(d.text=e.note.toString()),G.isNullOrUndefined(e.annotationRotation)||(d.rotateAngle=this.getRotateAngle(e.annotationRotation)),G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(t=new Date(Date.parse(e.modifiedDate)),d.modifiedDate=t),d._dictionary.set("NM",e.annotName.toString()),G.isNullOrUndefined(e.color)||(w=[(m=JSON.parse(e.color)).r,m.g,m.b],d.color=w),G.isNullOrUndefined(e.opacity)||(d.opacity=e.opacity),0<a.length){for(var p=[],s=0;s<a.length;s++){var h=a[parseInt(s.toString(),10)],c=h.x,g=h.y,u=h.width,h=h.height;0!==c&&0!==g&&0!==u&&0!==h&&p.push([c,g,u,h])}d.boundsCollection=p}var f=e.comments;if(0<f.length)for(s=0;s<f.length;s++)d.comments.add(this.addCommentsCollection(f[parseInt(s.toString(),10)],d.bounds));var m,w,i=e.review;d.reviewHistory.add(this.addReviewCollections(i,d.bounds)),G.isNullOrUndefined(e.color)||(w=[(m=JSON.parse(e.color)).r,m.g,m.b],d.textMarkUpColor=w),this.preserveIsLockProperty(e,d),G.isNullOrUndefined(e.customData)||d.setValues("CustomData",JSON.stringify(e.customData)),G.isNullOrUndefined(e.allowedInteractions)||d.setValues("AllowedInteractions",JSON.stringify(e.allowedInteractions)),G.isNullOrUndefined(e.textMarkupContent)||d._dictionary.set("TextMarkupContent",e.textMarkupContent.toString()),d.setAppearance(!0),n.annotations.add(d)},V.prototype.getCropBoxValue=function(e,t){var i=0,n=0;return null!=e&&(i=t?0:e.cropBox[0],n=t?0:e.cropBox[1]),{x:i,y:n}},V.prototype.getBothCropBoxValue=function(e){return[e.cropBox[0],e.cropBox[1]]},V.prototype.preserveIsLockProperty=function(e,t){var i=this.checkAnnotationLock(e),n=!1,o=!1;e.isCommentLock&&null!==e.isCommentLock&&(o=Boolean(e.isCommentLock.toString())),e.isPrint&&null!==e.isPrint&&(n=Boolean(e.isPrint.toString())),(!G.isNullOrUndefined(e.isLocked)&&e.isLocked||i)&&(i=!0),t.flags=i&&o&&n?j.PdfAnnotationFlag.locked|j.PdfAnnotationFlag.print|j.PdfAnnotationFlag.readOnly:i&&o?j.PdfAnnotationFlag.locked|j.PdfAnnotationFlag.readOnly:i&&n?j.PdfAnnotationFlag.locked|j.PdfAnnotationFlag.print:o&&n?j.PdfAnnotationFlag.print|j.PdfAnnotationFlag.readOnly:i?j.PdfAnnotationFlag.locked:o?j.PdfAnnotationFlag.readOnly:j.PdfAnnotationFlag.print},V.prototype.addCustomStampAnnotation=function(e,t){var i=e,e=JSON.parse(i.bounds),n=parseInt(i.pageNumber.toString(),10),o=this.getCropBoxValue(t,!1),r=0,a=0,s=(t.graphics,!G.isNullOrUndefined(i.template)&&""!==i.template),n=(a=Object.prototype.hasOwnProperty.call(i,"wrapperBounds")&&!s?(l=i.wrapperBounds,r=(l=this.calculateBoundsXY(l,e,n,t)).x,l.y):(r=this.convertPixelToPoint(e.left),this.convertPixelToPoint(e.top)),0),l=0,o=((0!==o.x&&0!==o.y&&o.x===r||0===o.x&&t.cropBox[2]===t.size[0]&&o.y===t.size[1])&&(n=o.x,l=o.y),r+=n,a+=l,this.convertPixelToPoint(e.width)),n=this.convertPixelToPoint(e.height),l=(G.isNullOrUndefined(i.stampAnnotationType)||"image"!==i.stampAnnotationType||" "===i.stampAnnotationPath||s||t.rotation!==j.PdfRotationAngle.angle90&&t.rotation!==j.PdfRotationAngle.angle270||(o=this.convertPixelToPoint(e.height),n=this.convertPixelToPoint(e.width)),i.opacity),e=i.rotateAngle;if(Object.prototype.hasOwnProperty.call(i,"annotationSettings")&&!G.isNullOrUndefined(i.annotationSettings)&&(c=i.annotationSettings,G.isNullOrUndefined(c.isLock)||c.isLock),!G.isNullOrUndefined(i.stampAnnotationType)&&"image"===i.stampAnnotationType&&" "!==i.stampAnnotationPath||s){var A=new j.PdfRubberStampAnnotation(r,a,o,n),d=(t.annotations.add(A),s?(B=A.appearance.normal,d=new j._PdfDictionary(t._crossReference),C=B.graphics.save(),B.graphics.setTransparency(l),(c=new j.PdfTemplate(i.template,d._crossReference))._isExported=!0,c._appearance=i.template,c._crossReference=d._crossReference,c._size=[i.templateSize[0],i.templateSize[1]],B.graphics.drawTemplate(c,{x:0,y:0,width:o,height:n}),B.graphics.restore(C)):(s=i.stampAnnotationPath.toString().split(",")[1],c=void 0,(s=j._decode(s,!1))&&2<s.length&&(255===s[0]&&216===s[1]||137===s[0]&&80===s[1]&&78===s[2]&&71===s[3]&&13===s[4]&&10===s[5]&&26===s[6]&&10===s[7])?(c=new j.PdfBitmap(s),C=(B=A.appearance.normal).graphics.save(),B.graphics.setTransparency(l),B.graphics.drawImage(c,0,0,o,n),B.graphics.restore(C)):(B=A.appearance,s=(d=this.pdfViewerBase.pngData.filter(function(e){return e.name===i.annotName})[0]._dictionary.get("AP")).get("N"),B.normal=new j.PdfTemplate(s,t._crossReference)),A.rotationAngle=this.getRubberStampRotateAngle(t.rotation,e)),A.opacity=l,G.isNullOrUndefined(i.note)||(A.text=i.note.toString()),A._dictionary.set("NM",i.annotName.toString()),void 0);if(G.isNullOrUndefined(i.modifiedDate)||isNaN(Date.parse(i.modifiedDate))||(d=new Date(Date.parse(i.modifiedDate)),A.modifiedDate=d),0<(w=i.comments).length)for(var p=0;p<w.length;p++)A.comments.add(this.addCommentsCollection(w[parseInt(p.toString(),10)],A.bounds));var h=i.review;A.reviewHistory.add(this.addReviewCollections(h,A.bounds)),!G.isNullOrUndefined(i.author)&&i.author&&(A.author=i.author.toString()),!G.isNullOrUndefined(i.subject)&&i.subject&&(A.subject=i.subject.toString()),this.preserveIsLockProperty(i,A),G.isNullOrUndefined(i.customData)||A.setValues("CustomData",JSON.stringify(i.customData)),G.isNullOrUndefined(i.icon)||A.setValues("iconName",i.icon)}else{var c=i.icon.toString(),s=i.stampFillcolor.toString(),g=G.isNullOrUndefined(i.fillColor)?"#192760":i.fillColor.toString(),u=i.isDynamicStamp.toString(),f=(new j.PdfBrush([0,0,0]),[]),g=("#192760"===g?f=[25,39,96]:"#516c30"===g?f=[81,108,48]:"#8a251a"===g&&(f=[138,37,26]),new j.PdfBrush(f),new j.PdfBrush([0,0,0]),[]),f=("#e6eddf"===s?g=[230,237,223]:"#f6dedd"===s?g=[246,222,221]:"#dce3ef"===s&&(g=[220,227,239]),s=new j.PdfBrush(f),g=new j.PdfBrush(g),new j.PdfPen(f,1)),m=new J.Rect(r,a,o,n);t.rotation!==j.PdfRotationAngle.angle90&&t.rotation!==j.PdfRotationAngle.angle270||(m=new J.Rect(r,a,n,o));(A=new j.PdfRubberStampAnnotation).bounds=m,!G.isNullOrUndefined(i.subject)&&i.subject&&(A.subject=i.subject.toString()),G.isNullOrUndefined(i.note)||(A.text=i.note.toString()),A._dictionary.set("NM",i.annotName.toString());var w,d=void 0;if(G.isNullOrUndefined(i.modifiedDate)||isNaN(Date.parse(i.modifiedDate))||(d=new Date(Date.parse(i.modifiedDate)),A.modifiedDate=d),0<(w=i.comments).length)for(p=0;p<w.length;p++)A.comments.add(this.addCommentsCollection(w[parseInt(p.toString(),10)],A.bounds));var B,C,h=i.review,r=(A.reviewHistory.add(this.addReviewCollections(h,A.bounds)),!1),a=("true"!==u&&(r=this.getIconName(i,c,A)),void 0);"Accepted"===c.trim()||"Rejected"===c.trim()?a=this.drawStampAsPath(i.stampAnnotationPath,A,s,g):r&&(t.rotation!==j.PdfRotationAngle.angle90&&t.rotation!==j.PdfRotationAngle.angle270||(A.bounds=m),A.rotationAngle=this.getRubberStampRotateAngle(t.rotation,i.rotateAngle)),G.isNullOrUndefined(i.modifiedDate)||isNaN(Date.parse(i.modifiedDate))||G.isNullOrUndefined(i.modifiedDate)||isNaN(Date.parse(i.modifiedDate))||(n=new Date(Date.parse(i.modifiedDate)),A.modifiedDate=n),A.opacity=l,A.author=G.isNullOrUndefined(i.author)||""===i.author.toString()?"Guest":i.author.toString(),this.preserveIsLockProperty(i,A),G.isNullOrUndefined(i.customData)||A.setValues("CustomData",JSON.stringify(i.customData)),G.isNullOrUndefined(i.rotateAngle)||A.setValues("rotateAngle",i.rotateAngle.toString()),G.isNullOrUndefined(i.icon)||A.setValues("iconName",i.icon.toString()),t.annotations.add(A),r||((B=A.appearance.normal).graphics.drawRoundedRectangle(0,0,m.width,m.height,10,f,g),"true"===u?(o=i.dynamicText.toString(),C=B.graphics.save(),B.graphics.setTransparency(l),this.renderDynamicStamp(A,c,o,s,m,f,t),B.graphics.restore(C),A._dictionary.set("Name",j._PdfName.get("#23D"+c.split(" ").join("")))):(this.retriveDefaultWidth(c.trim()),C=B.graphics.save(),B.graphics.setTransparency(l),this.renderSignHereStamp(A,m,c,s,t,f,a),B.graphics.restore(C)),A.rotationAngle=this.getRubberStampRotateAngle(t.rotation,e))}},V.prototype.addMeasure=function(e,t){if(G.isNullOrUndefined(e.shapeAnnotationType)||"Line"!==e.shapeAnnotationType)if(G.isNullOrUndefined(e.shapeAnnotationType)||"Polyline"!==e.shapeAnnotationType){if(!G.isNullOrUndefined(e.shapeAnnotationType)&&"Polyline"===e.shapeAnnotationType&&"PolygonRadius"===e.shapeAnnotationType||"Circle"===e.shapeAnnotationType){var i=this.addCircleMeasurementAnnotation(e,t);t.annotations.add(i)}else if(!G.isNullOrUndefined(e.shapeAnnotationType)&&"Polygon"===e.shapeAnnotationType&&"PolygonRadius"!==e.indent){var n=JSON.parse(e.vertexPoints),o=this.getSaveVertexPoints(n,t),r=new j.PdfPolygonAnnotation(o);r.author=G.isNullOrUndefined(e.author)||""===e.author.toString()?"Guest":e.author.toString(),G.isNullOrUndefined(e.note)||(r.text=e.note.toString()),G.isNullOrUndefined(e.annotName)||(r.name=e.annotName.toString()),G.isNullOrUndefined(e.subject)||(r.subject=e.subject.toString()),G.isNullOrUndefined(e.strokeColor)||(u=JSON.parse(e.strokeColor),r.color=[u.r,u.g,u.b]),G.isNullOrUndefined(e.fillColor)||(f=JSON.parse(e.fillColor),this.isTransparentColor(f)||(m=[f.r,f.g,f.b],r.innerColor=m),f.a<1&&0<f.a?(r._dictionary.update("FillOpacity",f.a),f.a=1):r._dictionary.update("FillOpacity",f.a)),G.isNullOrUndefined(e.opacity)||(r.opacity=e.opacity);s=((B=new j.PdfAnnotationBorder).width=e.thickness,B.style=e.borderStyle,G.isNullOrUndefined(e.borderDashArray)||(B.dash=[e.borderDashArray,e.borderDashArray]),r.border=B,r._dictionary.update("IT",j._PdfName.get(e.indent.toString())),r.rotationAngle=this.getRotateAngle(e.rotateAngle),void 0),l=(G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(s=new Date(Date.parse(e.modifiedDate)),r.modifiedDate=s),e.comments),A=JSON.parse(e.bounds);if(r.bounds=A,r.bounds.x=A.left,r.bounds.y=A.top,0<l.length)for(d=0;d<l.length;d++)r.comments.add(this.addCommentsCollection(l[parseInt(d.toString(),10)],r.bounds));c=e.review,g=(r.reviewHistory.add(this.addReviewCollections(c,r.bounds)),!G.isNullOrUndefined(e.isCloudShape)&&Boolean(e.isCloudShape.toString())&&(r.borderEffect.style=j.PdfBorderEffectStyle.cloudy,r.borderEffect.intensity=e.cloudIntensity,0<(p=JSON.parse(e.rectangleDifference)).length)&&(h=this.getRDValues(p),r._dictionary.update("RD",h)),this.preserveIsLockProperty(e,r),JSON.parse(e.calibrate));G.isNullOrUndefined(g)||(r._dictionary.set("Measure",this.setMeasureDictionary(g)),"PolygonVolume"===e.indent&&Object.prototype.hasOwnProperty.call(g,"depth")&&r._dictionary.update("Depth",g.depth)),G.isNullOrUndefined(e.customData)||r.setValues("CustomData",JSON.stringify(e.customData)),e.allowedInteractions&&null!=e.allowedInteractions&&r.setValues("AllowedInteractions",JSON.stringify(e.allowedInteractions)),r.setAppearance(!0),t.annotations.add(r)}}else{var n=JSON.parse(e.vertexPoints),o=this.getSaveVertexPoints(n,t),a=new j.PdfPolyLineAnnotation(o);a.author=G.isNullOrUndefined(e.author)||""===e.author.toString()?"Guest":e.author.toString(),G.isNullOrUndefined(e.note)||(a.text=e.note.toString()),a._dictionary.set("NM",e.annotName.toString()),G.isNullOrUndefined(e.subject)||(a.subject=e.subject.toString()),G.isNullOrUndefined(e.strokeColor)||(i=[(u=JSON.parse(e.strokeColor)).r,u.g,u.b],a.color=i),G.isNullOrUndefined(e.fillColor)||(f=JSON.parse(e.fillColor),this.isTransparentColor(f)||(m=[f.r,f.g,f.b],a.innerColor=m),f.a<1&&0<f.a?(a._dictionary.update("FillOpacity",f.a),f.a=1):a._dictionary.update("FillOpacity",f.a)),G.isNullOrUndefined(e.opacity)||(a.opacity=e.opacity);(B=new j.PdfAnnotationBorder).width=e.thickness,B.style=this.getBorderStyle(e.borderStyle),B.dash=e.borderDashArray,a.border=B,a.rotationAngle=this.getRotateAngle(e.rotateAngle),a.beginLineStyle=this.getLineEndingStyle(e.lineHeadStart),a.endLineStyle=this.getLineEndingStyle(e.lineHeadEnd);var s=void 0,l=(G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(s=new Date(Date.parse(e.modifiedDate)),a.modifiedDate=s),e.comments),A=JSON.parse(e.bounds);if(a.bounds=A,a.bounds.x=A.left,a.bounds.y=A.top,0<l.length)for(var d=0;d<l.length;d++)a.comments.add(this.addCommentsCollection(l[parseInt(d.toString(),10)],a.bounds));var p,h,c=e.review,g=(a.reviewHistory.add(this.addReviewCollections(c,a.bounds)),a._dictionary.set("IT",j._PdfName.get(e.indent.toString())),!G.isNullOrUndefined(e.isCloudShape)&&e.isCloudShape&&((i=new j._PdfDictionary(t._crossReference)).update("S",j._PdfName.get("C")),i.update("I",e.cloudIntensity),a._dictionary.update("BE",i),0<(p=JSON.parse(e.rectangleDifference)).length)&&(h=this.getRDValues(p),a._dictionary.update("RD",h)),this.preserveIsLockProperty(e,a),JSON.parse(e.calibrate));G.isNullOrUndefined(g)||a._dictionary.set("Measure",this.setMeasureDictionary(g)),G.isNullOrUndefined(e.customData)||a.setValues("CustomData",JSON.stringify(e.customData)),e.allowedInteractions&&null!==e.allowedInteractions&&a.setValues("AllowedInteractions",JSON.stringify(e.allowedInteractions)),a.setAppearance(!0),t.annotations.add(a)}else{var u,f,m,n=JSON.parse(e.vertexPoints),o=this.getSaveVertexPoints(n,t),w=new j.PdfLineAnnotation(o);G.isNullOrUndefined(e.note)||(w.text=e.note.toString()),w.author=G.isNullOrUndefined(e.author)||""===e.author.toString()?"Guest":e.author.toString(),G.isNullOrUndefined(e.subject)||(w.subject=e.subject.toString()),w.lineIntent=j.PdfLineIntent.lineDimension,G.isNullOrUndefined(e.annotName)||(w.name=e.annotName.toString()),G.isNullOrUndefined(e.strokeColor)||(u=JSON.parse(e.strokeColor),w.color=[u.r,u.g,u.b]),G.isNullOrUndefined(e.fillColor)||(f=JSON.parse(e.fillColor),this.isTransparentColor(f)||(m=[f.r,f.g,f.b],w.innerColor=m),f.a<1&&0<f.a?(w._dictionary.update("FillOpacity",f.a),f.a=1):w._dictionary.update("FillOpacity",f.a)),G.isNullOrUndefined(e.opacity)||(w.opacity=e.opacity);(B=new j.PdfAnnotationBorder).width=e.thickness,G.isNullOrUndefined(e.borderStyle)||""===e.borderStyle||(B.style=this.getBorderStyle(e.borderStyle)),G.isNullOrUndefined(e.borderDashArray)||(B.dash=[e.borderDashArray,e.borderDashArray]),w.border=B,w.rotationAngle=this.getRotateAngle(e.rotateAngle),w.lineEndingStyle.begin=this.getLineEndingStyle(e.lineHeadStart),w.lineEndingStyle.end=this.getLineEndingStyle(e.lineHeadEnd);var B,s=void 0,i=(G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(s=new Date(Date.parse(e.modifiedDate)),w.modifiedDate=s),w.caption.type=this.getCaptionType(e.captionPosition),/[\u0600-\u06FF]/.test(w.text)),l=(w.caption.cap=!i&&e.caption,w.leaderExt=e.leaderLength,w.leaderLine=e.leaderLineExtension,e.comments),A=JSON.parse(e.bounds);if(w.bounds=A,w.bounds.x=A.left,w.bounds.y=A.top,0<l.length)for(var d=0;d<l.length;d++)w.comments.add(this.addCommentsCollection(l[parseInt(d.toString(),10)],w.bounds));var c=e.review,g=(w.reviewHistory.add(this.addReviewCollections(c,w.bounds)),w._dictionary.update("LLO",e.leaderLineOffset),this.preserveIsLockProperty(e,w),JSON.parse(e.calibrate));G.isNullOrUndefined(g)||w._dictionary.set("Measure",this.setMeasureDictionary(g)),G.isNullOrUndefined(e.customData)||w.setValues("CustomData",JSON.stringify(e.customData)),e.allowedInteractions&&null!=e.allowedInteractions&&w.setValues("AllowedInteractions",JSON.stringify(e.allowedInteractions)),w.setAppearance(!0),t.annotations.add(w)}},V.prototype.addStickyNotes=function(e,t){var i=JSON.parse(e.bounds),n=this.getCropBoxValue(t,!1),o=this.convertPixelToPoint(i.left),r=this.convertPixelToPoint(i.top),a=this.convertPixelToPoint(i.width),i=this.convertPixelToPoint(i.height),s=0,l=0,A=((0!==n.x&&0!==n.y&&n.x===o||0===n.x&&t.cropBox[2]===t.size[0]&&n.y===t.size[1])&&(s=n.x,l=n.y),new j.PdfPopupAnnotation(null,s+o,l+r,a,i)),d=(null===e.author&&(e.author="Guest"),null!=e.note&&(A.text=e.note.toString()),A.author=e.author.toString(),null!=e.subject&&(A.subject=e.subject.toString()),A._dictionary.set("NM",e.annotName.toString()),G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(n=new Date(Date.parse(e.modifiedDate)),A.modifiedDate=n),e.comments);if(0<d.length)for(var p=0;p<d.length;p++)A.comments.add(this.addCommentsCollection(d[parseInt(p.toString(),10)],A.bounds));s=e.review;A.reviewHistory.add(this.addReviewCollections(s,A.bounds));A.color=[255,255,51],A.opacity=e.opacity,A.icon=j.PdfPopupIcon.comment,this.preserveIsLockProperty(e,A),G.isNullOrUndefined(e.customData)||A.setValues("CustomData",JSON.stringify(e.customData)),t.annotations.add(A)},V.hasDynamicText=function(e){return Object.prototype.hasOwnProperty.call(e,"dynamicText")&&!G.isNullOrUndefined(e.dynamicText.toString())},V.setFontFromKeys=function(e,t,i,n,o){i=an.tryGetFontFromKeys(i,e.dynamicText.toString(),n,o);G.isNullOrUndefined(i)?t.setAppearance(!1):(t.font=i,t.setAppearance(!0))},V.prototype.addFreeText=function(e,t,i){var n=JSON.parse(e.bounds),o=this.getCropBoxValue(t,!1),r=this.convertPixelToPoint(n.left),a=this.convertPixelToPoint(n.top),s=this.convertPixelToPoint(n.width),n=this.convertPixelToPoint(n.height),l=0,A=0,d=((0!==o.x&&0!==o.y&&o.x===r||0===o.x&&t.cropBox[2]===t.size[0]&&o.y===t.size[1])&&(l=o.x,A=o.y),new j.PdfFreeTextAnnotation(l+r,A+a,s,n)),l=(d.setAppearance(!0),G.isNullOrUndefined(e.author)&&(e.author="Guest"),d.author=e.author.toString(),G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(o=new Date(Date.parse(e.modifiedDate)),d.modifiedDate=o),e.review),r=(d.reviewHistory.add(this.addReviewCollections(l,d.bounds)),d._dictionary.set("NM",e.annotName.toString()),d.lineEndingStyle=j.PdfLineEndingStyle.openArrow,d.annotationIntent=j.PdfAnnotationIntent.freeTextTypeWriter,0),A=(G.isNullOrUndefined(e.fontSize)||(r=parseFloat(e.fontSize)),r=!G.isNullOrUndefined(r)&&!isNaN(r)&&0<r?r:16,this.getFontFamily(e.fontFamily)),a={},s=(Object.prototype.hasOwnProperty.call(e,"font")&&!G.isNullOrUndefined(e.font)&&(a=e.font),this.getFontStyle(a));if(d.font=new j.PdfStandardFont(A,this.convertPixelToPoint(r),s),V.hasDynamicText(e))if(!G.isNullOrUndefined(i)&&0<Object.keys(i).length){n=an.getFontKey(i,e.fontFamily.toLowerCase());!G.isNullOrUndefined(n)&&(o=i[""+n],o=an.processFontStream(o),l=new j.PdfTrueTypeFont(o,this.convertPixelToPoint(r),s),a=an.isSupportedFont(e.dynamicText.toString(),l),d.setAppearance(a),a)?d.font=l:V.setFontFromKeys(e,d,i,r,s)}else try{d.font.measureString(e.dynamicText.toString())}catch(e){d.setAppearance(!1)}null!=e.subject&&(d.subject=e.subject.toString()),d.text="",Object.prototype.hasOwnProperty.call(e,"dynamicText")&&!G.isNullOrUndefined(e.dynamicText.toString())&&(d.text=e.dynamicText.toString());var p,A="RotateAngle"+Math.abs(e.rotateAngle),n=(d.rotationAngle=this.getRotateAngle(A),new j.PdfAnnotationBorder),h=(n.width=G.isNullOrUndefined(e.thickness)?1:e.thickness,d.border=n,d.border.width=n.width,Object.prototype.hasOwnProperty.call(e,"padding")&&G.isNullOrUndefined(e.padding),d.opacity=G.isNullOrUndefined(e.opacity)?1:e.opacity,G.isNullOrUndefined(e.strokeColor)||(p=[(o=JSON.parse(e.strokeColor)).r,o.g,o.b],d.borderColor=p,this.isTransparentColor(o))||(d.border.width=G.isNullOrUndefined(e.thickness)?0:e.thickness),G.isNullOrUndefined(e.fillColor)||(a=JSON.parse(e.fillColor),this.isTransparentColor(a)||(p=[a.r,a.g,a.b],e.isTransparentSet?d.color=void 0:d.color=p),a.a<1&&0<a.a?(d._dictionary.update("FillOpacity",a.a),a.a=1):d._dictionary.update("FillOpacity",a.a)),G.isNullOrUndefined(e.fontColor)||(l=JSON.parse(e.fontColor),this.isTransparentColor(l))||(i=[l.r,l.g,l.b],d.textMarkUpColor=i),e.comments);if(0<h.length)for(var c=0;c<h.length;c++)d.comments.add(this.addCommentsCollection(h[parseInt(c.toString(),10)],d.bounds));this.preserveIsLockProperty(e,d),G.isNullOrUndefined(e.customData)||d.setValues("CustomData",JSON.stringify(e.customData)),Object.prototype.hasOwnProperty.call(e,"textAlign")&&!G.isNullOrUndefined(e.textAlign)&&(d.textAlignment=this.getPdfTextAlignment(e.textAlign.toString().toLowerCase())),Object.prototype.hasOwnProperty.call(e,"allowedInteractions")&&!G.isNullOrUndefined(e.allowedInteractions)&&d.setValues("AllowedInteractions",JSON.stringify(e.allowedInteractions)),t.annotations.add(d)},V.prototype.renderSignHereStamp=function(e,t,i,n,o,r,a){var s=new j.PdfStringFormat,l=new j.PdfStandardFont(j.PdfFontFamily.helvetica,20,j.PdfFontStyle.bold|j.PdfFontStyle.italic),A=(s.alignment=j.PdfTextAlignment.center,s.lineAlignment=j.PdfVerticalAlignment.middle,new j.PdfPath),d=e.appearance.normal,p=(0<this.defaultHeight&&0<this.defaultWidth&&d.graphics.scaleTransform(t.width/(this.defaultWidth+4),t.height/28),p=[this.defaultWidth/2+1,15,0,0],A.addLine(p[0],p[1],(p=[0,0])[0],p[1]),[A._points[0][0],A._points[0][1],0,0]);if(a){for(var h=Number.MAX_VALUE,c=Number.MAX_VALUE,g=Number.MIN_VALUE,u=Number.MIN_VALUE,f=0;f<a._points.length;f++)var m=a._points[parseInt(f.toString(),10)],h=Math.min(h,m[0]),c=Math.min(c,m[1]),g=Math.max(g,m[0]),u=Math.max(u,m[1]);for(var w=(t.width-(g-h))/2-h,B=(t.height-(u-c))/2-c,f=0;f<a._points.length;f++)a._points[parseInt(f.toString(),10)][0]+=w,a._points[parseInt(f.toString(),10)][1]+=B;e.appearance.normal.graphics.drawPath(a,r,n)}else d.graphics.drawString(i.toUpperCase(),l,p,r,n,s)},V.prototype.retriveDefaultWidth=function(e){switch(e.trim()){case"Witness":this.defaultWidth=97.39,this.defaultHeight=16.84;break;case"Initial Here":this.defaultWidth=151.345,this.defaultHeight=16.781;break;case"Sign Here":this.defaultWidth=121.306,this.defaultHeight=16.899;break;default:this.defaultWidth=0,this.defaultHeight=0}},V.prototype.renderDynamicStamp=function(e,t,i,n,o,r,a){var s=new j.PdfStringFormat,l=(s.alignment=j.PdfTextAlignment.left,s.lineAlignment=j.PdfVerticalAlignment.middle,null),A=null,d=!1,d=(A=(d=/[\u0600-\u06FF]/.test(i)?!0:d)?(l=new j.PdfTrueTypeFont(is(),this.pdfViewer.annotationModule.calculateFontSize(t.toUpperCase(),o)-5,j.PdfFontStyle.bold|j.PdfFontStyle.italic),new j.PdfTrueTypeFont(is(),this.pdfViewer.annotationModule.calculateFontSize(i.toUpperCase(),o)-5,j.PdfFontStyle.bold|j.PdfFontStyle.italic)):(l=new j.PdfStandardFont(j.PdfFontFamily.helvetica,this.pdfViewer.annotationModule.calculateFontSize(t.toUpperCase(),o)-5,j.PdfFontStyle.bold|j.PdfFontStyle.italic),new j.PdfStandardFont(j.PdfFontFamily.helvetica,this.pdfViewer.annotationModule.calculateFontSize(i,o)-5,j.PdfFontStyle.bold|j.PdfFontStyle.italic)),e.appearance.normal),e=new j.PdfPath,p=[5,o.height/3],h=[5,o.height-2*A.size],p=(e.addLine(p[0],p[1],h[0],h[1]),[e._points[0][0],e._points[0][1],0,0]),h=[e._points[1][0],e._points[1][1],o.width-e._points[1][0],o.height-e._points[1][1]];d.graphics.drawString(t.toUpperCase(),l,p,r,n,s),d.graphics.drawString(i,A,h,r,n,s)},V.prototype.calculateBoundsXY=function(e,t,i,n){var o=new J.Rect,i=this.pdfViewer.pdfRendererModule.getPageSize(i);return n.rotation===j.PdfRotationAngle.angle90?(o.x=this.convertPixelToPoint(e.y),o.y=this.convertPixelToPoint(i.width-e.x-e.width)):n.rotation===j.PdfRotationAngle.angle180?(o.x=this.convertPixelToPoint(i.width-e.x-e.width),o.y=this.convertPixelToPoint(i.height-e.y-e.height)):n.rotation===j.PdfRotationAngle.angle270?(o.x=this.convertPixelToPoint(i.height-e.y-e.height),o.y=this.convertPixelToPoint(e.x)):(o.x=this.convertPixelToPoint(e.x),o.y=this.convertPixelToPoint(e.y)),o},V.prototype.setMeasurementUnit=function(e){var t;switch(e){case"cm":t=j.PdfMeasurementUnit.centimeter;break;case"in":t=j.PdfMeasurementUnit.inch;break;case"mm":t=j.PdfMeasurementUnit.millimeter;break;case"pt":t=j.PdfMeasurementUnit.point;break;case"p":t=j.PdfMeasurementUnit.pica}return t},V.prototype.getRubberStampRotateAngle=function(e,t){var i=j.PdfRotationAngle.angle0;switch(t){case 0:i=j.PdfRotationAngle.angle0;break;case 90:i=j.PdfRotationAngle.angle90;break;case 180:i=j.PdfRotationAngle.angle180;break;case 270:i=j.PdfRotationAngle.angle270}return i=(e-i+4)%4},V.prototype.getFontFamily=function(e){var t=j.PdfFontFamily.helvetica;switch(e=G.isNullOrUndefined(e)||""===e?"Helvetica":e){case"Helvetica":t=j.PdfFontFamily.helvetica;break;case"Courier":t=j.PdfFontFamily.courier;break;case"Times New Roman":t=j.PdfFontFamily.timesRoman;break;case"Symbol":t=j.PdfFontFamily.symbol;break;case"ZapfDingbats":t=j.PdfFontFamily.zapfDingbats}return t},V.prototype.getFontStyle=function(e){var t=j.PdfFontStyle.regular;return G.isNullOrUndefined(e)||(e.isBold&&(t|=j.PdfFontStyle.bold),e.isItalic&&(t|=j.PdfFontStyle.italic),e.isStrikeout&&(t|=j.PdfFontStyle.strikeout),e.isUnderline&&(t|=j.PdfFontStyle.underline)),t},V.prototype.getPdfTextAlignment=function(e){var t=j.PdfTextAlignment.left;switch(e){case"center":t=j.PdfTextAlignment.center;break;case"right":t=j.PdfTextAlignment.right;break;case"justify":t=j.PdfTextAlignment.justify}return t},V.prototype.drawStampAsPath=function(e,t,i,n){for(var o={x:0,y:0},r=new j.PdfPath,a=e,s=0;s<a.length;s++){var l,A,d=a[parseInt(s.toString(),10)],p=d.command.toString();"M"===p&&(r.startFigure(),o={x:d.x,y:d.y}),"L"===p&&(l=[o,{x:d.x,y:d.y}],this.transformPoints(l),l=[{x:l[0].x,y:l[0].y},{x:l[1].x,y:l[1].y}],r.addLine(this.convertPixelToPoint(l[0].x),this.convertPixelToPoint(l[0].y),this.convertPixelToPoint(l[1].x),this.convertPixelToPoint(l[1].y)),o={x:d.x,y:d.y}),"C"===p&&(l=[o,{x:d.x,y:d.y},{x:d.x1,y:d.y1},{x:d.x2,y:d.y2}],this.transformPoints(l),A=[{x:l[0].x,y:l[0].y},{x:l[1].x,y:l[1].y},{x:l[2].x,y:l[2].y},{x:l[3].x,y:l[3].y}],r.addBezier(this.convertPixelToPoint(A[0].x),this.convertPixelToPoint(A[0].y),this.convertPixelToPoint(A[1].x),this.convertPixelToPoint(A[1].y),this.convertPixelToPoint(A[2].x),this.convertPixelToPoint(A[2].y),this.convertPixelToPoint(A[3].x),this.convertPixelToPoint(A[3].y)),o={x:d.x,y:d.y}),"Z"!==p&&"z"!==p||r.closeFigure()}return r},V.prototype.transformPoints=function(e){if(!G.isNullOrUndefined(e))for(var t=0;t<e.length;t++)e[parseInt(t.toString(),10)]=this.transform(e[parseInt(t.toString(),10)])},V.prototype.transform=function(e){return{x:e.x,y:e.y}},V.prototype.getIconName=function(e,t,i){var n=!0;switch(t.trim()){case"Approved":i.icon=j.PdfRubberStampAnnotationIcon.approved;break;case"Confidential":i.icon=j.PdfRubberStampAnnotationIcon.confidential;break;case"Not Approved":i.icon=j.PdfRubberStampAnnotationIcon.notApproved;break;case"Draft":i.icon=j.PdfRubberStampAnnotationIcon.draft;break;case"Final":i.icon=j.PdfRubberStampAnnotationIcon.final;break;case"Completed":i.icon=j.PdfRubberStampAnnotationIcon.completed;break;case"For Public Release":i.icon=j.PdfRubberStampAnnotationIcon.forPublicRelease;break;case"Not For Public Release":i.icon=j.PdfRubberStampAnnotationIcon.notForPublicRelease;break;case"For Comment":i.icon=j.PdfRubberStampAnnotationIcon.forComment;break;case"Void":i.icon=j.PdfRubberStampAnnotationIcon.void;break;case"Preliminary Results":i.icon=j.PdfRubberStampAnnotationIcon.preliminaryResults;break;case"Information Only":i.icon=j.PdfRubberStampAnnotationIcon.informationOnly;break;default:n=!1}return n},V.prototype.addCircleMeasurementAnnotation=function(e,t){var i=JSON.parse(e.bounds),n=this.getCropBoxValue(t,!1),o=this.convertPixelToPoint(i.left),r=this.convertPixelToPoint(i.top),a=this.convertPixelToPoint(i.width),s=this.convertPixelToPoint(i.height),i=(G.isNullOrUndefined(i.left)&&(e.bounds.left=0),G.isNullOrUndefined(i.top)&&(e.bounds.top=0),0),l=0,A=((0!==n.x&&0!==n.y&&n.x===o||0===n.x&&t.cropBox[2]===t.size[0]&&n.y===t.size[1])&&(i=n.x,l=n.y),new j.PdfCircleAnnotation(i+o,l+r,a,s)),l=(G.isNullOrUndefined(e.note)||(A.text=e.note.toString()),A.author=G.isNullOrUndefined(e.author)||""===e.author.toString()?"Guest":e.author.toString(),A._dictionary.set("NM",e.annotName.toString()),G.isNullOrUndefined(e.subject)||(A.subject=e.subject.toString()),G.isNullOrUndefined(e.strokeColor)||(n=[(t=JSON.parse(e.strokeColor)).r,t.g,t.b],A.color=n),G.isNullOrUndefined(e.fillColor)||(i=JSON.parse(e.fillColor),this.isTransparentColor(i)||(o=[i.r,i.g,i.b],A.innerColor=o),i.a<1&&0<i.a?(A._dictionary.update("FillOpacity",i.a),i.a=1):A._dictionary.update("FillOpacity",i.a)),G.isNullOrUndefined(e.opacity)||(A.opacity=e.opacity),new j.PdfAnnotationBorder),d=(l.width=e.thickness,l.style=e.borderStyle,l.dash=e.borderDashArray,A.border=l,A.rotationAngle=this.getRotateAngle(e.rotateAngle),G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(r=new Date(Date.parse(e.modifiedDate)),A.modifiedDate=r),e.comments);if(0<d.length)for(var p=0;p<d.length;p++)A.comments.add(this.addCommentsCollection(d[parseInt(p.toString(),10)],A.bounds));a=e.review,A.reviewHistory.add(this.addReviewCollections(a,A.bounds)),!G.isNullOrUndefined(e.isCloudShape)&&e.isCloudShape&&((s=new j.PdfBorderEffect).style=j.PdfBorderEffectStyle.cloudy,s.intensity=e.cloudIntensity,A._borderEffect=s,0<(t=JSON.parse(e.rectangleDifference)).length)&&(n=this.getRDValues(t),A._dictionary.update("RD",n)),this.preserveIsLockProperty(e,A),A.measureType=j.PdfCircleMeasurementType.radius,o=JSON.parse(e.calibrate);return G.isNullOrUndefined(o)||A._dictionary.set("Measure",this.setMeasureDictionary(o)),G.isNullOrUndefined(e.customData)||A.setValues("CustomData",JSON.stringify(e.customData)),A.setAppearance(!0),A},V.prototype.setMeasureDictionary=function(e){var t,i=new j._PdfDictionary;return i.set("Type","Measure"),i.set("R",e.ratio),G.isNullOrUndefined(e.x)||(t=this.createNumberFormat(e.x),i.set("X",t)),G.isNullOrUndefined(e.distance)||(t=this.createNumberFormat(JSON.parse(e.distance)),i.set("D",t)),G.isNullOrUndefined(e.area)||(t=this.createNumberFormat(JSON.parse(e.area)),i.set("A",t)),G.isNullOrUndefined(e.angle)||(t=this.createNumberFormat(JSON.parse(e.angle)),i.set("T",t)),G.isNullOrUndefined(e.volume)||(t=this.createNumberFormat(JSON.parse(e.volume)),i.set("V",t)),i},V.prototype.createNumberFormat=function(e){var t=[];if(!G.isNullOrUndefined(e)&&0!==e.length){for(var i=0;i<e.length;i++){var n=new j._PdfDictionary,o=e[parseInt(i.toString(),10)];n.set("Type","NumberFormat"),n.set("U",o.unit),n.set("F",o.fractionalType),n.set("D",o.denominator),n.set("C",o.conversionFactor),n.set("FD",o.formatDenominator),t.push(n)}return t}},V.prototype.checkAnnotationLock=function(e){var t=!1;return t=G.isNullOrUndefined(e.annotationSettings)||(e=e.annotationSettings,G.isNullOrUndefined(e.isLock))?t:e.isLock},V.prototype.getSaveVertexPoints=function(e,t){for(var i=t.size[1],n=[],o=0;o<e.length;o++){var r=this.convertPixelToPoint(e[parseInt(o.toString(),10)].x),r=(n.push(r),i-this.convertPixelToPoint(e[parseInt(o.toString(),10)].y));n.push(r)}return n},V.prototype.getLineEndingStyle=function(e){var t=j.PdfLineEndingStyle.none;switch(e){case"Square":t=j.PdfLineEndingStyle.square;break;case"ClosedArrow":case"Closed":t=j.PdfLineEndingStyle.closedArrow;break;case"RClosedArrow":t=j.PdfLineEndingStyle.rClosedArrow;break;case"OpenArrow":case"Open":t=j.PdfLineEndingStyle.openArrow;break;case"ROpenArrow":t=j.PdfLineEndingStyle.rOpenArrow;break;case"Butt":t=j.PdfLineEndingStyle.butt;break;case"Circle":case"Round":t=j.PdfLineEndingStyle.circle;break;case"Diamond":t=j.PdfLineEndingStyle.diamond;break;case"Slash":t=j.PdfLineEndingStyle.slash}return t},V.prototype.getCaptionType=function(e){var t=j.PdfLineCaptionType.inline;switch(e){case"Inline":t=j.PdfLineCaptionType.inline;break;case"Top":t=j.PdfLineCaptionType.top}return t},V.prototype.addReviewCollections=function(e,t){t=new j.PdfPopupAnnotation(null,t.x,t.y,t.width,t.height);return null!=e.state&&(t.state=this.getReviewState(e.state.toString()),t.stateModel=j.PdfAnnotationStateModel.review),t},V.prototype.addCommentsCollection=function(e,t){var i=new j.PdfPopupAnnotation,n=(i.text=e.note,i.author=e.author,i.subject=e.subject,G.isNullOrUndefined(e.note)?i._annotFlags=j.PdfAnnotationFlag.print:i.text=e.note.toString(),e.review);return i.reviewHistory.add(this.addReviewCollections(n,t)),G.isNullOrUndefined(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(n=new Date(Date.parse(e.modifiedDate)),i.modifiedDate=n),G.isNullOrUndefined(e.annotName)||i._dictionary.set("NM",e.annotName.toString()),i},V.prototype.getReviewState=function(e){var t;switch(e){case"Accepted":t=j.PdfAnnotationState.accepted;break;case"Cancelled":t=j.PdfAnnotationState.cancel;break;case"Completed":t=j.PdfAnnotationState.completed;break;case"Rejected":t=j.PdfAnnotationState.rejected;break;case"None":t=j.PdfAnnotationState.none;break;default:t=j.PdfAnnotationState.unmarked}return t},V.prototype.convertPixelToPoint=function(e){return 72*e/96},V.prototype.convertPointToPixel=function(e){return 96*e/72},V.prototype.isTransparentColor=function(e){return e&&0===e.a},V.prototype.getRDValues=function(e){for(var t=[],i=0;i<e.length;i++)t.push(parseFloat(e[parseInt(i.toString(),10)]));return t},V.prototype.getRotateAngle=function(e){var t=j.PdfRotationAngle.angle0;switch(e){case"RotateAngle0":t=j.PdfRotationAngle.angle0;break;case"RotateAngle180":t=j.PdfRotationAngle.angle180;break;case"RotateAngle270":t=j.PdfRotationAngle.angle270;break;case"RotateAngle90":t=j.PdfRotationAngle.angle90}return t},V.prototype.getInkRotateAngle=function(e){var t=0;switch(e){case"0":t=0;break;case"1":t=-90;break;case"2":t=-180;break;case"3":t=-270}return t},V.prototype.loadSignature=function(e,t,i,n,o,r){var a=new hs,s="";if(!G.isNullOrUndefined(e.inkPointsCollection))for(var l=0;l<e.inkPointsCollection.length;l++)for(var A=e.inkPointsCollection[parseInt(l.toString(),10)],d=0;d<A.length;d+=2){var p=void 0,h=void 0,h=e._page.rotation===j.PdfRotationAngle.angle90?(p=A[d+1],A[parseInt(d.toString(),10)]):e._page.rotation===j.PdfRotationAngle.angle180?(p=e._page.size[0]-A[parseInt(d.toString(),10)],A[d+1]):e._page.rotation===j.PdfRotationAngle.angle270?(p=e._page.size[0]-A[d+1],e._page.size[1]-A[parseInt(d.toString(),10)]):(p=A[parseInt(d.toString(),10)],e._page.size[1]-A[d+1]);s+=0===d?"M"+p+","+h+" ":"L"+p+","+h+" "}return a.AnnotationType="Signature",a.Bounds=this.getBounds(e.bounds,t,i,n),a.Opacity=e.opacity,a.Thickness=e.border.width,a.PathData=s,a.StrokeColor="rgba("+e.color[0]+","+e.color[1]+","+e.color[2]+","+(e.color[3]||1)+")",a.PageNumber=o,a.SignatureName=e.name,a},V.prototype.loadInkAnnotation=function(e,t,i,n,o,r){var a=new As,s="";if(!G.isNullOrUndefined(e.inkPointsCollection))for(var l=0;l<e.inkPointsCollection.length;l++)for(var A=e.inkPointsCollection[parseInt(l.toString(),10)],d=0;d<A.length;d+=2){var p=void 0,h=void 0,h=e._page.rotation===j.PdfRotationAngle.angle90?(p=A[d+1],A[parseInt(d.toString(),10)]):e._page.rotation===j.PdfRotationAngle.angle180?(p=e._page.size[0]-A[parseInt(d.toString(),10)],A[d+1]):e._page.rotation===j.PdfRotationAngle.angle270?(p=e._page.size[0]-A[d+1],e._page.size[1]-A[parseInt(d.toString(),10)]):(p=A[parseInt(d.toString(),10)],e._page.size[1]-A[d+1]);s+=0===d?"M"+p+","+h+" ":"L"+p+","+h+" "}a.Author=e.author,a.Subject=e.subject,G.isNullOrUndefined(e.modifiedDate)?a.ModifiedDate=this.formatDate(new Date):a.ModifiedDate=this.formatDate(e.modifiedDate),a.Note=this.getValidNoteContent(e.text);for(var c=0;c<e.reviewHistory.count;c++)a.State=this.getStateString(e.reviewHistory.at(parseInt(c.toString(),10)).state),a.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(c.toString(),10)).stateModel);(G.isNullOrUndefined(a.State)||G.isNullOrUndefined(a.StateModel))&&(a.State="Unmarked",a.StateModel="None"),a.Comments=new Array;for(c=0;c<e.comments.count;c++){var g=this.loadPopupAnnotation(e.comments.at(c),t,i,n);a.Comments.push(g)}return this.updateIsLockProperty(a,e),a.AnnotationType="Ink",a.AnnotType="Ink",a.Bounds=this.getBounds(e.bounds,t,i,n),e.bounds.y<0&&(r=new J.Rect(e.bounds.x,r.cropBox[1]+e.bounds.y,e.bounds.width,e.bounds.height),a.Bounds=this.getBounds(r,t,i,n)),a.Opacity=e.opacity,a.Thickness=e.border.width,a.PathData=s,a.StrokeColor="rgba("+e.color[0]+","+e.color[1]+","+e.color[2]+","+(e.color[3]||1)+")",a.PageNumber=o,a.AnnotName=e.name,e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&null!=(r=e._dictionary.get("CustomData"))&&(a.ExistingCustomData=r),a},V.prototype.loadSquareAnnotation=function(e,t,i,n,o){var r=new ds;r.ShapeAnnotationType="Square",r.Author=e.author,r.AnnotName=e.name,r.Subject=e.subject,G.isNullOrUndefined(e.modifiedDate)?r.ModifiedDate=this.formatDate(new Date):r.ModifiedDate=this.formatDate(e.modifiedDate),r.Note=this.getValidNoteContent(e.text),r.Thickness=e.border.width,r.BorderStyle=this.getBorderStylesString(e.border.style),r.BorderDashArray=e.border.dash&&e.border.dash[0]||0,r.Opacity=e.opacity,r.RotateAngle=this.getRotateAngleString(e.rotate),r.AnnotType="shape";for(var a=0;a<e.reviewHistory.count;a++)r.State=this.getStateString(e.reviewHistory.at(parseInt(a.toString(),10)).state),r.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(a.toString(),10)).stateModel);(G.isNullOrUndefined(r.State)||G.isNullOrUndefined(r.StateModel))&&(r.State="Unmarked",r.StateModel="None"),r.Comments=new Array;for(a=0;a<e.comments.count;a++){var s=this.loadPopupAnnotation(e.comments.at(a),t,i,n);r.Comments.push(s)}r.Bounds=this.getBounds(e.bounds,t,i,n),r.LineHeadStart="None",r.LineHeadEnd="None",!G.isNullOrUndefined(e.borderEffect)&&e.borderEffect.style===j.PdfBorderEffectStyle.cloudy?(r.IsCloudShape=!0,r.CloudIntensity=e.borderEffect.intensity):(r.IsCloudShape=!1,r.CloudIntensity=0),e._dictionary.has("RD")&&!G.isNullOrUndefined(e._dictionary.get("RD"))?r.RectangleDifference=e._dictionary.get("RD"):r.RectangleDifference=new Array,this.updateIsLockProperty(r,e),e._dictionary.has("AllowedInteractions")&&(l=e.getValues("AllowedInteractions")[0],r.AllowedInteractions=JSON.parse(l)),r.StrokeColor=G.isNullOrUndefined(e.color)?"rgba(0,0,0,1)":"rgba("+e.color[0]+","+e.color[1]+","+e.color[2]+","+(e.color[3]||1)+")";var l=!G.isNullOrUndefined(e.color)&&e.color[3]?e.color[3]:1;return e._dictionary.has("FillOpacity")&&!G.isNullOrUndefined(e._dictionary.get("FillOpacity"))&&(l=parseInt(e._dictionary.get("FillOpacity").toString(),10)),l=e.innerColor?l:0,e.innerColor=e.innerColor||[255,255,255],r.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+l+")",r.EnableShapeLabel=!1,null!=o&&(r.EnableShapeLabel=!0,r.LabelContent=o.text,r.LabelFillColor="rgba("+o.color[0]+","+o.color[1]+","+o.color[2]+","+(o.color[3]||1)+")",r.FontColor="rgba("+o.textMarkUpColor[0]+","+o.textMarkUpColor[1]+","+o.textMarkUpColor[2]+","+(o.textMarkUpColor[3]||1)+")",r.LabelBorderColor="rgba("+o.borderColor[0]+","+o.borderColor[1]+","+o.borderColor[2]+","+(o.borderColor[3]||1)+")",r.FontSize=o.font.size),e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&null!=(l=e._dictionary.get("CustomData"))&&(r.ExistingCustomData=l),r},V.prototype.loadLineAnnotation=function(e,t,i,n,o){var r=new ds;r.ShapeAnnotationType="Line",r.Author=e.author,r.AnnotName=e.name,r.Subject=e.subject,G.isNullOrUndefined(e.modifiedDate)?r.ModifiedDate=this.formatDate(new Date):r.ModifiedDate=this.formatDate(e.modifiedDate),r.Note=this.getValidNoteContent(e.text),r.Thickness=e.border.width,r.BorderStyle=this.getBorderStylesString(e.border.style),r.BorderDashArray=e.border.dash&&e.border.dash[0]||0,r.Opacity=e.opacity,r.RotateAngle=this.getRotateAngleString(e.rotate),r.AnnotType="shape",r.EnableShapeLabel=!1,null!=o&&(r.EnableShapeLabel=!0,r.LabelContent=o.text,r.LabelFillColor="rgba("+o.color[0]+","+o.color[1]+","+o.color[2]+","+(o.color[3]||1)+")",r.FontColor="rgba("+o.textMarkUpColor[0]+","+o.textMarkUpColor[1]+","+o.textMarkUpColor[2]+","+(o.textMarkUpColor[3]||1)+")",r.LabelBorderColor="rgba("+o.borderColor[0]+","+o.borderColor[1]+","+o.borderColor[2]+","+(o.borderColor[3]||1)+")",r.FontSize=o.font.size);for(var a=0;a<e.reviewHistory.count;a++)r.State=this.getStateString(e.reviewHistory.at(parseInt(a.toString(),10)).state),r.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(a.toString(),10)).stateModel);(G.isNullOrUndefined(r.State)||G.isNullOrUndefined(r.StateModel))&&(r.State="Unmarked",r.StateModel="None"),r.Comments=new Array;for(a=0;a<e.comments.count;a++){var s=this.loadPopupAnnotation(e.comments.at(a),t,i,n);r.Comments.push(s)}r.Bounds=this.getBounds(e.bounds,t,i,n),r.LineHeadStart=this.getLineEndingStyleString(e.lineEndingStyle.begin),r.LineHeadEnd=this.getLineEndingStyleString(e.lineEndingStyle.end),!G.isNullOrUndefined(e._borderEffect)&&e._borderEffect.style===j.PdfBorderEffectStyle.cloudy?(r.IsCloudShape=!0,r.CloudIntensity=e._borderEffect.intensity):(r.IsCloudShape=!1,r.CloudIntensity=0),r.VertexPoints=this.getLinePoints(e.linePoints,t,i,n,e._page),e._dictionary.has("RD")&&!G.isNullOrUndefined(e._dictionary.get("RD"))?r.RectangleDifference=e._dictionary.get("RD"):r.RectangleDifference=new Array,this.updateIsLockProperty(r,e),e._dictionary.has("AllowedInteractions")&&(o=e.getValues("AllowedInteractions")[0],r.AllowedInteractions=JSON.parse(o));var l,o=G.isNullOrUndefined(e.color)?[0,0,0]:e.color,o=(r.StrokeColor="rgba("+o[0]+","+o[1]+","+o[2]+","+(o[3]||1)+")",e.color&&e.color[3]?e.color[3]:1);return e._dictionary.has("FillOpacity")&&!G.isNullOrUndefined(e._dictionary.get("FillOpacity"))&&(o=parseInt(e._dictionary.get("FillOpacity").toString(),10)),o=e.innerColor?o:0,e.innerColor=e.innerColor||[255,255,255],r.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+o+")",e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&null!=(l=e._dictionary.get("CustomData"))&&(r.ExistingCustomData=l),e.lineIntent!==j.PdfLineIntent.lineArrow&&e._dictionary.has("Measure")?(o=new ps(r),e._dictionary.has("Measure")&&(o.Calibrate=this.getMeasureObject(e)),o.Indent=e.lineIntent.toString(),o.Caption=e.caption.cap,o.LeaderLength=e.leaderExt,o.LeaderLineExtension=e.leaderLine,o.ExistingCustomData=r.ExistingCustomData,e._dictionary.has("LLO")?o.LeaderLineOffset=e._dictionary.get("LLO"):o.LeaderLineOffset=0,o.CaptionPosition=e.caption.type.toString(),e.flags===j.PdfAnnotationFlag.readOnly?o.IsCommentLock=!0:o.IsCommentLock=!1,e.flags===j.PdfAnnotationFlag.print&&(o.IsPrint=!0),e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&null!=(l=e._dictionary.get("CustomData"))&&(o.ExistingCustomData=l),o):r},V.prototype.getLinePoints=function(e,t,i,n,o){var r=[],a=new ms(e[0],e[1]),s=new ms(e[2],e[3]),l=this.getBothCropBoxValue(o),A=0,d=0;return 0===l[0]&&o.cropBox[2]===o.size[2]&&l[1]===o.size[3]||(A=l[0],d=l[1]),0===n?(a={X:this.convertPointToPixel(e[0])-this.convertPointToPixel(A),Y:t-this.convertPointToPixel(e[1])+this.convertPointToPixel(d)},s={X:this.convertPointToPixel(e[2])-this.convertPointToPixel(A),Y:t-this.convertPointToPixel(e[3])+this.convertPointToPixel(d)}):1===n?(a={X:this.convertPointToPixel(e[1]),Y:this.convertPointToPixel(e[0])},s={X:this.convertPointToPixel(e[3]),Y:this.convertPointToPixel(e[2])}):2===n?(a={X:i-this.convertPointToPixel(e[0]),Y:this.convertPointToPixel(e[1])},s={X:i-this.convertPointToPixel(e[2]),Y:this.convertPointToPixel(e[3])}):3===n&&(a={X:i-this.convertPointToPixel(e[1]),Y:t-this.convertPointToPixel(e[0])},s={X:i-this.convertPointToPixel(e[3]),Y:t-this.convertPointToPixel(e[2])}),r.push(a),r.push(s),r},V.prototype.loadEllipseAnnotation=function(e,t,i,n,o){var r=new ds;r.ShapeAnnotationType="Circle",r.Author=e.author,r.AnnotName=e.name,r.Subject=e.subject,G.isNullOrUndefined(e.modifiedDate)?r.ModifiedDate=this.formatDate(new Date):r.ModifiedDate=this.formatDate(e.modifiedDate),r.Note=this.getValidNoteContent(e.text),r.Thickness=e.border.width,r.BorderStyle=this.getBorderStylesString(e.border.style),r.BorderDashArray=e.border.dash&&e.border.dash[0]||0,r.Opacity=e.opacity,r.RotateAngle=this.getRotateAngleString(e.rotate),r.AnnotType="shape";for(var a=0;a<e.reviewHistory.count;a++)r.State=this.getStateString(e.reviewHistory.at(parseInt(a.toString(),10)).state),r.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(a.toString(),10)).stateModel);(G.isNullOrUndefined(r.State)||G.isNullOrUndefined(r.StateModel))&&(r.State="Unmarked",r.StateModel="None"),r.Comments=new Array;for(a=0;a<e.comments.count;a++){var s=this.loadPopupAnnotation(e.comments.at(a),t,i,n);r.Comments.push(s)}r.Bounds=this.getBounds(e.bounds,t,i,n),r.LineHeadStart="None",r.LineHeadEnd="None",!G.isNullOrUndefined(e._borderEffect)&&e._borderEffect.style===j.PdfBorderEffectStyle.cloudy?(r.IsCloudShape=!0,r.CloudIntensity=e._borderEffect.intensity):(r.IsCloudShape=!1,r.CloudIntensity=0),e._dictionary.has("RD")&&!G.isNullOrUndefined(e._dictionary.get("RD"))?r.RectangleDifference=e._dictionary.get("RD"):r.RectangleDifference=new Array,this.updateIsLockProperty(r,e),e._dictionary.has("AllowedInteractions")&&(A=e.getValues("AllowedInteractions")[0],r.AllowedInteractions=JSON.parse(A)),r.StrokeColor="rgba("+e.color[0]+","+e.color[1]+","+e.color[2]+","+(e.color[3]||1)+")";var l,A=e.color[3]||1;return e._dictionary.has("FillOpacity")&&!G.isNullOrUndefined(e._dictionary.get("FillOpacity"))&&(A=parseInt(e._dictionary.get("FillOpacity").toString(),10)),A=e.innerColor?A:0,e.innerColor=e.innerColor||[255,255,255],r.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+A+")",r.EnableShapeLabel=!1,null!=o&&(r.EnableShapeLabel=!0,r.LabelContent=o.text,r.LabelFillColor="rgba("+o.color[0]+","+o.color[1]+","+o.color[2]+","+(o.color[3]||1)+")",r.FontColor="rgba("+o.textMarkUpColor[0]+","+o.textMarkUpColor[1]+","+o.textMarkUpColor[2]+","+(o.textMarkUpColor[3]||1)+")",r.LabelBorderColor="rgba("+o.borderColor[0]+","+o.borderColor[1]+","+o.borderColor[2]+","+(o.borderColor[3]||1)+")",r.FontSize=o.font.size),e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&null!=(l=e._dictionary.get("CustomData"))&&(r.ExistingCustomData=l),e._dictionary.has("Measure")?(r.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+A+")",(o=new ps(r)).Calibrate=this.getMeasureObject(e),e._dictionary.has("IT")?o.Indent=e._dictionary.get("IT"):o.Indent="PolyLineDimension",o.Caption=!1,o.LeaderLength=0,o.LeaderLineExtension=0,o.LeaderLineOffset=0,o.CaptionPosition="",e.flags===j.PdfAnnotationFlag.readOnly?o.IsCommentLock=!0:o.IsCommentLock=!1,e.flags===j.PdfAnnotationFlag.print&&(o.IsPrint=!0),e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&null!=(l=e._dictionary.get("CustomData"))&&(o.ExistingCustomData=l),o):r},V.prototype.loadPolygonAnnotation=function(e,t,i,n,o){var r=new ds;r.ShapeAnnotationType="Polygon",r.Author=e.author,r.AnnotName=e.name,r.Subject=e.subject,G.isNullOrUndefined(e.modifiedDate)?r.ModifiedDate=this.formatDate(new Date):r.ModifiedDate=this.formatDate(e.modifiedDate),r.Note=this.getValidNoteContent(e.text),r.Thickness=e.border.width,r.BorderStyle=this.getBorderStylesString(e.border.style),r.BorderDashArray=e.border.dash&&e.border.dash[0]||0,r.Opacity=e.opacity,r.RotateAngle=this.getRotateAngleString(e.rotate),r.AnnotType="shape";for(var a=0;a<e.reviewHistory.count;a++)r.State=this.getStateString(e.reviewHistory.at(parseInt(a.toString(),10)).state),r.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(a.toString(),10)).stateModel);(G.isNullOrUndefined(r.State)||G.isNullOrUndefined(r.StateModel))&&(r.State="Unmarked",r.StateModel="None"),r.Comments=new Array;for(a=0;a<e.comments.count;a++){var s=this.loadPopupAnnotation(e.comments.at(a),t,i,n);r.Comments.push(s)}r.Bounds=this.getBounds(e.bounds,t,i,n),G.isNullOrUndefined(e._dictionary.get("Vertices"))||(r.VertexPoints=this.getVertexPoints(e._dictionary.get("Vertices"),i,t,n,e._page)),G.isNullOrUndefined(r.VertexPoints)||r.VertexPoints[0]===r.VertexPoints[r.VertexPoints.length-1]||r.VertexPoints.push(r.VertexPoints[0]),r.StrokeColor="rgba("+e.color[0]+","+e.color[1]+","+e.color[2]+","+(e.color[3]||1)+")";var l,A=e.color[3]||1;return e._dictionary.has("FillOpacity")&&!G.isNullOrUndefined(e._dictionary.get("FillOpacity"))&&(A=parseInt(e._dictionary.get("FillOpacity").toString(),10)),A=e.innerColor?A:0,e.innerColor=e.innerColor||[255,255,255],r.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+A+")",r.LineHeadStart="None",r.LineHeadEnd="None",r.EnableShapeLabel=!1,null!=o&&(r.EnableShapeLabel=!0,r.LabelContent=o.text,r.LabelFillColor="rgba("+o.color[0]+","+o.color[1]+","+o.color[2]+","+(o.color[3]||1)+")",r.FontColor="rgba("+o.textMarkUpColor[0]+","+o.textMarkUpColor[1]+","+o.textMarkUpColor[2]+","+(o.textMarkUpColor[3]||1)+")",r.LabelBorderColor="rgba("+o.borderColor[0]+","+o.borderColor[1]+","+o.borderColor[2]+","+(o.borderColor[3]||1)+")",r.FontSize=o.font.size),!G.isNullOrUndefined(e.borderEffect)&&e.borderEffect.style===j.PdfBorderEffectStyle.cloudy?(r.IsCloudShape=!0,r.CloudIntensity=e.borderEffect.intensity):(r.IsCloudShape=!1,r.CloudIntensity=0),e._dictionary.has("RD")&&!G.isNullOrUndefined(e._dictionary.get("RD"))?r.RectangleDifference=e._dictionary.get("RD"):r.RectangleDifference=new Array,this.updateIsLockProperty(r,e),e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&null!=(l=e._dictionary.get("CustomData"))&&(r.ExistingCustomData=l),e._dictionary.has("AllowedInteractions")&&(A=e.getValues("AllowedInteractions")[0],r.AllowedInteractions=JSON.parse(A)),!e._dictionary.has("Measure")||(o=new ps(r),e._dictionary.has("IT")&&!G.isNullOrUndefined(e._dictionary.get("IT"))?o.Indent=e._dictionary.get("IT").name:o.Indent="PolygonDimension",o.Calibrate=this.getMeasureObject(e),G.isNullOrUndefined(o.Calibrate))?r:("PolygonVolume"===o.Indent&&e._dictionary.has("Depth")&&!G.isNullOrUndefined(e._dictionary.get("Depth"))&&(o.Calibrate.Depth=e._dictionary.get("Depth")),o.Caption=!1,o.LeaderLength=0,o.LeaderLineExtension=0,o.LeaderLineOffset=0,o.CaptionPosition="",e.flags===j.PdfAnnotationFlag.readOnly?o.IsCommentLock=!0:o.IsCommentLock=!1,e.flags===j.PdfAnnotationFlag.print&&(o.IsPrint=!0),e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&(l=e._dictionary.get("CustomData"),G.isNullOrUndefined(l)||(o.ExistingCustomData=l)),o)},V.prototype.loadPolylineAnnotation=function(e,t,i,n,o){var r=new ds;if(r.ShapeAnnotationType="Polyline",r.Author=e.author,r.AnnotName=e.name,r.Subject=e.subject,G.isNullOrUndefined(e.modifiedDate)?r.ModifiedDate=this.formatDate(new Date):r.ModifiedDate=this.formatDate(e.modifiedDate),r.Note=this.getValidNoteContent(e.text),r.Thickness=e.border.width,r.BorderStyle=this.getBorderStylesString(e.border.style),r.BorderDashArray=e.border.dash&&e.border.dash[0]||0,r.Opacity=e.opacity,r.RotateAngle=this.getRotateAngleString(e.rotate),r.AnnotType="shape",!G.isNullOrUndefined(e.reviewHistory))for(var a=0;a<e.reviewHistory.count;a++)r.State=this.getStateString(e.reviewHistory.at(parseInt(a.toString(),10)).state),r.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(a.toString(),10)).stateModel);if((G.isNullOrUndefined(r.State)||G.isNullOrUndefined(r.StateModel))&&(r.State="Unmarked",r.StateModel="None"),r.Comments=new Array,!G.isNullOrUndefined(e.comments))for(a=0;a<e.comments.count;a++){var s=this.loadPopupAnnotation(e.comments.at(a),t,i,n);r.Comments.push(s)}r.Bounds=this.getBounds(e.bounds,t,i,n),G.isNullOrUndefined(e._dictionary.get("Vertices"))||(r.VertexPoints=this.getVertexPoints(e._dictionary.get("Vertices"),i,t,n,e._page)),r.StrokeColor="rgba("+e.color[0]+","+e.color[1]+","+e.color[2]+","+(e.color[3]||1)+")";var l,A=e.color[3]||1;return e._dictionary.has("FillOpacity")&&!G.isNullOrUndefined(e._dictionary.get("FillOpacity"))&&(A=parseInt(e._dictionary.get("FillOpacity").toString(),10)),A=e.innerColor?A:0,e.innerColor=e.innerColor||[255,255,255],r.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+A+")",r.LineHeadStart=this.getLineEndingStyleString(e.beginLineStyle),r.LineHeadEnd=this.getLineEndingStyleString(e.endLineStyle),r.EnableShapeLabel=!1,null!=o&&(r.EnableShapeLabel=!0,r.LabelContent=o.text,r.LabelFillColor="rgba("+o.color[0]+","+o.color[1]+","+o.color[2]+","+(o.color[3]||1)+")",r.FontColor="rgba("+o.textMarkUpColor[0]+","+o.textMarkUpColor[1]+","+o.textMarkUpColor[2]+","+(o.textMarkUpColor[3]||1)+")",r.LabelBorderColor="rgba("+o.borderColor[0]+","+o.borderColor[1]+","+o.borderColor[2]+","+(o.borderColor[3]||1)+")",r.FontSize=o.font.size),!G.isNullOrUndefined(e._borderEffect)&&e._borderEffect.style===j.PdfBorderEffectStyle.cloudy?(r.IsCloudShape=!0,r.CloudIntensity=e._borderEffect.intensity):(r.IsCloudShape=!1,r.CloudIntensity=0),e._dictionary.has("RD")&&!G.isNullOrUndefined(e._dictionary.get("RD"))?r.RectangleDifference=e._dictionary.get("RD"):r.RectangleDifference=new Array,this.updateIsLockProperty(r,e),e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&null!=(l=e._dictionary.get("CustomData"))&&(r.ExistingCustomData=l),e._dictionary.has("AllowedInteractions")&&(o=e.getValues("AllowedInteractions")[0],r.AllowedInteractions=JSON.parse(o)),e._dictionary.has("Measure")?(r.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+A+")",(o=new ps(r)).Calibrate=this.getMeasureObject(e),e._dictionary.has("IT")?o.Indent=e._dictionary.get("IT").name:o.Indent="PolyLineDimension",o.Caption=!1,o.LeaderLength=0,o.LeaderLineExtension=0,o.LeaderLineOffset=0,o.CaptionPosition="",e.flags===j.PdfAnnotationFlag.readOnly?o.IsCommentLock=!0:o.IsCommentLock=!1,e.flags===j.PdfAnnotationFlag.print&&(o.IsPrint=!0),e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&null!=(l=e._dictionary.get("CustomData"))&&(o.ExistingCustomData=l),o):r},V.prototype.loadSignatureImage=function(e,t){var i,n=e,o=new hs,r=(o.SignatureName=n.name,e._dictionary.get("AP"));return null!==(r=null===r&&null!==(i=e._dictionary.get("AP"))&&null!==i.Object?i.Object:r)&&r.has("N")&&this.m_renderer.findStampImage(e),o.Bounds=new J.Rect(n.bounds.x,n.bounds.y,n.bounds.width,n.bounds.height),o.PathData=this.m_renderer.imageData,o.AnnotationType="SignatureImage",o.PageNumber=t,o.Opacity=n.opacity,o.StrokeColor="rgba("+n.color+","+n.color[1]+","+n.color[2]+","+(n.color[3]||1)+")",o},V.prototype.getMeasureObject=function(e){var t,i,n,o,r,a,s=new cs;return(t=e._dictionary.has("Measure")?e._dictionary.get("Measure"):t).has("R")?(s.Ratio=t.get("R"),t.has("X")&&(i=this.getMeasureValues(t.getArray("X"))),s.X=i,t.has("D")&&(n=this.getMeasureValues(t.getArray("D"))),s.Distance=n,t.has("A")&&(o=this.getMeasureValues(t.getArray("A"))),s.Area=o,t.has("T")&&(r=this.getMeasureValues(t.getArray("T"))),s.Angle=r,t.has("V")&&(a=this.getMeasureValues(t.getArray("V"))),s.Volume=a,!G.isNullOrUndefined(t)&&t.has("TargetUnitConversion")?s.TargetUnitConversion=t.get("TargetUnitConversion").FloatValue:s.TargetUnitConversion=0,s):null},V.prototype.getMeasureValues=function(e){var t=new Array;if(!G.isNullOrUndefined(e))for(var i=0;i<e.length;i++){var n,o=e[parseInt(i.toString(),10)],r=new gs;G.isNullOrUndefined(o)||(o.has("D")&&!G.isNullOrUndefined(o.get("D"))&&(r.Denominator=o.get("D")),o.has("C")&&!G.isNullOrUndefined(o.get("C"))&&(r.ConversionFactor=o.get("C")),o.has("F")&&!G.isNullOrUndefined(o.get("F"))?"object"!=typeof(n=o.get("F"))||G.isNullOrUndefined(n.name)||(r.FractionalType=n.name):r.FractionalType="D",o.has("FD")&&!G.isNullOrUndefined(o.get("FD"))&&(r.FormatDenominator=o.get("FD")),o.has("U")&&!G.isNullOrUndefined(o.get("U"))&&(r.Unit=o.get("U"))),t.push(r)}return t},V.prototype.getVertexPoints=function(e,t,i,n,o){var r=[],a=this.getBothCropBoxValue(o),s=0,l=0;if(0===a[0]&&o.cropBox[2]===o.size[2]&&a[1]===o.size[3]||(s=a[0],l=a[1]),0===n)for(var A=0;A<e.length;A++){var d={X:this.convertPointToPixel(e[parseInt(A.toString(),10)])-this.convertPointToPixel(s),Y:i-this.convertPointToPixel(e[A+1])+this.convertPointToPixel(l)};A+=1,r.push(d)}else if(1===n)for(A=0;A<e.length;A++){d={X:this.convertPointToPixel(e[A+1]),Y:this.convertPointToPixel(e[parseInt(A.toString(),10)])};A+=1,r.push(d)}else if(2===n)for(A=0;A<e.length;A++){d={X:t-this.convertPointToPixel(e[parseInt(A.toString(),10)]),Y:this.convertPointToPixel(e[A+1])};A+=1,r.push(d)}else if(3===n)for(A=0;A<e.length;A++){d={X:t-this.convertPointToPixel(e[A+1]),Y:i-this.convertPointToPixel(e[parseInt(A.toString(),10)])};A+=1,r.push(d)}return r},V.prototype.getLineIndentString=function(e){switch(e){case j.PdfLineIntent.lineArrow:return"LineArrow";case j.PdfLineIntent.lineDimension:return"LineDimension"}},V.prototype.getLineEndingStyleString=function(e){switch(e){case j.PdfLineEndingStyle.none:return"None";case j.PdfLineEndingStyle.butt:return"Butt";case j.PdfLineEndingStyle.circle:return"Circle";case j.PdfLineEndingStyle.closedArrow:return"ClosedArrow";case j.PdfLineEndingStyle.diamond:return"Diamond";case j.PdfLineEndingStyle.openArrow:return"OpenArrow";case j.PdfLineEndingStyle.rClosedArrow:return"RClosedArrow";case j.PdfLineEndingStyle.rOpenArrow:return"ROpenArrow";case j.PdfLineEndingStyle.slash:return"Slash";case j.PdfLineEndingStyle.square:return"Square"}},V.prototype.getBorderStylesString=function(e){switch(e){case j.PdfBorderStyle.solid:return"Solid";case j.PdfBorderStyle.dashed:return"Dashed";case j.PdfBorderStyle.beveled:return"Beveled";case j.PdfBorderStyle.inset:return"Inset";case j.PdfBorderStyle.underline:return"Underline";case j.PdfBorderStyle.dot:return"Dot";default:return"None"}},V.prototype.getBorderStyle=function(e){var t=j.PdfBorderStyle.solid;switch(e){case"Solid":t=j.PdfBorderStyle.solid;break;case"Dashed":t=j.PdfBorderStyle.dashed;break;case"Beveled":t=j.PdfBorderStyle.beveled;break;case"Inset":t=j.PdfBorderStyle.inset;break;case"Underline":t=j.PdfBorderStyle.underline;break;case"Dot":t=j.PdfBorderStyle.dot}return t},V.prototype.getRotateAngleString=function(e){switch(e){case j.PdfRotationAngle.angle0:return"RotateAngle0";case j.PdfRotationAngle.angle90:return"RotateAngle90";case j.PdfRotationAngle.angle180:return"RotateAngle180";case j.PdfRotationAngle.angle270:return"RotateAngle270";default:return"RotateAngle0"}},V.prototype.getValidNoteContent=function(e){return G.isNullOrUndefined(e)||""===e||" "===e?"":e},V.prototype.getBounds=function(e,t,i,n){var o;return 0===n?o=new ws(this.convertPointToPixel(e.x),this.convertPointToPixel(e.y),this.convertPointToPixel(e.width),this.convertPointToPixel(e.height)):1===n?o=new ws(i-this.convertPointToPixel(e.y)-this.convertPointToPixel(e.height),this.convertPointToPixel(e.x),this.convertPointToPixel(e.height),this.convertPointToPixel(e.width)):2===n?o=new ws(i-this.convertPointToPixel(e.x)-this.convertPointToPixel(e.width),t-this.convertPointToPixel(e.y)-this.convertPointToPixel(e.height),this.convertPointToPixel(e.width),this.convertPointToPixel(e.height)):3===n&&(o=new ws(this.convertPointToPixel(e.y),t-this.convertPointToPixel(e.x)-this.convertPointToPixel(e.width),this.convertPointToPixel(e.height),this.convertPointToPixel(e.width))),o},V.prototype.loadPopupAnnotation=function(e,t,i,n){var o=new us;o.Author=e.author,o.Subject=e.subject,!e._dictionary.has("Subtype")||G.isNullOrUndefined(e._dictionary.get("Subtype"))||G.isNullOrUndefined(e._dictionary.get("Subtype").name)||(o.SubType=e._dictionary.get("Subtype").name.toString()),!e._dictionary.has("Type")||G.isNullOrUndefined(e._dictionary.get("Type"))||G.isNullOrUndefined(e._dictionary.get("Type").name)||(o.Type=e._dictionary.get("Type").name.toString()),e._dictionary.has("IRT")&&!G.isNullOrUndefined(e._dictionary.get("IRT"))&&null!=(r=e._dictionary.get("IRT"))&&(o.Reference=r.Reference),o.AnnotName=e.name,G.isNullOrUndefined(e.modifiedDate)?o.ModifiedDate=this.formatDate(new Date):o.ModifiedDate=this.formatDate(e.modifiedDate),o.Note=e.text,this.updateIsLockProperty(o,e),o.Icon=this.getPopupIconString(e.icon),o.State=this.getStateString(e.state),o.StateModel=this.getStateModelString(e.stateModel),o.Size=new es(e.bounds.width,e.bounds.height),e.color=e.color||[0,0,0],o.Color=new Bs(e.color[0],e.color[1],e.color[2]),o.Opacity=e.opacity,o.AnnotType="sticky",o.StrokeColor="rgba("+o.Color.R+","+o.Color.G+","+o.Color.B+",1)",o.Bounds=this.getBounds(e.bounds,t,i,n);for(var r,a=0;a<e.reviewHistory.count;a++)o.State=this.getStateString(e.reviewHistory.at(parseInt(a.toString(),10)).state),o.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(a.toString(),10)).stateModel);(G.isNullOrUndefined(o.State)||"None"===o.State||G.isNullOrUndefined(o.StateModel))&&(o.State="Unmarked",o.StateModel="None"),o.Comments=new Array,e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&null!=(r=e._dictionary.get("CustomData"))&&(o.ExistingCustomData=r);for(a=0;a<e.comments.count;a++)o.Comments.push(this.loadPopupAnnotation(e.comments.at(a),t,i,n));return o},V.prototype.loadFreeTextAnnotation=function(e,t,i,n,o){var r=new ls,a=(r.AnnotationIntent=this.getAnnotationIntentString(e.annotationIntent),r.AnnotationFlags=this.getAnnotationFlagsString(e.flags),r.Author=e.author,r.AnnotName=e.name,!G.isNullOrUndefined(r.AnnotName)&&""!==r.AnnotName||(r.AnnotName=Math.abs(Math.random()).toString(36).substring(2)),r.AnnotType="Text Box",r.FreeTextAnnotationType="Text Box",r.BorderColor=new Bs(e.borderColor[0],e.borderColor[1],e.borderColor[2]),r.CalloutLines=[{X:100,Y:400},{X:200,Y:400}],e.color||[0,0,0]);G.isNullOrUndefined(e.color)&&(r.IsTransparentSet=!0),r.Color=new Bs(a[0],a[1],a[2]),r.Flatten=e.flatten,r.FlattenPopups=!G.isNullOrUndefined(e.flattenPopups)&&e.flattenPopups,r.FontFamily=this.getFontFamilyString(e.font._fontFamily),r.FontSize=this.convertPointToPixel(e.font.size),r.Font=new Cs(e.font,r.FontFamily),r.Thickness=e.border.width,r.StrokeColor="rgba("+e.borderColor[0]+","+e.borderColor[1]+","+e.borderColor[2]+","+(e.borderColor[3]||1)+")",e._dictionary.has("FillOpacity")&&!G.isNullOrUndefined(e._dictionary.get("FillOpacity"))&&(l=parseInt(e._dictionary.get("FillOpacity").toString(),10)),l=e.color?G.isNullOrUndefined(l)?1:l:0,r.FillColor="rgba("+a[0]+","+a[1]+","+a[2]+","+l+")",r.Layer=e._dictionary.has("Layer")?e._dictionary.get("Layer"):null,r.Location=e._dictionary.has("Location")?e._dictionary.get("Location"):"{X="+e.bounds.x+",Y="+e.bounds.y+"}",r.MarkupText=e.text,G.isNullOrUndefined(e.modifiedDate)?r.ModifiedDate=this.formatDate(new Date):r.ModifiedDate=this.formatDate(e.modifiedDate),r.Name="freeText",r.Opacity=e.opacity,e._dictionary.has("Rotation")&&!G.isNullOrUndefined(e._dictionary.get("Rotation"))&&(r.Rotate=parseInt(e._dictionary.get("Rotation"),10)),e._dictionary.has("Rotate")&&!G.isNullOrUndefined(e._dictionary.get("Rotate"))&&(r.Rotate=parseInt(e._dictionary.get("Rotate"),10)),G.isNullOrUndefined(e.subject)?r.Subject="Text Box":r.Subject=e.subject,r.Text=e.text,r.MarkupText=e.text,r.TextAlign=this.getTextAlignmentString(e.textAlignment),(G.isNullOrUndefined(r.State)||"None"===r.State||G.isNullOrUndefined(r.StateModel))&&(r.State="Unmarked",r.StateModel="None"),r.FontColor=G.isNullOrUndefined(e.textMarkUpColor)?"rgba(0, 0, 0, 1)":"rgba("+e.textMarkUpColor[0]+","+e.textMarkUpColor[1]+","+e.textMarkUpColor[2]+","+(e.textMarkUpColor[3]||1)+")";for(var s=0;s<e.reviewHistory.count;s++)r.State=this.getStateString(e.reviewHistory.at(parseInt(s.toString(),10)).state),r.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(s.toString(),10)).stateModel);r.Comments=new Array;for(var l,s=0;s<e.comments.count;s++){var A=this.loadPopupAnnotation(e.comments.at(s),t,i,n);r.Comments.push(A)}return r.Bounds=this.getBounds(e.bounds,t,i,n),r.Bounds.Y<0&&(a={x:e.bounds.x,y:o.cropBox[1]+e.bounds.y,width:e.bounds.width,height:e.bounds.height},r.Bounds=this.getBounds(a,t,i,n)),r.PageRotation=n,this.updateIsLockProperty(r,e),e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&null!=(l=e._dictionary.get("CustomData"))&&(r.ExistingCustomData=l),e._dictionary.has("AllowedInteractions")&&(o=e.getValues("AllowedInteractions")[0],r.AllowedInteractions=JSON.parse(o)),r},V.prototype.getTextAlignmentString=function(e){switch(e){case j.PdfTextAlignment.left:return"Left";case j.PdfTextAlignment.right:return"Right";case j.PdfTextAlignment.center:return"Center";case j.PdfTextAlignment.justify:return"Justify";default:return"Left"}},V.prototype.loadSignatureText=function(e,t,i,n,o){var r=new hs;return r.SignatureName=e.name,r.Bounds=this.getBounds(e.bounds,n,i,o),r.AnnotationType="SignatureText",r.FontFamily=this.getFontFamilyString(e.font._fontFamily),r.FontSize=this.convertPointToPixel(e.font.size),r.PathData=e.text,r.PageNumber=t,r.StrokeColor="rgba("+e.textMarkUpColor[0]+","+e.textMarkUpColor[1]+","+e.textMarkUpColor[2]+","+(e.textMarkUpColor[3]||1)+")",r.Opacity=e.opacity,r.Thickness=1,r},V.prototype.getFontFamilyString=function(e){switch(e){case j.PdfFontFamily.helvetica:return"Helvetica";case j.PdfFontFamily.timesRoman:return"Times New Roman";case j.PdfFontFamily.courier:return"Courier";case j.PdfFontFamily.symbol:return"Symbol";case j.PdfFontFamily.zapfDingbats:return"ZapfDingbats";default:return"Helvetica"}},V.prototype.getAnnotationFlagsString=function(e){switch(e){case j.PdfAnnotationFlag.default:return"Default";case j.PdfAnnotationFlag.invisible:return"Invisible";case j.PdfAnnotationFlag.hidden:return"Hidden";case j.PdfAnnotationFlag.print:return"Print";case j.PdfAnnotationFlag.noZoom:return"NoZoom";case j.PdfAnnotationFlag.noRotate:return"NoRotate";case j.PdfAnnotationFlag.noView:return"NoView";case j.PdfAnnotationFlag.readOnly:return"ReadOnly";case j.PdfAnnotationFlag.locked:return"Locked";case j.PdfAnnotationFlag.toggleNoView:return"ToggleNoView";default:return"Default"}},V.prototype.getAnnotationIntentString=function(e){switch(e){case j.PdfAnnotationIntent.freeTextCallout:return"FreeTextCallout";case j.PdfAnnotationIntent.freeTextTypeWriter:return"FreeTextTypeWriter";case j.PdfAnnotationIntent.none:return"None"}},V.prototype.getStateString=function(e){switch(e){case j.PdfAnnotationState.accepted:return"Accepted";case j.PdfAnnotationState.rejected:return"Rejected";case j.PdfAnnotationState.cancel:return"Cancelled";case j.PdfAnnotationState.completed:return"Completed";case j.PdfAnnotationState.none:return"None";case j.PdfAnnotationState.unmarked:return"Unmarked";case j.PdfAnnotationState.marked:return"Marked";case j.PdfAnnotationState.unknown:return"Unknown";default:return null}},V.prototype.getStateModelString=function(e){switch(e){case j.PdfAnnotationStateModel.review:return"Review";case j.PdfAnnotationStateModel.marked:return"Marked";default:j.PdfAnnotationStateModel.none;return"None"}},V.prototype.getPopupIconString=function(e){switch(e){case j.PdfPopupIcon.comment:return"Comment";case j.PdfPopupIcon.help:return"Help";case j.PdfPopupIcon.insert:return"Insert";case j.PdfPopupIcon.key:return"Key";case j.PdfPopupIcon.newParagraph:return"NewParagraph";case j.PdfPopupIcon.note:return"Note";case j.PdfPopupIcon.paragraph:return"Paragraph";default:return null}},V.prototype.formatDate=function(e){return this.datePadding(e.getMonth()+1)+"/"+this.datePadding(e.getDate())+"/"+e.getFullYear()+" "+this.datePadding(e.getHours())+":"+this.datePadding(e.getMinutes())+":"+this.datePadding(e.getSeconds())},V.prototype.datePadding=function(e){return e<10?"0"+e:e.toString()},V.prototype.removeSignatureTypeAnnot=function(e,t){if(Object.prototype.hasOwnProperty.call(e,"isAnnotationsExist")&&JSON.parse(e.isAnnotationsExist)||Object.prototype.hasOwnProperty.call(e,"isFormFieldAnnotationsExist")&&JSON.parse(e.isFormFieldAnnotationsExist)){var i=e.annotationsPageList||[],e=e.formFieldsPageList||"[]";if(0!==i.length)for(var n=JSON.parse(i),o=0;o<n.length;o++)for(var r=n[parseInt(o.toString(),10)],a=t.getPage(parseInt(r,10)).annotations,s=parseInt(a.count.toString(),10)-1;0<=s;s--)((l=a.at(s))instanceof j.PdfFreeTextAnnotation||l instanceof j.PdfInkAnnotation||l instanceof j.PdfLineAnnotation||l instanceof j.PdfRubberStampAnnotation||l instanceof j.PdfTextMarkupAnnotation||l instanceof j.PdfPopupAnnotation||l instanceof j.PdfSquareAnnotation||l instanceof j.PdfCircleAnnotation||l instanceof j.PdfEllipseAnnotation||l instanceof j.PdfPolygonAnnotation||l instanceof j.PdfRectangleAnnotation||l instanceof j.PdfPolyLineAnnotation)&&a.remove(l);if(0!==e.length)for(n=JSON.parse(e),o=0;o<n.length;o++)for(var l,r=n[parseInt(o.toString(),10)],a=t.getPage(parseInt(r,10)-1).annotations,s=parseInt(a.count.toString(),10)-1;0<=s;s--)((l=a.at(s))instanceof j.PdfFreeTextAnnotation||l instanceof j.PdfInkAnnotation||l instanceof j.PdfLineAnnotation||l instanceof j.PdfRubberStampAnnotation||l instanceof j.PdfTextMarkupAnnotation||l instanceof j.PdfPopupAnnotation||l instanceof j.PdfSquareAnnotation||l instanceof j.PdfCircleAnnotation||l instanceof j.PdfEllipseAnnotation||l instanceof j.PdfPolygonAnnotation||l instanceof j.PdfRectangleAnnotation||l instanceof j.PdfPolyLineAnnotation)&&a.remove(l)}},V.prototype.updateIsLockProperty=function(e,t){t=j._annotationFlagsToString(t.flags);!G.isNullOrUndefined(t)&&t.includes("locked")?e.IsLocked=!0:e.IsLocked=!1,!G.isNullOrUndefined(t)&&t.includes("readOnly")?e.IsCommentLock=!0:e.IsCommentLock=!1,!G.isNullOrUndefined(t)&&t.includes("print")&&(e.IsPrint=!0)},V.prototype.loadTextMarkupAnnotation=function(e,t,i,n,o){var r=new fs,a=(r.TextMarkupAnnotationType=this.getMarkupAnnotTypeString(e.textMarkupType),"StrikeOut"===r.TextMarkupAnnotationType&&(r.TextMarkupAnnotationType="Strikethrough"),r.Author=e.author,r.Subject=e.subject,r.AnnotName=e.name,r.Note=e.text||"",r.Rect=new Is(e.bounds.x,e.bounds.y,e.bounds.width+e.bounds.x,e.bounds.height+e.bounds.y),r.Opacity=e.opacity,r.Color="#"+(1<<24|e.color[0]<<16|e.color[1]<<8|e.color[2]).toString(16).slice(1),G.isNullOrUndefined(e.modifiedDate)?r.ModifiedDate=this.formatDate(new Date):r.ModifiedDate=this.formatDate(e.modifiedDate),r.AnnotationRotation=e.rotationAngle,e._dictionary.has("QuadPoints")?e._dictionary.get("QuadPoints"):[]),s=[];if(0===n)for(var l=0;l<e.boundsCollection.length;l++){var A=e.boundsCollection[parseInt(l.toString(),10)],d=A[0],p=A[1],h=A[2],A=A[3];s.push(this.getBounds({x:d,y:p,width:h,height:A},A,h,n))}else s=this.getTextMarkupBounds(a,t,i,n,o);r.Bounds=s,r.AnnotType="textMarkup";for(l=0;l<e.reviewHistory.count;l++)r.State=this.getStateString(e.reviewHistory.at(parseInt(l.toString(),10)).state),r.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(l.toString(),10)).stateModel);(G.isNullOrUndefined(r.State)||G.isNullOrUndefined(r.StateModel))&&(r.State="Unmarked",r.StateModel="None"),r.Comments=new Array;for(l=0;l<e.comments.count;l++){var c=this.loadPopupAnnotation(e.comments.at(l),t,i,n);r.Comments.push(c)}return this.updateIsLockProperty(r,e),e._dictionary.has("CustomData")&&!G.isNullOrUndefined(e._dictionary.get("CustomData"))&&null!=(a=e._dictionary.get("CustomData"))&&(r.ExistingCustomData=a),e._dictionary.has("AllowedInteractions")&&(o=e.getValues("AllowedInteractions")[0],r.AllowedInteractions=JSON.parse(o)),e._dictionary.has("TextMarkupContent")&&(a=e.getValues("TextMarkupContent"),G.isNullOrUndefined(a)||(r.TextMarkupContent=a[0])),r},V.prototype.getTextMarkupBounds=function(e,t,i,n,o){var r=0,a=0,s=0,l=0,A=[],o=this.getCropBoxValue(o,!1),d=0,p=0;if(0!==o.x&&0!==o.y&&(d=o.x,p=o.y),!G.isNullOrUndefined(e))for(var h=0;h<e.length;h++){var s=0===n?(r=this.convertPointToPixel(parseInt(e[parseInt(h.toString(),10)],10)-d),a=t-this.convertPointToPixel(parseInt(e[h+1],10)+p),l=this.convertPointToPixel(parseInt(e[h+3],10)-parseInt(e[h+7],10)),this.convertPointToPixel(parseInt(e[h+6],10)-parseInt(e[h+4],10))):1===n?(r=this.convertPointToPixel(parseInt(e[h+5],10)),a=this.convertPointToPixel(parseInt(e[parseInt(h.toString(),10)],10)),l=this.convertPointToPixel(parseInt(e[h+6],10)-parseInt(e[h+4],10)),this.convertPointToPixel(parseInt(e[h+3],10)-parseInt(e[h+7],10))):2===n?(r=i-this.convertPointToPixel(parseInt(e[h+2],10)),a=this.convertPointToPixel(parseInt(e[h+5],10)),l=this.convertPointToPixel(parseInt(e[h+3],10)-parseInt(e[h+7],10)),this.convertPointToPixel(parseInt(e[h+6],10)-parseInt(e[h+4],10))):(r=i-this.convertPointToPixel(parseInt(e[h+1],10)),a=t-this.convertPointToPixel(parseInt(e[h+6],10)),l=this.convertPointToPixel(parseInt(e[h+6],10)-parseInt(e[h+4],10)),this.convertPointToPixel(parseInt(e[h+3],10)-parseInt(e[h+7],10))),c=new ws(r,a,s,l);h+=7,A.push(c)}return A},V.prototype.getMarkupAnnotTypeString=function(e){var t="";switch(e){case j.PdfTextMarkupAnnotationType.highlight:t="Highlight";break;case j.PdfTextMarkupAnnotationType.strikeOut:t="StrikeOut";break;case j.PdfTextMarkupAnnotationType.underline:t="Underline";break;case j.PdfTextMarkupAnnotationType.squiggly:t="Squiggly"}return t},V);function V(e,t){this.formats=["M/d/yyyy h:mm:ss tt","M/d/yyyy, h:mm:ss tt","M/d/yyyy h:mm tt","MM/dd/yyyy hh:mm:ss","M/d/yyyy h:mm:ss","M/d/yyyy hh:mm tt","M/d/yyyy hh tt","M/d/yyyy h:mm","M/d/yyyy h:mm","MM/dd/yyyy hh:mm","M/dd/yyyy hh:mm","dd/M/yyyy h:mm:ss tt","dd/M/yyyy, h:mm:ss tt","M/d/yy, h:mm:ss tt","yyyy/MM/dd, h:mm:ss tt","dd/MMM/yy, h:mm:ss tt","yyyy-MM-dd, h:mm:ss tt","dd-MMM-yy, h:mm:ss tt","MM-dd-yy, h:mm:ss tt","YYYY-MM-DDTHH:mm:ss.sssZ","YYYYYY-MM-DDTHH:mm:ss.sssZ","yyyy-MM-ddTHH:mm:ss.fffZ"],this.pdfViewer=e,this.pdfViewerBase=t}function as(e,t){this.x=e,this.y=t}function ss(){}var ls=function(){this.AnnotationSelectorSettings=null,this.TextMarkupColor=null,this.Color=null,this.Font=null,this.Border=null,this.LineEndingStyle=null,this.AnnotationFlags=null,this.CalloutLines=null,this.ModifiedDate=null,this.Comments=null,this.CreatedDate=null,this.InnerColor=null,this.Layer=null,this.Page=null,this.PageTags=null,this.ReviewHistory=null,this.Rotate=0,this.Note=null,this.CustomData=null,this.AnnotationSettings=null,this.IsPrint=!0,this.IsReadonly=!1,this.ExistingCustomData=null,this.Bounds=null,this.PageRotation=0,this.IsTransparentSet=!1},As=function(){this.AnnotationType=null,this.Bounds=null,this.CustomData=null,this.Opacity=0,this.StrokeColor=null,this.Thickness=null,this.PathData=null,this.IsLocked=null,this.IsCommentLock=null,this.PageNumber=null,this.AnnotName=null,this.Author=null,this.ModifiedDate=null,this.Subject=null,this.Note=null,this.State=null,this.StateModel=null,this.AnnotationSelectorSettings=null,this.AnnotationSettings=null,this.AllowedInteractions=null,this.Comments=null,this.AnnotType=null,this.IsPrint=null,this.ExistingCustomData=null},ds=function(){this.LabelBounds=new ws(0,0,0,0),this.LabelContent=null,this.LabelFillColor=null,this.LabelBorderColor=null,this.LabelSettings=null,this.FontColor=null,this.FontSize=0,this.AnnotationSettings=null,this.AnnotationSelectorSettings=null,this.VertexPoints=null,this.CustomData=null,this.ExistingCustomData=null,this.IsPrint=!0,this.AllowedInteractions=null,this.AnnotationRotation=0},ps=function(e){this.LabelBounds=new ws(0,0,0,0),this.LabelContent=null,this.LabelFillColor=null,this.LabelBorderColor=null,this.LabelSettings=null,this.FontColor=null,this.FontSize=0,this.AnnotationSettings=null,this.AnnotationSelectorSettings=null,this.VertexPoints=null,this.CustomData=null,this.ExistingCustomData=null,this.IsPrint=!0,this.AllowedInteractions=null,this.AnnotationRotation=0,this.Author=e.Author,this.AnnotationSelectorSettings=e.AnnotationSelectorSettings,this.BorderDashArray=e.BorderDashArray,this.BorderStyle=e.BorderStyle,this.Bounds=e.Bounds,this.CloudIntensity=e.CloudIntensity,this.FillColor=e.FillColor,this.IsCloudShape=e.IsCloudShape,this.IsLocked=e.IsLocked,this.LineHeadEnd=e.LineHeadEnd,this.LineHeadStart=e.LineHeadStart,this.ModifiedDate=e.ModifiedDate,this.Note=e.Note,this.Opacity=e.Opacity,this.RectangleDifference=e.RectangleDifference,this.RotateAngle=e.RotateAngle,this.ShapeAnnotationType=e.ShapeAnnotationType,this.StrokeColor=e.StrokeColor,this.Subject=e.Subject,this.Thickness=e.Thickness,this.VertexPoints=e.VertexPoints,this.AnnotName=e.AnnotName,this.Comments=e.Comments,this.State=e.State,this.StateModel=e.StateModel,this.AnnotType="shape_measure",this.AnnotationSettings=e.AnnotationSettings,this.EnableShapeLabel=e.EnableShapeLabel,this.AllowedInteractions=e.AllowedInteractions,this.AnnotationRotation=e.AnnotationRotation,!0===e.EnableShapeLabel&&(this.LabelContent=e.LabelContent,this.LabelFillColor=e.LabelFillColor,this.FontColor=e.FontColor,this.LabelBorderColor=e.LabelBorderColor,this.FontSize=e.FontSize,this.LabelSettings=e.LabelSettings,this.LabelBounds=e.LabelBounds)},hs=function(){this.PathData=null,this.ExistingCustomData=null},cs=function(){this.Ratio="",this.X=[],this.Distance=[],this.Area=[],this.Angle=[],this.Volume=[],this.TargetUnitConversion=0,this.Depth=0},gs=function(){this.Unit="",this.ConversionFactor=0,this.FractionalType="",this.Denominator=0,this.FormatDenominator=!1},us=function(){this.AnnotationFlags=null,this.AnnotationSelectorSettings=null,this.AnnotationSettings=null,this.ExistingCustomData=null,this.CustomData=null,this.IsPrint=!1},fs=function(){this.AnnotationSelectorSettings=null,this.AnnotationSettings=null,this.ExistingCustomData=null,this.CustomData=null,this.IsPrint=!0,this.IsMultiSelect=!1,this.AnnotpageNumbers=null,this.AnnotNameCollection=null},ms=function(e,t){this.X=e,this.Y=t},ws=function(e,t,i,n){this.X=e,this.Y=t,this.Width=i,this.Height=n,this.Location={X:e,Y:t},this.Size={IsEmpty:!1,Width:i,Height:n},this.Left=e,this.Top=t,this.Right=e+i,this.Bottom=t+n},Bs=function(e,t,i){this.IsEmpty=!0,this.R=e,this.G=t,this.B=i,0===this.R&&0===this.G&&0===this.B||(this.IsEmpty=!1)},Cs=function(e,t){this.Bold=e.isBold,this.FontFamily=e._fontFamily,this.Height=e.height,this.Italic=e.isItalic,this.Name=t,this.Size=e.size,this.Strikeout=e.isStrikeout,this.Style=e.style,this.Underline=e.isUnderline},Ss=(ys.prototype.moveTo=function(e,t){this.points.push([e,t])},ys.prototype.lineTo=function(e,t){this.points.push([e,t])},ys.prototype.transform=function(i){this.points=this.points.map(function(e){var t=e[0],e=e[1];return[i[0][0]*t+i[0][1]*e+i[0][2],i[1][0]*t+i[1][1]*e+i[1][2]]})},ys);function ys(){this.points=[]}var Is=function(e,t,i,n){this.left=e,this.top=t,this.right=i,this.bottom=n,this.width=i-e,this.height=n-t},Es=(Qs.prototype.saveSignatureData=function(e,t){var i=new ns(this.pdfViewer,this.pdfViewerBase),n=JSON.parse(e.signatureData);if(!G.isNullOrUndefined(n))for(var o=0;o<n.length;o++){var r=n[parseInt(o.toString(),10)];if(0<r.length)for(var a=0;a<r.length;a++){var s=r[parseInt(a.toString(),10)],l=Object.prototype.hasOwnProperty.call(s,"shapeAnnotationType")&&null!==s.shapeAnnotationType?s.shapeAnnotationType.toString():null;if(null!==l&&"SignatureText"===l)i.drawFreeTextAnnotations(s,t,!0);else if(null!==l&&"SignatureImage"===l)i.drawImage(s,t,!0);else{for(var l=s.pageIndex,A=t.getPage(l),d=this.getRotateAngle(A.rotation.toString()),p=A.size,h=p[0],c=p[1],h=1===d||3===d?(c=p[0],p[1]):(c=p[1],p[0]),p=JSON.parse(s.bounds),p=this.getSignatureBounds(p,this.convertPointToPixel(c),this.convertPointToPixel(h),d),g=JSON.parse(s.data),c=this.convertPixelToPoint(p.left),h=this.convertPixelToPoint(p.top),u=this.convertPixelToPoint(p.width),f=this.convertPixelToPoint(p.height),d=s.opacity,p=s.thickness,s=JSON.parse(s.strokeColor),s=[s.r,s.g,s.b],m=-1,w=-1,B=-1,C=-1,S=0;S<g.length;S++){var y,I,E=g[parseInt(S.toString(),10)];-1===m?(m=E.x,w=E.y,B=E.x,C=E.x):((y=E.x)<=m&&(m=y),(I=E.y)<=w&&(w=I),B<=y&&(B=y),C<=I&&(C=I))}var Q=B-m,D=C-w,x=[0,0],l=t.getPage(l),V=null,b=(null!=l&&((V=l.graphics).save(),V.setTransparency(d),V.translateTransform(c,h)),new j.PdfPen(s,u));if(b._width=this.convertPixelToPoint(p),0<g.length)for(var M=new j.PdfPath,v=0;v<g.length;v++){var F=(E=g[parseInt(v.toString(),10)]).command.toString(),T=(E.x-m)/(Q/u),k=(E.y-w)/(D/f);"M"===F?(0!==v&&(A.graphics.drawPath(M,b,null),M=new j.PdfPath),x=[T,k],G.isNullOrUndefined(V)||M.addLine(T,k,T,k)):"L"===F&&(F=[T,k],null!=V&&M.addLine(x[0],x[1],F[0],F[1]),x=F),v===g.length-1&&A.graphics.drawPath(M,b,null)}null!=V&&V.restore()}}}},Qs.prototype.getSignatureBounds=function(e,t,i,n){var o;return 0===n?o={left:e.left,top:e.top,width:e.width,height:e.height}:1===n?o={left:i-e.top-e.height,top:e.left,width:e.height,height:e.width}:2===n?o={left:i-e.left-e.width,top:t-e.top-e.height,width:e.width,height:e.height}:3===n&&(o={left:e.top,top:t-e.left-e.width,width:e.height,height:e.width}),o},Qs.prototype.saveSignatureAsAnnotatation=function(N,e){var t=new rs(this.pdfViewer,this.pdfViewerBase),i=JSON.parse(N.signatureData);if(!G.isNullOrUndefined(i))for(var n=0;n<i.length;n++){var o=i[parseInt(n.toString(),10)];if(0<o.length)for(var r=0;r<o.length;r++){var a=new ns(this.pdfViewer,this.pdfViewerBase),s=o[parseInt(r.toString(),10)],l=Object.prototype.hasOwnProperty.call(s,"shapeAnnotationType")&&null!==s.shapeAnnotationType?s.shapeAnnotationType.toString():null;if(null!==l&&"SignatureText"===l)a.drawFreeTextAnnotations(s,e,!1);else if(null!==l&&"SignatureImage"===l)a.drawImage(s,e,!1);else{for(var l=JSON.parse(s.bounds),A=JSON.parse(s.data),a=s.pageIndex,d=e.getPage(a),a=t.getCropBoxValue(d,!1),p=a.x+this.convertPixelToPoint(l.left),h=this.convertPixelToPoint(l.top),a=(0===a.x&&d.cropBox[2]===d.size[0]&&a.y===d.size[1]||(h-=a.y),this.convertPixelToPoint(l.width)),l=this.convertPixelToPoint(l.height),R=s.opacity,L=s.thickness,c=JSON.parse(s.strokeColor),c=[c.r,c.g,c.b],g=-1,u=-1,f=-1,m=-1,w=t.getInkRotateAngle(d.rotation.toString()),U=new j.PdfPath,B=0;B<A.length;B++){var C=A[parseInt(B.toString(),10)];U.addLine(C.x,C.y,0,0)}for(var O=t.getRotatedPathForMinMax(U._points,w),S=0;S<O.points.length;S+=2){var y,I=O.points[parseInt(S.toString(),10)];-1===g?(g=I[0],u=I[1],f=I[0],m=I[1]):((y=I[0])<=g&&(g=y),(I=I[1])<=u&&(u=I),f<=y&&(f=y),m<=I&&(m=I))}var E=(f-g)/a,Q=(m-u)/l,D=(0===E?E=1:0===Q&&(Q=1),[]),x=0;if(0!==w){for(var V=0;V<A.length;V++){if("M"===(C=A[parseInt(V.toString(),10)]).command.toString()&&V!==x){x=V;break}D.push(parseFloat(C.x.toString())),D.push(parseFloat(C.y.toString()))}for(var b=t.getRotatedPath(D,w),D=[],M=0;M<b._points.length;M+=2)D.push((b._points[parseInt(M.toString(),10)][0]-g)/E+p),D.push(d.size[1]-(b._points[parseInt(M.toString(),10)][1]-u)/Q-h)}else for(V=0;V<A.length;V++){if("M"===(C=A[parseInt(V.toString(),10)]).command.toString()&&V!==x){x=V;break}D.push((C.x-g)/E+p);var z=(C.y-u)/Q;D.push(d.size[1]-z-h)}var v=new j.PdfInkAnnotation([p,h,a,l],D),a=(new J.Rect,new J.Rect(v.bounds.x,d.size[1]-(v.bounds.y+v.bounds.height),v.bounds.width,v.bounds.height));if(v.bounds=a,v.color=c,D=[],0<x)if(0!==w){for(var F=[],T=x;T<A.length;T++)"M"===(C=A[parseInt(T.toString(),10)]).command.toString()&&T!==x&&(F.push(D),D=[]),D.push(C.x),D.push(C.y);0<D.length&&F.push(D);for(var H=0;H<F.length;H++){var k=[],Y=F[parseInt(H.toString(),10)];if(0<Y.length){for(b=t.getRotatedPath(Y,w),M=0;M<b._points.length;M+=2)k.push((b._points[parseInt(M.toString(),10)][0]-g)/E+p),k.push(d.size[1]-(b._points[parseInt(M.toString(),10)][1]-u)/Q-h);v.inkPointsCollection.push(k)}k=[]}}else{for(var P=x;P<A.length;P++){z=("M"===(C=A[parseInt(P.toString(),10)]).command.toString()&&P!==x&&(v.inkPointsCollection.push(D),D=[]),D.push((C.x-g)/E+p),(C.y-u)/Q);D.push(d.size[1]-z-h)}0<D.length&&v.inkPointsCollection.push(D)}v.border.width=L,v.opacity=R,v._dictionary.set("NM",s.signatureName.toString()),v._annotFlags=j.PdfAnnotationFlag.print,Object.prototype.hasOwnProperty.call(s,"author")&&null!==s.author&&"Guest"!==(l=s.author.toString())&&(v.author=l),d.annotations.add(v)}}}},Qs.prototype.convertPointToPixel=function(e){return 96*e/72},Qs.prototype.convertPixelToPoint=function(e){return.75*e},Qs.prototype.getRotateAngle=function(e){var t=0;switch(e){case"RotateAngle0":case"0":t=0;break;case"RotateAngle180":case"2":t=2;break;case"RotateAngle270":case"3":t=3;break;case"RotateAngle90":case"1":t=1}return t},Qs);function Qs(e,t){this.pdfViewer=e,this.pdfViewerBase=t}var Ds=function(){this.HasChild=!1},xs=function(){},Vs=function(){},bs=(Ms.prototype.getImageStream=function(){this.mIsImageStreamParsed=!0;var e=this.mImageDictionary,t=(this.getImageInterpolation(e),this.setImageFilter()),e=this.imageStream();if(G.isNullOrUndefined(t)&&this.mImageFilter.push("FlateDecode"),G.isNullOrUndefined(t))return null;for(var i,n=0;n<t.length;n++)1<t.length&&(this.isDualFilter=!0),"DCTDecode"!==t[parseInt(n.toString(),10)]||this.mImageDictionary.has("SMask")||this.mImageDictionary.has("Mask")||"DeviceCMYK"!==(i=this.setColorSpace()).name&&"DeviceN"!==i.name&&"DeviceGray"!==i.name&&"Separation"!==i.name&&"DeviceRGB"!==i.name&&("ICCBased"!==i.name||4!==this.numberOfComponents)||"DeviceRGB"!==i.name||this.mImageDictionary.has("DecodeParms")||this.mImageDictionary.has("Decode");return this.mImageFilter=null,e},Ms.prototype.setColorSpace=function(){if(G.isNullOrUndefined(this.mColorspace))return this.getColorSpace(),this.mColorspace},Ms.prototype.getColorSpace=function(){var e;this.mImageDictionary.has("ColorSpace")&&(this.internalColorSpace="",this.mImageDictionary.has("ColorSpace")&&(e=this.mImageDictionary.getArray("ColorSpace"))&&Array.isArray(e)&&0<e.length&&this.mImageDictionary.get("ColorSpace"),this.mImageDictionary.get("ColorSpace")instanceof j._PdfName)&&(this.mColorspace=this.mImageDictionary.get("ColorSpace"))},Ms.prototype.setImageFilter=function(){return G.isNullOrUndefined(this.mImageFilter)&&(this.mImageFilter=this.getImageFilter()),this.mImageFilter},Ms.prototype.getImageFilter=function(){var e=[];return G.isNullOrUndefined(this.mImageDictionary)||this.mImageDictionary.has("Filter")&&this.mImageDictionary.get("Filter")instanceof j._PdfName&&e.push(this.mImageDictionary.get("Filter").name),e},Ms.prototype.getImageInterpolation=function(e){!G.isNullOrUndefined(e)&&e.has("Interpolate")&&(this.mIsImageInterpolated=e.get("Interpolate"))},Ms.prototype.imageStream=function(){return j._stringToBytes(this.mImageStream.getString(),!1,!0)},Ms);function Ms(e,t){this.mIsImageStreamParsed=!1,this.mIsImageInterpolated=!1,this.isDualFilter=!1,this.numberOfComponents=0,G.isNullOrUndefined(t)||(this.mImageStream=e,this.mImageDictionary=t)}var vs,Fs=function(){return(Fs=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ts=(b.prototype.createOrganizeWindow=function(e){var t,i,n=this,o=this.pdfViewer.element.id;G.isNullOrUndefined(document.getElementById(o+"_organize_window"))||G.isNullOrUndefined(this.organizeDialog)?(this.dialogDivElement=G.createElement("div",{id:o+"_organize_window",className:"e-pv-organize-window"}),t=this.dialogDivElement,i=this.createContentArea(),this.pdfViewerBase.mainContainer.appendChild(t),this.organizeDialog=new k.Dialog({showCloseIcon:!0,closeOnEscape:!0,isModal:!0,header:this.pdfViewer.localeObj.getConstant("Organize Pages"),target:this.pdfViewerBase.mainContainer,content:i,visible:!1,open:function(){n.organizeWindowFocus()},close:function(e){n.isSkipRevert?n.isSkipRevert=!1:(n.tempOrganizePagesCollection=JSON.parse(JSON.stringify(n.organizePagesCollection)),n.undoOrganizeCollection=[],n.redoOrganizeCollection=[],n.isDocumentModified=!1,n.pdfViewerBase.isImportDoc=!1,n.startTile=null,n.ctrlKey=!1,n.shiftKey=!1,n.isTouchEvent=!1,n.isClickedOnCheckBox=!1,n.totalCheckedCount=0,n.isOrganizeWindowOpen=!1,n.destroyDialogWindow(),n.createOrganizeWindow(!0))}}),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(i=this.pdfViewerBase.pageCount,this.organizeDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Save As"),isPrimary:!0},click:this.onSaveasClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Save"),isPrimary:!0},click:this.onSaveClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Total")+" "+i.toString()+" "+this.pdfViewer.localeObj.getConstant("Pages"),cssClass:"e-pv-organize-total-page-button",disabled:!0}}]),window.addEventListener("resize",function(){n.updateOrganizeDialogSize()}),this.pdfViewer.enableRtl&&(this.organizeDialog.enableRtl=!0),this.waitingPopup=G.createElement("div",{id:o+"_organizeLoadingIndicator"}),t.appendChild(this.waitingPopup),Ri({target:this.waitingPopup,cssClass:"e-spin-center"}),this.pdfViewerBase.setLoaderProperties(this.waitingPopup),this.organizeDialog.appendTo(t),e||(this.organizeDialog.show(!0),this.isOrganizeWindowOpen=!0),this.disableTileDeleteButton(),this.enableDisableToolbarItems(),this.updateUndoRedoButtons(),this.initEventListeners()):(this.organizeDialog.show(!0),this.isOrganizeWindowOpen=!0)},b.prototype.createOrganizeWindowForMobile=function(){var e,t,i=this,n=this.pdfViewer.element.id;G.isNullOrUndefined(document.getElementById(n+"_organize_window"))||G.isNullOrUndefined(this.organizeDialog)?(this.dialogDivElement=G.createElement("div",{id:n+"_organize_window",className:"e-pv-organize-window"}),e=this.dialogDivElement,t=this.createContentArea(),this.pdfViewerBase.mainContainer.appendChild(e),this.organizeDialog=new k.Dialog({showCloseIcon:!0,closeOnEscape:!0,isModal:!0,header:this.pdfViewer.localeObj.getConstant("Organize Pages"),target:this.pdfViewerBase.mainContainer,content:t,visible:!1,close:function(){i.isSkipRevert?i.isSkipRevert=!1:(i.tempOrganizePagesCollection=JSON.parse(JSON.stringify(i.organizePagesCollection)),i.undoOrganizeCollection=[],i.redoOrganizeCollection=[],i.isDocumentModified=!1,i.pdfViewerBase.isImportDoc=!1,i.startTile=null,i.ctrlKey=!1,i.shiftKey=!1,i.isTouchEvent=!1,i.isClickedOnCheckBox=!1,i.isOrganizeWindowOpen=!1,i.totalCheckedCount=0,i.destroyDialogWindow(),i.createOrganizeWindow(!0))}}),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(t=this.pdfViewerBase.pageCount,this.organizeDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Save As"),isPrimary:!0},click:this.onSaveasClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Save"),isPrimary:!0},click:this.onSaveClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Total")+" "+t.toString()+" "+this.pdfViewer.localeObj.getConstant("Pages"),cssClass:"e-pv-organize-total-page-button",disabled:!0}}]),window.addEventListener("resize",function(){i.updateOrganizeDialogSize()}),this.pdfViewer.enableRtl&&(this.organizeDialog.enableRtl=!0),this.waitingPopup=G.createElement("div",{id:n+"_organizeLoadingIndicator"}),e.appendChild(this.waitingPopup),Ri({target:this.waitingPopup,cssClass:"e-spin-center"}),this.pdfViewerBase.setLoaderProperties(this.waitingPopup),this.organizeDialog.appendTo(e),this.organizeDialog.show(!0),this.createMobileContextMenu(),this.disableTileDeleteButton(),this.enableDisableToolbarItems(),this.updateUndoRedoButtons(),this.initEventListeners()):this.organizeDialog.show(!0)},b.prototype.initEventListeners=function(){this.boundOnTileAreaMouseDown=this.onTileAreaMouseDown.bind(this),this.boundOnTileAreaKeyDown=this.onTileAreaKeyDown.bind(this),this.boundOnTileAreaKeyUp=this.onTileAreaKeyUp.bind(this),this.tileAreaDiv.addEventListener("mousedown",this.boundOnTileAreaMouseDown),document.addEventListener("keydown",this.boundOnTileAreaKeyDown),document.addEventListener("keyup",this.boundOnTileAreaKeyUp)},b.prototype.removeEventListeners=function(){G.isNullOrUndefined(this.tileAreaDiv)||this.tileAreaDiv.removeEventListener("mousedown",this.boundOnTileAreaMouseDown),document.removeEventListener("keydown",this.boundOnTileAreaKeyDown),document.removeEventListener("keyup",this.boundOnTileAreaKeyUp)},b.prototype.onTileAreaMouseDown=function(e){var t,i,n,o=this;e.target&&e.target.previousElementSibling&&e.target.previousElementSibling.classList.contains("e-pv-organize-tile-checkbox")?this.isClickedOnCheckBox=!0:this.isClickedOnCheckBox=!1,e.target.closest(".e-pv-organize-anchor-node")?(e=e.target,t=Array.from(this.tileAreaDiv.children),this.shiftKey&&this.startTile?(i=Array.from(this.tileAreaDiv.children).indexOf(e.closest(".e-pv-organize-anchor-node")),this.startTile&&(n=Array.from(this.tileAreaDiv.children).indexOf(this.startTile.closest(".e-pv-organize-anchor-node")),this.selectRange(n,i),t.forEach(function(e,t){(t<Math.min(n,i)||t>Math.max(n,i))&&o.deselectTile(e)}))):this.ctrlKey||(this.startTile=e)):this.ctrlKey||this.shiftKey||(this.clearSelection(),this.startTile=null),this.updateSelectAllCheckbox(),this.enableDisableToolbarItems()},b.prototype.onTileAreaKeyDown=function(e){!e.ctrlKey&&!e.metaKey||e.shiftKey||(this.ctrlKey=!0,this.isOrganizeWindowOpen&&(65===e.keyCode&&(e.preventDefault(),this.selectAllTiles()),90===e.keyCode?(e.preventDefault(),this.undo()):89===e.keyCode&&(e.preventDefault(),this.redo()))),e.shiftKey&&(this.shiftKey=!0)},b.prototype.onTileAreaKeyUp=function(e){e.ctrlKey||e.metaKey||(this.ctrlKey=!1),e.shiftKey||(this.shiftKey=!1)},b.prototype.onSelectAllClick=function(e){e.checked?this.selectAllTiles():this.clearSelection()},b.prototype.selectRange=function(e,t){for(var i=Math.min(e,t),n=Math.max(e,t),o=i;o<=n;o++){var r=this.tileAreaDiv.children[parseInt(o.toString(),10)];this.selectTile(r)}},b.prototype.selectTile=function(e){var t;G.isNullOrUndefined(e)||(t=e.closest(".e-pv-organize-anchor-node").querySelector(".e-pv-organize-tile-checkbox"))&&(t.checked=!0,this.setSelectionRingStyle(t,e))},b.prototype.deselectTile=function(e){var t;G.isNullOrUndefined(e)||(t=e.closest(".e-pv-organize-anchor-node").querySelector(".e-pv-organize-tile-checkbox"))&&(t.checked=!1,this.setSelectionRingStyle(t,e))},b.prototype.clearSelection=function(){var i=this;document.querySelectorAll(".e-pv-organize-node-selection-ring").forEach(function(e){var t=e.closest(".e-pv-organize-anchor-node").querySelector(".e-pv-organize-tile-checkbox");t.checked=!1,i.setSelectionRingStyle(t,e)}),this.updateSelectAllCheckbox(),this.enableDisableToolbarItems()},b.prototype.selectAllTiles=function(){var t=this;Array.from(this.tileAreaDiv.children).forEach(function(e){t.selectTile(e)}),this.updateSelectAllCheckbox(),this.enableDisableToolbarItems()},b.prototype.updateOrganizeDialogSize=function(){var e=this.pdfViewer.element.getBoundingClientRect().width,t=this.pdfViewer.element.getBoundingClientRect().height;G.isNullOrUndefined(this.organizeDialog)||(this.organizeDialog.width=e+"px",this.organizeDialog.height=t+"px")},b.prototype.createContentArea=function(){var t=this,e=this.pdfViewer.element.id,i=G.createElement("div",{id:e+"_content_appearance",className:"e-pv-organize-content-apperance"}),e=G.createElement("div",{id:e+"_toolbar_appearance",className:"e-pv-organize-toolbar-apperance"}),n=(this.tileAreaWrapper=G.createElement("div",{id:this.pdfViewer.element.id+"_organize_tile_view_wrapper",className:"e-pv-organize-tile-view-wrapper"}),this.tileAreaDiv=G.createElement("div",{id:this.pdfViewer.element.id+"_organize_tile_view",className:"e-pv-organize-tile-view e-pv-thumbnail-row"}),this.tileAreaWrapper.style.width="100%",this.tileAreaWrapper.style.height="calc(100% - 48px)",this.tileAreaWrapper.style.position="relative",i.style.width="100%",i.style.height="100%",e.style.height="48px",this.tileAreaDiv.style.height="100%",this.selectAllCheckBox=new L.CheckBox({label:G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?"":this.pdfViewer.localeObj.getConstant("Select All"),cssClass:"e-pv-organize-select-all",checked:!1,change:this.onSelectAllClick.bind(this)}),[]),o=[{type:"Input",template:this.selectAllCheckBox,id:"selectAllCheckbox",align:"Left"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-undo-icon e-pv-icon",visible:!0,cssClass:"e-pv-undo-container",id:this.pdfViewer.element.id+"_undo_organize_Pages",align:"Left",click:function(e){t.undo()}},{prefixIcon:"e-pv-redo-icon e-pv-icon",visible:!0,cssClass:"e-pv-redo-container",id:this.pdfViewer.element.id+"_redo_organize_Pages",align:"Left",click:function(e){t.redo()}},{prefixIcon:"e-pv-rotate-left-icon e-pv-icon",visible:!0,cssClass:"e-pv-toolbar-rotate-left",id:this.pdfViewer.element.id+"_rotate_page_left",align:"Center",click:function(e){t.onToolbarLeftButtonClick()}},{prefixIcon:"e-pv-rotate-right-icon e-pv-icon",visible:!0,cssClass:"e-pv-toolbar-rotate-right",id:this.pdfViewer.element.id+"_rotate_page_right",align:"Center",click:function(e){t.onToolbarRightButtonClick()}},{type:"Separator",align:"Center"},{prefixIcon:"e-pv-copy-icon e-pv-icon",visible:!0,cssClass:"e-pv-toolbar-rotate-right",id:this.pdfViewer.element.id+"_copy_page",align:"Center",click:function(e){t.onToolbarCopyButtonClick()}},{type:"Separator",align:"Center"},{prefixIcon:"e-pv-delete-icon e-pv-icon",visible:!0,cssClass:"e-pv-delete-selected",id:this.pdfViewer.element.id+"_delete_selected",align:"Center",click:function(e){t.onToolbarDeleteButtonClick()}},{prefixIcon:"e-pv-import-icon e-pv-icon",text:this.pdfViewer.localeObj.getConstant("Import Document"),visible:!0,cssClass:"e-pv-import-pages",id:this.pdfViewer.element.id+"_import_pages",align:"Right",click:function(e){t.bindImportDocEvent()}}],r=[{type:"Input",template:this.selectAllCheckBox,id:"selectAllCheckbox",align:"Left"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-undo-icon e-pv-icon",visible:!0,cssClass:"e-pv-undo-container",id:this.pdfViewer.element.id+"_undo_organize_Pages",align:"Left",click:function(e){t.undo()}},{prefixIcon:"e-pv-redo-icon e-pv-icon",visible:!0,cssClass:"e-pv-redo-container",id:this.pdfViewer.element.id+"_redo_organize_Pages",align:"Left",click:function(e){t.redo()}},{prefixIcon:"e-pv-rotate-left-icon e-pv-icon",visible:!0,cssClass:"e-pv-toolbar-rotate-left",id:this.pdfViewer.element.id+"_rotate_page_left",align:"Right",click:function(e){t.onToolbarLeftButtonClick()}},{prefixIcon:"e-pv-rotate-right-icon e-pv-icon",visible:!0,cssClass:"e-pv-toolbar-rotate-right",id:this.pdfViewer.element.id+"_rotate_page_right",align:"Right",click:function(e){t.onToolbarRightButtonClick()}},{prefixIcon:"e-pv-delete-icon e-pv-icon",visible:!0,cssClass:"e-pv-delete-selected",id:this.pdfViewer.element.id+"_delete_selected",align:"Right",click:function(e){t.onToolbarDeleteButtonClick()}},{type:"Separator",align:"Right"},{prefixIcon:"e-pv-more-icon e-pv-icon",visible:!0,cssClass:"e-pv-toolbar-rotate-right",id:this.pdfViewer.element.id+"_organize_more_button",align:"Right",click:this.openContextMenu.bind(this)}],r=(G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?n.push.apply(n,r):n.push.apply(n,o),this.toolbar=new w.Toolbar({items:n}),this.toolbar.cssClass="e-pv-organize-toolbar",this.toolbar.height="48px",this.toolbar.width="auto",this.toolbar.appendTo(e),i.appendChild(e),this.renderThumbnailImage(),this.tileAreaWrapper.appendChild(this.tileAreaDiv),i.appendChild(this.tileAreaWrapper),this.createImportDocElement(e),this.organizeWireEvent(),e.querySelector("#"+this.pdfViewer.element.id+"_rotate_page_right")),o=(G.isNullOrUndefined(r)||this.createTooltip(r,this.pdfViewer.localeObj.getConstant("Rotate Right")),e.querySelector("#"+this.pdfViewer.element.id+"_rotate_page_left")),n=(G.isNullOrUndefined(o)||this.createTooltip(o,this.pdfViewer.localeObj.getConstant("Rotate Left")),e.querySelector("#"+this.pdfViewer.element.id+"_copy_page")),r=(G.isNullOrUndefined(n)||this.createTooltip(n,this.pdfViewer.localeObj.getConstant("Copy Pages")),e.querySelector("#"+this.pdfViewer.element.id+"_delete_selected")),o=(G.isNullOrUndefined(r)||this.createTooltip(r,this.pdfViewer.localeObj.getConstant("Delete Pages")),e.querySelector("#"+this.pdfViewer.element.id+"_undo_organize_Pages")),n=(G.isNullOrUndefined(o)||this.createTooltip(o,this.pdfViewer.localeObj.getConstant("Undo")),e.querySelector("#"+this.pdfViewer.element.id+"_redo_organize_Pages"));return G.isNullOrUndefined(n)||this.createTooltip(n,this.pdfViewer.localeObj.getConstant("Redo")),i},b.prototype.createMobileContextMenu=function(){this.mobileContextMenu=[{text:this.pdfViewer.localeObj.getConstant("Save"),iconCss:"e-icons e-pv-save-icon e-pv-icon"},{text:this.pdfViewer.localeObj.getConstant("Save As"),iconCss:"e-icons e-pv-save-as-icon e-pv-icon"},{separator:!0},{text:this.pdfViewer.localeObj.getConstant("Copy"),iconCss:"e-pv-copy-icon e-pv-icon"},{separator:!0},{text:this.pdfViewer.localeObj.getConstant("Import Document"),id:this.pdfViewer.element.id+"_import_pages",iconCss:"e-pv-import-icon e-pv-icon"}];var e=G.createElement("ul",{id:this.pdfViewer.element.id+"_organize_context_menu"});this.pdfViewer.element.appendChild(e),G.isNullOrUndefined(this.contextMenuObj)&&(this.contextMenuObj=new w.ContextMenu({target:"#"+this.pdfViewer.element.id+"_organize_more_button",items:this.mobileContextMenu,beforeOpen:this.contextMenuBeforeOpen.bind(this),select:this.contextMenuItemSelect.bind(this)}),this.pdfViewer.enableRtl&&(this.contextMenuObj.enableRtl=!0),this.contextMenuObj.appendTo(e)),G.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?this.contextMenuObj.animationSettings.effect="ZoomIn":this.contextMenuObj.animationSettings.effect="SlideDown"},b.prototype.contextMenuBeforeOpen=function(e){this.contextMenuObj.enableItems(["Save","Save As"],!0),this.contextMenuObj.enableItems(["Copy"],!1),this.contextMenuObj.enableItems(["Import Document"],!0);!this.selectAllCheckBox.checked&&!this.selectAllCheckBox.indeterminate||!this.pdfViewer.pageOrganizerSettings.canCopy||this.getCopiedItems(!1)||this.getImportedItems(!1)||this.contextMenuObj.enableItems(["Copy"],!0)},b.prototype.getCopiedItems=function(i){var n=this;return this.tileAreaDiv.querySelectorAll(".e-pv-organize-node-selection-ring").forEach(function(e){var e=e.closest(".e-pv-organize-anchor-node"),t=parseInt(e.getAttribute("data-page-order"),10),e=n.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===t});e.isInserted&&!e.isDeleted&&(i=!0)}),i},b.prototype.getImportedItems=function(i){var n=this;return this.tileAreaDiv.querySelectorAll(".e-pv-organize-node-selection-ring").forEach(function(e){var e=e.closest(".e-pv-organize-anchor-node"),t=parseInt(e.getAttribute("data-page-order"),10),e=n.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===t});e.isImportedDoc&&!e.isDeleted&&(i=!0)}),i},b.prototype.contextMenuItemSelect=function(e){switch(e.item.text){case"Save":this.onSaveClicked();break;case"Save As":this.onSaveasClicked();break;case"Copy":this.onToolbarCopyButtonClick();break;case"Import Document":this.bindImportDocEvent()}},b.prototype.createRequestForPreview=function(){var i=this;return!!document.documentMode?(this.requestPreviewCreation(i),null):new Promise(function(e,t){i.requestPreviewCreation(i)})},b.prototype.requestPreviewCreation=function(t){for(var e=t.pdfViewer.pageCount,i=!1,n=0;n<e;n++)t.pdfViewerBase.digitalSignaturePresent(n)&&(i=!0);var o="",o=(i&&(o=t.pdfViewerBase.digitalSignaturePages.toString()),{startPage:0..toString(),endPage:e.toString(),sizeX:"99.7",sizeY:"141",hashId:t.pdfViewerBase.hashId,action:"RenderThumbnailImages",elementId:t.pdfViewer.element.id,uniqueId:t.pdfViewerBase.documentId,digitalSignaturePresent:i,digitalSignaturePageList:o});if(this.pdfViewerBase.jsonDocumentId&&(o.documentId=this.pdfViewerBase.jsonDocumentId),this.pdfViewerBase.clientSideRendering)for(var r={documentId:t.pdfViewerBase.getDocumentId(),hashId:t.pdfViewerBase.hashId,elementId:t.pdfViewer.element.id,uniqueId:t.pdfViewerBase.documentId},a=!!t.pdfViewer.textSearch,s=0;s<e;s++)this.pdfViewerBase.pdfViewerRunner.addTask({startIndex:0,endIndex:e,pageIndex:s,message:"renderPreviewTileImage",isTextNeed:a,jsonObject:r,isRenderText:a,requestType:a?"pdfTextSearchRequest":""},ln.Low);else this.previewRequestHandler=new Bn(this.pdfViewer),this.previewRequestHandler.url=t.pdfViewer.serviceUrl+"/"+t.pdfViewer.serverActionSettings.renderThumbnail,this.previewRequestHandler.responseType="json",0<e&&!G.isNullOrUndefined(t.pdfViewerBase.hashId)&&this.previewRequestHandler.send(o),this.previewRequestHandler.onSuccess=function(e){e=e.data;t.pdfViewerBase.checkRedirection(e)||t.updatePreviewCollection(e)},this.previewRequestHandler.onFailure=function(e){t.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,t.pdfViewer.serverActionSettings.renderThumbnail)},this.previewRequestHandler.onError=function(e){t.pdfViewerBase.openNotificationPopup(),t.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,t.pdfViewer.serverActionSettings.renderThumbnail)}},b.prototype.updatePreviewCollection=function(t){if(t){if("object"!=typeof t)try{t=JSON.parse(t)}catch(e){this.pdfViewerBase.onControlError(500,t,this.pdfViewer.serverActionSettings.renderThumbnail),t=null}t&&t.uniqueId===this.pdfViewerBase.documentId&&(this.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.renderThumbnail,t),this.getData(t,this.pdfViewerBase.clientSideRendering))}},b.prototype.previewOnMessage=function(e){var t,i,n,o,r,a,s;"renderPreviewTileImage"===e.data.message&&(t=document.createElement("canvas"),s=(e=e.data).value,r=e.width,a=e.height,i=e.pageIndex,n=e.startIndex,e=e.endIndex,t.width=r,t.height=a,(r=(o=t.getContext("2d")).createImageData(r,a)).data.set(s),o.putImageData(r,0,0),a=t.toDataURL(),this.pdfViewerBase.releaseCanvas(t),s={thumbnailImage:a,startPage:n,endPage:e,uniqueId:this.pdfViewerBase.documentId,pageIndex:i},this.updatePreviewCollection(s))},b.prototype.getData=function(e,t){if(this.dataDetails||(this.dataDetails=[]),t)this.dataDetails.push({pageId:e.pageIndex,image:e.thumbnailImage});else{for(var t=e.startPage,i=e.endPage,n=t;n<i;n++){var o=e.thumbnailImage[parseInt(n.toString(),10)],r=n;this.dataDetails.push({pageId:r,image:o})}this.dataDetails.sort(function(e,t){return e.pageId-t.pageId})}this.dataDetails.length===this.pdfViewer.pageCount&&(G.isNullOrUndefined(this.pdfViewerBase.navigationPane)||this.pdfViewerBase.navigationPane.enableOrganizeButton(!0),G.isNullOrUndefined(this.pdfViewer.toolbar)||this.pdfViewer.toolbar.enableToolbarItem(["OrganizePagesTool"],!0),this.pdfViewer.isPageOrganizerOpen&&(!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.createOrganizeWindow():this.createOrganizeWindowForMobile()),this.isAllImagesReceived=!0)},b.prototype.createImportDocElement=function(e){this.pdfViewer.pageOrganizerSettings.canImport&&e&&(this.importDocInputElement=G.createElement("input",{id:this.pdfViewer.element.id+"_importDocElement",styles:"position:fixed; left:-100em",attrs:{type:"file"}}),this.importDocInputElement.setAttribute("accept",".pdf"),this.importDocInputElement.setAttribute("aria-label","import document element"),this.importDocInputElement.setAttribute("tabindex","-1"),e.appendChild(this.importDocInputElement))},b.prototype.movePDFpages=function(e,t,i){for(var n=this,o=!1,r=0,a=e;r<a.length;r++)if(a[r]===t){o=!0;break}if(!o){for(var s=[],l=this,A=0;A<this.selectedPageIndexes.length;A++)!function(t){s.push(l.clonedCollection(l.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===n.selectedPageIndexes[parseInt(t.toString(),10)]})))}(A);var d=[];d.push.apply(d,this.selectedPageIndexes),this.addOrganizeAction(s,"Move Pages",[],d,this.dragEndIndex,this.isRightInsertion),this.rearrangePages(e,t,i)}},b.prototype.rearrangePages=function(e,t,i){var n=this,o=(this.tempOrganizePagesCollection=this.updateCollection(this.tempOrganizePagesCollection,e,t,i),Array.from(this.tileAreaDiv.children)),r=(e.sort(function(e,t){return e-t}),e.map(function(e){return o[parseInt(e.toString(),10)]})),a=i?t+1:t;r.forEach(function(e){o.splice(a,0,e),a+=1});for(var s=0;s<e.length;s++)e[parseInt(s.toString(),10)]>=t&&(e[parseInt(s.toString(),10)]+=r.length);e.sort(function(e,t){return t-e}).forEach(function(e){o.splice(e,1)}),this.tileAreaDiv.innerHTML="",o.forEach(function(e,t){n.tileAreaDiv.appendChild(e),e.setAttribute("data-page-order",t.toString())}),this.updatePageNumber()},b.prototype.updateCollection=function(e,t,i,n){var o=this,r=[],a=0,s=[],l=(t.sort(),i=n?i+1:i,0),A=(t.forEach(function(e){e<i&&l++}),e.sort(function(e,t){return o.sorting(e.currentPageIndex,t.currentPageIndex)})),n=A.filter(function(e){return null===e.currentPageIndex}).length;A.forEach(function(e){null===e.currentPageIndex&&r.push(Fs({},e))});for(var d=0;d<A.length;d++){for(var p=!1,h=0;h<t.length;h++)if(A[parseInt(d.toString(),10)].currentPageIndex===t[parseInt(h.toString(),10)]){p=!0;break}if(a===i-l)break;p||this.containsPageDetails(A[parseInt(d.toString(),10)],s)||G.isNullOrUndefined(A[parseInt(d.toString(),10)].currentPageIndex)||(r.push(Fs({},A[parseInt(d.toString(),10)])),s.push(A[parseInt(d.toString(),10)]),r[r.length-1].currentPageIndex=a,a+=1)}for(d=0;d<A.length;d++){for(p=!1,h=0;h<t.length;h++)if(A[parseInt(d.toString(),10)].currentPageIndex===t[parseInt(h.toString(),10)]){p=!0;break}p&&!this.containsPageDetails(A[parseInt(d.toString(),10)],s)&&(r.push(Fs({},A[parseInt(d.toString(),10)])),s.push(A[parseInt(d.toString(),10)]),r[r.length-1].currentPageIndex=a,a+=1)}for(d=n;d<A.length;d++){for(p=!1,h=0;h<t.length;h++)if(A[parseInt(d.toString(),10)].currentPageIndex===t[parseInt(h.toString(),10)]){p=!0;break}p||this.containsPageDetails(A[parseInt(d.toString(),10)],s)||(r.push(Fs({},A[parseInt(d.toString(),10)])),s.push(A[parseInt(d.toString(),10)]),r[r.length-1].currentPageIndex=a,a+=1)}return r},b.prototype.sorting=function(e,t){return e=G.isNullOrUndefined(e)?-1:parseInt(e.toString(),10),(t=G.isNullOrUndefined(t)?-1:parseInt(t.toString(),10))<e?1:e<t?-1:0},b.prototype.containsPageDetails=function(e,t){for(var i=!1,n=!1,o=0;o<t.length;o++)t[parseInt(o.toString(),10)].pageIndex===e.pageIndex&&(i=!0),t[parseInt(o.toString(),10)].currentPageIndex===e.currentPageIndex&&(n=!0);return i&&n},b.prototype.renderThumbnailImage=function(){this.organizePagesCollection=[];for(var e=0;e<this.pdfViewer.pageCount;e++)this.tileImageRender(e),this.organizePagesCollection.push(new Ps(e,e,null,!1,!1,!1,!1,!1,!1,this.getRotatedAngle(this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].rotation.toString()),this.pdfViewerBase.pageSize[parseInt(e.toString(),10)],!1,null,null,null));this.tempOrganizePagesCollection=JSON.parse(JSON.stringify(this.organizePagesCollection))},b.prototype.bindImportDocEvent=function(){this.pdfViewer.pageOrganizerSettings.canImport&&document.getElementById(this.pdfViewer.element.id+"_import_pages")&&this.importDocInputElement.click()},b.prototype.tileImageRender=function(e,t,i,n,o,r,a,s,l){var A=this,d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAAD5Ip3+AAAAC0lEQVQIHWP4DwQACfsD/Qy7W+cAAAAASUVORK5CYII=",p=(this.pageLink=G.createElement("div",{id:"anchor_page_"+e,className:"e-pv-organize-anchor-node"}),o?(this.pageLink.id=this.pageLink.id+"_"+t,this.pageLink.setAttribute("data-page-order",i.toString())):this.pageLink.setAttribute("data-page-order",e.toString()),this.thumbnail=G.createElement("div",{id:this.pdfViewer.element.id+"_organize_page_"+e,className:"e-pv-organize-tile e-pv-thumbnail-column"}),o&&(this.thumbnail.id=this.thumbnail.id+"_"+t),this.imageContainer=G.createElement("div",{id:this.pdfViewer.element.id+"_container_image_"+e,className:"e-pv-image-container"}),o&&(this.imageContainer.id=this.imageContainer.id+"_"+t),o||a?(h=this.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===i}).pageSize,r&&0<=i-1&&(h=this.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===i-1}).pageSize)):h=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)],this.thumbnailImage=G.createElement("img",{id:this.pdfViewer.element.id+"_organize_image_"+e,className:"e-pv-organize-image"}),o&&(this.thumbnailImage.id=this.thumbnailImage.id+"_"+t),h=h.height>h.width?(p=100*h.width/h.height,100):(p=100)*h.height/h.width,this.thumbnailImage.style.width=p+"%",this.thumbnailImage.style.height=h+"%",a?this.thumbnailImage.src=d:i&&null!==i?(p=this.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===i}))&&-1!==p.pageIndex?this.thumbnailImage.src=this.dataDetails[parseInt(p.pageIndex.toString(),10)].image:p&&null!==p.copiedPageIndex&&0<=p.copiedPageIndex?this.thumbnailImage.src=this.dataDetails[parseInt(p.copiedPageIndex.toString(),10)].image:this.thumbnailImage.src=d:this.thumbnailImage.src=this.dataDetails[parseInt(e.toString(),10)].image,this.imageContainer.addEventListener("click",function(e){A.handleImageContainerClick(e)}),this.thumbnailImage.alt=this.pdfViewer.element.id+"_organize_page_"+e,o&&(this.thumbnailImage.alt=this.pdfViewer.element.id+"_organize_page_"+i),s?(h=G.createElement("span",{id:this.pdfViewer.element.id+"_organize_import_download_icon_"+e,className:"e-pv-organize-import-download-icon e-pv-import-icon e-pv-icon"}),this.importImageWrapper=G.createElement("div",{id:this.pdfViewer.element.id+"_organize_import_image_wrapper_"+e,className:"e-pv-organize-import-image-wrapper"}),this.importImageWrapper.appendChild(h),this.imageContainer.appendChild(this.importImageWrapper)):this.imageContainer.appendChild(this.thumbnailImage),o&&!G.isNullOrUndefined(this.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===i}))&&(a=this.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===i}).rotateAngle,this.imageContainer.style.transform="rotate("+a+"deg)"),this.thumbnail.appendChild(this.imageContainer),G.createElement("div",{id:this.pdfViewer.element.id+"_tile_pagenumber_"+e,className:"e-pv-tile-number"})),d=(o&&(p.id=p.id+"_"+t),p.textContent=s?l:(o?i+1:e+1).toString(),document.createElement("input"));d.type="checkbox",d.className="e-pv-organize-tile-checkbox",d.id="checkboxdiv_page_"+e,o&&(d.id=d.id+"_"+t),this.thumbnail.appendChild(d);new L.CheckBox({disabled:!1,checked:!1,change:this.onSelectClick.bind(this)}).appendTo(d),d.parentElement.style.height="100%",d.parentElement.style.width="100%",d.parentElement.style.display="none";var h=G.createElement("div",{id:this.pdfViewer.element.id+"_organize_buttondiv_"+e,className:"e-pv-organize-buttondiv"}),a=(o&&(h.id=h.id+"_"+t),this.deleteButton=G.createElement("button",{id:this.pdfViewer.element.id+"_delete_page_"+e,attrs:{"aria-label":this.pdfViewer.localeObj.getConstant("Delete Page"),tabindex:"-1"}}),o&&(this.deleteButton.id=this.deleteButton.id+"_"+t),this.deleteButton.className="e-pv-tbar-btn e-pv-delete-button e-btn e-pv-organize-pdf-tile-btn",this.deleteButton.setAttribute("type","button"),G.createElement("span",{id:this.pdfViewer.element.id+"_delete_icon",className:"e-pv-delete-icon e-pv-icon"}));this.deleteButton.appendChild(a);new k.Tooltip({content:G.initializeCSPTemplate(function(){return this.pdfViewer.localeObj.getConstant("Delete Page")},this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.deleteButton),this.rotateRightButton=G.createElement("button",{id:this.pdfViewer.element.id+"_rotate_page_"+e,attrs:{"aria-label":this.pdfViewer.localeObj.getConstant("Rotate Right"),tabindex:"-1"}}),o&&(this.rotateRightButton.id=this.rotateRightButton.id+"_"+t),this.rotateRightButton.className="e-pv-tbar-btn e-pv-rotate-right-button e-btn e-pv-organize-pdf-tile-btn",this.rotateRightButton.setAttribute("type","button");l=G.createElement("span",{id:this.pdfViewer.element.id+"_rotate-right_icon",className:"e-pv-rotate-right-icon e-pv-icon"});this.rotateRightButton.appendChild(l);new k.Tooltip({content:G.initializeCSPTemplate(function(){return this.pdfViewer.localeObj.getConstant("Rotate Right")},this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.rotateRightButton),this.rotateLeftButton=G.createElement("button",{id:this.pdfViewer.element.id+"_rotate_page_"+e,attrs:{"aria-label":this.pdfViewer.localeObj.getConstant("Rotate Left"),tabindex:"-1"}}),o&&(this.rotateLeftButton.id=this.rotateLeftButton.id+"_"+t),this.rotateLeftButton.className="e-pv-tbar-btn e-pv-rotate-left-button e-btn e-pv-organize-pdf-tile-btn",this.rotateLeftButton.setAttribute("type","button");d=G.createElement("span",{id:this.pdfViewer.element.id+"_rotate_left_icon",className:"e-pv-rotate-left-icon e-pv-icon"});this.rotateLeftButton.appendChild(d);new k.Tooltip({content:G.initializeCSPTemplate(function(){return this.pdfViewer.localeObj.getConstant("Rotate Left")},this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.rotateLeftButton),this.copyButton=G.createElement("button",{id:this.pdfViewer.element.id+"_copy_page_"+e,attrs:{"aria-label":this.pdfViewer.localeObj.getConstant("Copy Page"),tabindex:"-1"}}),o&&(this.copyButton.id=this.copyButton.id+"_"+t),this.copyButton.className="e-pv-tbar-btn e-pv-copy-button e-btn e-pv-organize-pdf-tile-btn",this.copyButton.setAttribute("type","button");a=G.createElement("span",{id:this.pdfViewer.element.id+"_copy_icon",className:"e-pv-copy-icon e-pv-icon"});this.copyButton.appendChild(a);new k.Tooltip({content:G.initializeCSPTemplate(function(){return this.pdfViewer.localeObj.getConstant("Copy Page")},this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.copyButton),this.insertRightButton=G.createElement("button",{id:this.pdfViewer.element.id+"_insert_page_"+e,attrs:{"aria-label":this.pdfViewer.localeObj.getConstant("Insert Right"),tabindex:"-1"}}),o&&(this.insertRightButton.id=this.insertRightButton.id+"_"+t),this.insertRightButton.className="e-pv-tbar-btn e-pv-insert-right-button e-btn e-pv-organize-pdf-tile-btn",this.insertRightButton.setAttribute("type","button");l=G.createElement("span",{id:this.pdfViewer.element.id+"_insert_right_icon",className:"e-icons e-plus"});this.insertRightButton.appendChild(l);new k.Tooltip({content:G.initializeCSPTemplate(function(){return this.pdfViewer.localeObj.getConstant("Insert Right")},this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.insertRightButton),this.insertLeftButton=G.createElement("button",{id:this.pdfViewer.element.id+"_insert_page_"+e,attrs:{"aria-label":this.pdfViewer.localeObj.getConstant("Insert Left"),tabindex:"-1"}}),o&&(this.insertLeftButton.id=this.insertLeftButton.id+"_"+t),this.insertLeftButton.className="e-pv-tbar-btn e-pv-insert-left-button e-btn e-pv-organize-pdf-tile-btn",this.insertLeftButton.setAttribute("type","button");d=G.createElement("span",{id:this.pdfViewer.element.id+"_insert_left_icon",className:"e-icons e-plus"});this.insertLeftButton.appendChild(d),new k.Tooltip({content:G.initializeCSPTemplate(function(){return this.pdfViewer.localeObj.getConstant("Insert Left")},this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.insertLeftButton),this.pdfViewer.pageOrganizerSettings.canInsert||(this.insertLeftButton.setAttribute("disabled","disabled"),this.insertLeftButton.firstElementChild.classList.add("e-disabled"),this.insertRightButton.setAttribute("disabled","disabled"),this.insertRightButton.firstElementChild.classList.add("e-disabled")),this.pdfViewer.pageOrganizerSettings.canRotate||(this.rotateLeftButton.setAttribute("disabled","disabled"),this.rotateLeftButton.firstElementChild.classList.add("e-disabled"),this.rotateRightButton.setAttribute("disabled","disabled"),this.rotateRightButton.firstElementChild.classList.add("e-disabled")),this.pdfViewer.pageOrganizerSettings.canDelete||(this.deleteButton.setAttribute("disabled","disabled"),this.deleteButton.firstElementChild.classList.add("e-disabled")),this.pdfViewer.pageOrganizerSettings.canCopy||(this.copyButton.setAttribute("disabled","disabled"),this.copyButton.firstElementChild.classList.add("e-disabled")),h.appendChild(this.insertLeftButton),s||(h.appendChild(this.rotateLeftButton),h.appendChild(this.rotateRightButton),h.appendChild(this.copyButton)),h.appendChild(this.deleteButton),h.appendChild(this.insertRightButton),this.thumbnail.appendChild(h),h.style.display="none",this.pageLink.appendChild(this.thumbnail),this.tileAreaDiv.appendChild(this.pageLink),this.pageLink.appendChild(p),this.rotateRightButton.addEventListener("click",this.rotateButtonClick),this.rotateLeftButton.addEventListener("click",this.rotateLeftButtonClick),this.insertRightButton.addEventListener("click",this.insertRightButtonClick),this.insertLeftButton.addEventListener("click",this.insertLeftButtonClick),this.deleteButton.addEventListener("click",this.deleteButtonClick),this.copyButton.addEventListener("click",this.copyButtonClick),this.pageLink.addEventListener("mouseover",this.thumbnailMouseOver),this.pageLink.addEventListener("mouseleave",this.thumbnailMouseLeave),this.movePages(),o&&(r?this.tileAreaDiv.insertBefore(this.pageLink,n):this.tileAreaDiv.insertBefore(this.pageLink,n.nextSibling))},b.prototype.handleImageContainerClick=function(e){var t=e.target.closest(".e-pv-organize-anchor-node").querySelector(".e-pv-organize-tile-checkbox.e-control.e-checkbox.e-lib");e instanceof PointerEvent?"touch"===e.pointerType?this.isTouchEvent=!0:"mouse"===e.pointerType&&(this.isTouchEvent=!1):!this.pdfViewerBase.isMacSafari&&e instanceof TouchEvent?this.isTouchEvent=!0:e instanceof MouseEvent&&(this.isTouchEvent=!1),t&&!G.isNullOrUndefined(t)&&!G.isNullOrUndefined(t.ej2_instances)&&0<t.ej2_instances.length&&t.ej2_instances[0].click()},b.prototype.movePages=function(){var o=this,r=this,e=this.imageContainer,e=(this.dragObj=new G.Draggable(e,{dragArea:this.tileAreaDiv,isDragScroll:!0,enableTapHold:!0,tapHoldThreshold:G.Browser.isDevice?50:750,helper:function(e){var t;return o.pdfViewer.pageOrganizerSettings.canRearrange?((t=(e=e.element.querySelector(".e-pv-organize-image, .e-pv-organize-import-image-wrapper")).cloneNode(!0)).style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",o.virtualEle=G.createElement("div",{className:"e-pv-virtual-image-container"}),o.virtualEle.appendChild(t),o.tileAreaWrapper.appendChild(o.virtualEle),o.virtualEle):null},drag:function(e){var t,i;e.event.preventDefault(),r.pdfViewer.pageOrganizerSettings.canRearrange&&(r.autoScroll(e),r.addSelectionRingStyle(),i=!G.isNullOrUndefined(e.target)&&e.target instanceof Element?e.target.closest(".e-pv-organize-anchor-node"):null,G.isNullOrUndefined(i)||(t=parseInt(i.getAttribute("data-page-order"),10),r.dragHoveredIndex=t,t=i.getBoundingClientRect(),i=document.querySelector(".e-pv-organize-outer-border"),G.isNullOrUndefined(i)&&(i=G.createElement("div",{className:"e-pv-organize-outer-border"}),r.tileAreaWrapper.appendChild(i)),i.style.display="block",r.isHoveredOnSelectedPages(r.selectedPageIndexes,r.dragHoveredIndex)&&!G.isNullOrUndefined(e.target)&&(e.target.classList.contains("e-pv-organize-image")||e.target.classList.contains("e-pv-organize-import-image-wrapper")||e.target.classList.contains("e-pv-image-container"))?(i.classList.add("e-pv-selected"),i.classList.remove("e-pv-not-selected")):!G.isNullOrUndefined(e.target)&&(e.target.classList.contains("e-pv-organize-image")||e.target.classList.contains("e-pv-organize-import-image-wrapper")||e.target.classList.contains("e-pv-image-container"))&&(i.classList.add("e-pv-not-selected"),i.classList.remove("e-pv-selected")),r.handlePageMove(e,t,r.gapBetweenDivs,i)))},dragStart:function(e){if(r.selectedPageIndexes=[],r.pdfViewer.pageOrganizerSettings.canRearrange){if(e.element.parentElement.querySelector(".e-pv-organize-tile-checkbox").checked)for(var t=r.tileAreaDiv.querySelectorAll(".e-pv-organize-node-selection-ring"),i=0;i<t.length;i++)r.selectedPageIndexes.push(parseInt(t[parseInt(i.toString(),10)].getAttribute("data-page-order"),10)),t[parseInt(i.toString(),10)].classList.add("e-pv-organize-tile-draggedEle"),(n=t[parseInt(i.toString(),10)].querySelector(".e-pv-organize-image, .e-pv-organize-import-image-wrapper"))&&n.classList.add("e-pv-organize-tile-draggedEle");else{var n,e=e.element.closest(".e-pv-organize-anchor-node");e&&(r.selectedPageIndexes.push(parseInt(e.getAttribute("data-page-order"),10)),e.classList.add("e-pv-organize-tile-draggedEle"),n=e.querySelector(".e-pv-organize-image, .e-pv-organize-import-image-wrapper"))&&n.classList.add("e-pv-organize-tile-draggedEle")}e=G.createElement("span",{className:"e-badge e-badge-primary e-badge-overlap e-badge-notification",innerHTML:""+o.selectedPageIndexes.length});e.classList.add("e-pv-notification"),r.virtualEle.append(e),r.addSelectionRingStyle()}},dragStop:function(e){function t(){r.virtualEle.parentNode.removeChild(r.virtualEle),r.tileAreaDiv.querySelectorAll(".e-pv-organize-tile-draggedEle").forEach(function(e){e.classList.remove("e-pv-organize-tile-draggedEle")});var e=document.querySelector(".e-pv-organize-outer-border");G.isNullOrUndefined(e)||(e.classList.remove("e-pv-selected","e-pv-not-selected"),r.selectedPageIndexes=[])}null!==r.autoScrollInterval&&(clearInterval(r.autoScrollInterval),r.autoScrollInterval=null),r.removeSelectionRingStyle(),e.target instanceof Element&&e.target.classList&&null!=e.target&&(e.target.classList.contains("e-pv-organize-image")||e.target.classList.contains("e-pv-organize-import-image-wrapper")||e.target.classList.contains("e-pv-image-container"))||t()}}),this.thumbnail);this.dropObj=new G.Droppable(e,{drop:function(e){null!==r.autoScrollInterval&&(clearInterval(r.autoScrollInterval),r.autoScrollInterval=null),r.removeSelectionRingStyle();var t=document.querySelector(".e-pv-organize-outer-border");t&&(t.classList.remove("e-pv-selected","e-pv-not-selected"),t.parentNode.removeChild(t)),r.virtualEle&&r.virtualEle.parentNode&&(r.virtualEle.parentNode.removeChild(r.virtualEle),r.virtualEle=null),r.pageDragDrop(e),r.tileAreaDiv.querySelectorAll(".e-pv-organize-tile-draggedEle").forEach(function(e){e.classList.remove("e-pv-organize-tile-draggedEle")}),r.selectedPageIndexes=[]},over:function(e){},out:function(e){var t=document.querySelector(".e-pv-organize-outer-border");G.isNullOrUndefined(t)||t.classList.remove("e-pv-selected","e-pv-not-selected")}})},b.prototype.autoScroll=function(e){var t,r,a=this,s=(("touchmove"===e.event.type?e.event.touches[0]:e.event).clientY,10),e=(this.autoScrollInterval=null,window.innerHeight),l=s,A=e-s,e=document.getElementById(this.pdfViewer.element.id+"_toolbar_appearance").getBoundingClientRect().bottom+s,i=this.organizeDialog.element.getElementsByClassName("e-footer-content"),i=(!G.isNullOrUndefined(i)&&0<i.length&&(t=i[0].getBoundingClientRect()),G.isNullOrUndefined(t)?this.tileAreaDiv.getBoundingClientRect().bottom-s:t.top-s),l=parseFloat(Math.max(l,e).toFixed(2)),A=Math.min(A,i),d=parseFloat(this.virtualEle.getBoundingClientRect().top.toFixed(2))<=l,p=this.virtualEle.getBoundingClientRect().bottom>=A;d||p?(r=this.tileAreaDiv.scrollHeight-this.tileAreaDiv.clientHeight,function e(){clearTimeout(a.autoScrollInterval),a.autoScrollInterval=null,function(){a.tileAreaDiv.onscroll=function(){var e=document.querySelector(".e-pv-organize-outer-border");G.isNullOrUndefined(e)||(e.style.display="none")};var e=a.virtualEle.getBoundingClientRect(),t=e.bottom-(a.previousClientY+e.height),i=e.top-a.previousClientY,e=(a.previousClientY=e.top,a.tileAreaDiv.scrollTop),i=0<e&&i<=0,t=e<r&&0<=t,n=e;{var o;d&&i?(o=(l-a.virtualEle.getBoundingClientRect().top)/s,n-=10*o):p&&t&&(o=(a.virtualEle.getBoundingClientRect().bottom-A)/s,n+=10*o)}if((n=Math.max(0,Math.min(r,n)))!==e)return a.tileAreaDiv.scrollTop=n,1}()&&(a.autoScrollInterval=window.setTimeout(e,30))}()):(clearTimeout(this.autoScrollInterval),a.autoScrollInterval=null)},b.prototype.handlePageMove=function(e,t,i,n){var o,e=this.isTileRightInsertion(e);G.isNullOrUndefined(this.isTileRightInsertion)||(i=e?t.width+i/2:-i/2,o=n.parentElement.getBoundingClientRect(),n.style.left=t.x+i-o.x+"px",n.style.top=t.top-o.y+"px",n.style.height=t.height+"px",this.isRightInsertion=e)},b.prototype.isTileRightInsertion=function(e){var t=G.isNullOrUndefined(e.target)?null:e.target.closest(".e-pv-organize-anchor-node");return G.isNullOrUndefined(t)?null:(t=t.getBoundingClientRect(),("mousemove"===e.event.type?e.event:e.event.touches[0]).clientX>t.x+t.width/2)},b.prototype.addSelectionRingStyle=function(){for(var e=this.tileAreaDiv.querySelectorAll(".e-pv-organize-anchor-node"),t=0;t<this.selectedPageIndexes.length;t++)e[this.selectedPageIndexes[parseInt(t.toString(),10)]].classList.add("e-pv-dragging-style")},b.prototype.removeSelectionRingStyle=function(){for(var e=this.tileAreaDiv.querySelectorAll(".e-pv-organize-anchor-node"),t=0;t<this.selectedPageIndexes.length;t++)e[this.selectedPageIndexes[parseInt(t.toString(),10)]].classList.remove("e-pv-dragging-style")},b.prototype.isHoveredOnSelectedPages=function(e,t){for(var i=!1,n=0;n<e.length;n++)if(e[parseInt(n.toString(),10)]===t){i=!0;break}return i},b.prototype.addOrganizeAction=function(e,t,i,n,o,r){this.undoOrganizeCollection.push({UndoRedoTileActions:e,action:t,toolbarActions:i,selectedPagesIndexes:n,dropIndex:o,isRightInsertion:r}),this.redoOrganizeCollection=[],this.updateUndoRedoButtons()},b.prototype.updateUndoRedoButtons=function(){var t=this;this.toolbar.items.forEach(function(e){e.id===t.pdfViewer.element.id+"_undo_organize_Pages"?t.enableToolbarItem(e.id,0<t.undoOrganizeCollection.length):e.id===t.pdfViewer.element.id+"_redo_organize_Pages"&&t.enableToolbarItem(e.id,0<t.redoOrganizeCollection.length)})},b.prototype.enableDisableToolbarItems=function(){var t=this;this.toolbar.items.forEach(function(e){e.id===t.pdfViewer.element.id+"_rotate_page_left"||e.id===t.pdfViewer.element.id+"_rotate_page_right"?t.enableToolbarItem(e.id,(t.selectAllCheckBox.checked||t.selectAllCheckBox.indeterminate)&&t.pdfViewer.pageOrganizerSettings.canRotate&&!t.getImportedItems(!1)):e.id===t.pdfViewer.element.id+"_copy_page"?t.enableToolbarItem(e.id,(t.selectAllCheckBox.checked||t.selectAllCheckBox.indeterminate)&&t.pdfViewer.pageOrganizerSettings.canCopy&&!t.getCopiedItems(!1)&&!t.getImportedItems(!1)):e.id===t.pdfViewer.element.id+"_delete_selected"?t.enableToolbarItem(e.id,t.selectAllCheckBox.indeterminate&&t.pdfViewer.pageOrganizerSettings.canDelete):e.id===t.pdfViewer.element.id+"_import_pages"&&t.enableToolbarItem(e.id,t.pdfViewer.pageOrganizerSettings.canImport)})},b.prototype.enableToolbarItem=function(e,t){e=document.getElementById(e);G.isNullOrUndefined(e)||G.isNullOrUndefined(e.parentElement)||(this.toolbar.enableItems(e.parentElement,t),e.setAttribute("tabindex",t?"0":"-1"),e.setAttribute("data-tabindex",t?"0":"-1"))},b.prototype.disableTileDeleteButton=function(){if(1===this.tileAreaDiv.childElementCount){var e=this.tileAreaDiv.querySelector(".e-pv-organize-anchor-node").querySelector(".e-pv-delete-button");G.isNullOrUndefined(e)||(e.setAttribute("disabled","disabled"),e.firstElementChild.classList.add("e-disabled"))}else for(var t=0;t<this.tileAreaDiv.childElementCount;t++){e=(this.tileAreaDiv.childNodes[parseInt(t.toString(),10)].classList.contains("e-pv-organize-anchor-node")?this.tileAreaDiv.childNodes[parseInt(t.toString(),10)]:this.tileAreaDiv.childNodes[parseInt(t.toString(),10)].querySelector(".e-pv-organize-anchor-node")).querySelector(".e-pv-delete-button");!G.isNullOrUndefined(e)&&this.pdfViewer.pageOrganizerSettings.canDelete&&(e.removeAttribute("disabled"),e.firstElementChild.classList.remove("e-disabled"))}},b.prototype.disableTileCopyRotateButton=function(){for(var e=0;e<this.tempOrganizePagesCollection.length;e++){var t,i,n=this.tempOrganizePagesCollection[parseInt(e.toString(),10)];n.isImportedDoc&&!n.isDeleted&&null!=!n.currentPageIndex&&(t=(n=this.tileAreaDiv.querySelector('[data-page-order="'+n.currentPageIndex.toString()+'"]')).querySelector(".e-pv-rotate-left-button"),i=n.querySelector(".e-pv-rotate-right-button"),n=n.querySelector(".e-pv-copy-button"),G.isNullOrUndefined(t)||(t.setAttribute("disabled","disabled"),t.firstElementChild.classList.add("e-disabled")),G.isNullOrUndefined(i)||(i.setAttribute("disabled","disabled"),i.firstElementChild.classList.add("e-disabled")),G.isNullOrUndefined(n)||(n.setAttribute("disabled","disabled"),n.firstElementChild.classList.add("e-disabled")))}},b.prototype.disableTileCopyButton=function(){for(var e=0;e<this.tempOrganizePagesCollection.length;e++){var t=this.tempOrganizePagesCollection[parseInt(e.toString(),10)];t.isInserted&&!t.isDeleted&&null!=!t.currentPageIndex&&(t=this.tileAreaDiv.querySelector('[data-page-order="'+t.currentPageIndex.toString()+'"]').querySelector(".e-pv-copy-button"),G.isNullOrUndefined(t)||(t.setAttribute("disabled","disabled"),t.firstElementChild.classList.add("e-disabled")))}},b.prototype.updateSelectAllCheckbox=function(){var e=this.tileAreaDiv.childElementCount;this.totalCheckedCount=this.tileAreaDiv.querySelectorAll(".e-pv-organize-node-selection-ring").length,this.selectAllCheckBox&&(0===this.totalCheckedCount?(this.selectAllCheckBox.indeterminate=!1,this.selectAllCheckBox.checked=!1):e===this.totalCheckedCount?(this.selectAllCheckBox.indeterminate=!1,this.selectAllCheckBox.checked=!0):this.selectAllCheckBox.indeterminate=!0)},b.prototype.setSelectionRingStyle=function(e,t){e.checked?t.classList.add("e-pv-organize-node-selection-ring"):t.classList.remove("e-pv-organize-node-selection-ring");for(var i=0,n=Array.from(t.children);i<n.length;i++)for(var o=n[i],r=0,a=Array.from(o.children);r<a.length;r++){var s,l=a[r];l.classList.contains("e-checkbox-wrapper")&&(s=l.getElementsByClassName("e-control e-checkbox e-lib")[0].id,s=G.getComponent(document.getElementById(s),"checkbox"),e.checked?(l.style.display="block",l.children[0].style.display="block",s.checked=!0):(l.style.display="none",l.children[0].style.display="none",s.checked=!1,G.isNullOrUndefined(l.parentElement)||G.isNullOrUndefined(l.parentElement.lastElementChild)||!l.parentElement.lastElementChild.classList.contains("e-pv-organize-buttondiv")||(l.parentElement.lastElementChild.style.display="none")))}},b.prototype.onTooltipBeforeOpen=function(e){this.pdfViewer.toolbarSettings.showTooltip||(e.cancel=!0)},b.prototype.openContextMenu=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_organize_context_menu");G.isNullOrUndefined(t)||"block"===t.style.display||this.contextMenuObj.open(e.originalEvent.clientY,e.originalEvent.clientX,e.originalEvent.currentTarget)},b.prototype.updateTempRotationDetail=function(t,e){var i;this.pdfViewer.pageOrganizerSettings.canRotate&&-1!==(i=this.tempOrganizePagesCollection.findIndex(function(e){return e.currentPageIndex===t}))&&(this.tempOrganizePagesCollection[parseInt(i.toString(),10)].rotateAngle,this.tempOrganizePagesCollection[parseInt(i.toString(),10)].rotateAngle=Math.abs((this.tempOrganizePagesCollection[parseInt(i.toString(),10)].rotateAngle+e+360)%360)),this.organizeWindowFocus()},b.prototype.organizeWindowFocus=function(){var e=this.pdfViewer.element.id;document.getElementById(e+"_organize_window").focus()},b.prototype.getRotatedAngle=function(e){switch(e.trim()){case"0":return 0;case"90":case"1":return 90;case"180":case"2":return 180;case"270":case"3":return 270;default:return 0}},b.prototype.getRotation=function(e){switch(e.trim()){case"0":return 0;case"90":return 1;case"180":return 2;case"270":return 3;default:return 0}},b.prototype.updateRotationDetailCollection=function(){for(var e=0;e<this.tempOrganizePagesCollection.length;e++){var t,i=this.tempOrganizePagesCollection[parseInt(e.toString(),10)];-1!==i.pageIndex&&(t=this.pdfViewerBase.pageSize[parseInt(i.pageIndex.toString(),10)],Math.abs(this.getRotation(t.rotation.toString())-i.rotateAngle)%180==90)&&this.updatePageSize(i.pageIndex,t.height,t.width)}},b.prototype.updatePageSize=function(e,t,i){this.pdfViewerBase.pageSize[parseInt(e.toString(),10)]&&(this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width=t,this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height=i,this.pdfViewerBase.highestWidth<t&&(this.pdfViewerBase.highestWidth=t),this.pdfViewerBase.isMixedSizeDocument=!0);for(var n=e;n<this.pdfViewerBase.pageSize.length;n++)!this.pdfViewerBase.pageSize[parseInt((n-1).toString(),10)]&&n-1<0?this.pdfViewerBase.pageSize[parseInt(n.toString(),10)].top=this.pdfViewerBase.pageGap:this.pdfViewerBase.pageSize[parseInt(n.toString(),10)].top=this.pdfViewerBase.pageSize[parseInt((n-1).toString(),10)].top+this.pdfViewerBase.pageSize[parseInt((n-1).toString(),10)].height+this.pdfViewerBase.pageGap},b.prototype.onSaveClicked=function(){var o=this;this.isSkipRevert=!0,this.showOrganizeLoadingIndicator(!0),JSON.stringify(this.tempOrganizePagesCollection)!==JSON.stringify(this.organizePagesCollection)||this.isDocumentModified?(this.updateOrganizePageCollection(),this.isDocumentModified=!0,this.pdfViewer.saveAsBlob().then(function(e){o.blobToBase64(e).then(function(e){var t,i,n;G.isNullOrUndefined(e)||""===e||(t=o.pdfViewer.fileName,i=o.pdfViewer.downloadFileName,n=o.pdfViewerBase.jsonDocumentId,o.showOrganizeLoadingIndicator(!1),o.organizeDialog.hide(),o.undoOrganizeCollection=[],o.redoOrganizeCollection=[],o.pdfViewer.loadDocInternally(e,null,!1),o.pdfViewerBase.updateDocumentEditedProperty(!0),o.pdfViewer.fileName=t,G.isNullOrUndefined(i)?o.pdfViewer.downloadFileName=t:o.pdfViewer.downloadFileName=i,o.pdfViewerBase.jsonDocumentId=n)})})):(this.showOrganizeLoadingIndicator(!1),this.organizeDialog.hide(),this.undoOrganizeCollection=[],this.redoOrganizeCollection=[])},b.prototype.blobToByteArray=function(n){return new Promise(function(t,e){var i=new FileReader;i.onloadend=function(){var e=i.result,e=new Uint8Array(e);t(e)},i.readAsArrayBuffer(n)})},b.prototype.blobToBase64=function(n){return new Promise(function(e,t){var i=new FileReader;i.onloadend=function(){return e(i.result)},i.readAsDataURL(n)})},b.prototype.showOrganizeLoadingIndicator=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_organizeLoadingIndicator");t&&(e?(t.style.display="block",Xi):(t.style.display="none",$i))(t)},b.prototype.updateOrganizePageDetailsInViewer=function(){for(var e=0,t=this.organizePagesCollection;e<t.length;e++){var i=t[e],n=i.pageIndex,o=i.rotateAngle,r=void 0,i=(r=-1!==n?this.pdfViewerBase.pageSize[parseInt(n.toString(),10)]:this.pdfViewerBase.pageSize[parseInt(i.copiedPageIndex.toString(),10)]).width*this.pdfViewerBase.getZoomFactor(),a=r.height*this.pdfViewerBase.getZoomFactor(),r=r.top*this.pdfViewerBase.getZoomFactor(),s=this.pdfViewerBase.getElement("_pageDiv_"+n),l=this.pdfViewerBase.getElement("_pageCanvas_"+n);s&&l&&(s.style.width=i+"px",s.style.height=a+"px",this.pdfViewer.enableRtl?s.style.right=this.pdfViewerBase.updateLeftPosition(n)+"px":s.style.left=this.pdfViewerBase.updateLeftPosition(n)+"px",s.style.top=r+"px",this.pdfViewerBase.pageContainer.style.width=this.pdfViewerBase.isMixedSizeDocument&&this.pdfViewerBase.highestWidth*this.pdfViewerBase.getZoomFactor()>this.pdfViewerBase.viewerContainer.clientWidth?this.pdfViewerBase.highestWidth*this.pdfViewerBase.getZoomFactor()+"px":this.pdfViewerBase.viewerContainer.clientWidth+"px",90===o||270===o?(i=s.style.width,s.style.width=s.style.height,s.style.height=i):(s.style.width="",s.style.height=""),s.style.left=(this.pdfViewerBase.viewerContainer.clientWidth-parseInt(s.style.width,10)*this.pdfViewerBase.getZoomFactor())/2+"px",l.style.transform="rotate("+o+"deg)",90===o||270===o?(a=l.width,l.style.width=l.height+"px",l.width=l.height,l.style.height=a+"px",l.height=a,l.style.margin="0px",l.style.marginLeft=(l.height-l.width)/2+"px",l.style.marginTop=(l.width-l.height)/2+"px"):l.style.margin="0px",this.applyElementStyles(l,n))}},b.prototype.getNextSubIndex=function(e,t){var e=e.querySelectorAll("[id^='anchor_page_"+t+"']"),i=-1;return e.forEach(function(e){e=e.id.split("_").slice(2),e[0],e=e[1];Number(e)>i&&(i=Number(e))}),i+1},b.prototype.removePage=function(e){var t=this.tileAreaDiv.childNodes[parseInt(e.toString(),10)];this.deleteTempPage(e,t),this.tileAreaDiv.removeChild(t),this.updatePageDetail()},b.prototype.rotateImage=function(e,t){var i,n=this.tileAreaDiv.childNodes[parseInt(e.toString(),10)].querySelector(".e-pv-organize-image");n&&(i=parseFloat(n.style.transform.replace("rotate(","").replace("deg)",""))||0,n.style.transform="rotate("+(i=(i+t+360)%360)+"deg)",this.updateTempRotationDetail(e,t))},b.prototype.updatePageDetail=function(){this.updateTotalPageCount(),this.updatePageNumber()},b.prototype.deletePageElement=function(e){var t;this.pdfViewer.pageOrganizerSettings.canDelete&&1<this.tileAreaDiv.childElementCount&&(t=parseInt(e.getAttribute("data-page-order"),10),this.deleteTempPage(t,e),t=e.querySelector(".e-pv-delete-button"),!G.isNullOrUndefined(t)&&!G.isNullOrUndefined(t.ej2_instances)&&0<t.ej2_instances.length&&t.ej2_instances[0].destroy(),this.tileAreaDiv.removeChild(e),this.updateTotalPageCount(),this.updatePageNumber(),this.updateSelectAllCheckbox(),this.disableTileDeleteButton())},b.prototype.deleteTempPage=function(t,e){if(this.pdfViewer.pageOrganizerSettings.canDelete&&0<this.tempOrganizePagesCollection.filter(function(e){return!1===e.isDeleted}).length){var i=this.tempOrganizePagesCollection.findIndex(function(e){return e.currentPageIndex===t}),n=this.tempOrganizePagesCollection[parseInt(i.toString(),10)].currentPageIndex;for(-1===i||this.tempOrganizePagesCollection[parseInt(i.toString(),10)].isInserted||this.tempOrganizePagesCollection[parseInt(i.toString(),10)].isCopied||this.tempOrganizePagesCollection[parseInt(i.toString(),10)].isImportedDoc?this.tempOrganizePagesCollection.splice(i,1):(this.tempOrganizePagesCollection[parseInt(i.toString(),10)].isDeleted=!0,this.tempOrganizePagesCollection[parseInt(i.toString(),10)].currentPageIndex=null),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map(function(e){return n<e.currentPageIndex&&!e.isDeleted&&(e.currentPageIndex=e.currentPageIndex-1),e});!G.isNullOrUndefined(e.nextElementSibling);){var o=e.nextElementSibling,r=parseInt(o.getAttribute("data-page-order"),10);r-=1,o.setAttribute("data-page-order",r.toString()),e=o}}},b.prototype.undoDeletedPage=function(t,i,e,n){var o;for(this.tempOrganizePagesCollection.some(function(e){return e.isDeleted})&&(o=this.tempOrganizePagesCollection.find(function(e){return null===e.currentPageIndex&&e.isDeleted&&-1!==e.pageIndex&&e.pageIndex===i&&null===e.copiedPageIndex}))&&(o.currentPageIndex=t,o.rotateAngle=e),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map(function(e){return e.currentPageIndex>=t&&!e.isDeleted?e.currentPageIndex+=1:e.currentPageIndex===t&&e.isDeleted&&(e.isDeleted=!1),e}),this.tempOrganizePagesCollection.sort(function(e,t){return e.currentPageIndex-t.currentPageIndex}),n&&n.setAttribute("data-page-order",(t+1).toString());n&&!G.isNullOrUndefined(n.nextElementSibling);){var r=n.nextElementSibling,a=parseInt(r.getAttribute("data-page-order"),10);a+=1,r.setAttribute("data-page-order",a.toString()),n=r}},b.prototype.insertRemovedPages=function(e,i,t){var n=0,o=this.tempOrganizePagesCollection.findIndex(function(e){return e.currentPageIndex===i});if(-1!==o)for(var r=0;r<o;r++)this.tempOrganizePagesCollection[parseInt(r.toString(),10)].isDeleted&&n++;else for(r=0;r<i;r++)this.tempOrganizePagesCollection[parseInt(r.toString(),10)].isDeleted&&n++;for(this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,i+n).concat(e,this.tempOrganizePagesCollection.slice(i+n)),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map(function(e,t){return i+n<t&&!e.isDeleted&&(e.currentPageIndex+=1),e}),t&&t.setAttribute("data-page-order",(i+1).toString());t&&!G.isNullOrUndefined(t.nextElementSibling);){var a=t.nextElementSibling,s=parseInt(a.getAttribute("data-page-order"),10);s+=1,a.setAttribute("data-page-order",s.toString()),t=a}},b.prototype.clonedCollection=function(e){return JSON.parse(JSON.stringify(e))},b.prototype.updateTotalPageCount=function(){var e=document.querySelectorAll(".e-pv-organize-anchor-node").length,t=document.querySelector(".e-pv-organize-total-page-button");G.isNullOrUndefined(t)||(t.textContent=this.pdfViewer.localeObj.getConstant("Total")+" "+e.toString()+" "+this.pdfViewer.localeObj.getConstant("Pages"))},b.prototype.updatePageNumber=function(){var n=this;document.querySelectorAll(".e-pv-organize-anchor-node").forEach(function(e){var t=parseInt(e.getAttribute("data-page-order"),10),i=e.querySelector(".e-pv-tile-number");i&&((e=n.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===t})).isImportedDoc?(i.textContent=e.documentName,new k.Tooltip({content:G.initializeCSPTemplate(function(){return i.textContent},n),opensOn:"Hover",beforeOpen:n.onTooltipBeforeOpen.bind(n)}).appendTo(i)):i.textContent=(t+1).toString())}),this.organizeWindowFocus()},b.prototype.insertTempPage=function(i,e,t){if(this.pdfViewer.pageOrganizerSettings.canInsert){var n,o=this.tempOrganizePagesCollection.findIndex(function(e){return e.currentPageIndex===i}),r=void 0,r=0!==i?this.tempOrganizePagesCollection.findIndex(function(e){return e.currentPageIndex===i-1}):o,a=void 0,s=void 0;for(e?(a=this.tempOrganizePagesCollection[parseInt(r.toString(),10)].pageIndex,0<=o-1&&!this.tempOrganizePagesCollection[parseInt((o-1).toString(),10)].isInserted&&(this.tempOrganizePagesCollection[parseInt((o-1).toString(),10)].hasEmptyPageAfter=!0),o<=this.tempOrganizePagesCollection.length-1&&!this.tempOrganizePagesCollection[parseInt(o.toString(),10)].isInserted&&(this.tempOrganizePagesCollection[parseInt(o.toString(),10)].hasEmptyPageBefore=!0),s=JSON.parse(JSON.stringify(this.tempOrganizePagesCollection[parseInt(r.toString(),10)].pageSize)),-1===a||G.isNullOrUndefined(s.rotation)||90!==this.getRotatedAngle(s.rotation.toString())&&270!==this.getRotatedAngle(s.rotation.toString())||(n=s.width,s.width=s.height,s.height=n),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,o).concat([new Ps(i,-1,this.tempOrganizePagesCollection[parseInt(o.toString(),10)].pageIndex,!0,!1,!1,!1,!1,!1,this.tempOrganizePagesCollection[parseInt(r.toString(),10)].rotateAngle,s,!1,null,null,null)],this.tempOrganizePagesCollection.slice(o)),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map(function(e,t){return t!==o&&e.currentPageIndex>=i&&null!=e.currentPageIndex&&(e.currentPageIndex=e.currentPageIndex+1),e}),t.setAttribute("data-page-order",(i+1).toString())):(a=this.tempOrganizePagesCollection[parseInt(o.toString(),10)].pageIndex,0<=o&&!this.tempOrganizePagesCollection[parseInt(o.toString(),10)].isInserted&&(this.tempOrganizePagesCollection[parseInt(o.toString(),10)].hasEmptyPageAfter=!0),o+1<=this.tempOrganizePagesCollection.length-1&&!this.tempOrganizePagesCollection[parseInt((o+1).toString(),10)].isInserted&&(this.tempOrganizePagesCollection[parseInt((o+1).toString(),10)].hasEmptyPageBefore=!0),s=JSON.parse(JSON.stringify(this.tempOrganizePagesCollection[parseInt(o.toString(),10)].pageSize)),-1===a||G.isNullOrUndefined(s.rotation)||90!==this.getRotatedAngle(s.rotation.toString())&&270!==this.getRotatedAngle(s.rotation.toString())||(n=s.width,s.width=s.height,s.height=n),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,o+1).concat([new Ps(i+1,-1,this.tempOrganizePagesCollection[parseInt(o.toString(),10)].pageIndex,!0,!1,!1,!1,!1,!1,this.tempOrganizePagesCollection[parseInt(o.toString(),10)].rotateAngle,s,!1,null,null,null)],this.tempOrganizePagesCollection.slice(o+1)),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map(function(e,t){return t!==o+1&&e.currentPageIndex>=i+1&&null!=e.currentPageIndex&&(e.currentPageIndex=e.currentPageIndex+1),e}));!G.isNullOrUndefined(t.nextElementSibling);){var l=t.nextElementSibling,A=parseInt(l.getAttribute("data-page-order"),10);A+=1,l.setAttribute("data-page-order",A.toString()),t=l}}},b.prototype.copyPage=function(t,e){if(this.pdfViewer.pageOrganizerSettings.canCopy){var i=this.tempOrganizePagesCollection.findIndex(function(e){return e.currentPageIndex===t}),n=void 0;if(-1!==i){var o,r=this.tempOrganizePagesCollection[parseInt(i.toString(),10)].pageIndex,n=JSON.parse(JSON.stringify(this.tempOrganizePagesCollection[parseInt(i.toString(),10)].pageSize));for(-1===r||G.isNullOrUndefined(n.rotation)||90!=this.getRotatedAngle(n.rotation.toString())&&270!==this.getRotatedAngle(n.rotation.toString())||(o=n.width,n.width=n.height,n.height=o),-1===r&&this.tempOrganizePagesCollection[parseInt(i.toString(),10)].isCopied?this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,i+1).concat([new Ps(t+1,-1,this.tempOrganizePagesCollection[parseInt(i.toString(),10)].copiedPageIndex,!1,!1,!0,!1,!1,!1,this.tempOrganizePagesCollection[parseInt(i.toString(),10)].rotateAngle,n,!1,null,null,null)],this.tempOrganizePagesCollection.slice(i+1)):this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,i+1).concat([new Ps(t+1,-1,r,!1,!1,!0,!1,!1,!1,this.tempOrganizePagesCollection[parseInt(i.toString(),10)].rotateAngle,n,!1,null,null,null)],this.tempOrganizePagesCollection.slice(i+1)),this.tempOrganizePagesCollection[parseInt(i.toString(),10)].istargetCopied=!0,this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map(function(e,t){return i+1<t&&null!=e.currentPageIndex&&(e.currentPageIndex=e.currentPageIndex+1),e});!G.isNullOrUndefined(e.nextElementSibling);){var a=e.nextElementSibling,s=parseInt(a.getAttribute("data-page-order"),10);s+=1,a.setAttribute("data-page-order",s.toString()),e=a}}}},b.prototype.importPage=function(i,e,t,n,o,r){if(this.pdfViewer.pageOrganizerSettings.canImport){var a,s,l=this.tempOrganizePagesCollection.findIndex(function(e){return e.currentPageIndex===i});if(-1!==l)for(a=this.tempOrganizePagesCollection[parseInt(l.toString(),10)].pageIndex,s=JSON.parse(JSON.stringify(this.tempOrganizePagesCollection[parseInt(l.toString(),10)].pageSize)),o?(this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,l).concat([new Ps(i,-1,a,!1,!1,!1,!1,!1,!1,0,s,!0,n,t,r)],this.tempOrganizePagesCollection.slice(l)),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map(function(e,t){return t!==l&&e.currentPageIndex>=i&&null!=e.currentPageIndex&&(e.currentPageIndex=e.currentPageIndex+1),e}),e.setAttribute("data-page-order",(i+1).toString())):(this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,l+1).concat([new Ps(i+1,-1,a,!1,!1,!1,!1,!1,!1,0,s,!0,n,t,r)],this.tempOrganizePagesCollection.slice(l+1)),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map(function(e,t){return l+1<t&&null!=e.currentPageIndex&&(e.currentPageIndex=e.currentPageIndex+1),e}));!G.isNullOrUndefined(e.nextElementSibling);){var A=e.nextElementSibling,d=parseInt(A.getAttribute("data-page-order"),10);d+=1,A.setAttribute("data-page-order",d.toString()),e=A}}},b.prototype.organizeWireEvent=function(){this.importDocInputElement&&this.importDocInputElement.addEventListener("change",this.importDocument.bind(this))},b.prototype.organizeUnWireEvent=function(){this.importDocInputElement&&this.importDocInputElement.removeEventListener("change",this.importDocument.bind(this))},b.prototype.importDocument=function(e){var t,i;this.pdfViewer.pageOrganizerSettings.canImport&&(t=this,i=e.target.files,null!==e.target.files[0])&&(e=i[0])&&(this.importedDocumentName=e.name,(i=new FileReader).readAsDataURL(e),i.onload=function(e){e=e.currentTarget.result;t.loadImportDoc(e,null,!1),G.isNullOrUndefined(t.importDocInputElement)||(t.importDocInputElement.value="")})},b.prototype.loadImportDoc=function(i,n,o){var r,a,s,e,t,l,A=this;this.pdfViewer.pageOrganizerSettings.canImport&&(r=null,a=!1,(r=this).importedDocumentData=i,s=this.pdfViewerBase.createGUID(),e=i.includes("pdf;base64,"),t=i,i=this.pdfViewerBase.checkDocumentData(i,!1),l=this.pdfViewerBase.constructJsonObject(i,n,e),this.pdfViewer.serverActionSettings)&&(this.pdfViewerBase.loadRequestHandler=new Bn(this.pdfViewer),this.pdfViewerBase.loadRequestHandler.url=this.pdfViewer.serviceUrl+"/"+this.pdfViewer.serverActionSettings.validatePassword,this.pdfViewerBase.loadRequestHandler.responseType="json",this.pdfViewerBase.loadRequestHandler.mode=!0,l.action="ValidatePassword",l.elementId=this.pdfViewer.element.id,l.isFileName=!1,this.pdfViewerBase.clientSideRendering?this.pdfViewerBase.getPdfByteArray(t).then(function(e){var t=A.pdfViewer.pdfRendererModule.loadImportDocument(e,s,n,l);if(t){if("object"!=typeof t)try{t=JSON.parse(t)}catch(e){A.pdfViewerBase.onControlError(500,t,A.pdfViewer.serverActionSettings.load),t=null}if(t){for(;"object"!=typeof t;)if(t=JSON.parse(t),"number"==typeof parseInt(t,10)&&!isNaN(parseInt(t,10))){t=parseInt(t,10);break}t.uniqueId!==s&&("number"!=typeof parseInt(t,10)||isNaN(parseInt(t,10)))||(4===t?(A.pdfViewerBase.isImportDoc=!0,a=!0,A.pdfViewerBase.renderPasswordPopup(i,n,A.pdfViewerBase.isImportDoc)):3===t&&(A.pdfViewerBase.isImportDoc=!0,A.pdfViewerBase.renderCorruptPopup(A.pdfViewerBase.isImportDoc)))}o&&4!==t&&(A.pdfViewerBase.passwordDialogReset(),A.pdfViewerBase.passwordPopup)&&A.pdfViewerBase.passwordPopup.hide(),(!a||o&&4!==t)&&3!==t&&A.importDocuments(n,A.importedDocumentName,i)}}):(this.pdfViewerBase.loadRequestHandler.send(l),this.pdfViewerBase.loadRequestHandler.onSuccess=function(e){var t=e.data;if(t){if("object"!=typeof t)try{t=JSON.parse(t)}catch(e){r.pdfViewerBase.onControlError(500,t,r.pdfViewer.serverActionSettings.load),t=null}if(t){for(;"object"!=typeof t;)if(t=JSON.parse(t),"number"==typeof parseInt(t,10)&&!isNaN(parseInt(t,10))){t=parseInt(t,10);break}t.uniqueId!==s&&("number"!=typeof parseInt(t,10)||isNaN(parseInt(t,10)))||(4===t?(r.pdfViewerBase.isImportDoc=!0,a=!0,r.pdfViewerBase.renderPasswordPopup(i,n,r.pdfViewerBase.isImportDoc)):3===t&&(r.pdfViewerBase.isImportDoc=!0,r.pdfViewerBase.renderCorruptPopup(r.pdfViewerBase.isImportDoc)))}o&&4!==t&&(r.pdfViewerBase.passwordDialogReset(),r.pdfViewerBase.passwordPopup)&&r.pdfViewerBase.passwordPopup.hide(),(!a||o&&4!==t)&&3!==t&&r.importDocuments(n,r.importedDocumentName,i)}}))},b.prototype.importDocuments=function(r,a,s){if(this.pdfViewer.pageOrganizerSettings.canImport){var l=this;if(1===this.tileAreaDiv.querySelectorAll(".e-pv-organize-node-selection-ring").length)for(var A=this,e=0;e<l.tileAreaDiv.childElementCount;e++)!function(e){var t,i,n,o,e=l.tileAreaDiv.childNodes[parseInt(e.toString(),10)];e instanceof HTMLElement&&e.classList.contains("e-pv-organize-node-selection-ring")&&(o=e.id.split("anchor_page_")[e.id.split("anchor_page_").length-1],t=parseInt(e.getAttribute("data-page-order"),10),o=o.split("_"),i=0,n=parseInt(o[parseInt((o.length-1).toString(),10)],10),1<o.length&&(n=parseInt(o[parseInt((o.length-2).toString(),10)],10)),i=A.getNextSubIndex(e.parentElement,n),A.importPage(t,e,r,a,!1,s),A.tileImageRender(n,i,t+1,e,!0,!1,!1,!0,a),(o=[]).push(A.clonedCollection(A.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===t+1}))),A.addOrganizeAction(o,"Import Pages",[],[],null,!1))}(e);else{var t=l.tileAreaDiv.childNodes[0],i=t.id.split("anchor_page_")[t.id.split("anchor_page_").length-1],n=parseInt(t.getAttribute("data-page-order"),10),i=i.split("_"),o=parseInt(i[parseInt((i.length-1).toString(),10)],10),o=(1<i.length&&(o=parseInt(i[parseInt((i.length-2).toString(),10)],10)),i=this.getNextSubIndex(t.parentElement,o),this.importPage(n,t,r,a,!0,s),this.tileImageRender(o,i,n,t,!0,!0,!1,!0,a),[]);o.push(this.clonedCollection(this.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===n}))),this.addOrganizeAction(o,"Import Pages",[],[],null,!1)}this.updatePageNumber(),this.updateTotalPageCount(),this.enableDisableToolbarItems(),this.disableTileCopyRotateButton(),this.disableTileDeleteButton()}},b.prototype.updateOrganizePageCollection=function(){this.organizePagesCollection=JSON.parse(JSON.stringify(this.tempOrganizePagesCollection))},b.prototype.applyElementStyles=function(e,t){var i,n,o;e&&(i=document.getElementById(this.pdfViewer.element.id+"_pageCanvas_"+t),t=document.getElementById(this.pdfViewer.element.id+"_oldCanvas_"+t),i&&0<i.offsetLeft?(n=i.offsetLeft,o=i.offsetTop,e.style.marginLeft=n+"px",e.style.marginRight=n+"px",e.style.top=o+"px"):t&&0<t.offsetLeft?(n=t.offsetLeft,o=t.offsetTop,e.style.marginLeft=n+"px",e.style.marginRight=n+"px",e.style.top=o+"px"):(e.style.marginLeft="auto",e.style.marginRight="auto",e.style.top="auto"))},b.prototype.onSaveasClicked=function(){var t,i=this,n=(JSON.stringify(this.tempOrganizePagesCollection)!==JSON.stringify(this.organizePagesCollection)&&(this.updateOrganizePageCollection(),this.isDocumentModified=!0,this.pdfViewerBase.updateDocumentEditedProperty(!0)),this.pdfViewer.fileName),o=JSON.parse(JSON.stringify(this.organizePagesCollection));this.pdfViewer.saveAsBlob().then(function(e){t=e,(i.pdfViewerBase.clientSideRendering?i.blobToByteArray(t):i.blobToBase64(t)).then(function(e){G.isNullOrUndefined(e)||""===e||i.pdfViewer.firePageOrganizerSaveAsEventArgs(n,e)&&(i.pdfViewerBase.fileDownload(e,i.pdfViewerBase,!0),i.organizePagesCollection=JSON.parse(JSON.stringify(o)))})})},b.prototype.rotateAllPages=function(e){var t;this.pdfViewer.pageOrganizerSettings.canRotate&&(e=e,t=this.pdfViewer.pageCount,t=Array.from({length:t},function(e,t){return t}),this.processRotation(t,e))},b.prototype.rotatePages=function(e,t){if(this.pdfViewer.pageOrganizerSettings.canRotate)if(Array.isArray(e))if(void 0!==t&&"number"==typeof t){var i=t;this.processRotation(e,i)}else for(var n=0,o=e;n<o.length;n++){var r=o[n];this.processRotation([r.pageIndex],r.rotationAngle)}else"number"==typeof e&&"number"==typeof t&&(e=e,t=t,i=arguments[2],this.processRotation(this.generateRange(e,t),i))},b.prototype.processRotation=function(e,n){if(this.pdfViewer.pageOrganizerSettings.canRotate)for(var o=this,t=0,i=e;t<i.length;t++)!function(t){var e=o.pdfRotateAngle(n),i=o.organizePagesCollection.findIndex(function(e){return e.pageIndex===t});-1!==i&&(o.organizePagesCollection[parseInt(i.toString(),10)].rotateAngle=(o.organizePagesCollection[parseInt(i.toString(),10)].rotateAngle+e+360)%360)}(i[t])},b.prototype.generateRange=function(i,e){return Array.from({length:e-i+1},function(e,t){return i+t})},b.prototype.pdfRotateAngle=function(e){var t=0;return e===v.PdfPageRotateAngle.RotateAngle0?t=0:e===v.PdfPageRotateAngle.RotateAngle90?t=90:e===v.PdfPageRotateAngle.RotateAngle180?t=180:e===v.PdfPageRotateAngle.RotateAngle270?t=270:e===v.PdfPageRotateAngle.RotateAngle360&&(t=0),t},b.prototype.createTooltip=function(e,t){null!==t&&new k.Tooltip({content:G.initializeCSPTemplate(function(){return t}),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(e)},b.prototype.rotateClockwise=function(e){if(this.pdfViewer.pageOrganizerSettings.canRotate)for(var i=this,t=0,n=e;t<n.length;t++)!function(t){var e=i.organizePagesCollection.findIndex(function(e){return e.pageIndex===t});-1!==e&&(i.organizePagesCollection[parseInt(e.toString(),10)].rotateAngle=(i.organizePagesCollection[parseInt(e.toString(),10)].rotateAngle+90+360)%360)}(n[t])},b.prototype.rotateCounterclockwise=function(e){if(this.pdfViewer.pageOrganizerSettings.canRotate)for(var i=this,t=0,n=e;t<n.length;t++)!function(t){var e=i.organizePagesCollection.findIndex(function(e){return e.pageIndex===t});-1!==e&&(i.organizePagesCollection[parseInt(e.toString(),10)].rotateAngle=(i.organizePagesCollection[parseInt(e.toString(),10)].rotateAngle-90+360)%360)}(n[t])},b.prototype.openPageOrganizer=function(){G.isNullOrUndefined(this.pdfViewer.pageOrganizer)?this.pdfViewerBase.getModuleWarningMessage("PageOrganizer"):this.isAllImagesReceived&&(!G.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.createOrganizeWindow():this.createOrganizeWindowForMobile())},b.prototype.closePageOrganizer=function(){G.isNullOrUndefined(this.pdfViewer.pageOrganizer)?this.pdfViewerBase.getModuleWarningMessage("PageOrganizer"):G.isNullOrUndefined(this.organizeDialog)||this.organizeDialog.hide()},b.prototype.switchPageOrganizer=function(){G.isNullOrUndefined(this.pdfViewer.pageOrganizer)||(!G.isNullOrUndefined(this.organizeDialog)&&this.organizeDialog.visible?this.closePageOrganizer():this.openPageOrganizer())},b.prototype.getModuleName=function(){return"PageOrganizer"},b.prototype.destroyDialogWindow=function(){this.removeEventListeners(),this.isOrganizeWindowOpen=!1,G.isNullOrUndefined(this.organizeDialog)||(this.organizeUnWireEvent(),this.organizeDialog.destroy(),this.organizeDialog=null);var e=this.pdfViewerBase.getElement("_organize_window");G.isNullOrUndefined(e)||e.parentElement.removeChild(e)},b.prototype.clear=function(){G.isNullOrUndefined(this.pdfViewerBase.navigationPane)||this.pdfViewerBase.navigationPane.enableOrganizeButton(!1),G.isNullOrUndefined(this.pdfViewer.toolbar)||this.pdfViewer.toolbar.enableToolbarItem(["OrganizePagesTool"],!1),this.destroyDialogWindow(),this.organizePagesCollection=[],this.tempOrganizePagesCollection=[],this.undoOrganizeCollection=[],this.redoOrganizeCollection=[],this.isDocumentModified=!1,this.pdfViewerBase.isImportDoc=!1,this.mobileContextMenu=[],this.dataDetails=[]},b.prototype.destroy=function(){return!0},b);function b(e,t){var p=this;this.dataDetails=[],this.mobileContextMenu=[],this.organizePagesCollection=[],this.tempOrganizePagesCollection=[],this.isSkipRevert=!1,this.isAllImagesReceived=!1,this.selectedPageIndexes=[],this.autoScrollInterval=null,this.gapBetweenDivs=48,this.isDocumentModified=!1,this.undoOrganizeCollection=[],this.redoOrganizeCollection=[],this.toolbarUndoRedoCollection=[],this.isTouchEvent=!1,this.isOrganizeWindowOpen=!1,this.pageDragDrop=function(e){e=e.target.closest(".e-pv-organize-anchor-node"),e=parseInt(e.getAttribute("data-page-order"),10);p.dragEndIndex=e,p.movePDFpages(p.selectedPageIndexes,p.dragEndIndex,p.isRightInsertion)},this.thumbnailMouseOver=function(e){var t=p;if(e.currentTarget instanceof HTMLElement)for(var i=0,n=Array.from(e.currentTarget.children);i<n.length;i++)for(var o=n[i],r=0,a=Array.from(o.children);r<a.length;r++){var s=a[r];if(!s.classList.contains("e-pv-image-container"))if(s.style.display="flex",s.classList.contains("e-checkbox-wrapper"))s.children[0].style.display="block";else if(s.classList.contains("e-pv-organize-buttondiv")&&0<s.childElementCount)for(var l=0,A=Array.from(s.children);l<A.length;l++){var d=A[l];!(1<t.totalCheckedCount)||"insert"===d.id.split("_")[1]?d.style.display="flex":d.style.display="none"}}},this.thumbnailMouseLeave=function(e){if(e.currentTarget instanceof HTMLElement)for(var t=0,i=Array.from(e.currentTarget.children);t<i.length;t++)for(var n=i[t],o=0,r=Array.from(n.children);o<r.length;o++){var a=r[o];a.classList.contains("e-pv-image-container")||(e.currentTarget.classList.contains("e-pv-organize-node-selection-ring")&&a.classList.contains("e-checkbox-wrapper")?a.style.display="block":a.style.display="none")}},this.onSelectClick=function(e){var t=event.currentTarget.querySelector(".e-pv-organize-tile-checkbox"),i=t.closest(".e-pv-organize-anchor-node");if("mouse"!==e.event.pointerType&&(p.isTouchEvent||G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode))!("touch"===e.event.pointerType||p.isTouchEvent||G.Browser.isDevice&&!p.pdfViewer.enableDesktopMode)||G.isNullOrUndefined(t)||G.isNullOrUndefined(i)||i&&p.setSelectionRingStyle(t,i);else if(!p.isClickedOnCheckBox||G.isNullOrUndefined(t)||G.isNullOrUndefined(i)){if(!G.isNullOrUndefined(t)&&!G.isNullOrUndefined(i)){if(!p.ctrlKey&&!p.shiftKey){var n=document.querySelectorAll(".e-pv-organize-node-selection-ring");if(0<n.length)for(var o=0;o<n.length;o++){var r=n[parseInt(o.toString(),10)].closest(".e-pv-organize-anchor-node").querySelector(".e-pv-organize-tile-checkbox");r.checked=!1,p.setSelectionRingStyle(r,n[parseInt(o.toString(),10)])}p.isClickedOnCheckBox||(t.checked=!0)}p.shiftKey&&(t.checked=!0),p.setSelectionRingStyle(t,i)}}else i&&p.setSelectionRingStyle(t,i);if(p.updateSelectAllCheckbox(),p.enableDisableToolbarItems(),1<p.totalCheckedCount)for(o=0;o<i.querySelector(".e-pv-organize-buttondiv").childElementCount;o++)"insert"===i.querySelector(".e-pv-organize-buttondiv").children[parseInt(o.toString(),10)].id.split("_")[1]?i.querySelector(".e-pv-organize-buttondiv").children[parseInt(o.toString(),10)].style.display="flex":i.querySelector(".e-pv-organize-buttondiv").children[parseInt(o.toString(),10)].style.display="none"},this.rotateButtonClick=function(e){var t,i;p.pdfViewer.pageOrganizerSettings.canRotate&&(i=(e=e.currentTarget.closest(".e-pv-organize-anchor-node")).querySelector(".e-pv-organize-image"),t=parseInt(e.getAttribute("data-page-order"),10),i)&&(e=parseFloat(i.style.transform.replace("rotate(","").replace("deg)",""))||0,i.style.transform="rotate("+(e=360<=(e+=90)?0:e)+"deg)",p.updateTempRotationDetail(t,90),(i=[]).push(p.clonedCollection(p.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===t}))),p.addOrganizeAction(i,"Rotate Right",[],[],null,!1))},this.rotateLeftButtonClick=function(e){var t,i;p.pdfViewer.pageOrganizerSettings.canRotate&&(i=(e=e.currentTarget.closest(".e-pv-organize-anchor-node")).querySelector(".e-pv-organize-image"),t=parseInt(e.getAttribute("data-page-order"),10),i)&&(e=parseFloat(i.style.transform.replace("rotate(","").replace("deg)",""))||0,i.style.transform="rotate("+(e=-90===(e=360<=(e-=90)?0:e)?270:e)+"deg)",p.updateTempRotationDetail(t,-90),(i=[]).push(p.clonedCollection(p.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===t}))),p.addOrganizeAction(i,"Rotate Left",[],[],null,!1))},this.onToolbarRightButtonClick=function(){if(p.pdfViewer.pageOrganizerSettings.canRotate){for(var n=p,e=0;e<n.tileAreaDiv.childElementCount;e++)!function(e){var t,i,e=n.tileAreaDiv.childNodes[parseInt(e.toString(),10)];e instanceof HTMLElement&&e.classList.contains("e-pv-organize-node-selection-ring")&&(t=e.querySelector(".e-pv-organize-image"),i=parseInt(e.getAttribute("data-page-order"),10),t)&&(e=parseFloat(t.style.transform.replace("rotate(","").replace("deg)",""))||0,t.style.transform="rotate("+(e=360<=(e+=90)?0:e)+"deg)",p.updateTempRotationDetail(i,90),p.toolbarUndoRedoCollection.push(p.clonedCollection(p.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===i}))))}(e);p.addOrganizeAction(null,"Toolbar Rotate Right",p.toolbarUndoRedoCollection,[],null,!1),p.toolbarUndoRedoCollection=[]}},this.onToolbarLeftButtonClick=function(){for(var n=p,e=0;e<n.tileAreaDiv.childElementCount;e++)!function(e){var t,i,e=n.tileAreaDiv.childNodes[parseInt(e.toString(),10)];e instanceof HTMLElement&&e.classList.contains("e-pv-organize-node-selection-ring")&&(t=e.querySelector(".e-pv-organize-image"),i=parseInt(e.getAttribute("data-page-order"),10),t)&&(e=parseFloat(t.style.transform.replace("rotate(","").replace("deg)",""))||0,t.style.transform="rotate("+(e=-90===(e=360<=(e-=90)?0:e)?270:e)+"deg)",p.updateTempRotationDetail(i,-90),p.toolbarUndoRedoCollection.push(p.clonedCollection(p.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===i}))))}(e);p.addOrganizeAction(null,"Toolbar Rotate Left",p.toolbarUndoRedoCollection,[],null,!1),p.toolbarUndoRedoCollection=[]},this.onToolbarCopyButtonClick=function(){if(p.pdfViewer.pageOrganizerSettings.canCopy){for(var r=p,e=0;e<r.tileAreaDiv.childElementCount;e++)!function(e){var t,i,n,o,e=r.tileAreaDiv.childNodes[parseInt(e.toString(),10)];e instanceof HTMLElement&&e.classList.contains("e-pv-organize-node-selection-ring")&&(i=e.id.split("anchor_page_")[e.id.split("anchor_page_").length-1],t=parseInt(e.getAttribute("data-page-order"),10),i=i.split("_"),n=0,o=parseInt(i[parseInt((i.length-1).toString(),10)],10),1<i.length&&(o=parseInt(i[parseInt((i.length-2).toString(),10)],10)),n=p.getNextSubIndex(e.parentElement,o),p.copyPage(t,e),p.tileImageRender(o,n,t+1,e,!0,!1,!1),p.updatePageNumber(),p.toolbarUndoRedoCollection.push(p.clonedCollection(p.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===t+1}))))}(e);p.updateTotalPageCount(),p.disableTileDeleteButton(),p.addOrganizeAction(null,"Toolbar Copy",p.toolbarUndoRedoCollection,[],null,!1),p.toolbarUndoRedoCollection=[]}},this.onToolbarDeleteButtonClick=function(){var t,e;p.pdfViewer.pageOrganizerSettings.canDelete&&((e=(t=p).tileAreaDiv.querySelectorAll(".e-pv-organize-node-selection-ring")).forEach(function(e){var e=e.closest(".e-pv-organize-anchor-node"),t=parseInt(e.getAttribute("data-page-order"),10);p.toolbarUndoRedoCollection.push(p.clonedCollection(p.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===t})))}),e.forEach(function(e){e=e.closest(".e-pv-organize-anchor-node");t.deletePageElement(e)})),p.enableDisableToolbarItems(),p.addOrganizeAction(null,"Toolbar Delete",p.toolbarUndoRedoCollection,[],null,!1),p.toolbarUndoRedoCollection=[]},this.undo=function(){var e=p.undoOrganizeCollection.pop();if(e){var n=JSON.parse(JSON.stringify(e));switch(n.action){case"Insert Right":case"Insert Left":case"Import Pages":case"Copy":p.removePage(n.UndoRedoTileActions[0].currentPageIndex);break;case"Rotate Right":p.rotateImage(n.UndoRedoTileActions[0].currentPageIndex,-90);break;case"Rotate Left":p.rotateImage(n.UndoRedoTileActions[0].currentPageIndex,90);break;case"Delete":var t=p.tileAreaDiv.childNodes[parseInt(n.UndoRedoTileActions[0].currentPageIndex.toString(),10)];n.UndoRedoTileActions[0].isCopied?(p.insertRemovedPages(n.UndoRedoTileActions[0],n.UndoRedoTileActions[0].currentPageIndex,t),p.tileImageRender(n.UndoRedoTileActions[0].copiedPageIndex,0,n.UndoRedoTileActions[0].currentPageIndex,t,!0,!0,!1)):n.UndoRedoTileActions[0].isInserted?(p.insertRemovedPages(n.UndoRedoTileActions[0],n.UndoRedoTileActions[0].currentPageIndex,t),p.tileImageRender(n.UndoRedoTileActions[0].copiedPageIndex,0,n.UndoRedoTileActions[0].currentPageIndex,t,!0,!0,!0)):n.UndoRedoTileActions[0].isImportedDoc?(p.insertRemovedPages(n.UndoRedoTileActions[0],n.UndoRedoTileActions[0].currentPageIndex,t),p.tileImageRender(n.UndoRedoTileActions[0].copiedPageIndex,0,n.UndoRedoTileActions[0].currentPageIndex,t,!0,!0,!1,!0,n.UndoRedoTileActions[0].documentName)):n.UndoRedoTileActions[0].isCopied||n.UndoRedoTileActions[0].isInserted||n.UndoRedoTileActions[0].isImportedDoc||(p.undoDeletedPage(n.UndoRedoTileActions[0].currentPageIndex,n.UndoRedoTileActions[0].pageIndex,n.UndoRedoTileActions[0].rotateAngle,t),p.tileImageRender(n.UndoRedoTileActions[0].pageIndex,0,n.UndoRedoTileActions[0].currentPageIndex,t,!0,!0,!1)),p.updatePageDetail();break;case"Move Pages":for(var o=n.dropIndex,r=[],a=[],s=new Set,l=function(e,t,i){return e<=i&&i<=t},i=0;i<n.UndoRedoTileActions.length;i++)!function(e){var t,i=n.UndoRedoTileActions[parseInt(e.toString(),10)],e=p.tempOrganizePagesCollection.find(function(e){return i.isCopied?e.copiedPageIndex===i.copiedPageIndex&&l(o-n.selectedPagesIndexes.length,o+n.selectedPagesIndexes.length,e.currentPageIndex)&&!s.has(e.currentPageIndex):i.isInserted?e.copiedPageIndex===i.copiedPageIndex&&e.isInserted&&l(o-n.selectedPagesIndexes.length,o+n.selectedPagesIndexes.length,e.currentPageIndex)&&!s.has(e.currentPageIndex):i.isImportedDoc?e.copiedPageIndex===i.copiedPageIndex&&e.isImportedDoc&&l(o-n.selectedPagesIndexes.length,o+n.selectedPagesIndexes.length,e.currentPageIndex)&&!s.has(e.currentPageIndex):e.pageIndex===i.pageIndex});e&&(t=[e.currentPageIndex],s.add(e.currentPageIndex),(o<i.currentPageIndex?a:r).push({currentPageIndex:i.currentPageIndex,selectedIndexes:t}))}(i);if(0<r.length){r.sort(function(e,t){return e.currentPageIndex-t.currentPageIndex});for(var A=0;A<r.length;A++)p.rearrangePages(r[parseInt(A.toString(),10)].selectedIndexes,r[parseInt(A.toString(),10)].currentPageIndex,r[parseInt(A.toString(),10)].currentPageIndex>r[parseInt(A.toString(),10)].selectedIndexes[0])}if(0<a.length){a.sort(function(e,t){return t.currentPageIndex-e.currentPageIndex});for(A=0;A<a.length;A++)p.rearrangePages(a[parseInt(A.toString(),10)].selectedIndexes,a[parseInt(A.toString(),10)].currentPageIndex,a[parseInt(A.toString(),10)].currentPageIndex>a[parseInt(A.toString(),10)].selectedIndexes[0])}break;case"Toolbar Rotate Right":p.rotateImages(n,-90);break;case"Toolbar Rotate Left":p.rotateImages(n,90);break;case"Toolbar Copy":if(0<n.toolbarActions.length)for(i=n.toolbarActions.length-1;0<=i;i--){t=p.tileAreaDiv.childNodes[parseInt(n.toolbarActions[parseInt(i.toString(),10)].currentPageIndex.toString(),10)];p.deleteTempPage(n.toolbarActions[parseInt(i.toString(),10)].currentPageIndex,t),p.tileAreaDiv.removeChild(t),p.updatePageDetail()}p.disableTileDeleteButton();break;case"Toolbar Delete":if(0<n.toolbarActions.length)for(i=0;i<n.toolbarActions.length;i++){t=p.tileAreaDiv.childNodes[parseInt(n.toolbarActions[parseInt(i.toString(),10)].currentPageIndex.toString(),10)];n.toolbarActions[parseInt(i.toString(),10)].isCopied?(p.insertRemovedPages(n.toolbarActions[parseInt(i.toString(),10)],n.toolbarActions[parseInt(i.toString(),10)].currentPageIndex,t),p.tileImageRender(n.toolbarActions[parseInt(i.toString(),10)].copiedPageIndex,0,n.toolbarActions[parseInt(i.toString(),10)].currentPageIndex,t,!0,!0,!1)):n.toolbarActions[parseInt(i.toString(),10)].isInserted?(p.insertRemovedPages(n.toolbarActions[parseInt(i.toString(),10)],n.toolbarActions[parseInt(i.toString(),10)].currentPageIndex,t),p.tileImageRender(n.toolbarActions[parseInt(i.toString(),10)].copiedPageIndex,0,n.toolbarActions[parseInt(i.toString(),10)].currentPageIndex,t,!0,!0,!0)):n.toolbarActions[parseInt(i.toString(),10)].isImportedDoc?(p.insertRemovedPages(n.toolbarActions[parseInt(i.toString(),10)],n.toolbarActions[parseInt(i.toString(),10)].currentPageIndex,t),p.tileImageRender(n.toolbarActions[parseInt(i.toString(),10)].copiedPageIndex,0,n.toolbarActions[parseInt(i.toString(),10)].currentPageIndex,t,!0,!0,!1,!0,n.toolbarActions[parseInt(i.toString(),10)].documentName)):n.toolbarActions[parseInt(i.toString(),10)].isCopied||n.toolbarActions[parseInt(i.toString(),10)].isInserted||n.toolbarActions[parseInt(i.toString(),10)].isImportedDoc||(p.undoDeletedPage(n.toolbarActions[parseInt(i.toString(),10)].currentPageIndex,n.toolbarActions[parseInt(i.toString(),10)].pageIndex,n.toolbarActions[parseInt(i.toString(),10)].rotateAngle,t),p.tileImageRender(n.toolbarActions[parseInt(i.toString(),10)].pageIndex,0,n.toolbarActions[parseInt(i.toString(),10)].currentPageIndex,t,!0,!0,!1)),p.updatePageDetail()}p.disableTileDeleteButton()}}p.redoOrganizeCollection.push(e),p.enableDisableToolbarItems(),p.updateUndoRedoButtons()},this.redo=function(){var e=p.redoOrganizeCollection.pop();if(e){var t=JSON.parse(JSON.stringify(e));switch(t.action){case"Insert Right":case"Insert Left":var i=p.tileAreaDiv.childNodes[parseInt(t.UndoRedoTileActions[0].currentPageIndex.toString(),10)];p.insertRemovedPages(t.UndoRedoTileActions[0],t.UndoRedoTileActions[0].currentPageIndex,i),p.tileImageRender(t.UndoRedoTileActions[0].copiedPageIndex,0,t.UndoRedoTileActions[0].currentPageIndex,i,!0,!0,!0),p.disableTileCopyButton(),p.updatePageDetail();break;case"Rotate Right":p.rotateImage(t.UndoRedoTileActions[0].currentPageIndex,90);break;case"Rotate Left":p.rotateImage(t.UndoRedoTileActions[0].currentPageIndex,-90);break;case"Copy":i=p.tileAreaDiv.childNodes[parseInt(t.UndoRedoTileActions[0].currentPageIndex.toString(),10)];p.insertRemovedPages(t.UndoRedoTileActions[0],t.UndoRedoTileActions[0].currentPageIndex,i),p.tileImageRender(t.UndoRedoTileActions[0].copiedPageIndex,0,t.UndoRedoTileActions[0].currentPageIndex,i,!0,!0,!1),p.updatePageDetail();break;case"Import Pages":i=p.tileAreaDiv.childNodes[parseInt(t.UndoRedoTileActions[0].currentPageIndex.toString(),10)];p.insertRemovedPages(t.UndoRedoTileActions[0],t.UndoRedoTileActions[0].currentPageIndex,i),p.tileImageRender(t.UndoRedoTileActions[0].copiedPageIndex,0,t.UndoRedoTileActions[0].currentPageIndex,i,!0,!0,!1,!0,t.UndoRedoTileActions[0].documentName),p.disableTileCopyRotateButton();break;case"Delete":p.removePage(t.UndoRedoTileActions[0].currentPageIndex);break;case"Move Pages":p.rearrangePages(t.selectedPagesIndexes,t.dropIndex,t.isRightInsertion);break;case"Toolbar Rotate Right":p.rotateImages(t,90);break;case"Toolbar Rotate Left":p.rotateImages(t,-90);break;case"Toolbar Copy":if(0<t.toolbarActions.length)for(var n=0;n<t.toolbarActions.length;n++){i=p.tileAreaDiv.childNodes[parseInt(t.toolbarActions[parseInt(n.toString(),10)].currentPageIndex.toString(),10)];p.insertRemovedPages(t.toolbarActions[parseInt(n.toString(),10)],t.toolbarActions[parseInt(n.toString(),10)].currentPageIndex,i),p.tileImageRender(t.toolbarActions[parseInt(n.toString(),10)].copiedPageIndex,0,t.toolbarActions[parseInt(n.toString(),10)].currentPageIndex,i,!0,!0,!1),p.updatePageDetail()}p.disableTileDeleteButton();break;case"Toolbar Delete":if(0<t.toolbarActions.length)for(n=t.toolbarActions.length-1;0<=n;n--){i=p.tileAreaDiv.childNodes[parseInt(t.toolbarActions[parseInt(n.toString(),10)].currentPageIndex.toString(),10)];p.deleteTempPage(t.toolbarActions[parseInt(n.toString(),10)].currentPageIndex,i),p.tileAreaDiv.removeChild(i),p.updatePageDetail()}p.disableTileDeleteButton()}}p.undoOrganizeCollection.push(e),p.enableDisableToolbarItems(),p.updateUndoRedoButtons()},this.rotateImages=function(e,t){if(0<e.toolbarActions.length)for(var i=0;i<e.toolbarActions.length;i++){var n,o=p.tileAreaDiv.childNodes[parseInt(e.toolbarActions[parseInt(i.toString(),10)].currentPageIndex.toString(),10)].querySelector(".e-pv-organize-image");o&&(n=parseFloat(o.style.transform.replace("rotate(","").replace("deg)",""))||0,o.style.transform="rotate("+(n=(n+t+360)%360)+"deg)",p.updateTempRotationDetail(e.toolbarActions[parseInt(i.toString(),10)].currentPageIndex,t))}},this.insertRightButtonClick=function(e){var t,i,n,o;p.pdfViewer.pageOrganizerSettings.canInsert&&(o=(e=e.currentTarget).id.split("_insert_page_")[e.id.split("_insert_page_").length-1],e=e.closest(".e-pv-organize-anchor-node"),t=parseInt(e.getAttribute("data-page-order"),10),o=o.split("_"),i=0,n=parseInt(o[parseInt((o.length-1).toString(),10)],10),1<o.length&&(n=parseInt(o[parseInt((o.length-2).toString(),10)],10)),i=p.getNextSubIndex(e.parentElement,n),p.insertTempPage(t,!1,e),p.tileImageRender(n,i,t+1,e,!0,!1,!0),p.updateTotalPageCount(),p.updatePageNumber(),p.disableTileDeleteButton(),p.disableTileCopyButton(),p.updateSelectAllCheckbox(),p.enableDisableToolbarItems(),(o=[]).push(p.clonedCollection(p.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===t+1}))),p.addOrganizeAction(o,"Insert Right",[],[],null,!1))},this.insertLeftButtonClick=function(e){var t,i,n,o;p.pdfViewer.pageOrganizerSettings.canInsert&&(o=(e=e.currentTarget).id.split("_insert_page_")[e.id.split("_insert_page_").length-1],e=e.closest(".e-pv-organize-anchor-node"),t=parseInt(e.getAttribute("data-page-order"),10),o=o.split("_"),i=0,n=parseInt(o[parseInt((o.length-1).toString(),10)],10),1<o.length&&(n=parseInt(o[parseInt((o.length-2).toString(),10)],10)),i=p.getNextSubIndex(e.parentElement,n),p.insertTempPage(t,!0,e),p.tileImageRender(n,i,t,e,!0,!0,!0),p.updateTotalPageCount(),p.updatePageNumber(),p.disableTileDeleteButton(),p.disableTileCopyButton(),p.updateSelectAllCheckbox(),p.enableDisableToolbarItems(),(o=[]).push(p.clonedCollection(p.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===t}))),p.addOrganizeAction(o,"Insert Left",[],[],null,!1))},this.copyButtonClick=function(e){var t,i,n,o;p.pdfViewer.pageOrganizerSettings.canCopy&&(o=(e=e.currentTarget).id.split("_copy_page_")[e.id.split("_copy_page_").length-1],e=e.closest(".e-pv-organize-anchor-node"),t=parseInt(e.getAttribute("data-page-order"),10),o=o.split("_"),i=0,n=parseInt(o[parseInt((o.length-1).toString(),10)],10),1<o.length&&(n=parseInt(o[parseInt((o.length-2).toString(),10)],10)),i=p.getNextSubIndex(e.parentElement,n),p.copyPage(t,e),p.tileImageRender(n,i,t+1,e,!0,!1,!1),p.updateTotalPageCount(),p.updatePageNumber(),p.disableTileDeleteButton(),(o=[]).push(p.clonedCollection(p.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===t+1}))),p.addOrganizeAction(o,"Copy",[],[],null,!1))},this.deleteButtonClick=function(e){var t,i;p.pdfViewer.pageOrganizerSettings.canDelete&&(e=e.currentTarget.closest(".e-pv-organize-anchor-node"),t=parseInt(e.getAttribute("data-page-order"),10),(i=[]).push(p.clonedCollection(p.tempOrganizePagesCollection.find(function(e){return e.currentPageIndex===t}))),p.addOrganizeAction(i,"Delete",[],[],null,!1),p.deletePageElement(e)),p.updateSelectAllCheckbox(),p.enableDisableToolbarItems()},this.pdfViewer=e,this.pdfViewerBase=t}(vs=v.PdfPageRotateAngle||(v.PdfPageRotateAngle={}))[vs.RotateAngle0=1]="RotateAngle0",vs[vs.RotateAngle90=2]="RotateAngle90",vs[vs.RotateAngle180=3]="RotateAngle180",vs[vs.RotateAngle270=4]="RotateAngle270",vs[vs.RotateAngle360=1]="RotateAngle360";function ks(e,t){this.pageIndex=e,this.rotationAngle=t}var Ps=function(e,t,i,n,o,r,a,s,l,A,d,p,h,c,g){this.currentPageIndex=e,this.pageIndex=t,this.copiedPageIndex=i,this.isInserted=n,this.isDeleted=o,this.isCopied=r,this.istargetCopied=a,this.hasEmptyPageAfter=s,this.hasEmptyPageBefore=l,this.rotateAngle=A,this.pageSize=d,this.isImportedDoc=p,this.documentName=h,this.password=c,this.documentData=g};v.AccessibilityTags=Ga,v.ActiveElements=Mt,v.AjaxHandler=Bn,v.AjaxRequestSettings=Ln,v.AnnotBounds=ws,v.AnnotBoundsBase=Ot,v.AnnotBoundsRect=Ut,v.AnnotColor=Bs,v.AnnotFontBase=Ht,v.AnnotPoint=ms,v.AnnotRectBase=zt,v.Annotation=e,v.AnnotationBaseSettings=Lt,v.AnnotationRenderer=rs,v.AnnotationSelectorSettings=mr,v.AnnotationSettings=br,v.AnnotationToolbar=xn,v.AnnotationToolbarSettings=Gn,v.Annotations=ts,v.AnnotationsBase=Jt,v.AnnotationsInternal=Gt,v.AreaSettings=Xo,v.ArrowSettings=Eo,v.BlazorUiAdaptor=tn,v.BookmarkBase=Ds,v.BookmarkDestination=xs,v.BookmarkStyles=Vs,v.BookmarkView=f,v.CalculateLeaderPoints=Qt,v.CheckBoxFieldSettings=oa,v.CircleSettings=Mo,v.CommandManager=Qa,v.ConnectTool=rt,v.ContextMenu=mn,v.ContextMenuSettings=Zr,v.CustomStamp=zn,v.CustomStampSettings=Ho,v.CustomToolbarItem=Pn,v.DistanceSettings=Jo,v.DocumentTextCollectionSettings=Fr,v.Drawing=Ye,v.DropdownFieldSettings=da,v.FontBase=Cs,v.FormDesigner=Ya,v.FormDesignerToolbar=Qn,v.FormDesignerToolbarSettings=Kn,v.FormField=Kr,v.FormFields=Ha,v.FormFieldsBase=ns,v.FreeTextAnnotation=kt,v.FreeTextAnnotationBase=ls,v.FreeTextSettings=ur,v.HandWrittenSignatureSettings=Dr,v.HighlightSettings=wo,v.IBounds=Yt,v.ImageStructureBase=bs,v.InitialFieldSettings=$n,v.InkAnnotation=ni,v.InkAnnotationSettings=ar,v.InkDrawingTool=it,v.InkSignatureAnnotation=As,v.InputElement=Nt,v.Item=fa,v.KeyGesture=Ba,v.KeyboardCommand=ya,v.LineSettings=So,v.LineTool=mt,v.LinkAnnotation=Wt,v.ListBoxFieldSettings=ca,v.Magnification=yn,v.MeasureAnnotation=Xt,v.MeasureShapeAnnotationBase=ps,v.MeasurementSettings=hr,v.MoveTool=_e,v.Navigation=An,v.NavigationPane=ri,v.NodeDrawingTool=pt,v.OrganizeDetails=Ps,v.PageInfo=Ir,v.PageOrganizer=Ts,v.PageOrganizerSettings=Va,v.PageRenderer=Wa,v.PageRotation=ks,v.PasswordFieldSettings=ta,v.Path=Ss,v.PdfAnnotationBase=ee,v.PdfBounds=W,v.PdfFont=X,v.PdfFormFieldBase=ie,v.PdfLayer=ss,v.PdfRenderedFields=os,v.PdfRenderer=Xa,v.PdfViewer=u,v.PdfViewerBase=F,v.PdfiumRunner=Ka,v.PerimeterSettings=Wo,v.PointBase=as,v.PolygonDrawingTool=gt,v.PolygonSettings=No,v.PopupAnnotationBase=us,v.Print=Ua,v.RadioButtonFieldSettings=sa,v.RadiusSettings=er,v.RectBounds=ja,v.RectangleBase=Is,v.RectangleBounds=Lr,v.RectangleSettings=xo,v.ResizeTool=lt,v.RotateTool=Ct,v.ScrollSettings=Gr,v.SearchResult=va,v.SelectTool=Ke,v.Selector=se,v.ServerActionSettings=lo,v.ShapeAnnotation=qt,v.ShapeAnnotationBase=ds,v.ShapeLabelSettings=To,v.Signature=Sn,v.SignatureAnnotationBase=hs,v.SignatureBase=Es,v.SignatureDialogSettings=ro,v.SignatureFieldSettings=_n,v.SignatureIndicatorSettings=io,v.SizeBase=es,v.Spinner=function(e,t,i,n){switch(e){case"Create":Ri({type:n,target:document.querySelector(t.target),cssClass:t.cssClass,label:t.label,width:t.width});break;case"Show":Xi(document.querySelector(i));break;case"Hide":$i(document.querySelector(i));break;case"Set":en({cssClass:t.cssClass,type:n})}},v.StampAnnotation=ei,v.StampAnnotationBase=_a,v.StampSettings=Uo,v.StampTool=$e,v.StickyNotesAnnotation=ii,v.StickyNotesSettings=Ar,v.StrikethroughSettings=ho,v.TextDataSettings=Pr,v.TextFieldSettings=qr,v.TextLayer=un,v.TextMarkupAnnotation=_t,v.TextMarkupAnnotationBase=fs,v.TextSearch=La,v.TextSearchColorSettings=Cr,v.TextSelection=Pa,v.ThumbnailView=En,v.TileRenderingSettings=zr,v.ToolBase=K,v.Toolbar=Dn,v.ToolbarSettings=Fn,v.UnderlineSettings=uo,v.VolumeSettings=nr,v.ZOrderPageTable=ne,v.clipDecorator=Ee,v.clipDecorators=Ie,v.cloneArray=ge,v.cloneObject=M,v.createSpinner=Ri,v.createSvg=Tt,v.findActiveElement=yt,v.findActivePage=function(e){var t=void 0;return e.target&&e.target.wrapper?e.target.pageIndex:e.target&&0<(e=e.target.id.split("_")).length?parseInt(e[e.length-1],10):t},v.findElementUnderMouse=Dt,v.findNearestPoint=Ne,v.findObjectUnderMouse=Et,v.findObjects=bt,v.findObjectsUnderMouse=It,v.findPerimeterLength=function(e){return J.Point.getLengthFromListOfPoints(e)},v.findPointsLength=pe,v.findTargetShapeElement=Vt,v.getArialFontData=is,v.getBaseShapeAttributes=he,v.getConnectorPoints=me,v.getDecoratorElement=ye,v.getDecoratorShape=Re,v.getFunction=ce,v.getInternalProperties=ue,v.getPolygonPath=ve,v.getSegmentElement=Ce,v.getSegmentPath=we,v.hideSpinner=$i,v.initDistanceLabel=Qe,v.initLeader=ke,v.initLeaders=Te,v.initPerimeterLabel=Ve,v.insertObject=xt,v.isLeader=fe,v.isLineShapes=Ae,v.isPointOverConnector=Pe,v.removePerimeterLabel=function(e){for(var t=0;t<e.wrapper.children.length;t++){var i=e.wrapper.children[parseInt(t.toString(),10)];i&&!G.isNullOrUndefined(i.content)&&e.wrapper.children.splice(t,1)}},v.renderAdornerLayer=Ft,v.setElementStype=de,v.setSpinner=en,v.showSpinner=Xi,v.textElement=Fe,v.updateCalibrateLabel=Me,v.updateDecoratorElement=Se,v.updateDistanceLabel=De,v.updatePerimeterLabel=be,v.updateRadiusLabel=xe,v.updateSegmentElement=Be,Object.defineProperty(v,"__esModule",{value:!0})});
//# sourceMappingURL=ej2-pdfviewer.umd.min.js.map
