{"index.html":"<html><head><link href=\"https://cdn.syncfusion.com/ej2/28.1.33/{{theme}}.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n            .control-section{\n                margin-top:100px;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\">\n\n\n<div class=\"col-lg-9 control-section\">\n  <div class=\"content-wrapper\">\n    <div id=\"payload-detail\"></div>\n    <div id=\"Grid\"></div>\n  </div>\n</div>\n\n\n<div class=\"col-lg-3 property-section sb-prop-details e-mac\">\n  <div>\n    <table id=\"property\" title=\"Properties\" style=\"width: 100%\">\n      <tbody><tr style=\"height: 50px\">\n        <td style=\"width: 50%\">\n          <div class=\"prop-name\">Service</div>\n        </td>\n        <td style=\"width: 50%; \">\n          <div class=\"prop-value\">\n            <input type=\"text\" tabindex=\"0\" id=\"service_drop\">\n          </div>\n        </td>\n      </tr>\n      <tr style=\"height: 50px\">\n        <td style=\"width: 50%\">\n          <div class=\"prop-name\">Adaptor</div>\n        </td>\n        <td style=\"width: 50%; \">\n          <div class=\"prop-value\">\n            <input type=\"text\" id=\"adaptor_txt\" aria-label=\"Adaptor\">\n          </div>\n        </td>\n      </tr>\n      <tr style=\"height: 40px\">\n        <td style=\"width: 50%\" colspan=\"2\">\n          <input type=\"checkbox\" id=\"pageCheckbox\">\n        </td>\n      </tr>\n      <tr class=\"params_show_hide\" style=\"height: 40px\">\n        <td style=\"width: 50%\" colspan=\"2\">\n          <div class=\"prop-name\" style=\"font-size: 15px;\">Additional Parameters</div>\n        </td>\n      </tr>\n      <tr class=\"params_show_hide\" style=\"height: 50px\">\n        <td style=\"width: 50%;\">\n          <div>\n            <input class=\"e-input\" style=\"width : 100%\" type=\"text\" id=\"paramsKey\" placeholder=\"Enter Name\">\n          </div>\n        </td>\n        <td style=\"width: 50%;\">\n          <div>\n            <input class=\"e-input\" style=\"width : 100%\" type=\"text\" id=\"paramsValue\" placeholder=\"Enter Value\">\n          </div>\n        </td>\n      </tr>\n      <tr class=\"params_show_hide\" style=\"height: 50px\">\n        <td style=\"width: 50%\">\n          <div class=\"prop-name\">\n            <button style=\" width :100%;\" id=\"additionalParams\" class=\"samplebtn e-control e-btn e-primary\" type=\"button\" data-ripple=\"true\">Add</button>\n          </div>\n        </td>\n        <td style=\"width: 50%;\">\n          <div>\n            <textarea style=\"width: 100%; height: 45px;\" class=\"e-input e-textarea\" rows=\"2\" id=\"addParams\" readonly=\"\" aria-label=\"Additional parameters\"></textarea>\n          </div>\n        </td>\n      </tr>\n      <tr class=\"header_show_hide\" style=\"height: 40px\">\n        <td style=\"width: 50%\" colspan=\"2\">\n          <div class=\"prop-name\" style=\"font-size: 15px;\">HTTP Headers</div>\n        </td>\n      </tr>\n      <tr class=\"header_show_hide\" style=\"height: 50px\">\n        <td style=\"width: 50%;\">\n          <div>\n            <input class=\"e-input\" style=\"width : 100%\" type=\"text\" id=\"hkey\" placeholder=\"Enter Key\">\n          </div>\n        </td>\n        <td style=\"width: 50%; \">\n          <div>\n            <input class=\"e-input\" style=\"width : 100%\" type=\"text\" id=\"hvalue\" placeholder=\"Enter Value\">\n          </div>\n        </td>\n      </tr>\n      <tr class=\"header_show_hide\" style=\"height: 50px\">\n        <td style=\"width: 50%\">\n          <div class=\"prop-name\">\n            <button style=\"width : 100%\" id=\"headerId\" class=\"samplebtn e-control e-btn e-primary\" type=\"button\" data-ripple=\"true\">Add</button>\n          </div>\n        </td>\n        <td style=\"width: 50%;\">\n          <div>\n            <textarea style=\"width: 100%; height: 45px;\" class=\"e-input e-textarea\" rows=\"2\" id=\"hdvalue\" readonly=\"\" aria-label=\"HTTP headers\"></textarea>\n          </div>\n        </td>\n      </tr>\n      <tr style=\"height: 50px\">\n        <td style=\"width: 50%;\" colspan=\"2\">\n          <div>\n            <button style=\"width:100%\" id=\"validateSubmit\" class=\"samplebtn e-control e-btn e-primary\" type=\"submit\" data-ripple=\"true\">Connect</button>\n          </div>\n        </td>\n      </tr>\n    </tbody></table>\n  </div>\n</div>\n</div>\n<!-- custom code end -->\n\n\n</body></html>","package.json":"{\n  \"@syncfusion/ej2-base\": \"*\",\n  \"@syncfusion/ej2-buttons\": \"*\",\n  \"@syncfusion/ej2-calendars\": \"*\",\n  \"@syncfusion/ej2-compression\": \"*\",\n  \"@syncfusion/ej2-data\": \"*\",\n  \"@syncfusion/ej2-dropdowns\": \"*\",\n  \"@syncfusion/ej2-excel-export\": \"*\",\n  \"@syncfusion/ej2-file-utils\": \"*\",\n  \"@syncfusion/ej2-inputs\": \"*\",\n  \"@syncfusion/ej2-lists\": \"*\",\n  \"@syncfusion/ej2-navigations\": \"*\",\n  \"@syncfusion/ej2-notifications\": \"*\",\n  \"@syncfusion/ej2-pdf-export\": \"*\",\n  \"@syncfusion/ej2-popups\": \"*\",\n  \"@syncfusion/ej2-splitbuttons\": \"*\",\n  \"markdown-spellcheck\": \"^1.3.1\",\n  \"@syncfusion/ej2-grids\": \"*\",\n  \"@syncfusion/ej2/data\": \"*\",\n  \"@syncfusion/ej2/base\": \"*\",\n  \"@syncfusion/ej2/inputs\": \"*\",\n  \"@types/crossroads\": \"0.0.28\",\n  \"@types/signals\": \"0.0.16\",\n  \"@types/moment-timezone\": \"^0.5.3\",\n  \"@types/hasher\": \"0.0.27\",\n  \"fuse.js\": \"^3.2.0\",\n  \"marked\": \"5.1.2\",\n  \"codemirror\": \"^5.37.0\",\n  \"crossroads\": \"^0.12.2\",\n  \"@types/marked\": \"5.0.1\",\n  \"@types/codemirror\": \"0.0.56\",\n  \"@types/es6-promise\": \"0.0.28\",\n  \"hasher\": \"^1.2.0\",\n  \"moment-timezone\": \"^0.5.14\"\n}","index.ts":"{{ripple}}\nimport { Grid, Filter, Page, Selection, ColumnModel, CheckBoxChangeEventArgs, DataStateChangeEventArgs, Sorts } from '@syncfusion/ej2-grids';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { ChangeEventArgs, DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { AdaptorOptions, DataManager, DataResult, ODataV4Adaptor, Query, UrlAdaptor, WebApiAdaptor } from '@syncfusion/ej2/data';\nimport { addClass, Ajax, removeClass } from '@syncfusion/ej2/base';\nimport { TextBox } from '@syncfusion/ej2/inputs';\n\nGrid.Inject(Filter, Page, Selection);\n\n\n    \n    let changedAdaptor: string = 'ODataV4Adaptor';\n    let selectedService: string = 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders/';\n    let defaultParam: string;\n    let defaultHeader: string;\n    let header: [string];\n    let params: [string];\n    const serviceURL: { [key: string]: Object }[] = [\n        { text: 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders/', value: 'ODataV4Adaptor' },\n        { text: 'http://localhost:62728/api/Orders', value: 'WebApiAdaptor' },\n        { text: 'http://localhost:62728/api/UrlDataSource', value: 'UrlAdaptor' },\n        { text: 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders', value: 'Custom Binding' }\n    ];\n    let defaultColumns: ColumnModel[] = [\n        { field: 'OrderID', headerText: 'Order ID', textAlign: 'Right', width: 120, type: 'number' },\n        { field: 'CustomerID', width: 140, headerText: 'Customer ID' },\n        { field: 'EmployeeID', headerText: 'Employee ID', width: 120, textAlign: 'Right' },\n        { field: 'ShipCity', headerText: 'Ship City', width: 140 },\n    ];\n    let empColumns: ColumnModel[] = [\n        { field: 'EmployeeID', headerText: 'Employee ID', width: 130, textAlign: 'Right' },\n        { field: 'Employees', headerText: 'Employee Name', width: 150 },\n        { field: 'Designation', headerText: 'Designation', width: 130 },\n        { field: 'CurrentSalary', headerText: 'Current Salary', format: \"C2\", textAlign: 'Right', width: 140 }\n    ];\n    if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n        document.body.classList.add('e-mac-safari');\n    }\n    let serviceDropdown: DropDownList = new DropDownList({\n        dataSource: serviceURL,\n        popupWidth: 'auto',\n        text: 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders/',\n        fields: { text: 'text', value: 'value' },\n        change: function (e: ChangeEventArgs) {\n            selectedService = e.itemData.text;\n            changedAdaptor = e.itemData.value;\n            (document.getElementById('adaptor_txt') as any).value = changedAdaptor;\n            let paramElements = document.querySelectorAll('.params_show_hide');\n            let headerElements = document.querySelectorAll('.header_show_hide');\n            removeClass(paramElements, 'hide_elem');\n            removeClass(headerElements, 'hide_elem');\n            if (changedAdaptor === 'Custom Binding') {\n                addClass(paramElements, 'hide_elem');\n                addClass(headerElements, 'hide_elem');\n            }\n        }\n    });\n    serviceDropdown.appendTo('#service_drop');\n\n    let adaptorTxtBox = new TextBox({\n        value: 'ODataV4Adaptor',\n        readonly: true,\n    });\n    adaptorTxtBox.appendTo('#adaptor_txt');\n\n    var defaultData = new DataManager({\n        url: 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders/',\n        adaptor: new ODataV4Adaptor(),\n        crossDomain: true\n    });\n    var grid = new Grid({\n        dataSource: defaultData,\n        columns: defaultColumns,\n        allowPaging: true,\n    });\n    grid.appendTo('#Grid');\n\n    document.getElementById('payload-detail').innerHTML = \"<b><u>Payload Information</u></b><br> Service URL: 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders/' <br> Adaptor Type: ODataV4Adaptor\";\n\n    var pagerCheckbox: CheckBox = new CheckBox({\n        checked: true,\n        cssClass: \"prop_page\",\n        label: 'Enable Paging'\n    });\n    pagerCheckbox.appendTo('#pageCheckbox');\n\n    document.getElementById('additionalParams').addEventListener('click', () => {\n        httpAdditionalInfo(\"paramsKey\", \"paramsValue\", \"addParams\")\n    })\n\n    document.getElementById('headerId').addEventListener('click', () => {\n        httpAdditionalInfo(\"hkey\", \"hvalue\", \"hdvalue\")\n    })\n\n    function createObjectArray(headers: any) {\n        let result = headers.trim().split('\\n').map((head: any) => JSON.parse(head))\n        return result;\n    }\n\n    const BASE_URL = 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders';\n    const ajax: Ajax = new Ajax({\n        type: 'GET', mode: true,\n        onFailure: (e: Error) => { return false; }\n    });\n\n    async function executeCustomData(state: DataStateChangeEventArgs) {\n        let result = await getData(state);\n        grid.changeDataSource(result, defaultColumns)\n    }\n\n    function getData(state: DataStateChangeEventArgs): Promise<DataResult> {\n        defaultParam = (document.getElementById(\"addParams\") as any).value\n        params = defaultParam ? createObjectArray(defaultParam) : [];\n        const pageQuery = `$skip=${state.skip}&$top=${state.take}`;\n        if (document.getElementById(\"pageCheckbox\")['ej2_instances'][0].checked) {\n            ajax.url = BASE_URL + \"?\" + pageQuery + \"&$count=true\";\n        }\n        else {\n            ajax.url = BASE_URL + \"?\" + \"&$count=true\";\n        }\n        return ajax.send().then((response: any) => {\n            let data: any = JSON.parse(response);\n            return { result: data['value'], count: parseInt(data['@odata.count'], 10) };\n        });\n    }\n\n    changedAdaptor = (document.getElementById('service_drop') as any).ej2_instances[0].value\n    document.getElementById('validateSubmit').onclick = function (e) {\n        grid.query.params = [];\n        grid.query.queries = [];\n        defaultParam = (document.getElementById(\"addParams\") as any).value\n        defaultHeader = (document.getElementById('hdvalue') as any).value;\n        header = defaultHeader ? createObjectArray(defaultHeader) : [];\n        params = defaultParam ? createObjectArray(defaultParam) : [];\n        let newDataSource: any;\n        let checkboxState: boolean = document.getElementById(\"pageCheckbox\")['ej2_instances'][0].checked;\n        let newQuery: Query = new Query();\n        params.forEach((obj: any) => {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    newQuery.addParams(key, value);\n                    if (changedAdaptor !== 'UrlAdaptor' && changedAdaptor !== 'Custom Binding' && !checkboxState) {\n                        if (key == 'skip') {\n                            newQuery.skip(value);\n                        }\n                        if (key == 'take') {\n                            newQuery.take(value);\n                        }\n                    }\n                }\n            }\n        });\n        grid.setProperties({ query: newQuery, allowPaging: checkboxState }, true);\n        if (changedAdaptor === 'Custom Binding') {\n            let state = { skip: 0, take: 12 };\n            executeCustomData(state);\n            grid.dataStateChange = function (args: DataStateChangeEventArgs) {\n                executeCustomData(args);\n            };\n        }\n        else {\n            let col = changedAdaptor === 'UrlAdaptor' ? empColumns : defaultColumns;\n            if (changedAdaptor === 'ODataV4Adaptor') {\n                newDataSource = new DataManager({\n                    url: 'http://localhost:62728/api/Orders',\n                    adaptor: new ODataV4Adaptor(),\n                    headers: header,\n                    crossDomain: true\n                });\n            }\n            else if (changedAdaptor === 'UrlAdaptor') {\n                newDataSource = new DataManager({\n                    url: 'http://localhost:62728/api/UrlDataSource',\n                    adaptor: new UrlAdaptor(),\n                    headers: header,\n                    crossDomain: true\n                });\n                grid.query.addParams('dataCount', '1000');\n            }\n            else if (changedAdaptor === 'WebApiAdaptor') {\n                newDataSource = new DataManager({\n                    url: 'http://localhost:62728/api/Orders',\n                    adaptor: new WebApiAdaptor(),\n                    headers: header,\n                    crossDomain: true\n                });\n            }\n            grid.changeDataSource(newDataSource, col)\n        }\n        let payloadInfo: string;\n        if (changedAdaptor === 'Custom Binding') {\n            payloadInfo = `<b><u>Payload Information</u></b><br> Custom Binding <br> Service URL: ${selectedService}`;\n        }\n        else {\n            payloadInfo = `<b><u>Payload Information</u></b><br> Service URL: ${selectedService} <br> Adaptor Type: ${changedAdaptor} <br> Additional Parameters: ${defaultParam} <br> Headers: ${defaultHeader}`;\n        }\n        document.getElementById('payload-detail').innerHTML = '';\n        document.getElementById('payload-detail').innerHTML += payloadInfo;\n        (document.getElementById(\"addParams\") as any).value = '';\n        (document.getElementById(\"hdvalue\") as any).value = '';\n    }\n\n    var httpAdditionalInfo = (name: string, val: string, btn: string) => {\n        let parameterKey = (document.getElementById(name) as any).value;\n        let parameterValue = (document.getElementById(val) as any).value;\n        parameterKey && parameterValue ? (document.getElementById(btn) as any).value += `{\"${parameterKey}\": \"${parameterValue}\"}\\n` : null;\n        (document.getElementById(name) as any).value = '';\n        (document.getElementById(val) as any).value = '';\n    }\n\n"}