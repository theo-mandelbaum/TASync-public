"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkej2_vue_samples"] = self["webpackChunkej2_vue_samples"] || []).push([["chunk-vendors-node_modules_syncfusion_ej2-kanban_src_kanban_actions_drag_js-cba4e07b"],{

/***/ "./node_modules/@syncfusion/ej2-kanban/src/kanban/actions/drag.js":
/*!************************************************************************!*\
  !*** ./node_modules/@syncfusion/ej2-kanban/src/kanban/actions/drag.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DragAndDrop: () => (/* binding */ DragAndDrop)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"./node_modules/@syncfusion/ej2-base/index.js\");\n/* harmony import */ var _base_css_constant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base/css-constant */ \"./node_modules/@syncfusion/ej2-kanban/src/kanban/base/css-constant.js\");\n/* harmony import */ var _base_constant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base/constant */ \"./node_modules/@syncfusion/ej2-kanban/src/kanban/base/constant.js\");\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\n\n\n/**\n * Drag and Drop module is used to perform card actions.\n */\nvar DragAndDrop = /** @class */ (function () {\n    /**\n     * Constructor for drag and drop module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     * @private\n     */\n    function DragAndDrop(parent) {\n        this.insertClone = 'afterend';\n        this.parent = parent;\n        this.dragObj = {\n            element: null, cloneElement: null, instance: null, targetClone: null, draggedClone: null, targetCloneMulti: null,\n            selectedCards: [], pageX: 0, pageY: 0, navigationInterval: null, cardDetails: [], modifiedData: []\n        };\n        this.dragEdges = { left: false, right: false, top: false, bottom: false };\n        this.isDragging = false;\n        this.isExternalDrop = false;\n    }\n    DragAndDrop.prototype.wireDragEvents = function (element) {\n        var dragContainment;\n        if (!this.parent.element != null && this.parent.externalDropId.length === 0) {\n            dragContainment = this.parent.element.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CLASS);\n        }\n        this.dragObj.instance = new _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Draggable(element, {\n            clone: true,\n            enableTapHold: this.parent.isAdaptive,\n            enableTailMode: true,\n            cursorAt: { top: -10, left: -10 },\n            dragArea: dragContainment,\n            dragStart: this.dragStart.bind(this),\n            drag: this.drag.bind(this),\n            dragStop: this.dragStop.bind(this),\n            enableAutoScroll: false,\n            helper: this.dragHelper.bind(this)\n        });\n    };\n    DragAndDrop.prototype.dragHelper = function (e) {\n        if (this.parent.isAdaptive && this.parent.touchModule.mobilePopup &&\n            this.parent.touchModule.mobilePopup.element.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.POPUP_OPEN_CLASS)) {\n            this.parent.touchModule.mobilePopup.hide();\n        }\n        this.dragObj.element = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(e.sender.target, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_CLASS);\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.dragObj.element)) {\n            return null;\n        }\n        this.dragObj.element.style.width = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)(this.dragObj.element.offsetWidth);\n        var cloneWrapper = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { innerHTML: this.dragObj.element.outerHTML });\n        this.dragObj.cloneElement = cloneWrapper.children.item(0);\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.dragObj.cloneElement], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CLONED_CARD_CLASS);\n        this.dragObj.element.parentElement.appendChild(this.dragObj.cloneElement);\n        this.dragObj.targetCloneMulti = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { className: _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.TARGET_MULTI_CLONE_CLASS });\n        this.dragObj.targetClone = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n            className: _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPED_CLONE_CLASS,\n            styles: 'width:100%;height:' + (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)(this.dragObj.element.offsetHeight)\n        });\n        this.dragObj.modifiedData = [];\n        return this.dragObj.cloneElement;\n    };\n    DragAndDrop.prototype.dragStart = function (e) {\n        var _this = this;\n        this.dragObj.selectedCards = this.dragObj.element;\n        this.borderElm = this.parent.element.querySelectorAll('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.BORDER_CLASS);\n        if (this.dragObj.element.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_SELECTION_CLASS)) {\n            var className = '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_CLASS + '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_SELECTION_CLASS + ':not(.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CLONED_CARD_CLASS + ')';\n            var closestEle = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(this.dragObj.element, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_ROW_CLASS);\n            this.dragObj.selectedCards = [].slice.call(closestEle.querySelectorAll(className));\n            this.dragObj.selectedCards.forEach(function (element) {\n                _this.dragObj.cardDetails.push(_this.parent.getCardDetails(element));\n            });\n        }\n        else {\n            this.dragObj.cardDetails = [this.parent.getCardDetails(this.dragObj.element)];\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.dragObj.selectedCards) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.dragObj.selectedCards.length) &&\n            this.dragObj.selectedCards.length >= 1) {\n            this.dragObj.selectedCards[0].closest('.e-content-cells').classList.add('e-dragged-column');\n        }\n        else if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.dragObj.selectedCards) &&\n            !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.dragObj.selectedCards.closest('.e-content-cells'))) {\n            this.dragObj.selectedCards.closest('.e-content-cells').classList.add('e-dragged-column');\n        }\n        var dragArgs = { cancel: false, data: this.dragObj.cardDetails, event: e, element: this.dragObj.selectedCards };\n        this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.dragStart, dragArgs, function (dragEventArgs) {\n            if (dragEventArgs.cancel) {\n                _this.removeElement(_this.dragObj.cloneElement);\n                _this.dragObj.instance.intDestroy(e);\n                _this.dragObj.element = null;\n                _this.dragObj.targetClone = null;\n                _this.dragObj.draggedClone = null;\n                _this.dragObj.cloneElement = null;\n                _this.dragObj.targetCloneMulti = null;\n                return;\n            }\n            if (_this.dragObj.element.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_SELECTION_CLASS)) {\n                _this.dragObj.selectedCards.forEach(function (element) { _this.draggedClone(element); });\n                if (_this.dragObj.selectedCards.length > 1) {\n                    _this.dragObj.cloneElement.innerHTML = '';\n                    var drag = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n                        className: 'e-multi-card-text',\n                        innerHTML: _this.dragObj.selectedCards.length + ' ' + _this.parent.localeObj.getConstant('cards')\n                    });\n                    _this.dragObj.cloneElement.appendChild(drag);\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.classList)(_this.dragObj.cloneElement, ['e-multi-card-clone'], [_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_SELECTION_CLASS]);\n                    if (_this.parent.enableVirtualization) {\n                        _this.parent.virtualLayoutModule.disableAttributeSelection(_this.dragObj.cloneElement);\n                    }\n                    else {\n                        _this.parent.layoutModule.disableAttributeSelection(_this.dragObj.cloneElement);\n                    }\n                    _this.dragObj.cloneElement.style.width = '90px';\n                }\n            }\n            else {\n                _this.draggedClone(_this.dragObj.element);\n            }\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.add(document.body, 'keydown', _this.keydownHandler, _this);\n            _this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.contentReady, {});\n        });\n    };\n    DragAndDrop.prototype.draggedClone = function (element) {\n        this.dragObj.draggedClone = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n            className: _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CLONE_CLASS,\n            styles: 'width:' + (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)(element.offsetWidth - 1) + ';height:' + (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)(element.offsetHeight)\n        });\n        element.insertAdjacentElement('afterend', this.dragObj.draggedClone);\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([element], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CARD_CLASS);\n    };\n    DragAndDrop.prototype.drag = function (e) {\n        var _this = this;\n        if (!e.target) {\n            return;\n        }\n        var cardElement = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(e.target, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.ROOT_CLASS + ' .' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_CLASS);\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(cardElement) && this.parent.enableVirtualization && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e.target.previousElementSibling) &&\n            !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e.target.previousElementSibling.querySelector('.e-target-dropped-clone'))) {\n            cardElement = e.target.previousElementSibling.querySelector('.e-target-dropped-clone').nextElementSibling;\n        }\n        var targetEle = e.target;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e.target.parentElement)) {\n            if (e.target.nodeName === 'SPAN' && e.target.classList.contains('e-empty-card')) {\n                targetEle = e.target.parentElement;\n            }\n            else if (e.target.nodeName === 'DIV' && e.target.classList.contains('e-kanban-border')) {\n                if (!(this.parent.element.querySelector('.e-target-dropped-clone') === e.target.nextElementSibling.firstChild)) {\n                    targetEle = e.target.parentElement;\n                }\n            }\n        }\n        var target = cardElement || targetEle;\n        var selector = '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_ROW_CLASS + ':not(.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.SWIMLANE_ROW_CLASS + ') .' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS\n            + '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPABLE_CLASS;\n        var contentCell = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(target, selector);\n        var cellDimension;\n        var borderElem;\n        var dropElement;\n        if (target.nextElementSibling && target.nextElementSibling.lastChild) {\n            dropElement = target.nextElementSibling.lastChild.previousElementSibling;\n        }\n        this.externalDrop(target);\n        this.kanbanObj = this.parent.isExternalKanbanDrop ? this.parent.externalDropObj : this.parent;\n        this.calculateArgs(e);\n        if (contentCell && document.body.style.cursor !== 'not-allowed') {\n            var targetKey = this.getColumnKey(contentCell);\n            var keys = targetKey.split(',');\n            this.multiCloneRemove();\n            var isDrag = (targetKey === this.getColumnKey((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(this.dragObj.draggedClone, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS)))\n                ? true : false;\n            if (keys.length === 1 || isDrag) {\n                if (target.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CLONE_CLASS)) {\n                    this.removeElement(this.dragObj.targetClone, this.kanbanObj);\n                }\n                if (target.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_CLASS) || this.insertClone === 'beforebegin') {\n                    var element = target.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CLONE_CLASS) ?\n                        (target.previousElementSibling.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CARD_CLASS) ? null : target.previousElementSibling)\n                        : target.previousElementSibling;\n                    this.insertClone = 'afterend';\n                    if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(element)) {\n                        var pageY = target.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CLONE_CLASS) ? (this.dragObj.pageY / 2) :\n                            this.dragObj.pageY;\n                        var height = target.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CLONE_CLASS) ? target.offsetHeight :\n                            (target.offsetHeight / 2);\n                        var kanbanTop = this.kanbanObj.element.getBoundingClientRect().top + window.scrollY;\n                        var targetTop = target.getBoundingClientRect().top + window.scrollY;\n                        var relativeTop = targetTop - kanbanTop;\n                        pageY = pageY - kanbanTop;\n                        if ((pageY - relativeTop) < height) {\n                            this.insertClone = 'beforebegin';\n                        }\n                    }\n                    if (target.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_CLASS)) {\n                        if (this.parent.enableVirtualization) {\n                            this.insertClone = this.isTargetElementVisible(target) ? this.insertClone : 'beforebegin';\n                        }\n                        target.insertAdjacentElement(this.insertClone, this.dragObj.targetClone);\n                    }\n                }\n                else if (target.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(target, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.SWIMLANE_ROW_CLASS)) {\n                    if (target.querySelectorAll('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CARD_CLASS).length !== 0 &&\n                        target.querySelectorAll('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_CLASS + ':not(.e-kanban-dragged-card):not(.e-cloned-card)').length === 0) {\n                        return;\n                    }\n                    else {\n                        target.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_WRAPPER_CLASS).appendChild(this.dragObj.targetClone);\n                    }\n                }\n                else if ((target.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_WRAPPER_CLASS) ||\n                    target.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_VIRTUAL_WRAPPER_CLASS)) &&\n                    !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(target, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.SWIMLANE_ROW_CLASS)\n                    && contentCell.querySelectorAll('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_CLASS).length === 0) {\n                    target.appendChild(this.dragObj.targetClone);\n                }\n                else if (target.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.BORDER_CLASS) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(target, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.SWIMLANE_ROW_CLASS)\n                    && (target.nextElementSibling && target.nextElementSibling.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_WRAPPER_CLASS))\n                    && this.dragObj.targetClone && (!dropElement || !dropElement.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPED_CLONE_CLASS))) {\n                    if (!this.parent.enableVirtualization && !this.isTargetElementVisible(target.nextElementSibling)) {\n                        target.nextElementSibling.appendChild(this.dragObj.targetClone);\n                    }\n                }\n            }\n            else if (keys.length > 1 && (contentCell.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS) ||\n                contentCell.firstChild && contentCell.firstChild.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS))) {\n                this.multiCloneCreate(keys, contentCell);\n            }\n            this.kanbanObj.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.contentReady, {});\n        }\n        if (this.kanbanObj.element.querySelectorAll('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS).length === 0) {\n            this.cellDropping();\n        }\n        var isCollapsed = false;\n        if (contentCell) {\n            isCollapsed = contentCell.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.COLLAPSED_CLASS) && contentCell.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS);\n            if (contentCell.getAttribute('aria-expanded') === 'true' || !contentCell.parentElement.hasAttribute('aria-expanded')) {\n                cellDimension = contentCell.getBoundingClientRect();\n                this.updateDimension(cellDimension);\n            }\n            borderElem = contentCell.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.BORDER_CLASS);\n        }\n        if (target && target.tagName === 'TABLE' && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(target.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_ROW_CLASS))) {\n            cellDimension = target.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_ROW_CLASS).getBoundingClientRect();\n            this.updateDimension(cellDimension, target);\n        }\n        if (isCollapsed) {\n            this.toggleVisible(target);\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([contentCell], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.TOGGLE_VISIBLE_CLASS);\n        }\n        var tColumn = [].slice.call(this.kanbanObj.element.querySelectorAll('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.TOGGLE_VISIBLE_CLASS));\n        if (tColumn.length > 0 && !target.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.TOGGLE_VISIBLE_CLASS)\n            && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(target, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.TOGGLE_VISIBLE_CLASS)) {\n            this.toggleVisible(target, tColumn.slice(-1)[0]);\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)(tColumn, _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.TOGGLE_VISIBLE_CLASS);\n        }\n        this.kanbanObj.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.contentReady, {});\n        var multiKeyTarget = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(target, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.MULTI_COLUMN_KEY_CLASS);\n        if (multiKeyTarget) {\n            var columnKeys = [].slice.call(this.kanbanObj.element.querySelectorAll('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.MULTI_COLUMN_KEY_CLASS + ':not(.' +\n                _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DISABLED_CLASS + ')')).filter(function (element) { return _this.getColumnKey(element) === _this.getColumnKey(multiKeyTarget); });\n            if (columnKeys.length > 0) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)(columnKeys, _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.MULTI_ACTIVE_CLASS);\n                if (columnKeys[0].previousElementSibling) {\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([columnKeys[0].previousElementSibling], 'e-multi-bottom-border');\n                }\n            }\n        }\n        document.body.style.cursor = (contentCell && contentCell.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS) ||\n            (contentCell && borderElem && borderElem.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS))) ? '' : 'not-allowed';\n        if (cardElement && !((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(cardElement, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS)).classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS) &&\n            !(contentCell && borderElem && borderElem.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS))) {\n            cardElement.style.cursor = 'not-allowed';\n            document.body.style.cursor = 'not-allowed';\n        }\n        if (this.isExternalDrop && document.body.style.cursor === 'not-allowed') {\n            document.body.style.cursor = '';\n        }\n        if (document.body.style.cursor === 'not-allowed') {\n            this.removeElement(this.dragObj.targetClone, this.kanbanObj);\n            this.multiCloneRemove();\n        }\n        this.updateScrollPosition();\n        var dragArgs = { data: this.dragObj.cardDetails, event: e, element: this.dragObj.selectedCards };\n        this.kanbanObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.drag, dragArgs);\n        this.parent.isExternalKanbanDrop = false;\n        this.isExternalDrop = false;\n    };\n    DragAndDrop.prototype.removeElement = function (element, kanbanObj) {\n        kanbanObj = kanbanObj ? kanbanObj : this.parent;\n        if (kanbanObj.element.getElementsByClassName(element.className).length > 0) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(element);\n        }\n    };\n    DragAndDrop.prototype.isTargetElementVisible = function (targetElem) {\n        var wrapperElem = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(targetElem, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_WRAPPER_CLASS);\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(wrapperElem)) {\n            var wrapperElemBottom = wrapperElem.getBoundingClientRect().bottom;\n            var targetElemBottom = targetElem.getBoundingClientRect().bottom;\n            if (targetElemBottom > wrapperElemBottom) {\n                return false;\n            }\n            return true;\n        }\n        return true;\n    };\n    DragAndDrop.prototype.externalDrop = function (target) {\n        var _this = this;\n        this.parent.externalDropId.forEach(function (externalDropId) {\n            var targetRootElement = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(target, externalDropId);\n            if (targetRootElement) {\n                if (targetRootElement.classList.contains('e-kanban')) {\n                    _this.parent.externalDropObj = document.querySelector(externalDropId).ej2_instances[0];\n                    _this.parent.isExternalKanbanDrop = true;\n                    var className = '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_ROW_CLASS + ':not(.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.SWIMLANE_ROW_CLASS +\n                        '):not(.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.COLLAPSED_CLASS + ') .' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS;\n                    var cells = [].slice.call(_this.parent.externalDropObj.element.querySelectorAll(className));\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)(cells, _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS);\n                }\n                else {\n                    _this.isExternalDrop = true;\n                }\n            }\n        });\n    };\n    DragAndDrop.prototype.multiCloneCreate = function (keys, contentCell) {\n        var offsetHeight = contentCell.offsetHeight;\n        var limitEle = contentCell.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.LIMITS_CLASS);\n        if (limitEle) {\n            offsetHeight -= limitEle.offsetHeight;\n        }\n        this.dragObj.targetCloneMulti.style.height = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)(offsetHeight);\n        if (contentCell.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.SHOW_ADD_BUTTON)) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([contentCell.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.SHOW_ADD_BUTTON)], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.MULTI_CARD_WRAPPER_CLASS);\n        }\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([contentCell.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_WRAPPER_CLASS)], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.MULTI_CARD_WRAPPER_CLASS);\n        contentCell.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_WRAPPER_CLASS).style.height = 'auto';\n        contentCell.style.borderStyle = 'none';\n        this.removeElement(this.dragObj.targetClone);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            var dragCell = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(this.dragObj.draggedClone, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS);\n            var transition = this.kanbanObj.columns[dragCell.cellIndex].transitionColumns;\n            var allowTransition = this.allowedTransition(this.dragObj.element.getAttribute('data-key'), key, transition);\n            var name_1 = allowTransition ? '' : ' ' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DISABLED_CLASS;\n            var colKey = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n                className: _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.MULTI_COLUMN_KEY_CLASS + name_1,\n                attrs: { 'data-key': key.trim() }\n            });\n            var text = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { className: 'e-text', innerHTML: key.trim() });\n            contentCell.appendChild(this.dragObj.targetCloneMulti).appendChild(colKey).appendChild(text);\n            colKey.style.cursor = allowTransition ? '' : 'not-allowed';\n            colKey.style.lineHeight = colKey.style.height = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)((offsetHeight / keys.length));\n            text.style.top = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)((offsetHeight / 2) - (text.offsetHeight / 2));\n        }\n    };\n    DragAndDrop.prototype.allowedTransition = function (currentCardKey, targetCardKey, allowedKey) {\n        var allowTransition = true;\n        var targetKey = targetCardKey.split(',');\n        for (var i = 0; i < targetKey.length; i++) {\n            if (currentCardKey === targetKey[i].trim()) {\n                return true;\n            }\n            if (allowedKey) {\n                if (allowedKey.length === 1 && allowedKey[0].length === 0) {\n                    return true;\n                }\n                for (var j = 0; j < allowedKey.length; j++) {\n                    if (targetKey[i].trim() === allowedKey[j].trim()) {\n                        return true;\n                    }\n                    else {\n                        allowTransition = false;\n                    }\n                }\n            }\n        }\n        return allowTransition;\n    };\n    DragAndDrop.prototype.cellDropping = function () {\n        var _this = this;\n        var dragCell = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(this.dragObj.draggedClone, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS);\n        var dragRow = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(this.dragObj.draggedClone, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_ROW_CLASS);\n        if (dragCell && dragCell.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROP_CLASS)) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([dragCell], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS);\n        }\n        this.addDropping(dragRow, dragCell);\n        if (this.kanbanObj.swimlaneSettings.keyField && this.kanbanObj.swimlaneSettings.allowDragAndDrop) {\n            var className = '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_ROW_CLASS + ':not(.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.SWIMLANE_ROW_CLASS + '):not(.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.COLLAPSED_CLASS + ')';\n            var rows = [].slice.call(this.kanbanObj.element.querySelectorAll(className));\n            [].slice.call(rows).forEach(function (row) {\n                if (dragRow !== row) {\n                    _this.addDropping(row, dragCell);\n                }\n            });\n        }\n    };\n    DragAndDrop.prototype.addDropping = function (dragRow, dragCell) {\n        var _this = this;\n        if (dragCell && this.borderElm && this.borderElm.length !== 0) {\n            if (dragCell.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS)) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([dragCell], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS);\n            }\n            var cellDimension = dragCell.getBoundingClientRect();\n            this.updateDimension(cellDimension);\n        }\n        else if (dragCell && dragRow) {\n            [].slice.call(dragRow.children).forEach(function (cell) {\n                var transition = _this.kanbanObj.columns[dragCell.cellIndex].transitionColumns;\n                if (cell !== dragCell && cell.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROP_CLASS) &&\n                    _this.allowedTransition(dragCell.getAttribute('data-key'), cell.getAttribute('data-key'), transition)) {\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([cell], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS);\n                }\n            });\n        }\n    };\n    DragAndDrop.prototype.updateDimension = function (dimensions, target) {\n        [].slice.call(this.borderElm).forEach(function (element) {\n            if (element.parentElement && (element.parentElement.getAttribute('aria-expanded') === 'true' || !element.parentElement.hasAttribute('aria-expanded'))) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([element], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS);\n            }\n            var hasAddButton = element.previousElementSibling;\n            element.style.height = parseInt(dimensions.height.toString(), 10) - (hasAddButton &&\n                hasAddButton.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.SHOW_ADD_BUTTON) ? hasAddButton.offsetHeight + hasAddButton.offsetTop : 0) + 'px';\n            if (!target || target.tagName !== 'TABLE') {\n                element.style.width = parseInt(dimensions.width.toString(), 10) + 'px';\n            }\n            element.style.left = (element.parentElement.getBoundingClientRect().left - (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(element, '.e-kanban').getBoundingClientRect().left) + 'px';\n        });\n    };\n    DragAndDrop.prototype.keydownHandler = function (e) {\n        if (e.code === 'Escape' && this.dragObj.cloneElement) {\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(this.dragObj.cloneElement, 'keydown', this.keydownHandler);\n            this.dragObj.element.removeAttribute('aria-grabbed');\n            this.dragStopClear();\n            this.dragStopPostClear();\n        }\n    };\n    DragAndDrop.prototype.dragStop = function (e) {\n        var _this = this;\n        var contentCell = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(this.dragObj.targetClone, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS);\n        if (this.parent.enableVirtualization && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(contentCell)) {\n            contentCell.classList.add('e-dropped-column');\n        }\n        var columnKey;\n        var dropIndex;\n        var dataDropIndexKeyfieldValue;\n        var isMultipleDrag;\n        _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(document.body, 'keydown', this.keydownHandler);\n        [].slice.call(this.borderElm).forEach(function (element) {\n            element.classList.remove(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS);\n        });\n        if (this.dragObj.targetClone.parentElement) {\n            isMultipleDrag = (this.dragObj.selectedCards && this.dragObj.selectedCards.length > 1\n                && this.parent.sortSettings.sortBy === 'Index');\n            var className = !isMultipleDrag ? '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_CLASS + ':not(.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CARD_CLASS + ', .' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CLONED_CARD_CLASS + '),.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPED_CLONE_CLASS :\n                '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_CLASS + ':not(.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CLONED_CARD_CLASS + '),.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPED_CLONE_CLASS;\n            var element = [].slice.call(this.dragObj.targetClone.parentElement.querySelectorAll(className));\n            dropIndex = element.indexOf(this.dragObj.targetClone);\n            if (this.parent.enableVirtualization && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.dragObj.targetClone.nextElementSibling)) {\n                dataDropIndexKeyfieldValue = this.dragObj.targetClone.nextElementSibling.getAttribute('data-id');\n            }\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.kanbanObj) && this.kanbanObj.element.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.TARGET_MULTI_CLONE_CLASS)) {\n            columnKey = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(e.target, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.MULTI_COLUMN_KEY_CLASS + ':not(.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DISABLED_CLASS + ')');\n        }\n        if (contentCell || columnKey) {\n            var cardStatus_1;\n            if (contentCell) {\n                cardStatus_1 = this.getColumnKey(contentCell);\n            }\n            else {\n                cardStatus_1 = this.getColumnKey(columnKey);\n                contentCell = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(columnKey, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS);\n            }\n            if (this.dragObj.selectedCards instanceof HTMLElement) {\n                this.updateDroppedData(this.dragObj.selectedCards, cardStatus_1, contentCell);\n            }\n            else {\n                this.dragObj.selectedCards.forEach(function (element) { _this.updateDroppedData(element, cardStatus_1, contentCell); });\n            }\n            if (this.parent.sortSettings.field && this.parent.sortSettings.sortBy === 'Index') {\n                this.changeOrder(this.dragObj.modifiedData, e.helper);\n            }\n        }\n        if (this.dragObj.modifiedData.length === 0) {\n            this.dragObj.modifiedData = this.dragObj.cardDetails;\n        }\n        var dragArgs = {\n            cancel: false, data: this.dragObj.modifiedData, event: e, element: this.dragObj.selectedCards,\n            dropIndex: dropIndex\n        };\n        this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.dragStop, dragArgs, function (dragEventArgs) {\n            _this.dragStopClear();\n            if (!dragEventArgs.cancel) {\n                if (contentCell || columnKey) {\n                    var updateCard = dragEventArgs.data instanceof Array &&\n                        dragEventArgs.data.length > 1 ? dragEventArgs.data :\n                        dragEventArgs.data[0];\n                    var draggedColumnKey = void 0;\n                    var droppedColumnKey = void 0;\n                    if (_this.parent.enableVirtualization) {\n                        draggedColumnKey = contentCell.closest('.e-kanban').querySelector('.e-dragged-column').getAttribute('data-key');\n                        droppedColumnKey = contentCell.getAttribute('data-key');\n                    }\n                    _this.parent.crudModule.updateCard(updateCard, dragEventArgs.dropIndex, true, dataDropIndexKeyfieldValue, draggedColumnKey, droppedColumnKey, isMultipleDrag);\n                    if (_this.parent.enableVirtualization) {\n                        _this.parent.virtualLayoutModule.refreshColumnData(draggedColumnKey, droppedColumnKey);\n                        _this.parent.virtualLayoutModule.ensureColumnNotEmpty(draggedColumnKey);\n                    }\n                }\n            }\n            _this.removeEmptyTrElement();\n            _this.dragStopPostClear();\n        });\n    };\n    DragAndDrop.prototype.removeEmptyTrElement = function () {\n        if (!this.parent.swimlaneSettings.showEmptyRow) {\n            var swimlaneRowList = this.parent.element.querySelectorAll('.e-content-row.e-swimlane-row');\n            for (var j = 0; j < swimlaneRowList.length; j++) {\n                var cardRowData = swimlaneRowList[j].nextElementSibling.querySelectorAll('.e-card-wrapper .e-card');\n                if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(swimlaneRowList[j].nextElementSibling) && cardRowData.length === 0) {\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(swimlaneRowList[j].nextElementSibling);\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(swimlaneRowList[j]);\n                }\n            }\n        }\n    };\n    DragAndDrop.prototype.dragStopClear = function () {\n        this.removeElement(this.dragObj.draggedClone);\n        this.removeElement(this.dragObj.targetClone, this.kanbanObj);\n        this.removeElement(this.dragObj.cloneElement);\n        var dragMultiClone = [].slice.call(this.parent.element.querySelectorAll('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CLONE_CLASS));\n        dragMultiClone.forEach(function (clone) { (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(clone); });\n        this.dragObj.element.style.removeProperty('width');\n        this.multiCloneRemove();\n        if (this.dragObj.selectedCards instanceof HTMLElement) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.dragObj.selectedCards], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CARD_CLASS);\n        }\n        else {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.dragObj.selectedCards, _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CARD_CLASS);\n        }\n        clearInterval(this.dragObj.navigationInterval);\n        this.dragObj.navigationInterval = null;\n        if (document.body.style.cursor === 'not-allowed') {\n            document.body.style.cursor = '';\n        }\n        var styleCards = [].slice.call(this.parent.element.querySelectorAll('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_CLASS + '[style]'));\n        styleCards.forEach(function (styleCard) { styleCard.style.cursor = ''; });\n        var className = '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_ROW_CLASS + ':not(.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.SWIMLANE_ROW_CLASS + ')';\n        var cells = [].slice.call(this.parent.element.querySelectorAll(className + ' .' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS));\n        cells.forEach(function (cell) { return (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([cell], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS); });\n        if (this.parent.externalDropObj) {\n            var externalCells = [].slice.call(this.parent.externalDropObj.element.querySelectorAll(className + ' .' +\n                _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS));\n            externalCells.forEach(function (externalCell) { return (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([externalCell], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DROPPING_CLASS); });\n        }\n    };\n    DragAndDrop.prototype.dragStopPostClear = function () {\n        if (this.parent.isAdaptive) {\n            this.parent.touchModule.tabHold = false;\n        }\n        if (this.parent.element.querySelector('.e-dragged-column')) {\n            this.parent.element.querySelector('.e-dragged-column').classList.remove('e-dragged-column');\n        }\n        if (this.parent.element.querySelector('.e-dropped-column')) {\n            this.parent.element.querySelector('.e-dropped-column').classList.remove('e-dropped-column');\n        }\n        this.dragObj.cardDetails = this.dragObj.modifiedData = [];\n        this.isDragging = false;\n        this.parent.isExternalKanbanDrop = false;\n        this.parent.externalDropObj = null;\n    };\n    DragAndDrop.prototype.updateDroppedData = function (element, cardStatus, contentCell) {\n        var crudObj = this.parent.getCardDetails(element);\n        var crudData = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)({}, crudObj, null, true);\n        if (cardStatus.split(',').length === 1) {\n            crudData[this.parent.keyField] = cardStatus;\n        }\n        if (this.parent.swimlaneSettings.keyField && this.parent.swimlaneSettings.allowDragAndDrop) {\n            var prev = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(contentCell, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_ROW_CLASS).previousElementSibling;\n            if (this.parent.isAdaptive) {\n                var keyField = this.parent.layoutModule.kanbanRows[this.parent.layoutModule.swimlaneIndex].keyField;\n                crudData[this.parent.swimlaneSettings.keyField] = keyField;\n            }\n            else {\n                crudData[this.parent.swimlaneSettings.keyField] = this.getColumnKey(prev);\n            }\n        }\n        this.dragObj.modifiedData.push(crudData);\n    };\n    DragAndDrop.prototype.changeOrder = function (modifieddata, draggedCard) {\n        var _this = this;\n        var prevele = false;\n        var element;\n        if (this.kanbanObj.sortSettings.direction === 'Ascending') {\n            element = (draggedCard === this.dragObj.targetClone.previousElementSibling) &&\n                (this.dragObj.targetClone.previousElementSibling &&\n                    this.dragObj.targetClone.previousElementSibling.previousElementSibling) ?\n                this.dragObj.targetClone.previousElementSibling.previousElementSibling : this.dragObj.targetClone.previousElementSibling;\n        }\n        else {\n            element = this.dragObj.targetClone.nextElementSibling;\n        }\n        if (element && !element.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CARD_CLASS) && !element.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CLONED_CARD_CLASS)\n            && !element.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.DRAGGED_CLONE_CLASS)) {\n            prevele = true;\n        }\n        else if (this.dragObj.targetClone.nextElementSibling && this.kanbanObj.sortSettings.direction === 'Ascending') {\n            element = this.dragObj.targetClone.nextElementSibling;\n        }\n        else if (this.dragObj.targetClone.previousElementSibling && this.kanbanObj.sortSettings.direction === 'Descending') {\n            element = this.dragObj.targetClone.previousElementSibling;\n        }\n        else {\n            return;\n        }\n        if (element.classList.contains(_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_CLASS)) {\n            var obj = this.kanbanObj.getCardDetails(element);\n            var keyIndex_1 = obj[this.kanbanObj.sortSettings.field];\n            if (modifieddata.length > 1 && this.kanbanObj.sortSettings.direction === 'Descending') {\n                modifieddata = modifieddata.reverse();\n            }\n            modifieddata.forEach(function (data, index) {\n                if (prevele) {\n                    data[_this.kanbanObj.sortSettings.field] = ++keyIndex_1;\n                }\n                else if (keyIndex_1 !== 1 && index <= data[_this.kanbanObj.sortSettings.field]) {\n                    data[_this.kanbanObj.sortSettings.field] = --keyIndex_1;\n                }\n                else if (keyIndex_1 === 1) {\n                    data[_this.kanbanObj.sortSettings.field] = index + 1;\n                }\n            });\n        }\n    };\n    DragAndDrop.prototype.toggleVisible = function (target, tColumn) {\n        var _this = this;\n        var headerCells = '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.HEADER_CELLS_CLASS + ':not(.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.STACKED_HEADER_CELL_CLASS + ')';\n        var lists = [].slice.call(this.kanbanObj.element.querySelectorAll(headerCells));\n        lists.forEach(function (list) {\n            if (_this.getColumnKey(list) === _this.getColumnKey(tColumn || target)) {\n                _this.kanbanObj.actionModule.columnToggle(list);\n            }\n        });\n        var cloneTarget = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(this.dragObj.draggedClone, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS);\n        if (cloneTarget) {\n            var width = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)(cloneTarget.offsetWidth - _base_constant__WEBPACK_IMPORTED_MODULE_2__.cardSpace);\n            this.dragObj.draggedClone.style.width = width;\n            this.dragObj.cloneElement.style.width = width;\n        }\n    };\n    DragAndDrop.prototype.multiCloneRemove = function () {\n        var cloneMulti = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.kanbanObj) ? [].slice.call(this.kanbanObj.element.querySelectorAll('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.TARGET_MULTI_CLONE_CLASS)) : [];\n        if (cloneMulti.length > 0) {\n            var columnKey = [].slice.call(this.kanbanObj.element.querySelectorAll('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.MULTI_COLUMN_KEY_CLASS));\n            columnKey.forEach(function (node) { return (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(node); });\n            cloneMulti.forEach(function (node) {\n                var cell = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(node, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CELLS_CLASS);\n                if (cell) {\n                    cell.style.borderStyle = '';\n                    if (cell.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.SHOW_ADD_BUTTON)) {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([cell.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.SHOW_ADD_BUTTON)], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.MULTI_CARD_WRAPPER_CLASS);\n                    }\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([cell.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_WRAPPER_CLASS)], _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.MULTI_CARD_WRAPPER_CLASS);\n                }\n            });\n            this.removeElement(this.dragObj.targetCloneMulti, this.kanbanObj);\n        }\n    };\n    DragAndDrop.prototype.calculateArgs = function (e) {\n        var eventArgs = this.getPageCoordinates(e);\n        this.dragObj.pageY = eventArgs.pageY;\n        this.dragObj.pageX = eventArgs.pageX;\n        this.isDragging = true;\n        if (this.kanbanObj.isAdaptive && this.kanbanObj.tooltipModule) {\n            this.kanbanObj.tooltipModule.tooltipObj.close();\n        }\n    };\n    DragAndDrop.prototype.getPageCoordinates = function (e) {\n        var eventArgs = e.event;\n        return eventArgs && eventArgs.changedTouches ? eventArgs.changedTouches[0] : e.changedTouches ? e.changedTouches[0] :\n            eventArgs || e;\n    };\n    DragAndDrop.prototype.getColumnKey = function (target) {\n        if (target && target.getAttribute('data-key')) {\n            return target.getAttribute('data-key').trim();\n        }\n        return '';\n    };\n    DragAndDrop.prototype.updateScrollPosition = function () {\n        var _this = this;\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.dragObj.navigationInterval)) {\n            this.dragObj.navigationInterval = window.setInterval(function () { _this.autoScroll(); }, 100);\n        }\n    };\n    DragAndDrop.prototype.autoScrollValidation = function () {\n        var pageY = this.dragObj.pageY;\n        var pageX = this.dragObj.pageX;\n        var autoScrollDistance = 30;\n        var dragEdges = { left: false, right: false, top: false, bottom: false };\n        var viewBoundaries = this.kanbanObj.element.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CLASS).getBoundingClientRect();\n        if ((pageY < viewBoundaries.top + autoScrollDistance + window.pageYOffset) &&\n            (pageY > viewBoundaries.top + window.pageYOffset)) {\n            dragEdges.top = true;\n        }\n        if ((pageY > (viewBoundaries.bottom - autoScrollDistance) + window.pageYOffset) &&\n            (pageY < viewBoundaries.bottom + window.pageYOffset)) {\n            dragEdges.bottom = true;\n        }\n        if ((pageX < viewBoundaries.left + autoScrollDistance + window.pageXOffset) &&\n            (pageX > viewBoundaries.left + window.pageXOffset)) {\n            dragEdges.left = true;\n        }\n        if ((pageX > (viewBoundaries.right - autoScrollDistance) + window.pageXOffset) &&\n            (pageX < viewBoundaries.right + window.pageXOffset)) {\n            dragEdges.right = true;\n        }\n        this.dragEdges = dragEdges;\n    };\n    DragAndDrop.prototype.autoScroll = function () {\n        this.autoScrollValidation();\n        var scrollSensitivity = 30;\n        if (this.kanbanObj.isAdaptive) {\n            var parent_1;\n            if (this.dragEdges.top || this.dragEdges.bottom) {\n                if (this.dragObj.targetClone) {\n                    parent_1 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(this.dragObj.targetClone, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_WRAPPER_CLASS);\n                }\n                else {\n                    parent_1 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(this.dragObj.draggedClone, '.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CARD_WRAPPER_CLASS);\n                }\n            }\n            else if (this.dragEdges.right || this.dragEdges.left) {\n                parent_1 = this.kanbanObj.element.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CLASS);\n            }\n            if (parent_1) {\n                var yIsScrollable = parent_1.offsetHeight <= parent_1.scrollHeight;\n                var xIsScrollable = parent_1.offsetWidth <= parent_1.scrollWidth;\n                var yInBounds = parent_1.scrollTop >= 0 && parent_1.scrollTop + parent_1.offsetHeight <= parent_1.scrollHeight;\n                var xInBounds = parent_1.scrollLeft >= 0 && parent_1.scrollLeft + parent_1.offsetWidth <= parent_1.scrollWidth;\n                if (yIsScrollable && yInBounds && (this.dragEdges.top || this.dragEdges.bottom)) {\n                    parent_1.scrollTop += this.dragEdges.top ? -(scrollSensitivity + 36) : scrollSensitivity;\n                }\n                if (xIsScrollable && xInBounds && (this.dragEdges.left || this.dragEdges.right)) {\n                    var width = this.parent.enableVirtualization ? this.kanbanObj.virtualLayoutModule.getWidth() :\n                        this.kanbanObj.layoutModule.getWidth();\n                    var scroll_1 = (width * (this.kanbanObj.columns.length - 1)) >\n                        parent_1.scrollLeft;\n                    if (scroll_1 || this.dragEdges.left) {\n                        parent_1.scrollLeft += this.dragEdges.left ? -scrollSensitivity : scrollSensitivity;\n                    }\n                }\n            }\n        }\n        else {\n            var parent_2 = this.kanbanObj.element.querySelector('.' + _base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CONTENT_CLASS);\n            var column = this.dragObj.targetClone.parentElement;\n            var yScrollable = parent_2.offsetHeight <= parent_2.scrollHeight;\n            var xScrollable = parent_2.offsetWidth <= parent_2.scrollWidth;\n            var yBounds = yScrollable && parent_2.scrollTop >= 0 && parent_2.scrollTop + parent_2.offsetHeight <= parent_2.scrollHeight;\n            var xBounds = xScrollable && parent_2.scrollLeft >= 0 && parent_2.scrollLeft + parent_2.offsetWidth <= parent_2.scrollWidth;\n            if (yBounds && (this.dragEdges.top || this.dragEdges.bottom)) {\n                parent_2.scrollTop += this.dragEdges.top ? -scrollSensitivity : scrollSensitivity;\n                if (this.parent.swimlaneSettings.enableFrozenRows) {\n                    this.dragObj.cloneElement.style.top = !this.dragEdges.top ? (parseInt(this.dragObj.cloneElement.style.top, 10) + scrollSensitivity) + 'px' : (parseInt(this.dragObj.cloneElement.style.top, 10) - scrollSensitivity) + 'px';\n                }\n                if (column) {\n                    column.scrollTop += this.dragEdges.top ? -scrollSensitivity : scrollSensitivity;\n                }\n            }\n            if (xBounds && (this.dragEdges.left || this.dragEdges.right)) {\n                parent_2.scrollLeft += this.dragEdges.left ? -scrollSensitivity : scrollSensitivity;\n                if (column) {\n                    column.scrollLeft += this.dragEdges.left ? -scrollSensitivity : scrollSensitivity;\n                }\n            }\n            if (this.dragObj.pageY - window.scrollY < scrollSensitivity) {\n                window.scrollTo(window.scrollX, window.scrollY - scrollSensitivity);\n            }\n            else if (window.innerHeight - (this.dragObj.pageY - window.scrollY) < scrollSensitivity) {\n                window.scrollTo(window.scrollX, window.scrollY + scrollSensitivity);\n            }\n        }\n    };\n    DragAndDrop.prototype.unWireDragEvents = function (element) {\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(element) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(element.ej2_instances[0])) {\n            var dragInstance = element.ej2_instances[0];\n            if (dragInstance && !dragInstance.isDestroyed) {\n                dragInstance.destroy();\n            }\n        }\n    };\n    return DragAndDrop;\n}());\n\n\n\n//# sourceURL=webpack://ej2-vue-samples/./node_modules/@syncfusion/ej2-kanban/src/kanban/actions/drag.js?");

/***/ })

}]);