"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkej2_vue_samples"] = self["webpackChunkej2_vue_samples"] || []).push([["chunk-vendors-node_modules_syncfusion_ej2-pivotview_src_common_popups_drillthrough-dialog_js-a2cddbf-c180cd32"],{

/***/ "./node_modules/@syncfusion/ej2-pivotview/src/common/popups/drillthrough-dialog.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@syncfusion/ej2-pivotview/src/common/popups/drillthrough-dialog.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DrillThroughDialog: () => (/* binding */ DrillThroughDialog)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_popups__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-popups */ \"./node_modules/@syncfusion/ej2-popups/index.js\");\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"./node_modules/@syncfusion/ej2-base/index.js\");\n/* harmony import */ var _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/base/css-constant */ \"./node_modules/@syncfusion/ej2-pivotview/src/common/base/css-constant.js\");\n/* harmony import */ var _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @syncfusion/ej2-grids */ \"./node_modules/@syncfusion/ej2-grids/index.js\");\n/* harmony import */ var _common_base_constant__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/base/constant */ \"./node_modules/@syncfusion/ej2-pivotview/src/common/base/constant.js\");\n/* harmony import */ var _syncfusion_ej2_inputs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @syncfusion/ej2-inputs */ \"./node_modules/@syncfusion/ej2-inputs/index.js\");\n/* harmony import */ var _base_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../base/util */ \"./node_modules/@syncfusion/ej2-pivotview/src/base/util.js\");\n\n\n\n\n\n\n\n\n\n/**\n * `DrillThroughDialog` module to create drill-through dialog.\n */\n/** @hidden */\nvar DrillThroughDialog = /** @class */ (function () {\n    /**\n     * Constructor for the dialog action.\n     *\n     * @param {PivotView} parent - parent.\n     * @hidden\n     */\n    function DrillThroughDialog(parent) {\n        /** @hidden */\n        this.indexString = [];\n        this.isUpdated = false;\n        this.parent = parent;\n        this.engine = this.parent.dataType === 'olap' ? this.parent.olapEngineModule : this.parent.engineModule;\n    }\n    /**\n     * show Drill Through Dialog\n     *\n     * @param {DrillThroughEventArgs} eventArgs - eventArgs.\n     * @returns {void}\n     * @hidden */\n    DrillThroughDialog.prototype.showDrillThroughDialog = function (eventArgs) {\n        var _this = this;\n        var gridData = eventArgs.rawData;\n        var clonedData = [];\n        var gridIndexObjects = {};\n        for (var i = 0; i < eventArgs.rawData.length; i++) {\n            clonedData.push(_base_util__WEBPACK_IMPORTED_MODULE_6__.PivotUtil.frameHeaderWithKeys(eventArgs.rawData[i]));\n        }\n        // let actualText: string = eventArgs.currentCell.actualText.toString();\n        try {\n            if (this.parent.currentView === 'Table' && this.parent.editSettings.allowInlineEditing &&\n                this.parent.editSettings.allowEditing && eventArgs.rawData.length === 1) {\n                this.parent.actionObj.actionName = _common_base_constant__WEBPACK_IMPORTED_MODULE_4__.editRecord;\n                if (this.parent.actionBeginMethod()) {\n                    return;\n                }\n                this.editCell(eventArgs, gridData);\n            }\n            else {\n                this.removeDrillThroughDialog();\n                var drillThroughDialog = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n                    id: this.parent.element.id + '_drillthrough',\n                    className: _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_DIALOG\n                });\n                this.parent.element.appendChild(drillThroughDialog);\n                this.dialogPopUp = new _syncfusion_ej2_popups__WEBPACK_IMPORTED_MODULE_0__.Dialog({\n                    animationSettings: { effect: 'Fade' },\n                    allowDragging: false,\n                    header: this.parent.localeObj.getConstant('details'),\n                    content: this.createDrillThroughGrid(eventArgs, gridData),\n                    cssClass: this.parent.cssClass,\n                    beforeOpen: function () {\n                        _this.drillThroughGrid.setProperties({\n                            dataSource: _this.parent.editSettings.allowEditing ?\n                                _this.dataWithPrimarykey(eventArgs, gridData, gridIndexObjects) : gridData,\n                            height: !_this.parent.editSettings.allowEditing ? 300 : 220\n                        }, false);\n                    },\n                    beforeClose: function () {\n                        if (_this.parent.editSettings.allowEditing && _this.isUpdated) {\n                            if (_this.parent.dataSourceSettings.type === 'CSV') {\n                                _this.updateData(_this.drillThroughGrid.dataSource);\n                            }\n                            var gridIndexObjectsValue = Object.keys(gridIndexObjects);\n                            var previousPosition = [];\n                            for (var _i = 0, gridIndexObjectsValue_1 = gridIndexObjectsValue; _i < gridIndexObjectsValue_1.length; _i++) {\n                                var value = gridIndexObjectsValue_1[_i];\n                                previousPosition.push(gridIndexObjects[value]);\n                            }\n                            var count = Object.keys(gridIndexObjects).length;\n                            var addItems = [];\n                            var prevItems = [];\n                            var index = 0;\n                            for (var _a = 0, _b = _this.drillThroughGrid.dataSource; _a < _b.length; _a++) {\n                                var item = _b[_a];\n                                if (item['__index'] === '0' || item['__index'] === '') {\n                                    for (var _c = 0, _d = _this.engine.fields; _c < _d.length; _c++) {\n                                        var field = _d[_c];\n                                        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.isNullOrUndefined)(item[field])) {\n                                            delete item[field];\n                                        }\n                                    }\n                                    delete item['__index'];\n                                    addItems.push(item);\n                                }\n                                else if (count > 0) {\n                                    delete gridIndexObjects[item['__index'].toString()];\n                                    prevItems.push(item);\n                                    count--;\n                                }\n                                if (_this.parent.dataSourceSettings.mode === 'Server') {\n                                    if (item['__index']) {\n                                        delete item['__index'];\n                                    }\n                                    if (gridData[index]['__index']) {\n                                        delete gridData[index]['__index'];\n                                    }\n                                }\n                                index++;\n                            }\n                            count = 0;\n                            if (_this.parent.dataSourceSettings.mode === 'Server') {\n                                var gridIndex = [];\n                                var keys = Object.keys(gridIndexObjects);\n                                for (var len = 0; len < keys.length; len++) {\n                                    delete _this.parent.drillThroughValue.indexObject[gridIndexObjects[keys[len]]];\n                                    gridIndex.push({ Key: keys[len], Value: gridIndexObjects[keys[len]] });\n                                }\n                                _this.parent.getEngine('updateRawData', null, null, null, null, null, null, null, {\n                                    'addedData': addItems, 'removedData': gridIndex, 'updatedData': prevItems,\n                                    indexObject: _this.parent.drillThroughValue.indexObject\n                                });\n                            }\n                            else {\n                                var items = [];\n                                var data = _this.parent.allowDataCompression\n                                    ? _this.parent.engineModule.actualData : _this.parent.engineModule.data;\n                                for (var _e = 0, _f = data; _e < _f.length; _e++) {\n                                    var item = _f[_e];\n                                    delete item['__index'];\n                                    if (gridIndexObjects[count.toString()] === undefined) {\n                                        items.push(item);\n                                    }\n                                    count++;\n                                }\n                                items = items.concat(addItems);\n                                var eventArgs_1 = {\n                                    currentData: _this.drillThroughGrid.dataSource,\n                                    previousData: clonedData,\n                                    previousPosition: previousPosition,\n                                    cancel: false\n                                };\n                                _this.parent.trigger(_common_base_constant__WEBPACK_IMPORTED_MODULE_4__.editCompleted, eventArgs_1);\n                                if (!eventArgs_1.cancel) {\n                                    _this.parent.setProperties({ dataSourceSettings: { dataSource: items } }, true);\n                                    _this.engine.updateGridData(_this.parent.dataSourceSettings);\n                                    _this.parent.pivotValues = _this.engine.pivotValues;\n                                }\n                            }\n                            _this.parent.actionObj.actionName = _common_base_constant__WEBPACK_IMPORTED_MODULE_4__.recordUpdated;\n                            var actionInfo = {\n                                editInfo: {\n                                    type: _this.drillThroughGrid.editSettings.mode, action: 'Update', currentData: _this.drillThroughGrid.dataSource,\n                                    previousData: clonedData, previousPosition: previousPosition\n                                }\n                            };\n                            _this.parent.actionObj.actionInfo = actionInfo;\n                        }\n                        _this.isUpdated = false;\n                        gridIndexObjects = {};\n                    },\n                    isModal: true,\n                    visible: true,\n                    showCloseIcon: true,\n                    locale: this.parent.locale,\n                    enableRtl: this.parent.enableRtl,\n                    enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                    width: this.parent.isAdaptive ? '100%' : '60%',\n                    position: { X: 'center', Y: 'center' },\n                    closeOnEscape: !this.parent.editSettings.allowEditing,\n                    target: document.body,\n                    close: this.removeDrillThroughDialog.bind(this)\n                });\n                this.dialogPopUp.isStringTemplate = true;\n                this.dialogPopUp.appendTo(drillThroughDialog);\n                // this.dialogPopUp.element.querySelector('.e-dlg-header').innerText = this.parent.localeObj.getConstant('details');\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.setStyleAttribute)(this.dialogPopUp.element, { 'visibility': 'visible' });\n                var drillKeyConfigs = {\n                    escape: 'escape'\n                };\n                if (this.parent.editSettings.allowEditing) {\n                    this.drillthroughKeyboardModule = new _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.KeyboardEvents(this.dialogPopUp.element, {\n                        keyAction: this.drillthroughKeyActionHandler.bind(this),\n                        keyConfigs: drillKeyConfigs,\n                        eventName: 'keydown'\n                    });\n                }\n            }\n        }\n        catch (execption) {\n            this.parent.actionFailureMethod(execption);\n        }\n    };\n    DrillThroughDialog.prototype.editCell = function (eventArgs, gridData) {\n        var _this = this;\n        var gridResize = this.parent.gridSettings.allowResizing;\n        var actualText = eventArgs.currentCell.actualText.toString();\n        var indexObject = Number(Object.keys(eventArgs.currentCell.indexObject));\n        eventArgs.currentTarget.firstElementChild.style.display = 'none';\n        var cellValue = Number(eventArgs.rawData[0][actualText]);\n        var previousData = _base_util__WEBPACK_IMPORTED_MODULE_6__.PivotUtil.frameHeaderWithKeys(eventArgs.rawData[eventArgs.rawData.length - 1]);\n        var currentData = eventArgs.rawData[eventArgs.rawData.length - 1];\n        // if (eventArgs.currentCell.actualText in previousData) {\n        //     currentData[eventArgs.currentCell.actualText] = eventArgs.currentCell.actualValue;\n        // }\n        var actionInfo = {\n            editInfo: { type: 'Inline editing', action: 'update', data: gridData }\n        };\n        this.parent.actionObj.actionInfo = actionInfo;\n        var numericTextBox = new _syncfusion_ej2_inputs__WEBPACK_IMPORTED_MODULE_5__.NumericTextBox({\n            value: cellValue,\n            enableRtl: this.parent.enableRtl,\n            enabled: true,\n            format: '####.##',\n            locale: this.parent.locale,\n            cssClass: this.parent.cssClass,\n            change: function () {\n                var textBoxValue = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.isNullOrUndefined)(numericTextBox.value) ? 0 : numericTextBox.value;\n                var indexValue = eventArgs.currentCell.indexObject[indexObject];\n                eventArgs.rawData[0][actualText] = textBoxValue;\n                _this.parent.engineModule.data[indexValue] = eventArgs.rawData[0];\n            },\n            blur: function () {\n                var eventArgs = {\n                    currentData: [currentData],\n                    previousData: [previousData],\n                    previousPosition: [currentData.index],\n                    cancel: false\n                };\n                _this.parent.trigger(_common_base_constant__WEBPACK_IMPORTED_MODULE_4__.editCompleted, eventArgs);\n                if (!eventArgs.cancel) {\n                    if (_this.parent.dataSourceSettings.mode === 'Server') {\n                        var dataIndex = {};\n                        dataIndex[indexObject] = indexObject;\n                        var prevItems = [currentData];\n                        _this.parent.getEngine('updateRawData', null, null, null, null, null, null, null, {\n                            'addedData': [], 'removedData': [], 'updatedData': prevItems,\n                            indexObject: dataIndex\n                        });\n                    }\n                    else {\n                        _this.parent.setProperties({ dataSourceSettings: { dataSource: _this.parent.engineModule.data } }, true);\n                        _this.engine.updateGridData(_this.parent.dataSourceSettings);\n                        _this.parent.pivotValues = _this.engine.pivotValues;\n                        _this.parent.gridSettings.allowResizing = gridResize;\n                    }\n                }\n            }\n        });\n        var textBoxElement = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.createElement)('input', {\n            id: this.parent.element.id + '_inputbox'\n        });\n        eventArgs.currentTarget.appendChild(textBoxElement);\n        numericTextBox.appendTo(textBoxElement);\n        eventArgs.currentCell.value = numericTextBox.value;\n        numericTextBox.focusIn();\n        this.parent.gridSettings.allowResizing = false;\n    };\n    DrillThroughDialog.prototype.updateData = function (dataSource) {\n        var dataPos = 0;\n        var data = this.parent.allowDataCompression ?\n            this.parent.engineModule.actualData : this.parent.engineModule.data;\n        while (dataPos < dataSource.length) {\n            var fields = Object.keys(dataSource[dataPos]);\n            var keyPos = 0;\n            var framedSet = [];\n            while (keyPos < fields.length) {\n                if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.isNullOrUndefined)(this.parent.engineModule.fieldKeys[fields[keyPos]])) {\n                    framedSet[this.parent.engineModule.fieldKeys[fields[keyPos]]] =\n                        ((dataSource)[dataPos])[fields[keyPos]];\n                }\n                keyPos++;\n            }\n            data[Number(dataSource[dataPos]['__index'])] = framedSet;\n            dataPos++;\n        }\n        if (this.parent.allowDataCompression) {\n            this.parent.engineModule.actualData = data;\n        }\n        else {\n            this.parent.engineModule.data = data;\n        }\n    };\n    DrillThroughDialog.prototype.removeDrillThroughDialog = function () {\n        if (this.dialogPopUp && !this.dialogPopUp.isDestroyed) {\n            this.parent.actionObj.actionName = _common_base_constant__WEBPACK_IMPORTED_MODULE_4__.drillThroughClosed;\n            if (this.parent.actionObj.actionName) {\n                this.parent.actionCompleteMethod();\n            }\n            this.dialogPopUp.destroy();\n        }\n        var dialogElement = document.getElementById(this.parent.element.id + '_drillthrough');\n        if (dialogElement) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.remove)(dialogElement);\n        }\n        if (document.getElementById(this.parent.element.id + '_drillthroughgrid_ccdlg')) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.remove)(document.getElementById(this.parent.element.id + '_drillthroughgrid_ccdlg'));\n        }\n    };\n    DrillThroughDialog.prototype.createDrillThroughGrid = function (eventArgs, gridData) {\n        var _this = this;\n        var drillThroughBody = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { id: this.parent.element.id + '_drillthroughbody', className: _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_BODY_CLASS });\n        var drillThroughBodyHeader = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n            id: this.parent.element.id +\n                '_drillthroughbodyheader', className: _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_BODY_HEADER_CONTAINER_CLASS\n        });\n        if (eventArgs.rowHeaders !== '') {\n            drillThroughBodyHeader.innerHTML = '<span class=' +\n                _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_BODY_HEADER_COMMON_CLASS + '><span class=' + _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_BODY_HEADER_CLASS + '>' +\n                this.parent.localeObj.getConstant('row') + '</span> : <span class=' +\n                _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_BODY_HEADER_VALUE_CLASS + '>' + eventArgs.rowHeaders + '</span></span>';\n        }\n        if (eventArgs.columnHeaders !== '') {\n            drillThroughBodyHeader.innerHTML = drillThroughBodyHeader.innerHTML + '<span class=' +\n                _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_BODY_HEADER_COMMON_CLASS + '><span class=' +\n                _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_BODY_HEADER_CLASS + '>' + this.parent.localeObj.getConstant('column') +\n                '</span> : <span class=' + _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_BODY_HEADER_VALUE_CLASS + '>' +\n                eventArgs.columnHeaders + '</span></span>';\n        }\n        if (eventArgs.value !== '') {\n            var measure = eventArgs.value.split('(')[0];\n            var value = eventArgs.value.split('(')[1].split(')')[0];\n            if (value !== '0') {\n                drillThroughBodyHeader.innerHTML = drillThroughBodyHeader.innerHTML + '<span class=' +\n                    _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_BODY_HEADER_COMMON_CLASS + '><span class=' +\n                    _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_BODY_HEADER_CLASS + '>' +\n                    measure + '</span> : <span class=' + _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_BODY_HEADER_VALUE_CLASS + '>' + value + '</span></span>';\n            }\n        }\n        var toolbarItems = ['ColumnChooser'];\n        if (this.parent.editSettings.allowEditing) {\n            if (this.parent.editSettings.allowCommandColumns) {\n                toolbarItems = ['ColumnChooser', 'Add'];\n            }\n            else if (this.parent.editSettings.mode === 'Batch') {\n                toolbarItems = ['ColumnChooser', 'Add', 'Delete', 'Update', 'Cancel'];\n            }\n            else if (this.parent.editSettings.mode === 'Dialog') {\n                toolbarItems = ['ColumnChooser', 'Add', 'Edit', 'Delete'];\n            }\n            else {\n                toolbarItems = ['ColumnChooser', 'Add', 'Edit', 'Delete', 'Update', 'Cancel'];\n            }\n        }\n        var drillThroughGrid = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { id: this.parent.element.id + '_drillthroughgrid', className: _common_base_css_constant__WEBPACK_IMPORTED_MODULE_2__.DRILLTHROUGH_GRID_CLASS });\n        _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Grid.Inject(_syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Selection, _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Reorder, _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Resize, _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Toolbar, _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.ColumnChooser);\n        this.drillThroughGrid = new _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Grid({\n            cssClass: this.parent.cssClass,\n            gridLines: 'Default',\n            allowResizing: true,\n            allowReordering: true,\n            showColumnChooser: true,\n            enableHover: false,\n            toolbar: toolbarItems,\n            columns: eventArgs.gridColumns,\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enableVirtualization: !this.parent.editSettings.allowEditing,\n            allowPaging: this.parent.editSettings.allowEditing,\n            pageSettings: { pageSize: 20 },\n            rowHeight: this.parent.gridSettings.rowHeight,\n            height: '100%'\n        });\n        if (this.parent.dataType === 'olap') {\n            this.formatData(gridData);\n        }\n        var dialogModule = this;\n        this.parent.trigger(_common_base_constant__WEBPACK_IMPORTED_MODULE_4__.beginDrillThrough, {\n            cellInfo: eventArgs,\n            gridObj: this.drillThroughGrid,\n            type: 'editing'\n        });\n        if (this.drillThroughGrid.allowExcelExport) {\n            _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Grid.Inject(_syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.ExcelExport);\n        }\n        if (this.drillThroughGrid.allowPdfExport) {\n            _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Grid.Inject(_syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.PdfExport);\n        }\n        if (this.parent.editSettings.allowEditing) {\n            _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Grid.Inject(_syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Edit, _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Page);\n            try {\n                this.drillThroughGrid.editSettings = this.parent.editSettings;\n                this.drillThroughGrid.actionBegin = function (args) {\n                    var actionName = (args.requestType === 'save') ? _common_base_constant__WEBPACK_IMPORTED_MODULE_4__.saveEditedRecords :\n                        (args.requestType === 'add') ? _common_base_constant__WEBPACK_IMPORTED_MODULE_4__.addNewRecord : (args.requestType === 'delete') ?\n                            _common_base_constant__WEBPACK_IMPORTED_MODULE_4__.removeRecord : '';\n                    _this.parent.actionObj.actionName = actionName;\n                    if (_this.parent.actionObj.actionName) {\n                        if (_this.parent.actionBeginMethod()) {\n                            return;\n                        }\n                    }\n                };\n                if (this.parent.editSettings.allowCommandColumns) {\n                    this.drillThroughGrid.editSettings.mode = 'Normal';\n                    this.drillThroughGrid.editSettings.allowEditOnDblClick = false;\n                    _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Grid.Inject(_syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.CommandColumn);\n                    this.drillThroughGrid.columns.push({\n                        headerText: this.parent.localeObj.getConstant('manageRecords'), width: 160, showInColumnChooser: false,\n                        commands: [\n                            { type: 'Edit', buttonOption: { iconCss: ' e-icons e-edit', cssClass: 'e-flat' + (this.parent.cssClass ? (' ' + this.parent.cssClass) : '') } },\n                            { type: 'Delete', buttonOption: { iconCss: 'e-icons e-delete', cssClass: 'e-flat' + (this.parent.cssClass ? (' ' + this.parent.cssClass) : '') } },\n                            { type: 'Save', buttonOption: { iconCss: 'e-icons e-update', cssClass: 'e-flat' + (this.parent.cssClass ? (' ' + this.parent.cssClass) : '') } },\n                            { type: 'Cancel', buttonOption: { iconCss: 'e-icons e-cancel-icon', cssClass: 'e-flat' + (this.parent.cssClass ? (' ' + this.parent.cssClass) : '') } }\n                        ]\n                    });\n                }\n                else {\n                    this.drillThroughGrid.editSettings.allowEditOnDblClick = this.parent.editSettings.allowEditOnDblClick;\n                }\n                this.drillThroughGrid.columns.push({\n                    field: '__index', visible: false, isPrimaryKey: true, type: 'string', showInColumnChooser: false,\n                    defaultValue: '0', validationRules: { required: true }\n                });\n            }\n            catch (execption) {\n                this.parent.actionFailureMethod(execption);\n            }\n            this.drillThroughGrid.actionComplete = function (args) {\n                if (args.requestType === 'batchsave' || args.requestType === 'save' || args.requestType === 'delete') {\n                    dialogModule.isUpdated = true;\n                }\n                _this.parent.actionObj.actionName = _this.parent.getActionCompleteName();\n                var actionInfo = {\n                    editInfo: { type: _this.drillThroughGrid.editSettings.mode, action: args.requestType, data: gridData }\n                };\n                _this.parent.actionObj.actionInfo = actionInfo;\n                if (_this.parent.actionObj.actionName) {\n                    _this.parent.actionCompleteMethod();\n                }\n                if ((dialogModule.drillThroughGrid.editSettings.mode === 'Normal' && args.requestType === 'save' &&\n                    dialogModule.drillThroughGrid.element.querySelectorAll('.e-tbar-btn:hover').length > 0 &&\n                    !dialogModule.parent.editSettings.allowCommandColumns) || args.requestType === 'batchsave') {\n                    dialogModule.dialogPopUp.hide();\n                }\n            };\n            this.drillThroughGrid.beforeBatchSave = function () {\n                dialogModule.isUpdated = true;\n            };\n        }\n        else {\n            _syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.Grid.Inject(_syncfusion_ej2_grids__WEBPACK_IMPORTED_MODULE_3__.VirtualScroll);\n        }\n        document.body.appendChild(drillThroughGrid);\n        this.drillThroughGrid.isStringTemplate = true;\n        this.drillThroughGrid.appendTo(drillThroughGrid);\n        drillThroughBody.appendChild(drillThroughBodyHeader);\n        drillThroughBody.appendChild(drillThroughGrid);\n        return drillThroughBody;\n    };\n    /**\n     * frame Grid Columns\n     *\n     * @param {IDataSet[]} rawData - rawData.\n     * @returns {ColumnModel[]} - frame Grid Columns\n     * @hidden */\n    DrillThroughDialog.prototype.frameGridColumns = function (rawData) {\n        this.engine = this.parent.dataType === 'olap' ? this.parent.olapEngineModule : this.parent.engineModule;\n        var keys = this.parent.dataType === 'olap' ? rawData[0] ? Object.keys(rawData[0]) : [] :\n            Object.keys(this.engine.fieldList);\n        var columns = [];\n        var formatList = {};\n        if (this.parent.dataSourceSettings.formatSettings.length > 0) {\n            for (var i = 0; i < this.parent.dataSourceSettings.formatSettings.length; i++) {\n                formatList[this.parent.dataSourceSettings.formatSettings[i].name] =\n                    this.parent.dataSourceSettings.formatSettings[i].format;\n            }\n        }\n        if (this.parent.dataType === 'olap') {\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                columns.push({\n                    field: key.replace(/_x005B_|_x0020_|_x005D_|_x0024_/g, '').replace('].[', '').split('.').reverse().join(''),\n                    headerText: key.replace(/_x005B_|_x005D_|_x0024_/g, '').replace(/_x0020_/g, ' ').\n                        replace('].[', '').split('.').reverse().join('.'),\n                    width: 120,\n                    visible: true,\n                    validationRules: { required: true },\n                    format: !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.isNullOrUndefined)(formatList[key]) ? formatList[key] : null,\n                    type: !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.isNullOrUndefined)(formatList[key]) ? null : 'string'\n                });\n            }\n        }\n        else {\n            for (var _a = 0, keys_2 = keys; _a < keys_2.length; _a++) {\n                var key = keys_2[_a];\n                if (this.engine.fieldList[key].aggregateType !== 'CalculatedField') {\n                    var editType = '';\n                    var type = null;\n                    var isDateField = ((this.engine.fieldList[key].type === 'date' || this.engine.fieldList[key].type === 'datetime')\n                        && (this.isDateFieldExist(key) || (rawData[0] && rawData[0][key] && rawData[0][key].toString().indexOf(' ') === -1))) ? true : false;\n                    if (this.engine.fieldList[key].type === 'number') {\n                        editType = 'numericedit';\n                        type = 'number';\n                    }\n                    else if (this.engine.fieldList[key].type === 'date' && isDateField) {\n                        editType = 'datepickeredit';\n                        type = 'date';\n                    }\n                    else if (this.engine.fieldList[key].type === 'datetime' && isDateField) {\n                        editType = 'datetimepickeredit';\n                        type = 'date';\n                    }\n                    else {\n                        editType = 'defaultedit';\n                    }\n                    if (this.parent.engineModule.formatFields[key]) {\n                        type = this.parent.engineModule.formatFields[key].type;\n                    }\n                    var caption = this.parent.enableHtmlSanitizer ?\n                        _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.SanitizeHtmlHelper.sanitize(this.engine.fieldList[key].caption)\n                        : this.engine.fieldList[key].caption;\n                    columns.push({\n                        field: key,\n                        headerText: caption,\n                        width: 120,\n                        visible: this.engine.fieldList[key].isSelected,\n                        validationRules: { required: true },\n                        editType: editType,\n                        format: !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.isNullOrUndefined)(formatList[key]) ? formatList[key] : undefined,\n                        type: !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.isNullOrUndefined)(formatList[key]) ? type : 'string'\n                    });\n                }\n            }\n        }\n        return columns;\n    };\n    DrillThroughDialog.prototype.isDateFieldExist = function (key) {\n        for (var len = 0; len < this.parent.dataSourceSettings.formatSettings.length; len++) {\n            if (this.parent.dataSourceSettings.formatSettings[len].name === key &&\n                this.parent.dataSourceSettings.formatSettings[len].type.indexOf('date') > -1) {\n                return true;\n            }\n        }\n        for (var len = 0; len < this.parent.dataSourceSettings.fieldMapping.length; len++) {\n            if (this.parent.dataSourceSettings.fieldMapping[len].name === key &&\n                this.parent.dataSourceSettings.fieldMapping[len].dataType &&\n                this.parent.dataSourceSettings.fieldMapping[len].dataType.indexOf('date') > -1) {\n                return true;\n            }\n        }\n        return false;\n    };\n    DrillThroughDialog.prototype.formatData = function (gridData) {\n        var index = 0;\n        while (index < gridData.length) {\n            var data = gridData[index];\n            var keys = Object.keys(gridData[index]);\n            var newData = {};\n            var i = 0;\n            while (i < keys.length) {\n                var key = keys[i].replace(/_x005B_|_x0020_|_x005D_|_x0024_/g, '').replace('].[', '').split('.').reverse().join('');\n                newData[key] = data[keys[i]];\n                i++;\n            }\n            gridData[index] = newData;\n            index++;\n        }\n    };\n    DrillThroughDialog.prototype.dataWithPrimarykey = function (eventArgs, gridData, gridIndexObjects) {\n        var indexString = this.indexString.length > 0 ? this.indexString : Object.keys(eventArgs.currentCell.indexObject);\n        var rawData = gridData;\n        var count = 0;\n        for (var _i = 0, rawData_1 = rawData; _i < rawData_1.length; _i++) {\n            var item = rawData_1[_i];\n            item['__index'] = indexString[count];\n            gridIndexObjects[indexString[count].toString()] = Number(indexString[count]);\n            count++;\n        }\n        return rawData;\n    };\n    DrillThroughDialog.prototype.drillthroughKeyActionHandler = function (e) {\n        switch (e.action) {\n            case 'escape':\n                this.processClose(e);\n                break;\n        }\n    };\n    DrillThroughDialog.prototype.processClose = function (e) {\n        var target = e.target;\n        if (target && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.closest)(target, '.e-popup.e-popup-open')) {\n            var dialogInstance = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.getInstance)((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_1__.closest)(target, '.e-popup.e-popup-open'), _syncfusion_ej2_popups__WEBPACK_IMPORTED_MODULE_0__.Dialog);\n            if (dialogInstance && !dialogInstance.closeOnEscape) {\n                var button = dialogInstance.element.getAttribute('data-fieldName');\n                dialogInstance.hide();\n                if (this.parent.element) {\n                    var pivotButtons = [].slice.call(this.parent.element.querySelectorAll('.e-pivot-button'));\n                    for (var _i = 0, pivotButtons_1 = pivotButtons; _i < pivotButtons_1.length; _i++) {\n                        var item = pivotButtons_1[_i];\n                        if (item.getAttribute('data-uid') === button) {\n                            item.focus();\n                            break;\n                        }\n                    }\n                }\n                e.preventDefault();\n                return;\n            }\n        }\n    };\n    /**\n     * To destroy the drillthrough keyboard module.\n     *\n     * @returns  {void}\n     * @hidden\n     */\n    DrillThroughDialog.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.drillthroughKeyboardModule && !this.drillthroughKeyboardModule.isDestroyed) {\n            this.drillthroughKeyboardModule.destroy();\n            this.drillthroughKeyboardModule = null;\n        }\n        else {\n            return;\n        }\n    };\n    return DrillThroughDialog;\n}());\n\n\n\n//# sourceURL=webpack://ej2-vue-samples/./node_modules/@syncfusion/ej2-pivotview/src/common/popups/drillthrough-dialog.js?");

/***/ })

}]);