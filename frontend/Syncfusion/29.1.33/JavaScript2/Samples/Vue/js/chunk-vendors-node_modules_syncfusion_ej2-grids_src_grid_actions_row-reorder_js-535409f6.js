"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkej2_vue_samples"] = self["webpackChunkej2_vue_samples"] || []).push([["chunk-vendors-node_modules_syncfusion_ej2-grids_src_grid_actions_row-reorder_js-535409f6"],{

/***/ "./node_modules/@syncfusion/ej2-grids/src/grid/actions/row-reorder.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@syncfusion/ej2-grids/src/grid/actions/row-reorder.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RowDD: () => (/* binding */ RowDD)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"./node_modules/@syncfusion/ej2-base/index.js\");\n/* harmony import */ var _base_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base/util */ \"./node_modules/@syncfusion/ej2-grids/src/grid/base/util.js\");\n/* harmony import */ var _base_constant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base/constant */ \"./node_modules/@syncfusion/ej2-grids/src/grid/base/constant.js\");\n/* harmony import */ var _actions_scroll__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../actions/scroll */ \"./node_modules/@syncfusion/ej2-grids/src/grid/actions/scroll.js\");\n/* harmony import */ var _syncfusion_ej2_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @syncfusion/ej2-data */ \"./node_modules/@syncfusion/ej2-data/index.js\");\n/* harmony import */ var _base_string_literals__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../base/string-literals */ \"./node_modules/@syncfusion/ej2-grids/src/grid/base/string-literals.js\");\n\n\n\n\n\n\n\n\n\n// eslint-disable-next-line valid-jsdoc, jsdoc/require-param, jsdoc/require-returns\n/**\n *\n * Reorder module is used to handle row reordering.\n *\n * @hidden\n */\nvar RowDD = /** @class */ (function () {\n    /**\n     * Constructor for the Grid print module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function RowDD(parent) {\n        var _this = this;\n        this.selectedRows = [];\n        this.isOverflowBorder = true;\n        this.selectedRowColls = [];\n        this.isRefresh = true;\n        this.isReplaceDragEle = true;\n        this.istargetGrid = false;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        this.helper = function (e) {\n            var gObj = _this.parent;\n            var target = _this.draggable.currentStateTarget;\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(target) && gObj.rowDropSettings.targetID && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(target.classList) && !target.classList.contains('e-rowcell')) {\n                target = (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-rowcell');\n            }\n            var visualElement = _this.parent.createElement('div', {\n                className: 'e-cloneproperties e-draganddrop e-grid e-dragclone'\n            });\n            visualElement.style.height = 'auto';\n            var table = _this.parent.createElement('table', { attrs: { role: 'grid' } });\n            var tbody = _this.parent.createElement(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.tbody, { attrs: { role: 'rowgroup' } });\n            if (document.getElementsByClassName('e-griddragarea').length ||\n                (gObj.rowDropSettings.targetID && ((!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(target) && !target.classList.contains('e-selectionbackground')\n                    && gObj.selectionSettings.type !== 'Single') || !(0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-rowcell'))) ||\n                (!gObj.rowDropSettings.targetID && !(0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-rowdragdrop'))) {\n                return false;\n            }\n            if (gObj.rowDropSettings.targetID &&\n                gObj.selectionSettings.mode === 'Row' && gObj.selectionSettings.type === 'Single') {\n                gObj.selectRow(parseInt(_this.draggable.currentStateTarget.parentElement\n                    .getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1);\n            }\n            _this.startedRow = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(target, 'tr').cloneNode(true);\n            if (_this.parent.isFrozenGrid()) {\n                var nodes = [].slice.call(_this.startedRow.querySelectorAll('.e-rowcell'));\n                for (var i = 0; i < nodes.length; i++) {\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([nodes[parseInt(i.toString(), 10)]], ['e-leftfreeze', 'e-freezeleftborder', 'e-fixedfreeze', 'e-freezerightborder', 'e-rightfreeze', 'e-unfreeze']);\n                    nodes[parseInt(i.toString(), 10)].removeAttribute('style');\n                }\n            }\n            _this.processArgs(target);\n            var args = {\n                selectedRow: _this.rows, dragelement: target,\n                cloneElement: visualElement, cancel: false, data: _this.rowData\n            };\n            var selectedRows = gObj.getSelectedRows();\n            gObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.rowDragStartHelper, args);\n            var cancel = 'cancel';\n            if (args[\"\" + cancel]) {\n                return false;\n            }\n            (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.removeElement)(_this.startedRow, '.e-indentcell');\n            (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.removeElement)(_this.startedRow, '.e-detailrowcollapse');\n            (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.removeElement)(_this.startedRow, '.e-detailrowexpand');\n            if (!(gObj.enableInfiniteScrolling && gObj.infiniteScrollSettings.enableCache)) {\n                _this.removeCell(_this.startedRow, _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.gridChkBox);\n            }\n            var activeCells = _this.startedRow.querySelectorAll('.e-active');\n            activeCells.forEach(function (cell) { return cell.classList.remove('e-active'); });\n            tbody.appendChild(_this.startedRow);\n            if (gObj.getSelectedRowIndexes().length > 1 && _this.startedRow.hasAttribute('aria-selected')) {\n                var dropCountEle = _this.parent.createElement('span', {\n                    className: 'e-dropitemscount', innerHTML: '' + selectedRows.length\n                });\n                visualElement.appendChild(dropCountEle);\n            }\n            var ele = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(target, 'tr').querySelector('.e-icon-rowdragicon');\n            if (ele) {\n                ele.classList.add('e-dragstartrow');\n            }\n            table.appendChild(tbody);\n            visualElement.appendChild(table);\n            gObj.element.appendChild(visualElement);\n            return visualElement;\n        };\n        this.dragStart = function (e) {\n            var gObj = _this.parent;\n            if ((gObj.enableVirtualization || gObj.infiniteScrollSettings.enableCache) && gObj.allowGrouping &&\n                gObj.groupSettings.columns.length && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e.target.closest('tr'))) {\n                var dragTrs = e.dragElement.querySelectorAll('tr');\n                var indentCells = e.target.closest('tr').querySelectorAll('.e-indentcell');\n                for (var i = 0; i < dragTrs.length; i++) {\n                    for (var j = 0; j < indentCells.length; j++) {\n                        var cloneIndentCell = indentCells[parseInt(j.toString(), 10)].cloneNode(true);\n                        dragTrs[parseInt(i.toString(), 10)].insertBefore(cloneIndentCell, dragTrs[parseInt(i.toString(), 10)].firstElementChild);\n                    }\n                }\n            }\n            if (gObj.element.classList.contains('e-childgrid')) {\n                var parentGrid = _this.getParentGrid(gObj.element);\n                parentGrid.appendChild(e.dragElement);\n                gObj.element.appendChild(gObj.createElement('div', { className: 'e-drag-ref' }));\n            }\n            document.body.classList.add('e-prevent-select');\n            if (document.getElementsByClassName('e-griddragarea').length) {\n                return;\n            }\n            var target = e.target;\n            var spanCssEle = _this.parent.element.querySelector('.e-dropitemscount');\n            if (_this.parent.getSelectedRecords().length > 1 && spanCssEle) {\n                spanCssEle.style.left = _this.parent.element.querySelector('.e-cloneproperties table')\n                    .offsetWidth - 5 + 'px';\n            }\n            _this.processArgs(target);\n            gObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.rowDragStart, {\n                rows: _this.rows, target: e.target,\n                draggableType: 'rows', fromIndex: parseInt(_this.rows[0].getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1,\n                data: (_this.rowData[0] && Object.keys(_this.rowData[0]).length > 0) ? _this.rowData : _this.currentViewData()\n            });\n            _this.dragStartData = _this.rowData;\n            var dropElem = document.getElementById(gObj.rowDropSettings.targetID);\n            if (gObj.rowDropSettings.targetID && dropElem && dropElem.ej2_instances &&\n                dropElem.ej2_instances[0].getModuleName() === 'grid') {\n                dropElem.ej2_instances[0].getContent().classList.add('e-allowRowDrop');\n            }\n        };\n        this.drag = function (e) {\n            var gObj = _this.parent;\n            _this.isDropGrid = _this.parent;\n            _this.istargetGrid = false;\n            if (_this.parent.rowDropSettings.targetID) {\n                var dropElement = document.getElementById(gObj.rowDropSettings.targetID);\n                _this.isDropGrid = dropElement.ej2_instances[0];\n                if ((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(e.target, 'e-grid')) {\n                    _this.istargetGrid = _this.parent.rowDropSettings.targetID === (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(e.target, 'e-grid').id;\n                }\n            }\n            var cloneElement = _this.parent.element.querySelector('.e-cloneproperties');\n            if (gObj.element.classList.contains('e-childgrid')) {\n                var parentGrid = _this.getParentGrid(gObj.element);\n                cloneElement = parentGrid.querySelector('.e-cloneproperties');\n            }\n            var target = _this.getElementFromPosition(cloneElement, e.event);\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.classList)(cloneElement, ['e-defaultcur'], ['e-notallowedcur', 'e-movecur', 'e-grabcur']);\n            _this.isOverflowBorder = true;\n            _this.hoverState = gObj.enableHover;\n            var trElement = (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-grid') ? (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(e.target, 'tr') : null;\n            if (!e.target) {\n                return;\n            }\n            _this.processArgs(target);\n            if (gObj.enableVirtualization && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.rows[0])) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.classList)(cloneElement, ['e-notallowedcur'], ['e-movecur']);\n            }\n            var args = {\n                rows: _this.rows, target: target, draggableType: 'rows',\n                data: _this.rowData, originalEvent: e, cancel: false\n            };\n            gObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.rowDrag, args);\n            _this.stopTimer();\n            if (args.cancel) {\n                return;\n            }\n            gObj.element.classList.add('e-rowdrag');\n            if (trElement && ((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-grid').id === cloneElement.parentElement.id || (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-grid').id)) {\n                if (_this.isDropGrid.element.querySelector('.e-emptyrow')) {\n                    _this.dragTarget = 0;\n                }\n                else {\n                    _this.dragTarget = parseInt(trElement.getAttribute('aria-rowindex'), 10) - 1;\n                }\n            }\n            else {\n                _this.dragTarget = parseInt(_this.startedRow.getAttribute('aria-rowindex'), 10) - 1;\n            }\n            if (gObj.rowDropSettings.targetID) {\n                var dragParentElement = document.querySelector('.e-drag-ref');\n                if (!(0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-grid') || (dragParentElement\n                    && (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(dragParentElement.parentElement, 'e-grid').id === (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-grid').id) ||\n                    (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(cloneElement.parentElement, 'e-grid').id === (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-grid').id) {\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.classList)(cloneElement, ['e-notallowedcur'], ['e-defaultcur']);\n                }\n                else {\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.classList)(cloneElement, ['e-grabcur'], ['e-notallowedcur']);\n                }\n            }\n            else {\n                var element = (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-grid');\n                if (element && element.id === cloneElement.parentElement.id && (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-row') &&\n                    !(0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-addedrow')) {\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.classList)(cloneElement, ['e-movecur'], ['e-defaultcur']);\n                }\n                else {\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.classList)(cloneElement, ['e-notallowedcur'], ['e-movecur']);\n                }\n            }\n            if ((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(_this.isDropGrid.element, 'e-grid')) {\n                if ((!_this.isDropGrid.groupSettings.columns.length || _this.isDropGrid.groupSettings.columns.length)\n                    && !_this.isDropGrid.element.querySelector('.e-emptyrow')) {\n                    if ((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-grid') && (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-grid').id === _this.isDropGrid.element.id) {\n                        _this.updateScrollPostion(e.event);\n                    }\n                    if (((_this.isOverflowBorder || _this.parent.frozenRows > _this.dragTarget) &&\n                        (parseInt(_this.startedRow.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1 !== _this.dragTarget || _this.istargetGrid))\n                        || (_this.istargetGrid && trElement && _this.isDropGrid.getRowByIndex(_this.isDropGrid.getCurrentViewRecords().length - 1).\n                            getAttribute('data-uid') === trElement.getAttribute('data-uid'))) {\n                        _this.moveDragRows(e, _this.startedRow, trElement);\n                    }\n                    else {\n                        var islastRowIndex = void 0;\n                        if (_this.parent.enableVirtualization) {\n                            islastRowIndex = trElement && parseInt(trElement.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1 ===\n                                _this.parent.renderModule.data.dataManager.dataSource.json.length - 1;\n                        }\n                        else {\n                            var rowIndex = _this.parent.enableInfiniteScrolling && _this.parent.infiniteScrollSettings.enableCache &&\n                                !_this.parent.groupSettings.enableLazyLoading ?\n                                _this.parent.pageSettings.currentPage * _this.parent.pageSettings.pageSize - 1 :\n                                _this.parent.getCurrentViewRecords().length - 1;\n                            var lastRow = _this.parent.getRowByIndex(rowIndex);\n                            islastRowIndex = trElement && lastRow && lastRow.getAttribute('data-uid') === trElement.getAttribute('data-uid') &&\n                                lastRow.getAttribute('data-uid') !== _this.startedRow.getAttribute('data-uid');\n                            if (_this.isNewRowAdded() && _this.parent.editSettings.newRowPosition === 'Bottom') {\n                                islastRowIndex = false;\n                            }\n                        }\n                        if (islastRowIndex && !_this.parent.rowDropSettings.targetID) {\n                            var bottomborder = _this.parent.createElement('div', { className: 'e-lastrow-dragborder' });\n                            var gridcontentEle = _this.parent.getContent();\n                            bottomborder.style.width = _this.parent.element.offsetWidth - _this.getScrollWidth() + 'px';\n                            if (_this.parent.enableVirtualization) {\n                                bottomborder.style.zIndex = '1';\n                            }\n                            if (!gridcontentEle.getElementsByClassName('e-lastrow-dragborder').length &&\n                                (!(gObj.allowGrouping && gObj.groupSettings.columns.length) || (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(trElement.nextSibling))) {\n                                gridcontentEle.classList.add('e-grid-relative');\n                                gridcontentEle.appendChild(bottomborder);\n                                bottomborder.style.bottom = _this.getScrollWidth() + 'px';\n                            }\n                        }\n                        _this.removeBorder(trElement);\n                    }\n                }\n                if (target && target.classList.contains(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.content)\n                    && !_this.isDropGrid.element.querySelector('.e-emptyrow') && _this.istargetGrid) {\n                    _this.removeBorder(trElement);\n                    var rowIndex = _this.isDropGrid.getCurrentViewRecords().length - 1;\n                    var selector = '.e-rowcell,.e-rowdragdrop,.e-detailrowcollapse';\n                    var groupSelector = '.e-rowcell:not(.e-hide),.e-rowdragdrop:not(.e-hide),.e-detailrowcollapse:not(.e-hide)';\n                    var rowElement = [];\n                    if (_this.parent.allowGrouping && _this.parent.groupSettings.columns && _this.parent.groupSettings.columns.length) {\n                        rowElement = [].slice.call(_this.isDropGrid.getRowByIndex(rowIndex).querySelectorAll(groupSelector));\n                    }\n                    else {\n                        rowElement = [].slice.call(_this.isDropGrid.getRowByIndex(rowIndex).querySelectorAll(selector));\n                    }\n                    if (rowElement.length > 0) {\n                        if (_this.parent.allowGrouping && _this.parent.groupSettings.columns && _this.parent.groupSettings.columns.length) {\n                            _this.groupRowDDIndicator(rowElement, true);\n                        }\n                        else {\n                            (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.addRemoveActiveClasses)(rowElement, true, 'e-dragborder');\n                        }\n                    }\n                }\n            }\n        };\n        this.dragStop = function (e) {\n            if (_this.parent.isCheckBoxSelection && _this.parent.enableInfiniteScrolling) {\n                window.getSelection().removeAllRanges();\n            }\n            document.body.classList.remove('e-prevent-select');\n            if ((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.isActionPrevent)(_this.parent)) {\n                _this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.preventBatch, {\n                    instance: _this, handler: _this.processDragStop, arg1: e\n                });\n            }\n            else {\n                _this.processDragStop(e);\n            }\n        };\n        this.processDragStop = function (e) {\n            var gObj = _this.parent;\n            if (_this.parent.isDestroyed) {\n                return;\n            }\n            var targetEle = _this.getElementFromPosition(e.helper, e.event);\n            var target = targetEle && !targetEle.classList.contains('e-dlg-overlay') ?\n                targetEle : e.target;\n            gObj.element.classList.remove('e-rowdrag');\n            var dropElement = document.getElementById(gObj.rowDropSettings.targetID);\n            if (gObj.rowDropSettings.targetID && dropElement && dropElement.ej2_instances &&\n                dropElement.ej2_instances[0].getModuleName() === 'grid') {\n                dropElement.ej2_instances[0].getContent().classList.remove('e-allowRowDrop');\n            }\n            if ((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(_this.isDropGrid.element, 'e-grid')) {\n                _this.stopTimer();\n                _this.isDropGrid.enableHover = _this.hoverState;\n                _this.isDropGrid.getContent().classList.remove('e-grid-relative');\n                _this.removeBorder(targetEle);\n                var stRow = _this.isDropGrid.element.querySelector('.e-dragstartrow');\n                if (stRow) {\n                    stRow.classList.remove('e-dragstartrow');\n                }\n            }\n            _this.processArgs(target);\n            if (gObj.enableVirtualization && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.rows[0])) {\n                return;\n            }\n            var args = {\n                target: target, draggableType: 'rows',\n                cancel: false,\n                fromIndex: parseInt(_this.rows[0].getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1,\n                dropIndex: _this.dragTarget, rows: _this.rows,\n                data: (Object.keys(_this.dragStartData[0]).length > 0) ? _this.dragStartData : _this.currentViewData()\n            };\n            gObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.rowDrop, args, function () {\n                if (!((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.row) || (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-emptyrow')\n                    || (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.gridContent)) || args.cancel) {\n                    _this.dragTarget = null;\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(e.helper);\n                    return;\n                }\n                _this.isRefresh = false;\n                var selectedIndexes = _this.parent.getSelectedRowIndexes();\n                if (gObj.isRowDragable()) {\n                    if (!_this.parent.rowDropSettings.targetID &&\n                        _this.startedRow.querySelector('td.e-selectionbackground') && selectedIndexes.length > 1 &&\n                        selectedIndexes.length !== _this.parent.getCurrentViewRecords().length) {\n                        _this.reorderRows(selectedIndexes, args.dropIndex);\n                    }\n                    else {\n                        _this.reorderRows([parseInt(_this.startedRow.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1], _this.dragTarget);\n                    }\n                    _this.dragTarget = null;\n                    if (!gObj.rowDropSettings.targetID) {\n                        if (e.helper.classList.contains('e-cloneproperties') && document.querySelector('.' + e.helper.classList[0])) {\n                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(e.helper);\n                        }\n                        if (gObj.enableVirtualization && !gObj.sortSettings.columns.length && !gObj.filterSettings.columns.length &&\n                            (!_this.parent.allowGrouping || !gObj.groupSettings.columns.length)) {\n                            gObj.refresh();\n                        }\n                        else {\n                            _this.rowOrder(args);\n                        }\n                    }\n                    if (_this.parent.getContentTable().scrollHeight < _this.parent.getContent().clientHeight) {\n                        _this.parent.scrollModule.setLastRowCell();\n                    }\n                }\n                _this.isRefresh = true;\n            });\n        };\n        this.removeCell = function (targetRow, className) {\n            return [].slice.call(targetRow.querySelectorAll('td')).filter(function (cell) {\n                if (cell.classList.contains(className)) {\n                    targetRow.deleteCell(cell.cellIndex);\n                }\n            });\n        };\n        this.parent = parent;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_2__.initialEnd, this.initializeDrag, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_2__.columnDrop, this.columnDrop, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_2__.rowDragAndDropComplete, this.onActionComplete, this);\n        this.onDataBoundFn = this.onDataBound.bind(this);\n        this.parent.addEventListener(_base_constant__WEBPACK_IMPORTED_MODULE_2__.dataBound, this.onDataBoundFn);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_2__.uiUpdate, this.enableAfterRender, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_2__.destroy, this.destroy, this);\n    }\n    RowDD.prototype.getParentGrid = function (childGrid) {\n        var parentGrid = childGrid;\n        var parentGridObtained = false;\n        while (!parentGridObtained) {\n            if (parentGrid.ej2_instances[0].parentDetails) {\n                parentGrid = document.getElementById(parentGrid.ej2_instances[0].parentDetails.parentID);\n            }\n            if (!parentGrid.classList.contains('e-childgrid')) {\n                parentGridObtained = true;\n            }\n        }\n        return parentGrid;\n    };\n    RowDD.prototype.isNewRowAdded = function () {\n        return this.parent.editSettings && this.parent.editSettings.showAddNewRow &&\n            !(this.parent.enableInfiniteScrolling || this.parent.enableVirtualization);\n    };\n    RowDD.prototype.groupRowDDIndicator = function (rowElement, isAdd) {\n        (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.addRemoveActiveClasses)([rowElement[0]], isAdd, 'e-dragleft');\n        (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.addRemoveActiveClasses)(rowElement, isAdd, 'e-dragtop', 'e-dragbottom');\n        (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.addRemoveActiveClasses)([rowElement[rowElement.length - 1]], isAdd, 'e-dragright');\n    };\n    RowDD.prototype.refreshRow = function (args, tbody, target) {\n        var gObj = this.parent;\n        var tbodyContent = gObj.getContentTable().querySelector(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.tbody);\n        var tbodyHeader = gObj.getHeaderTable().querySelector(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.tbody);\n        for (var i = 0, len = args.rows.length; i < len; i++) {\n            var row = args.rows[parseInt(i.toString(), 10)];\n            if (((gObj.enableVirtualization && gObj.allowGrouping && gObj.groupSettings.columns.length) ||\n                (gObj.enableInfiniteScrolling && gObj.infiniteScrollSettings.enableCache)) &&\n                args.rows.length === 1) {\n                var removeElem = gObj.getRowElementByUID(row.getAttribute('data-uid'));\n                if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(removeElem)) {\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(removeElem);\n                }\n            }\n            var dragstartrow = row.querySelector('.e-dragstartrow');\n            if (dragstartrow) {\n                dragstartrow.classList.remove('e-dragstartrow');\n            }\n            tbody.insertBefore(row, target);\n            if (gObj.allowGrouping && gObj.groupSettings.columns.length) {\n                var dragRowUid = row.getAttribute('data-uid');\n                var dropRowUid = args.target.parentElement.getAttribute('data-uid');\n                var dragRowObject = gObj.getRowObjectFromUID(dragRowUid);\n                var dropRowObject = gObj.getRowObjectFromUID(dropRowUid);\n                if (dragRowObject.parentUid !== dropRowObject.parentUid) {\n                    gObj['groupModule'].groupReorderHandler(dragRowObject, dropRowObject);\n                }\n            }\n        }\n        var tr = [].slice.call(gObj.editSettings.showAddNewRow ?\n            tbody.querySelectorAll('.e-row:not(.e-addedrow)') : tbody.getElementsByClassName(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.row));\n        if (gObj.allowGrouping && gObj.groupSettings.columns.length) {\n            if (gObj.groupSettings.enableLazyLoading || (gObj.enableInfiniteScrolling &&\n                gObj.infiniteScrollSettings.enableCache && tr.length > gObj.pageSettings.pageSize * 3)) {\n                gObj.refresh();\n            }\n            else {\n                (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.groupReorderRowObject)(this.parent, args, tr);\n                if (gObj.enableVirtualization || (gObj.enableInfiniteScrolling && gObj.infiniteScrollSettings.enableCache)) {\n                    (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.resetCachedRowIndex)(gObj);\n                }\n                else {\n                    (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.resetRowIndex)(this.parent, gObj.getRowsObject().filter(function (data) { return data.isDataRow; }), tr);\n                }\n                this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.refreshExpandandCollapse, {\n                    rows: gObj.enableVirtualization ? this.parent.vRows : this.parent.getRowsObject()\n                });\n            }\n        }\n        else if (gObj.enableInfiniteScrolling && gObj.infiniteScrollSettings.enableCache &&\n            !gObj.groupSettings.columns.length) {\n            if (tr.length > gObj.pageSettings.pageSize * 3) {\n                gObj.refresh();\n            }\n            else {\n                (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.groupReorderRowObject)(this.parent, args, tr);\n                (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.resetCachedRowIndex)(gObj);\n            }\n        }\n        else {\n            this.refreshData(tr);\n        }\n        if (this.parent.frozenRows) {\n            for (var i = 0, len = tr.length; i < len; i++) {\n                if (i < this.parent.frozenRows) {\n                    tbodyHeader.appendChild(tr[parseInt(i.toString(), 10)]);\n                }\n                else {\n                    tbodyContent.appendChild(tr[parseInt(i.toString(), 10)]);\n                }\n            }\n        }\n    };\n    RowDD.prototype.updateFrozenRowreOrder = function (args) {\n        var gObj = this.parent;\n        var tbodyC = gObj.getContentTable().querySelector(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.tbody);\n        var tbodyH = gObj.getHeaderTable().querySelector(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.tbody);\n        var tr = [].slice.call(tbodyH.getElementsByClassName(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.row)).concat([].slice.call(tbodyC.getElementsByClassName(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.row)));\n        var tbody = gObj.createElement(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.tbody, { attrs: { role: 'rowgroup' } });\n        if (!gObj.selectionSettings.persistSelection && Object.keys(gObj.selectionModule.selectedRowState).length === 0) {\n            this.parent.clearSelection();\n        }\n        else {\n            this.parent.clearRowSelection();\n        }\n        var targetRow = this.refreshRowTarget(args);\n        for (var i = 0, len = tr.length; i < len; i++) {\n            tbody.appendChild(tr[parseInt(i.toString(), 10)]);\n        }\n        this.refreshRow(args, tbody, targetRow);\n    };\n    RowDD.prototype.refreshRowTarget = function (args) {\n        var gObj = this.parent;\n        var targetIdx = parseInt(args.target.parentElement.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1;\n        if (gObj.enableVirtualization && gObj.allowGrouping && gObj.groupSettings.columns.length) {\n            targetIdx = this.parent.getDataRows().indexOf(args.target.parentElement);\n        }\n        if ((args.fromIndex < args.dropIndex || args.fromIndex === args.dropIndex) && (!gObj.allowGrouping ||\n            !gObj.groupSettings.columns.length)) {\n            targetIdx = targetIdx + 1;\n        }\n        var targetTR = gObj.getRowByIndex(targetIdx);\n        if (targetIdx === gObj.getRows().length && this.isNewRowAdded() && this.parent.editSettings.newRowPosition === 'Bottom') {\n            targetTR = this.parent.element.querySelector('.e-row.e-addedrow');\n        }\n        var tr = gObj.allowGrouping && gObj.groupSettings.columns.length && targetIdx !== -1 &&\n            args.fromIndex < args.dropIndex && targetTR ? targetTR.nextSibling : targetTR;\n        return tr;\n    };\n    RowDD.prototype.updateFrozenColumnreOrder = function (args) {\n        var gObj = this.parent;\n        var tbody = gObj.getContentTable().querySelector(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.tbody);\n        if (!gObj.selectionSettings.persistSelection && Object.keys(gObj.selectionModule.selectedRowState).length === 0) {\n            this.parent.clearSelection();\n        }\n        else {\n            this.parent.clearRowSelection();\n        }\n        var targetRow = this.refreshRowTarget(args);\n        this.refreshRow(args, tbody, targetRow);\n    };\n    RowDD.prototype.refreshData = function (tr) {\n        var rowObj = {};\n        var recordobj = {};\n        var rowObjects = this.parent.getRowsObject();\n        var currentViewData = this.parent.getCurrentViewRecords();\n        for (var i = 0, len = tr.length; i < len; i++) {\n            var index = parseInt(tr[parseInt(i.toString(), 10)].getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1;\n            rowObj[parseInt(i.toString(), 10)] = rowObjects[parseInt(index.toString(), 10)];\n            recordobj[parseInt(i.toString(), 10)] = currentViewData[parseInt(index.toString(), 10)];\n        }\n        var rows = this.parent.getRows();\n        for (var i = 0, len = tr.length; i < len; i++) {\n            rows[parseInt(i.toString(), 10)] = tr[parseInt(i.toString(), 10)];\n            rowObjects[parseInt(i.toString(), 10)] = rowObj[parseInt(i.toString(), 10)];\n            currentViewData[parseInt(i.toString(), 10)] = recordobj[parseInt(i.toString(), 10)];\n        }\n        (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.resetRowIndex)(this.parent, rowObjects, tr);\n    };\n    RowDD.prototype.rowOrder = function (args) {\n        if (args.dropIndex === args.fromIndex || isNaN(args.dropIndex) || (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(args.target, 'e-groupcaption')) {\n            return;\n        }\n        if (this.parent.isDetail()) {\n            this.parent.detailCollapseAll();\n            var rows = [].slice.call(this.parent.getContentTable().querySelector(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.tbody).children);\n            var rowObjects = this.parent.getRowsObject();\n            rows.filter(function (row) {\n                if (row.classList.contains('e-detailrow')) {\n                    row.remove();\n                }\n            });\n            for (var i = 0, len = rowObjects.length; i < len; i++) {\n                if (!rowObjects[parseInt(i.toString(), 10)]) {\n                    break;\n                }\n                if (rowObjects[parseInt(i.toString(), 10)].isDetailRow) {\n                    this.parent.getRowsObject().splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        if (args.target.classList.contains('e-rowcelldrag') || args.target.classList.contains('e-dtdiagonalright')\n            || args.target.classList.contains('e-dtdiagonaldown')) {\n            args.target = args.target.parentElement;\n        }\n        if (!args.target.classList.contains('e-rowcell') && (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(args.target, 'e-rowcell')) {\n            args.target = (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(args.target, 'e-rowcell');\n        }\n        if (this.parent.frozenRows) {\n            this.updateFrozenRowreOrder(args);\n        }\n        else {\n            this.updateFrozenColumnreOrder(args);\n        }\n        if ((!this.parent.allowGrouping || !this.parent.groupSettings.columns.length) && this.selectedRowColls.length > 0) {\n            this.parent.selectRows(this.selectedRowColls);\n            var indexes = [];\n            if (this.parent.filterSettings.columns.length || this.parent.sortSettings.columns.length) {\n                for (var i = 0, len = args.rows.length; i < len; i++) {\n                    indexes.push(parseInt(args.rows[parseInt(i.toString(), 10)].getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1);\n                }\n                this.selectedRowColls = indexes;\n            }\n            this.selectedRowColls = [];\n        }\n        else {\n            this.selectedRowColls = [];\n        }\n    };\n    RowDD.prototype.currentViewData = function () {\n        var selectedIndexes = this.parent.getSelectedRowIndexes();\n        var currentVdata = [];\n        var fromIdx = parseInt(this.startedRow.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1;\n        for (var i = 0, n = selectedIndexes.length; i < n; i++) {\n            var currentV = 'currentViewData';\n            currentVdata[parseInt(i.toString(), 10)] = this.parent[\"\" + currentV][selectedIndexes[parseInt(i.toString(), 10)]];\n        }\n        if (!this.parent.rowDropSettings.targetID && selectedIndexes.length === 0) {\n            currentVdata[0] = this.parent.currentViewData[parseInt(fromIdx.toString(), 10)];\n        }\n        return currentVdata;\n    };\n    // private saveChange(changeRecords: object, query: Query): void {\n    //     this.parent.getDataModule().saveChanges(changeRecords, this.parent.getPrimaryKeyFieldNames()[0], {}, query)\n    //         .then(() => {\n    //             this.parent.notify(events.modelChanged, {\n    //                 type: events.actionBegin, requestType: 'rowdraganddrop'\n    //             });\n    //         }).catch((e: Error) => {\n    //             const error: string = 'error';\n    //             const message: string = 'message';\n    //             if (!isNullOrUndefined(e[`${error}`]) && !isNullOrUndefined(e[`${error}`][`${message}`])) {\n    //                 e[`${error}`] = e[`${error}`][`${message}`];\n    //             }\n    //             this.parent.trigger(events.actionFailure, e);\n    //         });\n    // }\n    RowDD.prototype.reorderRows = function (fromIndexes, toIndex) {\n        var selectedIndexes = this.parent.getSelectedRowIndexes();\n        var selectedRecords = [];\n        var draggedRecords = [];\n        var currentViewData = this.parent.getDataModule().isRemote() ? this.parent.getCurrentViewRecords() :\n            this.parent.renderModule.data.dataManager.dataSource.json;\n        var skip = this.parent.allowPaging ?\n            (this.parent.pageSettings.currentPage * this.parent.pageSettings.pageSize) - this.parent.pageSettings.pageSize : 0;\n        var dropIdx = toIndex + skip;\n        var actualIdx = fromIndexes[0] + skip;\n        for (var i = 0, len = fromIndexes.length; i < len; i++) {\n            draggedRecords[parseInt(i.toString(), 10)] = currentViewData[fromIndexes[parseInt(i.toString(), 10)] + skip];\n        }\n        for (var i = 0, len = selectedIndexes.length; i < len; i++) {\n            selectedRecords[parseInt(i.toString(), 10)] = currentViewData[selectedIndexes[parseInt(i.toString(), 10)] + skip];\n        }\n        for (var i = 0, len = draggedRecords.length; i < len; i++) {\n            if (i !== 0) {\n                for (var j = 0, len1 = currentViewData.length; j < len1; j++) {\n                    if (JSON.stringify(currentViewData[parseInt(j.toString(), 10)]) ===\n                        JSON.stringify(draggedRecords[parseInt(i.toString(), 10)])) {\n                        actualIdx = j;\n                        break;\n                    }\n                }\n                for (var j = 0, len1 = currentViewData.length; j < len1; j++) {\n                    if (JSON.stringify(currentViewData[parseInt(j.toString(), 10)]) === JSON\n                        .stringify(draggedRecords[i - 1])) {\n                        if (actualIdx > j) {\n                            dropIdx = j + 1;\n                        }\n                        break;\n                    }\n                }\n            }\n            this.reorderRow(actualIdx - skip, dropIdx - skip);\n        }\n        if (this.isRefresh) {\n            this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.modelChanged, {\n                type: _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, requestType: 'rowdraganddrop'\n            });\n        }\n        for (var i = 0, len = selectedRecords.length; i < len; i++) {\n            for (var j = 0, len1 = currentViewData.length; j < len1; j++) {\n                if (JSON.stringify(currentViewData[parseInt(j.toString(), 10)]) === JSON\n                    .stringify(selectedRecords[parseInt(i.toString(), 10)])) {\n                    selectedIndexes[parseInt(i.toString(), 10)] = j - skip;\n                    break;\n                }\n            }\n        }\n        this.selectedRowColls = selectedIndexes;\n    };\n    RowDD.prototype.stopTimer = function () {\n        window.clearInterval(this.timer);\n    };\n    /**\n     * To trigger action complete event.\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    RowDD.prototype.onActionComplete = function (e) {\n        this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete, (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)(e, { type: _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete, requestType: 'rowdraganddrop' }));\n    };\n    RowDD.prototype.initializeDrag = function () {\n        var gObj = this.parent;\n        this.draggable = new _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Draggable(gObj.element, {\n            dragTarget: '.e-rowcelldrag, .e-rowdragdrop, .e-rowcell',\n            distance: 5,\n            helper: this.helper,\n            dragStart: this.dragStart,\n            drag: this.drag,\n            dragStop: this.dragStop,\n            isReplaceDragEle: this.isReplaceDragEle,\n            isPreventSelect: false,\n            isPreventScroll: true\n        });\n    };\n    RowDD.prototype.updateScrollPostion = function (e) {\n        var _this = this;\n        var y = (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.getPosition)(e).y;\n        var cliRect = this.isDropGrid.getContent().getBoundingClientRect();\n        var rowHeight = this.isDropGrid.getRowHeight() - 15;\n        var scrollElem = this.isDropGrid.getContent().firstElementChild;\n        var virtualScrollbtm = this.parent.enableVirtualization ? 20 : 0;\n        if (cliRect.top >= y) {\n            var scrollPixel_1 = -(this.isDropGrid.getRowHeight());\n            this.isOverflowBorder = false;\n            this.timer = window.setInterval(function () { _this.setScrollDown(scrollElem, scrollPixel_1); }, 200);\n        }\n        else if (cliRect.top + this.isDropGrid.getContent().clientHeight - rowHeight - 33 - virtualScrollbtm <= y) {\n            var scrollPixel_2 = (this.isDropGrid.getRowHeight());\n            this.isOverflowBorder = false;\n            this.timer = window.setInterval(function () { _this.setScrollDown(scrollElem, scrollPixel_2); }, 200);\n        }\n    };\n    RowDD.prototype.setScrollDown = function (scrollElem, scrollPixel) {\n        scrollElem.scrollTop = scrollElem.scrollTop + scrollPixel;\n    };\n    RowDD.prototype.moveDragRows = function (e, startedRow, targetRow) {\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        if (this.parent.element.classList.contains('e-childgrid')) {\n            var parentGrid = this.getParentGrid(this.parent.element);\n            cloneElement = parentGrid.querySelector('.e-cloneproperties');\n        }\n        var element = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(e.target, 'tr');\n        if ((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(element, 'e-grid') &&\n            ((!this.parent.rowDropSettings.targetID &&\n                (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(cloneElement.parentElement, 'e-grid').id === (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(element, 'e-grid').id) || this.istargetGrid)) {\n            var targetElement = element;\n            if (!element) {\n                targetElement = startedRow;\n            }\n            this.setBorder(targetElement, e.event, startedRow, targetRow);\n        }\n    };\n    RowDD.prototype.setBorder = function (element, event, startedRow, targetRow) {\n        var node = this.parent.element;\n        if (this.istargetGrid) {\n            node = this.isDropGrid.element;\n        }\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        if (this.parent.allowGrouping && this.parent.groupSettings.columns.length) {\n            this.removeBorder(element);\n        }\n        else {\n            this.removeFirstRowBorder(element);\n            this.removeLastRowBorder(element);\n        }\n        if ((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(element, 'e-grid') && element.classList.contains(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.row) && ((!this.parent.rowDropSettings.targetID &&\n            (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(cloneElement.parentElement, 'e-grid').id === (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(element, 'e-grid').id) || this.istargetGrid)) {\n            if (this.parent.allowGrouping && this.parent.groupSettings.columns && this.parent.groupSettings.columns.length) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)(node.querySelectorAll('.e-rowcell,.e-rowdragdrop,.e-detailrowcollapse'), ['e-dragtop', 'e-dragright',\n                    'e-dragbottom', 'e-dragleft']);\n            }\n            else {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)(node.querySelectorAll('.e-rowcell,.e-rowdragdrop,.e-detailrowcollapse'), ['e-dragborder']);\n            }\n            var rowElement = [];\n            var targetRowIndex = parseInt(targetRow.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1;\n            if (targetRow && targetRowIndex === 0 &&\n                !(this.isNewRowAdded() && this.parent.editSettings.newRowPosition === 'Top')) {\n                if (this.parent.allowGrouping && this.parent.groupSettings.columns.length) {\n                    element = targetRow;\n                    rowElement = [].slice.call(element\n                        .querySelectorAll('.e-groupcaption,.e-summarycell,.e-rowcell,.e-rowdragdrop,.e-detailrowcollapse'));\n                }\n                else {\n                    var div = this.parent.createElement('div', { className: 'e-firstrow-dragborder' });\n                    var gridheaderEle = this.isDropGrid.getHeaderContent();\n                    gridheaderEle.classList.add('e-grid-relative');\n                    div.style.width = node.offsetWidth - this.getScrollWidth() + 'px';\n                    if (!gridheaderEle.getElementsByClassName('e-firstrow-dragborder').length) {\n                        if (this.parent.frozenRows) {\n                            if (this.parent.isFrozenGrid()) {\n                                div.style.width = this.parent.getContent().firstElementChild.scrollWidth + 'px';\n                            }\n                            gridheaderEle.querySelector('thead').appendChild(div);\n                            div.style.position = 'relative';\n                        }\n                        else {\n                            gridheaderEle.appendChild(div);\n                        }\n                    }\n                }\n            }\n            else if (this.parent.rowDropSettings.targetID && targetRow) {\n                element = this.isDropGrid.getRowByIndex(targetRowIndex - 1);\n                rowElement = [].slice.call(element.querySelectorAll('.e-rowcell,.e-rowdragdrop,.e-detailrowcollapse'));\n            }\n            else if (targetRow && parseInt(startedRow.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1 > targetRowIndex) {\n                if (this.parent.enableVirtualization && this.parent.allowGrouping && this.parent.groupSettings.columns.length) {\n                    targetRowIndex = this.parent.getDataRows().indexOf(targetRow);\n                }\n                if (this.parent.allowGrouping && this.parent.groupSettings.columns.length) {\n                    element = targetRow;\n                    rowElement = [].slice.call(element\n                        .querySelectorAll(\".e-groupcaption,.e-summarycell,.e-rowcell:not(.e-hide),.e-rowdragdrop:not(.e-hide),\\n                        .e-detailrowcollapse:not(.e-hide)\"));\n                }\n                else {\n                    if (targetRowIndex === 0 && this.isNewRowAdded() && this.parent.editSettings.newRowPosition === 'Top') {\n                        element = this.parent.element.querySelector('.e-row.e-addedrow tr');\n                    }\n                    else {\n                        element = this.parent.getRowByIndex(targetRowIndex - 1);\n                    }\n                    rowElement = [].slice.call(element.querySelectorAll('.e-rowcell,.e-rowdragdrop,.e-detailrowcollapse,.e-dragindentcell'));\n                }\n            }\n            else {\n                rowElement = [].slice.call(element.querySelectorAll('.e-rowcell,.e-rowdragdrop,.e-detailrowcollapse'));\n            }\n            if (rowElement.length > 0) {\n                if (this.parent.allowGrouping && this.parent.groupSettings.columns && this.parent.groupSettings.columns.length) {\n                    this.groupRowDDIndicator(rowElement, true);\n                }\n                else {\n                    (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.addRemoveActiveClasses)(rowElement, true, 'e-dragborder');\n                }\n            }\n        }\n    };\n    RowDD.prototype.getScrollWidth = function () {\n        var scrollElem = this.parent.getContent().firstElementChild;\n        return scrollElem.scrollWidth > scrollElem.offsetWidth ? _actions_scroll__WEBPACK_IMPORTED_MODULE_3__.Scroll.getScrollBarWidth() : 0;\n    };\n    RowDD.prototype.removeFirstRowBorder = function (element) {\n        if (this.isDropGrid.element.getElementsByClassName('e-firstrow-dragborder').length > 0 && element &&\n            (element.rowIndex !== 0 || element.classList.contains('e-columnheader'))) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(this.isDropGrid.element.getElementsByClassName('e-firstrow-dragborder')[0]);\n        }\n        else {\n            var addNewRow = this.parent.element.querySelector('.e-row.e-addedrow tr');\n            if (addNewRow && addNewRow.querySelector('.e-dragborder')) {\n                var rowElement = [].slice.call(addNewRow.\n                    querySelectorAll('.e-rowcell,.e-rowdragdrop,.e-detailrowcollapse,.e-dragindentcell'));\n                (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.addRemoveActiveClasses)(rowElement, false, 'e-dragborder');\n            }\n        }\n    };\n    RowDD.prototype.removeLastRowBorder = function (element) {\n        var islastRowIndex;\n        if (this.parent.enableVirtualization) {\n            islastRowIndex = element && parseInt(element.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1 !==\n                this.parent.renderModule.data.dataManager.dataSource.json.length - 1;\n        }\n        else {\n            var rowIndex = this.parent.enableInfiniteScrolling && this.parent.infiniteScrollSettings.enableCache &&\n                !this.parent.groupSettings.enableLazyLoading ?\n                this.parent.pageSettings.currentPage * this.parent.pageSettings.pageSize - 1 :\n                this.parent.getCurrentViewRecords().length - 1;\n            var lastRow = this.parent.getRowByIndex(rowIndex);\n            islastRowIndex = element && lastRow && lastRow.getAttribute('data-uid') !== element.getAttribute('data-uid');\n        }\n        if (this.parent.element.getElementsByClassName('e-lastrow-dragborder').length > 0 && element && islastRowIndex) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(this.parent.element.getElementsByClassName('e-lastrow-dragborder')[0]);\n        }\n    };\n    RowDD.prototype.removeBorder = function (element) {\n        this.removeFirstRowBorder(element);\n        if (!this.parent.rowDropSettings.targetID) {\n            this.removeLastRowBorder(element);\n        }\n        if (this.parent.allowGrouping && this.parent.groupSettings.columns.length) {\n            element = ([].slice.call(this.isDropGrid.getContentTable().querySelectorAll('tr'))).filter(function (row) {\n                return row.querySelector('td.e-dragtop.e-dragbottom');\n            })[0];\n        }\n        else {\n            element = (this.isDropGrid.getRows()).filter(function (row) { return row.querySelector('td.e-dragborder'); })[0];\n        }\n        if (element) {\n            var rowElement = this.parent.allowGrouping && this.parent.groupSettings.columns.length ? [].slice.call(element\n                .querySelectorAll('.e-dragtop.e-dragbottom')) : [].slice.call(element.getElementsByClassName('e-dragborder'));\n            if (this.parent.allowGrouping && this.parent.groupSettings.columns && this.parent.groupSettings.columns.length) {\n                this.groupRowDDIndicator(rowElement, false);\n            }\n            else {\n                (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.addRemoveActiveClasses)(rowElement, false, 'e-dragborder');\n            }\n        }\n    };\n    RowDD.prototype.getElementFromPosition = function (element, event) {\n        var position = (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.getPosition)(event);\n        element.style.display = 'none';\n        var target = document.elementFromPoint(position.x, position.y);\n        element.style.display = '';\n        return target;\n    };\n    RowDD.prototype.onDataBound = function () {\n        if (this.selectedRowColls.length > 0 && (this.parent.enableVirtualization || this.parent.allowRowDragAndDrop)) {\n            this.parent.selectRows(this.selectedRowColls);\n            this.selectedRowColls = [];\n        }\n    };\n    RowDD.prototype.getTargetIdx = function (targetRow) {\n        return targetRow ? parseInt(targetRow.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1 : 0;\n    };\n    RowDD.prototype.singleRowDrop = function (e) {\n        var targetRow = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(e.target, 'tr');\n        var srcControl = e.droppedElement.parentElement.ej2_instances[0];\n        var currentIndex = targetRow ? targetRow.rowIndex : srcControl.currentViewData.length - 1;\n        this.reorderRow(this.startedRowIndex, currentIndex);\n    };\n    RowDD.prototype.columnDrop = function (e) {\n        var gObj = this.parent;\n        if (e.droppedElement.getAttribute('action') !== 'grouping' &&\n            ((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(e.target, _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.row) || (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(e.target, 'e-emptyrow') || (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(e.target, _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.gridContent))) {\n            var targetRow = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(e.target, 'tr');\n            var srcControl = void 0;\n            var currentIndex = void 0;\n            var dragParentElement = document.querySelector('.e-drag-ref');\n            if ((e.droppedElement.querySelector('tr').getAttribute('single-dragrow') !== 'true' &&\n                (e.droppedElement.parentElement.id === gObj.element.id || (dragParentElement\n                    && dragParentElement.parentElement.id === gObj.element.id)))\n                || (e.droppedElement.querySelector('tr').getAttribute('single-dragrow') === 'true' &&\n                    e.droppedElement.parentElement.id !== gObj.element.id)) {\n                return;\n            }\n            if (e.droppedElement.parentElement.id !== gObj.element.id) {\n                if (dragParentElement) {\n                    srcControl = dragParentElement.parentElement.ej2_instances[0];\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(dragParentElement);\n                }\n                else {\n                    srcControl = e.droppedElement.parentElement.ej2_instances[0];\n                }\n            }\n            else if (this.isSingleRowDragDrop || e.droppedElement.querySelector('tr').getAttribute('single-dragrow') === 'true') {\n                this.singleRowDrop(e);\n                return;\n            }\n            if (srcControl.element.id !== gObj.element.id && srcControl.rowDropSettings.targetID !== gObj.element.id) {\n                return;\n            }\n            var records = srcControl.getSelectedRecords();\n            var targetIndex = currentIndex = this.getTargetIdx(targetRow);\n            if (e.target && e.target.classList.contains('e-content') && gObj.getCurrentViewRecords().length) {\n                var lastrow = gObj.getContentTable().querySelector('tr:last-child');\n                if (lastrow) {\n                    targetIndex = currentIndex = parseInt(lastrow.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10);\n                }\n            }\n            if (isNaN(targetIndex)) {\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                targetIndex = currentIndex = 0;\n            }\n            if (gObj.allowPaging) {\n                targetIndex = targetIndex + (gObj.pageSettings.currentPage * gObj.pageSettings.pageSize) - gObj.pageSettings.pageSize;\n            }\n            //Todo: drag and drop mapper & BatchChanges\n            gObj.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.rowsAdded, { toIndex: targetIndex, records: records });\n            gObj.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.modelChanged, {\n                type: _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, requestType: 'rowdraganddrop'\n            });\n            var selectedRows = srcControl.getSelectedRowIndexes();\n            var skip = srcControl.allowPaging ?\n                (srcControl.pageSettings.currentPage * srcControl.pageSettings.pageSize) - srcControl.pageSettings.pageSize : 0;\n            this.selectedRows = [];\n            for (var i = 0, len = records.length; i < len; i++) {\n                this.selectedRows.push(skip + selectedRows[parseInt(i.toString(), 10)]);\n            }\n            srcControl.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.rowsRemoved, { indexes: this.selectedRows, records: records });\n            if (srcControl.dataSource instanceof _syncfusion_ej2_data__WEBPACK_IMPORTED_MODULE_4__.DataManager && srcControl.dataSource.dataSource.offline) {\n                srcControl.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.modelChanged, {\n                    type: _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, requestType: 'rowdraganddrop'\n                });\n            }\n        }\n    };\n    RowDD.prototype.reorderRow = function (fromIndexes, toIndex) {\n        var gObj = this.parent;\n        if (!gObj.groupSettings.columns.length) {\n            //Todo: drag and drop mapper & BatchChanges\n            var skip = gObj.allowPaging ?\n                (gObj.pageSettings.currentPage * gObj.pageSettings.pageSize) - gObj.pageSettings.pageSize : 0;\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            var fromIndex = fromIndexes;\n            toIndex = toIndex + skip;\n            this.selectedRows = gObj.getSelectedRowIndexes();\n            gObj.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.rowPositionChanged, {\n                fromIndex: fromIndexes + skip,\n                toIndex: toIndex\n            });\n        }\n    };\n    RowDD.prototype.enableAfterRender = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            this.initializeDrag();\n        }\n    };\n    /**\n     * To destroy the print\n     *\n     * @returns {void}\n     * @hidden\n     */\n    RowDD.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (this.parent.isDestroyed || !gridElement || (!gridElement.querySelector('.' + _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.gridHeader) &&\n            !gridElement.querySelector('.' + _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.gridContent))) {\n            return;\n        }\n        this.draggable.destroy();\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_2__.initialEnd, this.initializeDrag);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_2__.columnDrop, this.columnDrop);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_2__.rowDragAndDropComplete, this.onActionComplete);\n        this.parent.removeEventListener(_base_constant__WEBPACK_IMPORTED_MODULE_2__.dataBound, this.onDataBoundFn);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_2__.uiUpdate, this.enableAfterRender);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_2__.destroy, this.destroy);\n        //destory ejdrag and drop\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    RowDD.prototype.getModuleName = function () {\n        return 'rowDragAndDrop';\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    RowDD.prototype.processArgs = function (target) {\n        var gObj = this.parent;\n        var dragIdx = parseInt(this.startedRow.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1;\n        if ((gObj.getSelectedRecords().length > 0 && this.startedRow.cells[0].classList.contains('e-selectionbackground') === false)\n            || gObj.getSelectedRecords().length === 0) {\n            if (gObj.enableInfiniteScrolling && gObj.infiniteScrollSettings.enableCache) {\n                this.rows = [this.startedRow];\n            }\n            else {\n                this.rows = [gObj.getRowByIndex(dragIdx)];\n            }\n            this.rowData = [gObj.getRowInfo((this.startedRow).querySelector('.' + _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.rowCell)).rowData];\n            if ((gObj.enableVirtualization || (gObj.enableInfiniteScrolling && gObj.infiniteScrollSettings.enableCache))\n                && gObj.allowGrouping && gObj.groupSettings.columns.length && gObj.getSelectedRows().length) {\n                this.rows = gObj.getSelectedRows();\n                this.rowData = Array.from(this.rows, function (row) { return gObj.getRowObjectFromUID(row.getAttribute('data-uid')).data; });\n            }\n        }\n        else {\n            this.rows = gObj.getSelectedRows();\n            this.rowData = Array.from(this.rows, function (row) { return gObj.getRowObjectFromUID(row.getAttribute('data-uid')).data; });\n        }\n    };\n    return RowDD;\n}());\n\n\n\n//# sourceURL=webpack://ej2-vue-samples/./node_modules/@syncfusion/ej2-grids/src/grid/actions/row-reorder.js?");

/***/ })

}]);