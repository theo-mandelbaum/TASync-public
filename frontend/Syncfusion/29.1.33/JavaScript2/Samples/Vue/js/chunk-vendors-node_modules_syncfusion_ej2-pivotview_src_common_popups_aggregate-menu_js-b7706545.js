"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkej2_vue_samples"] = self["webpackChunkej2_vue_samples"] || []).push([["chunk-vendors-node_modules_syncfusion_ej2-pivotview_src_common_popups_aggregate-menu_js-b7706545"],{

/***/ "./node_modules/@syncfusion/ej2-pivotview/src/common/popups/aggregate-menu.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@syncfusion/ej2-pivotview/src/common/popups/aggregate-menu.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AggregateMenu: () => (/* binding */ AggregateMenu)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"./node_modules/@syncfusion/ej2-base/index.js\");\n/* harmony import */ var _common_base_css_constant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/base/css-constant */ \"./node_modules/@syncfusion/ej2-pivotview/src/common/base/css-constant.js\");\n/* harmony import */ var _syncfusion_ej2_navigations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @syncfusion/ej2-navigations */ \"./node_modules/@syncfusion/ej2-navigations/index.js\");\n/* harmony import */ var _syncfusion_ej2_popups__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @syncfusion/ej2-popups */ \"./node_modules/@syncfusion/ej2-popups/index.js\");\n/* harmony import */ var _syncfusion_ej2_inputs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @syncfusion/ej2-inputs */ \"./node_modules/@syncfusion/ej2-inputs/index.js\");\n/* harmony import */ var _syncfusion_ej2_dropdowns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @syncfusion/ej2-dropdowns */ \"./node_modules/@syncfusion/ej2-dropdowns/index.js\");\n/* harmony import */ var _common_base_constant__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/base/constant */ \"./node_modules/@syncfusion/ej2-pivotview/src/common/base/constant.js\");\n/* harmony import */ var _base_util__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../base/util */ \"./node_modules/@syncfusion/ej2-pivotview/src/base/util.js\");\n\n\n\n\n\n\n\n\n\n/**\n * `AggregateMenu` module to create aggregate type popup.\n */\n/** @hidden */\nvar AggregateMenu = /** @class */ (function () {\n    /**\n     * Constructor for the rener action.\n     *\n     * @param {PivotView | PivotFieldList} parent - It contains the value of parent.\n     * @hidden\n     */\n    function AggregateMenu(parent) {\n        this.menuInfo = [];\n        this.stringAggregateTypes = ['Count', 'DistinctCount'];\n        this.parent = parent;\n    }\n    /**\n     * Initialize the pivot table rendering\n     *\n     * @param {MouseEventArgs} args - It contains the args value\n     * @param {HTMLElement} parentElement - It contains the value of parentElement\n     * @returns {void}\n     * @private\n     */\n    AggregateMenu.prototype.render = function (args, parentElement) {\n        this.parentElement = parentElement;\n        this.openContextMenu(args);\n    };\n    AggregateMenu.prototype.openContextMenu = function (args) {\n        var _this = this;\n        var fieldName = args.target.parentElement.getAttribute('data-uid');\n        var fieldInfo = _base_util__WEBPACK_IMPORTED_MODULE_7__.PivotUtil.getFieldInfo(fieldName, this.parent);\n        this.buttonElement = args.target.parentElement;\n        var isStringField = this.parent.engineModule.fieldList[fieldName].type !== 'number' ? 1 : 0;\n        var summaryTypes = this.getMenuItem(isStringField).slice();\n        this.parent.actionObj.actionName = _common_base_constant__WEBPACK_IMPORTED_MODULE_6__.aggregateField;\n        this.parent.actionObj.fieldInfo = fieldInfo.fieldItem;\n        if (this.parent.actionBeginMethod()) {\n            return;\n        }\n        var eventArgs = {\n            cancel: false, fieldName: fieldName, aggregateTypes: summaryTypes, displayMenuCount: 7\n        };\n        var control = this.parent.getModuleName() === 'pivotfieldlist' && this.parent.isPopupView ?\n            this.parent.pivotGridModule : this.parent;\n        try {\n            control.trigger(_common_base_constant__WEBPACK_IMPORTED_MODULE_6__.aggregateMenuOpen, eventArgs, function (observedArgs) {\n                if (!observedArgs.cancel) {\n                    summaryTypes = observedArgs.aggregateTypes;\n                    _this.createContextMenu(isStringField, summaryTypes, observedArgs.displayMenuCount);\n                    _this.currentMenu = args.target;\n                    var pos = _this.currentMenu.getBoundingClientRect();\n                    if (_this.parent.enableRtl) {\n                        _this.menuInfo[isStringField].open(pos.top + (window.scrollY || document.documentElement.scrollTop), pos.left - 105);\n                    }\n                    else {\n                        _this.menuInfo[isStringField].open(pos.top +\n                            (window.scrollY || document.documentElement.scrollTop), pos.left);\n                    }\n                }\n            });\n        }\n        catch (execption) {\n            this.parent.actionFailureMethod(execption);\n        }\n    };\n    AggregateMenu.prototype.createContextMenu = function (isStringField, summaryTypes, displayMenuCount) {\n        var _this = this;\n        var menuItems = [];\n        menuItems[isStringField] = [];\n        if (this.menuInfo[isStringField] && !this.menuInfo[isStringField].isDestroyed) {\n            this.menuInfo[isStringField].destroy();\n        }\n        var checkDuplicates = [];\n        for (var i = 0; i < summaryTypes.length; i++) {\n            var key = summaryTypes[i];\n            if (isStringField) {\n                if ((this.stringAggregateTypes.indexOf(key) > -1) && (checkDuplicates.indexOf(key) < 0)) {\n                    menuItems[isStringField].push({ text: this.parent.localeObj.getConstant(key), id: this.parent.element.id + 'StringMenu_' + key });\n                    checkDuplicates.push(key);\n                }\n            }\n            else {\n                if ((this.parent.getAllSummaryType().indexOf(key) > -1) && (checkDuplicates.indexOf(key) < 0)) {\n                    menuItems[isStringField].push({ text: this.parent.localeObj.getConstant(key), id: this.parent.element.id + '_' + key });\n                    checkDuplicates.push(key);\n                }\n            }\n        }\n        if (menuItems[isStringField].length > displayMenuCount) {\n            menuItems[isStringField].splice(displayMenuCount);\n            menuItems[isStringField].push({\n                text: this.parent.localeObj.getConstant('MoreOption'),\n                id: this.parent.element.id + '_' + 'MoreOption'\n            });\n        }\n        var menuOptions = {\n            items: menuItems[isStringField],\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            cssClass: this.parent.cssClass,\n            beforeOpen: this.beforeMenuOpen.bind(this, isStringField),\n            onClose: function () {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.select)('#' + _this.buttonElement.id, _this.parentElement).focus();\n            },\n            select: this.selectOptionInContextMenu.bind(this)\n        };\n        var contextMenu = document.getElementById(this.parent.element.id + (isStringField ? 'valueFieldStringContextMenu' : 'valueFieldContextMenu'));\n        if (contextMenu !== null) {\n            contextMenu.innerHTML = '';\n        }\n        else {\n            contextMenu = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', {\n                id: this.parent.element.id + (isStringField ? 'valueFieldStringContextMenu' : 'valueFieldContextMenu')\n            });\n        }\n        this.parent.element.appendChild(contextMenu);\n        this.menuInfo[isStringField] = new _syncfusion_ej2_navigations__WEBPACK_IMPORTED_MODULE_2__.ContextMenu(menuOptions);\n        this.menuInfo[isStringField].isStringTemplate = true;\n        this.menuInfo[isStringField].appendTo(contextMenu);\n    };\n    AggregateMenu.prototype.getMenuItem = function (isStringField) {\n        var menuItems = [];\n        for (var i = 0; i < this.parent.aggregateTypes.length; i++) {\n            var key = this.parent.aggregateTypes[i];\n            if (isStringField) {\n                if ((this.stringAggregateTypes.indexOf(key) > -1) && (menuItems.indexOf(key) === -1)) {\n                    menuItems.push(key);\n                }\n            }\n            else {\n                if ((this.parent.getAllSummaryType().indexOf(key) > -1) && (menuItems.indexOf(key) === -1)) {\n                    menuItems.push(key);\n                }\n            }\n        }\n        return menuItems;\n    };\n    AggregateMenu.prototype.beforeMenuOpen = function (isString, args) {\n        args.element.style.zIndex = (this.menuInfo[isString].element.style.zIndex + 3).toString();\n        args.element.style.display = 'inline';\n    };\n    /**\n     * create Value Settings Dialog\n     *\n     * @param {HTMLElement} target - It represent the target element.\n     * @param {HTMLElement} parentElement - It represent the parentElement.\n     * @param {string} type -It represent the type.\n     * @returns {void}\n     * @hidden */\n    AggregateMenu.prototype.createValueSettingsDialog = function (target, parentElement, type) {\n        this.parentElement = parentElement;\n        var valueDialogElement = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n            id: this.parentElement.id + '_ValueDialog',\n            className: 'e-value-field-settings',\n            attrs: { 'data-field': target.getAttribute('data-uid') ? target.getAttribute('data-uid') : target.getAttribute('data-field') }\n        });\n        this.parentElement.appendChild(valueDialogElement);\n        var valueDialog = new _syncfusion_ej2_popups__WEBPACK_IMPORTED_MODULE_3__.Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: true,\n            header: this.parent.localeObj.getConstant('valueFieldSettings'),\n            content: this.createFieldOptions(target, type),\n            isModal: true,\n            visible: true,\n            showCloseIcon: true,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            width: '320px',\n            height: 'auto',\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    click: this.updateValueSettings.bind(this),\n                    isFlat: false,\n                    buttonModel: { cssClass: _common_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.OK_BUTTON_CLASS + (this.parent.cssClass ? (' ' + this.parent.cssClass) : ''), content: this.parent.localeObj.getConstant('ok'), isPrimary: true }\n                },\n                {\n                    click: function () {\n                        valueDialog.hide();\n                    },\n                    isFlat: false,\n                    buttonModel: { cssClass: _common_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.CANCEL_BUTTON_CLASS + (this.parent.cssClass ? (' ' + this.parent.cssClass) : ''), content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            closeOnEscape: (this.parent.getModuleName() === 'pivotfieldlist' && this.parent.renderMode === 'Popup') ? false : true,\n            target: this.parentElement,\n            close: this.removeDialog.bind(this),\n            cssClass: this.parent.cssClass\n        });\n        valueDialog.isStringTemplate = true;\n        valueDialog.appendTo(valueDialogElement);\n        // this.valueDialog.element.querySelector('.e-dlg-header').innerText = this.parent.localeObj.getConstant('valueFieldSettings');\n    };\n    AggregateMenu.prototype.createFieldOptions = function (buttonElement, type) {\n        var _this = this;\n        var fieldCaption = buttonElement.getAttribute('data-caption');\n        var summaryType = (type && type !== 'MoreOption') ? type : buttonElement.getAttribute('data-type');\n        var baseField = buttonElement.getAttribute('data-basefield');\n        var baseItem = buttonElement.getAttribute('data-baseitem');\n        summaryType = (summaryType.toString() !== 'undefined' ? summaryType : 'Sum');\n        var summaryDataSource = [];\n        var summaryItems = this.parent.aggregateTypes;\n        var checkDuplicates = [];\n        for (var i = 0; i < summaryItems.length; i++) {\n            if (this.parent.getAllSummaryType().indexOf(summaryItems[i]) > -1 &&\n                checkDuplicates.indexOf(summaryItems[i]) < 0) {\n                summaryDataSource.push({\n                    value: summaryItems[i],\n                    text: this.parent.localeObj.getConstant(summaryItems[i])\n                });\n                checkDuplicates.push(summaryItems[i]);\n            }\n        }\n        var baseItemTypes = ['DifferenceFrom', 'PercentageOfDifferenceFrom'];\n        var baseFieldTypes = ['DifferenceFrom', 'PercentageOfDifferenceFrom', 'PercentageOfParentTotal'];\n        var dataFields = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)([], this.parent.dataSourceSettings.rows, null, true);\n        dataFields = dataFields.concat(this.parent.dataSourceSettings.columns);\n        var fieldDataSource = [];\n        var fieldItemDataSource = [];\n        // let summaryDataSource: { [key: string]: Object }[] = [];\n        // for (let type of summaryTypes) {\n        //     summaryDataSource.push({ value: type, text: type });\n        // }\n        for (var _i = 0, dataFields_1 = dataFields; _i < dataFields_1.length; _i++) {\n            var field = dataFields_1[_i];\n            var value = field.name;\n            var text = (field.caption ? field.caption : field.name);\n            fieldDataSource.push({ value: value, text: text });\n        }\n        if (Object.keys(fieldDataSource).length === 0) {\n            fieldDataSource.push({ value: '', text: '' });\n            baseField = '';\n            fieldItemDataSource = [];\n        }\n        else {\n            baseField = (baseField && (baseField.toString() !== 'undefined' && baseField.toString() !== 'null') ? baseField : fieldDataSource[0].value);\n            var fieldName_1 = baseField.toString() !== 'undefined' ? baseField : fieldDataSource[0].value;\n            var isDateField_1 = _base_util__WEBPACK_IMPORTED_MODULE_7__.PivotUtil.isDateField(fieldName_1, this.parent.engineModule);\n            fieldItemDataSource = (this.parent.engineModule.fieldList[fieldName_1].dateMember).map(function (item) {\n                return isDateField_1 ? item.formattedText :\n                    _this.parent.engineModule.getFormattedValue(item.actualText, fieldName_1).formattedText;\n            });\n        }\n        baseItem = (baseItem.toString() !== 'undefined' ? baseItem : fieldItemDataSource[0]);\n        var mainDiv = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n            className: 'e-value-field-div-content', id: this.parentElement.id + '_field_div_content',\n            attrs: { 'data-type': summaryType, 'data-caption': fieldCaption, 'data-basefield': baseField, 'data-baseitem': baseItem }\n        });\n        var textWrappper = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { className: 'e-field-name-text-container' });\n        var filterWrapperDiv1 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { className: 'e-field-option-container' });\n        var optionWrapperDiv1 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { className: 'e-type-option-container' });\n        var optionWrapperDiv2 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { className: 'e-base-field-option-container' });\n        var optionWrapperDiv3 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { className: 'e-base-item-option-container' });\n        var texttitle = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { className: 'e-field-name-title' });\n        texttitle.innerText = this.parent.localeObj.getConstant('sourceName') + ' ';\n        var textContent = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { className: 'e-field-name-content' });\n        textContent.innerText = this.parent.enableHtmlSanitizer ? _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.SanitizeHtmlHelper.sanitize(buttonElement.getAttribute('data-uid') ?\n            buttonElement.getAttribute('data-uid') : buttonElement.getAttribute('data-field')) :\n            (buttonElement.getAttribute('data-uid') ? buttonElement.getAttribute('data-uid') : buttonElement.getAttribute('data-field'));\n        this.buttonElement =\n            this.buttonElement ? this.buttonElement : document.getElementsByClassName(textContent.innerText)[0];\n        var inputTextDiv1 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n            className: 'e-type-option-text'\n        });\n        inputTextDiv1.innerText = this.parent.localeObj.getConstant('sourceCaption');\n        var optionTextDiv1 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n            className: 'e-base-field-option-text'\n        });\n        optionTextDiv1.innerText = this.parent.localeObj.getConstant('summarizeValuesBy');\n        var optionTextDiv2 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n            className: 'e-base-item-option-text'\n        });\n        optionTextDiv2.innerText = this.parent.localeObj.getConstant('baseField');\n        var optionTextDiv3 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n            className: 'e-type-option-text'\n        });\n        optionTextDiv3.innerText = this.parent.localeObj.getConstant('baseItem');\n        var inputDiv1 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { className: 'e-caption-input-container' });\n        var dropOptionDiv1 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { id: this.parentElement.id + '_type_option' });\n        var dropOptionDiv2 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { id: this.parentElement.id + '_base_field_option' });\n        var dropOptionDiv3 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { id: this.parentElement.id + '_base_item_option' });\n        var inputField1 = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement)('input', {\n            id: this.parentElement.id + 'type_input_option',\n            className: 'e-caption-input-text',\n            attrs: { 'type': 'text' }\n        });\n        textWrappper.appendChild(texttitle);\n        textWrappper.appendChild(textContent);\n        inputDiv1.appendChild(inputTextDiv1);\n        inputDiv1.appendChild(inputField1);\n        optionWrapperDiv1.appendChild(optionTextDiv1);\n        optionWrapperDiv2.appendChild(optionTextDiv2);\n        optionWrapperDiv3.appendChild(optionTextDiv3);\n        optionWrapperDiv1.appendChild(dropOptionDiv1);\n        optionWrapperDiv2.appendChild(dropOptionDiv2);\n        optionWrapperDiv3.appendChild(dropOptionDiv3);\n        filterWrapperDiv1.appendChild(textWrappper);\n        filterWrapperDiv1.appendChild(inputDiv1);\n        filterWrapperDiv1.appendChild(optionWrapperDiv1);\n        filterWrapperDiv1.appendChild(optionWrapperDiv2);\n        filterWrapperDiv1.appendChild(optionWrapperDiv3);\n        mainDiv.appendChild(filterWrapperDiv1);\n        var popupInstance = this;\n        var optionWrapper1 = new _syncfusion_ej2_dropdowns__WEBPACK_IMPORTED_MODULE_5__.DropDownList({\n            dataSource: summaryDataSource, enableRtl: this.parent.enableRtl, locale: this.parent.locale,\n            fields: { value: 'value', text: 'text' },\n            value: summaryType,\n            // popupWidth: 'auto',\n            cssClass: _common_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.VALUE_OPTIONS_CLASS + (this.parent.cssClass ? (' ' + this.parent.cssClass) : ''), width: '100%',\n            change: function (args) {\n                optionWrapper2.enabled = baseFieldTypes.indexOf(args.value) !== -1 ? true : false;\n                optionWrapper3.enabled = baseItemTypes.indexOf(args.value) !== -1 ? true : false;\n                if (optionWrapper3.enabled && optionWrapper3.dataSource.length === 1) {\n                    optionWrapper3.dataSource = fieldItemDataSource;\n                    optionWrapper3.dataBind();\n                }\n            }\n        });\n        optionWrapper1.isStringTemplate = true;\n        optionWrapper1.appendTo(dropOptionDiv1);\n        var optionWrapper2 = new _syncfusion_ej2_dropdowns__WEBPACK_IMPORTED_MODULE_5__.DropDownList({\n            dataSource: fieldDataSource, enableRtl: this.parent.enableRtl, locale: this.parent.locale,\n            fields: { value: 'value', text: 'text' },\n            value: baseField,\n            // popupWidth: 'auto',\n            enabled: (baseFieldTypes.indexOf(summaryType) !== -1 ? true : false),\n            cssClass: _common_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.VALUE_OPTIONS_CLASS + (this.parent.cssClass ? (' ' + this.parent.cssClass) : ''), width: '100%',\n            change: function (args) {\n                var isDateField = _base_util__WEBPACK_IMPORTED_MODULE_7__.PivotUtil.isDateField(args.value, _this.parent.engineModule);\n                fieldItemDataSource = (popupInstance.parent.engineModule.fieldList[args.value].dateMember).map(function (item) {\n                    return isDateField ? item.formattedText :\n                        _this.parent.engineModule.getFormattedValue(item.actualText, args.value).formattedText;\n                });\n                optionWrapper3.dataSource = fieldItemDataSource;\n                optionWrapper3.value = fieldItemDataSource[0];\n                optionWrapper3.filterBarPlaceholder = popupInstance.parent.localeObj.getConstant('example') + ' ' + fieldItemDataSource[0];\n                optionWrapper3['itemData'] = null;\n                optionWrapper3.dataBind();\n            }\n        });\n        optionWrapper2.isStringTemplate = true;\n        optionWrapper2.appendTo(dropOptionDiv2);\n        var optionWrapper3 = new _syncfusion_ej2_dropdowns__WEBPACK_IMPORTED_MODULE_5__.DropDownList({\n            dataSource: fieldItemDataSource, enableRtl: this.parent.enableRtl, locale: this.parent.locale,\n            value: baseItem,\n            // popupWidth: 'auto',\n            allowFiltering: true,\n            filterBarPlaceholder: this.parent.localeObj.getConstant('example') + ' ' + fieldItemDataSource[0],\n            enabled: (baseItemTypes.indexOf(summaryType) !== -1 ? true : false),\n            cssClass: _common_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.FILTER_OPERATOR_CLASS + (this.parent.cssClass ? (' ' + this.parent.cssClass) : ''), width: '100%'\n        });\n        optionWrapper3.isStringTemplate = true;\n        optionWrapper3.appendTo(dropOptionDiv3);\n        var inputObj1 = new _syncfusion_ej2_inputs__WEBPACK_IMPORTED_MODULE_4__.MaskedTextBox({\n            placeholder: 'Enter field caption',\n            // floatLabelType: 'Auto',\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            value: fieldCaption, width: '100%',\n            cssClass: this.parent.cssClass\n        });\n        inputObj1.isStringTemplate = true;\n        inputObj1.appendTo(inputField1);\n        return mainDiv;\n    };\n    AggregateMenu.prototype.selectOptionInContextMenu = function (menu) {\n        if (menu.item.text !== null) {\n            var buttonElement = this.currentMenu.parentElement;\n            var fieldInfo = _base_util__WEBPACK_IMPORTED_MODULE_7__.PivotUtil.getFieldInfo((buttonElement ?\n                buttonElement.getAttribute('data-uid') : ''), this.parent);\n            this.parent.actionObj.actionName = _common_base_constant__WEBPACK_IMPORTED_MODULE_6__.aggregateField;\n            this.parent.actionObj.fieldInfo = fieldInfo.fieldItem;\n            if (this.parent.actionBeginMethod()) {\n                return;\n            }\n            var type = menu.item.id.split('_').pop();\n            try {\n                if (type === 'MoreOption' || type === 'PercentageOfDifferenceFrom'\n                    || type === 'PercentageOfParentTotal' || type === 'DifferenceFrom') {\n                    this.createValueSettingsDialog(buttonElement, this.parentElement, type);\n                }\n                else {\n                    var field = buttonElement.getAttribute('data-uid');\n                    var valuefields = this.parent.dataSourceSettings.values;\n                    var contentElement = buttonElement.querySelector('.' + _common_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.PIVOT_BUTTON_CONTENT_CLASS);\n                    var captionName = menu.item.text + ' ' + this.parent.localeObj.getConstant('of') + ' ' +\n                        this.parent.engineModule.fieldList[field].caption;\n                    captionName = this.parent.enableHtmlSanitizer ? _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.SanitizeHtmlHelper.sanitize(captionName) : captionName;\n                    if (this.parent.dataSourceSettings.showAggregationOnValueField) {\n                        contentElement.innerText = captionName;\n                    }\n                    contentElement.setAttribute('title', captionName);\n                    buttonElement.setAttribute('data-type', type);\n                    for (var vCnt = 0; vCnt < this.parent.dataSourceSettings.values.length; vCnt++) {\n                        if (this.parent.dataSourceSettings.values[vCnt].name === field) {\n                            var dataSourceItem = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)({}, valuefields[vCnt].properties ?\n                                valuefields[vCnt].properties :\n                                valuefields[vCnt], null, true);\n                            dataSourceItem.type = type;\n                            this.parent.engineModule.fieldList[field].aggregateType = type;\n                            valuefields.splice(vCnt, 1, dataSourceItem);\n                            this.parent.lastAggregationInfo = dataSourceItem;\n                        }\n                    }\n                    this.updateDataSource();\n                }\n            }\n            catch (execption) {\n                this.parent.actionFailureMethod(execption);\n            }\n        }\n    };\n    AggregateMenu.prototype.updateDataSource = function (isRefreshed) {\n        if (this.parent.isDeferLayoutUpdate === false || (this.parent.pivotGridModule &&\n            this.parent.pivotGridModule.pivotDeferLayoutUpdate === false)\n            || this.parent.getModuleName() === 'pivotview' || (this.parent.isAdaptive && this.parent.getModuleName() === 'pivotfieldlist'\n            && this.parent.renderMode === 'Popup')) {\n            this.parent.updateDataSource(isRefreshed);\n        }\n        else {\n            if (this.parent.getModuleName() === 'pivotfieldlist' && this.parent.renderMode === 'Popup') {\n                this.parent.pivotGridModule.setProperties({\n                    dataSourceSettings: this.parent.dataSourceSettings.properties\n                }, true);\n                this.parent.pivotGridModule.notify(_common_base_constant__WEBPACK_IMPORTED_MODULE_6__.uiUpdate, this);\n                this.parent.pivotGridModule.engineModule = this.parent.engineModule;\n            }\n            else {\n                this.parent.triggerPopulateEvent();\n            }\n        }\n    };\n    AggregateMenu.prototype.updateValueSettings = function () {\n        var valueDialog = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.getInstance)((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.select)('#' + this.parentElement.id + '_ValueDialog', document), _syncfusion_ej2_popups__WEBPACK_IMPORTED_MODULE_3__.Dialog);\n        var dialogElement = valueDialog.element;\n        var captionInstance = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.getInstance)((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.select)('#' + this.parentElement.id + 'type_input_option'), _syncfusion_ej2_inputs__WEBPACK_IMPORTED_MODULE_4__.MaskedTextBox);\n        var summaryInstance = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.getInstance)((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.select)('#' + this.parentElement.id + '_type_option'), _syncfusion_ej2_dropdowns__WEBPACK_IMPORTED_MODULE_5__.DropDownList);\n        var baseFieldInstance = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.getInstance)((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.select)('#' + this.parentElement.id + '_base_field_option'), _syncfusion_ej2_dropdowns__WEBPACK_IMPORTED_MODULE_5__.DropDownList);\n        var baseItemInstance = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.getInstance)((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.select)('#' + this.parentElement.id + '_base_item_option'), _syncfusion_ej2_dropdowns__WEBPACK_IMPORTED_MODULE_5__.DropDownList);\n        var fieldName = dialogElement.getAttribute('data-field');\n        var buttonElement;\n        if (this.parentElement.querySelector('.' + _common_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.PIVOT_BUTTON_CLASS)) {\n            buttonElement =\n                this.parentElement.getElementsByClassName(_common_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.PIVOT_BUTTON_CLASS + \" \" + fieldName.replace(/[^A-Z0-9]/ig, ''))[0];\n        }\n        if (buttonElement) {\n            var contentElement = buttonElement.querySelector('.' + _common_base_css_constant__WEBPACK_IMPORTED_MODULE_1__.PIVOT_BUTTON_CONTENT_CLASS);\n            var captionName = this.parent.dataSourceSettings.showAggregationOnValueField\n                ? (this.parent.localeObj.getConstant(summaryInstance.value) + ' ' +\n                    this.parent.localeObj.getConstant('of') + ' ' + captionInstance.value)\n                : captionInstance.value;\n            captionName = this.parent.enableHtmlSanitizer ? _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.SanitizeHtmlHelper.sanitize(captionName) : captionName;\n            contentElement.innerText = captionName;\n            contentElement.setAttribute('title', captionName);\n            buttonElement.setAttribute('data-type', summaryInstance.value);\n            buttonElement.setAttribute('data-caption', captionInstance.value);\n            buttonElement.setAttribute('data-basefield', baseFieldInstance.value);\n            buttonElement.setAttribute('data-baseitem', baseItemInstance.value);\n        }\n        var selectedField = _base_util__WEBPACK_IMPORTED_MODULE_7__.PivotUtil.getFieldByName(fieldName, this.parent.dataSourceSettings.values);\n        selectedField = selectedField.properties ?\n            selectedField.properties : selectedField;\n        selectedField.caption = captionInstance.value;\n        selectedField.type = summaryInstance.value;\n        selectedField.baseField = baseFieldInstance.value;\n        selectedField.baseItem = baseItemInstance.value;\n        this.parent.engineModule.fieldList[fieldName].aggregateType = selectedField.type;\n        valueDialog.close();\n        // this.parent.axisFieldModule.render();\n        this.parent.lastAggregationInfo = selectedField;\n        this.updateDataSource(true);\n    };\n    AggregateMenu.prototype.removeDialog = function () {\n        if (this.buttonElement && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.select)('#' + this.buttonElement.id, this.parentElement)) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.select)('#' + this.buttonElement.id, this.parentElement).focus();\n        }\n        var element = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.select)('#' + this.parentElement.id + '_ValueDialog', document);\n        var valueDialog = element ? (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.getInstance)(element, _syncfusion_ej2_popups__WEBPACK_IMPORTED_MODULE_3__.Dialog) : null;\n        if (valueDialog && !valueDialog.isDestroyed) {\n            valueDialog.destroy();\n        }\n        if (document.getElementById(this.parentElement.id + '_ValueDialog')) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(document.getElementById(this.parentElement.id + '_ValueDialog'));\n        }\n    };\n    /**\n     * To destroy the pivot button event listener\n     *\n     * @returns {void}\n     * @hidden\n     */\n    AggregateMenu.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.menuInfo) {\n            if (this.menuInfo[1] !== undefined && !this.menuInfo[1].isDestroyed) {\n                this.menuInfo[1].destroy();\n            }\n            if (this.menuInfo[0] !== undefined && !this.menuInfo[0].isDestroyed) {\n                this.menuInfo[0].destroy();\n            }\n        }\n        else {\n            return;\n        }\n    };\n    return AggregateMenu;\n}());\n\n\n\n//# sourceURL=webpack://ej2-vue-samples/./node_modules/@syncfusion/ej2-pivotview/src/common/popups/aggregate-menu.js?");

/***/ })

}]);