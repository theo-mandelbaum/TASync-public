"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkej2_vue_samples"] = self["webpackChunkej2_vue_samples"] || []).push([["chunk-vendors-node_modules_syncfusion_ej2-richtexteditor_src_rich-text-editor_actions_html-editor_js-0196b6f9"],{

/***/ "./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/html-editor.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/html-editor.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HtmlEditor: () => (/* binding */ HtmlEditor)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"./node_modules/@syncfusion/ej2-base/index.js\");\n/* harmony import */ var _common_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/util */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/common/util.js\");\n/* harmony import */ var _editor_manager_plugin_inserthtml__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../editor-manager/plugin/inserthtml */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/inserthtml.js\");\n/* harmony import */ var _selection_selection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../selection/selection */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/selection/selection.js\");\n/* harmony import */ var _base_classes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base/classes */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/classes.js\");\n/* harmony import */ var _base_constant__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../base/constant */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/constant.js\");\n/* harmony import */ var _base_enum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../base/enum */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/enum.js\");\n/* harmony import */ var _base_util__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../base/util */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/util.js\");\n/* harmony import */ var _formatter_html_formatter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../formatter/html-formatter */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/formatter/html-formatter.js\");\n/* harmony import */ var _renderer_content_renderer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../renderer/content-renderer */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/content-renderer.js\");\n/* harmony import */ var _renderer_iframe_content_renderer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../renderer/iframe-content-renderer */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/iframe-content-renderer.js\");\n/* harmony import */ var _common_constant__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./../../common/constant */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/common/constant.js\");\n/* harmony import */ var _html_toolbar_status__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./html-toolbar-status */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/html-toolbar-status.js\");\n/* harmony import */ var _xhtml_validation__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./xhtml-validation */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/xhtml-validation.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * `HtmlEditor` module is used to HTML editor\n */\nvar HtmlEditor = /** @class */ (function () {\n    function HtmlEditor(parent, serviceLocator) {\n        this.rangeCollection = [];\n        this.isImageDelete = false;\n        this.isMention = false;\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.xhtmlValidation = new _xhtml_validation__WEBPACK_IMPORTED_MODULE_13__.XhtmlValidation(parent);\n        this.addEventListener();\n        this.isDestroyed = false;\n        this.isCopyAll = false;\n        this.isSlashMenuOpen = false;\n        this.isPreviousNodeBrAfterBackSpace = false;\n    }\n    /**\n     * Destroys the Markdown.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n     * @deprecated\n     */\n    HtmlEditor.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (this.clickTimeout) {\n            clearTimeout(this.clickTimeout);\n            this.clickTimeout = null;\n        }\n        this.removeEventListener();\n        this.locator = null;\n        this.contentRenderer = null;\n        this.renderFactory = null;\n        this.toolbarUpdate = null;\n        this.nodeSelectionObj = null;\n        this.isCopyAll = null;\n        this.isSlashMenuOpen = null;\n        if (this.rangeCollection.length > 0) {\n            this.rangeCollection = [];\n        }\n        if (this.rangeElement) {\n            this.rangeElement = null;\n        }\n        if (this.oldRangeElement) {\n            this.oldRangeElement = null;\n        }\n        if (this.deleteRangeElement) {\n            this.deleteRangeElement = null;\n        }\n        if (this.deleteOldRangeElement) {\n            this.deleteOldRangeElement = null;\n        }\n        if (this.saveSelection) {\n            this.saveSelection = null;\n        }\n        if (this.xhtmlValidation) {\n            this.xhtmlValidation = null;\n        }\n        this.isDestroyed = true;\n    };\n    /**\n     * @param {string} value - specifies the string value\n     * @returns {void}\n     * @hidden\n     * @deprecated\n     */\n    HtmlEditor.prototype.sanitizeHelper = function (value) {\n        value = (0,_base_util__WEBPACK_IMPORTED_MODULE_7__.sanitizeHelper)(value, this.parent);\n        return value;\n    };\n    HtmlEditor.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nodeSelectionObj = new _selection_selection__WEBPACK_IMPORTED_MODULE_3__.NodeSelection(this.parent.inputElement);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.initialLoad, this.instantiateRenderer, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.htmlToolbarClick, this.onToolbarClick, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.slashMenuOpening, this.onSlashMenuOpen, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.keyDown, this.onKeyDown, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.keyUp, this.onKeyUp, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.initialEnd, this.render, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.destroy, this.destroy, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.selectAll, this.selectAll, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.selectRange, this.selectRange, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.getSelectedHtml, this.getSelectedHtml, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.selectionSave, this.onSelectionSave, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.selectionRestore, this.onSelectionRestore, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.readOnlyMode, this.updateReadOnly, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.paste, this.onPaste, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.tableclass, this.isTableClassAdded, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_5__.onHandleFontsizeChange, this.onHandleFontsizeChange, this);\n    };\n    HtmlEditor.prototype.onSlashMenuOpen = function () {\n        this.isSlashMenuOpen = true;\n    };\n    HtmlEditor.prototype.updateReadOnly = function () {\n        if (this.parent.readonly) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.attributes)(this.parent.contentModule.getEditPanel(), { contenteditable: 'false' });\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.parent.element], _base_classes__WEBPACK_IMPORTED_MODULE_4__.CLS_RTE_READONLY);\n        }\n        else {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.attributes)(this.parent.contentModule.getEditPanel(), { contenteditable: 'true' });\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.parent.element], _base_classes__WEBPACK_IMPORTED_MODULE_4__.CLS_RTE_READONLY);\n        }\n    };\n    HtmlEditor.prototype.onSelectionSave = function () {\n        var currentDocument = this.contentRenderer.getDocument();\n        var range = this.nodeSelectionObj.getRange(currentDocument);\n        this.saveSelection = this.nodeSelectionObj.save(range, currentDocument);\n    };\n    HtmlEditor.prototype.onSelectionRestore = function (e) {\n        this.parent.isBlur = false;\n        this.contentRenderer.getEditPanel().focus({ preventScroll: true });\n        if (((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e.items) || e.items) && (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.saveSelection))) {\n            this.saveSelection.restore();\n        }\n    };\n    HtmlEditor.prototype.isTableClassAdded = function () {\n        var tableElement = this.parent.inputElement.querySelectorAll('table');\n        for (var i = 0; i < tableElement.length; i++) {\n            // e-rte-table class is added to the table element for styling.\n            // e-rte-paste-table class is added for pasted table element from MS Word and other sources such as Web will not have any styles.\n            // e-rte-custom-table class is added for custom table element will not have any styles.\n            if (!tableElement[i].classList.contains('e-rte-table') && !tableElement[i].classList.contains('e-rte-paste-table')\n                && !tableElement[i].classList.contains('e-rte-custom-table')) {\n                tableElement[i].classList.add('e-rte-table');\n            }\n        }\n    };\n    HtmlEditor.prototype.onHandleFontsizeChange = function (e) {\n        var keyboardArgs = e.args;\n        var args = { name: 'dropDownSelect' };\n        args.item = {\n            command: 'Font',\n            subCommand: 'FontSize'\n        };\n        var items = this.parent.fontSize.items;\n        var activeElem;\n        if (this.parent.toolbarModule && this.parent.toolbarModule.dropDownModule &&\n            this.parent.toolbarModule.dropDownModule.fontSizeDropDown && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.toolbarModule.dropDownModule.fontSizeDropDown.activeElem[0].textContent) && this.parent.toolbarModule.dropDownModule.fontSizeDropDown.activeElem[0].textContent !== '') {\n            activeElem = this.parent.toolbarModule.dropDownModule.fontSizeDropDown.activeElem[0].textContent;\n        }\n        else {\n            var fontSizeValue = void 0;\n            var selection = this.parent.contentModule.getDocument().getSelection();\n            if (selection && selection.focusNode && selection.focusNode.parentElement) {\n                fontSizeValue = document.defaultView.getComputedStyle(selection.focusNode.parentElement, null).getPropertyValue('font-size');\n            }\n            else {\n                fontSizeValue = this.parent.fontSize.width;\n            }\n            fontSizeValue = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(fontSizeValue) ? this.parent.fontSize.width : fontSizeValue;\n            var actualTxtFontValues = fontSizeValue.match(/^([\\d.]+)(\\D+)$/);\n            var size_1 = parseInt(actualTxtFontValues[1], 10);\n            var unit = actualTxtFontValues[2];\n            var defaultFontValues = items[1].value.match(/^([\\d.]+)(\\D+)$/);\n            if (defaultFontValues[2] === unit) {\n                var index = items.findIndex(function (_a) {\n                    var value = _a.value;\n                    return parseInt(value, 10) >= size_1;\n                });\n                activeElem = items[index].text;\n            }\n            else {\n                var convertedSize_1 = this.convertFontSize(size_1, unit, defaultFontValues[2]);\n                var index = items.findIndex(function (_a) {\n                    var value = _a.value;\n                    return parseInt(value, 10) >= convertedSize_1;\n                });\n                activeElem = items[index].text;\n            }\n        }\n        var fontIndex = items.findIndex(function (size) { return size.text === (activeElem === 'Font Size' ? 'Default' : activeElem); });\n        if (keyboardArgs.action === 'increase-fontsize' && fontIndex !== -1) {\n            if (fontIndex >= items.length - 1) {\n                var fontValues = items[fontIndex].value.match(/^([\\d.]+)(\\D+)$/);\n                if (fontValues) {\n                    var size = parseInt(fontValues[1], 10);\n                    var unit = fontValues[2];\n                    var roundedSize = size % 10 === 0 ? Math.ceil((size + 1) / 10) * 10 : Math.ceil(size / 10) * 10;\n                    args.item.value = roundedSize.toLocaleString() + unit;\n                    args.item.text = roundedSize.toLocaleString() + ' ' + unit;\n                }\n                this.parent.fontSize.items.push(args.item);\n            }\n            else {\n                args.item.value = items[fontIndex + 1].value;\n                args.item.text = items[fontIndex + 1].text;\n            }\n        }\n        else if (keyboardArgs.action === 'decrease-fontsize' && fontIndex !== -1 && fontIndex > 0) {\n            args.item.value = items[fontIndex - 1].value;\n            args.item.text = items[fontIndex - 1].text;\n        }\n        else {\n            if (fontIndex >= 0 && fontIndex < items.length && items[fontIndex]) {\n                args.item.value = items[fontIndex].value;\n                args.item.text = items[fontIndex].text;\n            }\n        }\n        this.parent.formatter.process(this.parent, args, keyboardArgs);\n    };\n    HtmlEditor.prototype.convertFontSize = function (value, originalUnit, targetUnit) {\n        if (_base_constant__WEBPACK_IMPORTED_MODULE_5__.supportedUnits.indexOf(originalUnit) !== -1 || _base_constant__WEBPACK_IMPORTED_MODULE_5__.supportedUnits.indexOf(targetUnit) !== -1) {\n            originalUnit = 'px';\n        }\n        var convertedValue = value * _base_constant__WEBPACK_IMPORTED_MODULE_5__.conversionFactors[originalUnit][targetUnit];\n        return convertedValue;\n    };\n    HtmlEditor.prototype.onKeyUp = function (e) {\n        var args = e.args;\n        var restrictKeys = [8, 9, 13, 17, 18, 20, 27, 37, 38, 39, 40, 44, 45, 46, 91,\n            112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123];\n        var range = this.parent.getRange();\n        var regEx = new RegExp('\\u200B', 'g');\n        var isEmptyNode = range.startContainer === range.endContainer && range.startOffset === range.endOffset &&\n            range.startOffset === 1 && range.startContainer.textContent.length === 1 &&\n            range.startContainer.textContent.charCodeAt(0) === 8203 &&\n            range.startContainer.textContent.replace(regEx, '').length === 0;\n        var isMention = false;\n        if (range.startContainer === range.endContainer &&\n            range.startOffset === range.endOffset && (range.startContainer !== this.parent.inputElement && range.startOffset !== 0)) {\n            var mentionStartNode = range.startContainer.nodeType === 3 ?\n                range.startContainer : range.startContainer.childNodes[range.startOffset - 1];\n            isMention = args.keyCode === 16 &&\n                mentionStartNode.textContent.charCodeAt(0) === 8203 &&\n                !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(mentionStartNode.previousSibling) && mentionStartNode.previousSibling.contentEditable === 'false';\n        }\n        if (this.isCopyAll) {\n            return;\n        }\n        var pointer;\n        var isRootParent = false;\n        if (!this.isSlashMenuOpen &&\n            restrictKeys.indexOf(args.keyCode) < 0 && !args.shiftKey && !args.ctrlKey && !args.altKey &&\n            !isEmptyNode && !isMention) {\n            pointer = range.startOffset;\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            range.startContainer.nodeName === '#text' ? range.startContainer.parentElement !== this.parent.inputElement ? range.startContainer.parentElement.classList.add('currentStartMark')\n                : isRootParent = true : range.startContainer.classList.add('currentStartMark');\n            if (range.startContainer.textContent.charCodeAt(0) === 8203) {\n                var previousLength_1 = range.startContainer.textContent.length;\n                var previousRange = range.startOffset;\n                this.removeZeroWidthSpaces(range.startContainer, regEx);\n                pointer = previousRange === 0 ? previousRange : previousRange - (previousLength_1 - range.startContainer.textContent.length);\n                this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), range.startContainer, pointer);\n            }\n            var previousLength = this.parent.inputElement.innerHTML.length;\n            var currentLength = this.parent.inputElement.innerHTML.replace(regEx, '').length;\n            var focusNode = range.startContainer;\n            if (previousLength > currentLength && !isRootParent) {\n                if (focusNode.textContent.trim().length !== 0 && focusNode.previousSibling) {\n                    var tempSpan = document.createElement('span');\n                    tempSpan.className = 'tempSpan';\n                    range.insertNode(tempSpan);\n                }\n                var currentChild = this.parent.inputElement.firstChild;\n                while (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentChild)) {\n                    if (currentChild.nodeName === '#text') {\n                        currentChild = currentChild.nextElementSibling;\n                        continue;\n                    }\n                    if (currentChild.textContent.replace(regEx, '').trim().length > 0 && currentChild.textContent.includes('\\u200B')) {\n                        this.removeZeroWidthSpaces(currentChild, regEx);\n                    }\n                    currentChild = currentChild.nextElementSibling;\n                }\n                var tempSpanToRemove = this.parent.inputElement.querySelector('.tempSpan');\n                if (tempSpanToRemove && tempSpanToRemove.previousSibling && focusNode.textContent.trim().length !== 0) {\n                    focusNode = tempSpanToRemove.previousSibling;\n                    pointer = tempSpanToRemove.previousSibling.textContent.length;\n                    var parentElement = tempSpanToRemove.parentNode;\n                    parentElement.removeChild(tempSpanToRemove);\n                    tempSpanToRemove = null;\n                }\n                var currentElement = this.parent.inputElement.querySelector('.currentStartMark');\n                var currentChildNode = currentElement ? currentElement.childNodes : [];\n                if (currentChildNode.length > 1) {\n                    for (var i = 0; i < currentChildNode.length; i++) {\n                        if (currentChildNode[i].nodeName === '#text' && currentChildNode[i].textContent.length === 0) {\n                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(currentChildNode[i]);\n                            i--;\n                        }\n                        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentChildNode[i]) && focusNode.textContent.replace(regEx, '') === currentChildNode[i].textContent) {\n                            var iscursorLeft = pointer <= focusNode.textContent.indexOf('\\u200B');\n                            pointer = focusNode.textContent.length > 1 ?\n                                ((focusNode.textContent === currentChildNode[i].textContent || iscursorLeft) ? pointer :\n                                    pointer - (focusNode.textContent.length - focusNode.textContent.replace(regEx, '').length)) :\n                                focusNode.textContent.length;\n                            focusNode = currentChildNode[i];\n                        }\n                    }\n                }\n                else if (currentChildNode.length === 1) {\n                    if (focusNode.textContent.replace(regEx, '') === currentChildNode[0].textContent) {\n                        focusNode = currentChildNode[0];\n                    }\n                }\n                this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), focusNode, pointer);\n            }\n            var currentElem = this.parent.inputElement.querySelector('.currentStartMark');\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentElem)) {\n                currentElem.classList.remove('currentStartMark');\n                if (currentElem.getAttribute('class').trim() === '') {\n                    currentElem.removeAttribute('class');\n                }\n            }\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(range.startContainer.previousSibling) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(range.startContainer.previousSibling.parentElement) &&\n                range.startContainer.parentElement === range.startContainer.previousSibling.parentElement &&\n                range.startContainer.previousSibling.textContent.charCodeAt(0) === 8203 &&\n                range.startContainer.previousSibling.textContent.length <= 1) {\n                range.startContainer.previousSibling.textContent = range.startContainer.previousSibling.textContent.replace(regEx, '');\n            }\n            if (range.endContainer.textContent.charCodeAt(range.endOffset) === 8203) {\n                pointer = range.startOffset;\n                range.endContainer.textContent = range.endContainer.textContent.replace(regEx, '');\n                this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), range.startContainer, pointer);\n            }\n        }\n        this.isSlashMenuOpen = false;\n    };\n    HtmlEditor.prototype.removeZeroWidthSpaces = function (node, regex) {\n        var _this = this;\n        if (node.nodeType === Node.TEXT_NODE) {\n            if (node.textContent !== null) {\n                node.textContent = node.textContent.replace(regex, '');\n            }\n            return;\n        }\n        node.childNodes.forEach(function (child) {\n            _this.removeZeroWidthSpaces(child, regex);\n        });\n    };\n    HtmlEditor.prototype.onKeyDown = function (e) {\n        var _this = this;\n        if (e.args.ctrlKey && e.args.keyCode === 65) {\n            this.isCopyAll = true;\n        }\n        else {\n            this.isCopyAll = false;\n        }\n        var currentRange;\n        var args = e.args;\n        if (this.parent.inputElement.querySelectorAll('.e-cell-select:not(table)').length > 1 && (args.keyCode === 8 || args.keyCode === 32 || args.keyCode === 13)) {\n            this.tableSelectionKeyAction(e);\n            this.parent.autoResize();\n            return;\n        }\n        if (_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.info.name === 'chrome') {\n            currentRange = this.parent.getRange();\n            this.backSpaceCleanup(e, currentRange);\n            this.deleteCleanup(e, currentRange);\n        }\n        if (args.keyCode === 9 && this.parent.enableTabKey) {\n            this.parent.formatter.saveData(e);\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.target) && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(args.target, '.e-rte-toolbar'))) {\n                var range = this.nodeSelectionObj.getRange(this.contentRenderer.getDocument());\n                var parentNode = this.nodeSelectionObj.getParentNodeCollection(range);\n                if (!((parentNode[0].nodeName === 'LI' || (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(parentNode[0], 'li') ||\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(parentNode[0], 'table')))) {\n                    args.preventDefault();\n                    var selection = this.contentRenderer.getDocument().getSelection().getRangeAt(0);\n                    var alignmentNodes = this.parent.formatter.editorManager.domNode.blockNodes();\n                    if (this.parent.enterKey === 'BR') {\n                        if (selection.startOffset !== selection.endOffset && selection.startOffset === 0) {\n                            var save = this.nodeSelectionObj.save(range, this.contentRenderer.getDocument());\n                            this.parent.formatter.editorManager.domNode.setMarker(save);\n                            alignmentNodes = this.parent.formatter.editorManager.domNode.blockNodes();\n                            this.parent.formatter.editorManager.domNode.convertToBlockNodes(alignmentNodes, false);\n                            this.marginTabAdd(args.shiftKey, alignmentNodes);\n                            save = this.parent.formatter.editorManager.domNode.saveMarker(save);\n                            save.restore();\n                        }\n                        else {\n                            _editor_manager_plugin_inserthtml__WEBPACK_IMPORTED_MODULE_2__.InsertHtml.Insert(this.contentRenderer.getDocument(), '&nbsp;&nbsp;&nbsp;&nbsp;');\n                            this.rangeCollection.push(this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()));\n                        }\n                    }\n                    else {\n                        if (selection.startOffset !== selection.endOffset && selection.startOffset === 0) {\n                            this.marginTabAdd(args.shiftKey, alignmentNodes);\n                        }\n                        else {\n                            _editor_manager_plugin_inserthtml__WEBPACK_IMPORTED_MODULE_2__.InsertHtml.Insert(this.contentRenderer.getDocument(), '&nbsp;&nbsp;&nbsp;&nbsp;');\n                            this.rangeCollection.push(this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()));\n                        }\n                    }\n                }\n            }\n            this.parent.formatter.saveData(e);\n        }\n        // Prevents the link from being added when a space, enter, or parenthesis key is pressed.\n        // This ensures that parentheses are not mistakenly included as part of the URL.\n        var regex = /[^\\w\\s\\\\/\\\\.\\\\:]/g;\n        if (e.args.action === 'space' || e.args.action === 'enter' || e.args.keyCode === 13 || regex.test(e.args.key)) {\n            this.spaceLink(e.args);\n            if (this.parent.editorMode === 'HTML' && !this.parent.readonly) {\n                var currentLength = this.parent.getText().trim().replace(/(\\r\\n|\\n|\\r|\\t)/gm, '').replace(/\\u200B/g, '').length;\n                var selectionLength = this.parent.getSelection().length;\n                var totalLength = (currentLength - selectionLength) + 1;\n                if (!(this.parent.maxLength === -1 || totalLength <= this.parent.maxLength) &&\n                    e.args.keyCode === 13) {\n                    e.args.preventDefault();\n                    return;\n                }\n                else {\n                    this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.enterHandler, { args: e.args });\n                    (0,_common_util__WEBPACK_IMPORTED_MODULE_1__.scrollToCursor)(this.parent.contentModule.getDocument(), this.parent.inputElement);\n                }\n            }\n        }\n        if (e.args.action === 'space') {\n            var currentRange_1 = this.parent.getRange();\n            var editorValue = currentRange_1.startContainer.textContent.slice(0, currentRange_1.startOffset);\n            var orderedList_1 = this.isOrderedList(editorValue);\n            var unOrderedList = this.isUnOrderedList(editorValue);\n            var hasSplitedText = false;\n            if (orderedList_1 || unOrderedList) {\n                hasSplitedText = this.hasMultipleTextNode(currentRange_1);\n                if (hasSplitedText && !this.isMention) {\n                    var element = currentRange_1.startContainer;\n                    element = this.parent.formatter.editorManager.domNode.getImmediateBlockNode(element);\n                    if (element.childNodes.length > 0 && !element.innerHTML.includes('<br>')) {\n                        hasSplitedText = false;\n                    }\n                }\n            }\n            if (!hasSplitedText && (orderedList_1 && !unOrderedList || unOrderedList && !orderedList_1)) {\n                var eventArgs_1 = {\n                    callBack: null,\n                    event: e.args,\n                    name: 'keydown-handler',\n                    enterKey: this.parent.enterKey,\n                    shiftEnterKey: this.parent.shiftEnterKey\n                };\n                var actionBeginArgs = {\n                    cancel: false,\n                    item: { command: 'Lists', subCommand: orderedList_1 ? 'OL' : 'UL' },\n                    name: 'actionBegin',\n                    originalEvent: e.args,\n                    requestType: orderedList_1 ? 'OL' : 'UL'\n                };\n                this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_5__.actionBegin, actionBeginArgs, function (actionBeginArgs) {\n                    if (!actionBeginArgs.cancel) {\n                        _this.parent.formatter.editorManager.observer.notify(_common_constant__WEBPACK_IMPORTED_MODULE_11__.ON_BEGIN, eventArgs_1);\n                        _this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_5__.actionComplete, {\n                            editorMode: _this.parent.editorMode,\n                            elements: _this.parent.formatter.editorManager.domNode.blockNodes(),\n                            event: e.args,\n                            name: _base_constant__WEBPACK_IMPORTED_MODULE_5__.actionComplete,\n                            range: _this.parent.getRange(),\n                            requestType: orderedList_1 ? 'OL' : 'UL'\n                        });\n                    }\n                });\n            }\n        }\n        if (_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.info.name === 'chrome' && (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.rangeElement) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.oldRangeElement) ||\n            !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.deleteRangeElement) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.deleteOldRangeElement)) &&\n            currentRange.startContainer.parentElement.tagName !== 'TD' && currentRange.startContainer.parentElement.tagName !== 'TH') {\n            this.rangeElement = null;\n            this.oldRangeElement = null;\n            this.deleteRangeElement = null;\n            this.deleteOldRangeElement = null;\n            if (!this.isImageDelete) {\n                args.preventDefault();\n            }\n            args.preventDefault();\n        }\n        this.parent.autoResize();\n    };\n    HtmlEditor.prototype.isOrderedList = function (editorValue) {\n        editorValue = editorValue.replace(/\\u200B/g, '');\n        var olListStartRegex = [/^[1]+[.]+$/, /^[i]+[.]+$/, /^[a]+[.]+$/];\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(editorValue)) {\n            for (var i = 0; i < olListStartRegex.length; i++) {\n                if (olListStartRegex[i].test(editorValue)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    HtmlEditor.prototype.isUnOrderedList = function (editorValue) {\n        editorValue = editorValue.replace(/\\u200B/g, '');\n        var ulListStartRegex = [/^[*]$/, /^[-]$/];\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(editorValue)) {\n            for (var i = 0; i < ulListStartRegex.length; i++) {\n                if (ulListStartRegex[i].test(editorValue)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    HtmlEditor.prototype.hasMultipleTextNode = function (range) {\n        this.isMention = false;\n        if (range && range.startContainer && range.startContainer.parentNode) {\n            var parentNode = range.startContainer.parentNode;\n            if (range.startContainer.previousElementSibling &&\n                range.startContainer.previousElementSibling.classList.contains('e-mention-chip')\n                && !range.startContainer.previousElementSibling.isContentEditable) {\n                this.isMention = true;\n                return true;\n            }\n            if (this.parent.enterKey === 'BR' || (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(parentNode, 'table')) {\n                return false;\n            }\n            var childNodes = parentNode.childNodes;\n            var textNodes = [];\n            for (var i = 0; i < childNodes.length; i++) {\n                var node = childNodes[i];\n                if (node && node.nodeType === Node.TEXT_NODE) {\n                    textNodes.push(node);\n                    if (textNodes.length > 1) {\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    //Determines if the cursor is truly at the start of a block element\n    HtmlEditor.prototype.isCursorAtBlockStart = function (range) {\n        if (range.startOffset !== 0 || range.endOffset !== 0) {\n            return false;\n        }\n        // Get the node where cursor is positioned\n        var cursorNode = range.startContainer;\n        // If cursor is in a text node, check its parent\n        var elementAtCursor = cursorNode.nodeType === Node.TEXT_NODE ?\n            cursorNode.parentElement : cursorNode;\n        // First, check if we're in a table cell - we don't want to handle these\n        if (elementAtCursor.tagName === 'TD' || elementAtCursor.tagName === 'TH') {\n            return false;\n        }\n        // Find the block-level ancestor\n        var blockNode = this.parent.formatter.editorManager.domNode.getImmediateBlockNode(elementAtCursor);\n        // If cursor is directly in a block element at position 0, it's at the start\n        if (cursorNode === blockNode && range.startOffset === 0) {\n            return true;\n        }\n        // Otherwise, we need to check if the cursor is positioned at the absolute beginning of content\n        var currentNode = elementAtCursor;\n        var previousContentFound = false;\n        // Walk up the DOM tree until we reach the block parent\n        while (currentNode && currentNode !== blockNode) {\n            // Check if there's any previous sibling with content\n            var sibling = currentNode.previousSibling;\n            while (sibling) {\n                // Skip empty text nodes\n                if (sibling.nodeType === Node.TEXT_NODE && (!sibling.textContent || !sibling.textContent.trim())) {\n                    sibling = sibling.previousSibling;\n                    continue;\n                }\n                // If we found any non-empty previous sibling, cursor is not at block start\n                previousContentFound = true;\n                break;\n            }\n            if (previousContentFound) {\n                break;\n            }\n            // Move up to parent and check again\n            currentNode = currentNode.parentNode;\n        }\n        // If we reached the block parent without finding previous content, cursor is at start\n        return !previousContentFound;\n    };\n    HtmlEditor.prototype.backSpaceCleanup = function (e, currentRange) {\n        var isLiElement = false;\n        var isPreviousNotContentEditable = true;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentRange.startContainer.previousSibling) &&\n            currentRange.startContainer.previousSibling.nodeName === 'SPAN') {\n            isPreviousNotContentEditable = currentRange.startContainer.previousSibling.contentEditable === 'false' ? false : true;\n        }\n        var checkNode = currentRange.startContainer.nodeName === '#text' ? currentRange.startContainer.parentElement : currentRange.startContainer;\n        var isSelectedPositionNotStart = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(currentRange.startContainer.nodeName === '#text' ? currentRange.startContainer.parentElement : currentRange.startContainer, 'li') ?\n            checkNode.nodeName !== 'li' && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(checkNode.previousSibling) : true;\n        // Method to determine if cursor is truly at start\n        var isCursorAtStart = this.isCursorAtBlockStart(currentRange);\n        if (e.args.code === 'Backspace' &&\n            e.args.keyCode === 8 &&\n            isCursorAtStart && currentRange.startContainer.textContent !== ' ' &&\n            this.parent.getSelection().length === 0 && currentRange.startContainer.textContent.length > 0 &&\n            isPreviousNotContentEditable && isSelectedPositionNotStart) {\n            if ((!this.parent.formatter.editorManager.domNode.isBlockNode(checkNode) &&\n                !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(checkNode.previousSibling) && checkNode.previousSibling.nodeName === 'BR') ||\n                (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentRange.startContainer.previousSibling) && currentRange.startContainer.previousSibling.nodeName === 'BR')) {\n                return;\n            }\n            this.rangeElement = this.getRootBlockNode(currentRange.startContainer);\n            if (this.rangeElement.tagName === 'OL' || this.rangeElement.tagName === 'UL') {\n                var liElement = this.getRangeLiNode(currentRange.startContainer);\n                if (liElement.previousElementSibling && liElement.previousElementSibling.childElementCount > 0) {\n                    this.oldRangeElement = liElement.previousElementSibling.lastElementChild.nodeName === 'BR' ?\n                        liElement.previousElementSibling : liElement.previousElementSibling.lastChild;\n                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(liElement.lastElementChild) && liElement.lastElementChild.nodeName !== 'BR' &&\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(liElement.lastElementChild.previousSibling) && liElement.lastChild.nodeName !== '#text') {\n                        this.rangeElement = liElement.lastElementChild;\n                        isLiElement = true;\n                    }\n                    else {\n                        this.rangeElement = liElement;\n                    }\n                }\n            }\n            else if (this.rangeElement === this.parent.inputElement || this.rangeElement.tagName === 'TABLE' ||\n                (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.rangeElement.previousElementSibling) && this.rangeElement.previousElementSibling.tagName === 'TABLE')) {\n                return;\n            }\n            else {\n                this.oldRangeElement = this.rangeElement.previousElementSibling;\n            }\n            var findBlockElement = this.parent.formatter.editorManager.domNode.blockNodes();\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(findBlockElement[0]) && currentRange.collapsed && currentRange.startOffset === 0 && currentRange.endOffset === 0 && findBlockElement[0].style.marginLeft !== '') {\n                findBlockElement[0].style.marginLeft = (parseInt(findBlockElement[0].style.marginLeft, 10) <= 20) ? '' : (parseInt(findBlockElement[0].style.marginLeft, 10) - 20 + 'px');\n            }\n            if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.oldRangeElement) && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(findBlockElement[0].previousSibling)) {\n                return;\n            }\n            else if (findBlockElement[0].previousSibling) {\n                var prevSibling = findBlockElement[0].previousSibling;\n                var currentElement = findBlockElement[0];\n                if (prevSibling.textContent.trim()) {\n                    this.removeLastBr(prevSibling);\n                    var lastPosition = this.parent.formatter.editorManager.nodeSelection.findLastTextPosition(prevSibling);\n                    var cursorpointer = lastPosition.offset;\n                    var lastChild = lastPosition.node;\n                    var childNodes = Array.from(currentElement.childNodes);\n                    var save = this.nodeSelectionObj.save(currentRange, this.contentRenderer.getDocument());\n                    if (this.isPreviousNodeBrAfterBackSpace) {\n                        this.parent.formatter.editorManager.domNode.setMarker(save);\n                    }\n                    var previousBlockElements = this.parent.formatter.editorManager.domNode.getImmediateBlockNode(lastChild);\n                    for (var i = 0; i < childNodes.length; i++) {\n                        previousBlockElements.appendChild(childNodes[i].cloneNode(true));\n                    }\n                    if (this.isPreviousNodeBrAfterBackSpace) {\n                        save = this.parent.formatter.editorManager.domNode.saveMarker(save);\n                        save.restore();\n                    }\n                    else {\n                        this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), lastChild, cursorpointer);\n                    }\n                    currentElement.parentNode.removeChild(currentElement);\n                    e.args.preventDefault();\n                }\n                else {\n                    prevSibling.parentNode.removeChild(prevSibling);\n                }\n            }\n            else {\n                if (this.oldRangeElement.tagName === 'OL' || this.oldRangeElement.tagName === 'UL') {\n                    this.oldRangeElement = this.oldRangeElement.lastElementChild.lastElementChild\n                        ? this.oldRangeElement.lastElementChild.lastElementChild :\n                        this.oldRangeElement.lastElementChild;\n                }\n                var lastNode = this.oldRangeElement.lastChild ? this.oldRangeElement.lastChild : this.oldRangeElement;\n                while (lastNode.nodeType !== 3 && lastNode.nodeName !== '#text' &&\n                    lastNode.nodeName !== 'BR' && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(lastNode.lastChild)) {\n                    lastNode = lastNode.lastChild;\n                }\n                if (lastNode.nodeName === 'IMG') {\n                    this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), lastNode.parentElement, lastNode.parentElement.childNodes.length);\n                }\n                else {\n                    this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), \n                    // eslint-disable-next-line\n                    lastNode, lastNode.textContent.length);\n                }\n                var checkParent = false;\n                if (this.oldRangeElement && this.oldRangeElement.nodeName !== '#text' && this.oldRangeElement.querySelectorAll('BR').length === 1) {\n                    var brElement = this.oldRangeElement.querySelector('BR');\n                    if (brElement && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(brElement.nextSibling)) {\n                        var brParentElement = brElement.parentNode;\n                        var currentState = this.oldRangeElement.innerHTML;\n                        this.parent.formatter.saveData(currentState);\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(brElement);\n                        if (brParentElement && brParentElement.childNodes.length === 0) {\n                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(brParentElement);\n                            checkParent = true;\n                        }\n                    }\n                }\n                if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.rangeElement) && this.oldRangeElement !== this.rangeElement && !checkParent) {\n                    while (this.rangeElement.firstChild) {\n                        if (this.oldRangeElement.nodeName === '#text') {\n                            this.oldRangeElement.parentElement.appendChild(this.rangeElement.childNodes[0]);\n                        }\n                        else {\n                            this.oldRangeElement.appendChild(this.rangeElement.childNodes[0]);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    !isLiElement ? (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(this.rangeElement) : (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(this.rangeElement.parentElement);\n                    this.oldRangeElement.normalize();\n                }\n            }\n        }\n        if (e.args.code === 'Backspace' && e.args.keyCode === 8 &&\n            currentRange.startContainer.nodeType !== Node.TEXT_NODE) {\n            var ChildNode = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentRange.startContainer.childNodes[currentRange.startOffset - 1]) &&\n                !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentRange.startContainer.childNodes[currentRange.startOffset - 1].isContentEditable) &&\n                !currentRange.startContainer.childNodes[currentRange.startOffset - 1].isContentEditable ?\n                currentRange.startContainer.childNodes[currentRange.startOffset - 1] : null;\n            if (ChildNode) {\n                ChildNode.remove();\n                e.args.preventDefault();\n            }\n        }\n    };\n    //Finds the last significant node within the given element.\n    HtmlEditor.prototype.getLastNode = function (node) {\n        while (node && node.lastChild) {\n            node = node.lastChild;\n        }\n        // Skip empty text nodes by checking if the node is a text node and contains only whitespace.\n        while (node && node.nodeType === Node.TEXT_NODE && !node.nodeValue.trim()) {\n            node = node.previousSibling;\n        }\n        return node;\n    };\n    // Removes the last <br> element from the given element if it is the last meaningful node.\n    HtmlEditor.prototype.removeLastBr = function (element) {\n        // Get the last meaningful node of the given element.\n        var lastNode = this.getLastNode(element);\n        // If the last node is a <br> element, remove it from the DOM.\n        if (lastNode && lastNode.nodeName === 'BR' && lastNode.parentNode) {\n            this.isPreviousNodeBrAfterBackSpace = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(lastNode.previousSibling) &&\n                lastNode.previousSibling.nodeName === 'BR' ? true : false;\n            lastNode.parentNode.removeChild(lastNode);\n        }\n    };\n    HtmlEditor.prototype.deleteCleanup = function (e, currentRange) {\n        var isLiElement = false;\n        var liElement;\n        var rootElement;\n        if (e.args.code === 'Delete' && e.args.keyCode === 46 &&\n            this.parent.contentModule.getText().trim().replace(/(\\r\\n|\\n|\\r|\\t)/gm, '').replace(/\\u200B/g, '').length !== 0 && this.parent.getSelection().length === 0 && currentRange.startContainer.parentElement.tagName !== 'TD' &&\n            currentRange.startContainer.parentElement.tagName !== 'TH') {\n            this.deleteRangeElement = rootElement = this.getRootBlockNode(currentRange.startContainer);\n            if (this.deleteRangeElement.tagName === 'OL' || this.deleteRangeElement.tagName === 'UL') {\n                liElement = this.getRangeLiNode(currentRange.startContainer);\n                if (liElement.nextElementSibling && liElement.nextElementSibling.childElementCount > 0\n                    && !liElement.nextElementSibling.querySelector('BR')) {\n                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(liElement.lastElementChild)) {\n                        this.deleteRangeElement = liElement.lastElementChild;\n                        isLiElement = true;\n                    }\n                    else {\n                        this.deleteRangeElement = liElement;\n                    }\n                }\n                else {\n                    this.deleteRangeElement = this.getRangeElement(liElement);\n                }\n            }\n            else if (this.deleteRangeElement.nodeType === 3 || (this.deleteRangeElement.tagName === 'TABLE' ||\n                (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.deleteRangeElement.nextElementSibling) && this.deleteRangeElement.nextElementSibling.tagName === 'TABLE'))) {\n                return;\n            }\n            var isImgWithEmptyBlockNode = false;\n            if (this.deleteRangeElement.querySelectorAll('img').length > 0 && this.deleteRangeElement.textContent.trim() === '') {\n                isImgWithEmptyBlockNode = true;\n            }\n            if (this.getCaretIndex(currentRange, this.deleteRangeElement) === this.deleteRangeElement.textContent.length &&\n                !isImgWithEmptyBlockNode) {\n                if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(liElement)) {\n                    if (isLiElement || !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(liElement.nextElementSibling)) {\n                        this.deleteOldRangeElement = this.getRangeElement(liElement.nextElementSibling);\n                    }\n                    else {\n                        this.deleteOldRangeElement = rootElement.nextElementSibling;\n                    }\n                }\n                else {\n                    this.deleteOldRangeElement = this.deleteRangeElement.nextElementSibling;\n                }\n                if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.deleteOldRangeElement)) {\n                    return;\n                }\n                else {\n                    if (currentRange.startOffset === 0 && currentRange.endOffset === 1 &&\n                        this.deleteRangeElement.childNodes[0].nodeName === 'IMG') {\n                        this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(), this.deleteRangeElement, this.deleteRangeElement, 0, 1);\n                        this.isImageDelete = true;\n                    }\n                    else {\n                        this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), this.deleteRangeElement, this.deleteRangeElement.childNodes.length);\n                        this.isImageDelete = false;\n                    }\n                    var brNode = this.deleteRangeElement.querySelector('BR');\n                    var brLastChildNode = this.deleteRangeElement.lastChild;\n                    var brParentNode = void 0;\n                    if (brLastChildNode) {\n                        brParentNode = brLastChildNode.parentNode;\n                    }\n                    if (brNode && brNode.classList.contains('e-rte-image-remove-focus')) {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([brNode], ['e-rte-image-focus']);\n                        return;\n                    }\n                    else if (brNode && brLastChildNode && brLastChildNode.nodeName === 'BR') {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(brLastChildNode);\n                        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(brParentNode) && brParentNode.childNodes.length === 0) {\n                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(brParentNode);\n                        }\n                        e.args.preventDefault();\n                    }\n                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.deleteRangeElement) && (this.deleteOldRangeElement.tagName !== 'OL' && this.deleteOldRangeElement.tagName !== 'UL')\n                        && this.deleteOldRangeElement !== this.deleteRangeElement\n                        && this.parent.contentModule.getEditPanel().contains(this.deleteRangeElement)) {\n                        while (this.deleteOldRangeElement.firstChild) {\n                            this.deleteRangeElement.appendChild(this.deleteOldRangeElement.childNodes[0]);\n                        }\n                        if (!isLiElement) {\n                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(this.deleteOldRangeElement);\n                        }\n                        else {\n                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(this.deleteOldRangeElement.parentElement);\n                        }\n                        this.deleteRangeElement.normalize();\n                    }\n                    else {\n                        this.deleteRangeElement = null;\n                        this.deleteOldRangeElement = null;\n                    }\n                }\n            }\n            else {\n                this.deleteRangeElement = null;\n            }\n        }\n    };\n    HtmlEditor.prototype.getCaretIndex = function (currentRange, element) {\n        var position = 0;\n        if (this.parent.contentModule.getDocument().getSelection().rangeCount !== 0) {\n            var preCaretRange = currentRange.cloneRange();\n            preCaretRange.selectNodeContents(element);\n            preCaretRange.setEnd(currentRange.endContainer, currentRange.endOffset);\n            position = preCaretRange.toString().length;\n        }\n        return position;\n    };\n    HtmlEditor.prototype.getRangeElement = function (element) {\n        var rangeElement;\n        if (element.childNodes.length <= 1) {\n            rangeElement = element.lastElementChild ? element.lastElementChild.tagName === 'BR' ?\n                element.lastElementChild.previousElementSibling ? element.lastElementChild.previousElementSibling\n                    : element : element.lastElementChild : element;\n        }\n        else {\n            rangeElement = element;\n        }\n        return rangeElement;\n    };\n    HtmlEditor.prototype.getRootBlockNode = function (rangeBlockNode) {\n        // eslint-disable-next-line\n        for (; rangeBlockNode && this.parent && this.parent.inputElement !== rangeBlockNode; rangeBlockNode = rangeBlockNode) {\n            if (rangeBlockNode.parentElement === this.parent.inputElement) {\n                break;\n            }\n            else {\n                rangeBlockNode = rangeBlockNode.parentElement;\n            }\n        }\n        return rangeBlockNode;\n    };\n    HtmlEditor.prototype.getRangeLiNode = function (rangeLiNode) {\n        var node = rangeLiNode.parentElement;\n        while (node !== this.parent.inputElement) {\n            if (node.nodeType === 1 && node.tagName === 'LI') {\n                break;\n            }\n            node = node.parentElement;\n        }\n        return node;\n    };\n    HtmlEditor.prototype.onPaste = function (e) {\n        // eslint-disable-next-line\n        var regex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)|(www\\.))(\\S+))/gi);\n        if (e.text.match(regex)) {\n            if (e.isWordPaste) {\n                return;\n            }\n            e.args.preventDefault();\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            // eslint-disable-next-line\n            var saveSelection = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            // eslint-disable-next-line\n            var httpRegex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)))/gi);\n            var wwwRegex = new RegExp(/([^\\S]|^)(((www\\.))(\\S+))/gi);\n            var enterSplitText = e.text.split('\\n');\n            var contentInnerElem = '';\n            for (var i = 0; i < enterSplitText.length; i++) {\n                if (enterSplitText[i].trim() === '') {\n                    contentInnerElem += (0,_base_util__WEBPACK_IMPORTED_MODULE_7__.getDefaultValue)(this.parent);\n                }\n                else {\n                    var contentWithSpace = '';\n                    var spaceBetweenContent = true;\n                    var spaceSplit = enterSplitText[i].split(' ');\n                    for (var j = 0; j < spaceSplit.length; j++) {\n                        if (spaceSplit[j].trim() === '') {\n                            contentWithSpace += spaceBetweenContent ? '&nbsp;' : ' ';\n                        }\n                        else {\n                            spaceBetweenContent = false;\n                            contentWithSpace += spaceSplit[j] + ' ';\n                        }\n                    }\n                    if (i === 0) {\n                        contentInnerElem += '<span>' + contentWithSpace.trim() + '</span>';\n                    }\n                    else {\n                        contentInnerElem += '<p>' + contentWithSpace.trim() + '</p>';\n                    }\n                }\n            }\n            var divElement = this.parent.createElement('div');\n            divElement.setAttribute('class', 'pasteContent');\n            divElement.style.display = 'inline';\n            divElement.innerHTML = contentInnerElem.replace('&para', '&amp;para');\n            var paraElem = divElement.querySelectorAll('span, p');\n            for (var i = 0; i < paraElem.length; i++) {\n                var splitTextContent = paraElem[i].innerHTML.split(' ');\n                var resultSplitContent = '';\n                for (var j = 0; j < splitTextContent.length; j++) {\n                    if (splitTextContent[j].match(httpRegex) || splitTextContent[j].match(wwwRegex)) {\n                        resultSplitContent += '<a class=\"e-rte-anchor\" href=\"' + splitTextContent[j] +\n                            '\" title=\"' + splitTextContent[j] + '\" target=\"_blank\"' + ' aria-label=\"' + this.parent.serviceLocator.getService('rteLocale').getConstant('linkAriaLabel') + '\">' + splitTextContent[j] + ' </a>';\n                    }\n                    else {\n                        resultSplitContent += splitTextContent[j] + ' ';\n                    }\n                }\n                paraElem[i].innerHTML = resultSplitContent.trim();\n            }\n            var anchorElement = divElement.childNodes[0];\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(anchorElement) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(anchorElement.childNodes[0]) && anchorElement.nodeName === 'SPAN' && anchorElement.childNodes[0].nodeName === 'A') {\n                divElement.innerHTML = divElement.innerHTML.replace('<span>', '').replace('</span>', '');\n            }\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.pasteCleanupModule)) {\n                e.callBack(divElement.innerHTML);\n            }\n            else {\n                this.parent.formatter.editorManager.execCommand('insertHTML', null, null, null, divElement);\n            }\n        }\n    };\n    HtmlEditor.prototype.spaceLink = function (e) {\n        var range = this.nodeSelectionObj.getRange(this.contentRenderer.getDocument());\n        if (range.startContainer.nodeType === Node.TEXT_NODE) {\n            var selectNodeEle = this.nodeSelectionObj.getParentNodeCollection(range);\n            var text = range.startContainer.textContent.substr(0, range.endOffset);\n            var splitText = text.split(' ');\n            var urlText = splitText[splitText.length - 1];\n            var urlTextRange = range.startOffset - (text.length - splitText[splitText.length - 1].length);\n            urlText = urlText.slice(0, urlTextRange);\n            // eslint-disable-next-line\n            var regex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)|(www\\.))(\\S+))/gi);\n            if (selectNodeEle[0] && selectNodeEle[0].nodeName !== 'A' && urlText.match(regex)) {\n                var selection = this.nodeSelectionObj.save(range, this.parent.contentModule.getDocument());\n                var url = urlText.indexOf('http') > -1 ? urlText : 'http://' + urlText;\n                var selectParent = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n                var value = {\n                    url: url,\n                    selection: selection, selectParent: selectParent,\n                    text: urlText,\n                    title: '',\n                    target: '_blank'\n                };\n                this.parent.formatter.process(this.parent, {\n                    item: {\n                        'command': 'Links',\n                        'subCommand': 'CreateLink'\n                    }\n                }, e, value);\n            }\n        }\n    };\n    HtmlEditor.prototype.onToolbarClick = function (args) {\n        var _this = this;\n        var save;\n        var selectNodeEle;\n        var selectParentEle;\n        var item = args.item;\n        var closestElement = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(args.originalEvent.target, '.e-rte-quick-popup');\n        var target = args.originalEvent.target;\n        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.closeTooltip, { target: target });\n        if (item.command !== 'FormatPainter') {\n            if (closestElement && !closestElement.classList.contains('e-rte-inline-popup') && !closestElement.classList.contains('e-rte-text-popup')) {\n                if (!(item.subCommand === 'SourceCode' || item.subCommand === 'Preview' ||\n                    item.subCommand === 'FontColor' || item.subCommand === 'BackgroundColor')) {\n                    if ((0,_common_util__WEBPACK_IMPORTED_MODULE_1__.isIDevice)() && item.command === 'Images') {\n                        this.nodeSelectionObj.restore();\n                    }\n                    var range = this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());\n                    save = this.nodeSelectionObj.save(range, this.parent.contentModule.getDocument());\n                    selectNodeEle = this.nodeSelectionObj.getNodeCollection(range);\n                    selectParentEle = this.nodeSelectionObj.getParentNodeCollection(range);\n                }\n                if (item.command === 'Images') {\n                    this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.imageToolbarAction, {\n                        member: 'image', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                }\n                if (item.command === 'Audios') {\n                    this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.audioToolbarAction, {\n                        member: 'audio', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                }\n                if (item.command === 'Videos') {\n                    this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.videoToolbarAction, {\n                        member: 'video', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                }\n                if (item.command === 'Links') {\n                    this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.linkToolbarAction, {\n                        member: 'link', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                }\n                if (item.command === 'Table') {\n                    this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.tableToolbarAction, {\n                        member: 'table', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                }\n            }\n            else {\n                var linkDialog = document.getElementById(this.parent.getID() + '_rtelink');\n                var imageDialog = document.getElementById(this.parent.getID() + '_image');\n                if (!(item.subCommand === 'SourceCode' || item.subCommand === 'Preview' ||\n                    item.subCommand === 'FontColor' || item.subCommand === 'BackgroundColor' || item.subCommand === 'NumberFormatList' || item.subCommand === 'BulletFormatList')) {\n                    var range = this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());\n                    if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(linkDialog) && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(imageDialog)) {\n                        save = this.nodeSelectionObj.save(range, this.parent.contentModule.getDocument());\n                    }\n                    selectNodeEle = this.nodeSelectionObj.getNodeCollection(range);\n                    selectParentEle = this.nodeSelectionObj.getParentNodeCollection(range);\n                }\n                switch (item.subCommand) {\n                    case 'Maximize':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.enableFullScreen, { args: args });\n                        break;\n                    case 'Minimize':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.disableFullScreen, { args: args });\n                        break;\n                    case 'CreateLink':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.insertLink, {\n                            member: 'link', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                        });\n                        break;\n                    case 'RemoveLink':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.unLink, {\n                            member: 'link', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                        });\n                        break;\n                    case 'Print':\n                        this.parent.print();\n                        break;\n                    case 'Image':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.insertImage, {\n                            member: 'image', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                        });\n                        break;\n                    case 'Audio':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.insertAudio, {\n                            member: 'audio', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                        });\n                        break;\n                    case 'Video':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.insertVideo, {\n                            member: 'video', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                        });\n                        break;\n                    case 'CreateTable':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.createTable, {\n                            member: 'table', args: args, selection: save\n                        });\n                        break;\n                    case 'SourceCode':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.sourceCode, { member: 'viewSource', args: args });\n                        break;\n                    case 'Preview':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.updateSource, { member: 'updateSource', args: args });\n                        break;\n                    case 'FontColor':\n                    case 'BackgroundColor':\n                        break;\n                    case 'File':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.renderFileManager, {\n                            member: 'fileManager', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                        });\n                        break;\n                    case 'EmojiPicker':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.emojiPicker, { member: 'emojiPicker', args: args });\n                        break;\n                    case 'ImportWord':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.onImport, {});\n                        break;\n                    case 'ExportWord':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.onExport, { member: 'ExportWord', args: args });\n                        break;\n                    case 'ExportPdf':\n                        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.onExport, { member: 'ExportPdf', args: args });\n                        break;\n                    default:\n                        this.parent.formatter.process(this.parent, args, args.originalEvent, null);\n                        break;\n                }\n                if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.quickToolbarModule) && (((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.quickToolbarModule.imageQTBar) && item.subCommand === 'Image') ||\n                    ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.quickToolbarModule.audioQTBar) && item.subCommand === 'Audio') ||\n                    ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.quickToolbarModule.videoQTBar) && item.subCommand === 'Video') ||\n                    ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.quickToolbarModule.linkQTBar) && item.subCommand === 'CreateLink'))) {\n                    this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.renderQuickToolbar, {});\n                }\n            }\n        }\n        else {\n            if (args.originalEvent.detail === 1) {\n                clearTimeout(this.clickTimeout);\n                this.clickTimeout = setTimeout(function () {\n                    _this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.formatPainterClick, {\n                        member: 'formatPainter', args: args\n                    });\n                }, 200);\n            }\n            else {\n                clearTimeout(this.clickTimeout);\n                this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.formatPainterDoubleClick, {\n                    member: 'formatPainter', args: args\n                });\n            }\n        }\n    };\n    HtmlEditor.prototype.instantiateRenderer = function () {\n        if (this.parent.iframeSettings.enable) {\n            this.renderFactory.addRenderer(_base_enum__WEBPACK_IMPORTED_MODULE_6__.RenderType.Content, new _renderer_iframe_content_renderer__WEBPACK_IMPORTED_MODULE_10__.IframeContentRender(this.parent));\n        }\n        else {\n            this.renderFactory.addRenderer(_base_enum__WEBPACK_IMPORTED_MODULE_6__.RenderType.Content, new _renderer_content_renderer__WEBPACK_IMPORTED_MODULE_9__.ContentRender(this.parent));\n        }\n    };\n    HtmlEditor.prototype.removeEventListener = function () {\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.initialEnd, this.render);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.modelChanged, this.onPropertyChanged);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.htmlToolbarClick, this.onToolbarClick);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.destroy, this.destroy);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.keyDown, this.onKeyDown);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.initialLoad, this.instantiateRenderer);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.selectAll, this.selectAll);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.selectRange, this.selectRange);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.getSelectedHtml, this.getSelectedHtml);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.selectionSave, this.onSelectionSave);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.selectionRestore, this.onSelectionRestore);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.readOnlyMode, this.updateReadOnly);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.paste, this.onPaste);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_5__.tableclass, this.isTableClassAdded);\n    };\n    HtmlEditor.prototype.render = function () {\n        this.contentRenderer = this.renderFactory.getRenderer(_base_enum__WEBPACK_IMPORTED_MODULE_6__.RenderType.Content);\n        var editElement = this.contentRenderer.getEditPanel();\n        var option = { undoRedoSteps: this.parent.undoRedoSteps, undoRedoTimer: this.parent.undoRedoTimer };\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.formatter)) {\n            var formatterClass = new _formatter_html_formatter__WEBPACK_IMPORTED_MODULE_8__.HTMLFormatter({\n                currentDocument: this.contentRenderer.getDocument(),\n                element: editElement,\n                options: option,\n                formatPainterSettings: this.parent.formatPainterSettings\n            });\n            this.parent.setProperties({ formatter: formatterClass }, true);\n        }\n        else {\n            this.parent.formatter.updateFormatter(editElement, this.contentRenderer.getDocument(), option, this.parent.formatPainterSettings);\n        }\n        if (this.parent.enableXhtml) {\n            this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.xhtmlValidation, {});\n        }\n        if (this.parent.toolbarSettings.enable) {\n            this.toolbarUpdate = new _html_toolbar_status__WEBPACK_IMPORTED_MODULE_12__.HtmlToolbarStatus(this.parent);\n        }\n        if (this.parent.inlineMode.enable) {\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.fontFamily.default)) {\n                editElement.style.fontFamily = this.parent.fontFamily.default;\n            }\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.fontSize.default)) {\n                editElement.style.fontSize = this.parent.fontSize.default;\n            }\n        }\n        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_5__.bindOnEnd, {});\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {RichTextEditorModel} e - specifies the editor model\n     * @returns {void}\n     * @hidden\n     * @deprecated\n     */\n    HtmlEditor.prototype.onPropertyChanged = function (e) {\n        // On property code change here\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e.newProp.toolbarSettings) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e.newProp.toolbarSettings.enable)) {\n            this.toolbarUpdate = new _html_toolbar_status__WEBPACK_IMPORTED_MODULE_12__.HtmlToolbarStatus(this.parent);\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e.newProp.formatter)) {\n            var editElement = this.contentRenderer.getEditPanel();\n            var option = { undoRedoSteps: this.parent.undoRedoSteps,\n                undoRedoTimer: this.parent.undoRedoTimer };\n            this.parent.formatter.updateFormatter(editElement, this.contentRenderer.getDocument(), option);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the string value\n     * @hidden\n     */\n    HtmlEditor.prototype.getModuleName = function () {\n        return 'htmlEditor';\n    };\n    /**\n     * For selecting all content in RTE\n     *\n     * @returns {void}\n     * @private\n     * @hidden\n     */\n    HtmlEditor.prototype.selectAll = function () {\n        var nodes = (0,_base_util__WEBPACK_IMPORTED_MODULE_7__.getTextNodesUnder)(this.parent.contentModule.getDocument(), this.parent.contentModule.getEditPanel());\n        if (nodes.length > 0) {\n            this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(), nodes[0], nodes[nodes.length - 1], 0, nodes[nodes.length - 1].textContent.length);\n        }\n    };\n    /**\n     * For selecting all content in RTE\n     *\n     * @param {NotifyArgs} e - specifies the notified arguments\n     * @returns {void}\n     * @private\n     * @hidden\n     */\n    HtmlEditor.prototype.selectRange = function (e) {\n        this.parent.formatter.editorManager.nodeSelection.setRange(this.parent.contentModule.getDocument(), e.range);\n    };\n    /**\n     * For get a selected text in RTE\n     *\n     * @param {NotifyArgs} e - specifies the notified arguments\n     * @returns {void}\n     * @hidden\n     */\n    HtmlEditor.prototype.getSelectedHtml = function (e) {\n        e.callBack(this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()).toString());\n    };\n    HtmlEditor.prototype.tableSelectionKeyAction = function (e) {\n        var args = e.args;\n        // Handle the space, enter and backspace keys when the table cells are selected.\n        var tableCellSelectNodes = this.parent.inputElement.querySelectorAll('.e-cell-select');\n        for (var i = 0; i < tableCellSelectNodes.length; i++) {\n            var currentCell = tableCellSelectNodes[i];\n            (0,_common_util__WEBPACK_IMPORTED_MODULE_1__.removeClassWithAttr)([currentCell], [_base_classes__WEBPACK_IMPORTED_MODULE_4__.CLS_TABLE_SEL, _base_classes__WEBPACK_IMPORTED_MODULE_4__.CLS_TABLE_MULTI_CELL, _base_classes__WEBPACK_IMPORTED_MODULE_4__.CLS_TABLE_SEL_END]);\n            if (i === 0) {\n                if (args.keyCode === 32) {\n                    currentCell.innerHTML = '&#8203;<br>';\n                }\n                else {\n                    currentCell.innerHTML = '<br>';\n                }\n                this.nodeSelectionObj.setCursorPoint(this.parent.contentModule.getDocument(), currentCell.firstChild, 0);\n            }\n            else {\n                currentCell.innerHTML = '<br>';\n            }\n        }\n    };\n    HtmlEditor.prototype.marginTabAdd = function (val, alignmentNodes) {\n        for (var index = 0; index < alignmentNodes.length; index++) {\n            var element = alignmentNodes[index];\n            if (element.closest('li')) {\n                continue;\n            }\n            if (element.style.marginLeft) {\n                var count = parseInt(element.style.marginLeft, 10);\n                if (val) {\n                    count -= 20;\n                }\n                else {\n                    count += 20;\n                }\n                element.style.marginLeft = count.toString() + 'px';\n                if (element.style.marginLeft === '0px') {\n                    element.removeAttribute('style');\n                }\n            }\n            else if (!val) {\n                element.style.marginLeft = '20px';\n            }\n        }\n    };\n    return HtmlEditor;\n}());\n\n\n\n//# sourceURL=webpack://ej2-vue-samples/./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/html-editor.js?");

/***/ })

}]);