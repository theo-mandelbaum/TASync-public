"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkej2_vue_samples"] = self["webpackChunkej2_vue_samples"] || []).push([["chunk-vendors-node_modules_syncfusion_ej2-grids_src_grid_actions_normal-edit_js-290f5088"],{

/***/ "./node_modules/@syncfusion/ej2-grids/src/grid/actions/normal-edit.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@syncfusion/ej2-grids/src/grid/actions/normal-edit.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NormalEdit: () => (/* binding */ NormalEdit)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"./node_modules/@syncfusion/ej2-base/index.js\");\n/* harmony import */ var _base_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base/util */ \"./node_modules/@syncfusion/ej2-grids/src/grid/base/util.js\");\n/* harmony import */ var _base_constant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base/constant */ \"./node_modules/@syncfusion/ej2-grids/src/grid/base/constant.js\");\n/* harmony import */ var _renderer_row_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../renderer/row-renderer */ \"./node_modules/@syncfusion/ej2-grids/src/grid/renderer/row-renderer.js\");\n/* harmony import */ var _syncfusion_ej2_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @syncfusion/ej2-data */ \"./node_modules/@syncfusion/ej2-data/index.js\");\n/* harmony import */ var _base_string_literals__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../base/string-literals */ \"./node_modules/@syncfusion/ej2-grids/src/grid/base/string-literals.js\");\n\n\n\n\n\n\n\n\n/**\n * `NormalEdit` module is used to handle normal('inline, dialog, external') editing actions.\n *\n * @hidden\n */\nvar NormalEdit = /** @class */ (function () {\n    function NormalEdit(parent, serviceLocator, renderer) {\n        this.args = {};\n        this.currentVirtualData = {};\n        this.parent = parent;\n        this.renderer = renderer;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    NormalEdit.prototype.clickHandler = function (e) {\n        var target = e.target;\n        var gObj = this.parent;\n        if (gObj.editSettings.showAddNewRow && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(gObj.element.querySelector('.' + _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.editedRow))) {\n            return;\n        }\n        if (((((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.gridContent) &&\n            (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.gridContent), 'e-grid').id === gObj.element.id)) || (gObj.frozenRows\n            && (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.headerContent) && !(0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-columnheader')))\n            && !(0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, 'e-unboundcelldiv')) {\n            this.rowIndex = (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(target, _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.rowCell)\n                ? parseInt(target.parentElement.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1 : -1;\n            if (gObj.isEdit) {\n                gObj.editModule.endEdit();\n            }\n        }\n    };\n    NormalEdit.prototype.dblClickHandler = function (e) {\n        if ((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(e.target, _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.rowCell) && this.parent.editSettings.allowEditOnDblClick &&\n            (!this.parent.editSettings.showAddNewRow || (this.parent.editSettings.showAddNewRow &&\n                !(0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(e.target, 'e-addedrow')))) {\n            this.parent.editModule.startEdit((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(e.target, _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.row));\n        }\n    };\n    /**\n     * The function used to trigger editComplete\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    NormalEdit.prototype.editComplete = function (e) {\n        this.parent.isEdit = this.parent.editSettings.showAddNewRow ? true : false;\n        var action = 'action';\n        switch (e.requestType) {\n            case 'save':\n                if ((!(this.parent.isCheckBoxSelection || this.parent.selectionSettings.type === 'Multiple')\n                    || (!this.parent.isPersistSelection)) && (e[\"\" + action] !== 'edit' && (!this.parent.editSettings.showAddNewRow ||\n                    (this.parent.editSettings.showAddNewRow && e[\"\" + action] !== 'add')))) {\n                    this.parent.selectRow(e['index']);\n                }\n                this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete, (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)(e, {\n                    requestType: 'save',\n                    type: _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete\n                }));\n                this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.closeEdit, { requestType: 'save', action: e[\"\" + action] });\n                break;\n            case 'delete':\n                this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete, (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)(e, {\n                    requestType: 'delete',\n                    type: _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete\n                }));\n                if (!this.parent.isCheckBoxSelection && !(this.parent.enableInfiniteScrolling\n                    && (this.parent.childGrid || this.parent.detailTemplate))) {\n                    this.parent.selectRow(this.editRowIndex);\n                }\n                this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.closeEdit, { requestType: 'delete', action: e[\"\" + action] });\n                break;\n        }\n    };\n    NormalEdit.prototype.getEditArgs = function (editedData, rowObj, isScroll) {\n        var primaryKeys = this.parent.getPrimaryKeyFieldNames();\n        var primaryKeyValues = [];\n        for (var i = 0; i < primaryKeys.length; i++) {\n            primaryKeyValues.push((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.getObject)(primaryKeys[parseInt(i.toString(), 10)], editedData));\n        }\n        var args = {\n            primaryKey: primaryKeys, primaryKeyValue: primaryKeyValues, requestType: 'beginEdit',\n            rowData: editedData, rowIndex: this.rowIndex, type: 'edit', cancel: false,\n            foreignKeyData: rowObj && rowObj.foreignKeyData, target: undefined, isScroll: isScroll\n        };\n        return args;\n    };\n    NormalEdit.prototype.startEdit = function (tr) {\n        var _this = this;\n        var gObj = this.parent;\n        this.rowIndex = this.editRowIndex = parseInt(tr.getAttribute(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.ariaRowIndex), 10) - 1;\n        if (gObj.enableVirtualization || gObj.enableColumnVirtualization || gObj.enableInfiniteScrolling) {\n            var selector = '.e-row[aria-rowindex=\"' + (this.rowIndex + 1) + '\"]';\n            var virtualRow = this.parent.element.querySelector(selector);\n            if (!virtualRow) {\n                return;\n            }\n        }\n        var e = { data: undefined, index: this.rowIndex, isScroll: false };\n        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.virtualScrollEditActionBegin, e);\n        if ((0,_base_util__WEBPACK_IMPORTED_MODULE_1__.isGroupAdaptive)(gObj)) {\n            var rObj = gObj.getRowObjectFromUID(tr.getAttribute('data-uid'));\n            this.previousData = rObj.data;\n        }\n        else if (this.parent.enableVirtualization || this.parent.enableColumnVirtualization ||\n            (this.parent.enableInfiniteScrolling && (!this.previousData || this.parent.infiniteScrollSettings.enableCache))) {\n            this.previousData = e.data;\n        }\n        else if (!this.parent.enableVirtualization) {\n            this.previousData = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)({}, {}, this.parent.getForeignKeyColumns().length ?\n                this.parent.getRowObjectFromUID(tr.getAttribute('data-uid')).data :\n                gObj.getCurrentViewRecords()[this.rowIndex], true);\n        }\n        var editedData = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)({}, {}, e.data || this.previousData, true);\n        this.uid = tr.getAttribute('data-uid');\n        var rowObj = gObj.getRowObjectFromUID(this.uid);\n        var args = this.getEditArgs(editedData, rowObj, e.isScroll);\n        args.row = tr;\n        if (!args.isScroll) {\n            this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.createVirtualValidationForm, { uid: this.uid, prevData: this.previousData, argsCreator: this.getEditArgs.bind(this), renderer: this.renderer });\n            gObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.beginEdit, args, function (begineditargs) {\n                begineditargs.type = 'actionBegin';\n                gObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, begineditargs, function (editargs) {\n                    if (!editargs.cancel) {\n                        _this.inlineEditHandler(editargs, tr);\n                    }\n                });\n            });\n        }\n        else {\n            this.inlineEditHandler(args, tr);\n        }\n    };\n    NormalEdit.prototype.disabledShowAddRow = function (disable, prevent) {\n        var addRow = this.parent.element.querySelector('.e-addedrow');\n        var inputs = [].slice.call(addRow ? addRow.querySelectorAll('.e-input') : []);\n        if (addRow && addRow.querySelector('.e-unboundcell')) {\n            var buttons = [].slice.call(addRow.querySelector('.e-unboundcell').querySelectorAll('.e-btn'));\n            for (var i = 0; i < buttons.length; i++) {\n                if (!disable) {\n                    buttons[parseInt(i.toString(), 10)].classList.add('e-disabled');\n                    buttons[parseInt(i.toString(), 10)].setAttribute('disabled', 'disabled');\n                }\n                else {\n                    buttons[parseInt(i.toString(), 10)].classList.remove('e-disabled');\n                    buttons[parseInt(i.toString(), 10)].removeAttribute('disabled');\n                }\n            }\n        }\n        if (inputs.length) {\n            for (var i = 0; i < inputs.length; i++) {\n                var input = inputs[parseInt(i.toString(), 10)];\n                var uid = input.getAttribute('e-mappinguid');\n                var column = this.parent.getColumnByUid(uid);\n                var error = (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.parentsUntil)(input, 'e-rowcell').querySelector('.e-error');\n                if (error) {\n                    error.classList.remove('e-error');\n                }\n                if (input.ej2_instances) {\n                    if (prevent && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(column.defaultValue)) {\n                        if (input.type === 'checkbox') {\n                            input.ej2_instances[0].checked = false;\n                            input.checked = false;\n                        }\n                        else {\n                            input.ej2_instances[0].value = null;\n                            input.value = null;\n                        }\n                    }\n                    if (input.type === 'checkbox' && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(disable)) {\n                        input.ej2_instances[0].disabled = disable && column.allowEditing ? false : true;\n                    }\n                    else if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(disable)) {\n                        input.ej2_instances[0].enabled = disable && column.allowEditing ? true : false;\n                    }\n                }\n                else {\n                    if (prevent && input.value && input.value.length &&\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(column.defaultValue)) {\n                        input.value = null;\n                    }\n                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(disable)) {\n                        if (!disable) {\n                            input.classList.add('e-disabled');\n                            input.setAttribute('disabled', 'disabled');\n                        }\n                        else if (column.allowEditing) {\n                            input.classList.remove('e-disabled');\n                            input.removeAttribute('disabled');\n                        }\n                    }\n                }\n            }\n        }\n    };\n    NormalEdit.prototype.inlineEditHandler = function (editargs, tr) {\n        var gObj = this.parent;\n        gObj.isEdit = true;\n        editargs.row = editargs.row ? editargs.row : tr;\n        if (gObj.editSettings.mode !== 'Dialog') {\n            gObj.clearSelection();\n        }\n        if (gObj.editSettings.mode === 'Dialog' && gObj.selectionModule) {\n            gObj.selectionModule.preventFocus = true;\n            editargs.row.classList.add('e-dlgeditrow');\n        }\n        this.renderer.update(editargs);\n        this.uid = tr.getAttribute('data-uid');\n        gObj.editModule.applyFormValidation();\n        if (gObj.editSettings.showAddNewRow && !tr.classList.contains('e-addedrow')) {\n            this.disabledShowAddRow(false, true);\n        }\n        editargs.type = 'actionComplete';\n        gObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete, editargs);\n        if (gObj.editSettings.template) {\n            gObj.editModule.applyFormValidation(undefined, editargs.form.ej2_instances[0].rules);\n        }\n        this.args = editargs;\n        if (this.parent.allowTextWrap) {\n            this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.freezeRender, { case: 'textwrap' });\n        }\n    };\n    NormalEdit.prototype.updateRow = function (index, data) {\n        var _this = this;\n        var gObj = this.parent;\n        this.editRowIndex = index;\n        var row = gObj.getRowByIndex(index);\n        if (!row) {\n            return;\n        }\n        var args = {\n            requestType: 'save', action: 'edit', type: _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, data: data, cancel: false,\n            previousData: gObj.getCurrentViewRecords()[parseInt(index.toString(), 10)],\n            row: row\n        };\n        gObj.showSpinner();\n        if (gObj.enableInfiniteScrolling) {\n            this.uid = args.row.getAttribute('data-uid');\n            var index_1 = parseInt(args.row.getAttribute('aria-rowindex'), 10) - 1;\n            this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.refreshInfiniteEditrowindex, { index: index_1 });\n        }\n        gObj.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.updateData, args);\n        if (args.promise) {\n            args.promise.then(function () { return gObj.refresh(); }).catch(function (e) { return _this.edFail(e); });\n        }\n        else {\n            if (!gObj.enableInfiniteScrolling) {\n                gObj.refresh();\n            }\n        }\n    };\n    NormalEdit.prototype.editFormValidate = function () {\n        var gObj = this.parent;\n        var isValid = gObj.editModule.editFormValidate();\n        var validationArgs = {\n            prevData: this.previousData, isValid: true, editIdx: this.editRowIndex, addIdx: this.addedRowIndex\n        };\n        gObj.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.validateVirtualForm, validationArgs);\n        return (isValid && validationArgs.isValid);\n    };\n    NormalEdit.prototype.endEdit = function () {\n        var _this = this;\n        var gObj = this.parent;\n        if (!this.parent.isEdit || !this.editFormValidate()) {\n            return;\n        }\n        var editedData = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)({}, {}, this.previousData, true);\n        var args = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)(this.args, {\n            requestType: 'save', type: _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, data: editedData, cancel: false,\n            previousData: this.previousData, selectedRow: gObj.selectedRowIndex, foreignKeyData: {}\n        });\n        var isDlg = gObj.editSettings.mode === 'Dialog';\n        var dlgWrapper = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.select)('#' + gObj.element.id + '_dialogEdit_wrapper', document);\n        var dlgForm = isDlg ? dlgWrapper.querySelector('.e-gridform') : gObj.editSettings.showAddNewRow &&\n            gObj.element.querySelector('.' + _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.editedRow) ? gObj.element.querySelector('.' + _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.editedRow).getElementsByClassName('e-gridform')[0] : gObj.element.getElementsByClassName('e-gridform')[0];\n        var data = {\n            virtualData: (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)({}, {}, this.previousData, true), isAdd: false, isScroll: false, endEdit: true\n        };\n        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.getVirtualData, data);\n        if ((this.parent.enableVirtualization || this.parent.enableColumnVirtualization || this.parent.enableInfiniteScrolling)\n            && this.parent.editSettings.mode === 'Normal' && Object.keys(data.virtualData).length) {\n            if (this.parent.isEdit) {\n                this.currentVirtualData = editedData = args.data = data.virtualData;\n            }\n        }\n        else {\n            editedData = gObj.editModule.getCurrentEditedData(dlgForm, editedData);\n        }\n        var eleLength = [].slice.call(gObj.element.getElementsByClassName(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.editedRow)).length;\n        if (!data.isAdd && Object.keys(this.currentVirtualData).length && !eleLength) {\n            eleLength = 1;\n        }\n        if (isDlg ? dlgWrapper.getElementsByClassName(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.editedRow).length : eleLength) {\n            args.action = 'edit';\n            gObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, args, function (endEditArgs) {\n                if (endEditArgs.cancel) {\n                    return;\n                }\n                if (_this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                    gObj.showSpinner();\n                }\n                if (_this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                if (gObj.editSettings.showAddNewRow) {\n                    _this.disabledShowAddRow(true);\n                }\n                gObj.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.updateData, endEditArgs);\n            });\n        }\n        else {\n            args.action = 'add';\n            args.selectedRow = 0;\n            args.index = this.addedRowIndex;\n            gObj.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.virtualScrollEditSuccess, {});\n            gObj.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.modelChanged, args);\n            this.addedRowIndex = null;\n            if (args.cancel) {\n                return;\n            }\n            if (this.parent.editSettings.showAddNewRow) {\n                this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.showAddNewRowFocus, {});\n                if (this.parent.enableVirtualization || this.parent.enableInfiniteScrolling) {\n                    this.disabledShowAddRow(true, true);\n                }\n            }\n        }\n    };\n    NormalEdit.prototype.destroyElements = function () {\n        var gObj = this.parent;\n        if (!gObj.editSettings.showAddNewRow || (gObj.editSettings.showAddNewRow && gObj.element.querySelector('.e-editedrow'))) {\n            gObj.editModule.destroyWidgets();\n            gObj.editModule.destroyForm();\n        }\n        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.dialogDestroy, {});\n    };\n    NormalEdit.prototype.editHandler = function (args) {\n        var _this = this;\n        if (args.promise) {\n            args.promise.then(function (e) { return _this.edSucc(e, args); }).catch(function (e) { return _this.edFail(e); });\n        }\n        else {\n            this.editSuccess(args.data, args);\n        }\n        if (this.parent.editSettings.showAddNewRow) {\n            this.parent.editModule.applyFormValidation();\n        }\n    };\n    NormalEdit.prototype.edSucc = function (e, args) {\n        this.editSuccess(e, args);\n    };\n    NormalEdit.prototype.edFail = function (e) {\n        this.editFailure(e);\n    };\n    NormalEdit.prototype.updateCurrentViewData = function (data) {\n        if (!this.parent.enableVirtualization && !this.parent.enableInfiniteScrolling) {\n            this.parent.getCurrentViewRecords()[this.editRowIndex] = data;\n        }\n    };\n    NormalEdit.prototype.requestSuccess = function (args) {\n        if (this.parent.editModule.formObj && !this.parent.editModule.formObj.isDestroyed) {\n            this.destroyElements();\n            this.stopEditStatus();\n            if (this.parent.editSettings.mode === 'Dialog' && args.action !== 'add' &&\n                this.parent.selectionModule) {\n                this.parent.element.querySelector('.e-dlgeditrow').classList.remove('e-dlgeditrow');\n            }\n        }\n    };\n    NormalEdit.prototype.editSuccess = function (e, args) {\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e) && !(e instanceof Array)) {\n            var rowData = 'rowData';\n            args.data = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)({}, (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)({}, args[\"\" + rowData], args.data), e);\n        }\n        this.requestSuccess(args);\n        this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.beforeDataBound, args);\n        args.type = _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete;\n        this.parent.isEdit = this.parent.editSettings.showAddNewRow ? true : false;\n        this.refreshRow(args.data);\n        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.virtualScrollEditSuccess, args);\n        this.parent.editModule.checkLastRow(args.row);\n        this.parent.editModule.isLastRow = false;\n        this.updateCurrentViewData(args.data);\n        this.blazorTemplate();\n        this.editRowIndex = null;\n        if (this.parent.allowGrouping && this.parent.groupSettings.columns.length\n            && this.parent.groupSettings.showGroupedColumn) {\n            var dragRow = args.row;\n            var rows = this.parent.getRowsObject();\n            var dragRowUid = dragRow.getAttribute('data-uid');\n            var dragRowObject_1 = this.parent.getRowObjectFromUID(dragRowUid);\n            var _loop_1 = function (i) {\n                // eslint-disable-next-line @typescript-eslint/no-this-alias\n                var thisRef = this_1;\n                rows = rows.filter(function (data) {\n                    var flag = data.isDataRow && data !== dragRowObject_1 && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(data.data);\n                    if (flag) {\n                        var groupedColumn = thisRef.parent.groupSettings.columns[parseInt(i.toString(), 10)].split('.');\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var comparer1 = data.data[groupedColumn[0]];\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var comparer2 = args.data[groupedColumn[0]];\n                        for (var j = 1; j < groupedColumn.length; j++) {\n                            comparer1 = comparer1[groupedColumn[j]];\n                            comparer2 = comparer2[groupedColumn[j]];\n                        }\n                        return flag && comparer1 === comparer2;\n                    }\n                    else {\n                        return flag;\n                    }\n                });\n            };\n            var this_1 = this;\n            for (var i = 0; i < this.parent.groupSettings.columns.length; i++) {\n                _loop_1(i);\n            }\n            var dropRowObject = rows[0];\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(dragRowObject_1) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(dropRowObject) &&\n                dragRowObject_1.parentUid !== dropRowObject.parentUid) {\n                this.parent['groupModule'].groupedRowReorder(dragRowObject_1, dropRowObject);\n            }\n            else if (this.parent.aggregates.length) {\n                this.parent.aggregateModule.refresh(args.data, this.parent.groupSettings.enableLazyLoading ? args.row : undefined);\n            }\n        }\n        else if (this.parent.aggregates.length) {\n            this.parent.aggregateModule.refresh(args.data, this.parent.groupSettings.enableLazyLoading ? args.row : undefined);\n        }\n        this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete, args);\n        if (!(this.parent.isCheckBoxSelection || this.parent.selectionSettings.type === 'Multiple')\n            || (!this.parent.isPersistSelection) && !this.parent.selectionSettings.checkboxOnly) {\n            if (this.parent.editSettings.mode !== 'Dialog') {\n                this.parent.selectRow(this.rowIndex > -1 ? this.rowIndex : this.editRowIndex);\n            }\n        }\n        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.closeEdit, { requestType: args.requestType, action: args.action });\n        if (this.parent.aggregates.length && this.parent.groupSettings.enableLazyLoading && this.parent.groupSettings.columns.length\n            && (this.parent.groupModule.getGroupAggregateTemplates(true).length\n                || this.parent.groupModule.getGroupAggregateTemplates(false).length)) {\n            return;\n        }\n        this.parent.removeMaskRow();\n        this.parent.hideSpinner();\n    };\n    NormalEdit.prototype.closeForm = function () {\n        if (!this.cloneRow && this.parent.isEdit) {\n            this.stopEditStatus();\n        }\n        if (this.cloneRow) {\n            this.cloneRow.remove();\n            this.cloneRow = null;\n            this.originalRow.classList.remove('e-hiddenrow');\n        }\n    };\n    NormalEdit.prototype.blazorTemplate = function () {\n        var cols = this.parent.getColumns();\n        if (this.parent.editSettings.template && this.parent.editSettings.mode === 'Normal') {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.updateBlazorTemplate)(this.parent.element.id + 'editSettingsTemplate', 'Template', this.parent.editSettings);\n        }\n        for (var i = 0; i < cols.length; i++) {\n            var col = cols[parseInt(i.toString(), 10)];\n            if (col.template) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.updateBlazorTemplate)(this.parent.element.id + col.uid, 'Template', col, false);\n            }\n            if (col.editTemplate) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.updateBlazorTemplate)(this.parent.element.id + col.uid + 'editTemplate', 'EditTemplate', col);\n            }\n        }\n    };\n    NormalEdit.prototype.editFailure = function (e) {\n        if (e.cancel) {\n            return;\n        }\n        this.parent.removeMaskRow();\n        this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.actionFailure, ({ error: e }));\n        this.parent.hideSpinner();\n        this.parent.log('actionfailure', { error: e });\n    };\n    NormalEdit.prototype.needRefresh = function () {\n        var refresh = true;\n        var editedRow = this.parent.element.querySelector('.e-gridform');\n        if ((this.parent.enableVirtualization || this.parent.infiniteScrollSettings.enableCache)\n            && this.parent.editSettings.mode === 'Normal' && !editedRow) {\n            refresh = false;\n        }\n        return refresh;\n    };\n    NormalEdit.prototype.refreshRow = function (data) {\n        var row = new _renderer_row_renderer__WEBPACK_IMPORTED_MODULE_3__.RowRenderer(this.serviceLocator, null, this.parent);\n        var rowObj = this.parent.getRowObjectFromUID(this.uid);\n        if (rowObj) {\n            rowObj.changes = data;\n            this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.refreshVirtualCache, { data: data });\n            (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.refreshForeignData)(rowObj, this.parent.getForeignKeyColumns(), rowObj.changes);\n            if (this.needRefresh()) {\n                row.refresh(rowObj, this.parent.getColumns(), true);\n            }\n            var tr = [].slice.call(this.parent.element.querySelectorAll('[aria-rowindex=\"' + (rowObj.index + 1) + '\"]'));\n            for (var i = 0; i < tr.length; i++) {\n                (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.addFixedColumnBorder)(tr[parseInt(i.toString(), 10)]);\n                if (this.parent.enableColumnVirtualization &&\n                    tr[parseInt(i.toString(), 10)].querySelectorAll('.e-leftfreeze,.e-rightfreeze,.e-fixedfreeze').length) {\n                    var cols = this.parent.getColumns();\n                    var leftrightCells = [].slice.call(tr[parseInt(i.toString(), 10)].querySelectorAll('.e-leftfreeze,.e-rightfreeze.e-fixedfreeze'));\n                    for (var j = 0; j < leftrightCells.length; j++) {\n                        if (leftrightCells[parseInt(j.toString(), 10)].classList.contains('e-leftfreeze')) {\n                            leftrightCells[parseInt(j.toString(), 10)].style.left = (cols[parseInt(j.toString(), 10)].valueX - this.parent.translateX) + 'px';\n                        }\n                        else if (leftrightCells[parseInt(j.toString(), 10)].classList.contains('e-rightfreeze')) {\n                            var idx = parseInt(leftrightCells[parseInt(j.toString(), 10)].getAttribute('aria-colindex'), 10) - 1;\n                            leftrightCells[parseInt(j.toString(), 10)].style.right = ((cols[parseInt(idx.toString(), 10)].valueX + this.parent.translateX)) + 'px';\n                        }\n                        else {\n                            leftrightCells[parseInt(j.toString(), 10)].style.left = (this.parent.leftrightColumnWidth('left') -\n                                this.parent.translateX) + 'px';\n                            leftrightCells[parseInt(j.toString(), 10)].style.right = (this.parent.leftrightColumnWidth('right') +\n                                this.parent.translateX) + 'px';\n                        }\n                    }\n                }\n            }\n        }\n    };\n    NormalEdit.prototype.closeEdit = function () {\n        var _this = this;\n        if (!this.parent.isEdit || (this.parent.editSettings.showAddNewRow && this.parent.element.querySelector('.e-addedrow') &&\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.element.querySelector('.' + _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.editedRow)))) {\n            if (this.parent.editSettings.showAddNewRow) {\n                this.disabledShowAddRow(true, true);\n                this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.showAddNewRowFocus, {});\n            }\n            return;\n        }\n        var gObj = this.parent;\n        var args = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)(this.args, {\n            requestType: 'cancel', type: _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, cancel: false, data: this.previousData, selectedRow: gObj.selectedRowIndex\n        });\n        gObj.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.virtualScrollEditCancel, args);\n        this.blazorTemplate();\n        gObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, args, function (closeEditArgs) {\n            if (closeEditArgs.cancel) {\n                return;\n            }\n            _this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.destroyEditForm, args);\n            if (_this.parent.editSettings.mode === 'Dialog') {\n                _this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.dialogDestroy, {});\n            }\n            closeEditArgs.type = _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete;\n            if (!_this.parent.editSettings.showAddNewRow) {\n                gObj.isEdit = false;\n            }\n            if (gObj.editSettings.mode !== 'Dialog') {\n                _this.refreshRow(closeEditArgs.data);\n            }\n            _this.stopEditStatus();\n            gObj.isEdit = false;\n            if (gObj.editSettings.showAddNewRow) {\n                _this.disabledShowAddRow(true);\n                gObj.editModule.applyFormValidation();\n                gObj.isEdit = true;\n            }\n            var isLazyLoad = gObj.groupSettings.enableLazyLoading && gObj.groupSettings.columns.length\n                && !gObj.getContentTable().querySelector('tr.e-emptyrow');\n            if (!gObj.getContentTable().querySelector('tr.e-emptyrow') &&\n                !gObj.getContentTable().querySelector('tr.e-row') && !isLazyLoad) {\n                gObj.renderModule.emptyRow();\n            }\n            if (gObj.editSettings.mode !== 'Dialog') {\n                gObj.selectRow(_this.rowIndex);\n            }\n            gObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete, closeEditArgs);\n        });\n    };\n    NormalEdit.prototype.addRecord = function (data, index) {\n        var _this = this;\n        var gObj = this.parent;\n        this.addedRowIndex = index = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(index) ? index : 0;\n        if (data) {\n            gObj.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.modelChanged, {\n                requestType: 'save', type: _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, data: data, selectedRow: 0, action: 'add', index: index\n            });\n            return;\n        }\n        if (gObj.isEdit) {\n            return;\n        }\n        this.previousData = {};\n        this.uid = '';\n        var cols = gObj.getColumns();\n        var rowData = { virtualData: {}, isScroll: false };\n        if (!gObj.editSettings.showAddNewRow) {\n            this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.getVirtualData, rowData);\n        }\n        for (var i = 0; i < cols.length; i++) {\n            if (rowData.isScroll) {\n                continue;\n            }\n            if (cols[parseInt(i.toString(), 10)].field) {\n                if (cols[parseInt(i.toString(), 10)].type === 'string') {\n                    cols[parseInt(i.toString(), 10)].defaultValue = this.parent\n                        .sanitize(cols[parseInt(i.toString(), 10)].defaultValue);\n                }\n                _syncfusion_ej2_data__WEBPACK_IMPORTED_MODULE_4__.DataUtil.setValue(cols[parseInt(i.toString(), 10)].field, cols[parseInt(i.toString(), 10)].defaultValue, this.previousData);\n            }\n        }\n        var args = {\n            cancel: false, foreignKeyData: {},\n            requestType: 'add', data: this.previousData, type: _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, index: index,\n            rowData: this.previousData, target: undefined, isScroll: rowData.isScroll\n        };\n        if ((this.parent.enableVirtualization || this.parent.enableColumnVirtualization || this.parent.infiniteScrollSettings.enableCache)\n            && Object.keys(rowData.virtualData).length) {\n            args.data = args.rowData = rowData.virtualData;\n        }\n        if (!args.isScroll) {\n            this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.createVirtualValidationForm, { uid: this.uid, prevData: this.previousData, argsCreator: this.getEditArgs.bind(this), renderer: this.renderer });\n            if (gObj.editSettings.showAddNewRow) {\n                this.inlineAddHandler(args);\n            }\n            else {\n                gObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, args, function (addArgs) {\n                    if (addArgs.cancel) {\n                        return;\n                    }\n                    _this.inlineAddHandler(addArgs);\n                });\n            }\n        }\n        else {\n            this.inlineAddHandler(args);\n        }\n    };\n    NormalEdit.prototype.inlineAddHandler = function (addArgs) {\n        var gObj = this.parent;\n        gObj.isEdit = true;\n        if (gObj.editSettings.mode !== 'Dialog') {\n            gObj.clearSelection();\n        }\n        this.renderer.addNew(addArgs);\n        gObj.editModule.applyFormValidation();\n        addArgs.type = _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete;\n        addArgs.row = gObj.element.querySelector('.' + _base_string_literals__WEBPACK_IMPORTED_MODULE_5__.addedRow);\n        if (!gObj.editSettings.showAddNewRow) {\n            gObj.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_2__.actionComplete, addArgs);\n        }\n        if (gObj.editSettings.template) {\n            gObj.editModule.applyFormValidation(undefined, addArgs.form.ej2_instances[0].rules);\n        }\n        this.args = addArgs;\n    };\n    NormalEdit.prototype.deleteRecord = function (fieldname, data) {\n        this.editRowIndex = this.parent.selectedRowIndex;\n        if (data) {\n            data = (data instanceof Array) ? data : [data];\n            var gObj = this.parent;\n            var dataLen = Object.keys(data).length;\n            fieldname = fieldname || this.parent.getPrimaryKeyFieldNames()[0];\n            var _loop_2 = function (i) {\n                var _a;\n                var tmpRecord;\n                var contained = gObj.currentViewData.some(function (record) {\n                    tmpRecord = record;\n                    return data[parseInt(i.toString(), 10)] === (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.getObject)(fieldname, record) || data[parseInt(i.toString(), 10)] === record;\n                });\n                data[parseInt(i.toString(), 10)] = contained ? tmpRecord : data[parseInt(i.toString(), 10)][\"\" + fieldname] ?\n                    data[parseInt(i.toString(), 10)] : (_a = {}, _a[fieldname] = data[parseInt(i.toString(), 10)], _a);\n            };\n            for (var i = 0; i < dataLen; i++) {\n                _loop_2(i);\n            }\n        }\n        var args = {\n            requestType: 'delete', type: _base_constant__WEBPACK_IMPORTED_MODULE_2__.actionBegin, foreignKeyData: {},\n            data: data ? data : this.parent.getSelectedRecords(), tr: this.parent.getSelectedRows(), cancel: false\n        };\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.commandDelIndex)) {\n            args.data[0] =\n                this.parent.getRowObjectFromUID(this.parent.getRowByIndex(this.parent.commandDelIndex).getAttribute('data-uid')).data;\n        }\n        this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_2__.modelChanged, args);\n    };\n    NormalEdit.prototype.stopEditStatus = function () {\n        var gObj = this.parent;\n        var addElements = [].slice.call(gObj.editSettings.showAddNewRow ? [] :\n            gObj.element.getElementsByClassName(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.addedRow));\n        var editElements = [].slice.call(gObj.element.getElementsByClassName(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.editedRow));\n        for (var i = 0; i < addElements.length; i++) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(addElements[parseInt(i.toString(), 10)]);\n        }\n        for (var i = 0; i < editElements.length; i++) {\n            editElements[parseInt(i.toString(), 10)].classList.remove(_base_string_literals__WEBPACK_IMPORTED_MODULE_5__.editedRow);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    NormalEdit.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: _base_constant__WEBPACK_IMPORTED_MODULE_2__.crudAction, handler: this.editHandler },\n            { event: _base_constant__WEBPACK_IMPORTED_MODULE_2__.doubleTap, handler: this.dblClickHandler },\n            { event: _base_constant__WEBPACK_IMPORTED_MODULE_2__.click, handler: this.clickHandler },\n            { event: _base_constant__WEBPACK_IMPORTED_MODULE_2__.recordAdded, handler: this.requestSuccess },\n            { event: _base_constant__WEBPACK_IMPORTED_MODULE_2__.dblclick, handler: this.dblClickHandler },\n            { event: _base_constant__WEBPACK_IMPORTED_MODULE_2__.deleteComplete, handler: this.editComplete },\n            { event: _base_constant__WEBPACK_IMPORTED_MODULE_2__.saveComplete, handler: this.editComplete },\n            { event: _base_constant__WEBPACK_IMPORTED_MODULE_2__.rowModeChange, handler: this.closeEdit },\n            { event: _base_constant__WEBPACK_IMPORTED_MODULE_2__.closeInline, handler: this.closeForm }];\n        (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.addRemoveEventListener)(this.parent, this.evtHandlers, true, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    NormalEdit.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        (0,_base_util__WEBPACK_IMPORTED_MODULE_1__.addRemoveEventListener)(this.parent, this.evtHandlers, false);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    NormalEdit.prototype.destroy = function () {\n        this.removeEventListener();\n        this.renderer.destroy();\n    };\n    return NormalEdit;\n}());\n\n\n\n//# sourceURL=webpack://ej2-vue-samples/./node_modules/@syncfusion/ej2-grids/src/grid/actions/normal-edit.js?");

/***/ })

}]);