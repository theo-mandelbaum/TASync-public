"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkej2_vue_samples"] = self["webpackChunkej2_vue_samples"] || []).push([["chunk-vendors-node_modules_syncfusion_ej2-richtexteditor_src_rich-text-editor_actions_enter-key_js-e-8b05142a"],{

/***/ "./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/enter-key.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/enter-key.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EnterKeyAction: () => (/* binding */ EnterKeyAction)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"./node_modules/@syncfusion/ej2-base/index.js\");\n/* harmony import */ var _base_constant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base/constant */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/constant.js\");\n\n\n/**\n * `EnterKey` module is used to handle enter key press actions.\n */\nvar EnterKeyAction = /** @class */ (function () {\n    function EnterKeyAction(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    EnterKeyAction.prototype.addEventListener = function () {\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.enterHandler, this.enterHandler, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.destroy, this.destroy, this);\n    };\n    EnterKeyAction.prototype.destroy = function () {\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent)) {\n            return;\n        }\n        this.removeEventListener();\n    };\n    EnterKeyAction.prototype.removeEventListener = function () {\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.enterHandler, this.enterHandler);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.destroy, this.destroy);\n    };\n    EnterKeyAction.prototype.getRangeNode = function () {\n        this.range = this.parent.getRange();\n        this.startNode = this.range.startContainer.nodeName === '#text' ? this.range.startContainer.parentElement :\n            this.range.startContainer;\n        this.endNode = this.range.endContainer.nodeName === '#text' ? this.range.endContainer.parentElement :\n            this.range.endContainer;\n    };\n    EnterKeyAction.prototype.enterHandler = function (e) {\n        var _this = this;\n        this.getRangeNode();\n        var isTableEnter = true;\n        this.formatTags = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote'];\n        var tableImagCursor = this.processedTableImageCursor();\n        if (tableImagCursor.start || tableImagCursor.end) {\n            if (tableImagCursor.startName === 'TABLE' || tableImagCursor.endName === 'TABLE') { // Default browser action prevented and hanled manually.\n                this.handleCursorAtTableSide(e, tableImagCursor.start, tableImagCursor.end);\n                return;\n            }\n        }\n        if (tableImagCursor.start || tableImagCursor.end || this.range.startContainer.nodeName === 'IMG') {\n            if (this.parent.enterKey === 'BR' && (tableImagCursor.startName === 'IMG' || tableImagCursor.endName === 'IMG' || this.range.startContainer.nodeName === 'IMG')) { // Default browser action prevented and hanled manually.\n                this.handleEnterKeyAtImageSide(e, tableImagCursor.start, tableImagCursor.end);\n                return;\n            }\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.startNode.closest('TABLE')) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.endNode.closest('TABLE'))) {\n            isTableEnter = false;\n            var curElement = this.startNode;\n            var blockElement = curElement;\n            while (!this.parent.formatter.editorManager.domNode.isBlockNode(curElement)) {\n                curElement = curElement.parentElement;\n                blockElement = curElement;\n            }\n            isTableEnter = blockElement.tagName === 'TH' || blockElement.tagName === 'TD' || blockElement.tagName === 'TBODY' ? false : true;\n        }\n        var eventArgs = e.args;\n        if (eventArgs.which === 13 && !eventArgs.ctrlKey && (!_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.isDevice ? (eventArgs.code === 'Enter' || eventArgs.code === 'NumpadEnter') : eventArgs.key === 'Enter')) {\n            if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.startNode.closest('LI, UL, OL')) && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.endNode.closest('LI, UL, OL')) &&\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.startNode.closest('.e-img-inner')) && isTableEnter &&\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.startNode.closest('PRE')) && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.endNode.closest('PRE')) &&\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.startNode.closest('BLOCKQUOTE')) && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.endNode.closest('BLOCKQUOTE'))) {\n                var shiftKey_1 = e.args.shiftKey;\n                var actionBeginArgs = {\n                    cancel: false,\n                    name: _base_constant__WEBPACK_IMPORTED_MODULE_1__.actionBegin,\n                    requestType: shiftKey_1 ? 'ShiftEnterAction' : 'EnterAction',\n                    originalEvent: e.args\n                };\n                this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_1__.actionBegin, actionBeginArgs, function (actionBeginArgs) {\n                    if (!actionBeginArgs.cancel) {\n                        if (_this.parent.formatter.getUndoRedoStack().length === 0) {\n                            _this.parent.formatter.saveData();\n                        }\n                        if (!(_this.range.startOffset === _this.range.endOffset && _this.range.startContainer === _this.range.endContainer)) {\n                            if (_this.range.startContainer.nodeType === Node.TEXT_NODE || !((_this.range.startContainer.nodeName === 'IMG' || _this.range.startContainer.querySelector('img')) ||\n                                _this.range.startContainer.nodeName === 'SPAN' && (_this.range.startContainer.classList.contains('e-video-wrap') ||\n                                    _this.range.startContainer.classList.contains('e-audio-wrap')))) {\n                                _this.range.deleteContents();\n                            }\n                            if (_this.range.startContainer.nodeName === '#text' && _this.range.startContainer.textContent.length === 0 &&\n                                _this.range.startContainer.parentElement !== _this.parent.inputElement) {\n                                if (_this.parent.enterKey === 'BR') {\n                                    _this.range.startContainer.parentElement.innerHTML = '&#8203;';\n                                }\n                                else {\n                                    _this.range.startContainer.parentElement.innerHTML = '<br>';\n                                }\n                            }\n                            else if (_this.range.startContainer === _this.parent.inputElement && _this.range.startContainer.innerHTML === '') {\n                                if (_this.parent.enterKey === 'P') {\n                                    _this.range.startContainer.innerHTML = '<p><br></p>';\n                                }\n                                else if (_this.parent.enterKey === 'DIV') {\n                                    _this.range.startContainer.innerHTML = '<div><br></div>';\n                                }\n                                else {\n                                    _this.range.startContainer.innerHTML = '<br>';\n                                }\n                                var focusElem = _this.range.startContainer.childNodes[_this.range.startOffset];\n                                _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), focusElem, 0);\n                            }\n                            else if (_this.parent.inputElement === _this.range.startContainer) {\n                                var focusElem = _this.range.startContainer.childNodes[_this.range.startOffset];\n                                if (focusElem.nodeName === '#text' && focusElem.textContent.length === 0) {\n                                    _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), focusElem, focusElem.textContent.length === 0 ? 0 : focusElem.previousSibling.textContent.length);\n                                }\n                                else {\n                                    _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), focusElem, focusElem.textContent.length >= 0 ? 0 : 1);\n                                    if (focusElem.previousSibling.textContent.length === 0) {\n                                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(focusElem.previousSibling);\n                                        if (!shiftKey_1) {\n                                            var currentFocusElem = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(focusElem.lastChild) ? focusElem.lastChild : focusElem;\n                                            while (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentFocusElem) && currentFocusElem.nodeName !== '#text' && currentFocusElem.nodeName !== 'BR') {\n                                                currentFocusElem = currentFocusElem.lastChild;\n                                            }\n                                            if (currentFocusElem.nodeName !== 'BR' && currentFocusElem.parentElement.textContent.length === 0 && currentFocusElem.parentElement.innerHTML.length === 0 &&\n                                                currentFocusElem.parentElement.nodeName !== 'BR') {\n                                                currentFocusElem.parentElement.appendChild(_this.parent.createElement('BR'));\n                                            }\n                                            _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), currentFocusElem.nodeName === 'BR' ? currentFocusElem : currentFocusElem.parentElement, currentFocusElem.parentElement.textContent.length >= 0 || currentFocusElem.nodeName === 'BR' ? 0 : 1);\n                                        }\n                                    }\n                                    else if (focusElem.textContent.length === 0) {\n                                        var currentFocusElem = focusElem.previousSibling.nodeName === '#text' ? focusElem.previousSibling : focusElem.previousSibling.lastChild;\n                                        while (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentFocusElem) && currentFocusElem.nodeName !== '#text') {\n                                            currentFocusElem = currentFocusElem.lastChild;\n                                        }\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), currentFocusElem, currentFocusElem.textContent.length);\n                                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(focusElem);\n                                    }\n                                    else if (_this.parent.enterKey !== 'BR' &&\n                                        focusElem.previousSibling.textContent.length !== 0 && focusElem.textContent.length !== 0) {\n                                        e.args.preventDefault();\n                                        return;\n                                    }\n                                }\n                                _this.getRangeNode();\n                            }\n                        }\n                        if (_this.range.startContainer === _this.range.endContainer &&\n                            _this.range.startOffset === _this.range.endOffset && _this.range.startContainer === _this.parent.inputElement) {\n                            if (!(_this.parent.inputElement.childNodes.length === 1 && _this.parent.inputElement.childNodes[0].nodeName === 'TABLE')) {\n                                if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.range.startContainer.childNodes[_this.range.startOffset])) {\n                                    var currentLastElem = _this.range.startContainer.childNodes[_this.range.startOffset - 1];\n                                    while (currentLastElem.lastChild !== null && currentLastElem.nodeName !== '#text') {\n                                        currentLastElem = currentLastElem.lastChild;\n                                    }\n                                    _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), currentLastElem, (currentLastElem.nodeName === 'BR' ? 0 : currentLastElem.textContent.length));\n                                }\n                                else {\n                                    _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), _this.range.startContainer.childNodes[_this.range.startOffset], 0);\n                                }\n                            }\n                            _this.getRangeNode();\n                        }\n                        if ((_this.parent.enterKey === 'P' && !shiftKey_1) || (_this.parent.enterKey === 'DIV' && !shiftKey_1) ||\n                            (_this.parent.shiftEnterKey === 'P' && shiftKey_1) ||\n                            (_this.parent.shiftEnterKey === 'DIV' && shiftKey_1)) {\n                            if ((_this.range.startOffset === 1 && _this.parent.inputElement.childNodes.length === 1 && _this.parent.inputElement.childNodes[0].nodeName === 'TABLE')) {\n                                var newElem = _this.createInsertElement(shiftKey_1);\n                                newElem.appendChild(_this.parent.createElement('BR'));\n                                _this.parent.inputElement.appendChild(newElem);\n                                _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), newElem, 0);\n                            }\n                            else {\n                                var nearBlockNode = void 0;\n                                if (isTableEnter && _this.parent.formatter.editorManager.domNode.isBlockNode(_this.startNode)) {\n                                    if (_this.range.startContainer.nodeName === '#text' && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.range.startContainer.previousSibling) && _this.range.startContainer.previousSibling.nodeName === 'HR') {\n                                        nearBlockNode = _this.range.startContainer.nextSibling;\n                                    }\n                                    else {\n                                        nearBlockNode = _this.startNode;\n                                    }\n                                }\n                                else {\n                                    nearBlockNode = _this.parent.formatter.editorManager.domNode.blockParentNode(_this.startNode);\n                                }\n                                var isMediaNode = false; // To check the image audio and video node cases\n                                var isFocusedFirst = false;\n                                var parentElement = _this.range.startContainer.parentElement;\n                                var isPreWrapApplied = false;\n                                var isTextWrapApplied = false;\n                                if (parentElement) {\n                                    var computedStyle = _this.parent.contentModule.getDocument()\n                                        .defaultView.getComputedStyle(parentElement);\n                                    isPreWrapApplied = computedStyle.getPropertyValue('white-space') === 'pre-wrap';\n                                    isTextWrapApplied = computedStyle.getPropertyValue('text-wrap') === 'nowrap';\n                                }\n                                if (_this.range.startOffset !== 0 && _this.range.endOffset !== 0 &&\n                                    _this.range.startContainer === _this.range.endContainer && !(!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(nearBlockNode.childNodes[0])\n                                    && (nearBlockNode.childNodes[0].nodeName === 'IMG' || nearBlockNode.querySelectorAll('img, audio, video').length > 0))) {\n                                    var startNodeText = _this.range.startContainer.textContent;\n                                    var splitFirstText = startNodeText.substring(0, _this.range.startOffset);\n                                    var lastCharBeforeCursor = splitFirstText.charCodeAt(_this.range.startOffset - 1);\n                                    var isSplitTextEmpty = splitFirstText.trim().length === 0;\n                                    var hasContentAfterCursor = startNodeText.slice(_this.range.startOffset).trim().length !== 0;\n                                    var isCursorAtStartNonPreWrap = lastCharBeforeCursor !== 160\n                                        && isSplitTextEmpty && !isPreWrapApplied && !isTextWrapApplied;\n                                    var isCursorAtStartPreWrapWithContent = lastCharBeforeCursor === 32\n                                        && (isPreWrapApplied || isTextWrapApplied) && isSplitTextEmpty && hasContentAfterCursor;\n                                    if ((isCursorAtStartNonPreWrap || isCursorAtStartPreWrapWithContent) &&\n                                        !_this.range.startContainer.previousSibling) {\n                                        isFocusedFirst = true;\n                                    }\n                                }\n                                else if (_this.range.startOffset === 0 && _this.range.endOffset === 0) {\n                                    isFocusedFirst = true;\n                                }\n                                _this.removeBRElement(nearBlockNode);\n                                var fireFoxEnterAtMiddle = _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.userAgent.indexOf('Firefox') !== -1 && _this.range.startOffset === 0 && _this.range.startContainer === _this.range.endContainer &&\n                                    _this.range.startContainer.nodeName === '#text' && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.range.startContainer.previousSibling) && !_this.parent.formatter.editorManager.domNode.isBlockNode(_this.range.startContainer.previousSibling) &&\n                                    _this.range.startContainer.parentElement === _this.range.startContainer.previousSibling.parentElement;\n                                var preventZeroWithSpace = ((_this.range.startContainer.nodeName === '#text' && _this.range.startContainer.textContent.includes('\\u200B') &&\n                                    _this.range.startContainer.textContent.trim() === '\\u200B') ||\n                                    (_this.range.startContainer.nodeName === '#text' && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.range.startContainer.textContent[_this.range.startOffset]) &&\n                                        _this.range.startContainer.textContent[_this.range.startOffset].includes('\\u200B') && _this.range.startContainer.textContent[_this.range.startOffset] === '\\u200B' &&\n                                        _this.parent.inputElement.textContent[0] !== '\\u200B'));\n                                var preventEnterkeyShiftKey = (_this.range.startContainer.nodeName === '#text' || _this.range.startContainer.nodeName === 'BR') && (_this.range.startOffset === 0 && _this.range.endOffset === 0) && _this.range.startContainer.parentElement === _this.parent.inputElement && _this.parent.enterKey === 'BR' && shiftKey_1;\n                                // eslint-disable-next-line max-len\n                                if (!preventEnterkeyShiftKey && !preventZeroWithSpace && !fireFoxEnterAtMiddle && ((_this.range.startOffset === 0 && _this.range.endOffset === 0) || isFocusedFirst) &&\n                                    !(!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.range.startContainer.previousSibling) &&\n                                        (_this.range.startContainer.previousSibling.nodeName === 'IMG' || _this.range.startContainer.previousSibling.nodeName === 'BR'))) {\n                                    var isNearBlockLengthZero = void 0;\n                                    var newElem = void 0;\n                                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.range.startContainer.childNodes) &&\n                                        (_this.range.startContainer.textContent.length === 0 ||\n                                            (_this.range.startContainer.nodeName !== '#text' && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.range.startContainer.querySelector('.e-video-clickelem')) &&\n                                                _this.range.startContainer.querySelector('.e-video-clickelem').textContent.length === 0)) &&\n                                        (_this.range.startContainer.querySelectorAll('img, audio, video').length > 0 ||\n                                            !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.range.startContainer.querySelector('.e-video-clickelem')) ||\n                                            _this.range.startContainer.nodeName === 'IMG' || _this.range.startContainer.nodeName === 'TABLE')) {\n                                        newElem = _this.createInsertElement(shiftKey_1);\n                                        isMediaNode = true;\n                                        isNearBlockLengthZero = false;\n                                    }\n                                    else {\n                                        if ((nearBlockNode.textContent.trim().length !== 0 ||\n                                            (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(nearBlockNode.childNodes[0]) && nearBlockNode.childNodes[0].nodeName === 'IMG') ||\n                                            (nearBlockNode.textContent.trim() === '' && nearBlockNode.querySelectorAll('img, audio, video').length > 0))) {\n                                            if ((_this.range.startOffset === _this.range.endOffset && _this.range.startOffset !== 0)) {\n                                                newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, nearBlockNode, false).cloneNode(true);\n                                            }\n                                            else {\n                                                newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, nearBlockNode, true).cloneNode(true);\n                                                isMediaNode = true;\n                                            }\n                                            isNearBlockLengthZero = false;\n                                        }\n                                        else {\n                                            newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, nearBlockNode, true).cloneNode(true);\n                                            isNearBlockLengthZero = true;\n                                        }\n                                    }\n                                    var insertElem = void 0;\n                                    if (_this.formatTags.indexOf(newElem.nodeName.toLocaleLowerCase()) < 0) {\n                                        insertElem = _this.createInsertElement(shiftKey_1);\n                                    }\n                                    else {\n                                        insertElem = _this.parent.createElement(newElem.nodeName);\n                                    }\n                                    while (newElem.firstChild) {\n                                        insertElem.appendChild(newElem.firstChild);\n                                    }\n                                    var isAudioVideo = _this.range.startContainer !== nearBlockNode && (nearBlockNode.querySelector('.e-video-wrap') ||\n                                        nearBlockNode.querySelector('.e-audio-wrap') && _this.range.startContainer.classList.contains('e-clickelem')) ? true : false;\n                                    var isImageElement = _this.range.startContainer !== nearBlockNode && nearBlockNode.querySelector('img') ? true : false;\n                                    if (isAudioVideo) {\n                                        _this.parent.formatter.editorManager.domNode.insertAfter(insertElem, nearBlockNode);\n                                    }\n                                    else {\n                                        nearBlockNode.parentElement.insertBefore(insertElem, nearBlockNode);\n                                    }\n                                    if (!isNearBlockLengthZero) {\n                                        var currentFocusElem = insertElem;\n                                        var finalFocusElem = void 0;\n                                        if (_this.range.startOffset === _this.range.endOffset && _this.range.startOffset !== 0) {\n                                            while (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentFocusElem) && currentFocusElem.nodeName !== '#text' &&\n                                                currentFocusElem.nodeName !== 'BR') {\n                                                finalFocusElem = currentFocusElem;\n                                                currentFocusElem = currentFocusElem.lastChild;\n                                            }\n                                        }\n                                        else {\n                                            finalFocusElem = currentFocusElem;\n                                        }\n                                        finalFocusElem.innerHTML = '<br>';\n                                        if (!isMediaNode) {\n                                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(nearBlockNode);\n                                        }\n                                    }\n                                    if (isAudioVideo || isImageElement) {\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), insertElem, 0);\n                                    }\n                                    else {\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), insertElem.nextElementSibling, 0);\n                                    }\n                                }\n                                else if (nearBlockNode !== _this.parent.inputElement && nearBlockNode.textContent.length === 0 && !(!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(nearBlockNode.childNodes[0]) && nearBlockNode.childNodes[0].nodeName === 'IMG' ||\n                                    (nearBlockNode.querySelectorAll('video').length > 0) || (nearBlockNode.querySelectorAll('audio').length > 0) || (nearBlockNode.querySelectorAll('img').length > 0))) {\n                                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(nearBlockNode.children[0]) && nearBlockNode.children[0].tagName !== 'BR') {\n                                        var newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, nearBlockNode, false).cloneNode(true);\n                                        _this.parent.formatter.editorManager.domNode.insertAfter(newElem, nearBlockNode);\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), newElem, newElem.textContent.length >= 0 ? 0 : 1);\n                                    }\n                                    else {\n                                        var insertElem = _this.createInsertElement(shiftKey_1);\n                                        insertElem.innerHTML = '<br>';\n                                        _this.parent.formatter.editorManager.domNode.insertAfter(insertElem, nearBlockNode);\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), insertElem, 0);\n                                    }\n                                }\n                                else if (_this.range.startContainer === _this.range.endContainer && _this.range.startContainer.nodeType !== Node.TEXT_NODE && ((_this.range.startContainer.nodeName === 'IMG' || _this.range.startContainer.querySelector('img')) ||\n                                    (_this.range.startContainer.nodeName === 'SPAN' && (_this.range.startContainer.classList.contains('e-video-wrap') ||\n                                        _this.range.startContainer.classList.contains('e-audio-wrap'))))) {\n                                    if (nearBlockNode.textContent.trim().length > 0) {\n                                        var newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, nearBlockNode, true);\n                                        var audioVideoElem = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(newElem.previousSibling.querySelector('.e-video-wrap')) ?\n                                            newElem.previousSibling.querySelector('.e-video-wrap') : newElem.previousSibling.querySelector('.e-audio-wrap');\n                                        var isBRInserted = false;\n                                        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(audioVideoElem)) {\n                                            var lastNode = audioVideoElem.previousSibling;\n                                            while (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(lastNode) && lastNode.nodeName !== '#text') {\n                                                lastNode = lastNode.lastChild;\n                                            }\n                                            if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(lastNode)) {\n                                                var brElm = _this.parent.createElement('br');\n                                                audioVideoElem.parentElement.appendChild(brElm);\n                                                isBRInserted = true;\n                                            }\n                                            if (isBRInserted) {\n                                                _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), audioVideoElem.parentElement, 0);\n                                            }\n                                            else {\n                                                _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), lastNode, lastNode.textContent.length);\n                                            }\n                                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(audioVideoElem);\n                                        }\n                                    }\n                                    else {\n                                        var newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, nearBlockNode, true);\n                                        var focusElem = newElem.hasChildNodes() ? newElem.previousSibling : newElem;\n                                        var imageElem = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(newElem.querySelector('img')) ?\n                                            newElem.querySelector('img') : null;\n                                        var insertElem = _this.createInsertElement(shiftKey_1);\n                                        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(imageElem)) {\n                                            if (isFocusedFirst) {\n                                                newElem.parentElement.insertBefore(insertElem, newElem);\n                                                focusElem = newElem.previousSibling;\n                                            }\n                                            else {\n                                                _this.parent.formatter.editorManager.domNode.insertAfter(insertElem, newElem);\n                                                focusElem = newElem.nextSibling;\n                                            }\n                                        }\n                                        else if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(imageElem) && focusElem.querySelector('img')) {\n                                            focusElem = newElem;\n                                        }\n                                        while (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(focusElem.firstChild)) {\n                                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(focusElem.firstChild);\n                                        }\n                                        var brElm = _this.parent.createElement('br');\n                                        focusElem.appendChild(brElm);\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), focusElem, 0);\n                                    }\n                                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.parent.audioModule)) {\n                                        _this.parent.audioModule.hideAudioQuickToolbar();\n                                    }\n                                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.parent.videoModule)) {\n                                        _this.parent.videoModule.hideVideoQuickToolbar();\n                                    }\n                                }\n                                else if (_this.parent.enterKey === 'BR' && shiftKey_1 && _this.range.startContainer.nodeType === Node.TEXT_NODE && _this.range.startContainer.parentElement && _this.range.startContainer.parentElement === _this.parent.inputElement) {\n                                    var range = _this.range;\n                                    var startContainer = range.startContainer;\n                                    var startOffset = range.startOffset;\n                                    var newElement = _this.parent.createElement(_this.parent.shiftEnterKey);\n                                    if (startContainer.nodeType === Node.TEXT_NODE && range.endOffset !== 0 && range.startOffset !== 0) {\n                                        var textNode = startContainer;\n                                        if (startOffset < textNode.length) {\n                                            var newTextNode = textNode.splitText(startOffset);\n                                            newElement.appendChild(newTextNode);\n                                        }\n                                        else {\n                                            newElement.innerHTML = '<br>';\n                                        }\n                                        textNode.parentNode.insertBefore(newElement, textNode.nextSibling);\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), newElement, 0);\n                                    }\n                                    else if (startOffset === 0 && range.endOffset === 0) {\n                                        newElement.innerHTML = '<br>';\n                                        if (range.endOffset === startContainer.textContent.length) {\n                                            var brElement = _this.parent.createElement('br');\n                                            startContainer.parentNode.insertBefore(brElement, startContainer);\n                                        }\n                                        startContainer.parentNode.insertBefore(newElement, startContainer);\n                                        var cursorTarget = (range.endOffset === startContainer.textContent.length)\n                                            ? newElement : newElement.nextSibling;\n                                        startContainer.parentNode.insertBefore(newElement, startContainer);\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), cursorTarget, 0);\n                                    }\n                                }\n                                else {\n                                    var newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, nearBlockNode, true);\n                                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(newElem.childNodes[0]) && newElem.childNodes[0].nodeName === '#text' &&\n                                        newElem.childNodes[0].textContent.length === 0) {\n                                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(newElem.childNodes[0]);\n                                    }\n                                    if (newElem.textContent.trim().length === 0 || (newElem.childNodes[0].textContent.trim().includes('\\u200B') && newElem.childNodes[0].textContent.trim() === '\\u200B')) {\n                                        var brElm = _this.parent.createElement('br');\n                                        if (_this.startNode.nodeName === 'A') {\n                                            var startParentElem = _this.startNode.parentElement;\n                                            _this.startNode.parentElement.insertBefore(brElm, _this.startNode);\n                                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(_this.startNode);\n                                            _this.startNode = startParentElem;\n                                        }\n                                        else {\n                                            if (_this.startNode.nodeName !== 'BR') {\n                                                _this.startNode.appendChild(brElm);\n                                            }\n                                        }\n                                        if (newElem.childNodes[0].textContent === '\\n') {\n                                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(newElem.childNodes[0]);\n                                        }\n                                        if (newElem.childNodes[0].textContent.trim().includes('\\u200B') && newElem.childNodes[0].textContent.trim() === '\\u200B') {\n                                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(newElem.childNodes[0]);\n                                        }\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), _this.startNode, 0);\n                                    }\n                                    if (((_this.parent.enterKey === 'P' || _this.parent.enterKey === 'DIV') && !shiftKey_1) || ((_this.parent.shiftEnterKey === 'DIV' ||\n                                        _this.parent.shiftEnterKey === 'P') && shiftKey_1)) {\n                                        var isHeadingTag = _this.formatTags.indexOf(newElem.nodeName.toLocaleLowerCase());\n                                        if ((isHeadingTag < 0) || (isHeadingTag >= 0 && newElem.textContent.trim().length === 0)) {\n                                            var insertElm = _this.createInsertElement(shiftKey_1);\n                                            while (newElem.firstChild) {\n                                                insertElm.appendChild(newElem.firstChild);\n                                            }\n                                            _this.parent.formatter.editorManager.domNode.insertAfter(insertElm, newElem);\n                                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(newElem);\n                                            _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), _this.parent.formatter.editorManager.domNode.isBlockNode(_this.startNode) ?\n                                                insertElm : _this.startNode, 0);\n                                        }\n                                    }\n                                }\n                            }\n                            e.args.preventDefault();\n                        }\n                        if ((_this.parent.enterKey === 'BR' && !shiftKey_1) || (_this.parent.shiftEnterKey === 'BR' && shiftKey_1)) {\n                            var currentParent = void 0;\n                            if (!_this.parent.formatter.editorManager.domNode.isBlockNode(_this.startNode)) {\n                                var currentNode = _this.startNode;\n                                var previousNode = currentNode;\n                                while (!_this.parent.formatter.editorManager.domNode.isBlockNode(currentNode)) {\n                                    previousNode = currentNode;\n                                    currentNode = currentNode.parentElement;\n                                }\n                                currentParent = currentNode === _this.parent.inputElement ?\n                                    previousNode : currentNode;\n                            }\n                            else {\n                                currentParent = _this.startNode;\n                            }\n                            var currentParentStyle = window.getComputedStyle(currentParent);\n                            _this.removeBRElement(currentParent);\n                            var isEmptyBrInserted = false;\n                            var currentParentLastChild = currentParent.lastChild;\n                            while (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentParentLastChild) && !(currentParentLastChild.nodeName === '#text' || currentParentLastChild.nodeName === 'BR'\n                                || currentParentLastChild.nodeName === 'IMG')) {\n                                currentParentLastChild = currentParentLastChild.lastChild;\n                            }\n                            var isLastNodeLength = _this.range.startContainer === currentParentLastChild ?\n                                _this.range.startContainer.textContent.length : currentParent.textContent.length;\n                            var isImageElement = (_this.range.startContainer.nodeName === 'IMG' || (_this.range.startContainer.childNodes.length > 0\n                                && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.range.startContainer.childNodes[_this.range.startOffset]) && _this.range.startContainer.childNodes[_this.range.startOffset].nodeName === 'IMG') || (_this.range.startContainer.nodeType === 1 &&\n                                _this.range.startContainer.querySelector('img') !== null));\n                            if (currentParent !== _this.parent.inputElement &&\n                                _this.parent.formatter.editorManager.domNode.isBlockNode(currentParent) &&\n                                _this.range.startOffset === _this.range.endOffset &&\n                                (_this.range.startOffset === isLastNodeLength ||\n                                    (currentParent.textContent.trim().length === 0 && isImageElement))) {\n                                var focusBRElem = _this.parent.createElement('br');\n                                if (_this.range.startOffset === 0 && _this.range.startContainer.nodeName === 'TABLE') {\n                                    _this.range.startContainer.parentElement.insertBefore(focusBRElem, _this.range.startContainer);\n                                }\n                                else {\n                                    if (currentParentLastChild.nodeName === 'BR' && currentParent.textContent.length === 0) {\n                                        _this.parent.formatter.editorManager.domNode.insertAfter(focusBRElem, currentParentLastChild);\n                                    }\n                                    else if (_this.range.startOffset === 0 && _this.range.endOffset === 0 && isImageElement) {\n                                        var imageElement = _this.range.startContainer.nodeName === 'IMG' ? _this.range.startContainer :\n                                            _this.range.startContainer.childNodes[_this.range.startOffset];\n                                        currentParent.insertBefore(focusBRElem, imageElement);\n                                    }\n                                    else {\n                                        var lineBreakBRElem = _this.parent.createElement('br');\n                                        var anchorElement = (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.range.startContainer.parentElement) && _this.range.startContainer.parentElement.nodeName === 'A'\n                                            && _this.range.startContainer.parentElement.textContent.length === _this.range.startOffset)\n                                            ? _this.range.startContainer.parentElement : _this.range.startContainer;\n                                        _this.parent.formatter.editorManager.domNode.insertAfter(focusBRElem, anchorElement);\n                                        _this.parent.formatter.editorManager.domNode.insertAfter(lineBreakBRElem, anchorElement);\n                                        var brSibling = anchorElement.nextElementSibling;\n                                        var brNextSibling = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(brSibling) ? brSibling.nextElementSibling : null;\n                                        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(brSibling) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(brNextSibling) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(brNextSibling.nextElementSibling) &&\n                                            brSibling.nodeName === 'BR' && brNextSibling.nodeName === 'BR' && brNextSibling.nextElementSibling.nodeName === 'BR') {\n                                            brNextSibling.nextElementSibling.remove();\n                                        }\n                                    }\n                                }\n                                _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), focusBRElem, 0);\n                            }\n                            else if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentParent) && currentParent !== _this.parent.inputElement && currentParent.nodeName !== 'BR') {\n                                if (currentParent.textContent.trim().length === 0 || (currentParent.textContent.trim().length === 1 &&\n                                    currentParent.textContent.charCodeAt(0) === 8203)) {\n                                    if ((currentParent.childElementCount > 0 && currentParent.lastElementChild.nodeName === 'IMG') || (currentParent.lastElementChild && currentParent.lastElementChild.nodeName === 'BR') || !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentParent.firstElementChild) &&\n                                        (currentParent.querySelector('.e-video-wrap') || currentParent.querySelector('.e-audio-wrap'))) {\n                                        _this.insertBRElement();\n                                    }\n                                    else {\n                                        var newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, currentParent, true).cloneNode(true);\n                                        _this.parent.formatter.editorManager.domNode.insertAfter(newElem, currentParent);\n                                        var outerBRElem = _this.parent.createElement('br');\n                                        newElem.parentElement.insertBefore(outerBRElem, newElem);\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), newElem, 0);\n                                    }\n                                }\n                                else {\n                                    var newElem = void 0;\n                                    var outerBRElem = _this.parent.createElement('br');\n                                    if (_this.range.startOffset === 0 && _this.range.endOffset === 0 &&\n                                        !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentParent.previousSibling) && currentParent.previousSibling.nodeName === 'BR' && currentParent.nodeName !== 'P' && currentParent.nodeName !== 'DIV') {\n                                        newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, currentParent, false).cloneNode(true);\n                                        _this.parent.formatter.editorManager.domNode.insertAfter(outerBRElem, currentParent);\n                                        _this.insertFocusContent();\n                                        var currentFocusElem = outerBRElem.nextSibling;\n                                        while (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentFocusElem) && currentFocusElem.nodeName !== '#text') {\n                                            currentFocusElem = currentFocusElem.lastChild;\n                                        }\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), currentFocusElem, 0);\n                                        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                                        isEmptyBrInserted = true;\n                                    }\n                                    else if (currentParent !== _this.parent.inputElement &&\n                                        (currentParentStyle.display === 'inline' || currentParentStyle.display === 'inline-block')) {\n                                        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                                        newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, currentParent, true).cloneNode(true);\n                                        currentParent.parentElement.insertBefore(outerBRElem, currentParent);\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), currentParent, 0);\n                                        _this.insertFocusContent();\n                                    }\n                                    else {\n                                        _this.insertBRElement();\n                                    }\n                                }\n                            }\n                            else {\n                                _this.insertBRElement();\n                            }\n                            e.args.preventDefault();\n                        }\n                        _this.triggerActionComplete(e, shiftKey_1);\n                        _this.parent.inputElement.dispatchEvent(new Event('input'));\n                    }\n                });\n            }\n        }\n    };\n    EnterKeyAction.prototype.removeBRElement = function (currentElement) {\n        if (_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.userAgent.indexOf('Firefox') !== -1 &&\n            this.range.endOffset === currentElement.textContent.length && (currentElement.textContent.length !== 0 ||\n            currentElement.querySelectorAll('BR').length > 1) &&\n            !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(currentElement.lastChild) && currentElement.lastChild.nodeName === 'BR') {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(currentElement.lastChild);\n        }\n    };\n    EnterKeyAction.prototype.insertBRElement = function () {\n        var isEmptyBrInserted = false;\n        var isFocusTextNode = true;\n        var isImageElement = false;\n        if (this.range.endContainer.textContent.length === 0 && this.range.startContainer.nodeName === 'BR') {\n            isFocusTextNode = false;\n        }\n        var brElm = this.parent.createElement('br');\n        var findAnchorLastChild = this.startNode;\n        while (findAnchorLastChild.lastChild) {\n            findAnchorLastChild = findAnchorLastChild.lastChild;\n        }\n        var findAnchorElement = this.startNode.nodeName === 'A' && this.endNode.nodeName === 'A' &&\n            !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.range.startContainer.parentElement) && this.range.startOffset === this.range.endOffset &&\n            this.range.startContainer.textContent.trim().length === findAnchorLastChild.textContent.trim().length;\n        if (this.startNode.nodeName === 'BR' && this.endNode.nodeName === 'BR' && this.range.startOffset === 0 && this.range.startOffset === this.range.endOffset) {\n            this.parent.formatter.editorManager.domNode.insertAfter(brElm, this.startNode);\n            isEmptyBrInserted = true;\n        }\n        else {\n            if (this.startNode === this.parent.inputElement && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.range.startContainer.previousSibling) &&\n                this.range.startContainer.previousSibling.nodeName === 'BR' && this.range.startContainer.textContent.length === 0) {\n                isEmptyBrInserted = true;\n            }\n            if (findAnchorElement) {\n                this.parent.formatter.editorManager.domNode.insertAfter(brElm, this.startNode);\n            }\n            else if (this.startNode.tagName === 'SPAN' && (this.startNode.classList.contains('e-video-wrap') || this.startNode.classList.contains('e-audio-wrap'))) {\n                this.startNode.parentElement.insertBefore(brElm, this.startNode);\n                var nearBlockNode = this.parent.formatter.editorManager.domNode.blockParentNode(this.startNode);\n                var newElem = this.parent.formatter.editorManager.nodeCutter.SplitNode(this.range, nearBlockNode, true);\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(newElem.previousSibling.childNodes[1]);\n                isEmptyBrInserted = true;\n            }\n            else if (this.startNode.nodeType === Node.ELEMENT_NODE && this.startNode.childElementCount > 0 && this.startNode.lastElementChild.nodeName === 'IMG') {\n                this.startNode.parentElement.insertBefore(brElm, this.startNode);\n                isEmptyBrInserted = true;\n                isImageElement = true;\n            }\n            else {\n                this.range.insertNode(brElm);\n                isEmptyBrInserted = true;\n            }\n        }\n        if (isEmptyBrInserted || (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(brElm.nextElementSibling) && brElm.nextElementSibling.tagName === 'BR') || (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(brElm.nextSibling) && (brElm.nextSibling.textContent.length > 0 || (brElm.nextSibling.nodeName === '#text' && brElm.nextSibling.textContent.trim().length === 0 && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(brElm.nextSibling.nextSibling) && brElm.nextSibling.nextSibling.textContent.trim().length > 0)))) {\n            this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(brElm.nextSibling) && isFocusTextNode && !isImageElement ? brElm.nextSibling : brElm, 0);\n            isEmptyBrInserted = false;\n        }\n        else {\n            var brElements = this.parent.createElement('br');\n            if (findAnchorElement) {\n                this.parent.formatter.editorManager.domNode.insertAfter(brElements, this.startNode);\n            }\n            else {\n                this.range.insertNode(brElements);\n            }\n            this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), brElm, 0);\n        }\n    };\n    EnterKeyAction.prototype.insertFocusContent = function () {\n        if (this.range.startContainer.textContent.length === 0) {\n            if (this.range.startContainer.nodeName === '#text') {\n                this.range.startContainer.parentElement.innerHTML = '&#8203;';\n            }\n            else {\n                this.range.startContainer.innerHTML = '&#8203;';\n            }\n        }\n    };\n    EnterKeyAction.prototype.createInsertElement = function (shiftKey) {\n        var insertElem;\n        if ((this.parent.enterKey === 'DIV' && !shiftKey) || (this.parent.shiftEnterKey === 'DIV' && shiftKey)) {\n            insertElem = this.parent.createElement('div');\n        }\n        else if ((this.parent.enterKey === 'P' && !shiftKey) || (this.parent.shiftEnterKey === 'P' && shiftKey)) {\n            insertElem = this.parent.createElement('p');\n        }\n        var previousBlockNode = this.parent.formatter.editorManager.domNode.blockNodes()[0].previousSibling;\n        var nextBlockNode = this.parent.formatter.editorManager.domNode.blockNodes()[0].nextSibling;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(previousBlockNode) && previousBlockNode.nodeName !== '#text' && previousBlockNode.hasAttribute('style') && previousBlockNode.nodeName !== 'TABLE') {\n            insertElem.style.cssText = previousBlockNode.getAttribute('style');\n        }\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(previousBlockNode) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(nextBlockNode) && nextBlockNode.nodeName !== '#text' && nextBlockNode.hasAttribute('style') && nextBlockNode.nodeName !== 'TABLE') {\n            insertElem.style.cssText = nextBlockNode.getAttribute('style');\n        }\n        return insertElem;\n    };\n    EnterKeyAction.prototype.triggerActionComplete = function (e, shiftKey) {\n        this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_1__.actionComplete, { requestType: shiftKey ? 'ShiftEnterAction' : 'EnterAction', args: e.args });\n    };\n    EnterKeyAction.prototype.handleCursorAtTableSide = function (e, isStart, isEnd) {\n        var _this = this;\n        if (this.parent.enterKey !== 'BR') {\n            var shiftKey_2 = e.args.shiftKey;\n            var actionBeginArgs = {\n                cancel: false,\n                name: _base_constant__WEBPACK_IMPORTED_MODULE_1__.actionBegin,\n                requestType: shiftKey_2 ? 'ShiftEnterAction' : 'EnterAction',\n                originalEvent: e.args\n            };\n            this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_1__.actionBegin, actionBeginArgs, function (actionBeginArgs) {\n                if (!actionBeginArgs.cancel) {\n                    var newElement = _this.parent.createElement(_this.parent.enterKey);\n                    newElement.innerHTML = '<br>';\n                    var tableElement = void 0;\n                    if (isStart) {\n                        tableElement = _this.range.startContainer.childNodes[_this.range.startOffset];\n                        tableElement.parentElement.insertBefore(newElement, tableElement);\n                    }\n                    if (isEnd) {\n                        tableElement = _this.range.startContainer.childNodes[_this.range.startOffset - 1];\n                        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(tableElement.nextSibling)) {\n                            tableElement.parentElement.insertBefore(newElement, tableElement.nextSibling);\n                        }\n                        else if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(tableElement.nextSibling)) {\n                            tableElement.parentElement.appendChild(newElement);\n                        }\n                    }\n                    _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), newElement, 0);\n                    e.args.preventDefault();\n                    _this.triggerActionComplete(e, shiftKey_2);\n                }\n            });\n        }\n    };\n    EnterKeyAction.prototype.handleEnterKeyAtImageSide = function (e, isStart, isEnd) {\n        var _this = this;\n        var actionBeginArgs = {\n            cancel: false,\n            name: _base_constant__WEBPACK_IMPORTED_MODULE_1__.actionBegin,\n            requestType: e.args.shiftKey ? 'ShiftEnterAction' : 'EnterAction',\n            originalEvent: e.args\n        };\n        var directRange = false;\n        if (this.range.startContainer.nodeName === 'IMG' && this.range.startOffset === 0) {\n            directRange = true;\n        }\n        this.parent.trigger(_base_constant__WEBPACK_IMPORTED_MODULE_1__.actionBegin, actionBeginArgs, function (actionBeginArgs) {\n            if (!actionBeginArgs.cancel) {\n                if (_this.parent.enterKey === 'BR') {\n                    var newElement = _this.parent.createElement('BR');\n                    var imageElement = void 0;\n                    if (directRange) {\n                        imageElement = _this.range.startContainer;\n                        imageElement.parentElement.insertBefore(newElement, imageElement);\n                        _this.parent.formatter.editorManager.nodeSelection.\n                            setCursorPoint(_this.parent.contentModule.getDocument(), imageElement, 0);\n                    }\n                    if (isStart) {\n                        imageElement = _this.range.startContainer.childNodes[_this.range.startOffset];\n                        imageElement.parentElement.insertBefore(newElement, imageElement);\n                        _this.parent.formatter.editorManager.nodeSelection.\n                            setCursorPoint(_this.parent.contentModule.getDocument(), imageElement, 0);\n                    }\n                    if (isEnd) {\n                        imageElement = _this.range.startContainer.childNodes[_this.range.startOffset - 1];\n                        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(imageElement.nextSibling)) {\n                            imageElement.parentElement.insertBefore(newElement, imageElement.nextSibling);\n                            _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), newElement.nextSibling, 0);\n                        }\n                        else if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(imageElement.nextSibling)) {\n                            imageElement.parentElement.appendChild(newElement);\n                            var brElement = _this.parent.createElement('BR');\n                            imageElement.parentElement.appendChild(brElement);\n                            _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), brElement, 0);\n                        }\n                    }\n                    e.args.preventDefault();\n                    _this.triggerActionComplete(e, e.args.shiftKey);\n                }\n            }\n        });\n    };\n    EnterKeyAction.prototype.isTableOrImageStart = function () {\n        var customHandlerElements = ['IMG', 'TABLE'];\n        var startContainer = this.range.startContainer;\n        var startOffset = this.range.startOffset;\n        var isCursorAtStart = this.range.collapsed && (startContainer.nodeType === 1) &&\n            startContainer.isContentEditable && startContainer.childNodes[startOffset] &&\n            (customHandlerElements.indexOf(startContainer.childNodes[startOffset].nodeName) > -1);\n        if (isCursorAtStart) {\n            return { start: isCursorAtStart, startNodeName: startContainer.childNodes[startOffset].nodeName };\n        }\n        else {\n            return { start: false, startNodeName: '' };\n        }\n    };\n    EnterKeyAction.prototype.isTableOrImageEnd = function () {\n        var customHandlerElements = ['IMG', 'TABLE'];\n        var startContainer = this.range.startContainer;\n        var startOffset = this.range.startOffset;\n        var isCursorAtEnd = this.range.collapsed && (startContainer.nodeType === 1) &&\n            startContainer.isContentEditable && startContainer.childNodes[startOffset - 1] &&\n            (customHandlerElements.indexOf(startContainer.childNodes[startOffset - 1].nodeName) > -1);\n        if (isCursorAtEnd) {\n            return { end: isCursorAtEnd, endNodeName: startContainer.childNodes[startOffset - 1].nodeName };\n        }\n        else {\n            return { end: false, endNodeName: '' };\n        }\n    };\n    EnterKeyAction.prototype.processedTableImageCursor = function () {\n        var _a = this.isTableOrImageStart(), start = _a.start, startNodeName = _a.startNodeName;\n        var _b = this.isTableOrImageEnd(), end = _b.end, endNodeName = _b.endNodeName;\n        return { start: start, startName: startNodeName, end: end, endName: endNodeName };\n    };\n    return EnterKeyAction;\n}());\n\n\n\n//# sourceURL=webpack://ej2-vue-samples/./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/enter-key.js?");

/***/ })

}]);