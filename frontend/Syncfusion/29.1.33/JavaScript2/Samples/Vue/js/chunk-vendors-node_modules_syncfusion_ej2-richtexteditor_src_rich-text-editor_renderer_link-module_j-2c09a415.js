"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkej2_vue_samples"] = self["webpackChunkej2_vue_samples"] || []).push([["chunk-vendors-node_modules_syncfusion_ej2-richtexteditor_src_rich-text-editor_renderer_link-module_j-2c09a415"],{

/***/ "./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/link-module.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/link-module.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Link: () => (/* binding */ Link)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"./node_modules/@syncfusion/ej2-base/index.js\");\n/* harmony import */ var _base_constant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base/constant */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/constant.js\");\n/* harmony import */ var _base_classes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base/classes */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/classes.js\");\n/* harmony import */ var _syncfusion_ej2_buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @syncfusion/ej2-buttons */ \"./node_modules/@syncfusion/ej2-buttons/index.js\");\n/* harmony import */ var _base_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base/enum */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/enum.js\");\n/* harmony import */ var _base_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../base/util */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/util.js\");\n/* harmony import */ var _common_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/util */ \"./node_modules/@syncfusion/ej2-richtexteditor/src/common/util.js\");\n\n\n\n\n\n\n\n\n/**\n * `Link` module is used to handle undo actions.\n */\nvar Link = /** @class */ (function () {\n    function Link(parent, serviceLocator) {\n        this.parent = parent;\n        this.rteID = parent.element.id;\n        this.i10n = serviceLocator.getService('rteLocale');\n        this.addEventListener();\n        this.serviceLocator = serviceLocator;\n        this.rendererFactory = serviceLocator.getService('rendererFactory');\n        this.dialogRenderObj = serviceLocator.getService('dialogRenderObject');\n        this.isDestroyed = false;\n        this.mouseDown = this.onDocumentClick.bind(this);\n    }\n    Link.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.insertLink, this.linkDialog, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.showLinkDialog, this.showDialog, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.closeLinkDialog, this.closeDialog, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.keyDown, this.onKeyDown, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.insertCompleted, this.showLinkQuickToolbar, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.clearDialogObj, this.clearDialogObj, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.linkToolbarAction, this.onToolbarAction, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.unLink, this.removeLink, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.editLink, this.editLink, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.openLink, this.openLink, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.editAreaClick, this.editAreaClickHandler, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.bindCssClass, this.setCssClass, this);\n        this.parent.on(_base_constant__WEBPACK_IMPORTED_MODULE_1__.destroy, this.destroy, this);\n    };\n    Link.prototype.onToolbarAction = function (args) {\n        var item = args.args.item;\n        switch (item.subCommand) {\n            case 'OpenLink':\n                this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_1__.openLink, args);\n                break;\n            case 'EditLink':\n                this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_1__.editLink, args);\n                break;\n            case 'RemoveLink':\n                this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_1__.unLink, args);\n                break;\n        }\n    };\n    Link.prototype.removeEventListener = function () {\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.insertLink, this.linkDialog);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.showLinkDialog, this.showDialog);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.closeLinkDialog, this.closeDialog);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.keyDown, this.onKeyDown);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.insertCompleted, this.showLinkQuickToolbar);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.clearDialogObj, this.clearDialogObj);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.linkToolbarAction, this.onToolbarAction);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.unLink, this.removeLink);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.editLink, this.editLink);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.openLink, this.openLink);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.editAreaClick, this.editAreaClickHandler);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.bindCssClass, this.setCssClass);\n        this.parent.off(_base_constant__WEBPACK_IMPORTED_MODULE_1__.destroy, this.destroy);\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.contentModule)) {\n            this.parent.element.ownerDocument.removeEventListener('mousedown', this.mouseDown);\n            this.mouseDown = null;\n        }\n    };\n    Link.prototype.onIframeMouseDown = function () {\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n        }\n    };\n    Link.prototype.updateCss = function (currentObj, e) {\n        if (currentObj && e.cssClass) {\n            if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e.oldCssClass)) {\n                currentObj.setProperties({ cssClass: (currentObj.cssClass + ' ' + e.cssClass).trim() });\n            }\n            else {\n                currentObj.setProperties({ cssClass: (currentObj.cssClass.replace(e.oldCssClass, '').trim() + ' ' + e.cssClass).trim() });\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/tslint/config\n    Link.prototype.setCssClass = function (e) {\n        this.updateCss(this.checkBoxObj, e);\n        this.updateCss(this.dialogObj, e);\n    };\n    Link.prototype.showLinkQuickToolbar = function (e) {\n        var _this = this;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e.args) && e.args.action !== 'enter' &&\n            e.args.action !== 'space') {\n            var pageX_1;\n            var pageY_1;\n            if (e.type !== 'Links' || (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.quickToolbarModule) ||\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.parent.quickToolbarModule.linkQTBar)) {\n                return;\n            }\n            this.quickToolObj = this.parent.quickToolbarModule;\n            var parentTop = this.parent.element.getBoundingClientRect().top;\n            var parentLeft = this.parent.element.getBoundingClientRect().left;\n            var range_1 = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            var target_1;\n            [].forEach.call(e.elements, function (element, index) {\n                if (index === 0) {\n                    target_1 = ((element.nodeName === '#text') ? (element.parentNode) : element);\n                }\n            });\n            if (e.isNotify) {\n                var tbElement = this.parent.toolbarModule.getToolbarElement();\n                var linkTop = target_1.getBoundingClientRect().top;\n                var linkLeft = target_1.getBoundingClientRect().left;\n                var linkPos = linkTop - parentTop;\n                var tbHeight = (tbElement) ? (tbElement.offsetHeight + this.parent.toolbarModule.getExpandTBarPopHeight()) : 0;\n                pageX_1 = (this.parent.iframeSettings.enable) ? parentLeft + linkLeft : target_1.getBoundingClientRect().left;\n                pageY_1 = window.pageYOffset + ((this.parent.iframeSettings.enable) ?\n                    (parentTop + tbHeight + linkTop) : (parentTop + linkPos));\n                this.linkQTPopupTime = setTimeout(function () {\n                    _this.showLinkPopup(pageX_1, pageY_1, range_1);\n                }, 400);\n            }\n            else {\n                var args = void 0;\n                args = e.args.touches ? e.args.changedTouches[0] : args = e.args;\n                pageX_1 = (this.parent.iframeSettings.enable) ? window.pageXOffset + parentLeft + args.clientX : args.pageX;\n                pageY_1 = (this.parent.iframeSettings.enable) ? window.pageYOffset + parentTop + args.clientY : args.pageY;\n                this.showLinkPopup(pageX_1, pageY_1, range_1);\n            }\n            if (this.quickToolObj.linkQTBar) {\n                this.quickToolObj.linkQTBar.showPopup(pageX_1, pageY_1, range_1.endContainer, 'link');\n            }\n        }\n    };\n    Link.prototype.showLinkPopup = function (pageX, pageY, range) {\n        if (this.quickToolObj.linkQTBar) {\n            this.quickToolObj.linkQTBar.showPopup(pageX, pageY, range.endContainer, 'link');\n        }\n    };\n    Link.prototype.hideLinkQuickToolbar = function () {\n        if (this.quickToolObj && this.quickToolObj.linkQTBar && document.body.contains(this.quickToolObj.linkQTBar.element)) {\n            this.quickToolObj.linkQTBar.hidePopup();\n        }\n    };\n    Link.prototype.editAreaClickHandler = function (e) {\n        if (this.parent.readonly) {\n            this.hideLinkQuickToolbar();\n            return;\n        }\n        var args = e.args;\n        var showOnRightClick = this.parent.quickToolbarSettings.showOnRightClick;\n        var ismacRightClick = this.parent.userAgentData.isSafari() && args.which === 3;\n        if (args.which === 2 || (showOnRightClick && args.which === 1) || (!showOnRightClick && args.which === 3)) {\n            return;\n        }\n        if (this.parent.editorMode === 'HTML' && this.parent.quickToolbarModule && this.parent.quickToolbarModule.linkQTBar) {\n            this.quickToolObj = this.parent.quickToolbarModule;\n            var target = args.target;\n            target = this.getAnchorNode([target]);\n            this.contentModule = this.rendererFactory.getRenderer(_base_enum__WEBPACK_IMPORTED_MODULE_4__.RenderType.Content);\n            var isPopupOpen = this.quickToolObj.linkQTBar.element.classList.contains('e-rte-pop');\n            if (target.nodeName === 'A' && (target.childNodes.length > 0 && target.childNodes[0].nodeName !== 'IMG') &&\n                e.args.target.nodeName !== 'IMG' &&\n                !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(this.parent.getRange().startContainer.parentElement, 'A')) && (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(this.parent.getRange().endContainer.parentElement, 'A')) || ismacRightClick)) {\n                if (isPopupOpen) {\n                    return;\n                }\n                if (e.args.ctrlKey === false) {\n                    this.showLinkQuickToolbar({\n                        args: args,\n                        isNotify: false,\n                        type: 'Links',\n                        elements: [args.target]\n                    });\n                }\n                else {\n                    var selection = this.parent.formatter.editorManager.nodeSelection;\n                    var range = selection.getRange(this.parent.contentModule.getDocument());\n                    var args_1 = {\n                        args: {\n                            item: {\n                                subCommand: 'OpenLink',\n                                command: 'Links',\n                                name: ''\n                            },\n                            originalEvent: e.args\n                        },\n                        selectNode: selection.getNodeCollection(range),\n                        selectParent: selection.getParentNodeCollection(range),\n                        selection: selection.save(range, this.parent.contentModule.getDocument())\n                    };\n                    this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_1__.openLink, args_1);\n                }\n            }\n            else {\n                this.hideLinkQuickToolbar();\n            }\n        }\n    };\n    Link.prototype.onKeyDown = function (event) {\n        var originalEvent = event.args;\n        switch (originalEvent.action) {\n            case 'escape':\n                if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.dialogObj)) {\n                    this.dialogObj.close();\n                }\n                break;\n            case 'insert-link':\n                this.openDialog(true, event);\n                originalEvent.preventDefault();\n                break;\n        }\n    };\n    Link.prototype.openDialog = function (isInternal, event) {\n        if (!isInternal) {\n            this.parent.contentModule.getEditPanel().focus();\n        }\n        if (this.parent.editorMode === 'HTML') {\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            var save = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            var selectNodeEle = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n            var selectParentEle = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            var eventArgs = {\n                args: event ? event.args : {\n                    item: { command: 'Links', subCommand: 'CreateLink' },\n                    originalEvent: undefined,\n                    name: !isInternal ? 'showDialog' : null\n                },\n                selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n            };\n            this.linkDialog(eventArgs);\n        }\n        else {\n            var textArea = this.parent.contentModule.getEditPanel();\n            this.parent.formatter.editorManager.markdownSelection.save(textArea.selectionStart, textArea.selectionEnd);\n            this.linkDialog({\n                args: {\n                    item: { command: 'Links', subCommand: 'Link' },\n                    originalEvent: event && event.args\n                },\n                member: 'link',\n                text: this.parent.formatter.editorManager.markdownSelection.getSelectedText(this.parent.contentModule.getEditPanel()),\n                module: 'Markdown',\n                name: 'insertLink'\n            });\n        }\n    };\n    Link.prototype.showDialog = function () {\n        this.openDialog(false);\n        this.setCssClass({ cssClass: this.parent.getCssClass() });\n    };\n    Link.prototype.closeDialog = function () {\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n        }\n    };\n    Link.prototype.clearDialogObj = function () {\n        if (this.dialogObj) {\n            this.dialogObj.destroy();\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(this.dialogObj.element);\n            this.dialogObj = null;\n        }\n    };\n    Link.prototype.linkDialog = function (e, inputDetails) {\n        var _this = this;\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n            return;\n        }\n        var selectText = (this.parent.editorMode === 'HTML') ?\n            e.selection.getRange(this.parent.contentModule.getDocument()).toString() : e.text;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(inputDetails) && ((!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e.selectParent) && e.selectParent.length > 1) ||\n            (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e.selectNode) && e.selectNode.length > 1))) {\n            inputDetails.text = selectText;\n        }\n        if (this.parent.editorMode === 'HTML' && (this.hasAnchorNodePresent(e.selectParent) || this.hasAnchorNodePresent(e.selectNode)) &&\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(inputDetails)) {\n            this.editLink(e);\n            return;\n        }\n        var linkWebAddress = this.i10n.getConstant('linkWebUrl');\n        var linkDisplayText = this.i10n.getConstant('linkText');\n        var linkTooltip = this.i10n.getConstant('linkTooltipLabel');\n        var urlPlace = this.i10n.getConstant('linkurl');\n        var textPlace = this.i10n.getConstant('textPlaceholder');\n        var title = this.i10n.getConstant('linkTitle');\n        var linkDialogEle = this.parent.createElement('div', {\n            className: 'e-rte-link-dialog' + this.parent.getCssClass(true), id: this.rteID + '_rtelink'\n        });\n        this.parent.rootContainer.appendChild(linkDialogEle);\n        var linkContent = this.parent.createElement('div', {\n            className: 'e-rte-linkcontent' + this.parent.getCssClass(true), id: this.rteID + '_linkContent'\n        });\n        var htmlTextbox = (this.parent.editorMode === 'HTML') ? '<label>' + linkTooltip +\n            '</label></div><div class=\"e-rte-field' + this.parent.getCssClass(true) + '\">' +\n            '<input type=\"text\" data-role =\"none\" spellcheck=\"false\" placeholder = \"' + title + '\"aria-label=\"' + this.i10n.getConstant('linkTitle') + '\" class=\"e-input e-rte-linkTitle' + this.parent.getCssClass(true) + '\"></div>' +\n            '<div class=\"e-rte-label' + this.parent.getCssClass(true) + '\"></div>' + '<div class=\"e-rte-field' + this.parent.getCssClass(true) + '\">' +\n            '<input type=\"checkbox\" class=\"e-rte-linkTarget' + this.parent.getCssClass(true) + '\"  data-role =\"none\"></div>' : '';\n        var content = '<div class=\"e-rte-label' + this.parent.getCssClass(true) + '\"><label>' + linkWebAddress + '</label></div>' + '<div class=\"e-rte-field' + this.parent.getCssClass(true) + '\">' +\n            '<input type=\"text\" data-role =\"none\" spellcheck=\"false\" placeholder=\"' + urlPlace + '\"aria-label=\"' + this.i10n.getConstant('linkWebUrl') + '\" class=\"e-input e-rte-linkurl' + this.parent.getCssClass(true) + '\"/></div>' +\n            '<div class=\"e-rte-label' + this.parent.getCssClass(true) + '\">' + '<label>' + linkDisplayText + '</label></div><div class=\"e-rte-field' + this.parent.getCssClass(true) + '\"> ' +\n            '<input type=\"text\" data-role =\"none\" spellcheck=\"false\" class=\"e-input e-rte-linkText' + this.parent.getCssClass(true) + '\"aria-label=\"' + this.i10n.getConstant('linkText') + '\" placeholder=\"' + textPlace + '\">' +\n            '</div><div class=\"e-rte-label' + this.parent.getCssClass(true) + '\">' + htmlTextbox;\n        var contentElem = (0,_base_util__WEBPACK_IMPORTED_MODULE_5__.parseHtml)(content);\n        linkContent.appendChild(contentElem);\n        var linkTarget = linkContent.querySelector('.e-rte-linkTarget');\n        var linkUrl = linkContent.querySelector('.e-rte-linkurl');\n        var linkText = linkContent.querySelector('.e-rte-linkText');\n        var linkTitle = linkContent.querySelector('.e-rte-linkTitle');\n        var linkOpenLabel = this.i10n.getConstant('linkOpenInNewWindow');\n        this.checkBoxObj = new _syncfusion_ej2_buttons__WEBPACK_IMPORTED_MODULE_3__.CheckBox({ label: linkOpenLabel, checked: true, enableRtl: this.parent.enableRtl,\n            cssClass: this.parent.getCssClass() });\n        this.checkBoxObj.isStringTemplate = true;\n        this.checkBoxObj.createElement = this.parent.createElement;\n        this.checkBoxObj.appendTo(linkTarget);\n        var linkInsert = this.i10n.getConstant('dialogInsert');\n        var linkCancel = this.i10n.getConstant('dialogCancel');\n        var selection = e.selection;\n        var selectObj = { selfLink: this, selection: e.selection, selectParent: e.selectParent, args: e.args };\n        var dialogModel = {\n            header: this.i10n.getConstant('linkHeader'),\n            content: linkContent,\n            cssClass: _base_classes__WEBPACK_IMPORTED_MODULE_2__.CLS_RTE_ELEMENTS + this.parent.getCssClass(true),\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            showCloseIcon: true, closeOnEscape: true, width: (_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.isDevice) ? '290px' : '310px',\n            isModal: _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.isDevice,\n            buttons: [{\n                    click: this.insertlink.bind(selectObj),\n                    buttonModel: { content: linkInsert, cssClass: 'e-flat e-insertLink' + this.parent.getCssClass(true), isPrimary: true }\n                },\n                { click: this.cancelDialog.bind(selectObj), buttonModel: { cssClass: 'e-flat' + this.parent.getCssClass(true), content: linkCancel } }],\n            target: (_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.isDevice) ? document.body : this.parent.element,\n            animationSettings: { effect: 'None' },\n            close: function (event) {\n                _this.parent.isBlur = false;\n                if (event && event.event.returnValue) {\n                    if (_this.parent.editorMode === 'HTML') {\n                        selection.restore();\n                    }\n                    else {\n                        _this.parent.formatter.editorManager.markdownSelection.restore(_this.parent.contentModule.getEditPanel());\n                    }\n                }\n                if ((_this.dialogObj.element && _this.dialogObj.element.querySelector('.e-rte-linkurl') && _this.dialogObj.element.querySelector('.e-rte-linkurl') !== null)) {\n                    _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(_this.dialogObj.element.querySelector('.e-rte-linkurl'), 'input', _this.handleKeyDown);\n                }\n                _this.dialogObj.destroy();\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(_this.dialogObj.element);\n                var args = _this.dialogObj;\n                _this.dialogRenderObj.close(args);\n                _this.dialogObj = null;\n            }\n        };\n        // eslint-disable-next-line\n        this.dialogObj = this.dialogRenderObj.render(dialogModel);\n        this.dialogObj.createElement = this.parent.createElement;\n        this.dialogObj.appendTo(linkDialogEle);\n        linkDialogEle.style.maxHeight = 'inherit';\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.dialogObj)) {\n            return;\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(inputDetails)) {\n            linkUrl.value = inputDetails.url;\n            linkText.value = inputDetails.text;\n            linkTitle.value = inputDetails.title;\n            // eslint-disable-next-line\n            (inputDetails.target) ? this.checkBoxObj.checked = true : this.checkBoxObj.checked = false;\n            this.dialogObj.header = inputDetails.header;\n            this.dialogObj.element.querySelector('.e-insertLink').textContent = inputDetails.btnText;\n        }\n        this.checkUrl(false);\n        if ((this.parent.editorMode === 'HTML' && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(inputDetails) && ((!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(selectText)\n            && selectText !== '') && (e.selection.range.startOffset === 0) || e.selection.range.startOffset !==\n            e.selection.range.endOffset)) || e.module === 'Markdown') {\n            linkText.value = selectText;\n        }\n        this.parent.element.ownerDocument.addEventListener('mousedown', this.mouseDown);\n        if (this.quickToolObj) {\n            this.hideLinkQuickToolbar();\n            if (this.quickToolObj.inlineQTBar && document.body.contains(this.quickToolObj.inlineQTBar.element)) {\n                this.quickToolObj.inlineQTBar.hidePopup();\n            }\n            if (this.quickToolObj.textQTBar && this.parent.element.ownerDocument.body.contains(this.quickToolObj.textQTBar.element)) {\n                this.quickToolObj.textQTBar.hidePopup();\n            }\n        }\n    };\n    Link.prototype.hasAnchorNodePresent = function (elements) {\n        return !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(elements) && elements.length > 0 &&\n            elements.some(function (element) { return element && element.classList\n                && element.classList.contains('e-rte-anchor'); });\n    };\n    // eslint-disable-next-line\n    Link.prototype.insertlink = function (e) {\n        var linkEle = this.selfLink.dialogObj.element;\n        var linkUrl = linkEle.querySelector('.e-rte-linkurl').value.trim();\n        var linkText = linkEle.querySelector('.e-rte-linkText').value;\n        var linkTitle;\n        if (this.selfLink.parent.editorMode === 'HTML') {\n            linkTitle = linkEle.querySelector('.e-rte-linkTitle').value;\n        }\n        var target = (this.selfLink.checkBoxObj.checked) ? '_blank' : null;\n        var linkLabel = (this.selfLink.checkBoxObj.checked) ? this.selfLink.i10n.getConstant('linkAriaLabel') : null;\n        if (this.selfLink.parent.editorMode === 'Markdown' && linkUrl === '') {\n            linkUrl = 'http://';\n        }\n        if (linkUrl === '') {\n            this.selfLink.checkUrl(true);\n            return;\n        }\n        if (this.selfLink.parent.editorMode === 'Markdown') {\n            linkText = (linkText.trim() !== '') ? linkText : '';\n        }\n        else {\n            linkText = (linkText.trim() === '') ? linkUrl : linkText;\n        }\n        if (!this.selfLink.isUrl(linkUrl)) {\n            if (!this.selfLink.parent.enableAutoUrl) {\n                linkUrl = linkUrl.indexOf('http') > -1 ? linkUrl : 'http://' + linkUrl;\n            }\n            else {\n                // eslint-disable-next-line\n                linkUrl = linkUrl;\n            }\n        }\n        else {\n            this.selfLink.checkUrl(false);\n        }\n        var proxy = this.selfLink;\n        if (proxy.parent.editorMode === 'HTML' && (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(this.selection.range.startContainer.parentNode, '[id='\n            // eslint-disable-next-line\n            + \"'\" + proxy.parent.contentModule.getPanel().id + \"'\" + ']'))) {\n            proxy.parent.contentModule.getEditPanel().focus();\n            if (_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.isIE && proxy.parent.iframeSettings.enable) {\n                this.selection.restore();\n            }\n            var range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n            this.selection = proxy.parent.formatter.editorManager.nodeSelection.save(range, proxy.parent.contentModule.getDocument());\n            this.selectParent = proxy.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n        }\n        var value = {\n            url: linkUrl, text: linkText, title: linkTitle, target: target, ariaLabel: linkLabel,\n            selection: this.selection, selectParent: this.selectParent\n        };\n        if (document.body.contains(proxy.dialogObj.element)) {\n            this.selfLink.dialogObj.hide({ returnValue: false });\n        }\n        if (this.selfLink.dialogObj !== null) {\n            return;\n        }\n        if ((0,_common_util__WEBPACK_IMPORTED_MODULE_6__.isIDevice)() && proxy.parent.iframeSettings.enable) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.select)('iframe', proxy.parent.element).contentWindow.focus();\n        }\n        if (proxy.parent.editorMode === 'HTML') {\n            this.selection.restore();\n        }\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        var argsValue;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.args) &&\n            this.args.code === 'KeyK') {\n            var originalEvent = this.args;\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.extend)(this.args, { item: { command: 'Links', subCommand: 'CreateLink' }, originalEvent: originalEvent }, true);\n            var argsVal = {\n                item: { command: 'Links', subCommand: 'CreateLink' }, originalEvent: originalEvent\n            };\n            argsValue = argsVal;\n        }\n        else {\n            argsValue = this.args;\n        }\n        this.selfLink.parent.formatter.process(this.selfLink.parent, argsValue, (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.args) &&\n            this.args.originalEvent), value);\n        this.selfLink.parent.contentModule.getEditPanel().focus();\n    };\n    Link.prototype.isUrl = function (url) {\n        var regExp = RegExp;\n        var regexp = new regExp('(ftp|http|https)://(\\\\w+:{0,1}\\\\w*@)?(\\\\S+)(:[0-9]+)?(/|/([\\\\w#!:.?+=&%@\\\\-\\\\/]))?', 'gi');\n        return regexp.test(url);\n    };\n    Link.prototype.handleKeyDown = function () {\n        var linkelem = this.parent.element.querySelector('#' + this.rteID + '_rtelink_dialog-content');\n        var linkUrl = linkelem.querySelector('.e-rte-linkurl');\n        if (linkUrl.classList.contains('e-error') && (linkUrl.value.length >= 1 && linkUrl.value.trim() !== ' ')) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([linkUrl], 'e-error');\n        }\n    };\n    Link.prototype.checkUrl = function (e) {\n        var linkEle = this.dialogObj.element;\n        var linkUrl = linkEle.querySelector('.e-rte-linkurl');\n        if (e) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([linkUrl], 'e-error');\n            linkUrl.setSelectionRange(0, linkUrl.value.length);\n            linkUrl.focus();\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.add(linkUrl, 'input', this.handleKeyDown, this);\n        }\n        else {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([linkUrl], 'e-error');\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(linkUrl, 'input', this.handleKeyDown);\n        }\n    };\n    Link.prototype.removeLink = function (e) {\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        var selectParentEle = this.getAnchorNode(e.selectParent);\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            selectNode: e.selectNode, selectParent: e.selectParent, selection: e.selection,\n            text: selectParentEle.innerText,\n            subCommand: e.args.item.subCommand\n        });\n        if ((0,_common_util__WEBPACK_IMPORTED_MODULE_6__.isIDevice)() && this.parent.iframeSettings.enable) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.select)('iframe', this.parent.element).contentWindow.focus();\n        }\n        else {\n            this.parent.contentModule.getEditPanel().focus();\n        }\n        this.hideLinkQuickToolbar();\n    };\n    Link.prototype.openLink = function (e) {\n        var selectParentEle = this.getAnchorNode(e.selectParent);\n        if (selectParentEle.classList.contains('e-rte-anchor') || selectParentEle.tagName === 'A') {\n            var sanitizedHTML = this.parent.htmlEditorModule.sanitizeHelper(selectParentEle.outerHTML);\n            var tempEle = document.createElement('div');\n            tempEle.innerHTML = sanitizedHTML;\n            this.parent.formatter.process(this.parent, e.args, e.args, {\n                url: tempEle.firstChild.href, text: selectParentEle.innerText,\n                target: selectParentEle.target === '' ? '_self' : '_blank', selectNode: e.selectNode,\n                subCommand: e.args.item.subCommand\n            });\n            tempEle.remove();\n        }\n    };\n    Link.prototype.getAnchorNode = function (elements) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            var anchorElement = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(element, 'a');\n            if (anchorElement) {\n                return anchorElement;\n            }\n        }\n        return elements[0];\n    };\n    Link.prototype.editLink = function (e) {\n        var selectedNode = this.getAnchorNode(e.selectNode);\n        var selectParentEle = this.getAnchorNode(e.selectParent);\n        selectParentEle = selectedNode.nodeName === 'A' ? selectedNode : selectParentEle;\n        if (selectParentEle.classList.contains('e-rte-anchor') || selectParentEle.tagName === 'A') {\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var inputDetails = {\n                url: selectParentEle.getAttribute('href'), text: selectParentEle.innerText,\n                title: selectParentEle.title, target: selectParentEle.target,\n                header: this.i10n.getConstant('editLink'), btnText: linkUpdate\n            };\n            this.linkDialog(e, inputDetails);\n        }\n    };\n    // eslint-disable-next-line\n    Link.prototype.cancelDialog = function (e) {\n        this.selfLink.parent.isBlur = false;\n        this.selfLink.dialogObj.hide({ returnValue: true });\n        if ((0,_common_util__WEBPACK_IMPORTED_MODULE_6__.isIDevice)()) {\n            this.selection.restore();\n        }\n        else {\n            var x = window.scrollX;\n            var y = window.scrollY;\n            this.selfLink.parent.contentModule.getEditPanel().focus();\n            window.scrollTo(x, y);\n        }\n    };\n    Link.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.dialogObj) && ((\n        // eslint-disable-next-line\n        !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(target, '[id=' + \"'\" + this.dialogObj.element.id + \"'\" + ']') && this.parent.toolbarSettings.enable &&\n            this.parent.getToolbarElement() && !this.parent.getToolbarElement().contains(e.target)) ||\n            (((this.parent.getToolbarElement() && this.parent.getToolbarElement().contains(e.target)) ||\n                this.parent.inlineMode.enable && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(target, '#' + this.dialogObj.element.id)) &&\n                !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(target, '#' + this.parent.getID() + '_toolbar_CreateLink') &&\n                !target.querySelector('#' + this.parent.getID() + '_toolbar_CreateLink')))) {\n            this.parent.notify(_base_constant__WEBPACK_IMPORTED_MODULE_1__.documentClickClosedBy, { closedBy: 'outside click' });\n            this.dialogObj.hide({ returnValue: true });\n            this.parent.isBlur = true;\n            (0,_base_util__WEBPACK_IMPORTED_MODULE_5__.dispatchEvent)(this.parent.element, 'focusout');\n        }\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n     * @deprecated\n     */\n    Link.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.linkQTPopupTime)) {\n            clearTimeout(this.linkQTPopupTime);\n            this.linkQTPopupTime = null;\n        }\n        this.removeEventListener();\n        this.isDestroyed = true;\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     */\n    Link.prototype.getModuleName = function () {\n        return 'link';\n    };\n    return Link;\n}());\n\n\n\n//# sourceURL=webpack://ej2-vue-samples/./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/link-module.js?");

/***/ })

}]);