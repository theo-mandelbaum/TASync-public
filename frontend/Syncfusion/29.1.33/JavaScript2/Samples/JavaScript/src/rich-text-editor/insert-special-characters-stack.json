{"index.html":"<html><head><script src=\"https://cdn.syncfusion.com/ej2/28.1.33/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/28.1.33/{{theme}}.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n            .control-section{\n                margin-top:100px;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"control-section e-rte-custom-tbar-section\">\n    <div class=\"sample-container\">\n        <div class=\"default-section\" id=\"rteSection\">\n            <div id=\"defaultRTE\">\n                <div style=\"display:block;\"><p style=\"margin-right:10px\">The custom command \"insert special character\" is configured as the last item of the toolbar. Click on the command and choose the special character you want to include from the popup.</p></div>     \n            </div>\n            <div id=\"customTbarDialog\" style=\"display: none\">\n                <div id=\"rteSpecial_char\">\n                    <div class=\"char_block\" title=\"^\">^</div>\n                    <div class=\"char_block\" title=\"_\">_</div>\n                    <div class=\"char_block\" title=\"`\">`</div>\n                    <div class=\"char_block\" title=\"{\">{</div>\n                    <div class=\"char_block\" title=\"|\">|</div>\n                    <div class=\"char_block\" title=\"}\">}</div>\n                    <div class=\"char_block\" title=\"~\">~</div>\n                    <div class=\"char_block\" title=\"&nbsp;\">&nbsp;</div>\n                    <div class=\"char_block\" title=\"¡\">¡</div>\n                    <div class=\"char_block\" title=\"¢\">¢</div>\n                    <div class=\"char_block\" title=\"£\">£</div>\n                    <div class=\"char_block\" title=\"¤\">¤</div>\n                    <div class=\"char_block\" title=\"¥\">¥</div>\n                    <div class=\"char_block\" title=\"₹\">₹</div>\n                    <div class=\"char_block\" title=\"¦\">¦</div>\n                    <div class=\"char_block\" title=\"§\">§</div>\n                    <div class=\"char_block\" title=\"¨\">¨</div>\n                    <div class=\"char_block\" title=\"©\">©</div>\n                    <div class=\"char_block\" title=\"ª\">ª</div>\n                    <div class=\"char_block\" title=\"«\">«</div>\n                    <div class=\"char_block\" title=\"¬\">¬</div>\n                    <div class=\"char_block\" title=\"­\">-­</div>\n                    <div class=\"char_block\" title=\"®\">®</div>\n                    <div class=\"char_block\" title=\"¯\">¯</div>\n                    <div class=\"char_block\" title=\"°\">°</div>\n                    <div class=\"char_block\" title=\"±\">±</div>\n                    <div class=\"char_block\" title=\"²\">²</div>\n                    <div class=\"char_block\" title=\"³\">³</div>\n                    <div class=\"char_block\" title=\"´\">´</div>\n                    <div class=\"char_block\" title=\"µ\">µ</div>\n                    <div class=\"char_block\" title=\"¶\">¶</div>\n                    <div class=\"char_block\" title=\"·\">·</div>\n                    <div class=\"char_block\" title=\"¸\">¸</div>\n                    <div class=\"char_block\" title=\"¹\">¹</div>\n                    <div class=\"char_block\" title=\"º\">º</div>\n                    <div class=\"char_block\" title=\"»\">»</div>\n                    <div class=\"char_block\" title=\"¼\">¼</div>\n                    <div class=\"char_block\" title=\"½\">½</div>\n                    <div class=\"char_block\" title=\"¾\">¾</div>\n                    <div class=\"char_block\" title=\"¿\">¿</div>\n                    <div class=\"char_block\" title=\"À\">À</div>\n                    <div class=\"char_block\" title=\"Á\">Á</div>\n                    <div class=\"char_block\" title=\"Â\">Â</div>\n                    <div class=\"char_block\" title=\"Ã\">Ã</div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\n<style>\n    .e-rte-custom-tbar-section #special_char,\n    .e-rte-custom-tbar-section .char_block {\n        display: inline-block;\n    }\n\n    #custom_tbar,\n    #custom_tbar div{\n        cursor: pointer;\n        font-size: 16px;\n    }\n\n    .e-bigger #custom_tbar div {\n        font-size: 18px;\n    }\n\n    #rteSpecial_char {\n        padding: 15px 0 15px 0;\n    }\n\n    .material .e-rte-custom-tbar-section .char_block.e-active {\n        outline: 1px solid #e3165b;\n        border-color: #e3165b;\n    }\n\n    .material-dark .e-rte-custom-tbar-section .char_block.e-active {\n        outline: 1px solid #56a4fd;\n        border-color: #56a4fd;\n    }\n\n    .fabric .e-rte-custom-tbar-section .char_block.e-active,\n    .fabric-dark .e-rte-custom-tbar-section .char_block.e-active {\n        outline: 1px solid #0078d6;\n        border-color: #0078d6;\n    }\n\n    .bootstrap4 .e-rte-custom-tbar-section .char_block.e-active {\n        outline: 1px solid #007bff;\n        border-color: #007bff;\n    }\n\n    .bootstrap .e-rte-custom-tbar-section .char_block.e-active,\n    .bootstrap-dark .e-rte-custom-tbar-section .char_block.e-active {\n        outline: 1px solid #317ab9;\n        border-color: #317ab9;\n    }\n\n    .highcontrast .e-rte-custom-tbar-section .char_block.e-active {\n        outline: 1px solid #ffd939;\n        border-color: #ffd939;\n    }\n\n    .tailwind .e-rte-custom-tbar-section .char_block.e-active,\n    .tailwind3 .e-rte-custom-tbar-section .char_block.e-active {\n        outline: 1px solid #3730a3;\n        border-color: #3730a3;\n    }\n\n    .tailwind-dark .e-rte-custom-tbar-section .char_block.e-active,\n    .tailwind3-dark .e-rte-custom-tbar-section .char_block.e-active {\n        outline: 1px solid #22d3ee;\n        border-color: #22d3ee;\n    }\n\n    .bootstrap5 .e-rte-custom-tbar-section .char_block.e-active,\n    .bootstrap5\\.3 .e-rte-custom-tbar-section .char_block.e-active,\n    .bootstrap5\\.3-dark .e-rte-custom-tbar-section .char_block.e-active,\n    .bootstrap5-dark .e-rte-custom-tbar-section .char_block.e-active {\n        outline: 1px solid #0D6EFD;\n        border-color: #0D6EFD;\n    }\n    \n    .fluent .e-rte-custom-tbar-section .char_block.e-active,\n    .fluent-dark .e-rte-custom-tbar-section .char_block.e-active {\n        outline: 1px solid #0078DE;\n        border-color: #0078DE;\n    }\n\n    .fluent2 .e-rte-custom-tbar-section .char_block.e-active,\n    .fluent2-dark .e-rte-custom-tbar-section .char_block.e-active {\n        outline: 1px solid #0f6cbd;\n        border-color: #0f6cbd;\n    }\n    \n    .material3 .e-rte-custom-tbar-section .char_block.e-active,\n    .material3-dark .e-rte-custom-tbar-section .char_block.e-active {\n      \toutline: 1px solid #7D69B1;\n      \tborder-color: #7D69B1;\n    }\n    .fabric.e-bigger .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn .e-tbar-btn-text,\n    .highcontrast.e-bigger .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn .e-tbar-btn-text {\n        padding-right: 10px;\n    }\n\n    .bootstrap.e-bigger .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn .e-tbar-btn-text,\n    .bootstrap .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn .e-tbar-btn-text {\n        padding-right: 6px;\n    }\n\n    .fabric .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn .e-tbar-btn-text,\n    .highcontrast .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn .e-tbar-btn-text {\n        padding-right: 8px;\n    }\n\n    .e-rte-custom-tbar-section .char_block {\n        width: 30px;\n        height: 30px;\n        line-height: 30px;\n        margin: 0 5px 5px 0;\n        text-align: center;\n        vertical-align: middle;\n        border: 1px solid #DDDDDD;\n        font-size: 20px;\n        cursor: pointer;\n        user-select: none;\n    }\n\n    @media (min-width: 320px) and (max-width: 480px) {\n        .fabric.e-bigger #customTbarDialog {\n            min-width: 281px;\n        }\n\t\t\n\t\t#rteSpecial_char {\n        padding: 15px 0 15px 20px;\n\t\t}\n\n        .fabric #customTbarDialog {\n            min-width: 241px;\n        }\n\n        .bootstrap.e-bigger #customTbarDialog,\n        .bootstrap #customTbarDialog {\n            min-width: 223px;\n        }\n\n        .highcontrast.e-bigger #customTbarDialog {\n            min-width: 283px;\n        }\n        .highcontrast #customTbarDialog {\n            min-width: 243px;\n        }\n        .material #customTbarDialog {\n            min-width: 224px;\n        }\n        .material.e-bigger #customTbarDialog {\n            min-width: 236px;\n        }\n    }\n</style>\n\n\n</div></body></html>","index.js":"{{ripple}}/*jshint esversion: 6 */\n/**\n * Rich Text Editor insert special characters sample\n */\n\n    var selection = new ej.richtexteditor.NodeSelection();\n    var range;\n    var dialog;\n    var customBtn;\n    var dialogCtn;\n    var saveSelection;\n    var defaultRTE = new ej.richtexteditor.RichTextEditor({\n        toolbarSettings: {\n            items: ['Bold', 'Italic', 'Underline', '|', 'Formats', 'Alignments', 'Blockquote', 'OrderedList',\n                'UnorderedList', '|', 'CreateLink', 'Image', '|', 'SourceCode',\n                {\n                    tooltipText: 'Insert Symbol',\n                    template: '<button class=\"e-tbar-btn e-btn\" tabindex=\"-1\" id=\"custom_tbar\"  style=\"width:100%\"><div class=\"e-tbar-btn-text\" style=\"font-weight: 400;\"> &#937;</div></button>'\n                }, '|', 'Undo', 'Redo'\n            ]\n        },\n        created: onCreate,\n        actionComplete: actionCompleteHandler\n    });\n    defaultRTE.appendTo('#defaultRTE');\n\n    function onCreate() {\n        customBtn = defaultRTE.element.querySelector('#custom_tbar');\n        dialogCtn = document.getElementById('rteSpecial_char');\n        dialog = new ej.popups.Dialog({\n            header: 'Special Characters',\n            content: dialogCtn,\n            target: document.getElementById('rteSection'),\n            showCloseIcon: false,\n            isModal: true,\n            width: '43%',\n            height: 'auto',\n            visible: false,\n            overlayClick: dialogOverlay,\n            buttons: [\n                { buttonModel: { content: \"Insert\", isPrimary: true }, click: onInsert },\n                { buttonModel: { content: 'Cancel' }, click: dialogOverlay }\n            ],\n            created: onDialogCreate,\n        });\n        dialog.appendTo('#customTbarDialog');\n        dialog.hide();\n        customBtn.onclick = function (e) {\n            defaultRTE.contentModule.getEditPanel().focus();\n            dialog.element.style.display = '';\n            range = selection.getRange(document);\n            saveSelection = selection.save(range, document);\n            dialog.show();\n        };\n    }\n    function onDialogCreate() {\n        var dialogCtn = document.getElementById('rteSpecial_char');\n        dialogCtn.onclick = function (e) {\n            var target = e.target;\n            var activeEle = dialog.element.querySelector('.char_block.e-active');\n            if (target.classList.contains('char_block')) {\n                target.classList.add('e-active');\n                if (activeEle) {\n                    activeEle.classList.remove('e-active');\n                }\n            }\n        };\n    }\n    function onInsert() {\n        var activeEle = dialog.element.querySelector('.char_block.e-active');\n        if (activeEle) {\n            if (defaultRTE.formatter.getUndoRedoStack().length === 0) {\n                defaultRTE.formatter.saveData();\n            }\n            saveSelection.restore();\n            defaultRTE.executeCommand('insertText', activeEle.textContent);\n            defaultRTE.formatter.saveData();\n            defaultRTE.formatter.enableUndo(defaultRTE);\n        }\n        dialogOverlay();\n    }\n    function dialogOverlay() {\n        var activeEle = dialog.element.querySelector('.char_block.e-active');\n        if (activeEle) {\n            activeEle.classList.remove('e-active');\n        }\n        dialog.hide();\n    }\n    function actionCompleteHandler(e) {\n        if (e.requestType === 'SourceCode') {\n          defaultRTE.getToolbar().querySelector('#custom_tbar').parentElement.classList.add('e-overlay');\n        } else if (e.requestType === 'Preview') {\n          defaultRTE.getToolbar().querySelector('#custom_tbar').parentElement.classList.remove('e-overlay');\n        }\n    }\n\n    "}